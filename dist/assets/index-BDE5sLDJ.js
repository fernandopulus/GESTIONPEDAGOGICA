(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var mTe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lb={exports:{}},Sp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HB;function u9(){if(HB)return Sp;HB=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var i=null;if(a!==void 0&&(i=""+a),s.key!==void 0&&(i=""+s.key),"key"in s){a={};for(var o in s)o!=="key"&&(a[o]=s[o])}else a=s;return s=a.ref,{$$typeof:t,type:r,key:i,ref:s!==void 0?s:null,props:a}}return Sp.Fragment=e,Sp.jsx=n,Sp.jsxs=n,Sp}var VB;function d9(){return VB||(VB=1,Lb.exports=u9()),Lb.exports}var u=d9(),Mb={exports:{}},Pn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GB;function f9(){if(GB)return Pn;GB=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),i=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),A=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function p(X){return X===null||typeof X!="object"?null:(X=h&&X[h]||X["@@iterator"],typeof X=="function"?X:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function E(X,ue,j){this.props=X,this.context=ue,this.refs=b,this.updater=j||g}E.prototype.isReactComponent={},E.prototype.setState=function(X,ue){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,ue,"setState")},E.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function T(){}T.prototype=E.prototype;function I(X,ue,j){this.props=X,this.context=ue,this.refs=b,this.updater=j||g}var k=I.prototype=new T;k.constructor=I,w(k,E.prototype),k.isPureReactComponent=!0;var F=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function S(X,ue,j,W,J,ne){return j=ne.ref,{$$typeof:t,type:X,key:ue,ref:j!==void 0?j:null,props:ne}}function N(X,ue){return S(X.type,ue,void 0,void 0,void 0,X.props)}function B(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function H(X){var ue={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(j){return ue[j]})}var P=/\/+/g;function M(X,ue){return typeof X=="object"&&X!==null&&X.key!=null?H(""+X.key):ue.toString(36)}function V(){}function G(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(V,V):(X.status="pending",X.then(function(ue){X.status==="pending"&&(X.status="fulfilled",X.value=ue)},function(ue){X.status==="pending"&&(X.status="rejected",X.reason=ue)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function oe(X,ue,j,W,J){var ne=typeof X;(ne==="undefined"||ne==="boolean")&&(X=null);var ie=!1;if(X===null)ie=!0;else switch(ne){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(X.$$typeof){case t:case e:ie=!0;break;case d:return ie=X._init,oe(ie(X._payload),ue,j,W,J)}}if(ie)return J=J(X),ie=W===""?"."+M(X,0):W,F(J)?(j="",ie!=null&&(j=ie.replace(P,"$&/")+"/"),oe(J,ue,j,"",function(xe){return xe})):J!=null&&(B(J)&&(J=N(J,j+(J.key==null||X&&X.key===J.key?"":(""+J.key).replace(P,"$&/")+"/")+ie)),ue.push(J)),1;ie=0;var de=W===""?".":W+":";if(F(X))for(var me=0;me<X.length;me++)W=X[me],ne=de+M(W,me),ie+=oe(W,ue,j,ne,J);else if(me=p(X),typeof me=="function")for(X=me.call(X),me=0;!(W=X.next()).done;)W=W.value,ne=de+M(W,me++),ie+=oe(W,ue,j,ne,J);else if(ne==="object"){if(typeof X.then=="function")return oe(G(X),ue,j,W,J);throw ue=String(X),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return ie}function K(X,ue,j){if(X==null)return X;var W=[],J=0;return oe(X,W,"","",function(ne){return ue.call(j,ne,J++)}),W}function Z(X){if(X._status===-1){var ue=X._result;ue=ue(),ue.then(function(j){(X._status===0||X._status===-1)&&(X._status=1,X._result=j)},function(j){(X._status===0||X._status===-1)&&(X._status=2,X._result=j)}),X._status===-1&&(X._status=0,X._result=ue)}if(X._status===1)return X._result.default;throw X._result}var re=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function q(){}return Pn.Children={map:K,forEach:function(X,ue,j){K(X,function(){ue.apply(this,arguments)},j)},count:function(X){var ue=0;return K(X,function(){ue++}),ue},toArray:function(X){return K(X,function(ue){return ue})||[]},only:function(X){if(!B(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},Pn.Component=E,Pn.Fragment=n,Pn.Profiler=s,Pn.PureComponent=I,Pn.StrictMode=r,Pn.Suspense=l,Pn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Pn.__COMPILER_RUNTIME={__proto__:null,c:function(X){return R.H.useMemoCache(X)}},Pn.cache=function(X){return function(){return X.apply(null,arguments)}},Pn.cloneElement=function(X,ue,j){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var W=w({},X.props),J=X.key,ne=void 0;if(ue!=null)for(ie in ue.ref!==void 0&&(ne=void 0),ue.key!==void 0&&(J=""+ue.key),ue)!L.call(ue,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&ue.ref===void 0||(W[ie]=ue[ie]);var ie=arguments.length-2;if(ie===1)W.children=j;else if(1<ie){for(var de=Array(ie),me=0;me<ie;me++)de[me]=arguments[me+2];W.children=de}return S(X.type,J,void 0,void 0,ne,W)},Pn.createContext=function(X){return X={$$typeof:i,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:a,_context:X},X},Pn.createElement=function(X,ue,j){var W,J={},ne=null;if(ue!=null)for(W in ue.key!==void 0&&(ne=""+ue.key),ue)L.call(ue,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(J[W]=ue[W]);var ie=arguments.length-2;if(ie===1)J.children=j;else if(1<ie){for(var de=Array(ie),me=0;me<ie;me++)de[me]=arguments[me+2];J.children=de}if(X&&X.defaultProps)for(W in ie=X.defaultProps,ie)J[W]===void 0&&(J[W]=ie[W]);return S(X,ne,void 0,void 0,null,J)},Pn.createRef=function(){return{current:null}},Pn.forwardRef=function(X){return{$$typeof:o,render:X}},Pn.isValidElement=B,Pn.lazy=function(X){return{$$typeof:d,_payload:{_status:-1,_result:X},_init:Z}},Pn.memo=function(X,ue){return{$$typeof:A,type:X,compare:ue===void 0?null:ue}},Pn.startTransition=function(X){var ue=R.T,j={};R.T=j;try{var W=X(),J=R.S;J!==null&&J(j,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(q,re)}catch(ne){re(ne)}finally{R.T=ue}},Pn.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Pn.use=function(X){return R.H.use(X)},Pn.useActionState=function(X,ue,j){return R.H.useActionState(X,ue,j)},Pn.useCallback=function(X,ue){return R.H.useCallback(X,ue)},Pn.useContext=function(X){return R.H.useContext(X)},Pn.useDebugValue=function(){},Pn.useDeferredValue=function(X,ue){return R.H.useDeferredValue(X,ue)},Pn.useEffect=function(X,ue,j){var W=R.H;if(typeof j=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(X,ue)},Pn.useId=function(){return R.H.useId()},Pn.useImperativeHandle=function(X,ue,j){return R.H.useImperativeHandle(X,ue,j)},Pn.useInsertionEffect=function(X,ue){return R.H.useInsertionEffect(X,ue)},Pn.useLayoutEffect=function(X,ue){return R.H.useLayoutEffect(X,ue)},Pn.useMemo=function(X,ue){return R.H.useMemo(X,ue)},Pn.useOptimistic=function(X,ue){return R.H.useOptimistic(X,ue)},Pn.useReducer=function(X,ue,j){return R.H.useReducer(X,ue,j)},Pn.useRef=function(X){return R.H.useRef(X)},Pn.useState=function(X){return R.H.useState(X)},Pn.useSyncExternalStore=function(X,ue,j){return R.H.useSyncExternalStore(X,ue,j)},Pn.useTransition=function(){return R.H.useTransition()},Pn.version="19.1.1",Pn}var zB;function fx(){return zB||(zB=1,Mb.exports=f9()),Mb.exports}var ee=fx();const ut=BS(ee);var Pb={exports:{}},Tp={},jb={exports:{}},Ob={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KB;function h9(){return KB||(KB=1,function(t){function e(K,Z){var re=K.length;K.push(Z);e:for(;0<re;){var q=re-1>>>1,X=K[q];if(0<s(X,Z))K[q]=Z,K[re]=X,re=q;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var Z=K[0],re=K.pop();if(re!==Z){K[0]=re;e:for(var q=0,X=K.length,ue=X>>>1;q<ue;){var j=2*(q+1)-1,W=K[j],J=j+1,ne=K[J];if(0>s(W,re))J<X&&0>s(ne,W)?(K[q]=ne,K[J]=re,q=J):(K[q]=W,K[j]=re,q=j);else if(J<X&&0>s(ne,re))K[q]=ne,K[J]=re,q=J;else break e}}return Z}function s(K,Z){var re=K.sortIndex-Z.sortIndex;return re!==0?re:K.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var l=[],A=[],d=1,h=null,p=3,g=!1,w=!1,b=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function F(K){for(var Z=n(A);Z!==null;){if(Z.callback===null)r(A);else if(Z.startTime<=K)r(A),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(A)}}function R(K){if(b=!1,F(K),!w)if(n(l)!==null)w=!0,L||(L=!0,M());else{var Z=n(A);Z!==null&&oe(R,Z.startTime-K)}}var L=!1,S=-1,N=5,B=-1;function H(){return E?!0:!(t.unstable_now()-B<N)}function P(){if(E=!1,L){var K=t.unstable_now();B=K;var Z=!0;try{e:{w=!1,b&&(b=!1,I(S),S=-1),g=!0;var re=p;try{t:{for(F(K),h=n(l);h!==null&&!(h.expirationTime>K&&H());){var q=h.callback;if(typeof q=="function"){h.callback=null,p=h.priorityLevel;var X=q(h.expirationTime<=K);if(K=t.unstable_now(),typeof X=="function"){h.callback=X,F(K),Z=!0;break t}h===n(l)&&r(l),F(K)}else r(l);h=n(l)}if(h!==null)Z=!0;else{var ue=n(A);ue!==null&&oe(R,ue.startTime-K),Z=!1}}break e}finally{h=null,p=re,g=!1}Z=void 0}}finally{Z?M():L=!1}}}var M;if(typeof k=="function")M=function(){k(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,G=V.port2;V.port1.onmessage=P,M=function(){G.postMessage(null)}}else M=function(){T(P,0)};function oe(K,Z){S=T(function(){K(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(K){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var re=p;p=Z;try{return K()}finally{p=re}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(K,Z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var re=p;p=K;try{return Z()}finally{p=re}},t.unstable_scheduleCallback=function(K,Z,re){var q=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?q+re:q):re=q,K){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=re+X,K={id:d++,callback:Z,priorityLevel:K,startTime:re,expirationTime:X,sortIndex:-1},re>q?(K.sortIndex=re,e(A,K),n(l)===null&&K===n(A)&&(b?(I(S),S=-1):b=!0,oe(R,re-q))):(K.sortIndex=X,e(l,K),w||g||(w=!0,L||(L=!0,M()))),K},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(K){var Z=p;return function(){var re=p;p=Z;try{return K.apply(this,arguments)}finally{p=re}}}}(Ob)),Ob}var qB;function m9(){return qB||(qB=1,jb.exports=h9()),jb.exports}var Qb={exports:{}},gi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WB;function p9(){if(WB)return gi;WB=1;var t=fx();function e(l){var A="https://react.dev/errors/"+l;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)A+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(l,A,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:h==null?null:""+h,children:l,containerInfo:A,implementation:d}}var i=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,A){if(l==="font")return"";if(typeof A=="string")return A==="use-credentials"?A:""}return gi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gi.createPortal=function(l,A){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)throw Error(e(299));return a(l,A,null,d)},gi.flushSync=function(l){var A=i.T,d=r.p;try{if(i.T=null,r.p=2,l)return l()}finally{i.T=A,r.p=d,r.d.f()}},gi.preconnect=function(l,A){typeof l=="string"&&(A?(A=A.crossOrigin,A=typeof A=="string"?A==="use-credentials"?A:"":void 0):A=null,r.d.C(l,A))},gi.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},gi.preinit=function(l,A){if(typeof l=="string"&&A&&typeof A.as=="string"){var d=A.as,h=o(d,A.crossOrigin),p=typeof A.integrity=="string"?A.integrity:void 0,g=typeof A.fetchPriority=="string"?A.fetchPriority:void 0;d==="style"?r.d.S(l,typeof A.precedence=="string"?A.precedence:void 0,{crossOrigin:h,integrity:p,fetchPriority:g}):d==="script"&&r.d.X(l,{crossOrigin:h,integrity:p,fetchPriority:g,nonce:typeof A.nonce=="string"?A.nonce:void 0})}},gi.preinitModule=function(l,A){if(typeof l=="string")if(typeof A=="object"&&A!==null){if(A.as==null||A.as==="script"){var d=o(A.as,A.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0})}}else A==null&&r.d.M(l)},gi.preload=function(l,A){if(typeof l=="string"&&typeof A=="object"&&A!==null&&typeof A.as=="string"){var d=A.as,h=o(d,A.crossOrigin);r.d.L(l,d,{crossOrigin:h,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0,type:typeof A.type=="string"?A.type:void 0,fetchPriority:typeof A.fetchPriority=="string"?A.fetchPriority:void 0,referrerPolicy:typeof A.referrerPolicy=="string"?A.referrerPolicy:void 0,imageSrcSet:typeof A.imageSrcSet=="string"?A.imageSrcSet:void 0,imageSizes:typeof A.imageSizes=="string"?A.imageSizes:void 0,media:typeof A.media=="string"?A.media:void 0})}},gi.preloadModule=function(l,A){if(typeof l=="string")if(A){var d=o(A.as,A.crossOrigin);r.d.m(l,{as:typeof A.as=="string"&&A.as!=="script"?A.as:void 0,crossOrigin:d,integrity:typeof A.integrity=="string"?A.integrity:void 0})}else r.d.m(l)},gi.requestFormReset=function(l){r.d.r(l)},gi.unstable_batchedUpdates=function(l,A){return l(A)},gi.useFormState=function(l,A,d){return i.H.useFormState(l,A,d)},gi.useFormStatus=function(){return i.H.useHostTransitionStatus()},gi.version="19.1.1",gi}var $B;function wD(){if($B)return Qb.exports;$B=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qb.exports=p9(),Qb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YB;function g9(){if(YB)return Tp;YB=1;var t=m9(),e=fx(),n=wD();function r(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function a(c){var f=c,m=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(m=f.return),c=f.return;while(c)}return f.tag===3?m:null}function i(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function o(c){if(a(c)!==c)throw Error(r(188))}function l(c){var f=c.alternate;if(!f){if(f=a(c),f===null)throw Error(r(188));return f!==c?null:c}for(var m=c,y=f;;){var D=m.return;if(D===null)break;var O=D.alternate;if(O===null){if(y=D.return,y!==null){m=y;continue}break}if(D.child===O.child){for(O=D.child;O;){if(O===m)return o(D),c;if(O===y)return o(D),f;O=O.sibling}throw Error(r(188))}if(m.return!==y.return)m=D,y=O;else{for(var le=!1,we=D.child;we;){if(we===m){le=!0,m=D,y=O;break}if(we===y){le=!0,y=D,m=O;break}we=we.sibling}if(!le){for(we=O.child;we;){if(we===m){le=!0,m=O,y=D;break}if(we===y){le=!0,y=O,m=D;break}we=we.sibling}if(!le)throw Error(r(189))}}if(m.alternate!==y)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?c:f}function A(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=A(c),f!==null)return f;c=c.sibling}return null}var d=Object.assign,h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),k=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function M(c){return c===null||typeof c!="object"?null:(c=P&&c[P]||c["@@iterator"],typeof c=="function"?c:null)}var V=Symbol.for("react.client.reference");function G(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===V?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case w:return"Fragment";case E:return"Profiler";case b:return"StrictMode";case R:return"Suspense";case L:return"SuspenseList";case B:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case g:return"Portal";case k:return(c.displayName||"Context")+".Provider";case I:return(c._context.displayName||"Context")+".Consumer";case F:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case S:return f=c.displayName||null,f!==null?f:G(c.type)||"Memo";case N:f=c._payload,c=c._init;try{return G(c(f))}catch{}}return null}var oe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},q=[],X=-1;function ue(c){return{current:c}}function j(c){0>X||(c.current=q[X],q[X]=null,X--)}function W(c,f){X++,q[X]=c.current,c.current=f}var J=ue(null),ne=ue(null),ie=ue(null),de=ue(null);function me(c,f){switch(W(ie,f),W(ne,c),W(J,null),f.nodeType){case 9:case 11:c=(c=f.documentElement)&&(c=c.namespaceURI)?pB(c):0;break;default:if(c=f.tagName,f=f.namespaceURI)f=pB(f),c=gB(f,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}j(J),W(J,c)}function xe(){j(J),j(ne),j(ie)}function Se(c){c.memoizedState!==null&&W(de,c);var f=J.current,m=gB(f,c.type);f!==m&&(W(ne,c),W(J,m))}function ge(c){ne.current===c&&(j(J),j(ne)),de.current===c&&(j(de),wp._currentValue=re)}var ae=Object.prototype.hasOwnProperty,Fe=t.unstable_scheduleCallback,et=t.unstable_cancelCallback,De=t.unstable_shouldYield,Ce=t.unstable_requestPaint,Ge=t.unstable_now,nt=t.unstable_getCurrentPriorityLevel,it=t.unstable_ImmediatePriority,dt=t.unstable_UserBlockingPriority,Ct=t.unstable_NormalPriority,At=t.unstable_LowPriority,kt=t.unstable_IdlePriority,Ft=t.log,Wt=t.unstable_setDisableYieldValue,Mt=null,Vt=null;function Jt(c){if(typeof Ft=="function"&&Wt(c),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(Mt,c)}catch{}}var Pt=Math.clz32?Math.clz32:xn,It=Math.log,xt=Math.LN2;function xn(c){return c>>>=0,c===0?32:31-(It(c)/xt|0)|0}var $t=256,ir=4194304;function mn(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Fn(c,f,m){var y=c.pendingLanes;if(y===0)return 0;var D=0,O=c.suspendedLanes,le=c.pingedLanes;c=c.warmLanes;var we=y&134217727;return we!==0?(y=we&~O,y!==0?D=mn(y):(le&=we,le!==0?D=mn(le):m||(m=we&~c,m!==0&&(D=mn(m))))):(we=y&~O,we!==0?D=mn(we):le!==0?D=mn(le):m||(m=y&~c,m!==0&&(D=mn(m)))),D===0?0:f!==0&&f!==D&&(f&O)===0&&(O=D&-D,m=f&-f,O>=m||O===32&&(m&4194048)!==0)?f:D}function Er(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function Bn(c,f){switch(c){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ta(){var c=$t;return $t<<=1,($t&4194048)===0&&($t=256),c}function Xn(){var c=ir;return ir<<=1,(ir&62914560)===0&&(ir=4194304),c}function Wr(c){for(var f=[],m=0;31>m;m++)f.push(c);return f}function ls(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Dn(c,f,m,y,D,O){var le=c.pendingLanes;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=m,c.entangledLanes&=m,c.errorRecoveryDisabledLanes&=m,c.shellSuspendCounter=0;var we=c.entanglements,Re=c.expirationTimes,Ze=c.hiddenUpdates;for(m=le&~m;0<m;){var ft=31-Pt(m),wt=1<<ft;we[ft]=0,Re[ft]=-1;var rt=Ze[ft];if(rt!==null)for(Ze[ft]=null,ft=0;ft<rt.length;ft++){var st=rt[ft];st!==null&&(st.lane&=-536870913)}m&=~wt}y!==0&&tn(c,y,0),O!==0&&D===0&&c.tag!==0&&(c.suspendedLanes|=O&~(le&~f))}function tn(c,f,m){c.pendingLanes|=f,c.suspendedLanes&=~f;var y=31-Pt(f);c.entangledLanes|=f,c.entanglements[y]=c.entanglements[y]|1073741824|m&4194090}function On(c,f){var m=c.entangledLanes|=f;for(c=c.entanglements;m;){var y=31-Pt(m),D=1<<y;D&f|c[y]&f&&(c[y]|=f),m&=~D}}function na(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Or(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function hs(){var c=Z.p;return c!==0?c:(c=window.event,c===void 0?32:LB(c.type))}function ga(c,f){var m=Z.p;try{return Z.p=c,f()}finally{Z.p=m}}var Ht=Math.random().toString(36).slice(2),or="__reactFiber$"+Ht,Zn="__reactProps$"+Ht,_r="__reactContainer$"+Ht,kr="__reactEvents$"+Ht,Qr="__reactListeners$"+Ht,fe="__reactHandles$"+Ht,Ne="__reactResources$"+Ht,Ee="__reactMarker$"+Ht;function _e(c){delete c[or],delete c[Zn],delete c[kr],delete c[Qr],delete c[fe]}function Te(c){var f=c[or];if(f)return f;for(var m=c.parentNode;m;){if(f=m[_r]||m[or]){if(m=f.alternate,f.child!==null||m!==null&&m.child!==null)for(c=wB(c);c!==null;){if(m=c[or])return m;c=wB(c)}return f}c=m,m=c.parentNode}return null}function ke(c){if(c=c[or]||c[_r]){var f=c.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return c}return null}function Ke(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c.stateNode;throw Error(r(33))}function tt(c){var f=c[Ne];return f||(f=c[Ne]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Qe(c){c[Ee]=!0}var We=new Set,Je={};function yt(c,f){Nt(c,f),Nt(c+"Capture",f)}function Nt(c,f){for(Je[c]=f,c=0;c<f.length;c++)We.add(f[c])}var jt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tt={},Rt={};function An(c){return ae.call(Rt,c)?!0:ae.call(Tt,c)?!1:jt.test(c)?Rt[c]=!0:(Tt[c]=!0,!1)}function Un(c,f,m){if(An(f))if(m===null)c.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":c.removeAttribute(f);return;case"boolean":var y=f.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){c.removeAttribute(f);return}}c.setAttribute(f,""+m)}}function Ln(c,f,m){if(m===null)c.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(f);return}c.setAttribute(f,""+m)}}function Qn(c,f,m,y){if(y===null)c.removeAttribute(m);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(m);return}c.setAttributeNS(f,m,""+y)}}var Es,ii;function _s(c){if(Es===void 0)try{throw Error()}catch(m){var f=m.stack.trim().match(/\n( *(at )?)/);Es=f&&f[1]||"",ii=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Es+c+ii}var ra=!1;function Ms(c,f){if(!c||ra)return"";ra=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(f){var wt=function(){throw Error()};if(Object.defineProperty(wt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(wt,[])}catch(st){var rt=st}Reflect.construct(c,[],wt)}else{try{wt.call()}catch(st){rt=st}c.call(wt.prototype)}}else{try{throw Error()}catch(st){rt=st}(wt=c())&&typeof wt.catch=="function"&&wt.catch(function(){})}}catch(st){if(st&&rt&&typeof st.stack=="string")return[st.stack,rt.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=y.DetermineComponentFrameRoot(),le=O[0],we=O[1];if(le&&we){var Re=le.split(`
`),Ze=we.split(`
`);for(D=y=0;y<Re.length&&!Re[y].includes("DetermineComponentFrameRoot");)y++;for(;D<Ze.length&&!Ze[D].includes("DetermineComponentFrameRoot");)D++;if(y===Re.length||D===Ze.length)for(y=Re.length-1,D=Ze.length-1;1<=y&&0<=D&&Re[y]!==Ze[D];)D--;for(;1<=y&&0<=D;y--,D--)if(Re[y]!==Ze[D]){if(y!==1||D!==1)do if(y--,D--,0>D||Re[y]!==Ze[D]){var ft=`
`+Re[y].replace(" at new "," at ");return c.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",c.displayName)),ft}while(1<=y&&0<=D);break}}}finally{ra=!1,Error.prepareStackTrace=m}return(m=c?c.displayName||c.name:"")?_s(m):""}function xa(c){switch(c.tag){case 26:case 27:case 5:return _s(c.type);case 16:return _s("Lazy");case 13:return _s("Suspense");case 19:return _s("SuspenseList");case 0:case 15:return Ms(c.type,!1);case 11:return Ms(c.type.render,!1);case 1:return Ms(c.type,!0);case 31:return _s("Activity");default:return""}}function Hr(c){try{var f="";do f+=xa(c),c=c.return;while(c);return f}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function sa(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Sc(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function ku(c){var f=Sc(c)?"checked":"value",m=Object.getOwnPropertyDescriptor(c.constructor.prototype,f),y=""+c[f];if(!c.hasOwnProperty(f)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var D=m.get,O=m.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return D.call(this)},set:function(le){y=""+le,O.call(this,le)}}),Object.defineProperty(c,f,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(le){y=""+le},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function Wo(c){c._valueTracker||(c._valueTracker=ku(c))}function TA(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var m=f.getValue(),y="";return c&&(y=Sc(c)?c.checked?"true":"false":c.value),c=y,c!==m?(f.setValue(c),!0):!1}function va(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var Tc=/[\n"\\]/g;function lr(c){return c.replace(Tc,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function ya(c,f,m,y,D,O,le,we){c.name="",le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?c.type=le:c.removeAttribute("type"),f!=null?le==="number"?(f===0&&c.value===""||c.value!=f)&&(c.value=""+sa(f)):c.value!==""+sa(f)&&(c.value=""+sa(f)):le!=="submit"&&le!=="reset"||c.removeAttribute("value"),f!=null?Yo(c,le,sa(f)):m!=null?Yo(c,le,sa(m)):y!=null&&c.removeAttribute("value"),D==null&&O!=null&&(c.defaultChecked=!!O),D!=null&&(c.checked=D&&typeof D!="function"&&typeof D!="symbol"),we!=null&&typeof we!="function"&&typeof we!="symbol"&&typeof we!="boolean"?c.name=""+sa(we):c.removeAttribute("name")}function $o(c,f,m,y,D,O,le,we){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(c.type=O),f!=null||m!=null){if(!(O!=="submit"&&O!=="reset"||f!=null))return;m=m!=null?""+sa(m):"",f=f!=null?""+sa(f):m,we||f===c.value||(c.value=f),c.defaultValue=f}y=y??D,y=typeof y!="function"&&typeof y!="symbol"&&!!y,c.checked=we?c.checked:!!y,c.defaultChecked=!!y,le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"&&(c.name=le)}function Yo(c,f,m){f==="number"&&va(c.ownerDocument)===c||c.defaultValue===""+m||(c.defaultValue=""+m)}function Wi(c,f,m,y){if(c=c.options,f){f={};for(var D=0;D<m.length;D++)f["$"+m[D]]=!0;for(m=0;m<c.length;m++)D=f.hasOwnProperty("$"+c[m].value),c[m].selected!==D&&(c[m].selected=D),D&&y&&(c[m].defaultSelected=!0)}else{for(m=""+sa(m),f=null,D=0;D<c.length;D++){if(c[D].value===m){c[D].selected=!0,y&&(c[D].defaultSelected=!0);return}f!==null||c[D].disabled||(f=c[D])}f!==null&&(f.selected=!0)}}function gr(c,f,m){if(f!=null&&(f=""+sa(f),f!==c.value&&(c.value=f),m==null)){c.defaultValue!==f&&(c.defaultValue=f);return}c.defaultValue=m!=null?""+sa(m):""}function Jo(c,f,m,y){if(f==null){if(y!=null){if(m!=null)throw Error(r(92));if(oe(y)){if(1<y.length)throw Error(r(93));y=y[0]}m=y}m==null&&(m=""),f=m}m=sa(f),c.defaultValue=m,y=c.textContent,y===m&&y!==""&&y!==null&&(c.value=y)}function oi(c,f){if(f){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=f;return}}c.textContent=f}var yo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Iu(c,f,m){var y=f.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?y?c.setProperty(f,""):f==="float"?c.cssFloat="":c[f]="":y?c.setProperty(f,m):typeof m!="number"||m===0||yo.has(f)?f==="float"?c.cssFloat=m:c[f]=(""+m).trim():c[f]=m+"px"}function BA(c,f,m){if(f!=null&&typeof f!="object")throw Error(r(62));if(c=c.style,m!=null){for(var y in m)!m.hasOwnProperty(y)||f!=null&&f.hasOwnProperty(y)||(y.indexOf("--")===0?c.setProperty(y,""):y==="float"?c.cssFloat="":c[y]="");for(var D in f)y=f[D],f.hasOwnProperty(D)&&m[D]!==y&&Iu(c,D,y)}else for(var O in f)f.hasOwnProperty(O)&&Iu(c,O,f[O])}function NA(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bo(c){return Bc.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var $i=null;function Ir(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Co=null,Yi=null;function dn(c){var f=ke(c);if(f&&(c=f.stateNode)){var m=c[Zn]||null;e:switch(c=f.stateNode,f.type){case"input":if(ya(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),f=m.name,m.type==="radio"&&f!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+lr(""+f)+'"][type="radio"]'),f=0;f<m.length;f++){var y=m[f];if(y!==c&&y.form===c.form){var D=y[Zn]||null;if(!D)throw Error(r(90));ya(y,D.value,D.defaultValue,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name)}}for(f=0;f<m.length;f++)y=m[f],y.form===c.form&&TA(y)}break e;case"textarea":gr(c,m.value,m.defaultValue);break e;case"select":f=m.value,f!=null&&Wi(c,!!m.multiple,f,!1)}}}var Ji=!1;function Fu(c,f,m){if(Ji)return c(f,m);Ji=!0;try{var y=c(f);return y}finally{if(Ji=!1,(Co!==null||Yi!==null)&&(m1(),Co&&(f=Co,c=Yi,Yi=Co=null,dn(f),c)))for(f=0;f<c.length;f++)dn(c[f])}}function Na(c,f){var m=c.stateNode;if(m===null)return null;var y=m[Zn]||null;if(y===null)return null;m=y[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(c=c.type,y=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!y;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(r(231,f,typeof m));return m}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),za=!1;if(li)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){za=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{za=!1}var ci=null,Xo=null,Eo=null;function kA(){if(Eo)return Eo;var c,f=Xo,m=f.length,y,D="value"in ci?ci.value:ci.textContent,O=D.length;for(c=0;c<m&&f[c]===D[c];c++);var le=m-c;for(y=1;y<=le&&f[m-y]===D[O-y];y++);return Eo=D.slice(c,1<y?1-y:void 0)}function Ai(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function ka(){return!0}function Zi(){return!1}function Ss(c){function f(m,y,D,O,le){this._reactName=m,this._targetInst=D,this.type=y,this.nativeEvent=O,this.target=le,this.currentTarget=null;for(var we in c)c.hasOwnProperty(we)&&(m=c[we],this[we]=m?m(O):O[we]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?ka:Zi,this.isPropagationStopped=Zi,this}return d(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),f}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zo=Ss(qn),eo=d({},qn,{view:0,detail:0}),IA=Ss(eo),Ll,Ml,ji,Ia=d({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rl,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==ji&&(ji&&c.type==="mousemove"?(Ll=c.screenX-ji.screenX,Ml=c.screenY-ji.screenY):Ml=Ll=0,ji=c),Ll)},movementY:function(c){return"movementY"in c?c.movementY:Ml}}),Ts=Ss(Ia),Ru=d({},Ia,{dataTransfer:0}),el=Ss(Ru),wa=d({},eo,{relatedTarget:0}),tl=Ss(wa),_o=d({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Nc=Ss(_o),Pl=d({},qn,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),kc=Ss(Pl),FA=d({},qn,{data:0}),jl=Ss(FA),nl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ol={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ql(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=Ic[c])?!!f[c]:!1}function rl(){return Ql}var Du=d({},eo,{key:function(c){if(c.key){var f=nl[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=Ai(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Ol[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rl,charCode:function(c){return c.type==="keypress"?Ai(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Ai(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),So=Ss(Du),sl=d({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hl=Ss(sl),Fa=d({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rl}),Fc=Ss(Fa),Q=d({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ae=Ss(Q),Ie=d({},Ia,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Ue=Ss(Ie),He=d({},qn,{newState:0,oldState:0}),ot=Ss(He),_t=[9,13,27,32],Ot=li&&"CompositionEvent"in window,_=null;li&&"documentMode"in document&&(_=document.documentMode);var Y=li&&"TextEvent"in window&&!_,se=li&&(!Ot||_&&8<_&&11>=_),ye=" ",Oe=!1;function Xe(c,f){switch(c){case"keyup":return _t.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function St(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var fn=!1;function Wn(c,f){switch(c){case"compositionend":return St(f);case"keypress":return f.which!==32?null:(Oe=!0,ye);case"textInput":return c=f.data,c===ye&&Oe?null:c;default:return null}}function Sn(c,f){if(fn)return c==="compositionend"||!Ot&&Xe(c,f)?(c=kA(),Eo=Xo=ci=null,fn=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return se&&f.locale!=="ko"?null:f.data;default:return null}}var xr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sr(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!xr[c.type]:f==="textarea"}function to(c,f,m,y){Co?Yi?Yi.push(y):Yi=[y]:Co=y,f=w1(f,"onChange"),0<f.length&&(m=new Zo("onChange","change",null,m,y),c.push({event:m,listeners:f}))}var ms=null,ui=null;function al(c){uB(c,0)}function Rc(c){var f=Ke(c);if(TA(f))return c}function Uu(c,f){if(c==="change")return f}var RA=!1;if(li){var Ps;if(li){var Dc="oninput"in document;if(!Dc){var DA=document.createElement("div");DA.setAttribute("oninput","return;"),Dc=typeof DA.oninput=="function"}Ps=Dc}else Ps=!1;RA=Ps&&(!document.documentMode||9<document.documentMode)}function UA(){ms&&(ms.detachEvent("onpropertychange",Lu),ui=ms=null)}function Lu(c){if(c.propertyName==="value"&&Rc(ui)){var f=[];to(f,ui,c,Ir(c)),Fu(al,f)}}function di(c,f,m){c==="focusin"?(UA(),ms=f,ui=m,ms.attachEvent("onpropertychange",Lu)):c==="focusout"&&UA()}function Hm(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Rc(ui)}function Af(c,f){if(c==="click")return Rc(f)}function Ih(c,f){if(c==="input"||c==="change")return Rc(f)}function no(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var aa=typeof Object.is=="function"?Object.is:no;function Uc(c,f){if(aa(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var m=Object.keys(c),y=Object.keys(f);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var D=m[y];if(!ae.call(f,D)||!aa(c[D],f[D]))return!1}return!0}function uf(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Vl(c,f){var m=uf(c);c=0;for(var y;m;){if(m.nodeType===3){if(y=c+m.textContent.length,c<=f&&y>=f)return{node:m,offset:f-c};c=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=uf(m)}}function Lc(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?Lc(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function Ka(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var f=va(c.document);f instanceof c.HTMLIFrameElement;){try{var m=typeof f.contentWindow.location.href=="string"}catch{m=!1}if(m)c=f.contentWindow;else break;f=va(c.document)}return f}function ba(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}var Mc=li&&"documentMode"in document&&11>=document.documentMode,fi=null,To=null,il=null,Bo=!1;function cs(c,f,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Bo||fi==null||fi!==va(y)||(y=fi,"selectionStart"in y&&ba(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),il&&Uc(il,y)||(il=y,y=w1(To,"onSelect"),0<y.length&&(f=new Zo("onSelect","select",null,f,m),c.push({event:f,listeners:y}),f.target=fi)))}function No(c,f){var m={};return m[c.toLowerCase()]=f.toLowerCase(),m["Webkit"+c]="webkit"+f,m["Moz"+c]="moz"+f,m}var Bs={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionrun:No("Transition","TransitionRun"),transitionstart:No("Transition","TransitionStart"),transitioncancel:No("Transition","TransitionCancel"),transitionend:No("Transition","TransitionEnd")},hi={},LA={};li&&(LA=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function ol(c){if(hi[c])return hi[c];if(!Bs[c])return c;var f=Bs[c],m;for(m in f)if(f.hasOwnProperty(m)&&m in LA)return hi[c]=f[m];return c}var Mu=ol("animationend"),Pc=ol("animationiteration"),jc=ol("animationstart"),Oc=ol("transitionrun"),MA=ol("transitionstart"),Pu=ol("transitioncancel"),Qc=ol("transitionend"),Gl=new Map,PA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");PA.push("scrollEnd");function As(c,f){Gl.set(c,f),yt(f,[c])}var Oi=new WeakMap;function Vn(c,f){if(typeof c=="object"&&c!==null){var m=Oi.get(c);return m!==void 0?m:(f={value:c,source:f,stack:Hr(f)},Oi.set(c,f),f)}return{value:c,source:f,stack:Hr(f)}}var Gn=[],Vr=0,ps=0;function ro(){for(var c=Vr,f=ps=Vr=0;f<c;){var m=Gn[f];Gn[f++]=null;var y=Gn[f];Gn[f++]=null;var D=Gn[f];Gn[f++]=null;var O=Gn[f];if(Gn[f++]=null,y!==null&&D!==null){var le=y.pending;le===null?D.next=D:(D.next=le.next,le.next=D),y.pending=D}O!==0&&Fh(m,D,O)}}function Hc(c,f,m,y){Gn[Vr++]=c,Gn[Vr++]=f,Gn[Vr++]=m,Gn[Vr++]=y,ps|=y,c.lanes|=y,c=c.alternate,c!==null&&(c.lanes|=y)}function Vc(c,f,m,y){return Hc(c,f,m,y),jA(c)}function zl(c,f){return Hc(c,null,null,f),jA(c)}function Fh(c,f,m){c.lanes|=m;var y=c.alternate;y!==null&&(y.lanes|=m);for(var D=!1,O=c.return;O!==null;)O.childLanes|=m,y=O.alternate,y!==null&&(y.childLanes|=m),O.tag===22&&(c=O.stateNode,c===null||c._visibility&1||(D=!0)),c=O,O=O.return;return c.tag===3?(O=c.stateNode,D&&f!==null&&(D=31-Pt(m),c=O.hiddenUpdates,y=c[D],y===null?c[D]=[f]:y.push(f),f.lane=m|536870912),O):null}function jA(c){if(50<fp)throw fp=0,ib=null,Error(r(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}var ia={};function so(c,f,m,y){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ra(c,f,m,y){return new so(c,f,m,y)}function ju(c){return c=c.prototype,!(!c||!c.isReactComponent)}function ll(c,f){var m=c.alternate;return m===null?(m=Ra(c.tag,f,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=f,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&65011712,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,f=c.dependencies,m.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m.refCleanup=c.refCleanup,m}function df(c,f){c.flags&=65011714;var m=c.alternate;return m===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,f=m.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function OA(c,f,m,y,D,O){var le=0;if(y=c,typeof c=="function")ju(c)&&(le=1);else if(typeof c=="string")le=XQ(c,m,J.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case B:return c=Ra(31,m,f,D),c.elementType=B,c.lanes=O,c;case w:return Kl(m.children,D,O,f);case b:le=8,D|=24;break;case E:return c=Ra(12,m,f,D|2),c.elementType=E,c.lanes=O,c;case R:return c=Ra(13,m,f,D),c.elementType=R,c.lanes=O,c;case L:return c=Ra(19,m,f,D),c.elementType=L,c.lanes=O,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case T:case k:le=10;break e;case I:le=9;break e;case F:le=11;break e;case S:le=14;break e;case N:le=16,y=null;break e}le=29,m=Error(r(130,c===null?"null":typeof c,"")),y=null}return f=Ra(le,m,f,D),f.elementType=c,f.type=y,f.lanes=O,f}function Kl(c,f,m,y){return c=Ra(7,c,y,f),c.lanes=m,c}function Rh(c,f,m){return c=Ra(6,c,null,f),c.lanes=m,c}function ff(c,f,m){return f=Ra(4,c.children!==null?c.children:[],c.key,f),f.lanes=m,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}var Gc=[],ql=0,Ou=null,Dh=0,ao=[],Qi=0,QA=null,Wl=1,$l="";function HA(c,f){Gc[ql++]=Dh,Gc[ql++]=Ou,Ou=c,Dh=f}function jx(c,f,m){ao[Qi++]=Wl,ao[Qi++]=$l,ao[Qi++]=QA,QA=c;var y=Wl;c=$l;var D=32-Pt(y)-1;y&=~(1<<D),m+=1;var O=32-Pt(f)+D;if(30<O){var le=D-D%5;O=(y&(1<<le)-1).toString(32),y>>=le,D-=le,Wl=1<<32-Pt(f)+D|m<<D|y,$l=O+c}else Wl=1<<O|m<<D|y,$l=c}function hf(c){c.return!==null&&(HA(c,1),jx(c,1,0))}function mf(c){for(;c===Ou;)Ou=Gc[--ql],Gc[ql]=null,Dh=Gc[--ql],Gc[ql]=null;for(;c===QA;)QA=ao[--Qi],ao[Qi]=null,$l=ao[--Qi],ao[Qi]=null,Wl=ao[--Qi],ao[Qi]=null}var js=null,us=null,hr=!1,zc=null,cl=!1,Vm=Error(r(519));function VA(c){var f=Error(r(418,""));throw Qu(Vn(f,c)),Vm}function Ox(c){var f=c.stateNode,m=c.type,y=c.memoizedProps;switch(f[or]=c,f[Zn]=y,m){case"dialog":tr("cancel",f),tr("close",f);break;case"iframe":case"object":case"embed":tr("load",f);break;case"video":case"audio":for(m=0;m<mp.length;m++)tr(mp[m],f);break;case"source":tr("error",f);break;case"img":case"image":case"link":tr("error",f),tr("load",f);break;case"details":tr("toggle",f);break;case"input":tr("invalid",f),$o(f,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),Wo(f);break;case"select":tr("invalid",f);break;case"textarea":tr("invalid",f),Jo(f,y.value,y.defaultValue,y.children),Wo(f)}m=y.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||f.textContent===""+m||y.suppressHydrationWarning===!0||mB(f.textContent,m)?(y.popover!=null&&(tr("beforetoggle",f),tr("toggle",f)),y.onScroll!=null&&tr("scroll",f),y.onScrollEnd!=null&&tr("scrollend",f),y.onClick!=null&&(f.onclick=b1),f=!0):f=!1,f||VA(c)}function Yl(c){for(js=c.return;js;)switch(js.tag){case 5:case 13:cl=!1;return;case 27:case 3:cl=!0;return;default:js=js.return}}function qa(c){if(c!==js)return!1;if(!hr)return Yl(c),hr=!0,!1;var f=c.tag,m;if((m=f!==3&&f!==27)&&((m=f===5)&&(m=c.type,m=!(m!=="form"&&m!=="button")||bb(c.type,c.memoizedProps)),m=!m),m&&us&&VA(c),Yl(c),f===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,f=0;c;){if(c.nodeType===8)if(m=c.data,m==="/$"){if(f===0){us=sc(c.nextSibling);break e}f--}else m!=="$"&&m!=="$!"&&m!=="$?"||f++;c=c.nextSibling}us=null}}else f===27?(f=us,sd(c.type)?(c=Sb,Sb=null,us=c):us=f):us=js?sc(c.stateNode.nextSibling):null;return!0}function Hi(){us=js=null,hr=!1}function Qx(){var c=zc;return c!==null&&(lo===null?lo=c:lo.push.apply(lo,c),zc=null),c}function Qu(c){zc===null?zc=[c]:zc.push(c)}var Al=ue(null),oa=null,Jl=null;function Kc(c,f,m){W(Al,f._currentValue),f._currentValue=m}function ul(c){c._currentValue=Al.current,j(Al)}function Uh(c,f,m){for(;c!==null;){var y=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,y!==null&&(y.childLanes|=f)):y!==null&&(y.childLanes&f)!==f&&(y.childLanes|=f),c===m)break;c=c.return}}function Lh(c,f,m,y){var D=c.child;for(D!==null&&(D.return=c);D!==null;){var O=D.dependencies;if(O!==null){var le=D.child;O=O.firstContext;e:for(;O!==null;){var we=O;O=D;for(var Re=0;Re<f.length;Re++)if(we.context===f[Re]){O.lanes|=m,we=O.alternate,we!==null&&(we.lanes|=m),Uh(O.return,m,c),y||(le=null);break e}O=we.next}}else if(D.tag===18){if(le=D.return,le===null)throw Error(r(341));le.lanes|=m,O=le.alternate,O!==null&&(O.lanes|=m),Uh(le,m,c),le=null}else le=D.child;if(le!==null)le.return=D;else for(le=D;le!==null;){if(le===c){le=null;break}if(D=le.sibling,D!==null){D.return=le.return,le=D;break}le=le.return}D=le}}function Hu(c,f,m,y){c=null;for(var D=f,O=!1;D!==null;){if(!O){if((D.flags&524288)!==0)O=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var le=D.alternate;if(le===null)throw Error(r(387));if(le=le.memoizedProps,le!==null){var we=D.type;aa(D.pendingProps.value,le.value)||(c!==null?c.push(we):c=[we])}}else if(D===de.current){if(le=D.alternate,le===null)throw Error(r(387));le.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(c!==null?c.push(wp):c=[wp])}D=D.return}c!==null&&Lh(f,c,m,y),f.flags|=262144}function Mh(c){for(c=c.firstContext;c!==null;){if(!aa(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function dl(c){oa=c,Jl=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Os(c){return Ph(oa,c)}function qc(c,f){return oa===null&&dl(c),Ph(c,f)}function Ph(c,f){var m=f._currentValue;if(f={context:f,memoizedValue:m,next:null},Jl===null){if(c===null)throw Error(r(308));Jl=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else Jl=Jl.next=f;return m}var Iw=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(m,y){c.push(y)}};this.abort=function(){f.aborted=!0,c.forEach(function(m){return m()})}},Hx=t.unstable_scheduleCallback,Fw=t.unstable_NormalPriority,Qs={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gm(){return{controller:new Iw,data:new Map,refCount:0}}function pf(c){c.refCount--,c.refCount===0&&Hx(Fw,function(){c.controller.abort()})}var gf=null,zm=0,GA=0,Xl=null;function Rw(c,f){if(gf===null){var m=gf=[];zm=0,GA=fb(),Xl={status:"pending",value:void 0,then:function(y){m.push(y)}}}return zm++,f.then(Vx,Vx),f}function Vx(){if(--zm===0&&gf!==null){Xl!==null&&(Xl.status="fulfilled");var c=gf;gf=null,GA=0,Xl=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function Gx(c,f){var m=[],y={status:"pending",value:null,reason:null,then:function(D){m.push(D)}};return c.then(function(){y.status="fulfilled",y.value=f;for(var D=0;D<m.length;D++)(0,m[D])(f)},function(D){for(y.status="rejected",y.reason=D,D=0;D<m.length;D++)(0,m[D])(void 0)}),y}var C=K.S;K.S=function(c,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&Rw(c,f),C!==null&&C(c,f)};var U=ue(null);function z(){var c=U.current;return c!==null?c:Xr.pooledCache}function te(c,f){f===null?W(U,U.current):W(U,f.pool)}function ce(){var c=z();return c===null?null:{parent:Qs._currentValue,pool:c}}var he=Error(r(460)),pe=Error(r(474)),ve=Error(r(542)),be={then:function(){}};function Be(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Le(){}function Ye(c,f,m){switch(m=c[m],m===void 0?c.push(f):m!==f&&(f.then(Le,Le),f=m),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,gt(c),c;default:if(typeof f.status=="string")f.then(Le,Le);else{if(c=Xr,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=f,c.status="pending",c.then(function(y){if(f.status==="pending"){var D=f;D.status="fulfilled",D.value=y}},function(y){if(f.status==="pending"){var D=f;D.status="rejected",D.reason=y}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,gt(c),c}throw qe=f,he}}var qe=null;function Ve(){if(qe===null)throw Error(r(459));var c=qe;return qe=null,c}function gt(c){if(c===he||c===ve)throw Error(r(483))}var at=!1;function Me(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function je(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function ct(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function vt(c,f,m){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(Rr&2)!==0){var D=y.pending;return D===null?f.next=f:(f.next=D.next,D.next=f),y.pending=f,f=jA(c),Fh(c,null,m),f}return Hc(c,y,f,m),jA(c)}function ht(c,f,m){if(f=f.updateQueue,f!==null&&(f=f.shared,(m&4194048)!==0)){var y=f.lanes;y&=c.pendingLanes,m|=y,f.lanes=m,On(c,m)}}function Gt(c,f){var m=c.updateQueue,y=c.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var D=null,O=null;if(m=m.firstBaseUpdate,m!==null){do{var le={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};O===null?D=O=le:O=O.next=le,m=m.next}while(m!==null);O===null?D=O=f:O=O.next=f}else D=O=f;m={baseState:y.baseState,firstBaseUpdate:D,lastBaseUpdate:O,shared:y.shared,callbacks:y.callbacks},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=f:c.next=f,m.lastBaseUpdate=f}var Lt=!1;function nn(){if(Lt){var c=Xl;if(c!==null)throw c}}function Qt(c,f,m,y){Lt=!1;var D=c.updateQueue;at=!1;var O=D.firstBaseUpdate,le=D.lastBaseUpdate,we=D.shared.pending;if(we!==null){D.shared.pending=null;var Re=we,Ze=Re.next;Re.next=null,le===null?O=Ze:le.next=Ze,le=Re;var ft=c.alternate;ft!==null&&(ft=ft.updateQueue,we=ft.lastBaseUpdate,we!==le&&(we===null?ft.firstBaseUpdate=Ze:we.next=Ze,ft.lastBaseUpdate=Re))}if(O!==null){var wt=D.baseState;le=0,ft=Ze=Re=null,we=O;do{var rt=we.lane&-536870913,st=rt!==we.lane;if(st?(dr&rt)===rt:(y&rt)===rt){rt!==0&&rt===GA&&(Lt=!0),ft!==null&&(ft=ft.next={lane:0,tag:we.tag,payload:we.payload,callback:null,next:null});e:{var En=c,hn=we;rt=f;var zr=m;switch(hn.tag){case 1:if(En=hn.payload,typeof En=="function"){wt=En.call(zr,wt,rt);break e}wt=En;break e;case 3:En.flags=En.flags&-65537|128;case 0:if(En=hn.payload,rt=typeof En=="function"?En.call(zr,wt,rt):En,rt==null)break e;wt=d({},wt,rt);break e;case 2:at=!0}}rt=we.callback,rt!==null&&(c.flags|=64,st&&(c.flags|=8192),st=D.callbacks,st===null?D.callbacks=[rt]:st.push(rt))}else st={lane:rt,tag:we.tag,payload:we.payload,callback:we.callback,next:null},ft===null?(Ze=ft=st,Re=wt):ft=ft.next=st,le|=rt;if(we=we.next,we===null){if(we=D.shared.pending,we===null)break;st=we,we=st.next,st.next=null,D.lastBaseUpdate=st,D.shared.pending=null}}while(!0);ft===null&&(Re=wt),D.baseState=Re,D.firstBaseUpdate=Ze,D.lastBaseUpdate=ft,O===null&&(D.shared.lanes=0),ed|=le,c.lanes=le,c.memoizedState=wt}}function Ar(c,f){if(typeof c!="function")throw Error(r(191,c));c.call(f)}function vr(c,f){var m=c.callbacks;if(m!==null)for(c.callbacks=null,c=0;c<m.length;c++)Ar(m[c],f)}var Hn=ue(null),Mn=ue(0);function Tr(c,f){c=eu,W(Mn,c),W(Hn,f),eu=c|f.baseLanes}function yr(){W(Mn,eu),W(Hn,Hn.current)}function Tn(){eu=Mn.current,j(Hn),j(Mn)}var Fr=0,un=null,vn=null,cr=null,ur=!1,la=!1,Hs=!1,gs=0,xs=0,Ns=null,io=0;function wr(){throw Error(r(321))}function ks(c,f){if(f===null)return!1;for(var m=0;m<f.length&&m<c.length;m++)if(!aa(c[m],f[m]))return!1;return!0}function ko(c,f,m,y,D,O){return Fr=O,un=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,K.H=c===null||c.memoizedState===null?$4:Y4,Hs=!1,O=m(y,D),Hs=!1,la&&(O=zA(f,m,y,D)),Wc(c),O}function Wc(c){K.H=n1;var f=vn!==null&&vn.next!==null;if(Fr=0,cr=vn=un=null,ur=!1,xs=0,Ns=null,f)throw Error(r(300));c===null||Da||(c=c.dependencies,c!==null&&Mh(c)&&(Da=!0))}function zA(c,f,m,y){un=c;var D=0;do{if(la&&(Ns=null),xs=0,la=!1,25<=D)throw Error(r(301));if(D+=1,cr=vn=null,c.updateQueue!=null){var O=c.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}K.H=cQ,O=f(m,y)}while(la);return O}function $c(){var c=K.H,f=c.useState()[0];return f=typeof f.then=="function"?Yc(f):f,c=c.useState()[0],(vn!==null?vn.memoizedState:null)!==c&&(un.flags|=1024),f}function Jr(){var c=gs!==0;return gs=0,c}function xf(c,f,m){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~m}function jh(c){if(ur){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}ur=!1}Fr=0,cr=vn=un=null,la=!1,xs=gs=0,Ns=null}function Wa(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?un.memoizedState=cr=c:cr=cr.next=c,cr}function ts(){if(vn===null){var c=un.alternate;c=c!==null?c.memoizedState:null}else c=vn.next;var f=cr===null?un.memoizedState:cr.next;if(f!==null)cr=f,vn=c;else{if(c===null)throw un.alternate===null?Error(r(467)):Error(r(310));vn=c,c={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},cr===null?un.memoizedState=cr=c:cr=cr.next=c}return cr}function KA(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yc(c){var f=xs;return xs+=1,Ns===null&&(Ns=[]),c=Ye(Ns,c,f),f=un,(cr===null?f.memoizedState:cr.next)===null&&(f=f.alternate,K.H=f===null||f.memoizedState===null?$4:Y4),c}function mi(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Yc(c);if(c.$$typeof===k)return Os(c)}throw Error(r(438,String(c)))}function Jc(c){var f=null,m=un.updateQueue;if(m!==null&&(f=m.memoCache),f==null){var y=un.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(f={data:y.data.map(function(D){return D.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),m===null&&(m=KA(),un.updateQueue=m),m.memoCache=f,m=f.data[f.index],m===void 0)for(m=f.data[f.index]=Array(c),y=0;y<c;y++)m[y]=H;return f.index++,m}function pi(c,f){return typeof f=="function"?f(c):f}function vf(c){var f=ts();return Vu(f,vn,c)}function Vu(c,f,m){var y=c.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=m;var D=c.baseQueue,O=y.pending;if(O!==null){if(D!==null){var le=D.next;D.next=O.next,O.next=le}f.baseQueue=D=O,y.pending=null}if(O=c.baseState,D===null)c.memoizedState=O;else{f=D.next;var we=le=null,Re=null,Ze=f,ft=!1;do{var wt=Ze.lane&-536870913;if(wt!==Ze.lane?(dr&wt)===wt:(Fr&wt)===wt){var rt=Ze.revertLane;if(rt===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null}),wt===GA&&(ft=!0);else if((Fr&rt)===rt){Ze=Ze.next,rt===GA&&(ft=!0);continue}else wt={lane:0,revertLane:Ze.revertLane,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},Re===null?(we=Re=wt,le=O):Re=Re.next=wt,un.lanes|=rt,ed|=rt;wt=Ze.action,Hs&&m(O,wt),O=Ze.hasEagerState?Ze.eagerState:m(O,wt)}else rt={lane:wt,revertLane:Ze.revertLane,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},Re===null?(we=Re=rt,le=O):Re=Re.next=rt,un.lanes|=wt,ed|=wt;Ze=Ze.next}while(Ze!==null&&Ze!==f);if(Re===null?le=O:Re.next=we,!aa(O,c.memoizedState)&&(Da=!0,ft&&(m=Xl,m!==null)))throw m;c.memoizedState=O,c.baseState=le,c.baseQueue=Re,y.lastRenderedState=O}return D===null&&(y.lanes=0),[c.memoizedState,y.dispatch]}function Oh(c){var f=ts(),m=f.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var y=m.dispatch,D=m.pending,O=f.memoizedState;if(D!==null){m.pending=null;var le=D=D.next;do O=c(O,le.action),le=le.next;while(le!==D);aa(O,f.memoizedState)||(Da=!0),f.memoizedState=O,f.baseQueue===null&&(f.baseState=O),m.lastRenderedState=O}return[O,y]}function yf(c,f,m){var y=un,D=ts(),O=hr;if(O){if(m===void 0)throw Error(r(407));m=m()}else m=f();var le=!aa((vn||D).memoizedState,m);le&&(D.memoizedState=m,Da=!0),D=D.queue;var we=Gu.bind(null,y,D,c);if(qu(2048,8,we,[c]),D.getSnapshot!==f||le||cr!==null&&cr.memoizedState.tag&1){if(y.flags|=2048,ec(9,Ef(),wf.bind(null,y,D,m,f),null),Xr===null)throw Error(r(349));O||(Fr&124)!==0||Qh(y,f,m)}return m}function Qh(c,f,m){c.flags|=16384,c={getSnapshot:f,value:m},f=un.updateQueue,f===null?(f=KA(),un.updateQueue=f,f.stores=[c]):(m=f.stores,m===null?f.stores=[c]:m.push(c))}function wf(c,f,m,y){f.value=m,f.getSnapshot=y,zx(f)&&Kx(c)}function Gu(c,f,m){return m(function(){zx(f)&&Kx(c)})}function zx(c){var f=c.getSnapshot;c=c.value;try{var m=f();return!aa(c,m)}catch{return!0}}function Kx(c){var f=zl(c,2);f!==null&&Lo(f,c,2)}function bf(c){var f=Wa();if(typeof c=="function"){var m=c;if(c=m(),Hs){Jt(!0);try{m()}finally{Jt(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:c},f}function Zl(c,f,m,y){return c.baseState=m,Vu(c,vn,typeof y=="function"?y:pi)}function Dw(c,f,m,y,D){if(t1(c))throw Error(r(485));if(c=f.action,c!==null){var O={payload:D,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(le){O.listeners.push(le)}};K.T!==null?m(!0):O.isTransition=!1,y(O),m=f.pending,m===null?(O.next=f.pending=O,qx(f,O)):(O.next=m.next,f.pending=m.next=O)}}function qx(c,f){var m=f.action,y=f.payload,D=c.state;if(f.isTransition){var O=K.T,le={};K.T=le;try{var we=m(D,y),Re=K.S;Re!==null&&Re(le,we),Wx(c,f,we)}catch(Ze){zu(c,f,Ze)}finally{K.T=O}}else try{O=m(D,y),Wx(c,f,O)}catch(Ze){zu(c,f,Ze)}}function Wx(c,f,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(y){Km(c,f,y)},function(y){return zu(c,f,y)}):Km(c,f,m)}function Km(c,f,m){f.status="fulfilled",f.value=m,qm(f),c.state=m,f=c.pending,f!==null&&(m=f.next,m===f?c.pending=null:(m=m.next,f.next=m,qx(c,m)))}function zu(c,f,m){var y=c.pending;if(c.pending=null,y!==null){y=y.next;do f.status="rejected",f.reason=m,qm(f),f=f.next;while(f!==y)}c.action=null}function qm(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function Wm(c,f){return f}function Cf(c,f){if(hr){var m=Xr.formState;if(m!==null){e:{var y=un;if(hr){if(us){t:{for(var D=us,O=cl;D.nodeType!==8;){if(!O){D=null;break t}if(D=sc(D.nextSibling),D===null){D=null;break t}}O=D.data,D=O==="F!"||O==="F"?D:null}if(D){us=sc(D.nextSibling),y=D.data==="F!";break e}}VA(y)}y=!1}y&&(f=m[0])}}return m=Wa(),m.memoizedState=m.baseState=f,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wm,lastRenderedState:f},m.queue=y,m=K4.bind(null,un,y),y.dispatch=m,y=bf(!1),O=Uw.bind(null,un,!1,y.queue),y=Wa(),D={state:f,dispatch:null,action:c,pending:null},y.queue=D,m=Dw.bind(null,un,D,O,m),D.dispatch=m,y.memoizedState=c,[f,m,!1]}function Hh(c){var f=ts();return Ku(f,vn,c)}function Ku(c,f,m){if(f=Vu(c,f,Wm)[0],c=vf(pi)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var y=Yc(f)}catch(le){throw le===he?ve:le}else y=f;f=ts();var D=f.queue,O=D.dispatch;return m!==f.memoizedState&&(un.flags|=2048,ec(9,Ef(),$x.bind(null,D,m),null)),[y,O,c]}function $x(c,f){c.action=f}function Yx(c){var f=ts(),m=vn;if(m!==null)return Ku(f,m,c);ts(),f=f.memoizedState,m=ts();var y=m.queue.dispatch;return m.memoizedState=c,[f,y,!1]}function ec(c,f,m,y){return c={tag:c,create:m,deps:y,inst:f,next:null},f=un.updateQueue,f===null&&(f=KA(),un.updateQueue=f),m=f.lastEffect,m===null?f.lastEffect=c.next=c:(y=m.next,m.next=c,c.next=y,f.lastEffect=c),c}function Ef(){return{destroy:void 0,resource:void 0}}function Vh(){return ts().memoizedState}function Io(c,f,m,y){var D=Wa();y=y===void 0?null:y,un.flags|=c,D.memoizedState=ec(1|f,Ef(),m,y)}function qu(c,f,m,y){var D=ts();y=y===void 0?null:y;var O=D.memoizedState.inst;vn!==null&&y!==null&&ks(y,vn.memoizedState.deps)?D.memoizedState=ec(f,O,m,y):(un.flags|=c,D.memoizedState=ec(1|f,O,m,y))}function $m(c,f){Io(8390656,8,c,f)}function Jx(c,f){qu(2048,8,c,f)}function Ym(c,f){return qu(4,2,c,f)}function qA(c,f){return qu(4,4,c,f)}function Xx(c,f){if(typeof f=="function"){c=c();var m=f(c);return function(){typeof m=="function"?m():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function Jm(c,f,m){m=m!=null?m.concat([c]):null,qu(4,4,Xx.bind(null,f,c),m)}function Xm(){}function Zm(c,f){var m=ts();f=f===void 0?null:f;var y=m.memoizedState;return f!==null&&ks(f,y[1])?y[0]:(m.memoizedState=[c,f],c)}function Zx(c,f){var m=ts();f=f===void 0?null:f;var y=m.memoizedState;if(f!==null&&ks(f,y[1]))return y[0];if(y=c(),Hs){Jt(!0);try{c()}finally{Jt(!1)}}return m.memoizedState=[y,f],y}function WA(c,f,m){return m===void 0||(Fr&1073741824)!==0?c.memoizedState=f:(c.memoizedState=m,c=HT(),un.lanes|=c,ed|=c,m)}function Gh(c,f,m,y){return aa(m,f)?m:Hn.current!==null?(c=WA(c,m,y),aa(c,f)||(Da=!0),c):(Fr&42)===0?(Da=!0,c.memoizedState=m):(c=HT(),un.lanes|=c,ed|=c,f)}function _f(c,f,m,y,D){var O=Z.p;Z.p=O!==0&&8>O?O:8;var le=K.T,we={};K.T=we,Uw(c,!1,f,m);try{var Re=D(),Ze=K.S;if(Ze!==null&&Ze(we,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var ft=Gx(Re,y);rp(c,f,ft,Uo(c))}else rp(c,f,y,Uo(c))}catch(wt){rp(c,f,{then:function(){},status:"rejected",reason:wt},Uo())}finally{Z.p=O,K.T=le}}function tc(){}function fl(c,f,m,y){if(c.tag!==5)throw Error(r(476));var D=nc(c).queue;_f(c,D,f,re,m===null?tc:function(){return Sf(c),m(y)})}function nc(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:re},next:null};var m={};return f.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:m},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function Sf(c){var f=nc(c).next.queue;rp(c,f,{},Uo())}function Tf(){return Os(wp)}function ep(){return ts().memoizedState}function e1(){return ts().memoizedState}function tp(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var m=Uo();c=ct(m);var y=vt(f,c,m);y!==null&&(Lo(y,f,m),ht(y,f,m)),f={cache:Gm()},c.payload=f;return}f=f.return}}function np(c,f,m){var y=Uo();m={lane:y,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},t1(c)?q4(f,m):(m=Vc(c,f,m,y),m!==null&&(Lo(m,c,y),W4(m,f,y)))}function K4(c,f,m){var y=Uo();rp(c,f,m,y)}function rp(c,f,m,y){var D={lane:y,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(t1(c))q4(f,D);else{var O=c.alternate;if(c.lanes===0&&(O===null||O.lanes===0)&&(O=f.lastRenderedReducer,O!==null))try{var le=f.lastRenderedState,we=O(le,m);if(D.hasEagerState=!0,D.eagerState=we,aa(we,le))return Hc(c,f,D,0),Xr===null&&ro(),!1}catch{}finally{}if(m=Vc(c,f,D,y),m!==null)return Lo(m,c,y),W4(m,f,y),!0}return!1}function Uw(c,f,m,y){if(y={lane:2,revertLane:fb(),action:y,hasEagerState:!1,eagerState:null,next:null},t1(c)){if(f)throw Error(r(479))}else f=Vc(c,m,y,2),f!==null&&Lo(f,c,2)}function t1(c){var f=c.alternate;return c===un||f!==null&&f===un}function q4(c,f){la=ur=!0;var m=c.pending;m===null?f.next=f:(f.next=m.next,m.next=f),c.pending=f}function W4(c,f,m){if((m&4194048)!==0){var y=f.lanes;y&=c.pendingLanes,m|=y,f.lanes=m,On(c,m)}}var n1={readContext:Os,use:mi,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useLayoutEffect:wr,useInsertionEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useSyncExternalStore:wr,useId:wr,useHostTransitionStatus:wr,useFormState:wr,useActionState:wr,useOptimistic:wr,useMemoCache:wr,useCacheRefresh:wr},$4={readContext:Os,use:mi,useCallback:function(c,f){return Wa().memoizedState=[c,f===void 0?null:f],c},useContext:Os,useEffect:$m,useImperativeHandle:function(c,f,m){m=m!=null?m.concat([c]):null,Io(4194308,4,Xx.bind(null,f,c),m)},useLayoutEffect:function(c,f){return Io(4194308,4,c,f)},useInsertionEffect:function(c,f){Io(4,2,c,f)},useMemo:function(c,f){var m=Wa();f=f===void 0?null:f;var y=c();if(Hs){Jt(!0);try{c()}finally{Jt(!1)}}return m.memoizedState=[y,f],y},useReducer:function(c,f,m){var y=Wa();if(m!==void 0){var D=m(f);if(Hs){Jt(!0);try{m(f)}finally{Jt(!1)}}}else D=f;return y.memoizedState=y.baseState=D,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:D},y.queue=c,c=c.dispatch=np.bind(null,un,c),[y.memoizedState,c]},useRef:function(c){var f=Wa();return c={current:c},f.memoizedState=c},useState:function(c){c=bf(c);var f=c.queue,m=K4.bind(null,un,f);return f.dispatch=m,[c.memoizedState,m]},useDebugValue:Xm,useDeferredValue:function(c,f){var m=Wa();return WA(m,c,f)},useTransition:function(){var c=bf(!1);return c=_f.bind(null,un,c.queue,!0,!1),Wa().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,m){var y=un,D=Wa();if(hr){if(m===void 0)throw Error(r(407));m=m()}else{if(m=f(),Xr===null)throw Error(r(349));(dr&124)!==0||Qh(y,f,m)}D.memoizedState=m;var O={value:m,getSnapshot:f};return D.queue=O,$m(Gu.bind(null,y,O,c),[c]),y.flags|=2048,ec(9,Ef(),wf.bind(null,y,O,m,f),null),m},useId:function(){var c=Wa(),f=Xr.identifierPrefix;if(hr){var m=$l,y=Wl;m=(y&~(1<<32-Pt(y)-1)).toString(32)+m,f=""+f+"R"+m,m=gs++,0<m&&(f+="H"+m.toString(32)),f+=""}else m=io++,f=""+f+"r"+m.toString(32)+"";return c.memoizedState=f},useHostTransitionStatus:Tf,useFormState:Cf,useActionState:Cf,useOptimistic:function(c){var f=Wa();f.memoizedState=f.baseState=c;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=m,f=Uw.bind(null,un,!0,m),m.dispatch=f,[c,f]},useMemoCache:Jc,useCacheRefresh:function(){return Wa().memoizedState=tp.bind(null,un)}},Y4={readContext:Os,use:mi,useCallback:Zm,useContext:Os,useEffect:Jx,useImperativeHandle:Jm,useInsertionEffect:Ym,useLayoutEffect:qA,useMemo:Zx,useReducer:vf,useRef:Vh,useState:function(){return vf(pi)},useDebugValue:Xm,useDeferredValue:function(c,f){var m=ts();return Gh(m,vn.memoizedState,c,f)},useTransition:function(){var c=vf(pi)[0],f=ts().memoizedState;return[typeof c=="boolean"?c:Yc(c),f]},useSyncExternalStore:yf,useId:ep,useHostTransitionStatus:Tf,useFormState:Hh,useActionState:Hh,useOptimistic:function(c,f){var m=ts();return Zl(m,vn,c,f)},useMemoCache:Jc,useCacheRefresh:e1},cQ={readContext:Os,use:mi,useCallback:Zm,useContext:Os,useEffect:Jx,useImperativeHandle:Jm,useInsertionEffect:Ym,useLayoutEffect:qA,useMemo:Zx,useReducer:Oh,useRef:Vh,useState:function(){return Oh(pi)},useDebugValue:Xm,useDeferredValue:function(c,f){var m=ts();return vn===null?WA(m,c,f):Gh(m,vn.memoizedState,c,f)},useTransition:function(){var c=Oh(pi)[0],f=ts().memoizedState;return[typeof c=="boolean"?c:Yc(c),f]},useSyncExternalStore:yf,useId:ep,useHostTransitionStatus:Tf,useFormState:Yx,useActionState:Yx,useOptimistic:function(c,f){var m=ts();return vn!==null?Zl(m,vn,c,f):(m.baseState=c,[c,m.queue.dispatch])},useMemoCache:Jc,useCacheRefresh:e1},zh=null,sp=0;function r1(c){var f=sp;return sp+=1,zh===null&&(zh=[]),Ye(zh,c,f)}function ap(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function s1(c,f){throw f.$$typeof===h?Error(r(525)):(c=Object.prototype.toString.call(f),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function J4(c){var f=c._init;return f(c._payload)}function X4(c){function f(ze,Pe){if(c){var $e=ze.deletions;$e===null?(ze.deletions=[Pe],ze.flags|=16):$e.push(Pe)}}function m(ze,Pe){if(!c)return null;for(;Pe!==null;)f(ze,Pe),Pe=Pe.sibling;return null}function y(ze){for(var Pe=new Map;ze!==null;)ze.key!==null?Pe.set(ze.key,ze):Pe.set(ze.index,ze),ze=ze.sibling;return Pe}function D(ze,Pe){return ze=ll(ze,Pe),ze.index=0,ze.sibling=null,ze}function O(ze,Pe,$e){return ze.index=$e,c?($e=ze.alternate,$e!==null?($e=$e.index,$e<Pe?(ze.flags|=67108866,Pe):$e):(ze.flags|=67108866,Pe)):(ze.flags|=1048576,Pe)}function le(ze){return c&&ze.alternate===null&&(ze.flags|=67108866),ze}function we(ze,Pe,$e,mt){return Pe===null||Pe.tag!==6?(Pe=Rh($e,ze.mode,mt),Pe.return=ze,Pe):(Pe=D(Pe,$e),Pe.return=ze,Pe)}function Re(ze,Pe,$e,mt){var Xt=$e.type;return Xt===w?ft(ze,Pe,$e.props.children,mt,$e.key):Pe!==null&&(Pe.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===N&&J4(Xt)===Pe.type)?(Pe=D(Pe,$e.props),ap(Pe,$e),Pe.return=ze,Pe):(Pe=OA($e.type,$e.key,$e.props,null,ze.mode,mt),ap(Pe,$e),Pe.return=ze,Pe)}function Ze(ze,Pe,$e,mt){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==$e.containerInfo||Pe.stateNode.implementation!==$e.implementation?(Pe=ff($e,ze.mode,mt),Pe.return=ze,Pe):(Pe=D(Pe,$e.children||[]),Pe.return=ze,Pe)}function ft(ze,Pe,$e,mt,Xt){return Pe===null||Pe.tag!==7?(Pe=Kl($e,ze.mode,mt,Xt),Pe.return=ze,Pe):(Pe=D(Pe,$e),Pe.return=ze,Pe)}function wt(ze,Pe,$e){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Pe=Rh(""+Pe,ze.mode,$e),Pe.return=ze,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case p:return $e=OA(Pe.type,Pe.key,Pe.props,null,ze.mode,$e),ap($e,Pe),$e.return=ze,$e;case g:return Pe=ff(Pe,ze.mode,$e),Pe.return=ze,Pe;case N:var mt=Pe._init;return Pe=mt(Pe._payload),wt(ze,Pe,$e)}if(oe(Pe)||M(Pe))return Pe=Kl(Pe,ze.mode,$e,null),Pe.return=ze,Pe;if(typeof Pe.then=="function")return wt(ze,r1(Pe),$e);if(Pe.$$typeof===k)return wt(ze,qc(ze,Pe),$e);s1(ze,Pe)}return null}function rt(ze,Pe,$e,mt){var Xt=Pe!==null?Pe.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return Xt!==null?null:we(ze,Pe,""+$e,mt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case p:return $e.key===Xt?Re(ze,Pe,$e,mt):null;case g:return $e.key===Xt?Ze(ze,Pe,$e,mt):null;case N:return Xt=$e._init,$e=Xt($e._payload),rt(ze,Pe,$e,mt)}if(oe($e)||M($e))return Xt!==null?null:ft(ze,Pe,$e,mt,null);if(typeof $e.then=="function")return rt(ze,Pe,r1($e),mt);if($e.$$typeof===k)return rt(ze,Pe,qc(ze,$e),mt);s1(ze,$e)}return null}function st(ze,Pe,$e,mt,Xt){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return ze=ze.get($e)||null,we(Pe,ze,""+mt,Xt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case p:return ze=ze.get(mt.key===null?$e:mt.key)||null,Re(Pe,ze,mt,Xt);case g:return ze=ze.get(mt.key===null?$e:mt.key)||null,Ze(Pe,ze,mt,Xt);case N:var $n=mt._init;return mt=$n(mt._payload),st(ze,Pe,$e,mt,Xt)}if(oe(mt)||M(mt))return ze=ze.get($e)||null,ft(Pe,ze,mt,Xt,null);if(typeof mt.then=="function")return st(ze,Pe,$e,r1(mt),Xt);if(mt.$$typeof===k)return st(ze,Pe,$e,qc(Pe,mt),Xt);s1(Pe,mt)}return null}function En(ze,Pe,$e,mt){for(var Xt=null,$n=null,sn=Pe,pn=Pe=0,La=null;sn!==null&&pn<$e.length;pn++){sn.index>pn?(La=sn,sn=null):La=sn.sibling;var br=rt(ze,sn,$e[pn],mt);if(br===null){sn===null&&(sn=La);break}c&&sn&&br.alternate===null&&f(ze,sn),Pe=O(br,Pe,pn),$n===null?Xt=br:$n.sibling=br,$n=br,sn=La}if(pn===$e.length)return m(ze,sn),hr&&HA(ze,pn),Xt;if(sn===null){for(;pn<$e.length;pn++)sn=wt(ze,$e[pn],mt),sn!==null&&(Pe=O(sn,Pe,pn),$n===null?Xt=sn:$n.sibling=sn,$n=sn);return hr&&HA(ze,pn),Xt}for(sn=y(sn);pn<$e.length;pn++)La=st(sn,ze,pn,$e[pn],mt),La!==null&&(c&&La.alternate!==null&&sn.delete(La.key===null?pn:La.key),Pe=O(La,Pe,pn),$n===null?Xt=La:$n.sibling=La,$n=La);return c&&sn.forEach(function(cd){return f(ze,cd)}),hr&&HA(ze,pn),Xt}function hn(ze,Pe,$e,mt){if($e==null)throw Error(r(151));for(var Xt=null,$n=null,sn=Pe,pn=Pe=0,La=null,br=$e.next();sn!==null&&!br.done;pn++,br=$e.next()){sn.index>pn?(La=sn,sn=null):La=sn.sibling;var cd=rt(ze,sn,br.value,mt);if(cd===null){sn===null&&(sn=La);break}c&&sn&&cd.alternate===null&&f(ze,sn),Pe=O(cd,Pe,pn),$n===null?Xt=cd:$n.sibling=cd,$n=cd,sn=La}if(br.done)return m(ze,sn),hr&&HA(ze,pn),Xt;if(sn===null){for(;!br.done;pn++,br=$e.next())br=wt(ze,br.value,mt),br!==null&&(Pe=O(br,Pe,pn),$n===null?Xt=br:$n.sibling=br,$n=br);return hr&&HA(ze,pn),Xt}for(sn=y(sn);!br.done;pn++,br=$e.next())br=st(sn,ze,pn,br.value,mt),br!==null&&(c&&br.alternate!==null&&sn.delete(br.key===null?pn:br.key),Pe=O(br,Pe,pn),$n===null?Xt=br:$n.sibling=br,$n=br);return c&&sn.forEach(function(A9){return f(ze,A9)}),hr&&HA(ze,pn),Xt}function zr(ze,Pe,$e,mt){if(typeof $e=="object"&&$e!==null&&$e.type===w&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case p:e:{for(var Xt=$e.key;Pe!==null;){if(Pe.key===Xt){if(Xt=$e.type,Xt===w){if(Pe.tag===7){m(ze,Pe.sibling),mt=D(Pe,$e.props.children),mt.return=ze,ze=mt;break e}}else if(Pe.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===N&&J4(Xt)===Pe.type){m(ze,Pe.sibling),mt=D(Pe,$e.props),ap(mt,$e),mt.return=ze,ze=mt;break e}m(ze,Pe);break}else f(ze,Pe);Pe=Pe.sibling}$e.type===w?(mt=Kl($e.props.children,ze.mode,mt,$e.key),mt.return=ze,ze=mt):(mt=OA($e.type,$e.key,$e.props,null,ze.mode,mt),ap(mt,$e),mt.return=ze,ze=mt)}return le(ze);case g:e:{for(Xt=$e.key;Pe!==null;){if(Pe.key===Xt)if(Pe.tag===4&&Pe.stateNode.containerInfo===$e.containerInfo&&Pe.stateNode.implementation===$e.implementation){m(ze,Pe.sibling),mt=D(Pe,$e.children||[]),mt.return=ze,ze=mt;break e}else{m(ze,Pe);break}else f(ze,Pe);Pe=Pe.sibling}mt=ff($e,ze.mode,mt),mt.return=ze,ze=mt}return le(ze);case N:return Xt=$e._init,$e=Xt($e._payload),zr(ze,Pe,$e,mt)}if(oe($e))return En(ze,Pe,$e,mt);if(M($e)){if(Xt=M($e),typeof Xt!="function")throw Error(r(150));return $e=Xt.call($e),hn(ze,Pe,$e,mt)}if(typeof $e.then=="function")return zr(ze,Pe,r1($e),mt);if($e.$$typeof===k)return zr(ze,Pe,qc(ze,$e),mt);s1(ze,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint"?($e=""+$e,Pe!==null&&Pe.tag===6?(m(ze,Pe.sibling),mt=D(Pe,$e),mt.return=ze,ze=mt):(m(ze,Pe),mt=Rh($e,ze.mode,mt),mt.return=ze,ze=mt),le(ze)):m(ze,Pe)}return function(ze,Pe,$e,mt){try{sp=0;var Xt=zr(ze,Pe,$e,mt);return zh=null,Xt}catch(sn){if(sn===he||sn===ve)throw sn;var $n=Ra(29,sn,null,ze.mode);return $n.lanes=mt,$n.return=ze,$n}finally{}}}var Kh=X4(!0),Z4=X4(!1),hl=ue(null),Xc=null;function Wu(c){var f=c.alternate;W(Ca,Ca.current&1),W(hl,c),Xc===null&&(f===null||Hn.current!==null||f.memoizedState!==null)&&(Xc=c)}function eT(c){if(c.tag===22){if(W(Ca,Ca.current),W(hl,c),Xc===null){var f=c.alternate;f!==null&&f.memoizedState!==null&&(Xc=c)}}else $u()}function $u(){W(Ca,Ca.current),W(hl,hl.current)}function $A(c){j(hl),Xc===c&&(Xc=null),j(Ca)}var Ca=ue(0);function a1(c){for(var f=c;f!==null;){if(f.tag===13){var m=f.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||_b(m)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Lw(c,f,m,y){f=c.memoizedState,m=m(y,f),m=m==null?f:d({},f,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var Mw={enqueueSetState:function(c,f,m){c=c._reactInternals;var y=Uo(),D=ct(y);D.payload=f,m!=null&&(D.callback=m),f=vt(c,D,y),f!==null&&(Lo(f,c,y),ht(f,c,y))},enqueueReplaceState:function(c,f,m){c=c._reactInternals;var y=Uo(),D=ct(y);D.tag=1,D.payload=f,m!=null&&(D.callback=m),f=vt(c,D,y),f!==null&&(Lo(f,c,y),ht(f,c,y))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var m=Uo(),y=ct(m);y.tag=2,f!=null&&(y.callback=f),f=vt(c,y,m),f!==null&&(Lo(f,c,m),ht(f,c,m))}};function tT(c,f,m,y,D,O,le){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,O,le):f.prototype&&f.prototype.isPureReactComponent?!Uc(m,y)||!Uc(D,O):!0}function nT(c,f,m,y){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(m,y),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(m,y),f.state!==c&&Mw.enqueueReplaceState(f,f.state,null)}function Bf(c,f){var m=f;if("ref"in f){m={};for(var y in f)y!=="ref"&&(m[y]=f[y])}if(c=c.defaultProps){m===f&&(m=d({},m));for(var D in c)m[D]===void 0&&(m[D]=c[D])}return m}var i1=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function rT(c){i1(c)}function sT(c){console.error(c)}function aT(c){i1(c)}function o1(c,f){try{var m=c.onUncaughtError;m(f.value,{componentStack:f.stack})}catch(y){setTimeout(function(){throw y})}}function iT(c,f,m){try{var y=c.onCaughtError;y(m.value,{componentStack:m.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function Pw(c,f,m){return m=ct(m),m.tag=3,m.payload={element:null},m.callback=function(){o1(c,f)},m}function oT(c){return c=ct(c),c.tag=3,c}function lT(c,f,m,y){var D=m.type.getDerivedStateFromError;if(typeof D=="function"){var O=y.value;c.payload=function(){return D(O)},c.callback=function(){iT(f,m,y)}}var le=m.stateNode;le!==null&&typeof le.componentDidCatch=="function"&&(c.callback=function(){iT(f,m,y),typeof D!="function"&&(td===null?td=new Set([this]):td.add(this));var we=y.stack;this.componentDidCatch(y.value,{componentStack:we!==null?we:""})})}function AQ(c,f,m,y,D){if(m.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(f=m.alternate,f!==null&&Hu(f,m,D,!0),m=hl.current,m!==null){switch(m.tag){case 13:return Xc===null?lb():m.alternate===null&&Is===0&&(Is=3),m.flags&=-257,m.flags|=65536,m.lanes=D,y===be?m.flags|=16384:(f=m.updateQueue,f===null?m.updateQueue=new Set([y]):f.add(y),Ab(c,y,D)),!1;case 22:return m.flags|=65536,y===be?m.flags|=16384:(f=m.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([y])},m.updateQueue=f):(m=f.retryQueue,m===null?f.retryQueue=new Set([y]):m.add(y)),Ab(c,y,D)),!1}throw Error(r(435,m.tag))}return Ab(c,y,D),lb(),!1}if(hr)return f=hl.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=D,y!==Vm&&(c=Error(r(422),{cause:y}),Qu(Vn(c,m)))):(y!==Vm&&(f=Error(r(423),{cause:y}),Qu(Vn(f,m))),c=c.current.alternate,c.flags|=65536,D&=-D,c.lanes|=D,y=Vn(y,m),D=Pw(c.stateNode,y,D),Gt(c,D),Is!==4&&(Is=2)),!1;var O=Error(r(520),{cause:y});if(O=Vn(O,m),dp===null?dp=[O]:dp.push(O),Is!==4&&(Is=2),f===null)return!0;y=Vn(y,m),m=f;do{switch(m.tag){case 3:return m.flags|=65536,c=D&-D,m.lanes|=c,c=Pw(m.stateNode,y,c),Gt(m,c),!1;case 1:if(f=m.type,O=m.stateNode,(m.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(td===null||!td.has(O))))return m.flags|=65536,D&=-D,m.lanes|=D,D=oT(D),lT(D,c,m,y),Gt(m,D),!1}m=m.return}while(m!==null);return!1}var cT=Error(r(461)),Da=!1;function $a(c,f,m,y){f.child=c===null?Z4(f,null,m,y):Kh(f,c.child,m,y)}function AT(c,f,m,y,D){m=m.render;var O=f.ref;if("ref"in y){var le={};for(var we in y)we!=="ref"&&(le[we]=y[we])}else le=y;return dl(f),y=ko(c,f,m,le,O,D),we=Jr(),c!==null&&!Da?(xf(c,f,D),YA(c,f,D)):(hr&&we&&hf(f),f.flags|=1,$a(c,f,y,D),f.child)}function uT(c,f,m,y,D){if(c===null){var O=m.type;return typeof O=="function"&&!ju(O)&&O.defaultProps===void 0&&m.compare===null?(f.tag=15,f.type=O,dT(c,f,O,y,D)):(c=OA(m.type,null,y,f,f.mode,D),c.ref=f.ref,c.return=f,f.child=c)}if(O=c.child,!Kw(c,D)){var le=O.memoizedProps;if(m=m.compare,m=m!==null?m:Uc,m(le,y)&&c.ref===f.ref)return YA(c,f,D)}return f.flags|=1,c=ll(O,y),c.ref=f.ref,c.return=f,f.child=c}function dT(c,f,m,y,D){if(c!==null){var O=c.memoizedProps;if(Uc(O,y)&&c.ref===f.ref)if(Da=!1,f.pendingProps=y=O,Kw(c,D))(c.flags&131072)!==0&&(Da=!0);else return f.lanes=c.lanes,YA(c,f,D)}return jw(c,f,m,y,D)}function fT(c,f,m){var y=f.pendingProps,D=y.children,O=c!==null?c.memoizedState:null;if(y.mode==="hidden"){if((f.flags&128)!==0){if(y=O!==null?O.baseLanes|m:m,c!==null){for(D=f.child=c.child,O=0;D!==null;)O=O|D.lanes|D.childLanes,D=D.sibling;f.childLanes=O&~y}else f.childLanes=0,f.child=null;return hT(c,f,y,m)}if((m&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&te(f,O!==null?O.cachePool:null),O!==null?Tr(f,O):yr(),eT(f);else return f.lanes=f.childLanes=536870912,hT(c,f,O!==null?O.baseLanes|m:m,m)}else O!==null?(te(f,O.cachePool),Tr(f,O),$u(),f.memoizedState=null):(c!==null&&te(f,null),yr(),$u());return $a(c,f,D,m),f.child}function hT(c,f,m,y){var D=z();return D=D===null?null:{parent:Qs._currentValue,pool:D},f.memoizedState={baseLanes:m,cachePool:D},c!==null&&te(f,null),yr(),eT(f),c!==null&&Hu(c,f,y,!0),null}function l1(c,f){var m=f.ref;if(m===null)c!==null&&c.ref!==null&&(f.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(c===null||c.ref!==m)&&(f.flags|=4194816)}}function jw(c,f,m,y,D){return dl(f),m=ko(c,f,m,y,void 0,D),y=Jr(),c!==null&&!Da?(xf(c,f,D),YA(c,f,D)):(hr&&y&&hf(f),f.flags|=1,$a(c,f,m,D),f.child)}function mT(c,f,m,y,D,O){return dl(f),f.updateQueue=null,m=zA(f,y,m,D),Wc(c),y=Jr(),c!==null&&!Da?(xf(c,f,O),YA(c,f,O)):(hr&&y&&hf(f),f.flags|=1,$a(c,f,m,O),f.child)}function pT(c,f,m,y,D){if(dl(f),f.stateNode===null){var O=ia,le=m.contextType;typeof le=="object"&&le!==null&&(O=Os(le)),O=new m(y,O),f.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=Mw,f.stateNode=O,O._reactInternals=f,O=f.stateNode,O.props=y,O.state=f.memoizedState,O.refs={},Me(f),le=m.contextType,O.context=typeof le=="object"&&le!==null?Os(le):ia,O.state=f.memoizedState,le=m.getDerivedStateFromProps,typeof le=="function"&&(Lw(f,m,le,y),O.state=f.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(le=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),le!==O.state&&Mw.enqueueReplaceState(O,O.state,null),Qt(f,y,O,D),nn(),O.state=f.memoizedState),typeof O.componentDidMount=="function"&&(f.flags|=4194308),y=!0}else if(c===null){O=f.stateNode;var we=f.memoizedProps,Re=Bf(m,we);O.props=Re;var Ze=O.context,ft=m.contextType;le=ia,typeof ft=="object"&&ft!==null&&(le=Os(ft));var wt=m.getDerivedStateFromProps;ft=typeof wt=="function"||typeof O.getSnapshotBeforeUpdate=="function",we=f.pendingProps!==we,ft||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(we||Ze!==le)&&nT(f,O,y,le),at=!1;var rt=f.memoizedState;O.state=rt,Qt(f,y,O,D),nn(),Ze=f.memoizedState,we||rt!==Ze||at?(typeof wt=="function"&&(Lw(f,m,wt,y),Ze=f.memoizedState),(Re=at||tT(f,m,Re,y,rt,Ze,le))?(ft||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(f.flags|=4194308)):(typeof O.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=y,f.memoizedState=Ze),O.props=y,O.state=Ze,O.context=le,y=Re):(typeof O.componentDidMount=="function"&&(f.flags|=4194308),y=!1)}else{O=f.stateNode,je(c,f),le=f.memoizedProps,ft=Bf(m,le),O.props=ft,wt=f.pendingProps,rt=O.context,Ze=m.contextType,Re=ia,typeof Ze=="object"&&Ze!==null&&(Re=Os(Ze)),we=m.getDerivedStateFromProps,(Ze=typeof we=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(le!==wt||rt!==Re)&&nT(f,O,y,Re),at=!1,rt=f.memoizedState,O.state=rt,Qt(f,y,O,D),nn();var st=f.memoizedState;le!==wt||rt!==st||at||c!==null&&c.dependencies!==null&&Mh(c.dependencies)?(typeof we=="function"&&(Lw(f,m,we,y),st=f.memoizedState),(ft=at||tT(f,m,ft,y,rt,st,Re)||c!==null&&c.dependencies!==null&&Mh(c.dependencies))?(Ze||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(y,st,Re),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(y,st,Re)),typeof O.componentDidUpdate=="function"&&(f.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof O.componentDidUpdate!="function"||le===c.memoizedProps&&rt===c.memoizedState||(f.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||le===c.memoizedProps&&rt===c.memoizedState||(f.flags|=1024),f.memoizedProps=y,f.memoizedState=st),O.props=y,O.state=st,O.context=Re,y=ft):(typeof O.componentDidUpdate!="function"||le===c.memoizedProps&&rt===c.memoizedState||(f.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||le===c.memoizedProps&&rt===c.memoizedState||(f.flags|=1024),y=!1)}return O=y,l1(c,f),y=(f.flags&128)!==0,O||y?(O=f.stateNode,m=y&&typeof m.getDerivedStateFromError!="function"?null:O.render(),f.flags|=1,c!==null&&y?(f.child=Kh(f,c.child,null,D),f.child=Kh(f,null,m,D)):$a(c,f,m,D),f.memoizedState=O.state,c=f.child):c=YA(c,f,D),c}function gT(c,f,m,y){return Hi(),f.flags|=256,$a(c,f,m,y),f.child}var Ow={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qw(c){return{baseLanes:c,cachePool:ce()}}function Hw(c,f,m){return c=c!==null?c.childLanes&~m:0,f&&(c|=ml),c}function xT(c,f,m){var y=f.pendingProps,D=!1,O=(f.flags&128)!==0,le;if((le=O)||(le=c!==null&&c.memoizedState===null?!1:(Ca.current&2)!==0),le&&(D=!0,f.flags&=-129),le=(f.flags&32)!==0,f.flags&=-33,c===null){if(hr){if(D?Wu(f):$u(),hr){var we=us,Re;if(Re=we){e:{for(Re=we,we=cl;Re.nodeType!==8;){if(!we){we=null;break e}if(Re=sc(Re.nextSibling),Re===null){we=null;break e}}we=Re}we!==null?(f.memoizedState={dehydrated:we,treeContext:QA!==null?{id:Wl,overflow:$l}:null,retryLane:536870912,hydrationErrors:null},Re=Ra(18,null,null,0),Re.stateNode=we,Re.return=f,f.child=Re,js=f,us=null,Re=!0):Re=!1}Re||VA(f)}if(we=f.memoizedState,we!==null&&(we=we.dehydrated,we!==null))return _b(we)?f.lanes=32:f.lanes=536870912,null;$A(f)}return we=y.children,y=y.fallback,D?($u(),D=f.mode,we=c1({mode:"hidden",children:we},D),y=Kl(y,D,m,null),we.return=f,y.return=f,we.sibling=y,f.child=we,D=f.child,D.memoizedState=Qw(m),D.childLanes=Hw(c,le,m),f.memoizedState=Ow,y):(Wu(f),Vw(f,we))}if(Re=c.memoizedState,Re!==null&&(we=Re.dehydrated,we!==null)){if(O)f.flags&256?(Wu(f),f.flags&=-257,f=Gw(c,f,m)):f.memoizedState!==null?($u(),f.child=c.child,f.flags|=128,f=null):($u(),D=y.fallback,we=f.mode,y=c1({mode:"visible",children:y.children},we),D=Kl(D,we,m,null),D.flags|=2,y.return=f,D.return=f,y.sibling=D,f.child=y,Kh(f,c.child,null,m),y=f.child,y.memoizedState=Qw(m),y.childLanes=Hw(c,le,m),f.memoizedState=Ow,f=D);else if(Wu(f),_b(we)){if(le=we.nextSibling&&we.nextSibling.dataset,le)var Ze=le.dgst;le=Ze,y=Error(r(419)),y.stack="",y.digest=le,Qu({value:y,source:null,stack:null}),f=Gw(c,f,m)}else if(Da||Hu(c,f,m,!1),le=(m&c.childLanes)!==0,Da||le){if(le=Xr,le!==null&&(y=m&-m,y=(y&42)!==0?1:na(y),y=(y&(le.suspendedLanes|m))!==0?0:y,y!==0&&y!==Re.retryLane))throw Re.retryLane=y,zl(c,y),Lo(le,c,y),cT;we.data==="$?"||lb(),f=Gw(c,f,m)}else we.data==="$?"?(f.flags|=192,f.child=c.child,f=null):(c=Re.treeContext,us=sc(we.nextSibling),js=f,hr=!0,zc=null,cl=!1,c!==null&&(ao[Qi++]=Wl,ao[Qi++]=$l,ao[Qi++]=QA,Wl=c.id,$l=c.overflow,QA=f),f=Vw(f,y.children),f.flags|=4096);return f}return D?($u(),D=y.fallback,we=f.mode,Re=c.child,Ze=Re.sibling,y=ll(Re,{mode:"hidden",children:y.children}),y.subtreeFlags=Re.subtreeFlags&65011712,Ze!==null?D=ll(Ze,D):(D=Kl(D,we,m,null),D.flags|=2),D.return=f,y.return=f,y.sibling=D,f.child=y,y=D,D=f.child,we=c.child.memoizedState,we===null?we=Qw(m):(Re=we.cachePool,Re!==null?(Ze=Qs._currentValue,Re=Re.parent!==Ze?{parent:Ze,pool:Ze}:Re):Re=ce(),we={baseLanes:we.baseLanes|m,cachePool:Re}),D.memoizedState=we,D.childLanes=Hw(c,le,m),f.memoizedState=Ow,y):(Wu(f),m=c.child,c=m.sibling,m=ll(m,{mode:"visible",children:y.children}),m.return=f,m.sibling=null,c!==null&&(le=f.deletions,le===null?(f.deletions=[c],f.flags|=16):le.push(c)),f.child=m,f.memoizedState=null,m)}function Vw(c,f){return f=c1({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function c1(c,f){return c=Ra(22,c,null,f),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function Gw(c,f,m){return Kh(f,c.child,null,m),c=Vw(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function vT(c,f,m){c.lanes|=f;var y=c.alternate;y!==null&&(y.lanes|=f),Uh(c.return,f,m)}function zw(c,f,m,y,D){var O=c.memoizedState;O===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:D}:(O.isBackwards=f,O.rendering=null,O.renderingStartTime=0,O.last=y,O.tail=m,O.tailMode=D)}function yT(c,f,m){var y=f.pendingProps,D=y.revealOrder,O=y.tail;if($a(c,f,y.children,m),y=Ca.current,(y&2)!==0)y=y&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&vT(c,m,f);else if(c.tag===19)vT(c,m,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}y&=1}switch(W(Ca,y),D){case"forwards":for(m=f.child,D=null;m!==null;)c=m.alternate,c!==null&&a1(c)===null&&(D=m),m=m.sibling;m=D,m===null?(D=f.child,f.child=null):(D=m.sibling,m.sibling=null),zw(f,!1,D,m,O);break;case"backwards":for(m=null,D=f.child,f.child=null;D!==null;){if(c=D.alternate,c!==null&&a1(c)===null){f.child=D;break}c=D.sibling,D.sibling=m,m=D,D=c}zw(f,!0,m,null,O);break;case"together":zw(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function YA(c,f,m){if(c!==null&&(f.dependencies=c.dependencies),ed|=f.lanes,(m&f.childLanes)===0)if(c!==null){if(Hu(c,f,m,!1),(m&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(r(153));if(f.child!==null){for(c=f.child,m=ll(c,c.pendingProps),f.child=m,m.return=f;c.sibling!==null;)c=c.sibling,m=m.sibling=ll(c,c.pendingProps),m.return=f;m.sibling=null}return f.child}function Kw(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&Mh(c)))}function uQ(c,f,m){switch(f.tag){case 3:me(f,f.stateNode.containerInfo),Kc(f,Qs,c.memoizedState.cache),Hi();break;case 27:case 5:Se(f);break;case 4:me(f,f.stateNode.containerInfo);break;case 10:Kc(f,f.type,f.memoizedProps.value);break;case 13:var y=f.memoizedState;if(y!==null)return y.dehydrated!==null?(Wu(f),f.flags|=128,null):(m&f.child.childLanes)!==0?xT(c,f,m):(Wu(f),c=YA(c,f,m),c!==null?c.sibling:null);Wu(f);break;case 19:var D=(c.flags&128)!==0;if(y=(m&f.childLanes)!==0,y||(Hu(c,f,m,!1),y=(m&f.childLanes)!==0),D){if(y)return yT(c,f,m);f.flags|=128}if(D=f.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),W(Ca,Ca.current),y)break;return null;case 22:case 23:return f.lanes=0,fT(c,f,m);case 24:Kc(f,Qs,c.memoizedState.cache)}return YA(c,f,m)}function wT(c,f,m){if(c!==null)if(c.memoizedProps!==f.pendingProps)Da=!0;else{if(!Kw(c,m)&&(f.flags&128)===0)return Da=!1,uQ(c,f,m);Da=(c.flags&131072)!==0}else Da=!1,hr&&(f.flags&1048576)!==0&&jx(f,Dh,f.index);switch(f.lanes=0,f.tag){case 16:e:{c=f.pendingProps;var y=f.elementType,D=y._init;if(y=D(y._payload),f.type=y,typeof y=="function")ju(y)?(c=Bf(y,c),f.tag=1,f=pT(null,f,y,c,m)):(f.tag=0,f=jw(null,f,y,c,m));else{if(y!=null){if(D=y.$$typeof,D===F){f.tag=11,f=AT(null,f,y,c,m);break e}else if(D===S){f.tag=14,f=uT(null,f,y,c,m);break e}}throw f=G(y)||y,Error(r(306,f,""))}}return f;case 0:return jw(c,f,f.type,f.pendingProps,m);case 1:return y=f.type,D=Bf(y,f.pendingProps),pT(c,f,y,D,m);case 3:e:{if(me(f,f.stateNode.containerInfo),c===null)throw Error(r(387));y=f.pendingProps;var O=f.memoizedState;D=O.element,je(c,f),Qt(f,y,null,m);var le=f.memoizedState;if(y=le.cache,Kc(f,Qs,y),y!==O.cache&&Lh(f,[Qs],m,!0),nn(),y=le.element,O.isDehydrated)if(O={element:y,isDehydrated:!1,cache:le.cache},f.updateQueue.baseState=O,f.memoizedState=O,f.flags&256){f=gT(c,f,y,m);break e}else if(y!==D){D=Vn(Error(r(424)),f),Qu(D),f=gT(c,f,y,m);break e}else{switch(c=f.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(us=sc(c.firstChild),js=f,hr=!0,zc=null,cl=!0,m=Z4(f,null,y,m),f.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Hi(),y===D){f=YA(c,f,m);break e}$a(c,f,y,m)}f=f.child}return f;case 26:return l1(c,f),c===null?(m=_B(f.type,null,f.pendingProps,null))?f.memoizedState=m:hr||(m=f.type,c=f.pendingProps,y=C1(ie.current).createElement(m),y[or]=f,y[Zn]=c,Ja(y,m,c),Qe(y),f.stateNode=y):f.memoizedState=_B(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:return Se(f),c===null&&hr&&(y=f.stateNode=bB(f.type,f.pendingProps,ie.current),js=f,cl=!0,D=us,sd(f.type)?(Sb=D,us=sc(y.firstChild)):us=D),$a(c,f,f.pendingProps.children,m),l1(c,f),c===null&&(f.flags|=4194304),f.child;case 5:return c===null&&hr&&((D=y=us)&&(y=jQ(y,f.type,f.pendingProps,cl),y!==null?(f.stateNode=y,js=f,us=sc(y.firstChild),cl=!1,D=!0):D=!1),D||VA(f)),Se(f),D=f.type,O=f.pendingProps,le=c!==null?c.memoizedProps:null,y=O.children,bb(D,O)?y=null:le!==null&&bb(D,le)&&(f.flags|=32),f.memoizedState!==null&&(D=ko(c,f,$c,null,null,m),wp._currentValue=D),l1(c,f),$a(c,f,y,m),f.child;case 6:return c===null&&hr&&((c=m=us)&&(m=OQ(m,f.pendingProps,cl),m!==null?(f.stateNode=m,js=f,us=null,c=!0):c=!1),c||VA(f)),null;case 13:return xT(c,f,m);case 4:return me(f,f.stateNode.containerInfo),y=f.pendingProps,c===null?f.child=Kh(f,null,y,m):$a(c,f,y,m),f.child;case 11:return AT(c,f,f.type,f.pendingProps,m);case 7:return $a(c,f,f.pendingProps,m),f.child;case 8:return $a(c,f,f.pendingProps.children,m),f.child;case 12:return $a(c,f,f.pendingProps.children,m),f.child;case 10:return y=f.pendingProps,Kc(f,f.type,y.value),$a(c,f,y.children,m),f.child;case 9:return D=f.type._context,y=f.pendingProps.children,dl(f),D=Os(D),y=y(D),f.flags|=1,$a(c,f,y,m),f.child;case 14:return uT(c,f,f.type,f.pendingProps,m);case 15:return dT(c,f,f.type,f.pendingProps,m);case 19:return yT(c,f,m);case 31:return y=f.pendingProps,m=f.mode,y={mode:y.mode,children:y.children},c===null?(m=c1(y,m),m.ref=f.ref,f.child=m,m.return=f,f=m):(m=ll(c.child,y),m.ref=f.ref,f.child=m,m.return=f,f=m),f;case 22:return fT(c,f,m);case 24:return dl(f),y=Os(Qs),c===null?(D=z(),D===null&&(D=Xr,O=Gm(),D.pooledCache=O,O.refCount++,O!==null&&(D.pooledCacheLanes|=m),D=O),f.memoizedState={parent:y,cache:D},Me(f),Kc(f,Qs,D)):((c.lanes&m)!==0&&(je(c,f),Qt(f,null,null,m),nn()),D=c.memoizedState,O=f.memoizedState,D.parent!==y?(D={parent:y,cache:y},f.memoizedState=D,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=D),Kc(f,Qs,y)):(y=O.cache,Kc(f,Qs,y),y!==D.cache&&Lh(f,[Qs],m,!0))),$a(c,f,f.pendingProps.children,m),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function JA(c){c.flags|=4}function bT(c,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!kB(f)){if(f=hl.current,f!==null&&((dr&4194048)===dr?Xc!==null:(dr&62914560)!==dr&&(dr&536870912)===0||f!==Xc))throw qe=be,pe;c.flags|=8192}}function A1(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?Xn():536870912,c.lanes|=f,Yh|=f)}function ip(c,f){if(!hr)switch(c.tailMode){case"hidden":f=c.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function vs(c){var f=c.alternate!==null&&c.alternate.child===c.child,m=0,y=0;if(f)for(var D=c.child;D!==null;)m|=D.lanes|D.childLanes,y|=D.subtreeFlags&65011712,y|=D.flags&65011712,D.return=c,D=D.sibling;else for(D=c.child;D!==null;)m|=D.lanes|D.childLanes,y|=D.subtreeFlags,y|=D.flags,D.return=c,D=D.sibling;return c.subtreeFlags|=y,c.childLanes=m,f}function dQ(c,f,m){var y=f.pendingProps;switch(mf(f),f.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vs(f),null;case 1:return vs(f),null;case 3:return m=f.stateNode,y=null,c!==null&&(y=c.memoizedState.cache),f.memoizedState.cache!==y&&(f.flags|=2048),ul(Qs),xe(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(c===null||c.child===null)&&(qa(f)?JA(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Qx())),vs(f),null;case 26:return m=f.memoizedState,c===null?(JA(f),m!==null?(vs(f),bT(f,m)):(vs(f),f.flags&=-16777217)):m?m!==c.memoizedState?(JA(f),vs(f),bT(f,m)):(vs(f),f.flags&=-16777217):(c.memoizedProps!==y&&JA(f),vs(f),f.flags&=-16777217),null;case 27:ge(f),m=ie.current;var D=f.type;if(c!==null&&f.stateNode!=null)c.memoizedProps!==y&&JA(f);else{if(!y){if(f.stateNode===null)throw Error(r(166));return vs(f),null}c=J.current,qa(f)?Ox(f):(c=bB(D,y,m),f.stateNode=c,JA(f))}return vs(f),null;case 5:if(ge(f),m=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==y&&JA(f);else{if(!y){if(f.stateNode===null)throw Error(r(166));return vs(f),null}if(c=J.current,qa(f))Ox(f);else{switch(D=C1(ie.current),c){case 1:c=D.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:c=D.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":c=D.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":c=D.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":c=D.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof y.is=="string"?D.createElement("select",{is:y.is}):D.createElement("select"),y.multiple?c.multiple=!0:y.size&&(c.size=y.size);break;default:c=typeof y.is=="string"?D.createElement(m,{is:y.is}):D.createElement(m)}}c[or]=f,c[Zn]=y;e:for(D=f.child;D!==null;){if(D.tag===5||D.tag===6)c.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===f)break e;for(;D.sibling===null;){if(D.return===null||D.return===f)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}f.stateNode=c;e:switch(Ja(c,m,y),m){case"button":case"input":case"select":case"textarea":c=!!y.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&JA(f)}}return vs(f),f.flags&=-16777217,null;case 6:if(c&&f.stateNode!=null)c.memoizedProps!==y&&JA(f);else{if(typeof y!="string"&&f.stateNode===null)throw Error(r(166));if(c=ie.current,qa(f)){if(c=f.stateNode,m=f.memoizedProps,y=null,D=js,D!==null)switch(D.tag){case 27:case 5:y=D.memoizedProps}c[or]=f,c=!!(c.nodeValue===m||y!==null&&y.suppressHydrationWarning===!0||mB(c.nodeValue,m)),c||VA(f)}else c=C1(c).createTextNode(y),c[or]=f,f.stateNode=c}return vs(f),null;case 13:if(y=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(D=qa(f),y!==null&&y.dehydrated!==null){if(c===null){if(!D)throw Error(r(318));if(D=f.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(r(317));D[or]=f}else Hi(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;vs(f),D=!1}else D=Qx(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=D),D=!0;if(!D)return f.flags&256?($A(f),f):($A(f),null)}if($A(f),(f.flags&128)!==0)return f.lanes=m,f;if(m=y!==null,c=c!==null&&c.memoizedState!==null,m){y=f.child,D=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(D=y.alternate.memoizedState.cachePool.pool);var O=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(O=y.memoizedState.cachePool.pool),O!==D&&(y.flags|=2048)}return m!==c&&m&&(f.child.flags|=8192),A1(f,f.updateQueue),vs(f),null;case 4:return xe(),c===null&&gb(f.stateNode.containerInfo),vs(f),null;case 10:return ul(f.type),vs(f),null;case 19:if(j(Ca),D=f.memoizedState,D===null)return vs(f),null;if(y=(f.flags&128)!==0,O=D.rendering,O===null)if(y)ip(D,!1);else{if(Is!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(O=a1(c),O!==null){for(f.flags|=128,ip(D,!1),c=O.updateQueue,f.updateQueue=c,A1(f,c),f.subtreeFlags=0,c=m,m=f.child;m!==null;)df(m,c),m=m.sibling;return W(Ca,Ca.current&1|2),f.child}c=c.sibling}D.tail!==null&&Ge()>f1&&(f.flags|=128,y=!0,ip(D,!1),f.lanes=4194304)}else{if(!y)if(c=a1(O),c!==null){if(f.flags|=128,y=!0,c=c.updateQueue,f.updateQueue=c,A1(f,c),ip(D,!0),D.tail===null&&D.tailMode==="hidden"&&!O.alternate&&!hr)return vs(f),null}else 2*Ge()-D.renderingStartTime>f1&&m!==536870912&&(f.flags|=128,y=!0,ip(D,!1),f.lanes=4194304);D.isBackwards?(O.sibling=f.child,f.child=O):(c=D.last,c!==null?c.sibling=O:f.child=O,D.last=O)}return D.tail!==null?(f=D.tail,D.rendering=f,D.tail=f.sibling,D.renderingStartTime=Ge(),f.sibling=null,c=Ca.current,W(Ca,y?c&1|2:c&1),f):(vs(f),null);case 22:case 23:return $A(f),Tn(),y=f.memoizedState!==null,c!==null?c.memoizedState!==null!==y&&(f.flags|=8192):y&&(f.flags|=8192),y?(m&536870912)!==0&&(f.flags&128)===0&&(vs(f),f.subtreeFlags&6&&(f.flags|=8192)):vs(f),m=f.updateQueue,m!==null&&A1(f,m.retryQueue),m=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),y=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==m&&(f.flags|=2048),c!==null&&j(U),null;case 24:return m=null,c!==null&&(m=c.memoizedState.cache),f.memoizedState.cache!==m&&(f.flags|=2048),ul(Qs),vs(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function fQ(c,f){switch(mf(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return ul(Qs),xe(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return ge(f),null;case 13:if($A(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Hi()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return j(Ca),null;case 4:return xe(),null;case 10:return ul(f.type),null;case 22:case 23:return $A(f),Tn(),c!==null&&j(U),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return ul(Qs),null;case 25:return null;default:return null}}function CT(c,f){switch(mf(f),f.tag){case 3:ul(Qs),xe();break;case 26:case 27:case 5:ge(f);break;case 4:xe();break;case 13:$A(f);break;case 19:j(Ca);break;case 10:ul(f.type);break;case 22:case 23:$A(f),Tn(),c!==null&&j(U);break;case 24:ul(Qs)}}function op(c,f){try{var m=f.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var D=y.next;m=D;do{if((m.tag&c)===c){y=void 0;var O=m.create,le=m.inst;y=O(),le.destroy=y}m=m.next}while(m!==D)}}catch(we){$r(f,f.return,we)}}function Yu(c,f,m){try{var y=f.updateQueue,D=y!==null?y.lastEffect:null;if(D!==null){var O=D.next;y=O;do{if((y.tag&c)===c){var le=y.inst,we=le.destroy;if(we!==void 0){le.destroy=void 0,D=f;var Re=m,Ze=we;try{Ze()}catch(ft){$r(D,Re,ft)}}}y=y.next}while(y!==O)}}catch(ft){$r(f,f.return,ft)}}function ET(c){var f=c.updateQueue;if(f!==null){var m=c.stateNode;try{vr(f,m)}catch(y){$r(c,c.return,y)}}}function _T(c,f,m){m.props=Bf(c.type,c.memoizedProps),m.state=c.memoizedState;try{m.componentWillUnmount()}catch(y){$r(c,f,y)}}function lp(c,f){try{var m=c.ref;if(m!==null){switch(c.tag){case 26:case 27:case 5:var y=c.stateNode;break;case 30:y=c.stateNode;break;default:y=c.stateNode}typeof m=="function"?c.refCleanup=m(y):m.current=y}}catch(D){$r(c,f,D)}}function Zc(c,f){var m=c.ref,y=c.refCleanup;if(m!==null)if(typeof y=="function")try{y()}catch(D){$r(c,f,D)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(D){$r(c,f,D)}else m.current=null}function ST(c){var f=c.type,m=c.memoizedProps,y=c.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":m.autoFocus&&y.focus();break e;case"img":m.src?y.src=m.src:m.srcSet&&(y.srcset=m.srcSet)}}catch(D){$r(c,c.return,D)}}function qw(c,f,m){try{var y=c.stateNode;DQ(y,c.type,m,f),y[Zn]=f}catch(D){$r(c,c.return,D)}}function TT(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&sd(c.type)||c.tag===4}function Ww(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||TT(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&sd(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function $w(c,f,m){var y=c.tag;if(y===5||y===6)c=c.stateNode,f?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(c,f):(f=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,f.appendChild(c),m=m._reactRootContainer,m!=null||f.onclick!==null||(f.onclick=b1));else if(y!==4&&(y===27&&sd(c.type)&&(m=c.stateNode,f=null),c=c.child,c!==null))for($w(c,f,m),c=c.sibling;c!==null;)$w(c,f,m),c=c.sibling}function u1(c,f,m){var y=c.tag;if(y===5||y===6)c=c.stateNode,f?m.insertBefore(c,f):m.appendChild(c);else if(y!==4&&(y===27&&sd(c.type)&&(m=c.stateNode),c=c.child,c!==null))for(u1(c,f,m),c=c.sibling;c!==null;)u1(c,f,m),c=c.sibling}function BT(c){var f=c.stateNode,m=c.memoizedProps;try{for(var y=c.type,D=f.attributes;D.length;)f.removeAttributeNode(D[0]);Ja(f,y,m),f[or]=c,f[Zn]=m}catch(O){$r(c,c.return,O)}}var XA=!1,Vs=!1,Yw=!1,NT=typeof WeakSet=="function"?WeakSet:Set,Ua=null;function hQ(c,f){if(c=c.containerInfo,yb=N1,c=Ka(c),ba(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var D=y.anchorOffset,O=y.focusNode;y=y.focusOffset;try{m.nodeType,O.nodeType}catch{m=null;break e}var le=0,we=-1,Re=-1,Ze=0,ft=0,wt=c,rt=null;t:for(;;){for(var st;wt!==m||D!==0&&wt.nodeType!==3||(we=le+D),wt!==O||y!==0&&wt.nodeType!==3||(Re=le+y),wt.nodeType===3&&(le+=wt.nodeValue.length),(st=wt.firstChild)!==null;)rt=wt,wt=st;for(;;){if(wt===c)break t;if(rt===m&&++Ze===D&&(we=le),rt===O&&++ft===y&&(Re=le),(st=wt.nextSibling)!==null)break;wt=rt,rt=wt.parentNode}wt=st}m=we===-1||Re===-1?null:{start:we,end:Re}}else m=null}m=m||{start:0,end:0}}else m=null;for(wb={focusedElem:c,selectionRange:m},N1=!1,Ua=f;Ua!==null;)if(f=Ua,c=f.child,(f.subtreeFlags&1024)!==0&&c!==null)c.return=f,Ua=c;else for(;Ua!==null;){switch(f=Ua,O=f.alternate,c=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&O!==null){c=void 0,m=f,D=O.memoizedProps,O=O.memoizedState,y=m.stateNode;try{var En=Bf(m.type,D,m.elementType===m.type);c=y.getSnapshotBeforeUpdate(En,O),y.__reactInternalSnapshotBeforeUpdate=c}catch(hn){$r(m,m.return,hn)}}break;case 3:if((c&1024)!==0){if(c=f.stateNode.containerInfo,m=c.nodeType,m===9)Eb(c);else if(m===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":Eb(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=f.sibling,c!==null){c.return=f.return,Ua=c;break}Ua=f.return}}function kT(c,f,m){var y=m.flags;switch(m.tag){case 0:case 11:case 15:Ju(c,m),y&4&&op(5,m);break;case 1:if(Ju(c,m),y&4)if(c=m.stateNode,f===null)try{c.componentDidMount()}catch(le){$r(m,m.return,le)}else{var D=Bf(m.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(D,f,c.__reactInternalSnapshotBeforeUpdate)}catch(le){$r(m,m.return,le)}}y&64&&ET(m),y&512&&lp(m,m.return);break;case 3:if(Ju(c,m),y&64&&(c=m.updateQueue,c!==null)){if(f=null,m.child!==null)switch(m.child.tag){case 27:case 5:f=m.child.stateNode;break;case 1:f=m.child.stateNode}try{vr(c,f)}catch(le){$r(m,m.return,le)}}break;case 27:f===null&&y&4&&BT(m);case 26:case 5:Ju(c,m),f===null&&y&4&&ST(m),y&512&&lp(m,m.return);break;case 12:Ju(c,m);break;case 13:Ju(c,m),y&4&&RT(c,m),y&64&&(c=m.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(m=CQ.bind(null,m),QQ(c,m))));break;case 22:if(y=m.memoizedState!==null||XA,!y){f=f!==null&&f.memoizedState!==null||Vs,D=XA;var O=Vs;XA=y,(Vs=f)&&!O?Xu(c,m,(m.subtreeFlags&8772)!==0):Ju(c,m),XA=D,Vs=O}break;case 30:break;default:Ju(c,m)}}function IT(c){var f=c.alternate;f!==null&&(c.alternate=null,IT(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&_e(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var ds=null,oo=!1;function ZA(c,f,m){for(m=m.child;m!==null;)FT(c,f,m),m=m.sibling}function FT(c,f,m){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Mt,m)}catch{}switch(m.tag){case 26:Vs||Zc(m,f),ZA(c,f,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Vs||Zc(m,f);var y=ds,D=oo;sd(m.type)&&(ds=m.stateNode,oo=!1),ZA(c,f,m),gp(m.stateNode),ds=y,oo=D;break;case 5:Vs||Zc(m,f);case 6:if(y=ds,D=oo,ds=null,ZA(c,f,m),ds=y,oo=D,ds!==null)if(oo)try{(ds.nodeType===9?ds.body:ds.nodeName==="HTML"?ds.ownerDocument.body:ds).removeChild(m.stateNode)}catch(O){$r(m,f,O)}else try{ds.removeChild(m.stateNode)}catch(O){$r(m,f,O)}break;case 18:ds!==null&&(oo?(c=ds,yB(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,m.stateNode),_p(c)):yB(ds,m.stateNode));break;case 4:y=ds,D=oo,ds=m.stateNode.containerInfo,oo=!0,ZA(c,f,m),ds=y,oo=D;break;case 0:case 11:case 14:case 15:Vs||Yu(2,m,f),Vs||Yu(4,m,f),ZA(c,f,m);break;case 1:Vs||(Zc(m,f),y=m.stateNode,typeof y.componentWillUnmount=="function"&&_T(m,f,y)),ZA(c,f,m);break;case 21:ZA(c,f,m);break;case 22:Vs=(y=Vs)||m.memoizedState!==null,ZA(c,f,m),Vs=y;break;default:ZA(c,f,m)}}function RT(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{_p(c)}catch(m){$r(f,f.return,m)}}function mQ(c){switch(c.tag){case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new NT),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new NT),f;default:throw Error(r(435,c.tag))}}function Jw(c,f){var m=mQ(c);f.forEach(function(y){var D=EQ.bind(null,c,y);m.has(y)||(m.add(y),y.then(D,D))})}function Fo(c,f){var m=f.deletions;if(m!==null)for(var y=0;y<m.length;y++){var D=m[y],O=c,le=f,we=le;e:for(;we!==null;){switch(we.tag){case 27:if(sd(we.type)){ds=we.stateNode,oo=!1;break e}break;case 5:ds=we.stateNode,oo=!1;break e;case 3:case 4:ds=we.stateNode.containerInfo,oo=!0;break e}we=we.return}if(ds===null)throw Error(r(160));FT(O,le,D),ds=null,oo=!1,O=D.alternate,O!==null&&(O.return=null),D.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)DT(f,c),f=f.sibling}var rc=null;function DT(c,f){var m=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Fo(f,c),Ro(c),y&4&&(Yu(3,c,c.return),op(3,c),Yu(5,c,c.return));break;case 1:Fo(f,c),Ro(c),y&512&&(Vs||m===null||Zc(m,m.return)),y&64&&XA&&(c=c.updateQueue,c!==null&&(y=c.callbacks,y!==null&&(m=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=m===null?y:m.concat(y))));break;case 26:var D=rc;if(Fo(f,c),Ro(c),y&512&&(Vs||m===null||Zc(m,m.return)),y&4){var O=m!==null?m.memoizedState:null;if(y=c.memoizedState,m===null)if(y===null)if(c.stateNode===null){e:{y=c.type,m=c.memoizedProps,D=D.ownerDocument||D;t:switch(y){case"title":O=D.getElementsByTagName("title")[0],(!O||O[Ee]||O[or]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=D.createElement(y),D.head.insertBefore(O,D.querySelector("head > title"))),Ja(O,y,m),O[or]=c,Qe(O),y=O;break e;case"link":var le=BB("link","href",D).get(y+(m.href||""));if(le){for(var we=0;we<le.length;we++)if(O=le[we],O.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&O.getAttribute("rel")===(m.rel==null?null:m.rel)&&O.getAttribute("title")===(m.title==null?null:m.title)&&O.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){le.splice(we,1);break t}}O=D.createElement(y),Ja(O,y,m),D.head.appendChild(O);break;case"meta":if(le=BB("meta","content",D).get(y+(m.content||""))){for(we=0;we<le.length;we++)if(O=le[we],O.getAttribute("content")===(m.content==null?null:""+m.content)&&O.getAttribute("name")===(m.name==null?null:m.name)&&O.getAttribute("property")===(m.property==null?null:m.property)&&O.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&O.getAttribute("charset")===(m.charSet==null?null:m.charSet)){le.splice(we,1);break t}}O=D.createElement(y),Ja(O,y,m),D.head.appendChild(O);break;default:throw Error(r(468,y))}O[or]=c,Qe(O),y=O}c.stateNode=y}else NB(D,c.type,c.stateNode);else c.stateNode=TB(D,y,c.memoizedProps);else O!==y?(O===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):O.count--,y===null?NB(D,c.type,c.stateNode):TB(D,y,c.memoizedProps)):y===null&&c.stateNode!==null&&qw(c,c.memoizedProps,m.memoizedProps)}break;case 27:Fo(f,c),Ro(c),y&512&&(Vs||m===null||Zc(m,m.return)),m!==null&&y&4&&qw(c,c.memoizedProps,m.memoizedProps);break;case 5:if(Fo(f,c),Ro(c),y&512&&(Vs||m===null||Zc(m,m.return)),c.flags&32){D=c.stateNode;try{oi(D,"")}catch(st){$r(c,c.return,st)}}y&4&&c.stateNode!=null&&(D=c.memoizedProps,qw(c,D,m!==null?m.memoizedProps:D)),y&1024&&(Yw=!0);break;case 6:if(Fo(f,c),Ro(c),y&4){if(c.stateNode===null)throw Error(r(162));y=c.memoizedProps,m=c.stateNode;try{m.nodeValue=y}catch(st){$r(c,c.return,st)}}break;case 3:if(S1=null,D=rc,rc=E1(f.containerInfo),Fo(f,c),rc=D,Ro(c),y&4&&m!==null&&m.memoizedState.isDehydrated)try{_p(f.containerInfo)}catch(st){$r(c,c.return,st)}Yw&&(Yw=!1,UT(c));break;case 4:y=rc,rc=E1(c.stateNode.containerInfo),Fo(f,c),Ro(c),rc=y;break;case 12:Fo(f,c),Ro(c);break;case 13:Fo(f,c),Ro(c),c.child.flags&8192&&c.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(rb=Ge()),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,Jw(c,y)));break;case 22:D=c.memoizedState!==null;var Re=m!==null&&m.memoizedState!==null,Ze=XA,ft=Vs;if(XA=Ze||D,Vs=ft||Re,Fo(f,c),Vs=ft,XA=Ze,Ro(c),y&8192)e:for(f=c.stateNode,f._visibility=D?f._visibility&-2:f._visibility|1,D&&(m===null||Re||XA||Vs||Nf(c)),m=null,f=c;;){if(f.tag===5||f.tag===26){if(m===null){Re=m=f;try{if(O=Re.stateNode,D)le=O.style,typeof le.setProperty=="function"?le.setProperty("display","none","important"):le.display="none";else{we=Re.stateNode;var wt=Re.memoizedProps.style,rt=wt!=null&&wt.hasOwnProperty("display")?wt.display:null;we.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(st){$r(Re,Re.return,st)}}}else if(f.tag===6){if(m===null){Re=f;try{Re.stateNode.nodeValue=D?"":Re.memoizedProps}catch(st){$r(Re,Re.return,st)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}y&4&&(y=c.updateQueue,y!==null&&(m=y.retryQueue,m!==null&&(y.retryQueue=null,Jw(c,m))));break;case 19:Fo(f,c),Ro(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,Jw(c,y)));break;case 30:break;case 21:break;default:Fo(f,c),Ro(c)}}function Ro(c){var f=c.flags;if(f&2){try{for(var m,y=c.return;y!==null;){if(TT(y)){m=y;break}y=y.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var D=m.stateNode,O=Ww(c);u1(c,O,D);break;case 5:var le=m.stateNode;m.flags&32&&(oi(le,""),m.flags&=-33);var we=Ww(c);u1(c,we,le);break;case 3:case 4:var Re=m.stateNode.containerInfo,Ze=Ww(c);$w(c,Ze,Re);break;default:throw Error(r(161))}}catch(ft){$r(c,c.return,ft)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function UT(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;UT(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),c=c.sibling}}function Ju(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)kT(c,f.alternate,f),f=f.sibling}function Nf(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:Yu(4,f,f.return),Nf(f);break;case 1:Zc(f,f.return);var m=f.stateNode;typeof m.componentWillUnmount=="function"&&_T(f,f.return,m),Nf(f);break;case 27:gp(f.stateNode);case 26:case 5:Zc(f,f.return),Nf(f);break;case 22:f.memoizedState===null&&Nf(f);break;case 30:Nf(f);break;default:Nf(f)}c=c.sibling}}function Xu(c,f,m){for(m=m&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var y=f.alternate,D=c,O=f,le=O.flags;switch(O.tag){case 0:case 11:case 15:Xu(D,O,m),op(4,O);break;case 1:if(Xu(D,O,m),y=O,D=y.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(Ze){$r(y,y.return,Ze)}if(y=O,D=y.updateQueue,D!==null){var we=y.stateNode;try{var Re=D.shared.hiddenCallbacks;if(Re!==null)for(D.shared.hiddenCallbacks=null,D=0;D<Re.length;D++)Ar(Re[D],we)}catch(Ze){$r(y,y.return,Ze)}}m&&le&64&&ET(O),lp(O,O.return);break;case 27:BT(O);case 26:case 5:Xu(D,O,m),m&&y===null&&le&4&&ST(O),lp(O,O.return);break;case 12:Xu(D,O,m);break;case 13:Xu(D,O,m),m&&le&4&&RT(D,O);break;case 22:O.memoizedState===null&&Xu(D,O,m),lp(O,O.return);break;case 30:break;default:Xu(D,O,m)}f=f.sibling}}function Xw(c,f){var m=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==m&&(c!=null&&c.refCount++,m!=null&&pf(m))}function Zw(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&pf(c))}function eA(c,f,m,y){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)LT(c,f,m,y),f=f.sibling}function LT(c,f,m,y){var D=f.flags;switch(f.tag){case 0:case 11:case 15:eA(c,f,m,y),D&2048&&op(9,f);break;case 1:eA(c,f,m,y);break;case 3:eA(c,f,m,y),D&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&pf(c)));break;case 12:if(D&2048){eA(c,f,m,y),c=f.stateNode;try{var O=f.memoizedProps,le=O.id,we=O.onPostCommit;typeof we=="function"&&we(le,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Re){$r(f,f.return,Re)}}else eA(c,f,m,y);break;case 13:eA(c,f,m,y);break;case 23:break;case 22:O=f.stateNode,le=f.alternate,f.memoizedState!==null?O._visibility&2?eA(c,f,m,y):cp(c,f):O._visibility&2?eA(c,f,m,y):(O._visibility|=2,qh(c,f,m,y,(f.subtreeFlags&10256)!==0)),D&2048&&Xw(le,f);break;case 24:eA(c,f,m,y),D&2048&&Zw(f.alternate,f);break;default:eA(c,f,m,y)}}function qh(c,f,m,y,D){for(D=D&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var O=c,le=f,we=m,Re=y,Ze=le.flags;switch(le.tag){case 0:case 11:case 15:qh(O,le,we,Re,D),op(8,le);break;case 23:break;case 22:var ft=le.stateNode;le.memoizedState!==null?ft._visibility&2?qh(O,le,we,Re,D):cp(O,le):(ft._visibility|=2,qh(O,le,we,Re,D)),D&&Ze&2048&&Xw(le.alternate,le);break;case 24:qh(O,le,we,Re,D),D&&Ze&2048&&Zw(le.alternate,le);break;default:qh(O,le,we,Re,D)}f=f.sibling}}function cp(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var m=c,y=f,D=y.flags;switch(y.tag){case 22:cp(m,y),D&2048&&Xw(y.alternate,y);break;case 24:cp(m,y),D&2048&&Zw(y.alternate,y);break;default:cp(m,y)}f=f.sibling}}var Ap=8192;function Wh(c){if(c.subtreeFlags&Ap)for(c=c.child;c!==null;)MT(c),c=c.sibling}function MT(c){switch(c.tag){case 26:Wh(c),c.flags&Ap&&c.memoizedState!==null&&e9(rc,c.memoizedState,c.memoizedProps);break;case 5:Wh(c);break;case 3:case 4:var f=rc;rc=E1(c.stateNode.containerInfo),Wh(c),rc=f;break;case 22:c.memoizedState===null&&(f=c.alternate,f!==null&&f.memoizedState!==null?(f=Ap,Ap=16777216,Wh(c),Ap=f):Wh(c));break;default:Wh(c)}}function PT(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function up(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var m=0;m<f.length;m++){var y=f[m];Ua=y,OT(y,c)}PT(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)jT(c),c=c.sibling}function jT(c){switch(c.tag){case 0:case 11:case 15:up(c),c.flags&2048&&Yu(9,c,c.return);break;case 3:up(c);break;case 12:up(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&2&&(c.return===null||c.return.tag!==13)?(f._visibility&=-3,d1(c)):up(c);break;default:up(c)}}function d1(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var m=0;m<f.length;m++){var y=f[m];Ua=y,OT(y,c)}PT(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:Yu(8,f,f.return),d1(f);break;case 22:m=f.stateNode,m._visibility&2&&(m._visibility&=-3,d1(f));break;default:d1(f)}c=c.sibling}}function OT(c,f){for(;Ua!==null;){var m=Ua;switch(m.tag){case 0:case 11:case 15:Yu(8,m,f);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var y=m.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:pf(m.memoizedState.cache)}if(y=m.child,y!==null)y.return=m,Ua=y;else e:for(m=c;Ua!==null;){y=Ua;var D=y.sibling,O=y.return;if(IT(y),y===m){Ua=null;break e}if(D!==null){D.return=O,Ua=D;break e}Ua=O}}}var pQ={getCacheForType:function(c){var f=Os(Qs),m=f.data.get(c);return m===void 0&&(m=c(),f.data.set(c,m)),m}},gQ=typeof WeakMap=="function"?WeakMap:Map,Rr=0,Xr=null,er=null,dr=0,Dr=0,Do=null,Zu=!1,$h=!1,eb=!1,eu=0,Is=0,ed=0,kf=0,tb=0,ml=0,Yh=0,dp=null,lo=null,nb=!1,rb=0,f1=1/0,h1=null,td=null,Ya=0,nd=null,Jh=null,Xh=0,sb=0,ab=null,QT=null,fp=0,ib=null;function Uo(){if((Rr&2)!==0&&dr!==0)return dr&-dr;if(K.T!==null){var c=GA;return c!==0?c:fb()}return hs()}function HT(){ml===0&&(ml=(dr&536870912)===0||hr?ta():536870912);var c=hl.current;return c!==null&&(c.flags|=32),ml}function Lo(c,f,m){(c===Xr&&(Dr===2||Dr===9)||c.cancelPendingCommit!==null)&&(Zh(c,0),rd(c,dr,ml,!1)),ls(c,m),((Rr&2)===0||c!==Xr)&&(c===Xr&&((Rr&2)===0&&(kf|=m),Is===4&&rd(c,dr,ml,!1)),tA(c))}function VT(c,f,m){if((Rr&6)!==0)throw Error(r(327));var y=!m&&(f&124)===0&&(f&c.expiredLanes)===0||Er(c,f),D=y?yQ(c,f):cb(c,f,!0),O=y;do{if(D===0){$h&&!y&&rd(c,f,0,!1);break}else{if(m=c.current.alternate,O&&!xQ(m)){D=cb(c,f,!1),O=!1;continue}if(D===2){if(O=f,c.errorRecoveryDisabledLanes&O)var le=0;else le=c.pendingLanes&-536870913,le=le!==0?le:le&536870912?536870912:0;if(le!==0){f=le;e:{var we=c;D=dp;var Re=we.current.memoizedState.isDehydrated;if(Re&&(Zh(we,le).flags|=256),le=cb(we,le,!1),le!==2){if(eb&&!Re){we.errorRecoveryDisabledLanes|=O,kf|=O,D=4;break e}O=lo,lo=D,O!==null&&(lo===null?lo=O:lo.push.apply(lo,O))}D=le}if(O=!1,D!==2)continue}}if(D===1){Zh(c,0),rd(c,f,0,!0);break}e:{switch(y=c,O=D,O){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:rd(y,f,ml,!Zu);break e;case 2:lo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(D=rb+300-Ge(),10<D)){if(rd(y,f,ml,!Zu),Fn(y,0,!0)!==0)break e;y.timeoutHandle=xB(GT.bind(null,y,m,lo,h1,nb,f,ml,kf,Yh,Zu,O,2,-0,0),D);break e}GT(y,m,lo,h1,nb,f,ml,kf,Yh,Zu,O,0,-0,0)}}break}while(!0);tA(c)}function GT(c,f,m,y,D,O,le,we,Re,Ze,ft,wt,rt,st){if(c.timeoutHandle=-1,wt=f.subtreeFlags,(wt&8192||(wt&16785408)===16785408)&&(yp={stylesheets:null,count:0,unsuspend:ZQ},MT(f),wt=t9(),wt!==null)){c.cancelPendingCommit=wt(JT.bind(null,c,f,O,m,y,D,le,we,Re,ft,1,rt,st)),rd(c,O,le,!Ze);return}JT(c,f,O,m,y,D,le,we,Re)}function xQ(c){for(var f=c;;){var m=f.tag;if((m===0||m===11||m===15)&&f.flags&16384&&(m=f.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var y=0;y<m.length;y++){var D=m[y],O=D.getSnapshot;D=D.value;try{if(!aa(O(),D))return!1}catch{return!1}}if(m=f.child,f.subtreeFlags&16384&&m!==null)m.return=f,f=m;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function rd(c,f,m,y){f&=~tb,f&=~kf,c.suspendedLanes|=f,c.pingedLanes&=~f,y&&(c.warmLanes|=f),y=c.expirationTimes;for(var D=f;0<D;){var O=31-Pt(D),le=1<<O;y[O]=-1,D&=~le}m!==0&&tn(c,m,f)}function m1(){return(Rr&6)===0?(hp(0),!1):!0}function ob(){if(er!==null){if(Dr===0)var c=er.return;else c=er,Jl=oa=null,jh(c),zh=null,sp=0,c=er;for(;c!==null;)CT(c.alternate,c),c=c.return;er=null}}function Zh(c,f){var m=c.timeoutHandle;m!==-1&&(c.timeoutHandle=-1,LQ(m)),m=c.cancelPendingCommit,m!==null&&(c.cancelPendingCommit=null,m()),ob(),Xr=c,er=m=ll(c.current,null),dr=f,Dr=0,Do=null,Zu=!1,$h=Er(c,f),eb=!1,Yh=ml=tb=kf=ed=Is=0,lo=dp=null,nb=!1,(f&8)!==0&&(f|=f&32);var y=c.entangledLanes;if(y!==0)for(c=c.entanglements,y&=f;0<y;){var D=31-Pt(y),O=1<<D;f|=c[D],y&=~O}return eu=f,ro(),m}function zT(c,f){un=null,K.H=n1,f===he||f===ve?(f=Ve(),Dr=3):f===pe?(f=Ve(),Dr=4):Dr=f===cT?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Do=f,er===null&&(Is=1,o1(c,Vn(f,c.current)))}function KT(){var c=K.H;return K.H=n1,c===null?n1:c}function qT(){var c=K.A;return K.A=pQ,c}function lb(){Is=4,Zu||(dr&4194048)!==dr&&hl.current!==null||($h=!0),(ed&134217727)===0&&(kf&134217727)===0||Xr===null||rd(Xr,dr,ml,!1)}function cb(c,f,m){var y=Rr;Rr|=2;var D=KT(),O=qT();(Xr!==c||dr!==f)&&(h1=null,Zh(c,f)),f=!1;var le=Is;e:do try{if(Dr!==0&&er!==null){var we=er,Re=Do;switch(Dr){case 8:ob(),le=6;break e;case 3:case 2:case 9:case 6:hl.current===null&&(f=!0);var Ze=Dr;if(Dr=0,Do=null,e0(c,we,Re,Ze),m&&$h){le=0;break e}break;default:Ze=Dr,Dr=0,Do=null,e0(c,we,Re,Ze)}}vQ(),le=Is;break}catch(ft){zT(c,ft)}while(!0);return f&&c.shellSuspendCounter++,Jl=oa=null,Rr=y,K.H=D,K.A=O,er===null&&(Xr=null,dr=0,ro()),le}function vQ(){for(;er!==null;)WT(er)}function yQ(c,f){var m=Rr;Rr|=2;var y=KT(),D=qT();Xr!==c||dr!==f?(h1=null,f1=Ge()+500,Zh(c,f)):$h=Er(c,f);e:do try{if(Dr!==0&&er!==null){f=er;var O=Do;t:switch(Dr){case 1:Dr=0,Do=null,e0(c,f,O,1);break;case 2:case 9:if(Be(O)){Dr=0,Do=null,$T(f);break}f=function(){Dr!==2&&Dr!==9||Xr!==c||(Dr=7),tA(c)},O.then(f,f);break e;case 3:Dr=7;break e;case 4:Dr=5;break e;case 7:Be(O)?(Dr=0,Do=null,$T(f)):(Dr=0,Do=null,e0(c,f,O,7));break;case 5:var le=null;switch(er.tag){case 26:le=er.memoizedState;case 5:case 27:var we=er;if(!le||kB(le)){Dr=0,Do=null;var Re=we.sibling;if(Re!==null)er=Re;else{var Ze=we.return;Ze!==null?(er=Ze,p1(Ze)):er=null}break t}}Dr=0,Do=null,e0(c,f,O,5);break;case 6:Dr=0,Do=null,e0(c,f,O,6);break;case 8:ob(),Is=6;break e;default:throw Error(r(462))}}wQ();break}catch(ft){zT(c,ft)}while(!0);return Jl=oa=null,K.H=y,K.A=D,Rr=m,er!==null?0:(Xr=null,dr=0,ro(),Is)}function wQ(){for(;er!==null&&!De();)WT(er)}function WT(c){var f=wT(c.alternate,c,eu);c.memoizedProps=c.pendingProps,f===null?p1(c):er=f}function $T(c){var f=c,m=f.alternate;switch(f.tag){case 15:case 0:f=mT(m,f,f.pendingProps,f.type,void 0,dr);break;case 11:f=mT(m,f,f.pendingProps,f.type.render,f.ref,dr);break;case 5:jh(f);default:CT(m,f),f=er=df(f,eu),f=wT(m,f,eu)}c.memoizedProps=c.pendingProps,f===null?p1(c):er=f}function e0(c,f,m,y){Jl=oa=null,jh(f),zh=null,sp=0;var D=f.return;try{if(AQ(c,D,f,m,dr)){Is=1,o1(c,Vn(m,c.current)),er=null;return}}catch(O){if(D!==null)throw er=D,O;Is=1,o1(c,Vn(m,c.current)),er=null;return}f.flags&32768?(hr||y===1?c=!0:$h||(dr&536870912)!==0?c=!1:(Zu=c=!0,(y===2||y===9||y===3||y===6)&&(y=hl.current,y!==null&&y.tag===13&&(y.flags|=16384))),YT(f,c)):p1(f)}function p1(c){var f=c;do{if((f.flags&32768)!==0){YT(f,Zu);return}c=f.return;var m=dQ(f.alternate,f,eu);if(m!==null){er=m;return}if(f=f.sibling,f!==null){er=f;return}er=f=c}while(f!==null);Is===0&&(Is=5)}function YT(c,f){do{var m=fQ(c.alternate,c);if(m!==null){m.flags&=32767,er=m;return}if(m=c.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!f&&(c=c.sibling,c!==null)){er=c;return}er=c=m}while(c!==null);Is=6,er=null}function JT(c,f,m,y,D,O,le,we,Re){c.cancelPendingCommit=null;do g1();while(Ya!==0);if((Rr&6)!==0)throw Error(r(327));if(f!==null){if(f===c.current)throw Error(r(177));if(O=f.lanes|f.childLanes,O|=ps,Dn(c,m,O,le,we,Re),c===Xr&&(er=Xr=null,dr=0),Jh=f,nd=c,Xh=m,sb=O,ab=D,QT=y,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,_Q(Ct,function(){return nB(),null})):(c.callbackNode=null,c.callbackPriority=0),y=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||y){y=K.T,K.T=null,D=Z.p,Z.p=2,le=Rr,Rr|=4;try{hQ(c,f,m)}finally{Rr=le,Z.p=D,K.T=y}}Ya=1,XT(),ZT(),eB()}}function XT(){if(Ya===1){Ya=0;var c=nd,f=Jh,m=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||m){m=K.T,K.T=null;var y=Z.p;Z.p=2;var D=Rr;Rr|=4;try{DT(f,c);var O=wb,le=Ka(c.containerInfo),we=O.focusedElem,Re=O.selectionRange;if(le!==we&&we&&we.ownerDocument&&Lc(we.ownerDocument.documentElement,we)){if(Re!==null&&ba(we)){var Ze=Re.start,ft=Re.end;if(ft===void 0&&(ft=Ze),"selectionStart"in we)we.selectionStart=Ze,we.selectionEnd=Math.min(ft,we.value.length);else{var wt=we.ownerDocument||document,rt=wt&&wt.defaultView||window;if(rt.getSelection){var st=rt.getSelection(),En=we.textContent.length,hn=Math.min(Re.start,En),zr=Re.end===void 0?hn:Math.min(Re.end,En);!st.extend&&hn>zr&&(le=zr,zr=hn,hn=le);var ze=Vl(we,hn),Pe=Vl(we,zr);if(ze&&Pe&&(st.rangeCount!==1||st.anchorNode!==ze.node||st.anchorOffset!==ze.offset||st.focusNode!==Pe.node||st.focusOffset!==Pe.offset)){var $e=wt.createRange();$e.setStart(ze.node,ze.offset),st.removeAllRanges(),hn>zr?(st.addRange($e),st.extend(Pe.node,Pe.offset)):($e.setEnd(Pe.node,Pe.offset),st.addRange($e))}}}}for(wt=[],st=we;st=st.parentNode;)st.nodeType===1&&wt.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof we.focus=="function"&&we.focus(),we=0;we<wt.length;we++){var mt=wt[we];mt.element.scrollLeft=mt.left,mt.element.scrollTop=mt.top}}N1=!!yb,wb=yb=null}finally{Rr=D,Z.p=y,K.T=m}}c.current=f,Ya=2}}function ZT(){if(Ya===2){Ya=0;var c=nd,f=Jh,m=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||m){m=K.T,K.T=null;var y=Z.p;Z.p=2;var D=Rr;Rr|=4;try{kT(c,f.alternate,f)}finally{Rr=D,Z.p=y,K.T=m}}Ya=3}}function eB(){if(Ya===4||Ya===3){Ya=0,Ce();var c=nd,f=Jh,m=Xh,y=QT;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Ya=5:(Ya=0,Jh=nd=null,tB(c,c.pendingLanes));var D=c.pendingLanes;if(D===0&&(td=null),Or(m),f=f.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Mt,f,void 0,(f.current.flags&128)===128)}catch{}if(y!==null){f=K.T,D=Z.p,Z.p=2,K.T=null;try{for(var O=c.onRecoverableError,le=0;le<y.length;le++){var we=y[le];O(we.value,{componentStack:we.stack})}}finally{K.T=f,Z.p=D}}(Xh&3)!==0&&g1(),tA(c),D=c.pendingLanes,(m&4194090)!==0&&(D&42)!==0?c===ib?fp++:(fp=0,ib=c):fp=0,hp(0)}}function tB(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,pf(f)))}function g1(c){return XT(),ZT(),eB(),nB()}function nB(){if(Ya!==5)return!1;var c=nd,f=sb;sb=0;var m=Or(Xh),y=K.T,D=Z.p;try{Z.p=32>m?32:m,K.T=null,m=ab,ab=null;var O=nd,le=Xh;if(Ya=0,Jh=nd=null,Xh=0,(Rr&6)!==0)throw Error(r(331));var we=Rr;if(Rr|=4,jT(O.current),LT(O,O.current,le,m),Rr=we,hp(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Mt,O)}catch{}return!0}finally{Z.p=D,K.T=y,tB(c,f)}}function rB(c,f,m){f=Vn(m,f),f=Pw(c.stateNode,f,2),c=vt(c,f,2),c!==null&&(ls(c,2),tA(c))}function $r(c,f,m){if(c.tag===3)rB(c,c,m);else for(;f!==null;){if(f.tag===3){rB(f,c,m);break}else if(f.tag===1){var y=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(td===null||!td.has(y))){c=Vn(m,c),m=oT(2),y=vt(f,m,2),y!==null&&(lT(m,y,f,c),ls(y,2),tA(y));break}}f=f.return}}function Ab(c,f,m){var y=c.pingCache;if(y===null){y=c.pingCache=new gQ;var D=new Set;y.set(f,D)}else D=y.get(f),D===void 0&&(D=new Set,y.set(f,D));D.has(m)||(eb=!0,D.add(m),c=bQ.bind(null,c,f,m),f.then(c,c))}function bQ(c,f,m){var y=c.pingCache;y!==null&&y.delete(f),c.pingedLanes|=c.suspendedLanes&m,c.warmLanes&=~m,Xr===c&&(dr&m)===m&&(Is===4||Is===3&&(dr&62914560)===dr&&300>Ge()-rb?(Rr&2)===0&&Zh(c,0):tb|=m,Yh===dr&&(Yh=0)),tA(c)}function sB(c,f){f===0&&(f=Xn()),c=zl(c,f),c!==null&&(ls(c,f),tA(c))}function CQ(c){var f=c.memoizedState,m=0;f!==null&&(m=f.retryLane),sB(c,m)}function EQ(c,f){var m=0;switch(c.tag){case 13:var y=c.stateNode,D=c.memoizedState;D!==null&&(m=D.retryLane);break;case 19:y=c.stateNode;break;case 22:y=c.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(f),sB(c,m)}function _Q(c,f){return Fe(c,f)}var x1=null,t0=null,ub=!1,v1=!1,db=!1,If=0;function tA(c){c!==t0&&c.next===null&&(t0===null?x1=t0=c:t0=t0.next=c),v1=!0,ub||(ub=!0,TQ())}function hp(c,f){if(!db&&v1){db=!0;do for(var m=!1,y=x1;y!==null;){if(c!==0){var D=y.pendingLanes;if(D===0)var O=0;else{var le=y.suspendedLanes,we=y.pingedLanes;O=(1<<31-Pt(42|c)+1)-1,O&=D&~(le&~we),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(m=!0,lB(y,O))}else O=dr,O=Fn(y,y===Xr?O:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(O&3)===0||Er(y,O)||(m=!0,lB(y,O));y=y.next}while(m);db=!1}}function SQ(){aB()}function aB(){v1=ub=!1;var c=0;If!==0&&(UQ()&&(c=If),If=0);for(var f=Ge(),m=null,y=x1;y!==null;){var D=y.next,O=iB(y,f);O===0?(y.next=null,m===null?x1=D:m.next=D,D===null&&(t0=m)):(m=y,(c!==0||(O&3)!==0)&&(v1=!0)),y=D}hp(c)}function iB(c,f){for(var m=c.suspendedLanes,y=c.pingedLanes,D=c.expirationTimes,O=c.pendingLanes&-62914561;0<O;){var le=31-Pt(O),we=1<<le,Re=D[le];Re===-1?((we&m)===0||(we&y)!==0)&&(D[le]=Bn(we,f)):Re<=f&&(c.expiredLanes|=we),O&=~we}if(f=Xr,m=dr,m=Fn(c,c===f?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y=c.callbackNode,m===0||c===f&&(Dr===2||Dr===9)||c.cancelPendingCommit!==null)return y!==null&&y!==null&&et(y),c.callbackNode=null,c.callbackPriority=0;if((m&3)===0||Er(c,m)){if(f=m&-m,f===c.callbackPriority)return f;switch(y!==null&&et(y),Or(m)){case 2:case 8:m=dt;break;case 32:m=Ct;break;case 268435456:m=kt;break;default:m=Ct}return y=oB.bind(null,c),m=Fe(m,y),c.callbackPriority=f,c.callbackNode=m,f}return y!==null&&y!==null&&et(y),c.callbackPriority=2,c.callbackNode=null,2}function oB(c,f){if(Ya!==0&&Ya!==5)return c.callbackNode=null,c.callbackPriority=0,null;var m=c.callbackNode;if(g1()&&c.callbackNode!==m)return null;var y=dr;return y=Fn(c,c===Xr?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y===0?null:(VT(c,y,f),iB(c,Ge()),c.callbackNode!=null&&c.callbackNode===m?oB.bind(null,c):null)}function lB(c,f){if(g1())return null;VT(c,f,!0)}function TQ(){MQ(function(){(Rr&6)!==0?Fe(it,SQ):aB()})}function fb(){return If===0&&(If=ta()),If}function cB(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:bo(""+c)}function AB(c,f){var m=f.ownerDocument.createElement("input");return m.name=f.name,m.value=f.value,c.id&&m.setAttribute("form",c.id),f.parentNode.insertBefore(m,f),c=new FormData(c),m.parentNode.removeChild(m),c}function BQ(c,f,m,y,D){if(f==="submit"&&m&&m.stateNode===D){var O=cB((D[Zn]||null).action),le=y.submitter;le&&(f=(f=le[Zn]||null)?cB(f.formAction):le.getAttribute("formAction"),f!==null&&(O=f,le=null));var we=new Zo("action","action",null,y,D);c.push({event:we,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(If!==0){var Re=le?AB(D,le):new FormData(D);fl(m,{pending:!0,data:Re,method:D.method,action:O},null,Re)}}else typeof O=="function"&&(we.preventDefault(),Re=le?AB(D,le):new FormData(D),fl(m,{pending:!0,data:Re,method:D.method,action:O},O,Re))},currentTarget:D}]})}}for(var hb=0;hb<PA.length;hb++){var mb=PA[hb],NQ=mb.toLowerCase(),kQ=mb[0].toUpperCase()+mb.slice(1);As(NQ,"on"+kQ)}As(Mu,"onAnimationEnd"),As(Pc,"onAnimationIteration"),As(jc,"onAnimationStart"),As("dblclick","onDoubleClick"),As("focusin","onFocus"),As("focusout","onBlur"),As(Oc,"onTransitionRun"),As(MA,"onTransitionStart"),As(Pu,"onTransitionCancel"),As(Qc,"onTransitionEnd"),Nt("onMouseEnter",["mouseout","mouseover"]),Nt("onMouseLeave",["mouseout","mouseover"]),Nt("onPointerEnter",["pointerout","pointerover"]),Nt("onPointerLeave",["pointerout","pointerover"]),yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yt("onBeforeInput",["compositionend","keypress","textInput","paste"]),yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IQ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mp));function uB(c,f){f=(f&4)!==0;for(var m=0;m<c.length;m++){var y=c[m],D=y.event;y=y.listeners;e:{var O=void 0;if(f)for(var le=y.length-1;0<=le;le--){var we=y[le],Re=we.instance,Ze=we.currentTarget;if(we=we.listener,Re!==O&&D.isPropagationStopped())break e;O=we,D.currentTarget=Ze;try{O(D)}catch(ft){i1(ft)}D.currentTarget=null,O=Re}else for(le=0;le<y.length;le++){if(we=y[le],Re=we.instance,Ze=we.currentTarget,we=we.listener,Re!==O&&D.isPropagationStopped())break e;O=we,D.currentTarget=Ze;try{O(D)}catch(ft){i1(ft)}D.currentTarget=null,O=Re}}}}function tr(c,f){var m=f[kr];m===void 0&&(m=f[kr]=new Set);var y=c+"__bubble";m.has(y)||(dB(f,c,2,!1),m.add(y))}function pb(c,f,m){var y=0;f&&(y|=4),dB(m,c,y,f)}var y1="_reactListening"+Math.random().toString(36).slice(2);function gb(c){if(!c[y1]){c[y1]=!0,We.forEach(function(m){m!=="selectionchange"&&(IQ.has(m)||pb(m,!1,c),pb(m,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[y1]||(f[y1]=!0,pb("selectionchange",!1,f))}}function dB(c,f,m,y){switch(LB(f)){case 2:var D=s9;break;case 8:D=a9;break;default:D=Ib}m=D.bind(null,f,m,c),D=void 0,!za||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(D=!0),y?D!==void 0?c.addEventListener(f,m,{capture:!0,passive:D}):c.addEventListener(f,m,!0):D!==void 0?c.addEventListener(f,m,{passive:D}):c.addEventListener(f,m,!1)}function xb(c,f,m,y,D){var O=y;if((f&1)===0&&(f&2)===0&&y!==null)e:for(;;){if(y===null)return;var le=y.tag;if(le===3||le===4){var we=y.stateNode.containerInfo;if(we===D)break;if(le===4)for(le=y.return;le!==null;){var Re=le.tag;if((Re===3||Re===4)&&le.stateNode.containerInfo===D)return;le=le.return}for(;we!==null;){if(le=Te(we),le===null)return;if(Re=le.tag,Re===5||Re===6||Re===26||Re===27){y=O=le;continue e}we=we.parentNode}}y=y.return}Fu(function(){var Ze=O,ft=Ir(m),wt=[];e:{var rt=Gl.get(c);if(rt!==void 0){var st=Zo,En=c;switch(c){case"keypress":if(Ai(m)===0)break e;case"keydown":case"keyup":st=So;break;case"focusin":En="focus",st=tl;break;case"focusout":En="blur",st=tl;break;case"beforeblur":case"afterblur":st=tl;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Ts;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=el;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=Fc;break;case Mu:case Pc:case jc:st=Nc;break;case Qc:st=Ae;break;case"scroll":case"scrollend":st=IA;break;case"wheel":st=Ue;break;case"copy":case"cut":case"paste":st=kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Hl;break;case"toggle":case"beforetoggle":st=ot}var hn=(f&4)!==0,zr=!hn&&(c==="scroll"||c==="scrollend"),ze=hn?rt!==null?rt+"Capture":null:rt;hn=[];for(var Pe=Ze,$e;Pe!==null;){var mt=Pe;if($e=mt.stateNode,mt=mt.tag,mt!==5&&mt!==26&&mt!==27||$e===null||ze===null||(mt=Na(Pe,ze),mt!=null&&hn.push(pp(Pe,mt,$e))),zr)break;Pe=Pe.return}0<hn.length&&(rt=new st(rt,En,null,m,ft),wt.push({event:rt,listeners:hn}))}}if((f&7)===0){e:{if(rt=c==="mouseover"||c==="pointerover",st=c==="mouseout"||c==="pointerout",rt&&m!==$i&&(En=m.relatedTarget||m.fromElement)&&(Te(En)||En[_r]))break e;if((st||rt)&&(rt=ft.window===ft?ft:(rt=ft.ownerDocument)?rt.defaultView||rt.parentWindow:window,st?(En=m.relatedTarget||m.toElement,st=Ze,En=En?Te(En):null,En!==null&&(zr=a(En),hn=En.tag,En!==zr||hn!==5&&hn!==27&&hn!==6)&&(En=null)):(st=null,En=Ze),st!==En)){if(hn=Ts,mt="onMouseLeave",ze="onMouseEnter",Pe="mouse",(c==="pointerout"||c==="pointerover")&&(hn=Hl,mt="onPointerLeave",ze="onPointerEnter",Pe="pointer"),zr=st==null?rt:Ke(st),$e=En==null?rt:Ke(En),rt=new hn(mt,Pe+"leave",st,m,ft),rt.target=zr,rt.relatedTarget=$e,mt=null,Te(ft)===Ze&&(hn=new hn(ze,Pe+"enter",En,m,ft),hn.target=$e,hn.relatedTarget=zr,mt=hn),zr=mt,st&&En)t:{for(hn=st,ze=En,Pe=0,$e=hn;$e;$e=n0($e))Pe++;for($e=0,mt=ze;mt;mt=n0(mt))$e++;for(;0<Pe-$e;)hn=n0(hn),Pe--;for(;0<$e-Pe;)ze=n0(ze),$e--;for(;Pe--;){if(hn===ze||ze!==null&&hn===ze.alternate)break t;hn=n0(hn),ze=n0(ze)}hn=null}else hn=null;st!==null&&fB(wt,rt,st,hn,!1),En!==null&&zr!==null&&fB(wt,zr,En,hn,!0)}}e:{if(rt=Ze?Ke(Ze):window,st=rt.nodeName&&rt.nodeName.toLowerCase(),st==="select"||st==="input"&&rt.type==="file")var Xt=Uu;else if(Sr(rt))if(RA)Xt=Ih;else{Xt=Hm;var $n=di}else st=rt.nodeName,!st||st.toLowerCase()!=="input"||rt.type!=="checkbox"&&rt.type!=="radio"?Ze&&NA(Ze.elementType)&&(Xt=Uu):Xt=Af;if(Xt&&(Xt=Xt(c,Ze))){to(wt,Xt,m,ft);break e}$n&&$n(c,rt,Ze),c==="focusout"&&Ze&&rt.type==="number"&&Ze.memoizedProps.value!=null&&Yo(rt,"number",rt.value)}switch($n=Ze?Ke(Ze):window,c){case"focusin":(Sr($n)||$n.contentEditable==="true")&&(fi=$n,To=Ze,il=null);break;case"focusout":il=To=fi=null;break;case"mousedown":Bo=!0;break;case"contextmenu":case"mouseup":case"dragend":Bo=!1,cs(wt,m,ft);break;case"selectionchange":if(Mc)break;case"keydown":case"keyup":cs(wt,m,ft)}var sn;if(Ot)e:{switch(c){case"compositionstart":var pn="onCompositionStart";break e;case"compositionend":pn="onCompositionEnd";break e;case"compositionupdate":pn="onCompositionUpdate";break e}pn=void 0}else fn?Xe(c,m)&&(pn="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(pn="onCompositionStart");pn&&(se&&m.locale!=="ko"&&(fn||pn!=="onCompositionStart"?pn==="onCompositionEnd"&&fn&&(sn=kA()):(ci=ft,Xo="value"in ci?ci.value:ci.textContent,fn=!0)),$n=w1(Ze,pn),0<$n.length&&(pn=new jl(pn,c,null,m,ft),wt.push({event:pn,listeners:$n}),sn?pn.data=sn:(sn=St(m),sn!==null&&(pn.data=sn)))),(sn=Y?Wn(c,m):Sn(c,m))&&(pn=w1(Ze,"onBeforeInput"),0<pn.length&&($n=new jl("onBeforeInput","beforeinput",null,m,ft),wt.push({event:$n,listeners:pn}),$n.data=sn)),BQ(wt,c,Ze,m,ft)}uB(wt,f)})}function pp(c,f,m){return{instance:c,listener:f,currentTarget:m}}function w1(c,f){for(var m=f+"Capture",y=[];c!==null;){var D=c,O=D.stateNode;if(D=D.tag,D!==5&&D!==26&&D!==27||O===null||(D=Na(c,m),D!=null&&y.unshift(pp(c,D,O)),D=Na(c,f),D!=null&&y.push(pp(c,D,O))),c.tag===3)return y;c=c.return}return[]}function n0(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function fB(c,f,m,y,D){for(var O=f._reactName,le=[];m!==null&&m!==y;){var we=m,Re=we.alternate,Ze=we.stateNode;if(we=we.tag,Re!==null&&Re===y)break;we!==5&&we!==26&&we!==27||Ze===null||(Re=Ze,D?(Ze=Na(m,O),Ze!=null&&le.unshift(pp(m,Ze,Re))):D||(Ze=Na(m,O),Ze!=null&&le.push(pp(m,Ze,Re)))),m=m.return}le.length!==0&&c.push({event:f,listeners:le})}var FQ=/\r\n?/g,RQ=/\u0000|\uFFFD/g;function hB(c){return(typeof c=="string"?c:""+c).replace(FQ,`
`).replace(RQ,"")}function mB(c,f){return f=hB(f),hB(c)===f}function b1(){}function Gr(c,f,m,y,D,O){switch(m){case"children":typeof y=="string"?f==="body"||f==="textarea"&&y===""||oi(c,y):(typeof y=="number"||typeof y=="bigint")&&f!=="body"&&oi(c,""+y);break;case"className":Ln(c,"class",y);break;case"tabIndex":Ln(c,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(c,m,y);break;case"style":BA(c,y,O);break;case"data":if(f!=="object"){Ln(c,"data",y);break}case"src":case"href":if(y===""&&(f!=="a"||m!=="href")){c.removeAttribute(m);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(m);break}y=bo(""+y),c.setAttribute(m,y);break;case"action":case"formAction":if(typeof y=="function"){c.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(m==="formAction"?(f!=="input"&&Gr(c,f,"name",D.name,D,null),Gr(c,f,"formEncType",D.formEncType,D,null),Gr(c,f,"formMethod",D.formMethod,D,null),Gr(c,f,"formTarget",D.formTarget,D,null)):(Gr(c,f,"encType",D.encType,D,null),Gr(c,f,"method",D.method,D,null),Gr(c,f,"target",D.target,D,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(m);break}y=bo(""+y),c.setAttribute(m,y);break;case"onClick":y!=null&&(c.onclick=b1);break;case"onScroll":y!=null&&tr("scroll",c);break;case"onScrollEnd":y!=null&&tr("scrollend",c);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(m=y.__html,m!=null){if(D.children!=null)throw Error(r(60));c.innerHTML=m}}break;case"multiple":c.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":c.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){c.removeAttribute("xlink:href");break}m=bo(""+y),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(m,""+y):c.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(m,""):c.removeAttribute(m);break;case"capture":case"download":y===!0?c.setAttribute(m,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(m,y):c.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?c.setAttribute(m,y):c.removeAttribute(m);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?c.removeAttribute(m):c.setAttribute(m,y);break;case"popover":tr("beforetoggle",c),tr("toggle",c),Un(c,"popover",y);break;case"xlinkActuate":Qn(c,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Qn(c,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Qn(c,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Qn(c,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Qn(c,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Qn(c,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Qn(c,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Qn(c,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Qn(c,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Un(c,"is",y);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=wo.get(m)||m,Un(c,m,y))}}function vb(c,f,m,y,D,O){switch(m){case"style":BA(c,y,O);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(m=y.__html,m!=null){if(D.children!=null)throw Error(r(60));c.innerHTML=m}}break;case"children":typeof y=="string"?oi(c,y):(typeof y=="number"||typeof y=="bigint")&&oi(c,""+y);break;case"onScroll":y!=null&&tr("scroll",c);break;case"onScrollEnd":y!=null&&tr("scrollend",c);break;case"onClick":y!=null&&(c.onclick=b1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Je.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(D=m.endsWith("Capture"),f=m.slice(2,D?m.length-7:void 0),O=c[Zn]||null,O=O!=null?O[m]:null,typeof O=="function"&&c.removeEventListener(f,O,D),typeof y=="function")){typeof O!="function"&&O!==null&&(m in c?c[m]=null:c.hasAttribute(m)&&c.removeAttribute(m)),c.addEventListener(f,y,D);break e}m in c?c[m]=y:y===!0?c.setAttribute(m,""):Un(c,m,y)}}}function Ja(c,f,m){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tr("error",c),tr("load",c);var y=!1,D=!1,O;for(O in m)if(m.hasOwnProperty(O)){var le=m[O];if(le!=null)switch(O){case"src":y=!0;break;case"srcSet":D=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:Gr(c,f,O,le,m,null)}}D&&Gr(c,f,"srcSet",m.srcSet,m,null),y&&Gr(c,f,"src",m.src,m,null);return;case"input":tr("invalid",c);var we=O=le=D=null,Re=null,Ze=null;for(y in m)if(m.hasOwnProperty(y)){var ft=m[y];if(ft!=null)switch(y){case"name":D=ft;break;case"type":le=ft;break;case"checked":Re=ft;break;case"defaultChecked":Ze=ft;break;case"value":O=ft;break;case"defaultValue":we=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(r(137,f));break;default:Gr(c,f,y,ft,m,null)}}$o(c,O,we,Re,Ze,le,D,!1),Wo(c);return;case"select":tr("invalid",c),y=le=O=null;for(D in m)if(m.hasOwnProperty(D)&&(we=m[D],we!=null))switch(D){case"value":O=we;break;case"defaultValue":le=we;break;case"multiple":y=we;default:Gr(c,f,D,we,m,null)}f=O,m=le,c.multiple=!!y,f!=null?Wi(c,!!y,f,!1):m!=null&&Wi(c,!!y,m,!0);return;case"textarea":tr("invalid",c),O=D=y=null;for(le in m)if(m.hasOwnProperty(le)&&(we=m[le],we!=null))switch(le){case"value":y=we;break;case"defaultValue":D=we;break;case"children":O=we;break;case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(91));break;default:Gr(c,f,le,we,m,null)}Jo(c,y,D,O),Wo(c);return;case"option":for(Re in m)if(m.hasOwnProperty(Re)&&(y=m[Re],y!=null))switch(Re){case"selected":c.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Gr(c,f,Re,y,m,null)}return;case"dialog":tr("beforetoggle",c),tr("toggle",c),tr("cancel",c),tr("close",c);break;case"iframe":case"object":tr("load",c);break;case"video":case"audio":for(y=0;y<mp.length;y++)tr(mp[y],c);break;case"image":tr("error",c),tr("load",c);break;case"details":tr("toggle",c);break;case"embed":case"source":case"link":tr("error",c),tr("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ze in m)if(m.hasOwnProperty(Ze)&&(y=m[Ze],y!=null))switch(Ze){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:Gr(c,f,Ze,y,m,null)}return;default:if(NA(f)){for(ft in m)m.hasOwnProperty(ft)&&(y=m[ft],y!==void 0&&vb(c,f,ft,y,m,void 0));return}}for(we in m)m.hasOwnProperty(we)&&(y=m[we],y!=null&&Gr(c,f,we,y,m,null))}function DQ(c,f,m,y){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var D=null,O=null,le=null,we=null,Re=null,Ze=null,ft=null;for(st in m){var wt=m[st];if(m.hasOwnProperty(st)&&wt!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":Re=wt;default:y.hasOwnProperty(st)||Gr(c,f,st,null,y,wt)}}for(var rt in y){var st=y[rt];if(wt=m[rt],y.hasOwnProperty(rt)&&(st!=null||wt!=null))switch(rt){case"type":O=st;break;case"name":D=st;break;case"checked":Ze=st;break;case"defaultChecked":ft=st;break;case"value":le=st;break;case"defaultValue":we=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(r(137,f));break;default:st!==wt&&Gr(c,f,rt,st,y,wt)}}ya(c,le,we,Re,Ze,ft,O,D);return;case"select":st=le=we=rt=null;for(O in m)if(Re=m[O],m.hasOwnProperty(O)&&Re!=null)switch(O){case"value":break;case"multiple":st=Re;default:y.hasOwnProperty(O)||Gr(c,f,O,null,y,Re)}for(D in y)if(O=y[D],Re=m[D],y.hasOwnProperty(D)&&(O!=null||Re!=null))switch(D){case"value":rt=O;break;case"defaultValue":we=O;break;case"multiple":le=O;default:O!==Re&&Gr(c,f,D,O,y,Re)}f=we,m=le,y=st,rt!=null?Wi(c,!!m,rt,!1):!!y!=!!m&&(f!=null?Wi(c,!!m,f,!0):Wi(c,!!m,m?[]:"",!1));return;case"textarea":st=rt=null;for(we in m)if(D=m[we],m.hasOwnProperty(we)&&D!=null&&!y.hasOwnProperty(we))switch(we){case"value":break;case"children":break;default:Gr(c,f,we,null,y,D)}for(le in y)if(D=y[le],O=m[le],y.hasOwnProperty(le)&&(D!=null||O!=null))switch(le){case"value":rt=D;break;case"defaultValue":st=D;break;case"children":break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:D!==O&&Gr(c,f,le,D,y,O)}gr(c,rt,st);return;case"option":for(var En in m)if(rt=m[En],m.hasOwnProperty(En)&&rt!=null&&!y.hasOwnProperty(En))switch(En){case"selected":c.selected=!1;break;default:Gr(c,f,En,null,y,rt)}for(Re in y)if(rt=y[Re],st=m[Re],y.hasOwnProperty(Re)&&rt!==st&&(rt!=null||st!=null))switch(Re){case"selected":c.selected=rt&&typeof rt!="function"&&typeof rt!="symbol";break;default:Gr(c,f,Re,rt,y,st)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var hn in m)rt=m[hn],m.hasOwnProperty(hn)&&rt!=null&&!y.hasOwnProperty(hn)&&Gr(c,f,hn,null,y,rt);for(Ze in y)if(rt=y[Ze],st=m[Ze],y.hasOwnProperty(Ze)&&rt!==st&&(rt!=null||st!=null))switch(Ze){case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,f));break;default:Gr(c,f,Ze,rt,y,st)}return;default:if(NA(f)){for(var zr in m)rt=m[zr],m.hasOwnProperty(zr)&&rt!==void 0&&!y.hasOwnProperty(zr)&&vb(c,f,zr,void 0,y,rt);for(ft in y)rt=y[ft],st=m[ft],!y.hasOwnProperty(ft)||rt===st||rt===void 0&&st===void 0||vb(c,f,ft,rt,y,st);return}}for(var ze in m)rt=m[ze],m.hasOwnProperty(ze)&&rt!=null&&!y.hasOwnProperty(ze)&&Gr(c,f,ze,null,y,rt);for(wt in y)rt=y[wt],st=m[wt],!y.hasOwnProperty(wt)||rt===st||rt==null&&st==null||Gr(c,f,wt,rt,y,st)}var yb=null,wb=null;function C1(c){return c.nodeType===9?c:c.ownerDocument}function pB(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gB(c,f){if(c===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&f==="foreignObject"?0:c}function bb(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Cb=null;function UQ(){var c=window.event;return c&&c.type==="popstate"?c===Cb?!1:(Cb=c,!0):(Cb=null,!1)}var xB=typeof setTimeout=="function"?setTimeout:void 0,LQ=typeof clearTimeout=="function"?clearTimeout:void 0,vB=typeof Promise=="function"?Promise:void 0,MQ=typeof queueMicrotask=="function"?queueMicrotask:typeof vB<"u"?function(c){return vB.resolve(null).then(c).catch(PQ)}:xB;function PQ(c){setTimeout(function(){throw c})}function sd(c){return c==="head"}function yB(c,f){var m=f,y=0,D=0;do{var O=m.nextSibling;if(c.removeChild(m),O&&O.nodeType===8)if(m=O.data,m==="/$"){if(0<y&&8>y){m=y;var le=c.ownerDocument;if(m&1&&gp(le.documentElement),m&2&&gp(le.body),m&4)for(m=le.head,gp(m),le=m.firstChild;le;){var we=le.nextSibling,Re=le.nodeName;le[Ee]||Re==="SCRIPT"||Re==="STYLE"||Re==="LINK"&&le.rel.toLowerCase()==="stylesheet"||m.removeChild(le),le=we}}if(D===0){c.removeChild(O),_p(f);return}D--}else m==="$"||m==="$?"||m==="$!"?D++:y=m.charCodeAt(0)-48;else y=0;m=O}while(m);_p(f)}function Eb(c){var f=c.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var m=f;switch(f=f.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":Eb(m),_e(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}c.removeChild(m)}}function jQ(c,f,m,y){for(;c.nodeType===1;){var D=m;if(c.nodeName.toLowerCase()!==f.toLowerCase()){if(!y&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(y){if(!c[Ee])switch(f){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(O=c.getAttribute("rel"),O==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(O!==D.rel||c.getAttribute("href")!==(D.href==null||D.href===""?null:D.href)||c.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin)||c.getAttribute("title")!==(D.title==null?null:D.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(O=c.getAttribute("src"),(O!==(D.src==null?null:D.src)||c.getAttribute("type")!==(D.type==null?null:D.type)||c.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin))&&O&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(f==="input"&&c.type==="hidden"){var O=D.name==null?null:""+D.name;if(D.type==="hidden"&&c.getAttribute("name")===O)return c}else return c;if(c=sc(c.nextSibling),c===null)break}return null}function OQ(c,f,m){if(f==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!m||(c=sc(c.nextSibling),c===null))return null;return c}function _b(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function QQ(c,f){var m=c.ownerDocument;if(c.data!=="$?"||m.readyState==="complete")f();else{var y=function(){f(),m.removeEventListener("DOMContentLoaded",y)};m.addEventListener("DOMContentLoaded",y),c._reactRetry=y}}function sc(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return c}var Sb=null;function wB(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"){if(f===0)return c;f--}else m==="/$"&&f++}c=c.previousSibling}return null}function bB(c,f,m){switch(f=C1(m),c){case"html":if(c=f.documentElement,!c)throw Error(r(452));return c;case"head":if(c=f.head,!c)throw Error(r(453));return c;case"body":if(c=f.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function gp(c){for(var f=c.attributes;f.length;)c.removeAttributeNode(f[0]);_e(c)}var pl=new Map,CB=new Set;function E1(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var tu=Z.d;Z.d={f:HQ,r:VQ,D:GQ,C:zQ,L:KQ,m:qQ,X:$Q,S:WQ,M:YQ};function HQ(){var c=tu.f(),f=m1();return c||f}function VQ(c){var f=ke(c);f!==null&&f.tag===5&&f.type==="form"?Sf(f):tu.r(c)}var r0=typeof document>"u"?null:document;function EB(c,f,m){var y=r0;if(y&&typeof f=="string"&&f){var D=lr(f);D='link[rel="'+c+'"][href="'+D+'"]',typeof m=="string"&&(D+='[crossorigin="'+m+'"]'),CB.has(D)||(CB.add(D),c={rel:c,crossOrigin:m,href:f},y.querySelector(D)===null&&(f=y.createElement("link"),Ja(f,"link",c),Qe(f),y.head.appendChild(f)))}}function GQ(c){tu.D(c),EB("dns-prefetch",c,null)}function zQ(c,f){tu.C(c,f),EB("preconnect",c,f)}function KQ(c,f,m){tu.L(c,f,m);var y=r0;if(y&&c&&f){var D='link[rel="preload"][as="'+lr(f)+'"]';f==="image"&&m&&m.imageSrcSet?(D+='[imagesrcset="'+lr(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(D+='[imagesizes="'+lr(m.imageSizes)+'"]')):D+='[href="'+lr(c)+'"]';var O=D;switch(f){case"style":O=s0(c);break;case"script":O=a0(c)}pl.has(O)||(c=d({rel:"preload",href:f==="image"&&m&&m.imageSrcSet?void 0:c,as:f},m),pl.set(O,c),y.querySelector(D)!==null||f==="style"&&y.querySelector(xp(O))||f==="script"&&y.querySelector(vp(O))||(f=y.createElement("link"),Ja(f,"link",c),Qe(f),y.head.appendChild(f)))}}function qQ(c,f){tu.m(c,f);var m=r0;if(m&&c){var y=f&&typeof f.as=="string"?f.as:"script",D='link[rel="modulepreload"][as="'+lr(y)+'"][href="'+lr(c)+'"]',O=D;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=a0(c)}if(!pl.has(O)&&(c=d({rel:"modulepreload",href:c},f),pl.set(O,c),m.querySelector(D)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(vp(O)))return}y=m.createElement("link"),Ja(y,"link",c),Qe(y),m.head.appendChild(y)}}}function WQ(c,f,m){tu.S(c,f,m);var y=r0;if(y&&c){var D=tt(y).hoistableStyles,O=s0(c);f=f||"default";var le=D.get(O);if(!le){var we={loading:0,preload:null};if(le=y.querySelector(xp(O)))we.loading=5;else{c=d({rel:"stylesheet",href:c,"data-precedence":f},m),(m=pl.get(O))&&Tb(c,m);var Re=le=y.createElement("link");Qe(Re),Ja(Re,"link",c),Re._p=new Promise(function(Ze,ft){Re.onload=Ze,Re.onerror=ft}),Re.addEventListener("load",function(){we.loading|=1}),Re.addEventListener("error",function(){we.loading|=2}),we.loading|=4,_1(le,f,y)}le={type:"stylesheet",instance:le,count:1,state:we},D.set(O,le)}}}function $Q(c,f){tu.X(c,f);var m=r0;if(m&&c){var y=tt(m).hoistableScripts,D=a0(c),O=y.get(D);O||(O=m.querySelector(vp(D)),O||(c=d({src:c,async:!0},f),(f=pl.get(D))&&Bb(c,f),O=m.createElement("script"),Qe(O),Ja(O,"link",c),m.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},y.set(D,O))}}function YQ(c,f){tu.M(c,f);var m=r0;if(m&&c){var y=tt(m).hoistableScripts,D=a0(c),O=y.get(D);O||(O=m.querySelector(vp(D)),O||(c=d({src:c,async:!0,type:"module"},f),(f=pl.get(D))&&Bb(c,f),O=m.createElement("script"),Qe(O),Ja(O,"link",c),m.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},y.set(D,O))}}function _B(c,f,m,y){var D=(D=ie.current)?E1(D):null;if(!D)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(f=s0(m.href),m=tt(D).hoistableStyles,y=m.get(f),y||(y={type:"style",instance:null,count:0,state:null},m.set(f,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){c=s0(m.href);var O=tt(D).hoistableStyles,le=O.get(c);if(le||(D=D.ownerDocument||D,le={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(c,le),(O=D.querySelector(xp(c)))&&!O._p&&(le.instance=O,le.state.loading=5),pl.has(c)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},pl.set(c,m),O||JQ(D,c,m,le.state))),f&&y===null)throw Error(r(528,""));return le}if(f&&y!==null)throw Error(r(529,""));return null;case"script":return f=m.async,m=m.src,typeof m=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=a0(m),m=tt(D).hoistableScripts,y=m.get(f),y||(y={type:"script",instance:null,count:0,state:null},m.set(f,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function s0(c){return'href="'+lr(c)+'"'}function xp(c){return'link[rel="stylesheet"]['+c+"]"}function SB(c){return d({},c,{"data-precedence":c.precedence,precedence:null})}function JQ(c,f,m,y){c.querySelector('link[rel="preload"][as="style"]['+f+"]")?y.loading=1:(f=c.createElement("link"),y.preload=f,f.addEventListener("load",function(){return y.loading|=1}),f.addEventListener("error",function(){return y.loading|=2}),Ja(f,"link",m),Qe(f),c.head.appendChild(f))}function a0(c){return'[src="'+lr(c)+'"]'}function vp(c){return"script[async]"+c}function TB(c,f,m){if(f.count++,f.instance===null)switch(f.type){case"style":var y=c.querySelector('style[data-href~="'+lr(m.href)+'"]');if(y)return f.instance=y,Qe(y),y;var D=d({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return y=(c.ownerDocument||c).createElement("style"),Qe(y),Ja(y,"style",D),_1(y,m.precedence,c),f.instance=y;case"stylesheet":D=s0(m.href);var O=c.querySelector(xp(D));if(O)return f.state.loading|=4,f.instance=O,Qe(O),O;y=SB(m),(D=pl.get(D))&&Tb(y,D),O=(c.ownerDocument||c).createElement("link"),Qe(O);var le=O;return le._p=new Promise(function(we,Re){le.onload=we,le.onerror=Re}),Ja(O,"link",y),f.state.loading|=4,_1(O,m.precedence,c),f.instance=O;case"script":return O=a0(m.src),(D=c.querySelector(vp(O)))?(f.instance=D,Qe(D),D):(y=m,(D=pl.get(O))&&(y=d({},m),Bb(y,D)),c=c.ownerDocument||c,D=c.createElement("script"),Qe(D),Ja(D,"link",y),c.head.appendChild(D),f.instance=D);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(y=f.instance,f.state.loading|=4,_1(y,m.precedence,c));return f.instance}function _1(c,f,m){for(var y=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),D=y.length?y[y.length-1]:null,O=D,le=0;le<y.length;le++){var we=y[le];if(we.dataset.precedence===f)O=we;else if(O!==D)break}O?O.parentNode.insertBefore(c,O.nextSibling):(f=m.nodeType===9?m.head:m,f.insertBefore(c,f.firstChild))}function Tb(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.title==null&&(c.title=f.title)}function Bb(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.integrity==null&&(c.integrity=f.integrity)}var S1=null;function BB(c,f,m){if(S1===null){var y=new Map,D=S1=new Map;D.set(m,y)}else D=S1,y=D.get(m),y||(y=new Map,D.set(m,y));if(y.has(c))return y;for(y.set(c,null),m=m.getElementsByTagName(c),D=0;D<m.length;D++){var O=m[D];if(!(O[Ee]||O[or]||c==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var le=O.getAttribute(f)||"";le=c+le;var we=y.get(le);we?we.push(O):y.set(le,[O])}}return y}function NB(c,f,m){c=c.ownerDocument||c,c.head.insertBefore(m,f==="title"?c.querySelector("head > title"):null)}function XQ(c,f,m){if(m===1||f.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return c=f.disabled,typeof f.precedence=="string"&&c==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function kB(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var yp=null;function ZQ(){}function e9(c,f,m){if(yp===null)throw Error(r(475));var y=yp;if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var D=s0(m.href),O=c.querySelector(xp(D));if(O){c=O._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(y.count++,y=T1.bind(y),c.then(y,y)),f.state.loading|=4,f.instance=O,Qe(O);return}O=c.ownerDocument||c,m=SB(m),(D=pl.get(D))&&Tb(m,D),O=O.createElement("link"),Qe(O);var le=O;le._p=new Promise(function(we,Re){le.onload=we,le.onerror=Re}),Ja(O,"link",m),f.instance=O}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(y.count++,f=T1.bind(y),c.addEventListener("load",f),c.addEventListener("error",f))}}function t9(){if(yp===null)throw Error(r(475));var c=yp;return c.stylesheets&&c.count===0&&Nb(c,c.stylesheets),0<c.count?function(f){var m=setTimeout(function(){if(c.stylesheets&&Nb(c,c.stylesheets),c.unsuspend){var y=c.unsuspend;c.unsuspend=null,y()}},6e4);return c.unsuspend=f,function(){c.unsuspend=null,clearTimeout(m)}}:null}function T1(){if(this.count--,this.count===0){if(this.stylesheets)Nb(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var B1=null;function Nb(c,f){c.stylesheets=null,c.unsuspend!==null&&(c.count++,B1=new Map,f.forEach(n9,c),B1=null,T1.call(c))}function n9(c,f){if(!(f.state.loading&4)){var m=B1.get(c);if(m)var y=m.get(null);else{m=new Map,B1.set(c,m);for(var D=c.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<D.length;O++){var le=D[O];(le.nodeName==="LINK"||le.getAttribute("media")!=="not all")&&(m.set(le.dataset.precedence,le),y=le)}y&&m.set(null,y)}D=f.instance,le=D.getAttribute("data-precedence"),O=m.get(le)||y,O===y&&m.set(null,D),m.set(le,D),this.count++,y=T1.bind(this),D.addEventListener("load",y),D.addEventListener("error",y),O?O.parentNode.insertBefore(D,O.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(D,c.firstChild)),f.state.loading|=4}}var wp={$$typeof:k,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function r9(c,f,m,y,D,O,le,we){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.hiddenUpdates=Wr(null),this.identifierPrefix=y,this.onUncaughtError=D,this.onCaughtError=O,this.onRecoverableError=le,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=we,this.incompleteTransitions=new Map}function IB(c,f,m,y,D,O,le,we,Re,Ze,ft,wt){return c=new r9(c,f,m,le,we,Re,Ze,wt),f=1,O===!0&&(f|=24),O=Ra(3,null,null,f),c.current=O,O.stateNode=c,f=Gm(),f.refCount++,c.pooledCache=f,f.refCount++,O.memoizedState={element:y,isDehydrated:m,cache:f},Me(O),c}function FB(c){return c?(c=ia,c):ia}function RB(c,f,m,y,D,O){D=FB(D),y.context===null?y.context=D:y.pendingContext=D,y=ct(f),y.payload={element:m},O=O===void 0?null:O,O!==null&&(y.callback=O),m=vt(c,y,f),m!==null&&(Lo(m,c,f),ht(m,c,f))}function DB(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<f?m:f}}function kb(c,f){DB(c,f),(c=c.alternate)&&DB(c,f)}function UB(c){if(c.tag===13){var f=zl(c,67108864);f!==null&&Lo(f,c,67108864),kb(c,67108864)}}var N1=!0;function s9(c,f,m,y){var D=K.T;K.T=null;var O=Z.p;try{Z.p=2,Ib(c,f,m,y)}finally{Z.p=O,K.T=D}}function a9(c,f,m,y){var D=K.T;K.T=null;var O=Z.p;try{Z.p=8,Ib(c,f,m,y)}finally{Z.p=O,K.T=D}}function Ib(c,f,m,y){if(N1){var D=Fb(y);if(D===null)xb(c,f,y,k1,m),MB(c,y);else if(o9(D,c,f,m,y))y.stopPropagation();else if(MB(c,y),f&4&&-1<i9.indexOf(c)){for(;D!==null;){var O=ke(D);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var le=mn(O.pendingLanes);if(le!==0){var we=O;for(we.pendingLanes|=2,we.entangledLanes|=2;le;){var Re=1<<31-Pt(le);we.entanglements[1]|=Re,le&=~Re}tA(O),(Rr&6)===0&&(f1=Ge()+500,hp(0))}}break;case 13:we=zl(O,2),we!==null&&Lo(we,O,2),m1(),kb(O,2)}if(O=Fb(y),O===null&&xb(c,f,y,k1,m),O===D)break;D=O}D!==null&&y.stopPropagation()}else xb(c,f,y,null,m)}}function Fb(c){return c=Ir(c),Rb(c)}var k1=null;function Rb(c){if(k1=null,c=Te(c),c!==null){var f=a(c);if(f===null)c=null;else{var m=f.tag;if(m===13){if(c=i(f),c!==null)return c;c=null}else if(m===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null)}}return k1=c,null}function LB(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nt()){case it:return 2;case dt:return 8;case Ct:case At:return 32;case kt:return 268435456;default:return 32}default:return 32}}var Db=!1,ad=null,id=null,od=null,bp=new Map,Cp=new Map,ld=[],i9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function MB(c,f){switch(c){case"focusin":case"focusout":ad=null;break;case"dragenter":case"dragleave":id=null;break;case"mouseover":case"mouseout":od=null;break;case"pointerover":case"pointerout":bp.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cp.delete(f.pointerId)}}function Ep(c,f,m,y,D,O){return c===null||c.nativeEvent!==O?(c={blockedOn:f,domEventName:m,eventSystemFlags:y,nativeEvent:O,targetContainers:[D]},f!==null&&(f=ke(f),f!==null&&UB(f)),c):(c.eventSystemFlags|=y,f=c.targetContainers,D!==null&&f.indexOf(D)===-1&&f.push(D),c)}function o9(c,f,m,y,D){switch(f){case"focusin":return ad=Ep(ad,c,f,m,y,D),!0;case"dragenter":return id=Ep(id,c,f,m,y,D),!0;case"mouseover":return od=Ep(od,c,f,m,y,D),!0;case"pointerover":var O=D.pointerId;return bp.set(O,Ep(bp.get(O)||null,c,f,m,y,D)),!0;case"gotpointercapture":return O=D.pointerId,Cp.set(O,Ep(Cp.get(O)||null,c,f,m,y,D)),!0}return!1}function PB(c){var f=Te(c.target);if(f!==null){var m=a(f);if(m!==null){if(f=m.tag,f===13){if(f=i(m),f!==null){c.blockedOn=f,ga(c.priority,function(){if(m.tag===13){var y=Uo();y=na(y);var D=zl(m,y);D!==null&&Lo(D,m,y),kb(m,y)}});return}}else if(f===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function I1(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var m=Fb(c.nativeEvent);if(m===null){m=c.nativeEvent;var y=new m.constructor(m.type,m);$i=y,m.target.dispatchEvent(y),$i=null}else return f=ke(m),f!==null&&UB(f),c.blockedOn=m,!1;f.shift()}return!0}function jB(c,f,m){I1(c)&&m.delete(f)}function l9(){Db=!1,ad!==null&&I1(ad)&&(ad=null),id!==null&&I1(id)&&(id=null),od!==null&&I1(od)&&(od=null),bp.forEach(jB),Cp.forEach(jB)}function F1(c,f){c.blockedOn===f&&(c.blockedOn=null,Db||(Db=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,l9)))}var R1=null;function OB(c){R1!==c&&(R1=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){R1===c&&(R1=null);for(var f=0;f<c.length;f+=3){var m=c[f],y=c[f+1],D=c[f+2];if(typeof y!="function"){if(Rb(y||m)===null)continue;break}var O=ke(m);O!==null&&(c.splice(f,3),f-=3,fl(O,{pending:!0,data:D,method:m.method,action:y},y,D))}}))}function _p(c){function f(Re){return F1(Re,c)}ad!==null&&F1(ad,c),id!==null&&F1(id,c),od!==null&&F1(od,c),bp.forEach(f),Cp.forEach(f);for(var m=0;m<ld.length;m++){var y=ld[m];y.blockedOn===c&&(y.blockedOn=null)}for(;0<ld.length&&(m=ld[0],m.blockedOn===null);)PB(m),m.blockedOn===null&&ld.shift();if(m=(c.ownerDocument||c).$$reactFormReplay,m!=null)for(y=0;y<m.length;y+=3){var D=m[y],O=m[y+1],le=D[Zn]||null;if(typeof O=="function")le||OB(m);else if(le){var we=null;if(O&&O.hasAttribute("formAction")){if(D=O,le=O[Zn]||null)we=le.formAction;else if(Rb(D)!==null)continue}else we=le.action;typeof we=="function"?m[y+1]=we:(m.splice(y,3),y-=3),OB(m)}}}function Ub(c){this._internalRoot=c}D1.prototype.render=Ub.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(r(409));var m=f.current,y=Uo();RB(m,y,c,f,null,null)},D1.prototype.unmount=Ub.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;RB(c.current,2,null,c,null,null),m1(),f[_r]=null}};function D1(c){this._internalRoot=c}D1.prototype.unstable_scheduleHydration=function(c){if(c){var f=hs();c={blockedOn:null,target:c,priority:f};for(var m=0;m<ld.length&&f!==0&&f<ld[m].priority;m++);ld.splice(m,0,c),m===0&&PB(c)}};var QB=e.version;if(QB!=="19.1.1")throw Error(r(527,QB,"19.1.1"));Z.findDOMNode=function(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=l(f),c=c!==null?A(c):null,c=c===null?null:c.stateNode,c};var c9={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var U1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!U1.isDisabled&&U1.supportsFiber)try{Mt=U1.inject(c9),Vt=U1}catch{}}return Tp.createRoot=function(c,f){if(!s(c))throw Error(r(299));var m=!1,y="",D=rT,O=sT,le=aT,we=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(D=f.onUncaughtError),f.onCaughtError!==void 0&&(O=f.onCaughtError),f.onRecoverableError!==void 0&&(le=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(we=f.unstable_transitionCallbacks)),f=IB(c,1,!1,null,null,m,y,D,O,le,we,null),c[_r]=f.current,gb(c),new Ub(f)},Tp.hydrateRoot=function(c,f,m){if(!s(c))throw Error(r(299));var y=!1,D="",O=rT,le=sT,we=aT,Re=null,Ze=null;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(D=m.identifierPrefix),m.onUncaughtError!==void 0&&(O=m.onUncaughtError),m.onCaughtError!==void 0&&(le=m.onCaughtError),m.onRecoverableError!==void 0&&(we=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(Re=m.unstable_transitionCallbacks),m.formState!==void 0&&(Ze=m.formState)),f=IB(c,1,!0,f,m??null,y,D,O,le,we,Re,Ze),f.context=FB(null),m=f.current,y=Uo(),y=na(y),D=ct(y),D.callback=null,vt(m,D,y),m=y,f.current.lanes=m,ls(f,m),tA(f),c[_r]=f.current,gb(c),new D1(f)},Tp.version="19.1.1",Tp}var JB;function x9(){if(JB)return Pb.exports;JB=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pb.exports=g9(),Pb.exports}var v9=x9();const y9=BS(v9),w9=()=>{};var XB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},b9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],i=t[n++],o=t[n++],l=((s&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|i&63)}}return e.join("")},CD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],i=s+1<t.length,o=i?t[s+1]:0,l=s+2<t.length,A=l?t[s+2]:0,d=a>>2,h=(a&3)<<4|o>>4;let p=(o&15)<<2|A>>6,g=A&63;l||(g=64,i||(p=64)),r.push(n[d],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):b9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const A=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||o==null||A==null||h==null)throw new C9;const p=a<<2|o>>4;if(r.push(p),A!==64){const g=o<<4&240|A>>2;if(r.push(g),h!==64){const w=A<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class C9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E9=function(t){const e=bD(t);return CD.encodeByteArray(e,!0)},h2=function(t){return E9(t).replace(/\./g,"")},ED=function(t){try{return CD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=()=>_9().__FIREBASE_DEFAULTS__,T9=()=>{if(typeof process>"u"||typeof XB>"u")return;const t=XB.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},B9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ED(t[1]);return e&&JSON.parse(e)},_y=()=>{try{return w9()||S9()||T9()||B9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_D=t=>{var e,n;return(n=(e=_y())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},N9=t=>{const e=_D(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SD=()=>{var t;return(t=_y())==null?void 0:t.config},TD=t=>{var e;return(e=_y())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BD(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[h2(JSON.stringify(n)),h2(JSON.stringify(i)),""].join(".")}const cg={};function F9(){const t={prod:[],emulator:[]};for(const e of Object.keys(cg))cg[e]?t.emulator.push(e):t.prod.push(e);return t}function R9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ZB=!1;function ND(t,e){if(typeof window>"u"||typeof document>"u"||!Cm(window.location.host)||cg[t]===e||cg[t]||ZB)return;cg[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",a=F9().prod.length>0;function i(){const p=document.getElementById(r);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function A(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{ZB=!0,i()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=R9(r),g=n("text"),w=document.getElementById(g)||document.createElement("span"),b=n("learnmore"),E=document.getElementById(b)||document.createElement("a"),T=n("preprendIcon"),I=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const k=p.element;o(k),d(E,b);const F=A();l(I,T),k.append(I,w,E,F),document.body.appendChild(k)}a?(w.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ui())}function U9(){var e;const t=(e=_y())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function L9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function M9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function P9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function j9(){const t=Ui();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function O9(){return!U9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q9(){try{return typeof indexedDB=="object"}catch{return!1}}function H9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9="FirebaseError";class _u extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=V9,Object.setPrototypeOf(this,_u.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hx.prototype.create)}}class hx{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],i=a?G9(a,r):"Error",o=`${this.serviceName}: ${i} (${s}).`;return new _u(s,o,r)}}function G9(t,e){return t.replace(z9,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const z9=/\{\$([^}]+)}/g;function K9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],i=e[s];if(eN(a)&&eN(i)){if(!nh(a,i))return!1}else if(a!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function eN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hp(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Vp(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function q9(t,e){const n=new W9(t,e);return n.subscribe.bind(n)}class W9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$9(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Hb),s.error===void 0&&(s.error=Hb),s.complete===void 0&&(s.complete=Hb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){return t&&t._delegate?t._delegate:t}class rh{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y9=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new k9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X9(e))try{this.getOrInitializeService({instanceIdentifier:Df})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Df){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Df){return this.instances.has(e)}getOptions(e=Df){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&i.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:J9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Df){return this.component?this.component.multipleInstances?e:Df:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function J9(t){return t===Df?void 0:t}function X9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Y9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rr||(rr={}));const eH={debug:rr.DEBUG,verbose:rr.VERBOSE,info:rr.INFO,warn:rr.WARN,error:rr.ERROR,silent:rr.SILENT},tH=rr.INFO,nH={[rr.DEBUG]:"log",[rr.VERBOSE]:"log",[rr.INFO]:"info",[rr.WARN]:"warn",[rr.ERROR]:"error"},rH=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=nH[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let NS=class{constructor(e){this.name=e,this._logLevel=tH,this._logHandler=rH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rr.DEBUG,...e),this._logHandler(this,rr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rr.VERBOSE,...e),this._logHandler(this,rr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rr.INFO,...e),this._logHandler(this,rr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rr.WARN,...e),this._logHandler(this,rr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rr.ERROR,...e),this._logHandler(this,rr.ERROR,...e)}};const sH=(t,e)=>e.some(n=>t instanceof n);let tN,nN;function aH(){return tN||(tN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iH(){return nN||(nN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kD=new WeakMap,BE=new WeakMap,ID=new WeakMap,Vb=new WeakMap,kS=new WeakMap;function oH(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",i)},a=()=>{n(Rd(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&kD.set(n,t)}).catch(()=>{}),kS.set(e,t),e}function lH(t){if(BE.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",i),t.removeEventListener("abort",i)},a=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",i),t.addEventListener("abort",i)});BE.set(t,e)}let NE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return BE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ID.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cH(t){NE=t(NE)}function AH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gb(this),e,...n);return ID.set(r,e.sort?e.sort():[e]),Rd(r)}:iH().includes(t)?function(...e){return t.apply(Gb(this),e),Rd(kD.get(this))}:function(...e){return Rd(t.apply(Gb(this),e))}}function uH(t){return typeof t=="function"?AH(t):(t instanceof IDBTransaction&&lH(t),sH(t,aH())?new Proxy(t,NE):t)}function Rd(t){if(t instanceof IDBRequest)return oH(t);if(Vb.has(t))return Vb.get(t);const e=uH(t);return e!==t&&(Vb.set(t,e),kS.set(e,t)),e}const Gb=t=>kS.get(t);function dH(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const i=indexedDB.open(t,e),o=Rd(i);return r&&i.addEventListener("upgradeneeded",l=>{r(Rd(i.result),l.oldVersion,l.newVersion,Rd(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),s&&l.addEventListener("versionchange",A=>s(A.oldVersion,A.newVersion,A))}).catch(()=>{}),o}const fH=["get","getKey","getAll","getAllKeys","count"],hH=["put","add","delete","clear"],zb=new Map;function rN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zb.get(e))return zb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=hH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||fH.includes(n)))return;const a=async function(i,...o){const l=this.transaction(i,s?"readwrite":"readonly");let A=l.store;return r&&(A=A.index(o.shift())),(await Promise.all([A[n](...o),s&&l.done]))[0]};return zb.set(e,a),a}cH(t=>({...t,get:(e,n,r)=>rN(e,n)||t.get(e,n,r),has:(e,n)=>!!rN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pH(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pH(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kE="@firebase/app",sN="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new NS("@firebase/app"),gH="@firebase/app-compat",xH="@firebase/analytics-compat",vH="@firebase/analytics",yH="@firebase/app-check-compat",wH="@firebase/app-check",bH="@firebase/auth",CH="@firebase/auth-compat",EH="@firebase/database",_H="@firebase/data-connect",SH="@firebase/database-compat",TH="@firebase/functions",BH="@firebase/functions-compat",NH="@firebase/installations",kH="@firebase/installations-compat",IH="@firebase/messaging",FH="@firebase/messaging-compat",RH="@firebase/performance",DH="@firebase/performance-compat",UH="@firebase/remote-config",LH="@firebase/remote-config-compat",MH="@firebase/storage",PH="@firebase/storage-compat",jH="@firebase/firestore",OH="@firebase/ai",QH="@firebase/firestore-compat",HH="firebase",VH="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="[DEFAULT]",GH={[kE]:"fire-core",[gH]:"fire-core-compat",[vH]:"fire-analytics",[xH]:"fire-analytics-compat",[wH]:"fire-app-check",[yH]:"fire-app-check-compat",[bH]:"fire-auth",[CH]:"fire-auth-compat",[EH]:"fire-rtdb",[_H]:"fire-data-connect",[SH]:"fire-rtdb-compat",[TH]:"fire-fn",[BH]:"fire-fn-compat",[NH]:"fire-iid",[kH]:"fire-iid-compat",[IH]:"fire-fcm",[FH]:"fire-fcm-compat",[RH]:"fire-perf",[DH]:"fire-perf-compat",[UH]:"fire-rc",[LH]:"fire-rc-compat",[MH]:"fire-gcs",[PH]:"fire-gcs-compat",[jH]:"fire-fst",[QH]:"fire-fst-compat",[OH]:"fire-vertex","fire-js":"fire-js",[HH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new Map,zH=new Map,FE=new Map;function aN(t,e){try{t.container.addComponent(e)}catch(n){pu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lm(t){const e=t.name;if(FE.has(e))return pu.debug(`There were multiple attempts to register component ${e}.`),!1;FE.set(e,t);for(const n of m2.values())aN(n,t);for(const n of zH.values())aN(n,t);return!0}function IS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ac(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dd=new hx("app","Firebase",KH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=VH;function FD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:IE,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Dd.create("bad-app-name",{appName:String(s)});if(n||(n=SD()),!n)throw Dd.create("no-options");const a=m2.get(s);if(a){if(nh(n,a.options)&&nh(r,a.config))return a;throw Dd.create("duplicate-app",{appName:s})}const i=new Z9(s);for(const l of FE.values())i.addComponent(l);const o=new qH(n,r,i);return m2.set(s,o),o}function RD(t=IE){const e=m2.get(t);if(!e&&t===IE&&SD())return FD();if(!e)throw Dd.create("no-app",{appName:t});return e}function Ud(t,e,n){let r=GH[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const i=[`Unable to register library "${r}" with version "${e}":`];s&&i.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&i.push("and"),a&&i.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pu.warn(i.join(" "));return}lm(new rh(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH="firebase-heartbeat-database",$H=1,Ig="firebase-heartbeat-store";let Kb=null;function DD(){return Kb||(Kb=dH(WH,$H,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ig)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dd.create("idb-open",{originalErrorMessage:t.message})})),Kb}async function YH(t){try{const n=(await DD()).transaction(Ig),r=await n.objectStore(Ig).get(UD(t));return await n.done,r}catch(e){if(e instanceof _u)pu.warn(e.message);else{const n=Dd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pu.warn(n.message)}}}async function iN(t,e){try{const r=(await DD()).transaction(Ig,"readwrite");await r.objectStore(Ig).put(e,UD(t)),await r.done}catch(n){if(n instanceof _u)pu.warn(n.message);else{const r=Dd.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pu.warn(r.message)}}}function UD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH=1024,XH=30;class ZH{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=oN();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(i=>i.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>XH){const i=nV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=oN(),{heartbeatsToSend:r,unsentEntries:s}=eV(this._heartbeatsCache.heartbeats),a=h2(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return pu.warn(n),""}}}function oN(){return new Date().toISOString().substring(0,10)}function eV(t,e=JH){const n=[];let r=t.slice();for(const s of t){const a=n.find(i=>i.agent===s.agent);if(a){if(a.dates.push(s.date),lN(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),lN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q9()?H9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YH(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lN(t){return h2(JSON.stringify({version:2,heartbeats:t})).length}function nV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t){lm(new rh("platform-logger",e=>new mH(e),"PRIVATE")),lm(new rh("heartbeat",e=>new ZH(e),"PRIVATE")),Ud(kE,sN,t),Ud(kE,sN,"esm2020"),Ud("fire-js","")}rV("");function LD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sV=LD,MD=new hx("auth","Firebase",LD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=new NS("@firebase/auth");function aV(t,...e){p2.logLevel<=rr.WARN&&p2.warn(`Auth (${Em}): ${t}`,...e)}function Hv(t,...e){p2.logLevel<=rr.ERROR&&p2.error(`Auth (${Em}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t,...e){throw FS(t,...e)}function dA(t,...e){return FS(t,...e)}function PD(t,e,n){const r={...sV(),[e]:n};return new hx("auth","Firebase",r).create(e,{appName:t.name})}function Ld(t){return PD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MD.create(t,...e)}function bn(t,e,...n){if(!t)throw FS(e,...n)}function iu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hv(e),new Error(e)}function gu(t,e){t||iu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function iV(){return cN()==="http:"||cN()==="https:"}function cN(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iV()||M9()||"connection"in navigator)?navigator.onLine:!0}function lV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.shortDelay=e,this.longDelay=n,gu(n>e,"Short delay should be less than long delay!"),this.isMobile=D9()||P9()}get(){return oV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t,e){gu(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;iu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;iu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;iu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uV=new px(3e4,6e4);function ph(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function rf(t,e,n,r,s={}){return OD(t,s,async()=>{let a={},i={};r&&(e==="GET"?i=r:a={body:JSON.stringify(r)});const o=mx({key:t.config.apiKey,...i}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const A={method:e,headers:l,...a};return L9()||(A.referrerPolicy="no-referrer"),t.emulatorConfig&&Cm(t.emulatorConfig.host)&&(A.credentials="include"),jD.fetch()(await QD(t,t.config.apiHost,n,o),A)})}async function OD(t,e,n){t._canInitEmulator=!1;const r={...cV,...e};try{const s=new fV(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const i=await a.json();if("needConfirmation"in i)throw L1(t,"account-exists-with-different-credential",i);if(a.ok&&!("errorMessage"in i))return i;{const o=a.ok?i.errorMessage:i.error.message,[l,A]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw L1(t,"credential-already-in-use",i);if(l==="EMAIL_EXISTS")throw L1(t,"email-already-in-use",i);if(l==="USER_DISABLED")throw L1(t,"user-disabled",i);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(A)throw PD(t,d,A);vc(t,d)}}catch(s){if(s instanceof _u)throw s;vc(t,"network-request-failed",{message:String(s)})}}async function Sy(t,e,n,r,s={}){const a=await rf(t,e,n,r,s);return"mfaPendingCredential"in a&&vc(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function QD(t,e,n,r){const s=`${e}${n}?${r}`,a=t,i=a.config.emulator?RS(t.config,s):`${t.config.apiScheme}://${s}`;return AV.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(i).toString():i}function dV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(dA(this.auth,"network-request-failed")),uV.get())})}}function L1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=dA(t,e,r);return s.customData._tokenResponse=n,s}function AN(t){return t!==void 0&&t.enterprise!==void 0}class hV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mV(t,e){return rf(t,"GET","/v2/recaptchaConfig",ph(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(t,e){return rf(t,"POST","/v1/accounts:delete",e)}async function g2(t,e){return rf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gV(t,e=!1){const n=Va(t),r=await n.getIdToken(e),s=DS(r);bn(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,i=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Ag(qb(s.auth_time)),issuedAtTime:Ag(qb(s.iat)),expirationTime:Ag(qb(s.exp)),signInProvider:i||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function qb(t){return Number(t)*1e3}function DS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hv("JWT malformed, contained fewer than 3 sections"),null;try{const s=ED(n);return s?JSON.parse(s):(Hv("Failed to decode base64 JWT payload"),null)}catch(s){return Hv("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function uN(t){const e=DS(t);return bn(e,"internal-error"),bn(typeof e.exp<"u","internal-error"),bn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fg(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof _u&&xV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function xV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ag(this.lastLoginAt),this.creationTime=Ag(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Fg(t,g2(e,{idToken:n}));bn(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=(h=s.providerUserInfo)!=null&&h.length?HD(s.providerUserInfo):[],i=wV(t.providerData,a),o=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(i!=null&&i.length),A=o?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new DE(s.createdAt,s.lastLoginAt),isAnonymous:A};Object.assign(t,d)}async function yV(t){const e=Va(t);await x2(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wV(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function HD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t,e){const n=await OD(t,{},async()=>{const r=mx({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,i=await QD(t,s,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Cm(t.emulatorConfig.host)&&(l.credentials="include"),jD.fetch()(i,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CV(t,e){return rf(t,"POST","/v2/accounts:revokeToken",ph(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bn(e.idToken,"internal-error"),bn(typeof e.idToken<"u","internal-error"),bn(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){bn(e.length!==0,"internal-error");const n=uN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(bn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await bV(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,i=new O0;return r&&(bn(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),s&&(bn(typeof s=="string","internal-error",{appName:e}),i.accessToken=s),a&&(bn(typeof a=="number","internal-error",{appName:e}),i.expirationTime=a),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new O0,this.toJSON())}_performRefresh(){return iu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t,e){bn(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fc{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new vV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new DE(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Fg(this,this.stsTokenManager.getToken(this.auth,e));return bn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gV(this,e)}reload(){return yV(this)}_assign(e){this!==e&&(bn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fc({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){bn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await x2(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ac(this.auth.app))return Promise.reject(Ld(this.auth));const e=await this.getIdToken();return await Fg(this,pV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,i=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,A=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:g,providerData:w,stsTokenManager:b}=n;bn(h&&b,e,"internal-error");const E=O0.fromJSON(this.name,b);bn(typeof h=="string",e,"internal-error"),Ad(r,e.name),Ad(s,e.name),bn(typeof p=="boolean",e,"internal-error"),bn(typeof g=="boolean",e,"internal-error"),Ad(a,e.name),Ad(i,e.name),Ad(o,e.name),Ad(l,e.name),Ad(A,e.name),Ad(d,e.name);const T=new fc({uid:h,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:g,photoURL:i,phoneNumber:a,tenantId:o,stsTokenManager:E,createdAt:A,lastLoginAt:d});return w&&Array.isArray(w)&&(T.providerData=w.map(I=>({...I}))),l&&(T._redirectEventId=l),T}static async _fromIdTokenResponse(e,n,r=!1){const s=new O0;s.updateFromServerResponse(n);const a=new fc({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await x2(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];bn(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?HD(s.providerUserInfo):[],i=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),o=new O0;o.updateFromIdToken(r);const l=new fc({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:i}),A={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new DE(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,A),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new Map;function ou(t){gu(t instanceof Function,"Expected a class definition");let e=dN.get(t);return e?(gu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VD.type="NONE";const fN=VD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e,n){return`firebase:${t}:${e}:${n}`}class Q0{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Vv(this.userKey,s.apiKey,a),this.fullPersistenceKey=Vv("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await g2(this.auth,{idToken:e}).catch(()=>{});return n?fc._fromGetAccountInfoResponse(this.auth,n,e):null}return fc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Q0(ou(fN),e,r);const s=(await Promise.all(n.map(async A=>{if(await A._isAvailable())return A}))).filter(A=>A);let a=s[0]||ou(fN);const i=Vv(r,e.config.apiKey,e.name);let o=null;for(const A of n)try{const d=await A._get(i);if(d){let h;if(typeof d=="string"){const p=await g2(e,{idToken:d}).catch(()=>{});if(!p)break;h=await fc._fromGetAccountInfoResponse(e,p,d)}else h=fc._fromJSON(e,d);A!==a&&(o=h),a=A;break}}catch{}const l=s.filter(A=>A._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Q0(a,e,r):(a=l[0],o&&await a._set(i,o.toJSON()),await Promise.all(n.map(async A=>{if(A!==a)try{await A._remove(i)}catch{}})),new Q0(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($D(e))return"Blackberry";if(YD(e))return"Webos";if(zD(e))return"Safari";if((e.includes("chrome/")||KD(e))&&!e.includes("edge/"))return"Chrome";if(WD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GD(t=Ui()){return/firefox\//i.test(t)}function zD(t=Ui()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KD(t=Ui()){return/crios\//i.test(t)}function qD(t=Ui()){return/iemobile/i.test(t)}function WD(t=Ui()){return/android/i.test(t)}function $D(t=Ui()){return/blackberry/i.test(t)}function YD(t=Ui()){return/webos/i.test(t)}function US(t=Ui()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EV(t=Ui()){var e;return US(t)&&!!((e=window.navigator)!=null&&e.standalone)}function _V(){return j9()&&document.documentMode===10}function JD(t=Ui()){return US(t)||WD(t)||YD(t)||$D(t)||/windows phone/i.test(t)||qD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t,e=[]){let n;switch(t){case"Browser":n=hN(Ui());break;case"Worker":n=`${hN(Ui())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Em}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((i,o)=>{try{const l=e(a);i(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TV(t,e={}){return rf(t,"GET","/v2/passwordPolicy",ph(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=6;class NV{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??BV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mN(this),this.idTokenSubscription=new mN(this),this.beforeStateQueue=new SV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ou(n)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await Q0.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await g2(this,{idToken:e}),r=await fc._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Ac(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===o)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return bn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await x2(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ac(this.app))return Promise.reject(Ld(this));const n=e?Va(e):null;return n&&bn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&bn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ac(this.app)?Promise.reject(Ld(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ac(this.app)?Promise.reject(Ld(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ou(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TV(this),n=new NV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hx("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await CV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ou(e)||this._popupRedirectResolver;bn(n,this,"argument-error"),this.redirectPersistenceManager=await Q0.create(this,[ou(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let i=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(bn(o,this,"internal-error"),o.then(()=>{i||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{i=!0,l()}}else{const l=e.addObserver(n);return()=>{i=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ac(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&aV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function _m(t){return Va(t)}class mN{constructor(e){this.auth=e,this.observer=null,this.addObserver=q9(n=>this.observer=n)}get next(){return bn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ty={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IV(t){Ty=t}function ZD(t){return Ty.loadJS(t)}function FV(){return Ty.recaptchaEnterpriseScript}function RV(){return Ty.gapiScript}function DV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class UV{constructor(){this.enterprise=new LV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class LV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const MV="recaptcha-enterprise",eU="NO_RECAPTCHA";class PV{constructor(e){this.type=MV,this.auth=_m(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(i,o)=>{mV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const A=new hV(l);return a.tenantId==null?a._agentRecaptchaConfig=A:a._tenantRecaptchaConfigs[a.tenantId]=A,i(A.siteKey)}}).catch(l=>{o(l)})})}function s(a,i,o){const l=window.grecaptcha;AN(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(A=>{i(A)}).catch(()=>{i(eU)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new UV().execute("siteKey",{action:"verify"}):new Promise((a,i)=>{r(this.auth).then(o=>{if(!n&&AN(window.grecaptcha))s(o,a,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let l=FV();l.length!==0&&(l+=o),ZD(l).then(()=>{s(o,a,i)}).catch(A=>{i(A)})}}).catch(o=>{i(o)})})}}async function pN(t,e,n,r=!1,s=!1){const a=new PV(t);let i;if(s)i=eU;else try{i=await a.verify(n)}catch{i=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,A=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:A,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function gN(t,e,n,r,s){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await pN(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await pN(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t,e){const n=IS(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(nh(a,e??{}))return s;vc(s,"already-initialized")}return n.initialize({options:e})}function OV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ou);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function QV(t,e,n){const r=_m(t);bn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=tU(e),{host:i,port:o}=HV(e),l=o===null?"":`:${o}`,A={url:`${a}//${i}${l}/`},d=Object.freeze({host:i,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){bn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),bn(nh(A,r.config.emulator)&&nh(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=A,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Cm(i)?(BD(`${a}//${i}${l}`),ND("Auth",!0)):VV()}function tU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function HV(t){const e=tU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:xN(r.substr(a.length+1))}}else{const[a,i]=r.split(":");return{host:a,port:xN(i)}}}function xN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function VV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return iu("not implemented")}_getIdTokenResponse(e){return iu("not implemented")}_linkToIdToken(e,n){return iu("not implemented")}_getReauthenticationResolver(e){return iu("not implemented")}}async function GV(t,e){return rf(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(t,e){return Sy(t,"POST","/v1/accounts:signInWithPassword",ph(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(t,e){return Sy(t,"POST","/v1/accounts:signInWithEmailLink",ph(t,e))}async function qV(t,e){return Sy(t,"POST","/v1/accounts:signInWithEmailLink",ph(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg extends LS{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Rg(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Rg(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gN(e,n,"signInWithPassword",zV);case"emailLink":return KV(e,{email:this._email,oobCode:this._password});default:vc(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gN(e,r,"signUpPassword",GV);case"emailLink":return qV(e,{idToken:n,email:this._email,oobCode:this._password});default:vc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H0(t,e){return Sy(t,"POST","/v1/accounts:signInWithIdp",ph(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV="http://localhost";class sh extends LS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vc("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const i=new sh(r,s);return i.idToken=a.idToken||void 0,i.accessToken=a.accessToken||void 0,i.secret=a.secret,i.nonce=a.nonce,i.pendingToken=a.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return H0(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,H0(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,H0(e,n)}buildRequest(){const e={requestUri:WV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mx(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YV(t){const e=Hp(Vp(t)).link,n=e?Hp(Vp(e)).deep_link_id:null,r=Hp(Vp(t)).deep_link_id;return(r?Hp(Vp(r)).link:null)||r||n||e||t}class MS{constructor(e){const n=Hp(Vp(e)),r=n.apiKey??null,s=n.oobCode??null,a=$V(n.mode??null);bn(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=YV(e);try{return new MS(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this.providerId=Sm.PROVIDER_ID}static credential(e,n){return Rg._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=MS.parseLink(n);return bn(r,"argument-error"),Rg._fromEmailAndCode(e,r.code,r.tenantId)}}Sm.PROVIDER_ID="password";Sm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx extends nU{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends gx{constructor(){super("facebook.com")}static credential(e){return sh._fromParams({providerId:wd.PROVIDER_ID,signInMethod:wd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wd.credentialFromTaggedObject(e)}static credentialFromError(e){return wd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wd.credential(e.oauthAccessToken)}catch{return null}}}wd.FACEBOOK_SIGN_IN_METHOD="facebook.com";wd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends gx{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sh._fromParams({providerId:bd.PROVIDER_ID,signInMethod:bd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bd.credentialFromTaggedObject(e)}static credentialFromError(e){return bd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return bd.credential(n,r)}catch{return null}}}bd.GOOGLE_SIGN_IN_METHOD="google.com";bd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends gx{constructor(){super("github.com")}static credential(e){return sh._fromParams({providerId:Cd.PROVIDER_ID,signInMethod:Cd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cd.credentialFromTaggedObject(e)}static credentialFromError(e){return Cd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cd.credential(e.oauthAccessToken)}catch{return null}}}Cd.GITHUB_SIGN_IN_METHOD="github.com";Cd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends gx{constructor(){super("twitter.com")}static credential(e,n){return sh._fromParams({providerId:Ed.PROVIDER_ID,signInMethod:Ed.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ed.credentialFromTaggedObject(e)}static credentialFromError(e){return Ed.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ed.credential(n,r)}catch{return null}}}Ed.TWITTER_SIGN_IN_METHOD="twitter.com";Ed.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await fc._fromIdTokenResponse(e,r,s),i=vN(r);return new cm({user:a,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=vN(r);return new cm({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function vN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2 extends _u{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,v2.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new v2(e,n,r,s)}}function rU(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?v2._fromErrorAndOperation(t,a,e,r):a})}async function JV(t,e,n=!1){const r=await Fg(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cm._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(t,e,n=!1){const{auth:r}=t;if(Ac(r.app))return Promise.reject(Ld(r));const s="reauthenticate";try{const a=await Fg(t,rU(r,s,e,t),n);bn(a.idToken,r,"internal-error");const i=DS(a.idToken);bn(i,r,"internal-error");const{sub:o}=i;return bn(t.uid===o,r,"user-mismatch"),cm._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&vc(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sU(t,e,n=!1){if(Ac(t.app))return Promise.reject(Ld(t));const r="signIn",s=await rU(t,r,e),a=await cm._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function ZV(t,e){return sU(_m(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eG(t){const e=_m(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function tG(t,e,n){return Ac(t.app)?Promise.reject(Ld(t)):ZV(Va(t),Sm.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&eG(t),r})}function nG(t,e,n,r){return Va(t).onIdTokenChanged(e,n,r)}function rG(t,e,n){return Va(t).beforeAuthStateChanged(e,n)}function sG(t,e,n,r){return Va(t).onAuthStateChanged(e,n,r)}function aG(t){return Va(t).signOut()}const y2="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(y2,"1"),this.storage.removeItem(y2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG=1e3,oG=10;class iU extends aU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,o,l)=>{this.notifyListeners(i,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},a=this.storage.getItem(r);_V()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,oG):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iU.type="LOCAL";const lG=iU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU extends aU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oU.type="SESSION";const lU=oU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new By(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,i=this.handlersMap[s];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const o=Array.from(i).map(async A=>A(n.origin,a)),l=await cG(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}By.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,i;return new Promise((o,l)=>{const A=PS("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);i={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===A)switch(p.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(p.data.response);break;default:clearTimeout(d),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:A,data:n},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(){return window}function uG(t){fA().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(){return typeof fA().WorkerGlobalScope<"u"&&typeof fA().importScripts=="function"}async function dG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function hG(){return cU()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU="firebaseLocalStorageDb",mG=1,w2="firebaseLocalStorage",uU="fbase_key";class xx{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ny(t,e){return t.transaction([w2],e?"readwrite":"readonly").objectStore(w2)}function pG(){const t=indexedDB.deleteDatabase(AU);return new xx(t).toPromise()}function UE(){const t=indexedDB.open(AU,mG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(w2,{keyPath:uU})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(w2)?e(r):(r.close(),await pG(),e(await UE()))})})}async function yN(t,e,n){const r=Ny(t,!0).put({[uU]:e,value:n});return new xx(r).toPromise()}async function gG(t,e){const n=Ny(t,!1).get(e),r=await new xx(n).toPromise();return r===void 0?null:r.value}function wN(t,e){const n=Ny(t,!0).delete(e);return new xx(n).toPromise()}const xG=800,vG=3;class dU{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await UE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cU()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=By._getInstance(hG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await dG(),!this.activeServiceWorker)return;this.sender=new AG(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await UE();return await yN(e,y2,"1"),await wN(e,y2),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Ny(s,!1).getAll();return new xx(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dU.type="LOCAL";const yG=dU;new px(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wG(t,e){return e?ou(e):(bn(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS extends LS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return H0(e,this._buildIdpRequest())}_linkToIdToken(e,n){return H0(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return H0(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bG(t){return sU(t.auth,new jS(t),t.bypassAuthState)}function CG(t){const{auth:e,user:n}=t;return bn(n,e,"internal-error"),XV(n,new jS(t),t.bypassAuthState)}async function EG(t){const{auth:e,user:n}=t;return bn(n,e,"internal-error"),JV(n,new jS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:i,type:o}=e;if(i){this.reject(i);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(A){this.reject(A)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bG;case"linkViaPopup":case"linkViaRedirect":return EG;case"reauthViaPopup":case"reauthViaRedirect":return CG;default:vc(this.auth,"internal-error")}}resolve(e){gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G=new px(2e3,1e4);class D0 extends fU{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,D0.currentPopupAction&&D0.currentPopupAction.cancel(),D0.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bn(e,this.auth,"internal-error"),e}async onExecution(){gu(this.filter.length===1,"Popup operations only handle one event");const e=PS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(dA(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(dA(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D0.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dA(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_G.get())};e()}}D0.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG="pendingRedirect",Gv=new Map;class TG extends fU{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gv.get(this.auth._key());if(!e){try{const r=await BG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gv.set(this.auth._key(),e)}return this.bypassAuthState||Gv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BG(t,e){const n=IG(e),r=kG(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function NG(t,e){Gv.set(t._key(),e)}function kG(t){return ou(t._redirectPersistence)}function IG(t){return Vv(SG,t.config.apiKey,t.name)}async function FG(t,e,n=!1){if(Ac(t.app))return Promise.reject(Ld(t));const r=_m(t),s=wG(r,e),i=await new TG(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG=600*1e3;class DG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hU(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(dA(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RG&&this.cachedEventUids.clear(),this.cachedEventUids.has(bN(e))}saveEventToCache(e){this.cachedEventUids.add(bN(e)),this.lastProcessedEventTime=Date.now()}}function bN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hU({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hU(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LG(t,e={}){return rf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PG=/^https?/;async function jG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LG(t);for(const n of e)try{if(OG(n))return}catch{}vc(t,"unauthorized-domain")}function OG(t){const e=RE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!PG.test(n))return!1;if(MG.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG=new px(3e4,6e4);function CN(){const t=fA().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HG(t){return new Promise((e,n)=>{var s,a,i;function r(){CN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CN(),n(dA(t,"network-request-failed"))},timeout:QG.get()})}if((a=(s=fA().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((i=fA().gapi)!=null&&i.load)r();else{const o=DV("iframefcb");return fA()[o]=()=>{gapi.load?r():n(dA(t,"network-request-failed"))},ZD(`${RV()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw zv=null,e})}let zv=null;function VG(t){return zv=zv||HG(t),zv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG=new px(5e3,15e3),zG="__/auth/iframe",KG="emulator/auth/iframe",qG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $G(t){const e=t.config;bn(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?RS(e,KG):`https://${t.config.authDomain}/${zG}`,r={apiKey:e.apiKey,appName:t.name,v:Em},s=WG.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${mx(r).slice(1)}`}async function YG(t){const e=await VG(t),n=fA().gapi;return bn(n,t,"internal-error"),e.open({where:document.body,url:$G(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qG,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const i=dA(t,"network-request-failed"),o=fA().setTimeout(()=>{a(i)},GG.get());function l(){fA().clearTimeout(o),s(r)}r.ping(l).then(l,()=>{a(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XG=500,ZG=600,ez="_blank",tz="http://localhost";class EN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nz(t,e,n,r=XG,s=ZG){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...JG,width:r.toString(),height:s.toString(),top:a,left:i},A=Ui().toLowerCase();n&&(o=KD(A)?ez:n),GD(A)&&(e=e||tz,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(EV(A)&&o!=="_self")return rz(e||"",o),new EN(null);const h=window.open(e||"",o,d);bn(h,t,"popup-blocked");try{h.focus()}catch{}return new EN(h)}function rz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz="__/auth/handler",az="emulator/auth/handler",iz=encodeURIComponent("fac");async function _N(t,e,n,r,s,a){bn(t.config.authDomain,t,"auth-domain-config-required"),bn(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Em,eventId:s};if(e instanceof nU){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",K9(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))i[d]=h}if(e instanceof gx){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(i.scopes=d.join(","))}t.tenantId&&(i.tid=t.tenantId);const o=i;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),A=l?`#${iz}=${encodeURIComponent(l)}`:"";return`${oz(t)}?${mx(o).slice(1)}${A}`}function oz({config:t}){return t.emulator?RS(t,az):`https://${t.authDomain}/${sz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="webStorageSupport";class lz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lU,this._completeRedirectFn=FG,this._overrideRedirectResult=NG}async _openPopup(e,n,r,s){var i;gu((i=this.eventManagers[e._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await _N(e,n,r,RE(),s);return nz(e,a,PS())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await _N(e,n,r,RE(),s);return uG(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(gu(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await YG(e),r=new DG(e);return n.register("authEvent",s=>(bn(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wb,{type:Wb},s=>{var i;const a=(i=s==null?void 0:s[0])==null?void 0:i[Wb];a!==void 0&&n(!!a),vc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JD()||zD()||US()}}const cz=lz;var SN="@firebase/auth",TN="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dz(t){lm(new rh("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:i,authDomain:o}=r.options;bn(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XD(t)},A=new kV(r,s,a,l);return OV(A,n),A},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),lm(new rh("auth-internal",e=>{const n=_m(e.getProvider("auth").getImmediate());return(r=>new Az(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ud(SN,TN,uz(t)),Ud(SN,TN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz=300,hz=TD("authIdTokenMaxAge")||fz;let BN=null;const mz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hz)return;const s=n==null?void 0:n.token;BN!==s&&(BN=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function pz(t=RD()){const e=IS(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jV(t,{popupRedirectResolver:cz,persistence:[yG,lG,lU]}),r=TD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const i=mz(a.toString());rG(n,i,()=>i(n.currentUser)),nG(n,o=>i(o))}}const s=_D("auth");return s&&QV(n,`http://${s}`),n}function gz(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}IV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=dA("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",gz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dz("Browser");var xz="firebase",vz="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ud(xz,vz,"app");var NN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Md,mU;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,N){function B(){}B.prototype=N.prototype,S.D=N.prototype,S.prototype=new B,S.prototype.constructor=S,S.C=function(H,P,M){for(var V=Array(arguments.length-2),G=2;G<arguments.length;G++)V[G-2]=arguments[G];return N.prototype[P].apply(H,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,N,B){B||(B=0);var H=Array(16);if(typeof N=="string")for(var P=0;16>P;++P)H[P]=N.charCodeAt(B++)|N.charCodeAt(B++)<<8|N.charCodeAt(B++)<<16|N.charCodeAt(B++)<<24;else for(P=0;16>P;++P)H[P]=N[B++]|N[B++]<<8|N[B++]<<16|N[B++]<<24;N=S.g[0],B=S.g[1],P=S.g[2];var M=S.g[3],V=N+(M^B&(P^M))+H[0]+3614090360&4294967295;N=B+(V<<7&4294967295|V>>>25),V=M+(P^N&(B^P))+H[1]+3905402710&4294967295,M=N+(V<<12&4294967295|V>>>20),V=P+(B^M&(N^B))+H[2]+606105819&4294967295,P=M+(V<<17&4294967295|V>>>15),V=B+(N^P&(M^N))+H[3]+3250441966&4294967295,B=P+(V<<22&4294967295|V>>>10),V=N+(M^B&(P^M))+H[4]+4118548399&4294967295,N=B+(V<<7&4294967295|V>>>25),V=M+(P^N&(B^P))+H[5]+1200080426&4294967295,M=N+(V<<12&4294967295|V>>>20),V=P+(B^M&(N^B))+H[6]+2821735955&4294967295,P=M+(V<<17&4294967295|V>>>15),V=B+(N^P&(M^N))+H[7]+4249261313&4294967295,B=P+(V<<22&4294967295|V>>>10),V=N+(M^B&(P^M))+H[8]+1770035416&4294967295,N=B+(V<<7&4294967295|V>>>25),V=M+(P^N&(B^P))+H[9]+2336552879&4294967295,M=N+(V<<12&4294967295|V>>>20),V=P+(B^M&(N^B))+H[10]+4294925233&4294967295,P=M+(V<<17&4294967295|V>>>15),V=B+(N^P&(M^N))+H[11]+2304563134&4294967295,B=P+(V<<22&4294967295|V>>>10),V=N+(M^B&(P^M))+H[12]+1804603682&4294967295,N=B+(V<<7&4294967295|V>>>25),V=M+(P^N&(B^P))+H[13]+4254626195&4294967295,M=N+(V<<12&4294967295|V>>>20),V=P+(B^M&(N^B))+H[14]+2792965006&4294967295,P=M+(V<<17&4294967295|V>>>15),V=B+(N^P&(M^N))+H[15]+1236535329&4294967295,B=P+(V<<22&4294967295|V>>>10),V=N+(P^M&(B^P))+H[1]+4129170786&4294967295,N=B+(V<<5&4294967295|V>>>27),V=M+(B^P&(N^B))+H[6]+3225465664&4294967295,M=N+(V<<9&4294967295|V>>>23),V=P+(N^B&(M^N))+H[11]+643717713&4294967295,P=M+(V<<14&4294967295|V>>>18),V=B+(M^N&(P^M))+H[0]+3921069994&4294967295,B=P+(V<<20&4294967295|V>>>12),V=N+(P^M&(B^P))+H[5]+3593408605&4294967295,N=B+(V<<5&4294967295|V>>>27),V=M+(B^P&(N^B))+H[10]+38016083&4294967295,M=N+(V<<9&4294967295|V>>>23),V=P+(N^B&(M^N))+H[15]+3634488961&4294967295,P=M+(V<<14&4294967295|V>>>18),V=B+(M^N&(P^M))+H[4]+3889429448&4294967295,B=P+(V<<20&4294967295|V>>>12),V=N+(P^M&(B^P))+H[9]+568446438&4294967295,N=B+(V<<5&4294967295|V>>>27),V=M+(B^P&(N^B))+H[14]+3275163606&4294967295,M=N+(V<<9&4294967295|V>>>23),V=P+(N^B&(M^N))+H[3]+4107603335&4294967295,P=M+(V<<14&4294967295|V>>>18),V=B+(M^N&(P^M))+H[8]+1163531501&4294967295,B=P+(V<<20&4294967295|V>>>12),V=N+(P^M&(B^P))+H[13]+2850285829&4294967295,N=B+(V<<5&4294967295|V>>>27),V=M+(B^P&(N^B))+H[2]+4243563512&4294967295,M=N+(V<<9&4294967295|V>>>23),V=P+(N^B&(M^N))+H[7]+1735328473&4294967295,P=M+(V<<14&4294967295|V>>>18),V=B+(M^N&(P^M))+H[12]+2368359562&4294967295,B=P+(V<<20&4294967295|V>>>12),V=N+(B^P^M)+H[5]+4294588738&4294967295,N=B+(V<<4&4294967295|V>>>28),V=M+(N^B^P)+H[8]+2272392833&4294967295,M=N+(V<<11&4294967295|V>>>21),V=P+(M^N^B)+H[11]+1839030562&4294967295,P=M+(V<<16&4294967295|V>>>16),V=B+(P^M^N)+H[14]+4259657740&4294967295,B=P+(V<<23&4294967295|V>>>9),V=N+(B^P^M)+H[1]+2763975236&4294967295,N=B+(V<<4&4294967295|V>>>28),V=M+(N^B^P)+H[4]+1272893353&4294967295,M=N+(V<<11&4294967295|V>>>21),V=P+(M^N^B)+H[7]+4139469664&4294967295,P=M+(V<<16&4294967295|V>>>16),V=B+(P^M^N)+H[10]+3200236656&4294967295,B=P+(V<<23&4294967295|V>>>9),V=N+(B^P^M)+H[13]+681279174&4294967295,N=B+(V<<4&4294967295|V>>>28),V=M+(N^B^P)+H[0]+3936430074&4294967295,M=N+(V<<11&4294967295|V>>>21),V=P+(M^N^B)+H[3]+3572445317&4294967295,P=M+(V<<16&4294967295|V>>>16),V=B+(P^M^N)+H[6]+76029189&4294967295,B=P+(V<<23&4294967295|V>>>9),V=N+(B^P^M)+H[9]+3654602809&4294967295,N=B+(V<<4&4294967295|V>>>28),V=M+(N^B^P)+H[12]+3873151461&4294967295,M=N+(V<<11&4294967295|V>>>21),V=P+(M^N^B)+H[15]+530742520&4294967295,P=M+(V<<16&4294967295|V>>>16),V=B+(P^M^N)+H[2]+3299628645&4294967295,B=P+(V<<23&4294967295|V>>>9),V=N+(P^(B|~M))+H[0]+4096336452&4294967295,N=B+(V<<6&4294967295|V>>>26),V=M+(B^(N|~P))+H[7]+1126891415&4294967295,M=N+(V<<10&4294967295|V>>>22),V=P+(N^(M|~B))+H[14]+2878612391&4294967295,P=M+(V<<15&4294967295|V>>>17),V=B+(M^(P|~N))+H[5]+4237533241&4294967295,B=P+(V<<21&4294967295|V>>>11),V=N+(P^(B|~M))+H[12]+1700485571&4294967295,N=B+(V<<6&4294967295|V>>>26),V=M+(B^(N|~P))+H[3]+2399980690&4294967295,M=N+(V<<10&4294967295|V>>>22),V=P+(N^(M|~B))+H[10]+4293915773&4294967295,P=M+(V<<15&4294967295|V>>>17),V=B+(M^(P|~N))+H[1]+2240044497&4294967295,B=P+(V<<21&4294967295|V>>>11),V=N+(P^(B|~M))+H[8]+1873313359&4294967295,N=B+(V<<6&4294967295|V>>>26),V=M+(B^(N|~P))+H[15]+4264355552&4294967295,M=N+(V<<10&4294967295|V>>>22),V=P+(N^(M|~B))+H[6]+2734768916&4294967295,P=M+(V<<15&4294967295|V>>>17),V=B+(M^(P|~N))+H[13]+1309151649&4294967295,B=P+(V<<21&4294967295|V>>>11),V=N+(P^(B|~M))+H[4]+4149444226&4294967295,N=B+(V<<6&4294967295|V>>>26),V=M+(B^(N|~P))+H[11]+3174756917&4294967295,M=N+(V<<10&4294967295|V>>>22),V=P+(N^(M|~B))+H[2]+718787259&4294967295,P=M+(V<<15&4294967295|V>>>17),V=B+(M^(P|~N))+H[9]+3951481745&4294967295,S.g[0]=S.g[0]+N&4294967295,S.g[1]=S.g[1]+(P+(V<<21&4294967295|V>>>11))&4294967295,S.g[2]=S.g[2]+P&4294967295,S.g[3]=S.g[3]+M&4294967295}r.prototype.u=function(S,N){N===void 0&&(N=S.length);for(var B=N-this.blockSize,H=this.B,P=this.h,M=0;M<N;){if(P==0)for(;M<=B;)s(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<N;)if(H[P++]=S.charCodeAt(M++),P==this.blockSize){s(this,H),P=0;break}}else for(;M<N;)if(H[P++]=S[M++],P==this.blockSize){s(this,H),P=0;break}}this.h=P,this.o+=N},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var N=1;N<S.length-8;++N)S[N]=0;var B=8*this.o;for(N=S.length-8;N<S.length;++N)S[N]=B&255,B/=256;for(this.u(S),S=Array(16),N=B=0;4>N;++N)for(var H=0;32>H;H+=8)S[B++]=this.g[N]>>>H&255;return S};function a(S,N){var B=o;return Object.prototype.hasOwnProperty.call(B,S)?B[S]:B[S]=N(S)}function i(S,N){this.h=N;for(var B=[],H=!0,P=S.length-1;0<=P;P--){var M=S[P]|0;H&&M==N||(B[P]=M,H=!1)}this.g=B}var o={};function l(S){return-128<=S&&128>S?a(S,function(N){return new i([N|0],0>N?-1:0)}):new i([S|0],0>S?-1:0)}function A(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return E(A(-S));for(var N=[],B=1,H=0;S>=B;H++)N[H]=S/B|0,B*=4294967296;return new i(N,0)}function d(S,N){if(S.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(S.charAt(0)=="-")return E(d(S.substring(1),N));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var B=A(Math.pow(N,8)),H=h,P=0;P<S.length;P+=8){var M=Math.min(8,S.length-P),V=parseInt(S.substring(P,P+M),N);8>M?(M=A(Math.pow(N,M)),H=H.j(M).add(A(V))):(H=H.j(B),H=H.add(A(V)))}return H}var h=l(0),p=l(1),g=l(16777216);t=i.prototype,t.m=function(){if(b(this))return-E(this).m();for(var S=0,N=1,B=0;B<this.g.length;B++){var H=this.i(B);S+=(0<=H?H:4294967296+H)*N,N*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(w(this))return"0";if(b(this))return"-"+E(this).toString(S);for(var N=A(Math.pow(S,6)),B=this,H="";;){var P=F(B,N).g;B=T(B,P.j(N));var M=((0<B.g.length?B.g[0]:B.h)>>>0).toString(S);if(B=P,w(B))return M+H;for(;6>M.length;)M="0"+M;H=M+H}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function w(S){if(S.h!=0)return!1;for(var N=0;N<S.g.length;N++)if(S.g[N]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=T(this,S),b(S)?-1:w(S)?0:1};function E(S){for(var N=S.g.length,B=[],H=0;H<N;H++)B[H]=~S.g[H];return new i(B,~S.h).add(p)}t.abs=function(){return b(this)?E(this):this},t.add=function(S){for(var N=Math.max(this.g.length,S.g.length),B=[],H=0,P=0;P<=N;P++){var M=H+(this.i(P)&65535)+(S.i(P)&65535),V=(M>>>16)+(this.i(P)>>>16)+(S.i(P)>>>16);H=V>>>16,M&=65535,V&=65535,B[P]=V<<16|M}return new i(B,B[B.length-1]&-2147483648?-1:0)};function T(S,N){return S.add(E(N))}t.j=function(S){if(w(this)||w(S))return h;if(b(this))return b(S)?E(this).j(E(S)):E(E(this).j(S));if(b(S))return E(this.j(E(S)));if(0>this.l(g)&&0>S.l(g))return A(this.m()*S.m());for(var N=this.g.length+S.g.length,B=[],H=0;H<2*N;H++)B[H]=0;for(H=0;H<this.g.length;H++)for(var P=0;P<S.g.length;P++){var M=this.i(H)>>>16,V=this.i(H)&65535,G=S.i(P)>>>16,oe=S.i(P)&65535;B[2*H+2*P]+=V*oe,I(B,2*H+2*P),B[2*H+2*P+1]+=M*oe,I(B,2*H+2*P+1),B[2*H+2*P+1]+=V*G,I(B,2*H+2*P+1),B[2*H+2*P+2]+=M*G,I(B,2*H+2*P+2)}for(H=0;H<N;H++)B[H]=B[2*H+1]<<16|B[2*H];for(H=N;H<2*N;H++)B[H]=0;return new i(B,0)};function I(S,N){for(;(S[N]&65535)!=S[N];)S[N+1]+=S[N]>>>16,S[N]&=65535,N++}function k(S,N){this.g=S,this.h=N}function F(S,N){if(w(N))throw Error("division by zero");if(w(S))return new k(h,h);if(b(S))return N=F(E(S),N),new k(E(N.g),E(N.h));if(b(N))return N=F(S,E(N)),new k(E(N.g),N.h);if(30<S.g.length){if(b(S)||b(N))throw Error("slowDivide_ only works with positive integers.");for(var B=p,H=N;0>=H.l(S);)B=R(B),H=R(H);var P=L(B,1),M=L(H,1);for(H=L(H,2),B=L(B,2);!w(H);){var V=M.add(H);0>=V.l(S)&&(P=P.add(B),M=V),H=L(H,1),B=L(B,1)}return N=T(S,P.j(N)),new k(P,N)}for(P=h;0<=S.l(N);){for(B=Math.max(1,Math.floor(S.m()/N.m())),H=Math.ceil(Math.log(B)/Math.LN2),H=48>=H?1:Math.pow(2,H-48),M=A(B),V=M.j(N);b(V)||0<V.l(S);)B-=H,M=A(B),V=M.j(N);w(M)&&(M=p),P=P.add(M),S=T(S,V)}return new k(P,S)}t.A=function(S){return F(this,S).h},t.and=function(S){for(var N=Math.max(this.g.length,S.g.length),B=[],H=0;H<N;H++)B[H]=this.i(H)&S.i(H);return new i(B,this.h&S.h)},t.or=function(S){for(var N=Math.max(this.g.length,S.g.length),B=[],H=0;H<N;H++)B[H]=this.i(H)|S.i(H);return new i(B,this.h|S.h)},t.xor=function(S){for(var N=Math.max(this.g.length,S.g.length),B=[],H=0;H<N;H++)B[H]=this.i(H)^S.i(H);return new i(B,this.h^S.h)};function R(S){for(var N=S.g.length+1,B=[],H=0;H<N;H++)B[H]=S.i(H)<<1|S.i(H-1)>>>31;return new i(B,S.h)}function L(S,N){var B=N>>5;N%=32;for(var H=S.g.length-B,P=[],M=0;M<H;M++)P[M]=0<N?S.i(M+B)>>>N|S.i(M+B+1)<<32-N:S.i(M+B);return new i(P,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mU=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=A,i.fromString=d,Md=i}).apply(typeof NN<"u"?NN:typeof self<"u"?self:typeof window<"u"?window:{});var M1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pU,Gp,gU,Kv,LE,xU,vU,yU;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,Y,se){return _==Array.prototype||_==Object.prototype||(_[Y]=se.value),_};function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof M1=="object"&&M1];for(var Y=0;Y<_.length;++Y){var se=_[Y];if(se&&se.Math==Math)return se}throw Error("Cannot find global object")}var r=n(this);function s(_,Y){if(Y)e:{var se=r;_=_.split(".");for(var ye=0;ye<_.length-1;ye++){var Oe=_[ye];if(!(Oe in se))break e;se=se[Oe]}_=_[_.length-1],ye=se[_],Y=Y(ye),Y!=ye&&Y!=null&&e(se,_,{configurable:!0,writable:!0,value:Y})}}function a(_,Y){_ instanceof String&&(_+="");var se=0,ye=!1,Oe={next:function(){if(!ye&&se<_.length){var Xe=se++;return{value:Y(Xe,_[Xe]),done:!1}}return ye=!0,{done:!0,value:void 0}}};return Oe[Symbol.iterator]=function(){return Oe},Oe}s("Array.prototype.values",function(_){return _||function(){return a(this,function(Y,se){return se})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function l(_){var Y=typeof _;return Y=Y!="object"?Y:_?Array.isArray(_)?"array":Y:"null",Y=="array"||Y=="object"&&typeof _.length=="number"}function A(_){var Y=typeof _;return Y=="object"&&_!=null||Y=="function"}function d(_,Y,se){return _.call.apply(_.bind,arguments)}function h(_,Y,se){if(!_)throw Error();if(2<arguments.length){var ye=Array.prototype.slice.call(arguments,2);return function(){var Oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Oe,ye),_.apply(Y,Oe)}}return function(){return _.apply(Y,arguments)}}function p(_,Y,se){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function g(_,Y){var se=Array.prototype.slice.call(arguments,1);return function(){var ye=se.slice();return ye.push.apply(ye,arguments),_.apply(this,ye)}}function w(_,Y){function se(){}se.prototype=Y.prototype,_.aa=Y.prototype,_.prototype=new se,_.prototype.constructor=_,_.Qb=function(ye,Oe,Xe){for(var St=Array(arguments.length-2),fn=2;fn<arguments.length;fn++)St[fn-2]=arguments[fn];return Y.prototype[Oe].apply(ye,St)}}function b(_){const Y=_.length;if(0<Y){const se=Array(Y);for(let ye=0;ye<Y;ye++)se[ye]=_[ye];return se}return[]}function E(_,Y){for(let se=1;se<arguments.length;se++){const ye=arguments[se];if(l(ye)){const Oe=_.length||0,Xe=ye.length||0;_.length=Oe+Xe;for(let St=0;St<Xe;St++)_[Oe+St]=ye[St]}else _.push(ye)}}class T{constructor(Y,se){this.i=Y,this.j=se,this.h=0,this.g=null}get(){let Y;return 0<this.h?(this.h--,Y=this.g,this.g=Y.next,Y.next=null):Y=this.i(),Y}}function I(_){return/^[\s\xa0]*$/.test(_)}function k(){var _=o.navigator;return _&&(_=_.userAgent)?_:""}function F(_){return F[" "](_),_}F[" "]=function(){};var R=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function L(_,Y,se){for(const ye in _)Y.call(se,_[ye],ye,_)}function S(_,Y){for(const se in _)Y.call(void 0,_[se],se,_)}function N(_){const Y={};for(const se in _)Y[se]=_[se];return Y}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(_,Y){let se,ye;for(let Oe=1;Oe<arguments.length;Oe++){ye=arguments[Oe];for(se in ye)_[se]=ye[se];for(let Xe=0;Xe<B.length;Xe++)se=B[Xe],Object.prototype.hasOwnProperty.call(ye,se)&&(_[se]=ye[se])}}function P(_){var Y=1;_=_.split(":");const se=[];for(;0<Y&&_.length;)se.push(_.shift()),Y--;return _.length&&se.push(_.join(":")),se}function M(_){o.setTimeout(()=>{throw _},0)}function V(){var _=q;let Y=null;return _.g&&(Y=_.g,_.g=_.g.next,_.g||(_.h=null),Y.next=null),Y}class G{constructor(){this.h=this.g=null}add(Y,se){const ye=oe.get();ye.set(Y,se),this.h?this.h.next=ye:this.g=ye,this.h=ye}}var oe=new T(()=>new K,_=>_.reset());class K{constructor(){this.next=this.g=this.h=null}set(Y,se){this.h=Y,this.g=se,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,re=!1,q=new G,X=()=>{const _=o.Promise.resolve(void 0);Z=()=>{_.then(ue)}};var ue=()=>{for(var _;_=V();){try{_.h.call(_.g)}catch(se){M(se)}var Y=oe;Y.j(_),100>Y.h&&(Y.h++,_.next=Y.g,Y.g=_)}re=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(_,Y){this.type=_,this.g=this.target=Y,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var _=!1,Y=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const se=()=>{};o.addEventListener("test",se,Y),o.removeEventListener("test",se,Y)}catch{}return _}();function ne(_,Y){if(W.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var se=this.type=_.type,ye=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=Y,Y=_.relatedTarget){if(R){e:{try{F(Y.nodeName);var Oe=!0;break e}catch{}Oe=!1}Oe||(Y=null)}}else se=="mouseover"?Y=_.fromElement:se=="mouseout"&&(Y=_.toElement);this.relatedTarget=Y,ye?(this.clientX=ye.clientX!==void 0?ye.clientX:ye.pageX,this.clientY=ye.clientY!==void 0?ye.clientY:ye.pageY,this.screenX=ye.screenX||0,this.screenY=ye.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:ie[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&ne.aa.h.call(this)}}w(ne,W);var ie={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),me=0;function xe(_,Y,se,ye,Oe){this.listener=_,this.proxy=null,this.src=Y,this.type=se,this.capture=!!ye,this.ha=Oe,this.key=++me,this.da=this.fa=!1}function Se(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function ge(_){this.src=_,this.g={},this.h=0}ge.prototype.add=function(_,Y,se,ye,Oe){var Xe=_.toString();_=this.g[Xe],_||(_=this.g[Xe]=[],this.h++);var St=Fe(_,Y,ye,Oe);return-1<St?(Y=_[St],se||(Y.fa=!1)):(Y=new xe(Y,this.src,Xe,!!ye,Oe),Y.fa=se,_.push(Y)),Y};function ae(_,Y){var se=Y.type;if(se in _.g){var ye=_.g[se],Oe=Array.prototype.indexOf.call(ye,Y,void 0),Xe;(Xe=0<=Oe)&&Array.prototype.splice.call(ye,Oe,1),Xe&&(Se(Y),_.g[se].length==0&&(delete _.g[se],_.h--))}}function Fe(_,Y,se,ye){for(var Oe=0;Oe<_.length;++Oe){var Xe=_[Oe];if(!Xe.da&&Xe.listener==Y&&Xe.capture==!!se&&Xe.ha==ye)return Oe}return-1}var et="closure_lm_"+(1e6*Math.random()|0),De={};function Ce(_,Y,se,ye,Oe){if(Array.isArray(Y)){for(var Xe=0;Xe<Y.length;Xe++)Ce(_,Y[Xe],se,ye,Oe);return null}return se=Wt(se),_&&_[de]?_.K(Y,se,A(ye)?!!ye.capture:!1,Oe):Ge(_,Y,se,!1,ye,Oe)}function Ge(_,Y,se,ye,Oe,Xe){if(!Y)throw Error("Invalid event type");var St=A(Oe)?!!Oe.capture:!!Oe,fn=kt(_);if(fn||(_[et]=fn=new ge(_)),se=fn.add(Y,se,ye,St,Xe),se.proxy)return se;if(ye=nt(),se.proxy=ye,ye.src=_,ye.listener=se,_.addEventListener)J||(Oe=St),Oe===void 0&&(Oe=!1),_.addEventListener(Y.toString(),ye,Oe);else if(_.attachEvent)_.attachEvent(Ct(Y.toString()),ye);else if(_.addListener&&_.removeListener)_.addListener(ye);else throw Error("addEventListener and attachEvent are unavailable.");return se}function nt(){function _(se){return Y.call(_.src,_.listener,se)}const Y=At;return _}function it(_,Y,se,ye,Oe){if(Array.isArray(Y))for(var Xe=0;Xe<Y.length;Xe++)it(_,Y[Xe],se,ye,Oe);else ye=A(ye)?!!ye.capture:!!ye,se=Wt(se),_&&_[de]?(_=_.i,Y=String(Y).toString(),Y in _.g&&(Xe=_.g[Y],se=Fe(Xe,se,ye,Oe),-1<se&&(Se(Xe[se]),Array.prototype.splice.call(Xe,se,1),Xe.length==0&&(delete _.g[Y],_.h--)))):_&&(_=kt(_))&&(Y=_.g[Y.toString()],_=-1,Y&&(_=Fe(Y,se,ye,Oe)),(se=-1<_?Y[_]:null)&&dt(se))}function dt(_){if(typeof _!="number"&&_&&!_.da){var Y=_.src;if(Y&&Y[de])ae(Y.i,_);else{var se=_.type,ye=_.proxy;Y.removeEventListener?Y.removeEventListener(se,ye,_.capture):Y.detachEvent?Y.detachEvent(Ct(se),ye):Y.addListener&&Y.removeListener&&Y.removeListener(ye),(se=kt(Y))?(ae(se,_),se.h==0&&(se.src=null,Y[et]=null)):Se(_)}}}function Ct(_){return _ in De?De[_]:De[_]="on"+_}function At(_,Y){if(_.da)_=!0;else{Y=new ne(Y,this);var se=_.listener,ye=_.ha||_.src;_.fa&&dt(_),_=se.call(ye,Y)}return _}function kt(_){return _=_[et],_ instanceof ge?_:null}var Ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wt(_){return typeof _=="function"?_:(_[Ft]||(_[Ft]=function(Y){return _.handleEvent(Y)}),_[Ft])}function Mt(){j.call(this),this.i=new ge(this),this.M=this,this.F=null}w(Mt,j),Mt.prototype[de]=!0,Mt.prototype.removeEventListener=function(_,Y,se,ye){it(this,_,Y,se,ye)};function Vt(_,Y){var se,ye=_.F;if(ye)for(se=[];ye;ye=ye.F)se.push(ye);if(_=_.M,ye=Y.type||Y,typeof Y=="string")Y=new W(Y,_);else if(Y instanceof W)Y.target=Y.target||_;else{var Oe=Y;Y=new W(ye,_),H(Y,Oe)}if(Oe=!0,se)for(var Xe=se.length-1;0<=Xe;Xe--){var St=Y.g=se[Xe];Oe=Jt(St,ye,!0,Y)&&Oe}if(St=Y.g=_,Oe=Jt(St,ye,!0,Y)&&Oe,Oe=Jt(St,ye,!1,Y)&&Oe,se)for(Xe=0;Xe<se.length;Xe++)St=Y.g=se[Xe],Oe=Jt(St,ye,!1,Y)&&Oe}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var _=this.i,Y;for(Y in _.g){for(var se=_.g[Y],ye=0;ye<se.length;ye++)Se(se[ye]);delete _.g[Y],_.h--}}this.F=null},Mt.prototype.K=function(_,Y,se,ye){return this.i.add(String(_),Y,!1,se,ye)},Mt.prototype.L=function(_,Y,se,ye){return this.i.add(String(_),Y,!0,se,ye)};function Jt(_,Y,se,ye){if(Y=_.i.g[String(Y)],!Y)return!0;Y=Y.concat();for(var Oe=!0,Xe=0;Xe<Y.length;++Xe){var St=Y[Xe];if(St&&!St.da&&St.capture==se){var fn=St.listener,Wn=St.ha||St.src;St.fa&&ae(_.i,St),Oe=fn.call(Wn,ye)!==!1&&Oe}}return Oe&&!ye.defaultPrevented}function Pt(_,Y,se){if(typeof _=="function")se&&(_=p(_,se));else if(_&&typeof _.handleEvent=="function")_=p(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(Y)?-1:o.setTimeout(_,Y||0)}function It(_){_.g=Pt(()=>{_.g=null,_.i&&(_.i=!1,It(_))},_.l);const Y=_.h;_.h=null,_.m.apply(null,Y)}class xt extends j{constructor(Y,se){super(),this.m=Y,this.l=se,this.h=null,this.i=!1,this.g=null}j(Y){this.h=arguments,this.g?this.i=!0:It(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xn(_){j.call(this),this.h=_,this.g={}}w(xn,j);var $t=[];function ir(_){L(_.g,function(Y,se){this.g.hasOwnProperty(se)&&dt(Y)},_),_.g={}}xn.prototype.N=function(){xn.aa.N.call(this),ir(this)},xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mn=o.JSON.stringify,Fn=o.JSON.parse,Er=class{stringify(_){return o.JSON.stringify(_,void 0)}parse(_){return o.JSON.parse(_,void 0)}};function Bn(){}Bn.prototype.h=null;function ta(_){return _.h||(_.h=_.i())}function Xn(){}var Wr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ls(){W.call(this,"d")}w(ls,W);function Dn(){W.call(this,"c")}w(Dn,W);var tn={},On=null;function na(){return On=On||new Mt}tn.La="serverreachability";function Or(_){W.call(this,tn.La,_)}w(Or,W);function hs(_){const Y=na();Vt(Y,new Or(Y))}tn.STAT_EVENT="statevent";function ga(_,Y){W.call(this,tn.STAT_EVENT,_),this.stat=Y}w(ga,W);function Ht(_){const Y=na();Vt(Y,new ga(Y,_))}tn.Ma="timingevent";function or(_,Y){W.call(this,tn.Ma,_),this.size=Y}w(or,W);function Zn(_,Y){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){_()},Y)}function _r(){this.g=!0}_r.prototype.xa=function(){this.g=!1};function kr(_,Y,se,ye,Oe,Xe){_.info(function(){if(_.g)if(Xe)for(var St="",fn=Xe.split("&"),Wn=0;Wn<fn.length;Wn++){var Sn=fn[Wn].split("=");if(1<Sn.length){var xr=Sn[0];Sn=Sn[1];var Sr=xr.split("_");St=2<=Sr.length&&Sr[1]=="type"?St+(xr+"="+Sn+"&"):St+(xr+"=redacted&")}}else St=null;else St=Xe;return"XMLHTTP REQ ("+ye+") [attempt "+Oe+"]: "+Y+`
`+se+`
`+St})}function Qr(_,Y,se,ye,Oe,Xe,St){_.info(function(){return"XMLHTTP RESP ("+ye+") [ attempt "+Oe+"]: "+Y+`
`+se+`
`+Xe+" "+St})}function fe(_,Y,se,ye){_.info(function(){return"XMLHTTP TEXT ("+Y+"): "+Ee(_,se)+(ye?" "+ye:"")})}function Ne(_,Y){_.info(function(){return"TIMEOUT: "+Y})}_r.prototype.info=function(){};function Ee(_,Y){if(!_.g)return Y;if(!Y)return null;try{var se=JSON.parse(Y);if(se){for(_=0;_<se.length;_++)if(Array.isArray(se[_])){var ye=se[_];if(!(2>ye.length)){var Oe=ye[1];if(Array.isArray(Oe)&&!(1>Oe.length)){var Xe=Oe[0];if(Xe!="noop"&&Xe!="stop"&&Xe!="close")for(var St=1;St<Oe.length;St++)Oe[St]=""}}}}return mn(se)}catch{return Y}}var _e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Te={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ke;function Ke(){}w(Ke,Bn),Ke.prototype.g=function(){return new XMLHttpRequest},Ke.prototype.i=function(){return{}},ke=new Ke;function tt(_,Y,se,ye){this.j=_,this.i=Y,this.l=se,this.R=ye||1,this.U=new xn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qe}function Qe(){this.i=null,this.g="",this.h=!1}var We={},Je={};function yt(_,Y,se){_.L=1,_.v=Jo(ya(Y)),_.m=se,_.P=!0,Nt(_,null)}function Nt(_,Y){_.F=Date.now(),Rt(_),_.A=ya(_.v);var se=_.A,ye=_.R;Array.isArray(ye)||(ye=[String(ye)]),dn(se.i,"t",ye),_.C=0,se=_.j.J,_.h=new Qe,_.g=Ae(_.j,se?Y:null,!_.m),0<_.O&&(_.M=new xt(p(_.Y,_,_.g),_.O)),Y=_.U,se=_.g,ye=_.ca;var Oe="readystatechange";Array.isArray(Oe)||(Oe&&($t[0]=Oe.toString()),Oe=$t);for(var Xe=0;Xe<Oe.length;Xe++){var St=Ce(se,Oe[Xe],ye||Y.handleEvent,!1,Y.h||Y);if(!St)break;Y.g[St.key]=St}Y=_.H?N(_.H):{},_.m?(_.u||(_.u="POST"),Y["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,Y)):(_.u="GET",_.g.ea(_.A,_.u,null,Y)),hs(),kr(_.i,_.u,_.A,_.l,_.R,_.m)}tt.prototype.ca=function(_){_=_.target;const Y=this.M;Y&&Ts(_)==3?Y.j():this.Y(_)},tt.prototype.Y=function(_){try{if(_==this.g)e:{const Sr=Ts(this.g);var Y=this.g.Ba();const to=this.g.Z();if(!(3>Sr)&&(Sr!=3||this.g&&(this.h.h||this.g.oa()||Ru(this.g)))){this.J||Sr!=4||Y==7||(Y==8||0>=to?hs(3):hs(2)),Un(this);var se=this.g.Z();this.X=se;t:if(jt(this)){var ye=Ru(this.g);_="";var Oe=ye.length,Xe=Ts(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qn(this),Ln(this);var St="";break t}this.h.i=new o.TextDecoder}for(Y=0;Y<Oe;Y++)this.h.h=!0,_+=this.h.i.decode(ye[Y],{stream:!(Xe&&Y==Oe-1)});ye.length=0,this.h.g+=_,this.C=0,St=this.h.g}else St=this.g.oa();if(this.o=se==200,Qr(this.i,this.u,this.A,this.l,this.R,Sr,se),this.o){if(this.T&&!this.K){t:{if(this.g){var fn,Wn=this.g;if((fn=Wn.g?Wn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(fn)){var Sn=fn;break t}}Sn=null}if(se=Sn)fe(this.i,this.l,se,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Es(this,se);else{this.o=!1,this.s=3,Ht(12),Qn(this),Ln(this);break e}}if(this.P){se=!0;let ms;for(;!this.J&&this.C<St.length;)if(ms=Tt(this,St),ms==Je){Sr==4&&(this.s=4,Ht(14),se=!1),fe(this.i,this.l,null,"[Incomplete Response]");break}else if(ms==We){this.s=4,Ht(15),fe(this.i,this.l,St,"[Invalid Chunk]"),se=!1;break}else fe(this.i,this.l,ms,null),Es(this,ms);if(jt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sr!=4||St.length!=0||this.h.h||(this.s=1,Ht(16),se=!1),this.o=this.o&&se,!se)fe(this.i,this.l,St,"[Invalid Chunked Response]"),Qn(this),Ln(this);else if(0<St.length&&!this.W){this.W=!0;var xr=this.j;xr.g==this&&xr.ba&&!xr.M&&(xr.j.info("Great, no buffering proxy detected. Bytes received: "+St.length),rl(xr),xr.M=!0,Ht(11))}}else fe(this.i,this.l,St,null),Es(this,St);Sr==4&&Qn(this),this.o&&!this.J&&(Sr==4?sl(this.j,this):(this.o=!1,Rt(this)))}else el(this.g),se==400&&0<St.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),Qn(this),Ln(this)}}}catch{}finally{}};function jt(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function Tt(_,Y){var se=_.C,ye=Y.indexOf(`
`,se);return ye==-1?Je:(se=Number(Y.substring(se,ye)),isNaN(se)?We:(ye+=1,ye+se>Y.length?Je:(Y=Y.slice(ye,ye+se),_.C=ye+se,Y)))}tt.prototype.cancel=function(){this.J=!0,Qn(this)};function Rt(_){_.S=Date.now()+_.I,An(_,_.I)}function An(_,Y){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Zn(p(_.ba,_),Y)}function Un(_){_.B&&(o.clearTimeout(_.B),_.B=null)}tt.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(Ne(this.i,this.A),this.L!=2&&(hs(),Ht(17)),Qn(this),this.s=2,Ln(this)):An(this,this.S-_)};function Ln(_){_.j.G==0||_.J||sl(_.j,_)}function Qn(_){Un(_);var Y=_.M;Y&&typeof Y.ma=="function"&&Y.ma(),_.M=null,ir(_.U),_.g&&(Y=_.g,_.g=null,Y.abort(),Y.ma())}function Es(_,Y){try{var se=_.j;if(se.G!=0&&(se.g==_||xa(se.h,_))){if(!_.K&&xa(se.h,_)&&se.G==3){try{var ye=se.Da.g.parse(Y)}catch{ye=null}if(Array.isArray(ye)&&ye.length==3){var Oe=ye;if(Oe[0]==0){e:if(!se.u){if(se.g)if(se.g.F+3e3<_.F)So(se),Nc(se);else break e;Ql(se),Ht(18)}}else se.za=Oe[1],0<se.za-se.T&&37500>Oe[2]&&se.F&&se.v==0&&!se.C&&(se.C=Zn(p(se.Za,se),6e3));if(1>=Ms(se.h)&&se.ca){try{se.ca()}catch{}se.ca=void 0}}else Fa(se,11)}else if((_.K||se.g==_)&&So(se),!I(Y))for(Oe=se.Da.g.parse(Y),Y=0;Y<Oe.length;Y++){let Sn=Oe[Y];if(se.T=Sn[0],Sn=Sn[1],se.G==2)if(Sn[0]=="c"){se.K=Sn[1],se.ia=Sn[2];const xr=Sn[3];xr!=null&&(se.la=xr,se.j.info("VER="+se.la));const Sr=Sn[4];Sr!=null&&(se.Aa=Sr,se.j.info("SVER="+se.Aa));const to=Sn[5];to!=null&&typeof to=="number"&&0<to&&(ye=1.5*to,se.L=ye,se.j.info("backChannelRequestTimeoutMs_="+ye)),ye=se;const ms=_.g;if(ms){const ui=ms.g?ms.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var Xe=ye.h;Xe.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(Xe.j=Xe.l,Xe.g=new Set,Xe.h&&(Hr(Xe,Xe.h),Xe.h=null))}if(ye.D){const al=ms.g?ms.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(ye.ya=al,gr(ye.I,ye.D,al))}}se.G=3,se.l&&se.l.ua(),se.ba&&(se.R=Date.now()-_.F,se.j.info("Handshake RTT: "+se.R+"ms")),ye=se;var St=_;if(ye.qa=Q(ye,ye.J?ye.ia:null,ye.W),St.K){sa(ye.h,St);var fn=St,Wn=ye.L;Wn&&(fn.I=Wn),fn.B&&(Un(fn),Rt(fn)),ye.g=St}else Ic(ye);0<se.i.length&&kc(se)}else Sn[0]!="stop"&&Sn[0]!="close"||Fa(se,7);else se.G==3&&(Sn[0]=="stop"||Sn[0]=="close"?Sn[0]=="stop"?Fa(se,7):_o(se):Sn[0]!="noop"&&se.l&&se.l.ta(Sn),se.v=0)}}hs(4)}catch{}}var ii=class{constructor(_,Y){this.g=_,this.map=Y}};function _s(_){this.l=_||10,o.PerformanceNavigationTiming?(_=o.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ra(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Ms(_){return _.h?1:_.g?_.g.size:0}function xa(_,Y){return _.h?_.h==Y:_.g?_.g.has(Y):!1}function Hr(_,Y){_.g?_.g.add(Y):_.h=Y}function sa(_,Y){_.h&&_.h==Y?_.h=null:_.g&&_.g.has(Y)&&_.g.delete(Y)}_s.prototype.cancel=function(){if(this.i=Sc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Sc(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let Y=_.i;for(const se of _.g.values())Y=Y.concat(se.D);return Y}return b(_.i)}function ku(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(l(_)){for(var Y=[],se=_.length,ye=0;ye<se;ye++)Y.push(_[ye]);return Y}Y=[],se=0;for(ye in _)Y[se++]=_[ye];return Y}function Wo(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(l(_)||typeof _=="string"){var Y=[];_=_.length;for(var se=0;se<_;se++)Y.push(se);return Y}Y=[],se=0;for(const ye in _)Y[se++]=ye;return Y}}}function TA(_,Y){if(_.forEach&&typeof _.forEach=="function")_.forEach(Y,void 0);else if(l(_)||typeof _=="string")Array.prototype.forEach.call(_,Y,void 0);else for(var se=Wo(_),ye=ku(_),Oe=ye.length,Xe=0;Xe<Oe;Xe++)Y.call(void 0,ye[Xe],se&&se[Xe],_)}var va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tc(_,Y){if(_){_=_.split("&");for(var se=0;se<_.length;se++){var ye=_[se].indexOf("="),Oe=null;if(0<=ye){var Xe=_[se].substring(0,ye);Oe=_[se].substring(ye+1)}else Xe=_[se];Y(Xe,Oe?decodeURIComponent(Oe.replace(/\+/g," ")):"")}}}function lr(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof lr){this.h=_.h,$o(this,_.j),this.o=_.o,this.g=_.g,Yo(this,_.s),this.l=_.l;var Y=_.i,se=new $i;se.i=Y.i,Y.g&&(se.g=new Map(Y.g),se.h=Y.h),Wi(this,se),this.m=_.m}else _&&(Y=String(_).match(va))?(this.h=!1,$o(this,Y[1]||"",!0),this.o=oi(Y[2]||""),this.g=oi(Y[3]||"",!0),Yo(this,Y[4]),this.l=oi(Y[5]||"",!0),Wi(this,Y[6]||"",!0),this.m=oi(Y[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}lr.prototype.toString=function(){var _=[],Y=this.j;Y&&_.push(yo(Y,BA,!0),":");var se=this.g;return(se||Y=="file")&&(_.push("//"),(Y=this.o)&&_.push(yo(Y,BA,!0),"@"),_.push(encodeURIComponent(String(se)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),se=this.s,se!=null&&_.push(":",String(se))),(se=this.l)&&(this.g&&se.charAt(0)!="/"&&_.push("/"),_.push(yo(se,se.charAt(0)=="/"?wo:NA,!0))),(se=this.i.toString())&&_.push("?",se),(se=this.m)&&_.push("#",yo(se,bo)),_.join("")};function ya(_){return new lr(_)}function $o(_,Y,se){_.j=se?oi(Y,!0):Y,_.j&&(_.j=_.j.replace(/:$/,""))}function Yo(_,Y){if(Y){if(Y=Number(Y),isNaN(Y)||0>Y)throw Error("Bad port number "+Y);_.s=Y}else _.s=null}function Wi(_,Y,se){Y instanceof $i?(_.i=Y,Fu(_.i,_.h)):(se||(Y=yo(Y,Bc)),_.i=new $i(Y,_.h))}function gr(_,Y,se){_.i.set(Y,se)}function Jo(_){return gr(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function oi(_,Y){return _?Y?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function yo(_,Y,se){return typeof _=="string"?(_=encodeURI(_).replace(Y,Iu),se&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Iu(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var BA=/[#\/\?@]/g,NA=/[#\?:]/g,wo=/[#\?]/g,Bc=/[#\?@]/g,bo=/#/g;function $i(_,Y){this.h=this.g=null,this.i=_||null,this.j=!!Y}function Ir(_){_.g||(_.g=new Map,_.h=0,_.i&&Tc(_.i,function(Y,se){_.add(decodeURIComponent(Y.replace(/\+/g," ")),se)}))}t=$i.prototype,t.add=function(_,Y){Ir(this),this.i=null,_=Ji(this,_);var se=this.g.get(_);return se||this.g.set(_,se=[]),se.push(Y),this.h+=1,this};function Co(_,Y){Ir(_),Y=Ji(_,Y),_.g.has(Y)&&(_.i=null,_.h-=_.g.get(Y).length,_.g.delete(Y))}function Yi(_,Y){return Ir(_),Y=Ji(_,Y),_.g.has(Y)}t.forEach=function(_,Y){Ir(this),this.g.forEach(function(se,ye){se.forEach(function(Oe){_.call(Y,Oe,ye,this)},this)},this)},t.na=function(){Ir(this);const _=Array.from(this.g.values()),Y=Array.from(this.g.keys()),se=[];for(let ye=0;ye<Y.length;ye++){const Oe=_[ye];for(let Xe=0;Xe<Oe.length;Xe++)se.push(Y[ye])}return se},t.V=function(_){Ir(this);let Y=[];if(typeof _=="string")Yi(this,_)&&(Y=Y.concat(this.g.get(Ji(this,_))));else{_=Array.from(this.g.values());for(let se=0;se<_.length;se++)Y=Y.concat(_[se])}return Y},t.set=function(_,Y){return Ir(this),this.i=null,_=Ji(this,_),Yi(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[Y]),this.h+=1,this},t.get=function(_,Y){return _?(_=this.V(_),0<_.length?String(_[0]):Y):Y};function dn(_,Y,se){Co(_,Y),0<se.length&&(_.i=null,_.g.set(Ji(_,Y),b(se)),_.h+=se.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],Y=Array.from(this.g.keys());for(var se=0;se<Y.length;se++){var ye=Y[se];const Xe=encodeURIComponent(String(ye)),St=this.V(ye);for(ye=0;ye<St.length;ye++){var Oe=Xe;St[ye]!==""&&(Oe+="="+encodeURIComponent(String(St[ye]))),_.push(Oe)}}return this.i=_.join("&")};function Ji(_,Y){return Y=String(Y),_.j&&(Y=Y.toLowerCase()),Y}function Fu(_,Y){Y&&!_.j&&(Ir(_),_.i=null,_.g.forEach(function(se,ye){var Oe=ye.toLowerCase();ye!=Oe&&(Co(this,ye),dn(this,Oe,se))},_)),_.j=Y}function Na(_,Y){const se=new _r;if(o.Image){const ye=new Image;ye.onload=g(za,se,"TestLoadImage: loaded",!0,Y,ye),ye.onerror=g(za,se,"TestLoadImage: error",!1,Y,ye),ye.onabort=g(za,se,"TestLoadImage: abort",!1,Y,ye),ye.ontimeout=g(za,se,"TestLoadImage: timeout",!1,Y,ye),o.setTimeout(function(){ye.ontimeout&&ye.ontimeout()},1e4),ye.src=_}else Y(!1)}function li(_,Y){const se=new _r,ye=new AbortController,Oe=setTimeout(()=>{ye.abort(),za(se,"TestPingServer: timeout",!1,Y)},1e4);fetch(_,{signal:ye.signal}).then(Xe=>{clearTimeout(Oe),Xe.ok?za(se,"TestPingServer: ok",!0,Y):za(se,"TestPingServer: server error",!1,Y)}).catch(()=>{clearTimeout(Oe),za(se,"TestPingServer: error",!1,Y)})}function za(_,Y,se,ye,Oe){try{Oe&&(Oe.onload=null,Oe.onerror=null,Oe.onabort=null,Oe.ontimeout=null),ye(se)}catch{}}function Xi(){this.g=new Er}function ci(_,Y,se){const ye=se||"";try{TA(_,function(Oe,Xe){let St=Oe;A(Oe)&&(St=mn(Oe)),Y.push(ye+Xe+"="+encodeURIComponent(St))})}catch(Oe){throw Y.push(ye+"type="+encodeURIComponent("_badmap")),Oe}}function Xo(_){this.l=_.Ub||null,this.j=_.eb||!1}w(Xo,Bn),Xo.prototype.g=function(){return new Eo(this.l,this.j)},Xo.prototype.i=function(_){return function(){return _}}({});function Eo(_,Y){Mt.call(this),this.D=_,this.o=Y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Eo,Mt),t=Eo.prototype,t.open=function(_,Y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=Y,this.readyState=1,ka(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const Y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(Y.body=_),(this.D||o).fetch(new Request(this.A,Y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ai(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,ka(this)),this.g&&(this.readyState=3,ka(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kA(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function kA(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var Y=_.value?_.value:new Uint8Array(0);(Y=this.v.decode(Y,{stream:!_.done}))&&(this.response=this.responseText+=Y)}_.done?Ai(this):ka(this),this.readyState==3&&kA(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,Ai(this))},t.Qa=function(_){this.g&&(this.response=_,Ai(this))},t.ga=function(){this.g&&Ai(this)};function Ai(_){_.readyState=4,_.l=null,_.j=null,_.v=null,ka(_)}t.setRequestHeader=function(_,Y){this.u.append(_,Y)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],Y=this.h.entries();for(var se=Y.next();!se.done;)se=se.value,_.push(se[0]+": "+se[1]),se=Y.next();return _.join(`\r
`)};function ka(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Eo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Zi(_){let Y="";return L(_,function(se,ye){Y+=ye,Y+=":",Y+=se,Y+=`\r
`}),Y}function Ss(_,Y,se){e:{for(ye in se){var ye=!1;break e}ye=!0}ye||(se=Zi(se),typeof _=="string"?se!=null&&encodeURIComponent(String(se)):gr(_,Y,se))}function qn(_){Mt.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(qn,Mt);var Zo=/^https?$/i,eo=["POST","PUT"];t=qn.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,Y,se,ye){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);Y=Y?Y.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ke.g(),this.v=this.o?ta(this.o):ta(ke),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(Y,String(_),!0),this.B=!1}catch(Xe){IA(this,Xe);return}if(_=se||"",se=new Map(this.headers),ye)if(Object.getPrototypeOf(ye)===Object.prototype)for(var Oe in ye)se.set(Oe,ye[Oe]);else if(typeof ye.keys=="function"&&typeof ye.get=="function")for(const Xe of ye.keys())se.set(Xe,ye.get(Xe));else throw Error("Unknown input type for opt_headers: "+String(ye));ye=Array.from(se.keys()).find(Xe=>Xe.toLowerCase()=="content-type"),Oe=o.FormData&&_ instanceof o.FormData,!(0<=Array.prototype.indexOf.call(eo,Y,void 0))||ye||Oe||se.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Xe,St]of se)this.g.setRequestHeader(Xe,St);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ia(this),this.u=!0,this.g.send(_),this.u=!1}catch(Xe){IA(this,Xe)}};function IA(_,Y){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=Y,_.m=5,Ll(_),ji(_)}function Ll(_){_.A||(_.A=!0,Vt(_,"complete"),Vt(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,Vt(this,"complete"),Vt(this,"abort"),ji(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),qn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ml(this):this.bb())},t.bb=function(){Ml(this)};function Ml(_){if(_.h&&typeof i<"u"&&(!_.v[1]||Ts(_)!=4||_.Z()!=2)){if(_.u&&Ts(_)==4)Pt(_.Ea,0,_);else if(Vt(_,"readystatechange"),Ts(_)==4){_.h=!1;try{const St=_.Z();e:switch(St){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Y=!0;break e;default:Y=!1}var se;if(!(se=Y)){var ye;if(ye=St===0){var Oe=String(_.D).match(va)[1]||null;!Oe&&o.self&&o.self.location&&(Oe=o.self.location.protocol.slice(0,-1)),ye=!Zo.test(Oe?Oe.toLowerCase():"")}se=ye}if(se)Vt(_,"complete"),Vt(_,"success");else{_.m=6;try{var Xe=2<Ts(_)?_.g.statusText:""}catch{Xe=""}_.l=Xe+" ["+_.Z()+"]",Ll(_)}}finally{ji(_)}}}}function ji(_,Y){if(_.g){Ia(_);const se=_.g,ye=_.v[0]?()=>{}:null;_.g=null,_.v=null,Y||Vt(_,"ready");try{se.onreadystatechange=ye}catch{}}}function Ia(_){_.I&&(o.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function Ts(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<Ts(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var Y=this.g.responseText;return _&&Y.indexOf(_)==0&&(Y=Y.substring(_.length)),Fn(Y)}};function Ru(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function el(_){const Y={};_=(_.g&&2<=Ts(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let ye=0;ye<_.length;ye++){if(I(_[ye]))continue;var se=P(_[ye]);const Oe=se[0];if(se=se[1],typeof se!="string")continue;se=se.trim();const Xe=Y[Oe]||[];Y[Oe]=Xe,Xe.push(se)}S(Y,function(ye){return ye.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(_,Y,se){return se&&se.internalChannelParams&&se.internalChannelParams[_]||Y}function tl(_){this.Aa=0,this.i=[],this.j=new _r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wa("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wa("baseRetryDelayMs",5e3,_),this.cb=wa("retryDelaySeedMs",1e4,_),this.Wa=wa("forwardChannelMaxRetries",2,_),this.wa=wa("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new _s(_&&_.concurrentRequestLimit),this.Da=new Xi,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tl.prototype,t.la=8,t.G=1,t.connect=function(_,Y,se,ye){Ht(0),this.W=_,this.H=Y||{},se&&ye!==void 0&&(this.H.OSID=se,this.H.OAID=ye),this.F=this.X,this.I=Q(this,null,this.W),kc(this)};function _o(_){if(Pl(_),_.G==3){var Y=_.U++,se=ya(_.I);if(gr(se,"SID",_.K),gr(se,"RID",Y),gr(se,"TYPE","terminate"),nl(_,se),Y=new tt(_,_.j,Y),Y.L=2,Y.v=Jo(ya(se)),se=!1,o.navigator&&o.navigator.sendBeacon)try{se=o.navigator.sendBeacon(Y.v.toString(),"")}catch{}!se&&o.Image&&(new Image().src=Y.v,se=!0),se||(Y.g=Ae(Y.j,null),Y.g.ea(Y.v)),Y.F=Date.now(),Rt(Y)}Fc(_)}function Nc(_){_.g&&(rl(_),_.g.cancel(),_.g=null)}function Pl(_){Nc(_),_.u&&(o.clearTimeout(_.u),_.u=null),So(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&o.clearTimeout(_.s),_.s=null)}function kc(_){if(!ra(_.h)&&!_.s){_.s=!0;var Y=_.Ga;Z||X(),re||(Z(),re=!0),q.add(Y,_),_.B=0}}function FA(_,Y){return Ms(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=Y.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Zn(p(_.Ga,_,Y),Hl(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const Oe=new tt(this,this.j,_);let Xe=this.o;if(this.S&&(Xe?(Xe=N(Xe),H(Xe,this.S)):Xe=this.S),this.m!==null||this.O||(Oe.H=Xe,Xe=null),this.P)e:{for(var Y=0,se=0;se<this.i.length;se++){t:{var ye=this.i[se];if("__data__"in ye.map&&(ye=ye.map.__data__,typeof ye=="string")){ye=ye.length;break t}ye=void 0}if(ye===void 0)break;if(Y+=ye,4096<Y){Y=se;break e}if(Y===4096||se===this.i.length-1){Y=se+1;break e}}Y=1e3}else Y=1e3;Y=Ol(this,Oe,Y),se=ya(this.I),gr(se,"RID",_),gr(se,"CVER",22),this.D&&gr(se,"X-HTTP-Session-Id",this.D),nl(this,se),Xe&&(this.O?Y="headers="+encodeURIComponent(String(Zi(Xe)))+"&"+Y:this.m&&Ss(se,this.m,Xe)),Hr(this.h,Oe),this.Ua&&gr(se,"TYPE","init"),this.P?(gr(se,"$req",Y),gr(se,"SID","null"),Oe.T=!0,yt(Oe,se,null)):yt(Oe,se,Y),this.G=2}}else this.G==3&&(_?jl(this,_):this.i.length==0||ra(this.h)||jl(this))};function jl(_,Y){var se;Y?se=Y.l:se=_.U++;const ye=ya(_.I);gr(ye,"SID",_.K),gr(ye,"RID",se),gr(ye,"AID",_.T),nl(_,ye),_.m&&_.o&&Ss(ye,_.m,_.o),se=new tt(_,_.j,se,_.B+1),_.m===null&&(se.H=_.o),Y&&(_.i=Y.D.concat(_.i)),Y=Ol(_,se,1e3),se.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Hr(_.h,se),yt(se,ye,Y)}function nl(_,Y){_.H&&L(_.H,function(se,ye){gr(Y,ye,se)}),_.l&&TA({},function(se,ye){gr(Y,ye,se)})}function Ol(_,Y,se){se=Math.min(_.i.length,se);var ye=_.l?p(_.l.Na,_.l,_):null;e:{var Oe=_.i;let Xe=-1;for(;;){const St=["count="+se];Xe==-1?0<se?(Xe=Oe[0].g,St.push("ofs="+Xe)):Xe=0:St.push("ofs="+Xe);let fn=!0;for(let Wn=0;Wn<se;Wn++){let Sn=Oe[Wn].g;const xr=Oe[Wn].map;if(Sn-=Xe,0>Sn)Xe=Math.max(0,Oe[Wn].g-100),fn=!1;else try{ci(xr,St,"req"+Sn+"_")}catch{ye&&ye(xr)}}if(fn){ye=St.join("&");break e}}}return _=_.i.splice(0,se),Y.D=_,ye}function Ic(_){if(!_.g&&!_.u){_.Y=1;var Y=_.Fa;Z||X(),re||(Z(),re=!0),q.add(Y,_),_.v=0}}function Ql(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Zn(p(_.Fa,_),Hl(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,Du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Zn(p(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),Nc(this),Du(this))};function rl(_){_.A!=null&&(o.clearTimeout(_.A),_.A=null)}function Du(_){_.g=new tt(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var Y=ya(_.qa);gr(Y,"RID","rpc"),gr(Y,"SID",_.K),gr(Y,"AID",_.T),gr(Y,"CI",_.F?"0":"1"),!_.F&&_.ja&&gr(Y,"TO",_.ja),gr(Y,"TYPE","xmlhttp"),nl(_,Y),_.m&&_.o&&Ss(Y,_.m,_.o),_.L&&(_.g.I=_.L);var se=_.g;_=_.ia,se.L=1,se.v=Jo(ya(Y)),se.m=null,se.P=!0,Nt(se,_)}t.Za=function(){this.C!=null&&(this.C=null,Nc(this),Ql(this),Ht(19))};function So(_){_.C!=null&&(o.clearTimeout(_.C),_.C=null)}function sl(_,Y){var se=null;if(_.g==Y){So(_),rl(_),_.g=null;var ye=2}else if(xa(_.h,Y))se=Y.D,sa(_.h,Y),ye=1;else return;if(_.G!=0){if(Y.o)if(ye==1){se=Y.m?Y.m.length:0,Y=Date.now()-Y.F;var Oe=_.B;ye=na(),Vt(ye,new or(ye,se)),kc(_)}else Ic(_);else if(Oe=Y.s,Oe==3||Oe==0&&0<Y.X||!(ye==1&&FA(_,Y)||ye==2&&Ql(_)))switch(se&&0<se.length&&(Y=_.h,Y.i=Y.i.concat(se)),Oe){case 1:Fa(_,5);break;case 4:Fa(_,10);break;case 3:Fa(_,6);break;default:Fa(_,2)}}}function Hl(_,Y){let se=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(se*=2),se*Y}function Fa(_,Y){if(_.j.info("Error code "+Y),Y==2){var se=p(_.fb,_),ye=_.Xa;const Oe=!ye;ye=new lr(ye||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||$o(ye,"https"),Jo(ye),Oe?Na(ye.toString(),se):li(ye.toString(),se)}else Ht(2);_.G=0,_.l&&_.l.sa(Y),Fc(_),Pl(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function Fc(_){if(_.G=0,_.ka=[],_.l){const Y=Sc(_.h);(Y.length!=0||_.i.length!=0)&&(E(_.ka,Y),E(_.ka,_.i),_.h.i.length=0,b(_.i),_.i.length=0),_.l.ra()}}function Q(_,Y,se){var ye=se instanceof lr?ya(se):new lr(se);if(ye.g!="")Y&&(ye.g=Y+"."+ye.g),Yo(ye,ye.s);else{var Oe=o.location;ye=Oe.protocol,Y=Y?Y+"."+Oe.hostname:Oe.hostname,Oe=+Oe.port;var Xe=new lr(null);ye&&$o(Xe,ye),Y&&(Xe.g=Y),Oe&&Yo(Xe,Oe),se&&(Xe.l=se),ye=Xe}return se=_.D,Y=_.ya,se&&Y&&gr(ye,se,Y),gr(ye,"VER",_.la),nl(_,ye),ye}function Ae(_,Y,se){if(Y&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return Y=_.Ca&&!_.pa?new qn(new Xo({eb:se})):new qn(_.pa),Y.Ha(_.J),Y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ie(){}t=Ie.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ue(){}Ue.prototype.g=function(_,Y){return new He(_,Y)};function He(_,Y){Mt.call(this),this.g=new tl(Y),this.l=_,this.h=Y&&Y.messageUrlParams||null,_=Y&&Y.messageHeaders||null,Y&&Y.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=Y&&Y.initMessageHeaders||null,Y&&Y.messageContentType&&(_?_["X-WebChannel-Content-Type"]=Y.messageContentType:_={"X-WebChannel-Content-Type":Y.messageContentType}),Y&&Y.va&&(_?_["X-WebChannel-Client-Profile"]=Y.va:_={"X-WebChannel-Client-Profile":Y.va}),this.g.S=_,(_=Y&&Y.Sb)&&!I(_)&&(this.g.m=_),this.v=Y&&Y.supportsCrossDomainXhr||!1,this.u=Y&&Y.sendRawJson||!1,(Y=Y&&Y.httpSessionIdParam)&&!I(Y)&&(this.g.D=Y,_=this.h,_!==null&&Y in _&&(_=this.h,Y in _&&delete _[Y])),this.j=new Ot(this)}w(He,Mt),He.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},He.prototype.close=function(){_o(this.g)},He.prototype.o=function(_){var Y=this.g;if(typeof _=="string"){var se={};se.__data__=_,_=se}else this.u&&(se={},se.__data__=mn(_),_=se);Y.i.push(new ii(Y.Ya++,_)),Y.G==3&&kc(Y)},He.prototype.N=function(){this.g.l=null,delete this.j,_o(this.g),delete this.g,He.aa.N.call(this)};function ot(_){ls.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var Y=_.__sm__;if(Y){e:{for(const se in Y){_=se;break e}_=void 0}(this.i=_)&&(_=this.i,Y=Y!==null&&_ in Y?Y[_]:void 0),this.data=Y}else this.data=_}w(ot,ls);function _t(){Dn.call(this),this.status=1}w(_t,Dn);function Ot(_){this.g=_}w(Ot,Ie),Ot.prototype.ua=function(){Vt(this.g,"a")},Ot.prototype.ta=function(_){Vt(this.g,new ot(_))},Ot.prototype.sa=function(_){Vt(this.g,new _t)},Ot.prototype.ra=function(){Vt(this.g,"b")},Ue.prototype.createWebChannel=Ue.prototype.g,He.prototype.send=He.prototype.o,He.prototype.open=He.prototype.m,He.prototype.close=He.prototype.close,yU=function(){return new Ue},vU=function(){return na()},xU=tn,LE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,Kv=_e,Te.COMPLETE="complete",gU=Te,Xn.EventType=Wr,Wr.OPEN="a",Wr.CLOSE="b",Wr.ERROR="c",Wr.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,Gp=Xn,qn.prototype.listenOnce=qn.prototype.L,qn.prototype.getLastError=qn.prototype.Ka,qn.prototype.getLastErrorCode=qn.prototype.Ba,qn.prototype.getStatus=qn.prototype.Z,qn.prototype.getResponseJson=qn.prototype.Oa,qn.prototype.getResponseText=qn.prototype.oa,qn.prototype.send=qn.prototype.ea,qn.prototype.setWithCredentials=qn.prototype.Ha,pU=qn}).apply(typeof M1<"u"?M1:typeof self<"u"?self:typeof window<"u"?window:{});const kN="@firebase/firestore",IN="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_i.UNAUTHENTICATED=new _i(null),_i.GOOGLE_CREDENTIALS=new _i("google-credentials-uid"),_i.FIRST_PARTY=new _i("first-party-uid"),_i.MOCK_USER=new _i("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new NS("@firebase/firestore");function E0(){return ah.logLevel}function Yt(t,...e){if(ah.logLevel<=rr.DEBUG){const n=e.map(OS);ah.debug(`Firestore (${Tm}): ${t}`,...n)}}function xu(t,...e){if(ah.logLevel<=rr.ERROR){const n=e.map(OS);ah.error(`Firestore (${Tm}): ${t}`,...n)}}function Am(t,...e){if(ah.logLevel<=rr.WARN){const n=e.map(OS);ah.warn(`Firestore (${Tm}): ${t}`,...n)}}function OS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,wU(t,r,n)}function wU(t,e,n){let r=`FIRESTORE (${Tm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xu(r),new Error(r)}function Nr(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||wU(e,s,r)}function In(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zt extends _u{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_i.UNAUTHENTICATED))}shutdown(){}}class wz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bz{constructor(e){this.t=e,this.currentUser=_i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Nr(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new uu;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new uu,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{Yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new uu)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nr(typeof r.accessToken=="string",31837,{l:r}),new bU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Nr(e===null||typeof e=="string",2055,{h:e}),new _i(e)}}class Cz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=_i.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ez{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Cz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(_i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _z{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ac(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Nr(this.o===void 0,3512);const r=a=>{a.error!=null&&Yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const i=a.token!==this.m;return this.m=a.token,Yt("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{Yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new FN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Nr(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new FN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Sz(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function sr(t,e){return t<e?-1:t>e?1:0}function ME(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return $b(s)===$b(a)?sr(s,a):$b(s)?1:-1}return sr(t.length,e.length)}const Tz=55296,Bz=57343;function $b(t){const e=t.charCodeAt(0);return e>=Tz&&e<=Bz}function um(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="__name__";class lA{constructor(e,n,r){n===void 0?n=0:n>e.length&&Cn(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Cn(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lA.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lA?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=lA.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return sr(e.length,n.length)}static compareSegments(e,n){const r=lA.isNumericId(e),s=lA.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?lA.extractNumericId(e).compare(lA.extractNumericId(n)):ME(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Md.fromString(e.substring(4,e.length-2))}}class Zr extends lA{construct(e,n,r){return new Zr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new zt(pt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Zr(n)}static emptyPath(){return new Zr([])}}const Nz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ni extends lA{construct(e,n,r){return new ni(e,n,r)}static isValidIdentifier(e){return Nz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ni.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RN}static keyField(){return new ni([RN])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new zt(pt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new zt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new zt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else o==="`"?(i=!i,s++):o!=="."||i?(r+=o,s++):(a(),s++)}if(a(),i)throw new zt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ni(n)}static emptyPath(){return new ni([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.path=e}static fromPath(e){return new cn(Zr.fromString(e))}static fromName(e){return new cn(Zr.fromString(e).popFirst(5))}static empty(){return new cn(Zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Zr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new cn(new Zr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t,e,n){if(!n)throw new zt(pt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kz(t,e,n,r){if(e===!0&&r===!0)throw new zt(pt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function DN(t){if(!cn.isDocumentKey(t))throw new zt(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UN(t){if(cn.isDocumentKey(t))throw new zt(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function EU(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ky(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Cn(12329,{type:typeof t})}function yc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new zt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ky(t);throw new zt(pt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t,e){const n={typeString:t};return e&&(n.value=e),n}function vx(t,e){if(!EU(t))throw new zt(pt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const i=t[r];if(s&&typeof i!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&i!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new zt(pt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=-62135596800,MN=1e6;class ss{static now(){return ss.fromMillis(Date.now())}static fromDate(e){return ss.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*MN);return new ss(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new zt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new zt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<LN)throw new zt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new zt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MN}_compareTo(e){return this.seconds===e.seconds?sr(this.nanoseconds,e.nanoseconds):sr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ss._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vx(e,ss._jsonSchema))return new ss(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-LN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ss._jsonSchemaVersion="firestore/timestamp/1.0",ss._jsonSchema={type:ma("string",ss._jsonSchemaVersion),seconds:ma("number"),nanoseconds:ma("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{static fromTimestamp(e){return new Nn(e)}static min(){return new Nn(new ss(0,0))}static max(){return new Nn(new ss(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=-1;function Iz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Nn.fromTimestamp(r===1e9?new ss(n+1,0):new ss(n,r));return new Gd(s,cn.empty(),e)}function Fz(t){return new Gd(t.readTime,t.key,Dg)}class Gd{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gd(Nn.min(),cn.empty(),Dg)}static max(){return new Gd(Nn.max(),cn.empty(),Dg)}}function Rz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=cn.comparator(t.documentKey,e.documentKey),n!==0?n:sr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Uz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bm(t){if(t.code!==pt.FAILED_PRECONDITION||t.message!==Dz)throw t;Yt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Cn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new bt((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof bt?n:bt.resolve(n)}catch(n){return bt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):bt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):bt.reject(n)}static resolve(e){return new bt((n,r)=>{n(e)})}static reject(e){return new bt((n,r)=>{r(e)})}static waitFor(e){return new bt((n,r)=>{let s=0,a=0,i=!1;e.forEach(o=>{++s,o.next(()=>{++a,i&&a===s&&n()},l=>r(l))}),i=!0,a===s&&n()})}static or(e){let n=bt.resolve(!1);for(const r of e)n=n.next(s=>s?bt.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new bt((r,s)=>{const a=e.length,i=new Array(a);let o=0;for(let l=0;l<a;l++){const A=l;n(e[A]).next(d=>{i[A]=d,++o,o===a&&r(i)},d=>s(d))}})}static doWhile(e,n){return new bt((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function Lz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Iy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=-1;function Fy(t){return t==null}function b2(t){return t===0&&1/t==-1/0}function Mz(t){return typeof t=="number"&&Number.isInteger(t)&&!b2(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U="";function Pz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=PN(e)),e=jz(t.get(n),e);return PN(e)}function jz(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case _U:n+="";break;default:n+=a}}return n}function PN(t){return t+_U+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){this.comparator=e,this.root=n||ei.EMPTY}insert(e,n){return new bs(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ei.BLACK,null,null))}remove(e){return new bs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ei.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new P1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new P1(this.root,e,this.comparator,!1)}getReverseIterator(){return new P1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new P1(this.root,e,this.comparator,!0)}}class P1{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ei{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??ei.RED,this.left=s??ei.EMPTY,this.right=a??ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new ei(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ei.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Cn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Cn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Cn(27949);return e+(this.isRed()?0:1)}}ei.EMPTY=null,ei.RED=!0,ei.BLACK=!1;ei.EMPTY=new class{constructor(){this.size=0}get key(){throw Cn(57766)}get value(){throw Cn(16141)}get color(){throw Cn(16727)}get left(){throw Cn(29726)}get right(){throw Cn(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new ei(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.comparator=e,this.data=new bs(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ON(this.data.getIterator())}getIteratorFrom(e){return new ON(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Sa)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Sa(this.comparator);return n.data=e,n}}class ON{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.fields=e,e.sort(ni.comparator)}static empty(){return new Vo([])}unionWith(e){let n=new Sa(ni.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return um(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new TU("Invalid base64 string: "+a):a}}(e);return new ai(n)}static fromUint8Array(e){const n=function(s){let a="";for(let i=0;i<s.length;++i)a+=String.fromCharCode(s[i]);return a}(e);return new ai(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ai.EMPTY_BYTE_STRING=new ai("");const Oz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zd(t){if(Nr(!!t,39018),typeof t=="string"){let e=0;const n=Oz.exec(t);if(Nr(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qs(t.seconds),nanos:qs(t.nanos)}}function qs(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kd(t){return typeof t=="string"?ai.fromBase64String(t):ai.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU="server_timestamp",NU="__type__",kU="__previous_value__",IU="__local_write_time__";function VS(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[NU])==null?void 0:r.stringValue)===BU}function Ry(t){const e=t.mapValue.fields[kU];return VS(e)?Ry(e):e}function Ug(t){const e=zd(t.mapValue.fields[IU].timestampValue);return new ss(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e,n,r,s,a,i,o,l,A,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=A,this.isUsingEmulator=d}}const C2="(default)";class Lg{constructor(e,n){this.projectId=e,this.database=n||C2}static empty(){return new Lg("","")}get isDefaultDatabase(){return this.database===C2}isEqual(e){return e instanceof Lg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU="__type__",Hz="__max__",j1={mapValue:{}},RU="__vector__",E2="value";function qd(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?VS(t)?4:Gz(t)?9007199254740991:Vz(t)?10:11:Cn(28295,{value:t})}function yA(t,e){if(t===e)return!0;const n=qd(t);if(n!==qd(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ug(t).isEqual(Ug(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const i=zd(s.timestampValue),o=zd(a.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return Kd(s.bytesValue).isEqual(Kd(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return qs(s.geoPointValue.latitude)===qs(a.geoPointValue.latitude)&&qs(s.geoPointValue.longitude)===qs(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return qs(s.integerValue)===qs(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const i=qs(s.doubleValue),o=qs(a.doubleValue);return i===o?b2(i)===b2(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return um(t.arrayValue.values||[],e.arrayValue.values||[],yA);case 10:case 11:return function(s,a){const i=s.mapValue.fields||{},o=a.mapValue.fields||{};if(jN(i)!==jN(o))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(o[l]===void 0||!yA(i[l],o[l])))return!1;return!0}(t,e);default:return Cn(52216,{left:t})}}function Mg(t,e){return(t.values||[]).find(n=>yA(n,e))!==void 0}function dm(t,e){if(t===e)return 0;const n=qd(t),r=qd(e);if(n!==r)return sr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return sr(t.booleanValue,e.booleanValue);case 2:return function(a,i){const o=qs(a.integerValue||a.doubleValue),l=qs(i.integerValue||i.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return QN(t.timestampValue,e.timestampValue);case 4:return QN(Ug(t),Ug(e));case 5:return ME(t.stringValue,e.stringValue);case 6:return function(a,i){const o=Kd(a),l=Kd(i);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,i){const o=a.split("/"),l=i.split("/");for(let A=0;A<o.length&&A<l.length;A++){const d=sr(o[A],l[A]);if(d!==0)return d}return sr(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,i){const o=sr(qs(a.latitude),qs(i.latitude));return o!==0?o:sr(qs(a.longitude),qs(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return HN(t.arrayValue,e.arrayValue);case 10:return function(a,i){var p,g,w,b;const o=a.fields||{},l=i.fields||{},A=(p=o[E2])==null?void 0:p.arrayValue,d=(g=l[E2])==null?void 0:g.arrayValue,h=sr(((w=A==null?void 0:A.values)==null?void 0:w.length)||0,((b=d==null?void 0:d.values)==null?void 0:b.length)||0);return h!==0?h:HN(A,d)}(t.mapValue,e.mapValue);case 11:return function(a,i){if(a===j1.mapValue&&i===j1.mapValue)return 0;if(a===j1.mapValue)return 1;if(i===j1.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),A=i.fields||{},d=Object.keys(A);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=ME(l[h],d[h]);if(p!==0)return p;const g=dm(o[l[h]],A[d[h]]);if(g!==0)return g}return sr(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Cn(23264,{he:n})}}function QN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return sr(t,e);const n=zd(t),r=zd(e),s=sr(n.seconds,r.seconds);return s!==0?s:sr(n.nanos,r.nanos)}function HN(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=dm(n[s],r[s]);if(a)return a}return sr(n.length,r.length)}function fm(t){return PE(t)}function PE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=zd(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Kd(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return cn.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=PE(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const i of r)a?a=!1:s+=",",s+=`${i}:${PE(n.fields[i])}`;return s+"}"}(t.mapValue):Cn(61005,{value:t})}function qv(t){switch(qd(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ry(t);return e?16+qv(e):16;case 5:return 2*t.stringValue.length;case 6:return Kd(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+qv(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return sf(r.fields,(a,i)=>{s+=a.length+qv(i)}),s}(t.mapValue);default:throw Cn(13486,{value:t})}}function VN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jE(t){return!!t&&"integerValue"in t}function GS(t){return!!t&&"arrayValue"in t}function GN(t){return!!t&&"nullValue"in t}function zN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wv(t){return!!t&&"mapValue"in t}function Vz(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[FU])==null?void 0:r.stringValue)===RU}function ug(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return sf(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ug(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ug(t.arrayValue.values[n]);return e}return{...t}}function Gz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Hz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.value=e}static empty(){return new fo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ug(n)}setAll(e){let n=ni.emptyPath(),r={},s=[];e.forEach((i,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=o.popLast()}i?r[o.lastSegment()]=ug(i):s.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Wv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yA(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Wv(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){sf(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new fo(ug(this.value))}}function DU(t){const e=[];return sf(t.fields,(n,r)=>{const s=new ni([n]);if(Wv(r)){const a=DU(r.mapValue).fields;if(a.length===0)e.push(s);else for(const i of a)e.push(s.child(i))}else e.push(s)}),new Vo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,r,s,a,i,o){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=i,this.documentState=o}static newInvalidDocument(e){return new Ni(e,0,Nn.min(),Nn.min(),Nn.min(),fo.empty(),0)}static newFoundDocument(e,n,r,s){return new Ni(e,1,n,Nn.min(),r,s,0)}static newNoDocument(e,n){return new Ni(e,2,n,Nn.min(),Nn.min(),fo.empty(),0)}static newUnknownDocument(e,n){return new Ni(e,3,n,Nn.min(),Nn.min(),fo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Nn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ni&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.position=e,this.inclusive=n}}function KN(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],i=t.position[s];if(a.field.isKeyField()?r=cn.comparator(cn.fromName(i.referenceValue),n.key):r=dm(i,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function qN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yA(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n="asc"){this.field=e,this.dir=n}}function zz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{}class ha extends UU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qz(e,n,r):n==="array-contains"?new Yz(e,r):n==="in"?new Jz(e,r):n==="not-in"?new Xz(e,r):n==="array-contains-any"?new Zz(e,r):new ha(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Wz(e,r):new $z(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dm(n,this.value)):n!==null&&qd(this.value)===qd(n)&&this.matchesComparison(dm(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Cn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wc extends UU{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wc(e,n)}matches(e){return LU(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LU(t){return t.op==="and"}function MU(t){return Kz(t)&&LU(t)}function Kz(t){for(const e of t.filters)if(e instanceof wc)return!1;return!0}function OE(t){if(t instanceof ha)return t.field.canonicalString()+t.op.toString()+fm(t.value);if(MU(t))return t.filters.map(e=>OE(e)).join(",");{const e=t.filters.map(n=>OE(n)).join(",");return`${t.op}(${e})`}}function PU(t,e){return t instanceof ha?function(r,s){return s instanceof ha&&r.op===s.op&&r.field.isEqual(s.field)&&yA(r.value,s.value)}(t,e):t instanceof wc?function(r,s){return s instanceof wc&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,i,o)=>a&&PU(i,s.filters[o]),!0):!1}(t,e):void Cn(19439)}function jU(t){return t instanceof ha?function(n){return`${n.field.canonicalString()} ${n.op} ${fm(n.value)}`}(t):t instanceof wc?function(n){return n.op.toString()+" {"+n.getFilters().map(jU).join(" ,")+"}"}(t):"Filter"}class qz extends ha{constructor(e,n,r){super(e,n,r),this.key=cn.fromName(r.referenceValue)}matches(e){const n=cn.comparator(e.key,this.key);return this.matchesComparison(n)}}class Wz extends ha{constructor(e,n){super(e,"in",n),this.keys=OU("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $z extends ha{constructor(e,n){super(e,"not-in",n),this.keys=OU("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OU(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>cn.fromName(r.referenceValue))}class Yz extends ha{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return GS(n)&&Mg(n.arrayValue,this.value)}}class Jz extends ha{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mg(this.value.arrayValue,n)}}class Xz extends ha{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mg(this.value.arrayValue,n)}}class Zz extends ha{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!GS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mg(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(e,n=null,r=[],s=[],a=null,i=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=i,this.endAt=o,this.Te=null}}function WN(t,e=null,n=[],r=[],s=null,a=null,i=null){return new eK(t,e,n,r,s,a,i)}function zS(t){const e=In(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>OE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Fy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fm(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fm(r)).join(",")),e.Te=n}return e.Te}function KS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qN(t.startAt,e.startAt)&&qN(t.endAt,e.endAt)}function QE(t){return cn.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n=null,r=[],s=[],a=null,i="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=i,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tK(t,e,n,r,s,a,i,o){return new km(t,e,n,r,s,a,i,o)}function qS(t){return new km(t)}function $N(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QU(t){return t.collectionGroup!==null}function dg(t){const e=In(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let o=new Sa(ni.comparator);return i.filters.forEach(l=>{l.getFlattenedFilters().forEach(A=>{A.isInequality()&&(o=o.add(A.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Pg(a,r))}),n.has(ni.keyField().canonicalString())||e.Ie.push(new Pg(ni.keyField(),r))}return e.Ie}function hA(t){const e=In(t);return e.Ee||(e.Ee=nK(e,dg(t))),e.Ee}function nK(t,e){if(t.limitType==="F")return WN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Pg(s.field,a)});const n=t.endAt?new _2(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _2(t.startAt.position,t.startAt.inclusive):null;return WN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function HE(t,e){const n=t.filters.concat([e]);return new km(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function VE(t,e,n){return new km(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dy(t,e){return KS(hA(t),hA(e))&&t.limitType===e.limitType}function HU(t){return`${zS(hA(t))}|lt:${t.limitType}`}function _0(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>jU(s)).join(", ")}]`),Fy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>fm(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>fm(s)).join(",")),`Target(${r})`}(hA(t))}; limitType=${t.limitType})`}function Uy(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):cn.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of dg(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(i,o,l){const A=KN(i,o,l);return i.inclusive?A<=0:A<0}(r.startAt,dg(r),s)||r.endAt&&!function(i,o,l){const A=KN(i,o,l);return i.inclusive?A>=0:A>0}(r.endAt,dg(r),s))}(t,e)}function rK(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VU(t){return(e,n)=>{let r=!1;for(const s of dg(t)){const a=sK(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function sK(t,e,n){const r=t.field.isKeyField()?cn.comparator(e.key,n.key):function(a,i,o){const l=i.data.field(a),A=o.data.field(a);return l!==null&&A!==null?dm(l,A):Cn(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Cn(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){sf(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return SU(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK=new bs(cn.comparator);function vu(){return aK}const GU=new bs(cn.comparator);function zp(...t){let e=GU;for(const n of t)e=e.insert(n.key,n);return e}function zU(t){let e=GU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qf(){return fg()}function KU(){return fg()}function fg(){return new gh(t=>t.toString(),(t,e)=>t.isEqual(e))}const iK=new bs(cn.comparator),oK=new Sa(cn.comparator);function ar(...t){let e=oK;for(const n of t)e=e.add(n);return e}const lK=new Sa(sr);function cK(){return lK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:b2(e)?"-0":e}}function qU(t){return{integerValue:""+t}}function AK(t,e){return Mz(e)?qU(e):WS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this._=void 0}}function uK(t,e,n){return t instanceof S2?function(s,a){const i={fields:{[NU]:{stringValue:BU},[IU]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&VS(a)&&(a=Ry(a)),a&&(i.fields[kU]=a),{mapValue:i}}(n,e):t instanceof jg?$U(t,e):t instanceof Og?YU(t,e):function(s,a){const i=WU(s,a),o=YN(i)+YN(s.Ae);return jE(i)&&jE(s.Ae)?qU(o):WS(s.serializer,o)}(t,e)}function dK(t,e,n){return t instanceof jg?$U(t,e):t instanceof Og?YU(t,e):n}function WU(t,e){return t instanceof T2?function(r){return jE(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class S2 extends Ly{}class jg extends Ly{constructor(e){super(),this.elements=e}}function $U(t,e){const n=JU(e);for(const r of t.elements)n.some(s=>yA(s,r))||n.push(r);return{arrayValue:{values:n}}}class Og extends Ly{constructor(e){super(),this.elements=e}}function YU(t,e){let n=JU(e);for(const r of t.elements)n=n.filter(s=>!yA(s,r));return{arrayValue:{values:n}}}class T2 extends Ly{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function YN(t){return qs(t.integerValue||t.doubleValue)}function JU(t){return GS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fK(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof jg&&s instanceof jg||r instanceof Og&&s instanceof Og?um(r.elements,s.elements,yA):r instanceof T2&&s instanceof T2?yA(r.Ae,s.Ae):r instanceof S2&&s instanceof S2}(t.transform,e.transform)}class hK{constructor(e,n){this.version=e,this.transformResults=n}}class kl{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kl}static exists(e){return new kl(void 0,e)}static updateTime(e){return new kl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $v(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class My{}function XU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $S(t.key,kl.none()):new yx(t.key,t.data,kl.none());{const n=t.data,r=fo.empty();let s=new Sa(ni.comparator);for(let a of e.fields)if(!s.has(a)){let i=n.field(a);i===null&&a.length>1&&(a=a.popLast(),i=n.field(a)),i===null?r.delete(a):r.set(a,i),s=s.add(a)}return new af(t.key,r,new Vo(s.toArray()),kl.none())}}function mK(t,e,n){t instanceof yx?function(s,a,i){const o=s.value.clone(),l=XN(s.fieldTransforms,a,i.transformResults);o.setAll(l),a.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof af?function(s,a,i){if(!$v(s.precondition,a))return void a.convertToUnknownDocument(i.version);const o=XN(s.fieldTransforms,a,i.transformResults),l=a.data;l.setAll(ZU(s)),l.setAll(o),a.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,e,n):function(s,a,i){a.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function hg(t,e,n,r){return t instanceof yx?function(a,i,o,l){if(!$v(a.precondition,i))return o;const A=a.value.clone(),d=ZN(a.fieldTransforms,l,i);return A.setAll(d),i.convertToFoundDocument(i.version,A).setHasLocalMutations(),null}(t,e,n,r):t instanceof af?function(a,i,o,l){if(!$v(a.precondition,i))return o;const A=ZN(a.fieldTransforms,l,i),d=i.data;return d.setAll(ZU(a)),d.setAll(A),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(a,i,o){return $v(a.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function pK(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=WU(r.transform,s||null);a!=null&&(n===null&&(n=fo.empty()),n.set(r.field,a))}return n||null}function JN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&um(r,s,(a,i)=>fK(a,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yx extends My{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class af extends My{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ZU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function XN(t,e,n){const r=new Map;Nr(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const a=t[s],i=a.transform,o=e.data.field(a.field);r.set(a.field,dK(i,o,n[s]))}return r}function ZN(t,e,n){const r=new Map;for(const s of t){const a=s.transform,i=n.data.field(s.field);r.set(s.field,uK(a,i,e))}return r}class $S extends My{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gK extends My{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&mK(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KU();return this.mutations.forEach(s=>{const a=e.get(s.key),i=a.overlayedDocument;let o=this.applyToLocalView(i,a.mutatedFields);o=n.has(s.key)?null:o;const l=XU(i,o);l!==null&&r.set(s.key,l),i.isValidDocument()||i.convertToNoDocument(Nn.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ar())}isEqual(e){return this.batchId===e.batchId&&um(this.mutations,e.mutations,(n,r)=>JN(n,r))&&um(this.baseMutations,e.baseMutations,(n,r)=>JN(n,r))}}class YS{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Nr(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return iK}();const a=e.mutations;for(let i=0;i<a.length;i++)s=s.insert(a[i].key,r[i].version);return new YS(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aa,fr;function wK(t){switch(t){case pt.OK:return Cn(64938);case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0;default:return Cn(15467,{code:t})}}function eL(t){if(t===void 0)return xu("GRPC error has no .code"),pt.UNKNOWN;switch(t){case Aa.OK:return pt.OK;case Aa.CANCELLED:return pt.CANCELLED;case Aa.UNKNOWN:return pt.UNKNOWN;case Aa.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case Aa.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case Aa.INTERNAL:return pt.INTERNAL;case Aa.UNAVAILABLE:return pt.UNAVAILABLE;case Aa.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case Aa.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case Aa.NOT_FOUND:return pt.NOT_FOUND;case Aa.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case Aa.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case Aa.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case Aa.ABORTED:return pt.ABORTED;case Aa.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case Aa.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case Aa.DATA_LOSS:return pt.DATA_LOSS;default:return Cn(39323,{code:t})}}(fr=Aa||(Aa={}))[fr.OK=0]="OK",fr[fr.CANCELLED=1]="CANCELLED",fr[fr.UNKNOWN=2]="UNKNOWN",fr[fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fr[fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fr[fr.NOT_FOUND=5]="NOT_FOUND",fr[fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",fr[fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",fr[fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",fr[fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fr[fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fr[fr.ABORTED=10]="ABORTED",fr[fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",fr[fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",fr[fr.INTERNAL=13]="INTERNAL",fr[fr.UNAVAILABLE=14]="UNAVAILABLE",fr[fr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bK(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CK=new Md([4294967295,4294967295],0);function e3(t){const e=bK().encode(t),n=new mU;return n.update(e),new Uint8Array(n.digest())}function t3(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Md([n,r],0),new Md([s,a],0)]}class JS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kp(`Invalid padding: ${n}`);if(r<0)throw new Kp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kp(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kp(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Md.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Md.fromNumber(r)));return s.compare(CK)===1&&(s=new Md([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=e3(e),[r,s]=t3(n);for(let a=0;a<this.hashCount;a++){const i=this.ye(r,s,a);if(!this.we(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),i=new JS(a,s,n);return r.forEach(o=>i.insert(o)),i}insert(e){if(this.ge===0)return;const n=e3(e),[r,s]=t3(n);for(let a=0;a<this.hashCount;a++){const i=this.ye(r,s,a);this.Se(i)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,wx.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Py(Nn.min(),s,new bs(sr),vu(),ar())}}class wx{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wx(r,n,ar(),ar(),ar())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class tL{constructor(e,n){this.targetId=e,this.Ce=n}}class nL{constructor(e,n,r=ai.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class n3{constructor(){this.ve=0,this.Fe=r3(),this.Me=ai.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ar(),n=ar(),r=ar();return this.Fe.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Cn(38017,{changeType:a})}}),new wx(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=r3()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Nr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class EK{constructor(e){this.Ge=e,this.ze=new Map,this.je=vu(),this.Je=O1(),this.He=O1(),this.Ye=new bs(sr)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Cn(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(QE(a))if(r===0){const i=new cn(a.path);this.et(n,i,Ni.newNoDocument(i,Nn.min()))}else Nr(r===1,20013,{expectedCount:r});else{const i=this._t(n);if(i!==r){const o=this.ut(e),l=o?this.ct(o,e,i):1;if(l!==0){this.it(n);const A=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,A)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let i,o;try{i=Kd(r).toUint8Array()}catch(l){if(l instanceof TU)return Am("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new JS(i,s,a)}catch(l){return Am(l instanceof Kp?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const i=this.Ge.ht(),o=`projects/${i.projectId}/databases/${i.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((a,i)=>{const o=this.ot(i);if(o){if(a.current&&QE(o.target)){const l=new cn(o.target.path);this.It(l).has(i)||this.Et(i,l)||this.et(i,l,Ni.newNoDocument(l,e))}a.Be&&(n.set(i,a.ke()),a.qe())}});let r=ar();this.He.forEach((a,i)=>{let o=!0;i.forEachWhile(l=>{const A=this.ot(l);return!A||A.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,i)=>i.setReadTime(e));const s=new Py(e,n,this.Ye,this.je,r);return this.je=vu(),this.Je=O1(),this.He=O1(),this.Ye=new bs(sr),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new n3,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Sa(sr),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Sa(sr),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Yt("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new n3),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function O1(){return new bs(cn.comparator)}function r3(){return new bs(cn.comparator)}const _K={asc:"ASCENDING",desc:"DESCENDING"},SK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TK={and:"AND",or:"OR"};class BK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function GE(t,e){return t.useProto3Json||Fy(e)?e:{value:e}}function B2(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NK(t,e){return B2(t,e.toTimestamp())}function mA(t){return Nr(!!t,49232),Nn.fromTimestamp(function(n){const r=zd(n);return new ss(r.seconds,r.nanos)}(t))}function XS(t,e){return zE(t,e).canonicalString()}function zE(t,e){const n=function(s){return new Zr(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sL(t){const e=Zr.fromString(t);return Nr(cL(e),10190,{key:e.toString()}),e}function KE(t,e){return XS(t.databaseId,e.path)}function Yb(t,e){const n=sL(e);if(n.get(1)!==t.databaseId.projectId)throw new zt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new zt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new cn(iL(n))}function aL(t,e){return XS(t.databaseId,e)}function kK(t){const e=sL(t);return e.length===4?Zr.emptyPath():iL(e)}function qE(t){return new Zr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iL(t){return Nr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function s3(t,e,n){return{name:KE(t,e),fields:n.value.mapValue.fields}}function IK(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(A){return A==="NO_CHANGE"?0:A==="ADD"?1:A==="REMOVE"?2:A==="CURRENT"?3:A==="RESET"?4:Cn(39313,{state:A})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(A,d){return A.useProto3Json?(Nr(d===void 0||typeof d=="string",58123),ai.fromBase64String(d||"")):(Nr(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ai.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,o=i&&function(A){const d=A.code===void 0?pt.UNKNOWN:eL(A.code);return new zt(d,A.message||"")}(i);n=new nL(r,s,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Yb(t,r.document.name),a=mA(r.document.updateTime),i=r.document.createTime?mA(r.document.createTime):Nn.min(),o=new fo({mapValue:{fields:r.document.fields}}),l=Ni.newFoundDocument(s,a,i,o),A=r.targetIds||[],d=r.removedTargetIds||[];n=new Yv(A,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Yb(t,r.document),a=r.readTime?mA(r.readTime):Nn.min(),i=Ni.newNoDocument(s,a),o=r.removedTargetIds||[];n=new Yv([],o,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Yb(t,r.document),a=r.removedTargetIds||[];n=new Yv([],a,s,null)}else{if(!("filter"in e))return Cn(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,i=new yK(s,a),o=r.targetId;n=new tL(o,i)}}return n}function FK(t,e){let n;if(e instanceof yx)n={update:s3(t,e.key,e.value)};else if(e instanceof $S)n={delete:KE(t,e.key)};else if(e instanceof af)n={update:s3(t,e.key,e.data),updateMask:QK(e.fieldMask)};else{if(!(e instanceof gK))return Cn(16599,{Vt:e.type});n={verify:KE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,i){const o=i.transform;if(o instanceof S2)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof jg)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Og)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof T2)return{fieldPath:i.field.canonicalString(),increment:o.Ae};throw Cn(20930,{transform:i.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:NK(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Cn(27497)}(t,e.precondition)),n}function RK(t,e){return t&&t.length>0?(Nr(e!==void 0,14353),t.map(n=>function(s,a){let i=s.updateTime?mA(s.updateTime):mA(a);return i.isEqual(Nn.min())&&(i=mA(a)),new hK(i,s.transformResults||[])}(n,e))):[]}function DK(t,e){return{documents:[aL(t,e.path)]}}function UK(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aL(t,s);const a=function(A){if(A.length!==0)return lL(wc.create(A,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const i=function(A){if(A.length!==0)return A.map(d=>function(p){return{field:S0(p.field),direction:PK(p.dir)}}(d))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=GE(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(A){return{before:A.inclusive,values:A.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(A){return{before:!A.inclusive,values:A.position}}(e.endAt)),{ft:n,parent:s}}function LK(t){let e=kK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Nr(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=function(h){const p=oL(h);return p instanceof wc&&MU(p)?p.getFilters():[p]}(n.where));let i=[];n.orderBy&&(i=function(h){return h.map(p=>function(w){return new Pg(T0(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(h){let p;return p=typeof h=="object"?h.value:h,Fy(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new _2(g,p)}(n.startAt));let A=null;return n.endAt&&(A=function(h){const p=!h.before,g=h.values||[];return new _2(g,p)}(n.endAt)),tK(e,s,i,a,o,"F",l,A)}function MK(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Cn(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=T0(n.unaryFilter.field);return ha.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=T0(n.unaryFilter.field);return ha.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=T0(n.unaryFilter.field);return ha.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=T0(n.unaryFilter.field);return ha.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Cn(61313);default:return Cn(60726)}}(t):t.fieldFilter!==void 0?function(n){return ha.create(T0(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Cn(58110);default:return Cn(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wc.create(n.compositeFilter.filters.map(r=>oL(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Cn(1026)}}(n.compositeFilter.op))}(t):Cn(30097,{filter:t})}function PK(t){return _K[t]}function jK(t){return SK[t]}function OK(t){return TK[t]}function S0(t){return{fieldPath:t.canonicalString()}}function T0(t){return ni.fromServerFormat(t.fieldPath)}function lL(t){return t instanceof ha?function(n){if(n.op==="=="){if(zN(n.value))return{unaryFilter:{field:S0(n.field),op:"IS_NAN"}};if(GN(n.value))return{unaryFilter:{field:S0(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zN(n.value))return{unaryFilter:{field:S0(n.field),op:"IS_NOT_NAN"}};if(GN(n.value))return{unaryFilter:{field:S0(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:S0(n.field),op:jK(n.op),value:n.value}}}(t):t instanceof wc?function(n){const r=n.getFilters().map(s=>lL(s));return r.length===1?r[0]:{compositeFilter:{op:OK(n.op),filters:r}}}(t):Cn(54877,{filter:t})}function QK(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n,r,s,a=Nn.min(),i=Nn.min(),o=ai.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Sd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Sd(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(e){this.yt=e}}function VK(t){const e=LK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?VE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(){this.Cn=new zK}addToCollectionParentIndex(e,n){return this.Cn.add(n),bt.resolve()}getCollectionParents(e,n){return bt.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return bt.resolve()}deleteFieldIndex(e,n){return bt.resolve()}deleteAllFieldIndexes(e){return bt.resolve()}createTargetIndexes(e,n){return bt.resolve()}getDocumentsMatchingTarget(e,n){return bt.resolve(null)}getIndexType(e,n){return bt.resolve(0)}getFieldIndexes(e,n){return bt.resolve([])}getNextCollectionGroupToUpdate(e){return bt.resolve(null)}getMinOffset(e,n){return bt.resolve(Gd.min())}getMinOffsetFromCollectionGroup(e,n){return bt.resolve(Gd.min())}updateCollectionGroup(e,n,r){return bt.resolve()}updateIndexEntries(e,n){return bt.resolve()}}class zK{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Sa(Zr.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Sa(Zr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AL=41943040;class Ao{static withCacheSize(e){return new Ao(e,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ao.DEFAULT_COLLECTION_PERCENTILE=10,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ao.DEFAULT=new Ao(AL,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ao.DISABLED=new Ao(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new hm(0)}static cr(){return new hm(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="LruGarbageCollector",KK=1048576;function o3([t,e],[n,r]){const s=sr(t,n);return s===0?sr(e,r):s}class qK{constructor(e){this.Ir=e,this.buffer=new Sa(o3),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();o3(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WK{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Yt(i3,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Nm(n)?Yt(i3,"Ignoring IndexedDB error during garbage collection: ",n):await Bm(n)}await this.Vr(3e5)})}}class $K{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return bt.resolve(Iy.ce);const r=new qK(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Yt("LruGarbageCollector","Garbage collection skipped; disabled"),bt.resolve(a3)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a3):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,a,i,o,l,A;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,i=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,o=Date.now(),this.removeTargets(e,r,n))).next(h=>(a=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(A=Date.now(),E0()<=rr.DEBUG&&Yt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-d}ms
	Determined least recently used ${s} in `+(o-i)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(A-l)+`ms
Total Duration: ${A-d}ms`),bt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:h})))}}function YK(t,e){return new $K(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(){this.changes=new gh(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ni.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?bt.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&hg(r.mutation,s,Vo.empty(),ss.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ar()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ar()){const s=Qf();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let i=zp();return a.forEach((o,l)=>{i=i.insert(o,l.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=Qf();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ar()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((i,o)=>{n.set(i,o)})})}computeViews(e,n,r,s){let a=vu();const i=fg(),o=function(){return fg()}();return n.forEach((l,A)=>{const d=r.get(A.key);s.has(A.key)&&(d===void 0||d.mutation instanceof af)?a=a.insert(A.key,A):d!==void 0?(i.set(A.key,d.mutation.getFieldMask()),hg(d.mutation,A,d.mutation.getFieldMask(),ss.now())):i.set(A.key,Vo.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((A,d)=>i.set(A,d)),n.forEach((A,d)=>o.set(A,new XK(d,i.get(A)??null))),o))}recalculateAndSaveOverlays(e,n){const r=fg();let s=new bs((i,o)=>i-o),a=ar();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const o of i)o.keys().forEach(l=>{const A=n.get(l);if(A===null)return;let d=r.get(l)||Vo.empty();d=o.applyToLocalView(A,d),r.set(l,d);const h=(s.get(o.batchId)||ar()).add(l);s=s.insert(o.batchId,h)})}).next(()=>{const i=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),A=l.key,d=l.value,h=KU();d.forEach(p=>{if(!a.has(p)){const g=XU(n.get(p),r.get(p));g!==null&&h.set(p,g),a=a.add(p)}}),i.push(this.documentOverlayCache.saveOverlays(e,A,h))}return bt.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(i){return cn.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const i=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):bt.resolve(Qf());let o=Dg,l=a;return i.next(A=>bt.forEach(A,(d,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),a.get(d)?bt.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,A,a)).next(()=>this.computeViews(e,l,A,ar())).next(d=>({batchId:o,changes:zU(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new cn(n)).next(r=>{let s=zp();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let i=zp();return this.indexManager.getCollectionParents(e,a).next(o=>bt.forEach(o,l=>{const A=function(h,p){return new km(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,A,r,s).next(d=>{d.forEach((h,p)=>{i=i.insert(h,p)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(a=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(i=>{a.forEach((l,A)=>{const d=A.getKey();i.get(d)===null&&(i=i.insert(d,Ni.newInvalidDocument(d)))});let o=zp();return i.forEach((l,A)=>{const d=a.get(l);d!==void 0&&hg(d.mutation,A,Vo.empty(),ss.now()),Uy(n,A)&&(o=o.insert(l,A))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return bt.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:mA(s.createTime)}}(n)),bt.resolve()}getNamedQuery(e,n){return bt.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:VK(s.bundledQuery),readTime:mA(s.readTime)}}(n)),bt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(){this.overlays=new bs(cn.comparator),this.qr=new Map}getOverlay(e,n){return bt.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qf();return bt.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.St(e,n,a)}),bt.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),bt.resolve()}getOverlaysForCollection(e,n,r){const s=Qf(),a=n.length+1,i=new cn(n.child("")),o=this.overlays.getIteratorFrom(i);for(;o.hasNext();){const l=o.getNext().value,A=l.getKey();if(!n.isPrefixOf(A.path))break;A.path.length===a&&l.largestBatchId>r&&s.set(l.getKey(),l)}return bt.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new bs((A,d)=>A-d);const i=this.overlays.getIterator();for(;i.hasNext();){const A=i.getNext().value;if(A.getKey().getCollectionGroup()===n&&A.largestBatchId>r){let d=a.get(A.largestBatchId);d===null&&(d=Qf(),a=a.insert(A.largestBatchId,d)),d.set(A.getKey(),A)}}const o=Qf(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((A,d)=>o.set(A,d)),!(o.size()>=s)););return bt.resolve(o)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new vK(n,r));let a=this.qr.get(n);a===void 0&&(a=ar(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(){this.sessionToken=ai.EMPTY_BYTE_STRING}getSessionToken(e){return bt.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,bt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.Qr=new Sa(Pa.$r),this.Ur=new Sa(Pa.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Pa(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Pa(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new cn(new Zr([])),r=new Pa(n,e),s=new Pa(n,e+1),a=[];return this.Ur.forEachInRange([r,s],i=>{this.Gr(i),a.push(i.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new cn(new Zr([])),r=new Pa(n,e),s=new Pa(n,e+1);let a=ar();return this.Ur.forEachInRange([r,s],i=>{a=a.add(i.key)}),a}containsKey(e){const n=new Pa(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pa{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return cn.comparator(e.key,n.key)||sr(e.Yr,n.Yr)}static Kr(e,n){return sr(e.Yr,n.Yr)||cn.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Sa(Pa.$r)}checkEmpty(e){return bt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new xK(a,n,r,s);this.mutationQueue.push(i);for(const o of s)this.Zr=this.Zr.add(new Pa(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return bt.resolve(i)}lookupMutationBatch(e,n){return bt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),a=s<0?0:s;return bt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return bt.resolve(this.mutationQueue.length===0?HS:this.tr-1)}getAllMutationBatches(e){return bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pa(n,0),s=new Pa(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],i=>{const o=this.Xr(i.Yr);a.push(o)}),bt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Sa(sr);return n.forEach(s=>{const a=new Pa(s,0),i=new Pa(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,i],o=>{r=r.add(o.Yr)})}),bt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;cn.isDocumentKey(a)||(a=a.child(""));const i=new Pa(new cn(a),0);let o=new Sa(sr);return this.Zr.forEachWhile(l=>{const A=l.key.path;return!!r.isPrefixOf(A)&&(A.length===s&&(o=o.add(l.Yr)),!0)},i),bt.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Nr(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return bt.forEach(n.mutations,s=>{const a=new Pa(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Pa(n,0),s=this.Zr.firstAfterOrEqual(r);return bt.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,bt.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e){this.ri=e,this.docs=function(){return new bs(cn.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,i=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return bt.resolve(r?r.document.mutableCopy():Ni.newInvalidDocument(n))}getEntries(e,n){let r=vu();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Ni.newInvalidDocument(s))}),bt.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=vu();const i=n.path,o=new cn(i.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:A,value:{document:d}}=l.getNext();if(!i.isPrefixOf(A.path))break;A.path.length>i.length+1||Rz(Fz(d),r)<=0||(s.has(d.key)||Uy(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return bt.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Cn(9500)}ii(e,n){return bt.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aq(this)}getSize(e){return bt.resolve(this.size)}}class aq extends JK{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),bt.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(e){this.persistence=e,this.si=new gh(n=>zS(n),KS),this.lastRemoteSnapshotVersion=Nn.min(),this.highestTargetId=0,this.oi=0,this._i=new ZS,this.targetCount=0,this.ai=hm.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),bt.resolve()}getLastRemoteSnapshotVersion(e){return bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return bt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),bt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),bt.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new hm(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,bt.resolve()}updateTargetData(e,n){return this.Pr(n),bt.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,bt.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.si.forEach((i,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(i),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),bt.waitFor(a).next(()=>s)}getTargetCount(e){return bt.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return bt.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),bt.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(i=>{a.push(s.markPotentiallyOrphaned(e,i))}),bt.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),bt.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return bt.resolve(r)}containsKey(e,n){return bt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n){this.ui={},this.overlays={},this.ci=new Iy(0),this.li=!1,this.li=!0,this.hi=new nq,this.referenceDelegate=e(this),this.Pi=new iq(this),this.indexManager=new GK,this.remoteDocumentCache=function(s){return new sq(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new HK(n),this.Ii=new eq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new rq(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Yt("MemoryPersistence","Starting transaction:",e);const s=new oq(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ai(e,n){return bt.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class oq extends Uz{constructor(e){super(),this.currentSequenceNumber=e}}class e5{constructor(e){this.persistence=e,this.Ri=new ZS,this.Vi=null}static mi(e){return new e5(e)}get fi(){if(this.Vi)return this.Vi;throw Cn(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),bt.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),bt.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),bt.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bt.forEach(this.fi,r=>{const s=cn.fromPath(r);return this.gi(e,s).next(a=>{a||n.removeEntry(s,Nn.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return bt.or([()=>bt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class N2{constructor(e,n){this.persistence=e,this.pi=new gh(r=>Pz(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=YK(this,n)}static mi(e,n){return new N2(e,n)}Ei(){}di(e){return bt.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return bt.forEach(this.pi,(r,s)=>this.br(e,r,s).next(a=>a?bt.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,i=>this.br(e,i,n).next(o=>{o||(r++,a.removeEntry(i,Nn.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),bt.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),bt.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),bt.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),bt.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qv(e.data.value)),n}br(e,n,r){return bt.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return bt.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ar(),s=ar();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new t5(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return O9()?8:Lz(Ui())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ys(e,n).next(i=>{a.result=i}).next(()=>{if(!a.result)return this.ws(e,n,s,r).next(i=>{a.result=i})}).next(()=>{if(a.result)return;const i=new lq;return this.Ss(e,n,i).next(o=>{if(a.result=o,this.Vs)return this.bs(e,n,i,o.size)})}).next(()=>a.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(E0()<=rr.DEBUG&&Yt("QueryEngine","SDK will not create cache indexes for query:",_0(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),bt.resolve()):(E0()<=rr.DEBUG&&Yt("QueryEngine","Query:",_0(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(E0()<=rr.DEBUG&&Yt("QueryEngine","The SDK decides to create cache indexes for query:",_0(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hA(n))):bt.resolve())}ys(e,n){if($N(n))return bt.resolve(null);let r=hA(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=VE(n,null,"F"),r=hA(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const i=ar(...a);return this.ps.getDocuments(e,i).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const A=this.Ds(n,o);return this.Cs(n,A,i,l.readTime)?this.ys(e,VE(n,null,"F")):this.vs(e,A,n,l)}))})))}ws(e,n,r,s){return $N(n)||s.isEqual(Nn.min())?bt.resolve(null):this.ps.getDocuments(e,r).next(a=>{const i=this.Ds(n,a);return this.Cs(n,i,r,s)?bt.resolve(null):(E0()<=rr.DEBUG&&Yt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),_0(n)),this.vs(e,i,n,Iz(s,Dg)).next(o=>o))})}Ds(e,n){let r=new Sa(VU(e));return n.forEach((s,a)=>{Uy(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return E0()<=rr.DEBUG&&Yt("QueryEngine","Using full collection scan to execute query:",_0(n)),this.ps.getDocumentsMatchingQuery(e,n,Gd.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(i=>{a=a.insert(i.key,i)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5="LocalStore",Aq=3e8;class uq{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new bs(sr),this.xs=new gh(a=>zS(a),KS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZK(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function dq(t,e,n,r){return new uq(t,e,n,r)}async function dL(t,e){const n=In(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const i=[],o=[];let l=ar();for(const A of s){i.push(A.batchId);for(const d of A.mutations)l=l.add(d.key)}for(const A of a){o.push(A.batchId);for(const d of A.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(A=>({Ls:A,removedBatchIds:i,addedBatchIds:o}))})})}function fq(t,e){const n=In(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,A,d){const h=A.batch,p=h.keys();let g=bt.resolve();return p.forEach(w=>{g=g.next(()=>d.getEntry(l,w)).next(b=>{const E=A.docVersions.get(w);Nr(E!==null,48541),b.version.compareTo(E)<0&&(h.applyToRemoteDocument(b,A),b.isValidDocument()&&(b.setReadTime(A.commitVersion),d.addEntry(b)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=ar();for(let A=0;A<o.mutationResults.length;++A)o.mutationResults[A].transformResults.length>0&&(l=l.add(o.batch.mutations[A].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function fL(t){const e=In(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function hq(t,e){const n=In(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const o=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;o.push(n.Pi.removeMatchingKeys(a,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(a,d.addedDocuments,h)));let g=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(ai.EMPTY_BYTE_STRING,Nn.min()).withLastLimboFreeSnapshotVersion(Nn.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(h,g),function(b,E,T){return b.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=Aq?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,g,d)&&o.push(n.Pi.updateTargetData(a,g))});let l=vu(),A=ar();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))}),o.push(mq(a,i,e.documentUpdates).next(d=>{l=d.ks,A=d.qs})),!r.isEqual(Nn.min())){const d=n.Pi.getLastRemoteSnapshotVersion(a).next(h=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(d)}return bt.waitFor(o).next(()=>i.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,A)).next(()=>l)}).then(a=>(n.Ms=s,a))}function mq(t,e,n){let r=ar(),s=ar();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let i=vu();return n.forEach((o,l)=>{const A=a.get(o);l.isFoundDocument()!==A.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(Nn.min())?(e.removeEntry(o,l.readTime),i=i.insert(o,l)):!A.isValidDocument()||l.version.compareTo(A.version)>0||l.version.compareTo(A.version)===0&&A.hasPendingWrites?(e.addEntry(l),i=i.insert(o,l)):Yt(n5,"Ignoring outdated watch update for ",o,". Current version:",A.version," Watch version:",l.version)}),{ks:i,qs:s}})}function pq(t,e){const n=In(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=HS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gq(t,e){const n=In(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(a=>a?(s=a,bt.resolve(s)):n.Pi.allocateTargetId(r).next(i=>(s=new Sd(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function WE(t,e,n){const r=In(t),s=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!Nm(i))throw i;Yt(n5,`Failed to update sequence numbers for target ${e}: ${i}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function l3(t,e,n){const r=In(t);let s=Nn.min(),a=ar();return r.persistence.runTransaction("Execute query","readwrite",i=>function(l,A,d){const h=In(l),p=h.xs.get(d);return p!==void 0?bt.resolve(h.Ms.get(p)):h.Pi.getTargetData(A,d)}(r,i,hA(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(i,o.targetId).next(l=>{a=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(i,e,n?s:Nn.min(),n?a:ar())).next(o=>(xq(r,rK(e),o),{documents:o,Qs:a})))}function xq(t,e,n){let r=t.Os.get(e)||Nn.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class c3{constructor(){this.activeTargetIds=cK()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vq{constructor(){this.Mo=new c3,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new c3,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="ConnectivityMonitor";class u3{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Yt(A3,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Yt(A3,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q1=null;function $E(){return Q1===null?Q1=function(){return 268435456+Math.round(2147483648*Math.random())}():Q1++,"0x"+Q1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="RestConnection",wq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bq{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===C2?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,a){const i=$E(),o=this.zo(e,n.toUriEncodedString());Yt(Jb,`Sending RPC '${e}' ${i}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,a);const{host:A}=new URL(o),d=Cm(A);return this.Jo(e,o,l,r,d).then(h=>(Yt(Jb,`Received RPC '${e}' ${i}: `,h),h),h=>{throw Am(Jb,`RPC '${e}' ${i} failed with error: `,h,"url: ",o,"request:",r),h})}Ho(e,n,r,s,a,i){return this.Go(e,n,r,s,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tm}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}zo(e,n){const r=wq[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="WebChannelConnection";class Eq extends bq{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const i=$E();return new Promise((o,l)=>{const A=new pU;A.setWithCredentials(!0),A.listenOnce(gU.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case Kv.NO_ERROR:const h=A.getResponseJson();Yt(xi,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Kv.TIMEOUT:Yt(xi,`RPC '${e}' ${i} timed out`),l(new zt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case Kv.HTTP_ERROR:const p=A.getStatus();if(Yt(xi,`RPC '${e}' ${i} failed with status:`,p,"response text:",A.getResponseText()),p>0){let g=A.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const b=function(T){const I=T.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(I)>=0?I:pt.UNKNOWN}(w.status);l(new zt(b,w.message))}else l(new zt(pt.UNKNOWN,"Server responded with status "+A.getStatus()))}else l(new zt(pt.UNAVAILABLE,"Connection failed."));break;default:Cn(9055,{l_:e,streamId:i,h_:A.getLastErrorCode(),P_:A.getLastError()})}}finally{Yt(xi,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);Yt(xi,`RPC '${e}' ${i} sending request:`,s),A.send(n,"POST",d,r,15)})}T_(e,n,r){const s=$E(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=yU(),o=vU(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},A=this.longPollingOptions.timeoutSeconds;A!==void 0&&(l.longPollingTimeout=Math.round(1e3*A)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=a.join("");Yt(xi,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=i.createWebChannel(d,l);this.I_(h);let p=!1,g=!1;const w=new Cq({Yo:E=>{g?Yt(xi,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(p||(Yt(xi,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),Yt(xi,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},Zo:()=>h.close()}),b=(E,T,I)=>{E.listen(T,k=>{try{I(k)}catch(F){setTimeout(()=>{throw F},0)}})};return b(h,Gp.EventType.OPEN,()=>{g||(Yt(xi,`RPC '${e}' stream ${s} transport opened.`),w.o_())}),b(h,Gp.EventType.CLOSE,()=>{g||(g=!0,Yt(xi,`RPC '${e}' stream ${s} transport closed`),w.a_(),this.E_(h))}),b(h,Gp.EventType.ERROR,E=>{g||(g=!0,Am(xi,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),w.a_(new zt(pt.UNAVAILABLE,"The operation could not be completed")))}),b(h,Gp.EventType.MESSAGE,E=>{var T;if(!g){const I=E.data[0];Nr(!!I,16349);const k=I,F=(k==null?void 0:k.error)||((T=k[0])==null?void 0:T.error);if(F){Yt(xi,`RPC '${e}' stream ${s} received error:`,F);const R=F.status;let L=function(B){const H=Aa[B];if(H!==void 0)return eL(H)}(R),S=F.message;L===void 0&&(L=pt.INTERNAL,S="Unknown error status: "+R+" with message "+F.message),g=!0,w.a_(new zt(L,S)),h.close()}else Yt(xi,`RPC '${e}' stream ${s} received:`,I),w.u_(I)}}),b(o,xU.STAT_EVENT,E=>{E.stat===LE.PROXY?Yt(xi,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===LE.NOPROXY&&Yt(xi,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Xb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t){return new BK(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Yt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="PersistentStream";class mL{constructor(e,n,r,s,a,i,o,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hL(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===pt.RESOURCE_EXHAUSTED?(xu(n.toString()),xu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===pt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new zt(pt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Yt(d3,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Yt(d3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _q extends mL{constructor(e,n,r,s,a,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=IK(this.serializer,e),r=function(a){if(!("targetChange"in a))return Nn.min();const i=a.targetChange;return i.targetIds&&i.targetIds.length?Nn.min():i.readTime?mA(i.readTime):Nn.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=qE(this.serializer),n.addTarget=function(a,i){let o;const l=i.target;if(o=QE(l)?{documents:DK(a,l)}:{query:UK(a,l).ft},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=rL(a,i.resumeToken);const A=GE(a,i.expectedCount);A!==null&&(o.expectedCount=A)}else if(i.snapshotVersion.compareTo(Nn.min())>0){o.readTime=B2(a,i.snapshotVersion.toTimestamp());const A=GE(a,i.expectedCount);A!==null&&(o.expectedCount=A)}return o}(this.serializer,e);const r=MK(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=qE(this.serializer),n.removeTarget=e,this.q_(n)}}class Sq extends mL{constructor(e,n,r,s,a,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Nr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Nr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Nr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=RK(e.writeResults,e.commitTime),r=mA(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=qE(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>FK(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{}class Bq extends Tq{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new zt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,i])=>this.connection.Go(e,zE(n,r),s,a,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new zt(pt.UNKNOWN,a.toString())})}Ho(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Ho(e,zE(n,r),s,i,o,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new zt(pt.UNKNOWN,i.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Nq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xu(n),this.aa=!1):Yt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="RemoteStore";class kq{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(i=>{r.enqueueAndForget(async()=>{xh(this)&&(Yt(ih,"Restarting streams for network reachability change."),await async function(l){const A=In(l);A.Ea.add(4),await bx(A),A.Ra.set("Unknown"),A.Ea.delete(4),await Oy(A)}(this))})}),this.Ra=new Nq(r,s)}}async function Oy(t){if(xh(t))for(const e of t.da)await e(!0)}async function bx(t){for(const e of t.da)await e(!1)}function pL(t,e){const n=In(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),i5(n)?a5(n):Im(n).O_()&&s5(n,e))}function r5(t,e){const n=In(t),r=Im(n);n.Ia.delete(e),r.O_()&&gL(n,e),n.Ia.size===0&&(r.O_()?r.L_():xh(n)&&n.Ra.set("Unknown"))}function s5(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Im(t).Y_(e)}function gL(t,e){t.Va.Ue(e),Im(t).Z_(e)}function a5(t){t.Va=new EK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Im(t).start(),t.Ra.ua()}function i5(t){return xh(t)&&!Im(t).x_()&&t.Ia.size>0}function xh(t){return In(t).Ea.size===0}function xL(t){t.Va=void 0}async function Iq(t){t.Ra.set("Online")}async function Fq(t){t.Ia.forEach((e,n)=>{s5(t,e)})}async function Rq(t,e){xL(t),i5(t)?(t.Ra.ha(e),a5(t)):t.Ra.set("Unknown")}async function Dq(t,e,n){if(t.Ra.set("Online"),e instanceof nL&&e.state===2&&e.cause)try{await async function(s,a){const i=a.cause;for(const o of a.targetIds)s.Ia.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s.Ia.delete(o),s.Va.removeTarget(o))}(t,e)}catch(r){Yt(ih,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await k2(t,r)}else if(e instanceof Yv?t.Va.Ze(e):e instanceof tL?t.Va.st(e):t.Va.tt(e),!n.isEqual(Nn.min()))try{const r=await fL(t.localStore);n.compareTo(r)>=0&&await function(a,i){const o=a.Va.Tt(i);return o.targetChanges.forEach((l,A)=>{if(l.resumeToken.approximateByteSize()>0){const d=a.Ia.get(A);d&&a.Ia.set(A,d.withResumeToken(l.resumeToken,i))}}),o.targetMismatches.forEach((l,A)=>{const d=a.Ia.get(l);if(!d)return;a.Ia.set(l,d.withResumeToken(ai.EMPTY_BYTE_STRING,d.snapshotVersion)),gL(a,l);const h=new Sd(d.target,l,A,d.sequenceNumber);s5(a,h)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Yt(ih,"Failed to raise snapshot:",r),await k2(t,r)}}async function k2(t,e,n){if(!Nm(e))throw e;t.Ea.add(1),await bx(t),t.Ra.set("Offline"),n||(n=()=>fL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Yt(ih,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Oy(t)})}function vL(t,e){return e().catch(n=>k2(t,n,e))}async function Qy(t){const e=In(t),n=Wd(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:HS;for(;Uq(e);)try{const s=await pq(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,Lq(e,s)}catch(s){await k2(e,s)}yL(e)&&wL(e)}function Uq(t){return xh(t)&&t.Ta.length<10}function Lq(t,e){t.Ta.push(e);const n=Wd(t);n.O_()&&n.X_&&n.ea(e.mutations)}function yL(t){return xh(t)&&!Wd(t).x_()&&t.Ta.length>0}function wL(t){Wd(t).start()}async function Mq(t){Wd(t).ra()}async function Pq(t){const e=Wd(t);for(const n of t.Ta)e.ea(n.mutations)}async function jq(t,e,n){const r=t.Ta.shift(),s=YS.from(r,e,n);await vL(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Qy(t)}async function Oq(t,e){e&&Wd(t).X_&&await async function(r,s){if(function(i){return wK(i)&&i!==pt.ABORTED}(s.code)){const a=r.Ta.shift();Wd(r).B_(),await vL(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Qy(r)}}(t,e),yL(t)&&wL(t)}async function f3(t,e){const n=In(t);n.asyncQueue.verifyOperationInProgress(),Yt(ih,"RemoteStore received new credentials");const r=xh(n);n.Ea.add(3),await bx(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Oy(n)}async function Qq(t,e){const n=In(t);e?(n.Ea.delete(2),await Oy(n)):e||(n.Ea.add(2),await bx(n),n.Ra.set("Unknown"))}function Im(t){return t.ma||(t.ma=function(n,r,s){const a=In(n);return a.sa(),new _q(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Xo:Iq.bind(null,t),t_:Fq.bind(null,t),r_:Rq.bind(null,t),H_:Dq.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),i5(t)?a5(t):t.Ra.set("Unknown")):(await t.ma.stop(),xL(t))})),t.ma}function Wd(t){return t.fa||(t.fa=function(n,r,s){const a=In(n);return a.sa(),new Sq(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Mq.bind(null,t),r_:Oq.bind(null,t),ta:Pq.bind(null,t),na:jq.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Qy(t)):(await t.fa.stop(),t.Ta.length>0&&(Yt(ih,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new uu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const i=Date.now()+r,o=new o5(e,n,i,s,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new zt(pt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l5(t,e){if(xu("AsyncQueue",`${e}: ${t}`),Nm(t))return new zt(pt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{static emptySet(e){return new V0(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||cn.comparator(n.key,r.key):(n,r)=>cn.comparator(n.key,r.key),this.keyedMap=zp(),this.sortedSet=new bs(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof V0)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new V0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(){this.ga=new bs(cn.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Cn(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class mm{constructor(e,n,r,s,a,i,o,l,A){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=A}static fromInitialDocuments(e,n,r,s,a){const i=[];return n.forEach(o=>{i.push({type:0,doc:o})}),new mm(e,n,V0.emptySet(n),i,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Vq{constructor(){this.queries=m3(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=In(n),a=s.queries;s.queries=m3(),a.forEach((i,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new zt(pt.ABORTED,"Firestore shutting down"))}}function m3(){return new gh(t=>HU(t),Dy)}async function bL(t,e){const n=In(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new Hq,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(i){const o=l5(i,`Initialization of query '${_0(e.query)}' failed`);return void e.onError(o)}n.queries.set(s,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&c5(n)}async function CL(t,e){const n=In(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const i=a.Sa.indexOf(e);i>=0&&(a.Sa.splice(i,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Gq(t,e){const n=In(t);let r=!1;for(const s of e){const a=s.query,i=n.queries.get(a);if(i){for(const o of i.Sa)o.Fa(s)&&(r=!0);i.wa=s}}r&&c5(n)}function zq(t,e,n){const r=In(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function c5(t){t.Ca.forEach(e=>{e.next()})}var YE,p3;(p3=YE||(YE={})).Ma="default",p3.Cache="cache";class EL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new mm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=mm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==YE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.key=e}}class SL{constructor(e){this.key=e}}class Kq{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ar(),this.mutatedKeys=ar(),this.eu=VU(e),this.tu=new V0(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new h3,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,i=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,A=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),g=Uy(this.query,h)?h:null,w=!!p&&this.mutatedKeys.has(p.key),b=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;p&&g?p.data.isEqual(g.data)?w!==b&&(r.track({type:3,doc:g}),E=!0):this.su(p,g)||(r.track({type:2,doc:g}),E=!0,(l&&this.eu(g,l)>0||A&&this.eu(g,A)<0)&&(o=!0)):!p&&g?(r.track({type:0,doc:g}),E=!0):p&&!g&&(r.track({type:1,doc:p}),E=!0,(l||A)&&(o=!0)),E&&(g?(i=i.add(g),a=b?a.add(d):a.delete(d)):(i=i.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{tu:i,iu:r,Cs:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((d,h)=>function(g,w){const b=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Cn(20277,{Rt:E})}};return b(g)-b(w)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const o=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,A=l!==this.Za;return this.Za=l,i.length!==0||A?{snapshot:new mm(this.query,e.tu,a,i,e.mutatedKeys,l===0,A,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new h3,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ar(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new SL(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new _L(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ar();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return mm.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const A5="SyncEngine";class qq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Wq{constructor(e){this.key=e,this.hu=!1}}class $q{constructor(e,n,r,s,a,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new gh(o=>HU(o),Dy),this.Iu=new Map,this.Eu=new Set,this.du=new bs(cn.comparator),this.Au=new Map,this.Ru=new ZS,this.Vu={},this.mu=new Map,this.fu=hm.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Yq(t,e,n=!0){const r=FL(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await TL(r,e,n,!0),s}async function Jq(t,e){const n=FL(t);await TL(n,e,!0,!1)}async function TL(t,e,n,r){const s=await gq(t.localStore,hA(e)),a=s.targetId,i=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await Xq(t,e,a,i==="current",s.resumeToken)),t.isPrimaryClient&&n&&pL(t.remoteStore,s),o}async function Xq(t,e,n,r,s){t.pu=(h,p,g)=>async function(b,E,T,I){let k=E.view.ru(T);k.Cs&&(k=await l3(b.localStore,E.query,!1).then(({documents:S})=>E.view.ru(S,k)));const F=I&&I.targetChanges.get(E.targetId),R=I&&I.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(k,b.isPrimaryClient,F,R);return x3(b,E.targetId,L.au),L.snapshot}(t,h,p,g);const a=await l3(t.localStore,e,!0),i=new Kq(e,a.Qs),o=i.ru(a.documents),l=wx.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),A=i.applyChanges(o,t.isPrimaryClient,l);x3(t,n,A.au);const d=new qq(e,n,i);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),A.snapshot}async function Zq(t,e,n){const r=In(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter(i=>!Dy(i,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await WE(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&r5(r.remoteStore,s.targetId),JE(r,s.targetId)}).catch(Bm)):(JE(r,s.targetId),await WE(r.localStore,s.targetId,!0))}async function eW(t,e){const n=In(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),r5(n.remoteStore,r.targetId))}async function tW(t,e,n){const r=lW(t);try{const s=await function(i,o){const l=In(i),A=ss.now(),d=o.reduce((g,w)=>g.add(w.key),ar());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=vu(),b=ar();return l.Ns.getEntries(g,d).next(E=>{w=E,w.forEach((T,I)=>{I.isValidDocument()||(b=b.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(E=>{h=E;const T=[];for(const I of o){const k=pK(I,h.get(I.key).overlayedDocument);k!=null&&T.push(new af(I.key,k,DU(k.value.mapValue),kl.exists(!0)))}return l.mutationQueue.addMutationBatch(g,A,T,o)}).next(E=>{p=E;const T=E.applyToLocalDocumentSet(h,b);return l.documentOverlayCache.saveOverlays(g,E.batchId,T)})}).then(()=>({batchId:p.batchId,changes:zU(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,l){let A=i.Vu[i.currentUser.toKey()];A||(A=new bs(sr)),A=A.insert(o,l),i.Vu[i.currentUser.toKey()]=A}(r,s.batchId,n),await Cx(r,s.changes),await Qy(r.remoteStore)}catch(s){const a=l5(s,"Failed to persist write");n.reject(a)}}async function BL(t,e){const n=In(t);try{const r=await hq(n.localStore,e);e.targetChanges.forEach((s,a)=>{const i=n.Au.get(a);i&&(Nr(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?i.hu=!0:s.modifiedDocuments.size>0?Nr(i.hu,14607):s.removedDocuments.size>0&&(Nr(i.hu,42227),i.hu=!1))}),await Cx(n,r,e)}catch(r){await Bm(r)}}function g3(t,e,n){const r=In(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((a,i)=>{const o=i.view.va(e);o.snapshot&&s.push(o.snapshot)}),function(i,o){const l=In(i);l.onlineState=o;let A=!1;l.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(o)&&(A=!0)}),A&&c5(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nW(t,e,n){const r=In(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let i=new bs(cn.comparator);i=i.insert(a,Ni.newNoDocument(a,Nn.min()));const o=ar().add(a),l=new Py(Nn.min(),new Map,new bs(sr),i,o);await BL(r,l),r.du=r.du.remove(a),r.Au.delete(e),u5(r)}else await WE(r.localStore,e,!1).then(()=>JE(r,e,n)).catch(Bm)}async function rW(t,e){const n=In(t),r=e.batch.batchId;try{const s=await fq(n.localStore,e);kL(n,r,null),NL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cx(n,s)}catch(s){await Bm(s)}}async function sW(t,e,n){const r=In(t);try{const s=await function(i,o){const l=In(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",A=>{let d;return l.mutationQueue.lookupMutationBatch(A,o).next(h=>(Nr(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(A,h))).next(()=>l.mutationQueue.performConsistencyCheck(A)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(A,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(A,d)).next(()=>l.localDocuments.getDocuments(A,d))})}(r.localStore,e);kL(r,e,n),NL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cx(r,s)}catch(s){await Bm(s)}}function NL(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function kL(t,e,n){const r=In(t);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function JE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||IL(t,r)})}function IL(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(r5(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),u5(t))}function x3(t,e,n){for(const r of n)r instanceof _L?(t.Ru.addReference(r.key,e),aW(t,r)):r instanceof SL?(Yt(A5,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||IL(t,r.key)):Cn(19791,{wu:r})}function aW(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Yt(A5,"New document in limbo: "+n),t.Eu.add(r),u5(t))}function u5(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new cn(Zr.fromString(e)),r=t.fu.next();t.Au.set(r,new Wq(n)),t.du=t.du.insert(n,r),pL(t.remoteStore,new Sd(hA(qS(n.path)),r,"TargetPurposeLimboResolution",Iy.ce))}}async function Cx(t,e,n){const r=In(t),s=[],a=[],i=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{i.push(r.pu(l,e,n).then(A=>{var d;if((A||n)&&r.isPrimaryClient){const h=A?!A.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(A){s.push(A);const h=t5.As(l.targetId,A);a.push(h)}}))}),await Promise.all(i),r.Pu.H_(s),await async function(l,A){const d=In(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>bt.forEach(A,p=>bt.forEach(p.Es,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>bt.forEach(p.ds,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!Nm(h))throw h;Yt(n5,"Failed to update sequence numbers: "+h)}for(const h of A){const p=h.targetId;if(!h.fromCache){const g=d.Ms.get(p),w=g.snapshotVersion,b=g.withLastLimboFreeSnapshotVersion(w);d.Ms=d.Ms.insert(p,b)}}}(r.localStore,a))}async function iW(t,e){const n=In(t);if(!n.currentUser.isEqual(e)){Yt(A5,"User change. New user:",e.toKey());const r=await dL(n.localStore,e);n.currentUser=e,function(a,i){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new zt(pt.CANCELLED,i))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cx(n,r.Ls)}}function oW(t,e){const n=In(t),r=n.Au.get(e);if(r&&r.hu)return ar().add(r.key);{let s=ar();const a=n.Iu.get(e);if(!a)return s;for(const i of a){const o=n.Tu.get(i);s=s.unionWith(o.view.nu)}return s}}function FL(t){const e=In(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nW.bind(null,e),e.Pu.H_=Gq.bind(null,e.eventManager),e.Pu.yu=zq.bind(null,e.eventManager),e}function lW(t){const e=In(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sW.bind(null,e),e}class I2{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return dq(this.persistence,new cq,e.initialUser,this.serializer)}Cu(e){return new uL(e5.mi,this.serializer)}Du(e){return new vq}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}I2.provider={build:()=>new I2};class cW extends I2{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Nr(this.persistence.referenceDelegate instanceof N2,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new WK(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ao.withCacheSize(this.cacheSizeBytes):Ao.DEFAULT;return new uL(r=>N2.mi(r,n),this.serializer)}}class XE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>g3(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iW.bind(null,this.syncEngine),await Qq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Vq}()}createDatastore(e){const n=jy(e.databaseInfo.databaseId),r=function(a){return new Eq(a)}(e.databaseInfo);return function(a,i,o,l){return new Bq(a,i,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,i,o){return new kq(r,s,a,i,o)}(this.localStore,this.datastore,e.asyncQueue,n=>g3(this.syncEngine,n,0),function(){return u3.v()?new u3:new yq}())}createSyncEngine(e,n){return function(s,a,i,o,l,A,d){const h=new $q(s,a,i,o,l,A);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=In(s);Yt(ih,"RemoteStore shutting down."),a.Ea.add(5),await bx(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}XE.provider={build:()=>new XE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="FirestoreClient";class AW{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=_i.UNAUTHENTICATED,this.clientId=QS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async i=>{Yt($d,"Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Yt($d,"Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new uu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=l5(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zb(t,e){t.asyncQueue.verifyOperationInProgress(),Yt($d,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await dL(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function v3(t,e){t.asyncQueue.verifyOperationInProgress();const n=await uW(t);Yt($d,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>f3(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>f3(e.remoteStore,s)),t._onlineComponents=e}async function uW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Yt($d,"Using user provided OfflineComponentProvider");try{await Zb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===pt.FAILED_PRECONDITION||s.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Am("Error using user provided cache. Falling back to memory cache: "+n),await Zb(t,new I2)}}else Yt($d,"Using default OfflineComponentProvider"),await Zb(t,new cW(void 0));return t._offlineComponents}async function DL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Yt($d,"Using user provided OnlineComponentProvider"),await v3(t,t._uninitializedComponentsProvider._online)):(Yt($d,"Using default OnlineComponentProvider"),await v3(t,new XE))),t._onlineComponents}function dW(t){return DL(t).then(e=>e.syncEngine)}async function UL(t){const e=await DL(t),n=e.eventManager;return n.onListen=Yq.bind(null,e.syncEngine),n.onUnlisten=Zq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Jq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eW.bind(null,e.syncEngine),n}function fW(t,e,n={}){const r=new uu;return t.asyncQueue.enqueueAndForget(async()=>function(a,i,o,l,A){const d=new RL({next:p=>{d.Nu(),i.enqueueAndForget(()=>CL(a,h));const g=p.docs.has(o);!g&&p.fromCache?A.reject(new zt(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?A.reject(new zt(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):A.resolve(p)},error:p=>A.reject(p)}),h=new EL(qS(o.path),d,{includeMetadataChanges:!0,qa:!0});return bL(a,h)}(await UL(t),t.asyncQueue,e,n,r)),r.promise}function hW(t,e,n={}){const r=new uu;return t.asyncQueue.enqueueAndForget(async()=>function(a,i,o,l,A){const d=new RL({next:p=>{d.Nu(),i.enqueueAndForget(()=>CL(a,h)),p.fromCache&&l.source==="server"?A.reject(new zt(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):A.resolve(p)},error:p=>A.reject(p)}),h=new EL(o,d,{includeMetadataChanges:!0,qa:!0});return bL(a,h)}(await UL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="firestore.googleapis.com",w3=!0;class b3{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new zt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ML,this.ssl=w3}else this.host=e.host,this.ssl=e.ssl??w3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KK)throw new zt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LL(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new zt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new zt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new zt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new zt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new zt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yz;switch(r.type){case"firstParty":return new Ez(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new zt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=y3.get(n);r&&(Yt("ComponentProvider","Removing Datastore"),y3.delete(n),r.terminate())}(this),Promise.resolve()}}function mW(t,e,n,r={}){var A;t=yc(t,Hy);const s=Cm(e),a=t._getSettings(),i={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;s&&(BD(`https://${o}`),ND("Firestore",!0)),a.host!==ML&&a.host!==o&&Am("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:s,emulatorOptions:r};if(!nh(l,i)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=_i.MOCK_USER;else{d=I9(r.mockUserToken,(A=t._app)==null?void 0:A.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new zt(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new _i(p)}t._authCredentials=new wz(new bU(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vh(this.firestore,e,this._query)}}class Js{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Js(this.firestore,e,this._key)}toJSON(){return{type:Js._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(vx(n,Js._jsonSchema))return new Js(e,r||null,new cn(Zr.fromString(n.referencePath)))}}Js._jsonSchemaVersion="firestore/documentReference/1.0",Js._jsonSchema={type:ma("string",Js._jsonSchemaVersion),referencePath:ma("string")};class Pd extends vh{constructor(e,n,r){super(e,n,qS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Js(this.firestore,null,new cn(e))}withConverter(e){return new Pd(this.firestore,e,this._path)}}function d5(t,e,...n){if(t=Va(t),CU("collection","path",e),t instanceof Hy){const r=Zr.fromString(e,...n);return UN(r),new Pd(t,null,r)}{if(!(t instanceof Js||t instanceof Pd))throw new zt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Zr.fromString(e,...n));return UN(r),new Pd(t.firestore,null,r)}}function yh(t,e,...n){if(t=Va(t),arguments.length===1&&(e=QS.newId()),CU("doc","path",e),t instanceof Hy){const r=Zr.fromString(e,...n);return DN(r),new Js(t,null,new cn(r))}{if(!(t instanceof Js||t instanceof Pd))throw new zt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Zr.fromString(e,...n));return DN(r),new Js(t.firestore,t instanceof Pd?t.converter:null,new cn(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="AsyncQueue";class E3{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hL(this,"async_queue_retry"),this._c=()=>{const r=Xb();r&&Yt(C3,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Xb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Xb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new uu;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Nm(e))throw e;Yt(C3,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,xu("INTERNAL UNHANDLED ERROR: ",_3(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=o5.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(s),s}uc(){this.nc&&Cn(47125,{Pc:_3(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _3(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class wh extends Hy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new E3,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E3(e),this._firestoreClient=void 0,await e}}}function pW(t,e){const n=typeof t=="object"?t:RD(),r=typeof t=="string"?t:C2,s=IS(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=N9("firestore");a&&mW(s,...a)}return s}function f5(t){if(t._terminated)throw new zt(pt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gW(t),t._firestoreClient}function gW(t){var r,s,a;const e=t._freezeSettings(),n=function(o,l,A,d){return new Qz(o,l,A,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,LL(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new AW(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _l(ai.fromBase64String(e))}catch(n){throw new zt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _l(ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_l._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vx(e,_l._jsonSchema))return _l.fromBase64String(e.bytes)}}_l._jsonSchemaVersion="firestore/bytes/1.0",_l._jsonSchema={type:ma("string",_l._jsonSchemaVersion),bytes:ma("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new zt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new zt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new zt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return sr(this._lat,e._lat)||sr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pA._jsonSchemaVersion}}static fromJSON(e){if(vx(e,pA._jsonSchema))return new pA(e.latitude,e.longitude)}}pA._jsonSchemaVersion="firestore/geoPoint/1.0",pA._jsonSchema={type:ma("string",pA._jsonSchemaVersion),latitude:ma("number"),longitude:ma("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:gA._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vx(e,gA._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new gA(e.vectorValues);throw new zt(pt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gA._jsonSchemaVersion="firestore/vectorValue/1.0",gA._jsonSchema={type:ma("string",gA._jsonSchemaVersion),vectorValues:ma("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xW=/^__.*__$/;class vW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new af(e,this.data,this.fieldMask,n,this.fieldTransforms):new yx(e,this.data,n,this.fieldTransforms)}}class PL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new af(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Cn(40011,{Ac:t})}}class m5{constructor(e,n,r,s,a,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new m5({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return F2(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(jL(this.Ac)&&xW.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jy(e)}Cc(e,n,r,s=!1){return new m5({Ac:e,methodName:n,Dc:r,path:ni.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gy(t){const e=t._freezeSettings(),n=jy(t._databaseId);return new yW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OL(t,e,n,r,s,a={}){const i=t.Cc(a.merge||a.mergeFields?2:0,e,n,s);p5("Data must be an object, but it was:",i,r);const o=QL(r,i);let l,A;if(a.merge)l=new Vo(i.fieldMask),A=i.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const p=ZE(e,h,n);if(!i.contains(p))throw new zt(pt.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);VL(d,p)||d.push(p)}l=new Vo(d),A=i.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,A=i.fieldTransforms;return new vW(new fo(o),l,A)}class zy extends h5{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zy}}function wW(t,e,n,r){const s=t.Cc(1,e,n);p5("Data must be an object, but it was:",s,r);const a=[],i=fo.empty();sf(r,(l,A)=>{const d=g5(e,l,n);A=Va(A);const h=s.yc(d);if(A instanceof zy)a.push(d);else{const p=Ex(A,h);p!=null&&(a.push(d),i.set(d,p))}});const o=new Vo(a);return new PL(i,o,s.fieldTransforms)}function bW(t,e,n,r,s,a){const i=t.Cc(1,e,n),o=[ZE(e,r,n)],l=[s];if(a.length%2!=0)throw new zt(pt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(ZE(e,a[p])),l.push(a[p+1]);const A=[],d=fo.empty();for(let p=o.length-1;p>=0;--p)if(!VL(A,o[p])){const g=o[p];let w=l[p];w=Va(w);const b=i.yc(g);if(w instanceof zy)A.push(g);else{const E=Ex(w,b);E!=null&&(A.push(g),d.set(g,E))}}const h=new Vo(A);return new PL(d,h,i.fieldTransforms)}function CW(t,e,n,r=!1){return Ex(n,t.Cc(r?4:3,e))}function Ex(t,e){if(HL(t=Va(t)))return p5("Unsupported field value:",e,t),QL(t,e);if(t instanceof h5)return function(r,s){if(!jL(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const a=[];let i=0;for(const o of r){let l=Ex(o,s.wc(i));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),i++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=Va(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AK(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ss.fromDate(r);return{timestampValue:B2(s.serializer,a)}}if(r instanceof ss){const a=new ss(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:B2(s.serializer,a)}}if(r instanceof pA)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _l)return{bytesValue:rL(s.serializer,r._byteString)};if(r instanceof Js){const a=s.databaseId,i=r.firestore._databaseId;if(!i.isEqual(a))throw s.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:XS(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof gA)return function(i,o){return{mapValue:{fields:{[FU]:{stringValue:RU},[E2]:{arrayValue:{values:i.toArray().map(A=>{if(typeof A!="number")throw o.Sc("VectorValues must only contain numeric values.");return WS(o.serializer,A)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${ky(r)}`)}(t,e)}function QL(t,e){const n={};return SU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sf(t,(r,s)=>{const a=Ex(s,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function HL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ss||t instanceof pA||t instanceof _l||t instanceof Js||t instanceof h5||t instanceof gA)}function p5(t,e,n){if(!HL(n)||!EU(n)){const r=ky(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ZE(t,e,n){if((e=Va(e))instanceof Vy)return e._internalPath;if(typeof e=="string")return g5(t,e);throw F2("Field path arguments must be of type string or ",t,!1,void 0,n)}const EW=new RegExp("[~\\*/\\[\\]]");function g5(t,e,n){if(e.search(EW)>=0)throw F2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vy(...e.split("."))._internalPath}catch{throw F2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function F2(t,e,n,r,s){const a=r&&!r.isEmpty(),i=s!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||i)&&(l+=" (found",a&&(l+=` in field ${r}`),i&&(l+=` in document ${s}`),l+=")"),new zt(pt.INVALID_ARGUMENT,o+t+l)}function VL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Js(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _W(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(x5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _W extends GL{data(){return super.data()}}function x5(t,e){return typeof e=="string"?g5(t,e):e instanceof Vy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new zt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v5{}class zL extends v5{}function TW(t,e,...n){let r=[];e instanceof v5&&r.push(e),r=r.concat(n),function(a){const i=a.filter(l=>l instanceof w5).length,o=a.filter(l=>l instanceof y5).length;if(i>1||i>0&&o>0)throw new zt(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class y5 extends zL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new y5(e,n,r)}_apply(e){const n=this._parse(e);return KL(e._query,n),new vh(e.firestore,e.converter,HE(e._query,n))}_parse(e){const n=Gy(e.firestore);return function(a,i,o,l,A,d,h){let p;if(A.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new zt(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){T3(h,d);const w=[];for(const b of h)w.push(S3(l,a,b));p={arrayValue:{values:w}}}else p=S3(l,a,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||T3(h,d),p=CW(o,i,h,d==="in"||d==="not-in");return ha.create(A,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class w5 extends v5{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new w5(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:wc.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let i=s;const o=a.getFlattenedFilters();for(const l of o)KL(i,l),i=HE(i,l)}(e._query,n),new vh(e.firestore,e.converter,HE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class b5 extends zL{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new b5(e,n)}_apply(e){const n=function(s,a,i){if(s.startAt!==null)throw new zt(pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new zt(pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pg(a,i)}(e._query,this._field,this._direction);return new vh(e.firestore,e.converter,function(s,a){const i=s.explicitOrderBy.concat([a]);return new km(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function BW(t,e="asc"){const n=e,r=x5("orderBy",t);return b5._create(r,n)}function S3(t,e,n){if(typeof(n=Va(n))=="string"){if(n==="")throw new zt(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QU(e)&&n.indexOf("/")!==-1)throw new zt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Zr.fromString(n));if(!cn.isDocumentKey(r))throw new zt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return VN(t,new cn(r))}if(n instanceof Js)return VN(t,n._key);throw new zt(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ky(n)}.`)}function T3(t,e){if(!Array.isArray(t)||t.length===0)throw new zt(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KL(t,e){const n=function(s,a){for(const i of s)for(const o of i.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new zt(pt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new zt(pt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class NW{convertValue(e,n="none"){switch(qd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Cn(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return sf(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,s,a;const n=(a=(s=(r=e.fields)==null?void 0:r[E2].arrayValue)==null?void 0:s.values)==null?void 0:a.map(i=>qs(i.doubleValue));return new gA(n)}convertGeoPoint(e){return new pA(qs(e.latitude),qs(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ry(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ug(e));default:return null}}convertTimestamp(e){const n=zd(e);return new ss(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Zr.fromString(e);Nr(cL(r),9688,{name:e});const s=new Lg(r.get(1),r.get(3)),a=new cn(r.popFirst(5));return s.isEqual(n)||xu(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class qp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kf extends GL{constructor(e,n,r,s,a,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(x5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new zt(pt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Kf._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Kf._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kf._jsonSchema={type:ma("string",Kf._jsonSchemaVersion),bundleSource:ma("string","DocumentSnapshot"),bundleName:ma("string"),bundle:ma("string")};class Jv extends Kf{data(e={}){return super.data(e)}}class G0{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new qp(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jv(this._firestore,this._userDataWriter,r.key,r,new qp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new zt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>{const l=new Jv(s._firestore,s._userDataWriter,o.doc.key,o.doc,new qp(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new Jv(s._firestore,s._userDataWriter,o.doc.key,o.doc,new qp(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let A=-1,d=-1;return o.type!==0&&(A=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),d=i.indexOf(o.doc.key)),{type:kW(o.type),doc:l,oldIndex:A,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new zt(pt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=G0._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=QS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Cn(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(t){t=yc(t,Js);const e=yc(t.firestore,wh);return fW(f5(e),t._key).then(n=>DW(e,t,n))}G0._jsonSchemaVersion="firestore/querySnapshot/1.0",G0._jsonSchema={type:ma("string",G0._jsonSchemaVersion),bundleSource:ma("string","QuerySnapshot"),bundleName:ma("string"),bundle:ma("string")};class WL extends NW{constructor(e){super(),this.firestore=e}convertBytes(e){return new _l(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Js(this.firestore,null,n)}}function $L(t){t=yc(t,vh);const e=yc(t.firestore,wh),n=f5(e),r=new WL(e);return SW(t._query),hW(n,t._query).then(s=>new G0(e,r,t,s))}function FW(t,e,n){t=yc(t,Js);const r=yc(t.firestore,wh),s=qL(t.converter,e);return Ky(r,[OL(Gy(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,kl.none())])}function YL(t,e,n,...r){t=yc(t,Js);const s=yc(t.firestore,wh),a=Gy(s);let i;return i=typeof(e=Va(e))=="string"||e instanceof Vy?bW(a,"updateDoc",t._key,e,n,r):wW(a,"updateDoc",t._key,e),Ky(s,[i.toMutation(t._key,kl.exists(!0))])}function JL(t){return Ky(yc(t.firestore,wh),[new $S(t._key,kl.none())])}function RW(t,e){const n=yc(t.firestore,wh),r=yh(t),s=qL(t.converter,e);return Ky(n,[OL(Gy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,kl.exists(!1))]).then(()=>r)}function Ky(t,e){return function(r,s){const a=new uu;return r.asyncQueue.enqueueAndForget(async()=>tW(await dW(r),s,a)),a.promise}(f5(t),e)}function DW(t,e,n){const r=n.docs.get(e._key),s=new WL(t);return new Kf(t,s,e._key,r,new qp(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Tm=s})(Em),lm(new rh("firestore",(r,{instanceIdentifier:s,options:a})=>{const i=r.getProvider("app").getImmediate(),o=new wh(new bz(r.getProvider("auth-internal")),new _z(i,r.getProvider("app-check-internal")),function(A,d){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new zt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lg(A.options.projectId,d)}(i,s),i);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Ud(kN,IN,e),Ud(kN,IN,"esm2020")})();const UW={apiKey:"AIzaSyAfL9dpeLfpWQPg4orpFSh3X5dzXrSsBwc",authDomain:"planificador-145df.firebaseapp.com",projectId:"planificador-145df",storageBucket:"planificador-145df.firebasestorage.app",messagingSenderId:"1022861144167",appId:"1:1022861144167:web:7c277dd701dad5986864c2",measurementId:"G-LKJRFMVC9F"},XL=FD(UW),eC=pz(XL),Fm=pW(XL);var en=(t=>(t.SUBDIRECCION="SUBDIRECCION",t.PROFESORADO="PROFESORADO",t.COORDINACION_TP="COORDINACION_TP",t.ESTUDIANTE="ESTUDIANTE",t))(en||{}),zn=(t=>(t.EVALUACION="Evaluacin",t.ACTO="Acto",t.ACTIVIDAD_FOCALIZADA="Actividad Focalizada",t.SALIDA_PEDAGOGICA="Salida Pedaggica",t))(zn||{}),Mf=(t=>(t.PRUEBA_PARCIAL="Prueba parcial",t.GUIA_APRENDIZAJE="Gua de Aprendizaje",t.RUBRICA="Rbrica",t.PAUTA_COTEJO="Pauta de Cotejo",t))(Mf||{});const pa="w-6 h-6",qy="w-24 h-24",ZL=()=>u.jsxs("svg",{className:"w-32 h-32 text-slate-700 dark:text-slate-300",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20V6.5A2.5 2.5 0 0 0 17.5 4h-11A2.5 2.5 0 0 0 4 6.5v13Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M16 4.5V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M9 14V10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M12 14V8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),LW=()=>u.jsxs("svg",{className:"w-10 h-10 text-amber-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M9 18h6"}),u.jsx("path",{d:"M10 22h4"}),u.jsx("path",{d:"M12 2a7 7 0 0 0-7 7c0 3 2 5 2 7h10c0-2 2-4 2-7a7 7 0 0 0-7-7z"})]}),MW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),PW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:pa,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Wp=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:pa,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),$p=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:pa,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e8=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),jW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:qy,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125z"})}),OW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:qy,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})}),QW=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:qy,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.43.992a6.759 6.759 0 010 1.255c-.008.378.137.75.43.99l1.004.828c.421.346.564.95.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.68 6.68 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.063-.374-.313-.686-.645-.87a6.68 6.68 0 01-.22-.127c-.325-.196-.72-.257-1.075-.124l-1.217.456a1.125 1.125 0 01-1.369-.491l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.759 6.759 0 010-1.255c.008-.378-.137-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.49l1.217.456c.355.133.75.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),HW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:qy,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0l-2.072-1.036A48.257 48.257 0 0112 10.045a48.258 48.258 0 0110.332-1.036l-2.072 1.036m-16.425 0a48.27 48.27 0 00-2.223 2.218c.958.056 1.91.118 2.857.185m16.425 0c.947-.067 1.9-.129 2.857-.185a48.27 48.27 0 00-2.223-2.218m-12.182 0A11.947 11.947 0 0112 8.636a11.947 11.947 0 014.09 1.511"})}),VW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:pa,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),B3=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:pa,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),H1=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:pa,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),tC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:pa,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),V1=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:pa,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),nC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:pa,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),N3=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:pa,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),GW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:pa,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"})}),zW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:pa,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),KW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:pa,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),qW=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:pa,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),k3=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:pa,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l9-5-9-5-9 5 9 5z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14v6"})]}),WW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:pa,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),rC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:pa,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9V3m0 18a9 9 0 009-9m-9 9a9 9 0 00-9-9"})}),$W=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:pa,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.528-1.036.94-2.197 1.088-3.386l-.7M11.42 15.17l-1.06-1.06a4.5 4.5 0 01-5.656-5.656l-1.06 1.06c-1.37.66-2.58 1.6-3.58 2.75a4.5 4.5 0 00-1.06 5.656l1.06 1.06c1.15.998 2.52 1.93 3.99 2.58l1.06-1.06a4.5 4.5 0 015.656-5.656l3.032 2.496m-3.582-2.58a4.5 4.5 0 00-5.656 5.656l1.06-1.06a4.5 4.5 0 015.656-5.656l1.06 1.06m-3.032-2.496a4.5 4.5 0 00-5.656 5.656l1.06-1.06a4.5 4.5 0 015.656-5.656l1.06 1.06"})}),YW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:pa,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),I3=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:pa,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-1.125 0-2.25 1.125-2.25 2.25v15c0 1.125 1.125 2.25 2.25 2.25h11.25c1.125 0 2.25-1.125 2.25-2.25v-9.75M10.125 2.25c.621 0 1.125.504 1.125 1.125v3.375c0 .621-.504 1.125-1.125 1.125h-1.5c-.621 0-1.125-.504-1.125-1.125v-3.375c0-.621.504-1.125 1.125-1.125h1.5zM17.25 10.5h.375c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125h-.375m0-3.75V6.375c0-.621-.504-1.125-1.125-1.125h-1.5c-.621 0-1.125.504-1.125 1.125v3.375c0 .621.504 1.125 1.125 1.125h1.5c.621 0 1.125-.504 1.125-1.125v-1.5m-6.375 5.25v-1.5c0-.621.504-1.125 1.125-1.125h.375c.621 0 1.125.504 1.125 1.125v1.5m0 3.75V16.5c0-.621-.504-1.125-1.125-1.125h-.375a1.125 1.125 0 00-1.125 1.125v1.5m6.375 0V16.5c0-.621-.504-1.125-1.125-1.125h-.375a1.125 1.125 0 00-1.125 1.125v1.5"})}),JW=[{id:en.SUBDIRECCION,label:"Subdireccin Pedaggica",icon:u.jsx(jW,{})},{id:en.PROFESORADO,label:"Profesorado",icon:u.jsx(OW,{})},{id:en.COORDINACION_TP,label:"Coordinacin TP",icon:u.jsx(QW,{})},{id:en.ESTUDIANTE,label:"Estudiantes",icon:u.jsx(HW,{})}],XW={[en.SUBDIRECCION]:[{name:"Dashboard",icon:u.jsx(VW,{})},{name:"Administracin",icon:u.jsx(qW,{})},{name:"Seguimiento Curricular",icon:u.jsx(YW,{})},{name:"Acompaamiento docente",icon:u.jsx(KW,{})},{name:"Anlisis Taxonmico",icon:u.jsx(I3,{})},{name:"Interdisciplinario",icon:u.jsx(rC,{})},{name:"Registro de inasistencias y reemplazos docentes",icon:u.jsx(B3,{})},{name:"Crear horarios",icon:u.jsx(tC,{})},{name:"Seguimiento de acciones pedaggicas",icon:u.jsx(V1,{})},{name:"Inclusin",icon:u.jsx(k3,{})},{name:"Calendario Acadmico",icon:u.jsx(H1,{})},{name:"Muro de Anuncios",icon:u.jsx(Wp,{})},{name:"Mensajera Interna",icon:u.jsx($p,{})},{name:"Generador de Actas",icon:u.jsx(nC,{})}],[en.PROFESORADO]:[{name:"Planificacin",icon:u.jsx(N3,{})},{name:"Mis Acompaamientos",icon:u.jsx(WW,{})},{name:"Recursos de Aprendizaje",icon:u.jsx(GW,{})},{name:"Anlisis Taxonmico",icon:u.jsx(I3,{})},{name:"Interdisciplinario",icon:u.jsx(rC,{})},{name:"Inclusin",icon:u.jsx(k3,{})},{name:"Actividades Remotas",icon:u.jsx(zW,{})},{name:"Evaluacin de Aprendizajes",icon:u.jsx(nC,{})},{name:"Evaluaciones Formativas",icon:u.jsx(V1,{})},{name:"Calendario Acadmico",icon:u.jsx(H1,{})},{name:"Muro de Anuncios",icon:u.jsx(Wp,{})},{name:"Mensajera Interna",icon:u.jsx($p,{})},{name:"Generador de Actas",icon:u.jsx(B3,{})}],[en.COORDINACION_TP]:[{name:"Seguimiento Dual",icon:u.jsx(V1,{})},{name:"Asistencia Dual",icon:u.jsx(tC,{})},{name:"Paol",icon:u.jsx($W,{})},{name:"Calendario Acadmico",icon:u.jsx(H1,{})},{name:"Muro de Anuncios",icon:u.jsx(Wp,{})},{name:"Mensajera Interna",icon:u.jsx($p,{})},{name:"Generador de Actas",icon:u.jsx(nC,{})}],[en.ESTUDIANTE]:[{name:"Auto-aprendizaje",icon:u.jsx(N3,{})},{name:"Evaluacin Formativa",icon:u.jsx(V1,{})},{name:"Tareas Interdisciplinarias",icon:u.jsx(rC,{})},{name:"Asistencia a Empresa",icon:u.jsx(tC,{})},{name:"Calendario Acadmico",icon:u.jsx(H1,{})},{name:"Muro de Anuncios",icon:u.jsx(Wp,{})},{name:"Mensajera Interna",icon:u.jsx($p,{})}]},F3=["Currculum y Evaluacin","Convivencia Escolar","Orientacin","Gestin Pedaggica General"],Bp=["Pendiente","En Proceso","Cumplida"],R2=["1 Medio","2 Medio","3 Medio","4 Medio"],zo=["Lengua y Literatura","Matemtica","Ingls","Filosofa","Historia y Geografa","Educacin Ciudadana","Ciencias","Ciencias para la Ciudadana","Artes","Msica","Educacin Fsica","Orientacin","Mecnica Industrial","Mecnica Automotriz","Emprendimiento","Tecnologa","Pensamiento Lgico","Competencia Lectora"],Xs=["1A","1B","1C","1D","1E","2A","2B","2C","2D","3A","3B","3C","3D","4A","4B","4C","4D"],e_=["Juan Prez","Mara Gonzlez","Carlos Soto","Ana Fernndez","Luis Rojas","Laura Muoz","Pedro Castillo","Sofa Reyes","Diego Flores","Valentina Castro"],Xv=["Lunes","Martes","Mircoles","Jueves","Viernes"],t_=[{bloque:1,inicio:"08:00",fin:"08:40"},{bloque:2,inicio:"08:40",fin:"09:20"},{bloque:3,inicio:"09:35",fin:"10:15"},{bloque:4,inicio:"10:15",fin:"10:55"},{bloque:5,inicio:"11:10",fin:"11:50"},{bloque:6,inicio:"11:50",fin:"12:30"},{bloque:7,inicio:"12:30",fin:"13:10"},{bloque:8,inicio:"13:10",fin:"13:50"},{bloque:9,inicio:"14:30",fin:"15:10"},{bloque:10,inicio:"15:10",fin:"15:50"},{bloque:11,inicio:"16:00",fin:"16:40"},{bloque:12,inicio:"16:40",fin:"17:20"}],ZW={"1 y 2 medio":{"Lengua y Literatura":6,Matemtica:6,Ingls:3,"Historia y Geografa":4,"Educacin Fsica":2,Ciencias:4,"Artes/Msica":2,Tecnologa:2,Orientacin:1},"3 y 4 medio (Humanista-Cientfico)":{"Lengua y Literatura":4,Matemtica:4,Ingls:2,"Historia y Geografa":3,"Educacin Ciudadana":2,Filosofa:3,"Ciencias para la Ciudadana":2,"Educacin Fsica":2},"3 y 4 medio (Tcnico-Profesional)":{"Lengua y Literatura":2,Matemtica:2,Ingls:2,"Historia y Geografa":2,Filosofa:2,"Educacin Fsica":2,"Mdulo TP":18}},B0={[zn.EVALUACION]:{label:"Evaluacin",icon:"",color:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"},[zn.ACTO]:{label:"Acto",icon:"",color:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"},[zn.ACTIVIDAD_FOCALIZADA]:{label:"Act. Focalizada",icon:"",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"},[zn.SALIDA_PEDAGOGICA]:{label:"Salida Pedaggica",icon:"",color:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"}},e$=Object.values(Mf),sC=["Humanidades","TP","Ciencias","Interdisciplinario","Gestin Pedaggica","Equipo Directivo","Equipo de Gestin","Consejo Escolar"],aC=["Vinculado","Desvinculado","En proceso","Empresa"],qf=["3A","3B","3C","3D","4A","4B","4C","4D"],t$=["Quiz","Comprensin de Lectura","Trminos Pareados","Desarrollo"],D2=["Discapacidad Intelectual Leve","Funcionamiento Intelectual Limtrofe","Trastorno Dficit Atencional (TDA)","Trastorno Dficit Atencional con Hiperactividad (TDAH)","Trastorno del Lenguaje","Dificultad Especfica del Aprendizaje","Dificultad Especfica de Aprendizaje en Matemticas","Dificultades de Aprendizaje","Problemas de Idioma y de Escolarizacin"],U2=[{domain:"Dominio A: Preparacin de la Enseanza",criteria:[{name:"Conocimiento de la disciplina",levels:["Demuestra conocimiento parcial por la disciplina que ensea, evidenciando manejo poco preciso y confuso de los conceptos centrales en los que se articula la clase.","Conoce los principios centrales de la disciplina que ensea, no obstante evidencia falencias en el tratamiento conceptual a la luz de actualizaciones epistemolgicas o metodolgicas en su rea.","Conoce y comprende los principios y conceptos centrales de las disciplinas que ensea, atendiendo a la permanente actualizacin curricular en su rea.","Conoce, comprende y cuestiona los principios centrales de la disciplina que ensea a la luz de nuevos paradigmas epistemolgicos o tericos, permitiendo que el trabajo o la exposicin conceptual invite al desarrollo del pensamiento crtico o la investigacin continua."]},{name:"Conocimiento de los estudiantes",levels:["No conoce las fortalezas y debilidades de sus estudiantes, evidenciando una planificacin o gestin de la clase estndar, sin atender a particularidades.","Conoce las fortalezas y debilidades de sus estudiantes de manera parcial en relacin al contexto y caractersticas del medio.","Conoce las fortalezas y debilidades de sus estudiantes respecto de los contenidos que ensea en consonancia con el contexto y caractersticas propias del medio.","Conoce las fortalezas y debilidades de sus estudiantes respecto de los contenidos que ensea en consonancia con el contexto y caractersticas propias del medio, siendo capaz de desarrollar diversas explicaciones y/o actividades para un mismo objetivo."]},{name:"Seleccin de recursos de aprendizaje",levels:["Los recursos de aprendizaje seleccionados demuestran desconocimiento respecto a las caractersticas de sus estudiantes y a la relacin con el contenido y objetivo de la clase.","Conoce parcialmente distintos recursos didcticos de aprendizaje, siendo congruentes al contenido pero no a las caractersticas de sus estudiantes, o bien, siendo pertinentes a sus particularidades pero alejndose de los objetivos y contenidos de la clase.","Conoce y selecciona distintos recursos didcticos de aprendizaje congruentes con la complejidad de los contenidos y las caractersticas de sus alumnos.","Conoce y selecciona distintos recursos didcticos de aprendizaje que promueven el desarrollo de habilidades transversales y permiten asegurar la adquisicin de aprendizajes profundos, todo en consonancia con las particularidades de sus estudiantes."]},{name:"Estrategias de evaluacin",levels:["Establece estrategias de evaluacin incongruentes con los contenidos o el desarrollo cognitivo de sus estudiantes, omitiendo adems, las metodologas empleadas previamente en clases.","Establece estrategias de evaluacin coherentes con los contenidos pero no con la complejidad, o bien, con una complejidad adecuada al desarrollo cognitivo de los estudiantes, pero no necesariamente a los contenidos y objetivos desarrollados previamente en clases.","Establece estrategias de evaluacin coherentes con la complejidad de los contenidos involucrados y con las actividades previamente desarrolladas en clases.","Establece estrategias de evaluacin coherentes con la complejidad de los contenidos involucrados y con las actividades previamente desarrolladas en clases. Dichas estrategias promueven la reflexin, y, la retroalimentacin descriptiva."]},{name:"Estrategias de enseanza-aprendizaje",levels:["*Los docentes establecen estrategias generales de apoyo sin considerar los distintos niveles de dominio de las competencias ni tampoco, las necesidades de los estudiantes","*Los docentes disean e implementan estrategias de enseanza- aprendizaje efectivas, pero sin considerar las competencias involucradas en el perfil de egreso, o los recursos disponibles, o los espacios dentro fuera y del aula.","*Los docentes disean e implementan estrategias efectivas de enseanza-aprendizaje para el desarrollo de competencias definidas en el perfil de egreso de cada especialidad considerando el contexto educativo, los recursos de aprendizaje disponibles y los espacios de aprendizaje dentro y fuera del aula.","*Los docentes disean e implementan estrategias avanzadas de enseanza-aprendizaje tales como (ABP, ABD, Gamificacin, Aprendizaje basado en juegos) para el desarrollo de competencias definidas en el perfil de egreso de cada especialidad considerando el contexto educativo, los recursos de aprendizaje disponibles y los espacios de aprendizaje dentro y fuera del aula."]}]},{domain:"Dominio B: Creacin de ambiente propicio para el aprendizaje",criteria:[{name:"Clima de respeto y empata",levels:["Establece un clima centrado exclusivamente en las normas, pero no da cuenta de vnculos fundados en el respeto y/o en la empata.","Establece un clima de relaciones interpersonales respetuosas y empticas con la mayora de sus alumnos.","Establece un clima de relaciones interpersonales respetuosas y empticas con todos sus alumnos.","Establece un clima de relaciones interpersonales respetuosas y empticas con todos sus alumnos, generando situaciones concretas de cooperacin y ayuda mutua entre l/ella y los/las estudiantes, o entre los/las propios estudiantes."]},{name:"Inters por las especialidades",levels:["No transmite inters por las especialidades, centrndose exclusivamente en su rea de desempeo.","Transmite inters general por las especialidades, no obstante no es capaz de acercarse a las caractersticas concretas de los mdulos.","Transmite inters por los contenidos y actividades de las asignaturas, mdulos y especialidades.","Transmite inters por los contenidos y actividades de las asignaturas, mdulos y especialidades, ejemplificando o relacionando de manera concreta, con situaciones reales en dicha rea de desempeo."]},{name:"Actitudes de compromiso y solidaridad",levels:["Promueve actitudes de buen comportamento en el aula, no obstante, no incorpora ni la solidaridad ni el compromiso con el otro ni con ellos mismos, en sus clases.","Promueve implcitamente actitudes de compromiso y solidaridad entre los alumnos.","Promueve explcitamente actitudes de compromiso y solidaridad entre los alumnos, a travs de estrategias, instrucciones o anlisis que tiendan a ello.","Promueve explcitamente actitudes de compromiso y solidaridad entre los alumnos, a travs de estrategias, instrucciones o anlisis que tiendan a ello, generando experiencias concretas para desarrollar estas habilidades y valores."]},{name:"Situaciones de aprendizaje",levels:["Presenta situaciones de aprendizaje estndar que implican un desarrollo mecnico y que no tienden hacia la consolidacin de aprendizajes esperados o no movilizan a los estudiantes.","Presenta situaciones de aprendizaje desafiantes y apropiadas para sus alumnos, no obstante no atiende a sus caractersticas personales y/o motivacionales.","Presenta situaciones de aprendizaje desafiantes y apropiadas para sus alumnos, atendiendo a sus caractersticas personales y motivacionales.","Presenta situaciones de aprendizaje desafiantes y apropiadas para sus alumnos, atendiendo a sus caractersticas personales y motivacionales, integrando a sus clases actividades que complementan o profundizan aprendizajes en los casos que sean necesarios."]},{name:"Motivacin por el aprendizaje",levels:["No transmite motivacin por el aprendizaje, la bsqueda o la indagacin.","Transmite una motivacin positiva por el aprendizaje, no obstante no insta a los estudiantes a indagar o buscar de manera autnoma","Transmite una motivacin positiva por el aprendizaje, la indagacin y la bsqueda.","Transmite una motivacin positiva por el aprendizaje, la indagacin y la bsqueda, ejemplificando o comunicando experiencias reales que permitan valorar estas actitudes."]},{name:"Normas de comportamiento",levels:["No establece normas de comportamento para sus estudiantes.","Establece normas de comportamento que son conocidas y comprensibles para sus alumnos, no obstante, no es sistemtico en su cumplimiento.","Establece normas de comportamento que son conocidas y comprensibles para sus alumnos, creando y manteniendo un ambiente de aprendizaje organizado.","Establece normas de comportamento que son conocidas y comprensibles para sus alumnos, creando y manteniendo un ambiente de aprendizaje organizado, permitiendo altos niveles de participacin."]},{name:"Respuestas frente al quiebre de normas",levels:["No genera respuestas frente al quiebre de las normas de convivencia.","Genera respuestas efectivas frente al quiebre de las normas de convivencia, pero debe mejorar la asertividad.","Genera respuestas asertivas y efectivas frente al quiebre de las normas de convivencia.","Genera respuestas asertivas y efectivas frente al quiebre de las normas de convivencia, que entregan sentido de la importancia de los acuerdos y las normas previamente comunicadas."]}]},{domain:"Dominio C: Enseanza para el aprendizaje de todos los estudiantes",criteria:[{name:"Presentacin de objetivos",levels:["Al iniciar las clases no presenta el objetivo o slo lo enuncia sin profundizar en l.","Al iniciar las clases presenta el objetivo de aprendizaje y el propsito, pero no logra dar cuenta de la relacin con el futuro laboral de los estudiantes o con otras reas del conocimiento.","Al iniciar las clases presentan el objetivo de aprendizaje, relacionndolo con el propsito que posee desde la disciplina, otras reas del conocimiento o para su desempeo laboral futuro.","Al iniciar las clases presentan el objetivo de aprendizaje involucrando a los estudiantes a travs de la relacin con el propsito que posee desde la disciplina, otras reas del conocimiento o para su desempeo laboral futuro."]},{name:"Clase en funcin de objetivos",levels:["No realiza su clase en funcin de los objetivos de aprendizaje estipulados en las bases curriculares, o bien, los incorpora pero sin mantener coherencia con las habilidades, contenidos o competencias del currculum nacional","Realiza sus clases en funcin de los Objetivos de Aprendizaje estipulados en las Bases Curriculares, considerando slo uno de los siguientes elementos: desarrollo de competencias, habilidades, conocimientos o actitudes establecidos en el currculum nacional.","Realiza sus clases en funcin de los Objetivos de Aprendizaje estipulados en las Bases Curriculares, considerando el desarrollo de competencias, habilidades, conocimientos y actitudes establecidos en el currculum nacional.","Realiza sus clases en funcin de los Objetivos de Aprendizaje estipulados en las Bases Curriculares, considerando el desarrollo de competencias, habilidades, conocimientos y actitudes establecidos en el currculum nacional y en el PEI."]},{name:"Introduccin de nueva informacin",levels:["Promueve actitudes de buen comportamento en el aula, no obstante, no incorpora ni la solidaridad ni el compromiso con el otro ni con ellos mismos, en sus clases.","Los docentes introducen a los estudiantes a nueva informacin, sin considerar el desarrollo de habilidades y actitudes.","Los docentes introducen a sus estudiantes a nueva informacin y al desarrollo de nuevas habilidades y actitudes, mediante estrategias efectivas y variadas, que consideran sus conocimientos previos.","Los docentes introducen a sus estudiantes a nueva informacin y al desarrollo de nuevas habilidades y actitudes, mediante estrategias efectivas y variadas, que consideran sus conocimientos previos y su realidad inmediata."]},{name:"Desarrollo de contenidos",levels:["Desarrolla los contenidos de la clase sin precisin conceptual ni claridad.","Desarrolla los contenidos de la clase con rigurosidad conceptual, pero sin una extrapolacin que permita entregar claridad a los estudiantes.","Desarrolla los contenidos de la clase con rigurosidad conceptual y claridad.","Desarrolla los contenidos de la clase con rigurosidad conceptual y claridad, recurriendo al ejemplo y a la vida cotidiana para anclar el conocimiento."]},{name:"Retroalimentacin",levels:["No retroalimenta a los estudiantes","Retroalimentan constantemente a sus estudiantes slo de modo general.","Retroalimentan constantemente a sus estudiantes sobre su desempeo, de manera individual o grupal.","Retroalimentan constantemente a sus estudiantes sobre su desempeo, de manera individual o grupal, a travs de preguntas o instancias que permiten modelar su aprendizaje."]},{name:"Monitoreo del aprendizaje",levels:["No monitorea el grado de comprensin y desempeo de sus estudiantes.","Monitorea parcialmente el grado de comprensin y desempeo de sus estudiantes, no siempre a travs de evidencia.","Monitorea constantemente el grado de comprensin y el desempeo de sus estudiantes durante el desarrollo de las clases para obtener evidencias acerca de lo que estn aprendiendo.","Monitorea constantemente y en diferentes instancias el grado de comprensin y el desempeo de sus estudiantes durante el desarrollo de las clases para obtener evidencias acerca de lo que estn aprendiendo."]},{name:"Orientacin a objetivos transversales",levels:["No enuncia o enuncia de modo incorrecto elementos ligados hacia los objetivos transversales.","Orienta a sus estudiantes hacia temticas ligadas a los objetivos transversales, no obstante, la orientacin es superficial y no predispone la construccin de valores.","Orienta a sus estudiantes hacia temticas ligadas a los objetivos transversales del currculum, con el fin de favorecer su proceso de construccin de valores.","Orienta a sus estudiantes hacia temticas ligadas a los objetivos transversales del currculum, con el fin de favorecer su proceso de construccin de valores en consonancia a elementos propios del PEI."]},{name:"Conclusin de la clase",levels:["El docente concluye la clase sin actividad o reactivo hacia los estudiantes.*","El docente concluye la clase con una explicacin que resume los contenidos fundamentales, no obstante, no moviliza acciones en los estudiantes, que permitan activar contenidos.","El docente concluye las clases con una actividad breve que permite a sus estudiantes realizar algunas de las siguientes acciones: demostrar, identificar, sintetizar, jerarquizar, formular dudas, conectar o valorar lo aprendido.","El docente concluye las clases con una actividad breve que permite a sus estudiantes realizar algunas de las siguientes acciones: demostrar, identificar, sintetizar, jerarquizar, formular dudas, conectar o valorar lo aprendido. Incorpora adems preguntas de metacognicin y/o autoevaluacin."]},{name:"Abordaje de errores",levels:["No aborda los errores, nicamente los seala.","Aborda los errores no como fracasos, sino que corrige oportunamente, no obstante no entrega nuevas herramientas para construir de mejor forma nuevos aprendizajes.","Aborda los errores no como fracasos, sino como ocasiones para enriquecer el proceso de aprendizaje.","Aborda los errores no como fracasos, sino como ocasiones para enriquecer el proceso de aprendizaje a travs de estrategias o precisiones claves en virtud de las habilidades o contenidos tratados."]},{name:"Apoyo a todos los estudiantes",levels:["El docente se centra en un grupo objetivo y homogneo, descuidando la diversidad y las caractersticas particulares de todos sus estudiantes.","El docente apoya parcialmente a todos los estudiantes en sus procesos educativos, no obstante no consideran diversas estrategias segn nivel de dominio por parte de los estudiantes.","El docente apoya a todos los estudiantes en sus procesos educativos, considerando estrategias de apoyo por grupos segn el nivel de dominio de las competencias definidas en el perfil de egreso.","El docente apoya a todos los estudiantes en sus procesos educativos, considerando estrategias de apoyo por grupos segn el nivel de dominio de las competencias definidas en el perfil de egreso y en consonancia con el PEI."]}]}],t8=["Lder de Proyecto","Secretario/a","Encargado/a de Materiales","Expositor/a","Investigador/a","Editor/a"],G1=[{nombre:"Aprendiz Emergente",emoji:"",promedioMin:1,promedioMax:3.9,mensaje:"Ests comenzando tu viaje de aprendizaje! Sigue esforzndote."},{nombre:"Explorador del Conocimiento",emoji:"",promedioMin:4,promedioMax:4.9,mensaje:"Buen trabajo! Ests construyendo una base slida."},{nombre:"Arquitecto de Ideas",emoji:"",promedioMin:5,promedioMax:5.9,mensaje:"Excelente! Demuestras un gran dominio de los temas."},{nombre:"Maestro del Saber",emoji:"",promedioMin:6,promedioMax:6.5,mensaje:"Impresionante! Tu dedicacin te lleva a la excelencia."},{nombre:"Sabio Luminar",emoji:"",promedioMin:6.6,promedioMax:7,mensaje:"Extraordinario! Eres una inspiracin para tus compaeros."}],n$=({onLoginAttempt:t,onForgotPasswordRequest:e,error:n})=>{const[r,s]=ee.useState(""),[a,i]=ee.useState(""),[o,l]=ee.useState("login"),A=p=>{p.preventDefault(),t(r,a)},d=p=>{p.preventDefault(),e(r),l("forgot_sent")},h=()=>o==="forgot"?u.jsxs("form",{onSubmit:d,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Correo Electrnico Registrado"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:p=>s(p.target.value),placeholder:"Ingrese su correo",className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm"})})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-slate-800 hover:bg-slate-700",children:"Enviar Enlace de Recuperacin"})}),u.jsx("div",{className:"text-sm text-center",children:u.jsx("button",{type:"button",onClick:()=>l("login"),className:"font-medium text-amber-600 hover:text-amber-500",children:"Volver a Iniciar Sesin"})})]}):o==="forgot_sent"?u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Revise su Correo"}),u.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Si existe una cuenta asociada a ",u.jsx("strong",{children:r}),", hemos enviado un enlace para restablecer su contrasea."]}),u.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"(Para esta simulacin, revise la consola del navegador para ver el enlace)."}),u.jsx("button",{type:"button",onClick:()=>{l("login"),s("")},className:"mt-6 font-medium text-amber-600 hover:text-amber-500",children:" Volver a Iniciar Sesin"})]}):u.jsxs("form",{onSubmit:A,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Correo Electrnico"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:p=>s(p.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Contrasea"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:p=>i(p.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),n&&u.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",role:"alert",children:u.jsx("p",{children:n})}),u.jsx("div",{className:"text-sm text-center",children:u.jsx("button",{type:"button",onClick:()=>l("forgot"),className:"font-medium text-amber-600 hover:text-amber-500",children:"Olvid su contrasea?"})}),u.jsx("div",{children:u.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-slate-800 hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:"Ingresar"})})]});return u.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-slate-100 dark:bg-slate-900",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("div",{className:"mb-4 flex justify-center items-center",children:u.jsx(ZL,{})}),u.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-200 mt-2",children:"Gestin Pedaggica LIR"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-lg",children:o==="login"?"Bienvenido/a, por favor inicie sesin":"Recuperacin de Contrasea"})]}),u.jsx("div",{className:"w-full max-w-sm bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md",children:h()}),u.jsxs("footer",{className:"absolute bottom-4 text-slate-500 dark:text-slate-400 text-sm",children:[" ",new Date().getFullYear()," Liceo Industrial de Recoleta. Todos los derechos reservados."]})]})},iC=({trigger:t,children:e,onOpen:n})=>{const[r,s]=ee.useState(!1),a=ee.useRef(null),i=()=>{const l=!r;s(l),l&&n&&n()},o=l=>{a.current&&!a.current.contains(l.target)&&s(!1)};return ee.useEffect(()=>(document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}),[]),u.jsxs("div",{className:"relative",ref:a,children:[u.jsx("div",{onClick:i,children:t}),r&&u.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-white dark:bg-slate-700 rounded-lg shadow-xl border border-slate-200 dark:border-slate-600 z-50 animate-fade-in-up",onClick:()=>s(!1),children:e})]})},R3="usuariosLiceo",r$=({user:t,onClose:e,onSave:n})=>{const[r,s]=ee.useState({nombreCompleto:t.nombreCompleto,email:t.email,fotoUrl:t.fotoUrl||""}),a=o=>{s({...r,[o.target.name]:o.target.value})},i=o=>{o.preventDefault();const l={...t,...r};try{const A=localStorage.getItem(R3);let d=A?JSON.parse(A):[];const h=d.findIndex(p=>p.id===t.id);h>-1?d[h]=l:d.push(l),localStorage.setItem(R3,JSON.stringify(d)),n(l),e()}catch(A){console.error("Failed to save user profile:",A),alert("No se pudo guardar el perfil.")}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:e,children:u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md animate-fade-in-up",onClick:o=>o.stopPropagation(),children:u.jsxs("form",{onSubmit:i,children:[u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Editar Perfil"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fotoUrl",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"URL de la Foto de Perfil"}),u.jsx("input",{type:"url",id:"fotoUrl",name:"fotoUrl",value:r.fotoUrl,onChange:a,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"https://ejemplo.com/foto.jpg"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"nombreCompleto",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Completo"}),u.jsx("input",{type:"text",id:"nombreCompleto",name:"nombreCompleto",value:r.nombreCompleto,onChange:a,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Correo Electrnico"}),u.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:a,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Funcin"}),u.jsx("p",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-md text-slate-700 dark:text-slate-300",children:t.profile})]})]})]}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end items-center gap-3",children:[u.jsx("button",{type:"button",onClick:e,className:"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700",children:"Guardar Cambios"})]})]})})})},D3="usuariosLiceo",s$=({user:t,onClose:e,onSave:n})=>{const[r,s]=ee.useState(""),[a,i]=ee.useState(""),[o,l]=ee.useState(null),A=d=>{if(d.preventDefault(),l(null),!r){l("La contrasea no puede estar en blanco.");return}if(r!==a){l("Las contraseas no coinciden.");return}const h={...t,password:r};try{const p=localStorage.getItem(D3);let g=p?JSON.parse(p):[];const w=g.findIndex(b=>b.id===t.id);w>-1?g[w]=h:g.push(h),localStorage.setItem(D3,JSON.stringify(g)),n(h),e()}catch(p){console.error("Failed to save new password:",p),l("No se pudo guardar la nueva contrasea.")}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:e,children:u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md animate-fade-in-up",onClick:d=>d.stopPropagation(),children:u.jsxs("form",{onSubmit:A,children:[u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Configuracin de Cuenta"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Usuario"}),u.jsx("p",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-md text-slate-700 dark:text-slate-300",children:t.email})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Nueva Contrasea"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"newPassword",name:"newPassword",type:"password",required:!0,value:r,onChange:d=>s(d.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Confirmar Nueva Contrasea"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:a,onChange:d=>i(d.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),o&&u.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-3 text-sm",role:"alert",children:u.jsx("p",{children:o})})]})]}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end items-center gap-3",children:[u.jsx("button",{type:"button",onClick:e,className:"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700",children:"Cambiar Contrasea"})]})]})})})},U3="anunciosMuro",L3="mensajesInternos",M3="lir-read-status",a$=({user:t})=>{if(t.fotoUrl)return u.jsx("img",{src:t.fotoUrl,alt:t.nombreCompleto||"Avatar de usuario",className:"h-9 w-9 rounded-full object-cover"});const e=t.nombreCompleto||"",n=String(e).split(" ").filter(r=>r).map(r=>r[0]).join("").toUpperCase();return u.jsx("div",{className:"h-9 w-9 rounded-full bg-amber-500 text-white flex items-center justify-center font-bold",children:n.substring(0,2)})},i$=({currentUser:t,onLogout:e,onNavigate:n,onUserUpdate:r,onChangeProfile:s,toggleSidebar:a,unreadMessagesCount:i,refreshUnreadCount:o})=>{const[l,A]=ee.useState([]),[d,h]=ee.useState([]),[p,g]=ee.useState(!1),[w,b]=ee.useState(!1),E=ee.useCallback(()=>{try{const F=localStorage.getItem(`${M3}-${t.id}`);return F?JSON.parse(F):{announcements:[],messages:[]}}catch{return{announcements:[],messages:[]}}},[t.id]),T=ee.useCallback(F=>{try{localStorage.setItem(`${M3}-${t.id}`,JSON.stringify(F))}catch(R){console.error("Failed to set read status:",R)}},[t.id]);ee.useEffect(()=>{const F=JSON.parse(localStorage.getItem(U3)||"[]"),R=E();A(F.filter(S=>!R.announcements.includes(S.id)));const L=JSON.parse(localStorage.getItem(L3)||"[]");h(L.filter(S=>S.para===t.email).sort((S,N)=>new Date(N.fecha).getTime()-new Date(S.fecha).getTime()).slice(0,5))},[t.id,E,i]);const I=()=>{const F=E(),R=JSON.parse(localStorage.getItem(U3)||"[]").map(L=>L.id);F.announcements=R,T(F),A([])},k=()=>{const F=E(),L=JSON.parse(localStorage.getItem(L3)||"[]").filter(S=>S.para===t.email).map(S=>S.id);F.messages=[...new Set([...F.messages,...L])],T(F),o()};return u.jsxs(u.Fragment,{children:[u.jsx("header",{className:"bg-white shadow-md sticky top-0 z-40 h-16",children:u.jsxs("div",{className:"container mx-auto px-4 h-full flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:"text-slate-600 dark:text-slate-300 md:hidden mr-2",onClick:a,children:u.jsx(MW,{})}),u.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>n("Dashboard"),children:[u.jsxs("svg",{className:"w-8 h-8 text-slate-700 dark:text-slate-200",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20V6.5A2.5 2.5 0 0 0 17.5 4h-11A2.5 2.5 0 0 0 4 6.5v13Z",stroke:"currentColor",strokeWidth:"1.5"}),u.jsx("path",{d:"M16 4.5V17",stroke:"currentColor",strokeWidth:"1.5"})]}),u.jsx("span",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 hidden sm:block",children:"Gestin LIR"})]})]}),u.jsx("div",{className:"flex-1 flex justify-center",children:u.jsx("button",{onClick:()=>n("Calendario Acadmico"),className:"p-2.5 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300",title:"Calendario Acadmico",children:u.jsx(PW,{})})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(iC,{onOpen:I,trigger:u.jsxs("button",{className:"relative p-2 rounded-full bg-slate-100 hover:bg-slate-200 text-slate-600 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-300 transition-colors",title:"Notificaciones",children:[u.jsx(Wp,{}),l.length>0&&u.jsx("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:l.length})]}),children:u.jsxs("div",{className:"p-2",children:[u.jsx("h3",{className:"font-semibold px-2 pb-1 border-b dark:border-slate-600 text-slate-800 dark:text-slate-200",children:"Anuncios Recientes"}),u.jsxs("ul",{className:"mt-1",children:[l.slice(0,3).map(F=>u.jsxs("li",{className:"p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600 text-sm",children:[u.jsx("p",{className:"font-bold dark:text-slate-200",children:F.titulo}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 truncate",children:F.mensaje})]},F.id)),l.length===0&&u.jsx("li",{className:"p-2 text-sm text-slate-500 dark:text-slate-400",children:"No hay anuncios nuevos."})]}),u.jsx("button",{onClick:()=>n("Muro de Anuncios"),className:"w-full mt-2 text-center text-sm font-semibold text-amber-600 hover:underline p-2",children:"Ver todo"})]})}),u.jsx(iC,{onOpen:k,trigger:u.jsxs("button",{className:"relative p-2 rounded-full bg-slate-100 hover:bg-slate-200 text-slate-600 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-300 transition-colors",title:"Mensajes",children:[u.jsx($p,{}),i>0&&u.jsx("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:i})]}),children:u.jsxs("div",{className:"p-2",children:[u.jsx("h3",{className:"font-semibold px-2 pb-1 border-b dark:border-slate-600 text-slate-800 dark:text-slate-200",children:"Mensajes"}),u.jsxs("ul",{className:"mt-1",children:[d.slice(0,3).map(F=>u.jsxs("li",{className:"p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600 text-sm",children:[u.jsxs("p",{className:"font-bold dark:text-slate-200",children:["De: ",F.de]}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 truncate",children:F.asunto})]},F.id)),d.length===0&&u.jsx("li",{className:"p-2 text-sm text-slate-500 dark:text-slate-400",children:"No hay mensajes recientes."})]}),u.jsx("button",{onClick:()=>n("Mensajera Interna"),className:"w-full mt-2 text-center text-sm font-semibold text-amber-600 hover:underline p-2",children:"Ir a la bandeja"})]})}),u.jsx(iC,{trigger:u.jsx("button",{className:"p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:u.jsx(a$,{user:t})}),children:u.jsxs("div",{className:"p-2",children:[u.jsxs("div",{className:"px-2 py-2 border-b dark:border-slate-600",children:[u.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:t.nombreCompleto}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:t.profile})]}),u.jsxs("ul",{className:"mt-2 text-slate-700 dark:text-slate-300",children:[u.jsx("li",{children:u.jsx("button",{onClick:()=>g(!0),className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Editar Perfil"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>b(!0),className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Configuracin"})}),t.email==="subdi@lir.cl"&&u.jsx("li",{children:u.jsx("button",{onClick:s,className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Cambiar Perfil"})}),u.jsx("li",{children:u.jsx("button",{onClick:e,className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Cerrar Sesin"})})]})]})})]})]})}),p&&u.jsx(r$,{user:t,onClose:()=>g(!1),onSave:r}),w&&u.jsx(s$,{user:t,onClose:()=>b(!1),onSave:r})]})},o$=Array.from({length:12},(t,e)=>e+1),l$="usuariosLiceo",P3="reemplazosDocentes",j3={docenteAusente:"",asignaturaAusente:"",curso:"",diaAusencia:"",bloquesAfectados:[],docenteReemplazante:"",asignaturaReemplazante:""},c$=({selectedBlocks:t,onChange:e,legend:n})=>u.jsxs("fieldset",{children:[u.jsx("legend",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-2",children:n}),u.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-2",children:o$.map(r=>u.jsxs("label",{className:"flex items-center space-x-2 p-2 border rounded-lg hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-700 transition-colors",children:[u.jsx("input",{type:"checkbox",value:r,checked:t.includes(r),onChange:e,className:"h-5 w-5 rounded text-amber-500 focus:ring-amber-400 bg-slate-200 dark:bg-slate-600 border-slate-300 dark:border-slate-500"}),u.jsx("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:r})]},r))})]}),A$=()=>{const[t,e]=ee.useState(()=>{try{const E=localStorage.getItem(P3);return E?JSON.parse(E):[]}catch(E){return console.error("Error al leer reemplazos de localStorage",E),[]}}),[n,r]=ee.useState([]),[s,a]=ee.useState(j3),[i,o]=ee.useState(""),[l,A]=ee.useState(null);ee.useEffect(()=>{try{const E=localStorage.getItem(l$);if(E){const I=JSON.parse(E).filter(k=>k.profile===en.PROFESORADO).map(k=>k.nombreCompleto).sort();r(I)}}catch(E){console.error("Error al cargar profesores desde localStorage",E)}},[]),ee.useEffect(()=>{try{localStorage.setItem(P3,JSON.stringify(t))}catch(E){console.error("Error al guardar reemplazos en localStorage",E)}},[t]);const d=ee.useCallback(E=>{const{name:T,value:I}=E.target;a(k=>({...k,[T]:I}))},[]),h=ee.useCallback(E=>{const T=parseInt(E.target.value,10);a(I=>{const k=I.bloquesAfectados,F=k.includes(T)?k.filter(R=>R!==T):[...k,T].sort((R,L)=>R-L);return{...I,bloquesAfectados:F}})},[]),p=ee.useCallback(E=>{E.preventDefault(),A(null);const{docenteAusente:T,asignaturaAusente:I,curso:k,diaAusencia:F,bloquesAfectados:R,docenteReemplazante:L,asignaturaReemplazante:S}=s;if(!T||!I||!k||!F||!L||!S||R.length===0){A("Todos los campos son obligatorios y debe seleccionar al menos un bloque.");return}const N=I.trim().toLowerCase()===S.trim().toLowerCase()?"Hora realizada":"Hora cubierta, no realizada",B={id:crypto.randomUUID(),...s,resultado:N};e(H=>[B,...H]),a(j3)},[s]),g=ee.useCallback(E=>{window.confirm("Est seguro de que desea eliminar este registro?")&&e(T=>T.filter(I=>I.id!==E))},[]),w=ee.useMemo(()=>{if(!i)return t;const E=i.toLowerCase();return t.filter(T=>T.docenteAusente.toLowerCase().includes(E)||T.docenteReemplazante.toLowerCase().includes(E)||T.diaAusencia.includes(E)||T.curso.toLowerCase().includes(E))},[t,i]),b="w-full border-slate-300 rounded-md shadow-sm focus:ring-amber-400 focus:border-amber-400 dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Registro de Inasistencias y Reemplazos"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Complete el formulario para registrar una nueva suplencia."}),u.jsxs("form",{onSubmit:p,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2",children:"Docente Ausente"}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"docenteAusente",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre"}),u.jsxs("select",{name:"docenteAusente",value:s.docenteAusente,onChange:d,className:b,children:[u.jsx("option",{value:"",children:"Seleccione un docente"}),n.map(E=>u.jsx("option",{value:E,children:E},E))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"asignaturaAusente",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),u.jsxs("select",{name:"asignaturaAusente",value:s.asignaturaAusente,onChange:d,className:b,children:[u.jsx("option",{value:"",children:"Seleccione una asignatura"}),zo.map(E=>u.jsx("option",{value:E,children:E},E))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),u.jsxs("select",{name:"curso",value:s.curso,onChange:d,className:b,children:[u.jsx("option",{value:"",children:"Seleccione un curso"}),Xs.map(E=>u.jsx("option",{value:E,children:E},E))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"diaAusencia",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Da Ausencia"}),u.jsx("input",{type:"date",name:"diaAusencia",value:s.diaAusencia,onChange:d,className:b})]}),u.jsx(c$,{legend:"Bloques Afectados",selectedBlocks:s.bloquesAfectados,onChange:h})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2",children:"Docente Reemplazante"}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"docenteReemplazante",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre"}),u.jsxs("select",{name:"docenteReemplazante",value:s.docenteReemplazante,onChange:d,className:b,children:[u.jsx("option",{value:"",children:"Seleccione un docente"}),n.map(E=>u.jsx("option",{value:E,children:E},E))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"asignaturaReemplazante",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),u.jsxs("select",{name:"asignaturaReemplazante",value:s.asignaturaReemplazante,onChange:d,className:b,children:[u.jsx("option",{value:"",children:"Seleccione una asignatura"}),zo.map(E=>u.jsx("option",{value:E,children:E},E))]})]})]})]}),l&&u.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md",children:l}),u.jsx("div",{className:"pt-4 text-right",children:u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-all duration-200 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Registrar Reemplazo"})})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Reemplazos"}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{type:"text",placeholder:"Buscar por docente, curso o fecha (YYYY-MM-DD)...",value:i,onChange:E=>o(E.target.value),className:b+" md:w-1/2"})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Fecha"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Curso"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Docente Ausente"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Docente Reemplazante"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Bloques"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Resultado"}),u.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Acciones"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:w.length>0?w.map(E=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:E.diaAusencia}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:E.curso}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:[E.docenteAusente,u.jsx("br",{}),u.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:E.asignaturaAusente})]}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:[E.docenteReemplazante,u.jsx("br",{}),u.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:E.asignaturaReemplazante})]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:E.bloquesAfectados.join(", ")}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:u.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${E.resultado==="Hora realizada"?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300"}`,children:E.resultado})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm",children:u.jsx("button",{onClick:()=>g(E.id),title:"Eliminar registro",className:"p-1 text-red-600 hover:text-red-800 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},E.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-slate-500 dark:text-slate-400",children:"No se encontraron registros."})})})]})})]})]})},u$="acompanamientoDocenteRecords",d$="eventosCalendario",f$="acompanamientoDocenteCustomRubrica",nA=({title:t,value:e,description:n})=>u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:t}),u.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mt-2",children:e}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:n})]}),Ff=({title:t,data:e,colorClass:n,valueFormatter:r=s=>String(s)})=>{const s=ee.useMemo(()=>e.map(i=>typeof i.value=="number"?i.value:parseFloat(String(i.value))||0),[e]),a=ee.useMemo(()=>Math.max(...s,1),[s]);return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:t}),u.jsx("div",{className:"space-y-4",children:e.length>0?e.sort((i,o)=>(typeof o.value=="number"?o.value:0)-(typeof i.value=="number"?i.value:0)).map((i,o)=>{const l=typeof i.value=="number"?i.value:parseFloat(String(i.value))||0;return u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[u.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:i.label}),u.jsx("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:r(i.value)})]}),u.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:u.jsx("div",{className:`${n} h-3 rounded-full transition-all duration-500 ease-out`,style:{width:`${l/a*100}%`}})})]},i.label+o)}):u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No hay datos para mostrar."})})]})},h$=()=>{const[t,e]=ee.useState([]),[n,r]=ee.useState([]),[s,a]=ee.useState([]),[i,o]=ee.useState(U2);ee.useEffect(()=>{const h=()=>{try{const p=localStorage.getItem("reemplazosDocentes");p&&e(JSON.parse(p));const g=localStorage.getItem(u$);g&&r(JSON.parse(g));const w=localStorage.getItem(d$);w&&a(JSON.parse(w));const b=localStorage.getItem(f$);o(b?JSON.parse(b):U2)}catch(p){console.error("Error al leer datos de localStorage para el dashboard",p)}};return h(),window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)},[]);const l=ee.useMemo(()=>{const h=t.length;if(h===0)return{totalInasistencias:0,horasRealizadas:0,horasCubiertas:0,tasaCobertura:"0%",inasistenciasPorDocente:[],reemplazosPorDocente:[],distribucionResultados:[],inasistenciasPorCurso:[]};const p=t.filter(k=>k.resultado==="Hora realizada").length,g=h-p,w=`${(p/h*100).toFixed(1)}%`,b=(k,F)=>k.reduce((R,L)=>{const S=L[F];return typeof S=="string"&&(R[S]=(R[S]||0)+1),R},{}),E=b(t,"docenteAusente"),T=b(t,"docenteReemplazante"),I=b(t,"curso");return{totalInasistencias:h,horasRealizadas:p,horasCubiertas:g,tasaCobertura:w,inasistenciasPorDocente:Object.entries(E).map(([k,F])=>({label:k,value:F})),reemplazosPorDocente:Object.entries(T).map(([k,F])=>({label:k,value:F})),inasistenciasPorCurso:Object.entries(I).map(([k,F])=>({label:k,value:F})),distribucionResultados:[{label:"Hora Realizada",value:p},{label:"Hora Cubierta",value:g}]}},[t]),A=ee.useMemo(()=>{const h=n.length;if(h===0)return{totalAcompanamientos:0,promedioGeneral:"N/A",desempenoPorDocente:[],desempenoPorDominio:[]};const p=new Map;i.forEach(F=>{F.criteria.forEach(R=>{p.set(R.name,F.domain)})});let g=0,w=0;const b={},E={};n.forEach(F=>{b[F.docente]||(b[F.docente]={total:0,count:0}),Object.entries(F.rubricaResultados).forEach(([R,L])=>{g+=L,w++,b[F.docente].total+=L,b[F.docente].count++;const S=p.get(R);S&&(E[S]||(E[S]={total:0,count:0}),E[S].total+=L,E[S].count++)})});const T=w>0?(g/w).toFixed(2):"N/A",I=Object.entries(b).map(([F,R])=>({label:F,value:R.count>0?(R.total/R.count).toFixed(2):0})),k=Object.entries(E).map(([F,R])=>({label:F,value:R.count>0?(R.total/R.count).toFixed(2):0}));return{totalAcompanamientos:h,promedioGeneral:T,desempenoPorDocente:I,desempenoPorDominio:k}},[n,i]),d=ee.useMemo(()=>{const h={[zn.EVALUACION]:0,[zn.ACTO]:0,[zn.ACTIVIDAD_FOCALIZADA]:0,[zn.SALIDA_PEDAGOGICA]:0};for(const g of s)h.hasOwnProperty(g.type)&&h[g.type]++;const p=Object.entries(h).map(([g,w])=>({label:B0[g].label,value:w}));return{totalEvaluaciones:h[zn.EVALUACION],totalActos:h[zn.ACTO],totalActividadesFocalizadas:h[zn.ACTIVIDAD_FOCALIZADA],totalSalidasPedagogicas:h[zn.SALIDA_PEDAGOGICA],distribucionEventos:p}},[s]);return l.totalInasistencias===0&&A.totalAcompanamientos===0&&s.length===0?u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex flex-col items-center justify-center text-center animate-fade-in",children:[u.jsx("span",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Dashboard de Subdireccin"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg max-w-md",children:"An no hay datos para mostrar. Comience por aadir registros en los mdulos correspondientes (Inasistencias, Acompaamiento, etc)."})]}):u.jsxs("div",{className:"space-y-12 animate-fade-in",children:[l.totalInasistencias>0&&u.jsxs("div",{className:"space-y-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Dashboard de Inasistencias"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(nA,{title:"Total Inasistencias",value:l.totalInasistencias,description:"Registros totales"}),u.jsx(nA,{title:"Horas Realizadas",value:l.horasRealizadas,description:"Reemplazo con misma asignatura"}),u.jsx(nA,{title:"Horas Cubiertas",value:l.horasCubiertas,description:"Reemplazo con otra asignatura"}),u.jsx(nA,{title:"Tasa de Cobertura Efectiva",value:l.tasaCobertura,description:"% de horas realizadas"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsx(Ff,{title:"Inasistencias por Docente",data:l.inasistenciasPorDocente,colorClass:"bg-red-400"}),u.jsx(Ff,{title:"Reemplazos por Docente",data:l.reemplazosPorDocente,colorClass:"bg-sky-400"}),u.jsx(Ff,{title:"Inasistencias por Curso",data:l.inasistenciasPorCurso,colorClass:"bg-amber-400"}),u.jsx(Ff,{title:"Distribucin de Resultados",data:l.distribucionResultados,colorClass:"bg-green-400"})]})]}),A.totalAcompanamientos>0&&u.jsxs("div",{className:"space-y-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Dashboard de Acompaamiento Docente"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(nA,{title:"Total Acompaamientos",value:A.totalAcompanamientos,description:"Registros realizados"}),u.jsx(nA,{title:"Promedio General",value:A.promedioGeneral,description:"Calificacin promedio (1-4)"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsx(Ff,{title:"Desempeo Promedio por Docente",data:A.desempenoPorDocente,colorClass:"bg-indigo-400",valueFormatter:h=>Number(h).toFixed(2)}),u.jsx(Ff,{title:"Desempeo Promedio por Dominio",data:A.desempenoPorDominio,colorClass:"bg-teal-400",valueFormatter:h=>Number(h).toFixed(2)})]})]}),s.length>0&&u.jsxs("div",{className:"space-y-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Resumen del Calendario Acadmico"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(nA,{title:"Evaluaciones",value:d.totalEvaluaciones,description:"Eventos registrados"}),u.jsx(nA,{title:"Actos",value:d.totalActos,description:"Eventos registrados"}),u.jsx(nA,{title:"Act. Focalizadas",value:d.totalActividadesFocalizadas,description:"Eventos registrados"}),u.jsx(nA,{title:"Salidas Pedaggicas",value:d.totalSalidasPedagogicas,description:"Eventos registrados"})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:u.jsx(Ff,{title:"Distribucin de Eventos del Calendario",data:d.distribucionEventos,colorClass:"bg-violet-400"})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let m$,p$;function g$(){return{geminiUrl:m$,vertexUrl:p$}}function x$(t,e,n,r){var s,a;if(!(t!=null&&t.baseUrl)){const i=g$();return e?(s=i.vertexUrl)!==null&&s!==void 0?s:n:(a=i.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bh{}function rn(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const a=e[s];return a!=null?String(a):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function v(t,e,n){for(let a=0;a<e.length-1;a++){const i=e[a];if(i.endsWith("[]")){const o=i.slice(0,-2);if(!(o in t))if(Array.isArray(n))t[o]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${i}`);if(Array.isArray(t[o])){const l=t[o];if(Array.isArray(n))for(let A=0;A<l.length;A++){const d=l[A];v(d,e.slice(a+1),n[A])}else for(const A of l)v(A,e.slice(a+1),n)}return}else if(i.endsWith("[0]")){const o=i.slice(0,-3);o in t||(t[o]=[{}]);const l=t[o];v(l[0],e.slice(a+1),n);return}(!t[i]||typeof t[i]!="object")&&(t[i]={}),t=t[i]}const r=e[e.length-1],s=t[r];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function x(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const s=r.slice(0,-2);if(s in t){const a=t[s];return Array.isArray(a)?a.map(i=>x(i,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n_(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var O3;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(O3||(O3={}));var Q3;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Q3||(Q3={}));var Bt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Bt||(Bt={}));var H3;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(H3||(H3={}));var V3;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(V3||(V3={}));var G3;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(G3||(G3={}));var z3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(z3||(z3={}));var K3;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(K3||(K3={}));var q3;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(q3||(q3={}));var W3;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(W3||(W3={}));var $3;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})($3||($3={}));var Y3;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Y3||(Y3={}));var J3;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(J3||(J3={}));var X3;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(X3||(X3={}));var Z3;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Z3||(Z3={}));var ek;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ek||(ek={}));var L2;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(L2||(L2={}));var tk;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(tk||(tk={}));var r_;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(r_||(r_={}));var nk;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(nk||(nk={}));var rk;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(rk||(rk={}));var sk;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(sk||(sk={}));var ak;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ak||(ak={}));var ik;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(ik||(ik={}));var ok;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ok||(ok={}));var lk;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(lk||(lk={}));var ck;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(ck||(ck={}));var Ak;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ak||(Ak={}));var uk;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(uk||(uk={}));var dk;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(dk||(dk={}));var fk;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(fk||(fk={}));var hk;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(hk||(hk={}));var mk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(mk||(mk={}));var pk;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(pk||(pk={}));var gk;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(gk||(gk={}));var xk;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(xk||(xk={}));var vk;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(vk||(vk={}));var yk;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(yk||(yk={}));var wk;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(wk||(wk={}));var bk;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(bk||(bk={}));var Ck;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ck||(Ck={}));var U0;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(U0||(U0={}));class s_{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Np{get text(){var e,n,r,s,a,i,o,l;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let A="",d=!1;const h=[];for(const p of(l=(o=(i=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,w]of Object.entries(p))g!=="text"&&g!=="thought"&&(w!==null||w!==void 0)&&h.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,A+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?A:void 0}get data(){var e,n,r,s,a,i,o,l;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let A="";const d=[];for(const h of(l=(o=(i=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[p,g]of Object.entries(h))p!=="inlineData"&&(g!==null||g!==void 0)&&d.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(A+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),A.length>0?btoa(A):void 0}get functionCalls(){var e,n,r,s,a,i,o,l;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const A=(l=(o=(i=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((A==null?void 0:A.length)!==0)return A}get executableCode(){var e,n,r,s,a,i,o,l,A;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(o=(i=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(A=d==null?void 0:d[0])===null||A===void 0?void 0:A.code}get codeExecutionResult(){var e,n,r,s,a,i,o,l,A;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(o=(i=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(A=d==null?void 0:d[0])===null||A===void 0?void 0:A.output}}class Ek{}class _k{}class v${}class y${}class Sk{}class Tk{}class Bk{}class w${}class Nk{}class kk{}class Ik{}class Fk{}class b${}class C${}class E${}class Rk{}class _${get text(){var e,n,r;let s="",a=!1;const i=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,A]of Object.entries(o))l!=="text"&&l!=="thought"&&A!==null&&i.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;a=!0,s+=o.text}}return i.length>0&&console.warn(`there are non-text parts ${i} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?s:void 0}get data(){var e,n,r;let s="";const a=[];for(const i of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[o,l]of Object.entries(i))o!=="inlineData"&&l!==null&&a.push(o);i.inlineData&&typeof i.inlineData.data=="string"&&(s+=atob(i.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class M2{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new M2;if(r.name=e.name,r.metadata=e.metadata,r.done=e.done,r.error=e.error,n){const s=e.response;if(s){const a=new Nk,i=s.videos;a.generatedVideos=i==null?void 0:i.map(o=>({video:{uri:o.gcsUri,videoBytes:o.bytesBase64Encoded?n_(o.bytesBase64Encoded):void 0,mimeType:o.mimeType}})),a.raiMediaFilteredCount=s.raiMediaFilteredCount,a.raiMediaFilteredReasons=s.raiMediaFilteredReasons,r.response=a}}else{const s=e.response;if(s){const a=new Nk,i=s.generateVideoResponse,o=i==null?void 0:i.generatedSamples;a.generatedVideos=o==null?void 0:o.map(l=>{const A=l.video;return{video:{uri:A==null?void 0:A.uri,videoBytes:A!=null&&A.encodedVideo?n_(A==null?void 0:A.encodedVideo):void 0,mimeType:l.encoding}}}),a.raiMediaFilteredCount=i==null?void 0:i.raiMediaFilteredCount,a.raiMediaFilteredReasons=i==null?void 0:i.raiMediaFilteredReasons,r.response=a}}return r}}class S${get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jr(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function n8(t,e){const n=jr(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function r8(t){return Array.isArray(t)?t.map(e=>P2(e)):[P2(t)]}function P2(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function s8(t){const e=P2(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function a8(t){const e=P2(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Dk(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function i8(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Dk(e)):[Dk(t)]}function a_(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Uk(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Lk(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ri(t){if(t==null)throw new Error("ContentUnion is required");return a_(t)?t:{role:"user",parts:i8(t)}}function o8(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Ri(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Ri(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ri(n)):[Ri(e)]}function Il(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Uk(t)||Lk(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ri(t)]}const e=[],n=[],r=a_(t[0]);for(const s of t){const a=a_(s);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(s);else{if(Uk(s)||Lk(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return r||e.push({role:"user",parts:i8(n)}),e}function T$(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Bt).includes(n[0].toUpperCase())?n[0].toUpperCase():Bt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Bt).includes(r.toUpperCase())?r.toUpperCase():Bt.TYPE_UNSPECIFIED})}}function z0(t){const e={},n=["items"],r=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&T$(t.type,e);for(const[i,o]of Object.entries(t))if(o!=null)if(i=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(Bt).includes(o.toUpperCase())?o.toUpperCase():Bt.TYPE_UNSPECIFIED}else if(n.includes(i))e[i]=z0(o);else if(r.includes(i)){const l=[];for(const A of o){if(A.type=="null"){e.nullable=!0;continue}l.push(z0(A))}e[i]=l}else if(s.includes(i)){const l={};for(const[A,d]of Object.entries(o))l[A]=z0(d);e[i]=l}else{if(i==="additionalProperties")continue;e[i]=o}return e}function C5(t){return z0(t)}function E5(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function _5(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Rm(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=z0(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=z0(e.response));return t}function Dm(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function B$(t,e,n,r=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function Su(t,e){if(typeof e!="string")throw new Error("name must be a string");return B$(t,e,"cachedContents")}function l8(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ch(t){return n_(t)}function N$(t){return t!=null&&typeof t=="object"&&"name"in t}function k$(t){return t!=null&&typeof t=="object"&&"video"in t}function I$(t){return t!=null&&typeof t=="object"&&"uri"in t}function c8(t){var e;let n;if(N$(t)&&(n=t.name),!(I$(t)&&(n=t.uri,n===void 0))&&!(k$(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function A8(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function u8(t){for(const e of["models","tunedModels","publisherModels"])if(F$(t,e))return t[e];return[]}function F$(t,e){return t!==null&&typeof t=="object"&&e in t}function R$(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function D$(t,e={}){const n=[],r=new Set;for(const s of t){const a=s.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const i=R$(s,e);i.functionDeclarations&&n.push(...i.functionDeclarations)}return{functionDeclarations:n}}function d8(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function U$(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Um(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function f8(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L$(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function M$(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["data"]);n!=null&&v(e,["data"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function P$(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function j$(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],L$(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],M$(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],P$(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function h8(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>j$(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function O$(t){const e={},n=x(t,["anyOf"]);n!=null&&v(e,["anyOf"],n);const r=x(t,["default"]);r!=null&&v(e,["default"],r);const s=x(t,["description"]);s!=null&&v(e,["description"],s);const a=x(t,["enum"]);a!=null&&v(e,["enum"],a);const i=x(t,["example"]);i!=null&&v(e,["example"],i);const o=x(t,["format"]);o!=null&&v(e,["format"],o);const l=x(t,["items"]);l!=null&&v(e,["items"],l);const A=x(t,["maxItems"]);A!=null&&v(e,["maxItems"],A);const d=x(t,["maxLength"]);d!=null&&v(e,["maxLength"],d);const h=x(t,["maxProperties"]);h!=null&&v(e,["maxProperties"],h);const p=x(t,["maximum"]);p!=null&&v(e,["maximum"],p);const g=x(t,["minItems"]);g!=null&&v(e,["minItems"],g);const w=x(t,["minLength"]);w!=null&&v(e,["minLength"],w);const b=x(t,["minProperties"]);b!=null&&v(e,["minProperties"],b);const E=x(t,["minimum"]);E!=null&&v(e,["minimum"],E);const T=x(t,["nullable"]);T!=null&&v(e,["nullable"],T);const I=x(t,["pattern"]);I!=null&&v(e,["pattern"],I);const k=x(t,["properties"]);k!=null&&v(e,["properties"],k);const F=x(t,["propertyOrdering"]);F!=null&&v(e,["propertyOrdering"],F);const R=x(t,["required"]);R!=null&&v(e,["required"],R);const L=x(t,["title"]);L!=null&&v(e,["title"],L);const S=x(t,["type"]);return S!=null&&v(e,["type"],S),e}function Q$(t){const e={};if(x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=x(t,["category"]);n!=null&&v(e,["category"],n);const r=x(t,["threshold"]);return r!=null&&v(e,["threshold"],r),e}function H$(t){const e={},n=x(t,["behavior"]);n!=null&&v(e,["behavior"],n);const r=x(t,["description"]);r!=null&&v(e,["description"],r);const s=x(t,["name"]);s!=null&&v(e,["name"],s);const a=x(t,["parameters"]);a!=null&&v(e,["parameters"],a);const i=x(t,["parametersJsonSchema"]);i!=null&&v(e,["parametersJsonSchema"],i);const o=x(t,["response"]);o!=null&&v(e,["response"],o);const l=x(t,["responseJsonSchema"]);return l!=null&&v(e,["responseJsonSchema"],l),e}function V$(t){const e={},n=x(t,["startTime"]);n!=null&&v(e,["startTime"],n);const r=x(t,["endTime"]);return r!=null&&v(e,["endTime"],r),e}function G$(t){const e={},n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],V$(n)),e}function z$(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["dynamicThreshold"]);return r!=null&&v(e,["dynamicThreshold"],r),e}function K$(t){const e={},n=x(t,["dynamicRetrievalConfig"]);return n!=null&&v(e,["dynamicRetrievalConfig"],z$(n)),e}function q$(){return{}}function W$(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(A=>H$(A))),v(e,["functionDeclarations"],l)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearch"]);r!=null&&v(e,["googleSearch"],G$(r));const s=x(t,["googleSearchRetrieval"]);if(s!=null&&v(e,["googleSearchRetrieval"],K$(s)),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(x(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");x(t,["urlContext"])!=null&&v(e,["urlContext"],q$());const i=x(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const o=x(t,["computerUse"]);return o!=null&&v(e,["computerUse"],o),e}function $$(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["allowedFunctionNames"]);return r!=null&&v(e,["allowedFunctionNames"],r),e}function Y$(t){const e={},n=x(t,["latitude"]);n!=null&&v(e,["latitude"],n);const r=x(t,["longitude"]);return r!=null&&v(e,["longitude"],r),e}function J$(t){const e={},n=x(t,["latLng"]);n!=null&&v(e,["latLng"],Y$(n));const r=x(t,["languageCode"]);return r!=null&&v(e,["languageCode"],r),e}function X$(t){const e={},n=x(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],$$(n));const r=x(t,["retrievalConfig"]);return r!=null&&v(e,["retrievalConfig"],J$(r)),e}function Z$(t){const e={},n=x(t,["voiceName"]);return n!=null&&v(e,["voiceName"],n),e}function m8(t){const e={},n=x(t,["prebuiltVoiceConfig"]);return n!=null&&v(e,["prebuiltVoiceConfig"],Z$(n)),e}function eY(t){const e={},n=x(t,["speaker"]);n!=null&&v(e,["speaker"],n);const r=x(t,["voiceConfig"]);return r!=null&&v(e,["voiceConfig"],m8(r)),e}function tY(t){const e={},n=x(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>eY(s))),v(e,["speakerVoiceConfigs"],r)}return e}function nY(t){const e={},n=x(t,["voiceConfig"]);n!=null&&v(e,["voiceConfig"],m8(n));const r=x(t,["multiSpeakerVoiceConfig"]);r!=null&&v(e,["multiSpeakerVoiceConfig"],tY(r));const s=x(t,["languageCode"]);return s!=null&&v(e,["languageCode"],s),e}function rY(t){const e={},n=x(t,["includeThoughts"]);n!=null&&v(e,["includeThoughts"],n);const r=x(t,["thinkingBudget"]);return r!=null&&v(e,["thinkingBudget"],r),e}function sY(t,e,n){const r={},s=x(e,["systemInstruction"]);n!==void 0&&s!=null&&v(n,["systemInstruction"],h8(Ri(s)));const a=x(e,["temperature"]);a!=null&&v(r,["temperature"],a);const i=x(e,["topP"]);i!=null&&v(r,["topP"],i);const o=x(e,["topK"]);o!=null&&v(r,["topK"],o);const l=x(e,["candidateCount"]);l!=null&&v(r,["candidateCount"],l);const A=x(e,["maxOutputTokens"]);A!=null&&v(r,["maxOutputTokens"],A);const d=x(e,["stopSequences"]);d!=null&&v(r,["stopSequences"],d);const h=x(e,["responseLogprobs"]);h!=null&&v(r,["responseLogprobs"],h);const p=x(e,["logprobs"]);p!=null&&v(r,["logprobs"],p);const g=x(e,["presencePenalty"]);g!=null&&v(r,["presencePenalty"],g);const w=x(e,["frequencyPenalty"]);w!=null&&v(r,["frequencyPenalty"],w);const b=x(e,["seed"]);b!=null&&v(r,["seed"],b);const E=x(e,["responseMimeType"]);E!=null&&v(r,["responseMimeType"],E);const T=x(e,["responseSchema"]);T!=null&&v(r,["responseSchema"],O$(C5(T)));const I=x(e,["responseJsonSchema"]);if(I!=null&&v(r,["responseJsonSchema"],I),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=x(e,["safetySettings"]);if(n!==void 0&&k!=null){let P=k;Array.isArray(P)&&(P=P.map(M=>Q$(M))),v(n,["safetySettings"],P)}const F=x(e,["tools"]);if(n!==void 0&&F!=null){let P=Dm(F);Array.isArray(P)&&(P=P.map(M=>W$(Rm(M)))),v(n,["tools"],P)}const R=x(e,["toolConfig"]);if(n!==void 0&&R!=null&&v(n,["toolConfig"],X$(R)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=x(e,["cachedContent"]);n!==void 0&&L!=null&&v(n,["cachedContent"],Su(t,L));const S=x(e,["responseModalities"]);S!=null&&v(r,["responseModalities"],S);const N=x(e,["mediaResolution"]);N!=null&&v(r,["mediaResolution"],N);const B=x(e,["speechConfig"]);if(B!=null&&v(r,["speechConfig"],nY(E5(B))),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const H=x(e,["thinkingConfig"]);return H!=null&&v(r,["thinkingConfig"],rY(H)),r}function aY(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["request","model"],jr(t,r));const s=x(e,["contents"]);if(s!=null){let i=Il(s);Array.isArray(i)&&(i=i.map(o=>h8(o))),v(n,["request","contents"],i)}const a=x(e,["config"]);return a!=null&&v(n,["request","generationConfig"],sY(t,a,n)),n}function iY(t,e){const n={};if(x(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=x(e,["fileName"]);r!=null&&v(n,["fileName"],r);const s=x(e,["inlinedRequests"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>aY(t,i))),v(n,["requests","requests"],a)}return n}function oY(t,e){const n={},r=x(t,["displayName"]);if(e!==void 0&&r!=null&&v(e,["batch","displayName"],r),x(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function lY(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],jr(t,r));const s=x(e,["src"]);s!=null&&v(n,["batch","inputConfig"],iY(t,d8(t,s)));const a=x(e,["config"]);return a!=null&&v(n,["config"],oY(a,n)),n}function cY(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Um(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function AY(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Um(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function uY(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);if(e!==void 0&&s!=null&&v(e,["_query","pageToken"],s),x(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function dY(t){const e={},n=x(t,["config"]);return n!=null&&v(e,["config"],uY(n,e)),e}function fY(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Um(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function hY(t){const e={},n=x(t,["format"]);n!=null&&v(e,["instancesFormat"],n);const r=x(t,["gcsUri"]);r!=null&&v(e,["gcsSource","uris"],r);const s=x(t,["bigqueryUri"]);if(s!=null&&v(e,["bigquerySource","inputUri"],s),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function mY(t){const e={},n=x(t,["format"]);n!=null&&v(e,["predictionsFormat"],n);const r=x(t,["gcsUri"]);r!=null&&v(e,["gcsDestination","outputUriPrefix"],r);const s=x(t,["bigqueryUri"]);if(s!=null&&v(e,["bigqueryDestination","outputUri"],s),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function pY(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const s=x(t,["dest"]);return e!==void 0&&s!=null&&v(e,["outputConfig"],mY(U$(s))),n}function gY(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["model"],jr(t,r));const s=x(e,["src"]);s!=null&&v(n,["inputConfig"],hY(d8(t,s)));const a=x(e,["config"]);return a!=null&&v(n,["config"],pY(a,n)),n}function xY(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Um(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function vY(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Um(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function yY(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);e!==void 0&&s!=null&&v(e,["_query","pageToken"],s);const a=x(t,["filter"]);return e!==void 0&&a!=null&&v(e,["_query","filter"],a),n}function wY(t){const e={},n=x(t,["config"]);return n!=null&&v(e,["config"],yY(n,e)),e}function bY(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Um(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function CY(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function EY(t){const e={},n=x(t,["data"]);n!=null&&v(e,["data"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function _Y(t){const e={},n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function SY(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],CY(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],EY(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],_Y(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function TY(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>SY(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function BY(t){const e={},n=x(t,["citationSources"]);return n!=null&&v(e,["citations"],n),e}function NY(t){const e={},n=x(t,["retrievedUrl"]);n!=null&&v(e,["retrievedUrl"],n);const r=x(t,["urlRetrievalStatus"]);return r!=null&&v(e,["urlRetrievalStatus"],r),e}function kY(t){const e={},n=x(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>NY(s))),v(e,["urlMetadata"],r)}return e}function IY(t){const e={},n=x(t,["content"]);n!=null&&v(e,["content"],TY(n));const r=x(t,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],BY(r));const s=x(t,["tokenCount"]);s!=null&&v(e,["tokenCount"],s);const a=x(t,["finishReason"]);a!=null&&v(e,["finishReason"],a);const i=x(t,["urlContextMetadata"]);i!=null&&v(e,["urlContextMetadata"],kY(i));const o=x(t,["avgLogprobs"]);o!=null&&v(e,["avgLogprobs"],o);const l=x(t,["groundingMetadata"]);l!=null&&v(e,["groundingMetadata"],l);const A=x(t,["index"]);A!=null&&v(e,["index"],A);const d=x(t,["logprobsResult"]);d!=null&&v(e,["logprobsResult"],d);const h=x(t,["safetyRatings"]);return h!=null&&v(e,["safetyRatings"],h),e}function FY(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>IY(l))),v(e,["candidates"],o)}const s=x(t,["modelVersion"]);s!=null&&v(e,["modelVersion"],s);const a=x(t,["promptFeedback"]);a!=null&&v(e,["promptFeedback"],a);const i=x(t,["usageMetadata"]);return i!=null&&v(e,["usageMetadata"],i),e}function p8(t){const e={},n=x(t,["details"]);n!=null&&v(e,["details"],n);const r=x(t,["code"]);r!=null&&v(e,["code"],r);const s=x(t,["message"]);return s!=null&&v(e,["message"],s),e}function RY(t){const e={},n=x(t,["response"]);n!=null&&v(e,["response"],FY(n));const r=x(t,["error"]);return r!=null&&v(e,["error"],p8(r)),e}function DY(t){const e={},n=x(t,["responsesFile"]);n!=null&&v(e,["fileName"],n);const r=x(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>RY(a))),v(e,["inlinedResponses"],s)}return e}function i_(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["metadata","displayName"]);r!=null&&v(e,["displayName"],r);const s=x(t,["metadata","state"]);s!=null&&v(e,["state"],f8(s));const a=x(t,["metadata","createTime"]);a!=null&&v(e,["createTime"],a);const i=x(t,["metadata","endTime"]);i!=null&&v(e,["endTime"],i);const o=x(t,["metadata","updateTime"]);o!=null&&v(e,["updateTime"],o);const l=x(t,["metadata","model"]);l!=null&&v(e,["model"],l);const A=x(t,["metadata","output"]);return A!=null&&v(e,["dest"],DY(A)),e}function UY(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const s=x(t,["operations"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>i_(i))),v(e,["batchJobs"],a)}return e}function LY(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["done"]);r!=null&&v(e,["done"],r);const s=x(t,["error"]);return s!=null&&v(e,["error"],p8(s)),e}function g8(t){const e={},n=x(t,["details"]);n!=null&&v(e,["details"],n);const r=x(t,["code"]);r!=null&&v(e,["code"],r);const s=x(t,["message"]);return s!=null&&v(e,["message"],s),e}function MY(t){const e={},n=x(t,["instancesFormat"]);n!=null&&v(e,["format"],n);const r=x(t,["gcsSource","uris"]);r!=null&&v(e,["gcsUri"],r);const s=x(t,["bigquerySource","inputUri"]);return s!=null&&v(e,["bigqueryUri"],s),e}function PY(t){const e={},n=x(t,["predictionsFormat"]);n!=null&&v(e,["format"],n);const r=x(t,["gcsDestination","outputUriPrefix"]);r!=null&&v(e,["gcsUri"],r);const s=x(t,["bigqueryDestination","outputUri"]);return s!=null&&v(e,["bigqueryUri"],s),e}function o_(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["displayName"]);r!=null&&v(e,["displayName"],r);const s=x(t,["state"]);s!=null&&v(e,["state"],f8(s));const a=x(t,["error"]);a!=null&&v(e,["error"],g8(a));const i=x(t,["createTime"]);i!=null&&v(e,["createTime"],i);const o=x(t,["startTime"]);o!=null&&v(e,["startTime"],o);const l=x(t,["endTime"]);l!=null&&v(e,["endTime"],l);const A=x(t,["updateTime"]);A!=null&&v(e,["updateTime"],A);const d=x(t,["model"]);d!=null&&v(e,["model"],d);const h=x(t,["inputConfig"]);h!=null&&v(e,["src"],MY(h));const p=x(t,["outputConfig"]);return p!=null&&v(e,["dest"],PY(p)),e}function jY(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const s=x(t,["batchPredictionJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>o_(i))),v(e,["batchJobs"],a)}return e}function OY(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["done"]);r!=null&&v(e,["done"],r);const s=x(t,["error"]);return s!=null&&v(e,["error"],g8(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oh;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(oh||(oh={}));class _x{constructor(e,n,r,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,s)}init(e,n,r){var s,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let i={config:{}};!r||Object.keys(r).length===0?i={config:{}}:typeof r=="object"?i=Object.assign({},r):i=r,i.config&&(i.config.pageToken=n.nextPageToken),this.paramsInternal=i,this.pageInternalSize=(a=(s=i.config)===null||s===void 0?void 0:s.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QY extends bh{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const s=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${s}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new _x(oh.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=gY(this.apiClient,e);return o=rn("batchPredictionJobs",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>o_(d))}else{const A=lY(this.apiClient,e);return o=rn("{model}:batchGenerateContent",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>i_(d))}}async get(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=xY(this.apiClient,e);return o=rn("batchPredictionJobs/{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>o_(d))}else{const A=cY(this.apiClient,e);return o=rn("batches/{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>i_(d))}}async cancel(e){var n,r,s,a;let i="",o={};if(this.apiClient.isVertexAI()){const l=vY(this.apiClient,e);i=rn("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=AY(this.apiClient,e);i=rn("batches/{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=wY(e);return o=rn("batchPredictionJobs",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=jY(d),p=new Rk;return Object.assign(p,h),p})}else{const A=dY(e);return o=rn("batches",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=UY(d),p=new Rk;return Object.assign(p,h),p})}}async delete(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=bY(this.apiClient,e);return o=rn("batchPredictionJobs/{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>OY(d))}else{const A=fY(this.apiClient,e);return o=rn("batches/{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>LY(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HY(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function VY(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["data"]);n!=null&&v(e,["data"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function GY(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function zY(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],HY(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],VY(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],GY(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function Mk(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>zY(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function KY(t){const e={},n=x(t,["behavior"]);n!=null&&v(e,["behavior"],n);const r=x(t,["description"]);r!=null&&v(e,["description"],r);const s=x(t,["name"]);s!=null&&v(e,["name"],s);const a=x(t,["parameters"]);a!=null&&v(e,["parameters"],a);const i=x(t,["parametersJsonSchema"]);i!=null&&v(e,["parametersJsonSchema"],i);const o=x(t,["response"]);o!=null&&v(e,["response"],o);const l=x(t,["responseJsonSchema"]);return l!=null&&v(e,["responseJsonSchema"],l),e}function qY(t){const e={},n=x(t,["startTime"]);n!=null&&v(e,["startTime"],n);const r=x(t,["endTime"]);return r!=null&&v(e,["endTime"],r),e}function WY(t){const e={},n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],qY(n)),e}function $Y(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["dynamicThreshold"]);return r!=null&&v(e,["dynamicThreshold"],r),e}function YY(t){const e={},n=x(t,["dynamicRetrievalConfig"]);return n!=null&&v(e,["dynamicRetrievalConfig"],$Y(n)),e}function JY(){return{}}function XY(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(A=>KY(A))),v(e,["functionDeclarations"],l)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearch"]);r!=null&&v(e,["googleSearch"],WY(r));const s=x(t,["googleSearchRetrieval"]);if(s!=null&&v(e,["googleSearchRetrieval"],YY(s)),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(x(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");x(t,["urlContext"])!=null&&v(e,["urlContext"],JY());const i=x(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const o=x(t,["computerUse"]);return o!=null&&v(e,["computerUse"],o),e}function ZY(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["allowedFunctionNames"]);return r!=null&&v(e,["allowedFunctionNames"],r),e}function eJ(t){const e={},n=x(t,["latitude"]);n!=null&&v(e,["latitude"],n);const r=x(t,["longitude"]);return r!=null&&v(e,["longitude"],r),e}function tJ(t){const e={},n=x(t,["latLng"]);n!=null&&v(e,["latLng"],eJ(n));const r=x(t,["languageCode"]);return r!=null&&v(e,["languageCode"],r),e}function nJ(t){const e={},n=x(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],ZY(n));const r=x(t,["retrievalConfig"]);return r!=null&&v(e,["retrievalConfig"],tJ(r)),e}function rJ(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const s=x(t,["expireTime"]);e!==void 0&&s!=null&&v(e,["expireTime"],s);const a=x(t,["displayName"]);e!==void 0&&a!=null&&v(e,["displayName"],a);const i=x(t,["contents"]);if(e!==void 0&&i!=null){let d=Il(i);Array.isArray(d)&&(d=d.map(h=>Mk(h))),v(e,["contents"],d)}const o=x(t,["systemInstruction"]);e!==void 0&&o!=null&&v(e,["systemInstruction"],Mk(Ri(o)));const l=x(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>XY(h))),v(e,["tools"],d)}const A=x(t,["toolConfig"]);if(e!==void 0&&A!=null&&v(e,["toolConfig"],nJ(A)),x(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function sJ(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["model"],n8(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],rJ(s,n)),n}function aJ(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Su(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function iJ(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Su(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function oJ(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const s=x(t,["expireTime"]);return e!==void 0&&s!=null&&v(e,["expireTime"],s),n}function lJ(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Su(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],oJ(s,n)),n}function cJ(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);return e!==void 0&&s!=null&&v(e,["_query","pageToken"],s),n}function AJ(t){const e={},n=x(t,["config"]);return n!=null&&v(e,["config"],cJ(n,e)),e}function uJ(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function dJ(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["data"]);r!=null&&v(e,["data"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function fJ(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["fileUri"]);r!=null&&v(e,["fileUri"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function hJ(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],uJ(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],dJ(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],fJ(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function Pk(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>hJ(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function mJ(t){const e={};if(x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(t,["description"]);n!=null&&v(e,["description"],n);const r=x(t,["name"]);r!=null&&v(e,["name"],r);const s=x(t,["parameters"]);s!=null&&v(e,["parameters"],s);const a=x(t,["parametersJsonSchema"]);a!=null&&v(e,["parametersJsonSchema"],a);const i=x(t,["response"]);i!=null&&v(e,["response"],i);const o=x(t,["responseJsonSchema"]);return o!=null&&v(e,["responseJsonSchema"],o),e}function pJ(t){const e={},n=x(t,["startTime"]);n!=null&&v(e,["startTime"],n);const r=x(t,["endTime"]);return r!=null&&v(e,["endTime"],r),e}function gJ(t){const e={},n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],pJ(n)),e}function xJ(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["dynamicThreshold"]);return r!=null&&v(e,["dynamicThreshold"],r),e}function vJ(t){const e={},n=x(t,["dynamicRetrievalConfig"]);return n!=null&&v(e,["dynamicRetrievalConfig"],xJ(n)),e}function yJ(){return{}}function wJ(t){const e={},n=x(t,["apiKeyString"]);return n!=null&&v(e,["apiKeyString"],n),e}function bJ(t){const e={},n=x(t,["apiKeyConfig"]);n!=null&&v(e,["apiKeyConfig"],wJ(n));const r=x(t,["authType"]);r!=null&&v(e,["authType"],r);const s=x(t,["googleServiceAccountConfig"]);s!=null&&v(e,["googleServiceAccountConfig"],s);const a=x(t,["httpBasicAuthConfig"]);a!=null&&v(e,["httpBasicAuthConfig"],a);const i=x(t,["oauthConfig"]);i!=null&&v(e,["oauthConfig"],i);const o=x(t,["oidcConfig"]);return o!=null&&v(e,["oidcConfig"],o),e}function CJ(t){const e={},n=x(t,["authConfig"]);return n!=null&&v(e,["authConfig"],bJ(n)),e}function EJ(){return{}}function _J(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>mJ(p))),v(e,["functionDeclarations"],h)}const r=x(t,["retrieval"]);r!=null&&v(e,["retrieval"],r);const s=x(t,["googleSearch"]);s!=null&&v(e,["googleSearch"],gJ(s));const a=x(t,["googleSearchRetrieval"]);a!=null&&v(e,["googleSearchRetrieval"],vJ(a)),x(t,["enterpriseWebSearch"])!=null&&v(e,["enterpriseWebSearch"],yJ());const o=x(t,["googleMaps"]);o!=null&&v(e,["googleMaps"],CJ(o)),x(t,["urlContext"])!=null&&v(e,["urlContext"],EJ());const A=x(t,["codeExecution"]);A!=null&&v(e,["codeExecution"],A);const d=x(t,["computerUse"]);return d!=null&&v(e,["computerUse"],d),e}function SJ(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["allowedFunctionNames"]);return r!=null&&v(e,["allowedFunctionNames"],r),e}function TJ(t){const e={},n=x(t,["latitude"]);n!=null&&v(e,["latitude"],n);const r=x(t,["longitude"]);return r!=null&&v(e,["longitude"],r),e}function BJ(t){const e={},n=x(t,["latLng"]);n!=null&&v(e,["latLng"],TJ(n));const r=x(t,["languageCode"]);return r!=null&&v(e,["languageCode"],r),e}function NJ(t){const e={},n=x(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],SJ(n));const r=x(t,["retrievalConfig"]);return r!=null&&v(e,["retrievalConfig"],BJ(r)),e}function kJ(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const s=x(t,["expireTime"]);e!==void 0&&s!=null&&v(e,["expireTime"],s);const a=x(t,["displayName"]);e!==void 0&&a!=null&&v(e,["displayName"],a);const i=x(t,["contents"]);if(e!==void 0&&i!=null){let h=Il(i);Array.isArray(h)&&(h=h.map(p=>Pk(p))),v(e,["contents"],h)}const o=x(t,["systemInstruction"]);e!==void 0&&o!=null&&v(e,["systemInstruction"],Pk(Ri(o)));const l=x(t,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>_J(p))),v(e,["tools"],h)}const A=x(t,["toolConfig"]);e!==void 0&&A!=null&&v(e,["toolConfig"],NJ(A));const d=x(t,["kmsKeyName"]);return e!==void 0&&d!=null&&v(e,["encryption_spec","kmsKeyName"],d),n}function IJ(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["model"],n8(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],kJ(s,n)),n}function FJ(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Su(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function RJ(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Su(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function DJ(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const s=x(t,["expireTime"]);return e!==void 0&&s!=null&&v(e,["expireTime"],s),n}function UJ(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Su(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],DJ(s,n)),n}function LJ(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);return e!==void 0&&s!=null&&v(e,["_query","pageToken"],s),n}function MJ(t){const e={},n=x(t,["config"]);return n!=null&&v(e,["config"],LJ(n,e)),e}function Zv(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["displayName"]);r!=null&&v(e,["displayName"],r);const s=x(t,["model"]);s!=null&&v(e,["model"],s);const a=x(t,["createTime"]);a!=null&&v(e,["createTime"],a);const i=x(t,["updateTime"]);i!=null&&v(e,["updateTime"],i);const o=x(t,["expireTime"]);o!=null&&v(e,["expireTime"],o);const l=x(t,["usageMetadata"]);return l!=null&&v(e,["usageMetadata"],l),e}function PJ(){return{}}function jJ(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const s=x(t,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>Zv(i))),v(e,["cachedContents"],a)}return e}function e2(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["displayName"]);r!=null&&v(e,["displayName"],r);const s=x(t,["model"]);s!=null&&v(e,["model"],s);const a=x(t,["createTime"]);a!=null&&v(e,["createTime"],a);const i=x(t,["updateTime"]);i!=null&&v(e,["updateTime"],i);const o=x(t,["expireTime"]);o!=null&&v(e,["expireTime"],o);const l=x(t,["usageMetadata"]);return l!=null&&v(e,["usageMetadata"],l),e}function OJ(){return{}}function QJ(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const s=x(t,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>e2(i))),v(e,["cachedContents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HJ extends bh{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _x(oh.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=IJ(this.apiClient,e);return o=rn("cachedContents",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>e2(d))}else{const A=sJ(this.apiClient,e);return o=rn("cachedContents",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>Zv(d))}}async get(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=FJ(this.apiClient,e);return o=rn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>e2(d))}else{const A=aJ(this.apiClient,e);return o=rn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>Zv(d))}}async delete(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=RJ(this.apiClient,e);return o=rn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(()=>{const d=OJ(),h=new Ik;return Object.assign(h,d),h})}else{const A=iJ(this.apiClient,e);return o=rn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(()=>{const d=PJ(),h=new Ik;return Object.assign(h,d),h})}}async update(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=UJ(this.apiClient,e);return o=rn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>e2(d))}else{const A=lJ(this.apiClient,e);return o=rn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>Zv(d))}}async listInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=MJ(e);return o=rn("cachedContents",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=QJ(d),p=new Fk;return Object.assign(p,h),p})}else{const A=AJ(e);return o=rn("cachedContents",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=jJ(d),p=new Fk;return Object.assign(p,h),p})}}}function jk(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ns(t){return this instanceof ns?(this.v=t,this):new ns(t)}function K0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(g){return function(w){return Promise.resolve(w).then(g,h)}}function o(g,w){r[g]&&(s[g]=function(b){return new Promise(function(E,T){a.push([g,b,E,T])>1||l(g,b)})},w&&(s[g]=w(s[g])))}function l(g,w){try{A(r[g](w))}catch(b){p(a[0][3],b)}}function A(g){g.value instanceof ns?Promise.resolve(g.value.v).then(d,h):p(a[0][2],g)}function d(g){l("next",g)}function h(g){l("throw",g)}function p(g,w){g(w),a.shift(),a.length&&l(a[0][0],a[0][1])}}function mg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof jk=="function"?jk(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(i){return new Promise(function(o,l){i=t[a](i),s(o,l,i.done,i.value)})}}function s(a,i,o,l){Promise.resolve(l).then(function(A){a({value:A,done:o})},i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VJ(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:x8(n)}function x8(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function GJ(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Ok(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const s=[];let a=!0;for(;r<n&&t[r].role==="model";)s.push(t[r]),a&&!x8(t[r])&&(a=!1),r++;a?e.push(...s):e.pop()}return e}class zJ{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new KJ(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class KJ{constructor(e,n,r,s={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=s,this.history=a,this.sendPromise=Promise.resolve(),GJ(a)}async sendMessage(e){var n;await this.sendPromise;const r=Ri(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,i,o;const l=await s,A=(i=(a=l.candidates)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.content,d=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let p=[];d!=null&&(p=(o=d.slice(h))!==null&&o!==void 0?o:[]);const g=A?[A]:[];this.recordHistory(r,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const r=Ri(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const a=await s;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?Ok(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,s;return K0(this,arguments,function*(){var i,o,l,A;const d=[];try{for(var h=!0,p=mg(e),g;g=yield ns(p.next()),i=g.done,!i;h=!0){A=g.value,h=!1;const w=A;if(VJ(w)){const b=(s=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content;b!==void 0&&d.push(b)}yield yield ns(w)}}catch(w){o={error:w}}finally{try{!h&&!i&&(l=p.return)&&(yield ns(l.call(p)))}finally{if(o)throw o.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let s=[];n.length>0&&n.every(a=>a.role!==void 0)?s=n:s.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Ok(r)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wy extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Wy.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qJ(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);return e!==void 0&&s!=null&&v(e,["_query","pageToken"],s),n}function WJ(t){const e={},n=x(t,["config"]);return n!=null&&v(e,["config"],qJ(n,e)),e}function $J(t){const e={},n=x(t,["details"]);n!=null&&v(e,["details"],n);const r=x(t,["message"]);r!=null&&v(e,["message"],r);const s=x(t,["code"]);return s!=null&&v(e,["code"],s),e}function YJ(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["displayName"]);r!=null&&v(e,["displayName"],r);const s=x(t,["mimeType"]);s!=null&&v(e,["mimeType"],s);const a=x(t,["sizeBytes"]);a!=null&&v(e,["sizeBytes"],a);const i=x(t,["createTime"]);i!=null&&v(e,["createTime"],i);const o=x(t,["expirationTime"]);o!=null&&v(e,["expirationTime"],o);const l=x(t,["updateTime"]);l!=null&&v(e,["updateTime"],l);const A=x(t,["sha256Hash"]);A!=null&&v(e,["sha256Hash"],A);const d=x(t,["uri"]);d!=null&&v(e,["uri"],d);const h=x(t,["downloadUri"]);h!=null&&v(e,["downloadUri"],h);const p=x(t,["state"]);p!=null&&v(e,["state"],p);const g=x(t,["source"]);g!=null&&v(e,["source"],g);const w=x(t,["videoMetadata"]);w!=null&&v(e,["videoMetadata"],w);const b=x(t,["error"]);return b!=null&&v(e,["error"],$J(b)),e}function JJ(t){const e={},n=x(t,["file"]);n!=null&&v(e,["file"],YJ(n));const r=x(t,["config"]);return r!=null&&v(e,["config"],r),e}function XJ(t){const e={},n=x(t,["name"]);n!=null&&v(e,["_url","file"],c8(n));const r=x(t,["config"]);return r!=null&&v(e,["config"],r),e}function ZJ(t){const e={},n=x(t,["name"]);n!=null&&v(e,["_url","file"],c8(n));const r=x(t,["config"]);return r!=null&&v(e,["config"],r),e}function eX(t){const e={},n=x(t,["details"]);n!=null&&v(e,["details"],n);const r=x(t,["message"]);r!=null&&v(e,["message"],r);const s=x(t,["code"]);return s!=null&&v(e,["code"],s),e}function l_(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["displayName"]);r!=null&&v(e,["displayName"],r);const s=x(t,["mimeType"]);s!=null&&v(e,["mimeType"],s);const a=x(t,["sizeBytes"]);a!=null&&v(e,["sizeBytes"],a);const i=x(t,["createTime"]);i!=null&&v(e,["createTime"],i);const o=x(t,["expirationTime"]);o!=null&&v(e,["expirationTime"],o);const l=x(t,["updateTime"]);l!=null&&v(e,["updateTime"],l);const A=x(t,["sha256Hash"]);A!=null&&v(e,["sha256Hash"],A);const d=x(t,["uri"]);d!=null&&v(e,["uri"],d);const h=x(t,["downloadUri"]);h!=null&&v(e,["downloadUri"],h);const p=x(t,["state"]);p!=null&&v(e,["state"],p);const g=x(t,["source"]);g!=null&&v(e,["source"],g);const w=x(t,["videoMetadata"]);w!=null&&v(e,["videoMetadata"],w);const b=x(t,["error"]);return b!=null&&v(e,["error"],eX(b)),e}function tX(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const s=x(t,["files"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>l_(i))),v(e,["files"],a)}return e}function nX(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function rX(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sX extends bh{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _x(oh.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>l_(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=WJ(e);return a=rn("files",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(A=>{const d=A;return d.sdkHttpResponse={headers:l.headers},d})),s.then(l=>{const A=tX(l),d=new b$;return Object.assign(d,A),d})}}async createInternal(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=JJ(e);return a=rn("upload/v1beta/files",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>{const A=nX(l),d=new C$;return Object.assign(d,A),d})}}async get(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=XJ(e);return a=rn("files/{file}",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>l_(l))}}async delete(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ZJ(e);return a=rn("files/{file}",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(()=>{const l=rX(),A=new E$;return Object.assign(A,l),A})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aX(t){const e={},n=x(t,["voiceName"]);return n!=null&&v(e,["voiceName"],n),e}function v8(t){const e={},n=x(t,["prebuiltVoiceConfig"]);return n!=null&&v(e,["prebuiltVoiceConfig"],aX(n)),e}function iX(t){const e={},n=x(t,["speaker"]);n!=null&&v(e,["speaker"],n);const r=x(t,["voiceConfig"]);return r!=null&&v(e,["voiceConfig"],v8(r)),e}function oX(t){const e={},n=x(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>iX(s))),v(e,["speakerVoiceConfigs"],r)}return e}function lX(t){const e={},n=x(t,["voiceConfig"]);n!=null&&v(e,["voiceConfig"],v8(n));const r=x(t,["multiSpeakerVoiceConfig"]);r!=null&&v(e,["multiSpeakerVoiceConfig"],oX(r));const s=x(t,["languageCode"]);return s!=null&&v(e,["languageCode"],s),e}function cX(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function AX(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["data"]);n!=null&&v(e,["data"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function uX(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function dX(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],cX(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],AX(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],uX(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function fX(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>dX(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function hX(t){const e={},n=x(t,["behavior"]);n!=null&&v(e,["behavior"],n);const r=x(t,["description"]);r!=null&&v(e,["description"],r);const s=x(t,["name"]);s!=null&&v(e,["name"],s);const a=x(t,["parameters"]);a!=null&&v(e,["parameters"],a);const i=x(t,["parametersJsonSchema"]);i!=null&&v(e,["parametersJsonSchema"],i);const o=x(t,["response"]);o!=null&&v(e,["response"],o);const l=x(t,["responseJsonSchema"]);return l!=null&&v(e,["responseJsonSchema"],l),e}function mX(t){const e={},n=x(t,["startTime"]);n!=null&&v(e,["startTime"],n);const r=x(t,["endTime"]);return r!=null&&v(e,["endTime"],r),e}function pX(t){const e={},n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],mX(n)),e}function gX(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["dynamicThreshold"]);return r!=null&&v(e,["dynamicThreshold"],r),e}function xX(t){const e={},n=x(t,["dynamicRetrievalConfig"]);return n!=null&&v(e,["dynamicRetrievalConfig"],gX(n)),e}function vX(){return{}}function yX(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(A=>hX(A))),v(e,["functionDeclarations"],l)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearch"]);r!=null&&v(e,["googleSearch"],pX(r));const s=x(t,["googleSearchRetrieval"]);if(s!=null&&v(e,["googleSearchRetrieval"],xX(s)),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(x(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");x(t,["urlContext"])!=null&&v(e,["urlContext"],vX());const i=x(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const o=x(t,["computerUse"]);return o!=null&&v(e,["computerUse"],o),e}function wX(t){const e={},n=x(t,["handle"]);if(n!=null&&v(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Qk(){return{}}function bX(t){const e={},n=x(t,["disabled"]);n!=null&&v(e,["disabled"],n);const r=x(t,["startOfSpeechSensitivity"]);r!=null&&v(e,["startOfSpeechSensitivity"],r);const s=x(t,["endOfSpeechSensitivity"]);s!=null&&v(e,["endOfSpeechSensitivity"],s);const a=x(t,["prefixPaddingMs"]);a!=null&&v(e,["prefixPaddingMs"],a);const i=x(t,["silenceDurationMs"]);return i!=null&&v(e,["silenceDurationMs"],i),e}function CX(t){const e={},n=x(t,["automaticActivityDetection"]);n!=null&&v(e,["automaticActivityDetection"],bX(n));const r=x(t,["activityHandling"]);r!=null&&v(e,["activityHandling"],r);const s=x(t,["turnCoverage"]);return s!=null&&v(e,["turnCoverage"],s),e}function EX(t){const e={},n=x(t,["targetTokens"]);return n!=null&&v(e,["targetTokens"],n),e}function _X(t){const e={},n=x(t,["triggerTokens"]);n!=null&&v(e,["triggerTokens"],n);const r=x(t,["slidingWindow"]);return r!=null&&v(e,["slidingWindow"],EX(r)),e}function SX(t){const e={},n=x(t,["proactiveAudio"]);return n!=null&&v(e,["proactiveAudio"],n),e}function TX(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const s=x(t,["responseModalities"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","responseModalities"],s);const a=x(t,["temperature"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","temperature"],a);const i=x(t,["topP"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","topP"],i);const o=x(t,["topK"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","topK"],o);const l=x(t,["maxOutputTokens"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","maxOutputTokens"],l);const A=x(t,["mediaResolution"]);e!==void 0&&A!=null&&v(e,["setup","generationConfig","mediaResolution"],A);const d=x(t,["seed"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","seed"],d);const h=x(t,["speechConfig"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","speechConfig"],lX(_5(h)));const p=x(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=x(t,["systemInstruction"]);e!==void 0&&g!=null&&v(e,["setup","systemInstruction"],fX(Ri(g)));const w=x(t,["tools"]);if(e!==void 0&&w!=null){let R=Dm(w);Array.isArray(R)&&(R=R.map(L=>yX(Rm(L)))),v(e,["setup","tools"],R)}const b=x(t,["sessionResumption"]);e!==void 0&&b!=null&&v(e,["setup","sessionResumption"],wX(b));const E=x(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&v(e,["setup","inputAudioTranscription"],Qk());const T=x(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&v(e,["setup","outputAudioTranscription"],Qk());const I=x(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&v(e,["setup","realtimeInputConfig"],CX(I));const k=x(t,["contextWindowCompression"]);e!==void 0&&k!=null&&v(e,["setup","contextWindowCompression"],_X(k));const F=x(t,["proactivity"]);return e!==void 0&&F!=null&&v(e,["setup","proactivity"],SX(F)),n}function BX(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["setup","model"],jr(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],TX(s,n)),n}function NX(){return{}}function kX(){return{}}function IX(t){const e={},n=x(t,["media"]);n!=null&&v(e,["mediaChunks"],r8(n));const r=x(t,["audio"]);r!=null&&v(e,["audio"],a8(r));const s=x(t,["audioStreamEnd"]);s!=null&&v(e,["audioStreamEnd"],s);const a=x(t,["video"]);a!=null&&v(e,["video"],s8(a));const i=x(t,["text"]);return i!=null&&v(e,["text"],i),x(t,["activityStart"])!=null&&v(e,["activityStart"],NX()),x(t,["activityEnd"])!=null&&v(e,["activityEnd"],kX()),e}function y8(t){const e={},n=x(t,["text"]);n!=null&&v(e,["text"],n);const r=x(t,["weight"]);return r!=null&&v(e,["weight"],r),e}function FX(t){const e={},n=x(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>y8(s))),v(e,["weightedPrompts"],r)}return e}function w8(t){const e={},n=x(t,["temperature"]);n!=null&&v(e,["temperature"],n);const r=x(t,["topK"]);r!=null&&v(e,["topK"],r);const s=x(t,["seed"]);s!=null&&v(e,["seed"],s);const a=x(t,["guidance"]);a!=null&&v(e,["guidance"],a);const i=x(t,["bpm"]);i!=null&&v(e,["bpm"],i);const o=x(t,["density"]);o!=null&&v(e,["density"],o);const l=x(t,["brightness"]);l!=null&&v(e,["brightness"],l);const A=x(t,["scale"]);A!=null&&v(e,["scale"],A);const d=x(t,["muteBass"]);d!=null&&v(e,["muteBass"],d);const h=x(t,["muteDrums"]);h!=null&&v(e,["muteDrums"],h);const p=x(t,["onlyBassAndDrums"]);return p!=null&&v(e,["onlyBassAndDrums"],p),e}function RX(t){const e={},n=x(t,["musicGenerationConfig"]);return n!=null&&v(e,["musicGenerationConfig"],w8(n)),e}function b8(t){const e={},n=x(t,["model"]);return n!=null&&v(e,["model"],n),e}function C8(t){const e={},n=x(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>y8(s))),v(e,["weightedPrompts"],r)}return e}function c_(t){const e={},n=x(t,["setup"]);n!=null&&v(e,["setup"],b8(n));const r=x(t,["clientContent"]);r!=null&&v(e,["clientContent"],C8(r));const s=x(t,["musicGenerationConfig"]);s!=null&&v(e,["musicGenerationConfig"],w8(s));const a=x(t,["playbackControl"]);return a!=null&&v(e,["playbackControl"],a),e}function DX(t){const e={},n=x(t,["voiceName"]);return n!=null&&v(e,["voiceName"],n),e}function UX(t){const e={},n=x(t,["prebuiltVoiceConfig"]);return n!=null&&v(e,["prebuiltVoiceConfig"],DX(n)),e}function LX(t){const e={},n=x(t,["voiceConfig"]);if(n!=null&&v(e,["voiceConfig"],UX(n)),x(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=x(t,["languageCode"]);return r!=null&&v(e,["languageCode"],r),e}function MX(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function PX(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["data"]);r!=null&&v(e,["data"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function jX(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["fileUri"]);r!=null&&v(e,["fileUri"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function OX(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],MX(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],PX(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],jX(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function QX(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>OX(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function HX(t){const e={};if(x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(t,["description"]);n!=null&&v(e,["description"],n);const r=x(t,["name"]);r!=null&&v(e,["name"],r);const s=x(t,["parameters"]);s!=null&&v(e,["parameters"],s);const a=x(t,["parametersJsonSchema"]);a!=null&&v(e,["parametersJsonSchema"],a);const i=x(t,["response"]);i!=null&&v(e,["response"],i);const o=x(t,["responseJsonSchema"]);return o!=null&&v(e,["responseJsonSchema"],o),e}function VX(t){const e={},n=x(t,["startTime"]);n!=null&&v(e,["startTime"],n);const r=x(t,["endTime"]);return r!=null&&v(e,["endTime"],r),e}function GX(t){const e={},n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],VX(n)),e}function zX(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["dynamicThreshold"]);return r!=null&&v(e,["dynamicThreshold"],r),e}function KX(t){const e={},n=x(t,["dynamicRetrievalConfig"]);return n!=null&&v(e,["dynamicRetrievalConfig"],zX(n)),e}function qX(){return{}}function WX(t){const e={},n=x(t,["apiKeyString"]);return n!=null&&v(e,["apiKeyString"],n),e}function $X(t){const e={},n=x(t,["apiKeyConfig"]);n!=null&&v(e,["apiKeyConfig"],WX(n));const r=x(t,["authType"]);r!=null&&v(e,["authType"],r);const s=x(t,["googleServiceAccountConfig"]);s!=null&&v(e,["googleServiceAccountConfig"],s);const a=x(t,["httpBasicAuthConfig"]);a!=null&&v(e,["httpBasicAuthConfig"],a);const i=x(t,["oauthConfig"]);i!=null&&v(e,["oauthConfig"],i);const o=x(t,["oidcConfig"]);return o!=null&&v(e,["oidcConfig"],o),e}function YX(t){const e={},n=x(t,["authConfig"]);return n!=null&&v(e,["authConfig"],$X(n)),e}function JX(){return{}}function XX(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>HX(p))),v(e,["functionDeclarations"],h)}const r=x(t,["retrieval"]);r!=null&&v(e,["retrieval"],r);const s=x(t,["googleSearch"]);s!=null&&v(e,["googleSearch"],GX(s));const a=x(t,["googleSearchRetrieval"]);a!=null&&v(e,["googleSearchRetrieval"],KX(a)),x(t,["enterpriseWebSearch"])!=null&&v(e,["enterpriseWebSearch"],qX());const o=x(t,["googleMaps"]);o!=null&&v(e,["googleMaps"],YX(o)),x(t,["urlContext"])!=null&&v(e,["urlContext"],JX());const A=x(t,["codeExecution"]);A!=null&&v(e,["codeExecution"],A);const d=x(t,["computerUse"]);return d!=null&&v(e,["computerUse"],d),e}function ZX(t){const e={},n=x(t,["handle"]);n!=null&&v(e,["handle"],n);const r=x(t,["transparent"]);return r!=null&&v(e,["transparent"],r),e}function Hk(){return{}}function eZ(t){const e={},n=x(t,["disabled"]);n!=null&&v(e,["disabled"],n);const r=x(t,["startOfSpeechSensitivity"]);r!=null&&v(e,["startOfSpeechSensitivity"],r);const s=x(t,["endOfSpeechSensitivity"]);s!=null&&v(e,["endOfSpeechSensitivity"],s);const a=x(t,["prefixPaddingMs"]);a!=null&&v(e,["prefixPaddingMs"],a);const i=x(t,["silenceDurationMs"]);return i!=null&&v(e,["silenceDurationMs"],i),e}function tZ(t){const e={},n=x(t,["automaticActivityDetection"]);n!=null&&v(e,["automaticActivityDetection"],eZ(n));const r=x(t,["activityHandling"]);r!=null&&v(e,["activityHandling"],r);const s=x(t,["turnCoverage"]);return s!=null&&v(e,["turnCoverage"],s),e}function nZ(t){const e={},n=x(t,["targetTokens"]);return n!=null&&v(e,["targetTokens"],n),e}function rZ(t){const e={},n=x(t,["triggerTokens"]);n!=null&&v(e,["triggerTokens"],n);const r=x(t,["slidingWindow"]);return r!=null&&v(e,["slidingWindow"],nZ(r)),e}function sZ(t){const e={},n=x(t,["proactiveAudio"]);return n!=null&&v(e,["proactiveAudio"],n),e}function aZ(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const s=x(t,["responseModalities"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","responseModalities"],s);const a=x(t,["temperature"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","temperature"],a);const i=x(t,["topP"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","topP"],i);const o=x(t,["topK"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","topK"],o);const l=x(t,["maxOutputTokens"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","maxOutputTokens"],l);const A=x(t,["mediaResolution"]);e!==void 0&&A!=null&&v(e,["setup","generationConfig","mediaResolution"],A);const d=x(t,["seed"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","seed"],d);const h=x(t,["speechConfig"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","speechConfig"],LX(_5(h)));const p=x(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=x(t,["systemInstruction"]);e!==void 0&&g!=null&&v(e,["setup","systemInstruction"],QX(Ri(g)));const w=x(t,["tools"]);if(e!==void 0&&w!=null){let R=Dm(w);Array.isArray(R)&&(R=R.map(L=>XX(Rm(L)))),v(e,["setup","tools"],R)}const b=x(t,["sessionResumption"]);e!==void 0&&b!=null&&v(e,["setup","sessionResumption"],ZX(b));const E=x(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&v(e,["setup","inputAudioTranscription"],Hk());const T=x(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&v(e,["setup","outputAudioTranscription"],Hk());const I=x(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&v(e,["setup","realtimeInputConfig"],tZ(I));const k=x(t,["contextWindowCompression"]);e!==void 0&&k!=null&&v(e,["setup","contextWindowCompression"],rZ(k));const F=x(t,["proactivity"]);return e!==void 0&&F!=null&&v(e,["setup","proactivity"],sZ(F)),n}function iZ(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["setup","model"],jr(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],aZ(s,n)),n}function oZ(){return{}}function lZ(){return{}}function cZ(t){const e={},n=x(t,["media"]);n!=null&&v(e,["mediaChunks"],r8(n));const r=x(t,["audio"]);r!=null&&v(e,["audio"],a8(r));const s=x(t,["audioStreamEnd"]);s!=null&&v(e,["audioStreamEnd"],s);const a=x(t,["video"]);a!=null&&v(e,["video"],s8(a));const i=x(t,["text"]);return i!=null&&v(e,["text"],i),x(t,["activityStart"])!=null&&v(e,["activityStart"],oZ()),x(t,["activityEnd"])!=null&&v(e,["activityEnd"],lZ()),e}function AZ(){return{}}function uZ(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function dZ(t){const e={},n=x(t,["data"]);n!=null&&v(e,["data"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function fZ(t){const e={},n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function hZ(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],uZ(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],dZ(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],fZ(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function mZ(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>hZ(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function Vk(t){const e={},n=x(t,["text"]);n!=null&&v(e,["text"],n);const r=x(t,["finished"]);return r!=null&&v(e,["finished"],r),e}function pZ(t){const e={},n=x(t,["retrievedUrl"]);n!=null&&v(e,["retrievedUrl"],n);const r=x(t,["urlRetrievalStatus"]);return r!=null&&v(e,["urlRetrievalStatus"],r),e}function gZ(t){const e={},n=x(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>pZ(s))),v(e,["urlMetadata"],r)}return e}function xZ(t){const e={},n=x(t,["modelTurn"]);n!=null&&v(e,["modelTurn"],mZ(n));const r=x(t,["turnComplete"]);r!=null&&v(e,["turnComplete"],r);const s=x(t,["interrupted"]);s!=null&&v(e,["interrupted"],s);const a=x(t,["groundingMetadata"]);a!=null&&v(e,["groundingMetadata"],a);const i=x(t,["generationComplete"]);i!=null&&v(e,["generationComplete"],i);const o=x(t,["inputTranscription"]);o!=null&&v(e,["inputTranscription"],Vk(o));const l=x(t,["outputTranscription"]);l!=null&&v(e,["outputTranscription"],Vk(l));const A=x(t,["urlContextMetadata"]);return A!=null&&v(e,["urlContextMetadata"],gZ(A)),e}function vZ(t){const e={},n=x(t,["id"]);n!=null&&v(e,["id"],n);const r=x(t,["args"]);r!=null&&v(e,["args"],r);const s=x(t,["name"]);return s!=null&&v(e,["name"],s),e}function yZ(t){const e={},n=x(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>vZ(s))),v(e,["functionCalls"],r)}return e}function wZ(t){const e={},n=x(t,["ids"]);return n!=null&&v(e,["ids"],n),e}function z1(t){const e={},n=x(t,["modality"]);n!=null&&v(e,["modality"],n);const r=x(t,["tokenCount"]);return r!=null&&v(e,["tokenCount"],r),e}function bZ(t){const e={},n=x(t,["promptTokenCount"]);n!=null&&v(e,["promptTokenCount"],n);const r=x(t,["cachedContentTokenCount"]);r!=null&&v(e,["cachedContentTokenCount"],r);const s=x(t,["responseTokenCount"]);s!=null&&v(e,["responseTokenCount"],s);const a=x(t,["toolUsePromptTokenCount"]);a!=null&&v(e,["toolUsePromptTokenCount"],a);const i=x(t,["thoughtsTokenCount"]);i!=null&&v(e,["thoughtsTokenCount"],i);const o=x(t,["totalTokenCount"]);o!=null&&v(e,["totalTokenCount"],o);const l=x(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(g=>z1(g))),v(e,["promptTokensDetails"],p)}const A=x(t,["cacheTokensDetails"]);if(A!=null){let p=A;Array.isArray(p)&&(p=p.map(g=>z1(g))),v(e,["cacheTokensDetails"],p)}const d=x(t,["responseTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>z1(g))),v(e,["responseTokensDetails"],p)}const h=x(t,["toolUsePromptTokensDetails"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>z1(g))),v(e,["toolUsePromptTokensDetails"],p)}return e}function CZ(t){const e={},n=x(t,["timeLeft"]);return n!=null&&v(e,["timeLeft"],n),e}function EZ(t){const e={},n=x(t,["newHandle"]);n!=null&&v(e,["newHandle"],n);const r=x(t,["resumable"]);r!=null&&v(e,["resumable"],r);const s=x(t,["lastConsumedClientMessageIndex"]);return s!=null&&v(e,["lastConsumedClientMessageIndex"],s),e}function _Z(t){const e={};x(t,["setupComplete"])!=null&&v(e,["setupComplete"],AZ());const r=x(t,["serverContent"]);r!=null&&v(e,["serverContent"],xZ(r));const s=x(t,["toolCall"]);s!=null&&v(e,["toolCall"],yZ(s));const a=x(t,["toolCallCancellation"]);a!=null&&v(e,["toolCallCancellation"],wZ(a));const i=x(t,["usageMetadata"]);i!=null&&v(e,["usageMetadata"],bZ(i));const o=x(t,["goAway"]);o!=null&&v(e,["goAway"],CZ(o));const l=x(t,["sessionResumptionUpdate"]);return l!=null&&v(e,["sessionResumptionUpdate"],EZ(l)),e}function SZ(){return{}}function TZ(t){const e={},n=x(t,["text"]);n!=null&&v(e,["text"],n);const r=x(t,["weight"]);return r!=null&&v(e,["weight"],r),e}function BZ(t){const e={},n=x(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>TZ(s))),v(e,["weightedPrompts"],r)}return e}function NZ(t){const e={},n=x(t,["temperature"]);n!=null&&v(e,["temperature"],n);const r=x(t,["topK"]);r!=null&&v(e,["topK"],r);const s=x(t,["seed"]);s!=null&&v(e,["seed"],s);const a=x(t,["guidance"]);a!=null&&v(e,["guidance"],a);const i=x(t,["bpm"]);i!=null&&v(e,["bpm"],i);const o=x(t,["density"]);o!=null&&v(e,["density"],o);const l=x(t,["brightness"]);l!=null&&v(e,["brightness"],l);const A=x(t,["scale"]);A!=null&&v(e,["scale"],A);const d=x(t,["muteBass"]);d!=null&&v(e,["muteBass"],d);const h=x(t,["muteDrums"]);h!=null&&v(e,["muteDrums"],h);const p=x(t,["onlyBassAndDrums"]);return p!=null&&v(e,["onlyBassAndDrums"],p),e}function kZ(t){const e={},n=x(t,["clientContent"]);n!=null&&v(e,["clientContent"],BZ(n));const r=x(t,["musicGenerationConfig"]);return r!=null&&v(e,["musicGenerationConfig"],NZ(r)),e}function IZ(t){const e={},n=x(t,["data"]);n!=null&&v(e,["data"],n);const r=x(t,["mimeType"]);r!=null&&v(e,["mimeType"],r);const s=x(t,["sourceMetadata"]);return s!=null&&v(e,["sourceMetadata"],kZ(s)),e}function FZ(t){const e={},n=x(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>IZ(s))),v(e,["audioChunks"],r)}return e}function RZ(t){const e={},n=x(t,["text"]);n!=null&&v(e,["text"],n);const r=x(t,["filteredReason"]);return r!=null&&v(e,["filteredReason"],r),e}function DZ(t){const e={};x(t,["setupComplete"])!=null&&v(e,["setupComplete"],SZ());const r=x(t,["serverContent"]);r!=null&&v(e,["serverContent"],FZ(r));const s=x(t,["filteredPrompt"]);return s!=null&&v(e,["filteredPrompt"],RZ(s)),e}function UZ(t){const e={},n=x(t,["sessionId"]);return n!=null&&v(e,["sessionId"],n),e}function LZ(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function MZ(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["data"]);r!=null&&v(e,["data"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function PZ(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["fileUri"]);r!=null&&v(e,["fileUri"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function jZ(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],LZ(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],MZ(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],PZ(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function OZ(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>jZ(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function Gk(t){const e={},n=x(t,["text"]);n!=null&&v(e,["text"],n);const r=x(t,["finished"]);return r!=null&&v(e,["finished"],r),e}function QZ(t){const e={},n=x(t,["modelTurn"]);n!=null&&v(e,["modelTurn"],OZ(n));const r=x(t,["turnComplete"]);r!=null&&v(e,["turnComplete"],r);const s=x(t,["interrupted"]);s!=null&&v(e,["interrupted"],s);const a=x(t,["groundingMetadata"]);a!=null&&v(e,["groundingMetadata"],a);const i=x(t,["generationComplete"]);i!=null&&v(e,["generationComplete"],i);const o=x(t,["inputTranscription"]);o!=null&&v(e,["inputTranscription"],Gk(o));const l=x(t,["outputTranscription"]);return l!=null&&v(e,["outputTranscription"],Gk(l)),e}function HZ(t){const e={},n=x(t,["args"]);n!=null&&v(e,["args"],n);const r=x(t,["name"]);return r!=null&&v(e,["name"],r),e}function VZ(t){const e={},n=x(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>HZ(s))),v(e,["functionCalls"],r)}return e}function GZ(t){const e={},n=x(t,["ids"]);return n!=null&&v(e,["ids"],n),e}function K1(t){const e={},n=x(t,["modality"]);n!=null&&v(e,["modality"],n);const r=x(t,["tokenCount"]);return r!=null&&v(e,["tokenCount"],r),e}function zZ(t){const e={},n=x(t,["promptTokenCount"]);n!=null&&v(e,["promptTokenCount"],n);const r=x(t,["cachedContentTokenCount"]);r!=null&&v(e,["cachedContentTokenCount"],r);const s=x(t,["candidatesTokenCount"]);s!=null&&v(e,["responseTokenCount"],s);const a=x(t,["toolUsePromptTokenCount"]);a!=null&&v(e,["toolUsePromptTokenCount"],a);const i=x(t,["thoughtsTokenCount"]);i!=null&&v(e,["thoughtsTokenCount"],i);const o=x(t,["totalTokenCount"]);o!=null&&v(e,["totalTokenCount"],o);const l=x(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(w=>K1(w))),v(e,["promptTokensDetails"],g)}const A=x(t,["cacheTokensDetails"]);if(A!=null){let g=A;Array.isArray(g)&&(g=g.map(w=>K1(w))),v(e,["cacheTokensDetails"],g)}const d=x(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(w=>K1(w))),v(e,["responseTokensDetails"],g)}const h=x(t,["toolUsePromptTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(w=>K1(w))),v(e,["toolUsePromptTokensDetails"],g)}const p=x(t,["trafficType"]);return p!=null&&v(e,["trafficType"],p),e}function KZ(t){const e={},n=x(t,["timeLeft"]);return n!=null&&v(e,["timeLeft"],n),e}function qZ(t){const e={},n=x(t,["newHandle"]);n!=null&&v(e,["newHandle"],n);const r=x(t,["resumable"]);r!=null&&v(e,["resumable"],r);const s=x(t,["lastConsumedClientMessageIndex"]);return s!=null&&v(e,["lastConsumedClientMessageIndex"],s),e}function WZ(t){const e={},n=x(t,["setupComplete"]);n!=null&&v(e,["setupComplete"],UZ(n));const r=x(t,["serverContent"]);r!=null&&v(e,["serverContent"],QZ(r));const s=x(t,["toolCall"]);s!=null&&v(e,["toolCall"],VZ(s));const a=x(t,["toolCallCancellation"]);a!=null&&v(e,["toolCallCancellation"],GZ(a));const i=x(t,["usageMetadata"]);i!=null&&v(e,["usageMetadata"],zZ(i));const o=x(t,["goAway"]);o!=null&&v(e,["goAway"],KZ(o));const l=x(t,["sessionResumptionUpdate"]);return l!=null&&v(e,["sessionResumptionUpdate"],qZ(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $Z(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function YZ(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["data"]);n!=null&&v(e,["data"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function JZ(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function XZ(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],$Z(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],YZ(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],JZ(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function $y(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>XZ(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function ZZ(t){const e={},n=x(t,["anyOf"]);n!=null&&v(e,["anyOf"],n);const r=x(t,["default"]);r!=null&&v(e,["default"],r);const s=x(t,["description"]);s!=null&&v(e,["description"],s);const a=x(t,["enum"]);a!=null&&v(e,["enum"],a);const i=x(t,["example"]);i!=null&&v(e,["example"],i);const o=x(t,["format"]);o!=null&&v(e,["format"],o);const l=x(t,["items"]);l!=null&&v(e,["items"],l);const A=x(t,["maxItems"]);A!=null&&v(e,["maxItems"],A);const d=x(t,["maxLength"]);d!=null&&v(e,["maxLength"],d);const h=x(t,["maxProperties"]);h!=null&&v(e,["maxProperties"],h);const p=x(t,["maximum"]);p!=null&&v(e,["maximum"],p);const g=x(t,["minItems"]);g!=null&&v(e,["minItems"],g);const w=x(t,["minLength"]);w!=null&&v(e,["minLength"],w);const b=x(t,["minProperties"]);b!=null&&v(e,["minProperties"],b);const E=x(t,["minimum"]);E!=null&&v(e,["minimum"],E);const T=x(t,["nullable"]);T!=null&&v(e,["nullable"],T);const I=x(t,["pattern"]);I!=null&&v(e,["pattern"],I);const k=x(t,["properties"]);k!=null&&v(e,["properties"],k);const F=x(t,["propertyOrdering"]);F!=null&&v(e,["propertyOrdering"],F);const R=x(t,["required"]);R!=null&&v(e,["required"],R);const L=x(t,["title"]);L!=null&&v(e,["title"],L);const S=x(t,["type"]);return S!=null&&v(e,["type"],S),e}function eee(t){const e={};if(x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=x(t,["category"]);n!=null&&v(e,["category"],n);const r=x(t,["threshold"]);return r!=null&&v(e,["threshold"],r),e}function tee(t){const e={},n=x(t,["behavior"]);n!=null&&v(e,["behavior"],n);const r=x(t,["description"]);r!=null&&v(e,["description"],r);const s=x(t,["name"]);s!=null&&v(e,["name"],s);const a=x(t,["parameters"]);a!=null&&v(e,["parameters"],a);const i=x(t,["parametersJsonSchema"]);i!=null&&v(e,["parametersJsonSchema"],i);const o=x(t,["response"]);o!=null&&v(e,["response"],o);const l=x(t,["responseJsonSchema"]);return l!=null&&v(e,["responseJsonSchema"],l),e}function nee(t){const e={},n=x(t,["startTime"]);n!=null&&v(e,["startTime"],n);const r=x(t,["endTime"]);return r!=null&&v(e,["endTime"],r),e}function ree(t){const e={},n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],nee(n)),e}function see(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["dynamicThreshold"]);return r!=null&&v(e,["dynamicThreshold"],r),e}function aee(t){const e={},n=x(t,["dynamicRetrievalConfig"]);return n!=null&&v(e,["dynamicRetrievalConfig"],see(n)),e}function iee(){return{}}function oee(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(A=>tee(A))),v(e,["functionDeclarations"],l)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearch"]);r!=null&&v(e,["googleSearch"],ree(r));const s=x(t,["googleSearchRetrieval"]);if(s!=null&&v(e,["googleSearchRetrieval"],aee(s)),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(x(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");x(t,["urlContext"])!=null&&v(e,["urlContext"],iee());const i=x(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const o=x(t,["computerUse"]);return o!=null&&v(e,["computerUse"],o),e}function lee(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["allowedFunctionNames"]);return r!=null&&v(e,["allowedFunctionNames"],r),e}function cee(t){const e={},n=x(t,["latitude"]);n!=null&&v(e,["latitude"],n);const r=x(t,["longitude"]);return r!=null&&v(e,["longitude"],r),e}function Aee(t){const e={},n=x(t,["latLng"]);n!=null&&v(e,["latLng"],cee(n));const r=x(t,["languageCode"]);return r!=null&&v(e,["languageCode"],r),e}function uee(t){const e={},n=x(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],lee(n));const r=x(t,["retrievalConfig"]);return r!=null&&v(e,["retrievalConfig"],Aee(r)),e}function dee(t){const e={},n=x(t,["voiceName"]);return n!=null&&v(e,["voiceName"],n),e}function E8(t){const e={},n=x(t,["prebuiltVoiceConfig"]);return n!=null&&v(e,["prebuiltVoiceConfig"],dee(n)),e}function fee(t){const e={},n=x(t,["speaker"]);n!=null&&v(e,["speaker"],n);const r=x(t,["voiceConfig"]);return r!=null&&v(e,["voiceConfig"],E8(r)),e}function hee(t){const e={},n=x(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>fee(s))),v(e,["speakerVoiceConfigs"],r)}return e}function mee(t){const e={},n=x(t,["voiceConfig"]);n!=null&&v(e,["voiceConfig"],E8(n));const r=x(t,["multiSpeakerVoiceConfig"]);r!=null&&v(e,["multiSpeakerVoiceConfig"],hee(r));const s=x(t,["languageCode"]);return s!=null&&v(e,["languageCode"],s),e}function pee(t){const e={},n=x(t,["includeThoughts"]);n!=null&&v(e,["includeThoughts"],n);const r=x(t,["thinkingBudget"]);return r!=null&&v(e,["thinkingBudget"],r),e}function gee(t,e,n){const r={},s=x(e,["systemInstruction"]);n!==void 0&&s!=null&&v(n,["systemInstruction"],$y(Ri(s)));const a=x(e,["temperature"]);a!=null&&v(r,["temperature"],a);const i=x(e,["topP"]);i!=null&&v(r,["topP"],i);const o=x(e,["topK"]);o!=null&&v(r,["topK"],o);const l=x(e,["candidateCount"]);l!=null&&v(r,["candidateCount"],l);const A=x(e,["maxOutputTokens"]);A!=null&&v(r,["maxOutputTokens"],A);const d=x(e,["stopSequences"]);d!=null&&v(r,["stopSequences"],d);const h=x(e,["responseLogprobs"]);h!=null&&v(r,["responseLogprobs"],h);const p=x(e,["logprobs"]);p!=null&&v(r,["logprobs"],p);const g=x(e,["presencePenalty"]);g!=null&&v(r,["presencePenalty"],g);const w=x(e,["frequencyPenalty"]);w!=null&&v(r,["frequencyPenalty"],w);const b=x(e,["seed"]);b!=null&&v(r,["seed"],b);const E=x(e,["responseMimeType"]);E!=null&&v(r,["responseMimeType"],E);const T=x(e,["responseSchema"]);T!=null&&v(r,["responseSchema"],ZZ(C5(T)));const I=x(e,["responseJsonSchema"]);if(I!=null&&v(r,["responseJsonSchema"],I),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=x(e,["safetySettings"]);if(n!==void 0&&k!=null){let P=k;Array.isArray(P)&&(P=P.map(M=>eee(M))),v(n,["safetySettings"],P)}const F=x(e,["tools"]);if(n!==void 0&&F!=null){let P=Dm(F);Array.isArray(P)&&(P=P.map(M=>oee(Rm(M)))),v(n,["tools"],P)}const R=x(e,["toolConfig"]);if(n!==void 0&&R!=null&&v(n,["toolConfig"],uee(R)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=x(e,["cachedContent"]);n!==void 0&&L!=null&&v(n,["cachedContent"],Su(t,L));const S=x(e,["responseModalities"]);S!=null&&v(r,["responseModalities"],S);const N=x(e,["mediaResolution"]);N!=null&&v(r,["mediaResolution"],N);const B=x(e,["speechConfig"]);if(B!=null&&v(r,["speechConfig"],mee(E5(B))),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const H=x(e,["thinkingConfig"]);return H!=null&&v(r,["thinkingConfig"],pee(H)),r}function zk(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],jr(t,r));const s=x(e,["contents"]);if(s!=null){let i=Il(s);Array.isArray(i)&&(i=i.map(o=>$y(o))),v(n,["contents"],i)}const a=x(e,["config"]);return a!=null&&v(n,["generationConfig"],gee(t,a,n)),n}function xee(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&v(e,["requests[]","taskType"],r);const s=x(t,["title"]);e!==void 0&&s!=null&&v(e,["requests[]","title"],s);const a=x(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&v(e,["requests[]","outputDimensionality"],a),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function vee(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],jr(t,r));const s=x(e,["contents"]);s!=null&&v(n,["requests[]","content"],o8(t,s));const a=x(e,["config"]);a!=null&&v(n,["config"],xee(a,n));const i=x(e,["model"]);return i!==void 0&&v(n,["requests[]","model"],jr(t,i)),n}function yee(t,e){const n={};if(x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=x(t,["numberOfImages"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const s=x(t,["aspectRatio"]);e!==void 0&&s!=null&&v(e,["parameters","aspectRatio"],s);const a=x(t,["guidanceScale"]);if(e!==void 0&&a!=null&&v(e,["parameters","guidanceScale"],a),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=x(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&v(e,["parameters","safetySetting"],i);const o=x(t,["personGeneration"]);e!==void 0&&o!=null&&v(e,["parameters","personGeneration"],o);const l=x(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&v(e,["parameters","includeSafetyAttributes"],l);const A=x(t,["includeRaiReason"]);e!==void 0&&A!=null&&v(e,["parameters","includeRaiReason"],A);const d=x(t,["language"]);e!==void 0&&d!=null&&v(e,["parameters","language"],d);const h=x(t,["outputMimeType"]);e!==void 0&&h!=null&&v(e,["parameters","outputOptions","mimeType"],h);const p=x(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&v(e,["parameters","outputOptions","compressionQuality"],p),x(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(t,["imageSize"])!==void 0)throw new Error("imageSize parameter is not supported in Gemini API.");if(x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function wee(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],jr(t,r));const s=x(e,["prompt"]);s!=null&&v(n,["instances[0]","prompt"],s);const a=x(e,["config"]);return a!=null&&v(n,["config"],yee(a,n)),n}function bee(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","name"],jr(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function Cee(t,e,n){const r={},s=x(e,["pageSize"]);n!==void 0&&s!=null&&v(n,["_query","pageSize"],s);const a=x(e,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const i=x(e,["filter"]);n!==void 0&&i!=null&&v(n,["_query","filter"],i);const o=x(e,["queryBase"]);return n!==void 0&&o!=null&&v(n,["_url","models_url"],A8(t,o)),r}function Eee(t,e){const n={},r=x(e,["config"]);return r!=null&&v(n,["config"],Cee(t,r,n)),n}function _ee(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const s=x(t,["description"]);e!==void 0&&s!=null&&v(e,["description"],s);const a=x(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&v(e,["defaultCheckpointId"],a),n}function See(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","name"],jr(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],_ee(s,n)),n}function Tee(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","name"],jr(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function Bee(t){const e={};if(x(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Nee(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],jr(t,r));const s=x(e,["contents"]);if(s!=null){let i=Il(s);Array.isArray(i)&&(i=i.map(o=>$y(o))),v(n,["contents"],i)}const a=x(e,["config"]);return a!=null&&v(n,["config"],Bee(a)),n}function kee(t){const e={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=x(t,["imageBytes"]);n!=null&&v(e,["bytesBase64Encoded"],Ch(n));const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Iee(t,e){const n={},r=x(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r),x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=x(t,["durationSeconds"]);if(e!==void 0&&s!=null&&v(e,["parameters","durationSeconds"],s),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=x(t,["aspectRatio"]);if(e!==void 0&&a!=null&&v(e,["parameters","aspectRatio"],a),x(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const i=x(t,["personGeneration"]);if(e!==void 0&&i!=null&&v(e,["parameters","personGeneration"],i),x(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const o=x(t,["negativePrompt"]);e!==void 0&&o!=null&&v(e,["parameters","negativePrompt"],o);const l=x(t,["enhancePrompt"]);if(e!==void 0&&l!=null&&v(e,["parameters","enhancePrompt"],l),x(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(x(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(x(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Fee(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],jr(t,r));const s=x(e,["prompt"]);s!=null&&v(n,["instances[0]","prompt"],s);const a=x(e,["image"]);if(a!=null&&v(n,["instances[0]","image"],kee(a)),x(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const i=x(e,["config"]);return i!=null&&v(n,["config"],Iee(i,n)),n}function Ree(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function Dee(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["data"]);r!=null&&v(e,["data"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function Uee(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["fileUri"]);r!=null&&v(e,["fileUri"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function Lee(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],Ree(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],Dee(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],Uee(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function Lm(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Lee(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function Mee(t){const e={},n=x(t,["anyOf"]);n!=null&&v(e,["anyOf"],n);const r=x(t,["default"]);r!=null&&v(e,["default"],r);const s=x(t,["description"]);s!=null&&v(e,["description"],s);const a=x(t,["enum"]);a!=null&&v(e,["enum"],a);const i=x(t,["example"]);i!=null&&v(e,["example"],i);const o=x(t,["format"]);o!=null&&v(e,["format"],o);const l=x(t,["items"]);l!=null&&v(e,["items"],l);const A=x(t,["maxItems"]);A!=null&&v(e,["maxItems"],A);const d=x(t,["maxLength"]);d!=null&&v(e,["maxLength"],d);const h=x(t,["maxProperties"]);h!=null&&v(e,["maxProperties"],h);const p=x(t,["maximum"]);p!=null&&v(e,["maximum"],p);const g=x(t,["minItems"]);g!=null&&v(e,["minItems"],g);const w=x(t,["minLength"]);w!=null&&v(e,["minLength"],w);const b=x(t,["minProperties"]);b!=null&&v(e,["minProperties"],b);const E=x(t,["minimum"]);E!=null&&v(e,["minimum"],E);const T=x(t,["nullable"]);T!=null&&v(e,["nullable"],T);const I=x(t,["pattern"]);I!=null&&v(e,["pattern"],I);const k=x(t,["properties"]);k!=null&&v(e,["properties"],k);const F=x(t,["propertyOrdering"]);F!=null&&v(e,["propertyOrdering"],F);const R=x(t,["required"]);R!=null&&v(e,["required"],R);const L=x(t,["title"]);L!=null&&v(e,["title"],L);const S=x(t,["type"]);return S!=null&&v(e,["type"],S),e}function Pee(t){const e={},n=x(t,["featureSelectionPreference"]);return n!=null&&v(e,["featureSelectionPreference"],n),e}function jee(t){const e={},n=x(t,["method"]);n!=null&&v(e,["method"],n);const r=x(t,["category"]);r!=null&&v(e,["category"],r);const s=x(t,["threshold"]);return s!=null&&v(e,["threshold"],s),e}function Oee(t){const e={};if(x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(t,["description"]);n!=null&&v(e,["description"],n);const r=x(t,["name"]);r!=null&&v(e,["name"],r);const s=x(t,["parameters"]);s!=null&&v(e,["parameters"],s);const a=x(t,["parametersJsonSchema"]);a!=null&&v(e,["parametersJsonSchema"],a);const i=x(t,["response"]);i!=null&&v(e,["response"],i);const o=x(t,["responseJsonSchema"]);return o!=null&&v(e,["responseJsonSchema"],o),e}function Qee(t){const e={},n=x(t,["startTime"]);n!=null&&v(e,["startTime"],n);const r=x(t,["endTime"]);return r!=null&&v(e,["endTime"],r),e}function Hee(t){const e={},n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],Qee(n)),e}function Vee(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["dynamicThreshold"]);return r!=null&&v(e,["dynamicThreshold"],r),e}function Gee(t){const e={},n=x(t,["dynamicRetrievalConfig"]);return n!=null&&v(e,["dynamicRetrievalConfig"],Vee(n)),e}function zee(){return{}}function Kee(t){const e={},n=x(t,["apiKeyString"]);return n!=null&&v(e,["apiKeyString"],n),e}function qee(t){const e={},n=x(t,["apiKeyConfig"]);n!=null&&v(e,["apiKeyConfig"],Kee(n));const r=x(t,["authType"]);r!=null&&v(e,["authType"],r);const s=x(t,["googleServiceAccountConfig"]);s!=null&&v(e,["googleServiceAccountConfig"],s);const a=x(t,["httpBasicAuthConfig"]);a!=null&&v(e,["httpBasicAuthConfig"],a);const i=x(t,["oauthConfig"]);i!=null&&v(e,["oauthConfig"],i);const o=x(t,["oidcConfig"]);return o!=null&&v(e,["oidcConfig"],o),e}function Wee(t){const e={},n=x(t,["authConfig"]);return n!=null&&v(e,["authConfig"],qee(n)),e}function $ee(){return{}}function _8(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>Oee(p))),v(e,["functionDeclarations"],h)}const r=x(t,["retrieval"]);r!=null&&v(e,["retrieval"],r);const s=x(t,["googleSearch"]);s!=null&&v(e,["googleSearch"],Hee(s));const a=x(t,["googleSearchRetrieval"]);a!=null&&v(e,["googleSearchRetrieval"],Gee(a)),x(t,["enterpriseWebSearch"])!=null&&v(e,["enterpriseWebSearch"],zee());const o=x(t,["googleMaps"]);o!=null&&v(e,["googleMaps"],Wee(o)),x(t,["urlContext"])!=null&&v(e,["urlContext"],$ee());const A=x(t,["codeExecution"]);A!=null&&v(e,["codeExecution"],A);const d=x(t,["computerUse"]);return d!=null&&v(e,["computerUse"],d),e}function Yee(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["allowedFunctionNames"]);return r!=null&&v(e,["allowedFunctionNames"],r),e}function Jee(t){const e={},n=x(t,["latitude"]);n!=null&&v(e,["latitude"],n);const r=x(t,["longitude"]);return r!=null&&v(e,["longitude"],r),e}function Xee(t){const e={},n=x(t,["latLng"]);n!=null&&v(e,["latLng"],Jee(n));const r=x(t,["languageCode"]);return r!=null&&v(e,["languageCode"],r),e}function Zee(t){const e={},n=x(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],Yee(n));const r=x(t,["retrievalConfig"]);return r!=null&&v(e,["retrievalConfig"],Xee(r)),e}function ete(t){const e={},n=x(t,["voiceName"]);return n!=null&&v(e,["voiceName"],n),e}function tte(t){const e={},n=x(t,["prebuiltVoiceConfig"]);return n!=null&&v(e,["prebuiltVoiceConfig"],ete(n)),e}function nte(t){const e={},n=x(t,["voiceConfig"]);if(n!=null&&v(e,["voiceConfig"],tte(n)),x(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=x(t,["languageCode"]);return r!=null&&v(e,["languageCode"],r),e}function rte(t){const e={},n=x(t,["includeThoughts"]);n!=null&&v(e,["includeThoughts"],n);const r=x(t,["thinkingBudget"]);return r!=null&&v(e,["thinkingBudget"],r),e}function ste(t,e,n){const r={},s=x(e,["systemInstruction"]);n!==void 0&&s!=null&&v(n,["systemInstruction"],Lm(Ri(s)));const a=x(e,["temperature"]);a!=null&&v(r,["temperature"],a);const i=x(e,["topP"]);i!=null&&v(r,["topP"],i);const o=x(e,["topK"]);o!=null&&v(r,["topK"],o);const l=x(e,["candidateCount"]);l!=null&&v(r,["candidateCount"],l);const A=x(e,["maxOutputTokens"]);A!=null&&v(r,["maxOutputTokens"],A);const d=x(e,["stopSequences"]);d!=null&&v(r,["stopSequences"],d);const h=x(e,["responseLogprobs"]);h!=null&&v(r,["responseLogprobs"],h);const p=x(e,["logprobs"]);p!=null&&v(r,["logprobs"],p);const g=x(e,["presencePenalty"]);g!=null&&v(r,["presencePenalty"],g);const w=x(e,["frequencyPenalty"]);w!=null&&v(r,["frequencyPenalty"],w);const b=x(e,["seed"]);b!=null&&v(r,["seed"],b);const E=x(e,["responseMimeType"]);E!=null&&v(r,["responseMimeType"],E);const T=x(e,["responseSchema"]);T!=null&&v(r,["responseSchema"],Mee(C5(T)));const I=x(e,["responseJsonSchema"]);I!=null&&v(r,["responseJsonSchema"],I);const k=x(e,["routingConfig"]);k!=null&&v(r,["routingConfig"],k);const F=x(e,["modelSelectionConfig"]);F!=null&&v(r,["modelConfig"],Pee(F));const R=x(e,["safetySettings"]);if(n!==void 0&&R!=null){let oe=R;Array.isArray(oe)&&(oe=oe.map(K=>jee(K))),v(n,["safetySettings"],oe)}const L=x(e,["tools"]);if(n!==void 0&&L!=null){let oe=Dm(L);Array.isArray(oe)&&(oe=oe.map(K=>_8(Rm(K)))),v(n,["tools"],oe)}const S=x(e,["toolConfig"]);n!==void 0&&S!=null&&v(n,["toolConfig"],Zee(S));const N=x(e,["labels"]);n!==void 0&&N!=null&&v(n,["labels"],N);const B=x(e,["cachedContent"]);n!==void 0&&B!=null&&v(n,["cachedContent"],Su(t,B));const H=x(e,["responseModalities"]);H!=null&&v(r,["responseModalities"],H);const P=x(e,["mediaResolution"]);P!=null&&v(r,["mediaResolution"],P);const M=x(e,["speechConfig"]);M!=null&&v(r,["speechConfig"],nte(E5(M)));const V=x(e,["audioTimestamp"]);V!=null&&v(r,["audioTimestamp"],V);const G=x(e,["thinkingConfig"]);return G!=null&&v(r,["thinkingConfig"],rte(G)),r}function Kk(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],jr(t,r));const s=x(e,["contents"]);if(s!=null){let i=Il(s);Array.isArray(i)&&(i=i.map(o=>Lm(o))),v(n,["contents"],i)}const a=x(e,["config"]);return a!=null&&v(n,["generationConfig"],ste(t,a,n)),n}function ate(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&v(e,["instances[]","task_type"],r);const s=x(t,["title"]);e!==void 0&&s!=null&&v(e,["instances[]","title"],s);const a=x(t,["outputDimensionality"]);e!==void 0&&a!=null&&v(e,["parameters","outputDimensionality"],a);const i=x(t,["mimeType"]);e!==void 0&&i!=null&&v(e,["instances[]","mimeType"],i);const o=x(t,["autoTruncate"]);return e!==void 0&&o!=null&&v(e,["parameters","autoTruncate"],o),n}function ite(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],jr(t,r));const s=x(e,["contents"]);s!=null&&v(n,["instances[]","content"],o8(t,s));const a=x(e,["config"]);return a!=null&&v(n,["config"],ate(a,n)),n}function ote(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const s=x(t,["negativePrompt"]);e!==void 0&&s!=null&&v(e,["parameters","negativePrompt"],s);const a=x(t,["numberOfImages"]);e!==void 0&&a!=null&&v(e,["parameters","sampleCount"],a);const i=x(t,["aspectRatio"]);e!==void 0&&i!=null&&v(e,["parameters","aspectRatio"],i);const o=x(t,["guidanceScale"]);e!==void 0&&o!=null&&v(e,["parameters","guidanceScale"],o);const l=x(t,["seed"]);e!==void 0&&l!=null&&v(e,["parameters","seed"],l);const A=x(t,["safetyFilterLevel"]);e!==void 0&&A!=null&&v(e,["parameters","safetySetting"],A);const d=x(t,["personGeneration"]);e!==void 0&&d!=null&&v(e,["parameters","personGeneration"],d);const h=x(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&v(e,["parameters","includeSafetyAttributes"],h);const p=x(t,["includeRaiReason"]);e!==void 0&&p!=null&&v(e,["parameters","includeRaiReason"],p);const g=x(t,["language"]);e!==void 0&&g!=null&&v(e,["parameters","language"],g);const w=x(t,["outputMimeType"]);e!==void 0&&w!=null&&v(e,["parameters","outputOptions","mimeType"],w);const b=x(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&v(e,["parameters","outputOptions","compressionQuality"],b);const E=x(t,["addWatermark"]);e!==void 0&&E!=null&&v(e,["parameters","addWatermark"],E);const T=x(t,["imageSize"]);e!==void 0&&T!=null&&v(e,["parameters","sampleImageSize"],T);const I=x(t,["enhancePrompt"]);return e!==void 0&&I!=null&&v(e,["parameters","enhancePrompt"],I),n}function lte(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],jr(t,r));const s=x(e,["prompt"]);s!=null&&v(n,["instances[0]","prompt"],s);const a=x(e,["config"]);return a!=null&&v(n,["config"],ote(a,n)),n}function Yy(t){const e={},n=x(t,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const r=x(t,["imageBytes"]);r!=null&&v(e,["bytesBase64Encoded"],Ch(r));const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function cte(t){const e={},n=x(t,["maskMode"]);n!=null&&v(e,["maskMode"],n);const r=x(t,["segmentationClasses"]);r!=null&&v(e,["maskClasses"],r);const s=x(t,["maskDilation"]);return s!=null&&v(e,["dilation"],s),e}function Ate(t){const e={},n=x(t,["controlType"]);n!=null&&v(e,["controlType"],n);const r=x(t,["enableControlImageComputation"]);return r!=null&&v(e,["computeControl"],r),e}function ute(t){const e={},n=x(t,["styleDescription"]);return n!=null&&v(e,["styleDescription"],n),e}function dte(t){const e={},n=x(t,["subjectType"]);n!=null&&v(e,["subjectType"],n);const r=x(t,["subjectDescription"]);return r!=null&&v(e,["subjectDescription"],r),e}function fte(t){const e={},n=x(t,["referenceImage"]);n!=null&&v(e,["referenceImage"],Yy(n));const r=x(t,["referenceId"]);r!=null&&v(e,["referenceId"],r);const s=x(t,["referenceType"]);s!=null&&v(e,["referenceType"],s);const a=x(t,["maskImageConfig"]);a!=null&&v(e,["maskImageConfig"],cte(a));const i=x(t,["controlImageConfig"]);i!=null&&v(e,["controlImageConfig"],Ate(i));const o=x(t,["styleImageConfig"]);o!=null&&v(e,["styleImageConfig"],ute(o));const l=x(t,["subjectImageConfig"]);return l!=null&&v(e,["subjectImageConfig"],dte(l)),e}function hte(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const s=x(t,["negativePrompt"]);e!==void 0&&s!=null&&v(e,["parameters","negativePrompt"],s);const a=x(t,["numberOfImages"]);e!==void 0&&a!=null&&v(e,["parameters","sampleCount"],a);const i=x(t,["aspectRatio"]);e!==void 0&&i!=null&&v(e,["parameters","aspectRatio"],i);const o=x(t,["guidanceScale"]);e!==void 0&&o!=null&&v(e,["parameters","guidanceScale"],o);const l=x(t,["seed"]);e!==void 0&&l!=null&&v(e,["parameters","seed"],l);const A=x(t,["safetyFilterLevel"]);e!==void 0&&A!=null&&v(e,["parameters","safetySetting"],A);const d=x(t,["personGeneration"]);e!==void 0&&d!=null&&v(e,["parameters","personGeneration"],d);const h=x(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&v(e,["parameters","includeSafetyAttributes"],h);const p=x(t,["includeRaiReason"]);e!==void 0&&p!=null&&v(e,["parameters","includeRaiReason"],p);const g=x(t,["language"]);e!==void 0&&g!=null&&v(e,["parameters","language"],g);const w=x(t,["outputMimeType"]);e!==void 0&&w!=null&&v(e,["parameters","outputOptions","mimeType"],w);const b=x(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&v(e,["parameters","outputOptions","compressionQuality"],b);const E=x(t,["addWatermark"]);e!==void 0&&E!=null&&v(e,["parameters","addWatermark"],E);const T=x(t,["editMode"]);e!==void 0&&T!=null&&v(e,["parameters","editMode"],T);const I=x(t,["baseSteps"]);return e!==void 0&&I!=null&&v(e,["parameters","editConfig","baseSteps"],I),n}function mte(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],jr(t,r));const s=x(e,["prompt"]);s!=null&&v(n,["instances[0]","prompt"],s);const a=x(e,["referenceImages"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>fte(l))),v(n,["instances[0]","referenceImages"],o)}const i=x(e,["config"]);return i!=null&&v(n,["config"],hte(i,n)),n}function pte(t,e){const n={},r=x(t,["includeRaiReason"]);e!==void 0&&r!=null&&v(e,["parameters","includeRaiReason"],r);const s=x(t,["outputMimeType"]);e!==void 0&&s!=null&&v(e,["parameters","outputOptions","mimeType"],s);const a=x(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&v(e,["parameters","outputOptions","compressionQuality"],a);const i=x(t,["enhanceInputImage"]);e!==void 0&&i!=null&&v(e,["parameters","upscaleConfig","enhanceInputImage"],i);const o=x(t,["imagePreservationFactor"]);e!==void 0&&o!=null&&v(e,["parameters","upscaleConfig","imagePreservationFactor"],o);const l=x(t,["numberOfImages"]);e!==void 0&&l!=null&&v(e,["parameters","sampleCount"],l);const A=x(t,["mode"]);return e!==void 0&&A!=null&&v(e,["parameters","mode"],A),n}function gte(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],jr(t,r));const s=x(e,["image"]);s!=null&&v(n,["instances[0]","image"],Yy(s));const a=x(e,["upscaleFactor"]);a!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],a);const i=x(e,["config"]);return i!=null&&v(n,["config"],pte(i,n)),n}function xte(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","name"],jr(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function vte(t,e,n){const r={},s=x(e,["pageSize"]);n!==void 0&&s!=null&&v(n,["_query","pageSize"],s);const a=x(e,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const i=x(e,["filter"]);n!==void 0&&i!=null&&v(n,["_query","filter"],i);const o=x(e,["queryBase"]);return n!==void 0&&o!=null&&v(n,["_url","models_url"],A8(t,o)),r}function yte(t,e){const n={},r=x(e,["config"]);return r!=null&&v(n,["config"],vte(t,r,n)),n}function wte(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const s=x(t,["description"]);e!==void 0&&s!=null&&v(e,["description"],s);const a=x(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&v(e,["defaultCheckpointId"],a),n}function bte(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],jr(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],wte(s,n)),n}function Cte(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","name"],jr(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function Ete(t,e){const n={},r=x(t,["systemInstruction"]);e!==void 0&&r!=null&&v(e,["systemInstruction"],Lm(Ri(r)));const s=x(t,["tools"]);if(e!==void 0&&s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>_8(o))),v(e,["tools"],i)}const a=x(t,["generationConfig"]);return e!==void 0&&a!=null&&v(e,["generationConfig"],a),n}function _te(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],jr(t,r));const s=x(e,["contents"]);if(s!=null){let i=Il(s);Array.isArray(i)&&(i=i.map(o=>Lm(o))),v(n,["contents"],i)}const a=x(e,["config"]);return a!=null&&v(n,["config"],Ete(a,n)),n}function Ste(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],jr(t,r));const s=x(e,["contents"]);if(s!=null){let i=Il(s);Array.isArray(i)&&(i=i.map(o=>Lm(o))),v(n,["contents"],i)}const a=x(e,["config"]);return a!=null&&v(n,["config"],a),n}function Tte(t){const e={},n=x(t,["uri"]);n!=null&&v(e,["gcsUri"],n);const r=x(t,["videoBytes"]);r!=null&&v(e,["bytesBase64Encoded"],Ch(r));const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function Bte(t,e){const n={},r=x(t,["numberOfVideos"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const s=x(t,["outputGcsUri"]);e!==void 0&&s!=null&&v(e,["parameters","storageUri"],s);const a=x(t,["fps"]);e!==void 0&&a!=null&&v(e,["parameters","fps"],a);const i=x(t,["durationSeconds"]);e!==void 0&&i!=null&&v(e,["parameters","durationSeconds"],i);const o=x(t,["seed"]);e!==void 0&&o!=null&&v(e,["parameters","seed"],o);const l=x(t,["aspectRatio"]);e!==void 0&&l!=null&&v(e,["parameters","aspectRatio"],l);const A=x(t,["resolution"]);e!==void 0&&A!=null&&v(e,["parameters","resolution"],A);const d=x(t,["personGeneration"]);e!==void 0&&d!=null&&v(e,["parameters","personGeneration"],d);const h=x(t,["pubsubTopic"]);e!==void 0&&h!=null&&v(e,["parameters","pubsubTopic"],h);const p=x(t,["negativePrompt"]);e!==void 0&&p!=null&&v(e,["parameters","negativePrompt"],p);const g=x(t,["enhancePrompt"]);e!==void 0&&g!=null&&v(e,["parameters","enhancePrompt"],g);const w=x(t,["generateAudio"]);e!==void 0&&w!=null&&v(e,["parameters","generateAudio"],w);const b=x(t,["lastFrame"]);e!==void 0&&b!=null&&v(e,["instances[0]","lastFrame"],Yy(b));const E=x(t,["compressionQuality"]);return e!==void 0&&E!=null&&v(e,["parameters","compressionQuality"],E),n}function Nte(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],jr(t,r));const s=x(e,["prompt"]);s!=null&&v(n,["instances[0]","prompt"],s);const a=x(e,["image"]);a!=null&&v(n,["instances[0]","image"],Yy(a));const i=x(e,["video"]);i!=null&&v(n,["instances[0]","video"],Tte(i));const o=x(e,["config"]);return o!=null&&v(n,["config"],Bte(o,n)),n}function kte(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function Ite(t){const e={},n=x(t,["data"]);n!=null&&v(e,["data"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Fte(t){const e={},n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Rte(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],kte(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],Ite(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],Fte(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function Dte(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Rte(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function Ute(t){const e={},n=x(t,["citationSources"]);return n!=null&&v(e,["citations"],n),e}function Lte(t){const e={},n=x(t,["retrievedUrl"]);n!=null&&v(e,["retrievedUrl"],n);const r=x(t,["urlRetrievalStatus"]);return r!=null&&v(e,["urlRetrievalStatus"],r),e}function Mte(t){const e={},n=x(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Lte(s))),v(e,["urlMetadata"],r)}return e}function Pte(t){const e={},n=x(t,["content"]);n!=null&&v(e,["content"],Dte(n));const r=x(t,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],Ute(r));const s=x(t,["tokenCount"]);s!=null&&v(e,["tokenCount"],s);const a=x(t,["finishReason"]);a!=null&&v(e,["finishReason"],a);const i=x(t,["urlContextMetadata"]);i!=null&&v(e,["urlContextMetadata"],Mte(i));const o=x(t,["avgLogprobs"]);o!=null&&v(e,["avgLogprobs"],o);const l=x(t,["groundingMetadata"]);l!=null&&v(e,["groundingMetadata"],l);const A=x(t,["index"]);A!=null&&v(e,["index"],A);const d=x(t,["logprobsResult"]);d!=null&&v(e,["logprobsResult"],d);const h=x(t,["safetyRatings"]);return h!=null&&v(e,["safetyRatings"],h),e}function qk(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Pte(l))),v(e,["candidates"],o)}const s=x(t,["modelVersion"]);s!=null&&v(e,["modelVersion"],s);const a=x(t,["promptFeedback"]);a!=null&&v(e,["promptFeedback"],a);const i=x(t,["usageMetadata"]);return i!=null&&v(e,["usageMetadata"],i),e}function jte(t){const e={},n=x(t,["values"]);return n!=null&&v(e,["values"],n),e}function Ote(){return{}}function Qte(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>jte(i))),v(e,["embeddings"],a)}return x(t,["metadata"])!=null&&v(e,["metadata"],Ote()),e}function Hte(t){const e={},n=x(t,["bytesBase64Encoded"]);n!=null&&v(e,["imageBytes"],Ch(n));const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function S8(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&v(e,["scores"],r);const s=x(t,["contentType"]);return s!=null&&v(e,["contentType"],s),e}function Vte(t){const e={},n=x(t,["_self"]);n!=null&&v(e,["image"],Hte(n));const r=x(t,["raiFilteredReason"]);r!=null&&v(e,["raiFilteredReason"],r);const s=x(t,["_self"]);return s!=null&&v(e,["safetyAttributes"],S8(s)),e}function Gte(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Vte(i))),v(e,["generatedImages"],a)}const s=x(t,["positivePromptSafetyAttributes"]);return s!=null&&v(e,["positivePromptSafetyAttributes"],S8(s)),e}function zte(t){const e={},n=x(t,["baseModel"]);n!=null&&v(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&v(e,["createTime"],r);const s=x(t,["updateTime"]);return s!=null&&v(e,["updateTime"],s),e}function A_(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["displayName"]);r!=null&&v(e,["displayName"],r);const s=x(t,["description"]);s!=null&&v(e,["description"],s);const a=x(t,["version"]);a!=null&&v(e,["version"],a);const i=x(t,["_self"]);i!=null&&v(e,["tunedModelInfo"],zte(i));const o=x(t,["inputTokenLimit"]);o!=null&&v(e,["inputTokenLimit"],o);const l=x(t,["outputTokenLimit"]);l!=null&&v(e,["outputTokenLimit"],l);const A=x(t,["supportedGenerationMethods"]);return A!=null&&v(e,["supportedActions"],A),e}function Kte(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const s=x(t,["_self"]);if(s!=null){let a=u8(s);Array.isArray(a)&&(a=a.map(i=>A_(i))),v(e,["models"],a)}return e}function qte(){return{}}function Wte(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);r!=null&&v(e,["totalTokens"],r);const s=x(t,["cachedContentTokenCount"]);return s!=null&&v(e,["cachedContentTokenCount"],s),e}function $te(t){const e={},n=x(t,["video","uri"]);n!=null&&v(e,["uri"],n);const r=x(t,["video","encodedVideo"]);r!=null&&v(e,["videoBytes"],Ch(r));const s=x(t,["encoding"]);return s!=null&&v(e,["mimeType"],s),e}function Yte(t){const e={},n=x(t,["_self"]);return n!=null&&v(e,["video"],$te(n)),e}function Jte(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>Yte(i))),v(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const s=x(t,["raiMediaFilteredReasons"]);return s!=null&&v(e,["raiMediaFilteredReasons"],s),e}function Xte(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["metadata"]);r!=null&&v(e,["metadata"],r);const s=x(t,["done"]);s!=null&&v(e,["done"],s);const a=x(t,["error"]);a!=null&&v(e,["error"],a);const i=x(t,["response","generateVideoResponse"]);return i!=null&&v(e,["response"],Jte(i)),e}function Zte(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function ene(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["data"]);r!=null&&v(e,["data"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function tne(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["fileUri"]);r!=null&&v(e,["fileUri"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function nne(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],Zte(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],ene(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],tne(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function rne(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>nne(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function sne(t){const e={},n=x(t,["citations"]);return n!=null&&v(e,["citations"],n),e}function ane(t){const e={},n=x(t,["retrievedUrl"]);n!=null&&v(e,["retrievedUrl"],n);const r=x(t,["urlRetrievalStatus"]);return r!=null&&v(e,["urlRetrievalStatus"],r),e}function ine(t){const e={},n=x(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>ane(s))),v(e,["urlMetadata"],r)}return e}function one(t){const e={},n=x(t,["content"]);n!=null&&v(e,["content"],rne(n));const r=x(t,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],sne(r));const s=x(t,["finishMessage"]);s!=null&&v(e,["finishMessage"],s);const a=x(t,["finishReason"]);a!=null&&v(e,["finishReason"],a);const i=x(t,["urlContextMetadata"]);i!=null&&v(e,["urlContextMetadata"],ine(i));const o=x(t,["avgLogprobs"]);o!=null&&v(e,["avgLogprobs"],o);const l=x(t,["groundingMetadata"]);l!=null&&v(e,["groundingMetadata"],l);const A=x(t,["index"]);A!=null&&v(e,["index"],A);const d=x(t,["logprobsResult"]);d!=null&&v(e,["logprobsResult"],d);const h=x(t,["safetyRatings"]);return h!=null&&v(e,["safetyRatings"],h),e}function Wk(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let A=r;Array.isArray(A)&&(A=A.map(d=>one(d))),v(e,["candidates"],A)}const s=x(t,["createTime"]);s!=null&&v(e,["createTime"],s);const a=x(t,["responseId"]);a!=null&&v(e,["responseId"],a);const i=x(t,["modelVersion"]);i!=null&&v(e,["modelVersion"],i);const o=x(t,["promptFeedback"]);o!=null&&v(e,["promptFeedback"],o);const l=x(t,["usageMetadata"]);return l!=null&&v(e,["usageMetadata"],l),e}function lne(t){const e={},n=x(t,["truncated"]);n!=null&&v(e,["truncated"],n);const r=x(t,["token_count"]);return r!=null&&v(e,["tokenCount"],r),e}function cne(t){const e={},n=x(t,["values"]);n!=null&&v(e,["values"],n);const r=x(t,["statistics"]);return r!=null&&v(e,["statistics"],lne(r)),e}function Ane(t){const e={},n=x(t,["billableCharacterCount"]);return n!=null&&v(e,["billableCharacterCount"],n),e}function une(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>cne(i))),v(e,["embeddings"],a)}const s=x(t,["metadata"]);return s!=null&&v(e,["metadata"],Ane(s)),e}function dne(t){const e={},n=x(t,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&v(e,["imageBytes"],Ch(r));const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function T8(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&v(e,["scores"],r);const s=x(t,["contentType"]);return s!=null&&v(e,["contentType"],s),e}function S5(t){const e={},n=x(t,["_self"]);n!=null&&v(e,["image"],dne(n));const r=x(t,["raiFilteredReason"]);r!=null&&v(e,["raiFilteredReason"],r);const s=x(t,["_self"]);s!=null&&v(e,["safetyAttributes"],T8(s));const a=x(t,["prompt"]);return a!=null&&v(e,["enhancedPrompt"],a),e}function fne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>S5(i))),v(e,["generatedImages"],a)}const s=x(t,["positivePromptSafetyAttributes"]);return s!=null&&v(e,["positivePromptSafetyAttributes"],T8(s)),e}function hne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>S5(a))),v(e,["generatedImages"],s)}return e}function mne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>S5(a))),v(e,["generatedImages"],s)}return e}function pne(t){const e={},n=x(t,["endpoint"]);n!=null&&v(e,["name"],n);const r=x(t,["deployedModelId"]);return r!=null&&v(e,["deployedModelId"],r),e}function gne(t){const e={},n=x(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&v(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&v(e,["createTime"],r);const s=x(t,["updateTime"]);return s!=null&&v(e,["updateTime"],s),e}function xne(t){const e={},n=x(t,["checkpointId"]);n!=null&&v(e,["checkpointId"],n);const r=x(t,["epoch"]);r!=null&&v(e,["epoch"],r);const s=x(t,["step"]);return s!=null&&v(e,["step"],s),e}function u_(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["displayName"]);r!=null&&v(e,["displayName"],r);const s=x(t,["description"]);s!=null&&v(e,["description"],s);const a=x(t,["versionId"]);a!=null&&v(e,["version"],a);const i=x(t,["deployedModels"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>pne(p))),v(e,["endpoints"],h)}const o=x(t,["labels"]);o!=null&&v(e,["labels"],o);const l=x(t,["_self"]);l!=null&&v(e,["tunedModelInfo"],gne(l));const A=x(t,["defaultCheckpointId"]);A!=null&&v(e,["defaultCheckpointId"],A);const d=x(t,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(p=>xne(p))),v(e,["checkpoints"],h)}return e}function vne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const s=x(t,["_self"]);if(s!=null){let a=u8(s);Array.isArray(a)&&(a=a.map(i=>u_(i))),v(e,["models"],a)}return e}function yne(){return{}}function wne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);return r!=null&&v(e,["totalTokens"],r),e}function bne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["tokensInfo"]);return r!=null&&v(e,["tokensInfo"],r),e}function Cne(t){const e={},n=x(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&v(e,["videoBytes"],Ch(r));const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function Ene(t){const e={},n=x(t,["_self"]);return n!=null&&v(e,["video"],Cne(n)),e}function _ne(t){const e={},n=x(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>Ene(i))),v(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const s=x(t,["raiMediaFilteredReasons"]);return s!=null&&v(e,["raiMediaFilteredReasons"],s),e}function Sne(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["metadata"]);r!=null&&v(e,["metadata"],r);const s=x(t,["done"]);s!=null&&v(e,["done"],s);const a=x(t,["error"]);a!=null&&v(e,["error"],a);const i=x(t,["response"]);return i!=null&&v(e,["response"],_ne(i)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tne="Content-Type",Bne="X-Server-Timeout",Nne="User-Agent",d_="x-goog-api-client",kne="1.12.0",Ine=`google-genai-sdk/${kne}`,Fne="v1beta1",Rne="v1beta",$k=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Dne{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Fne,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Rne,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const s=[this.getRequestUrlInternal(n)];return r&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[i,o]of Object.entries(e.queryParams))s.searchParams.append(i,String(o));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(s,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[s,a]of Object.entries(n))typeof a=="object"?r[s]=Object.assign(Object.assign({},r[s]),a):a!==void 0&&(r[s]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,r);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(s,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const s=new AbortController,a=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const i=setTimeout(()=>s.abort(),n.timeout);i&&typeof i.unref=="function"&&i.unref()}r&&r.addEventListener("abort",()=>{s.abort()}),e.signal=a}return n&&n.extraBody!==null&&Une(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await Yk(s),new s_(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await Yk(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var n;return K0(this,arguments,function*(){const s=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let i="";for(;;){const{done:o,value:l}=yield ns(s.read());if(o){if(i.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const A=a.decode(l,{stream:!0});try{const h=JSON.parse(A);if("error"in h){const p=JSON.parse(JSON.stringify(h.error)),g=p.status,w=p.code,b=`got status: ${g}. ${JSON.stringify(h)}`;if(w>=400&&w<600)throw new Wy({message:b,status:w})}}catch(h){if(h.name==="ApiError")throw h}i+=A;let d=i.match($k);for(;d;){const h=d[1];try{const p=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ns(new s_(p)),i=i.slice(d[0].length),d=i.match($k)}catch(p){throw new Error(`exception parsing stream chunk ${h}. ${p}`)}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Ine+" "+this.clientOptions.userAgentExtra;return e[Nne]=n,e[d_]=n,e[Tne]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,s]of Object.entries(e.headers))n.append(r,s);e.timeout&&e.timeout>0&&n.append(Bne,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const a=this.clientOptions.uploader,i=await a.stat(e);s.sizeBytes=String(i.size);const o=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:i.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=o;const l=await this.fetchUploadUrl(s,n);return a.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let s={};n!=null&&n.httpOptions?s=n.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},i=await this.request({path:rn("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:s});if(!i||!(i!=null&&i.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const o=(r=i==null?void 0:i.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(o===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return o}}async function Yk(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(r);throw n>=400&&n<600?new Wy({message:s,status:n}):new Error(s)}}function Une(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,i){const o=Object.assign({},a);for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const A=i[l],d=o[l];A&&typeof A=="object"&&!Array.isArray(A)&&d&&typeof d=="object"&&!Array.isArray(d)?o[l]=r(d,A):(d&&A&&typeof d!=typeof A&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof A}. Overwriting.`),o[l]=A)}return o}const s=r(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lne="mcp_used/unknown";let Mne=!1;function B8(t){for(const e of t)if(Pne(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Mne}function N8(t){var e;const n=(e=t[d_])!==null&&e!==void 0?e:"";t[d_]=(n+` ${Lne}`).trimStart()}function Pne(t){return t!==null&&typeof t=="object"&&t instanceof T5}function jne(t,e=100){return K0(this,arguments,function*(){let r,s=0;for(;s<e;){const a=yield ns(t.listTools({cursor:r}));for(const i of a.tools)yield yield ns(i),s++;if(!a.nextCursor)break;r=a.nextCursor}})}class T5{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new T5(e,n)}async initialize(){var e,n,r,s;if(this.mcpTools.length>0)return;const a={},i=[];for(const d of this.mcpClients)try{for(var o=!0,l=(n=void 0,mg(jne(d))),A;A=await l.next(),e=A.done,!e;o=!0){s=A.value,o=!1;const h=s;i.push(h);const p=h.name;if(a[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);a[p]=d}}catch(h){n={error:h}}finally{try{!o&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=i,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),D$(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const i=await s.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:i.isError?{error:i}:i}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function One(t,e,n){const r=new S$;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data);const a=DZ(s);Object.assign(r,a),e(r)}class Qne{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),i=Gne(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${s}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${o}`;let A=()=>{};const d=new Promise(k=>{A=k}),h=e.callbacks,p=function(){A({})},g=this.apiClient,w={onopen:p,onmessage:k=>{One(g,h.onmessage,k)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(k){}},b=this.webSocketFactory.create(l,Vne(i),w);b.connect(),await d;const E=jr(this.apiClient,e.model),T=b8({model:E}),I=c_({setup:T});return b.send(JSON.stringify(I)),new Hne(b,this.apiClient)}}class Hne{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=FX(e),r=C8(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=RX(e),r=c_(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=c_({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(U0.PLAY)}pause(){this.sendPlaybackControl(U0.PAUSE)}stop(){this.sendPlaybackControl(U0.STOP)}resetContext(){this.sendPlaybackControl(U0.RESET_CONTEXT)}close(){this.conn.close()}}function Vne(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Gne(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zne="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Kne(t,e,n){const r=new _$;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const a=JSON.parse(s);if(t.isVertexAI()){const i=WZ(a);Object.assign(r,i)}else{const i=_Z(a);Object.assign(r,i)}e(r)}class qne{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Qne(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,s,a,i,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),A=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&B8(e.config.tools)&&N8(h);const p=Jne(h);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${A}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p);else{const B=this.apiClient.getApiKey();let H="BidiGenerateContent",P="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),A!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),H="BidiGenerateContentConstrained",P="access_token"),d=`${l}/ws/google.ai.generativelanguage.${A}.GenerativeService.${H}?${P}=${B}`}let g=()=>{};const w=new Promise(B=>{g=B}),b=e.callbacks,E=function(){var B;(B=b==null?void 0:b.onopen)===null||B===void 0||B.call(b),g({})},T=this.apiClient,I={onopen:E,onmessage:B=>{Kne(T,b.onmessage,B)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(B){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(B){}},k=this.webSocketFactory.create(d,Yne(p),I);k.connect(),await w;let F=jr(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const B=this.apiClient.getProject(),H=this.apiClient.getLocation();F=`projects/${B}/locations/${H}/`+F}let R={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[L2.AUDIO]}:e.config.responseModalities=[L2.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const L=(o=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[],S=[];for(const B of L)if(this.isCallableTool(B)){const H=B;S.push(await H.tool())}else S.push(B);S.length>0&&(e.config.tools=S);const N={model:F,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?R=iZ(this.apiClient,N):R=BX(this.apiClient,N),delete R.config,k.send(JSON.stringify(R)),new $ne(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Wne={turnComplete:!0};class $ne{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Il(n.turns),e.isVertexAI()?r=r.map(s=>Lm(s)):r=r.map(s=>$y(s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(zne)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Wne),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:cZ(e)}:n={realtimeInput:IX(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Yne(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Jne(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jk=10;function Xk(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const i of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(q0(i)){s=!0;break}if(!s)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function q0(t){return"callTool"in t&&typeof t.callTool=="function"}function Xne(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>q0(s)))!==null&&r!==void 0?r:!1}function Zne(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>!q0(s)))!==null&&r!==void 0?r:!1}function Zk(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ere extends bh{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,s,a,i,o;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Xne(n)||Xk(n.config))return await this.generateContentInternal(l);if(Zne(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let A,d;const h=Il(l.contents),p=(a=(s=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:Jk;let g=0;for(;g<p&&(A=await this.generateContentInternal(l),!(!A.functionCalls||A.functionCalls.length===0));){const w=A.candidates[0].content,b=[];for(const E of(o=(i=n.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[])if(q0(E)){const I=await E.callTool(A.functionCalls);b.push(...I)}g++,d={role:"user",parts:b},l.contents=Il(l.contents),l.contents.push(w),l.contents.push(d),Zk(l.config)&&(h.push(w),h.push(d))}return Zk(l.config)&&(A.automaticFunctionCallingHistory=h),A},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Xk(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var s;let a;const i=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((s=l==null?void 0:l.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?a=l==null?void 0:l.safetyAttributes:i.push(l);let o;return a?o={generatedImages:i,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:i,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async n=>{var r;const i={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!i.config.queryBase){if(!((r=i.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");i.config.filter="labels.tune-type:*"}return new _x(oh.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(i),i)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>await this.generateVideosInternal(n)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,s;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const i=await Promise.all(a.map(async l=>q0(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:i})};if(o.config.tools=i,e.config&&e.config.tools&&B8(e.config.tools)){const l=(s=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&s!==void 0?s:{};let A=Object.assign({},l);Object.keys(A).length===0&&(A=this.apiClient.getDefaultHeaders()),N8(A),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:A})}return o}async initAfcToolsMap(e){var n,r,s;const a=new Map;for(const i of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(q0(i)){const o=i,l=await o.tool();for(const A of(s=l.functionDeclarations)!==null&&s!==void 0?s:[]){if(!A.name)throw new Error("Function declaration name is required.");if(a.has(A.name))throw new Error(`Duplicate tool declaration name: ${A.name}`);a.set(A.name,o)}}return a}async processAfcStream(e){var n,r,s;const a=(s=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:Jk;let i=!1,o=0;const l=await this.initAfcToolsMap(e);return function(A,d,h){var p,g;return K0(this,arguments,function*(){for(var w,b,E,T;o<a;){i&&(o++,i=!1);const R=yield ns(A.processParamsMaybeAddMcpUsage(h)),L=yield ns(A.generateContentStreamInternal(R)),S=[],N=[];try{for(var I=!0,k=(b=void 0,mg(L)),F;F=yield ns(k.next()),w=F.done,!w;I=!0){T=F.value,I=!1;const B=T;if(yield yield ns(B),B.candidates&&(!((p=B.candidates[0])===null||p===void 0)&&p.content)){N.push(B.candidates[0].content);for(const H of(g=B.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(o<a&&H.functionCall){if(!H.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(H.functionCall.name)){const P=yield ns(d.get(H.functionCall.name).callTool([H.functionCall]));S.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${H.functionCall.name}`)}}}}catch(B){b={error:B}}finally{try{!I&&!w&&(E=k.return)&&(yield ns(E.call(k)))}finally{if(b)throw b.error}}if(S.length>0){i=!0;const B=new Np;B.candidates=[{content:{role:"user",parts:S}}],yield yield ns(B);const H=[];H.push(...N),H.push({role:"user",parts:S});const P=Il(h.contents).concat(H);h.contents=P}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=Kk(this.apiClient,e);return o=rn("{model}:generateContent",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=Wk(d),p=new Np;return Object.assign(p,h),p})}else{const A=zk(this.apiClient,e);return o=rn("{model}:generateContent",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=qk(d),p=new Np;return Object.assign(p,h),p})}}async generateContentStreamInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=Kk(this.apiClient,e);return o=rn("{model}:streamGenerateContent?alt=sse",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),i.then(function(h){return K0(this,arguments,function*(){var p,g,w,b;try{for(var E=!0,T=mg(h),I;I=yield ns(T.next()),p=I.done,!p;E=!0){b=I.value,E=!1;const k=b,F=Wk(yield ns(k.json()));F.sdkHttpResponse={headers:k.headers};const R=new Np;Object.assign(R,F),yield yield ns(R)}}catch(k){g={error:k}}finally{try{!E&&!p&&(w=T.return)&&(yield ns(w.call(T)))}finally{if(g)throw g.error}}})})}else{const A=zk(this.apiClient,e);return o=rn("{model}:streamGenerateContent?alt=sse",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),i.then(function(h){return K0(this,arguments,function*(){var p,g,w,b;try{for(var E=!0,T=mg(h),I;I=yield ns(T.next()),p=I.done,!p;E=!0){b=I.value,E=!1;const k=b,F=qk(yield ns(k.json()));F.sdkHttpResponse={headers:k.headers};const R=new Np;Object.assign(R,F),yield yield ns(R)}}catch(k){g={error:k}}finally{try{!E&&!p&&(w=T.return)&&(yield ns(w.call(T)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=ite(this.apiClient,e);return o=rn("{model}:predict",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=une(d),p=new Ek;return Object.assign(p,h),p})}else{const A=vee(this.apiClient,e);return o=rn("{model}:batchEmbedContents",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=Qte(d),p=new Ek;return Object.assign(p,h),p})}}async generateImagesInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=lte(this.apiClient,e);return o=rn("{model}:predict",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=fne(d),p=new _k;return Object.assign(p,h),p})}else{const A=wee(this.apiClient,e);return o=rn("{model}:predict",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=Gte(d),p=new _k;return Object.assign(p,h),p})}}async editImageInternal(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI()){const o=mte(this.apiClient,e);return a=rn("{model}:predict",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(A=>{const d=A;return d.sdkHttpResponse={headers:l.headers},d})),s.then(l=>{const A=hne(l),d=new v$;return Object.assign(d,A),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI()){const o=gte(this.apiClient,e);return a=rn("{model}:predict",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(A=>{const d=A;return d.sdkHttpResponse={headers:l.headers},d})),s.then(l=>{const A=mne(l),d=new y$;return Object.assign(d,A),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=xte(this.apiClient,e);return o=rn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>u_(d))}else{const A=bee(this.apiClient,e);return o=rn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>A_(d))}}async listInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=yte(this.apiClient,e);return o=rn("{models_url}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=vne(d),p=new Sk;return Object.assign(p,h),p})}else{const A=Eee(this.apiClient,e);return o=rn("{models_url}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=Kte(d),p=new Sk;return Object.assign(p,h),p})}}async update(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=bte(this.apiClient,e);return o=rn("{model}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>u_(d))}else{const A=See(this.apiClient,e);return o=rn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>A_(d))}}async delete(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=Cte(this.apiClient,e);return o=rn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(()=>{const d=yne(),h=new Tk;return Object.assign(h,d),h})}else{const A=Tee(this.apiClient,e);return o=rn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(()=>{const d=qte(),h=new Tk;return Object.assign(h,d),h})}}async countTokens(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=_te(this.apiClient,e);return o=rn("{model}:countTokens",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=wne(d),p=new Bk;return Object.assign(p,h),p})}else{const A=Nee(this.apiClient,e);return o=rn("{model}:countTokens",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=Wte(d),p=new Bk;return Object.assign(p,h),p})}}async computeTokens(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI()){const o=Ste(this.apiClient,e);return a=rn("{model}:computeTokens",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(A=>{const d=A;return d.sdkHttpResponse={headers:l.headers},d})),s.then(l=>{const A=bne(l),d=new w$;return Object.assign(d,A),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=Nte(this.apiClient,e);return o=rn("{model}:predictLongRunning",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const h=Sne(d),p=new M2;return Object.assign(p,h),p})}else{const A=Fee(this.apiClient,e);return o=rn("{model}:predictLongRunning",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>{const h=Xte(d),p=new M2;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tre(t){const e={},n=x(t,["operationName"]);n!=null&&v(e,["_url","operationName"],n);const r=x(t,["config"]);return r!=null&&v(e,["config"],r),e}function nre(t){const e={},n=x(t,["operationName"]);n!=null&&v(e,["_url","operationName"],n);const r=x(t,["config"]);return r!=null&&v(e,["config"],r),e}function rre(t){const e={},n=x(t,["operationName"]);n!=null&&v(e,["operationName"],n);const r=x(t,["resourceName"]);r!=null&&v(e,["_url","resourceName"],r);const s=x(t,["config"]);return s!=null&&v(e,["config"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sre extends bh{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const i=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:i,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const i=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:i,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=nre(e);return o=rn("{operationName}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i}else{const A=tre(e);return o=rn("{operationName}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i}}async fetchPredictVideosOperationInternal(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI()){const o=rre(e);return a=rn("{resourceName}:fetchPredictOperation",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function are(t){const e={},n=x(t,["voiceName"]);return n!=null&&v(e,["voiceName"],n),e}function k8(t){const e={},n=x(t,["prebuiltVoiceConfig"]);return n!=null&&v(e,["prebuiltVoiceConfig"],are(n)),e}function ire(t){const e={},n=x(t,["speaker"]);n!=null&&v(e,["speaker"],n);const r=x(t,["voiceConfig"]);return r!=null&&v(e,["voiceConfig"],k8(r)),e}function ore(t){const e={},n=x(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>ire(s))),v(e,["speakerVoiceConfigs"],r)}return e}function lre(t){const e={},n=x(t,["voiceConfig"]);n!=null&&v(e,["voiceConfig"],k8(n));const r=x(t,["multiSpeakerVoiceConfig"]);r!=null&&v(e,["multiSpeakerVoiceConfig"],ore(r));const s=x(t,["languageCode"]);return s!=null&&v(e,["languageCode"],s),e}function cre(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function Are(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["data"]);n!=null&&v(e,["data"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function ure(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function dre(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],cre(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],Are(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],ure(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function fre(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>dre(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function hre(t){const e={},n=x(t,["behavior"]);n!=null&&v(e,["behavior"],n);const r=x(t,["description"]);r!=null&&v(e,["description"],r);const s=x(t,["name"]);s!=null&&v(e,["name"],s);const a=x(t,["parameters"]);a!=null&&v(e,["parameters"],a);const i=x(t,["parametersJsonSchema"]);i!=null&&v(e,["parametersJsonSchema"],i);const o=x(t,["response"]);o!=null&&v(e,["response"],o);const l=x(t,["responseJsonSchema"]);return l!=null&&v(e,["responseJsonSchema"],l),e}function mre(t){const e={},n=x(t,["startTime"]);n!=null&&v(e,["startTime"],n);const r=x(t,["endTime"]);return r!=null&&v(e,["endTime"],r),e}function pre(t){const e={},n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],mre(n)),e}function gre(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["dynamicThreshold"]);return r!=null&&v(e,["dynamicThreshold"],r),e}function xre(t){const e={},n=x(t,["dynamicRetrievalConfig"]);return n!=null&&v(e,["dynamicRetrievalConfig"],gre(n)),e}function vre(){return{}}function yre(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(A=>hre(A))),v(e,["functionDeclarations"],l)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearch"]);r!=null&&v(e,["googleSearch"],pre(r));const s=x(t,["googleSearchRetrieval"]);if(s!=null&&v(e,["googleSearchRetrieval"],xre(s)),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(x(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");x(t,["urlContext"])!=null&&v(e,["urlContext"],vre());const i=x(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const o=x(t,["computerUse"]);return o!=null&&v(e,["computerUse"],o),e}function wre(t){const e={},n=x(t,["handle"]);if(n!=null&&v(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function eI(){return{}}function bre(t){const e={},n=x(t,["disabled"]);n!=null&&v(e,["disabled"],n);const r=x(t,["startOfSpeechSensitivity"]);r!=null&&v(e,["startOfSpeechSensitivity"],r);const s=x(t,["endOfSpeechSensitivity"]);s!=null&&v(e,["endOfSpeechSensitivity"],s);const a=x(t,["prefixPaddingMs"]);a!=null&&v(e,["prefixPaddingMs"],a);const i=x(t,["silenceDurationMs"]);return i!=null&&v(e,["silenceDurationMs"],i),e}function Cre(t){const e={},n=x(t,["automaticActivityDetection"]);n!=null&&v(e,["automaticActivityDetection"],bre(n));const r=x(t,["activityHandling"]);r!=null&&v(e,["activityHandling"],r);const s=x(t,["turnCoverage"]);return s!=null&&v(e,["turnCoverage"],s),e}function Ere(t){const e={},n=x(t,["targetTokens"]);return n!=null&&v(e,["targetTokens"],n),e}function _re(t){const e={},n=x(t,["triggerTokens"]);n!=null&&v(e,["triggerTokens"],n);const r=x(t,["slidingWindow"]);return r!=null&&v(e,["slidingWindow"],Ere(r)),e}function Sre(t){const e={},n=x(t,["proactiveAudio"]);return n!=null&&v(e,["proactiveAudio"],n),e}function Tre(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const s=x(t,["responseModalities"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","responseModalities"],s);const a=x(t,["temperature"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","temperature"],a);const i=x(t,["topP"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","topP"],i);const o=x(t,["topK"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","topK"],o);const l=x(t,["maxOutputTokens"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","maxOutputTokens"],l);const A=x(t,["mediaResolution"]);e!==void 0&&A!=null&&v(e,["setup","generationConfig","mediaResolution"],A);const d=x(t,["seed"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","seed"],d);const h=x(t,["speechConfig"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","speechConfig"],lre(_5(h)));const p=x(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=x(t,["systemInstruction"]);e!==void 0&&g!=null&&v(e,["setup","systemInstruction"],fre(Ri(g)));const w=x(t,["tools"]);if(e!==void 0&&w!=null){let R=Dm(w);Array.isArray(R)&&(R=R.map(L=>yre(Rm(L)))),v(e,["setup","tools"],R)}const b=x(t,["sessionResumption"]);e!==void 0&&b!=null&&v(e,["setup","sessionResumption"],wre(b));const E=x(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&v(e,["setup","inputAudioTranscription"],eI());const T=x(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&v(e,["setup","outputAudioTranscription"],eI());const I=x(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&v(e,["setup","realtimeInputConfig"],Cre(I));const k=x(t,["contextWindowCompression"]);e!==void 0&&k!=null&&v(e,["setup","contextWindowCompression"],_re(k));const F=x(t,["proactivity"]);return e!==void 0&&F!=null&&v(e,["setup","proactivity"],Sre(F)),n}function Bre(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["setup","model"],jr(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],Tre(s,n)),n}function Nre(t,e,n){const r={},s=x(e,["expireTime"]);n!==void 0&&s!=null&&v(n,["expireTime"],s);const a=x(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&v(n,["newSessionExpireTime"],a);const i=x(e,["uses"]);n!==void 0&&i!=null&&v(n,["uses"],i);const o=x(e,["liveConnectConstraints"]);n!==void 0&&o!=null&&v(n,["bidiGenerateContentSetup"],Bre(t,o));const l=x(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&v(n,["fieldMask"],l),r}function kre(t,e){const n={},r=x(e,["config"]);return r!=null&&v(n,["config"],Nre(t,r,n)),n}function Ire(t){const e={},n=x(t,["name"]);return n!=null&&v(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fre(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const s=Object.keys(r).map(a=>`${n}.${a}`);e.push(...s)}else e.push(n)}return e.join(",")}function Rre(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const a=Fre(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const i=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];s.length>0&&(o=s.map(A=>i.includes(A)?`generationConfig.${A}`:A));const l=[];a&&l.push(a),o.length>0&&l.push(...o),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class Dre extends bh{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=kre(this.apiClient,e);a=rn("auth_tokens",o._url),i=o._query,delete o.config,delete o._url,delete o._query;const l=Rre(o,e.config);return s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json()),s.then(A=>Ire(A))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ure(t){const e={},n=x(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&v(e,["config"],r),e}function Lre(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);e!==void 0&&s!=null&&v(e,["_query","pageToken"],s);const a=x(t,["filter"]);return e!==void 0&&a!=null&&v(e,["_query","filter"],a),n}function Mre(t){const e={},n=x(t,["config"]);return n!=null&&v(e,["config"],Lre(n,e)),e}function Pre(t){const e={},n=x(t,["textInput"]);n!=null&&v(e,["textInput"],n);const r=x(t,["output"]);return r!=null&&v(e,["output"],r),e}function jre(t){const e={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=x(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Pre(s))),v(e,["examples","examples"],r)}return e}function Ore(t,e){const n={};if(x(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=x(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&v(e,["displayName"],r),x(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=x(t,["epochCount"]);e!==void 0&&s!=null&&v(e,["tuningTask","hyperparameters","epochCount"],s);const a=x(t,["learningRateMultiplier"]);if(a!=null&&v(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),x(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(x(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const i=x(t,["batchSize"]);e!==void 0&&i!=null&&v(e,["tuningTask","hyperparameters","batchSize"],i);const o=x(t,["learningRate"]);return e!==void 0&&o!=null&&v(e,["tuningTask","hyperparameters","learningRate"],o),n}function Qre(t){const e={},n=x(t,["baseModel"]);n!=null&&v(e,["baseModel"],n);const r=x(t,["trainingDataset"]);r!=null&&v(e,["tuningTask","trainingData"],jre(r));const s=x(t,["config"]);return s!=null&&v(e,["config"],Ore(s,e)),e}function Hre(t){const e={},n=x(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&v(e,["config"],r),e}function Vre(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);e!==void 0&&s!=null&&v(e,["_query","pageToken"],s);const a=x(t,["filter"]);return e!==void 0&&a!=null&&v(e,["_query","filter"],a),n}function Gre(t){const e={},n=x(t,["config"]);return n!=null&&v(e,["config"],Vre(n,e)),e}function zre(t,e){const n={},r=x(t,["gcsUri"]);e!==void 0&&r!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],r);const s=x(t,["vertexDatasetResource"]);if(e!==void 0&&s!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],s),x(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function Kre(t,e){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["validationDatasetUri"],r);const s=x(t,["vertexDatasetResource"]);return e!==void 0&&s!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],s),n}function qre(t,e){const n={},r=x(t,["validationDataset"]);e!==void 0&&r!=null&&v(e,["supervisedTuningSpec"],Kre(r,n));const s=x(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&v(e,["tunedModelDisplayName"],s);const a=x(t,["description"]);e!==void 0&&a!=null&&v(e,["description"],a);const i=x(t,["epochCount"]);e!==void 0&&i!=null&&v(e,["supervisedTuningSpec","hyperParameters","epochCount"],i);const o=x(t,["learningRateMultiplier"]);e!==void 0&&o!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],o);const l=x(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&v(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const A=x(t,["adapterSize"]);if(e!==void 0&&A!=null&&v(e,["supervisedTuningSpec","hyperParameters","adapterSize"],A),x(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(x(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function Wre(t){const e={},n=x(t,["baseModel"]);n!=null&&v(e,["baseModel"],n);const r=x(t,["trainingDataset"]);r!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],zre(r,e));const s=x(t,["config"]);return s!=null&&v(e,["config"],qre(s,e)),e}function $re(t){const e={},n=x(t,["name"]);n!=null&&v(e,["model"],n);const r=x(t,["name"]);return r!=null&&v(e,["endpoint"],r),e}function I8(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&v(e,["name"],r);const s=x(t,["state"]);s!=null&&v(e,["state"],l8(s));const a=x(t,["createTime"]);a!=null&&v(e,["createTime"],a);const i=x(t,["tuningTask","startTime"]);i!=null&&v(e,["startTime"],i);const o=x(t,["tuningTask","completeTime"]);o!=null&&v(e,["endTime"],o);const l=x(t,["updateTime"]);l!=null&&v(e,["updateTime"],l);const A=x(t,["description"]);A!=null&&v(e,["description"],A);const d=x(t,["baseModel"]);d!=null&&v(e,["baseModel"],d);const h=x(t,["_self"]);h!=null&&v(e,["tunedModel"],$re(h));const p=x(t,["distillationSpec"]);p!=null&&v(e,["distillationSpec"],p);const g=x(t,["experiment"]);g!=null&&v(e,["experiment"],g);const w=x(t,["labels"]);w!=null&&v(e,["labels"],w);const b=x(t,["pipelineJob"]);b!=null&&v(e,["pipelineJob"],b);const E=x(t,["satisfiesPzi"]);E!=null&&v(e,["satisfiesPzi"],E);const T=x(t,["satisfiesPzs"]);T!=null&&v(e,["satisfiesPzs"],T);const I=x(t,["serviceAccount"]);I!=null&&v(e,["serviceAccount"],I);const k=x(t,["tunedModelDisplayName"]);return k!=null&&v(e,["tunedModelDisplayName"],k),e}function Yre(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const s=x(t,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>I8(i))),v(e,["tuningJobs"],a)}return e}function Jre(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&v(e,["name"],r);const s=x(t,["metadata"]);s!=null&&v(e,["metadata"],s);const a=x(t,["done"]);a!=null&&v(e,["done"],a);const i=x(t,["error"]);return i!=null&&v(e,["error"],i),e}function Xre(t){const e={},n=x(t,["checkpointId"]);n!=null&&v(e,["checkpointId"],n);const r=x(t,["epoch"]);r!=null&&v(e,["epoch"],r);const s=x(t,["step"]);s!=null&&v(e,["step"],s);const a=x(t,["endpoint"]);return a!=null&&v(e,["endpoint"],a),e}function Zre(t){const e={},n=x(t,["model"]);n!=null&&v(e,["model"],n);const r=x(t,["endpoint"]);r!=null&&v(e,["endpoint"],r);const s=x(t,["checkpoints"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>Xre(i))),v(e,["checkpoints"],a)}return e}function f_(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&v(e,["name"],r);const s=x(t,["state"]);s!=null&&v(e,["state"],l8(s));const a=x(t,["createTime"]);a!=null&&v(e,["createTime"],a);const i=x(t,["startTime"]);i!=null&&v(e,["startTime"],i);const o=x(t,["endTime"]);o!=null&&v(e,["endTime"],o);const l=x(t,["updateTime"]);l!=null&&v(e,["updateTime"],l);const A=x(t,["error"]);A!=null&&v(e,["error"],A);const d=x(t,["description"]);d!=null&&v(e,["description"],d);const h=x(t,["baseModel"]);h!=null&&v(e,["baseModel"],h);const p=x(t,["tunedModel"]);p!=null&&v(e,["tunedModel"],Zre(p));const g=x(t,["supervisedTuningSpec"]);g!=null&&v(e,["supervisedTuningSpec"],g);const w=x(t,["tuningDataStats"]);w!=null&&v(e,["tuningDataStats"],w);const b=x(t,["encryptionSpec"]);b!=null&&v(e,["encryptionSpec"],b);const E=x(t,["partnerModelTuningSpec"]);E!=null&&v(e,["partnerModelTuningSpec"],E);const T=x(t,["distillationSpec"]);T!=null&&v(e,["distillationSpec"],T);const I=x(t,["experiment"]);I!=null&&v(e,["experiment"],I);const k=x(t,["labels"]);k!=null&&v(e,["labels"],k);const F=x(t,["pipelineJob"]);F!=null&&v(e,["pipelineJob"],F);const R=x(t,["satisfiesPzi"]);R!=null&&v(e,["satisfiesPzi"],R);const L=x(t,["satisfiesPzs"]);L!=null&&v(e,["satisfiesPzs"],L);const S=x(t,["serviceAccount"]);S!=null&&v(e,["serviceAccount"],S);const N=x(t,["tunedModelDisplayName"]);return N!=null&&v(e,["tunedModelDisplayName"],N),e}function ese(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const s=x(t,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>f_(i))),v(e,["tuningJobs"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tse extends bh{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new _x(oh.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let s="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?s=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(s=r.name.split("/operations/")[0]),{name:s,state:r_.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=Hre(e);return o=rn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>f_(d))}else{const A=Ure(e);return o=rn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>I8(d))}}async listInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=Gre(e);return o=rn("tuningJobs",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=ese(d),p=new kk;return Object.assign(p,h),p})}else{const A=Mre(e);return o=rn("tunedModels",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=Yre(d),p=new kk;return Object.assign(p,h),p})}}async tuneInternal(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI()){const o=Wre(e);return a=rn("tuningJobs",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(A=>{const d=A;return d.sdkHttpResponse={headers:l.headers},d})),s.then(l=>f_(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Qre(e);return a=rn("tunedModels",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(A=>{const d=A;return d.sdkHttpResponse={headers:l.headers},d})),s.then(l=>Jre(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nse{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const rse=1024*1024*8,sse=3,ase=1e3,ise=2,oC="x-goog-upload-status";async function ose(t,e,n){var r,s,a;let i=0,o=0,l=new s_(new Response),A="upload";for(i=t.size;o<i;){const h=Math.min(rse,i-o),p=t.slice(o,o+h);o+h>=i&&(A+=", finalize");let g=0,w=ase;for(;g<sse&&(l=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":A,"X-Goog-Upload-Offset":String(o),"Content-Length":String(h)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[oC]));)g++,await cse(w),w=w*ise;if(o+=h,((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[oC])!=="active")break;if(i<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(l==null?void 0:l.json());if(((a=l==null?void 0:l.headers)===null||a===void 0?void 0:a[oC])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function lse(t){return{size:t.size,type:t.type}}function cse(t){return new Promise(e=>setTimeout(e,t))}class Ase{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ose(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lse(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class use{create(e,n,r){return new dse(e,n,r)}}class dse{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tI="x-goog-api-key";class fse{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(tI)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(tI,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hse="gl-node/";class Ta{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=x$(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const s=new fse(this.apiKey);this.apiClient=new Dne({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:hse+"web",uploader:new Ase,downloader:new nse}),this.models=new ere(this.apiClient),this.live=new qne(this.apiClient,s,new use),this.batches=new QY(this.apiClient),this.chats=new zJ(this.models,this.apiClient),this.caches=new HJ(this.apiClient),this.files=new sX(this.apiClient),this.operations=new sre(this.apiClient),this.authTokens=new Dre(this.apiClient),this.tunings=new tse(this.apiClient)}}const nI="apiCallLogs",mse="lir-sessionUser",go=t=>{try{const e=localStorage.getItem(mse);if(!e){console.warn("No se pudo registrar la llamada a la API: no hay usuario en sesin.");return}const n=JSON.parse(e),r=localStorage.getItem(nI),s=r?JSON.parse(r):[],i=[{id:crypto.randomUUID(),timestamp:new Date().toISOString(),userId:n.id,userEmail:n.email,module:t},...s].slice(0,2e3);localStorage.setItem(nI,JSON.stringify(i)),window.dispatchEvent(new Event("storage"))}catch(e){console.error("Error al registrar la llamada a la API:",e)}},lC="asignacionesHorario",cC="horariosGenerados",pse="usuariosLiceo",gse=({horarios:t})=>Object.keys(t).length===0?u.jsx("div",{className:"text-center py-10 bg-slate-50 dark:bg-slate-800 rounded-lg",children:u.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:'An no se ha generado ningn horario. Utilice la pestaa de "Configuracin" para generar uno.'})}):u.jsx("div",{className:"overflow-x-auto border border-slate-300 dark:border-slate-700 rounded-lg",children:u.jsxs("table",{className:"min-w-full border-collapse",children:[u.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700 sticky top-0 z-10",children:u.jsxs("tr",{children:[u.jsx("th",{className:"border-b border-r border-slate-300 dark:border-slate-600 p-1 font-semibold text-slate-600 dark:text-slate-300 text-xs w-16",children:"BLOQUE"}),u.jsx("th",{className:"border-b border-r border-slate-300 dark:border-slate-600 p-1 font-semibold text-slate-600 dark:text-slate-300 text-xs w-24",children:"HORARIO"}),Xs.map(e=>u.jsx("th",{className:"border-b border-r border-slate-300 dark:border-slate-600 p-1 font-semibold text-slate-600 dark:text-slate-300 text-xs whitespace-nowrap min-w-[120px]",children:e},e))]})}),u.jsx("tbody",{children:Xv.map(e=>u.jsxs(ut.Fragment,{children:[u.jsx("tr",{className:"bg-slate-200 dark:bg-slate-800",children:u.jsx("th",{colSpan:2+Xs.length,className:"text-center font-bold text-slate-700 dark:text-slate-200 p-2 border-b border-slate-300 dark:border-slate-600",children:e.toUpperCase()})}),t_.map(({bloque:n,inicio:r,fin:s})=>u.jsxs("tr",{className:"even:bg-white odd:bg-slate-50 dark:even:bg-slate-800/50 dark:odd:bg-slate-900/50",children:[u.jsx("td",{className:"border-r border-slate-300 dark:border-slate-700 p-1 text-center font-bold text-slate-700 dark:text-slate-300 text-sm",children:n}),u.jsx("td",{className:"border-r border-slate-300 dark:border-slate-700 p-1 text-center text-xs text-slate-500 dark:text-slate-400",children:`${r} - ${s}`}),Xs.map(a=>{var o,l;const i=(l=(o=t[a])==null?void 0:o[e])==null?void 0:l[n];return u.jsx("td",{className:"border-r border-slate-300 dark:border-slate-700 p-1 text-center h-16",children:i!=null&&i.asignatura?u.jsxs("div",{className:"flex flex-col justify-center h-full",children:[u.jsx("p",{className:"font-semibold text-[11px] leading-tight text-slate-800 dark:text-slate-200 whitespace-normal",children:i.asignatura}),u.jsxs("p",{className:"text-[10px] leading-tight text-slate-500 dark:text-slate-400 whitespace-normal mt-0.5",children:["(",i.profesor,")"]})]}):u.jsx("span",{className:"text-slate-300 dark:text-slate-600 text-xs",children:"Libre"})},`${a}-${e}-${n}`)})]},`${e}-${n}`))]},e))})]})}),xse=()=>{const[t,e]=ee.useState([]),[n,r]=ee.useState({curso:"",asignatura:"",profesor:""}),[s,a]=ee.useState([]),[i,o]=ee.useState({}),[l,A]=ee.useState(Xs[0]),[d,h]=ee.useState(!1),[p,g]=ee.useState(null),[w,b]=ee.useState(null),[E,T]=ee.useState(null),[I,k]=ee.useState({asignatura:"",profesor:""}),[F,R]=ee.useState("edicion"),[L,S]=ee.useState("");ee.useEffect(()=>{try{const K=localStorage.getItem(lC);K&&e(JSON.parse(K));const Z=localStorage.getItem(cC);Z&&o(JSON.parse(Z));const re=localStorage.getItem(pse);if(re){const X=JSON.parse(re).filter(ue=>ue.profile===en.PROFESORADO).map(ue=>ue.nombreCompleto).sort();a(X)}}catch(K){console.error("Error al cargar datos de localStorage",K),g("No se pudieron cargar los datos guardados.")}},[]);const N=K=>{if(K.preventDefault(),!n.curso||!n.asignatura||!n.profesor){g("Todos los campos de la asignacin son obligatorios.");return}const Z=[...t,{...n,id:crypto.randomUUID()}];e(Z),localStorage.setItem(lC,JSON.stringify(Z)),r({curso:"",asignatura:"",profesor:""}),g(null)},B=K=>{const Z=t.filter(re=>re.id!==K);e(Z),localStorage.setItem(lC,JSON.stringify(Z))},H=async()=>{if(t.length===0){g("Debe agregar al menos una asignacin de profesor antes de generar el horario.");return}h(!0),g(null),b(null);try{go("Crear Horarios");const K=new Ta({apiKey:void 0}),Z=`
                Eres un asistente experto en planificacin de horarios escolares para un liceo tcnico en Chile. 
                Tu tarea es generar un horario semanal completo (Lunes a Viernes) para todos los cursos proporcionados, siguiendo un conjunto estricto de reglas.

                **Contexto:**
                - Das de la semana: ${Xv.join(", ")}
                - Bloques horarios por da: 10 bloques con los siguientes horarios: ${JSON.stringify(t_,null,2)}
                - Cursos del liceo: ${Xs.join(", ")}

                **Contexto Adicional de Especialidades (3 y 4 Medio):**
                - Los cursos que terminan en 'A' y 'B' pertenecen a la especialidad 'Mecnica Automotriz'.
                - Los cursos que terminan en 'C' y 'D' pertenecen a la especialidad 'Mecnica Industrial'.
                Utiliza este contexto para aplicar las reglas de "3/4 Medio Automotriz" y "3/4 Medio Industrial" correctamente.

                **Reglas de Asignacin de Bloques por Asignatura:**
                Debes asignar la siguiente cantidad de bloques semanales para cada asignatura segn el nivel del curso:
                ${JSON.stringify(ZW,null,2)}
                Notas sobre las reglas:
                - '1 y 2 medio' aplica a cursos que empiezan con '1' o '2'.
                - '3 y 4 medio' aplica a cursos que empiezan con '3' o '4'.
                - Algunas reglas aplican a cursos especficos (ej. Mecnica).

                **Asignaciones de Profesores (Input):**
                Aqu est la lista de profesores asignados a cada curso y asignatura. Debes usar esta lista para poblar el horario.
                ${JSON.stringify(t,null,2)}

                **REGLA CRTICA INVIOLABLE:**
                La restriccin ms importante que NUNCA debe romperse es que un mismo profesor no puede ser asignado a dos cursos diferentes en el mismo da y mismo bloque horario. Es fsicamente imposible para un profesor estar en dos lugares a la vez. Prioriza esta regla sobre todas las dems. No deben existir topes de horario para ningn profesor.

                **Instrucciones Adicionales del Usuario:**
                Considera las siguientes preferencias al organizar el horario: "${L||"No se proporcionaron instrucciones adicionales."}"

                **Objetivo Adicional:**
                Distribuye las asignaturas de la forma ms balanceada posible durante la semana para cada curso. Evita agrupar todas las horas de una misma materia en un solo da si es posible, a menos que las instrucciones del usuario indiquen lo contrario.

                **Formato de Salida (Output):**
                Tu respuesta DEBE ser un nico objeto JSON vlido, sin texto adicional antes o despus. La estructura del JSON debe ser la siguiente:
                {
                  "1A": {
                    "Lunes": { "1": { "asignatura": "Matemtica", "profesor": "Nombre Profesor" }, "2": { "asignatura": "Matemtica", "profesor": "Nombre Profesor" } },
                    "Martes": { ... },
                    ...
                  },
                  "1B": { ... }
                }
                Cada clave de primer nivel es un curso. Cada curso tiene claves para cada da de la semana. Cada da tiene claves para cada bloque del 1 al 10. Si un bloque est vaco, usa \`{ "asignatura": null, "profesor": null }\`.
            `,re=await K.models.generateContent({model:"gemini-2.5-flash",contents:Z,config:{responseMimeType:"application/json"}}),q=JSON.parse(re.text);o(q),localStorage.setItem(cC,JSON.stringify(q)),b("Horario generado y guardado con xito!")}catch(K){console.error("Error al generar horario con IA:",K),g("Ocurri un error al contactar con la IA o al procesar la respuesta. Por favor, intntelo de nuevo.")}finally{h(!1)}},P=(K,Z,re)=>{T({dia:K,bloque:Z}),k({asignatura:(re==null?void 0:re.asignatura)||"",profesor:(re==null?void 0:re.profesor)||""})},M=()=>{if(!E)return;const{dia:K,bloque:Z}=E,re={...i};re[l]||(re[l]={}),re[l][K]||(re[l][K]={}),re[l][K][Z]={asignatura:I.asignatura||null,profesor:I.profesor||null},o(re),localStorage.setItem(cC,JSON.stringify(re)),T(null)},V="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",G=()=>{const K=i[l]||{};return u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full border-collapse border border-slate-300 dark:border-slate-700",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-100 dark:bg-slate-700",children:[u.jsx("th",{className:"border border-slate-300 dark:border-slate-600 p-2 font-semibold text-slate-600 dark:text-slate-300",children:"Bloque"}),Xv.map(Z=>u.jsx("th",{className:"border border-slate-300 dark:border-slate-600 p-2 font-semibold text-slate-600 dark:text-slate-300",children:Z},Z))]})}),u.jsx("tbody",{children:t_.map(({bloque:Z,inicio:re,fin:q})=>u.jsxs("tr",{className:"text-center dark:bg-slate-800",children:[u.jsxs("td",{className:"border border-slate-300 dark:border-slate-700 p-2 bg-slate-50 dark:bg-slate-700/50",children:[u.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-300",children:Z}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:`${re} - ${q}`})]}),Xv.map(X=>{var W;const ue=(E==null?void 0:E.dia)===X&&(E==null?void 0:E.bloque)===Z,j=(W=K[X])==null?void 0:W[Z];return u.jsx("td",{className:"border border-slate-300 dark:border-slate-700 p-1 h-24 relative hover:bg-amber-50 dark:hover:bg-slate-700 cursor-pointer",onClick:()=>!ue&&P(X,Z,j),children:ue?u.jsxs("div",{className:"flex flex-col p-1 bg-white dark:bg-slate-800 h-full justify-center",children:[u.jsx("input",{type:"text",placeholder:"Asignatura",value:I.asignatura,onChange:J=>k(ne=>({...ne,asignatura:J.target.value})),className:V+" text-xs mb-1"}),u.jsx("input",{type:"text",placeholder:"Profesor",value:I.profesor,onChange:J=>k(ne=>({...ne,profesor:J.target.value})),className:V+" text-xs"}),u.jsxs("div",{className:"flex justify-end mt-1 space-x-1",children:[u.jsx("button",{onClick:()=>T(null),className:"text-xs bg-slate-200 dark:bg-slate-600 px-1 rounded",children:"Cancelar"}),u.jsx("button",{onClick:M,className:"text-xs bg-amber-500 text-white px-1 rounded",children:"Guardar"})]})]}):j!=null&&j.asignatura?u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-sm text-slate-800 dark:text-slate-200",children:j.asignatura}),u.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["(",j.profesor,")"]})]}):u.jsx("span",{className:"text-slate-400 dark:text-slate-500",children:"Libre"})},`${X}-${Z}`)})]},Z))})]})})},oe=()=>u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Crear Horarios"}),u.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2 mb-4",children:" 1. Configuracin de Asignaciones"}),u.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end mb-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),u.jsxs("select",{name:"curso",value:n.curso,onChange:K=>r(Z=>({...Z,curso:K.target.value})),className:V,children:[u.jsx("option",{value:"",children:"Seleccione"}),Xs.map(K=>u.jsx("option",{value:K,children:K},K))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),u.jsxs("select",{name:"asignatura",value:n.asignatura,onChange:K=>r(Z=>({...Z,asignatura:K.target.value})),className:V,children:[u.jsx("option",{value:"",children:"Seleccione"}),zo.map(K=>u.jsx("option",{value:K,children:K},K))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"profesor",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Profesor"}),u.jsxs("select",{name:"profesor",value:n.profesor,onChange:K=>r(Z=>({...Z,profesor:K.target.value})),className:V,children:[u.jsx("option",{value:"",children:"Seleccione"}),s.map(K=>u.jsx("option",{value:K,children:K},K))]})]}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600 h-10",children:"Agregar"})]}),u.jsx("div",{className:"max-h-60 overflow-y-auto pr-2",children:u.jsx("ul",{className:"space-y-2",children:t.map(K=>u.jsxs("li",{className:"flex justify-between items-center bg-slate-50 dark:bg-slate-700 p-2 rounded-md",children:[u.jsxs("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:[K.curso," - ",K.asignatura," - ",u.jsx("strong",{children:K.profesor})]}),u.jsx("button",{onClick:()=>B(K.id),className:"text-red-500 hover:text-red-700 font-bold text-xl",children:""})]},K.id))})})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2 mb-4",children:" 2. Generacin Automtica con IA"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"aiInstructions",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Instrucciones para la IA (Opcional)"}),u.jsx("textarea",{id:"aiInstructions",name:"aiInstructions",value:L,onChange:K=>S(K.target.value),rows:3,placeholder:"Ej: Dejar los mdulos tericos en la maana y los prcticos en la tarde. Evitar poner 2 bloques de matemtica seguidos.",className:V})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("button",{onClick:H,disabled:d,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center",children:[d&&u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d?"Generando...":"Generar Horario Completo"]}),p&&u.jsx("p",{className:"text-red-600",children:p}),w&&u.jsx("p",{className:"text-green-600",children:w})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2 mb-4",children:" 3. Visualizacin y Edicin por Curso"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"selectCurso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Seleccione un curso para visualizar y editar:"}),u.jsx("select",{id:"selectCurso",value:l,onChange:K=>A(K.target.value),className:V+" md:w-1/3",children:Xs.map(K=>u.jsx("option",{value:K,children:K},K))})]}),Object.keys(i).length>0?G():u.jsx("div",{className:"text-center py-10 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:u.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"An no se ha generado ningn horario. Utilice el botn de generacin con IA."})})]})]});return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:u.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[u.jsx("button",{onClick:()=>R("edicion"),className:`${F==="edicion"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Configuracin y Edicin por Curso"}),u.jsx("button",{onClick:()=>R("global"),className:`${F==="global"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Horario Global"})]})}),F==="edicion"?oe():u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Horario Global de Cursos"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Vista consolidada de todos los horarios generados. La tabla es desplazable horizontalmente."}),u.jsx(gse,{horarios:i})]})]})},q1="accionesPedagogicas",rI={fechaRegistro:new Date().toISOString().split("T")[0],responsable:"",area:"",descripcion:"",fechaCumplimiento:"",estado:"Pendiente"},vse={Pendiente:"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300","En Proceso":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300",Cumplida:"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300"},yse=()=>{const[t,e]=ee.useState([]),[n,r]=ee.useState(rI),[s,a]=ee.useState(null),[i,o]=ee.useState(""),[l,A]=ee.useState(""),[d,h]=ee.useState(""),[p,g]=ee.useState(null);ee.useEffect(()=>{try{const L=localStorage.getItem(q1);L&&e(JSON.parse(L))}catch(L){console.error("Error al leer acciones de localStorage",L)}},[]);const w=ee.useCallback(L=>{const{name:S,value:N}=L.target;r(B=>({...B,[S]:N}))},[]),b=ee.useCallback(()=>{r(rI),a(null),g(null)},[]),E=ee.useCallback(L=>{L.preventDefault();const{fechaRegistro:S,responsable:N,area:B,descripcion:H,fechaCumplimiento:P,estado:M}=n;if(!S||!N||!B||!H||!P){g("Todos los campos son obligatorios.");return}const V=s?t.map(G=>G.id===s?{...n,id:s}:G):[{...n,id:crypto.randomUUID()},...t];e(V),localStorage.setItem(q1,JSON.stringify(V)),b()},[n,s,t,b]),T=ee.useCallback(L=>{window.scrollTo({top:0,behavior:"smooth"}),a(L.id),r(L)},[]),I=ee.useCallback(L=>{if(window.confirm("Est seguro de que desea eliminar esta accin?")){const S=t.filter(N=>N.id!==L);e(S),localStorage.setItem(q1,JSON.stringify(S))}},[t]),k=ee.useCallback(L=>{const S=t.map(N=>{if(N.id===L){const H=(Bp.indexOf(N.estado)+1)%Bp.length;return{...N,estado:Bp[H]}}return N});e(S),localStorage.setItem(q1,JSON.stringify(S))},[t]),F=ee.useMemo(()=>t.filter(L=>{const S=i===""||L.responsable.toLowerCase().includes(i.toLowerCase())||L.descripcion.toLowerCase().includes(i.toLowerCase()),N=l===""||L.area===l,B=d===""||L.estado===d;return S&&N&&B}),[t,i,l,d]),R="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seguimiento de Acciones Pedaggicas"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:s?"Editando accin existente.":"Registre una nueva accin de seguimiento."}),u.jsxs("form",{onSubmit:E,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fechaRegistro",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Fecha de Registro"}),u.jsx("input",{type:"date",name:"fechaRegistro",value:n.fechaRegistro,onChange:w,className:R})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"responsable",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Responsable"}),u.jsx("input",{type:"text",name:"responsable",value:n.responsable,onChange:w,placeholder:"Nombre del responsable",className:R})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"area",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"rea Vinculada"}),u.jsxs("select",{name:"area",value:n.area,onChange:w,className:R,children:[u.jsx("option",{value:"",children:"Seleccione un rea"}),F3.map(L=>u.jsx("option",{value:L,children:L},L))]})]}),u.jsxs("div",{className:"lg:col-span-3",children:[u.jsx("label",{htmlFor:"descripcion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Descripcin de la Accin"}),u.jsx("textarea",{name:"descripcion",value:n.descripcion,onChange:w,rows:3,placeholder:"Detalle de la accin a realizar...",className:R})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fechaCumplimiento",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Fecha de Cumplimiento"}),u.jsx("input",{type:"date",name:"fechaCumplimiento",value:n.fechaCumplimiento,onChange:w,className:R})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"estado",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estado de Avance"}),u.jsx("select",{name:"estado",value:n.estado,onChange:w,className:R,children:Bp.map(L=>u.jsx("option",{value:L,children:L},L))})]})]}),p&&u.jsx("p",{className:"text-red-600 bg-red-100 dark:bg-red-900/40 dark:text-red-300 p-3 rounded-md mt-4",children:p}),u.jsxs("div",{className:"pt-4 flex justify-end items-center gap-4",children:[s&&u.jsx("button",{type:"button",onClick:b,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:s?"Actualizar Accin":"Registrar Accin"})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Tabla de Seguimiento"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[u.jsx("input",{type:"text",placeholder:"Buscar por responsable o palabra clave...",value:i,onChange:L=>o(L.target.value),className:R+" md:col-span-1"}),u.jsxs("select",{value:l,onChange:L=>A(L.target.value),className:R,children:[u.jsx("option",{value:"",children:"Filtrar por rea"}),F3.map(L=>u.jsx("option",{value:L,children:L},L))]}),u.jsxs("select",{value:d,onChange:L=>h(L.target.value),className:R,children:[u.jsx("option",{value:"",children:"Filtrar por Estado"}),Bp.map(L=>u.jsx("option",{value:L,children:L},L))]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Responsable"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"rea"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Descripcin"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Fechas"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Estado"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Acciones"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:F.length>0?F.map(L=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:L.responsable}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:L.area}),u.jsx("td",{className:"px-4 py-4 text-sm text-slate-600 dark:text-slate-300 max-w-sm whitespace-normal",children:L.descripcion}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("span",{children:["Reg: ",L.fechaRegistro]}),u.jsxs("span",{className:"font-semibold",children:["Comp: ",L.fechaCumplimiento]})]})}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm",children:u.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${vse[L.estado]}`,children:L.estado})}),u.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-center space-x-2",children:[u.jsx("button",{onClick:()=>k(L.id),title:"Cambiar Estado",className:"text-blue-600 hover:text-blue-800 p-1 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/40",children:""}),u.jsx("button",{onClick:()=>T(L),title:"Editar",className:"text-yellow-600 hover:text-yellow-800 p-1 rounded-full hover:bg-yellow-100 dark:hover:bg-yellow-900/40",children:""}),u.jsx("button",{onClick:()=>I(L.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:""})]})]},L.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-slate-500 dark:text-slate-400",children:"No se encontraron acciones con los filtros actuales."})})})]})})]})]})},AC="planificacionesDocente",sI="actividadesCalendario",uC="eventosCalendario",wse=({lesson:t,onClose:e,onSave:n})=>{const[r,s]=ee.useState(t),a=o=>{s({...r,[o.target.name]:o.target.value})},i=()=>{n(r),e()};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col animate-fade-in-up",onClick:o=>o.stopPropagation(),children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 p-6 border-b dark:border-slate-700",children:"Editar Detalle de Leccin"}),u.jsx("div",{className:"p-6 space-y-4 overflow-y-auto",children:Object.entries(r).map(([o,l])=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 capitalize mb-1",children:o.replace(/([A-Z])/g," $1")}),u.jsx("textarea",{name:o,value:l,onChange:a,rows:3,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]},o))}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end gap-3 mt-auto",children:[u.jsx("button",{onClick:e,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Cancelar"}),u.jsx("button",{onClick:i,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar Cambios"})]})]})})},bse=({plan:t,onEditLesson:e,onUseLesson:n})=>u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Objetivo de Aprendizaje:"})," ",t.objetivosAprendizaje]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Indicadores de Evaluacin:"})," ",t.indicadoresEvaluacion]})]}),u.jsx("div",{className:"space-y-4",children:t.detallesLeccion.map((r,s)=>u.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[u.jsxs("h4",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:["Clase ",s+1,": ",r.actividades]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2 mt-2 text-sm",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Objetivo:"})," ",r.objetivosAprendizaje]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Contenidos:"})," ",r.contenidosConceptuales]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Habilidad (Bloom):"})," ",r.habilidadesBloom]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Perfil de Egreso:"})," ",r.perfilEgreso]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Interdisciplinariedad:"})," ",r.asignaturasInterdisciplinariedad]})]}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx("button",{onClick:()=>e(s,r),className:"text-sm font-semibold bg-slate-200 dark:bg-slate-600 py-1 px-3 rounded-md hover:bg-slate-300",children:"Editar"}),u.jsx("button",{onClick:()=>n(r,t),className:"text-sm font-semibold bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 py-1 px-3 rounded-md hover:bg-blue-200",children:"Usar para Plan de Clase"})]})]},s))})]}),Cse=({plan:t,onBack:e,onSave:n})=>{const[r,s]=ee.useState(t),a=i=>{const{name:o,value:l}=i.target,[A,d]=o.split(".");s(A==="momentosClase"?h=>({...h,momentosClase:{...h.momentosClase,[d]:l}}):h=>({...h,[o]:l}))};return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:t.nombreClase}),u.jsx("button",{onClick:e,className:"text-slate-600 hover:text-slate-900 font-semibold",children:" Volver"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"font-bold text-lg text-slate-700 dark:text-slate-300",children:"Inicio"}),u.jsx("textarea",{name:"momentosClase.inicio",value:r.momentosClase.inicio,onChange:a,rows:4,className:"w-full mt-2 p-2 border rounded-md bg-slate-50 dark:bg-slate-700"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"font-bold text-lg text-slate-700 dark:text-slate-300",children:"Desarrollo"}),u.jsx("textarea",{name:"momentosClase.desarrollo",value:r.momentosClase.desarrollo,onChange:a,rows:8,className:"w-full mt-2 p-2 border rounded-md bg-slate-50 dark:bg-slate-700"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"font-bold text-lg text-slate-700 dark:text-slate-300",children:"Cierre"}),u.jsx("textarea",{name:"momentosClase.cierre",value:r.momentosClase.cierre,onChange:a,rows:4,className:"w-full mt-2 p-2 border rounded-md bg-slate-50 dark:bg-slate-700"})]})]}),u.jsx("div",{className:"text-right mt-6",children:u.jsx("button",{onClick:()=>n(r),className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600",children:"Guardar Cambios"})})]})},Ese=()=>{const[t,e]=ee.useState([]),[n,r]=ee.useState("list"),[s,a]=ee.useState(null),[i,o]=ee.useState(!1),[l,A]=ee.useState(!1),d={nombre:"",fecha:"",hora:"",descripcion:"",ubicacion:"",participantes:"",recursosGenerales:"",tareas:[{id:crypto.randomUUID(),descripcion:"",responsable:"",recursos:""}]},[h,p]=ee.useState(d);ee.useEffect(()=>{const R=localStorage.getItem(sI);R&&e(JSON.parse(R))},[]),ee.useEffect(()=>{if(n==="summary"&&s)try{const R=localStorage.getItem(uC),S=(R?JSON.parse(R):[]).some(N=>N.type===zn.ACTIVIDAD_FOCALIZADA&&N.date===s.fecha&&N.responsables===s.nombre&&N.ubicacion===s.ubicacion);A(S)}catch(R){console.error("Could not check calendar",R)}},[n,s]);const g=R=>{e(R),localStorage.setItem(sI,JSON.stringify(R))},w=R=>{const{name:L,value:S}=R.target;p(N=>({...N,[L]:S}))},b=(R,L,S)=>{p(N=>({...N,tareas:N.tareas.map(B=>B.id===R?{...B,[L]:S}:B)}))},E=()=>{p(R=>({...R,tareas:[...R.tareas,{id:crypto.randomUUID(),descripcion:"",responsable:"",recursos:""}]}))},T=R=>{p(L=>({...L,tareas:L.tareas.filter(S=>S.id!==R)}))},I=async R=>{R.preventDefault(),o(!0);const L=`Basado en la siguiente informacin de una actividad, genera un objetivo claro y conciso para esta.
        - Nombre: ${h.nombre}
        - Descripcin: ${h.descripcion}
        - Tareas: ${h.tareas.map(S=>S.descripcion).join(", ")}
        El objetivo debe ser breve, empezar con un verbo en infinitivo y enfocarse en el propsito principal de la actividad.`;try{go("Planificacin - Actividad Calendario");const N=await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:L}),B={id:crypto.randomUUID(),...h,objetivo:N.text.replace(/(\*\*|\*)/g,"")};g([B,...t]),a(B),r("summary")}catch(S){console.error("Error al generar objetivo con IA:",S),alert("Hubo un error al generar el objetivo. La actividad se guardar sin l.");const N={id:crypto.randomUUID(),...h,objetivo:"No generado"};g([N,...t]),a(N),r("summary")}finally{o(!1)}},k=R=>{if(!R)return;const L={date:R.fecha,type:zn.ACTIVIDAD_FOCALIZADA,responsables:R.nombre,ubicacion:R.ubicacion,horario:R.hora};try{const S=localStorage.getItem(uC),N=S?JSON.parse(S):[],B=[{...L,id:crypto.randomUUID()},...N];localStorage.setItem(uC,JSON.stringify(B)),A(!0),alert("Actividad aadida al Calendario Acadmico.")}catch(S){console.error("Error adding to calendar:",S),alert("Hubo un error al agregar la actividad al calendario.")}},F="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white";return n==="form"?u.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:u.jsxs("form",{onSubmit:I,className:"space-y-8",children:[u.jsxs("div",{className:"p-4 border rounded-lg dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",children:"Informacin General"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("input",{name:"nombre",value:h.nombre,onChange:w,placeholder:"Nombre de la Actividad",className:F,required:!0}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx("input",{name:"fecha",type:"date",value:h.fecha,onChange:w,className:F,required:!0}),u.jsx("input",{name:"hora",type:"time",value:h.hora,onChange:w,className:F,required:!0})]}),u.jsx("textarea",{name:"descripcion",value:h.descripcion,onChange:w,placeholder:"Descripcin (objetivos, contenidos, metodologa)",rows:4,className:F,required:!0}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx("input",{name:"ubicacion",value:h.ubicacion,onChange:w,placeholder:"Ubicacin",className:F,required:!0}),u.jsx("input",{name:"participantes",value:h.participantes,onChange:w,placeholder:"Participantes",className:F,required:!0})]}),u.jsx("textarea",{name:"recursosGenerales",value:h.recursosGenerales,onChange:w,placeholder:"Recursos Generales Necesarios",rows:2,className:F})]})]}),u.jsxs("div",{className:"p-4 border rounded-lg dark:border-slate-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-bold",children:"Tareas Asociadas"}),u.jsx("button",{type:"button",onClick:E,className:"bg-slate-200 dark:bg-slate-600 text-sm font-semibold px-3 py-1 rounded-md",children:"+ Agregar Tarea"})]}),u.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto",children:h.tareas.map((R,L)=>u.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md relative",children:[u.jsx("button",{type:"button",onClick:()=>T(R.id),className:"absolute top-1 right-1 text-red-500 text-lg",children:""}),u.jsx("textarea",{value:R.descripcion,onChange:S=>b(R.id,"descripcion",S.target.value),placeholder:`Descripcin de la Tarea ${L+1}`,rows:2,className:F,required:!0}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[u.jsx("input",{value:R.responsable,onChange:S=>b(R.id,"responsable",S.target.value),placeholder:"Responsable",className:F,required:!0}),u.jsx("input",{value:R.recursos,onChange:S=>b(R.id,"recursos",S.target.value),placeholder:"Recursos Necesarios",className:F})]})]},R.id))})]}),u.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-lg text-center",children:[u.jsx("h3",{className:"font-bold",children:"Objetivo de la Actividad"}),u.jsx("p",{className:"text-sm",children:"Este objetivo se generar automticamente a partir de la descripcin y las tareas ingresadas. Una vez guardada la actividad, podr revisar y ajustar el objetivo propuesto por el sistema."})]}),u.jsxs("div",{className:"flex justify-end gap-4",children:[u.jsx("button",{type:"button",onClick:()=>r("list"),className:"bg-slate-200 dark:bg-slate-600 font-semibold px-6 py-2 rounded-lg",children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:i,className:"bg-blue-600 text-white font-bold px-6 py-2 rounded-lg flex items-center min-w-[150px] justify-center",children:i?u.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Guardar Actividad"})]})]})}):n==="summary"&&s?u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[u.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200 rounded-lg flex items-center gap-4",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsxs("div",{children:[u.jsx("h2",{className:"font-bold text-lg",children:"Actividad Planificada con xito!"}),u.jsx("p",{className:"text-sm",children:"La actividad ha sido creada. Revisa los detalles a continuacin."})]})]}),u.jsxs("div",{className:"border rounded-lg p-6 dark:border-slate-700",children:[u.jsx("h3",{className:"text-xl font-bold mb-4",children:"Resumen de la Actividad"}),u.jsxs("div",{className:"space-y-4 text-sm",children:[u.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[u.jsx("strong",{className:"text-slate-500",children:"Nombre:"})," ",u.jsx("span",{children:s.nombre})]}),u.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[u.jsx("strong",{className:"text-slate-500",children:"Fecha y Hora:"})," ",u.jsx("span",{children:new Date(`${s.fecha}T${s.hora}`).toLocaleString("es-CL")})]}),u.jsxs("div",{className:"border-b pb-2 dark:border-slate-600",children:[u.jsx("p",{className:"font-bold text-slate-500",children:"Descripcin:"}),u.jsx("p",{children:s.descripcion})]}),u.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[u.jsx("strong",{className:"text-slate-500",children:"Ubicacin:"})," ",u.jsx("span",{children:s.ubicacion})]}),u.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[u.jsx("strong",{className:"text-slate-500",children:"Participantes:"})," ",u.jsx("span",{children:s.participantes})]}),u.jsxs("div",{className:"border-b pb-2 dark:border-slate-600",children:[u.jsx("p",{className:"font-bold text-slate-500",children:"Recursos Necesarios:"}),u.jsx("p",{children:s.recursosGenerales})]}),u.jsxs("div",{className:"border-b pb-2 dark:border-slate-600",children:[u.jsx("p",{className:"font-bold text-slate-500",children:"Objetivo (Generado por IA):"}),u.jsx("p",{children:s.objetivo})]})]}),u.jsxs("div",{className:"mt-6 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg flex justify-between items-center",children:[u.jsx("p",{className:"text-sm",children:"Quieres agregar esta actividad a tu calendario para recibir recordatorios?"}),u.jsx("button",{onClick:()=>k(s),disabled:l,className:`font-bold px-4 py-2 rounded-lg transition-colors ${l?"bg-green-600 text-white cursor-default":"bg-blue-600 text-white hover:bg-blue-700"}`,children:l?" Aadido al Calendario":"Aadir al Calendario"})]})]}),u.jsx("button",{onClick:()=>{r("list"),a(null)},className:"w-full text-center font-semibold text-blue-600 hover:underline",children:"Volver al panel de actividades"})]}):u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Actividades del Calendario"}),u.jsx("button",{onClick:()=>{r("form"),p(d)},className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Planificar Actividad"})]}),u.jsx("div",{className:"space-y-3",children:t.length>0?t.map(R=>u.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md border dark:border-slate-700",children:[u.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:R.nombre}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[new Date(R.fecha+"T12:00:00").toLocaleDateString("es-CL")," - ",R.ubicacion]})]},R.id)):u.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:"No hay actividades planificadas."})})]})},_se=({currentUser:t})=>{const[e,n]=ee.useState([]),r={asignatura:"",nivel:"",nombreUnidad:"",contenidos:"",cantidadClases:8,observaciones:"",ideasParaUnidad:""},[s,a]=ee.useState(r),[i,o]=ee.useState(null),[l,A]=ee.useState(!1),[d,h]=ee.useState(null),[p,g]=ee.useState("unidad"),[w,b]=ee.useState(null),[E,T]=ee.useState(null),I=ee.useMemo(()=>t.asignaturas||[],[t.asignaturas]),k=ee.useMemo(()=>{const K=t.cursos||[],Z=new Set;return K.forEach(re=>{re.startsWith("1")?Z.add("1 Medio"):re.startsWith("2")?Z.add("2 Medio"):re.startsWith("3")?Z.add("3 Medio"):re.startsWith("4")&&Z.add("4 Medio")}),Array.from(Z)},[t.cursos]);ee.useEffect(()=>{a(K=>({...K,asignatura:I[0]||"",nivel:k[0]||""}))},[I,k]);const F=ee.useCallback(K=>{n(K),localStorage.setItem(AC,JSON.stringify(K)),window.dispatchEvent(new Event("storage"))},[]);ee.useEffect(()=>{try{const K=localStorage.getItem(AC);K&&n(JSON.parse(K))}catch(K){console.error("Error al cargar planificaciones de localStorage",K)}},[]);const R=K=>{const{name:Z,value:re}=K.target;a(q=>({...q,[Z]:Z==="cantidadClases"?parseInt(re,10):re}))},L=()=>{const{asignatura:K,nivel:Z,nombreUnidad:re,contenidos:q,cantidadClases:X,observaciones:ue,ideasParaUnidad:j}=s;return`Eres un experto diseador curricular para la educacin media tcnico profesional en Chile. Tu tarea es generar una planificacin de unidad didctica completa en formato JSON estructurado, basndote en la informacin proporcionada.

        **Informacin Base:**
        - Asignatura: ${K}
        - Nivel: ${Z}
        - Nombre de la Unidad: "${re}"
        - Contenidos clave a trabajar (insumo principal): "${q}"
        - Cantidad de clases para la unidad: ${X}
        - Ideas y perspectiva del docente para la unidad: "${j||"Ninguna. S creativo."}"
        - Observaciones y nfasis del docente: "${ue||"Ninguna"}"

        Debes generar un objeto JSON que se ajuste al esquema proporcionado. El JSON debe contener:
        1.  **objetivosAprendizaje**: Un objetivo de aprendizaje general y conciso para la unidad.
        2.  **indicadoresEvaluacion**: Un indicador de evaluacin general y observable para la unidad.
        3.  **detallesLeccion**: Un array con EXACTAMENTE ${X} objetos, donde cada objeto representa una clase o sub-tema de la unidad. Cada objeto en el array debe tener:
            - **objetivosAprendizaje**: Un objetivo de aprendizaje especfico para la leccin, redactado en infinitivo.
            - **contenidosConceptuales**: Los conceptos clave que se abordarn en la leccin.
            - **habilidadesBloom**: La habilidad principal de la Taxonoma de Bloom que se trabajar (ej: Analizar, Crear, Evaluar).
            - **perfilEgreso**: Conecta la leccin con una habilidad del perfil de egreso (ej: "Pensamiento crtico", "Colaboracin").
            - **actividades**: Sugiere 1 o 2 actividades concretas, indicando el nmero de clase entre parntesis (ej: "Debate grupal (Clase 1)").
            - **asignaturasInterdisciplinariedad**: Sugiere una asignatura con la que se podra realizar un trabajo interdisciplinario.

        Asegrate de que el contenido generado sea coherente, pedaggicamente slido y est directamente relacionado con los contenidos clave proporcionados por el docente. El nombre de la unidad debe ser exactamente el proporcionado.`},S=async K=>{if(K.preventDefault(),A(!0),h(null),!s.contenidos||!s.nombreUnidad){h("Los campos 'Nombre de Unidad' y 'Contenidos Clave' son obligatorios."),A(!1);return}try{go("Planificacin - Unidad");const Z=new Ta({apiKey:void 0}),re=L(),q={type:Bt.OBJECT,properties:{objetivosAprendizaje:{type:Bt.STRING},indicadoresEvaluacion:{type:Bt.STRING},detallesLeccion:{type:Bt.ARRAY,items:{type:Bt.OBJECT,properties:{objetivosAprendizaje:{type:Bt.STRING},contenidosConceptuales:{type:Bt.STRING},habilidadesBloom:{type:Bt.STRING},perfilEgreso:{type:Bt.STRING},actividades:{type:Bt.STRING},asignaturasInterdisciplinariedad:{type:Bt.STRING}},required:["objetivosAprendizaje","contenidosConceptuales","habilidadesBloom","perfilEgreso","actividades","asignaturasInterdisciplinariedad"]}}},required:["objetivosAprendizaje","indicadoresEvaluacion","detallesLeccion"]},X=await Z.models.generateContent({model:"gemini-2.5-flash",contents:re,config:{responseMimeType:"application/json",responseSchema:q}}),ue=JSON.parse(X.text),j={id:(i==null?void 0:i.id)||crypto.randomUUID(),fechaCreacion:new Date().toISOString(),autor:t.nombreCompleto,tipo:"Unidad",asignatura:s.asignatura,nivel:s.nivel,nombreUnidad:s.nombreUnidad,contenidos:s.contenidos,cantidadClases:s.cantidadClases,observaciones:s.observaciones,ideasParaUnidad:s.ideasParaUnidad,objetivosAprendizaje:ue.objetivosAprendizaje,indicadoresEvaluacion:ue.indicadoresEvaluacion,detallesLeccion:ue.detallesLeccion},W=i?e.map(J=>J.id===i.id?j:J):[j,...e];F(W),o(j)}catch(Z){console.error("Error al generar planificacin con IA",Z),h("Ocurri un error al contactar con la IA. Verifique la configuracin y reintente.")}finally{A(!1)}},N=async(K,Z)=>{A(!0),h(null);const re=`A partir de la siguiente informacin de una clase dentro de una unidad, genera un plan de clase detallado con momentos de inicio, desarrollo y cierre. La clase debe durar 80 minutos.
        
        - Asignatura: ${Z.asignatura}
        - Nivel: ${Z.nivel}
        - Objetivo de la clase: ${K.objetivosAprendizaje}
        - Contenidos: ${K.contenidosConceptuales}
        - Actividades sugeridas: ${K.actividades}
        
        Responde SLO con un objeto JSON que contenga las claves "inicio", "desarrollo" y "cierre", con las actividades detalladas para cada momento.`;try{go("Planificacin - Utilizar Clase");const q=new Ta({apiKey:void 0}),X={type:Bt.OBJECT,properties:{inicio:{type:Bt.STRING},desarrollo:{type:Bt.STRING},cierre:{type:Bt.STRING}},required:["inicio","desarrollo","cierre"]},ue=await q.models.generateContent({model:"gemini-2.5-flash",contents:re,config:{responseMimeType:"application/json",responseSchema:X}}),j=JSON.parse(ue.text),W={id:crypto.randomUUID(),fechaCreacion:new Date().toISOString(),autor:t.nombreCompleto,tipo:"Clase",asignatura:Z.asignatura,nivel:Z.nivel,contenidos:K.contenidosConceptuales,observaciones:"",nombreClase:K.actividades,duracionClase:80,momentosClase:j,detalleLeccionOrigen:K},J=JSON.parse(localStorage.getItem(AC)||"[]"),ne=[W,...J];F(ne),alert('Plan de clase generado y guardado en la pestaa "Clase"!'),g("clase")}catch(q){console.error("Error al generar plan de clase con IA",q),h("No se pudo generar el plan de clase. Intntelo de nuevo.")}finally{A(!1)}},B=K=>{K.tipo==="Unidad"&&(a({asignatura:K.asignatura,nivel:K.nivel,nombreUnidad:K.nombreUnidad,contenidos:K.contenidos,cantidadClases:K.cantidadClases,observaciones:K.observaciones,ideasParaUnidad:K.ideasParaUnidad||""}),o(K),window.scrollTo({top:0,behavior:"smooth"}))},H=K=>{if(window.confirm("Est seguro de que desea eliminar esta planificacin?")){const Z=e.filter(re=>re.id!==K);F(Z),(i==null?void 0:i.id)===K&&(o(null),a(r))}},P=(K,Z)=>{i&&T({planId:i.id,lessonIndex:K,lessonData:Z})},M=K=>{if(!E)return;const{planId:Z,lessonIndex:re}=E,q=e.map(ue=>{if(ue.id===Z&&ue.tipo==="Unidad"){const j=[...ue.detallesLeccion];return j[re]=K,{...ue,detallesLeccion:j}}return ue});F(q);const X=q.find(ue=>ue.id===Z);X&&o(X),T(null)},V="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",G=()=>u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Generador de Planificaciones de Unidad"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Complete los campos y use la IA para crear una planificacin de unidad estructurada."}),u.jsxs("form",{onSubmit:S,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),u.jsx("select",{name:"asignatura",value:s.asignatura,onChange:R,className:V,children:I.length>0?I.map(K=>u.jsx("option",{value:K,children:K},K)):u.jsx("option",{disabled:!0,children:"No tiene asignaturas asignadas"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"nivel",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nivel"}),u.jsx("select",{name:"nivel",value:s.nivel,onChange:R,className:V,children:k.length>0?k.map(K=>u.jsx("option",{value:K,children:K},K)):u.jsx("option",{disabled:!0,children:"No tiene cursos/niveles asignados"})})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"nombreUnidad",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:["Nombre de Unidad ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",name:"nombreUnidad",value:s.nombreUnidad,onChange:R,className:V,placeholder:"Ej: La Clula y sus procesos"})]}),u.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[u.jsxs("label",{htmlFor:"contenidos",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:["Contenidos Clave ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{name:"contenidos",value:s.contenidos,onChange:R,rows:3,placeholder:"Ingrese los temas, conceptos clave o unidades que la planificacin debe abordar.",className:V})]}),u.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[u.jsx("label",{htmlFor:"ideasParaUnidad",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Ideas para la unidad"}),u.jsx("textarea",{name:"ideasParaUnidad",value:s.ideasParaUnidad,onChange:R,rows:3,placeholder:"Plantea tus ideas y perspectiva para que la IA construya una mejor planificacin (ej: enfocar en trabajo colaborativo, usar casos prcticos, conectar con la actualidad).",className:V})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"cantidadClases",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cantidad de Clases"}),u.jsx("input",{type:"number",name:"cantidadClases",value:s.cantidadClases,onChange:R,className:V,min:"1",max:"20"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Observaciones (nfasis)"}),u.jsx("textarea",{name:"observaciones",value:s.observaciones,onChange:R,rows:1,placeholder:"Ej: clase prctica, modelo ABP, juego, reforzamiento...",className:V})]})]}),u.jsx("div",{className:"pt-4 text-right",children:u.jsx("button",{type:"submit",disabled:l,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center min-w-[150px] dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:l?u.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):i?"Regenerar":"Generar Plan"})}),d&&u.jsx("p",{className:"text-red-600 bg-red-100 dark:bg-red-900/40 dark:text-red-300 p-3 rounded-md mt-4",children:d})]})]}),i&&u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Revisin y Edicin"}),u.jsx(bse,{plan:i,onEditLesson:P,onUseLesson:N})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Planificaciones de Unidad"}),u.jsx("div",{className:"space-y-4",children:e.filter(K=>K.tipo==="Unidad").length>0?e.filter(K=>K.tipo==="Unidad").map(K=>u.jsx("div",{className:`p-4 border rounded-lg ${(i==null?void 0:i.id)===K.id?"bg-amber-50 border-amber-300 dark:bg-amber-900/20 dark:border-amber-500/50":"bg-slate-50 dark:bg-slate-700/50 dark:border-slate-700"}`,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:K.nombreUnidad}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creado: ",new Date(K.fechaCreacion).toLocaleString("es-CL")]}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate max-w-md",children:["Contenidos: ",K.contenidos]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>B(K),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm",children:"Ver y Editar"}),u.jsx("button",{onClick:()=>H(K.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:""})]})]})},K.id)):u.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No hay planificaciones de unidad guardadas."})})]})]}),oe=()=>{const K=e.filter(Z=>Z.tipo==="Clase").sort((Z,re)=>new Date(re.fechaCreacion).getTime()-new Date(Z.fechaCreacion).getTime());return w?u.jsx(Cse,{plan:w,onBack:()=>b(null),onSave:Z=>{const re=e.map(q=>q.id===Z.id?Z:q);F(re),b(Z)}}):u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Planes de Clase Guardados"}),u.jsx("div",{className:"space-y-4",children:K.length>0?K.map(Z=>u.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:Z.nombreClase}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creado: ",new Date(Z.fechaCreacion).toLocaleString("es-CL")]}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate max-w-md",children:["Contenidos: ",Z.contenidos]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("button",{onClick:()=>b(Z),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm",children:"Ver Plan de Clase"})})]},Z.id)):u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-6",children:"No hay planes de clase guardados. Puede generarlos desde una unidad en la pestaa 'Unidad'."})})]})};return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Planificacin"}),u.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:u.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[u.jsx("button",{onClick:()=>g("unidad"),className:`${p==="unidad"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Unidad"}),u.jsx("button",{onClick:()=>g("clase"),className:`${p==="clase"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Clase"}),u.jsx("button",{onClick:()=>g("calendario"),className:`${p==="calendario"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Actividades Calendario"})]})}),p==="unidad"&&G(),p==="clase"&&oe(),p==="calendario"&&u.jsx(Ese,{}),E&&u.jsx(wse,{lesson:E.lessonData,onClose:()=>T(null),onSave:M})]})},aI="eventosCalendario",Sse=["Dom","Lun","Mar","Mi","Jue","Vie","Sb"],Tse=t=>{switch(t.type){case zn.EVALUACION:return`${t.subtype} - ${t.asignatura}`;case zn.ACTO:return`Acto: ${t.ubicacion}`;case zn.ACTIVIDAD_FOCALIZADA:return"Actividad Focalizada";case zn.SALIDA_PEDAGOGICA:return`Salida: ${t.ubicacion}`;default:return"Evento"}},Bse=({isOpen:t,onClose:e,onSave:n,onDelete:r,event:s,date:a})=>{const[i,o]=ee.useState({});ee.useEffect(()=>{o(s||{type:zn.EVALUACION,subtype:Mf.PRUEBA_PARCIAL,asignatura:zo[0],curso:Xs[0],contenidos:"",enlace:"",responsables:"",ubicacion:"",horario:"",responsable:"",cursos:[]})},[s]);const l="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",A=w=>{const{name:b,value:E}=w.target;o(T=>({...T,[b]:E}))},d=w=>{o(b=>{if(b.type===zn.SALIDA_PEDAGOGICA){const E=b.cursos||[],T=E.includes(w)?E.filter(I=>I!==w):[...E,w];return{...b,cursos:T.sort()}}return b})},h=w=>{switch(w.preventDefault(),i.type){case zn.EVALUACION:n({date:a,type:zn.EVALUACION,subtype:i.subtype,asignatura:i.asignatura,curso:i.curso,contenidos:i.contenidos,enlace:i.subtype===Mf.RUBRICA||i.subtype===Mf.PAUTA_COTEJO?i.enlace:void 0});break;case zn.ACTO:n({date:a,type:zn.ACTO,responsables:i.responsables,ubicacion:i.ubicacion,horario:i.horario});break;case zn.ACTIVIDAD_FOCALIZADA:n({date:a,type:zn.ACTIVIDAD_FOCALIZADA,responsables:i.responsables,ubicacion:i.ubicacion,horario:i.horario});break;case zn.SALIDA_PEDAGOGICA:n({date:a,type:zn.SALIDA_PEDAGOGICA,responsable:i.responsable,ubicacion:i.ubicacion,cursos:i.cursos});break}e()};if(!t)return null;const p=new Date(`${a}T12:00:00`).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),g=()=>{switch(i.type){case zn.EVALUACION:return u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"subtype",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Subtipo"}),u.jsx("select",{id:"subtype",name:"subtype",value:i.subtype,onChange:A,required:!0,className:l,children:e$.map(w=>u.jsx("option",{value:w,children:w},w))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),u.jsx("select",{id:"asignatura",name:"asignatura",value:i.asignatura,onChange:A,required:!0,className:l,children:zo.map(w=>u.jsx("option",{value:w,children:w},w))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),u.jsx("select",{id:"curso",name:"curso",value:i.curso,onChange:A,required:!0,className:l,children:Xs.map(w=>u.jsx("option",{value:w,children:w},w))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"contenidos",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Contenidos"}),u.jsx("textarea",{id:"contenidos",name:"contenidos",value:i.contenidos,onChange:A,required:!0,rows:3,className:l})]}),(i.subtype===Mf.RUBRICA||i.subtype===Mf.PAUTA_COTEJO)&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"enlace",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Enlace al Documento (URL)"}),u.jsx("input",{id:"enlace",name:"enlace",type:"url",value:i.enlace,onChange:A,placeholder:"https://...",className:l})]})]});case zn.ACTO:case zn.ACTIVIDAD_FOCALIZADA:return u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"responsables",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Responsables"}),u.jsx("input",{id:"responsables",name:"responsables",type:"text",value:i.responsables,onChange:A,required:!0,className:l})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"ubicacion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Ubicacin"}),u.jsx("input",{id:"ubicacion",name:"ubicacion",type:"text",value:i.ubicacion,onChange:A,required:!0,className:l})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"horario",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Horario"}),u.jsx("input",{id:"horario",name:"horario",type:"text",value:i.horario,onChange:A,required:!0,className:l})]})]});case zn.SALIDA_PEDAGOGICA:return u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"responsable",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Responsable"}),u.jsx("input",{id:"responsable",name:"responsable",type:"text",value:i.responsable,onChange:A,required:!0,className:l})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"ubicacion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Ubicacin/Destino"}),u.jsx("input",{id:"ubicacion",name:"ubicacion",type:"text",value:i.ubicacion,onChange:A,required:!0,className:l})]}),u.jsxs("fieldset",{children:[u.jsx("legend",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cursos Involucrados"}),u.jsx("div",{className:"max-h-32 overflow-y-auto grid grid-cols-3 sm:grid-cols-4 gap-2 border p-2 rounded-md dark:border-slate-600 text-slate-700 dark:text-slate-300",children:Xs.map(w=>u.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:(i.cursos||[]).includes(w),onChange:()=>d(w),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),u.jsx("span",{children:w})]},w))})]})]});default:return null}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center p-4",onClick:e,children:u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg animate-fade-in-up",onClick:w=>w.stopPropagation(),children:u.jsxs("form",{onSubmit:h,children:[u.jsxs("div",{className:"p-6 max-h-[80vh] overflow-y-auto",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:s?"Editar Evento":"Agregar Evento"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 font-semibold",children:p}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Tipo de Evento"}),u.jsx("select",{id:"type",name:"type",value:i.type,onChange:A,className:l,children:Object.values(zn).map(w=>u.jsx("option",{value:w,children:w},w))})]}),g()]})]}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 px-6 py-4 rounded-b-xl flex justify-between items-center",children:[u.jsx("div",{children:s&&r&&u.jsx("button",{type:"button",onClick:r,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 font-semibold",children:"Eliminar"})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:e,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Guardar"})]})]})]})})})},Nse=({profile:t})=>{const[e,n]=ee.useState(new Date),[r,s]=ee.useState([]),[a,i]=ee.useState(Object.values(zn)),[o,l]=ee.useState(!1),[A,d]=ee.useState(null),[h,p]=ee.useState(null);ee.useEffect(()=>{try{const F=localStorage.getItem(aI);F&&s(JSON.parse(F))}catch(F){console.error("Error al cargar eventos de localStorage",F)}},[]),ee.useEffect(()=>{try{localStorage.setItem(aI,JSON.stringify(r))}catch(F){console.error("Error al guardar eventos en localStorage",F)}},[r]);const g=ee.useMemo(()=>{const F=e.getFullYear(),R=e.getMonth(),L=new Date(F,R,1).getDay(),S=new Date(F,R+1,0).getDate(),N=[];let B=1;for(let H=0;H<6;H++){const P=[];for(let M=0;M<7;M++)H===0&&M<L||B>S?P.push(null):(P.push(new Date(F,R,B)),B++);if(N.push(P),B>S)break}return N},[e]),w=F=>{i(R=>R.includes(F)?R.filter(L=>L!==F):[...R,F])},b=()=>{a.length===Object.values(zn).length?i([]):i(Object.values(zn))},E=F=>{t!==en.ESTUDIANTE&&(d(F.toISOString().split("T")[0]),p(null),l(!0))},T=(F,R)=>{R.stopPropagation(),t!==en.ESTUDIANTE&&(d(F.date),p(F),l(!0))},I=F=>{s(h?r.map(R=>R.id===h.id?{...F,id:R.id}:R):[...r,{...F,id:crypto.randomUUID()}])},k=()=>{h&&(s(r.filter(F=>F.id!==h.id)),l(!1))};return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6 animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Calendario Acadmico"}),u.jsx("div",{className:"mb-4 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300 rounded-r-lg",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:u.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 3.001-1.742 3.001H4.42c-1.53 0-2.493-1.667-1.743-3.001l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 011-1h.008a1 1 0 011 1v3.008a1 1 0 01-1 1h-.008a1 1 0 01-1-1V5z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm",children:"Recuerda que el calendario escolar completo se encuentra disponible en la intranet. Este calendario es de exclusivo uso evaluativo y acadmico."})})]})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Filtrar por tipo de evento:"}),u.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[u.jsx("button",{onClick:b,className:"text-sm font-semibold px-3 py-1.5 rounded-full bg-slate-700 text-white hover:bg-slate-600 dark:bg-slate-600 dark:hover:bg-slate-500 transition-colors",children:a.length===Object.values(zn).length?"Deseleccionar Todos":"Seleccionar Todos"}),Object.values(zn).map(F=>u.jsxs("label",{className:`cursor-pointer text-sm font-medium px-3 py-1.5 rounded-full transition-all duration-200 flex items-center gap-2 ${a.includes(F)?`shadow-sm ${B0[F].color}`:"bg-slate-100 text-slate-600 hover:bg-slate-200 opacity-70 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600 dark:opacity-60"}`,children:[u.jsx("input",{type:"checkbox",checked:a.includes(F),onChange:()=>w(F),className:"hidden"}),u.jsx("span",{children:B0[F].icon}),u.jsx("span",{children:B0[F].label})]},F))]})]}),u.jsxs("div",{className:"border dark:border-slate-700 rounded-lg overflow-hidden",children:[u.jsxs("header",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-700/50 border-b dark:border-slate-700",children:[u.jsx("button",{onClick:()=>n(new Date(e.setMonth(e.getMonth()-1))),className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300",children:"<"}),u.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 capitalize",children:e.toLocaleString("es-CL",{month:"long",year:"numeric"})}),u.jsx("button",{onClick:()=>n(new Date(e.setMonth(e.getMonth()+1))),className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300",children:">"}),u.jsx("button",{onClick:()=>n(new Date),className:"ml-4 bg-slate-800 text-white text-sm font-bold py-1.5 px-3 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Hoy"})]}),u.jsx("div",{className:"grid grid-cols-7",children:Sse.map(F=>u.jsx("div",{className:"text-center font-semibold text-slate-500 dark:text-slate-400 text-sm py-3 bg-slate-50 dark:bg-slate-700/50 border-b border-r dark:border-slate-700",children:F},F))}),u.jsx("div",{className:"grid grid-cols-7 grid-rows-6",children:g.flat().map((F,R)=>{const L=F&&F.toDateString()===new Date().toDateString(),S=F==null?void 0:F.toISOString().split("T")[0],N=S?r.filter(B=>B.date===S&&a.includes(B.type)):[];return u.jsx("div",{onClick:()=>F&&E(F),className:`border-b border-r dark:border-slate-700 p-2 h-36 flex flex-col overflow-hidden relative group ${F?t!==en.ESTUDIANTE?"cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/50":"":"bg-slate-50 dark:bg-slate-800/50"}`,children:F&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:`self-end text-sm font-semibold ${L?"bg-amber-400 text-white rounded-full h-6 w-6 flex items-center justify-center":"text-slate-600 dark:text-slate-300"}`,children:F.getDate()}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 mt-1 pr-1",children:N.map(B=>u.jsxs("div",{onClick:H=>T(B,H),className:`text-xs font-medium p-1 rounded-md flex items-center gap-1.5 truncate ${B0[B.type].color}`,children:[u.jsx("span",{children:B0[B.type].icon}),u.jsx("span",{className:"truncate",children:Tse(B)})]},B.id))}),t!==en.ESTUDIANTE&&u.jsx("button",{className:"absolute bottom-1 right-1 bg-amber-400 text-white rounded-full h-6 w-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-lg font-bold",children:"+"})]})},R)})})]}),o&&u.jsx(Bse,{isOpen:o,onClose:()=>l(!1),onSave:I,onDelete:k,event:h,date:A})]})},iI="anunciosMuro",oI=[{bg:"bg-yellow-200 dark:bg-yellow-800/50",rotate:"transform -rotate-2"},{bg:"bg-lime-200 dark:bg-lime-800/50",rotate:"transform rotate-1"},{bg:"bg-sky-200 dark:bg-sky-800/50",rotate:"transform rotate-2"},{bg:"bg-red-200 dark:bg-red-800/50",rotate:"transform -rotate-1"},{bg:"bg-violet-200 dark:bg-violet-800/50",rotate:"transform rotate-1"}],kse=({currentUser:t})=>{const[e,n]=ee.useState(()=>{try{const I=localStorage.getItem(iI);return I?JSON.parse(I):[]}catch(I){return console.error("Error al leer anuncios de localStorage en la inicializacin",I),[]}}),[r,s]=ee.useState({titulo:"",mensaje:"",adjunto:""}),[a,i]=ee.useState({tipo:"Todos",cursos:[]});ee.useEffect(()=>{try{localStorage.setItem(iI,JSON.stringify(e))}catch(I){console.error("Error al guardar anuncios en localStorage",I)}},[e]);const o=I=>{const{name:k,value:F}=I.target;s(R=>({...R,[k]:F}))},l=I=>{i({tipo:I,cursos:I==="Cursos"?[]:void 0})},A=I=>{i(k=>{var R;if(k.tipo!=="Cursos")return k;const F=(R=k.cursos)!=null&&R.includes(I)?k.cursos.filter(L=>L!==I):[...k.cursos||[],I];return{...k,cursos:F}})},d=I=>{if(I.preventDefault(),!r.titulo||!r.mensaje){alert("Ttulo y mensaje son obligatorios.");return}if(a.tipo==="Cursos"&&(!a.cursos||a.cursos.length===0)){alert('Debe seleccionar al menos un curso para el destinatario "Cursos".');return}const k={id:crypto.randomUUID(),fechaPublicacion:new Date().toISOString(),destacado:!1,autor:t.nombreCompleto,profileCreador:t.profile,destinatarios:a,...r};n(F=>[k,...F]),s({titulo:"",mensaje:"",adjunto:""}),i({tipo:"Todos",cursos:[]})},h=I=>{window.confirm("Est seguro de que desea eliminar este anuncio?")&&n(k=>k.filter(F=>F.id!==I))},p=I=>{n(k=>k.map(F=>F.id===I?{...F,destacado:!F.destacado}:F))},g=ee.useMemo(()=>[...e].sort((I,k)=>I.destacado&&!k.destacado?-1:!I.destacado&&k.destacado?1:new Date(k.fechaPublicacion).getTime()-new Date(I.fechaPublicacion).getTime()),[e]),w=ee.useMemo(()=>{const I=t.profile,k=t.curso;return g.filter(F=>{if(I===en.SUBDIRECCION)return!0;if(!F.destinatarios)return I!==en.ESTUDIANTE;const{tipo:R,cursos:L}=F.destinatarios;return R==="Todos"||R==="Profesores"&&I===en.PROFESORADO||R==="Coordinacin TP"&&I===en.COORDINACION_TP?!0:R==="Cursos"?I===en.ESTUDIANTE?L==null?void 0:L.includes(k||""):!0:!1})},[g,t]),b=I=>t.profile===en.ESTUDIANTE?!1:t.profile===en.SUBDIRECCION||t.profile===I.profileCreador,E=()=>t.profile===en.SUBDIRECCION||t.profile===en.PROFESORADO,T="w-full border-slate-300 rounded-md shadow-sm focus:ring-amber-400 focus:border-amber-400 dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Muro de Anuncios"}),t.profile!==en.ESTUDIANTE?u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Publique un nuevo anuncio para toda la comunidad escolar."}),u.jsxs("form",{onSubmit:d,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"titulo",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Ttulo"}),u.jsx("input",{type:"text",name:"titulo",value:r.titulo,onChange:o,required:!0,className:T})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"mensaje",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Mensaje"}),u.jsx("textarea",{name:"mensaje",value:r.mensaje,onChange:o,required:!0,rows:4,className:T})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Destinatarios"}),u.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:["Todos","Cursos","Profesores","Coordinacin TP"].map(I=>u.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"destinatarioTipo",value:I,checked:a.tipo===I,onChange:()=>l(I),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-slate-300"}),u.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:I.replace("Coordinacin TP","Coord. TP")})]},I))})]}),a.tipo==="Cursos"&&u.jsxs("div",{className:"p-4 border rounded-md bg-slate-50 dark:bg-slate-700/50 dark:border-slate-600 animate-fade-in",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Seleccione Cursos"}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 max-h-48 overflow-y-auto",children:Xs.map(I=>{var k;return u.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 dark:hover:bg-slate-600 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:(k=a.cursos)==null?void 0:k.includes(I),onChange:()=>A(I),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400 border-slate-300 bg-slate-100"}),u.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:I})]},I)})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"adjunto",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Enlace adjunto (Opcional)"}),u.jsx("input",{type:"url",name:"adjunto",value:r.adjunto,onChange:o,placeholder:"https://ejemplo.com/documento.pdf",className:T})]}),u.jsx("div",{className:"pt-2 text-right",children:u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-all duration-200 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Publicar Anuncio"})})]})]}):u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Anuncios de la comunidad escolar. Este mdulo es de solo lectura."})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-8 py-4",children:w.length>0?w.map((I,k)=>{const F=oI[k%oI.length];return u.jsxs("div",{className:`font-handwritten text-slate-800 dark:text-slate-200 shadow-xl p-4 flex flex-col relative transition-transform duration-300 ease-in-out hover:scale-105 hover:rotate-0 hover:z-10 ${F.bg} ${F.rotate}`,children:[I.destacado&&u.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2",children:u.jsx("span",{className:"text-5xl",role:"img","aria-label":"Anuncio destacado",children:""})}),u.jsx("h2",{className:"text-3xl font-bold border-b-2 border-slate-500/30 dark:border-slate-400/30 pb-2 mb-4 break-words",children:I.titulo}),u.jsx("p",{className:"flex-grow text-2xl whitespace-pre-wrap mb-4 break-words min-h-[100px]",children:I.mensaje}),I.adjunto&&u.jsx("div",{className:"font-sans text-sm mb-4",children:u.jsxs("a",{href:I.adjunto,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 font-semibold text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),"Ver Adjunto"]})}),u.jsxs("div",{className:"font-sans text-xs mt-auto pt-2 border-t border-slate-500/30 dark:border-slate-400/30 flex justify-between items-end",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-bold",children:I.autor}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:new Date(I.fechaPublicacion).toLocaleString("es-CL")})]}),u.jsxs("div",{className:"flex items-center",children:[E()&&u.jsx("button",{onClick:()=>p(I.id),title:I.destacado?"Desfijar":"Fijar",className:"p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded-full transition-colors",children:u.jsx("span",{className:`text-xl transition-opacity ${I.destacado?"opacity-100":"opacity-30"}`,children:""})}),b(I)&&u.jsx("button",{onClick:()=>h(I.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded-full transition-colors",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},I.id)}):u.jsx("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md text-center col-span-full",children:u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg",children:"No hay anuncios para mostrar con los filtros actuales."})})})]})},dC="actasDeReunion",F8=window.SpeechRecognition||window.webkitSpeechRecognition,lI=!!F8,Ise=({isListening:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t?u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}):u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),Fse=()=>{const[t,e]=ee.useState([]),[n,r]=ee.useState(null),[s,a]=ee.useState({tipoReunion:sC[0],asistentes:"",textoReunion:""}),[i,o]=ee.useState(!1),[l,A]=ee.useState(!1),[d,h]=ee.useState(null),p=ee.useRef(null);ee.useEffect(()=>{try{const F=localStorage.getItem(dC);if(F){const R=JSON.parse(F);e(R),R.length>0&&!n&&r(R[0])}}catch(F){console.error("Error al leer actas de localStorage",F)}},[n]);const g=F=>{const{name:R,value:L}=F.target;a(S=>({...S,[R]:L}))},w=ee.useCallback(()=>{var F;if(!lI){h("El reconocimiento de voz no es compatible con este navegador.");return}i?(F=p.current)==null||F.stop():(p.current=new F8,p.current.lang="es-CL",p.current.continuous=!0,p.current.interimResults=!0,p.current.onresult=R=>{let L="";for(let S=R.resultIndex;S<R.results.length;++S)R.results[S].isFinal&&(L+=R.results[S][0].transcript+". ");a(S=>({...S,textoReunion:S.textoReunion+L}))},p.current.onstart=()=>o(!0),p.current.onend=()=>o(!1),p.current.onerror=R=>{console.error("Speech recognition error",R.error),h(`Error de reconocimiento: ${R.error}`),o(!1)},p.current.start())},[i]),b=async F=>{F.preventDefault();const{tipoReunion:R,asistentes:L,textoReunion:S}=s;if(!R||!L.trim()||!S.trim()){h("Todos los campos son obligatorios.");return}A(!0),h(null);try{go("Generador de Actas");const N=new Ta({apiKey:void 0}),B=`
                Analiza el siguiente texto de un acta de reunin y extrae la informacin clave.
                El texto es una transcripcin de lo hablado.
                - Identifica los temas principales discutidos.
                - Extrae un resumen de los acuerdos o decisiones especficas tomadas.
                - Lista cualquier plazo o fecha lmite mencionada.
                - Identifica los nombres de las personas a las que se les asignaron responsabilidades o tareas.
                
                Texto del acta:
                "${S}"
                
                Asistentes a la reunin para referencia de nombres: ${L}
            `,H={type:Bt.OBJECT,properties:{temas:{type:Bt.ARRAY,description:"Lista de los principales temas tratados en la reunin.",items:{type:Bt.STRING}},acuerdos:{type:Bt.ARRAY,description:"Lista de los acuerdos o decisiones tomadas.",items:{type:Bt.STRING}},plazos:{type:Bt.ARRAY,description:"Lista de fechas lmite o plazos mencionados en el texto.",items:{type:Bt.STRING}},responsables:{type:Bt.ARRAY,description:"Lista de las personas asignadas como responsables de tareas.",items:{type:Bt.STRING}}},required:["temas","acuerdos","plazos","responsables"]},P=await N.models.generateContent({model:"gemini-2.5-flash",contents:B,config:{responseMimeType:"application/json",responseSchema:H}}),M=JSON.parse(P.text),V={id:crypto.randomUUID(),fechaCreacion:new Date().toISOString(),...s,...M},G=[V,...t];e(G),localStorage.setItem(dC,JSON.stringify(G)),a({tipoReunion:sC[0],asistentes:"",textoReunion:""}),r(V)}catch(N){console.error("Error al analizar acta con IA:",N),h("Ocurri un error al procesar el acta con la IA. Por favor, revise el texto e intntelo de nuevo.")}finally{A(!1)}},E=F=>{if(window.confirm("Est seguro de que desea eliminar esta acta?")){const R=t.filter(L=>L.id!==F);e(R),localStorage.setItem(dC,JSON.stringify(R)),(n==null?void 0:n.id)===F&&r(R.length>0?R[0]:null)}},T=F=>{r(F)},I=F=>F.temas||F.acuerdos||F.plazos||F.responsables?u.jsxs("div",{className:"mt-8 pt-6 border-t dark:border-slate-600",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:"Anlisis con IA"}),F.temas&&F.temas.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Temas Tratados"}),u.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:F.temas.map((L,S)=>u.jsx("li",{children:L},S))})]}),F.acuerdos&&F.acuerdos.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Acuerdos"}),u.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:F.acuerdos.map((L,S)=>u.jsx("li",{children:L},S))})]}),F.plazos&&F.plazos.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Plazos"}),u.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:F.plazos.map((L,S)=>u.jsx("li",{children:L},S))})]}),F.responsables&&F.responsables.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Responsables"}),u.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:F.responsables.map((L,S)=>u.jsx("li",{children:L},S))})]})]}):null,k="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 animate-fade-in",children:[u.jsxs("div",{className:"md:col-span-1 space-y-8",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Generador de Actas"}),u.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300 rounded-r-lg",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:u.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 3.001-1.742 3.001H4.42c-1.53 0-2.493-1.667-1.743-3.001l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 011-1h.008a1 1 0 011 1v3.008a1 1 0 01-1 1h-.008a1 1 0 01-1-1V5z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsxs("p",{className:"text-sm",children:["Recuerda que las actas debes subirlas por intranet en ",u.jsx("strong",{className:"font-semibold",children:"www.industrialderecoleta.cl"}),". Esta es slo una herramienta para agilizar redaccin."]})})]})}),u.jsxs("form",{onSubmit:b,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"tipoReunion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Tipo de Reunin"}),u.jsx("select",{name:"tipoReunion",value:s.tipoReunion,onChange:g,required:!0,className:k,children:sC.map(F=>u.jsx("option",{value:F,children:F},F))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"asistentes",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asistentes"}),u.jsx("textarea",{name:"asistentes",value:s.asistentes,onChange:g,required:!0,rows:3,placeholder:"Nombres, separados por comas...",className:k})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"textoReunion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Texto de la Reunin"}),u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{name:"textoReunion",value:s.textoReunion,onChange:g,required:!0,rows:6,placeholder:"Escriba o use el micrfono para dictar...",className:k}),lI&&u.jsx("button",{type:"button",onClick:w,title:i?"Detener grabacin":"Iniciar grabacin",className:`absolute top-2 right-2 p-2 rounded-full transition-colors ${i?"bg-red-500 text-white animate-pulse":"bg-slate-200 hover:bg-slate-300 text-slate-700 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500"}`,children:u.jsx(Ise,{isListening:i})})]})]}),d&&u.jsx("p",{className:"text-red-600 bg-red-100 dark:bg-red-900/40 dark:text-red-300 p-3 rounded-md mt-4",children:d}),u.jsx("div",{className:"pt-2 text-right",children:u.jsx("button",{type:"submit",disabled:l,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 flex items-center justify-center min-w-[120px] disabled:bg-slate-400 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:l?u.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Crear Acta"})})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Actas"}),u.jsx("div",{className:"max-h-80 overflow-y-auto space-y-2 pr-2",children:t.length>0?t.sort((F,R)=>new Date(R.fechaCreacion).getTime()-new Date(F.fechaCreacion).getTime()).map(F=>u.jsxs("button",{onClick:()=>T(F),className:`w-full text-left p-3 rounded-lg border transition-colors ${(n==null?void 0:n.id)===F.id?"bg-amber-100 border-amber-300 dark:bg-amber-900/20 dark:border-amber-500/50":"bg-slate-50 hover:bg-slate-100 border-transparent dark:bg-slate-700/50 dark:hover:bg-slate-700"}`,children:[u.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:F.tipoReunion}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(F.fechaCreacion).toLocaleDateString("es-CL")})]},F.id)):u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No hay actas guardadas."})})]})]}),u.jsx("div",{className:"md:col-span-2 bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md",children:n?u.jsxs("div",{className:"prose dark:prose-invert max-w-none prose-slate",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("h1",{className:"text-3xl font-bold mt-0",children:`Acta de Reunin: ${n.tipoReunion}`}),u.jsx("button",{onClick:()=>E(n.id),title:"Eliminar Acta",className:"text-red-500 hover:text-red-700 p-2 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40 -mt-2 -mr-2",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[u.jsx("strong",{children:"Fecha:"})," ",new Date(n.fechaCreacion).toLocaleString("es-CL")]}),u.jsx("h2",{children:"Asistentes"}),u.jsx("ul",{className:"list-disc pl-5",children:String(n.asistentes||"").split(",").map((F,R)=>F.trim()&&u.jsx("li",{children:F.trim()},R))}),I(n),u.jsx("h2",{className:"mt-8 pt-6 border-t dark:border-slate-600",children:"Transcripcin Original"}),u.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-md whitespace-pre-wrap",children:u.jsx("p",{children:n.textoReunion})})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[u.jsx("span",{className:"text-6xl mb-4 text-slate-400",children:""}),u.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-300",children:"Seleccione un Acta"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mt-2",children:"Elija un acta del historial para ver sus detalles aqu, o cree una nueva usando el formulario."})]})})]})},Rse="modulepreload",Dse=function(t){return"/"+t},cI={},h_=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let i=function(A){return Promise.all(A.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=i(n.map(A=>{if(A=Dse(A),A in cI)return;cI[A]=!0;const d=A.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${h}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Rse,d||(p.as="script"),p.crossOrigin="",p.href=A,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((g,w)=>{p.addEventListener("load",g),p.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${A}`)))})}))}function a(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return s.then(i=>{for(const o of i||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function Mr(t){"@babel/helpers - typeof";return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mr(t)}var Ii=Uint8Array,Go=Uint16Array,B5=Int32Array,Jy=new Ii([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Xy=new Ii([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),m_=new Ii([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),R8=function(t,e){for(var n=new Go(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var s=new B5(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)s[a]=a-n[r]<<5|r;return{b:n,r:s}},D8=R8(Jy,2),U8=D8.b,p_=D8.r;U8[28]=258,p_[258]=28;var L8=R8(Xy,0),Use=L8.b,AI=L8.r,g_=new Go(32768);for(var as=0;as<32768;++as){var ud=(as&43690)>>1|(as&21845)<<1;ud=(ud&52428)>>2|(ud&13107)<<2,ud=(ud&61680)>>4|(ud&3855)<<4,g_[as]=((ud&65280)>>8|(ud&255)<<8)>>1}var xA=function(t,e,n){for(var r=t.length,s=0,a=new Go(e);s<r;++s)t[s]&&++a[t[s]-1];var i=new Go(e);for(s=1;s<e;++s)i[s]=i[s-1]+a[s-1]<<1;var o;if(n){o=new Go(1<<e);var l=15-e;for(s=0;s<r;++s)if(t[s])for(var A=s<<4|t[s],d=e-t[s],h=i[t[s]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)o[g_[h]>>l]=A}else for(o=new Go(r),s=0;s<r;++s)t[s]&&(o[s]=g_[i[t[s]-1]++]>>15-t[s]);return o},Yd=new Ii(288);for(var as=0;as<144;++as)Yd[as]=8;for(var as=144;as<256;++as)Yd[as]=9;for(var as=256;as<280;++as)Yd[as]=7;for(var as=280;as<288;++as)Yd[as]=8;var Qg=new Ii(32);for(var as=0;as<32;++as)Qg[as]=5;var Lse=xA(Yd,9,0),Mse=xA(Yd,9,1),Pse=xA(Qg,5,0),jse=xA(Qg,5,1),fC=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ac=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},hC=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},N5=function(t){return(t+7)/8|0},M8=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Ii(t.subarray(e,n))},Ose=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],cc=function(t,e,n){var r=new Error(e||Ose[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,cc),!n)throw r;return r},Qse=function(t,e,n,r){var s=t.length,a=0;if(!s||e.f&&!e.l)return n||new Ii(0);var i=!n,o=i||e.i!=2,l=e.i;i&&(n=new Ii(s*3));var A=function(ge){var ae=n.length;if(ge>ae){var Fe=new Ii(Math.max(ae*2,ge));Fe.set(n),n=Fe}},d=e.f||0,h=e.p||0,p=e.b||0,g=e.l,w=e.d,b=e.m,E=e.n,T=s*8;do{if(!g){d=ac(t,h,1);var I=ac(t,h+1,3);if(h+=3,I)if(I==1)g=Mse,w=jse,b=9,E=5;else if(I==2){var L=ac(t,h,31)+257,S=ac(t,h+10,15)+4,N=L+ac(t,h+5,31)+1;h+=14;for(var B=new Ii(N),H=new Ii(19),P=0;P<S;++P)H[m_[P]]=ac(t,h+P*3,7);h+=S*3;for(var M=fC(H),V=(1<<M)-1,G=xA(H,M,1),P=0;P<N;){var oe=G[ac(t,h,V)];h+=oe&15;var k=oe>>4;if(k<16)B[P++]=k;else{var K=0,Z=0;for(k==16?(Z=3+ac(t,h,3),h+=2,K=B[P-1]):k==17?(Z=3+ac(t,h,7),h+=3):k==18&&(Z=11+ac(t,h,127),h+=7);Z--;)B[P++]=K}}var re=B.subarray(0,L),q=B.subarray(L);b=fC(re),E=fC(q),g=xA(re,b,1),w=xA(q,E,1)}else cc(1);else{var k=N5(h)+4,F=t[k-4]|t[k-3]<<8,R=k+F;if(R>s){l&&cc(0);break}o&&A(p+F),n.set(t.subarray(k,R),p),e.b=p+=F,e.p=h=R*8,e.f=d;continue}if(h>T){l&&cc(0);break}}o&&A(p+131072);for(var X=(1<<b)-1,ue=(1<<E)-1,j=h;;j=h){var K=g[hC(t,h)&X],W=K>>4;if(h+=K&15,h>T){l&&cc(0);break}if(K||cc(2),W<256)n[p++]=W;else if(W==256){j=h,g=null;break}else{var J=W-254;if(W>264){var P=W-257,ne=Jy[P];J=ac(t,h,(1<<ne)-1)+U8[P],h+=ne}var ie=w[hC(t,h)&ue],de=ie>>4;ie||cc(3),h+=ie&15;var q=Use[de];if(de>3){var ne=Xy[de];q+=hC(t,h)&(1<<ne)-1,h+=ne}if(h>T){l&&cc(0);break}o&&A(p+131072);var me=p+J;if(p<q){var xe=a-q,Se=Math.min(q,me);for(xe+p<0&&cc(3);p<Se;++p)n[p]=r[xe+p]}for(;p<me;++p)n[p]=n[p-q]}}e.l=g,e.p=j,e.b=p,e.f=d,g&&(d=1,e.m=b,e.d=w,e.n=E)}while(!d);return p!=n.length&&i?M8(n,0,p):n.subarray(0,p)},nu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},kp=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},mC=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,a=n.slice();if(!s)return{t:j8,l:0};if(s==1){var i=new Ii(n[0].s+1);return i[n[0].s]=1,{t:i,l:1}}n.sort(function(R,L){return R.f-L.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],A=0,d=1,h=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=s-1;)o=n[n[A].f<n[h].f?A++:h++],l=n[A!=d&&n[A].f<n[h].f?A++:h++],n[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=a[0].s,r=1;r<s;++r)a[r].s>p&&(p=a[r].s);var g=new Go(p+1),w=x_(n[d-1],g,0);if(w>e){var r=0,b=0,E=w-e,T=1<<E;for(a.sort(function(L,S){return g[S.s]-g[L.s]||L.f-S.f});r<s;++r){var I=a[r].s;if(g[I]>e)b+=T-(1<<w-g[I]),g[I]=e;else break}for(b>>=E;b>0;){var k=a[r].s;g[k]<e?b-=1<<e-g[k]++-1:++r}for(;r>=0&&b;--r){var F=a[r].s;g[F]==e&&(--g[F],++b)}w=e}return{t:new Ii(g),l:w}},x_=function(t,e,n){return t.s==-1?Math.max(x_(t.l,e,n+1),x_(t.r,e,n+1)):e[t.s]=n},uI=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Go(++e),r=0,s=t[0],a=1,i=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==s&&o!=e)++a;else{if(!s&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(s),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(s);a=1,s=t[o]}return{c:n.subarray(0,r),n:e}},Ip=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},P8=function(t,e,n){var r=n.length,s=N5(e+2);t[s]=r&255,t[s+1]=r>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var a=0;a<r;++a)t[s+a+4]=n[a];return(s+4+r)*8},dI=function(t,e,n,r,s,a,i,o,l,A,d){nu(e,d++,n),++s[256];for(var h=mC(s,15),p=h.t,g=h.l,w=mC(a,15),b=w.t,E=w.l,T=uI(p),I=T.c,k=T.n,F=uI(b),R=F.c,L=F.n,S=new Go(19),N=0;N<I.length;++N)++S[I[N]&31];for(var N=0;N<R.length;++N)++S[R[N]&31];for(var B=mC(S,7),H=B.t,P=B.l,M=19;M>4&&!H[m_[M-1]];--M);var V=A+5<<3,G=Ip(s,Yd)+Ip(a,Qg)+i,oe=Ip(s,p)+Ip(a,b)+i+14+3*M+Ip(S,H)+2*S[16]+3*S[17]+7*S[18];if(l>=0&&V<=G&&V<=oe)return P8(e,d,t.subarray(l,l+A));var K,Z,re,q;if(nu(e,d,1+(oe<G)),d+=2,oe<G){K=xA(p,g,0),Z=p,re=xA(b,E,0),q=b;var X=xA(H,P,0);nu(e,d,k-257),nu(e,d+5,L-1),nu(e,d+10,M-4),d+=14;for(var N=0;N<M;++N)nu(e,d+3*N,H[m_[N]]);d+=3*M;for(var ue=[I,R],j=0;j<2;++j)for(var W=ue[j],N=0;N<W.length;++N){var J=W[N]&31;nu(e,d,X[J]),d+=H[J],J>15&&(nu(e,d,W[N]>>5&127),d+=W[N]>>12)}}else K=Lse,Z=Yd,re=Pse,q=Qg;for(var N=0;N<o;++N){var ne=r[N];if(ne>255){var J=ne>>18&31;kp(e,d,K[J+257]),d+=Z[J+257],J>7&&(nu(e,d,ne>>23&31),d+=Jy[J]);var ie=ne&31;kp(e,d,re[ie]),d+=q[ie],ie>3&&(kp(e,d,ne>>5&8191),d+=Xy[ie])}else kp(e,d,K[ne]),d+=Z[ne]}return kp(e,d,K[256]),d+Z[256]},Hse=new B5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),j8=new Ii(0),Vse=function(t,e,n,r,s,a){var i=a.z||t.length,o=new Ii(r+i+5*(1+Math.ceil(i/7e3))+s),l=o.subarray(r,o.length-s),A=a.l,d=(a.r||0)&7;if(e){d&&(l[0]=a.r>>3);for(var h=Hse[e-1],p=h>>13,g=h&8191,w=(1<<n)-1,b=a.p||new Go(32768),E=a.h||new Go(w+1),T=Math.ceil(n/3),I=2*T,k=function(et){return(t[et]^t[et+1]<<T^t[et+2]<<I)&w},F=new B5(25e3),R=new Go(288),L=new Go(32),S=0,N=0,B=a.i||0,H=0,P=a.w||0,M=0;B+2<i;++B){var V=k(B),G=B&32767,oe=E[V];if(b[G]=oe,E[V]=G,P<=B){var K=i-B;if((S>7e3||H>24576)&&(K>423||!A)){d=dI(t,l,0,F,R,L,N,H,M,B-M,d),H=S=N=0,M=B;for(var Z=0;Z<286;++Z)R[Z]=0;for(var Z=0;Z<30;++Z)L[Z]=0}var re=2,q=0,X=g,ue=G-oe&32767;if(K>2&&V==k(B-ue))for(var j=Math.min(p,K)-1,W=Math.min(32767,B),J=Math.min(258,K);ue<=W&&--X&&G!=oe;){if(t[B+re]==t[B+re-ue]){for(var ne=0;ne<J&&t[B+ne]==t[B+ne-ue];++ne);if(ne>re){if(re=ne,q=ue,ne>j)break;for(var ie=Math.min(ue,ne-2),de=0,Z=0;Z<ie;++Z){var me=B-ue+Z&32767,xe=b[me],Se=me-xe&32767;Se>de&&(de=Se,oe=me)}}}G=oe,oe=b[G],ue+=G-oe&32767}if(q){F[H++]=268435456|p_[re]<<18|AI[q];var ge=p_[re]&31,ae=AI[q]&31;N+=Jy[ge]+Xy[ae],++R[257+ge],++L[ae],P=B+re,++S}else F[H++]=t[B],++R[t[B]]}}for(B=Math.max(B,P);B<i;++B)F[H++]=t[B],++R[t[B]];d=dI(t,l,A,F,R,L,N,H,M,B-M,d),A||(a.r=d&7|l[d/8|0]<<3,d-=7,a.h=E,a.p=b,a.i=B,a.w=P)}else{for(var B=a.w||0;B<i+A;B+=65535){var Fe=B+65535;Fe>=i&&(l[d/8|0]=A,Fe=i),d=P8(l,d+1,t.subarray(B,Fe))}a.i=i}return M8(o,0,r+N5(d)+s)},O8=function(){var t=1,e=0;return{p:function(n){for(var r=t,s=e,a=n.length|0,i=0;i!=a;){for(var o=Math.min(i+2655,a);i<o;++i)s+=r+=n[i];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}t=r,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Gse=function(t,e,n,r,s){if(!s&&(s={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),i=new Ii(a.length+t.length);i.set(a),i.set(t,a.length),t=i,s.w=a.length}return Vse(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,s)},Q8=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},zse=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=O8();s.p(e.dictionary),Q8(t,2,s.d())}},Kse=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&cc(6,"invalid zlib data"),(t[1]>>5&1)==1&&cc(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function v_(t,e){e||(e={});var n=O8();n.p(t);var r=Gse(t,e,e.dictionary?6:2,4);return zse(r,e),Q8(r,r.length-4,n.d()),r}function qse(t,e){return Qse(t.subarray(Kse(t),-4),{i:2},e,e)}var Wse=typeof TextDecoder<"u"&&new TextDecoder,$se=0;try{Wse.decode(j8,{stream:!0}),$se=1}catch{}var yn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function pC(){yn.console&&typeof yn.console.log=="function"&&yn.console.log.apply(yn.console,arguments)}var Yr={log:pC,warn:function(t){yn.console&&(typeof yn.console.warn=="function"?yn.console.warn.apply(yn.console,arguments):pC.call(null,arguments))},error:function(t){yn.console&&(typeof yn.console.error=="function"?yn.console.error.apply(yn.console,arguments):pC(t))}};function gC(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Uf(r.response,e,n)},r.onerror=function(){Yr.error("could not download file")},r.send()}function fI(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function W1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var pg,y_,Uf=yn.saveAs||((typeof window>"u"?"undefined":Mr(window))!=="object"||window!==yn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=yn.URL||yn.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?fI(s.href)?gC(t,e,n):W1(s,s.target="_blank"):W1(s)):(s.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){W1(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(fI(t))gC(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){W1(r)})}else navigator.msSaveOrOpenBlob(function(s,a){return a===void 0?a={autoBom:!1}:Mr(a)!=="object"&&(Yr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return gC(t,e,n);var s=t.type==="application/octet-stream",a=/constructor/i.test(yn.HTMLElement)||yn.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||s&&a)&&(typeof FileReader>"u"?"undefined":Mr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=i?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},o.readAsDataURL(t)}else{var l=yn.URL||yn.webkitURL,A=l.createObjectURL(t);r?r.location=A:location.href=A,r=null,setTimeout(function(){l.revokeObjectURL(A)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function H8(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,a=n[r].process,i=s.exec(t);i&&(e=a(i),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),A=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),A.length==1&&(A="0"+A),"#"+o+l+A}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function xC(t,e){var n=t[0],r=t[1],s=t[2],a=t[3];n=vi(n,r,s,a,e[0],7,-680876936),a=vi(a,n,r,s,e[1],12,-389564586),s=vi(s,a,n,r,e[2],17,606105819),r=vi(r,s,a,n,e[3],22,-1044525330),n=vi(n,r,s,a,e[4],7,-176418897),a=vi(a,n,r,s,e[5],12,1200080426),s=vi(s,a,n,r,e[6],17,-1473231341),r=vi(r,s,a,n,e[7],22,-45705983),n=vi(n,r,s,a,e[8],7,1770035416),a=vi(a,n,r,s,e[9],12,-1958414417),s=vi(s,a,n,r,e[10],17,-42063),r=vi(r,s,a,n,e[11],22,-1990404162),n=vi(n,r,s,a,e[12],7,1804603682),a=vi(a,n,r,s,e[13],12,-40341101),s=vi(s,a,n,r,e[14],17,-1502002290),n=yi(n,r=vi(r,s,a,n,e[15],22,1236535329),s,a,e[1],5,-165796510),a=yi(a,n,r,s,e[6],9,-1069501632),s=yi(s,a,n,r,e[11],14,643717713),r=yi(r,s,a,n,e[0],20,-373897302),n=yi(n,r,s,a,e[5],5,-701558691),a=yi(a,n,r,s,e[10],9,38016083),s=yi(s,a,n,r,e[15],14,-660478335),r=yi(r,s,a,n,e[4],20,-405537848),n=yi(n,r,s,a,e[9],5,568446438),a=yi(a,n,r,s,e[14],9,-1019803690),s=yi(s,a,n,r,e[3],14,-187363961),r=yi(r,s,a,n,e[8],20,1163531501),n=yi(n,r,s,a,e[13],5,-1444681467),a=yi(a,n,r,s,e[2],9,-51403784),s=yi(s,a,n,r,e[7],14,1735328473),n=wi(n,r=yi(r,s,a,n,e[12],20,-1926607734),s,a,e[5],4,-378558),a=wi(a,n,r,s,e[8],11,-2022574463),s=wi(s,a,n,r,e[11],16,1839030562),r=wi(r,s,a,n,e[14],23,-35309556),n=wi(n,r,s,a,e[1],4,-1530992060),a=wi(a,n,r,s,e[4],11,1272893353),s=wi(s,a,n,r,e[7],16,-155497632),r=wi(r,s,a,n,e[10],23,-1094730640),n=wi(n,r,s,a,e[13],4,681279174),a=wi(a,n,r,s,e[0],11,-358537222),s=wi(s,a,n,r,e[3],16,-722521979),r=wi(r,s,a,n,e[6],23,76029189),n=wi(n,r,s,a,e[9],4,-640364487),a=wi(a,n,r,s,e[12],11,-421815835),s=wi(s,a,n,r,e[15],16,530742520),n=bi(n,r=wi(r,s,a,n,e[2],23,-995338651),s,a,e[0],6,-198630844),a=bi(a,n,r,s,e[7],10,1126891415),s=bi(s,a,n,r,e[14],15,-1416354905),r=bi(r,s,a,n,e[5],21,-57434055),n=bi(n,r,s,a,e[12],6,1700485571),a=bi(a,n,r,s,e[3],10,-1894986606),s=bi(s,a,n,r,e[10],15,-1051523),r=bi(r,s,a,n,e[1],21,-2054922799),n=bi(n,r,s,a,e[8],6,1873313359),a=bi(a,n,r,s,e[15],10,-30611744),s=bi(s,a,n,r,e[6],15,-1560198380),r=bi(r,s,a,n,e[13],21,1309151649),n=bi(n,r,s,a,e[4],6,-145523070),a=bi(a,n,r,s,e[11],10,-1120210379),s=bi(s,a,n,r,e[2],15,718787259),r=bi(r,s,a,n,e[9],21,-343485551),t[0]=Td(n,t[0]),t[1]=Td(r,t[1]),t[2]=Td(s,t[2]),t[3]=Td(a,t[3])}function Zy(t,e,n,r,s,a){return e=Td(Td(e,t),Td(r,a)),Td(e<<s|e>>>32-s,n)}function vi(t,e,n,r,s,a,i){return Zy(e&n|~e&r,t,e,s,a,i)}function yi(t,e,n,r,s,a,i){return Zy(e&r|n&~r,t,e,s,a,i)}function wi(t,e,n,r,s,a,i){return Zy(e^n^r,t,e,s,a,i)}function bi(t,e,n,r,s,a,i){return Zy(n^(e|~r),t,e,s,a,i)}function V8(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)xC(r,Yse(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(xC(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,xC(r,s),r}function Yse(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}pg=yn.atob.bind(yn),y_=yn.btoa.bind(yn);var hI="0123456789abcdef".split("");function Jse(t){for(var e="",n=0;n<4;n++)e+=hI[t>>8*n+4&15]+hI[t>>8*n&15];return e}function Xse(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function w_(t){return V8(t).map(Xse).join("")}var Zse=function(t){for(var e=0;e<t.length;e++)t[e]=Jse(t[e]);return t.join("")}(V8("hello"))!="5d41402abc4b2a76b9719d911017c592";function Td(t,e){if(Zse){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function b_(t,e){var n,r,s,a;if(t!==n){for(var i=(s=t,a=1+(256/t.length>>0),new Array(a+1).join(s)),o=[],l=0;l<256;l++)o[l]=l;var A=0;for(l=0;l<256;l++){var d=o[l];A=(A+d+i.charCodeAt(l))%256,o[l]=o[A],o[A]=d}n=t,r=o}else o=r;var h=e.length,p=0,g=0,w="";for(l=0;l<h;l++)g=(g+(d=o[p=(p+1)%256]))%256,o[p]=o[g],o[g]=d,i=o[(o[p]+o[g])%256],w+=String.fromCharCode(e.charCodeAt(l)^i);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var mI={print:4,modify:8,copy:16,"annot-forms":32};function N0(t,e,n,r){this.v=1,this.r=2;var s=192;t.forEach(function(o){if(mI.perm!==void 0)throw new Error("Invalid permission: "+o);s+=mI[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),i=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,i),this.P=-(1+(255^s)),this.encryptionKey=w_(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=b_(this.encryptionKey,this.padding)}function k0(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var s=t.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[r]}return e}function pI(t){if(Mr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!s],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var a in e[n]){var i=e[n][a];try{i[0].apply(t,r)}catch(o){yn.console&&Yr.error("jsPDF PubSub Error",o.message,o)}i[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function j2(t){if(!(this instanceof j2))return new j2(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function G8(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Pf(t,e,n,r,s){if(!(this instanceof Pf))return new Pf(t,e,n,r,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,G8.call(this,r,s)}function L0(t,e,n,r,s){if(!(this instanceof L0))return new L0(t,e,n,r,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,G8.call(this,r,s)}function an(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],a=arguments[3],i=[],o=1,l=16,A="S",d=null;Mr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,s=t.format||s,a=t.compress||t.compressPdf||a,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),A=t.defaultPathOperation||"S"),i=t.filters||(a===!0?["FlateEncode"]:i),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=pI;var w="1.3",b=g.__private__.getPdfVersion=function(){return w};g.__private__.setPdfVersion=function(Q){w=Q};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return E};var T=g.__private__.getPageFormat=function(Q){return E[Q]};s=s||"a4";var I={COMPAT:"compat",ADVANCED:"advanced"},k=I.COMPAT;function F(){this.saveGraphicsState(),Ce(new Ht(xt,0,0,-xt,0,Fa()*xt).toString()+" cm"),this.setFontSize(this.getFontSize()/xt),A="n",k=I.ADVANCED}function R(){this.restoreGraphicsState(),A="S",k=I.COMPAT}var L=g.__private__.combineFontStyleAndFontWeight=function(Q,Ae){if(Q=="bold"&&Ae=="normal"||Q=="bold"&&Ae==400||Q=="normal"&&Ae=="italic"||Q=="bold"&&Ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Ae&&(Q=Ae==400||Ae==="normal"?Q==="italic"?"italic":"normal":Ae!=700&&Ae!=="bold"||Q!=="normal"?(Ae==700?"bold":Ae)+""+Q:"bold"),Q};g.advancedAPI=function(Q){var Ae=k===I.COMPAT;return Ae&&F.call(this),typeof Q!="function"||(Q(this),Ae&&R.call(this)),this},g.compatAPI=function(Q){var Ae=k===I.ADVANCED;return Ae&&R.call(this),typeof Q!="function"||(Q(this),Ae&&F.call(this)),this},g.isAdvancedAPI=function(){return k===I.ADVANCED};var S,N=function(Q){if(k!==I.ADVANCED)throw new Error(Q+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=g.roundToPrecision=g.__private__.roundToPrecision=function(Q,Ae){var Ie=e||Ae;if(isNaN(Q)||isNaN(Ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Q.toFixed(Ie).replace(/0+$/,"")};S=g.hpf=g.__private__.hpf=typeof l=="number"?function(Q){if(isNaN(Q))throw new Error("Invalid argument passed to jsPDF.hpf");return B(Q,l)}:l==="smart"?function(Q){if(isNaN(Q))throw new Error("Invalid argument passed to jsPDF.hpf");return B(Q,Q>-1&&Q<1?16:5)}:function(Q){if(isNaN(Q))throw new Error("Invalid argument passed to jsPDF.hpf");return B(Q,16)};var H=g.f2=g.__private__.f2=function(Q){if(isNaN(Q))throw new Error("Invalid argument passed to jsPDF.f2");return B(Q,2)},P=g.__private__.f3=function(Q){if(isNaN(Q))throw new Error("Invalid argument passed to jsPDF.f3");return B(Q,3)},M=g.scale=g.__private__.scale=function(Q){if(isNaN(Q))throw new Error("Invalid argument passed to jsPDF.scale");return k===I.COMPAT?Q*xt:k===I.ADVANCED?Q:void 0},V=function(Q){return k===I.COMPAT?Fa()-Q:k===I.ADVANCED?Q:void 0},G=function(Q){return M(V(Q))};g.__private__.setPrecision=g.setPrecision=function(Q){typeof parseInt(Q,10)=="number"&&(e=parseInt(Q,10))};var oe,K="00000000000000000000000000000000",Z=g.__private__.getFileId=function(){return K},re=g.__private__.setFileId=function(Q){return K=Q!==void 0&&/^[a-fA-F0-9]{32}$/.test(Q)?Q.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ir=new N0(d.userPermissions,d.userPassword,d.ownerPassword,K)),K};g.setFileId=function(Q){return re(Q),this},g.getFileId=function(){return Z()};var q=g.__private__.convertDateToPDFDate=function(Q){var Ae=Q.getTimezoneOffset(),Ie=Ae<0?"+":"-",Ue=Math.floor(Math.abs(Ae/60)),He=Math.abs(Ae%60),ot=[Ie,J(Ue),"'",J(He),"'"].join("");return["D:",Q.getFullYear(),J(Q.getMonth()+1),J(Q.getDate()),J(Q.getHours()),J(Q.getMinutes()),J(Q.getSeconds()),ot].join("")},X=g.__private__.convertPDFDateToDate=function(Q){var Ae=parseInt(Q.substr(2,4),10),Ie=parseInt(Q.substr(6,2),10)-1,Ue=parseInt(Q.substr(8,2),10),He=parseInt(Q.substr(10,2),10),ot=parseInt(Q.substr(12,2),10),_t=parseInt(Q.substr(14,2),10);return new Date(Ae,Ie,Ue,He,ot,_t,0)},ue=g.__private__.setCreationDate=function(Q){var Ae;if(Q===void 0&&(Q=new Date),Q instanceof Date)Ae=q(Q);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Q))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Ae=Q}return oe=Ae},j=g.__private__.getCreationDate=function(Q){var Ae=oe;return Q==="jsDate"&&(Ae=X(oe)),Ae};g.setCreationDate=function(Q){return ue(Q),this},g.getCreationDate=function(Q){return j(Q)};var W,J=g.__private__.padd2=function(Q){return("0"+parseInt(Q)).slice(-2)},ne=g.__private__.padd2Hex=function(Q){return("00"+(Q=Q.toString())).substr(Q.length)},ie=0,de=[],me=[],xe=0,Se=[],ge=[],ae=!1,Fe=me,et=function(){ie=0,xe=0,me=[],de=[],Se=[],Ee=Qr(),_e=Qr()};g.__private__.setCustomOutputDestination=function(Q){ae=!0,Fe=Q};var De=function(Q){ae||(Fe=Q)};g.__private__.resetCustomOutputDestination=function(){ae=!1,Fe=me};var Ce=g.__private__.out=function(Q){return Q=Q.toString(),xe+=Q.length+1,Fe.push(Q),Fe},Ge=g.__private__.write=function(Q){return Ce(arguments.length===1?Q.toString():Array.prototype.join.call(arguments," "))},nt=g.__private__.getArrayBuffer=function(Q){for(var Ae=Q.length,Ie=new ArrayBuffer(Ae),Ue=new Uint8Array(Ie);Ae--;)Ue[Ae]=Q.charCodeAt(Ae);return Ie},it=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return it};var dt=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(Q){return dt=k===I.ADVANCED?Q/xt:Q,this};var Ct,At=g.__private__.getFontSize=g.getFontSize=function(){return k===I.COMPAT?dt:dt*xt},kt=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(Q){return kt=Q,this},g.__private__.getR2L=g.getR2L=function(){return kt};var Ft,Wt=g.__private__.setZoomMode=function(Q){var Ae=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Q))Ct=Q;else if(isNaN(Q)){if(Ae.indexOf(Q)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Q+'" is not recognized.');Ct=Q}else Ct=parseInt(Q,10)};g.__private__.getZoomMode=function(){return Ct};var Mt,Vt=g.__private__.setPageMode=function(Q){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Q)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Q+'" is not recognized.');Ft=Q};g.__private__.getPageMode=function(){return Ft};var Jt=g.__private__.setLayoutMode=function(Q){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Q)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Q+'" is not recognized.');Mt=Q};g.__private__.getLayoutMode=function(){return Mt},g.__private__.setDisplayMode=g.setDisplayMode=function(Q,Ae,Ie){return Wt(Q),Jt(Ae),Vt(Ie),this};var Pt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(Q){if(Object.keys(Pt).indexOf(Q)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pt[Q]},g.__private__.getDocumentProperties=function(){return Pt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(Q){for(var Ae in Pt)Pt.hasOwnProperty(Ae)&&Q[Ae]&&(Pt[Ae]=Q[Ae]);return this},g.__private__.setDocumentProperty=function(Q,Ae){if(Object.keys(Pt).indexOf(Q)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pt[Q]=Ae};var It,xt,xn,$t,ir,mn={},Fn={},Er=[],Bn={},ta={},Xn={},Wr={},ls=null,Dn=0,tn=[],On=new pI(g),na=t.hotfixes||[],Or={},hs={},ga=[],Ht=function Q(Ae,Ie,Ue,He,ot,_t){if(!(this instanceof Q))return new Q(Ae,Ie,Ue,He,ot,_t);isNaN(Ae)&&(Ae=1),isNaN(Ie)&&(Ie=0),isNaN(Ue)&&(Ue=0),isNaN(He)&&(He=1),isNaN(ot)&&(ot=0),isNaN(_t)&&(_t=0),this._matrix=[Ae,Ie,Ue,He,ot,_t]};Object.defineProperty(Ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Q){this._matrix[0]=Q}}),Object.defineProperty(Ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Q){this._matrix[1]=Q}}),Object.defineProperty(Ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Q){this._matrix[2]=Q}}),Object.defineProperty(Ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Q){this._matrix[3]=Q}}),Object.defineProperty(Ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Q){this._matrix[4]=Q}}),Object.defineProperty(Ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Q){this._matrix[5]=Q}}),Object.defineProperty(Ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(Q){this._matrix[0]=Q}}),Object.defineProperty(Ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(Q){this._matrix[1]=Q}}),Object.defineProperty(Ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(Q){this._matrix[2]=Q}}),Object.defineProperty(Ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(Q){this._matrix[3]=Q}}),Object.defineProperty(Ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(Q){this._matrix[4]=Q}}),Object.defineProperty(Ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(Q){this._matrix[5]=Q}}),Object.defineProperty(Ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ht.prototype.join=function(Q){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(Q)},Ht.prototype.multiply=function(Q){var Ae=Q.sx*this.sx+Q.shy*this.shx,Ie=Q.sx*this.shy+Q.shy*this.sy,Ue=Q.shx*this.sx+Q.sy*this.shx,He=Q.shx*this.shy+Q.sy*this.sy,ot=Q.tx*this.sx+Q.ty*this.shx+this.tx,_t=Q.tx*this.shy+Q.ty*this.sy+this.ty;return new Ht(Ae,Ie,Ue,He,ot,_t)},Ht.prototype.decompose=function(){var Q=this.sx,Ae=this.shy,Ie=this.shx,Ue=this.sy,He=this.tx,ot=this.ty,_t=Math.sqrt(Q*Q+Ae*Ae),Ot=(Q/=_t)*Ie+(Ae/=_t)*Ue;Ie-=Q*Ot,Ue-=Ae*Ot;var _=Math.sqrt(Ie*Ie+Ue*Ue);return Ot/=_,Q*(Ue/=_)<Ae*(Ie/=_)&&(Q=-Q,Ae=-Ae,Ot=-Ot,_t=-_t),{scale:new Ht(_t,0,0,_,0,0),translate:new Ht(1,0,0,1,He,ot),rotate:new Ht(Q,Ae,-Ae,Q,0,0),skew:new Ht(1,0,Ot,1,0,0)}},Ht.prototype.toString=function(Q){return this.join(" ")},Ht.prototype.inversed=function(){var Q=this.sx,Ae=this.shy,Ie=this.shx,Ue=this.sy,He=this.tx,ot=this.ty,_t=1/(Q*Ue-Ae*Ie),Ot=Ue*_t,_=-Ae*_t,Y=-Ie*_t,se=Q*_t;return new Ht(Ot,_,Y,se,-Ot*He-Y*ot,-_*He-se*ot)},Ht.prototype.applyToPoint=function(Q){var Ae=Q.x*this.sx+Q.y*this.shx+this.tx,Ie=Q.x*this.shy+Q.y*this.sy+this.ty;return new Ol(Ae,Ie)},Ht.prototype.applyToRectangle=function(Q){var Ae=this.applyToPoint(Q),Ie=this.applyToPoint(new Ol(Q.x+Q.w,Q.y+Q.h));return new Ic(Ae.x,Ae.y,Ie.x-Ae.x,Ie.y-Ae.y)},Ht.prototype.clone=function(){var Q=this.sx,Ae=this.shy,Ie=this.shx,Ue=this.sy,He=this.tx,ot=this.ty;return new Ht(Q,Ae,Ie,Ue,He,ot)},g.Matrix=Ht;var or=g.matrixMult=function(Q,Ae){return Ae.multiply(Q)},Zn=new Ht(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Zn;var _r=function(Q,Ae){if(!ta[Q]){var Ie=(Ae instanceof Pf?"Sh":"P")+(Object.keys(Bn).length+1).toString(10);Ae.id=Ie,ta[Q]=Ie,Bn[Ie]=Ae,On.publish("addPattern",Ae)}};g.ShadingPattern=Pf,g.TilingPattern=L0,g.addShadingPattern=function(Q,Ae){return N("addShadingPattern()"),_r(Q,Ae),this},g.beginTilingPattern=function(Q){N("beginTilingPattern()"),rl(Q.boundingBox[0],Q.boundingBox[1],Q.boundingBox[2]-Q.boundingBox[0],Q.boundingBox[3]-Q.boundingBox[1],Q.matrix)},g.endTilingPattern=function(Q,Ae){N("endTilingPattern()"),Ae.stream=ge[W].join(`
`),_r(Q,Ae),On.publish("endTilingPattern",Ae),ga.pop().restore()};var kr=g.__private__.newObject=function(){var Q=Qr();return fe(Q,!0),Q},Qr=g.__private__.newObjectDeferred=function(){return ie++,de[ie]=function(){return xe},ie},fe=function(Q,Ae){return Ae=typeof Ae=="boolean"&&Ae,de[Q]=xe,Ae&&Ce(Q+" 0 obj"),Q},Ne=g.__private__.newAdditionalObject=function(){var Q={objId:Qr(),content:""};return Se.push(Q),Q},Ee=Qr(),_e=Qr(),Te=g.__private__.decodeColorString=function(Q){var Ae=Q.split(" ");if(Ae.length!==2||Ae[1]!=="g"&&Ae[1]!=="G")Ae.length===5&&(Ae[4]==="k"||Ae[4]==="K")&&(Ae=[(1-Ae[0])*(1-Ae[3]),(1-Ae[1])*(1-Ae[3]),(1-Ae[2])*(1-Ae[3]),"r"]);else{var Ie=parseFloat(Ae[0]);Ae=[Ie,Ie,Ie,"r"]}for(var Ue="#",He=0;He<3;He++)Ue+=("0"+Math.floor(255*parseFloat(Ae[He])).toString(16)).slice(-2);return Ue},ke=g.__private__.encodeColorString=function(Q){var Ae;typeof Q=="string"&&(Q={ch1:Q});var Ie=Q.ch1,Ue=Q.ch2,He=Q.ch3,ot=Q.ch4,_t=Q.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ie=="string"&&Ie.charAt(0)!=="#"){var Ot=new H8(Ie);if(Ot.ok)Ie=Ot.toHex();else if(!/^\d*\.?\d*$/.test(Ie))throw new Error('Invalid color "'+Ie+'" passed to jsPDF.encodeColorString.')}if(typeof Ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ie)&&(Ie="#"+Ie[1]+Ie[1]+Ie[2]+Ie[2]+Ie[3]+Ie[3]),typeof Ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ie)){var _=parseInt(Ie.substr(1),16);Ie=_>>16&255,Ue=_>>8&255,He=255&_}if(Ue===void 0||ot===void 0&&Ie===Ue&&Ue===He)if(typeof Ie=="string")Ae=Ie+" "+_t[0];else switch(Q.precision){case 2:Ae=H(Ie/255)+" "+_t[0];break;case 3:default:Ae=P(Ie/255)+" "+_t[0]}else if(ot===void 0||Mr(ot)==="object"){if(ot&&!isNaN(ot.a)&&ot.a===0)return Ae=["1.","1.","1.",_t[1]].join(" ");if(typeof Ie=="string")Ae=[Ie,Ue,He,_t[1]].join(" ");else switch(Q.precision){case 2:Ae=[H(Ie/255),H(Ue/255),H(He/255),_t[1]].join(" ");break;default:case 3:Ae=[P(Ie/255),P(Ue/255),P(He/255),_t[1]].join(" ")}}else if(typeof Ie=="string")Ae=[Ie,Ue,He,ot,_t[2]].join(" ");else switch(Q.precision){case 2:Ae=[H(Ie),H(Ue),H(He),H(ot),_t[2]].join(" ");break;case 3:default:Ae=[P(Ie),P(Ue),P(He),P(ot),_t[2]].join(" ")}return Ae},Ke=g.__private__.getFilters=function(){return i},tt=g.__private__.putStream=function(Q){var Ae=(Q=Q||{}).data||"",Ie=Q.filters||Ke(),Ue=Q.alreadyAppliedFilters||[],He=Q.addLength1||!1,ot=Ae.length,_t=Q.objectId,Ot=function(fn){return fn};if(d!==null&&_t===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ot=Ir.encryptor(_t,0));var _={};Ie===!0&&(Ie=["FlateEncode"]);var Y=Q.additionalKeyValues||[],se=(_=an.API.processDataByFilters!==void 0?an.API.processDataByFilters(Ae,Ie):{data:Ae,reverseChain:[]}).reverseChain+(Array.isArray(Ue)?Ue.join(" "):Ue.toString());if(_.data.length!==0&&(Y.push({key:"Length",value:_.data.length}),He===!0&&Y.push({key:"Length1",value:ot})),se.length!=0)if(se.split("/").length-1==1)Y.push({key:"Filter",value:se});else{Y.push({key:"Filter",value:"["+se+"]"});for(var ye=0;ye<Y.length;ye+=1)if(Y[ye].key==="DecodeParms"){for(var Oe=[],Xe=0;Xe<_.reverseChain.split("/").length-1;Xe+=1)Oe.push("null");Oe.push(Y[ye].value),Y[ye].value="["+Oe.join(" ")+"]"}}Ce("<<");for(var St=0;St<Y.length;St++)Ce("/"+Y[St].key+" "+Y[St].value);Ce(">>"),_.data.length!==0&&(Ce("stream"),Ce(Ot(_.data)),Ce("endstream"))},Qe=g.__private__.putPage=function(Q){var Ae=Q.number,Ie=Q.data,Ue=Q.objId,He=Q.contentsObjId;fe(Ue,!0),Ce("<</Type /Page"),Ce("/Parent "+Q.rootDictionaryObjId+" 0 R"),Ce("/Resources "+Q.resourceDictionaryObjId+" 0 R"),Ce("/MediaBox ["+parseFloat(S(Q.mediaBox.bottomLeftX))+" "+parseFloat(S(Q.mediaBox.bottomLeftY))+" "+S(Q.mediaBox.topRightX)+" "+S(Q.mediaBox.topRightY)+"]"),Q.cropBox!==null&&Ce("/CropBox ["+S(Q.cropBox.bottomLeftX)+" "+S(Q.cropBox.bottomLeftY)+" "+S(Q.cropBox.topRightX)+" "+S(Q.cropBox.topRightY)+"]"),Q.bleedBox!==null&&Ce("/BleedBox ["+S(Q.bleedBox.bottomLeftX)+" "+S(Q.bleedBox.bottomLeftY)+" "+S(Q.bleedBox.topRightX)+" "+S(Q.bleedBox.topRightY)+"]"),Q.trimBox!==null&&Ce("/TrimBox ["+S(Q.trimBox.bottomLeftX)+" "+S(Q.trimBox.bottomLeftY)+" "+S(Q.trimBox.topRightX)+" "+S(Q.trimBox.topRightY)+"]"),Q.artBox!==null&&Ce("/ArtBox ["+S(Q.artBox.bottomLeftX)+" "+S(Q.artBox.bottomLeftY)+" "+S(Q.artBox.topRightX)+" "+S(Q.artBox.topRightY)+"]"),typeof Q.userUnit=="number"&&Q.userUnit!==1&&Ce("/UserUnit "+Q.userUnit),On.publish("putPage",{objId:Ue,pageContext:tn[Ae],pageNumber:Ae,page:Ie}),Ce("/Contents "+He+" 0 R"),Ce(">>"),Ce("endobj");var ot=Ie.join(`
`);return k===I.ADVANCED&&(ot+=`
Q`),fe(He,!0),tt({data:ot,filters:Ke(),objectId:He}),Ce("endobj"),Ue},We=g.__private__.putPages=function(){var Q,Ae,Ie=[];for(Q=1;Q<=Dn;Q++)tn[Q].objId=Qr(),tn[Q].contentsObjId=Qr();for(Q=1;Q<=Dn;Q++)Ie.push(Qe({number:Q,data:ge[Q],objId:tn[Q].objId,contentsObjId:tn[Q].contentsObjId,mediaBox:tn[Q].mediaBox,cropBox:tn[Q].cropBox,bleedBox:tn[Q].bleedBox,trimBox:tn[Q].trimBox,artBox:tn[Q].artBox,userUnit:tn[Q].userUnit,rootDictionaryObjId:Ee,resourceDictionaryObjId:_e}));fe(Ee,!0),Ce("<</Type /Pages");var Ue="/Kids [";for(Ae=0;Ae<Dn;Ae++)Ue+=Ie[Ae]+" 0 R ";Ce(Ue+"]"),Ce("/Count "+Dn),Ce(">>"),Ce("endobj"),On.publish("postPutPages")},Je=function(Q){On.publish("putFont",{font:Q,out:Ce,newObject:kr,putStream:tt}),Q.isAlreadyPutted!==!0&&(Q.objectNumber=kr(),Ce("<<"),Ce("/Type /Font"),Ce("/BaseFont /"+k0(Q.postScriptName)),Ce("/Subtype /Type1"),typeof Q.encoding=="string"&&Ce("/Encoding /"+Q.encoding),Ce("/FirstChar 32"),Ce("/LastChar 255"),Ce(">>"),Ce("endobj"))},yt=function(){for(var Q in mn)mn.hasOwnProperty(Q)&&(h===!1||h===!0&&p.hasOwnProperty(Q))&&Je(mn[Q])},Nt=function(Q){Q.objectNumber=kr();var Ae=[];Ae.push({key:"Type",value:"/XObject"}),Ae.push({key:"Subtype",value:"/Form"}),Ae.push({key:"BBox",value:"["+[S(Q.x),S(Q.y),S(Q.x+Q.width),S(Q.y+Q.height)].join(" ")+"]"}),Ae.push({key:"Matrix",value:"["+Q.matrix.toString()+"]"});var Ie=Q.pages[1].join(`
`);tt({data:Ie,additionalKeyValues:Ae,objectId:Q.objectNumber}),Ce("endobj")},jt=function(){for(var Q in Or)Or.hasOwnProperty(Q)&&Nt(Or[Q])},Tt=function(Q,Ae){var Ie,Ue=[],He=1/(Ae-1);for(Ie=0;Ie<1;Ie+=He)Ue.push(Ie);if(Ue.push(1),Q[0].offset!=0){var ot={offset:0,color:Q[0].color};Q.unshift(ot)}if(Q[Q.length-1].offset!=1){var _t={offset:1,color:Q[Q.length-1].color};Q.push(_t)}for(var Ot="",_=0,Y=0;Y<Ue.length;Y++){for(Ie=Ue[Y];Ie>Q[_+1].offset;)_++;var se=Q[_].offset,ye=(Ie-se)/(Q[_+1].offset-se),Oe=Q[_].color,Xe=Q[_+1].color;Ot+=ne(Math.round((1-ye)*Oe[0]+ye*Xe[0]).toString(16))+ne(Math.round((1-ye)*Oe[1]+ye*Xe[1]).toString(16))+ne(Math.round((1-ye)*Oe[2]+ye*Xe[2]).toString(16))}return Ot.trim()},Rt=function(Q,Ae){Ae||(Ae=21);var Ie=kr(),Ue=Tt(Q.colors,Ae),He=[];He.push({key:"FunctionType",value:"0"}),He.push({key:"Domain",value:"[0.0 1.0]"}),He.push({key:"Size",value:"["+Ae+"]"}),He.push({key:"BitsPerSample",value:"8"}),He.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),He.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tt({data:Ue,additionalKeyValues:He,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ie}),Ce("endobj"),Q.objectNumber=kr(),Ce("<< /ShadingType "+Q.type),Ce("/ColorSpace /DeviceRGB");var ot="/Coords ["+S(parseFloat(Q.coords[0]))+" "+S(parseFloat(Q.coords[1]))+" ";Q.type===2?ot+=S(parseFloat(Q.coords[2]))+" "+S(parseFloat(Q.coords[3])):ot+=S(parseFloat(Q.coords[2]))+" "+S(parseFloat(Q.coords[3]))+" "+S(parseFloat(Q.coords[4]))+" "+S(parseFloat(Q.coords[5])),Ce(ot+="]"),Q.matrix&&Ce("/Matrix ["+Q.matrix.toString()+"]"),Ce("/Function "+Ie+" 0 R"),Ce("/Extend [true true]"),Ce(">>"),Ce("endobj")},An=function(Q,Ae){var Ie=Qr(),Ue=kr();Ae.push({resourcesOid:Ie,objectOid:Ue}),Q.objectNumber=Ue;var He=[];He.push({key:"Type",value:"/Pattern"}),He.push({key:"PatternType",value:"1"}),He.push({key:"PaintType",value:"1"}),He.push({key:"TilingType",value:"1"}),He.push({key:"BBox",value:"["+Q.boundingBox.map(S).join(" ")+"]"}),He.push({key:"XStep",value:S(Q.xStep)}),He.push({key:"YStep",value:S(Q.yStep)}),He.push({key:"Resources",value:Ie+" 0 R"}),Q.matrix&&He.push({key:"Matrix",value:"["+Q.matrix.toString()+"]"}),tt({data:Q.stream,additionalKeyValues:He,objectId:Q.objectNumber}),Ce("endobj")},Un=function(Q){var Ae;for(Ae in Bn)Bn.hasOwnProperty(Ae)&&(Bn[Ae]instanceof Pf?Rt(Bn[Ae]):Bn[Ae]instanceof L0&&An(Bn[Ae],Q))},Ln=function(Q){for(var Ae in Q.objectNumber=kr(),Ce("<<"),Q)switch(Ae){case"opacity":Ce("/ca "+H(Q[Ae]));break;case"stroke-opacity":Ce("/CA "+H(Q[Ae]))}Ce(">>"),Ce("endobj")},Qn=function(){var Q;for(Q in Xn)Xn.hasOwnProperty(Q)&&Ln(Xn[Q])},Es=function(){for(var Q in Ce("/XObject <<"),Or)Or.hasOwnProperty(Q)&&Or[Q].objectNumber>=0&&Ce("/"+Q+" "+Or[Q].objectNumber+" 0 R");On.publish("putXobjectDict"),Ce(">>")},ii=function(){Ir.oid=kr(),Ce("<<"),Ce("/Filter /Standard"),Ce("/V "+Ir.v),Ce("/R "+Ir.r),Ce("/U <"+Ir.toHexString(Ir.U)+">"),Ce("/O <"+Ir.toHexString(Ir.O)+">"),Ce("/P "+Ir.P),Ce(">>"),Ce("endobj")},_s=function(){for(var Q in Ce("/Font <<"),mn)mn.hasOwnProperty(Q)&&(h===!1||h===!0&&p.hasOwnProperty(Q))&&Ce("/"+Q+" "+mn[Q].objectNumber+" 0 R");Ce(">>")},ra=function(){if(Object.keys(Bn).length>0){for(var Q in Ce("/Shading <<"),Bn)Bn.hasOwnProperty(Q)&&Bn[Q]instanceof Pf&&Bn[Q].objectNumber>=0&&Ce("/"+Q+" "+Bn[Q].objectNumber+" 0 R");On.publish("putShadingPatternDict"),Ce(">>")}},Ms=function(Q){if(Object.keys(Bn).length>0){for(var Ae in Ce("/Pattern <<"),Bn)Bn.hasOwnProperty(Ae)&&Bn[Ae]instanceof g.TilingPattern&&Bn[Ae].objectNumber>=0&&Bn[Ae].objectNumber<Q&&Ce("/"+Ae+" "+Bn[Ae].objectNumber+" 0 R");On.publish("putTilingPatternDict"),Ce(">>")}},xa=function(){if(Object.keys(Xn).length>0){var Q;for(Q in Ce("/ExtGState <<"),Xn)Xn.hasOwnProperty(Q)&&Xn[Q].objectNumber>=0&&Ce("/"+Q+" "+Xn[Q].objectNumber+" 0 R");On.publish("putGStateDict"),Ce(">>")}},Hr=function(Q){fe(Q.resourcesOid,!0),Ce("<<"),Ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),_s(),ra(),Ms(Q.objectOid),xa(),Es(),Ce(">>"),Ce("endobj")},sa=function(){var Q=[];yt(),Qn(),jt(),Un(Q),On.publish("putResources"),Q.forEach(Hr),Hr({resourcesOid:_e,objectOid:Number.MAX_SAFE_INTEGER}),On.publish("postPutResources")},Sc=function(){On.publish("putAdditionalObjects");for(var Q=0;Q<Se.length;Q++){var Ae=Se[Q];fe(Ae.objId,!0),Ce(Ae.content),Ce("endobj")}On.publish("postPutAdditionalObjects")},ku=function(Q){Fn[Q.fontName]=Fn[Q.fontName]||{},Fn[Q.fontName][Q.fontStyle]=Q.id},Wo=function(Q,Ae,Ie,Ue,He){var ot={id:"F"+(Object.keys(mn).length+1).toString(10),postScriptName:Q,fontName:Ae,fontStyle:Ie,encoding:Ue,isStandardFont:He||!1,metadata:{}};return On.publish("addFont",{font:ot,instance:this}),mn[ot.id]=ot,ku(ot),ot.id},TA=function(Q){for(var Ae=0,Ie=it.length;Ae<Ie;Ae++){var Ue=Wo.call(this,Q[Ae][0],Q[Ae][1],Q[Ae][2],it[Ae][3],!0);h===!1&&(p[Ue]=!0);var He=Q[Ae][0].split("-");ku({id:Ue,fontName:He[0],fontStyle:He[1]||""})}On.publish("addFonts",{fonts:mn,dictionary:Fn})},va=function(Q){return Q.foo=function(){try{return Q.apply(this,arguments)}catch(Ue){var Ae=Ue.stack||"";~Ae.indexOf(" at ")&&(Ae=Ae.split(" at ")[1]);var Ie="Error in function "+Ae.split(`
`)[0].split("<")[0]+": "+Ue.message;if(!yn.console)throw new Error(Ie);yn.console.error(Ie,Ue),yn.alert&&alert(Ie)}},Q.foo.bar=Q,Q.foo},Tc=function(Q,Ae){var Ie,Ue,He,ot,_t,Ot,_,Y,se;if(He=(Ae=Ae||{}).sourceEncoding||"Unicode",_t=Ae.outputEncoding,(Ae.autoencode||_t)&&mn[It].metadata&&mn[It].metadata[He]&&mn[It].metadata[He].encoding&&(ot=mn[It].metadata[He].encoding,!_t&&mn[It].encoding&&(_t=mn[It].encoding),!_t&&ot.codePages&&(_t=ot.codePages[0]),typeof _t=="string"&&(_t=ot[_t]),_t)){for(_=!1,Ot=[],Ie=0,Ue=Q.length;Ie<Ue;Ie++)(Y=_t[Q.charCodeAt(Ie)])?Ot.push(String.fromCharCode(Y)):Ot.push(Q[Ie]),Ot[Ie].charCodeAt(0)>>8&&(_=!0);Q=Ot.join("")}for(Ie=Q.length;_===void 0&&Ie!==0;)Q.charCodeAt(Ie-1)>>8&&(_=!0),Ie--;if(!_)return Q;for(Ot=Ae.noBOM?[]:[254,255],Ie=0,Ue=Q.length;Ie<Ue;Ie++){if((se=(Y=Q.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+Q+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ot.push(se),Ot.push(Y-(se<<8))}return String.fromCharCode.apply(void 0,Ot)},lr=g.__private__.pdfEscape=g.pdfEscape=function(Q,Ae){return Tc(Q,Ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ya=g.__private__.beginPage=function(Q){ge[++Dn]=[],tn[Dn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Q[0]),topRightY:Number(Q[1])}},Wi(Dn),De(ge[W])},$o=function(Q,Ae){var Ie,Ue,He;switch(n=Ae||n,typeof Q=="string"&&(Ie=T(Q.toLowerCase()),Array.isArray(Ie)&&(Ue=Ie[0],He=Ie[1])),Array.isArray(Q)&&(Ue=Q[0]*xt,He=Q[1]*xt),isNaN(Ue)&&(Ue=s[0],He=s[1]),(Ue>14400||He>14400)&&(Yr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ue=Math.min(14400,Ue),He=Math.min(14400,He)),s=[Ue,He],n.substr(0,1)){case"l":He>Ue&&(s=[He,Ue]);break;case"p":Ue>He&&(s=[He,Ue])}ya(s),IA(Zo),Ce(wa),FA!==0&&Ce(FA+" J"),jl!==0&&Ce(jl+" j"),On.publish("addPage",{pageNumber:Dn})},Yo=function(Q){Q>0&&Q<=Dn&&(ge.splice(Q,1),tn.splice(Q,1),Dn--,W>Dn&&(W=Dn),this.setPage(W))},Wi=function(Q){Q>0&&Q<=Dn&&(W=Q)},gr=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return ge.length-1},Jo=function(Q,Ae,Ie){var Ue,He=void 0;return Ie=Ie||{},Q=Q!==void 0?Q:mn[It].fontName,Ae=Ae!==void 0?Ae:mn[It].fontStyle,Ue=Q.toLowerCase(),Fn[Ue]!==void 0&&Fn[Ue][Ae]!==void 0?He=Fn[Ue][Ae]:Fn[Q]!==void 0&&Fn[Q][Ae]!==void 0?He=Fn[Q][Ae]:Ie.disableWarning===!1&&Yr.warn("Unable to look up font label for font '"+Q+"', '"+Ae+"'. Refer to getFontList() for available fonts."),He||Ie.noFallback||(He=Fn.times[Ae])==null&&(He=Fn.times.normal),He},oi=g.__private__.putInfo=function(){var Q=kr(),Ae=function(Ue){return Ue};for(var Ie in d!==null&&(Ae=Ir.encryptor(Q,0)),Ce("<<"),Ce("/Producer ("+lr(Ae("jsPDF "+an.version))+")"),Pt)Pt.hasOwnProperty(Ie)&&Pt[Ie]&&Ce("/"+Ie.substr(0,1).toUpperCase()+Ie.substr(1)+" ("+lr(Ae(Pt[Ie]))+")");Ce("/CreationDate ("+lr(Ae(oe))+")"),Ce(">>"),Ce("endobj")},yo=g.__private__.putCatalog=function(Q){var Ae=(Q=Q||{}).rootDictionaryObjId||Ee;switch(kr(),Ce("<<"),Ce("/Type /Catalog"),Ce("/Pages "+Ae+" 0 R"),Ct||(Ct="fullwidth"),Ct){case"fullwidth":Ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ce("/OpenAction [3 0 R /Fit]");break;case"original":Ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ie=""+Ct;Ie.substr(Ie.length-1)==="%"&&(Ct=parseInt(Ct)/100),typeof Ct=="number"&&Ce("/OpenAction [3 0 R /XYZ null null "+H(Ct)+"]")}switch(Mt||(Mt="continuous"),Mt){case"continuous":Ce("/PageLayout /OneColumn");break;case"single":Ce("/PageLayout /SinglePage");break;case"two":case"twoleft":Ce("/PageLayout /TwoColumnLeft");break;case"tworight":Ce("/PageLayout /TwoColumnRight")}Ft&&Ce("/PageMode /"+Ft),On.publish("putCatalog"),Ce(">>"),Ce("endobj")},Iu=g.__private__.putTrailer=function(){Ce("trailer"),Ce("<<"),Ce("/Size "+(ie+1)),Ce("/Root "+ie+" 0 R"),Ce("/Info "+(ie-1)+" 0 R"),d!==null&&Ce("/Encrypt "+Ir.oid+" 0 R"),Ce("/ID [ <"+K+"> <"+K+"> ]"),Ce(">>")},BA=g.__private__.putHeader=function(){Ce("%PDF-"+w),Ce("%")},NA=g.__private__.putXRef=function(){var Q="0000000000";Ce("xref"),Ce("0 "+(ie+1)),Ce("0000000000 65535 f ");for(var Ae=1;Ae<=ie;Ae++)typeof de[Ae]=="function"?Ce((Q+de[Ae]()).slice(-10)+" 00000 n "):de[Ae]!==void 0?Ce((Q+de[Ae]).slice(-10)+" 00000 n "):Ce("0000000000 00000 n ")},wo=g.__private__.buildDocument=function(){et(),De(me),On.publish("buildDocument"),BA(),We(),Sc(),sa(),d!==null&&ii(),oi(),yo();var Q=xe;return NA(),Iu(),Ce("startxref"),Ce(""+Q),Ce("%%EOF"),De(ge[W]),me.join(`
`)},Bc=g.__private__.getBlob=function(Q){return new Blob([nt(Q)],{type:"application/pdf"})},bo=g.output=g.__private__.output=va(function(Q,Ae){switch(typeof(Ae=Ae||{})=="string"?Ae={filename:Ae}:Ae.filename=Ae.filename||"generated.pdf",Q){case void 0:return wo();case"save":g.save(Ae.filename);break;case"arraybuffer":return nt(wo());case"blob":return Bc(wo());case"bloburi":case"bloburl":if(yn.URL!==void 0&&typeof yn.URL.createObjectURL=="function")return yn.URL&&yn.URL.createObjectURL(Bc(wo()))||void 0;Yr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ie="",Ue=wo();try{Ie=y_(Ue)}catch{Ie=y_(unescape(encodeURIComponent(Ue)))}return"data:application/pdf;filename="+Ae.filename+";base64,"+Ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yn)==="[object Window]"){var He="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ot=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Ae.pdfObjectUrl&&(He=Ae.pdfObjectUrl,ot="");var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+He+'"'+ot+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Ae)+");<\/script></body></html>",Ot=yn.open();return Ot!==null&&Ot.document.write(_t),Ot}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yn)==="[object Window]"){var _='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Ae.filename+'" width="500px" height="400px" /></body></html>',Y=yn.open();if(Y!==null){Y.document.write(_);var se=this;Y.document.documentElement.querySelector("#pdfViewer").onload=function(){Y.document.title=Ae.filename,Y.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(se.output("bloburl"))}}return Y}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Ae)+'"></iframe></body></html>',Oe=yn.open();if(Oe!==null&&(Oe.document.write(ye),Oe.document.title=Ae.filename),Oe||typeof safari>"u")return Oe;break;case"datauri":case"dataurl":return yn.document.location.href=this.output("datauristring",Ae);default:return null}}),$i=function(Q){return Array.isArray(na)===!0&&na.indexOf(Q)>-1};switch(r){case"pt":xt=1;break;case"mm":xt=72/25.4;break;case"cm":xt=72/2.54;break;case"in":xt=72;break;case"px":xt=$i("px_scaling")==1?.75:96/72;break;case"pc":case"em":xt=12;break;case"ex":xt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);xt=r}var Ir=null;ue(),re();var Co=function(Q){return d!==null?Ir.encryptor(Q,0):function(Ae){return Ae}},Yi=g.__private__.getPageInfo=g.getPageInfo=function(Q){if(isNaN(Q)||Q%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tn[Q].objId,pageNumber:Q,pageContext:tn[Q]}},dn=g.__private__.getPageInfoByObjId=function(Q){if(isNaN(Q)||Q%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Ae in tn)if(tn[Ae].objId===Q)break;return Yi(Ae)},Ji=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:tn[W].objId,pageNumber:W,pageContext:tn[W]}};g.addPage=function(){return $o.apply(this,arguments),this},g.setPage=function(){return Wi.apply(this,arguments),De.call(this,ge[W]),this},g.insertPage=function(Q){return this.addPage(),this.movePage(W,Q),this},g.movePage=function(Q,Ae){var Ie,Ue;if(Q>Ae){Ie=ge[Q],Ue=tn[Q];for(var He=Q;He>Ae;He--)ge[He]=ge[He-1],tn[He]=tn[He-1];ge[Ae]=Ie,tn[Ae]=Ue,this.setPage(Ae)}else if(Q<Ae){Ie=ge[Q],Ue=tn[Q];for(var ot=Q;ot<Ae;ot++)ge[ot]=ge[ot+1],tn[ot]=tn[ot+1];ge[Ae]=Ie,tn[Ae]=Ue,this.setPage(Ae)}return this},g.deletePage=function(){return Yo.apply(this,arguments),this},g.__private__.text=g.text=function(Q,Ae,Ie,Ue,He){var ot,_t,Ot,_,Y,se,ye,Oe,Xe,St=(Ue=Ue||{}).scope||this;if(typeof Q=="number"&&typeof Ae=="number"&&(typeof Ie=="string"||Array.isArray(Ie))){var fn=Ie;Ie=Ae,Ae=Q,Q=fn}if(arguments[3]instanceof Ht?(N("The transform parameter of text() with a Matrix value"),Xe=He):(Ot=arguments[4],_=arguments[5],Mr(ye=arguments[3])==="object"&&ye!==null||(typeof Ot=="string"&&(_=Ot,Ot=null),typeof ye=="string"&&(_=ye,ye=null),typeof ye=="number"&&(Ot=ye,ye=null),Ue={flags:ye,angle:Ot,align:_})),isNaN(Ae)||isNaN(Ie)||Q==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Q.length===0)return St;var Wn="",Sn=!1,xr=typeof Ue.lineHeightFactor=="number"?Ue.lineHeightFactor:qn,Sr=St.internal.scaleFactor;function to(Vn){return Vn=Vn.split("	").join(Array(Ue.TabLen||9).join(" ")),lr(Vn,ye)}function ms(Vn){for(var Gn,Vr=Vn.concat(),ps=[],ro=Vr.length;ro--;)typeof(Gn=Vr.shift())=="string"?ps.push(Gn):Array.isArray(Vn)&&(Gn.length===1||Gn[1]===void 0&&Gn[2]===void 0)?ps.push(Gn[0]):ps.push([Gn[0],Gn[1],Gn[2]]);return ps}function ui(Vn,Gn){var Vr;if(typeof Vn=="string")Vr=Gn(Vn)[0];else if(Array.isArray(Vn)){for(var ps,ro,Hc=Vn.concat(),Vc=[],zl=Hc.length;zl--;)typeof(ps=Hc.shift())=="string"?Vc.push(Gn(ps)[0]):Array.isArray(ps)&&typeof ps[0]=="string"&&(ro=Gn(ps[0],ps[1],ps[2]),Vc.push([ro[0],ro[1],ro[2]]));Vr=Vc}return Vr}var al=!1,Rc=!0;if(typeof Q=="string")al=!0;else if(Array.isArray(Q)){var Uu=Q.concat();_t=[];for(var RA,Ps=Uu.length;Ps--;)(typeof(RA=Uu.shift())!="string"||Array.isArray(RA)&&typeof RA[0]!="string")&&(Rc=!1);al=Rc}if(al===!1)throw new Error('Type of text must be string or Array. "'+Q+'" is not recognized.');typeof Q=="string"&&(Q=Q.match(/[\r?\n]/)?Q.split(/\r\n|\r|\n/g):[Q]);var Dc=dt/St.internal.scaleFactor,DA=Dc*(xr-1);switch(Ue.baseline){case"bottom":Ie-=DA;break;case"top":Ie+=Dc-DA;break;case"hanging":Ie+=Dc-2*DA;break;case"middle":Ie+=Dc/2-DA}if((se=Ue.maxWidth||0)>0&&(typeof Q=="string"?Q=St.splitTextToSize(Q,se):Object.prototype.toString.call(Q)==="[object Array]"&&(Q=Q.reduce(function(Vn,Gn){return Vn.concat(St.splitTextToSize(Gn,se))},[]))),ot={text:Q,x:Ae,y:Ie,options:Ue,mutex:{pdfEscape:lr,activeFontKey:It,fonts:mn,activeFontSize:dt}},On.publish("preProcessText",ot),Q=ot.text,Ot=(Ue=ot.options).angle,!(Xe instanceof Ht)&&Ot&&typeof Ot=="number"){Ot*=Math.PI/180,Ue.rotationDirection===0&&(Ot=-Ot),k===I.ADVANCED&&(Ot=-Ot);var UA=Math.cos(Ot),Lu=Math.sin(Ot);Xe=new Ht(UA,Lu,-Lu,UA,0,0)}else Ot&&Ot instanceof Ht&&(Xe=Ot);k!==I.ADVANCED||Xe||(Xe=Zn),(Y=Ue.charSpace||Pl)!==void 0&&(Wn+=S(M(Y))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Oe=Ue.horizontalScale)!==void 0&&(Wn+=S(100*Oe)+` Tz
`),Ue.lang;var di=-1,Hm=Ue.renderingMode!==void 0?Ue.renderingMode:Ue.stroke,Af=St.internal.getCurrentPageInfo().pageContext;switch(Hm){case 0:case!1:case"fill":di=0;break;case 1:case!0:case"stroke":di=1;break;case 2:case"fillThenStroke":di=2;break;case 3:case"invisible":di=3;break;case 4:case"fillAndAddForClipping":di=4;break;case 5:case"strokeAndAddPathForClipping":di=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":di=6;break;case 7:case"addToPathForClipping":di=7}var Ih=Af.usedRenderingMode!==void 0?Af.usedRenderingMode:-1;di!==-1?Wn+=di+` Tr
`:Ih!==-1&&(Wn+=`0 Tr
`),di!==-1&&(Af.usedRenderingMode=di),_=Ue.align||"left";var no,aa=dt*xr,Uc=St.internal.pageSize.getWidth(),uf=mn[It];Y=Ue.charSpace||Pl,se=Ue.maxWidth||0,ye=Object.assign({autoencode:!0,noBOM:!0},Ue.flags);var Vl=[],Lc=function(Vn){return St.getStringUnitWidth(Vn,{font:uf,charSpace:Y,fontSize:dt,doKerning:!1})*dt/Sr};if(Object.prototype.toString.call(Q)==="[object Array]"){var Ka;_t=ms(Q),_!=="left"&&(no=_t.map(Lc));var ba,Mc=0;if(_==="right"){Ae-=no[0],Q=[],Ps=_t.length;for(var fi=0;fi<Ps;fi++)fi===0?(ba=Ia(Ae),Ka=Ts(Ie)):(ba=M(Mc-no[fi]),Ka=-aa),Q.push([_t[fi],ba,Ka]),Mc=no[fi]}else if(_==="center"){Ae-=no[0]/2,Q=[],Ps=_t.length;for(var To=0;To<Ps;To++)To===0?(ba=Ia(Ae),Ka=Ts(Ie)):(ba=M((Mc-no[To])/2),Ka=-aa),Q.push([_t[To],ba,Ka]),Mc=no[To]}else if(_==="left"){Q=[],Ps=_t.length;for(var il=0;il<Ps;il++)Q.push(_t[il])}else if(_==="justify"&&uf.encoding==="Identity-H"){Q=[],Ps=_t.length,se=se!==0?se:Uc;for(var Bo=0,cs=0;cs<Ps;cs++)if(Ka=cs===0?Ts(Ie):-aa,ba=cs===0?Ia(Ae):Bo,cs<Ps-1){var No=M((se-no[cs])/(_t[cs].split(" ").length-1)),Bs=_t[cs].split(" ");Q.push([Bs[0]+" ",ba,Ka]),Bo=0;for(var hi=1;hi<Bs.length;hi++){var LA=(Lc(Bs[hi-1]+" "+Bs[hi])-Lc(Bs[hi]))*Sr+No;hi==Bs.length-1?Q.push([Bs[hi],LA,0]):Q.push([Bs[hi]+" ",LA,0]),Bo-=LA}}else Q.push([_t[cs],ba,Ka]);Q.push(["",Bo,0])}else{if(_!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Q=[],Ps=_t.length,se=se!==0?se:Uc,cs=0;cs<Ps;cs++)Ka=cs===0?Ts(Ie):-aa,ba=cs===0?Ia(Ae):0,cs<Ps-1?Vl.push(S(M((se-no[cs])/(_t[cs].split(" ").length-1)))):Vl.push(0),Q.push([_t[cs],ba,Ka])}}var ol=typeof Ue.R2L=="boolean"?Ue.R2L:kt;ol===!0&&(Q=ui(Q,function(Vn,Gn,Vr){return[Vn.split("").reverse().join(""),Gn,Vr]})),ot={text:Q,x:Ae,y:Ie,options:Ue,mutex:{pdfEscape:lr,activeFontKey:It,fonts:mn,activeFontSize:dt}},On.publish("postProcessText",ot),Q=ot.text,Sn=ot.mutex.isHex||!1;var Mu=mn[It].encoding;Mu!=="WinAnsiEncoding"&&Mu!=="StandardEncoding"||(Q=ui(Q,function(Vn,Gn,Vr){return[to(Vn),Gn,Vr]})),_t=ms(Q),Q=[];for(var Pc,jc,Oc,MA=0,Pu=1,Qc=Array.isArray(_t[0])?Pu:MA,Gl="",PA=function(Vn,Gn,Vr){var ps="";return Vr instanceof Ht?(Vr=typeof Ue.angle=="number"?or(Vr,new Ht(1,0,0,1,Vn,Gn)):or(new Ht(1,0,0,1,Vn,Gn),Vr),k===I.ADVANCED&&(Vr=or(new Ht(1,0,0,-1,0,0),Vr)),ps=Vr.join(" ")+` Tm
`):ps=S(Vn)+" "+S(Gn)+` Td
`,ps},As=0;As<_t.length;As++){switch(Gl="",Qc){case Pu:Oc=(Sn?"<":"(")+_t[As][0]+(Sn?">":")"),Pc=parseFloat(_t[As][1]),jc=parseFloat(_t[As][2]);break;case MA:Oc=(Sn?"<":"(")+_t[As]+(Sn?">":")"),Pc=Ia(Ae),jc=Ts(Ie)}Vl!==void 0&&Vl[As]!==void 0&&(Gl=Vl[As]+` Tw
`),As===0?Q.push(Gl+PA(Pc,jc,Xe)+Oc):Qc===MA?Q.push(Gl+Oc):Qc===Pu&&Q.push(Gl+PA(Pc,jc,Xe)+Oc)}Q=Qc===MA?Q.join(` Tj
T* `):Q.join(` Tj
`),Q+=` Tj
`;var Oi=`BT
/`;return Oi+=It+" "+dt+` Tf
`,Oi+=S(dt*xr)+` TL
`,Oi+=_o+`
`,Oi+=Wn,Oi+=Q,Ce(Oi+="ET"),p[It]=!0,St};var Fu=g.__private__.clip=g.clip=function(Q){return Ce(Q==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Fu("evenodd")},g.__private__.discardPath=g.discardPath=function(){return Ce("n"),this};var Na=g.__private__.isValidStyle=function(Q){var Ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Q)!==-1&&(Ae=!0),Ae};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(Q){return Na(Q)&&(A=Q),this};var li=g.__private__.getStyle=g.getStyle=function(Q){var Ae=A;switch(Q){case"D":case"S":Ae="S";break;case"F":Ae="f";break;case"FD":case"DF":Ae="B";break;case"f":case"f*":case"B":case"B*":Ae=Q}return Ae},za=g.close=function(){return Ce("h"),this};g.stroke=function(){return Ce("S"),this},g.fill=function(Q){return Xi("f",Q),this},g.fillEvenOdd=function(Q){return Xi("f*",Q),this},g.fillStroke=function(Q){return Xi("B",Q),this},g.fillStrokeEvenOdd=function(Q){return Xi("B*",Q),this};var Xi=function(Q,Ae){Mr(Ae)==="object"?Eo(Ae,Q):Ce(Q)},ci=function(Q){Q===null||k===I.ADVANCED&&Q===void 0||(Q=li(Q),Ce(Q))};function Xo(Q,Ae,Ie,Ue,He){var ot=new L0(Ae||this.boundingBox,Ie||this.xStep,Ue||this.yStep,this.gState,He||this.matrix);ot.stream=this.stream;var _t=Q+"$$"+this.cloneIndex+++"$$";return _r(_t,ot),ot}var Eo=function(Q,Ae){var Ie=ta[Q.key],Ue=Bn[Ie];if(Ue instanceof Pf)Ce("q"),Ce(kA(Ae)),Ue.gState&&g.setGState(Ue.gState),Ce(Q.matrix.toString()+" cm"),Ce("/"+Ie+" sh"),Ce("Q");else if(Ue instanceof L0){var He=new Ht(1,0,0,-1,0,Fa());Q.matrix&&(He=He.multiply(Q.matrix||Zn),Ie=Xo.call(Ue,Q.key,Q.boundingBox,Q.xStep,Q.yStep,He).id),Ce("q"),Ce("/Pattern cs"),Ce("/"+Ie+" scn"),Ue.gState&&g.setGState(Ue.gState),Ce(Ae),Ce("Q")}},kA=function(Q){switch(Q){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ai=g.moveTo=function(Q,Ae){return Ce(S(M(Q))+" "+S(G(Ae))+" m"),this},ka=g.lineTo=function(Q,Ae){return Ce(S(M(Q))+" "+S(G(Ae))+" l"),this},Zi=g.curveTo=function(Q,Ae,Ie,Ue,He,ot){return Ce([S(M(Q)),S(G(Ae)),S(M(Ie)),S(G(Ue)),S(M(He)),S(G(ot)),"c"].join(" ")),this};g.__private__.line=g.line=function(Q,Ae,Ie,Ue,He){if(isNaN(Q)||isNaN(Ae)||isNaN(Ie)||isNaN(Ue)||!Na(He))throw new Error("Invalid arguments passed to jsPDF.line");return k===I.COMPAT?this.lines([[Ie-Q,Ue-Ae]],Q,Ae,[1,1],He||"S"):this.lines([[Ie-Q,Ue-Ae]],Q,Ae,[1,1]).stroke()},g.__private__.lines=g.lines=function(Q,Ae,Ie,Ue,He,ot){var _t,Ot,_,Y,se,ye,Oe,Xe,St,fn,Wn,Sn;if(typeof Q=="number"&&(Sn=Ie,Ie=Ae,Ae=Q,Q=Sn),Ue=Ue||[1,1],ot=ot||!1,isNaN(Ae)||isNaN(Ie)||!Array.isArray(Q)||!Array.isArray(Ue)||!Na(He)||typeof ot!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ai(Ae,Ie),_t=Ue[0],Ot=Ue[1],Y=Q.length,fn=Ae,Wn=Ie,_=0;_<Y;_++)(se=Q[_]).length===2?(fn=se[0]*_t+fn,Wn=se[1]*Ot+Wn,ka(fn,Wn)):(ye=se[0]*_t+fn,Oe=se[1]*Ot+Wn,Xe=se[2]*_t+fn,St=se[3]*Ot+Wn,fn=se[4]*_t+fn,Wn=se[5]*Ot+Wn,Zi(ye,Oe,Xe,St,fn,Wn));return ot&&za(),ci(He),this},g.path=function(Q){for(var Ae=0;Ae<Q.length;Ae++){var Ie=Q[Ae],Ue=Ie.c;switch(Ie.op){case"m":Ai(Ue[0],Ue[1]);break;case"l":ka(Ue[0],Ue[1]);break;case"c":Zi.apply(this,Ue);break;case"h":za()}}return this},g.__private__.rect=g.rect=function(Q,Ae,Ie,Ue,He){if(isNaN(Q)||isNaN(Ae)||isNaN(Ie)||isNaN(Ue)||!Na(He))throw new Error("Invalid arguments passed to jsPDF.rect");return k===I.COMPAT&&(Ue=-Ue),Ce([S(M(Q)),S(G(Ae)),S(M(Ie)),S(M(Ue)),"re"].join(" ")),ci(He),this},g.__private__.triangle=g.triangle=function(Q,Ae,Ie,Ue,He,ot,_t){if(isNaN(Q)||isNaN(Ae)||isNaN(Ie)||isNaN(Ue)||isNaN(He)||isNaN(ot)||!Na(_t))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ie-Q,Ue-Ae],[He-Ie,ot-Ue],[Q-He,Ae-ot]],Q,Ae,[1,1],_t,!0),this},g.__private__.roundedRect=g.roundedRect=function(Q,Ae,Ie,Ue,He,ot,_t){if(isNaN(Q)||isNaN(Ae)||isNaN(Ie)||isNaN(Ue)||isNaN(He)||isNaN(ot)||!Na(_t))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ot=4/3*(Math.SQRT2-1);return He=Math.min(He,.5*Ie),ot=Math.min(ot,.5*Ue),this.lines([[Ie-2*He,0],[He*Ot,0,He,ot-ot*Ot,He,ot],[0,Ue-2*ot],[0,ot*Ot,-He*Ot,ot,-He,ot],[2*He-Ie,0],[-He*Ot,0,-He,-ot*Ot,-He,-ot],[0,2*ot-Ue],[0,-ot*Ot,He*Ot,-ot,He,-ot]],Q+He,Ae,[1,1],_t,!0),this},g.__private__.ellipse=g.ellipse=function(Q,Ae,Ie,Ue,He){if(isNaN(Q)||isNaN(Ae)||isNaN(Ie)||isNaN(Ue)||!Na(He))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ot=4/3*(Math.SQRT2-1)*Ie,_t=4/3*(Math.SQRT2-1)*Ue;return Ai(Q+Ie,Ae),Zi(Q+Ie,Ae-_t,Q+ot,Ae-Ue,Q,Ae-Ue),Zi(Q-ot,Ae-Ue,Q-Ie,Ae-_t,Q-Ie,Ae),Zi(Q-Ie,Ae+_t,Q-ot,Ae+Ue,Q,Ae+Ue),Zi(Q+ot,Ae+Ue,Q+Ie,Ae+_t,Q+Ie,Ae),ci(He),this},g.__private__.circle=g.circle=function(Q,Ae,Ie,Ue){if(isNaN(Q)||isNaN(Ae)||isNaN(Ie)||!Na(Ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Q,Ae,Ie,Ie,Ue)},g.setFont=function(Q,Ae,Ie){return Ie&&(Ae=L(Ae,Ie)),It=Jo(Q,Ae,{disableWarning:!1}),this};var Ss=g.__private__.getFont=g.getFont=function(){return mn[Jo.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var Q,Ae,Ie={};for(Q in Fn)if(Fn.hasOwnProperty(Q))for(Ae in Ie[Q]=[],Fn[Q])Fn[Q].hasOwnProperty(Ae)&&Ie[Q].push(Ae);return Ie},g.addFont=function(Q,Ae,Ie,Ue,He){var ot=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ot.indexOf(arguments[3])!==-1?He=arguments[3]:arguments[3]&&ot.indexOf(arguments[3])==-1&&(Ie=L(Ie,Ue)),He=He||"Identity-H",Wo.call(this,Q,Ae,Ie,He)};var qn,Zo=t.lineWidth||.200025,eo=g.__private__.getLineWidth=g.getLineWidth=function(){return Zo},IA=g.__private__.setLineWidth=g.setLineWidth=function(Q){return Zo=Q,Ce(S(M(Q))+" w"),this};g.__private__.setLineDash=an.API.setLineDash=an.API.setLineDashPattern=function(Q,Ae){if(Q=Q||[],Ae=Ae||0,isNaN(Ae)||!Array.isArray(Q))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Q=Q.map(function(Ie){return S(M(Ie))}).join(" "),Ae=S(M(Ae)),Ce("["+Q+"] "+Ae+" d"),this};var Ll=g.__private__.getLineHeight=g.getLineHeight=function(){return dt*qn};g.__private__.getLineHeight=g.getLineHeight=function(){return dt*qn};var Ml=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(Q){return typeof(Q=Q||1.15)=="number"&&(qn=Q),this},ji=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return qn};Ml(t.lineHeight);var Ia=g.__private__.getHorizontalCoordinate=function(Q){return M(Q)},Ts=g.__private__.getVerticalCoordinate=function(Q){return k===I.ADVANCED?Q:tn[W].mediaBox.topRightY-tn[W].mediaBox.bottomLeftY-M(Q)},Ru=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(Q){return S(Ia(Q))},el=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(Q){return S(Ts(Q))},wa=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Te(wa)},g.__private__.setStrokeColor=g.setDrawColor=function(Q,Ae,Ie,Ue){return wa=ke({ch1:Q,ch2:Ae,ch3:Ie,ch4:Ue,pdfColorType:"draw",precision:2}),Ce(wa),this};var tl=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Te(tl)},g.__private__.setFillColor=g.setFillColor=function(Q,Ae,Ie,Ue){return tl=ke({ch1:Q,ch2:Ae,ch3:Ie,ch4:Ue,pdfColorType:"fill",precision:2}),Ce(tl),this};var _o=t.textColor||"0 g",Nc=g.__private__.getTextColor=g.getTextColor=function(){return Te(_o)};g.__private__.setTextColor=g.setTextColor=function(Q,Ae,Ie,Ue){return _o=ke({ch1:Q,ch2:Ae,ch3:Ie,ch4:Ue,pdfColorType:"text",precision:3}),this};var Pl=t.charSpace,kc=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Pl||0)};g.__private__.setCharSpace=g.setCharSpace=function(Q){if(isNaN(Q))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Pl=Q,this};var FA=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(Q){var Ae=g.CapJoinStyles[Q];if(Ae===void 0)throw new Error("Line cap style of '"+Q+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return FA=Ae,Ce(Ae+" J"),this};var jl=0;g.__private__.setLineJoin=g.setLineJoin=function(Q){var Ae=g.CapJoinStyles[Q];if(Ae===void 0)throw new Error("Line join style of '"+Q+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jl=Ae,Ce(Ae+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(Q){if(Q=Q||0,isNaN(Q))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ce(S(M(Q))+" M"),this},g.GState=j2,g.setGState=function(Q){(Q=typeof Q=="string"?Xn[Wr[Q]]:nl(null,Q)).equals(ls)||(Ce("/"+Q.id+" gs"),ls=Q)};var nl=function(Q,Ae){if(!Q||!Wr[Q]){var Ie=!1;for(var Ue in Xn)if(Xn.hasOwnProperty(Ue)&&Xn[Ue].equals(Ae)){Ie=!0;break}if(Ie)Ae=Xn[Ue];else{var He="GS"+(Object.keys(Xn).length+1).toString(10);Xn[He]=Ae,Ae.id=He}return Q&&(Wr[Q]=Ae.id),On.publish("addGState",Ae),Ae}};g.addGState=function(Q,Ae){return nl(Q,Ae),this},g.saveGraphicsState=function(){return Ce("q"),Er.push({key:It,size:dt,color:_o}),this},g.restoreGraphicsState=function(){Ce("Q");var Q=Er.pop();return It=Q.key,dt=Q.size,_o=Q.color,ls=null,this},g.setCurrentTransformationMatrix=function(Q){return Ce(Q.toString()+" cm"),this},g.comment=function(Q){return Ce("#"+Q),this};var Ol=function(Q,Ae){var Ie=Q||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ie},set:function(ot){isNaN(ot)||(Ie=parseFloat(ot))}});var Ue=Ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ue},set:function(ot){isNaN(ot)||(Ue=parseFloat(ot))}});var He="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return He},set:function(ot){He=ot.toString()}}),this},Ic=function(Q,Ae,Ie,Ue){Ol.call(this,Q,Ae),this.type="rect";var He=Ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return He},set:function(_t){isNaN(_t)||(He=parseFloat(_t))}});var ot=Ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ot},set:function(_t){isNaN(_t)||(ot=parseFloat(_t))}}),this},Ql=function(){this.page=Dn,this.currentPage=W,this.pages=ge.slice(0),this.pagesContext=tn.slice(0),this.x=xn,this.y=$t,this.matrix=ir,this.width=sl(W),this.height=Fa(W),this.outputDestination=Fe,this.id="",this.objectNumber=-1};Ql.prototype.restore=function(){Dn=this.page,W=this.currentPage,tn=this.pagesContext,ge=this.pages,xn=this.x,$t=this.y,ir=this.matrix,Hl(W,this.width),Fc(W,this.height),Fe=this.outputDestination};var rl=function(Q,Ae,Ie,Ue,He){ga.push(new Ql),Dn=W=0,ge=[],xn=Q,$t=Ae,ir=He,ya([Ie,Ue])},Du=function(Q){if(hs[Q])ga.pop().restore();else{var Ae=new Ql,Ie="Xo"+(Object.keys(Or).length+1).toString(10);Ae.id=Ie,hs[Q]=Ie,Or[Ie]=Ae,On.publish("addFormObject",Ae),ga.pop().restore()}};for(var So in g.beginFormObject=function(Q,Ae,Ie,Ue,He){return rl(Q,Ae,Ie,Ue,He),this},g.endFormObject=function(Q){return Du(Q),this},g.doFormObject=function(Q,Ae){var Ie=Or[hs[Q]];return Ce("q"),Ce(Ae.toString()+" cm"),Ce("/"+Ie.id+" Do"),Ce("Q"),this},g.getFormObject=function(Q){var Ae=Or[hs[Q]];return{x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height,matrix:Ae.matrix}},g.save=function(Q,Ae){return Q=Q||"generated.pdf",(Ae=Ae||{}).returnPromise=Ae.returnPromise||!1,Ae.returnPromise===!1?(Uf(Bc(wo()),Q),typeof Uf.unload=="function"&&yn.setTimeout&&setTimeout(Uf.unload,911),this):new Promise(function(Ie,Ue){try{var He=Uf(Bc(wo()),Q);typeof Uf.unload=="function"&&yn.setTimeout&&setTimeout(Uf.unload,911),Ie(He)}catch(ot){Ue(ot.message)}})},an.API)an.API.hasOwnProperty(So)&&(So==="events"&&an.API.events.length?function(Q,Ae){var Ie,Ue,He;for(He=Ae.length-1;He!==-1;He--)Ie=Ae[He][0],Ue=Ae[He][1],Q.subscribe.apply(Q,[Ie].concat(typeof Ue=="function"?[Ue]:Ue))}(On,an.API.events):g[So]=an.API[So]);var sl=g.getPageWidth=function(Q){return(tn[Q=Q||W].mediaBox.topRightX-tn[Q].mediaBox.bottomLeftX)/xt},Hl=g.setPageWidth=function(Q,Ae){tn[Q].mediaBox.topRightX=Ae*xt+tn[Q].mediaBox.bottomLeftX},Fa=g.getPageHeight=function(Q){return(tn[Q=Q||W].mediaBox.topRightY-tn[Q].mediaBox.bottomLeftY)/xt},Fc=g.setPageHeight=function(Q,Ae){tn[Q].mediaBox.topRightY=Ae*xt+tn[Q].mediaBox.bottomLeftY};return g.internal={pdfEscape:lr,getStyle:li,getFont:Ss,getFontSize:At,getCharSpace:kc,getTextColor:Nc,getLineHeight:Ll,getLineHeightFactor:ji,getLineWidth:eo,write:Ge,getHorizontalCoordinate:Ia,getVerticalCoordinate:Ts,getCoordinateString:Ru,getVerticalCoordinateString:el,collections:{},newObject:kr,newAdditionalObject:Ne,newObjectDeferred:Qr,newObjectDeferredBegin:fe,getFilters:Ke,putStream:tt,events:On,scaleFactor:xt,pageSize:{getWidth:function(){return sl(W)},setWidth:function(Q){Hl(W,Q)},getHeight:function(){return Fa(W)},setHeight:function(Q){Fc(W,Q)}},encryptionOptions:d,encryption:Ir,getEncryptor:Co,output:bo,getNumberOfPages:gr,pages:ge,out:Ce,f2:H,f3:P,getPageInfo:Yi,getPageInfoByObjId:dn,getCurrentPageInfo:Ji,getPDFVersion:b,Point:Ol,Rectangle:Ic,Matrix:Ht,hasHotfix:$i},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return sl(W)},set:function(Q){Hl(W,Q)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Fa(W)},set:function(Q){Fc(W,Q)},enumerable:!0,configurable:!0}),TA.call(g,it),It="F1",$o(s,n),On.publish("initialized"),g}N0.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},N0.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},N0.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},N0.prototype.processOwnerPassword=function(t,e){return b_(w_(e).substr(0,5),t)},N0.prototype.encryptor=function(t,e){var n=w_(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return b_(n,r)}},j2.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Mr(t)!==Mr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},an.API={events:[]},an.version="2.5.2";var Fs=an.API,k5=1,Eh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},i0=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kn=function(t){return t.toFixed(2)},dd=function(t){return t.toFixed(5)};Fs.__acroform__={};var vo=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},gI=function(t){return t*k5},aA=function(t){var e=new K8,n=Zt.internal.getHeight(t)||0,r=Zt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(kn(r)),Number(kn(n))],e},eae=Fs.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},tae=Fs.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},nae=Fs.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},Ws=Fs.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return nae(t,e-1)},$s=Fs.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return eae(t,e-1)},Ys=Fs.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return tae(t,e-1)},rae=Fs.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=t[0],a=t[1],i=t[2],o=t[3],l={};return l.lowerLeft_X=n(s)||0,l.lowerLeft_Y=r(a+o)||0,l.upperRight_X=n(s+i)||0,l.upperRight_Y=r(a)||0,[Number(kn(l.lowerLeft_X)),Number(kn(l.lowerLeft_Y)),Number(kn(l.upperRight_X)),Number(kn(l.upperRight_Y))]},sae=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=C_(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+kn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=aA(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},C_=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(P){return P.split(`
`)}):s.map(function(P){return[P]});var a=n,i=Zt.internal.getHeight(t)||0;i=i<0?-i:i;var o=Zt.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(P,M,V){if(P+1<s.length){var G=M+" "+s[P+1][0];return $1(G,t,V).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var A,d,h=$1("3",t,a).height,p=t.multiline?i-a:(i-h)/2,g=p+=2,w=0,b=0,E=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+$1(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var T="",I=0,k=0;k<s.length;k++)if(s.hasOwnProperty(k)){var F=!1;if(s[k].length!==1&&E!==s[k].length-1){if((h+2)*(I+2)+2>i)continue e;T+=s[k][E],F=!0,b=k,k--}else{T=(T+=s[k][E]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var R=parseInt(k),L=l(R,T,a),S=k>=s.length-1;if(L&&!S){T+=" ",E=0;continue}if(L||S){if(S)b=R;else if(t.multiline&&(h+2)*(I+2)+2>i)continue e}else{if(!t.multiline||(h+2)*(I+2)+2>i)continue e;b=R}}for(var N="",B=w;B<=b;B++){var H=s[B];if(t.multiline){if(B===b){N+=H[E]+" ",E=(E+1)%H.length;continue}if(B===w){N+=H[H.length-1]+" ";continue}}N+=H[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,d=$1(N,t,a).width,t.textAlign){case"right":A=o-d-2;break;case"center":A=(o-d)/2;break;case"left":default:A=2}e+=kn(A)+" "+kn(g)+` Td
`,e+="("+Eh(N)+`) Tj
`,e+=-kn(A)+` 0 Td
`,g=-(a+2),d=0,w=F?b:b+1,I++,T=""}break}return r.text=e,r.fontSize=a,r},$1=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},aae={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},iae=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},oae=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,s=t[n];e.internal.newObjectDeferredBegin(s.objId,!0),Mr(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[r]}},lae=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(bc.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(aae)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");k5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new q8,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var a=r[s];a.objId=void 0,a.hasAnnotation&&iae(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,s){var a=!r;for(var i in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(i)){var o=r[i],l=[],A=o.Rect;if(o.Rect&&(o.Rect=rae(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Zt.createDefaultAppearanceStream(o),Mr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=A,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=sae(o);l.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var h="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var g=o.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var i in g)if(g.hasOwnProperty(i)){var w=g[i];typeof w=="function"&&(w=w.call(s,o)),h+="/"+i+" "+w+" ",s.internal.acroformPlugin.xForms.indexOf(w)>=0||s.internal.acroformPlugin.xForms.push(w)}}else typeof(w=g)=="function"&&(w=w.call(s,o)),h+="/"+i+" "+w,s.internal.acroformPlugin.xForms.indexOf(w)>=0||s.internal.acroformPlugin.xForms.push(w);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:o.objId}),s.internal.out("endobj")}a&&oae(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},z8=Fs.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(i){return i};if(Array.isArray(t)){for(var s="[",a=0;a<t.length;a++)switch(a!==0&&(s+=" "),Mr(t[a])){case"boolean":case"number":case"object":s+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),s+="("+Eh(r(t[a].toString()))+")"):s+=t[a].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},vC=function(t,e,n){var r=function(s){return s};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Eh(r(t))+")"},AA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};AA.prototype.toString=function(){return this.objId+" 0 R"},AA.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},AA.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],s=this[r];s&&(Array.isArray(s)?t.push({key:r,value:z8(s,this.objId,this.scope)}):s instanceof AA?(s.scope=this.scope,t.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:r,value:s}))}return t};var K8=function(){AA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};vo(K8,AA);var q8=function(){AA.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Eh(n(t))+")"}},set:function(n){t=n}})};vo(q8,AA);var bc=function t(){AA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');e=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ws(e,3)},set:function(T){T?this.F=$s(e,3):this.F=Ys(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');n=T}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(T){r=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(T){r[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(T){r[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(T){r[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(T){r[3]=T}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof O2)return;a="FieldObject"+t.FieldNum++}var T=function(I){return I};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+Eh(T(a))+")"},set:function(T){a=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(T){a=T}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(T){i=T}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(T){o=T}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(T){l=T}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return A===void 0?50/k5:A},set:function(T){A=T}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(T){d=T}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof O2||this instanceof Wf))return vC(h,this.objId,this.scope)},set:function(T){T=T.toString(),h=T}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Oa?p:vC(p,this.objId,this.scope)},set:function(T){T=T.toString(),p=this instanceof Oa?T:T.substr(0,1)==="("?i0(T.substr(1,T.length-2)):i0(T)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oa?i0(p.substr(1,p.length-1)):p},set:function(T){T=T.toString(),p=this instanceof Oa?"/"+T:T}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Oa?g:vC(g,this.objId,this.scope)},set:function(T){T=T.toString(),g=this instanceof Oa?T:T.substr(0,1)==="("?i0(T.substr(1,T.length-2)):i0(T)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oa?i0(g.substr(1,g.length-1)):g},set:function(T){T=T.toString(),g=this instanceof Oa?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(T){T=!!T,b=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(T){w=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,1)},set:function(T){T?this.Ff=$s(this.Ff,1):this.Ff=Ys(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,2)},set:function(T){T?this.Ff=$s(this.Ff,2):this.Ff=Ys(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,3)},set:function(T){T?this.Ff=$s(this.Ff,3):this.Ff=Ys(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');E=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(E){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:E=2;break;case"center":case 1:E=1;break;case"left":case 0:default:E=0}}})};vo(bc,AA);var W0=function(){bc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return z8(e,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(a,i,o){o||(o=1);for(var l,A=[];l=i.exec(a);)A.push(l[o]);return A}(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,18)},set:function(n){n?this.Ff=$s(this.Ff,18):this.Ff=Ys(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=$s(this.Ff,19):this.Ff=Ys(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,20)},set:function(n){n?(this.Ff=$s(this.Ff,20),e.sort()):this.Ff=Ys(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,22)},set:function(n){n?this.Ff=$s(this.Ff,22):this.Ff=Ys(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,23)},set:function(n){n?this.Ff=$s(this.Ff,23):this.Ff=Ys(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,27)},set:function(n){n?this.Ff=$s(this.Ff,27):this.Ff=Ys(this.Ff,27)}}),this.hasAppearanceStream=!1};vo(W0,bc);var $0=function(){W0.call(this),this.fontName="helvetica",this.combo=!1};vo($0,W0);var Y0=function(){$0.call(this),this.combo=!0};vo(Y0,$0);var t2=function(){Y0.call(this),this.edit=!0};vo(t2,Y0);var Oa=function(){bc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,15)},set:function(n){n?this.Ff=$s(this.Ff,15):this.Ff=Ys(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,16)},set:function(n){n?this.Ff=$s(this.Ff,16):this.Ff=Ys(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,17)},set:function(n){n?this.Ff=$s(this.Ff,17):this.Ff=Ys(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,26)},set:function(n){n?this.Ff=$s(this.Ff,26):this.Ff=Ys(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+Eh(n(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){Mr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};vo(Oa,bc);var n2=function(){Oa.call(this),this.pushButton=!0};vo(n2,Oa);var J0=function(){Oa.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};vo(J0,Oa);var O2=function(){var t,e;bc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,i=[];for(a in i.push("<<"),r)i.push("/"+a+" ("+Eh(s(r[a]))+")");return i.push(">>"),i.join(`
`)},set:function(s){Mr(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Zt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};vo(O2,bc),J0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},J0.prototype.createOption=function(t){var e=new O2;return e.Parent=this,e.optionName=t,this.Kids.push(e),cae.call(this.scope,e),e};var r2=function(){Oa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Zt.CheckBox.createAppearanceStream()};vo(r2,Oa);var Wf=function(){bc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,13)},set:function(e){e?this.Ff=$s(this.Ff,13):this.Ff=Ys(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,21)},set:function(e){e?this.Ff=$s(this.Ff,21):this.Ff=Ys(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,23)},set:function(e){e?this.Ff=$s(this.Ff,23):this.Ff=Ys(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,24)},set:function(e){e?this.Ff=$s(this.Ff,24):this.Ff=Ys(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,25)},set:function(e){e?this.Ff=$s(this.Ff,25):this.Ff=Ys(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,26)},set:function(e){e?this.Ff=$s(this.Ff,26):this.Ff=Ys(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};vo(Wf,bc);var s2=function(){Wf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,14)},set:function(t){t?this.Ff=$s(this.Ff,14):this.Ff=Ys(this.Ff,14)}}),this.password=!0};vo(s2,Wf);var Zt={CheckBox:{createAppearanceStream:function(){return{N:{On:Zt.CheckBox.YesNormal},D:{On:Zt.CheckBox.YesPushDown,Off:Zt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=aA(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),a=C_(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+kn(Zt.internal.getWidth(t))+" "+kn(Zt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+kn(a.fontSize)+" Tf "+s),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=aA(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=[],a=Zt.internal.getHeight(t),i=Zt.internal.getWidth(t),o=C_(t,t.caption);return s.push("1 g"),s.push("0 0 "+kn(i)+" "+kn(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+kn(i-1)+" "+kn(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+kn(o.fontSize)+" Tf "+r),s.push(o.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=aA(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kn(Zt.internal.getWidth(t))+" "+kn(Zt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Zt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Zt.RadioButton.Circle.YesNormal,e.D[t]=Zt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=aA(t);e.scope=t.scope;var n=[],r=Zt.internal.getWidth(t)<=Zt.internal.getHeight(t)?Zt.internal.getWidth(t)/4:Zt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Zt.internal.Bezier_C,a=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+dd(Zt.internal.getWidth(t)/2)+" "+dd(Zt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=aA(t);e.scope=t.scope;var n=[],r=Zt.internal.getWidth(t)<=Zt.internal.getHeight(t)?Zt.internal.getWidth(t)/4:Zt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*Zt.internal.Bezier_C).toFixed(5)),i=Number((r*Zt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+dd(Zt.internal.getWidth(t)/2)+" "+dd(Zt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+dd(Zt.internal.getWidth(t)/2)+" "+dd(Zt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=aA(t);e.scope=t.scope;var n=[],r=Zt.internal.getWidth(t)<=Zt.internal.getHeight(t)?Zt.internal.getWidth(t)/4:Zt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*Zt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+dd(Zt.internal.getWidth(t)/2)+" "+dd(Zt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Zt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Zt.RadioButton.Cross.YesNormal,e.D[t]=Zt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=aA(t);e.scope=t.scope;var n=[],r=Zt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+kn(Zt.internal.getWidth(t)-2)+" "+kn(Zt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(kn(r.x1.x)+" "+kn(r.x1.y)+" m"),n.push(kn(r.x2.x)+" "+kn(r.x2.y)+" l"),n.push(kn(r.x4.x)+" "+kn(r.x4.y)+" m"),n.push(kn(r.x3.x)+" "+kn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=aA(t);e.scope=t.scope;var n=Zt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+kn(Zt.internal.getWidth(t))+" "+kn(Zt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+kn(Zt.internal.getWidth(t)-2)+" "+kn(Zt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(kn(n.x1.x)+" "+kn(n.x1.y)+" m"),r.push(kn(n.x2.x)+" "+kn(n.x2.y)+" l"),r.push(kn(n.x4.x)+" "+kn(n.x4.y)+" m"),r.push(kn(n.x3.x)+" "+kn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=aA(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kn(Zt.internal.getWidth(t))+" "+kn(Zt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Zt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Zt.internal.getWidth(t),n=Zt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Zt.internal.getWidth=function(t){var e=0;return Mr(t)==="object"&&(e=gI(t.Rect[2])),e},Zt.internal.getHeight=function(t){var e=0;return Mr(t)==="object"&&(e=gI(t.Rect[3])),e};var cae=Fs.addField=function(t){if(lae(this,t),!(t instanceof bc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Fs.AcroFormChoiceField=W0,Fs.AcroFormListBox=$0,Fs.AcroFormComboBox=Y0,Fs.AcroFormEditBox=t2,Fs.AcroFormButton=Oa,Fs.AcroFormPushButton=n2,Fs.AcroFormRadioButton=J0,Fs.AcroFormCheckBox=r2,Fs.AcroFormTextField=Wf,Fs.AcroFormPasswordField=s2,Fs.AcroFormAppearance=Zt,Fs.AcroForm={ChoiceField:W0,ListBox:$0,ComboBox:Y0,EditBox:t2,Button:Oa,PushButton:n2,RadioButton:J0,CheckBox:r2,TextField:Wf,PasswordField:s2,Appearance:Zt},an.AcroForm={ChoiceField:W0,ListBox:$0,ComboBox:Y0,EditBox:t2,Button:Oa,PushButton:n2,RadioButton:J0,CheckBox:r2,TextField:Wf,PasswordField:s2,Appearance:Zt};an.AcroForm;function W8(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(P,M){var V,G,oe,K,Z,re=e;if((M=M||e)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(L(P))for(Z in n)for(oe=n[Z],V=0;V<oe.length;V+=1){for(K=!0,G=0;G<oe[V].length;G+=1)if(oe[V][G]!==void 0&&oe[V][G]!==P[G]){K=!1;break}if(K===!0){re=Z;break}}else for(Z in n)for(oe=n[Z],V=0;V<oe.length;V+=1){for(K=!0,G=0;G<oe[V].length;G+=1)if(oe[V][G]!==void 0&&oe[V][G]!==P.charCodeAt(G)){K=!1;break}if(K===!0){re=Z;break}}return re===e&&M!==e&&(re=M),re},s=function P(M){for(var V=this.internal.write,G=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:M.width}),K.push({key:"Height",value:M.height}),M.colorSpace===E.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===E.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var Z="",re=0,q=M.transparency.length;re<q;re++)Z+=M.transparency[re]+" "+M.transparency[re]+" ";K.push({key:"Mask",value:"["+Z+"]"})}M.sMask!==void 0&&K.push({key:"SMask",value:M.objectId+1+" 0 R"});var X=M.filter!==void 0?["/"+M.filter]:void 0;if(G({data:M.data,additionalKeyValues:K,alreadyAppliedFilters:X,objectId:M.objectId}),V("endobj"),"sMask"in M&&M.sMask!==void 0){var ue="/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,j={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:ue,data:M.sMask};"filter"in M&&(j.filter=M.filter),P.call(this,j)}if(M.colorSpace===E.INDEXED){var W=this.internal.newObject();G({data:N(new Uint8Array(M.palette)),objectId:W}),V("endobj")}},a=function(){var P=this.internal.collections.addImage_images;for(var M in P)s.call(this,P[M])},i=function(){var P,M=this.internal.collections.addImage_images,V=this.internal.write;for(var G in M)V("/I"+(P=M[G]).index,P.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",i))},l=function(){var P=this.internal.collections.addImage_images;return o.call(this),P},A=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(P){return typeof t["process"+P.toUpperCase()]=="function"},h=function(P){return Mr(P)==="object"&&P.nodeType===1},p=function(P,M){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var V=""+P.getAttribute("src");if(V.indexOf("data:image/")===0)return pg(unescape(V).split("base64,").pop());var G=t.loadFile(V,!0);if(G!==void 0)return G}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var oe;switch(M){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;case"JPEG":case"JPG":default:oe="image/jpeg"}return pg(P.toDataURL(oe,1).split("base64,").pop())}},g=function(P){var M=this.internal.collections.addImage_images;if(M){for(var V in M)if(P===M[V].alias)return M[V]}},w=function(P,M,V){return P||M||(P=-96,M=-96),P<0&&(P=-1*V.width*72/P/this.internal.scaleFactor),M<0&&(M=-1*V.height*72/M/this.internal.scaleFactor),P===0&&(P=M*V.width/V.height),M===0&&(M=P*V.height/V.width),[P,M]},b=function(P,M,V,G,oe,K){var Z=w.call(this,V,G,oe),re=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,X=l.call(this);if(V=Z[0],G=Z[1],X[oe.index]=oe,K){K*=Math.PI/180;var ue=Math.cos(K),j=Math.sin(K),W=function(ne){return ne.toFixed(4)},J=[W(ue),W(j),W(-1*j),W(ue),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,re(P),q(M+G),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([re(V),"0","0",re(G),"0","0","cm"].join(" "))):this.internal.write([re(V),"0","0",re(G),re(P),q(M+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},E=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var T=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=t.__addimage__.sHashCode=function(P){var M,V,G=0;if(typeof P=="string")for(V=P.length,M=0;M<V;M++)G=(G<<5)-G+P.charCodeAt(M),G|=0;else if(L(P))for(V=P.byteLength/2,M=0;M<V;M++)G=(G<<5)-G+P[M],G|=0;return G},k=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var M=!0;return P.length===0&&(M=!1),P.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(M=!1),M},F=t.__addimage__.extractImageFromDataUrl=function(P){var M=(P=P||"").split("base64,"),V=null;if(M.length===2){var G=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(M[0]);Array.isArray(G)&&(V={mimeType:G[1],charset:G[2],data:M[1]})}return V},R=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(P){return R()&&P instanceof ArrayBuffer};var L=t.__addimage__.isArrayBufferView=function(P){return R()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},S=t.__addimage__.binaryStringToUint8Array=function(P){for(var M=P.length,V=new Uint8Array(M),G=0;G<M;G++)V[G]=P.charCodeAt(G);return V},N=t.__addimage__.arrayBufferToBinaryString=function(P){for(var M="",V=L(P)?P:new Uint8Array(P),G=0;G<V.length;G+=8192)M+=String.fromCharCode.apply(null,V.subarray(G,G+8192));return M};t.addImage=function(){var P,M,V,G,oe,K,Z,re,q;if(typeof arguments[1]=="number"?(M=e,V=arguments[1],G=arguments[2],oe=arguments[3],K=arguments[4],Z=arguments[5],re=arguments[6],q=arguments[7]):(M=arguments[1],V=arguments[2],G=arguments[3],oe=arguments[4],K=arguments[5],Z=arguments[6],re=arguments[7],q=arguments[8]),Mr(P=arguments[0])==="object"&&!h(P)&&"imageData"in P){var X=P;P=X.imageData,M=X.format||M||e,V=X.x||V||0,G=X.y||G||0,oe=X.w||X.width||oe,K=X.h||X.height||K,Z=X.alias||Z,re=X.compression||re,q=X.rotation||X.angle||q}var ue=this.internal.getFilters();if(re===void 0&&ue.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(V)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var j=B.call(this,P,M,Z,re);return b.call(this,V,G,oe,K,j,q),this};var B=function(P,M,V,G){var oe,K,Z;if(typeof P=="string"&&r(P)===e){P=unescape(P);var re=H(P,!1);(re!==""||(re=t.loadFile(P,!0))!==void 0)&&(P=re)}if(h(P)&&(P=p(P,M)),M=r(P,M),!d(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((Z=V)==null||Z.length===0)&&(V=function(q){return typeof q=="string"||L(q)?I(q):L(q.data)?I(q.data):null}(P)),(oe=g.call(this,V))||(R()&&(P instanceof Uint8Array||M==="RGBA"||(K=P,P=S(P))),oe=this["process"+M.toUpperCase()](P,A.call(this),V,function(q){return q&&typeof q=="string"&&(q=q.toUpperCase()),q in t.image_compression?q:T.NONE}(G),K)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},H=t.__addimage__.convertBase64ToBinaryString=function(P,M){var V;M=typeof M!="boolean"||M;var G,oe="";if(typeof P=="string"){G=(V=F(P))!==null?V.data:P;try{oe=pg(G)}catch(K){if(M)throw k(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};t.getImageProperties=function(P){var M,V,G="";if(h(P)&&(P=p(P)),typeof P=="string"&&r(P)===e&&((G=H(P,!1))===""&&(G=t.loadFile(P)||""),P=G),V=r(P),!d(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(!R()||P instanceof Uint8Array||(P=S(P)),!(M=this["process"+V.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=V,M}})(an.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};an.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,s,a,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),A=n.pageContext.annotations,d=!1,h=0;h<A.length&&!d;h++)switch((r=A[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<A.length;p++){r=A[p];var g=this.internal.pdfEscape,w=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(b.objId),I=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+i(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+i(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+g(T(r.contents))+")",a+=" /Popup "+E.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+g(T(I))+") >>",b.content=a;var k=b.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+i(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+i(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+k,r.open&&(a+=" /Open true"),a+=" >>",E.content=a,this.internal.write(b.objId,"0 R",E.objId,"0 R");break;case"freetext":s="/Rect ["+i(r.bounds.x)+" "+o(r.bounds.y)+" "+i(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var F=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+g(w(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var R=this.annotations._nameMap[r.options.name];r.options.pageNumber=R.page,r.options.top=R.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+g(w(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var L=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+L+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,s,a,i){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:A(r),w:l(n+s),h:A(r+a)},options:i,type:"link"})},t.textWithLink=function(n,r,s,a){var i,o,l=this.getTextWidth(n),A=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var d=this.splitTextToSize(n,o).length;i=Math.ceil(A*d)}else o=l,i=A;return this.text(n,r,s,a),s+=.2*A,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,s-A,o,i,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(an.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},i=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},o=t.__arabicParser__.isArabicEndLetter=function(b){return i(b)&&a(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return i(b)&&s.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return i(b)&&a(b)&&e[b.charCodeAt(0)].length>=1};var A=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return i(b)&&a(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return i(b)&&a(b)&&e[b.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return i(b)&&a(b)&&e[b.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(b){var E=0,T=n,I="",k=0;for(E=0;E<b.length;E+=1)T[b.charCodeAt(E)]!==void 0?(k++,typeof(T=T[b.charCodeAt(E)])=="number"&&(I+=String.fromCharCode(T),T=n,k=0),E===b.length-1&&(T=n,I+=b.charAt(E-(k-1)),E-=k-1,k=0)):(T=n,I+=b.charAt(E-k),E-=k,k=0);return I};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(b,E,T){return i(b)?a(b)===!1?-1:!A(b)||!i(E)&&!i(T)||!i(T)&&o(E)||o(b)&&!i(E)||o(b)&&l(E)||o(b)&&o(E)?0:d(b)&&i(E)&&!o(E)&&i(T)&&A(T)?3:o(b)||!i(T)?1:2:-1},g=function(b){var E=0,T=0,I=0,k="",F="",R="",L=(b=b||"").split("\\s+"),S=[];for(E=0;E<L.length;E+=1){for(S.push(""),T=0;T<L[E].length;T+=1)k=L[E][T],F=L[E][T-1],R=L[E][T+1],i(k)?(I=p(k,F,R),S[E]+=I!==-1?String.fromCharCode(e[k.charCodeAt(0)][I]):k):S[E]+=k;S[E]=h(S[E])}return S.join(" ")},w=t.__arabicParser__.processArabic=t.processArabic=function(){var b,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(E)){var I=0;for(T=[],I=0;I<E.length;I+=1)Array.isArray(E[I])?T.push([g(E[I][0]),E[I][1],E[I][2]]):T.push([g(E[I])]);b=T}else b=g(E);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",w])}(an.API),an.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(an.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var A=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return A},set:function(b){A=b}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(b){w=b}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,A){r.call(this);var d=(A=A||{}).fontSize||this.getFontSize(),h=A.font||this.getFont(),p=A.scaleFactor||this.internal.scaleFactor,g=0,w=0,b=0,E=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var T=A.maxWidth;T>0?typeof l=="string"?l=this.splitTextToSize(l,T):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(k,F){return k.concat(E.splitTextToSize(F,T))},[])):l=Array.isArray(l)?l:[l];for(var I=0;I<l.length;I++)g<(b=this.getStringUnitWidth(l[I],{font:h})*d)&&(g=b);return g!==0&&(w=l.length),{w:g/=p,h:Math.max((w*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var A=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return A.lineNumber!==void 0&&(A.lineNumber===l.lineNumber?(l.x=(A.x||0)+(A.width||0),l.y=A.y||0):A.y+A.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,g&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=A.y+A.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,A,d,h,p){if(r.call(this),!d)throw new Error("No data for PDF table.");var g,w,b,E,T=[],I=[],k=[],F={},R={},L=[],S=[],N=(p=p||{}).autoSize||!1,B=p.printHeaders!==!1,H=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,P=p.margins||Object.assign({width:this.getPageWidth()},e),M=typeof p.padding=="number"?p.padding:3,V=p.headerBackgroundColor||"#c8c8c8",G=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=G,this.setFontSize(H),h==null)I=T=Object.keys(d[0]),k=T.map(function(){return"left"});else if(Array.isArray(h)&&Mr(h[0])==="object")for(T=h.map(function(X){return X.name}),I=h.map(function(X){return X.prompt||X.name||""}),k=h.map(function(X){return X.align||"left"}),g=0;g<h.length;g+=1)R[h[g].name]=h[g].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(I=T=h,k=T.map(function(){return"left"}));if(N||Array.isArray(h)&&typeof h[0]=="string")for(g=0;g<T.length;g+=1){for(F[E=T[g]]=d.map(function(X){return X[E]}),this.setFont(void 0,"bold"),L.push(this.getTextDimensions(I[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=F[E],this.setFont(void 0,"normal"),b=0;b<w.length;b+=1)L.push(this.getTextDimensions(w[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[E]=Math.max.apply(null,L)+M+M,L=[]}if(B){var oe={};for(g=0;g<T.length;g+=1)oe[T[g]]={},oe[T[g]].text=I[g],oe[T[g]].align=k[g];var K=o.call(this,oe,R);S=T.map(function(X){return new a(l,A,R[X],K,oe[X].text,void 0,oe[X].align)}),this.setTableHeaderRow(S),this.printHeaderRow(1,!1)}var Z=h.reduce(function(X,ue){return X[ue.name]=ue.align,X},{});for(g=0;g<d.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:d[g]},this);var re=o.call(this,d[g],R);for(b=0;b<T.length;b+=1){var q=d[g][T[b]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:b,data:q},this),i.call(this,new a(l,A,R[T[b]],re,q,g+2,Z[T[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=A,this};var o=function(l,A){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(g){var w=l[g];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,A[g]-d-d)},this).map(function(g){return this.getLineHeightFactor()*g.length*h/p+d+d},this).reduce(function(g,w){return Math.max(g,w)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,A){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){d=this.internal.__cell__.tableHeaderRow[g].clone(),A&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=l;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,d),this.setTextColor(w)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(an.API);var $8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Y8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],E_=W8(Y8),J8=[100,200,300,400,500,600,700,800,900],Aae=W8(J8);function __(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return $8[a=a||"normal"]?a:"normal"}(t.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(a){return typeof E_[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,r].join(" ")}}}function xI(t,e,n,r){var s;for(s=n;s>=0&&s<e.length;s+=r)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=r)if(t[e[s]])return t[e[s]]}var uae={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},vI={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function yI(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function dae(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},uae,n.genericFontFamilies||{}),a=null,i=null,o=0;o<e.length;++o)if(s[(a=__(e[o])).family]&&(a.family=s[a.family]),t.hasOwnProperty(a.family)){i=t[a.family];break}if(!(i=i||t[r]))throw new Error("Could not find a font-family for the rule '"+yI(a)+"' and default family '"+r+"'.");if(i=function(l,A){if(A[l])return A[l];var d=E_[l],h=d<=E_.normal?-1:1,p=xI(A,Y8,d,h);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(a.stretch,i),i=function(l,A){if(A[l])return A[l];for(var d=$8[l],h=0;h<d.length;++h)if(A[d[h]])return A[d[h]];throw new Error("Could not find a matching font-style for "+l)}(a.style,i),!(i=function(l,A){if(A[l])return A[l];if(l===400&&A[500])return A[500];if(l===500&&A[400])return A[400];var d=Aae[l],h=xI(A,J8,d,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(a.weight,i)))throw new Error("Failed to resolve a font for the rule '"+yI(a)+"'.");return i}function wI(t){return t.trimLeft()}function fae(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function hae(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Y1,bI,CI,yC=["times"];(function(t){var e,n,r,s,a,i,o,l,A,d=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new l,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new i,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new i,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,A=new d}]);var h=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=j;Object.defineProperty(this,"pdf",{get:function(){return W}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(De){J=!!De}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(De){ne=!!De}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(De){isNaN(De)||(ie=De)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(De){isNaN(De)||(de=De)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(De){var Ce;typeof De=="number"?Ce=[De,De,De,De]:((Ce=new Array(4))[0]=De[0],Ce[1]=De.length>=2?De[1]:Ce[0],Ce[2]=De.length>=3?De[2]:Ce[0],Ce[3]=De.length>=4?De[3]:Ce[1]),A.margin=Ce}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(De){me=De}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(De){xe=De}});var Se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Se},set:function(De){Se=De}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(De){De instanceof d&&(A=De)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(De){A.path=De}});var ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return ge},set:function(De){ge=De}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(De){var Ce;Ce=p(De),this.ctx.fillStyle=Ce.style,this.ctx.isFillTransparent=Ce.a===0,this.ctx.fillOpacity=Ce.a,this.pdf.setFillColor(Ce.r,Ce.g,Ce.b,{a:Ce.a}),this.pdf.setTextColor(Ce.r,Ce.g,Ce.b,{a:Ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(De){var Ce=p(De);this.ctx.strokeStyle=Ce.style,this.ctx.isStrokeTransparent=Ce.a===0,this.ctx.strokeOpacity=Ce.a,Ce.a===0?this.pdf.setDrawColor(255,255,255):(Ce.a,this.pdf.setDrawColor(Ce.r,Ce.g,Ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(De){["butt","round","square"].indexOf(De)!==-1&&(this.ctx.lineCap=De,this.pdf.setLineCap(De))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(De){isNaN(De)||(this.ctx.lineWidth=De,this.pdf.setLineWidth(De))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(De){["bevel","round","miter"].indexOf(De)!==-1&&(this.ctx.lineJoin=De,this.pdf.setLineJoin(De))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(De){isNaN(De)||(this.ctx.miterLimit=De,this.pdf.setMiterLimit(De))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(De){this.ctx.textBaseline=De}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(De){["right","end","center","left","start"].indexOf(De)!==-1&&(this.ctx.textAlign=De)}});var ae=null;function Fe(De,Ce){if(ae===null){var Ge=function(nt){var it=[];return Object.keys(nt).forEach(function(dt){nt[dt].forEach(function(Ct){var At=null;switch(Ct){case"bold":At={family:dt,weight:"bold"};break;case"italic":At={family:dt,style:"italic"};break;case"bolditalic":At={family:dt,weight:"bold",style:"italic"};break;case"":case"normal":At={family:dt}}At!==null&&(At.ref={name:dt,style:Ct},it.push(At))})}),it}(De.getFontList());ae=function(nt){for(var it={},dt=0;dt<nt.length;++dt){var Ct=__(nt[dt]),At=Ct.family,kt=Ct.stretch,Ft=Ct.style,Wt=Ct.weight;it[At]=it[At]||{},it[At][kt]=it[At][kt]||{},it[At][kt][Ft]=it[At][kt][Ft]||{},it[At][kt][Ft][Wt]=Ct}return it}(Ge.concat(Ce))}return ae}var et=null;Object.defineProperty(this,"fontFaces",{get:function(){return et},set:function(De){ae=null,et=De}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(De){var Ce;if(this.ctx.font=De,(Ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(De))!==null){var Ge=Ce[1],nt=(Ce[2],Ce[3]),it=Ce[4],dt=(Ce[5],Ce[6]),Ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(it)[2];it=Math.floor(Ct==="px"?parseFloat(it)*this.pdf.internal.scaleFactor:Ct==="em"?parseFloat(it)*this.pdf.getFontSize():parseFloat(it)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(it);var At=function(Pt){var It,xt,xn=[],$t=Pt.trim();if($t==="")return yC;if($t in vI)return[vI[$t]];for(;$t!=="";){switch(xt=null,It=($t=wI($t)).charAt(0)){case'"':case"'":xt=fae($t.substring(1),It);break;default:xt=hae($t)}if(xt===null||(xn.push(xt[0]),($t=wI(xt[1]))!==""&&$t.charAt(0)!==","))return yC;$t=$t.replace(/^,/,"")}return xn}(dt);if(this.fontFaces){var kt=dae(Fe(this.pdf,this.fontFaces),At.map(function(Pt){return{family:Pt,stretch:"normal",weight:nt,style:Ge}}));this.pdf.setFont(kt.ref.name,kt.ref.style)}else{var Ft="";(nt==="bold"||parseInt(nt,10)>=700||Ge==="bold")&&(Ft="bold"),Ge==="italic"&&(Ft+="italic"),Ft.length===0&&(Ft="normal");for(var Wt="",Mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Vt=0;Vt<At.length;Vt++){if(this.pdf.internal.getFont(At[Vt],Ft,{noFallback:!0,disableWarning:!0})!==void 0){Wt=At[Vt];break}if(Ft==="bolditalic"&&this.pdf.internal.getFont(At[Vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Wt=At[Vt],Ft="bold";else if(this.pdf.internal.getFont(At[Vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Wt=At[Vt],Ft="normal";break}}if(Wt===""){for(var Jt=0;Jt<At.length;Jt++)if(Mt[At[Jt]]){Wt=Mt[At[Jt]];break}}Wt=Wt===""?"Times":Wt,this.pdf.setFont(Wt,Ft)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(De){this.ctx.globalCompositeOperation=De}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(De){this.ctx.globalAlpha=De}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(De){this.ctx.lineDashOffset=De,ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(De){this.ctx.lineDash=De,ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(De){this.ctx.ignoreClearRect=!!De}})};h.prototype.setLineDash=function(j){this.lineDash=j},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){F.call(this,"fill",!1)},h.prototype.stroke=function(){F.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(j,W){if(isNaN(j)||isNaN(W))throw Yr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new i(j,W));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new i(j,W)},h.prototype.closePath=function(){var j=new i(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Mr(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){j=new i(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(j.x,j.y)},h.prototype.lineTo=function(j,W){if(isNaN(j)||isNaN(W))throw Yr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new i(j,W));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new i(J.x,J.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},h.prototype.quadraticCurveTo=function(j,W,J,ne){if(isNaN(J)||isNaN(ne)||isNaN(j)||isNaN(W))throw Yr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new i(J,ne)),de=this.ctx.transform.applyToPoint(new i(j,W));this.path.push({type:"qct",x1:de.x,y1:de.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new i(ie.x,ie.y)},h.prototype.bezierCurveTo=function(j,W,J,ne,ie,de){if(isNaN(ie)||isNaN(de)||isNaN(j)||isNaN(W)||isNaN(J)||isNaN(ne))throw Yr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new i(ie,de)),xe=this.ctx.transform.applyToPoint(new i(j,W)),Se=this.ctx.transform.applyToPoint(new i(J,ne));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:Se.x,y2:Se.y,x:me.x,y:me.y}),this.ctx.lastPoint=new i(me.x,me.y)},h.prototype.arc=function(j,W,J,ne,ie,de){if(isNaN(j)||isNaN(W)||isNaN(J)||isNaN(ne)||isNaN(ie))throw Yr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new i(j,W));j=me.x,W=me.y;var xe=this.ctx.transform.applyToPoint(new i(0,J)),Se=this.ctx.transform.applyToPoint(new i(0,0));J=Math.sqrt(Math.pow(xe.x-Se.x,2)+Math.pow(xe.y-Se.y,2))}Math.abs(ie-ne)>=2*Math.PI&&(ne=0,ie=2*Math.PI),this.path.push({type:"arc",x:j,y:W,radius:J,startAngle:ne,endAngle:ie,counterclockwise:de})},h.prototype.arcTo=function(j,W,J,ne,ie){throw new Error("arcTo not implemented.")},h.prototype.rect=function(j,W,J,ne){if(isNaN(j)||isNaN(W)||isNaN(J)||isNaN(ne))throw Yr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,W),this.lineTo(j+J,W),this.lineTo(j+J,W+ne),this.lineTo(j,W+ne),this.lineTo(j,W),this.lineTo(j+J,W),this.lineTo(j,W)},h.prototype.fillRect=function(j,W,J,ne){if(isNaN(j)||isNaN(W)||isNaN(J)||isNaN(ne))throw Yr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,W,J,ne),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},h.prototype.strokeRect=function(j,W,J,ne){if(isNaN(j)||isNaN(W)||isNaN(J)||isNaN(ne))throw Yr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(j,W,J,ne),this.stroke())},h.prototype.clearRect=function(j,W,J,ne){if(isNaN(j)||isNaN(W)||isNaN(J)||isNaN(ne))throw Yr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,W,J,ne))},h.prototype.save=function(j){j=typeof j!="boolean"||j;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},h.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(W),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(j){var W,J,ne,ie;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))W=0,J=0,ne=0,ie=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(de!==null)W=parseInt(de[1]),J=parseInt(de[2]),ne=parseInt(de[3]),ie=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)W=parseInt(de[1]),J=parseInt(de[2]),ne=parseInt(de[3]),ie=parseFloat(de[4]);else{if(ie=1,typeof j=="string"&&j.charAt(0)!=="#"){var me=new H8(j);j=me.ok?me.toHex():"#000000"}j.length===4?(W=j.substring(1,2),W+=W,J=j.substring(2,3),J+=J,ne=j.substring(3,4),ne+=ne):(W=j.substring(1,3),J=j.substring(3,5),ne=j.substring(5,7)),W=parseInt(W,16),J=parseInt(J,16),ne=parseInt(ne,16)}}return{r:W,g:J,b:ne,a:ie,style:j}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(j,W,J,ne){if(isNaN(W)||isNaN(J)||typeof j!="string")throw Yr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!g.call(this)){var ie=re(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;M.call(this,{text:j,x:W,y:J,scale:de,angle:ie,align:this.textAlign,maxWidth:ne})}},h.prototype.strokeText=function(j,W,J,ne){if(isNaN(W)||isNaN(J)||typeof j!="string")throw Yr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){ne=isNaN(ne)?void 0:ne;var ie=re(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;M.call(this,{text:j,x:W,y:J,scale:de,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:ne})}},h.prototype.measureText=function(j){if(typeof j!="string")throw Yr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,J=this.pdf.internal.scaleFactor,ne=W.internal.getFontSize(),ie=W.getStringUnitWidth(j)*ne/W.internal.scaleFactor,de=function(me){var xe=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this};return new de({width:ie*=Math.round(96*J/72*1e4)/1e4})},h.prototype.scale=function(j,W){if(isNaN(j)||isNaN(W))throw Yr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l(j,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.rotate=function(j){if(isNaN(j))throw Yr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},h.prototype.translate=function(j,W){if(isNaN(j)||isNaN(W))throw Yr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,j,W);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.transform=function(j,W,J,ne,ie,de){if(isNaN(j)||isNaN(W)||isNaN(J)||isNaN(ne)||isNaN(ie)||isNaN(de))throw Yr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new l(j,W,J,ne,ie,de);this.ctx.transform=this.ctx.transform.multiply(me)},h.prototype.setTransform=function(j,W,J,ne,ie,de){j=isNaN(j)?1:j,W=isNaN(W)?0:W,J=isNaN(J)?0:J,ne=isNaN(ne)?1:ne,ie=isNaN(ie)?0:ie,de=isNaN(de)?0:de,this.ctx.transform=new l(j,W,J,ne,ie,de)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(j,W,J,ne,ie,de,me,xe,Se){var ge=this.pdf.getImageProperties(j),ae=1,Fe=1,et=1,De=1;ne!==void 0&&xe!==void 0&&(et=xe/ne,De=Se/ie,ae=ge.width/ne*xe/ne,Fe=ge.height/ie*Se/ie),de===void 0&&(de=W,me=J,W=0,J=0),ne!==void 0&&xe===void 0&&(xe=ne,Se=ie),ne===void 0&&xe===void 0&&(xe=ge.width,Se=ge.height);for(var Ce,Ge=this.ctx.transform.decompose(),nt=re(Ge.rotate.shx),it=new l,dt=(it=(it=(it=it.multiply(Ge.translate)).multiply(Ge.skew)).multiply(Ge.scale)).applyToRectangle(new o(de-W*et,me-J*De,ne*ae,ie*Fe)),Ct=E.call(this,dt),At=[],kt=0;kt<Ct.length;kt+=1)At.indexOf(Ct[kt])===-1&&At.push(Ct[kt]);if(k(At),this.autoPaging)for(var Ft=At[0],Wt=At[At.length-1],Mt=Ft;Mt<Wt+1;Mt++){this.pdf.setPage(Mt);var Vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Jt=Mt===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xt=Mt===1?0:Pt+(Mt-2)*It;if(this.ctx.clip_path.length!==0){var xn=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Ce,this.posX+this.margin[3],-xt+Jt+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=xn}var $t=JSON.parse(JSON.stringify(dt));$t=I([$t],this.posX+this.margin[3],-xt+Jt+this.ctx.prevPageLastElemOffset)[0];var ir=(Mt>Ft||Mt<Wt)&&b.call(this);ir&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,It,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",$t.x,$t.y,$t.w,$t.h,null,null,nt),ir&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",dt.x,dt.y,dt.w,dt.h,null,null,nt)};var E=function(j,W,J){var ne=[];W=W||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":ne.push(Math.floor((j.y+ie)/J)+1);break;case"arc":ne.push(Math.floor((j.y+ie-j.radius)/J)+1),ne.push(Math.floor((j.y+ie+j.radius)/J)+1);break;case"qct":var de=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);ne.push(Math.floor((de.y+ie)/J)+1),ne.push(Math.floor((de.y+de.h+ie)/J)+1);break;case"bct":var me=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);ne.push(Math.floor((me.y+ie)/J)+1),ne.push(Math.floor((me.y+me.h+ie)/J)+1);break;case"rect":ne.push(Math.floor((j.y+ie)/J)+1),ne.push(Math.floor((j.y+j.h+ie)/J)+1)}for(var xe=0;xe<ne.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<ne[xe];)T.call(this);return ne},T=function(){var j=this.fillStyle,W=this.strokeStyle,J=this.font,ne=this.lineCap,ie=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=W,this.font=J,this.lineCap=ne,this.lineWidth=ie,this.lineJoin=de},I=function(j,W,J){for(var ne=0;ne<j.length;ne++)switch(j[ne].type){case"bct":j[ne].x2+=W,j[ne].y2+=J;case"qct":j[ne].x1+=W,j[ne].y1+=J;case"mt":case"lt":case"arc":default:j[ne].x+=W,j[ne].y+=J}return j},k=function(j){return j.sort(function(W,J){return W-J})},F=function(j,W){for(var J,ne,ie=this.fillStyle,de=this.strokeStyle,me=this.lineCap,xe=this.lineWidth,Se=Math.abs(xe*this.ctx.transform.scaleX),ge=this.lineJoin,ae=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),et=[],De=0;De<Fe.length;De++)if(Fe[De].x!==void 0)for(var Ce=E.call(this,Fe[De]),Ge=0;Ge<Ce.length;Ge+=1)et.indexOf(Ce[Ge])===-1&&et.push(Ce[Ge]);for(var nt=0;nt<et.length;nt++)for(;this.pdf.internal.getNumberOfPages()<et[nt];)T.call(this);if(k(et),this.autoPaging)for(var it=et[0],dt=et[et.length-1],Ct=it;Ct<dt+1;Ct++){this.pdf.setPage(Ct),this.fillStyle=ie,this.strokeStyle=de,this.lineCap=me,this.lineWidth=Se,this.lineJoin=ge;var At=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=Ct===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Mt=Ct===1?0:Ft+(Ct-2)*Wt;if(this.ctx.clip_path.length!==0){var Vt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(J,this.posX+this.margin[3],-Mt+kt+this.ctx.prevPageLastElemOffset),R.call(this,j,!0),this.path=Vt}if(ne=JSON.parse(JSON.stringify(ae)),this.path=I(ne,this.posX+this.margin[3],-Mt+kt+this.ctx.prevPageLastElemOffset),W===!1||Ct===0){var Jt=(Ct>it||Ct<dt)&&b.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,Wt,null).clip().discardPath()),R.call(this,j,W),Jt&&this.pdf.restoreGraphicsState()}this.lineWidth=xe}else this.lineWidth=Se,R.call(this,j,W),this.lineWidth=xe;this.path=ae},R=function(j,W){if((j!=="stroke"||W||!w.call(this))&&(j==="stroke"||W||!g.call(this))){for(var J,ne,ie=[],de=this.path,me=0;me<de.length;me++){var xe=de[me];switch(xe.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:xe,deltas:[],abs:[]});break;case"lt":var Se=ie.length;if(de[me-1]&&!isNaN(de[me-1].x)&&(J=[xe.x-de[me-1].x,xe.y-de[me-1].y],Se>0)){for(;Se>=0;Se--)if(ie[Se-1].close!==!0&&ie[Se-1].begin!==!0){ie[Se-1].deltas.push(J),ie[Se-1].abs.push(xe);break}}break;case"bct":J=[xe.x1-de[me-1].x,xe.y1-de[me-1].y,xe.x2-de[me-1].x,xe.y2-de[me-1].y,xe.x-de[me-1].x,xe.y-de[me-1].y],ie[ie.length-1].deltas.push(J);break;case"qct":var ge=de[me-1].x+2/3*(xe.x1-de[me-1].x),ae=de[me-1].y+2/3*(xe.y1-de[me-1].y),Fe=xe.x+2/3*(xe.x1-xe.x),et=xe.y+2/3*(xe.y1-xe.y),De=xe.x,Ce=xe.y;J=[ge-de[me-1].x,ae-de[me-1].y,Fe-de[me-1].x,et-de[me-1].y,De-de[me-1].x,Ce-de[me-1].y],ie[ie.length-1].deltas.push(J);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(xe)}}ne=W?null:j==="stroke"?"stroke":"fill";for(var Ge=!1,nt=0;nt<ie.length;nt++)if(ie[nt].arc)for(var it=ie[nt].abs,dt=0;dt<it.length;dt++){var Ct=it[dt];Ct.type==="arc"?N.call(this,Ct.x,Ct.y,Ct.radius,Ct.startAngle,Ct.endAngle,Ct.counterclockwise,void 0,W,!Ge):V.call(this,Ct.x,Ct.y),Ge=!0}else if(ie[nt].close===!0)this.pdf.internal.out("h"),Ge=!1;else if(ie[nt].begin!==!0){var At=ie[nt].start.x,kt=ie[nt].start.y;G.call(this,ie[nt].deltas,At,kt),Ge=!0}ne&&B.call(this,ne),W&&H.call(this)}},L=function(j){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-J;case"top":return j+W-J;case"hanging":return j+W-2*J;case"middle":return j+W/2-J;case"ideographic":return j;case"alphabetic":default:return j}},S=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(W,J){this.colorStops.push([W,J])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(j,W,J,ne,ie,de,me,xe,Se){for(var ge=K.call(this,J,ne,ie,de),ae=0;ae<ge.length;ae++){var Fe=ge[ae];ae===0&&(Se?P.call(this,Fe.x1+j,Fe.y1+W):V.call(this,Fe.x1+j,Fe.y1+W)),oe.call(this,j,W,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}xe?H.call(this):B.call(this,me)},B=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(j,W){this.pdf.internal.out(n(j)+" "+r(W)+" m")},M=function(j){var W;switch(j.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var J=this.pdf.getTextDimensions(j.text),ne=L.call(this,j.y),ie=S.call(this,ne)-J.h,de=this.ctx.transform.applyToPoint(new i(j.x,ne)),me=this.ctx.transform.decompose(),xe=new l;xe=(xe=(xe=xe.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var Se,ge,ae,Fe=this.ctx.transform.applyToRectangle(new o(j.x,ne,J.w,J.h)),et=xe.applyToRectangle(new o(j.x,ie,J.w,J.h)),De=E.call(this,et),Ce=[],Ge=0;Ge<De.length;Ge+=1)Ce.indexOf(De[Ge])===-1&&Ce.push(De[Ge]);if(k(Ce),this.autoPaging)for(var nt=Ce[0],it=Ce[Ce.length-1],dt=nt;dt<it+1;dt++){this.pdf.setPage(dt);var Ct=dt===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[2],Ft=kt-this.margin[0],Wt=this.pdf.internal.pageSize.width-this.margin[1],Mt=Wt-this.margin[3],Vt=dt===1?0:At+(dt-2)*Ft;if(this.ctx.clip_path.length!==0){var Jt=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Se,this.posX+this.margin[3],-1*Vt+Ct),R.call(this,"fill",!0),this.path=Jt}var Pt=I([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-Vt+Ct+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*j.scale),ae=this.lineWidth,this.lineWidth=ae*j.scale);var It=this.autoPaging!=="text";if(It||Pt.y+Pt.h<=kt){if(It||Pt.y>=Ct&&Pt.x<=Wt){var xt=It?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Wt-Pt.x)[0],xn=I([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-Vt+Ct+this.ctx.prevPageLastElemOffset)[0],$t=It&&(dt>nt||dt<it)&&b.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,Ft,null).clip().discardPath()),this.pdf.text(xt,xn.x,xn.y,{angle:j.angle,align:W,renderingMode:j.renderingMode}),$t&&this.pdf.restoreGraphicsState()}}else Pt.y<kt&&(this.ctx.prevPageLastElemOffset+=kt-Pt.y);j.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=ae)}else j.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*j.scale),ae=this.lineWidth,this.lineWidth=ae*j.scale),this.pdf.text(j.text,de.x+this.posX,de.y+this.posY,{angle:j.angle,align:W,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=ae)},V=function(j,W,J,ne){J=J||0,ne=ne||0,this.pdf.internal.out(n(j+J)+" "+r(W+ne)+" l")},G=function(j,W,J){return this.pdf.lines(j,W,J,null,null)},oe=function(j,W,J,ne,ie,de,me,xe){this.pdf.internal.out([e(s(J+j)),e(a(ne+W)),e(s(ie+j)),e(a(de+W)),e(s(me+j)),e(a(xe+W)),"c"].join(" "))},K=function(j,W,J,ne){for(var ie=2*Math.PI,de=Math.PI/2;W>J;)W-=ie;var me=Math.abs(J-W);me<ie&&ne&&(me=ie-me);for(var xe=[],Se=ne?-1:1,ge=W;me>1e-5;){var ae=ge+Se*Math.min(me,de);xe.push(Z.call(this,j,ge,ae)),me-=Math.abs(ae-ge),ge=ae}return xe},Z=function(j,W,J){var ne=(J-W)/2,ie=j*Math.cos(ne),de=j*Math.sin(ne),me=ie,xe=-de,Se=me*me+xe*xe,ge=Se+me*ie+xe*de,ae=4/3*(Math.sqrt(2*Se*ge)-ge)/(me*de-xe*ie),Fe=me-ae*xe,et=xe+ae*me,De=Fe,Ce=-et,Ge=ne+W,nt=Math.cos(Ge),it=Math.sin(Ge);return{x1:j*Math.cos(W),y1:j*Math.sin(W),x2:Fe*nt-et*it,y2:Fe*it+et*nt,x3:De*nt-Ce*it,y3:De*it+Ce*nt,x4:j*Math.cos(J),y4:j*Math.sin(J)}},re=function(j){return 180*j/Math.PI},q=function(j,W,J,ne,ie,de){var me=j+.5*(J-j),xe=W+.5*(ne-W),Se=ie+.5*(J-ie),ge=de+.5*(ne-de),ae=Math.min(j,ie,me,Se),Fe=Math.max(j,ie,me,Se),et=Math.min(W,de,xe,ge),De=Math.max(W,de,xe,ge);return new o(ae,et,Fe-ae,De-et)},X=function(j,W,J,ne,ie,de,me,xe){var Se,ge,ae,Fe,et,De,Ce,Ge,nt,it,dt,Ct,At,kt,Ft=J-j,Wt=ne-W,Mt=ie-J,Vt=de-ne,Jt=me-ie,Pt=xe-de;for(ge=0;ge<41;ge++)nt=(Ce=(ae=j+(Se=ge/40)*Ft)+Se*((et=J+Se*Mt)-ae))+Se*(et+Se*(ie+Se*Jt-et)-Ce),it=(Ge=(Fe=W+Se*Wt)+Se*((De=ne+Se*Vt)-Fe))+Se*(De+Se*(de+Se*Pt-De)-Ge),ge==0?(dt=nt,Ct=it,At=nt,kt=it):(dt=Math.min(dt,nt),Ct=Math.min(Ct,it),At=Math.max(At,nt),kt=Math.max(kt,it));return new o(Math.round(dt),Math.round(Ct),Math.round(At-dt),Math.round(kt-Ct))},ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,W,J=(j=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:W}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(an.API),function(t){var e=function(a){var i,o,l,A,d,h,p,g,w,b;for(o=[],l=0,A=(a+=i="\0\0\0\0".slice(a.length%4||4)).length;A>l;l+=4)(d=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(h=(d=((d=((d=((d=(d-(b=d%85))/85)-(w=d%85))/85)-(g=d%85))/85)-(p=d%85))/85)%85,o.push(h+33,p+33,g+33,w+33,b+33)):o.push(122);return function(E,T){for(var I=T;I>0;I--)E.pop()}(o,i.length),String.fromCharCode.apply(String,o)+"~>"},n=function(a){var i,o,l,A,d,h=String,p="length",g=255,w="charCodeAt",b="slice",E="replace";for(a[b](-2),a=a[b](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),l=[],A=0,d=(a+=i="uuuuu"[b](a[p]%5||5))[p];d>A;A+=5)o=52200625*(a[w](A)-33)+614125*(a[w](A+1)-33)+7225*(a[w](A+2)-33)+85*(a[w](A+3)-33)+(a[w](A+4)-33),l.push(g&o>>24,g&o>>16,g&o>>8,g&o);return function(T,I){for(var k=I;k>0;k--)T.pop()}(l,i[p]),h.fromCharCode.apply(h,l)},r=function(a){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),i.test(a)===!1)return"";for(var o="",l=0;l<a.length;l+=2)o+=String.fromCharCode("0x"+(a[l]+a[l+1]));return o},s=function(a){for(var i=new Uint8Array(a.length),o=a.length;o--;)i[o]=a.charCodeAt(o);return a=(i=v_(i)).reduce(function(l,A){return l+String.fromCharCode(A)},"")};t.processDataByFilters=function(a,i){var o=0,l=a||"",A=[];for(typeof(i=i||[])=="string"&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:l,reverseChain:A.reverse().join(" ")}}}(an.API),function(t){t.loadFile=function(e,n,r){return function(s,a,i){a=a!==!1,i=typeof i=="function"?i:function(){};var o=void 0;try{o=function(l,A,d){var h=new XMLHttpRequest,p=0,g=function(w){var b=w.length,E=[],T=String.fromCharCode;for(p=0;p<b;p+=1)E.push(T(255&w.charCodeAt(p)));return E.join("")};if(h.open("GET",l,!A),h.overrideMimeType("text/plain; charset=x-user-defined"),A===!1&&(h.onload=function(){h.status===200?d(g(this.responseText)):d(void 0)}),h.send(null),A&&h.status===200)return g(h.responseText)}(s,a,i)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(an.API),function(t){function e(){return(yn.html2canvas?Promise.resolve(yn.html2canvas):h_(()=>Promise.resolve().then(()=>Rwe),void 0)).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function n(){return(yn.DOMPurify?Promise.resolve(yn.DOMPurify):h_(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var r=function(i){var o=Mr(i);return o==="undefined"?"undefined":o==="string"||i instanceof String?"string":o==="number"||i instanceof Number?"number":o==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":o==="object"?"object":"unknown"},s=function(i,o){var l=document.createElement(i);for(var A in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[A]=o.style[A];return l},a=function i(o){var l=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),A=i.convert(Promise.resolve(),l);return A=(A=A.setProgress(1,i,1,[i])).set(o)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(i,o){return i.__proto__=o||a.prototype,i},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(i,o){return this.then(function(){switch(o=o||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(n).then(function(l){return this.set({src:s("div",{innerHTML:i,dompurify:l})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},a.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(A,d){for(var h=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),p=A.firstChild;p;p=p.nextSibling)d!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(l(p,d));return A.nodeType===1&&(A.nodeName==="CANVAS"?(h.width=A.width,h.height=A.height,h.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(h.value=A.value),h.addEventListener("load",function(){h.scrollTop=A.scrollTop,h.scrollLeft=A.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(e).then(function(o){var l=this.opt.jsPDF,A=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=A,A)for(var p=0;p<A.length;++p){var g=A[p],w=g.src.find(function(b){return b.format==="truetype"});w&&l.addFont(w.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(i,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(i,o):this.outputPdf(i,o)},a.prototype.outputPdf=function(i,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,o)})},a.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},a.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(i){if(r(i)!=="object")return this;var o=Object.keys(i||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=i[l]};switch(l){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[l]=i[l]}}},this);return this.then(function(){return this.thenList(o)})},a.prototype.get=function(i,o){return this.then(function(){var l=i in a.template.prop?this.prop[i]:this.opt[i];return o?o(l):l})},a.prototype.setMargin=function(i){return this.then(function(){switch(r(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},a.prototype.setPageSize=function(i){function o(l,A){return Math.floor(l*A/72*96)}return this.then(function(){(i=i||an.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:o(i.inner.width,i.k),height:o(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},a.prototype.setProgress=function(i,o,l,A){return i!=null&&(this.progress.val=i),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(i,o,l,A){return this.setProgress(i?this.progress.val+i:null,o||null,l?this.progress.n+l:null,A?this.progress.stack.concat(A):null)},a.prototype.then=function(i,o){var l=this;return this.thenCore(i,o,function(A,d){return l.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,A),h}).then(A,d).then(function(h){return l.updateProgress(1),h})})},a.prototype.thenCore=function(i,o,l){l=l||Promise.prototype.then,i&&(i=i.bind(this)),o&&(o=o.bind(this));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),d=l.call(A,i,o);return a.convert(d,this.__proto__)},a.prototype.thenExternal=function(i,o){return Promise.prototype.then.call(this,i,o)},a.prototype.thenList=function(i){var o=this;return i.forEach(function(l){o=o.thenCore(l)}),o},a.prototype.catch=function(i){i&&(i=i.bind(this));var o=Promise.prototype.catch.call(this,i);return a.convert(o,this)},a.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},a.prototype.error=function(i){return this.then(function(){throw new Error(i)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,an.getPageSize=function(i,o,l){if(Mr(i)==="object"){var A=i;i=A.orientation,o=A.unit||o,l=A.format||l}o=o||"mm",l=l||"a4",i=(""+(i||"P")).toLowerCase();var d,h=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+o}var g,w=0,b=0;if(p.hasOwnProperty(h))w=p[h][1]/d,b=p[h][0]/d;else try{w=l[1],b=l[0]}catch{throw new Error("Invalid format: "+l)}if(i==="p"||i==="portrait")i="p",b>w&&(g=b,b=w,w=g);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",w>b&&(g=b,b=w,w=g)}return{width:b,height:w,unit:o,k:d,orientation:i}},t.html=function(i,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(__):null;var l=new a(o);return o.worker?l:l.from(i).doCallback()}}(an.API),an.API.addJS=function(t){return CI=t,this.internal.events.subscribe("postPutResources",function(){Y1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Y1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),bI=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+CI+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Y1!==void 0&&bI!==void 0&&this.internal.out("/Names <</JavaScript "+Y1+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),a=0;a<s.length;a++){var i=s[a],o=r.exec(i);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(i)}if(this.outline.createNamedDestinations){var A=this.internal.pages.length,d=[];for(a=0;a<A;a++){var h=n.internal.newObject();d.push(h);var p=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<d.length;a++)n.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,a){var i={title:s,options:a,children:[]};return r==null&&(r=this.root),r.children.push(i),i},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var i=r.children[a];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var l=n.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var A=0;A<r.children.length;A++)this.renderItems(r.children[A])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var a=0;a<s.children.length;a++)r.count++,this.count_r(r,s.children[a]);return r.count}}])}(an.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,s,a,i,o){var l,A=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=i||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(h){for(var p,g=256*h.charCodeAt(4)+h.charCodeAt(5),w=h.length,b={width:0,height:0,numcomponents:1},E=4;E<w;E+=2){if(E+=g,e.indexOf(h.charCodeAt(E+1))!==-1){p=256*h.charCodeAt(E+5)+h.charCodeAt(E+6),b={width:256*h.charCodeAt(E+7)+h.charCodeAt(E+8),height:p,numcomponents:h.charCodeAt(E+9)};break}g=256*h.charCodeAt(E+2)+h.charCodeAt(E+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:A,index:r,alias:s}}return d}}(an.API);var o0,J1,EI,_I,SI,mae=function(){var t,e,n;function r(a){var i,o,l,A,d,h,p,g,w,b,E,T,I,k;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(i=this.readUInt32(),w=(function(){var F,R;for(R=[],F=0;F<4;++F)R.push(String.fromCharCode(this.data[this.pos++]));return R}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),A=this.readUInt16()||100,h.delay=1e3*d/A,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,i-=4),a=(h!=null?h.data:void 0)||this.imgData,T=0;0<=i?T<i:T>i;0<=i?++T:--T)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((b=l-this.transparency.indexed.length)>0)for(I=0;0<=b?I<b:I>b;0<=b?++I:--I)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":p=(E=this.read(i)).indexOf(0),g=String.fromCharCode.apply(String,E.slice(0,p)),this.text[g]=String.fromCharCode.apply(String,E.slice(p+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(k=this.colorType)===4||k===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var i,o;for(o=[],i=0;0<=a?i<a:i>a;0<=a?++i:--i)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var i=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*i),l=0,A=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function d(h,p,g,w){var b,E,T,I,k,F,R,L,S,N,B,H,P,M,V,G,oe,K,Z,re,q,X=Math.ceil((A.width-h)/g),ue=Math.ceil((A.height-p)/w),j=A.width==X&&A.height==ue;for(M=i*X,H=j?o:new Uint8Array(M*ue),F=a.length,P=0,E=0;P<ue&&l<F;){switch(a[l++]){case 0:for(I=oe=0;oe<M;I=oe+=1)H[E++]=a[l++];break;case 1:for(I=K=0;K<M;I=K+=1)b=a[l++],k=I<i?0:H[E-i],H[E++]=(b+k)%256;break;case 2:for(I=Z=0;Z<M;I=Z+=1)b=a[l++],T=(I-I%i)/i,V=P&&H[(P-1)*M+T*i+I%i],H[E++]=(V+b)%256;break;case 3:for(I=re=0;re<M;I=re+=1)b=a[l++],T=(I-I%i)/i,k=I<i?0:H[E-i],V=P&&H[(P-1)*M+T*i+I%i],H[E++]=(b+Math.floor((k+V)/2))%256;break;case 4:for(I=q=0;q<M;I=q+=1)b=a[l++],T=(I-I%i)/i,k=I<i?0:H[E-i],P===0?V=G=0:(V=H[(P-1)*M+T*i+I%i],G=T&&H[(P-1)*M+(T-1)*i+I%i]),R=k+V-G,L=Math.abs(R-k),N=Math.abs(R-V),B=Math.abs(R-G),S=L<=N&&L<=B?k:N<=B?V:G,H[E++]=(b+S)%256;break;default:throw new Error("Invalid filter algorithm: "+a[l-1])}if(!j){var W=((p+P*w)*A.width+h)*i,J=P*M;for(I=0;I<X;I+=1){for(var ne=0;ne<i;ne+=1)o[W++]=H[J++];W+=(g-1)*i}}P++}}return a=qse(a),A.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),o},r.prototype.decodePalette=function(){var a,i,o,l,A,d,h,p,g;for(o=this.palette,d=this.transparency.indexed||[],A=new Uint8Array((d.length||0)+o.length),l=0,a=0,i=h=0,p=o.length;h<p;i=h+=3)A[l++]=o[i],A[l++]=o[i+1],A[l++]=o[i+2],A[l++]=(g=d[a++])!=null?g:255;return A},r.prototype.copyToImageData=function(a,i){var o,l,A,d,h,p,g,w,b,E,T;if(l=this.colors,b=null,o=this.hasAlphaChannel,this.palette.length&&(b=(T=this._decodedPalette)!=null?T:this._decodedPalette=this.decodePalette(),l=4,o=!0),w=(A=a.data||a).length,h=b||i,d=p=0,l===1)for(;d<w;)g=b?4*i[d/4]:p,E=h[g++],A[d++]=E,A[d++]=E,A[d++]=E,A[d++]=o?h[g++]:255,p=g;else for(;d<w;)g=b?4*i[d/4]:p,A[d++]=h[g++],A[d++]=h[g++],A[d++]=h[g++],A[d++]=o?h[g++]:255,p=g},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var s=function(){if(Object.prototype.toString.call(yn)==="[object Window]"){try{e=yn.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(a){var i;if(s()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(i=new Image).src=e.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var i,o,l,A,d,h,p,g;if(this.animation){for(g=[],o=d=0,h=(p=this.animation.frames).length;d<h;o=++d)i=p[o],l=a.createImageData(i.width,i.height),A=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(l,A),i.imageData=l,g.push(i.image=t(l));return g}},r.prototype.renderFrame=function(a,i){var o,l,A;return o=(l=this.animation.frames)[i],A=l[i-1],i===0&&a.clearRect(0,0,this.width,this.height),(A!=null?A.disposeOp:void 0)===1?a.clearRect(A.xOffset,A.yOffset,A.width,A.height):(A!=null?A.disposeOp:void 0)===2&&a.putImageData(A.imageData,A.xOffset,A.yOffset),o.blendOp===0&&a.clearRect(o.xOffset,o.yOffset,o.width,o.height),a.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(a){var i,o,l,A,d,h,p=this;return o=0,h=this.animation,A=h.numFrames,l=h.frames,d=h.numPlays,(i=function(){var g,w;if(g=o++%A,w=l[g],p.renderFrame(a,g),A>1&&o/A<d)return p.animation._timeout=setTimeout(i,w.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var i,o;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,i=a.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(o=i.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),i.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function pae(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,s=t[e++],a=s>>7,i=1<<(7&s)+1;t[e++],t[e++];var o=null,l=null;a&&(o=e,l=i,e+=3*i);var A=!0,d=[],h=0,p=null,g=0,w=null;for(this.width=n,this.height=r;A&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,w=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],(1&b)==0&&(p=null),g=b>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var E=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,F=t[e++],R=F>>6&1,L=1<<(7&F)+1,S=o,N=l,B=!1;F>>7&&(B=!0,S=e,N=L,e+=3*L);var H=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}d.push({x:E,y:T,width:I,height:k,has_local_palette:B,palette_offset:S,palette_size:N,data_offset:H,data_length:e-H,transparent_index:p,interlaced:!!R,delay:h,disposal:g});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return w},this.frameInfo=function(M){if(M<0||M>=d.length)throw new Error("Frame index out of range.");return d[M]},this.decodeAndBlitFrameBGRA=function(M,V){var G=this.frameInfo(M),oe=G.width*G.height,K=new Uint8Array(oe);TI(t,G.data_offset,K,oe);var Z=G.palette_offset,re=G.transparent_index;re===null&&(re=256);var q=G.width,X=n-q,ue=q,j=4*(G.y*n+G.x),W=4*((G.y+G.height)*n+G.x),J=j,ne=4*X;G.interlaced===!0&&(ne+=4*n*7);for(var ie=8,de=0,me=K.length;de<me;++de){var xe=K[de];if(ue===0&&(ue=q,(J+=ne)>=W&&(ne=4*X+4*n*(ie-1),J=j+(q+X)*(ie<<1),ie>>=1)),xe===re)J+=4;else{var Se=t[Z+3*xe],ge=t[Z+3*xe+1],ae=t[Z+3*xe+2];V[J++]=ae,V[J++]=ge,V[J++]=Se,V[J++]=255}--ue}},this.decodeAndBlitFrameRGBA=function(M,V){var G=this.frameInfo(M),oe=G.width*G.height,K=new Uint8Array(oe);TI(t,G.data_offset,K,oe);var Z=G.palette_offset,re=G.transparent_index;re===null&&(re=256);var q=G.width,X=n-q,ue=q,j=4*(G.y*n+G.x),W=4*((G.y+G.height)*n+G.x),J=j,ne=4*X;G.interlaced===!0&&(ne+=4*n*7);for(var ie=8,de=0,me=K.length;de<me;++de){var xe=K[de];if(ue===0&&(ue=q,(J+=ne)>=W&&(ne=4*X+4*n*(ie-1),J=j+(q+X)*(ie<<1),ie>>=1)),xe===re)J+=4;else{var Se=t[Z+3*xe],ge=t[Z+3*xe+1],ae=t[Z+3*xe+2];V[J++]=Se,V[J++]=ge,V[J++]=ae,V[J++]=255}--ue}}}function TI(t,e,n,r){for(var s=t[e++],a=1<<s,i=a+1,o=i+1,l=s+1,A=(1<<l)-1,d=0,h=0,p=0,g=t[e++],w=new Int32Array(4096),b=null;;){for(;d<16&&g!==0;)h|=t[e++]<<d,d+=8,g===1?g=t[e++]:--g;if(d<l)break;var E=h&A;if(h>>=l,d-=l,E!==a){if(E===i)break;for(var T=E<o?E:b,I=0,k=T;k>a;)k=w[k]>>8,++I;var F=k;if(p+I+(T!==E?1:0)>r)return void Yr.log("Warning, gif stream longer than expected.");n[p++]=F;var R=p+=I;for(T!==E&&(n[p++]=F),k=T;I--;)k=w[k],n[--R]=255&k,k>>=8;b!==null&&o<4096&&(w[o++]=b<<8|F,o>=A+1&&l<12&&(++l,A=A<<1|1)),b=E}else o=i+1,A=(1<<(l=s+1))-1,b=null}return p!==r&&Yr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function wC(t){var e,n,r,s,a,i=Math.floor,o=new Array(64),l=new Array(64),A=new Array(64),d=new Array(64),h=new Array(65535),p=new Array(65535),g=new Array(64),w=new Array(64),b=[],E=0,T=7,I=new Array(64),k=new Array(64),F=new Array(64),R=new Array(256),L=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(j,W){for(var J=0,ne=0,ie=new Array,de=1;de<=16;de++){for(var me=1;me<=j[de];me++)ie[W[ne]]=[],ie[W[ne]][0]=J,ie[W[ne]][1]=de,ne++,J++;J*=2}return ie}function Z(j){for(var W=j[0],J=j[1]-1;J>=0;)W&1<<J&&(E|=1<<T),J--,--T<0&&(E==255?(re(255),re(0)):re(E),T=7,E=0)}function re(j){b.push(j)}function q(j){re(j>>8&255),re(255&j)}function X(j,W,J,ne,ie){for(var de,me=ie[0],xe=ie[240],Se=function(it,dt){var Ct,At,kt,Ft,Wt,Mt,Vt,Jt,Pt,It,xt=0;for(Pt=0;Pt<8;++Pt){Ct=it[xt],At=it[xt+1],kt=it[xt+2],Ft=it[xt+3],Wt=it[xt+4],Mt=it[xt+5],Vt=it[xt+6];var xn=Ct+(Jt=it[xt+7]),$t=Ct-Jt,ir=At+Vt,mn=At-Vt,Fn=kt+Mt,Er=kt-Mt,Bn=Ft+Wt,ta=Ft-Wt,Xn=xn+Bn,Wr=xn-Bn,ls=ir+Fn,Dn=ir-Fn;it[xt]=Xn+ls,it[xt+4]=Xn-ls;var tn=.707106781*(Dn+Wr);it[xt+2]=Wr+tn,it[xt+6]=Wr-tn;var On=.382683433*((Xn=ta+Er)-(Dn=mn+$t)),na=.5411961*Xn+On,Or=1.306562965*Dn+On,hs=.707106781*(ls=Er+mn),ga=$t+hs,Ht=$t-hs;it[xt+5]=Ht+na,it[xt+3]=Ht-na,it[xt+1]=ga+Or,it[xt+7]=ga-Or,xt+=8}for(xt=0,Pt=0;Pt<8;++Pt){Ct=it[xt],At=it[xt+8],kt=it[xt+16],Ft=it[xt+24],Wt=it[xt+32],Mt=it[xt+40],Vt=it[xt+48];var or=Ct+(Jt=it[xt+56]),Zn=Ct-Jt,_r=At+Vt,kr=At-Vt,Qr=kt+Mt,fe=kt-Mt,Ne=Ft+Wt,Ee=Ft-Wt,_e=or+Ne,Te=or-Ne,ke=_r+Qr,Ke=_r-Qr;it[xt]=_e+ke,it[xt+32]=_e-ke;var tt=.707106781*(Ke+Te);it[xt+16]=Te+tt,it[xt+48]=Te-tt;var Qe=.382683433*((_e=Ee+fe)-(Ke=kr+Zn)),We=.5411961*_e+Qe,Je=1.306562965*Ke+Qe,yt=.707106781*(ke=fe+kr),Nt=Zn+yt,jt=Zn-yt;it[xt+40]=jt+We,it[xt+24]=jt-We,it[xt+8]=Nt+Je,it[xt+56]=Nt-Je,xt++}for(Pt=0;Pt<64;++Pt)It=it[Pt]*dt[Pt],g[Pt]=It>0?It+.5|0:It-.5|0;return g}(j,W),ge=0;ge<64;++ge)w[S[ge]]=Se[ge];var ae=w[0]-J;J=w[0],ae==0?Z(ne[0]):(Z(ne[p[de=32767+ae]]),Z(h[de]));for(var Fe=63;Fe>0&&w[Fe]==0;)Fe--;if(Fe==0)return Z(me),J;for(var et,De=1;De<=Fe;){for(var Ce=De;w[De]==0&&De<=Fe;)++De;var Ge=De-Ce;if(Ge>=16){et=Ge>>4;for(var nt=1;nt<=et;++nt)Z(xe);Ge&=15}de=32767+w[De],Z(ie[(Ge<<4)+p[de]]),Z(h[de]),De++}return Fe!=63&&Z(me),J}function ue(j){j=Math.min(Math.max(j,1),100),a!=j&&(function(W){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var ie=i((J[ne]*W+50)/100);ie=Math.min(Math.max(ie,1),255),o[S[ne]]=ie}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var xe=i((de[me]*W+50)/100);xe=Math.min(Math.max(xe,1),255),l[S[me]]=xe}for(var Se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,ae=0;ae<8;ae++)for(var Fe=0;Fe<8;Fe++)A[ge]=1/(o[S[ge]]*Se[ae]*Se[Fe]*8),d[ge]=1/(l[S[ge]]*Se[ae]*Se[Fe]*8),ge++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),a=j)}this.encode=function(j,W){W&&ue(W),b=new Array,E=0,T=7,q(65496),q(65504),q(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),q(1),q(1),re(0),re(0),function(){q(65499),q(132),re(0);for(var At=0;At<64;At++)re(o[At]);re(1);for(var kt=0;kt<64;kt++)re(l[kt])}(),function(At,kt){q(65472),q(17),re(8),q(kt),q(At),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)}(j.width,j.height),function(){q(65476),q(418),re(0);for(var At=0;At<16;At++)re(N[At+1]);for(var kt=0;kt<=11;kt++)re(B[kt]);re(16);for(var Ft=0;Ft<16;Ft++)re(H[Ft+1]);for(var Wt=0;Wt<=161;Wt++)re(P[Wt]);re(1);for(var Mt=0;Mt<16;Mt++)re(M[Mt+1]);for(var Vt=0;Vt<=11;Vt++)re(V[Vt]);re(17);for(var Jt=0;Jt<16;Jt++)re(G[Jt+1]);for(var Pt=0;Pt<=161;Pt++)re(oe[Pt])}(),q(65498),q(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var J=0,ne=0,ie=0;E=0,T=7,this.encode.displayName="_encode_";for(var de,me,xe,Se,ge,ae,Fe,et,De,Ce=j.data,Ge=j.width,nt=j.height,it=4*Ge,dt=0;dt<nt;){for(de=0;de<it;){for(ge=it*dt+de,Fe=-1,et=0,De=0;De<64;De++)ae=ge+(et=De>>3)*it+(Fe=4*(7&De)),dt+et>=nt&&(ae-=it*(dt+1+et-nt)),de+Fe>=it&&(ae-=de+Fe-it+4),me=Ce[ae++],xe=Ce[ae++],Se=Ce[ae++],I[De]=(L[me]+L[xe+256>>0]+L[Se+512>>0]>>16)-128,k[De]=(L[me+768>>0]+L[xe+1024>>0]+L[Se+1280>>0]>>16)-128,F[De]=(L[me+1280>>0]+L[xe+1536>>0]+L[Se+1792>>0]>>16)-128;J=X(I,A,J,e,r),ne=X(k,d,ne,n,s),ie=X(F,d,ie,n,s),de+=32}dt+=8}if(T>=0){var Ct=[];Ct[1]=T+1,Ct[0]=(1<<T+1)-1,Z(Ct)}return q(65497),new Uint8Array(b)},t=t||50,function(){for(var j=String.fromCharCode,W=0;W<256;W++)R[W]=j(W)}(),e=K(N,B),n=K(M,V),r=K(H,P),s=K(G,oe),function(){for(var j=1,W=2,J=1;J<=15;J++){for(var ne=j;ne<W;ne++)p[32767+ne]=J,h[32767+ne]=[],h[32767+ne][1]=J,h[32767+ne][0]=ne;for(var ie=-(W-1);ie<=-j;ie++)p[32767+ie]=J,h[32767+ie]=[],h[32767+ie][1]=J,h[32767+ie][0]=W-1+ie;j<<=1,W<<=1}}(),function(){for(var j=0;j<256;j++)L[j]=19595*j,L[j+256>>0]=38470*j,L[j+512>>0]=7471*j+32768,L[j+768>>0]=-11059*j,L[j+1024>>0]=-21709*j,L[j+1280>>0]=32768*j+8421375,L[j+1536>>0]=-27439*j,L[j+1792>>0]=-5329*j}(),ue(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ic(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function BI(t){function e(N){if(!N)throw Error("assert :P")}function n(N,B,H){for(var P=0;4>P;P++)if(N[B+P]!=H.charCodeAt(P))return!0;return!1}function r(N,B,H,P,M){for(var V=0;V<M;V++)N[B+V]=H[P+V]}function s(N,B,H,P){for(var M=0;M<P;M++)N[B+M]=H}function a(N){return new Int32Array(N)}function i(N,B){for(var H=[],P=0;P<N;P++)H.push(new B);return H}function o(N,B){var H=[];return function P(M,V,G){for(var oe=G[V],K=0;K<oe&&(M.push(G.length>V+1?[]:new B),!(G.length<V+1));K++)P(M[K],V+1,G)}(H,0,N),H}var l=function(){var N=this;function B(C,U){for(var z=1<<U-1>>>0;C&z;)z>>>=1;return z?(C&z-1)+z:C}function H(C,U,z,te,ce){e(!(te%z));do C[U+(te-=z)]=ce;while(0<te)}function P(C,U,z,te,ce){if(e(2328>=ce),512>=ce)var he=a(512);else if((he=a(ce))==null)return 0;return function(pe,ve,be,Be,Le,Ye){var qe,Ve,gt=ve,at=1<<be,Me=a(16),je=a(16);for(e(Le!=0),e(Be!=null),e(pe!=null),e(0<be),Ve=0;Ve<Le;++Ve){if(15<Be[Ve])return 0;++Me[Be[Ve]]}if(Me[0]==Le)return 0;for(je[1]=0,qe=1;15>qe;++qe){if(Me[qe]>1<<qe)return 0;je[qe+1]=je[qe]+Me[qe]}for(Ve=0;Ve<Le;++Ve)qe=Be[Ve],0<Be[Ve]&&(Ye[je[qe]++]=Ve);if(je[15]==1)return(Be=new M).g=0,Be.value=Ye[0],H(pe,gt,1,at,Be),at;var ct,vt=-1,ht=at-1,Gt=0,Lt=1,nn=1,Qt=1<<be;for(Ve=0,qe=1,Le=2;qe<=be;++qe,Le<<=1){if(Lt+=nn<<=1,0>(nn-=Me[qe]))return 0;for(;0<Me[qe];--Me[qe])(Be=new M).g=qe,Be.value=Ye[Ve++],H(pe,gt+Gt,Le,Qt,Be),Gt=B(Gt,qe)}for(qe=be+1,Le=2;15>=qe;++qe,Le<<=1){if(Lt+=nn<<=1,0>(nn-=Me[qe]))return 0;for(;0<Me[qe];--Me[qe]){if(Be=new M,(Gt&ht)!=vt){for(gt+=Qt,ct=1<<(vt=qe)-be;15>vt&&!(0>=(ct-=Me[vt]));)++vt,ct<<=1;at+=Qt=1<<(ct=vt-be),pe[ve+(vt=Gt&ht)].g=ct+be,pe[ve+vt].value=gt-ve-vt}Be.g=qe-be,Be.value=Ye[Ve++],H(pe,gt+(Gt>>be),Le,Qt,Be),Gt=B(Gt,qe)}}return Lt!=2*je[15]-1?0:at}(C,U,z,te,ce,he)}function M(){this.value=this.g=0}function V(){this.value=this.g=0}function G(){this.G=i(5,M),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Ps,V)}function oe(C,U,z,te){e(C!=null),e(U!=null),e(2147483648>te),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=U,C.pa=z,C.Jd=U,C.Yc=z+te,C.Zc=4<=te?z+te-4+1:z,de(C)}function K(C,U){for(var z=0;0<U--;)z|=xe(C,128)<<U;return z}function Z(C,U){var z=K(C,U);return me(C)?-z:z}function re(C,U,z,te){var ce,he=0;for(e(C!=null),e(U!=null),e(4294967288>te),C.Sb=te,C.Ra=0,C.u=0,C.h=0,4<te&&(te=4),ce=0;ce<te;++ce)he+=U[z+ce]<<8*ce;C.Ra=he,C.bb=te,C.oa=U,C.pa=z}function q(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<UA-8>>>0,++C.bb,C.u-=8;J(C)&&(C.h=1,C.u=0)}function X(C,U){if(e(0<=U),!C.h&&U<=DA){var z=W(C)&Dc[U];return C.u+=U,q(C),z}return C.h=1,C.u=0}function ue(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(C){return C.Ra>>>(C.u&UA-1)>>>0}function J(C){return e(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>UA}function ne(C,U){C.u=U,C.h=J(C)}function ie(C){C.u>=Lu&&(e(C.u>=Lu),q(C))}function de(C){e(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(e(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function me(C){return K(C,1)}function xe(C,U){var z=C.Ca;0>C.b&&de(C);var te=C.b,ce=z*U>>>8,he=(C.I>>>te>ce)+0;for(he?(z-=ce,C.I-=ce+1<<te>>>0):z=ce+1,te=z,ce=0;256<=te;)ce+=8,te>>=8;return te=7^ce+di[te],C.b-=te,C.Ca=(z<<te)-1,he}function Se(C,U,z){C[U+0]=z>>24&255,C[U+1]=z>>16&255,C[U+2]=z>>8&255,C[U+3]=z>>0&255}function ge(C,U){return C[U+0]<<0|C[U+1]<<8}function ae(C,U){return ge(C,U)|C[U+2]<<16}function Fe(C,U){return ge(C,U)|ge(C,U+2)<<16}function et(C,U){var z=1<<U;return e(C!=null),e(0<U),C.X=a(z),C.X==null?0:(C.Mb=32-U,C.Xa=U,1)}function De(C,U){e(C!=null),e(U!=null),e(C.Xa==U.Xa),r(U.X,0,C.X,0,1<<U.Xa)}function Ce(){this.X=[],this.Xa=this.Mb=0}function Ge(C,U,z,te){e(z!=null),e(te!=null);var ce=z[0],he=te[0];return ce==0&&(ce=(C*he+U/2)/U),he==0&&(he=(U*ce+C/2)/C),0>=ce||0>=he?0:(z[0]=ce,te[0]=he,1)}function nt(C,U){return C+(1<<U)-1>>>U}function it(C,U){return((4278255360&C)+(4278255360&U)>>>0&4278255360)+((16711935&C)+(16711935&U)>>>0&16711935)>>>0}function dt(C,U){N[U]=function(z,te,ce,he,pe,ve,be){var Be;for(Be=0;Be<pe;++Be){var Le=N[C](ve[be+Be-1],ce,he+Be);ve[be+Be]=it(z[te+Be],Le)}}}function Ct(){this.ud=this.hd=this.jd=0}function At(C,U){return((4278124286&(C^U))>>>1)+(C&U)>>>0}function kt(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function Ft(C,U){return kt(C+(C-U+.5>>1))}function Wt(C,U,z){return Math.abs(U-z)-Math.abs(C-z)}function Mt(C,U,z,te,ce,he,pe){for(te=he[pe-1],z=0;z<ce;++z)he[pe+z]=te=it(C[U+z],te)}function Vt(C,U,z,te,ce){var he;for(he=0;he<z;++he){var pe=C[U+he],ve=pe>>8&255,be=16711935&(be=(be=16711935&pe)+((ve<<16)+ve));te[ce+he]=(4278255360&pe)+be>>>0}}function Jt(C,U){U.jd=C>>0&255,U.hd=C>>8&255,U.ud=C>>16&255}function Pt(C,U,z,te,ce,he){var pe;for(pe=0;pe<te;++pe){var ve=U[z+pe],be=ve>>>8,Be=ve,Le=255&(Le=(Le=ve>>>16)+((C.jd<<24>>24)*(be<<24>>24)>>>5));Be=255&(Be=(Be=Be+((C.hd<<24>>24)*(be<<24>>24)>>>5))+((C.ud<<24>>24)*(Le<<24>>24)>>>5)),ce[he+pe]=(4278255360&ve)+(Le<<16)+Be}}function It(C,U,z,te,ce){N[U]=function(he,pe,ve,be,Be,Le,Ye,qe,Ve){for(be=Ye;be<qe;++be)for(Ye=0;Ye<Ve;++Ye)Be[Le++]=ce(ve[te(he[pe++])])},N[C]=function(he,pe,ve,be,Be,Le,Ye){var qe=8>>he.b,Ve=he.Ea,gt=he.K[0],at=he.w;if(8>qe)for(he=(1<<he.b)-1,at=(1<<qe)-1;pe<ve;++pe){var Me,je=0;for(Me=0;Me<Ve;++Me)Me&he||(je=te(be[Be++])),Le[Ye++]=ce(gt[je&at]),je>>=qe}else N["VP8LMapColor"+z](be,Be,gt,at,Le,Ye,pe,ve,Ve)}}function xt(C,U,z,te,ce){for(z=U+z;U<z;){var he=C[U++];te[ce++]=he>>16&255,te[ce++]=he>>8&255,te[ce++]=he>>0&255}}function xn(C,U,z,te,ce){for(z=U+z;U<z;){var he=C[U++];te[ce++]=he>>16&255,te[ce++]=he>>8&255,te[ce++]=he>>0&255,te[ce++]=he>>24&255}}function $t(C,U,z,te,ce){for(z=U+z;U<z;){var he=(pe=C[U++])>>16&240|pe>>12&15,pe=pe>>0&240|pe>>28&15;te[ce++]=he,te[ce++]=pe}}function ir(C,U,z,te,ce){for(z=U+z;U<z;){var he=(pe=C[U++])>>16&248|pe>>13&7,pe=pe>>5&224|pe>>3&31;te[ce++]=he,te[ce++]=pe}}function mn(C,U,z,te,ce){for(z=U+z;U<z;){var he=C[U++];te[ce++]=he>>0&255,te[ce++]=he>>8&255,te[ce++]=he>>16&255}}function Fn(C,U,z,te,ce,he){if(he==0)for(z=U+z;U<z;)Se(te,((he=C[U++])[0]>>24|he[1]>>8&65280|he[2]<<8&16711680|he[3]<<24)>>>0),ce+=32;else r(te,ce,C,U,z)}function Er(C,U){N[U][0]=N[C+"0"],N[U][1]=N[C+"1"],N[U][2]=N[C+"2"],N[U][3]=N[C+"3"],N[U][4]=N[C+"4"],N[U][5]=N[C+"5"],N[U][6]=N[C+"6"],N[U][7]=N[C+"7"],N[U][8]=N[C+"8"],N[U][9]=N[C+"9"],N[U][10]=N[C+"10"],N[U][11]=N[C+"11"],N[U][12]=N[C+"12"],N[U][13]=N[C+"13"],N[U][14]=N[C+"0"],N[U][15]=N[C+"0"]}function Bn(C){return C==ff||C==Gc||C==ql||C==Ou}function ta(){this.eb=[],this.size=this.A=this.fb=0}function Xn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ta,this.f.kb=new Xn,this.sd=null}function ls(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function tn(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function On(C,U){var z=C.T,te=U.ba.f.RGBA,ce=te.eb,he=te.fb+C.ka*te.A,pe=oa[U.ba.S],ve=C.y,be=C.O,Be=C.f,Le=C.N,Ye=C.ea,qe=C.W,Ve=U.cc,gt=U.dc,at=U.Mc,Me=U.Nc,je=C.ka,ct=C.ka+C.T,vt=C.U,ht=vt+1>>1;for(je==0?pe(ve,be,null,null,Be,Le,Ye,qe,Be,Le,Ye,qe,ce,he,null,null,vt):(pe(U.ec,U.fc,ve,be,Ve,gt,at,Me,Be,Le,Ye,qe,ce,he-te.A,ce,he,vt),++z);je+2<ct;je+=2)Ve=Be,gt=Le,at=Ye,Me=qe,Le+=C.Rc,qe+=C.Rc,he+=2*te.A,pe(ve,(be+=2*C.fa)-C.fa,ve,be,Ve,gt,at,Me,Be,Le,Ye,qe,ce,he-te.A,ce,he,vt);return be+=C.fa,C.j+ct<C.o?(r(U.ec,U.fc,ve,be,vt),r(U.cc,U.dc,Be,Le,ht),r(U.Mc,U.Nc,Ye,qe,ht),z--):1&ct||pe(ve,be,null,null,Be,Le,Ye,qe,Be,Le,Ye,qe,ce,he+te.A,null,null,vt),z}function na(C,U,z){var te=C.F,ce=[C.J];if(te!=null){var he=C.U,pe=U.ba.S,ve=pe==OA||pe==ql;U=U.ba.f.RGBA;var be=[0],Be=C.ka;be[0]=C.T,C.Kb&&(Be==0?--be[0]:(--Be,ce[0]-=C.width),C.j+C.ka+C.T==C.o&&(be[0]=C.o-C.j-Be));var Le=U.eb;Be=U.fb+Be*U.A,C=Gn(te,ce[0],C.width,he,be,Le,Be+(ve?0:3),U.A),e(z==be),C&&Bn(pe)&&Oi(Le,Be,ve,he,be,U.A)}return 0}function Or(C){var U=C.ma,z=U.ba.S,te=11>z,ce=z==ju||z==df||z==OA||z==Kl||z==12||Bn(z);if(U.memory=null,U.Ib=null,U.Jb=null,U.Nd=null,!Rc(U.Oa,C,ce?11:12))return 0;if(ce&&Bn(z)&&_t(),C.da)alert("todo:use_scaling");else{if(te){if(U.Ib=tn,C.Kb){if(z=C.U+1>>1,U.memory=a(C.U+2*z),U.memory==null)return 0;U.ec=U.memory,U.fc=0,U.cc=U.ec,U.dc=U.fc+C.U,U.Mc=U.cc,U.Nc=U.dc+z,U.Ib=On,_t()}}else alert("todo:EmitYUV");ce&&(U.Jb=na,te&&He())}if(te&&!Hx){for(C=0;256>C;++C)Fw[C]=89858*(C-128)+Os>>dl,pf[C]=-22014*(C-128)+Os,Gm[C]=-45773*(C-128),Qs[C]=113618*(C-128)+Os>>dl;for(C=qc;C<Ph;++C)U=76283*(C-16)+Os>>dl,gf[C-qc]=xr(U,255),zm[C-qc]=xr(U+8>>4,15);Hx=1}return 1}function hs(C){var U=C.ma,z=C.U,te=C.T;return e(!(1&C.ka)),0>=z||0>=te?0:(z=U.Ib(C,U),U.Jb!=null&&U.Jb(C,U,z),U.Dc+=z,1)}function ga(C){C.ma.memory=null}function Ht(C,U,z,te){return X(C,8)!=47?0:(U[0]=X(C,14)+1,z[0]=X(C,14)+1,te[0]=X(C,1),X(C,3)!=0?0:!C.h)}function or(C,U){if(4>C)return C+1;var z=C-2>>1;return(2+(1&C)<<z)+X(U,z)+1}function Zn(C,U){return 120<U?U-120:1<=(z=((z=$l[U-1])>>4)*C+(8-(15&z)))?z:1;var z}function _r(C,U,z){var te=W(z),ce=C[U+=255&te].g-8;return 0<ce&&(ne(z,z.u+8),te=W(z),U+=C[U].value,U+=te&(1<<ce)-1),ne(z,z.u+C[U].g),C[U].value}function kr(C,U,z){return z.g+=C.g,z.value+=C.value<<U>>>0,e(8>=z.g),C.g}function Qr(C,U,z){var te=C.xc;return e((U=te==0?0:C.vc[C.md*(z>>te)+(U>>te)])<C.Wb),C.Ya[U]}function fe(C,U,z,te){var ce=C.ab,he=C.c*U,pe=C.C;U=pe+U;var ve=z,be=te;for(te=C.Ta,z=C.Ua;0<ce--;){var Be=C.gc[ce],Le=pe,Ye=U,qe=ve,Ve=be,gt=(be=te,ve=z,Be.Ea);switch(e(Le<Ye),e(Ye<=Be.nc),Be.hc){case 2:Ih(qe,Ve,(Ye-Le)*gt,be,ve);break;case 0:var at=Le,Me=Ye,je=be,ct=ve,vt=(Qt=Be).Ea;at==0&&(Hm(qe,Ve,null,null,1,je,ct),Mt(qe,Ve+1,0,0,vt-1,je,ct+1),Ve+=vt,ct+=vt,++at);for(var ht=1<<Qt.b,Gt=ht-1,Lt=nt(vt,Qt.b),nn=Qt.K,Qt=Qt.w+(at>>Qt.b)*Lt;at<Me;){var Ar=nn,vr=Qt,Hn=1;for(Af(qe,Ve,je,ct-vt,1,je,ct);Hn<vt;){var Mn=(Hn&~Gt)+ht;Mn>vt&&(Mn=vt),(0,Vl[Ar[vr++]>>8&15])(qe,Ve+ +Hn,je,ct+Hn-vt,Mn-Hn,je,ct+Hn),Hn=Mn}Ve+=vt,ct+=vt,++at&Gt||(Qt+=Lt)}Ye!=Be.nc&&r(be,ve-gt,be,ve+(Ye-Le-1)*gt,gt);break;case 1:for(gt=qe,Me=Ve,vt=(qe=Be.Ea)-(ct=qe&~(je=(Ve=1<<Be.b)-1)),at=nt(qe,Be.b),ht=Be.K,Be=Be.w+(Le>>Be.b)*at;Le<Ye;){for(Gt=ht,Lt=Be,nn=new Ct,Qt=Me+ct,Ar=Me+qe;Me<Qt;)Jt(Gt[Lt++],nn),Lc(nn,gt,Me,Ve,be,ve),Me+=Ve,ve+=Ve;Me<Ar&&(Jt(Gt[Lt++],nn),Lc(nn,gt,Me,vt,be,ve),Me+=vt,ve+=vt),++Le&je||(Be+=at)}break;case 3:if(qe==be&&Ve==ve&&0<Be.b){for(Me=be,qe=gt=ve+(Ye-Le)*gt-(ct=(Ye-Le)*nt(Be.Ea,Be.b)),Ve=be,je=ve,at=[],ct=(vt=ct)-1;0<=ct;--ct)at[ct]=Ve[je+ct];for(ct=vt-1;0<=ct;--ct)Me[qe+ct]=at[ct];no(Be,Le,Ye,be,gt,be,ve)}else no(Be,Le,Ye,qe,Ve,be,ve)}ve=te,be=z}be!=z&&r(te,z,ve,be,he)}function Ne(C,U){var z=C.V,te=C.Ba+C.c*C.C,ce=U-C.C;if(e(U<=C.l.o),e(16>=ce),0<ce){var he=C.l,pe=C.Ta,ve=C.Ua,be=he.width;if(fe(C,ce,z,te),ce=ve=[ve],e((z=C.C)<(te=U)),e(he.v<he.va),te>he.o&&(te=he.o),z<he.j){var Be=he.j-z;z=he.j,ce[0]+=Be*be}if(z>=te?z=0:(ce[0]+=4*he.v,he.ka=z-he.j,he.U=he.va-he.v,he.T=te-z,z=1),z){if(ve=ve[0],11>(z=C.ca).S){var Le=z.f.RGBA,Ye=(te=z.S,ce=he.U,he=he.T,Be=Le.eb,Le.A),qe=he;for(Le=Le.fb+C.Ma*Le.A;0<qe--;){var Ve=pe,gt=ve,at=ce,Me=Be,je=Le;switch(te){case Ra:Ka(Ve,gt,at,Me,je);break;case ju:ba(Ve,gt,at,Me,je);break;case ff:ba(Ve,gt,at,Me,je),Oi(Me,je,0,at,1,0);break;case ll:To(Ve,gt,at,Me,je);break;case df:Fn(Ve,gt,at,Me,je,1);break;case Gc:Fn(Ve,gt,at,Me,je,1),Oi(Me,je,0,at,1,0);break;case OA:Fn(Ve,gt,at,Me,je,0);break;case ql:Fn(Ve,gt,at,Me,je,0),Oi(Me,je,1,at,1,0);break;case Kl:Mc(Ve,gt,at,Me,je);break;case Ou:Mc(Ve,gt,at,Me,je),Vn(Me,je,at,1,0);break;case Rh:fi(Ve,gt,at,Me,je);break;default:e(0)}ve+=be,Le+=Ye}C.Ma+=he}else alert("todo:EmitRescaledRowsYUVA");e(C.Ma<=z.height)}}C.C=U,e(C.C<=C.i)}function Ee(C){var U;if(0<C.ua)return 0;for(U=0;U<C.Wb;++U){var z=C.Ya[U].G,te=C.Ya[U].H;if(0<z[1][te[1]+0].g||0<z[2][te[2]+0].g||0<z[3][te[3]+0].g)return 0}return 1}function _e(C,U,z,te,ce,he){if(C.Z!=0){var pe=C.qd,ve=C.rd;for(e(Al[C.Z]!=null);U<z;++U)Al[C.Z](pe,ve,te,ce,te,ce,he),pe=te,ve=ce,ce+=he;C.qd=pe,C.rd=ve}}function Te(C,U){var z=C.l.ma,te=z.Z==0||z.Z==1?C.l.j:C.C;if(te=C.C<te?te:C.C,e(U<=C.l.o),U>te){var ce=C.l.width,he=z.ca,pe=z.tb+ce*te,ve=C.V,be=C.Ba+C.c*te,Be=C.gc;e(C.ab==1),e(Be[0].hc==3),Uc(Be[0],te,U,ve,be,he,pe),_e(z,te,U,he,pe,ce)}C.C=C.Ma=U}function ke(C,U,z,te,ce,he,pe){var ve=C.$/te,be=C.$%te,Be=C.m,Le=C.s,Ye=z+C.$,qe=Ye;ce=z+te*ce;var Ve=z+te*he,gt=280+Le.ua,at=C.Pb?ve:16777216,Me=0<Le.ua?Le.Wa:null,je=Le.wc,ct=Ye<Ve?Qr(Le,be,ve):null;e(C.C<he),e(Ve<=ce);var vt=!1;e:for(;;){for(;vt||Ye<Ve;){var ht=0;if(ve>=at){var Gt=Ye-z;e((at=C).Pb),at.wd=at.m,at.xd=Gt,0<at.s.ua&&De(at.s.Wa,at.s.vb),at=ve+jx}if(be&je||(ct=Qr(Le,be,ve)),e(ct!=null),ct.Qb&&(U[Ye]=ct.qb,vt=!0),!vt)if(ie(Be),ct.jc){ht=Be,Gt=U;var Lt=Ye,nn=ct.pd[W(ht)&Ps-1];e(ct.jc),256>nn.g?(ne(ht,ht.u+nn.g),Gt[Lt]=nn.value,ht=0):(ne(ht,ht.u+nn.g-256),e(256<=nn.value),ht=nn.value),ht==0&&(vt=!0)}else ht=_r(ct.G[0],ct.H[0],Be);if(Be.h)break;if(vt||256>ht){if(!vt)if(ct.nd)U[Ye]=(ct.qb|ht<<8)>>>0;else{if(ie(Be),vt=_r(ct.G[1],ct.H[1],Be),ie(Be),Gt=_r(ct.G[2],ct.H[2],Be),Lt=_r(ct.G[3],ct.H[3],Be),Be.h)break;U[Ye]=(Lt<<24|vt<<16|ht<<8|Gt)>>>0}if(vt=!1,++Ye,++be>=te&&(be=0,++ve,pe!=null&&ve<=he&&!(ve%16)&&pe(C,ve),Me!=null))for(;qe<Ye;)ht=U[qe++],Me.X[(506832829*ht&4294967295)>>>Me.Mb]=ht}else if(280>ht){if(ht=or(ht-256,Be),Gt=_r(ct.G[4],ct.H[4],Be),ie(Be),Gt=Zn(te,Gt=or(Gt,Be)),Be.h)break;if(Ye-z<Gt||ce-Ye<ht)break e;for(Lt=0;Lt<ht;++Lt)U[Ye+Lt]=U[Ye+Lt-Gt];for(Ye+=ht,be+=ht;be>=te;)be-=te,++ve,pe!=null&&ve<=he&&!(ve%16)&&pe(C,ve);if(e(Ye<=ce),be&je&&(ct=Qr(Le,be,ve)),Me!=null)for(;qe<Ye;)ht=U[qe++],Me.X[(506832829*ht&4294967295)>>>Me.Mb]=ht}else{if(!(ht<gt))break e;for(vt=ht-280,e(Me!=null);qe<Ye;)ht=U[qe++],Me.X[(506832829*ht&4294967295)>>>Me.Mb]=ht;ht=Ye,e(!(vt>>>(Gt=Me).Xa)),U[ht]=Gt.X[vt],vt=!0}vt||e(Be.h==J(Be))}if(C.Pb&&Be.h&&Ye<ce)e(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&De(C.s.vb,C.s.Wa);else{if(Be.h)break e;pe!=null&&pe(C,ve>he?he:ve),C.a=0,C.$=Ye-z}return 1}return C.a=3,0}function Ke(C){e(C!=null),C.vc=null,C.yc=null,C.Ya=null;var U=C.Wa;U!=null&&(U.X=null),C.vb=null,e(C!=null)}function tt(){var C=new Du;return C==null?null:(C.a=0,C.xb=Qu,Er("Predictor","VP8LPredictors"),Er("Predictor","VP8LPredictors_C"),Er("PredictorAdd","VP8LPredictorsAdd"),Er("PredictorAdd","VP8LPredictorsAdd_C"),Ih=Vt,Lc=Pt,Ka=xt,ba=xn,Mc=$t,fi=ir,To=mn,N.VP8LMapColor32b=aa,N.VP8LMapColor8b=uf,C)}function Qe(C,U,z,te,ce){var he=1,pe=[C],ve=[U],be=te.m,Be=te.s,Le=null,Ye=0;e:for(;;){if(z)for(;he&&X(be,1);){var qe=pe,Ve=ve,gt=te,at=1,Me=gt.m,je=gt.gc[gt.ab],ct=X(Me,2);if(gt.Oc&1<<ct)he=0;else{switch(gt.Oc|=1<<ct,je.hc=ct,je.Ea=qe[0],je.nc=Ve[0],je.K=[null],++gt.ab,e(4>=gt.ab),ct){case 0:case 1:je.b=X(Me,3)+2,at=Qe(nt(je.Ea,je.b),nt(je.nc,je.b),0,gt,je.K),je.K=je.K[0];break;case 3:var vt,ht=X(Me,8)+1,Gt=16<ht?0:4<ht?1:2<ht?2:3;if(qe[0]=nt(je.Ea,Gt),je.b=Gt,vt=at=Qe(ht,1,0,gt,je.K)){var Lt,nn=ht,Qt=je,Ar=1<<(8>>Qt.b),vr=a(Ar);if(vr==null)vt=0;else{var Hn=Qt.K[0],Mn=Qt.w;for(vr[0]=Qt.K[0][0],Lt=1;Lt<1*nn;++Lt)vr[Lt]=it(Hn[Mn+Lt],vr[Lt-1]);for(;Lt<4*Ar;++Lt)vr[Lt]=0;Qt.K[0]=null,Qt.K[0]=vr,vt=1}}at=vt;break;case 2:break;default:e(0)}he=at}}if(pe=pe[0],ve=ve[0],he&&X(be,1)&&!(he=1<=(Ye=X(be,4))&&11>=Ye)){te.a=3;break e}var Tr;if(Tr=he)t:{var yr,Tn,Fr,un=te,vn=pe,cr=ve,ur=Ye,la=z,Hs=un.m,gs=un.s,xs=[null],Ns=1,io=0,wr=HA[ur];n:for(;;){if(la&&X(Hs,1)){var ks=X(Hs,3)+2,ko=nt(vn,ks),Wc=nt(cr,ks),zA=ko*Wc;if(!Qe(ko,Wc,0,un,xs))break n;for(xs=xs[0],gs.xc=ks,yr=0;yr<zA;++yr){var $c=xs[yr]>>8&65535;xs[yr]=$c,$c>=Ns&&(Ns=$c+1)}}if(Hs.h)break n;for(Tn=0;5>Tn;++Tn){var Jr=Qi[Tn];!Tn&&0<ur&&(Jr+=1<<ur),io<Jr&&(io=Jr)}var xf=i(Ns*wr,M),jh=Ns,Wa=i(jh,G);if(Wa==null)var ts=null;else e(65536>=jh),ts=Wa;var KA=a(io);if(ts==null||KA==null||xf==null){un.a=1;break n}var Yc=xf;for(yr=Fr=0;yr<Ns;++yr){var mi=ts[yr],Jc=mi.G,pi=mi.H,vf=0,Vu=1,Oh=0;for(Tn=0;5>Tn;++Tn){Jr=Qi[Tn],Jc[Tn]=Yc,pi[Tn]=Fr,!Tn&&0<ur&&(Jr+=1<<ur);s:{var yf,Qh=Jr,wf=un,Gu=KA,zx=Yc,Kx=Fr,bf=0,Zl=wf.m,Dw=X(Zl,1);if(s(Gu,0,0,Qh),Dw){var qx=X(Zl,1)+1,Wx=X(Zl,1),Km=X(Zl,Wx==0?1:8);Gu[Km]=1,qx==2&&(Gu[Km=X(Zl,8)]=1);var zu=1}else{var qm=a(19),Wm=X(Zl,4)+4;if(19<Wm){wf.a=3;var Cf=0;break s}for(yf=0;yf<Wm;++yf)qm[Wl[yf]]=X(Zl,3);var Hh=void 0,Ku=void 0,$x=wf,Yx=qm,ec=Qh,Ef=Gu,Vh=0,Io=$x.m,qu=8,$m=i(128,M);r:for(;P($m,0,7,Yx,19);){if(X(Io,1)){var Jx=2+2*X(Io,3);if((Hh=2+X(Io,Jx))>ec)break r}else Hh=ec;for(Ku=0;Ku<ec&&Hh--;){ie(Io);var Ym=$m[0+(127&W(Io))];ne(Io,Io.u+Ym.g);var qA=Ym.value;if(16>qA)Ef[Ku++]=qA,qA!=0&&(qu=qA);else{var Xx=qA==16,Jm=qA-16,Xm=ao[Jm],Zm=X(Io,Dh[Jm])+Xm;if(Ku+Zm>ec)break r;for(var Zx=Xx?qu:0;0<Zm--;)Ef[Ku++]=Zx}}Vh=1;break r}Vh||($x.a=3),zu=Vh}(zu=zu&&!Zl.h)&&(bf=P(zx,Kx,8,Gu,Qh)),zu&&bf!=0?Cf=bf:(wf.a=3,Cf=0)}if(Cf==0)break n;if(Vu&&QA[Tn]==1&&(Vu=Yc[Fr].g==0),vf+=Yc[Fr].g,Fr+=Cf,3>=Tn){var WA,Gh=KA[0];for(WA=1;WA<Jr;++WA)KA[WA]>Gh&&(Gh=KA[WA]);Oh+=Gh}}if(mi.nd=Vu,mi.Qb=0,Vu&&(mi.qb=(Jc[3][pi[3]+0].value<<24|Jc[1][pi[1]+0].value<<16|Jc[2][pi[2]+0].value)>>>0,vf==0&&256>Jc[0][pi[0]+0].value&&(mi.Qb=1,mi.qb+=Jc[0][pi[0]+0].value<<8)),mi.jc=!mi.Qb&&6>Oh,mi.jc){var _f,tc=mi;for(_f=0;_f<Ps;++_f){var fl=_f,nc=tc.pd[fl],Sf=tc.G[0][tc.H[0]+fl];256<=Sf.value?(nc.g=Sf.g+256,nc.value=Sf.value):(nc.g=0,nc.value=0,fl>>=kr(Sf,8,nc),fl>>=kr(tc.G[1][tc.H[1]+fl],16,nc),fl>>=kr(tc.G[2][tc.H[2]+fl],0,nc),kr(tc.G[3][tc.H[3]+fl],24,nc))}}}gs.vc=xs,gs.Wb=Ns,gs.Ya=ts,gs.yc=xf,Tr=1;break t}Tr=0}if(!(he=Tr)){te.a=3;break e}if(0<Ye){if(Be.ua=1<<Ye,!et(Be.Wa,Ye)){te.a=1,he=0;break e}}else Be.ua=0;var Tf=te,ep=pe,e1=ve,tp=Tf.s,np=tp.xc;if(Tf.c=ep,Tf.i=e1,tp.md=nt(ep,np),tp.wc=np==0?-1:(1<<np)-1,z){te.xb=Qx;break e}if((Le=a(pe*ve))==null){te.a=1,he=0;break e}he=(he=ke(te,Le,0,pe,ve,ve,null))&&!be.h;break e}return he?(ce!=null?ce[0]=Le:(e(Le==null),e(z)),te.$=0,z||Ke(Be)):Ke(Be),he}function We(C,U){var z=C.c*C.i,te=z+U+16*U;return e(C.c<=U),C.V=a(te),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+z+U,1)}function Je(C,U){var z=C.C,te=U-z,ce=C.V,he=C.Ba+C.c*z;for(e(U<=C.l.o);0<te;){var pe=16<te?16:te,ve=C.l.ma,be=C.l.width,Be=be*pe,Le=ve.ca,Ye=ve.tb+be*z,qe=C.Ta,Ve=C.Ua;fe(C,pe,ce,he),Vr(qe,Ve,Le,Ye,Be),_e(ve,z,z+pe,Le,Ye,be),te-=pe,ce+=pe*C.c,z+=pe}e(z==U),C.C=C.Ma=U}function yt(){this.ub=this.yd=this.td=this.Rb=0}function Nt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function jt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Tt(){this.Yb=function(){var C=[];return function U(z,te,ce){for(var he=ce[te],pe=0;pe<he&&(z.push(ce.length>te+1?[]:0),!(ce.length<te+1));pe++)U(z[pe],te+1,ce)}(C,0,[3,11]),C}()}function Rt(){this.jb=a(3),this.Wc=o([4,8],Tt),this.Xc=o([4,17],Tt)}function An(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Un(){this.ld=this.La=this.dd=this.tc=0}function Ln(){this.Na=this.la=0}function Qn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Es(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ii(){this.uc=this.M=this.Nb=0,this.wa=Array(new Un),this.Y=0,this.ya=Array(new Es),this.aa=0,this.l=new Ms}function _s(){this.y=a(16),this.f=a(8),this.ea=a(8)}function ra(){this.cb=this.a=0,this.sc="",this.m=new ue,this.Od=new yt,this.Kc=new Nt,this.ed=new An,this.Qa=new jt,this.Ic=this.$c=this.Aa=0,this.D=new ii,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,ue),this.ia=0,this.pb=i(4,Qn),this.Pa=new Rt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _s),this.Hd=0,this.rb=Array(new Ln),this.sb=0,this.wa=Array(new Un),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Es),this.L=this.aa=0,this.gd=o([4,2],Un),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ms(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xa(){var C=new ra;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,js||(js=ku)),C}function Hr(C,U,z){return C.a==0&&(C.a=U,C.sc=z,C.cb=0),0}function sa(C,U,z){return 3<=z&&C[U+0]==157&&C[U+1]==1&&C[U+2]==42}function Sc(C,U){if(C==null)return 0;if(C.a=0,C.sc="OK",U==null)return Hr(C,2,"null VP8Io passed to VP8GetHeaders()");var z=U.data,te=U.w,ce=U.ha;if(4>ce)return Hr(C,7,"Truncated header.");var he=z[te+0]|z[te+1]<<8|z[te+2]<<16,pe=C.Od;if(pe.Rb=!(1&he),pe.td=he>>1&7,pe.yd=he>>4&1,pe.ub=he>>5,3<pe.td)return Hr(C,3,"Incorrect keyframe parameters.");if(!pe.yd)return Hr(C,4,"Frame not displayable.");te+=3,ce-=3;var ve=C.Kc;if(pe.Rb){if(7>ce)return Hr(C,7,"cannot parse picture header");if(!sa(z,te,ce))return Hr(C,3,"Bad code word");ve.c=16383&(z[te+4]<<8|z[te+3]),ve.Td=z[te+4]>>6,ve.i=16383&(z[te+6]<<8|z[te+5]),ve.Ud=z[te+6]>>6,te+=7,ce-=7,C.za=ve.c+15>>4,C.Ub=ve.i+15>>4,U.width=ve.c,U.height=ve.i,U.Da=0,U.j=0,U.v=0,U.va=U.width,U.o=U.height,U.da=0,U.ib=U.width,U.hb=U.height,U.U=U.width,U.T=U.height,s((he=C.Pa).jb,0,255,he.jb.length),e((he=C.Qa)!=null),he.Cb=0,he.Bb=0,he.Fb=1,s(he.Zb,0,0,he.Zb.length),s(he.Lb,0,0,he.Lb)}if(pe.ub>ce)return Hr(C,7,"bad partition length");oe(he=C.m,z,te,pe.ub),te+=pe.ub,ce-=pe.ub,pe.Rb&&(ve.Ld=me(he),ve.Kd=me(he)),ve=C.Qa;var be,Be=C.Pa;if(e(he!=null),e(ve!=null),ve.Cb=me(he),ve.Cb){if(ve.Bb=me(he),me(he)){for(ve.Fb=me(he),be=0;4>be;++be)ve.Zb[be]=me(he)?Z(he,7):0;for(be=0;4>be;++be)ve.Lb[be]=me(he)?Z(he,6):0}if(ve.Bb)for(be=0;3>be;++be)Be.jb[be]=me(he)?K(he,8):255}else ve.Bb=0;if(he.Ka)return Hr(C,3,"cannot parse segment header");if((ve=C.ed).zd=me(he),ve.Tb=K(he,6),ve.wb=K(he,3),ve.Pc=me(he),ve.Pc&&me(he)){for(Be=0;4>Be;++Be)me(he)&&(ve.vd[Be]=Z(he,6));for(Be=0;4>Be;++Be)me(he)&&(ve.od[Be]=Z(he,6))}if(C.L=ve.Tb==0?0:ve.zd?1:2,he.Ka)return Hr(C,3,"cannot parse filter header");var Le=ce;if(ce=be=te,te=be+Le,ve=Le,C.Xb=(1<<K(C.m,2))-1,Le<3*(Be=C.Xb))z=7;else{for(be+=3*Be,ve-=3*Be,Le=0;Le<Be;++Le){var Ye=z[ce+0]|z[ce+1]<<8|z[ce+2]<<16;Ye>ve&&(Ye=ve),oe(C.Jc[+Le],z,be,Ye),be+=Ye,ve-=Ye,ce+=3}oe(C.Jc[+Be],z,be,ve),z=be<te?0:5}if(z!=0)return Hr(C,z,"cannot parse partitions");for(z=K(be=C.m,7),ce=me(be)?Z(be,4):0,te=me(be)?Z(be,4):0,ve=me(be)?Z(be,4):0,Be=me(be)?Z(be,4):0,be=me(be)?Z(be,4):0,Le=C.Qa,Ye=0;4>Ye;++Ye){if(Le.Cb){var qe=Le.Zb[Ye];Le.Fb||(qe+=z)}else{if(0<Ye){C.pb[Ye]=C.pb[0];continue}qe=z}var Ve=C.pb[Ye];Ve.Sc[0]=hf[xr(qe+ce,127)],Ve.Sc[1]=mf[xr(qe+0,127)],Ve.Eb[0]=2*hf[xr(qe+te,127)],Ve.Eb[1]=101581*mf[xr(qe+ve,127)]>>16,8>Ve.Eb[1]&&(Ve.Eb[1]=8),Ve.Qc[0]=hf[xr(qe+Be,117)],Ve.Qc[1]=mf[xr(qe+be,127)],Ve.lc=qe+be}if(!pe.Rb)return Hr(C,4,"Not a key frame.");for(me(he),pe=C.Pa,z=0;4>z;++z){for(ce=0;8>ce;++ce)for(te=0;3>te;++te)for(ve=0;11>ve;++ve)Be=xe(he,VA[z][ce][te][ve])?K(he,8):cl[z][ce][te][ve],pe.Wc[z][ce].Yb[te][ve]=Be;for(ce=0;17>ce;++ce)pe.Xc[z][ce]=pe.Wc[z][Ox[ce]]}return C.kc=me(he),C.kc&&(C.Bd=K(he,8)),C.cb=1}function ku(C,U,z,te,ce,he,pe){var ve=U[ce].Yb[z];for(z=0;16>ce;++ce){if(!xe(C,ve[z+0]))return ce;for(;!xe(C,ve[z+1]);)if(ve=U[++ce].Yb[0],z=0,ce==16)return 16;var be=U[ce+1].Yb;if(xe(C,ve[z+2])){var Be=C,Le=0;if(xe(Be,(qe=ve)[(Ye=z)+3]))if(xe(Be,qe[Ye+6])){for(ve=0,Ye=2*(Le=xe(Be,qe[Ye+8]))+(qe=xe(Be,qe[Ye+9+Le])),Le=0,qe=us[Ye];qe[ve];++ve)Le+=Le+xe(Be,qe[ve]);Le+=3+(8<<Ye)}else xe(Be,qe[Ye+7])?(Le=7+2*xe(Be,165),Le+=xe(Be,145)):Le=5+xe(Be,159);else Le=xe(Be,qe[Ye+4])?3+xe(Be,qe[Ye+5]):2;ve=be[2]}else Le=1,ve=be[1];be=pe+hr[ce],0>(Be=C).b&&de(Be);var Ye,qe=Be.b,Ve=(Ye=Be.Ca>>1)-(Be.I>>qe)>>31;--Be.b,Be.Ca+=Ve,Be.Ca|=1,Be.I-=(Ye+1&Ve)<<qe,he[be]=((Le^Ve)-Ve)*te[(0<ce)+0]}return 16}function Wo(C){var U=C.rb[C.sb-1];U.la=0,U.Na=0,s(C.zc,0,0,C.zc.length),C.ja=0}function TA(C,U){if(C==null)return 0;if(U==null)return Hr(C,2,"NULL VP8Io parameter in VP8Decode().");if(!C.cb&&!Sc(C,U))return 0;if(e(C.cb),U.ac==null||U.ac(U)){U.ob&&(C.L=0);var z=Xl[C.L];if(C.L==2?(C.yb=0,C.zb=0):(C.yb=U.v-z>>4,C.zb=U.j-z>>4,0>C.yb&&(C.yb=0),0>C.zb&&(C.zb=0)),C.Va=U.o+15+z>>4,C.Hb=U.va+15+z>>4,C.Hb>C.za&&(C.Hb=C.za),C.Va>C.Ub&&(C.Va=C.Ub),0<C.L){var te=C.ed;for(z=0;4>z;++z){var ce;if(C.Qa.Cb){var he=C.Qa.Lb[z];C.Qa.Fb||(he+=te.Tb)}else he=te.Tb;for(ce=0;1>=ce;++ce){var pe=C.gd[z][ce],ve=he;if(te.Pc&&(ve+=te.vd[0],ce&&(ve+=te.od[0])),0<(ve=0>ve?0:63<ve?63:ve)){var be=ve;0<te.wb&&(be=4<te.wb?be>>2:be>>1)>9-te.wb&&(be=9-te.wb),1>be&&(be=1),pe.dd=be,pe.tc=2*ve+be,pe.ld=40<=ve?2:15<=ve?1:0}else pe.tc=0;pe.La=ce}}}z=0}else Hr(C,6,"Frame setup failed"),z=C.a;if(z=z==0){if(z){C.$c=0,0<C.Aa||(C.Ic=Vx);e:{z=C.Ic,te=4*(be=C.za);var Be=32*be,Le=be+1,Ye=0<C.L?be*(0<C.Aa?2:1):0,qe=(C.Aa==2?2:1)*be;if((pe=te+832+(ce=3*(16*z+Xl[C.L])/2*Be)+(he=C.Fa!=null&&0<C.Fa.length?C.Kc.c*C.Kc.i:0))!=pe)z=0;else{if(pe>C.Vb){if(C.Vb=0,C.Ec=a(pe),C.Fc=0,C.Ec==null){z=Hr(C,1,"no memory during frame initialization.");break e}C.Vb=pe}pe=C.Ec,ve=C.Fc,C.Ac=pe,C.Bc=ve,ve+=te,C.Gd=i(Be,_s),C.Hd=0,C.rb=i(Le+1,Ln),C.sb=1,C.wa=Ye?i(Ye,Un):null,C.Y=0,C.D.Nb=0,C.D.wa=C.wa,C.D.Y=C.Y,0<C.Aa&&(C.D.Y+=be),e(!0),C.oc=pe,C.pc=ve,ve+=832,C.ya=i(qe,Es),C.aa=0,C.D.ya=C.ya,C.D.aa=C.aa,C.Aa==2&&(C.D.aa+=be),C.R=16*be,C.B=8*be,be=(Be=Xl[C.L])*C.R,Be=Be/2*C.B,C.sa=pe,C.ta=ve+be,C.qa=C.sa,C.ra=C.ta+16*z*C.R+Be,C.Ha=C.qa,C.Ia=C.ra+8*z*C.B+Be,C.$c=0,ve+=ce,C.mb=he?pe:null,C.nb=he?ve:null,e(ve+he<=C.Fc+C.Vb),Wo(C),s(C.Ac,C.Bc,0,te),z=1}}if(z){if(U.ka=0,U.y=C.sa,U.O=C.ta,U.f=C.qa,U.N=C.ra,U.ea=C.Ha,U.Vd=C.Ia,U.fa=C.R,U.Rc=C.B,U.F=null,U.J=0,!zl){for(z=-255;255>=z;++z)ps[255+z]=0>z?-z:z;for(z=-1020;1020>=z;++z)ro[1020+z]=-128>z?-128:127<z?127:z;for(z=-112;112>=z;++z)Hc[112+z]=-16>z?-16:15<z?15:z;for(z=-255;510>=z;++z)Vc[255+z]=0>z?0:255<z?255:z;zl=1}il=oi,Bo=Yo,No=Wi,Bs=gr,hi=Jo,cs=$o,LA=tl,ol=_o,Mu=kc,Pc=FA,jc=Nc,Oc=Pl,MA=jl,Pu=nl,Qc=ji,Gl=Ia,PA=Ts,As=Ru,qa[0]=Na,qa[1]=Iu,qa[2]=Ji,qa[3]=Fu,qa[4]=li,qa[5]=Xi,qa[6]=za,qa[7]=ci,qa[8]=Eo,qa[9]=Xo,Yl[0]=$i,Yl[1]=NA,Yl[2]=wo,Yl[3]=Bc,Yl[4]=Ir,Yl[5]=Co,Yl[6]=Yi,Hi[0]=Zi,Hi[1]=BA,Hi[2]=kA,Hi[3]=Ai,Hi[4]=qn,Hi[5]=Ss,Hi[6]=Zo,z=1}else z=0}z&&(z=function(Ve,gt){for(Ve.M=0;Ve.M<Ve.Va;++Ve.M){var at,Me=Ve.Jc[Ve.M&Ve.Xb],je=Ve.m,ct=Ve;for(at=0;at<ct.za;++at){var vt=je,ht=ct,Gt=ht.Ac,Lt=ht.Bc+4*at,nn=ht.zc,Qt=ht.ya[ht.aa+at];if(ht.Qa.Bb?Qt.$b=xe(vt,ht.Pa.jb[0])?2+xe(vt,ht.Pa.jb[2]):xe(vt,ht.Pa.jb[1]):Qt.$b=0,ht.kc&&(Qt.Ad=xe(vt,ht.Bd)),Qt.Za=!xe(vt,145)+0,Qt.Za){var Ar=Qt.Ob,vr=0;for(ht=0;4>ht;++ht){var Hn,Mn=nn[0+ht];for(Hn=0;4>Hn;++Hn){Mn=Vm[Gt[Lt+Hn]][Mn];for(var Tr=zc[xe(vt,Mn[0])];0<Tr;)Tr=zc[2*Tr+xe(vt,Mn[Tr])];Mn=-Tr,Gt[Lt+Hn]=Mn}r(Ar,vr,Gt,Lt,4),vr+=4,nn[0+ht]=Mn}}else Mn=xe(vt,156)?xe(vt,128)?1:3:xe(vt,163)?2:0,Qt.Ob[0]=Mn,s(Gt,Lt,Mn,4),s(nn,0,Mn,4);Qt.Dd=xe(vt,142)?xe(vt,114)?xe(vt,183)?1:3:2:0}if(ct.m.Ka)return Hr(Ve,7,"Premature end-of-partition0 encountered.");for(;Ve.ja<Ve.za;++Ve.ja){if(ct=Me,vt=(je=Ve).rb[je.sb-1],Gt=je.rb[je.sb+je.ja],at=je.ya[je.aa+je.ja],Lt=je.kc?at.Ad:0)vt.la=Gt.la=0,at.Za||(vt.Na=Gt.Na=0),at.Hc=0,at.Gc=0,at.ia=0;else{var yr,Tn;if(vt=Gt,Gt=ct,Lt=je.Pa.Xc,nn=je.ya[je.aa+je.ja],Qt=je.pb[nn.$b],ht=nn.ad,Ar=0,vr=je.rb[je.sb-1],Mn=Hn=0,s(ht,Ar,0,384),nn.Za)var Fr=0,un=Lt[3];else{Tr=a(16);var vn=vt.Na+vr.Na;if(vn=js(Gt,Lt[1],vn,Qt.Eb,0,Tr,0),vt.Na=vr.Na=(0<vn)+0,1<vn)il(Tr,0,ht,Ar);else{var cr=Tr[0]+3>>3;for(Tr=0;256>Tr;Tr+=16)ht[Ar+Tr]=cr}Fr=1,un=Lt[0]}var ur=15&vt.la,la=15&vr.la;for(Tr=0;4>Tr;++Tr){var Hs=1&la;for(cr=Tn=0;4>cr;++cr)ur=ur>>1|(Hs=(vn=js(Gt,un,vn=Hs+(1&ur),Qt.Sc,Fr,ht,Ar))>Fr)<<7,Tn=Tn<<2|(3<vn?3:1<vn?2:ht[Ar+0]!=0),Ar+=16;ur>>=4,la=la>>1|Hs<<7,Hn=(Hn<<8|Tn)>>>0}for(un=ur,Fr=la>>4,yr=0;4>yr;yr+=2){for(Tn=0,ur=vt.la>>4+yr,la=vr.la>>4+yr,Tr=0;2>Tr;++Tr){for(Hs=1&la,cr=0;2>cr;++cr)vn=Hs+(1&ur),ur=ur>>1|(Hs=0<(vn=js(Gt,Lt[2],vn,Qt.Qc,0,ht,Ar)))<<3,Tn=Tn<<2|(3<vn?3:1<vn?2:ht[Ar+0]!=0),Ar+=16;ur>>=2,la=la>>1|Hs<<5}Mn|=Tn<<4*yr,un|=ur<<4<<yr,Fr|=(240&la)<<yr}vt.la=un,vr.la=Fr,nn.Hc=Hn,nn.Gc=Mn,nn.ia=43690&Mn?0:Qt.ia,Lt=!(Hn|Mn)}if(0<je.L&&(je.wa[je.Y+je.ja]=je.gd[at.$b][at.Za],je.wa[je.Y+je.ja].La|=!Lt),ct.Ka)return Hr(Ve,7,"Premature end-of-file encountered.")}if(Wo(Ve),je=gt,ct=1,at=(Me=Ve).D,vt=0<Me.L&&Me.M>=Me.zb&&Me.M<=Me.Va,Me.Aa==0)e:{if(at.M=Me.M,at.uc=vt,ui(Me,at),ct=1,at=(Tn=Me.D).Nb,vt=(Mn=Xl[Me.L])*Me.R,Gt=Mn/2*Me.B,Tr=16*at*Me.R,cr=8*at*Me.B,Lt=Me.sa,nn=Me.ta-vt+Tr,Qt=Me.qa,ht=Me.ra-Gt+cr,Ar=Me.Ha,vr=Me.Ia-Gt+cr,la=(ur=Tn.M)==0,Hn=ur>=Me.Va-1,Me.Aa==2&&ui(Me,Tn),Tn.uc)for(Hs=(vn=Me).D.M,e(vn.D.uc),Tn=vn.yb;Tn<vn.Hb;++Tn){Fr=Tn,un=Hs;var gs=(xs=(Jr=vn).D).Nb;yr=Jr.R;var xs=xs.wa[xs.Y+Fr],Ns=Jr.sa,io=Jr.ta+16*gs*yr+16*Fr,wr=xs.dd,ks=xs.tc;if(ks!=0)if(e(3<=ks),Jr.L==1)0<Fr&&Gl(Ns,io,yr,ks+4),xs.La&&As(Ns,io,yr,ks),0<un&&Qc(Ns,io,yr,ks+4),xs.La&&PA(Ns,io,yr,ks);else{var ko=Jr.B,Wc=Jr.qa,zA=Jr.ra+8*gs*ko+8*Fr,$c=Jr.Ha,Jr=Jr.Ia+8*gs*ko+8*Fr;gs=xs.ld,0<Fr&&(ol(Ns,io,yr,ks+4,wr,gs),Pc(Wc,zA,$c,Jr,ko,ks+4,wr,gs)),xs.La&&(Oc(Ns,io,yr,ks,wr,gs),Pu(Wc,zA,$c,Jr,ko,ks,wr,gs)),0<un&&(LA(Ns,io,yr,ks+4,wr,gs),Mu(Wc,zA,$c,Jr,ko,ks+4,wr,gs)),xs.La&&(jc(Ns,io,yr,ks,wr,gs),MA(Wc,zA,$c,Jr,ko,ks,wr,gs))}}if(Me.ia&&alert("todo:DitherRow"),je.put!=null){if(Tn=16*ur,ur=16*(ur+1),la?(je.y=Me.sa,je.O=Me.ta+Tr,je.f=Me.qa,je.N=Me.ra+cr,je.ea=Me.Ha,je.W=Me.Ia+cr):(Tn-=Mn,je.y=Lt,je.O=nn,je.f=Qt,je.N=ht,je.ea=Ar,je.W=vr),Hn||(ur-=Mn),ur>je.o&&(ur=je.o),je.F=null,je.J=null,Me.Fa!=null&&0<Me.Fa.length&&Tn<ur&&(je.J=Fc(Me,je,Tn,ur-Tn),je.F=Me.mb,je.F==null&&je.F.length==0)){ct=Hr(Me,3,"Could not decode alpha data.");break e}Tn<je.j&&(Mn=je.j-Tn,Tn=je.j,e(!(1&Mn)),je.O+=Me.R*Mn,je.N+=Me.B*(Mn>>1),je.W+=Me.B*(Mn>>1),je.F!=null&&(je.J+=je.width*Mn)),Tn<ur&&(je.O+=je.v,je.N+=je.v>>1,je.W+=je.v>>1,je.F!=null&&(je.J+=je.v),je.ka=Tn-je.j,je.U=je.va-je.v,je.T=ur-Tn,ct=je.put(je))}at+1!=Me.Ic||Hn||(r(Me.sa,Me.ta-vt,Lt,nn+16*Me.R,vt),r(Me.qa,Me.ra-Gt,Qt,ht+8*Me.B,Gt),r(Me.Ha,Me.Ia-Gt,Ar,vr+8*Me.B,Gt))}if(!ct)return Hr(Ve,6,"Output aborted.")}return 1}(C,U)),U.bc!=null&&U.bc(U),z&=1}return z?(C.cb=0,z):0}function va(C,U,z,te,ce){ce=C[U+z+32*te]+(ce>>3),C[U+z+32*te]=-256&ce?0>ce?0:255:ce}function Tc(C,U,z,te,ce,he){va(C,U,0,z,te+ce),va(C,U,1,z,te+he),va(C,U,2,z,te-he),va(C,U,3,z,te-ce)}function lr(C){return(20091*C>>16)+C}function ya(C,U,z,te){var ce,he=0,pe=a(16);for(ce=0;4>ce;++ce){var ve=C[U+0]+C[U+8],be=C[U+0]-C[U+8],Be=(35468*C[U+4]>>16)-lr(C[U+12]),Le=lr(C[U+4])+(35468*C[U+12]>>16);pe[he+0]=ve+Le,pe[he+1]=be+Be,pe[he+2]=be-Be,pe[he+3]=ve-Le,he+=4,U++}for(ce=he=0;4>ce;++ce)ve=(C=pe[he+0]+4)+pe[he+8],be=C-pe[he+8],Be=(35468*pe[he+4]>>16)-lr(pe[he+12]),va(z,te,0,0,ve+(Le=lr(pe[he+4])+(35468*pe[he+12]>>16))),va(z,te,1,0,be+Be),va(z,te,2,0,be-Be),va(z,te,3,0,ve-Le),he++,te+=32}function $o(C,U,z,te){var ce=C[U+0]+4,he=35468*C[U+4]>>16,pe=lr(C[U+4]),ve=35468*C[U+1]>>16;Tc(z,te,0,ce+pe,C=lr(C[U+1]),ve),Tc(z,te,1,ce+he,C,ve),Tc(z,te,2,ce-he,C,ve),Tc(z,te,3,ce-pe,C,ve)}function Yo(C,U,z,te,ce){ya(C,U,z,te),ce&&ya(C,U+16,z,te+4)}function Wi(C,U,z,te){Bo(C,U+0,z,te,1),Bo(C,U+32,z,te+128,1)}function gr(C,U,z,te){var ce;for(C=C[U+0]+4,ce=0;4>ce;++ce)for(U=0;4>U;++U)va(z,te,U,ce,C)}function Jo(C,U,z,te){C[U+0]&&Bs(C,U+0,z,te),C[U+16]&&Bs(C,U+16,z,te+4),C[U+32]&&Bs(C,U+32,z,te+128),C[U+48]&&Bs(C,U+48,z,te+128+4)}function oi(C,U,z,te){var ce,he=a(16);for(ce=0;4>ce;++ce){var pe=C[U+0+ce]+C[U+12+ce],ve=C[U+4+ce]+C[U+8+ce],be=C[U+4+ce]-C[U+8+ce],Be=C[U+0+ce]-C[U+12+ce];he[0+ce]=pe+ve,he[8+ce]=pe-ve,he[4+ce]=Be+be,he[12+ce]=Be-be}for(ce=0;4>ce;++ce)pe=(C=he[0+4*ce]+3)+he[3+4*ce],ve=he[1+4*ce]+he[2+4*ce],be=he[1+4*ce]-he[2+4*ce],Be=C-he[3+4*ce],z[te+0]=pe+ve>>3,z[te+16]=Be+be>>3,z[te+32]=pe-ve>>3,z[te+48]=Be-be>>3,te+=64}function yo(C,U,z){var te,ce=U-32,he=ia,pe=255-C[ce-1];for(te=0;te<z;++te){var ve,be=he,Be=pe+C[U-1];for(ve=0;ve<z;++ve)C[U+ve]=be[Be+C[ce+ve]];U+=32}}function Iu(C,U){yo(C,U,4)}function BA(C,U){yo(C,U,8)}function NA(C,U){yo(C,U,16)}function wo(C,U){var z;for(z=0;16>z;++z)r(C,U+32*z,C,U-32,16)}function Bc(C,U){var z;for(z=16;0<z;--z)s(C,U,C[U-1],16),U+=32}function bo(C,U,z){var te;for(te=0;16>te;++te)s(U,z+32*te,C,16)}function $i(C,U){var z,te=16;for(z=0;16>z;++z)te+=C[U-1+32*z]+C[U+z-32];bo(te>>5,C,U)}function Ir(C,U){var z,te=8;for(z=0;16>z;++z)te+=C[U-1+32*z];bo(te>>4,C,U)}function Co(C,U){var z,te=8;for(z=0;16>z;++z)te+=C[U+z-32];bo(te>>4,C,U)}function Yi(C,U){bo(128,C,U)}function dn(C,U,z){return C+2*U+z+2>>2}function Ji(C,U){var z,te=U-32;for(te=new Uint8Array([dn(C[te-1],C[te+0],C[te+1]),dn(C[te+0],C[te+1],C[te+2]),dn(C[te+1],C[te+2],C[te+3]),dn(C[te+2],C[te+3],C[te+4])]),z=0;4>z;++z)r(C,U+32*z,te,0,te.length)}function Fu(C,U){var z=C[U-1],te=C[U-1+32],ce=C[U-1+64],he=C[U-1+96];Se(C,U+0,16843009*dn(C[U-1-32],z,te)),Se(C,U+32,16843009*dn(z,te,ce)),Se(C,U+64,16843009*dn(te,ce,he)),Se(C,U+96,16843009*dn(ce,he,he))}function Na(C,U){var z,te=4;for(z=0;4>z;++z)te+=C[U+z-32]+C[U-1+32*z];for(te>>=3,z=0;4>z;++z)s(C,U+32*z,te,4)}function li(C,U){var z=C[U-1+0],te=C[U-1+32],ce=C[U-1+64],he=C[U-1-32],pe=C[U+0-32],ve=C[U+1-32],be=C[U+2-32],Be=C[U+3-32];C[U+0+96]=dn(te,ce,C[U-1+96]),C[U+1+96]=C[U+0+64]=dn(z,te,ce),C[U+2+96]=C[U+1+64]=C[U+0+32]=dn(he,z,te),C[U+3+96]=C[U+2+64]=C[U+1+32]=C[U+0+0]=dn(pe,he,z),C[U+3+64]=C[U+2+32]=C[U+1+0]=dn(ve,pe,he),C[U+3+32]=C[U+2+0]=dn(be,ve,pe),C[U+3+0]=dn(Be,be,ve)}function za(C,U){var z=C[U+1-32],te=C[U+2-32],ce=C[U+3-32],he=C[U+4-32],pe=C[U+5-32],ve=C[U+6-32],be=C[U+7-32];C[U+0+0]=dn(C[U+0-32],z,te),C[U+1+0]=C[U+0+32]=dn(z,te,ce),C[U+2+0]=C[U+1+32]=C[U+0+64]=dn(te,ce,he),C[U+3+0]=C[U+2+32]=C[U+1+64]=C[U+0+96]=dn(ce,he,pe),C[U+3+32]=C[U+2+64]=C[U+1+96]=dn(he,pe,ve),C[U+3+64]=C[U+2+96]=dn(pe,ve,be),C[U+3+96]=dn(ve,be,be)}function Xi(C,U){var z=C[U-1+0],te=C[U-1+32],ce=C[U-1+64],he=C[U-1-32],pe=C[U+0-32],ve=C[U+1-32],be=C[U+2-32],Be=C[U+3-32];C[U+0+0]=C[U+1+64]=he+pe+1>>1,C[U+1+0]=C[U+2+64]=pe+ve+1>>1,C[U+2+0]=C[U+3+64]=ve+be+1>>1,C[U+3+0]=be+Be+1>>1,C[U+0+96]=dn(ce,te,z),C[U+0+64]=dn(te,z,he),C[U+0+32]=C[U+1+96]=dn(z,he,pe),C[U+1+32]=C[U+2+96]=dn(he,pe,ve),C[U+2+32]=C[U+3+96]=dn(pe,ve,be),C[U+3+32]=dn(ve,be,Be)}function ci(C,U){var z=C[U+0-32],te=C[U+1-32],ce=C[U+2-32],he=C[U+3-32],pe=C[U+4-32],ve=C[U+5-32],be=C[U+6-32],Be=C[U+7-32];C[U+0+0]=z+te+1>>1,C[U+1+0]=C[U+0+64]=te+ce+1>>1,C[U+2+0]=C[U+1+64]=ce+he+1>>1,C[U+3+0]=C[U+2+64]=he+pe+1>>1,C[U+0+32]=dn(z,te,ce),C[U+1+32]=C[U+0+96]=dn(te,ce,he),C[U+2+32]=C[U+1+96]=dn(ce,he,pe),C[U+3+32]=C[U+2+96]=dn(he,pe,ve),C[U+3+64]=dn(pe,ve,be),C[U+3+96]=dn(ve,be,Be)}function Xo(C,U){var z=C[U-1+0],te=C[U-1+32],ce=C[U-1+64],he=C[U-1+96];C[U+0+0]=z+te+1>>1,C[U+2+0]=C[U+0+32]=te+ce+1>>1,C[U+2+32]=C[U+0+64]=ce+he+1>>1,C[U+1+0]=dn(z,te,ce),C[U+3+0]=C[U+1+32]=dn(te,ce,he),C[U+3+32]=C[U+1+64]=dn(ce,he,he),C[U+3+64]=C[U+2+64]=C[U+0+96]=C[U+1+96]=C[U+2+96]=C[U+3+96]=he}function Eo(C,U){var z=C[U-1+0],te=C[U-1+32],ce=C[U-1+64],he=C[U-1+96],pe=C[U-1-32],ve=C[U+0-32],be=C[U+1-32],Be=C[U+2-32];C[U+0+0]=C[U+2+32]=z+pe+1>>1,C[U+0+32]=C[U+2+64]=te+z+1>>1,C[U+0+64]=C[U+2+96]=ce+te+1>>1,C[U+0+96]=he+ce+1>>1,C[U+3+0]=dn(ve,be,Be),C[U+2+0]=dn(pe,ve,be),C[U+1+0]=C[U+3+32]=dn(z,pe,ve),C[U+1+32]=C[U+3+64]=dn(te,z,pe),C[U+1+64]=C[U+3+96]=dn(ce,te,z),C[U+1+96]=dn(he,ce,te)}function kA(C,U){var z;for(z=0;8>z;++z)r(C,U+32*z,C,U-32,8)}function Ai(C,U){var z;for(z=0;8>z;++z)s(C,U,C[U-1],8),U+=32}function ka(C,U,z){var te;for(te=0;8>te;++te)s(U,z+32*te,C,8)}function Zi(C,U){var z,te=8;for(z=0;8>z;++z)te+=C[U+z-32]+C[U-1+32*z];ka(te>>4,C,U)}function Ss(C,U){var z,te=4;for(z=0;8>z;++z)te+=C[U+z-32];ka(te>>3,C,U)}function qn(C,U){var z,te=4;for(z=0;8>z;++z)te+=C[U-1+32*z];ka(te>>3,C,U)}function Zo(C,U){ka(128,C,U)}function eo(C,U,z){var te=C[U-z],ce=C[U+0],he=3*(ce-te)+Fh[1020+C[U-2*z]-C[U+z]],pe=jA[112+(he+4>>3)];C[U-z]=ia[255+te+jA[112+(he+3>>3)]],C[U+0]=ia[255+ce-pe]}function IA(C,U,z,te){var ce=C[U+0],he=C[U+z];return so[255+C[U-2*z]-C[U-z]]>te||so[255+he-ce]>te}function Ll(C,U,z,te){return 4*so[255+C[U-z]-C[U+0]]+so[255+C[U-2*z]-C[U+z]]<=te}function Ml(C,U,z,te,ce){var he=C[U-3*z],pe=C[U-2*z],ve=C[U-z],be=C[U+0],Be=C[U+z],Le=C[U+2*z],Ye=C[U+3*z];return 4*so[255+ve-be]+so[255+pe-Be]>te?0:so[255+C[U-4*z]-he]<=ce&&so[255+he-pe]<=ce&&so[255+pe-ve]<=ce&&so[255+Ye-Le]<=ce&&so[255+Le-Be]<=ce&&so[255+Be-be]<=ce}function ji(C,U,z,te){var ce=2*te+1;for(te=0;16>te;++te)Ll(C,U+te,z,ce)&&eo(C,U+te,z)}function Ia(C,U,z,te){var ce=2*te+1;for(te=0;16>te;++te)Ll(C,U+te*z,1,ce)&&eo(C,U+te*z,1)}function Ts(C,U,z,te){var ce;for(ce=3;0<ce;--ce)ji(C,U+=4*z,z,te)}function Ru(C,U,z,te){var ce;for(ce=3;0<ce;--ce)Ia(C,U+=4,z,te)}function el(C,U,z,te,ce,he,pe,ve){for(he=2*he+1;0<ce--;){if(Ml(C,U,z,he,pe))if(IA(C,U,z,ve))eo(C,U,z);else{var be=C,Be=U,Le=z,Ye=be[Be-2*Le],qe=be[Be-Le],Ve=be[Be+0],gt=be[Be+Le],at=be[Be+2*Le],Me=27*(ct=Fh[1020+3*(Ve-qe)+Fh[1020+Ye-gt]])+63>>7,je=18*ct+63>>7,ct=9*ct+63>>7;be[Be-3*Le]=ia[255+be[Be-3*Le]+ct],be[Be-2*Le]=ia[255+Ye+je],be[Be-Le]=ia[255+qe+Me],be[Be+0]=ia[255+Ve-Me],be[Be+Le]=ia[255+gt-je],be[Be+2*Le]=ia[255+at-ct]}U+=te}}function wa(C,U,z,te,ce,he,pe,ve){for(he=2*he+1;0<ce--;){if(Ml(C,U,z,he,pe))if(IA(C,U,z,ve))eo(C,U,z);else{var be=C,Be=U,Le=z,Ye=be[Be-Le],qe=be[Be+0],Ve=be[Be+Le],gt=jA[112+((at=3*(qe-Ye))+4>>3)],at=jA[112+(at+3>>3)],Me=gt+1>>1;be[Be-2*Le]=ia[255+be[Be-2*Le]+Me],be[Be-Le]=ia[255+Ye+at],be[Be+0]=ia[255+qe-gt],be[Be+Le]=ia[255+Ve-Me]}U+=te}}function tl(C,U,z,te,ce,he){el(C,U,z,1,16,te,ce,he)}function _o(C,U,z,te,ce,he){el(C,U,1,z,16,te,ce,he)}function Nc(C,U,z,te,ce,he){var pe;for(pe=3;0<pe;--pe)wa(C,U+=4*z,z,1,16,te,ce,he)}function Pl(C,U,z,te,ce,he){var pe;for(pe=3;0<pe;--pe)wa(C,U+=4,1,z,16,te,ce,he)}function kc(C,U,z,te,ce,he,pe,ve){el(C,U,ce,1,8,he,pe,ve),el(z,te,ce,1,8,he,pe,ve)}function FA(C,U,z,te,ce,he,pe,ve){el(C,U,1,ce,8,he,pe,ve),el(z,te,1,ce,8,he,pe,ve)}function jl(C,U,z,te,ce,he,pe,ve){wa(C,U+4*ce,ce,1,8,he,pe,ve),wa(z,te+4*ce,ce,1,8,he,pe,ve)}function nl(C,U,z,te,ce,he,pe,ve){wa(C,U+4,1,ce,8,he,pe,ve),wa(z,te+4,1,ce,8,he,pe,ve)}function Ol(){this.ba=new Wr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ic(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ql(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function rl(){this.ua=0,this.Wa=new Ce,this.vb=new Ce,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new M}function Du(){this.xb=this.a=0,this.l=new Ms,this.ca=new Wr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new rl,this.ab=0,this.gc=i(4,Ql),this.Oc=0}function So(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ms,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function sl(C,U,z,te,ce,he,pe){for(C=C==null?0:C[U+0],U=0;U<pe;++U)ce[he+U]=C+z[te+U]&255,C=ce[he+U]}function Hl(C,U,z,te,ce,he,pe){var ve;if(C==null)sl(null,null,z,te,ce,he,pe);else for(ve=0;ve<pe;++ve)ce[he+ve]=C[U+ve]+z[te+ve]&255}function Fa(C,U,z,te,ce,he,pe){if(C==null)sl(null,null,z,te,ce,he,pe);else{var ve,be=C[U+0],Be=be,Le=be;for(ve=0;ve<pe;++ve)Be=Le+(be=C[U+ve])-Be,Le=z[te+ve]+(-256&Be?0>Be?0:255:Be)&255,Be=be,ce[he+ve]=Le}}function Fc(C,U,z,te){var ce=U.width,he=U.o;if(e(C!=null&&U!=null),0>z||0>=te||z+te>he)return null;if(!C.Cc){if(C.ga==null){var pe;if(C.ga=new So,(pe=C.ga==null)||(pe=U.width*U.o,e(C.Gb.length==0),C.Gb=a(pe),C.Uc=0,C.Gb==null?pe=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,pe=1),pe=!pe),!pe){pe=C.ga;var ve=C.Fa,be=C.P,Be=C.qc,Le=C.mb,Ye=C.nb,qe=be+1,Ve=Be-1,gt=pe.l;if(e(ve!=null&&Le!=null&&U!=null),Al[0]=null,Al[1]=sl,Al[2]=Hl,Al[3]=Fa,pe.ca=Le,pe.tb=Ye,pe.c=U.width,pe.i=U.height,e(0<pe.c&&0<pe.i),1>=Be)U=0;else if(pe.$a=ve[be+0]>>0&3,pe.Z=ve[be+0]>>2&3,pe.Lc=ve[be+0]>>4&3,be=ve[be+0]>>6&3,0>pe.$a||1<pe.$a||4<=pe.Z||1<pe.Lc||be)U=0;else if(gt.put=hs,gt.ac=Or,gt.bc=ga,gt.ma=pe,gt.width=U.width,gt.height=U.height,gt.Da=U.Da,gt.v=U.v,gt.va=U.va,gt.j=U.j,gt.o=U.o,pe.$a)e:{e(pe.$a==1),U=tt();t:for(;;){if(U==null){U=0;break e}if(e(pe!=null),pe.mc=U,U.c=pe.c,U.i=pe.i,U.l=pe.l,U.l.ma=pe,U.l.width=pe.c,U.l.height=pe.i,U.a=0,re(U.m,ve,qe,Ve),!Qe(pe.c,pe.i,1,U,null)||(U.ab==1&&U.gc[0].hc==3&&Ee(U.s)?(pe.ic=1,ve=U.c*U.i,U.Ta=null,U.Ua=0,U.V=a(ve),U.Ba=0,U.V==null?(U.a=1,U=0):U=1):(pe.ic=0,U=We(U,pe.c)),!U))break t;U=1;break e}pe.mc=null,U=0}else U=Ve>=pe.c*pe.i;pe=!U}if(pe)return null;C.ga.Lc!=1?C.Ga=0:te=he-z}e(C.ga!=null),e(z+te<=he);e:{if(U=(ve=C.ga).c,he=ve.l.o,ve.$a==0){if(qe=C.rc,Ve=C.Vc,gt=C.Fa,be=C.P+1+z*U,Be=C.mb,Le=C.nb+z*U,e(be<=C.P+C.qc),ve.Z!=0)for(e(Al[ve.Z]!=null),pe=0;pe<te;++pe)Al[ve.Z](qe,Ve,gt,be,Be,Le,U),qe=Be,Ve=Le,Le+=U,be+=U;else for(pe=0;pe<te;++pe)r(Be,Le,gt,be,U),qe=Be,Ve=Le,Le+=U,be+=U;C.rc=qe,C.Vc=Ve}else{if(e(ve.mc!=null),U=z+te,e((pe=ve.mc)!=null),e(U<=pe.i),pe.C>=U)U=1;else if(ve.ic||He(),ve.ic){ve=pe.V,qe=pe.Ba,Ve=pe.c;var at=pe.i,Me=(gt=1,be=pe.$/Ve,Be=pe.$%Ve,Le=pe.m,Ye=pe.s,pe.$),je=Ve*at,ct=Ve*U,vt=Ye.wc,ht=Me<ct?Qr(Ye,Be,be):null;e(Me<=je),e(U<=at),e(Ee(Ye));t:for(;;){for(;!Le.h&&Me<ct;){if(Be&vt||(ht=Qr(Ye,Be,be)),e(ht!=null),ie(Le),256>(at=_r(ht.G[0],ht.H[0],Le)))ve[qe+Me]=at,++Me,++Be>=Ve&&(Be=0,++be<=U&&!(be%16)&&Te(pe,be));else{if(!(280>at)){gt=0;break t}at=or(at-256,Le);var Gt,Lt=_r(ht.G[4],ht.H[4],Le);if(ie(Le),!(Me>=(Lt=Zn(Ve,Lt=or(Lt,Le)))&&je-Me>=at)){gt=0;break t}for(Gt=0;Gt<at;++Gt)ve[qe+Me+Gt]=ve[qe+Me+Gt-Lt];for(Me+=at,Be+=at;Be>=Ve;)Be-=Ve,++be<=U&&!(be%16)&&Te(pe,be);Me<ct&&Be&vt&&(ht=Qr(Ye,Be,be))}e(Le.h==J(Le))}Te(pe,be>U?U:be);break t}!gt||Le.h&&Me<je?(gt=0,pe.a=Le.h?5:3):pe.$=Me,U=gt}else U=ke(pe,pe.V,pe.Ba,pe.c,pe.i,U,Je);if(!U){te=0;break e}}z+te>=he&&(C.Cc=1),te=1}if(!te)return null;if(C.Cc&&((te=C.ga)!=null&&(te.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+z*ce}function Q(C,U,z,te,ce,he){for(;0<ce--;){var pe,ve=C,be=U+(z?1:0),Be=C,Le=U+(z?0:3);for(pe=0;pe<te;++pe){var Ye=Be[Le+4*pe];Ye!=255&&(Ye*=32897,ve[be+4*pe+0]=ve[be+4*pe+0]*Ye>>23,ve[be+4*pe+1]=ve[be+4*pe+1]*Ye>>23,ve[be+4*pe+2]=ve[be+4*pe+2]*Ye>>23)}U+=he}}function Ae(C,U,z,te,ce){for(;0<te--;){var he;for(he=0;he<z;++he){var pe=C[U+2*he+0],ve=15&(Be=C[U+2*he+1]),be=4369*ve,Be=(240&Be|Be>>4)*be>>16;C[U+2*he+0]=(240&pe|pe>>4)*be>>16&240|(15&pe|pe<<4)*be>>16>>4&15,C[U+2*he+1]=240&Be|ve}U+=ce}}function Ie(C,U,z,te,ce,he,pe,ve){var be,Be,Le=255;for(Be=0;Be<ce;++Be){for(be=0;be<te;++be){var Ye=C[U+be];he[pe+4*be]=Ye,Le&=Ye}U+=z,pe+=ve}return Le!=255}function Ue(C,U,z,te,ce){var he;for(he=0;he<ce;++he)z[te+he]=C[U+he]>>8}function He(){Oi=Q,Vn=Ae,Gn=Ie,Vr=Ue}function ot(C,U,z){N[C]=function(te,ce,he,pe,ve,be,Be,Le,Ye,qe,Ve,gt,at,Me,je,ct,vt){var ht,Gt=vt-1>>1,Lt=ve[be+0]|Be[Le+0]<<16,nn=Ye[qe+0]|Ve[gt+0]<<16;e(te!=null);var Qt=3*Lt+nn+131074>>2;for(U(te[ce+0],255&Qt,Qt>>16,at,Me),he!=null&&(Qt=3*nn+Lt+131074>>2,U(he[pe+0],255&Qt,Qt>>16,je,ct)),ht=1;ht<=Gt;++ht){var Ar=ve[be+ht]|Be[Le+ht]<<16,vr=Ye[qe+ht]|Ve[gt+ht]<<16,Hn=Lt+Ar+nn+vr+524296,Mn=Hn+2*(Ar+nn)>>3;Qt=Mn+Lt>>1,Lt=(Hn=Hn+2*(Lt+vr)>>3)+Ar>>1,U(te[ce+2*ht-1],255&Qt,Qt>>16,at,Me+(2*ht-1)*z),U(te[ce+2*ht-0],255&Lt,Lt>>16,at,Me+(2*ht-0)*z),he!=null&&(Qt=Hn+nn>>1,Lt=Mn+vr>>1,U(he[pe+2*ht-1],255&Qt,Qt>>16,je,ct+(2*ht-1)*z),U(he[pe+2*ht+0],255&Lt,Lt>>16,je,ct+(2*ht+0)*z)),Lt=Ar,nn=vr}1&vt||(Qt=3*Lt+nn+131074>>2,U(te[ce+vt-1],255&Qt,Qt>>16,at,Me+(vt-1)*z),he!=null&&(Qt=3*nn+Lt+131074>>2,U(he[pe+vt-1],255&Qt,Qt>>16,je,ct+(vt-1)*z)))}}function _t(){oa[Ra]=Jl,oa[ju]=ul,oa[ll]=Kc,oa[df]=Uh,oa[OA]=Lh,oa[Kl]=Hu,oa[Rh]=Mh,oa[ff]=ul,oa[Gc]=Uh,oa[ql]=Lh,oa[Ou]=Hu}function Ot(C){return C&-16384?0>C?0:255:C>>Iw}function _(C,U){return Ot((19077*C>>8)+(26149*U>>8)-14234)}function Y(C,U,z){return Ot((19077*C>>8)-(6419*U>>8)-(13320*z>>8)+8708)}function se(C,U){return Ot((19077*C>>8)+(33050*U>>8)-17685)}function ye(C,U,z,te,ce){te[ce+0]=_(C,z),te[ce+1]=Y(C,U,z),te[ce+2]=se(C,U)}function Oe(C,U,z,te,ce){te[ce+0]=se(C,U),te[ce+1]=Y(C,U,z),te[ce+2]=_(C,z)}function Xe(C,U,z,te,ce){var he=Y(C,U,z);U=he<<3&224|se(C,U)>>3,te[ce+0]=248&_(C,z)|he>>5,te[ce+1]=U}function St(C,U,z,te,ce){var he=240&se(C,U)|15;te[ce+0]=240&_(C,z)|Y(C,U,z)>>4,te[ce+1]=he}function fn(C,U,z,te,ce){te[ce+0]=255,ye(C,U,z,te,ce+1)}function Wn(C,U,z,te,ce){Oe(C,U,z,te,ce),te[ce+3]=255}function Sn(C,U,z,te,ce){ye(C,U,z,te,ce),te[ce+3]=255}function xr(C,U){return 0>C?0:C>U?U:C}function Sr(C,U,z){N[C]=function(te,ce,he,pe,ve,be,Be,Le,Ye){for(var qe=Le+(-2&Ye)*z;Le!=qe;)U(te[ce+0],he[pe+0],ve[be+0],Be,Le),U(te[ce+1],he[pe+0],ve[be+0],Be,Le+z),ce+=2,++pe,++be,Le+=2*z;1&Ye&&U(te[ce+0],he[pe+0],ve[be+0],Be,Le)}}function to(C,U,z){return z==0?C==0?U==0?6:5:U==0?4:0:z}function ms(C,U,z,te,ce){switch(C>>>30){case 3:Bo(U,z,te,ce,0);break;case 2:cs(U,z,te,ce);break;case 1:Bs(U,z,te,ce)}}function ui(C,U){var z,te,ce=U.M,he=U.Nb,pe=C.oc,ve=C.pc+40,be=C.oc,Be=C.pc+584,Le=C.oc,Ye=C.pc+600;for(z=0;16>z;++z)pe[ve+32*z-1]=129;for(z=0;8>z;++z)be[Be+32*z-1]=129,Le[Ye+32*z-1]=129;for(0<ce?pe[ve-1-32]=be[Be-1-32]=Le[Ye-1-32]=129:(s(pe,ve-32-1,127,21),s(be,Be-32-1,127,9),s(Le,Ye-32-1,127,9)),te=0;te<C.za;++te){var qe=U.ya[U.aa+te];if(0<te){for(z=-1;16>z;++z)r(pe,ve+32*z-4,pe,ve+32*z+12,4);for(z=-1;8>z;++z)r(be,Be+32*z-4,be,Be+32*z+4,4),r(Le,Ye+32*z-4,Le,Ye+32*z+4,4)}var Ve=C.Gd,gt=C.Hd+te,at=qe.ad,Me=qe.Hc;if(0<ce&&(r(pe,ve-32,Ve[gt].y,0,16),r(be,Be-32,Ve[gt].f,0,8),r(Le,Ye-32,Ve[gt].ea,0,8)),qe.Za){var je=pe,ct=ve-32+16;for(0<ce&&(te>=C.za-1?s(je,ct,Ve[gt].y[15],4):r(je,ct,Ve[gt+1].y,0,4)),z=0;4>z;z++)je[ct+128+z]=je[ct+256+z]=je[ct+384+z]=je[ct+0+z];for(z=0;16>z;++z,Me<<=2)je=pe,ct=ve+GA[z],qa[qe.Ob[z]](je,ct),ms(Me,at,16*+z,je,ct)}else if(je=to(te,ce,qe.Ob[0]),Yl[je](pe,ve),Me!=0)for(z=0;16>z;++z,Me<<=2)ms(Me,at,16*+z,pe,ve+GA[z]);for(z=qe.Gc,je=to(te,ce,qe.Dd),Hi[je](be,Be),Hi[je](Le,Ye),Me=at,je=be,ct=Be,255&(qe=z>>0)&&(170&qe?No(Me,256,je,ct):hi(Me,256,je,ct)),qe=Le,Me=Ye,255&(z>>=8)&&(170&z?No(at,320,qe,Me):hi(at,320,qe,Me)),ce<C.Ub-1&&(r(Ve[gt].y,0,pe,ve+480,16),r(Ve[gt].f,0,be,Be+224,8),r(Ve[gt].ea,0,Le,Ye+224,8)),z=8*he*C.B,Ve=C.sa,gt=C.ta+16*te+16*he*C.R,at=C.qa,qe=C.ra+8*te+z,Me=C.Ha,je=C.Ia+8*te+z,z=0;16>z;++z)r(Ve,gt+z*C.R,pe,ve+32*z,16);for(z=0;8>z;++z)r(at,qe+z*C.B,be,Be+32*z,8),r(Me,je+z*C.B,Le,Ye+32*z,8)}}function al(C,U,z,te,ce,he,pe,ve,be){var Be=[0],Le=[0],Ye=0,qe=be!=null?be.kd:0,Ve=be??new Ic;if(C==null||12>z)return 7;Ve.data=C,Ve.w=U,Ve.ha=z,U=[U],z=[z],Ve.gb=[Ve.gb];e:{var gt=U,at=z,Me=Ve.gb;if(e(C!=null),e(at!=null),e(Me!=null),Me[0]=0,12<=at[0]&&!n(C,gt[0],"RIFF")){if(n(C,gt[0]+8,"WEBP")){Me=3;break e}var je=Fe(C,gt[0]+4);if(12>je||4294967286<je){Me=3;break e}if(qe&&je>at[0]-8){Me=7;break e}Me[0]=je,gt[0]+=12,at[0]-=12}Me=0}if(Me!=0)return Me;for(je=0<Ve.gb[0],z=z[0];;){e:{var ct=C;at=U,Me=z;var vt=Be,ht=Le,Gt=gt=[0];if((Qt=Ye=[Ye])[0]=0,8>Me[0])Me=7;else{if(!n(ct,at[0],"VP8X")){if(Fe(ct,at[0]+4)!=10){Me=3;break e}if(18>Me[0]){Me=7;break e}var Lt=Fe(ct,at[0]+8),nn=1+ae(ct,at[0]+12);if(2147483648<=nn*(ct=1+ae(ct,at[0]+15))){Me=3;break e}Gt!=null&&(Gt[0]=Lt),vt!=null&&(vt[0]=nn),ht!=null&&(ht[0]=ct),at[0]+=18,Me[0]-=18,Qt[0]=1}Me=0}}if(Ye=Ye[0],gt=gt[0],Me!=0)return Me;if(at=!!(2&gt),!je&&Ye)return 3;if(he!=null&&(he[0]=!!(16&gt)),pe!=null&&(pe[0]=at),ve!=null&&(ve[0]=0),pe=Be[0],gt=Le[0],Ye&&at&&be==null){Me=0;break}if(4>z){Me=7;break}if(je&&Ye||!je&&!Ye&&!n(C,U[0],"ALPH")){z=[z],Ve.na=[Ve.na],Ve.P=[Ve.P],Ve.Sa=[Ve.Sa];e:{Lt=C,Me=U,je=z;var Qt=Ve.gb;vt=Ve.na,ht=Ve.P,Gt=Ve.Sa,nn=22,e(Lt!=null),e(je!=null),ct=Me[0];var Ar=je[0];for(e(vt!=null),e(Gt!=null),vt[0]=null,ht[0]=null,Gt[0]=0;;){if(Me[0]=ct,je[0]=Ar,8>Ar){Me=7;break e}var vr=Fe(Lt,ct+4);if(4294967286<vr){Me=3;break e}var Hn=8+vr+1&-2;if(nn+=Hn,0<Qt&&nn>Qt){Me=3;break e}if(!n(Lt,ct,"VP8 ")||!n(Lt,ct,"VP8L")){Me=0;break e}if(Ar[0]<Hn){Me=7;break e}n(Lt,ct,"ALPH")||(vt[0]=Lt,ht[0]=ct+8,Gt[0]=vr),ct+=Hn,Ar-=Hn}}if(z=z[0],Ve.na=Ve.na[0],Ve.P=Ve.P[0],Ve.Sa=Ve.Sa[0],Me!=0)break}z=[z],Ve.Ja=[Ve.Ja],Ve.xa=[Ve.xa];e:if(Qt=C,Me=U,je=z,vt=Ve.gb[0],ht=Ve.Ja,Gt=Ve.xa,Lt=Me[0],ct=!n(Qt,Lt,"VP8 "),nn=!n(Qt,Lt,"VP8L"),e(Qt!=null),e(je!=null),e(ht!=null),e(Gt!=null),8>je[0])Me=7;else{if(ct||nn){if(Qt=Fe(Qt,Lt+4),12<=vt&&Qt>vt-12){Me=3;break e}if(qe&&Qt>je[0]-8){Me=7;break e}ht[0]=Qt,Me[0]+=8,je[0]-=8,Gt[0]=nn}else Gt[0]=5<=je[0]&&Qt[Lt+0]==47&&!(Qt[Lt+4]>>5),ht[0]=je[0];Me=0}if(z=z[0],Ve.Ja=Ve.Ja[0],Ve.xa=Ve.xa[0],U=U[0],Me!=0)break;if(4294967286<Ve.Ja)return 3;if(ve==null||at||(ve[0]=Ve.xa?2:1),pe=[pe],gt=[gt],Ve.xa){if(5>z){Me=7;break}ve=pe,qe=gt,at=he,C==null||5>z?C=0:5<=z&&C[U+0]==47&&!(C[U+4]>>5)?(je=[0],Qt=[0],vt=[0],re(ht=new j,C,U,z),Ht(ht,je,Qt,vt)?(ve!=null&&(ve[0]=je[0]),qe!=null&&(qe[0]=Qt[0]),at!=null&&(at[0]=vt[0]),C=1):C=0):C=0}else{if(10>z){Me=7;break}ve=gt,C==null||10>z||!sa(C,U+3,z-3)?C=0:(qe=C[U+0]|C[U+1]<<8|C[U+2]<<16,at=16383&(C[U+7]<<8|C[U+6]),C=16383&(C[U+9]<<8|C[U+8]),1&qe||3<(qe>>1&7)||!(qe>>4&1)||qe>>5>=Ve.Ja||!at||!C?C=0:(pe&&(pe[0]=at),ve&&(ve[0]=C),C=1))}if(!C||(pe=pe[0],gt=gt[0],Ye&&(Be[0]!=pe||Le[0]!=gt)))return 3;be!=null&&(be[0]=Ve,be.offset=U-be.w,e(4294967286>U-be.w),e(be.offset==be.ha-z));break}return Me==0||Me==7&&Ye&&be==null?(he!=null&&(he[0]|=Ve.na!=null&&0<Ve.na.length),te!=null&&(te[0]=pe),ce!=null&&(ce[0]=gt),0):Me}function Rc(C,U,z){var te=U.width,ce=U.height,he=0,pe=0,ve=te,be=ce;if(U.Da=C!=null&&0<C.Da,U.Da&&(ve=C.cd,be=C.bd,he=C.v,pe=C.j,11>z||(he&=-2,pe&=-2),0>he||0>pe||0>=ve||0>=be||he+ve>te||pe+be>ce))return 0;if(U.v=he,U.j=pe,U.va=he+ve,U.o=pe+be,U.U=ve,U.T=be,U.da=C!=null&&0<C.da,U.da){if(!Ge(ve,be,z=[C.ib],he=[C.hb]))return 0;U.ib=z[0],U.hb=he[0]}return U.ob=C!=null&&C.ob,U.Kb=C==null||!C.Sd,U.da&&(U.ob=U.ib<3*te/4&&U.hb<3*ce/4,U.Kb=0),1}function Uu(C){if(C==null)return 2;if(11>C.S){var U=C.f.RGBA;U.fb+=(C.height-1)*U.A,U.A=-U.A}else U=C.f.kb,C=C.height,U.O+=(C-1)*U.fa,U.fa=-U.fa,U.N+=(C-1>>1)*U.Ab,U.Ab=-U.Ab,U.W+=(C-1>>1)*U.Db,U.Db=-U.Db,U.F!=null&&(U.J+=(C-1)*U.lb,U.lb=-U.lb);return 0}function RA(C,U,z,te){if(te==null||0>=C||0>=U)return 2;if(z!=null){if(z.Da){var ce=z.cd,he=z.bd,pe=-2&z.v,ve=-2&z.j;if(0>pe||0>ve||0>=ce||0>=he||pe+ce>C||ve+he>U)return 2;C=ce,U=he}if(z.da){if(!Ge(C,U,ce=[z.ib],he=[z.hb]))return 2;C=ce[0],U=he[0]}}te.width=C,te.height=U;e:{var be=te.width,Be=te.height;if(C=te.S,0>=be||0>=Be||!(C>=Ra&&13>C))C=2;else{if(0>=te.Rd&&te.sd==null){pe=he=ce=U=0;var Le=(ve=be*Gx[C])*Be;if(11>C||(he=(Be+1)/2*(U=(be+1)/2),C==12&&(pe=(ce=be)*Be)),(Be=a(Le+2*he+pe))==null){C=1;break e}te.sd=Be,11>C?((be=te.f.RGBA).eb=Be,be.fb=0,be.A=ve,be.size=Le):((be=te.f.kb).y=Be,be.O=0,be.fa=ve,be.Fd=Le,be.f=Be,be.N=0+Le,be.Ab=U,be.Cd=he,be.ea=Be,be.W=0+Le+he,be.Db=U,be.Ed=he,C==12&&(be.F=Be,be.J=0+Le+2*he),be.Tc=pe,be.lb=ce)}if(U=1,ce=te.S,he=te.width,pe=te.height,ce>=Ra&&13>ce)if(11>ce)C=te.f.RGBA,U&=(ve=Math.abs(C.A))*(pe-1)+he<=C.size,U&=ve>=he*Gx[ce],U&=C.eb!=null;else{C=te.f.kb,ve=(he+1)/2,Le=(pe+1)/2,be=Math.abs(C.fa),Be=Math.abs(C.Ab);var Ye=Math.abs(C.Db),qe=Math.abs(C.lb),Ve=qe*(pe-1)+he;U&=be*(pe-1)+he<=C.Fd,U&=Be*(Le-1)+ve<=C.Cd,U=(U&=Ye*(Le-1)+ve<=C.Ed)&be>=he&Be>=ve&Ye>=ve,U&=C.y!=null,U&=C.f!=null,U&=C.ea!=null,ce==12&&(U&=qe>=he,U&=Ve<=C.Tc,U&=C.F!=null)}else U=0;C=U?0:2}}return C!=0||z!=null&&z.fd&&(C=Uu(te)),C}var Ps=64,Dc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],DA=24,UA=32,Lu=8,di=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];dt("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(C){return C},N.Predictor2=function(C,U,z){return U[z+0]},N.Predictor3=function(C,U,z){return U[z+1]},N.Predictor4=function(C,U,z){return U[z-1]},N.Predictor5=function(C,U,z){return At(At(C,U[z+1]),U[z+0])},N.Predictor6=function(C,U,z){return At(C,U[z-1])},N.Predictor7=function(C,U,z){return At(C,U[z+0])},N.Predictor8=function(C,U,z){return At(U[z-1],U[z+0])},N.Predictor9=function(C,U,z){return At(U[z+0],U[z+1])},N.Predictor10=function(C,U,z){return At(At(C,U[z-1]),At(U[z+0],U[z+1]))},N.Predictor11=function(C,U,z){var te=U[z+0];return 0>=Wt(te>>24&255,C>>24&255,(U=U[z-1])>>24&255)+Wt(te>>16&255,C>>16&255,U>>16&255)+Wt(te>>8&255,C>>8&255,U>>8&255)+Wt(255&te,255&C,255&U)?te:C},N.Predictor12=function(C,U,z){var te=U[z+0];return(kt((C>>24&255)+(te>>24&255)-((U=U[z-1])>>24&255))<<24|kt((C>>16&255)+(te>>16&255)-(U>>16&255))<<16|kt((C>>8&255)+(te>>8&255)-(U>>8&255))<<8|kt((255&C)+(255&te)-(255&U)))>>>0},N.Predictor13=function(C,U,z){var te=U[z-1];return(Ft((C=At(C,U[z+0]))>>24&255,te>>24&255)<<24|Ft(C>>16&255,te>>16&255)<<16|Ft(C>>8&255,te>>8&255)<<8|Ft(C>>0&255,te>>0&255))>>>0};var Hm=N.PredictorAdd0;N.PredictorAdd1=Mt,dt("Predictor2","PredictorAdd2"),dt("Predictor3","PredictorAdd3"),dt("Predictor4","PredictorAdd4"),dt("Predictor5","PredictorAdd5"),dt("Predictor6","PredictorAdd6"),dt("Predictor7","PredictorAdd7"),dt("Predictor8","PredictorAdd8"),dt("Predictor9","PredictorAdd9"),dt("Predictor10","PredictorAdd10"),dt("Predictor11","PredictorAdd11"),dt("Predictor12","PredictorAdd12"),dt("Predictor13","PredictorAdd13");var Af=N.PredictorAdd2;It("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),It("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var Ih,no=N.ColorIndexInverseTransform,aa=N.MapARGB,Uc=N.VP8LColorIndexInverseTransformAlpha,uf=N.MapAlpha,Vl=N.VP8LPredictorsAdd=[];Vl.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var Lc,Ka,ba,Mc,fi,To,il,Bo,cs,No,Bs,hi,LA,ol,Mu,Pc,jc,Oc,MA,Pu,Qc,Gl,PA,As,Oi,Vn,Gn,Vr,ps=a(511),ro=a(2041),Hc=a(225),Vc=a(767),zl=0,Fh=ro,jA=Hc,ia=Vc,so=ps,Ra=0,ju=1,ll=2,df=3,OA=4,Kl=5,Rh=6,ff=7,Gc=8,ql=9,Ou=10,Dh=[2,3,7],ao=[3,3,11],Qi=[280,256,256,256,40],QA=[0,1,1,1,0],Wl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$l=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],HA=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],jx=8,hf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],mf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],js=null,us=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],zc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],cl=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Vm=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],VA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ox=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Yl=[],qa=[],Hi=[],Qx=1,Qu=2,Al=[],oa=[];ot("UpsampleRgbLinePair",ye,3),ot("UpsampleBgrLinePair",Oe,3),ot("UpsampleRgbaLinePair",Sn,4),ot("UpsampleBgraLinePair",Wn,4),ot("UpsampleArgbLinePair",fn,4),ot("UpsampleRgba4444LinePair",St,2),ot("UpsampleRgb565LinePair",Xe,2);var Jl=N.UpsampleRgbLinePair,Kc=N.UpsampleBgrLinePair,ul=N.UpsampleRgbaLinePair,Uh=N.UpsampleBgraLinePair,Lh=N.UpsampleArgbLinePair,Hu=N.UpsampleRgba4444LinePair,Mh=N.UpsampleRgb565LinePair,dl=16,Os=1<<dl-1,qc=-227,Ph=482,Iw=6,Hx=0,Fw=a(256),Qs=a(256),Gm=a(256),pf=a(256),gf=a(Ph-qc),zm=a(Ph-qc);Sr("YuvToRgbRow",ye,3),Sr("YuvToBgrRow",Oe,3),Sr("YuvToRgbaRow",Sn,4),Sr("YuvToBgraRow",Wn,4),Sr("YuvToArgbRow",fn,4),Sr("YuvToRgba4444Row",St,2),Sr("YuvToRgb565Row",Xe,2);var GA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xl=[0,2,8],Rw=[8,7,6,4,4,2,2,2,1,1,1,1],Vx=1;this.WebPDecodeRGBA=function(C,U,z,te,ce){var he=ju,pe=new Ol,ve=new Wr;pe.ba=ve,ve.S=he,ve.width=[ve.width],ve.height=[ve.height];var be=ve.width,Be=ve.height,Le=new ls;if(Le==null||C==null)var Ye=2;else e(Le!=null),Ye=al(C,U,z,Le.width,Le.height,Le.Pd,Le.Qd,Le.format,null);if(Ye!=0?be=0:(be!=null&&(be[0]=Le.width[0]),Be!=null&&(Be[0]=Le.height[0]),be=1),be){ve.width=ve.width[0],ve.height=ve.height[0],te!=null&&(te[0]=ve.width),ce!=null&&(ce[0]=ve.height);e:{if(te=new Ms,(ce=new Ic).data=C,ce.w=U,ce.ha=z,ce.kd=1,U=[0],e(ce!=null),((C=al(ce.data,ce.w,ce.ha,null,null,null,U,null,ce))==0||C==7)&&U[0]&&(C=4),(U=C)==0){if(e(pe!=null),te.data=ce.data,te.w=ce.w+ce.offset,te.ha=ce.ha-ce.offset,te.put=hs,te.ac=Or,te.bc=ga,te.ma=pe,ce.xa){if((C=tt())==null){pe=1;break e}if(function(qe,Ve){var gt=[0],at=[0],Me=[0];t:for(;;){if(qe==null)return 0;if(Ve==null)return qe.a=2,0;if(qe.l=Ve,qe.a=0,re(qe.m,Ve.data,Ve.w,Ve.ha),!Ht(qe.m,gt,at,Me)){qe.a=3;break t}if(qe.xb=Qu,Ve.width=gt[0],Ve.height=at[0],!Qe(gt[0],at[0],1,qe,null))break t;return 1}return e(qe.a!=0),0}(C,te)){if(te=(U=RA(te.width,te.height,pe.Oa,pe.ba))==0){t:{te=C;n:for(;;){if(te==null){te=0;break t}if(e(te.s.yc!=null),e(te.s.Ya!=null),e(0<te.s.Wb),e((z=te.l)!=null),e((ce=z.ma)!=null),te.xb!=0){if(te.ca=ce.ba,te.tb=ce.tb,e(te.ca!=null),!Rc(ce.Oa,z,df)){te.a=2;break n}if(!We(te,z.width)||z.da)break n;if((z.da||Bn(te.ca.S))&&He(),11>te.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),te.ca.f.kb.F!=null&&He()),te.Pb&&0<te.s.ua&&te.s.vb.X==null&&!et(te.s.vb,te.s.Wa.Xa)){te.a=1;break n}te.xb=0}if(!ke(te,te.V,te.Ba,te.c,te.i,z.o,Ne))break n;ce.Dc=te.Ma,te=1;break t}e(te.a!=0),te=0}te=!te}te&&(U=C.a)}else U=C.a}else{if((C=new xa)==null){pe=1;break e}if(C.Fa=ce.na,C.P=ce.P,C.qc=ce.Sa,Sc(C,te)){if((U=RA(te.width,te.height,pe.Oa,pe.ba))==0){if(C.Aa=0,z=pe.Oa,e((ce=C)!=null),z!=null){if(0<(be=0>(be=z.Md)?0:100<be?255:255*be/100)){for(Be=Le=0;4>Be;++Be)12>(Ye=ce.pb[Be]).lc&&(Ye.ia=be*Rw[0>Ye.lc?0:Ye.lc]>>3),Le|=Ye.ia;Le&&(alert("todo:VP8InitRandom"),ce.ia=1)}ce.Ga=z.Id,100<ce.Ga?ce.Ga=100:0>ce.Ga&&(ce.Ga=0)}TA(C,te)||(U=C.a)}}else U=C.a}U==0&&pe.Oa!=null&&pe.Oa.fd&&(U=Uu(pe.ba))}pe=U}he=pe!=0?null:11>he?ve.f.RGBA.eb:ve.f.kb.y}else he=null;return he};var Gx=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(N,B){for(var H="",P=0;P<4;P++)H+=String.fromCharCode(N[B++]);return H}function d(N,B){return(N[B+0]<<0|N[B+1]<<8|N[B+2]<<16)>>>0}function h(N,B){return(N[B+0]<<0|N[B+1]<<8|N[B+2]<<16|N[B+3]<<24)>>>0}new l;var p=[0],g=[0],w=[],b=new l,E=t,T=function(N,B){var H={},P=0,M=!1,V=0,G=0;if(H.frames=[],!function(W,J,ne,ie){for(var de=0;de<ie;de++)if(W[J+de]!=ne.charCodeAt(de))return!0;return!1}(N,B,"RIFF",4)){var oe,K;for(h(N,B+=4),B+=8;B<N.length;){var Z=A(N,B),re=h(N,B+=4);B+=4;var q=re+(1&re);switch(Z){case"VP8 ":case"VP8L":H.frames[P]===void 0&&(H.frames[P]={}),(j=H.frames[P]).src_off=M?G:B-8,j.src_size=V+re+8,P++,M&&(M=!1,V=0,G=0);break;case"VP8X":(j=H.header={}).feature_flags=N[B];var X=B+4;j.canvas_width=1+d(N,X),X+=3,j.canvas_height=1+d(N,X),X+=3;break;case"ALPH":M=!0,V=q+8,G=B-8;break;case"ANIM":(j=H.header).bgcolor=h(N,B),X=B+4,j.loop_count=(oe=N)[(K=X)+0]<<0|oe[K+1]<<8,X+=2;break;case"ANMF":var ue,j;(j=H.frames[P]={}).offset_x=2*d(N,B),B+=3,j.offset_y=2*d(N,B),B+=3,j.width=1+d(N,B),B+=3,j.height=1+d(N,B),B+=3,j.duration=d(N,B),B+=3,ue=N[B++],j.dispose=1&ue,j.blend=ue>>1&1}Z!="ANMF"&&(B+=q)}return H}}(E,0);T.response=E,T.rgbaoutput=!0,T.dataurl=!1;var I=T.header?T.header:null,k=T.frames?T.frames:null;if(I){I.loop_counter=I.loop_count,p=[I.canvas_height],g=[I.canvas_width];for(var F=0;F<k.length&&k[F].blend!=0;F++);}var R=k[0],L=b.WebPDecodeRGBA(E,R.src_off,R.src_size,g,p);R.rgba=L,R.imgwidth=g[0],R.imgheight=p[0];for(var S=0;S<g[0]*p[0]*4;S++)w[S]=L[S];return this.width=g,this.height=p,this.data=w,this}(function(t){var e=function(){return typeof v_=="function"},n=function(p,g,w,b){var E=4,T=i;switch(b){case t.image_compression.FAST:E=1,T=a;break;case t.image_compression.MEDIUM:E=6,T=o;break;case t.image_compression.SLOW:E=9,T=l}p=r(p,g,w,T);var I=v_(p,{level:E});return t.__addimage__.arrayBufferToBinaryString(I)},r=function(p,g,w,b){for(var E,T,I,k=p.length/g,F=new Uint8Array(p.length+k),R=d(),L=0;L<k;L+=1){if(I=L*g,E=p.subarray(I,I+g),b)F.set(b(E,w,T),I+L);else{for(var S,N=R.length,B=[];S<N;S+=1)B[S]=R[S](E,w,T);var H=h(B.concat());F.set(B[H],I+L)}T=E}return F},s=function(p){var g=Array.apply([],p);return g.unshift(0),g},a=function(p,g){var w,b=[],E=p.length;b[0]=1;for(var T=0;T<E;T+=1)w=p[T-g]||0,b[T+1]=p[T]-w+256&255;return b},i=function(p,g,w){var b,E=[],T=p.length;E[0]=2;for(var I=0;I<T;I+=1)b=w&&w[I]||0,E[I+1]=p[I]-b+256&255;return E},o=function(p,g,w){var b,E,T=[],I=p.length;T[0]=3;for(var k=0;k<I;k+=1)b=p[k-g]||0,E=w&&w[k]||0,T[k+1]=p[k]+256-(b+E>>>1)&255;return T},l=function(p,g,w){var b,E,T,I,k=[],F=p.length;k[0]=4;for(var R=0;R<F;R+=1)b=p[R-g]||0,E=w&&w[R]||0,T=w&&w[R-g]||0,I=A(b,E,T),k[R+1]=p[R]-I+256&255;return k},A=function(p,g,w){if(p===g&&g===w)return p;var b=Math.abs(g-w),E=Math.abs(p-w),T=Math.abs(p+g-w-w);return b<=E&&b<=T?p:E<=T?g:w},d=function(){return[s,a,i,o,l]},h=function(p){var g=p.map(function(w){return w.reduce(function(b,E){return b+Math.abs(E)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(p,g,w,b){var E,T,I,k,F,R,L,S,N,B,H,P,M,V,G,oe=this.decode.FLATE_DECODE,K="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(I=new mae(p)).imgData,T=I.bits,E=I.colorSpace,F=I.colors,[4,6].indexOf(I.colorType)!==-1){if(I.bits===8){N=(S=I.pixelBitlength==32?new Uint32Array(I.decodePixels().buffer):I.pixelBitlength==16?new Uint16Array(I.decodePixels().buffer):new Uint8Array(I.decodePixels().buffer)).length,H=new Uint8Array(N*I.colors),B=new Uint8Array(N);var Z,re=I.pixelBitlength-I.bits;for(V=0,G=0;V<N;V++){for(M=S[V],Z=0;Z<re;)H[G++]=M>>>Z&255,Z+=I.bits;B[V]=M>>>Z&255}}if(I.bits===16){N=(S=new Uint32Array(I.decodePixels().buffer)).length,H=new Uint8Array(N*(32/I.pixelBitlength)*I.colors),B=new Uint8Array(N*(32/I.pixelBitlength)),P=I.colors>1,V=0,G=0;for(var q=0;V<N;)M=S[V++],H[G++]=M>>>0&255,P&&(H[G++]=M>>>16&255,M=S[V++],H[G++]=M>>>0&255),B[q++]=M>>>16&255;T=8}b!==t.image_compression.NONE&&e()?(p=n(H,I.width*I.colors,I.colors,b),L=n(B,I.width,1,b)):(p=H,L=B,oe=void 0)}if(I.colorType===3&&(E=this.color_spaces.INDEXED,R=I.palette,I.transparency.indexed)){var X=I.transparency.indexed,ue=0;for(V=0,N=X.length;V<N;++V)ue+=X[V];if((ue/=255)===N-1&&X.indexOf(0)!==-1)k=[X.indexOf(0)];else if(ue!==N){for(S=I.decodePixels(),B=new Uint8Array(S.length),V=0,N=S.length;V<N;V++)B[V]=X[S[V]];L=n(B,I.width,1)}}var j=function(W){var J;switch(W){case t.image_compression.FAST:J=11;break;case t.image_compression.MEDIUM:J=13;break;case t.image_compression.SLOW:J=14;break;default:J=12}return J}(b);return oe===this.decode.FLATE_DECODE&&(K="/Predictor "+j+" "),K+="/Colors "+F+" /BitsPerComponent "+T+" /Columns "+I.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(L&&this.__addimage__.isArrayBuffer(L)||this.__addimage__.isArrayBufferView(L))&&(L=this.__addimage__.arrayBufferToBinaryString(L)),{alias:w,data:p,index:g,filter:oe,decodeParameters:K,transparency:k,palette:R,sMask:L,predictor:j,width:I.width,height:I.height,bitsPerComponent:T,colorSpace:E}}}})(an.API),function(t){t.processGIF89A=function(e,n,r,s){var a=new pae(e),i=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var A={data:l,width:i,height:o},d=new wC(100).encode(A,100);return t.processJPEG.call(this,d,n,r,s)},t.processGIF87A=t.processGIF89A}(an.API),ic.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ic.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Yr.log("bit decode error:"+n)}},ic.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[i+4*o]=l.blue,this.data[i+4*o+1]=l.green,this.data[i+4*o+2]=l.red,this.data[i+4*o+3]=255}n!==0&&(this.pos+=4-n)}},ic.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+2*s*4,o=a>>4,l=15&a,A=this.palette[o];if(this.data[i]=A.blue,this.data[i+1]=A.green,this.data[i+2]=A.red,this.data[i+3]=255,2*s+1>=this.width)break;A=this.palette[l],this.data[i+4]=A.blue,this.data[i+4+1]=A.green,this.data[i+4+2]=A.red,this.data[i+4+3]=255}e!==0&&(this.pos+=4-e)}},ic.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(s<this.palette.length){var i=this.palette[s];this.data[a]=i.red,this.data[a+1]=i.green,this.data[a+2]=i.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},ic.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,A=a>>15?255:0,d=r*this.width*4+4*s;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=i,this.data[d+3]=A}this.pos+=t}},ic.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&n)/n*255|0,A=(i>>11)/e*255|0,d=s*this.width*4+4*a;this.data[d]=A,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},ic.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=e*this.width*4+4*n;this.data[i]=a,this.data[i+1]=s,this.data[i+2]=r,this.data[i+3]=255}this.pos+=this.width%4}},ic.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=i}},ic.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,s){var a=new ic(e,!1),i=a.width,o=a.height,l={data:a.getData(),width:i,height:o},A=new wC(100).encode(l,100);return t.processJPEG.call(this,A,n,r,s)}}(an.API),BI.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,s){var a=new BI(e),i=a.width,o=a.height,l={data:a.getData(),width:i,height:o},A=new wC(100).encode(l,100);return t.processJPEG.call(this,A,n,r,s)}}(an.API),an.API.processRGBA=function(t,e,n){for(var r=t.data,s=r.length,a=new Uint8Array(s/4*3),i=new Uint8Array(s/4),o=0,l=0,A=0;A<s;A+=4){var d=r[A],h=r[A+1],p=r[A+2],g=r[A+3];a[o++]=d,a[o++]=h,a[o++]=p,i[l++]=g}var w=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:w,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},an.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},o0=an.API,J1=o0.getCharWidthsArray=function(t,e){var n,r,s=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),i=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:s.metadata.Unicode.widths,l=o.fof?o.fof:1,A=e.kerning?e.kerning:s.metadata.Unicode.kerning,d=A.fof?A.fof:1,h=e.doKerning!==!1,p=0,g=t.length,w=0,b=o[0]||l,E=[];for(n=0;n<g;n++)r=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?E.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+i*(1e3/a)||0)/1e3):(p=h&&Mr(A[r])==="object"&&!isNaN(parseInt(A[r][w],10))?A[r][w]/d:0,E.push((o[r]||b)/l+p)),w=r;return E},EI=o0.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return o0.processArabic&&(t=o0.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,s)/n:J1.apply(this,arguments).reduce(function(a,i){return a+i},0)},_I=function(t,e,n,r){for(var s=[],a=0,i=t.length,o=0;a!==i&&o+e[a]<n;)o+=e[a],a++;s.push(t.slice(0,a));var l=a;for(o=0;a!==i;)o+e[a]>r&&(s.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&s.push(t.slice(l,a)),s},SI=function(t,e,n){n||(n={});var r,s,a,i,o,l,A,d=[],h=[d],p=n.textIndent||0,g=0,w=0,b=t.split(" "),E=J1.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var T=Array(l).join(" "),I=[];b.map(function(F){(F=F.split(/\s*\n/)).length>1?I=I.concat(F.map(function(R,L){return(L&&R.length?`
`:"")+R})):I.push(F[0])}),b=I,l=EI.apply(this,[T,n])}for(a=0,i=b.length;a<i;a++){var k=0;if(r=b[a],l&&r[0]==`
`&&(r=r.substr(1),k=1),p+g+(w=(s=J1.apply(this,[r,n])).reduce(function(F,R){return F+R},0))>e||k){if(w>e){for(o=_I.apply(this,[r,s,e-(p+g),e]),d.push(o.shift()),d=[o.pop()];o.length;)h.push([o.shift()]);w=s.slice(r.length-(d[0]?d[0].length:0)).reduce(function(F,R){return F+R},0)}else d=[r];h.push(d),p=w+l,g=E}else d.push(r),p+=g+w,g=E}return A=l?function(F,R){return(R?T:"")+F.join(" ")}:function(F){return F.join(" ")},h.map(A)},o0.splitTextToSize=function(t,e,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var i=1*this.internal.scaleFactor*e/s;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=n.lineIndent;var o,l,A=[];for(o=0,l=r.length;o<l;o++)A=A.concat(SI.apply(this,[r[o],i,a]));return A},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},s=0;s<e.length;s++)n[e[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=e[s];var a=function(h){return"0x"+parseInt(h,10).toString(16)},i=t.__fontmetrics__.compress=function(h){var p,g,w,b,E=["{"];for(var T in h){if(p=h[T],isNaN(parseInt(T,10))?g="'"+T+"'":(T=parseInt(T,10),g=(g=a(T).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof p=="number")p<0?(w=a(p).slice(3),b="-"):(w=a(p).slice(2),b=""),w=b+w.slice(0,-1)+r[w.slice(-1)];else{if(Mr(p)!=="object")throw new Error("Don't know what to do with value type "+Mr(p)+".");w=i(p)}E.push(g+w)}return E.push("}"),E.join("")},o=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,g,w,b,E={},T=1,I=E,k=[],F="",R="",L=h.length-1,S=1;S<L;S+=1)(b=h[S])=="'"?p?(w=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(k.push([I,w]),I={},w=void 0):b=="}"?((g=k.pop())[0][g[1]]=I,w=void 0,I=g[0]):b=="-"?T=-1:w===void 0?n.hasOwnProperty(b)?(F+=n[b],w=parseInt(F,16)*T,T=1,F=""):F+=b:n.hasOwnProperty(b)?(R+=n[b],I[w]=parseInt(R,16)*T,T=1,w=void 0,R=""):R+=b;return E},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var p=h.font,g=d.Unicode[p.postScriptName];g&&(p.metadata.Unicode={},p.metadata.Unicode.widths=g.widths,p.metadata.Unicode.kerning=g.kerning);var w=A.Unicode[p.postScriptName];w&&(p.metadata.Unicode.encoding=w,p.encoding=w.codePages[0])}])}(an.API),function(t){var e=function(n){for(var r=n.length,s=new Uint8Array(r),a=0;a<r;a++)s[a]=n.charCodeAt(a);return s};t.API.events.push(["addFont",function(n){var r=void 0,s=n.font,a=n.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(i,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(pg(o)),i.metadata=t.API.TTFFont.open(o),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(s,r)}}])}(an),function(t){function e(){return(yn.canvg?Promise.resolve(yn.canvg):h_(()=>import("./index.es-D2ZG78Re.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}an.API.addSvgAsImage=function(n,r,s,a,i,o,l,A){if(isNaN(r)||isNaN(s))throw Yr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(i))throw Yr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=a,d.height=i;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(w){return w.fromString(h,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(p)}).then(function(){g.addImage(d.toDataURL("image/jpeg",1),r,s,a,i,l,A)})}}(),an.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,n);return this},an.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,s,a,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),l=[],A=0,d=0,h=0;function p(w,b){var E,T=!1;for(E=0;E<w.length;E+=1)w[E]===b&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=o.length;for(h=0;h<g;h+=1)n[o[h]].value=n[o[h]].defaultValue,n[o[h]].explicitSet=!1}if(Mr(t)==="object"){for(s in t)if(a=t[s],p(o,s)&&a!==void 0){if(n[s].type==="boolean"&&typeof a=="boolean")n[s].value=a;else if(n[s].type==="name"&&p(n[s].valueSet,a))n[s].value=a;else if(n[s].type==="integer"&&Number.isInteger(a))n[s].value=a;else if(n[s].type==="array"){for(A=0;A<a.length;A+=1)if(r=!0,a[A].length===1&&typeof a[A][0]=="number")l.push(String(a[A]-1));else if(a[A].length>1){for(d=0;d<a[A].length;d+=1)typeof a[A][d]!="number"&&(r=!1);r===!0&&l.push([a[A][0]-1,a[A][1]-1].join(" "))}n[s].value="["+l.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,b=[];for(w in n)n[w].explicitSet===!0&&(n[w].type==="name"?b.push("/"+w+" /"+n[w].value):b.push("/"+w+" "+n[w].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),A=a.length+i.length+o.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+A+" >>"),this.internal.write("stream"),this.internal.write(s+a+i+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(an.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,i){for(var o,l=i.metadata.Unicode.widths,A=["","0","00","000","0000"],d=[""],h=0,p=a.length;h<p;++h){if(o=i.metadata.characterToGlyph(a.charCodeAt(h)),i.metadata.glyIdsUsed.push(o),i.metadata.toUnicode[o]=a.charCodeAt(h),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(i.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(A[4-o.length],o)}return d.join("")},r=function(a){var i,o,l,A,d,h,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(o=Object.keys(a).sort(function(g,w){return g-w})).length;h<p;h++)i=o[h],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[i]!==void 0&&a[i]!==null&&typeof a[i].toString=="function"&&(A=("0000"+a[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),l.push("<"+i+"><"+A+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(i){var o=i.font,l=i.out,A=i.newObject,d=i.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),g="",w=0;w<p.length;w++)g+=String.fromCharCode(p[w]);var b=A();d({data:g,addLength1:!0,objectId:b}),l("endobj");var E=A();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:E}),l("endobj");var T=A();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+k0(o.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var I=A();l("<<"),l("/Type /Font"),l("/BaseFont /"+k0(o.fontName)),l("/FontDescriptor "+T+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=A(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+E+" 0 R"),l("/BaseFont /"+k0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+I+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(i){var o=i.font,l=i.out,A=i.newObject,d=i.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var w=A();d({data:p,addLength1:!0,objectId:w}),l("endobj");var b=A();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var E=A();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+w+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+k0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=A();for(var T=0;T<o.metadata.hmtx.widths.length;T++)o.metadata.hmtx.widths[T]=parseInt(o.metadata.hmtx.widths[T]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+k0(o.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var s=function(a){var i,o=a.text||"",l=a.x,A=a.y,d=a.options||{},h=a.mutex||{},p=h.pdfEscape,g=h.activeFontKey,w=h.fonts,b=g,E="",T=0,I="",k=w[b].encoding;if(w[b].encoding!=="Identity-H")return{text:o,x:l,y:A,options:d,mutex:h};for(I=o,b=g,Array.isArray(o)&&(I=o[0]),T=0;T<I.length;T+=1)w[b].metadata.hasOwnProperty("cmap")&&(i=w[b].metadata.cmap.unicode.codeMap[I[T].charCodeAt(0)]),i||I[T].charCodeAt(0)<256&&w[b].metadata.hasOwnProperty("Unicode")?E+=I[T]:E+="";var F="";return parseInt(b.slice(1))<14||k==="WinAnsiEncoding"?F=p(E,b).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(F=n(E,w[b])),h.isHex=!0,{text:F,x:l,y:A,options:d,mutex:h}};e.events.push(["postProcessText",function(a){var i=a.text||"",o=[],l={text:i,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(i)){var A=0;for(A=0;A<i.length;A+=1)Array.isArray(i[A])&&i[A].length===3?o.push([s(Object.assign({},l,{text:i[A][0]})).text,i[A][1],i[A][2]]):o.push(s(Object.assign({},l,{text:i[A]})).text);a.text=o}else a.text=s(Object.assign({},l,{text:i})).text}])}(an),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(an.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var s,a,i,o,l,A,d,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,k=0;this.__bidiEngine__={};var F=function(P){var M=P.charCodeAt(),V=M>>8,G=b[V];return G!==void 0?h[256*G+(255&M)]:V===252||V===253?"AL":T.test(V)?"L":V===8?"R":"N"},R=function(P){for(var M,V=0;V<P.length;V++){if((M=F(P.charAt(V)))==="L")return!1;if(M==="R")return!0}return!1},L=function(P,M,V,G){var oe,K,Z,re,q=M[G];switch(q){case"L":case"R":I=!1;break;case"N":case"AN":break;case"EN":I&&(q="AN");break;case"AL":I=!0,q="R";break;case"WS":q="N";break;case"CS":G<1||G+1>=M.length||(oe=V[G-1])!=="EN"&&oe!=="AN"||(K=M[G+1])!=="EN"&&K!=="AN"?q="N":I&&(K="AN"),q=K===oe?K:"N";break;case"ES":q=(oe=G>0?V[G-1]:"B")==="EN"&&G+1<M.length&&M[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&V[G-1]==="EN"){q="EN";break}if(I){q="N";break}for(Z=G+1,re=M.length;Z<re&&M[Z]==="ET";)Z++;q=Z<re&&M[Z]==="EN"?"EN":"N";break;case"NSM":if(i&&!o){for(re=M.length,Z=G+1;Z<re&&M[Z]==="NSM";)Z++;if(Z<re){var X=P[G],ue=X>=1425&&X<=2303||X===64286;if(oe=M[Z],ue&&(oe==="R"||oe==="AL")){q="R";break}}}q=G<1||(oe=M[G-1])==="B"?"N":V[G-1];break;case"B":I=!1,s=!0,q=k;break;case"S":a=!0,q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"BN":q="N"}return q},S=function(P,M,V){var G=P.split("");return V&&N(G,V,{hiLevel:k}),G.reverse(),M&&M.reverse(),G.join("")},N=function(P,M,V){var G,oe,K,Z,re,q=-1,X=P.length,ue=0,j=[],W=k?g:p,J=[];for(I=!1,s=!1,a=!1,oe=0;oe<X;oe++)J[oe]=F(P[oe]);for(K=0;K<X;K++){if(re=ue,j[K]=L(P,J,j,K),G=240&(ue=W[re][w[j[K]]]),ue&=15,M[K]=Z=W[ue][5],G>0)if(G===16){for(oe=q;oe<K;oe++)M[oe]=1;q=-1}else q=-1;if(W[ue][6])q===-1&&(q=K);else if(q>-1){for(oe=q;oe<K;oe++)M[oe]=Z;q=-1}J[K]==="B"&&(M[K]=0),V.hiLevel|=Z}a&&function(ne,ie,de){for(var me=0;me<de;me++)if(ne[me]==="S"){ie[me]=k;for(var xe=me-1;xe>=0&&ne[xe]==="WS";xe--)ie[xe]=k}}(J,M,X)},B=function(P,M,V,G,oe){if(!(oe.hiLevel<P)){if(P===1&&k===1&&!s)return M.reverse(),void(V&&V.reverse());for(var K,Z,re,q,X=M.length,ue=0;ue<X;){if(G[ue]>=P){for(re=ue+1;re<X&&G[re]>=P;)re++;for(q=ue,Z=re-1;q<Z;q++,Z--)K=M[q],M[q]=M[Z],M[Z]=K,V&&(K=V[q],V[q]=V[Z],V[Z]=K);ue=re}ue++}}},H=function(P,M,V){var G=P.split(""),oe={hiLevel:k};return V||(V=[]),N(G,V,oe),function(K,Z,re){if(re.hiLevel!==0&&d)for(var q,X=0;X<K.length;X++)Z[X]===1&&(q=E.indexOf(K[X]))>=0&&(K[X]=E[q+1])}(G,V,oe),B(2,G,M,V,oe),B(1,G,M,V,oe),G.join("")};return this.__bidiEngine__.doBidiReorder=function(P,M,V){if(function(oe,K){if(K)for(var Z=0;Z<oe.length;Z++)K[Z]=Z;o===void 0&&(o=R(oe)),A===void 0&&(A=R(oe))}(P,M),i||!l||A)if(i&&l&&o^A)k=o?1:0,P=S(P,M,V);else if(!i&&l&&A)k=o?1:0,P=H(P,M,V),P=S(P,M);else if(!i||o||l||A){if(i&&!l&&o^A)P=S(P,M),o?(k=0,P=H(P,M,V)):(k=1,P=H(P,M,V),P=S(P,M));else if(i&&o&&!l&&A)k=1,P=H(P,M,V),P=S(P,M);else if(!i&&!l&&o^A){var G=d;o?(k=1,P=H(P,M,V),k=0,d=!1,P=H(P,M,V),d=G):(k=0,P=H(P,M,V),P=S(P,M),k=1,d=!1,P=H(P,M,V),d=G,P=S(P,M))}}else k=0,P=H(P,M,V);else k=o?1:0,P=H(P,M,V);return P},this.__bidiEngine__.setOptions=function(P){P&&(i=P.isInputVisual,l=P.isOutputVisual,o=P.isInputRtl,A=P.isOutputRtl,d=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var s=r.text,a=(r.x,r.y,r.options||{}),i=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(i=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?i.push([n.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):i.push([n.doBidiReorder(s[o])]);r.text=i}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(an),an.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Jd(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Iae(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new gae(this.contents),this.head=new vae(this),this.name=new Eae(this),this.cmap=new X8(this),this.toUnicode={},this.hhea=new yae(this),this.maxp=new _ae(this),this.hmtx=new Sae(this),this.post=new bae(this),this.os2=new wae(this),this.loca=new kae(this),this.glyf=new Tae(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,o,l,A;for(A=[],i=0,o=(l=this.bbox).length;i<o;i++)e=l[i],A.push(Math.round(e*this.scaleFactor));return A}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),(32768&(n=s>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var s,a,i,o;for(i=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)s=e.charCodeAt(a),i+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return i*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Cc,Jd=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,s;for(s=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,s,a,i,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^a)+65536*(255^i)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*s+16777216*a+65536*i+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,s,a;for(a=[],r=0,s=e.length;r<s;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),gae=function(){var t;function e(n){var r,s,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,s,a,i,o,l,A,d,h,p,g,w,b;for(b in g=Object.keys(n).length,l=Math.log(2),h=16*Math.floor(Math.log(g)/l),i=Math.floor(h/l),d=16*g-h,(s=new Jd).writeInt(this.scalarType),s.writeShort(g),s.writeShort(h),s.writeShort(i),s.writeShort(d),a=16*g,A=s.pos+a,o=null,w=[],n)for(p=n[b],s.writeString(b),s.writeInt(t(p)),s.writeInt(A),s.writeInt(p.length),w=w.concat(p),b==="head"&&(o=A),A+=p.length;A%4;)w.push(0),A++;return s.write(w),r=2981146554-t(s.data),s.pos=o+8,s.writeUInt32(r),s.data},t=function(n){var r,s,a,i;for(n=Z8.call(n);n.length%4;)n.push(0);for(a=new Jd(n),s=0,r=0,i=n.length;r<i;r=r+=4)s+=a.readUInt32();return 4294967295&s},e}(),xae={}.hasOwnProperty,wA=function(t,e){for(var n in e)xae.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Cc=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var vae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,Cc),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Jd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),NI=function(){function t(e,n){var r,s,a,i,o,l,A,d,h,p,g,w,b,E,T,I,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(g=e.readUInt16(),p=g/2,e.pos+=6,a=function(){var F,R;for(R=[],l=F=0;0<=p?F<p:F>p;l=0<=p?++F:--F)R.push(e.readUInt16());return R}(),e.pos+=2,b=function(){var F,R;for(R=[],l=F=0;0<=p?F<p:F>p;l=0<=p?++F:--F)R.push(e.readUInt16());return R}(),A=function(){var F,R;for(R=[],l=F=0;0<=p?F<p:F>p;l=0<=p?++F:--F)R.push(e.readUInt16());return R}(),d=function(){var F,R;for(R=[],l=F=0;0<=p?F<p:F>p;l=0<=p?++F:--F)R.push(e.readUInt16());return R}(),s=(this.length-e.pos+this.offset)/2,o=function(){var F,R;for(R=[],l=F=0;0<=s?F<s:F>s;l=0<=s?++F:--F)R.push(e.readUInt16());return R}(),l=T=0,k=a.length;T<k;l=++T)for(E=a[l],r=I=w=b[l];w<=E?I<=E:I>=E;r=w<=E?++I:--I)d[l]===0?i=r+A[l]:(i=o[d[l]/2+(r-w)-(p-l)]||0)!==0&&(i+=A[l]),this.codeMap[r]=65535&i}e.pos=h}return t.encode=function(e,n){var r,s,a,i,o,l,A,d,h,p,g,w,b,E,T,I,k,F,R,L,S,N,B,H,P,M,V,G,oe,K,Z,re,q,X,ue,j,W,J,ne,ie,de,me,xe,Se,ge,ae;switch(G=new Jd,i=Object.keys(e).sort(function(Fe,et){return Fe-et}),n){case"macroman":for(b=0,E=function(){var Fe=[];for(w=0;w<256;++w)Fe.push(0);return Fe}(),I={0:0},a={},oe=0,q=i.length;oe<q;oe++)I[xe=e[s=i[oe]]]==null&&(I[xe]=++b),a[s]={old:e[s],new:I[e[s]]},E[s]=I[e[s]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(E),{charMap:a,subtable:G.data,maxGlyphID:b+1};case"unicode":for(M=[],h=[],k=0,I={},r={},T=A=null,K=0,X=i.length;K<X;K++)I[R=e[s=i[K]]]==null&&(I[R]=++k),r[s]={old:R,new:I[R]},o=I[R]-s,T!=null&&o===A||(T&&h.push(T),M.push(s),A=o),T=s;for(T&&h.push(T),h.push(65535),M.push(65535),H=2*(B=M.length),N=2*Math.pow(Math.log(B)/Math.LN2,2),p=Math.log(N/2)/Math.LN2,S=2*B-N,l=[],L=[],g=[],w=Z=0,ue=M.length;Z<ue;w=++Z){if(P=M[w],d=h[w],P===65535){l.push(0),L.push(0);break}if(P-(V=r[P].new)>=32768)for(l.push(0),L.push(2*(g.length+B-w)),s=re=P;P<=d?re<=d:re>=d;s=P<=d?++re:--re)g.push(r[s].new);else l.push(V-P),L.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*B+2*g.length),G.writeUInt16(0),G.writeUInt16(H),G.writeUInt16(N),G.writeUInt16(p),G.writeUInt16(S),de=0,j=h.length;de<j;de++)s=h[de],G.writeUInt16(s);for(G.writeUInt16(0),me=0,W=M.length;me<W;me++)s=M[me],G.writeUInt16(s);for(Se=0,J=l.length;Se<J;Se++)o=l[Se],G.writeUInt16(o);for(ge=0,ne=L.length;ge<ne;ge++)F=L[ge],G.writeUInt16(F);for(ae=0,ie=g.length;ae<ie;ae++)b=g[ae],G.writeUInt16(b);return{charMap:r,subtable:G.data,maxGlyphID:k+1}}},t}(),X8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,Cc),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,s,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)r=new NI(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var s,a;return r==null&&(r="macroman"),s=NI.encode(n,r),(a=new Jd).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},e}(),yae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,Cc),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),wae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,Cc),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(n.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),bae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,Cc),e.prototype.tag="post",e.prototype.parse=function(n){var r,s,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var i;for(s=n.readUInt16(),this.glyphNameIndex=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var o,l,A;for(A=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)A.push(n.readUInt32());return A}).call(this)}},e}(),Cae=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Eae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,Cc),e.prototype.tag="name",e.prototype.parse=function(n){var r,s,a,i,o,l,A,d,h,p,g;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),s=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(A={},i=h=0,p=s.length;h<p;i=++h)a=s[i],n.pos=a.offset,d=n.readString(a.length),o=new Cae(d,a),A[g=a.nameID]==null&&(A[g]=[]),A[a.nameID].push(o);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},e}(),_ae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,Cc),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),Sae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,Cc),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,s,a,i,o,l,A;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],r=d=0;0<=a?d<a:d>a;r=0<=a?++d:--d)h.push(n.readInt16());return h}(),this.widths=(function(){var d,h,p,g;for(g=[],d=0,h=(p=this.metrics).length;d<h;d++)i=p[d],g.push(i.advance);return g}).call(this),s=this.widths[this.widths.length-1],A=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)A.push(this.widths.push(s));return A},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),Z8=[].slice,Tae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,Cc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,s,a,i,o,l,A,d,h,p;return n in this.cache?this.cache[n]:(i=this.file.loca,r=this.file.contents,s=i.indexOf(n),(a=i.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+s,o=(l=new Jd(r.read(a))).readShort(),d=l.readShort(),p=l.readShort(),A=l.readShort(),h=l.readShort(),this.cache[n]=o===-1?new Nae(l,d,p,A,h):new Bae(l,o,d,p,A,h),this.cache[n]))},e.prototype.encode=function(n,r,s){var a,i,o,l,A;for(o=[],i=[],l=0,A=r.length;l<A;l++)a=n[r[l]],i.push(o.length),a&&(o=o.concat(a.encode(s)));return i.push(o.length),{table:o,offsets:i}},e}(),Bae=function(){function t(e,n,r,s,a,i){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Nae=function(){function t(e,n,r,s,a){var i,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;o=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&o;)i.pos+=1&o?4:2,128&o?i.pos+=8:64&o?i.pos+=4:8&o&&(i.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Jd(Z8.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),kae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,Cc),e.prototype.tag="loca",e.prototype.parse=function(n){var r,s;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=2)i.push(2*n.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=4)i.push(n.readUInt32());return i}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var s=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<s.length;++o)if(s[o]=a,i<r.length&&r[i]==o){++i,s[o]=a;var l=this.offsets[o],A=this.offsets[o+1]-l;A>0&&(a+=A)}for(var d=new Array(4*s.length),h=0;h<s.length;++h)d[4*h+3]=255&s[h],d[4*h+2]=(65280&s[h])>>8,d[4*h+1]=(16711680&s[h])>>16,d[4*h]=(4278190080&s[h])>>24;return d},e}(),Iae=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,s,a;for(n in s=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=s[r];return e},t.prototype.glyphsFor=function(e){var n,r,s,a,i,o,l;for(s={},i=0,o=e.length;i<o;i++)s[a=e[i]]=this.font.glyf.glyphFor(a);for(a in n=[],s)(r=s[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],s[a]=r;return s},t.prototype.encode=function(e,n){var r,s,a,i,o,l,A,d,h,p,g,w,b,E,T;for(s in r=X8.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),g={0:0},T=r.charMap)g[(l=T[s]).old]=l.new;for(w in p=r.maxGlyphID,i)w in g||(g[w]=p++);return d=function(I){var k,F;for(k in F={},I)F[I[k]]=k;return F}(g),h=Object.keys(d).sort(function(I,k){return I-k}),b=function(){var I,k,F;for(F=[],I=0,k=h.length;I<k;I++)o=h[I],F.push(d[o]);return F}(),a=this.font.glyf.encode(i,b,g),A=this.font.loca.encode(a.offsets,b),E={cmap:this.font.cmap.raw(),glyf:a.table,loca:A,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},t}();an.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,s,a,i;if(Array.isArray(n))return"["+function(){var o,l,A;for(A=[],o=0,l=n.length;o<l;o++)r=n[o],A.push(e.convert(r));return A}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in a=["<<"],n)i=n[s],a.push("/"+s+" "+e.convert(i));return a.push(">>"),a.join(`
`)}return""+n},e}();function eM(t,e,n,r,s){r=r||{};var a=1.15,i=s.internal.scaleFactor,o=s.internal.getFontSize()/i,l=s.getLineHeightFactor?s.getLineHeightFactor():a,A=o*l,d=/\r\n|\r|\n/g,h="",p=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(h=typeof t=="string"?t.split(d):t,p=h.length||1),n+=o*(2-a),r.valign==="middle"?n-=p/2*A:r.valign==="bottom"&&(n-=p*A),r.halign==="center"||r.halign==="right"){var g=o;if(r.halign==="center"&&(g*=.5),h&&p>=1){for(var w=0;w<h.length;w++)s.text(h[w],e-s.getStringUnitWidth(h[w])*g,n),n+=A;return s}e-=s.getStringUnitWidth(t)*g}return r.halign==="justify"?s.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(t,e,n),s}var kI={},X0=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:kI=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,s,a;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var i=this.jsPDFDocument.internal.getFont(),o=i.fontStyle,l=i.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var A=this.getFontList()[l];A&&A.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(A[0]),o=A[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var d=t.unifyColor(e.fillColor);d&&(r=this.jsPDFDocument).setFillColor.apply(r,d),d=t.unifyColor(e.textColor),d&&(s=this.jsPDFDocument).setTextColor.apply(s,d),d=t.unifyColor(e.lineColor),d&&(a=this.jsPDFDocument).setDrawColor.apply(a,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,s,a){return this.jsPDFDocument.rect(e,n,r,s,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return kI||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),S_=function(t,e){return S_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},S_(t,e)};function tM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");S_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var nM=function(t){tM(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function Fae(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Rae(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Q2(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],s=r.map(function(a){return n.getTextWidth(a)}).reduce(function(a,i){return Math.max(a,i)},0);return s}function rM(t,e,n,r){var s=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:s,lineColor:a});var i=sM(s,!1);i&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,i)}function sM(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function ew(t,e){var n,r,s,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(s=t.right)!==null&&s!==void 0?s:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function aM(t,e){var n=ew(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function Dae(t,e,n,r,s){var a={},i=1.3333333333333333,o=bC(e,function(k){return s.getComputedStyle(k).backgroundColor});o!=null&&(a.fillColor=o);var l=bC(e,function(k){return s.getComputedStyle(k).color});l!=null&&(a.textColor=l);var A=Lae(r,n);A&&(a.cellPadding=A);var d="borderTopColor",h=i*n,p=r.borderTopWidth;if(r.borderBottomWidth===p&&r.borderRightWidth===p&&r.borderLeftWidth===p){var g=(parseFloat(p)||0)/h;g&&(a.lineWidth=g)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/h,right:(parseFloat(r.borderRightWidth)||0)/h,bottom:(parseFloat(r.borderBottomWidth)||0)/h,left:(parseFloat(r.borderLeftWidth)||0)/h},a.lineWidth.top||(a.lineWidth.right?d="borderRightColor":a.lineWidth.bottom?d="borderBottomColor":a.lineWidth.left&&(d="borderLeftColor"));var w=bC(e,function(k){return s.getComputedStyle(k)[d]});w!=null&&(a.lineColor=w);var b=["left","right","center","justify"];b.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),b=["middle","bottom","top"],b.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var E=parseInt(r.fontSize||"");isNaN(E)||(a.fontSize=E/i);var T=Uae(r);T&&(a.fontStyle=T);var I=(r.fontFamily||"").toLowerCase();return t.indexOf(I)!==-1&&(a.font=I),a}function Uae(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function bC(t,e){var n=iM(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function iM(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:iM(t.parentElement,e):n}function Lae(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),s=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=n.map(function(o){return parseInt(o||"0")/r}),i=ew(a,0);return s>i.top&&(i.top=s),s>i.bottom&&(i.bottom=s),i}function oM(t,e,n,r,s){var a,i;r===void 0&&(r=!1),s===void 0&&(s=!1);var o;typeof e=="string"?o=n.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),A=t.scaleFactor(),d=[],h=[],p=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:d,body:h,foot:p};for(var g=0;g<o.rows.length;g++){var w=o.rows[g],b=(i=(a=w==null?void 0:w.parentElement)===null||a===void 0?void 0:a.tagName)===null||i===void 0?void 0:i.toLowerCase(),E=Mae(l,A,n,w,r,s);E&&(b==="thead"?d.push(E):b==="tfoot"?p.push(E):h.push(E))}return{head:d,body:h,foot:p}}function Mae(t,e,n,r,s,a){for(var i=new nM(r),o=0;o<r.cells.length;o++){var l=r.cells[o],A=n.getComputedStyle(l);if(s||A.display!=="none"){var d=void 0;a&&(d=Dae(t,l,e,A,n)),i.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:Pae(l)})}}var h=n.getComputedStyle(r);if(i.length>0&&(s||h.display!=="none"))return i}function Pae(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function jae(t,e,n){for(var r=0,s=[t,e,n];r<s.length;r++){var a=s[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function lu(t,e,n,r,s){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a}function lM(t,e){var n=new X0(t),r=n.getDocumentOptions(),s=n.getGlobalOptions();jae(s,r,e);var a=lu({},s,r,e),i;typeof window<"u"&&(i=window);var o=Oae(s,r,e),l=Qae(s,r,e),A=Hae(n,a),d=Gae(n,a,i);return{id:e.tableId,content:d,hooks:l,styles:o,settings:A}}function Oae(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(l){if(l==="columnStyles"){var A=t[l],d=e[l],h=n[l];r.columnStyles=lu({},A,d,h)}else{var p=[t,e,n],g=p.map(function(w){return w[l]||{}});r[l]=lu({},g[0],g[1],g[2])}},a=0,i=Object.keys(r);a<i.length;a++){var o=i[a];s(o)}return r}function Qae(t,e,n){for(var r=[t,e,n],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,i=r;a<i.length;a++){var o=i[a];o.didParseCell&&s.didParseCell.push(o.didParseCell),o.willDrawCell&&s.willDrawCell.push(o.willDrawCell),o.didDrawCell&&s.didDrawCell.push(o.didDrawCell),o.willDrawPage&&s.willDrawPage.push(o.willDrawPage),o.didDrawPage&&s.didDrawPage.push(o.didDrawPage)}return s}function Hae(t,e){var n,r,s,a,i,o,l,A,d,h,p,g,w=ew(e.margin,40/t.scaleFactor()),b=(n=Vae(t,e.startY))!==null&&n!==void 0?n:w.top,E;e.showFoot===!0?E="everyPage":e.showFoot===!1?E="never":E=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var T;e.showHead===!0?T="everyPage":e.showHead===!1?T="never":T=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var I=(a=e.useCss)!==null&&a!==void 0?a:!1,k=e.theme||(I?"plain":"striped"),F=!!e.horizontalPageBreak,R=(i=e.horizontalPageBreakRepeat)!==null&&i!==void 0?i:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:I,theme:k,startY:b,margin:w,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(A=e.rowPageBreak)!==null&&A!==void 0?A:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:T,showFoot:E,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(p=e.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:F,horizontalPageBreakRepeat:R,horizontalPageBreakBehaviour:(g=e.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function Vae(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),s=t.pageNumber(),a=!1;if(n&&n.startPageNumber){var i=n.startPageNumber+n.pageNumber-1;a=i===s}return typeof e=="number"?e:(e==null||e===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function Gae(t,e,n){var r=e.head||[],s=e.body||[],a=e.foot||[];if(e.html){var i=e.includeHiddenHtml;if(n){var o=oM(t,e.html,n,i,e.useCss)||{};r=o.head||r,s=o.body||r,a=o.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||zae(r,s,a);return{columns:l,head:r,body:s,foot:a}}function zae(t,e,n){var r=t[0]||e[0]||n[0]||[],s=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var i=1,o;Array.isArray(r)?o=r[parseInt(a)]:o=r[a],typeof o=="object"&&!Array.isArray(o)&&(i=(o==null?void 0:o.colSpan)||1);for(var l=0;l<i;l++){var A=void 0;Array.isArray(r)?A=s.length:A=a+(l>0?"_".concat(l):"");var d={dataKey:A};s.push(d)}}),s}var T_=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),Kae=function(t){tM(e,t);function e(n,r,s,a,i,o){var l=t.call(this,n,r,o)||this;return l.cell=s,l.row=a,l.column=i,l.section=a.section,l}return e}(T_),qae=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,s,a,i){for(var o=0,l=n;o<l.length;o++){var A=l[o],d=new Kae(e,this,r,s,a,i),h=A(d)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,s=this.hooks.didDrawPage;r<s.length;r++){var a=s[r];a(new T_(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,s=this.hooks.willDrawPage;r<s.length;r++){var a=s[r];a(new T_(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(s,a){return s+a.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),cM=function(){function t(e,n,r,s,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof nM&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=s,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,s){var a;return Math.max(r,((a=n.cells[s.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var s=n.cells[r.index];return s?s.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(s,a){var i=r.cells[a.index];if(!i)return 0;var o=n.getLineHeight(i.styles.fontSize),l=i.padding("vertical"),A=l+o;return A>s?A:s},0)},t}(),AM=function(){function t(e,n,r){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var i=a!=null?""+a:"",o=/\r\n|\r|\n/g;this.text=i.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");r=this.x+s/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*n,a=r*s+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=ew(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),Wae=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,s=e.allRows();r<s.length;r++){var a=s[r],i=a.cells[this.index];i&&typeof i.styles.cellWidth=="number"&&(n=Math.max(n,i.styles.cellWidth))}return n},t}();function $ae(t,e){Yae(t,e);var n=[],r=0;e.columns.forEach(function(a){var i=a.getMaxCustomCellWidth(e);i?a.width=i:(a.width=a.wrappedWidth,n.push(a)),r+=a.width});var s=e.getWidth(t.pageSize().width)-r;s&&(s=B_(n,s,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),s&&(s=B_(n,s,function(a){return a.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/t.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),Xae(e),Zae(e,t),Jae(e)}function Yae(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,s=aM(t,e);e.allRows().forEach(function(a){for(var i=0,o=e.columns;i<o.length;i++){var l=o[i],A=a.cells[l.index];if(A){var d=e.hooks.didParseCell;e.callCellHooks(t,d,A,a,l,null);var h=A.padding("horizontal");A.contentWidth=Q2(A.text,A.styles,t)+h;var p=Q2(A.text.join(" ").split(/[^\S\u00A0]+/),A.styles,t);if(A.minReadableWidth=p+A.padding("horizontal"),typeof A.styles.cellWidth=="number")A.minWidth=A.styles.cellWidth,A.wrappedWidth=A.styles.cellWidth;else if(A.styles.cellWidth==="wrap"||r===!0)A.contentWidth>s?(A.minWidth=s,A.wrappedWidth=s):(A.minWidth=A.contentWidth,A.wrappedWidth=A.contentWidth);else{var g=10/n;A.minWidth=A.styles.minCellWidth||g,A.wrappedWidth=A.contentWidth,A.minWidth>A.wrappedWidth&&(A.wrappedWidth=A.minWidth)}}}}),e.allRows().forEach(function(a){for(var i=0,o=e.columns;i<o.length;i++){var l=o[i],A=a.cells[l.index];if(A&&A.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,A.wrappedWidth),l.minWidth=Math.max(l.minWidth,A.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,A.minReadableWidth);else{var d=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},h=d.cellWidth||d.minCellWidth;h&&typeof h=="number"&&(l.minWidth=h,l.wrappedWidth=h)}A&&(A.colSpan>1&&!l.minWidth&&(l.minWidth=A.minWidth),A.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=A.minWidth))}})}function B_(t,e,n){for(var r=e,s=t.reduce(function(g,w){return g+w.wrappedWidth},0),a=0;a<t.length;a++){var i=t[a],o=i.wrappedWidth/s,l=r*o,A=i.width+l,d=n(i),h=A<d?d:A;e-=h-i.width,i.width=h}if(e=Math.round(e*1e10)/1e10,e){var p=t.filter(function(g){return e<0?g.width>n(g):!0});p.length&&(e=B_(p,e,n))}return e}function Jae(t){for(var e={},n=1,r=t.allRows(),s=0;s<r.length;s++)for(var a=r[s],i=0,o=t.columns;i<o.length;i++){var l=o[i],A=e[l.index];if(n>1)n--,delete a.cells[l.index];else if(A)A.cell.height+=a.height,n=A.cell.colSpan,delete a.cells[l.index],A.left--,A.left<=1&&delete e[l.index];else{var d=a.cells[l.index];if(!d)continue;if(d.height=a.height,d.rowSpan>1){var h=r.length-s,p=d.rowSpan>h?h:d.rowSpan;e[l.index]={cell:d,left:p,row:a}}}}}function Xae(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],s=null,a=0,i=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(i-=1,i>1&&t.columns[o+1])a+=l.width,delete r.cells[l.index];else if(s){var A=s;delete r.cells[l.index],s=null,A.width=l.width+a}else{var A=r.cells[l.index];if(!A)continue;if(i=A.colSpan,a=0,A.colSpan>1){s=A,a+=l.width;continue}A.width=l.width+a}}}function Zae(t,e){for(var n={count:0,height:0},r=0,s=t.allRows();r<s.length;r++){for(var a=s[r],i=0,o=t.columns;i<o.length;i++){var l=o[i],A=a.cells[l.index];if(A){e.applyStyles(A.styles,!0);var d=A.width-A.padding("horizontal");if(A.styles.overflow==="linebreak")A.text=e.splitTextToSize(A.text,d+1/e.scaleFactor(),{fontSize:A.styles.fontSize});else if(A.styles.overflow==="ellipsize")A.text=II(A.text,d,A.styles,e,"...");else if(A.styles.overflow==="hidden")A.text=II(A.text,d,A.styles,e,"");else if(typeof A.styles.overflow=="function"){var h=A.styles.overflow(A.text,d);typeof h=="string"?A.text=[h]:A.text=h}A.contentHeight=A.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var p=A.contentHeight/A.rowSpan;A.rowSpan>1&&n.count*n.height<p*A.rowSpan?n={height:p,count:A.rowSpan}:n&&n.count>0&&n.height>p&&(p=n.height),p>a.height&&(a.height=p)}}n.count--}}function II(t,e,n,r,s){return t.map(function(a){return eie(a,e,n,r,s)})}function eie(t,e,n,r,s){var a=1e4*r.scaleFactor();if(e=Math.ceil(e*a)/a,e>=Q2(t,n,r))return t;for(;e<Q2(t+s,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+s}function uM(t,e){var n=new X0(t),r=tie(e,n.scaleFactor()),s=new qae(e,r);return $ae(n,s),n.applyStyles(n.userStyles),s}function tie(t,e){var n=t.content,r=rie(n.columns);if(n.head.length===0){var s=FI(r,"head");s&&n.head.push(s)}if(n.foot.length===0){var s=FI(r,"foot");s&&n.foot.push(s)}var a=t.settings.theme,i=t.styles;return{columns:r,head:CC("head",n.head,r,i,a,e),body:CC("body",n.body,r,i,a,e),foot:CC("foot",n.foot,r,i,a,e)}}function CC(t,e,n,r,s,a){var i={},o=e.map(function(l,A){for(var d=0,h={},p=0,g=0,w=0,b=n;w<b.length;w++){var E=b[w];if(i[E.index]==null||i[E.index].left===0)if(g===0){var T=void 0;Array.isArray(l)?T=l[E.index-p-d]:T=l[E.dataKey];var I={};typeof T=="object"&&!Array.isArray(T)&&(I=(T==null?void 0:T.styles)||{});var k=sie(t,E,A,s,r,a,I),F=new AM(T,k,t);h[E.dataKey]=F,h[E.index]=F,g=F.colSpan-1,i[E.index]={left:F.rowSpan-1,times:g}}else g--,p++;else i[E.index].left--,g=i[E.index].times,d++}return new cM(l,A,t,h)});return o}function FI(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var s=nie(e,r.raw);s!=null&&(n[r.dataKey]=s)}}),Object.keys(n).length>0?n:null}function nie(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function rie(t){return t.map(function(e,n){var r,s;return typeof e=="object"?s=(r=e.dataKey)!==null&&r!==void 0?r:n:s=n,new Wae(s,e,n)})}function sie(t,e,n,r,s,a,i){var o=Rae(r),l;t==="head"?l=s.headStyles:t==="body"?l=s.bodyStyles:t==="foot"&&(l=s.footStyles);var A=lu({},o.table,o[t],s.styles,l),d=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},h=t==="body"?d:{},p=t==="body"&&n%2===0?lu({},o.alternateRow,s.alternateRowStyles):{},g=Fae(a),w=lu({},g,A,p,h);return lu(w,i)}function aie(t,e,n){var r;n===void 0&&(n={});var s=aM(t,e),a=new Map,i=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(p){var g=e.columns.find(function(w){return w.dataKey===p||w.index===p});g&&!a.has(g.index)&&(a.set(g.index,!0),i.push(g.index),o.push(e.columns[g.index]),s-=g.wrappedWidth)});for(var A=!0,d=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;d<e.columns.length;){if(a.has(d)){d++;continue}var h=e.columns[d].wrappedWidth;if(A||s>=h)A=!1,i.push(d),o.push(e.columns[d]),s-=h;else break;d++}return{colIndexes:i,columns:o,lastIndex:d-1}}function iie(t,e){for(var n=[],r=0;r<e.columns.length;r++){var s=aie(t,e,{start:r});s.columns.length&&(n.push(s),r=s.lastIndex)}return n}function dM(t,e){var n=e.settings,r=n.startY,s=n.margin,a={x:s.left,y:r},i=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=r+s.bottom+i;if(n.pageBreak==="avoid"){var l=e.body,A=l.reduce(function(p,g){return p+g.height},0);o+=A}var d=new X0(t);(n.pageBreak==="always"||n.startY!=null&&o>d.pageSize().height)&&(hM(d),a.y=s.top),e.callWillDrawPageHooks(d,a);var h=lu({},a);e.startPageNumber=d.pageNumber(),n.horizontalPageBreak?oie(d,e,h,a):(d.applyStyles(d.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(p){return yu(d,e,p,a,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(p,g){var w=g===e.body.length-1;H2(d,e,p,w,h,a,e.columns)}),d.applyStyles(d.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(p){return yu(d,e,p,a,e.columns)})),rM(d,e,h,a),e.callEndPageHooks(d,a),e.finalY=a.y,t.lastAutoTable=e,d.applyStyles(d.userStyles)}function oie(t,e,n,r){var s=iie(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(A,d){t.applyStyles(t.userStyles),d>0?gg(t,e,n,r,A.columns,!0):RI(t,e,r,A.columns),lie(t,e,n,r,A.columns),EC(t,e,r,A.columns)});else for(var i=-1,o=s[0],l=function(){var A=i;if(o){t.applyStyles(t.userStyles);var d=o.columns;i>=0?gg(t,e,n,r,d,!0):RI(t,e,r,d),A=DI(t,e,i+1,r,d),EC(t,e,r,d)}var h=A-i;s.slice(1).forEach(function(p){t.applyStyles(t.userStyles),gg(t,e,n,r,p.columns,!0),DI(t,e,i+1,r,p.columns,h),EC(t,e,r,p.columns)}),i=A};i<e.body.length-1;)l()}function RI(t,e,n,r){var s=e.settings;t.applyStyles(t.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(a){return yu(t,e,a,n,r)})}function lie(t,e,n,r,s){t.applyStyles(t.userStyles),e.body.forEach(function(a,i){var o=i===e.body.length-1;H2(t,e,a,o,n,r,s)})}function DI(t,e,n,r,s,a){t.applyStyles(t.userStyles),a=a??e.body.length;var i=Math.min(n+a,e.body.length),o=-1;return e.body.slice(n,i).forEach(function(l,A){var d=n+A===e.body.length-1,h=fM(t,e,d,r);l.canEntireRowFit(h,s)&&(yu(t,e,l,r,s),o=n+A)}),o}function EC(t,e,n,r){var s=e.settings;t.applyStyles(t.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(a){return yu(t,e,a,n,r)})}function cie(t,e,n){var r=n.getLineHeight(t.styles.fontSize),s=t.padding("vertical"),a=Math.floor((e-s)/r);return Math.max(0,a)}function Aie(t,e,n,r){var s={};t.spansMultiplePages=!0,t.height=0;for(var a=0,i=0,o=n.columns;i<o.length;i++){var l=o[i],A=t.cells[l.index];if(A){Array.isArray(A.text)||(A.text=[A.text]);var d=new AM(A.raw,A.styles,A.section);d=lu(d,A),d.text=[];var h=cie(A,e,r);A.text.length>h&&(d.text=A.text.splice(h,A.text.length));var p=r.scaleFactor(),g=r.getLineHeightFactor();A.contentHeight=A.getContentHeight(p,g),A.contentHeight>=e&&(A.contentHeight=e,d.styles.minCellHeight-=e),A.contentHeight>t.height&&(t.height=A.contentHeight),d.contentHeight=d.getContentHeight(p,g),d.contentHeight>a&&(a=d.contentHeight),s[l.index]=d}}var w=new cM(t.raw,-1,t.section,s,!0);w.height=a;for(var b=0,E=n.columns;b<E.length;b++){var l=E[b],d=w.cells[l.index];d&&(d.height=w.height);var A=t.cells[l.index];A&&(A.height=t.height)}return w}function uie(t,e,n,r){var s=t.pageSize().height,a=r.settings.margin,i=a.top+a.bottom,o=s-i;e.section==="body"&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),A=l<n;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!A)return!1;var d=e.hasRowSpan(r.columns),h=e.getMaxCellHeight(r.columns)>o;return h?(d&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||r.settings.rowPageBreak==="avoid")}function H2(t,e,n,r,s,a,i){var o=fM(t,e,r,a);if(n.canEntireRowFit(o,i))yu(t,e,n,a,i);else if(uie(t,n,o,e)){var l=Aie(n,o,e,t);yu(t,e,n,a,i),gg(t,e,s,a,i),H2(t,e,l,r,s,a,i)}else gg(t,e,s,a,i),H2(t,e,n,r,s,a,i)}function yu(t,e,n,r,s){r.x=e.settings.margin.left;for(var a=0,i=s;a<i.length;a++){var o=i[a],l=n.cells[o.index];if(!l){r.x+=o.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var A=e.callCellHooks(t,e.hooks.willDrawCell,l,n,o,r);if(A===!1){r.x+=o.width;continue}die(t,l,r);var d=l.getTextPos();eM(l.text,d.x,d.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,o,r),r.x+=o.width}r.y+=n.height}function die(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var s=sM(r.lineWidth,r.fillColor);s&&t.rect(e.x,n.y,e.width,e.height,s)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),fie(t,e,n,r.lineWidth))}function fie(t,e,n,r){var s,a,i,o;r.top&&(s=n.x,a=n.y,i=n.x+e.width,o=n.y,r.right&&(i+=.5*r.right),r.left&&(s-=.5*r.left),l(r.top,s,a,i,o)),r.bottom&&(s=n.x,a=n.y+e.height,i=n.x+e.width,o=n.y+e.height,r.right&&(i+=.5*r.right),r.left&&(s-=.5*r.left),l(r.bottom,s,a,i,o)),r.left&&(s=n.x,a=n.y,i=n.x,o=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.left,s,a,i,o)),r.right&&(s=n.x+e.width,a=n.y,i=n.x+e.width,o=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.right,s,a,i,o));function l(A,d,h,p,g){t.getDocument().setLineWidth(A),t.getDocument().line(d,h,p,g,"S")}}function fM(t,e,n,r){var s=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(s+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-s}function gg(t,e,n,r,s,a){s===void 0&&(s=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(o){return yu(t,e,o,r,s)}),e.callEndPageHooks(t,r);var i=e.settings.margin;rM(t,e,n,r),hM(t),e.pageNumber++,r.x=i.left,r.y=i.top,n.y=i.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return yu(t,e,o,r,s)}),t.applyStyles(t.userStyles))}function hM(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function hie(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],s=lM(this,r),a=uM(this,s);return dM(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,s){eM(e,n,r,s,this)},t.API.autoTableSetDefaults=function(e){return X0.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){X0.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new X0(this),a=oM(s,e,window,n,!1),i=a.head,o=a.body,l=((r=i[0])===null||r===void 0?void 0:r.map(function(A){return A.content}))||[];return{columns:l,rows:o,data:o}}}var _C;function Fl(t,e){var n=lM(t,e),r=uM(t,n);dM(t,r)}try{if(typeof window<"u"&&window){var UI=window,LI=UI.jsPDF||((_C=UI.jspdf)===null||_C===void 0?void 0:_C.jsPDF);LI&&hie(LI)}}catch(t){console.error("Could not apply autoTable plugin",t)}const mie="usuariosLiceo",MI="rubricasInteractivas",PI="evaluacionesPruebas",jI="rubricasEstaticas",pie=["Seleccin mltiple","Verdadero o Falso","Desarrollo","Trminos pareados","Comprensin de lectura"],OI={"Seleccin mltiple":[5,10,15],"Verdadero o Falso":[5,10,15],"Trminos pareados":[5,10,15],Desarrollo:[1,2,3],"Comprensin de lectura":[1,2,3]},a2=t=>{if(!t)return"";let e=t.trim().toLowerCase();return e=e.replace(//g,""),e=e.replace(/\s+(medio|bsico|basico)/g,""),e=e.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1"),e=e.replace(/^(\d)(?![])/,"$1"),e=e.replace(/\s+/g,"").toUpperCase(),e},gie=({open:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t?u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59"}):u.jsxs(u.Fragment,{children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),xie=({item:t,index:e,showAnswers:n})=>{const r=ee.useMemo(()=>t.tipo==="Trminos pareados"?[...t.pares.map(s=>s.definicion)].sort(()=>Math.random()-.5):[],[t]);return u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("p",{className:"font-semibold flex-grow pr-4",children:[e+1,". ",t.pregunta," (",t.puntaje," pts)"]}),t.habilidadBloom&&u.jsx("span",{className:"flex-shrink-0 text-xs font-semibold bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:t.habilidadBloom})]}),t.tipo==="Seleccin mltiple"&&u.jsx("div",{className:"ml-4 mt-2 space-y-2",children:t.opciones.map((s,a)=>{const i=n&&a===t.respuestaCorrecta;return u.jsxs("div",{className:`flex items-center gap-2 p-1 rounded ${i?"bg-green-100 dark:bg-green-900/50":""}`,children:[u.jsx("div",{className:"w-5 h-5 border rounded-full"}),u.jsxs("span",{children:[String.fromCharCode(65+a),") ",s]})]},a)})}),t.tipo==="Desarrollo"&&u.jsx("div",{className:"mt-2 p-2 border rounded-md min-h-[96px] bg-slate-50 dark:bg-slate-700/50"}),t.tipo==="Verdadero o Falso"&&u.jsxs("div",{className:"mt-2 ml-4 flex items-center gap-4",children:[u.jsx("span",{children:"V ___ F ___"}),n&&u.jsxs("span",{className:"font-bold p-1 rounded bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300",children:["Respuesta: ",t.respuestaCorrecta?"VERDADERO":"FALSO"]})]}),t.tipo==="Trminos pareados"&&u.jsxs("div",{className:"mt-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-center mb-2",children:"Columna A: Concepto"}),u.jsx("div",{className:"space-y-2",children:t.pares.map((s,a)=>u.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 p-3 rounded-lg min-h-[50px] flex items-center",children:[a+1,". ",s.concepto]},a))})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-center mb-2",children:"Columna B: Definicin"}),u.jsx("div",{className:"space-y-2",children:r.map((s,a)=>u.jsx("div",{className:"bg-sky-100 dark:bg-sky-900/50 p-3 rounded-lg min-h-[50px] flex items-center",children:s},a))})]})]}),n&&u.jsxs("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/30 rounded-lg border border-green-200 dark:border-green-700",children:[u.jsx("h4",{className:"font-bold text-green-800 dark:text-green-200",children:"Respuestas Correctas:"}),u.jsx("ul",{className:"list-disc list-inside mt-2 text-sm text-slate-700 dark:text-slate-300",children:t.pares.map((s,a)=>u.jsxs("li",{children:[u.jsx("strong",{children:s.concepto}),"  ",s.definicion]},a))})]})]}),t.tipo==="Comprensin de lectura"&&u.jsxs("div",{className:"ml-4 mt-2 space-y-4",children:[u.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-700/50 rounded-md whitespace-pre-wrap",children:t.texto}),t.preguntas.map((s,a)=>{if(s.tipo==="Seleccin mltiple"){const i=s;return u.jsxs("div",{className:"pt-2",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("p",{className:"font-semibold flex-grow pr-4",children:[a+1,". ",i.pregunta," (",i.puntaje," pts)"]}),i.habilidadBloom&&u.jsx("span",{className:"flex-shrink-0 text-xs font-semibold bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:i.habilidadBloom})]}),u.jsx("div",{className:"ml-4 mt-2 space-y-2",children:i.opciones.map((o,l)=>{const A=n&&l===i.respuestaCorrecta;return u.jsxs("div",{className:`flex items-center gap-2 p-1 rounded ${A?"bg-green-100 dark:bg-green-900/50":""}`,children:[u.jsx("div",{className:"w-5 h-5 border rounded-full"}),u.jsxs("span",{children:[String.fromCharCode(65+l),") ",o]})]},l)})})]},s.id)}if(s.tipo==="Desarrollo"){const i=s;return u.jsxs("div",{className:"pt-2",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("p",{className:"font-semibold flex-grow pr-4",children:[a+1,". ",i.pregunta," (",i.puntaje," pts)"]}),i.habilidadBloom&&u.jsx("span",{className:"flex-shrink-0 text-xs font-semibold bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:i.habilidadBloom})]}),u.jsx("div",{className:"mt-2 p-2 border rounded-md min-h-[96px] bg-slate-50 dark:bg-slate-700/50"})]},s.id)}return null})]})]},t.id)},vie=()=>{const[t,e]=ee.useState([]),[n,r]=ee.useState(null),[s,a]=ee.useState(!1),[i,o]=ee.useState(!1),[l,A]=ee.useState(null),[d,h]=ee.useState(!1),p={nombre:"",asignatura:zo[0],nivel:R2[0],contenido:"",tiposActividad:{},dificultad:"Intermedio",isNee:!1,selectedNee:[]},[g,w]=ee.useState(p);ee.useEffect(()=>{try{const N=localStorage.getItem(PI);N&&e(JSON.parse(N))}catch(N){console.error("Error loading tests from localStorage",N)}},[]);const b=N=>{e(N),localStorage.setItem(PI,JSON.stringify(N))},E=N=>{const{name:B,value:H}=N.target;w(P=>({...P,[B]:H}))},T=N=>{w(B=>{const H={...B.tiposActividad};return H[N]?delete H[N]:H[N]=OI[N][0],{...B,tiposActividad:H}})},I=(N,B)=>{w(H=>({...H,tiposActividad:{...H.tiposActividad,[N]:B}}))},k=N=>{w(B=>{const H=B.selectedNee.includes(N)?B.selectedNee.filter(P=>P!==N):[...B.selectedNee,N];return{...B,selectedNee:H}})},F=async N=>{if(N.preventDefault(),!g.nombre.trim()||!g.contenido.trim()||Object.keys(g.tiposActividad).length===0){A("Nombre, Contenido y al menos un tipo de actividad son obligatorios.");return}a(!0),A(null);const B=Object.entries(g.tiposActividad).map(([M,V])=>`- ${V} tem(s) de tipo '${M}'`).join(`
`),H=g.isNee&&g.selectedNee.length>0?`
            **Adaptacin CRTICA para Necesidades Educativas Especiales (NEE):**
            Adapta esta prueba para estudiantes con las siguientes caractersticas: ${g.selectedNee.join(", ")}.
            Esto implica las siguientes modificaciones OBLIGATORIAS:
            - Usa un lenguaje claro, simple y directo en todas las preguntas e instrucciones.
            - Evita preguntas con doble negacin o estructuras gramaticales complejas.
            - En preguntas de desarrollo, desglosa la pregunta en partes ms pequeas si es posible.
            - Para 'Comprensin de Lectura', usa textos ms cortos (100-150 palabras) y con vocabulario accesible.
            - Para 'Seleccin Mltiple', asegrate de que los distractores sean claramente incorrectos y no ambiguos.`:"",P=`
            Eres un experto en evaluacin educativa para la educacin media en Chile.
            Genera una prueba o gua de trabajo completa en formato JSON estructurado.
            
            Informacin base:
            - Nombre de la prueba: ${g.nombre}
            - Asignatura: ${g.asignatura}
            - Nivel: ${g.nivel}
            - Contenido a evaluar: "${g.contenido}"
            - Tipos y cantidad de tems solicitados:
              ${B}
            - Nivel de Dificultad General: ${g.dificultad}. 'Fcil' implica preguntas directas y de recuerdo. 'Intermedio' incluye aplicacin y anlisis simple. 'Avanzado' requiere sntesis, evaluacin y resolucin de problemas complejos.
            
            ${H}

            Tu respuesta DEBE ser un nico objeto JSON que contenga:
            1. 'objetivo': Un objetivo de aprendizaje claro para la evaluacin.
            2. 'instruccionesGenerales': Instrucciones claras para el estudiante.
            3. 'actividades': Un array de objetos, donde cada objeto es una actividad por cada tipo de tem solicitado. Cada actividad debe tener:
                - 'id': Un UUID.
                - 'titulo': Un ttulo descriptivo (ej: "Actividad 1: Seleccin Mltiple").
                - 'instrucciones': Instrucciones para esa actividad especfica.
                - 'items': Un array de preguntas con la cantidad exacta solicitada. Cada pregunta (item) debe tener:
                    - 'id': Un UUID.
                    - 'tipo': El tipo de tem.
                    - 'pregunta': El enunciado de la pregunta.
                    - 'puntaje': Un puntaje numrico.
                    - 'habilidadBloom': La habilidad principal de la Taxonoma de Bloom que se trabaja (ej: Analizar, Crear, Evaluar).
                    - Campos adicionales segn el tipo:
                        - Para 'Seleccin mltiple': 'opciones' (array de EXACTAMENTE 4 strings sin la letra de la alternativa) y 'respuestaCorrecta' (ndice numrico de la respuesta correcta, de 0 a 3).
                        - Para 'Verdadero o Falso': 'respuestaCorrecta' (booleano).
                        - Para 'Trminos pareados': 'pares' (array de objetos con 'concepto' y 'definicion').
                        - Para 'Comprensin de lectura': 'texto' (string con el texto) y 'preguntas' (un array de sub-preguntas que pueden ser 'Seleccin mltiple' o 'Desarrollo', y cada una debe tener tambin 'habilidadBloom').
                        - Para 'Desarrollo': no necesita campos adicionales.
        `;try{go("Evaluacin - Pruebas");const V=await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:P,config:{responseMimeType:"application/json"}}),G=JSON.parse(V.text);let oe=0;G.actividades.forEach(Z=>{Z.items.forEach(re=>{oe+=re.puntaje||0,re.tipo==="Comprensin de lectura"&&re.preguntas.forEach(q=>{oe+=q.puntaje||0})})});const K={id:crypto.randomUUID(),fechaCreacion:new Date().toISOString(),nombre:g.nombre,asignatura:g.asignatura,nivel:g.nivel,contenidoOriginal:g.contenido,tiposActividadOriginal:g.tiposActividad,objetivo:G.objetivo,instruccionesGenerales:G.instruccionesGenerales,puntajeIdeal:oe,actividades:G.actividades,dificultad:g.dificultad,adaptacionNEE:g.isNee?g.selectedNee:void 0};r(K),h(!1)}catch(M){console.error(M),A("Error al generar la prueba con IA. Intntelo de nuevo.")}finally{a(!1)}},R=()=>{n&&(b([n,...t.filter(N=>N.id!==n.id)]),alert("Prueba guardada con xito."))},L=N=>{window.confirm("Eliminar esta prueba?")&&(b(t.filter(B=>B.id!==N)),(n==null?void 0:n.id)===N&&r(null))},S=async N=>{o(!0);const B=new an("p","mm","a4"),H=20,P=B.internal.pageSize.getHeight(),M=B.internal.pageSize.getWidth(),V=M-H*2;let G=H;const oe=re=>{re.setFillColor(230,230,230),re.rect(0,0,M,25,"F"),re.setFontSize(9),re.setTextColor(0,0,0),re.text("LICEO INDUSTRIAL DE RECOLETA",H,15,{align:"left"}),re.text("SUBDIRECCIN DE GESTIN PEDAGGICA",M-H,15,{align:"right"})};oe(B),G=30,B.setTextColor(0,0,0),B.setFont("helvetica","bold"),B.setFontSize(16),B.text(N.nombre,M/2,G,{align:"center"}),G+=10,Fl(B,{startY:G,body:[[{content:"Asignatura:",styles:{fontStyle:"bold"}},N.asignatura,{content:"Puntaje Ideal:",styles:{fontStyle:"bold"}},N.puntajeIdeal.toString()],[{content:"Nivel:",styles:{fontStyle:"bold"}},N.nivel,"",""],[{content:"OA:",styles:{fontStyle:"bold",valign:"top"}},{content:N.objetivo,colSpan:3}],[{content:"Instrucciones:",styles:{fontStyle:"bold",valign:"top"}},{content:N.instruccionesGenerales,colSpan:3}]],theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0],lineColor:[0,0,0],lineWidth:.1},columnStyles:{0:{cellWidth:30},2:{cellWidth:30}},didDrawPage:re=>{oe(B)}}),G=B.lastAutoTable.finalY+10;const K=re=>{G+re>P-H&&(B.addPage(),oe(B),G=H+15,B.setTextColor(0,0,0))},Z=(re,q)=>{B.setFont("helvetica",q.isBold?"bold":"normal"),B.setFontSize(q.fontSize);const X=Array.isArray(re)?re.join(`
`):re;return B.getTextDimensions(X,{maxWidth:q.width}).h};for(const re of N.actividades){let q=Z(re.titulo,{fontSize:12,width:V,isBold:!0})+Z(re.instrucciones,{fontSize:10,width:V})+12;K(q),B.setFont("helvetica","bold"),B.setFontSize(12),B.setTextColor(0,0,0),B.text(re.titulo,H,G),G+=8,B.setFont("helvetica","normal"),B.setFontSize(10);const X=B.splitTextToSize(re.instrucciones,V);B.text(X,H,G),G+=X.length*(10*.35*1.15)+4;for(const[ue,j]of re.items.entries()){let W=0;const J=`${ue+1}. ${j.pregunta} (${j.puntaje} pts)`;switch(W+=Z(J,{fontSize:10,width:V,isBold:!0}),j.tipo){case"Seleccin mltiple":j.opciones.forEach(de=>{W+=Z(de,{fontSize:10,width:V-5})+3}),W+=7;break;case"Verdadero o Falso":W+=10;break;case"Desarrollo":W+=30;break;case"Trminos pareados":W+=j.pares.length*12+20;break;case"Comprensin de lectura":const ie=j;W+=Z(ie.texto,{fontSize:10,width:V-10})+10,ie.preguntas.forEach(de=>{const me=`${de.pregunta} (${de.puntaje} pts)`;W+=Z(me,{fontSize:10,width:V-5,isBold:!0}),de.tipo==="Seleccin mltiple"?(de.opciones.forEach(xe=>{W+=Z(xe,{fontSize:10,width:V-10})+3}),W+=7):de.tipo==="Desarrollo"&&(W+=30),W+=5}),W+=15;break}K(W),B.setFont("helvetica","bold"),B.setFontSize(10),B.setTextColor(0,0,0);const ne=B.splitTextToSize(J,V);if(B.text(ne,H,G),G+=ne.length*5+4,B.setFont("helvetica","normal"),j.tipo==="Seleccin mltiple")j.opciones.forEach((ie,de)=>{B.text(`${String.fromCharCode(65+de)}) ${ie}`,H+5,G),G+=7});else if(j.tipo==="Verdadero o Falso")B.text("V ______   F ______",H+5,G),G+=10;else if(j.tipo==="Desarrollo")B.setDrawColor(200,200,200),B.setFillColor(245,245,245),B.rect(H,G,V,25,"FD"),G+=30;else if(j.tipo==="Trminos pareados"){const ie=[...j.pares.map(me=>me.definicion)].sort(()=>Math.random()-.5),de=j.pares.map((me,xe)=>[`${xe+1}. ${me.concepto}`,`(   ) ${ie[xe]}`]);Fl(B,{startY:G,head:[["Columna A: Concepto","Columna B: Definicin"]],body:de,theme:"grid",styles:{fontSize:9,textColor:[0,0,0],lineColor:[0,0,0],lineWidth:.1},headStyles:{fontStyle:"bold",fillColor:[230,230,230],textColor:[0,0,0]},didDrawPage:me=>oe(B)}),G=B.lastAutoTable.finalY+10}else if(j.tipo==="Comprensin de lectura"){const ie=j;B.setFillColor(240,240,240),B.setDrawColor(200,200,200);const de=B.splitTextToSize(ie.texto,V-10),me=de.length*(10*.35*1.15)+8;B.rect(H,G,V,me,"FD"),G+=4,B.setFont("helvetica","normal"),B.setFontSize(10),B.setTextColor(0,0,0),B.text(de,H+5,G),G+=me;for(const[xe,Se]of ie.preguntas.entries()){const ge=`${xe+1}. ${Se.pregunta} (${Se.puntaje} pts)`;B.setFont("helvetica","bold");const ae=B.splitTextToSize(ge,V-5);B.text(ae,H+5,G),G+=ae.length*5+4,B.setFont("helvetica","normal"),Se.tipo==="Seleccin mltiple"?Se.opciones.forEach((Fe,et)=>{B.text(`${String.fromCharCode(65+et)}) ${Fe}`,H+10,G),G+=7}):Se.tipo==="Desarrollo"&&(B.setDrawColor(200,200,200),B.setFillColor(245,245,245),B.rect(H+5,G,V-5,25,"FD"),G+=30)}}G+=5}}B.save(`${N.nombre.replace(/\s/g,"_")}.pdf`),o(!1)};return n?u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("button",{onClick:()=>r(null),className:"text-sm font-semibold text-slate-500 hover:underline",children:" Volver"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>h(!d),className:"bg-slate-100 text-slate-700 font-bold py-2 px-4 rounded-lg flex items-center gap-2 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600",children:[u.jsx(gie,{open:!d})," ",u.jsxs("span",{children:[d?"Ocultar":"Mostrar"," Respuestas"]})]}),u.jsx("button",{onClick:R,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg",children:"Guardar Prueba"}),u.jsxs("button",{onClick:()=>S(n),disabled:i,className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2",children:[i?"...":u.jsx(e8,{})," PDF"]})]})]}),u.jsxs("div",{className:"border rounded-lg p-8 bg-slate-50 dark:bg-slate-900/50",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-600 dark:text-slate-400",children:[u.jsx("span",{children:"LICEO INDUSTRIAL DE RECOLETA"}),u.jsx("span",{children:"SUBDIRECCIN DE GESTIN PEDAGGICA"})]}),u.jsx("h2",{className:"text-center text-2xl font-bold my-4 text-slate-800 dark:text-slate-200",children:n.nombre}),u.jsxs("div",{className:"space-y-4 text-sm text-slate-700 dark:text-slate-300 border p-4 rounded-lg bg-white dark:bg-slate-800",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-x-8",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Asignatura:"})," ",n.asignatura]}),u.jsxs("p",{className:"text-right",children:[u.jsx("strong",{children:"Puntaje Ideal:"})," ",n.puntajeIdeal]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Nivel:"})," ",n.nivel]})]}),u.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 pt-2",children:[u.jsxs("span",{className:"font-semibold bg-slate-200 text-slate-800 dark:bg-slate-700 dark:text-slate-200 px-2 py-1 rounded-full text-xs",children:["Dificultad: ",n.dificultad||"Intermedio"]}),n.adaptacionNEE&&n.adaptacionNEE.length>0&&u.jsxs("span",{className:"font-semibold bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 px-2 py-1 rounded-full text-xs",children:["Adaptado para NEE: ",n.adaptacionNEE.join(", ")]})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Objetivo de Aprendizaje:"})," ",n.objetivo]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Instrucciones Generales:"})," ",n.instruccionesGenerales]})]}),n.actividades.map(N=>u.jsxs("div",{className:"mt-8 bg-white dark:bg-slate-800 p-6 rounded-lg border dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-bold border-b pb-2 mb-4 dark:border-slate-600",children:N.titulo}),u.jsx("p",{className:"italic text-sm mb-4",children:N.instrucciones}),u.jsx("div",{className:"space-y-6",children:N.items.map((B,H)=>u.jsx(xie,{item:B,index:H,showAnswers:d},B.id))})]},N.id))]})]}):u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Generar Nueva Prueba o Gua"}),u.jsxs("form",{onSubmit:F,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 mb-1 block",children:["Nombre de la Prueba/Gua ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",name:"nombre",value:g.nombre,onChange:E,placeholder:"Ej: Gua N1 - La Clula",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",required:!0})]}),u.jsx("div",{}),u.jsx("select",{name:"asignatura",value:g.asignatura,onChange:E,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:zo.map(N=>u.jsx("option",{children:N},N))}),u.jsx("select",{name:"nivel",value:g.nivel,onChange:E,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:R2.map(N=>u.jsx("option",{children:N},N))})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t dark:border-slate-700",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 mb-2 block",children:"Dificultad de la Prueba"}),u.jsx("div",{className:"flex rounded-lg shadow-sm",children:["Fcil","Intermedio","Avanzado"].map((N,B)=>u.jsx("button",{type:"button",onClick:()=>w(H=>({...H,dificultad:N})),className:`w-1/3 px-4 py-2 text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-opacity-50
                                            ${B===0?"rounded-l-lg":""} ${B===2?"rounded-r-lg":""}
                                            ${g.dificultad===N?"bg-amber-500 text-white z-10":"bg-slate-200 hover:bg-slate-300 text-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200"}`,children:N},N))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:g.isNee,onChange:N=>w(B=>({...B,isNee:N.target.checked,selectedNee:N.target.checked?B.selectedNee:[]})),className:"h-5 w-5 rounded text-amber-500 focus:ring-amber-400 border-slate-300 dark:bg-slate-600 dark:border-slate-500"}),u.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:"Adaptar para Necesidades Educativas Especiales (NEE)"})]}),g.isNee&&u.jsxs("div",{className:"p-3 border rounded-lg bg-slate-50 dark:bg-slate-700/50 dark:border-slate-600 animate-fade-in",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Seleccione Dificultades de Aprendizaje"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:D2.map(N=>u.jsxs("label",{className:"flex items-center gap-2 p-1.5 rounded hover:bg-slate-100 dark:hover:bg-slate-600 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:g.selectedNee.includes(N),onChange:()=>k(N),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),u.jsx("span",{className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:N})]},N))})]})]})]}),u.jsx("textarea",{name:"contenido",value:g.contenido,onChange:E,placeholder:"Contenido a evaluar...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsx("div",{className:"space-y-3",children:pie.map(N=>u.jsxs("div",{className:"p-3 border rounded-lg has-[:checked]:bg-amber-50 has-[:checked]:border-amber-300 dark:border-slate-700 dark:has-[:checked]:bg-amber-900/20 dark:has-[:checked]:border-amber-700",children:[u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:!!g.tiposActividad[N],onChange:()=>T(N),className:"h-5 w-5 rounded text-amber-500 focus:ring-amber-400 bg-slate-200 dark:bg-slate-600 border-slate-300 dark:border-slate-500"}),u.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 flex-grow",children:N})]}),g.tiposActividad[N]&&u.jsxs("div",{className:"mt-3 pl-8 flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Cantidad:"}),OI[N].map(B=>u.jsx("button",{type:"button",onClick:()=>I(N,B),className:`px-3 py-1 rounded-full font-semibold text-xs transition-colors ${g.tiposActividad[N]===B?"bg-amber-500 text-white":"bg-slate-200 hover:bg-slate-300 dark:bg-slate-600 dark:hover:bg-slate-500"}`,children:B},B))]})]},N))}),l&&u.jsx("p",{className:"text-red-500 text-sm",children:l}),u.jsx("div",{className:"text-right",children:u.jsx("button",{type:"submit",disabled:s,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:s?"Generando...":"Generar Prueba"})})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Pruebas Guardadas"}),u.jsx("div",{className:"space-y-2",children:t.length>0?t.map(N=>u.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:N.nombre}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[N.asignatura," - ",N.nivel," (",new Date(N.fechaCreacion).toLocaleDateString(),")"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>r(N),className:"text-sm font-semibold text-blue-600 hover:underline",children:"Ver"}),u.jsx("button",{onClick:()=>L(N.id),className:"text-sm font-semibold text-red-600 hover:underline",children:"Eliminar"})]})]},N.id)):u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm text-center py-4",children:"No hay pruebas guardadas."})})]})]})},yie=({rubricas:t,onUpdate:e})=>{const[n,r]=ee.useState(null),[s,a]=ee.useState("list"),[i,o]=ee.useState(!1),[l,A]=ee.useState(""),d=async(F,R)=>{if(!F.trim()||!R.trim()){alert("El ttulo y la descripcin son obligatorios.");return}o(!0);const L=`Crea una rbrica de evaluacin detallada sobre "${F}" con el propsito de "${R}". Genera entre 3 y 5 dimensiones de evaluacin. Para cada dimensin, crea un descriptor para 4 niveles: Insuficiente, Suficiente, Competente, y Avanzado.`,S={type:Bt.ARRAY,items:{type:Bt.OBJECT,properties:{dimension:{type:Bt.STRING},insuficiente:{type:Bt.STRING},suficiente:{type:Bt.STRING},competente:{type:Bt.STRING},avanzado:{type:Bt.STRING}},required:["dimension","insuficiente","suficiente","competente","avanzado"]}};try{go("Evaluacin - Rbricas");const B=await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:L,config:{responseMimeType:"application/json",responseSchema:S}}),H=JSON.parse(B.text),P={id:crypto.randomUUID(),titulo:F,descripcion:R,fechaCreacion:new Date().toISOString(),dimensiones:H.map(M=>({id:crypto.randomUUID(),nombre:M.dimension,niveles:{insuficiente:M.insuficiente,suficiente:M.suficiente,competente:M.competente,avanzado:M.avanzado}}))};r(P)}catch(N){console.error(N),alert("Error al generar la rbrica con IA.")}finally{o(!1)}},h=async()=>{if(!l.trim()||!n)return;const F=crypto.randomUUID(),R={id:F,nombre:l,niveles:{insuficiente:"",suficiente:"",competente:"",avanzado:""},isLoading:!0};r(N=>N?{...N,dimensiones:[...N.dimensiones,R]}:null),A("");const L=`Para una rbrica sobre "${n.titulo}", genera los descriptores para los 4 niveles de logro (Insuficiente, Suficiente, Competente, Avanzado) para la nueva dimensin: "${l}". Considera las dimensiones existentes como contexto: ${n.dimensiones.map(N=>N.nombre).join(", ")}.`,S={type:Bt.OBJECT,properties:{insuficiente:{type:Bt.STRING},suficiente:{type:Bt.STRING},competente:{type:Bt.STRING},avanzado:{type:Bt.STRING}},required:["insuficiente","suficiente","competente","avanzado"]};try{go("Evaluacin - Rbricas (Aadir Dimensin)");const B=await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:L,config:{responseMimeType:"application/json",responseSchema:S}}),H=JSON.parse(B.text);r(P=>P?{...P,dimensiones:P.dimensiones.map(M=>M.id===F?{...M,niveles:H,isLoading:!1}:M)}:null)}catch(N){console.error("Error generating dimension descriptors:",N),alert("No se pudieron generar los descriptores."),r(B=>B?{...B,dimensiones:B.dimensiones.filter(H=>H.id!==F)}:null)}},p=()=>{if(!n)return;const R=t.some(L=>L.id===n.id)?t.map(L=>L.id===n.id?n:L):[n,...t];e(R),a("list"),r(null)},g=F=>{r(F),a("form")},w=F=>{window.confirm("Eliminar esta rbrica?")&&e(t.filter(R=>R.id!==F))},b=()=>{r({id:crypto.randomUUID(),titulo:"",descripcion:"",fechaCreacion:new Date().toISOString(),dimensiones:[]}),a("form")},E=(F,R,L)=>{n&&r(S=>S?{...S,dimensiones:S.dimensiones.map(N=>N.id!==F?N:R==="nombre"?{...N,nombre:L}:{...N,niveles:{...N.niveles,[R]:L}})}:null)},T=(F,R)=>{r(L=>L?{...L,[F]:R}:null)},I=F=>{n&&r(R=>R?{...R,dimensiones:R.dimensiones.filter(L=>L.id!==F)}:null)},k=()=>{if(!n)return null;const F="w-full p-2 border border-slate-300 rounded-lg shadow-sm focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-700 dark:border-slate-600",R=`${F} resize-none text-sm`;return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Crear Rbrica de Aprendizaje"}),u.jsx("button",{onClick:()=>a("list"),className:"text-sm font-semibold text-slate-500 hover:underline",children:" Volver"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Ttulo de la Rbrica"}),u.jsx("input",{value:n.titulo,onChange:L=>T("titulo",L.target.value),placeholder:"Ej. Rbrica de Presentaciones Orales",className:`${F} mt-1`})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Descripcin de la Rbrica"}),u.jsx("textarea",{value:n.descripcion,onChange:L=>T("descripcion",L.target.value),placeholder:"Describe el propsito y los criterios de evaluacin de esta rbrica.",rows:3,className:`${F} mt-1`})]})]}),n.dimensiones.length===0&&u.jsx("div",{className:"text-center py-4",children:u.jsx("button",{onClick:()=>d(n.titulo,n.descripcion),disabled:i||!n.titulo||!n.descripcion,className:"bg-sky-500 text-white font-semibold py-2 px-5 rounded-lg disabled:bg-slate-400 flex items-center gap-2 mx-auto",children:i?"Generando...":" Generar Rbrica con IA"})}),n.dimensiones.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:"Dimensiones a Evaluar"}),u.jsx("div",{className:"overflow-x-auto border border-slate-200 dark:border-slate-700 rounded-lg",children:u.jsxs("table",{className:"min-w-full text-sm",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:u.jsx("tr",{children:["Dimensin","Insuficiente","Suficiente","Competente","Avanzado",""].map(L=>u.jsx("th",{className:"p-3 text-left font-semibold text-slate-600 dark:text-slate-300",children:L},L))})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:n.dimensiones.map(L=>u.jsxs("tr",{children:[u.jsx("td",{className:"p-2 w-1/5",children:u.jsx("textarea",{value:L.nombre,onChange:S=>E(L.id,"nombre",S.target.value),rows:4,className:R})}),Object.keys(L.niveles).map(S=>u.jsx("td",{className:"p-2 w-1/5",children:L.isLoading?u.jsx("div",{className:"flex justify-center items-center h-full",children:u.jsx("div",{className:"w-5 h-5 border-2 border-slate-300 border-t-amber-500 rounded-full animate-spin"})}):u.jsx("textarea",{value:L.niveles[S],onChange:N=>E(L.id,S,N.target.value),rows:4,className:R})},S)),u.jsx("td",{className:"p-2 w-[5%] text-center align-middle",children:u.jsx("button",{onClick:()=>I(L.id),className:"text-red-500 hover:text-red-700 p-1 rounded-full text-lg",children:""})})]},L.id))})]})}),u.jsxs("div",{className:"flex items-end gap-2 pt-2",children:[u.jsxs("div",{className:"flex-grow",children:[u.jsx("label",{className:"text-sm font-medium",children:"Aadir Dimensin"}),u.jsx("input",{value:l,onChange:L=>A(L.target.value),placeholder:"Escribe el nombre de la nueva dimensin...",className:`${F} mt-1`})]}),u.jsx("button",{onClick:h,disabled:!l.trim(),className:"bg-slate-200 dark:bg-slate-600 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300 h-10 disabled:opacity-50",children:"Generar con IA"})]})]}),u.jsx("div",{className:"flex justify-end pt-6 border-t dark:border-slate-700",children:u.jsx("button",{onClick:p,className:"bg-amber-500 text-white font-bold py-2.5 px-6 rounded-lg hover:bg-amber-600",children:"Guardar Rbrica"})})]})};return s==="list"?u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Mis Rbricas"}),u.jsx("button",{onClick:b,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900",children:"Crear Nueva"})]}),t.length>0?t.map(F=>u.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:F.titulo}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate max-w-lg",children:F.descripcion})]}),u.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[u.jsx("button",{onClick:()=>g(F),className:"text-sm font-semibold text-blue-600 hover:underline",children:"Editar"}),u.jsx("button",{onClick:()=>w(F.id),className:"text-sm font-semibold text-red-600 hover:underline",children:"Eliminar"})]})]},F.id)):u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No hay rbricas guardadas."})]}):k()},wie=({allUsers:t,rubricasEstaticas:e})=>{const[n,r]=ee.useState([]),[s,a]=ee.useState(null),[i,o]=ee.useState(null),[l,A]=ee.useState({rubricaEstaticaId:"",curso:""}),[d,h]=ee.useState(null);ee.useEffect(()=>{try{const k=localStorage.getItem(MI);k&&r(JSON.parse(k))}catch(k){console.error("Error loading interactive rubrics",k)}},[]);const p=k=>{r(k),localStorage.setItem(MI,JSON.stringify(k))},g=k=>{k.preventDefault();const F=e.find(L=>L.id===l.rubricaEstaticaId);if(!F||!l.curso){alert("Debe seleccionar una rbrica y un curso.");return}const R={id:crypto.randomUUID(),nombre:F.titulo,curso:l.curso,asignatura:"N/A",rubricaEstaticaId:F.id,resultados:{}};p([R,...n]),A({rubricaEstaticaId:"",curso:""})},w=k=>{a(k),o(JSON.parse(JSON.stringify(k)))},b=(k,F,R)=>{i&&o(L=>{if(!L)return null;const S=JSON.parse(JSON.stringify(L));return S.resultados[k]||(S.resultados[k]={puntajes:{},feedback:""}),S.resultados[k].puntajes[F]=R,S})},E=()=>{i&&(p(n.map(k=>k.id===i.id?i:k)),a(i),alert("Cambios guardados."))},T=ee.useCallback(k=>{const F=i,R=e.find(P=>P.id===(F==null?void 0:F.rubricaEstaticaId));if(!F||!R)return{score:0,maxScore:0,grade:"N/A"};const L=R.dimensiones.length*4,S=F.resultados[k];if(!S)return{score:0,maxScore:L,grade:"1.0"};const N=Object.values(S.puntajes).reduce((P,M)=>P+M,0),B=1+6*(N/L),H=L>0?B.toFixed(1):"1.0";return{score:N,maxScore:L,grade:H}},[i,e]),I=async k=>{if(!i)return;const F=e.find(N=>N.id===i.rubricaEstaticaId),R=i.resultados[k];if(!F||!R||Object.keys(R.puntajes).length===0)return;h(k);const S=`Genera una retroalimentacin constructiva para un estudiante basada en estos puntajes de rbrica (de 1 a 4): ${F.dimensiones.map(N=>`${N.nombre}: ${R.puntajes[N.nombre]||"N/A"}/4`).join("; ")}. Destaca fortalezas y sugiere 1-2 reas de mejora concretas. S breve y motivador.`;try{go("Evaluacin - Rbricas Interactivas (Feedback)");const B=await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:S});o(H=>{if(!H)return null;const P=JSON.parse(JSON.stringify(H));return P.resultados[k].feedback=B.text.replace(/(\*\*|\*)/g,""),P})}catch(N){console.error(N),alert("Error al generar feedback.")}finally{h(null)}};if(s&&i){const k=e.find(R=>R.id===s.rubricaEstaticaId),F=t.filter(R=>R.profile===en.ESTUDIANTE&&a2(R.curso||"")===s.curso).map(R=>R.nombreCompleto).sort();return k?u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:s.nombre}),u.jsx("p",{className:"text-slate-500",children:s.curso})]}),u.jsx("button",{onClick:()=>a(null),className:"font-semibold text-slate-600",children:" Volver"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full border-collapse",children:[u.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-2 border dark:border-slate-600 sticky left-0 bg-slate-100 dark:bg-slate-700 z-10 w-48",children:"Estudiante"}),k.dimensiones.map(R=>u.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm",children:R.nombre},R.id)),u.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm",children:"Puntaje"}),u.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm",children:"Nota"}),u.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm w-64",children:"Retroalimentacin"})]})}),u.jsx("tbody",{children:F.map(R=>{var B;const{score:L,maxScore:S,grade:N}=T(R);return u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[u.jsx("td",{className:"p-2 border dark:border-slate-600 font-semibold sticky left-0 bg-white dark:bg-slate-800 w-48",children:R}),k.dimensiones.map(H=>u.jsx("td",{className:"p-2 border dark:border-slate-600 text-center",children:u.jsx("div",{className:"flex justify-center gap-1",children:[1,2,3,4].map(P=>{var M;return u.jsx("button",{onClick:()=>b(R,H.nombre,P),className:`w-7 h-7 rounded-md font-semibold transition-colors ${((M=i.resultados[R])==null?void 0:M.puntajes[H.nombre])===P?"bg-amber-400 text-white":"bg-slate-200 dark:bg-slate-600 hover:bg-slate-300"}`,children:P},P)})})},H.id)),u.jsxs("td",{className:"p-2 border dark:border-slate-600 text-center font-bold",children:[L,"/",S]}),u.jsx("td",{className:"p-2 border dark:border-slate-600 text-center font-bold",children:N}),u.jsx("td",{className:"p-2 border dark:border-slate-600 text-sm",children:u.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[u.jsx("p",{className:"text-xs w-full",children:((B=i.resultados[R])==null?void 0:B.feedback)||"Sin generar"}),u.jsx("button",{onClick:()=>I(R),disabled:d===R,className:"text-xs bg-sky-100 text-sky-700 font-semibold px-2 py-1 rounded-md w-full disabled:opacity-50",children:d===R?"...":"Generar IA"})]})})]},R)})})]})}),u.jsx("div",{className:"mt-6 flex justify-end",children:u.jsx("button",{onClick:E,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar Cambios"})})]}):u.jsxs("div",{children:["Error: Rbrica base no encontrada. ",u.jsx("button",{onClick:()=>a(null),children:"Volver"})]})}return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Crear Evaluacin con Rbrica"}),u.jsxs("form",{onSubmit:g,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[u.jsxs("select",{value:l.rubricaEstaticaId,onChange:k=>A({...l,rubricaEstaticaId:k.target.value}),className:"w-full border-slate-300 rounded-md dark:bg-slate-700",required:!0,children:[u.jsx("option",{value:"",children:"Seleccione una Rbrica Guardada"}),e.map(k=>u.jsx("option",{value:k.id,children:k.titulo},k.id))]}),u.jsxs("select",{value:l.curso,onChange:k=>A({...l,curso:k.target.value}),className:"w-full border-slate-300 rounded-md dark:bg-slate-700",required:!0,children:[u.jsx("option",{value:"",children:"Seleccione un Curso"}),Xs.map(k=>u.jsx("option",{value:k,children:k},k))]}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 h-10",children:"Crear Evaluacin"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Evaluaciones Creadas"}),u.jsx("div",{className:"space-y-2",children:n.map(k=>u.jsxs("button",{onClick:()=>w(k),className:"w-full text-left p-3 rounded-md bg-slate-50 dark:bg-slate-700 hover:bg-slate-100 dark:hover:bg-slate-600",children:[u.jsx("p",{className:"font-semibold",children:k.nombre}),u.jsx("p",{className:"text-sm text-slate-500",children:k.curso})]},k.id))})]})]})},bie=({allUsers:t})=>{const[e,n]=ee.useState(""),r=ee.useMemo(()=>Array.from(new Set(t.filter(a=>a.profile===en.ESTUDIANTE&&a.curso).map(a=>a2(a.curso)))).sort(),[t]),s=ee.useMemo(()=>{const a=t.filter(i=>i.profile===en.ESTUDIANTE);return e?a.filter(i=>a2(i.curso||"")===e).sort((i,o)=>i.nombreCompleto.localeCompare(o.nombreCompleto)):a.sort((i,o)=>i.nombreCompleto.localeCompare(o.nombreCompleto))},[t,e]);return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Nminas de Cursos"}),u.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:["Este es un visor de las nminas de estudiantes. Para agregar, editar o eliminar estudiantes, utilice el mdulo de ",u.jsx("strong",{className:"font-semibold",children:"Administracin"}),"."]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"curso-filter",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filtrar por Curso"}),u.jsxs("select",{id:"curso-filter",value:e,onChange:a=>n(a.target.value),className:"w-full max-w-xs border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[u.jsx("option",{value:"",children:"Mostrar Todos los Estudiantes"}),r.map(a=>u.jsx("option",{value:a,children:a},a))]})]}),u.jsx("div",{className:"overflow-x-auto border rounded-lg dark:border-slate-700 max-h-[60vh]",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Nombre Completo"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Curso"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Email"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:s.length>0?s.map(a=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:a.nombreCompleto}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:a2(a.curso||"")}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:a.email})]},a.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:3,className:"px-6 py-10 text-center text-slate-500 dark:text-slate-400",children:"No hay estudiantes que coincidan con el filtro."})})})]})})]})},Cie=()=>{const[t,e]=ee.useState("pruebas"),[n,r]=ee.useState([]),[s,a]=ee.useState([]);ee.useEffect(()=>{const l=()=>{try{const A=localStorage.getItem(mie);A&&r(JSON.parse(A));const d=localStorage.getItem(jI);d&&a(JSON.parse(d))}catch(A){console.error("Error loading data for evaluation module",A)}};return l(),window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)},[]);const i=l=>{a(l),localStorage.setItem(jI,JSON.stringify(l)),window.dispatchEvent(new Event("storage"))},o=({tabName:l,label:A})=>u.jsx("button",{onClick:()=>e(l),className:`${t===l?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-3 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:A});return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Evaluacin de Aprendizajes"}),u.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:u.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[u.jsx(o,{tabName:"pruebas",label:"Pruebas y Guas"}),u.jsx(o,{tabName:"rubricas",label:"Generador de Rbricas"}),u.jsx(o,{tabName:"rubricasInteractivas",label:"Rbricas Interactivas"}),u.jsx(o,{tabName:"nominas",label:"Gestin de Nminas"})]})}),u.jsxs("div",{className:"mt-6",children:[t==="pruebas"&&u.jsx(vie,{}),t==="rubricas"&&u.jsx(yie,{rubricas:s,onUpdate:i}),t==="rubricasInteractivas"&&u.jsx(wie,{allUsers:n,rubricasEstaticas:s}),t==="nominas"&&u.jsx(bie,{allUsers:n})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var V2={};V2.version="0.18.5";var mM=1252,Eie=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],I5={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},F5=function(t){Eie.indexOf(t)!=-1&&(mM=I5[0]=t)};function _ie(){F5(1252)}var hc=function(t){F5(t)};function R5(){hc(1200),_ie()}function QI(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function Sie(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function pM(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var Yp=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?Sie(t.slice(2)):e==254&&n==255?pM(t.slice(2)):e==65279?t.slice(1):t},X1=function(e){return String.fromCharCode(e)},HI=function(e){return String.fromCharCode(e)},Hg,Bd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Vg(t){for(var e="",n=0,r=0,s=0,a=0,i=0,o=0,l=0,A=0;A<t.length;)n=t.charCodeAt(A++),a=n>>2,r=t.charCodeAt(A++),i=(n&3)<<4|r>>4,s=t.charCodeAt(A++),o=(r&15)<<2|s>>6,l=s&63,isNaN(r)?o=l=64:isNaN(s)&&(l=64),e+=Bd.charAt(a)+Bd.charAt(i)+Bd.charAt(o)+Bd.charAt(l);return e}function Ko(t){var e="",n=0,r=0,s=0,a=0,i=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var A=0;A<t.length;)a=Bd.indexOf(t.charAt(A++)),i=Bd.indexOf(t.charAt(A++)),n=a<<2|i>>4,e+=String.fromCharCode(n),o=Bd.indexOf(t.charAt(A++)),r=(i&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),l=Bd.indexOf(t.charAt(A++)),s=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(s));return e}var Kn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Tu=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Xd(t){return Kn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function VI(t){return Kn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Qo=function(e){return Kn?Tu(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function tw(t){if(typeof ArrayBuffer>"u")return Qo(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function of(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function Tie(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function D5(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return D5(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var Qa=Kn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Tu(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),s=0;for(e=0,n=0;e<t.length;n+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function Bie(t){for(var e=[],n=0,r=t.length+250,s=Xd(t.length+255),a=0;a<t.length;++a){var i=t.charCodeAt(a);if(i<128)s[n++]=i;else if(i<2048)s[n++]=192|i>>6&31,s[n++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=t.charCodeAt(++a)&1023;s[n++]=240|i>>8&7,s[n++]=128|i>>2&63,s[n++]=128|o>>6&15|(i&3)<<4,s[n++]=128|o&63}else s[n++]=224|i>>12&15,s[n++]=128|i>>6&63,s[n++]=128|i&63;n>r&&(e.push(s.slice(0,n)),n=0,s=Xd(65535),r=65530)}return e.push(s.slice(0,n)),Qa(e)}var Ki=/\u0000/g,Jp=/[\u0001-\u0006]/g;function Z0(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function mc(t,e){var n=""+t;return n.length>=e?n:Rs("0",e-n.length)+n}function U5(t,e){var n=""+t;return n.length>=e?n:Rs(" ",e-n.length)+n}function G2(t,e){var n=""+t;return n.length>=e?n:n+Rs(" ",e-n.length)}function Nie(t,e){var n=""+Math.round(t);return n.length>=e?n:Rs("0",e-n.length)+n}function kie(t,e){var n=""+t;return n.length>=e?n:Rs("0",e-n.length)+n}var GI=Math.pow(2,32);function l0(t,e){if(t>GI||t<-GI)return Nie(t,e);var n=Math.round(t);return kie(n,e)}function z2(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var zI=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],SC=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Iie(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var gn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},KI={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Fie={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function K2(t,e,n){for(var r=t<0?-1:1,s=t*r,a=0,i=1,o=0,l=1,A=0,d=0,h=Math.floor(s);A<e&&(h=Math.floor(s),o=h*i+a,d=h*A+l,!(s-h<5e-8));)s=1/(s-h),a=i,i=o,l=A,A=d;if(d>e&&(A>e?(d=l,o=a):(d=A,o=i)),!n)return[0,r*o,d];var p=Math.floor(r*o/d);return[p,r*o-p*d,d]}function Hf(t,e,n){if(t>2958465||t<0)return null;var r=t|0,s=Math.floor(86400*(t-r)),a=0,i=[],o={D:r,T:s,u:86400*(t-r)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++s==86400&&(o.T=s=0,++r,++o.D)),r===60)i=n?[1317,10,29]:[1900,2,29],a=3;else if(r===0)i=n?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),i=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),r<60&&(a=(a+6)%7),n&&(a=Pie(l,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=s%60,s=Math.floor(s/60),o.M=s%60,s=Math.floor(s/60),o.H=s,o.q=a,o}var gM=new Date(1899,11,31,0,0,0),Rie=gM.getTime(),Die=new Date(1900,2,1,0,0,0);function xM(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=Die&&(n+=1440*60*1e3),(n-(Rie+(t.getTimezoneOffset()-gM.getTimezoneOffset())*6e4))/(1440*60*1e3)}function L5(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Uie(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Lie(t){var e=t<0?12:11,n=L5(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function Mie(t){var e=L5(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Gg(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=Lie(t):e===10?n=t.toFixed(10).substr(0,12):n=Mie(t),L5(Uie(n.toUpperCase()))}function lh(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Gg(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Dl(14,xM(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function Pie(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function jie(t,e,n,r){var s="",a=0,i=0,o=n.y,l,A=0;switch(t){case 98:o=n.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,A=2;break;default:l=o%1e4,A=4;break}break;case 109:switch(e.length){case 1:case 2:l=n.m,A=e.length;break;case 3:return SC[n.m-1][1];case 5:return SC[n.m-1][0];default:return SC[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=n.d,A=e.length;break;case 3:return zI[n.q][0];default:return zI[n.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(n.H+11)%12,A=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=n.H,A=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=n.M,A=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?mc(n.S,e.length):(r>=2?i=r===3?1e3:100:i=r===1?10:1,a=Math.round(i*(n.S+n.u)),a>=60*i&&(a=0),e==="s"?a===0?"0":""+a/i:(s=mc(a,2+r),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}A=e.length===3?1:2;break;case 101:l=o,A=1;break}var d=A>0?mc(l,A):"";return d}function Nd(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var vM=/%/g;function Oie(t,e,n){var r=e.replace(vM,""),s=e.length-r.length;return du(t,r,n*Math.pow(10,2*s))+Rs("%",s)}function Qie(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return du(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function yM(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+yM(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%s;if(a<0&&(a+=s),n=(e/Math.pow(10,a)).toPrecision(r+1+(s+a)%s),n.indexOf("e")===-1){var i=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(i-n.length+a):n+="E+"+(i-a);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,s)+"."+n.substr(2+s),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,A,d){return l+A+d.substr(0,(s+a)%s)+"."+d.substr(a)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var wM=/# (\?+)( ?)\/( ?)(\d+)/;function Hie(t,e,n){var r=parseInt(t[4],10),s=Math.round(e*r),a=Math.floor(s/r),i=s-a*r,o=r;return n+(a===0?"":""+a)+" "+(i===0?Rs(" ",t[1].length+1+t[4].length):U5(i,t[1].length)+t[2]+"/"+t[3]+mc(o,t[4].length))}function Vie(t,e,n){return n+(e===0?"":""+e)+Rs(" ",t[1].length+2+t[4].length)}var bM=/^#*0*\.([0#]+)/,CM=/\).*[0#]/,EM=/\(###\) ###\\?-####/;function Gi(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function qI(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function WI(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function Gie(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function zie(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function xl(t,e,n){if(t.charCodeAt(0)===40&&!e.match(CM)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?xl("n",r,n):"("+xl("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return Qie(t,e,n);if(e.indexOf("%")!==-1)return Oie(t,e,n);if(e.indexOf("E")!==-1)return yM(e,n);if(e.charCodeAt(0)===36)return"$"+xl(t,e.substr(e.charAt(1)==" "?2:1),n);var s,a,i,o,l=Math.abs(n),A=n<0?"-":"";if(e.match(/^00+$/))return A+l0(l,e.length);if(e.match(/^[#?]+$/))return s=l0(n,0),s==="0"&&(s=""),s.length>e.length?s:Gi(e.substr(0,e.length-s.length))+s;if(a=e.match(wM))return Hie(a,l,A);if(e.match(/^#+0+$/))return A+l0(l,e.length-e.indexOf("0"));if(a=e.match(bM))return s=qI(n,a[1].length).replace(/^([^\.]+)$/,"$1."+Gi(a[1])).replace(/\.$/,"."+Gi(a[1])).replace(/\.(\d*)$/,function(w,b){return"."+b+Rs("0",Gi(a[1]).length-b.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return A+qI(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return A+Nd(l0(l,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+xl(t,e,-n):Nd(""+(Math.floor(n)+Gie(n,a[1].length)))+"."+mc(WI(n,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return xl(t,e.replace(/^#,#*,/,""),n);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Z0(xl(t,e.replace(/[\\-]/g,""),n)),i=0,Z0(Z0(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return i<s.length?s.charAt(i++):w==="0"?"0":""}));if(e.match(EM))return s=xl(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),o=K2(l,Math.pow(10,i)-1,!1),s=""+A,d=du("n",a[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+a[2]+"/"+a[3],d=G2(o[2],i),d.length<a[4].length&&(d=Gi(a[4].substr(a[4].length-d.length))+d),s+=d,s;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),o=K2(l,Math.pow(10,i)-1,!0),A+(o[0]||(o[1]?"":"0"))+" "+(o[1]?U5(o[1],i)+a[2]+"/"+a[3]+G2(o[2],i):Rs(" ",2*i+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return s=l0(n,0),e.length<=s.length?s:Gi(e.substr(0,e.length-s.length))+s;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var h=e.indexOf(".")-i,p=e.length-s.length-h;return Gi(e.substr(0,h)+s+e.substr(e.length-p))}if(a=e.match(/^00,000\.([#0]*0)$/))return i=WI(n,a[1].length),n<0?"-"+xl(t,e,-n):Nd(zie(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?mc(0,3-w.length):"")+w})+"."+mc(i,a[1].length);switch(e){case"###,##0.00":return xl(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var g=Nd(l0(l,0));return g!=="0"?A+g:"";case"###,###.00":return xl(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return xl(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Kie(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return du(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function qie(t,e,n){var r=e.replace(vM,""),s=e.length-r.length;return du(t,r,n*Math.pow(10,2*s))+Rs("%",s)}function _M(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+_M(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%s;if(a<0&&(a+=s),n=(e/Math.pow(10,a)).toPrecision(r+1+(s+a)%s),!n.match(/[Ee]/)){var i=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(i-n.length+a):n+="E+"+(i-a),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,A,d){return l+A+d.substr(0,(s+a)%s)+"."+d.substr(a)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function iA(t,e,n){if(t.charCodeAt(0)===40&&!e.match(CM)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?iA("n",r,n):"("+iA("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return Kie(t,e,n);if(e.indexOf("%")!==-1)return qie(t,e,n);if(e.indexOf("E")!==-1)return _M(e,n);if(e.charCodeAt(0)===36)return"$"+iA(t,e.substr(e.charAt(1)==" "?2:1),n);var s,a,i,o,l=Math.abs(n),A=n<0?"-":"";if(e.match(/^00+$/))return A+mc(l,e.length);if(e.match(/^[#?]+$/))return s=""+n,n===0&&(s=""),s.length>e.length?s:Gi(e.substr(0,e.length-s.length))+s;if(a=e.match(wM))return Vie(a,l,A);if(e.match(/^#+0+$/))return A+mc(l,e.length-e.indexOf("0"));if(a=e.match(bM))return s=(""+n).replace(/^([^\.]+)$/,"$1."+Gi(a[1])).replace(/\.$/,"."+Gi(a[1])),s=s.replace(/\.(\d*)$/,function(w,b){return"."+b+Rs("0",Gi(a[1]).length-b.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return A+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return A+Nd(""+l);if(a=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+iA(t,e,-n):Nd(""+n)+"."+Rs("0",a[1].length);if(a=e.match(/^#,#*,#0/))return iA(t,e.replace(/^#,#*,/,""),n);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Z0(iA(t,e.replace(/[\\-]/g,""),n)),i=0,Z0(Z0(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return i<s.length?s.charAt(i++):w==="0"?"0":""}));if(e.match(EM))return s=iA(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),o=K2(l,Math.pow(10,i)-1,!1),s=""+A,d=du("n",a[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+a[2]+"/"+a[3],d=G2(o[2],i),d.length<a[4].length&&(d=Gi(a[4].substr(a[4].length-d.length))+d),s+=d,s;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),o=K2(l,Math.pow(10,i)-1,!0),A+(o[0]||(o[1]?"":"0"))+" "+(o[1]?U5(o[1],i)+a[2]+"/"+a[3]+G2(o[2],i):Rs(" ",2*i+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return s=""+n,e.length<=s.length?s:Gi(e.substr(0,e.length-s.length))+s;if(a=e.match(/^([#0]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var h=e.indexOf(".")-i,p=e.length-s.length-h;return Gi(e.substr(0,h)+s+e.substr(e.length-p))}if(a=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+iA(t,e,-n):Nd(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?mc(0,3-w.length):"")+w})+"."+mc(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var g=Nd(""+l);return g!=="0"?A+g:"";default:if(e.match(/\.[0#?]*$/))return iA(t,e.slice(0,e.lastIndexOf(".")),n)+Gi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function du(t,e,n){return(n|0)===n?iA(t,e,n):xl(t,e,n)}function Wie(t){for(var e=[],n=!1,r=0,s=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(s,r-s),s=r+1}if(e[e.length]=t.substr(s),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var SM=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Mm(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":z2(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(SM))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function $ie(t,e,n,r){for(var s=[],a="",i=0,o="",l="t",A,d,h,p="H";i<t.length;)switch(o=t.charAt(i)){case"G":if(!z2(t,i))throw new Error("unrecognized character "+o+" in "+t);s[s.length]={t:"G",v:"General"},i+=7;break;case'"':for(a="";(h=t.charCodeAt(++i))!==34&&i<t.length;)a+=String.fromCharCode(h);s[s.length]={t:"t",v:a},++i;break;case"\\":var g=t.charAt(++i),w=g==="("||g===")"?g:"t";s[s.length]={t:w,v:g},++i;break;case"_":s[s.length]={t:"t",v:" "},i+=2;break;case"@":s[s.length]={t:"T",v:e},++i;break;case"B":case"b":if(t.charAt(i+1)==="1"||t.charAt(i+1)==="2"){if(A==null&&(A=Hf(e,n,t.charAt(i+1)==="2"),A==null))return"";s[s.length]={t:"X",v:t.substr(i,2)},l=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||A==null&&(A=Hf(e,n),A==null))return"";for(a=o;++i<t.length&&t.charAt(i).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),s[s.length]={t:o,v:a},l=o;break;case"A":case"a":case"":var b={t:o,v:o};if(A==null&&(A=Hf(e,n)),t.substr(i,3).toUpperCase()==="A/P"?(A!=null&&(b.v=A.H>=12?"P":"A"),b.t="T",p="h",i+=3):t.substr(i,5).toUpperCase()==="AM/PM"?(A!=null&&(b.v=A.H>=12?"PM":"AM"),b.t="T",i+=5,p="h"):t.substr(i,5).toUpperCase()==="/"?(A!=null&&(b.v=A.H>=12?"":""),b.t="T",i+=5,p="h"):(b.t="t",++i),A==null&&b.t==="T")return"";s[s.length]=b,l=o;break;case"[":for(a=o;t.charAt(i++)!=="]"&&i<t.length;)a+=t.charAt(i);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(SM)){if(A==null&&(A=Hf(e,n),A==null))return"";s[s.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Mm(t)||(s[s.length]={t:"t",v:a}));break;case".":if(A!=null){for(a=o;++i<t.length&&(o=t.charAt(i))==="0";)a+=o;s[s.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++i<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(i))>-1;)a+=o;s[s.length]={t:"n",v:a};break;case"?":for(a=o;t.charAt(++i)===o;)a+=o;s[s.length]={t:o,v:a},l=o;break;case"*":++i,(t.charAt(i)==" "||t.charAt(i)=="*")&&++i;break;case"(":case")":s[s.length]={t:r===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;i<t.length&&"0123456789".indexOf(t.charAt(++i))>-1;)a+=t.charAt(i);s[s.length]={t:"D",v:a};break;case" ":s[s.length]={t:o,v:o},++i;break;case"$":s[s.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);s[s.length]={t:"t",v:o},++i;break}var E=0,T=0,I;for(i=s.length-1,l="t";i>=0;--i)switch(s[i].t){case"h":case"H":s[i].t=p,l="h",E<1&&(E=1);break;case"s":(I=s[i].v.match(/\.0+$/))&&(T=Math.max(T,I[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":l=s[i].t;break;case"m":l==="s"&&(s[i].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&s[i].v.match(/[Hh]/)&&(E=1),E<2&&s[i].v.match(/[Mm]/)&&(E=2),E<3&&s[i].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:A.u>=.5&&(A.u=0,++A.S),A.S>=60&&(A.S=0,++A.M),A.M>=60&&(A.M=0,++A.H);break;case 2:A.u>=.5&&(A.u=0,++A.S),A.S>=60&&(A.S=0,++A.M);break}var k="",F;for(i=0;i<s.length;++i)switch(s[i].t){case"t":case"T":case" ":case"D":break;case"X":s[i].v="",s[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[i].v=jie(s[i].t.charCodeAt(0),s[i].v,A,T),s[i].t="t";break;case"n":case"?":for(F=i+1;s[F]!=null&&((o=s[F].t)==="?"||o==="D"||(o===" "||o==="t")&&s[F+1]!=null&&(s[F+1].t==="?"||s[F+1].t==="t"&&s[F+1].v==="/")||s[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(s[F].v==="/"||s[F].v===" "&&s[F+1]!=null&&s[F+1].t=="?"));)s[i].v+=s[F].v,s[F]={v:"",t:";"},++F;k+=s[i].v,i=F-1;break;case"G":s[i].t="t",s[i].v=lh(e,n);break}var R="",L,S;if(k.length>0){k.charCodeAt(0)==40?(L=e<0&&k.charCodeAt(0)===45?-e:e,S=du("n",k,L)):(L=e<0&&r>1?-e:e,S=du("n",k,L),L<0&&s[0]&&s[0].t=="t"&&(S=S.substr(1),s[0].v="-"+s[0].v)),F=S.length-1;var N=s.length;for(i=0;i<s.length;++i)if(s[i]!=null&&s[i].t!="t"&&s[i].v.indexOf(".")>-1){N=i;break}var B=s.length;if(N===s.length&&S.indexOf("E")===-1){for(i=s.length-1;i>=0;--i)s[i]==null||"n?".indexOf(s[i].t)===-1||(F>=s[i].v.length-1?(F-=s[i].v.length,s[i].v=S.substr(F+1,s[i].v.length)):F<0?s[i].v="":(s[i].v=S.substr(0,F+1),F=-1),s[i].t="t",B=i);F>=0&&B<s.length&&(s[B].v=S.substr(0,F+1)+s[B].v)}else if(N!==s.length&&S.indexOf("E")===-1){for(F=S.indexOf(".")-1,i=N;i>=0;--i)if(!(s[i]==null||"n?".indexOf(s[i].t)===-1)){for(d=s[i].v.indexOf(".")>-1&&i===N?s[i].v.indexOf(".")-1:s[i].v.length-1,R=s[i].v.substr(d+1);d>=0;--d)F>=0&&(s[i].v.charAt(d)==="0"||s[i].v.charAt(d)==="#")&&(R=S.charAt(F--)+R);s[i].v=R,s[i].t="t",B=i}for(F>=0&&B<s.length&&(s[B].v=S.substr(0,F+1)+s[B].v),F=S.indexOf(".")+1,i=N;i<s.length;++i)if(!(s[i]==null||"n?(".indexOf(s[i].t)===-1&&i!==N)){for(d=s[i].v.indexOf(".")>-1&&i===N?s[i].v.indexOf(".")+1:0,R=s[i].v.substr(0,d);d<s[i].v.length;++d)F<S.length&&(R+=S.charAt(F++));s[i].v=R,s[i].t="t",B=i}}}for(i=0;i<s.length;++i)s[i]!=null&&"n?".indexOf(s[i].t)>-1&&(L=r>1&&e<0&&i>0&&s[i-1].v==="-"?-e:e,s[i].v=du(s[i].t,s[i].v,L),s[i].t="t");var H="";for(i=0;i!==s.length;++i)s[i]!=null&&(H+=s[i].v);return H}var $I=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function YI(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function Yie(t,e){var n=Wie(t),r=n.length,s=n[r-1].indexOf("@");if(r<4&&s>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||s>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=s>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=s>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=s>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var a=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,a];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var i=n[0].match($I),o=n[1].match($I);return YI(e,i)?[r,n[0]]:YI(e,o)?[r,n[1]]:[r,n[i!=null&&o!=null?2:1]]}return[r,a]}function Dl(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:gn)[t],r==null&&(r=n.table&&n.table[KI[t]]||gn[KI[t]]),r==null&&(r=Fie[t]||"General");break}if(z2(r,0))return lh(e,n);e instanceof Date&&(e=xM(e,n.date1904));var s=Yie(r,e);if(z2(s[1]))return lh(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return $ie(s[1],e,n,s[0])}function fu(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(gn[n]==null){e<0&&(e=n);continue}if(gn[n]==t){e=n;break}}e<0&&(e=391)}return gn[e]=t,e}function nw(t){for(var e=0;e!=392;++e)t[e]!==void 0&&fu(t[e],e)}function Pm(){gn=Iie()}var Jie={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},TM=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Xie(t){var e=typeof t=="number"?gn[t]:t;return e=e.replace(TM,"(\\d+)"),new RegExp("^"+e+"$")}function Zie(t,e,n){var r=-1,s=-1,a=-1,i=-1,o=-1,l=-1;(e.match(TM)||[]).forEach(function(h,p){var g=parseInt(n[p+1],10);switch(h.toLowerCase().charAt(0)){case"y":r=g;break;case"d":a=g;break;case"h":i=g;break;case"s":l=g;break;case"m":i>=0?o=g:s=g;break}}),l>=0&&o==-1&&s>=0&&(o=s,s=-1);var A=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);A.length==7&&(A="0"+A),A.length==8&&(A="20"+A);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return i==-1&&o==-1&&l==-1?A:r==-1&&s==-1&&a==-1?d:A+"T"+d}var eoe=function(){var t={};t.version="1.2.0";function e(){for(var S=0,N=new Array(256),B=0;B!=256;++B)S=B,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,N[B]=S;return typeof Int32Array<"u"?new Int32Array(N):N}var n=e();function r(S){var N=0,B=0,H=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(H=0;H!=256;++H)P[H]=S[H];for(H=0;H!=256;++H)for(B=S[H],N=256+H;N<4096;N+=256)B=P[N]=B>>>8^S[B&255];var M=[];for(H=1;H!=16;++H)M[H-1]=typeof Int32Array<"u"?P.subarray(H*256,H*256+256):P.slice(H*256,H*256+256);return M}var s=r(n),a=s[0],i=s[1],o=s[2],l=s[3],A=s[4],d=s[5],h=s[6],p=s[7],g=s[8],w=s[9],b=s[10],E=s[11],T=s[12],I=s[13],k=s[14];function F(S,N){for(var B=N^-1,H=0,P=S.length;H<P;)B=B>>>8^n[(B^S.charCodeAt(H++))&255];return~B}function R(S,N){for(var B=N^-1,H=S.length-15,P=0;P<H;)B=k[S[P++]^B&255]^I[S[P++]^B>>8&255]^T[S[P++]^B>>16&255]^E[S[P++]^B>>>24]^b[S[P++]]^w[S[P++]]^g[S[P++]]^p[S[P++]]^h[S[P++]]^d[S[P++]]^A[S[P++]]^l[S[P++]]^o[S[P++]]^i[S[P++]]^a[S[P++]]^n[S[P++]];for(H+=15;P<H;)B=B>>>8^n[(B^S[P++])&255];return~B}function L(S,N){for(var B=N^-1,H=0,P=S.length,M=0,V=0;H<P;)M=S.charCodeAt(H++),M<128?B=B>>>8^n[(B^M)&255]:M<2048?(B=B>>>8^n[(B^(192|M>>6&31))&255],B=B>>>8^n[(B^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,V=S.charCodeAt(H++)&1023,B=B>>>8^n[(B^(240|M>>8&7))&255],B=B>>>8^n[(B^(128|M>>2&63))&255],B=B>>>8^n[(B^(128|V>>6&15|(M&3)<<4))&255],B=B>>>8^n[(B^(128|V&63))&255]):(B=B>>>8^n[(B^(224|M>>12&15))&255],B=B>>>8^n[(B^(128|M>>6&63))&255],B=B>>>8^n[(B^(128|M&63))&255]);return~B}return t.table=n,t.bstr=F,t.buf=R,t.str=L,t}(),ln=function(){var e={};e.version="1.2.1";function n(fe,Ne){for(var Ee=fe.split("/"),_e=Ne.split("/"),Te=0,ke=0,Ke=Math.min(Ee.length,_e.length);Te<Ke;++Te){if(ke=Ee[Te].length-_e[Te].length)return ke;if(Ee[Te]!=_e[Te])return Ee[Te]<_e[Te]?-1:1}return Ee.length-_e.length}function r(fe){if(fe.charAt(fe.length-1)=="/")return fe.slice(0,-1).indexOf("/")===-1?fe:r(fe.slice(0,-1));var Ne=fe.lastIndexOf("/");return Ne===-1?fe:fe.slice(0,Ne+1)}function s(fe){if(fe.charAt(fe.length-1)=="/")return s(fe.slice(0,-1));var Ne=fe.lastIndexOf("/");return Ne===-1?fe:fe.slice(Ne+1)}function a(fe,Ne){typeof Ne=="string"&&(Ne=new Date(Ne));var Ee=Ne.getHours();Ee=Ee<<6|Ne.getMinutes(),Ee=Ee<<5|Ne.getSeconds()>>>1,fe.write_shift(2,Ee);var _e=Ne.getFullYear()-1980;_e=_e<<4|Ne.getMonth()+1,_e=_e<<5|Ne.getDate(),fe.write_shift(2,_e)}function i(fe){var Ne=fe.read_shift(2)&65535,Ee=fe.read_shift(2)&65535,_e=new Date,Te=Ee&31;Ee>>>=5;var ke=Ee&15;Ee>>>=4,_e.setMilliseconds(0),_e.setFullYear(Ee+1980),_e.setMonth(ke-1),_e.setDate(Te);var Ke=Ne&31;Ne>>>=5;var tt=Ne&63;return Ne>>>=6,_e.setHours(Ne),_e.setMinutes(tt),_e.setSeconds(Ke<<1),_e}function o(fe){ti(fe,0);for(var Ne={},Ee=0;fe.l<=fe.length-4;){var _e=fe.read_shift(2),Te=fe.read_shift(2),ke=fe.l+Te,Ke={};switch(_e){case 21589:Ee=fe.read_shift(1),Ee&1&&(Ke.mtime=fe.read_shift(4)),Te>5&&(Ee&2&&(Ke.atime=fe.read_shift(4)),Ee&4&&(Ke.ctime=fe.read_shift(4))),Ke.mtime&&(Ke.mt=new Date(Ke.mtime*1e3));break}fe.l=ke,Ne[_e]=Ke}return Ne}var l;function A(){return l||(l={})}function d(fe,Ne){if(fe[0]==80&&fe[1]==75)return Xn(fe,Ne);if((fe[0]|32)==109&&(fe[1]|32)==105)return ga(fe,Ne);if(fe.length<512)throw new Error("CFB file size "+fe.length+" < 512");var Ee=3,_e=512,Te=0,ke=0,Ke=0,tt=0,Qe=0,We=[],Je=fe.slice(0,512);ti(Je,0);var yt=h(Je);switch(Ee=yt[0],Ee){case 3:_e=512;break;case 4:_e=4096;break;case 0:if(yt[1]==0)return Xn(fe,Ne);default:throw new Error("Major Version: Expected 3 or 4 saw "+Ee)}_e!==512&&(Je=fe.slice(0,_e),ti(Je,28));var Nt=fe.slice(0,_e);p(Je,Ee);var jt=Je.read_shift(4,"i");if(Ee===3&&jt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+jt);Je.l+=4,Ke=Je.read_shift(4,"i"),Je.l+=4,Je.chk("00100000","Mini Stream Cutoff Size: "),tt=Je.read_shift(4,"i"),Te=Je.read_shift(4,"i"),Qe=Je.read_shift(4,"i"),ke=Je.read_shift(4,"i");for(var Tt=-1,Rt=0;Rt<109&&(Tt=Je.read_shift(4,"i"),!(Tt<0));++Rt)We[Rt]=Tt;var An=g(fe,_e);E(Qe,ke,An,_e,We);var Un=I(An,Ke,We,_e);Un[Ke].name="!Directory",Te>0&&tt!==V&&(Un[tt].name="!MiniFAT"),Un[We[0]].name="!FAT",Un.fat_addrs=We,Un.ssz=_e;var Ln={},Qn=[],Es=[],ii=[];k(Ke,Un,An,Qn,Te,Ln,Es,tt),w(Es,ii,Qn),Qn.shift();var _s={FileIndex:Es,FullPaths:ii};return Ne&&Ne.raw&&(_s.raw={header:Nt,sectors:An}),_s}function h(fe){if(fe[fe.l]==80&&fe[fe.l+1]==75)return[0,0];fe.chk(G,"Header Signature: "),fe.l+=16;var Ne=fe.read_shift(2,"u");return[fe.read_shift(2,"u"),Ne]}function p(fe,Ne){var Ee=9;switch(fe.l+=2,Ee=fe.read_shift(2)){case 9:if(Ne!=3)throw new Error("Sector Shift: Expected 9 saw "+Ee);break;case 12:if(Ne!=4)throw new Error("Sector Shift: Expected 12 saw "+Ee);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Ee)}fe.chk("0600","Mini Sector Shift: "),fe.chk("000000000000","Reserved: ")}function g(fe,Ne){for(var Ee=Math.ceil(fe.length/Ne)-1,_e=[],Te=1;Te<Ee;++Te)_e[Te-1]=fe.slice(Te*Ne,(Te+1)*Ne);return _e[Ee-1]=fe.slice(Ee*Ne),_e}function w(fe,Ne,Ee){for(var _e=0,Te=0,ke=0,Ke=0,tt=0,Qe=Ee.length,We=[],Je=[];_e<Qe;++_e)We[_e]=Je[_e]=_e,Ne[_e]=Ee[_e];for(;tt<Je.length;++tt)_e=Je[tt],Te=fe[_e].L,ke=fe[_e].R,Ke=fe[_e].C,We[_e]===_e&&(Te!==-1&&We[Te]!==Te&&(We[_e]=We[Te]),ke!==-1&&We[ke]!==ke&&(We[_e]=We[ke])),Ke!==-1&&(We[Ke]=_e),Te!==-1&&_e!=We[_e]&&(We[Te]=We[_e],Je.lastIndexOf(Te)<tt&&Je.push(Te)),ke!==-1&&_e!=We[_e]&&(We[ke]=We[_e],Je.lastIndexOf(ke)<tt&&Je.push(ke));for(_e=1;_e<Qe;++_e)We[_e]===_e&&(ke!==-1&&We[ke]!==ke?We[_e]=We[ke]:Te!==-1&&We[Te]!==Te&&(We[_e]=We[Te]));for(_e=1;_e<Qe;++_e)if(fe[_e].type!==0){if(tt=_e,tt!=We[tt])do tt=We[tt],Ne[_e]=Ne[tt]+"/"+Ne[_e];while(tt!==0&&We[tt]!==-1&&tt!=We[tt]);We[_e]=-1}for(Ne[0]+="/",_e=1;_e<Qe;++_e)fe[_e].type!==2&&(Ne[_e]+="/")}function b(fe,Ne,Ee){for(var _e=fe.start,Te=fe.size,ke=[],Ke=_e;Ee&&Te>0&&Ke>=0;)ke.push(Ne.slice(Ke*M,Ke*M+M)),Te-=M,Ke=jf(Ee,Ke*4);return ke.length===0?lt(0):Qa(ke).slice(0,fe.size)}function E(fe,Ne,Ee,_e,Te){var ke=V;if(fe===V){if(Ne!==0)throw new Error("DIFAT chain shorter than expected")}else if(fe!==-1){var Ke=Ee[fe],tt=(_e>>>2)-1;if(!Ke)return;for(var Qe=0;Qe<tt&&(ke=jf(Ke,Qe*4))!==V;++Qe)Te.push(ke);E(jf(Ke,_e-4),Ne-1,Ee,_e,Te)}}function T(fe,Ne,Ee,_e,Te){var ke=[],Ke=[];Te||(Te=[]);var tt=_e-1,Qe=0,We=0;for(Qe=Ne;Qe>=0;){Te[Qe]=!0,ke[ke.length]=Qe,Ke.push(fe[Qe]);var Je=Ee[Math.floor(Qe*4/_e)];if(We=Qe*4&tt,_e<4+We)throw new Error("FAT boundary crossed: "+Qe+" 4 "+_e);if(!fe[Je])break;Qe=jf(fe[Je],We)}return{nodes:ke,data:lF([Ke])}}function I(fe,Ne,Ee,_e){var Te=fe.length,ke=[],Ke=[],tt=[],Qe=[],We=_e-1,Je=0,yt=0,Nt=0,jt=0;for(Je=0;Je<Te;++Je)if(tt=[],Nt=Je+Ne,Nt>=Te&&(Nt-=Te),!Ke[Nt]){Qe=[];var Tt=[];for(yt=Nt;yt>=0;){Tt[yt]=!0,Ke[yt]=!0,tt[tt.length]=yt,Qe.push(fe[yt]);var Rt=Ee[Math.floor(yt*4/_e)];if(jt=yt*4&We,_e<4+jt)throw new Error("FAT boundary crossed: "+yt+" 4 "+_e);if(!fe[Rt]||(yt=jf(fe[Rt],jt),Tt[yt]))break}ke[Nt]={nodes:tt,data:lF([Qe])}}return ke}function k(fe,Ne,Ee,_e,Te,ke,Ke,tt){for(var Qe=0,We=_e.length?2:0,Je=Ne[fe].data,yt=0,Nt=0,jt;yt<Je.length;yt+=128){var Tt=Je.slice(yt,yt+128);ti(Tt,64),Nt=Tt.read_shift(2),jt=V5(Tt,0,Nt-We),_e.push(jt);var Rt={name:jt,type:Tt.read_shift(1),color:Tt.read_shift(1),L:Tt.read_shift(4,"i"),R:Tt.read_shift(4,"i"),C:Tt.read_shift(4,"i"),clsid:Tt.read_shift(16),state:Tt.read_shift(4,"i"),start:0,size:0},An=Tt.read_shift(2)+Tt.read_shift(2)+Tt.read_shift(2)+Tt.read_shift(2);An!==0&&(Rt.ct=F(Tt,Tt.l-8));var Un=Tt.read_shift(2)+Tt.read_shift(2)+Tt.read_shift(2)+Tt.read_shift(2);Un!==0&&(Rt.mt=F(Tt,Tt.l-8)),Rt.start=Tt.read_shift(4,"i"),Rt.size=Tt.read_shift(4,"i"),Rt.size<0&&Rt.start<0&&(Rt.size=Rt.type=0,Rt.start=V,Rt.name=""),Rt.type===5?(Qe=Rt.start,Te>0&&Qe!==V&&(Ne[Qe].name="!StreamData")):Rt.size>=4096?(Rt.storage="fat",Ne[Rt.start]===void 0&&(Ne[Rt.start]=T(Ee,Rt.start,Ne.fat_addrs,Ne.ssz)),Ne[Rt.start].name=Rt.name,Rt.content=Ne[Rt.start].data.slice(0,Rt.size)):(Rt.storage="minifat",Rt.size<0?Rt.size=0:Qe!==V&&Rt.start!==V&&Ne[Qe]&&(Rt.content=b(Rt,Ne[Qe].data,(Ne[tt]||{}).data))),Rt.content&&ti(Rt.content,0),ke[jt]=Rt,Ke.push(Rt)}}function F(fe,Ne){return new Date((Oo(fe,Ne+4)/1e7*Math.pow(2,32)+Oo(fe,Ne)/1e7-11644473600)*1e3)}function R(fe,Ne){return A(),d(l.readFileSync(fe),Ne)}function L(fe,Ne){var Ee=Ne&&Ne.type;switch(Ee||Kn&&Buffer.isBuffer(fe)&&(Ee="buffer"),Ee||"base64"){case"file":return R(fe,Ne);case"base64":return d(Qo(Ko(fe)),Ne);case"binary":return d(Qo(fe),Ne)}return d(fe,Ne)}function S(fe,Ne){var Ee=Ne||{},_e=Ee.root||"Root Entry";if(fe.FullPaths||(fe.FullPaths=[]),fe.FileIndex||(fe.FileIndex=[]),fe.FullPaths.length!==fe.FileIndex.length)throw new Error("inconsistent CFB structure");fe.FullPaths.length===0&&(fe.FullPaths[0]=_e+"/",fe.FileIndex[0]={name:_e,type:5}),Ee.CLSID&&(fe.FileIndex[0].clsid=Ee.CLSID),N(fe)}function N(fe){var Ne="Sh33tJ5";if(!ln.find(fe,"/"+Ne)){var Ee=lt(4);Ee[0]=55,Ee[1]=Ee[3]=50,Ee[2]=54,fe.FileIndex.push({name:Ne,type:2,content:Ee,size:4,L:69,R:69,C:69}),fe.FullPaths.push(fe.FullPaths[0]+Ne),B(fe)}}function B(fe,Ne){S(fe);for(var Ee=!1,_e=!1,Te=fe.FullPaths.length-1;Te>=0;--Te){var ke=fe.FileIndex[Te];switch(ke.type){case 0:_e?Ee=!0:(fe.FileIndex.pop(),fe.FullPaths.pop());break;case 1:case 2:case 5:_e=!0,isNaN(ke.R*ke.L*ke.C)&&(Ee=!0),ke.R>-1&&ke.L>-1&&ke.R==ke.L&&(Ee=!0);break;default:Ee=!0;break}}if(!(!Ee&&!Ne)){var Ke=new Date(1987,1,19),tt=0,Qe=Object.create?Object.create(null):{},We=[];for(Te=0;Te<fe.FullPaths.length;++Te)Qe[fe.FullPaths[Te]]=!0,fe.FileIndex[Te].type!==0&&We.push([fe.FullPaths[Te],fe.FileIndex[Te]]);for(Te=0;Te<We.length;++Te){var Je=r(We[Te][0]);_e=Qe[Je],_e||(We.push([Je,{name:s(Je).replace("/",""),type:1,clsid:K,ct:Ke,mt:Ke,content:null}]),Qe[Je]=!0)}for(We.sort(function(jt,Tt){return n(jt[0],Tt[0])}),fe.FullPaths=[],fe.FileIndex=[],Te=0;Te<We.length;++Te)fe.FullPaths[Te]=We[Te][0],fe.FileIndex[Te]=We[Te][1];for(Te=0;Te<We.length;++Te){var yt=fe.FileIndex[Te],Nt=fe.FullPaths[Te];if(yt.name=s(Nt).replace("/",""),yt.L=yt.R=yt.C=-(yt.color=1),yt.size=yt.content?yt.content.length:0,yt.start=0,yt.clsid=yt.clsid||K,Te===0)yt.C=We.length>1?1:-1,yt.size=0,yt.type=5;else if(Nt.slice(-1)=="/"){for(tt=Te+1;tt<We.length&&r(fe.FullPaths[tt])!=Nt;++tt);for(yt.C=tt>=We.length?-1:tt,tt=Te+1;tt<We.length&&r(fe.FullPaths[tt])!=r(Nt);++tt);yt.R=tt>=We.length?-1:tt,yt.type=1}else r(fe.FullPaths[Te+1]||"")==r(Nt)&&(yt.R=Te+1),yt.type=2}}}function H(fe,Ne){var Ee=Ne||{};if(Ee.fileType=="mad")return Ht(fe,Ee);switch(B(fe),Ee.fileType){case"zip":return ls(fe,Ee)}var _e=function(jt){for(var Tt=0,Rt=0,An=0;An<jt.FileIndex.length;++An){var Un=jt.FileIndex[An];if(Un.content){var Ln=Un.content.length;Ln>0&&(Ln<4096?Tt+=Ln+63>>6:Rt+=Ln+511>>9)}}for(var Qn=jt.FullPaths.length+3>>2,Es=Tt+7>>3,ii=Tt+127>>7,_s=Es+Rt+Qn+ii,ra=_s+127>>7,Ms=ra<=109?0:Math.ceil((ra-109)/127);_s+ra+Ms+127>>7>ra;)Ms=++ra<=109?0:Math.ceil((ra-109)/127);var xa=[1,Ms,ra,ii,Qn,Rt,Tt,0];return jt.FileIndex[0].size=Tt<<6,xa[7]=(jt.FileIndex[0].start=xa[0]+xa[1]+xa[2]+xa[3]+xa[4]+xa[5])+(xa[6]+7>>3),xa}(fe),Te=lt(_e[7]<<9),ke=0,Ke=0;{for(ke=0;ke<8;++ke)Te.write_shift(1,oe[ke]);for(ke=0;ke<8;++ke)Te.write_shift(2,0);for(Te.write_shift(2,62),Te.write_shift(2,3),Te.write_shift(2,65534),Te.write_shift(2,9),Te.write_shift(2,6),ke=0;ke<3;++ke)Te.write_shift(2,0);for(Te.write_shift(4,0),Te.write_shift(4,_e[2]),Te.write_shift(4,_e[0]+_e[1]+_e[2]+_e[3]-1),Te.write_shift(4,0),Te.write_shift(4,4096),Te.write_shift(4,_e[3]?_e[0]+_e[1]+_e[2]-1:V),Te.write_shift(4,_e[3]),Te.write_shift(-4,_e[1]?_e[0]-1:V),Te.write_shift(4,_e[1]),ke=0;ke<109;++ke)Te.write_shift(-4,ke<_e[2]?_e[1]+ke:-1)}if(_e[1])for(Ke=0;Ke<_e[1];++Ke){for(;ke<236+Ke*127;++ke)Te.write_shift(-4,ke<_e[2]?_e[1]+ke:-1);Te.write_shift(-4,Ke===_e[1]-1?V:Ke+1)}var tt=function(jt){for(Ke+=jt;ke<Ke-1;++ke)Te.write_shift(-4,ke+1);jt&&(++ke,Te.write_shift(-4,V))};for(Ke=ke=0,Ke+=_e[1];ke<Ke;++ke)Te.write_shift(-4,Z.DIFSECT);for(Ke+=_e[2];ke<Ke;++ke)Te.write_shift(-4,Z.FATSECT);tt(_e[3]),tt(_e[4]);for(var Qe=0,We=0,Je=fe.FileIndex[0];Qe<fe.FileIndex.length;++Qe)Je=fe.FileIndex[Qe],Je.content&&(We=Je.content.length,!(We<4096)&&(Je.start=Ke,tt(We+511>>9)));for(tt(_e[6]+7>>3);Te.l&511;)Te.write_shift(-4,Z.ENDOFCHAIN);for(Ke=ke=0,Qe=0;Qe<fe.FileIndex.length;++Qe)Je=fe.FileIndex[Qe],Je.content&&(We=Je.content.length,!(!We||We>=4096)&&(Je.start=Ke,tt(We+63>>6)));for(;Te.l&511;)Te.write_shift(-4,Z.ENDOFCHAIN);for(ke=0;ke<_e[4]<<2;++ke){var yt=fe.FullPaths[ke];if(!yt||yt.length===0){for(Qe=0;Qe<17;++Qe)Te.write_shift(4,0);for(Qe=0;Qe<3;++Qe)Te.write_shift(4,-1);for(Qe=0;Qe<12;++Qe)Te.write_shift(4,0);continue}Je=fe.FileIndex[ke],ke===0&&(Je.start=Je.size?Je.start-1:V);var Nt=ke===0&&Ee.root||Je.name;if(We=2*(Nt.length+1),Te.write_shift(64,Nt,"utf16le"),Te.write_shift(2,We),Te.write_shift(1,Je.type),Te.write_shift(1,Je.color),Te.write_shift(-4,Je.L),Te.write_shift(-4,Je.R),Te.write_shift(-4,Je.C),Je.clsid)Te.write_shift(16,Je.clsid,"hex");else for(Qe=0;Qe<4;++Qe)Te.write_shift(4,0);Te.write_shift(4,Je.state||0),Te.write_shift(4,0),Te.write_shift(4,0),Te.write_shift(4,0),Te.write_shift(4,0),Te.write_shift(4,Je.start),Te.write_shift(4,Je.size),Te.write_shift(4,0)}for(ke=1;ke<fe.FileIndex.length;++ke)if(Je=fe.FileIndex[ke],Je.size>=4096)if(Te.l=Je.start+1<<9,Kn&&Buffer.isBuffer(Je.content))Je.content.copy(Te,Te.l,0,Je.size),Te.l+=Je.size+511&-512;else{for(Qe=0;Qe<Je.size;++Qe)Te.write_shift(1,Je.content[Qe]);for(;Qe&511;++Qe)Te.write_shift(1,0)}for(ke=1;ke<fe.FileIndex.length;++ke)if(Je=fe.FileIndex[ke],Je.size>0&&Je.size<4096)if(Kn&&Buffer.isBuffer(Je.content))Je.content.copy(Te,Te.l,0,Je.size),Te.l+=Je.size+63&-64;else{for(Qe=0;Qe<Je.size;++Qe)Te.write_shift(1,Je.content[Qe]);for(;Qe&63;++Qe)Te.write_shift(1,0)}if(Kn)Te.l=Te.length;else for(;Te.l<Te.length;)Te.write_shift(1,0);return Te}function P(fe,Ne){var Ee=fe.FullPaths.map(function(Qe){return Qe.toUpperCase()}),_e=Ee.map(function(Qe){var We=Qe.split("/");return We[We.length-(Qe.slice(-1)=="/"?2:1)]}),Te=!1;Ne.charCodeAt(0)===47?(Te=!0,Ne=Ee[0].slice(0,-1)+Ne):Te=Ne.indexOf("/")!==-1;var ke=Ne.toUpperCase(),Ke=Te===!0?Ee.indexOf(ke):_e.indexOf(ke);if(Ke!==-1)return fe.FileIndex[Ke];var tt=!ke.match(Jp);for(ke=ke.replace(Ki,""),tt&&(ke=ke.replace(Jp,"!")),Ke=0;Ke<Ee.length;++Ke)if((tt?Ee[Ke].replace(Jp,"!"):Ee[Ke]).replace(Ki,"")==ke||(tt?_e[Ke].replace(Jp,"!"):_e[Ke]).replace(Ki,"")==ke)return fe.FileIndex[Ke];return null}var M=64,V=-2,G="d0cf11e0a1b11ae1",oe=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",Z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:V,FREESECT:-1,HEADER_SIGNATURE:G,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function re(fe,Ne,Ee){A();var _e=H(fe,Ee);l.writeFileSync(Ne,_e)}function q(fe){for(var Ne=new Array(fe.length),Ee=0;Ee<fe.length;++Ee)Ne[Ee]=String.fromCharCode(fe[Ee]);return Ne.join("")}function X(fe,Ne){var Ee=H(fe,Ne);switch(Ne&&Ne.type||"buffer"){case"file":return A(),l.writeFileSync(Ne.filename,Ee),Ee;case"binary":return typeof Ee=="string"?Ee:q(Ee);case"base64":return Vg(typeof Ee=="string"?Ee:q(Ee));case"buffer":if(Kn)return Buffer.isBuffer(Ee)?Ee:Tu(Ee);case"array":return typeof Ee=="string"?Qo(Ee):Ee}return Ee}var ue;function j(fe){try{var Ne=fe.InflateRaw,Ee=new Ne;if(Ee._processChunk(new Uint8Array([3,0]),Ee._finishFlushFlag),Ee.bytesRead)ue=fe;else throw new Error("zlib does not expose bytesRead")}catch(_e){console.error("cannot use native zlib: "+(_e.message||_e))}}function W(fe,Ne){if(!ue)return Bn(fe,Ne);var Ee=ue.InflateRaw,_e=new Ee,Te=_e._processChunk(fe.slice(fe.l),_e._finishFlushFlag);return fe.l+=_e.bytesRead,Te}function J(fe){return ue?ue.deflateRawSync(fe):It(fe)}var ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],de=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function me(fe){var Ne=(fe<<1|fe<<11)&139536|(fe<<5|fe<<15)&558144;return(Ne>>16|Ne>>8|Ne)&255}for(var xe=typeof Uint8Array<"u",Se=xe?new Uint8Array(256):[],ge=0;ge<256;++ge)Se[ge]=me(ge);function ae(fe,Ne){var Ee=Se[fe&255];return Ne<=8?Ee>>>8-Ne:(Ee=Ee<<8|Se[fe>>8&255],Ne<=16?Ee>>>16-Ne:(Ee=Ee<<8|Se[fe>>16&255],Ee>>>24-Ne))}function Fe(fe,Ne){var Ee=Ne&7,_e=Ne>>>3;return(fe[_e]|(Ee<=6?0:fe[_e+1]<<8))>>>Ee&3}function et(fe,Ne){var Ee=Ne&7,_e=Ne>>>3;return(fe[_e]|(Ee<=5?0:fe[_e+1]<<8))>>>Ee&7}function De(fe,Ne){var Ee=Ne&7,_e=Ne>>>3;return(fe[_e]|(Ee<=4?0:fe[_e+1]<<8))>>>Ee&15}function Ce(fe,Ne){var Ee=Ne&7,_e=Ne>>>3;return(fe[_e]|(Ee<=3?0:fe[_e+1]<<8))>>>Ee&31}function Ge(fe,Ne){var Ee=Ne&7,_e=Ne>>>3;return(fe[_e]|(Ee<=1?0:fe[_e+1]<<8))>>>Ee&127}function nt(fe,Ne,Ee){var _e=Ne&7,Te=Ne>>>3,ke=(1<<Ee)-1,Ke=fe[Te]>>>_e;return Ee<8-_e||(Ke|=fe[Te+1]<<8-_e,Ee<16-_e)||(Ke|=fe[Te+2]<<16-_e,Ee<24-_e)||(Ke|=fe[Te+3]<<24-_e),Ke&ke}function it(fe,Ne,Ee){var _e=Ne&7,Te=Ne>>>3;return _e<=5?fe[Te]|=(Ee&7)<<_e:(fe[Te]|=Ee<<_e&255,fe[Te+1]=(Ee&7)>>8-_e),Ne+3}function dt(fe,Ne,Ee){var _e=Ne&7,Te=Ne>>>3;return Ee=(Ee&1)<<_e,fe[Te]|=Ee,Ne+1}function Ct(fe,Ne,Ee){var _e=Ne&7,Te=Ne>>>3;return Ee<<=_e,fe[Te]|=Ee&255,Ee>>>=8,fe[Te+1]=Ee,Ne+8}function At(fe,Ne,Ee){var _e=Ne&7,Te=Ne>>>3;return Ee<<=_e,fe[Te]|=Ee&255,Ee>>>=8,fe[Te+1]=Ee&255,fe[Te+2]=Ee>>>8,Ne+16}function kt(fe,Ne){var Ee=fe.length,_e=2*Ee>Ne?2*Ee:Ne+5,Te=0;if(Ee>=Ne)return fe;if(Kn){var ke=VI(_e);if(fe.copy)fe.copy(ke);else for(;Te<fe.length;++Te)ke[Te]=fe[Te];return ke}else if(xe){var Ke=new Uint8Array(_e);if(Ke.set)Ke.set(fe);else for(;Te<Ee;++Te)Ke[Te]=fe[Te];return Ke}return fe.length=_e,fe}function Ft(fe){for(var Ne=new Array(fe),Ee=0;Ee<fe;++Ee)Ne[Ee]=0;return Ne}function Wt(fe,Ne,Ee){var _e=1,Te=0,ke=0,Ke=0,tt=0,Qe=fe.length,We=xe?new Uint16Array(32):Ft(32);for(ke=0;ke<32;++ke)We[ke]=0;for(ke=Qe;ke<Ee;++ke)fe[ke]=0;Qe=fe.length;var Je=xe?new Uint16Array(Qe):Ft(Qe);for(ke=0;ke<Qe;++ke)We[Te=fe[ke]]++,_e<Te&&(_e=Te),Je[ke]=0;for(We[0]=0,ke=1;ke<=_e;++ke)We[ke+16]=tt=tt+We[ke-1]<<1;for(ke=0;ke<Qe;++ke)tt=fe[ke],tt!=0&&(Je[ke]=We[tt+16]++);var yt=0;for(ke=0;ke<Qe;++ke)if(yt=fe[ke],yt!=0)for(tt=ae(Je[ke],_e)>>_e-yt,Ke=(1<<_e+4-yt)-1;Ke>=0;--Ke)Ne[tt|Ke<<yt]=yt&15|ke<<4;return _e}var Mt=xe?new Uint16Array(512):Ft(512),Vt=xe?new Uint16Array(32):Ft(32);if(!xe){for(var Jt=0;Jt<512;++Jt)Mt[Jt]=0;for(Jt=0;Jt<32;++Jt)Vt[Jt]=0}(function(){for(var fe=[],Ne=0;Ne<32;Ne++)fe.push(5);Wt(fe,Vt,32);var Ee=[];for(Ne=0;Ne<=143;Ne++)Ee.push(8);for(;Ne<=255;Ne++)Ee.push(9);for(;Ne<=279;Ne++)Ee.push(7);for(;Ne<=287;Ne++)Ee.push(8);Wt(Ee,Mt,288)})();var Pt=function(){for(var Ne=xe?new Uint8Array(32768):[],Ee=0,_e=0;Ee<de.length-1;++Ee)for(;_e<de[Ee+1];++_e)Ne[_e]=Ee;for(;_e<32768;++_e)Ne[_e]=29;var Te=xe?new Uint8Array(259):[];for(Ee=0,_e=0;Ee<ie.length-1;++Ee)for(;_e<ie[Ee+1];++_e)Te[_e]=Ee;function ke(tt,Qe){for(var We=0;We<tt.length;){var Je=Math.min(65535,tt.length-We),yt=We+Je==tt.length;for(Qe.write_shift(1,+yt),Qe.write_shift(2,Je),Qe.write_shift(2,~Je&65535);Je-- >0;)Qe[Qe.l++]=tt[We++]}return Qe.l}function Ke(tt,Qe){for(var We=0,Je=0,yt=xe?new Uint16Array(32768):[];Je<tt.length;){var Nt=Math.min(65535,tt.length-Je);if(Nt<10){for(We=it(Qe,We,+(Je+Nt==tt.length)),We&7&&(We+=8-(We&7)),Qe.l=We/8|0,Qe.write_shift(2,Nt),Qe.write_shift(2,~Nt&65535);Nt-- >0;)Qe[Qe.l++]=tt[Je++];We=Qe.l*8;continue}We=it(Qe,We,+(Je+Nt==tt.length)+2);for(var jt=0;Nt-- >0;){var Tt=tt[Je];jt=(jt<<5^Tt)&32767;var Rt=-1,An=0;if((Rt=yt[jt])&&(Rt|=Je&-32768,Rt>Je&&(Rt-=32768),Rt<Je))for(;tt[Rt+An]==tt[Je+An]&&An<250;)++An;if(An>2){Tt=Te[An],Tt<=22?We=Ct(Qe,We,Se[Tt+1]>>1)-1:(Ct(Qe,We,3),We+=5,Ct(Qe,We,Se[Tt-23]>>5),We+=3);var Un=Tt<8?0:Tt-4>>2;Un>0&&(At(Qe,We,An-ie[Tt]),We+=Un),Tt=Ne[Je-Rt],We=Ct(Qe,We,Se[Tt]>>3),We-=3;var Ln=Tt<4?0:Tt-2>>1;Ln>0&&(At(Qe,We,Je-Rt-de[Tt]),We+=Ln);for(var Qn=0;Qn<An;++Qn)yt[jt]=Je&32767,jt=(jt<<5^tt[Je])&32767,++Je;Nt-=An-1}else Tt<=143?Tt=Tt+48:We=dt(Qe,We,1),We=Ct(Qe,We,Se[Tt]),yt[jt]=Je&32767,++Je}We=Ct(Qe,We,0)-1}return Qe.l=(We+7)/8|0,Qe.l}return function(Qe,We){return Qe.length<8?ke(Qe,We):Ke(Qe,We)}}();function It(fe){var Ne=lt(50+Math.floor(fe.length*1.1)),Ee=Pt(fe,Ne);return Ne.slice(0,Ee)}var xt=xe?new Uint16Array(32768):Ft(32768),xn=xe?new Uint16Array(32768):Ft(32768),$t=xe?new Uint16Array(128):Ft(128),ir=1,mn=1;function Fn(fe,Ne){var Ee=Ce(fe,Ne)+257;Ne+=5;var _e=Ce(fe,Ne)+1;Ne+=5;var Te=De(fe,Ne)+4;Ne+=4;for(var ke=0,Ke=xe?new Uint8Array(19):Ft(19),tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Qe=1,We=xe?new Uint8Array(8):Ft(8),Je=xe?new Uint8Array(8):Ft(8),yt=Ke.length,Nt=0;Nt<Te;++Nt)Ke[ne[Nt]]=ke=et(fe,Ne),Qe<ke&&(Qe=ke),We[ke]++,Ne+=3;var jt=0;for(We[0]=0,Nt=1;Nt<=Qe;++Nt)Je[Nt]=jt=jt+We[Nt-1]<<1;for(Nt=0;Nt<yt;++Nt)(jt=Ke[Nt])!=0&&(tt[Nt]=Je[jt]++);var Tt=0;for(Nt=0;Nt<yt;++Nt)if(Tt=Ke[Nt],Tt!=0){jt=Se[tt[Nt]]>>8-Tt;for(var Rt=(1<<7-Tt)-1;Rt>=0;--Rt)$t[jt|Rt<<Tt]=Tt&7|Nt<<3}var An=[];for(Qe=1;An.length<Ee+_e;)switch(jt=$t[Ge(fe,Ne)],Ne+=jt&7,jt>>>=3){case 16:for(ke=3+Fe(fe,Ne),Ne+=2,jt=An[An.length-1];ke-- >0;)An.push(jt);break;case 17:for(ke=3+et(fe,Ne),Ne+=3;ke-- >0;)An.push(0);break;case 18:for(ke=11+Ge(fe,Ne),Ne+=7;ke-- >0;)An.push(0);break;default:An.push(jt),Qe<jt&&(Qe=jt);break}var Un=An.slice(0,Ee),Ln=An.slice(Ee);for(Nt=Ee;Nt<286;++Nt)Un[Nt]=0;for(Nt=_e;Nt<30;++Nt)Ln[Nt]=0;return ir=Wt(Un,xt,286),mn=Wt(Ln,xn,30),Ne}function Er(fe,Ne){if(fe[0]==3&&!(fe[1]&3))return[Xd(Ne),2];for(var Ee=0,_e=0,Te=VI(Ne||1<<18),ke=0,Ke=Te.length>>>0,tt=0,Qe=0;(_e&1)==0;){if(_e=et(fe,Ee),Ee+=3,_e>>>1)_e>>1==1?(tt=9,Qe=5):(Ee=Fn(fe,Ee),tt=ir,Qe=mn);else{Ee&7&&(Ee+=8-(Ee&7));var We=fe[Ee>>>3]|fe[(Ee>>>3)+1]<<8;if(Ee+=32,We>0)for(!Ne&&Ke<ke+We&&(Te=kt(Te,ke+We),Ke=Te.length);We-- >0;)Te[ke++]=fe[Ee>>>3],Ee+=8;continue}for(;;){!Ne&&Ke<ke+32767&&(Te=kt(Te,ke+32767),Ke=Te.length);var Je=nt(fe,Ee,tt),yt=_e>>>1==1?Mt[Je]:xt[Je];if(Ee+=yt&15,yt>>>=4,(yt>>>8&255)===0)Te[ke++]=yt;else{if(yt==256)break;yt-=257;var Nt=yt<8?0:yt-4>>2;Nt>5&&(Nt=0);var jt=ke+ie[yt];Nt>0&&(jt+=nt(fe,Ee,Nt),Ee+=Nt),Je=nt(fe,Ee,Qe),yt=_e>>>1==1?Vt[Je]:xn[Je],Ee+=yt&15,yt>>>=4;var Tt=yt<4?0:yt-2>>1,Rt=de[yt];for(Tt>0&&(Rt+=nt(fe,Ee,Tt),Ee+=Tt),!Ne&&Ke<jt&&(Te=kt(Te,jt+100),Ke=Te.length);ke<jt;)Te[ke]=Te[ke-Rt],++ke}}}return Ne?[Te,Ee+7>>>3]:[Te.slice(0,ke),Ee+7>>>3]}function Bn(fe,Ne){var Ee=fe.slice(fe.l||0),_e=Er(Ee,Ne);return fe.l+=_e[1],_e[0]}function ta(fe,Ne){if(fe)typeof console<"u"&&console.error(Ne);else throw new Error(Ne)}function Xn(fe,Ne){var Ee=fe;ti(Ee,0);var _e=[],Te=[],ke={FileIndex:_e,FullPaths:Te};S(ke,{root:Ne.root});for(var Ke=Ee.length-4;(Ee[Ke]!=80||Ee[Ke+1]!=75||Ee[Ke+2]!=5||Ee[Ke+3]!=6)&&Ke>=0;)--Ke;Ee.l=Ke+4,Ee.l+=4;var tt=Ee.read_shift(2);Ee.l+=6;var Qe=Ee.read_shift(4);for(Ee.l=Qe,Ke=0;Ke<tt;++Ke){Ee.l+=20;var We=Ee.read_shift(4),Je=Ee.read_shift(4),yt=Ee.read_shift(2),Nt=Ee.read_shift(2),jt=Ee.read_shift(2);Ee.l+=8;var Tt=Ee.read_shift(4),Rt=o(Ee.slice(Ee.l+yt,Ee.l+yt+Nt));Ee.l+=yt+Nt+jt;var An=Ee.l;Ee.l=Tt+4,Wr(Ee,We,Je,ke,Rt),Ee.l=An}return ke}function Wr(fe,Ne,Ee,_e,Te){fe.l+=2;var ke=fe.read_shift(2),Ke=fe.read_shift(2),tt=i(fe);if(ke&8257)throw new Error("Unsupported ZIP encryption");for(var Qe=fe.read_shift(4),We=fe.read_shift(4),Je=fe.read_shift(4),yt=fe.read_shift(2),Nt=fe.read_shift(2),jt="",Tt=0;Tt<yt;++Tt)jt+=String.fromCharCode(fe[fe.l++]);if(Nt){var Rt=o(fe.slice(fe.l,fe.l+Nt));(Rt[21589]||{}).mt&&(tt=Rt[21589].mt),((Te||{})[21589]||{}).mt&&(tt=Te[21589].mt)}fe.l+=Nt;var An=fe.slice(fe.l,fe.l+We);switch(Ke){case 8:An=W(fe,Je);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ke)}var Un=!1;ke&8&&(Qe=fe.read_shift(4),Qe==134695760&&(Qe=fe.read_shift(4),Un=!0),We=fe.read_shift(4),Je=fe.read_shift(4)),We!=Ne&&ta(Un,"Bad compressed size: "+Ne+" != "+We),Je!=Ee&&ta(Un,"Bad uncompressed size: "+Ee+" != "+Je),Zn(_e,jt,An,{unsafe:!0,mt:tt})}function ls(fe,Ne){var Ee=Ne||{},_e=[],Te=[],ke=lt(1),Ke=Ee.compression?8:0,tt=0,Qe=0,We=0,Je=0,yt=0,Nt=fe.FullPaths[0],jt=Nt,Tt=fe.FileIndex[0],Rt=[],An=0;for(Qe=1;Qe<fe.FullPaths.length;++Qe)if(jt=fe.FullPaths[Qe].slice(Nt.length),Tt=fe.FileIndex[Qe],!(!Tt.size||!Tt.content||jt=="Sh33tJ5")){var Un=Je,Ln=lt(jt.length);for(We=0;We<jt.length;++We)Ln.write_shift(1,jt.charCodeAt(We)&127);Ln=Ln.slice(0,Ln.l),Rt[yt]=eoe.buf(Tt.content,0);var Qn=Tt.content;Ke==8&&(Qn=J(Qn)),ke=lt(30),ke.write_shift(4,67324752),ke.write_shift(2,20),ke.write_shift(2,tt),ke.write_shift(2,Ke),Tt.mt?a(ke,Tt.mt):ke.write_shift(4,0),ke.write_shift(-4,Rt[yt]),ke.write_shift(4,Qn.length),ke.write_shift(4,Tt.content.length),ke.write_shift(2,Ln.length),ke.write_shift(2,0),Je+=ke.length,_e.push(ke),Je+=Ln.length,_e.push(Ln),Je+=Qn.length,_e.push(Qn),ke=lt(46),ke.write_shift(4,33639248),ke.write_shift(2,0),ke.write_shift(2,20),ke.write_shift(2,tt),ke.write_shift(2,Ke),ke.write_shift(4,0),ke.write_shift(-4,Rt[yt]),ke.write_shift(4,Qn.length),ke.write_shift(4,Tt.content.length),ke.write_shift(2,Ln.length),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(4,0),ke.write_shift(4,Un),An+=ke.l,Te.push(ke),An+=Ln.length,Te.push(Ln),++yt}return ke=lt(22),ke.write_shift(4,101010256),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,yt),ke.write_shift(2,yt),ke.write_shift(4,An),ke.write_shift(4,Je),ke.write_shift(2,0),Qa([Qa(_e),Qa(Te),ke])}var Dn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function tn(fe,Ne){if(fe.ctype)return fe.ctype;var Ee=fe.name||"",_e=Ee.match(/\.([^\.]+)$/);return _e&&Dn[_e[1]]||Ne&&(_e=(Ee=Ne).match(/[\.\\]([^\.\\])+$/),_e&&Dn[_e[1]])?Dn[_e[1]]:"application/octet-stream"}function On(fe){for(var Ne=Vg(fe),Ee=[],_e=0;_e<Ne.length;_e+=76)Ee.push(Ne.slice(_e,_e+76));return Ee.join(`\r
`)+`\r
`}function na(fe){var Ne=fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(We){var Je=We.charCodeAt(0).toString(16).toUpperCase();return"="+(Je.length==1?"0"+Je:Je)});Ne=Ne.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ne.charAt(0)==`
`&&(Ne="=0D"+Ne.slice(1)),Ne=Ne.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Ee=[],_e=Ne.split(`\r
`),Te=0;Te<_e.length;++Te){var ke=_e[Te];if(ke.length==0){Ee.push("");continue}for(var Ke=0;Ke<ke.length;){var tt=76,Qe=ke.slice(Ke,Ke+tt);Qe.charAt(tt-1)=="="?tt--:Qe.charAt(tt-2)=="="?tt-=2:Qe.charAt(tt-3)=="="&&(tt-=3),Qe=ke.slice(Ke,Ke+tt),Ke+=tt,Ke<ke.length&&(Qe+="="),Ee.push(Qe)}}return Ee.join(`\r
`)}function Or(fe){for(var Ne=[],Ee=0;Ee<fe.length;++Ee){for(var _e=fe[Ee];Ee<=fe.length&&_e.charAt(_e.length-1)=="=";)_e=_e.slice(0,_e.length-1)+fe[++Ee];Ne.push(_e)}for(var Te=0;Te<Ne.length;++Te)Ne[Te]=Ne[Te].replace(/[=][0-9A-Fa-f]{2}/g,function(ke){return String.fromCharCode(parseInt(ke.slice(1),16))});return Qo(Ne.join(`\r
`))}function hs(fe,Ne,Ee){for(var _e="",Te="",ke="",Ke,tt=0;tt<10;++tt){var Qe=Ne[tt];if(!Qe||Qe.match(/^\s*$/))break;var We=Qe.match(/^(.*?):\s*([^\s].*)$/);if(We)switch(We[1].toLowerCase()){case"content-location":_e=We[2].trim();break;case"content-type":ke=We[2].trim();break;case"content-transfer-encoding":Te=We[2].trim();break}}switch(++tt,Te.toLowerCase()){case"base64":Ke=Qo(Ko(Ne.slice(tt).join("")));break;case"quoted-printable":Ke=Or(Ne.slice(tt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Te)}var Je=Zn(fe,_e.slice(Ee.length),Ke,{unsafe:!0});ke&&(Je.ctype=ke)}function ga(fe,Ne){if(q(fe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Ee=Ne&&Ne.root||"",_e=(Kn&&Buffer.isBuffer(fe)?fe.toString("binary"):q(fe)).split(`\r
`),Te=0,ke="";for(Te=0;Te<_e.length;++Te)if(ke=_e[Te],!!/^Content-Location:/i.test(ke)&&(ke=ke.slice(ke.indexOf("file")),Ee||(Ee=ke.slice(0,ke.lastIndexOf("/")+1)),ke.slice(0,Ee.length)!=Ee))for(;Ee.length>0&&(Ee=Ee.slice(0,Ee.length-1),Ee=Ee.slice(0,Ee.lastIndexOf("/")+1),ke.slice(0,Ee.length)!=Ee););var Ke=(_e[1]||"").match(/boundary="(.*?)"/);if(!Ke)throw new Error("MAD cannot find boundary");var tt="--"+(Ke[1]||""),Qe=[],We=[],Je={FileIndex:Qe,FullPaths:We};S(Je);var yt,Nt=0;for(Te=0;Te<_e.length;++Te){var jt=_e[Te];jt!==tt&&jt!==tt+"--"||(Nt++&&hs(Je,_e.slice(yt,Te),Ee),yt=Te)}return Je}function Ht(fe,Ne){var Ee=Ne||{},_e=Ee.boundary||"SheetJS";_e="------="+_e;for(var Te=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+_e.slice(2)+'"',"","",""],ke=fe.FullPaths[0],Ke=ke,tt=fe.FileIndex[0],Qe=1;Qe<fe.FullPaths.length;++Qe)if(Ke=fe.FullPaths[Qe].slice(ke.length),tt=fe.FileIndex[Qe],!(!tt.size||!tt.content||Ke=="Sh33tJ5")){Ke=Ke.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(An){return"_x"+An.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(An){return"_u"+An.charCodeAt(0).toString(16)+"_"});for(var We=tt.content,Je=Kn&&Buffer.isBuffer(We)?We.toString("binary"):q(We),yt=0,Nt=Math.min(1024,Je.length),jt=0,Tt=0;Tt<=Nt;++Tt)(jt=Je.charCodeAt(Tt))>=32&&jt<128&&++yt;var Rt=yt>=Nt*4/5;Te.push(_e),Te.push("Content-Location: "+(Ee.root||"file:///C:/SheetJS/")+Ke),Te.push("Content-Transfer-Encoding: "+(Rt?"quoted-printable":"base64")),Te.push("Content-Type: "+tn(tt,Ke)),Te.push(""),Te.push(Rt?na(Je):On(Je))}return Te.push(_e+`--\r
`),Te.join(`\r
`)}function or(fe){var Ne={};return S(Ne,fe),Ne}function Zn(fe,Ne,Ee,_e){var Te=_e&&_e.unsafe;Te||S(fe);var ke=!Te&&ln.find(fe,Ne);if(!ke){var Ke=fe.FullPaths[0];Ne.slice(0,Ke.length)==Ke?Ke=Ne:(Ke.slice(-1)!="/"&&(Ke+="/"),Ke=(Ke+Ne).replace("//","/")),ke={name:s(Ne),type:2},fe.FileIndex.push(ke),fe.FullPaths.push(Ke),Te||ln.utils.cfb_gc(fe)}return ke.content=Ee,ke.size=Ee?Ee.length:0,_e&&(_e.CLSID&&(ke.clsid=_e.CLSID),_e.mt&&(ke.mt=_e.mt),_e.ct&&(ke.ct=_e.ct)),ke}function _r(fe,Ne){S(fe);var Ee=ln.find(fe,Ne);if(Ee){for(var _e=0;_e<fe.FileIndex.length;++_e)if(fe.FileIndex[_e]==Ee)return fe.FileIndex.splice(_e,1),fe.FullPaths.splice(_e,1),!0}return!1}function kr(fe,Ne,Ee){S(fe);var _e=ln.find(fe,Ne);if(_e){for(var Te=0;Te<fe.FileIndex.length;++Te)if(fe.FileIndex[Te]==_e)return fe.FileIndex[Te].name=s(Ee),fe.FullPaths[Te]=Ee,!0}return!1}function Qr(fe){B(fe,!0)}return e.find=P,e.read=L,e.parse=d,e.write=X,e.writeFile=re,e.utils={cfb_new:or,cfb_add:Zn,cfb_del:_r,cfb_mov:kr,cfb_gc:Qr,ReadShift:xg,CheckField:$M,prep_blob:ti,bconcat:Qa,use_zlib:j,_deflateRaw:It,_inflateRaw:Bn,consts:Z},e}();function toe(t){return typeof t=="string"?tw(t):Array.isArray(t)?Tie(t):t}function Sx(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=tw(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?uA(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var s=new Blob([toe(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=t,i.href=a,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=of(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function noe(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function Ls(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function JI(t,e){for(var n=[],r=Ls(t),s=0;s!==r.length;++s)n[t[r[s]][e]]==null&&(n[t[r[s]][e]]=r[s]);return n}function rw(t){for(var e=[],n=Ls(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function sw(t){for(var e=[],n=Ls(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function roe(t){for(var e=[],n=Ls(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var q2=new Date(1899,11,30,0,0,0);function Ba(t,e){var n=t.getTime(),r=q2.getTime()+(t.getTimezoneOffset()-q2.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var BM=new Date,soe=q2.getTime()+(BM.getTimezoneOffset()-q2.getTimezoneOffset())*6e4,XI=BM.getTimezoneOffset();function aw(t){var e=new Date;return e.setTime(t*24*60*60*1e3+soe),e.getTimezoneOffset()!==XI&&e.setTime(e.getTime()+(e.getTimezoneOffset()-XI)*6e4),e}function aoe(t){var e=0,n=0,r=!1,s=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var a=1;a!=s.length;++a)if(s[a]){switch(n=1,a>3&&(r=!0),s[a].slice(s[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[a].slice(s[a].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(s[a],10)}return e}var ZI=new Date("2017-02-19T19:06:09.000Z"),NM=isNaN(ZI.getFullYear())?new Date("2/19/17"):ZI,ioe=NM.getFullYear()==2017;function is(t,e){var n=new Date(t);if(ioe)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(NM.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function ch(t,e){if(Kn&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return uA(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return uA(pM(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return uA(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return uA(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return n[a]||a})}catch{}for(var r=[],s=0;s!=t.length;++s)r.push(String.fromCharCode(t[s]));return r.join("")}function os(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=os(t[n]));return e}function Rs(t,e){for(var n="";n.length<e;)n+=t;return n}function pc(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(s,a){return n=-n,a}),!isNaN(e=Number(r)))?e/n:e}var ooe=["january","february","march","april","may","june","july","august","september","october","november","december"];function pm(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),s=e.getMonth(),a=e.getDate();if(isNaN(a))return n;var i=t.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&ooe.indexOf(i)==-1)return n}else if(i.match(/[a-z]/))return n;return r<0||r>8099?n:(s>0||a>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var loe=function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,s){if(t||typeof r=="string")return n.split(r);for(var a=n.split(r),i=[a[0]],o=1;o<a.length;++o)i.push(s),i.push(a[o]);return i}}();function kM(t){return t?t.content&&t.type?ch(t.content,!0):t.data?Yp(t.data):t.asNodeBuffer&&Kn?Yp(t.asNodeBuffer().toString("binary")):t.asBinary?Yp(t.asBinary()):t._data&&t._data.getContent?Yp(ch(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function IM(t){if(!t)return null;if(t.data)return QI(t.data);if(t.asNodeBuffer&&Kn)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?QI(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function coe(t){return t&&t.name.slice(-4)===".bin"?IM(t):kM(t)}function wl(t,e){for(var n=t.FullPaths||Ls(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),s=r.replace(/\\/g,"/"),a=0;a<n.length;++a){var i=n[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==i||s==i)return t.files?t.files[n[a]]:t.FileIndex[a]}return null}function M5(t,e){var n=wl(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function ua(t,e,n){if(!n)return coe(M5(t,e));if(!e)return null;try{return ua(t,e)}catch{return null}}function Ho(t,e,n){if(!n)return kM(M5(t,e));if(!e)return null;try{return Ho(t,e)}catch{return null}}function Aoe(t,e,n){return IM(M5(t,e))}function eF(t){for(var e=t.FullPaths||Ls(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function jn(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Kn?r=Tu(n):r=Bie(n),ln.utils.cfb_add(t,e,r)}ln.utils.cfb_add(t,e,n)}else t.file(e,n)}function P5(){return ln.utils.cfb_new()}function FM(t,e){switch(e.type){case"base64":return ln.read(t,{type:"base64"});case"binary":return ln.read(t,{type:"binary"});case"buffer":case"array":return ln.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Xp(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var s=r.shift();s===".."?n.pop():s!=="."&&n.push(s)}return n.join("/")}var ea=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,uoe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,tF=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,doe=/<[^>]*>/g,Pi=ea.match(tF)?tF:doe,foe=/<\w*:/,hoe=/<(\/?)\w+:/;function _n(t,e,n){for(var r={},s=0,a=0;s!==t.length&&!((a=t.charCodeAt(s))===32||a===10||a===13);++s);if(e||(r[0]=t.slice(0,s)),s===t.length)return r;var i=t.match(uoe),o=0,l="",A=0,d="",h="",p=1;if(i)for(A=0;A!=i.length;++A){for(h=i[A],a=0;a!=h.length&&h.charCodeAt(a)!==61;++a);for(d=h.slice(0,a).trim();h.charCodeAt(a+1)==32;)++a;for(p=(s=h.charCodeAt(a+1))==34||s==39?1:0,l=h.slice(a+1+p,h.length-p),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),r[d]=l,r[d.toLowerCase()]=l;else{var g=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(r[g]&&d.slice(o-3,o)=="ext")continue;r[g]=l,r[g.toLowerCase()]=l}}return r}function bA(t){return t.replace(hoe,"<$1")}var RM={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},j5=rw(RM),mr=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var s=r+"",a=s.indexOf("<![CDATA[");if(a==-1)return s.replace(t,function(o,l){return RM[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var i=s.indexOf("]]>");return n(s.slice(0,a))+s.slice(a+9,i)+n(s.slice(i+3))}}(),O5=/[&<>'"]/g,moe=/[\u0000-\u0008\u000b-\u001f]/g;function Pr(t){var e=t+"";return e.replace(O5,function(n){return j5[n]}).replace(moe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function nF(t){return Pr(t).replace(/ /g,"_x0020_")}var DM=/[\u0000-\u001f]/g;function Q5(t){var e=t+"";return e.replace(O5,function(n){return j5[n]}).replace(/\n/g,"<br/>").replace(DM,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function poe(t){var e=t+"";return e.replace(O5,function(n){return j5[n]}).replace(DM,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}var rF=function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}}();function goe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function rs(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function TC(t){for(var e="",n=0,r=0,s=0,a=0,i=0,o=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(s=t.charCodeAt(n++),r>191&&r<224){i=(r&31)<<6,i|=s&63,e+=String.fromCharCode(i);continue}if(a=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63);continue}i=t.charCodeAt(n++),o=((r&7)<<18|(s&63)<<12|(a&63)<<6|i&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function sF(t){var e=Xd(2*t.length),n,r,s=1,a=0,i=0,o;for(r=0;r<t.length;r+=s)s=1,(o=t.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(t.charCodeAt(r+1)&63),s=2):o<240?(n=(o&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),s=3):(s=4,n=(o&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,i=55296+(n>>>10&1023),n=56320+(n&1023)),i!==0&&(e[a++]=i&255,e[a++]=i>>>8,i=0),e[a++]=n%256,e[a++]=n>>>8;return e.slice(0,a).toString("ucs2")}function aF(t){return Tu(t,"binary").toString("utf8")}var Z1="foo bar baz",qr=Kn&&(aF(Z1)==TC(Z1)&&aF||sF(Z1)==TC(Z1)&&sF)||TC,uA=Kn?function(t){return Tu(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,s=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,s=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},zg=function(){var t={};return function(n,r){var s=n+"|"+(r||"");return t[s]?t[s]:t[s]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}}(),UM=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)r=r.replace(t[s][0],t[s][1]);return r}}(),xoe=function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}}(),voe=/<\/?(?:vt:)?variant>/g,yoe=/<(?:vt:)([^>]*)>([\s\S]*)</;function iF(t,e){var n=_n(t),r=t.match(xoe(n.baseType))||[],s=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return s}return r.forEach(function(a){var i=a.replace(voe,"").match(yoe);i&&s.push({v:qr(i[2]),t:i[1]})}),s}var LM=/(^\s|\s$|\n)/;function ri(t,e){return"<"+t+(e.match(LM)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Kg(t){return Ls(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Dt(t,e,n){return"<"+t+(n!=null?Kg(n):"")+(e!=null?(e.match(LM)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function N_(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function woe(t,e){switch(typeof t){case"string":var n=Dt("vt:lpwstr",Pr(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Dt((t|0)==t?"vt:i4":"vt:r8",Pr(String(t)));case"boolean":return Dt("vt:bool",t?"true":"false")}if(t instanceof Date)return Dt("vt:filetime",N_(t));throw new Error("Unable to serialize "+t)}function H5(t){if(Kn&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return qr(of(D5(t)));throw new Error("Bad input format: expected Buffer or string")}var qg=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,_a={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},_h=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],jo={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function boe(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,a=5;a>=0;--a)s=s*256+t[e+a];return r==2047?s==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,s+=Math.pow(2,52)),n*Math.pow(2,r-52)*s)}function Coe(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,s=0,a=0,i=r?-e:e;isFinite(i)?i==0?s=a=0:(s=Math.floor(Math.log(i)/Math.LN2),a=i*Math.pow(2,52-s),s<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?s=-1022:(a-=Math.pow(2,52),s+=1023)):(s=2047,a=isNaN(e)?26985:0);for(var o=0;o<=5;++o,a/=256)t[n+o]=a&255;t[n+6]=(s&15)<<4|a&15,t[n+7]=s>>4|r}var oF=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var s=0,a=t[0][r].length;s<a;s+=n)e.push.apply(e,t[0][r].slice(s,s+n));return e},lF=Kn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Tu(e)})):oF(t)}:oF,cF=function(t,e,n){for(var r=[],s=e;s<n;s+=2)r.push(String.fromCharCode(cu(t,s)));return r.join("").replace(Ki,"")},V5=Kn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Ki,""):cF(t,e,n)}:cF,AF=function(t,e,n){for(var r=[],s=e;s<e+n;++s)r.push(("0"+t[s].toString(16)).slice(-2));return r.join("")},MM=Kn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):AF(t,e,n)}:AF,uF=function(t,e,n){for(var r=[],s=e;s<n;s++)r.push(String.fromCharCode(I0(t,s)));return r.join("")},Tx=Kn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):uF(e,n,r)}:uF,PM=function(t,e){var n=Oo(t,e);return n>0?Tx(t,e+4,e+4+n-1):""},jM=PM,OM=function(t,e){var n=Oo(t,e);return n>0?Tx(t,e+4,e+4+n-1):""},QM=OM,HM=function(t,e){var n=2*Oo(t,e);return n>0?Tx(t,e+4,e+4+n-1):""},VM=HM,GM=function(e,n){var r=Oo(e,n);return r>0?V5(e,n+4,n+4+r):""},zM=GM,KM=function(t,e){var n=Oo(t,e);return n>0?Tx(t,e+4,e+4+n):""},qM=KM,WM=function(t,e){return boe(t,e)},W2=WM,G5=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Kn&&(jM=function(e,n){if(!Buffer.isBuffer(e))return PM(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},QM=function(e,n){if(!Buffer.isBuffer(e))return OM(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},VM=function(e,n){if(!Buffer.isBuffer(e))return HM(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},zM=function(e,n){if(!Buffer.isBuffer(e))return GM(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},qM=function(e,n){if(!Buffer.isBuffer(e))return KM(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},W2=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):WM(e,n)},G5=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var I0=function(t,e){return t[e]},cu=function(t,e){return t[e+1]*256+t[e]},Eoe=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Oo=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},jf=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},_oe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function xg(t,e){var n="",r,s,a=[],i,o,l,A;switch(e){case"dbcs":if(A=this.l,Kn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)n+=String.fromCharCode(cu(this,A)),A+=2;t*=2;break;case"utf8":n=Tx(this,this.l,this.l+t);break;case"utf16le":t*=2,n=V5(this,this.l,this.l+t);break;case"wstr":return xg.call(this,t,"dbcs");case"lpstr-ansi":n=jM(this,this.l),t=4+Oo(this,this.l);break;case"lpstr-cp":n=QM(this,this.l),t=4+Oo(this,this.l);break;case"lpwstr":n=VM(this,this.l),t=4+2*Oo(this,this.l);break;case"lpp4":t=4+Oo(this,this.l),n=zM(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Oo(this,this.l),n=qM(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(i=I0(this,this.l+t++))!==0;)a.push(X1(i));n=a.join("");break;case"_wstr":for(t=0,n="";(i=cu(this,this.l+t))!==0;)a.push(X1(i)),t+=2;t+=2,n=a.join("");break;case"dbcs-cont":for(n="",A=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(A)!==-1)return i=I0(this,A),this.l=A+1,o=xg.call(this,t-l,i?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(X1(cu(this,A))),A+=2}n=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",A=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(A)!==-1)return i=I0(this,A),this.l=A+1,o=xg.call(this,t-l,i?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(X1(I0(this,A))),A+=1}n=a.join("");break;default:switch(t){case 1:return r=I0(this,this.l),this.l++,r;case 2:return r=(e==="i"?Eoe:cu)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?jf:_oe)(this,this.l),this.l+=4,r):(s=Oo(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=W2(this,this.l):s=W2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:n=MM(this,this.l,t);break}}return this.l+=t,n}var Soe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},Toe=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},Boe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function Noe(t,e,n){var r=0,s=0;if(n==="dbcs"){for(s=0;s!=e.length;++s)Boe(this,e.charCodeAt(s),this.l+2*s);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;r=e.length}else if(n==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(n==="utf16le"){var a=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var i=e.charCodeAt(s);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,Soe(this,e,this.l);break;case 8:if(r=8,n==="f"){Coe(this,e,this.l);break}case 16:break;case-4:r=4,Toe(this,e,this.l);break}return this.l+=r,this}function $M(t,e){var n=MM(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function ti(t,e){t.l=e,t.read_shift=xg,t.chk=$M,t.write_shift=Noe}function Li(t,e){t.l+=e}function lt(t){var e=Xd(t);return ti(e,0),e}function Bu(t,e,n){if(t){var r,s,a;ti(t,t.l||0);for(var i=t.length,o=0,l=0;t.l<i;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var A=Zg[o]||Zg[65535];for(r=t.read_shift(1),a=r&127,s=1;s<4&&r&128;++s)a+=((r=t.read_shift(1))&127)<<7*s;l=t.l+a;var d=A.f&&A.f(t,a,n);if(t.l=l,e(d,A,o))return}}}function mo(){var t=[],e=Kn?256:2048,n=function(A){var d=lt(A);return ti(d,0),d},r=n(e),s=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},a=function(A){return r&&A<r.length-r.l?r:(s(),r=n(Math.max(A+1,e)))},i=function(){return s(),Qa(t)},o=function(A){s(),r=A,r.l==null&&(r.l=r.length),a(e)};return{next:a,push:o,end:i,_bufs:t}}function Et(t,e,n,r){var s=+e,a;if(!isNaN(s)){r||(r=Zg[s].p||(n||[]).length||0),a=1+(s>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var i=t.next(a);s<=127?i.write_shift(1,s):(i.write_shift(1,(s&127)+128),i.write_shift(1,s>>7));for(var o=0;o!=4;++o)if(r>=128)i.write_shift(1,(r&127)+128),r>>=7;else{i.write_shift(1,r);break}r>0&&G5(n)&&t.push(n)}}function vg(t,e,n){var r=os(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function dF(t,e,n){var r=os(t);return r.s=vg(r.s,e.s,n),r.e=vg(r.e,e.s,n),r}function yg(t,e){if(t.cRel&&t.c<0)for(t=os(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=os(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=wn(t);return!t.cRel&&t.cRel!=null&&(n=Foe(n)),!t.rRel&&t.rRel!=null&&(n=koe(n)),n}function BC(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+ys(t.s.c)+":"+(t.e.cRel?"":"$")+ys(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Zs(t.s.r)+":"+(t.e.rRel?"":"$")+Zs(t.e.r):yg(t.s,e.biff)+":"+yg(t.e,e.biff)}function z5(t){return parseInt(Ioe(t),10)-1}function Zs(t){return""+(t+1)}function koe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Ioe(t){return t.replace(/\$(\d+)$/,"$1")}function K5(t){for(var e=Roe(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function ys(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function Foe(t){return t.replace(/^([A-Z])/,"$$$1")}function Roe(t){return t.replace(/^\$([A-Z])/,"$1")}function Doe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ws(t){for(var e=0,n=0,r=0;r<t.length;++r){var s=t.charCodeAt(r);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(n=26*n+(s-64))}return{c:n-1,r:e-1}}function wn(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function xo(t){var e=t.indexOf(":");return e==-1?{s:ws(t),e:ws(t)}:{s:ws(t.slice(0,e)),e:ws(t.slice(e+1))}}function Rn(t,e){return typeof e>"u"||typeof e=="number"?Rn(t.s,t.e):(typeof t!="string"&&(t=wn(t)),typeof e!="string"&&(e=wn(e)),t==e?t:t+":"+e)}function pr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,s=0,a=t.length;for(n=0;r<a&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.s.c=--n,n=0;r<a&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;if(e.s.r=--n,r===a||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=a&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.e.c=--n,n=0;r!=a&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;return e.e.r=--n,e}function fF(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Dl(t.z,n?Ba(e):e)}catch{}try{return t.w=Dl((t.XF||{}).numFmtId||(n?14:0),n?Ba(e):e)}catch{return""+e}}function wu(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Nu[t.v]||t.v:e==null?fF(t,t.v):fF(t,e))}function lf(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function YM(t,e,n){var r=n||{},s=t?Array.isArray(t):r.dense,a=t||(s?[]:{}),i=0,o=0;if(a&&r.origin!=null){if(typeof r.origin=="number")i=r.origin;else{var l=typeof r.origin=="string"?ws(r.origin):r.origin;i=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var A={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var d=pr(a["!ref"]);A.s.c=d.s.c,A.s.r=d.s.r,A.e.c=Math.max(A.e.c,d.e.c),A.e.r=Math.max(A.e.r,d.e.r),i==-1&&(A.e.r=i=d.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[h].length;++p)if(!(typeof e[h][p]>"u")){var g={v:e[h][p]},w=i+h,b=o+p;if(A.s.r>w&&(A.s.r=w),A.s.c>b&&(A.s.c=b),A.e.r<w&&(A.e.r=w),A.e.c<b&&(A.e.c=b),e[h][p]&&typeof e[h][p]=="object"&&!Array.isArray(e[h][p])&&!(e[h][p]instanceof Date))g=e[h][p];else if(Array.isArray(g.v)&&(g.f=e[h][p][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(r.nullError)g.t="e",g.v=0;else if(r.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=r.dateNF||gn[14],r.cellDates?(g.t="d",g.w=Dl(g.z,Ba(g.v))):(g.t="n",g.v=Ba(g.v),g.w=Dl(g.z,g.v))):g.t="s";if(s)a[w]||(a[w]=[]),a[w][b]&&a[w][b].z&&(g.z=a[w][b].z),a[w][b]=g;else{var E=wn({c:b,r:w});a[E]&&a[E].z&&(g.z=a[E].z),a[E]=g}}}return A.s.c<1e7&&(a["!ref"]=Rn(A)),a}function jm(t,e){return YM(null,t,e)}function Uoe(t){return t.read_shift(4,"i")}function gc(t,e){return e||(e=lt(4)),e.write_shift(4,t),e}function Di(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Ha(t,e){var n=!1;return e==null&&(n=!0,e=lt(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function Loe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function Moe(t,e){return e||(e=lt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function q5(t,e){var n=t.l,r=t.read_shift(1),s=Di(t),a=[],i={t:s,h:s};if((r&1)!==0){for(var o=t.read_shift(4),l=0;l!=o;++l)a.push(Loe(t));i.r=a}else i.r=[{ich:0,ifnt:0}];return t.l=n+e,i}function Poe(t,e){var n=!1;return e==null&&(n=!0,e=lt(15+4*t.t.length)),e.write_shift(1,0),Ha(t.t,e),n?e.slice(0,e.l):e}var joe=q5;function Ooe(t,e){var n=!1;return e==null&&(n=!0,e=lt(23+4*t.t.length)),e.write_shift(1,1),Ha(t.t,e),e.write_shift(4,1),Moe({},e),n?e.slice(0,e.l):e}function Ul(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Sh(t,e){return e==null&&(e=lt(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Th(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Bh(t,e){return e==null&&(e=lt(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var Qoe=Di,JM=Ha;function W5(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function $2(t,e){var n=!1;return e==null&&(n=!0,e=lt(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var Hoe=Di,k_=W5,$5=$2;function Y5(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var s=r===0?W2([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):jf(e,0)>>2;return n?s/100:s}function XM(t,e){e==null&&(e=lt(4));var n=0,r=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?s:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function ZM(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function Voe(t,e){return e||(e=lt(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Nh=ZM,Om=Voe;function Fi(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Ah(t,e){return(e||lt(8)).write_shift(8,t,"f")}function Goe(t){var e={},n=t.read_shift(1),r=n>>>1,s=t.read_shift(1),a=t.read_shift(2,"i"),i=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=s;var A=$f[s];A&&(e.rgb=$g(A));break;case 2:e.rgb=$g([i,o,l]);break;case 3:e.theme=s;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function Y2(t,e){if(e||(e=lt(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function zoe(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function Koe(t,e){e||(e=lt(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}function eP(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function qoe(t){return eP(t,1)}function Woe(t){return eP(t,2)}var J5=2,co=3,ev=11,hF=12,J2=19,tv=64,$oe=65,Yoe=71,Joe=4108,Xoe=4126,ja=80,tP=81,Zoe=[ja,tP],I_={1:{n:"CodePage",t:J5},2:{n:"Category",t:ja},3:{n:"PresentationFormat",t:ja},4:{n:"ByteCount",t:co},5:{n:"LineCount",t:co},6:{n:"ParagraphCount",t:co},7:{n:"SlideCount",t:co},8:{n:"NoteCount",t:co},9:{n:"HiddenCount",t:co},10:{n:"MultimediaClipCount",t:co},11:{n:"ScaleCrop",t:ev},12:{n:"HeadingPairs",t:Joe},13:{n:"TitlesOfParts",t:Xoe},14:{n:"Manager",t:ja},15:{n:"Company",t:ja},16:{n:"LinksUpToDate",t:ev},17:{n:"CharacterCount",t:co},19:{n:"SharedDoc",t:ev},22:{n:"HyperlinksChanged",t:ev},23:{n:"AppVersion",t:co,p:"version"},24:{n:"DigSig",t:$oe},26:{n:"ContentType",t:ja},27:{n:"ContentStatus",t:ja},28:{n:"Language",t:ja},29:{n:"Version",t:ja},255:{},2147483648:{n:"Locale",t:J2},2147483651:{n:"Behavior",t:J2},1919054434:{}},F_={1:{n:"CodePage",t:J5},2:{n:"Title",t:ja},3:{n:"Subject",t:ja},4:{n:"Author",t:ja},5:{n:"Keywords",t:ja},6:{n:"Comments",t:ja},7:{n:"Template",t:ja},8:{n:"LastAuthor",t:ja},9:{n:"RevNumber",t:ja},10:{n:"EditTime",t:tv},11:{n:"LastPrinted",t:tv},12:{n:"CreatedDate",t:tv},13:{n:"ModifiedDate",t:tv},14:{n:"PageCount",t:co},15:{n:"WordCount",t:co},16:{n:"CharCount",t:co},17:{n:"Thumbnail",t:Yoe},18:{n:"Application",t:ja},19:{n:"DocSecurity",t:co},255:{},2147483648:{n:"Locale",t:J2},2147483651:{n:"Behavior",t:J2},1919054434:{}},mF={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},ele=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function tle(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var nle=tle([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),$f=os(nle),Nu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},nP={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},R_={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},nv={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function X5(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function rle(t){var e=X5();if(!t||!t.match)return e;var n={};if((t.match(Pi)||[]).forEach(function(r){var s=_n(r);switch(s[0].replace(foe,"<")){case"<?xml":break;case"<Types":e.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[s.Extension]=s.ContentType;break;case"<Override":e[R_[s.ContentType]]!==void 0&&e[R_[s.ContentType]].push(s.PartName);break}}),e.xmlns!==_a.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}function rP(t,e){var n=roe(R_),r=[],s;r[r.length]=ea,r[r.length]=Dt("Types",null,{xmlns:_a.CT,"xmlns:xsd":_a.xsd,"xmlns:xsi":_a.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Dt("Default",null,{Extension:l[0],ContentType:l[1]})}));var a=function(l){t[l]&&t[l].length>0&&(s=t[l][0],r[r.length]=Dt("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:nv[l][e.bookType]||nv[l].xlsx}))},i=function(l){(t[l]||[]).forEach(function(A){r[r.length]=Dt("Override",null,{PartName:(A[0]=="/"?"":"/")+A,ContentType:nv[l][e.bookType]||nv[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(A){r[r.length]=Dt("Override",null,{PartName:(A[0]=="/"?"":"/")+A,ContentType:n[l][0]})})};return a("workbooks"),i("sheets"),i("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),i("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Jn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Wg(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function wg(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(Pi)||[]).forEach(function(s){var a=_n(s);if(a[0]==="<Relationship"){var i={};i.Type=a.Type,i.Target=a.Target,i.Id=a.Id,a.TargetMode&&(i.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:Xp(a.Target,e);n[o]=i,r[a.Id]=i}}),n["!id"]=r,n}function em(t){var e=[ea,Dt("Relationships",null,{xmlns:_a.RELS})];return Ls(t["!id"]).forEach(function(n){e[e.length]=Dt("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Lr(t,e,n,r,s,a){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=r,s.Target=n,[Jn.HLINK,Jn.XPATH,Jn.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}var sle="application/vnd.oasis.opendocument.spreadsheet";function ale(t,e){for(var n=H5(t),r,s;r=qg.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(s=_n(r[0],!1),s.path=="/"&&s.type!==sle)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}function ile(t){var e=[ea];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function pF(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function ole(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function lle(t){var e=[ea];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(pF(t[n][0],t[n][1])),e.push(ole("",t[n][0]));return e.push(pF("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function sP(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+V2.version+"</meta:generator></office:meta></office:document-meta>"}var Rl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],cle=function(){for(var t=new Array(Rl.length),e=0;e<Rl.length;++e){var n=Rl[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t}();function aP(t){var e={};t=qr(t);for(var n=0;n<Rl.length;++n){var r=Rl[n],s=t.match(cle[n]);s!=null&&s.length>0&&(e[r[1]]=mr(s[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=is(e[r[1]]))}return e}function NC(t,e,n,r,s){s[t]!=null||e==null||e===""||(s[t]=e,e=Pr(e),r[r.length]=n?Dt(t,e,n):ri(t,e))}function iP(t,e){var n=e||{},r=[ea,Dt("cp:coreProperties",null,{"xmlns:cp":_a.CORE_PROPS,"xmlns:dc":_a.dc,"xmlns:dcterms":_a.dcterms,"xmlns:dcmitype":_a.dcmitype,"xmlns:xsi":_a.xsi})],s={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&NC("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:N_(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s),t.ModifiedDate!=null&&NC("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:N_(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s));for(var a=0;a!=Rl.length;++a){var i=Rl[a],o=n.Props&&n.Props[i[1]]!=null?n.Props[i[1]]:t?t[i[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&NC(i[0],o,null,r,s)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Yf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],oP=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function lP(t,e,n,r){var s=[];if(typeof t=="string")s=iF(t,r);else for(var a=0;a<t.length;++a)s=s.concat(t[a].map(function(d){return{v:d}}));var i=typeof e=="string"?iF(e,r).map(function(d){return d.v}):e,o=0,l=0;if(i.length>0)for(var A=0;A!==s.length;A+=2){switch(l=+s[A+1].v,s[A].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=i.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=i.slice(o,o+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=i.slice(o,o+l);break}o+=l}}function Ale(t,e,n){var r={};return e||(e={}),t=qr(t),Yf.forEach(function(s){var a=(t.match(zg(s[0]))||[])[1];switch(s[2]){case"string":a&&(e[s[1]]=mr(a));break;case"bool":e[s[1]]=a==="true";break;case"raw":var i=t.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));i&&i.length>0&&(r[s[1]]=i[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&lP(r.HeadingPairs,r.TitlesOfParts,e,n),e}function cP(t){var e=[],n=Dt;return t||(t={}),t.Application="SheetJS",e[e.length]=ea,e[e.length]=Dt("Properties",null,{xmlns:_a.EXT_PROPS,"xmlns:vt":_a.vt}),Yf.forEach(function(r){if(t[r[1]]!==void 0){var s;switch(r[2]){case"string":s=Pr(String(t[r[1]]));break;case"bool":s=t[r[1]]?"true":"false";break}s!==void 0&&(e[e.length]=n(r[0],s))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+Pr(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var ule=/<[^>]+>[^<]*/g;function dle(t,e){var n={},r="",s=t.match(ule);if(s)for(var a=0;a!=s.length;++a){var i=s[a],o=_n(i);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=mr(o.name);break;case"</property>":r=null;break;default:if(i.indexOf("<vt:")===0){var l=i.split(">"),A=l[0].slice(4),d=l[1];switch(A){case"lpstr":case"bstr":case"lpwstr":n[r]=mr(d);break;case"bool":n[r]=rs(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(d,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(d);break;case"filetime":case"date":n[r]=is(d);break;case"cy":case"error":n[r]=mr(d);break;default:if(A.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",i,A,l)}}else if(i.slice(0,2)!=="</"){if(e.WTF)throw new Error(i)}}}return n}function AP(t){var e=[ea,Dt("Properties",null,{xmlns:_a.CUST_PROPS,"xmlns:vt":_a.vt})];if(!t)return e.join("");var n=1;return Ls(t).forEach(function(s){++n,e[e.length]=Dt("property",woe(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Pr(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var D_={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},kC;function fle(t,e,n){kC||(kC=rw(D_)),e=kC[e]||e,t[e]=n}function hle(t,e){var n=[];return Ls(D_).map(function(r){for(var s=0;s<Rl.length;++s)if(Rl[s][1]==r)return Rl[s];for(s=0;s<Yf.length;++s)if(Yf[s][1]==r)return Yf[s];throw r}).forEach(function(r){if(t[r[1]]!=null){var s=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),n.push(ri(D_[r[1]]||r[1],s))}}),Dt("DocumentProperties",n.join(""),{xmlns:jo.o})}function mle(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",s=[];return t&&Ls(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var i=0;i<Rl.length;++i)if(a==Rl[i][1])return;for(i=0;i<Yf.length;++i)if(a==Yf[i][1])return;for(i=0;i<n.length;++i)if(a==n[i])return;var o=t[a],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),s.push(Dt(nF(a),o,{"dt:dt":l}))}}),e&&Ls(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var i=e[a],o="string";typeof i=="number"?(o="float",i=String(i)):i===!0||i===!1?(o="boolean",i=i?"1":"0"):i instanceof Date?(o="dateTime.tz",i=i.toISOString()):i=String(i),s.push(Dt(nF(a),i,{"dt:dt":o}))}}),"<"+r+' xmlns="'+jo.o+'">'+s.join("")+"</"+r+">"}function Z5(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function ple(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),s=(n-r)/Math.pow(2,32);r*=1e7,s*=1e7;var a=r/Math.pow(2,32)|0;a>0&&(r=r%Math.pow(2,32),s+=a);var i=lt(8);return i.write_shift(4,r),i.write_shift(4,s),i}function uP(t,e,n){var r=t.l,s=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return s}function dP(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function fP(t,e,n){return e===31?dP(t):uP(t,e,n)}function U_(t,e,n){return fP(t,e,n===!1?0:4)}function gle(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return fP(t,e,0)}function xle(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var s=t.l;n[r]=t.read_shift(0,"lpwstr").replace(Ki,""),t.l-s&2&&(t.l+=2)}return n}function vle(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(Ki,"");return n}function yle(t){var e=t.l,n=X2(t,tP);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=X2(t,co);return[n,r]}function wle(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(yle(t));return n}function gF(t,e){for(var n=t.read_shift(4),r={},s=0;s!=n;++s){var a=t.read_shift(4),i=t.read_shift(4);r[a]=t.read_shift(i,e===1200?"utf16le":"utf8").replace(Ki,"").replace(Jp,"!"),e===1200&&i%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function hP(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function ble(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function X2(t,e,n){var r=t.read_shift(2),s,a=n||{};if(t.l+=2,e!==hF&&r!==e&&Zoe.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===hF?r:e){case 2:return s=t.read_shift(2,"i"),a.raw||(t.l+=2),s;case 3:return s=t.read_shift(4,"i"),s;case 11:return t.read_shift(4)!==0;case 19:return s=t.read_shift(4),s;case 30:return uP(t,r,4).replace(Ki,"");case 31:return dP(t);case 64:return Z5(t);case 65:return hP(t);case 71:return ble(t);case 80:return U_(t,r,!a.raw).replace(Ki,"");case 81:return gle(t,r).replace(Ki,"");case 4108:return wle(t);case 4126:case 4127:return r==4127?xle(t):vle(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function xF(t,e){var n=lt(4),r=lt(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=lt(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=ple(e);break;case 31:case 80:for(r=lt(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Qa([n,r])}function vF(t,e){var n=t.l,r=t.read_shift(4),s=t.read_shift(4),a=[],i=0,o=0,l=-1,A={};for(i=0;i!=s;++i){var d=t.read_shift(4),h=t.read_shift(4);a[i]=[d,h+n]}a.sort(function(I,k){return I[1]-k[1]});var p={};for(i=0;i!=s;++i){if(t.l!==a[i][1]){var g=!0;if(i>0&&e)switch(e[a[i-1][0]].t){case 2:t.l+2===a[i][1]&&(t.l+=2,g=!1);break;case 80:t.l<=a[i][1]&&(t.l=a[i][1],g=!1);break;case 4108:t.l<=a[i][1]&&(t.l=a[i][1],g=!1);break}if((!e||i==0)&&t.l<=a[i][1]&&(g=!1,t.l=a[i][1]),g)throw new Error("Read Error: Expected address "+a[i][1]+" at "+t.l+" :"+i)}if(e){var w=e[a[i][0]];if(p[w.n]=X2(t,w.t,{raw:!0}),w.p==="version"&&(p[w.n]=String(p[w.n]>>16)+"."+("0000"+String(p[w.n]&65535)).slice(-4)),w.n=="CodePage")switch(p[w.n]){case 0:p[w.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:hc(o=p[w.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[w.n])}}else if(a[i][0]===1){if(o=p.CodePage=X2(t,J5),hc(o),l!==-1){var b=t.l;t.l=a[l][1],A=gF(t,o),t.l=b}}else if(a[i][0]===0){if(o===0){l=i,t.l=a[i+1][1];continue}A=gF(t,o)}else{var E=A[a[i][0]],T;switch(t[t.l]){case 65:t.l+=4,T=hP(t);break;case 30:t.l+=4,T=U_(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,T=U_(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,T=t.read_shift(4,"i");break;case 19:t.l+=4,T=t.read_shift(4);break;case 5:t.l+=4,T=t.read_shift(8,"f");break;case 11:t.l+=4,T=zs(t,4);break;case 64:t.l+=4,T=is(Z5(t));break;default:throw new Error("unparsed value: "+t[t.l])}p[E]=T}}return t.l=n+r,p}var mP=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Cle(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function yF(t,e,n){var r=lt(8),s=[],a=[],i=8,o=0,l=lt(8),A=lt(8);if(l.write_shift(4,2),l.write_shift(4,1200),A.write_shift(4,1),a.push(l),s.push(A),i+=8+l.length,!e){A=lt(8),A.write_shift(4,0),s.unshift(A);var d=[lt(4)];for(d[0].write_shift(4,t.length),o=0;o<t.length;++o){var h=t[o][0];for(l=lt(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=Qa(d),a.unshift(l),i+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(mP.indexOf(t[o][0])>-1||oP.indexOf(t[o][0])>-1)&&t[o][1]!=null){var p=t[o][1],g=0;if(e){g=+e[t[o][0]];var w=n[g];if(w.p=="version"&&typeof p=="string"){var b=p.split(".");p=(+b[0]<<16)+(+b[1]||0)}l=xF(w.t,p)}else{var E=Cle(p);E==-1&&(E=31,p=String(p)),l=xF(E,p)}a.push(l),A=lt(8),A.write_shift(4,e?g:2+o),s.push(A),i+=8+l.length}var T=8*(a.length+1);for(o=0;o<a.length;++o)s[o].write_shift(4,T),T+=a[o].length;return r.write_shift(4,i),r.write_shift(4,a.length),Qa([r].concat(s).concat(a))}function wF(t,e,n){var r=t.content;if(!r)return{};ti(r,0);var s,a,i,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var A=r.read_shift(4),d=r.read_shift(16);if(d!==ln.utils.consts.HEADER_CLSID&&d!==n)throw new Error("Bad PropertySet CLSID "+d);if(s=r.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(a=r.read_shift(16),o=r.read_shift(4),s===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);s===2&&(i=r.read_shift(16),l=r.read_shift(4));var h=vF(r,e),p={SystemIdentifier:A};for(var g in h)p[g]=h[g];if(p.FMTID=a,s===1)return p;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var w;try{w=vF(r,null)}catch{}for(g in w)p[g]=w[g];return p.FMTID=[a,i],p}function bF(t,e,n,r,s,a){var i=lt(s?68:48),o=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,ln.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,s?2:1),i.write_shift(16,e,"hex"),i.write_shift(4,s?68:48);var l=yF(t,n,r);if(o.push(l),s){var A=yF(s,null,null);i.write_shift(16,a,"hex"),i.write_shift(4,68+l.length),o.push(A)}return Qa(o)}function fd(t,e){return t.read_shift(e),null}function Ele(t,e){e||(e=lt(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function _le(t,e,n){for(var r=[],s=t.l+e;t.l<s;)r.push(n(t,s-t.l));if(s!==t.l)throw new Error("Slurp error");return r}function zs(t,e){return t.read_shift(e)===1}function zi(t,e){return e||(e=lt(2)),e.write_shift(2,+!!t),e}function da(t){return t.read_shift(2,"u")}function Cl(t,e){return e||(e=lt(2)),e.write_shift(2,t),e}function pP(t,e){return _le(t,e,da)}function Sle(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function gP(t,e,n){return n||(n=lt(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function Bx(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),s="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var a=t.read_shift(1);a&&(s="dbcs-cont")}else n.biff==12&&(s="wstr");n.biff>=2&&n.biff<=5&&(s="cpstr");var i=r?t.read_shift(r,s):"";return i}function Tle(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,s=n&8,a=1+(n&1),i=0,o,l={};s&&(i=t.read_shift(2)),r&&(o=t.read_shift(4));var A=a==2?"dbcs-cont":"sbcs-cont",d=e===0?"":t.read_shift(e,A);return s&&(t.l+=4*i),r&&(t.l+=o),l.t=d,s||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Ble(t){var e=t.t||"",n=lt(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=lt(2*e.length);r.write_shift(2*e.length,e,"utf16le");var s=[n,r];return Qa(s)}function uh(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function Nx(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):uh(t,r,n)}function kh(t,e,n){if(n.biff>5)return Nx(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function xP(t,e,n){return n||(n=lt(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function Nle(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function kle(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var s=t.read_shift((r?e-24:e)>>1,"utf16le").replace(Ki,"");return r&&(t.l+=24),s}function Ile(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=t.read_shift(4);if(s===0)return n+r.replace(/\\/g,"/");var a=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=t.read_shift(a>>1,"utf16le").replace(Ki,"");return n+i}function Fle(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return kle(t);case"0303000000000000c000000000000046":return Ile(t);default:throw new Error("Unsupported Moniker "+n)}}function rv(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(Ki,""):"";return n}function CF(t,e){e||(e=lt(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function Rle(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var s=t.read_shift(2);t.l+=2;var a,i,o,l,A="",d,h;s&16&&(a=rv(t,n-t.l)),s&128&&(i=rv(t,n-t.l)),(s&257)===257&&(o=rv(t,n-t.l)),(s&257)===1&&(l=Fle(t,n-t.l)),s&8&&(A=rv(t,n-t.l)),s&32&&(d=t.read_shift(16)),s&64&&(h=Z5(t)),t.l=n;var p=i||o||l||"";p&&A&&(p+="#"+A),p||(p="#"+A),s&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var g={Target:p};return d&&(g.guid=d),h&&(g.time=h),a&&(g.Tooltip=a),g}function Dle(t){var e=lt(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var s=r.indexOf("#"),a=s>-1?31:23;switch(r.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var i=[8,6815827,6619237,4849780,83];for(n=0;n<i.length;++n)e.write_shift(4,i[n]);if(a==28)r=r.slice(1),CF(r,e);else if(a&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<i.length;++n)e.write_shift(1,parseInt(i[n],16));var o=s>-1?r.slice(0,s):r;for(e.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)e.write_shift(2,o.charCodeAt(n));e.write_shift(2,0),a&8&&CF(s>-1?r.slice(s+1):"",e)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<i.length;++n)e.write_shift(1,parseInt(i[n],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)e.write_shift(1,r.charCodeAt(n+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function vP(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),s=t.read_shift(1);return[e,n,r,s]}function yP(t,e){var n=vP(t);return n[3]=0,n}function CA(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function dh(t,e,n,r){return r||(r=lt(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function Ule(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function Lle(t,e,n){return e===0?"":kh(t,e,n)}function Mle(t,e,n){var r=n.biff>8?4:2,s=t.read_shift(r),a=t.read_shift(r,"i"),i=t.read_shift(r,"i");return[s,a,i]}function wP(t){var e=t.read_shift(2),n=Y5(t);return[e,n]}function Ple(t,e,n){t.l+=4,e-=4;var r=t.l+e,s=Bx(t,e,n),a=t.read_shift(2);if(r-=t.l,a!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+a);return t.l+=a,s}function iw(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2);return{s:{c:r,r:e},e:{c:s,r:n}}}function bP(t,e){return e||(e=lt(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function CP(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),s=t.read_shift(1);return{s:{c:r,r:e},e:{c:s,r:n}}}var jle=CP;function EP(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function Ole(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function Qle(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Ci(t){t.l+=2,t.l+=t.read_shift(2)}var Hle={0:Ci,4:Ci,5:Ci,6:Ci,7:Qle,8:Ci,9:Ci,10:Ci,11:Ci,12:Ci,13:Ole,14:Ci,15:Ci,16:Ci,17:Ci,18:Ci,19:Ci,20:Ci,21:EP};function Vle(t,e){for(var n=t.l+e,r=[];t.l<n;){var s=t.read_shift(2);t.l-=2;try{r.push(Hle[s](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function sv(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function e4(t,e,n){var r=1536,s=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,s=8;break;case"biff4":r=4,s=6;break;case"biff3":r=3,s=6;break;case"biff2":r=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=lt(s);return a.write_shift(2,r),a.write_shift(2,e),s>4&&a.write_shift(2,29282),s>6&&a.write_shift(2,1997),s>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function Gle(t,e){return e===0||t.read_shift(2),1200}function zle(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,s=kh(t,0,n);return t.read_shift(e+r-t.l),s}function Kle(t,e){var n=!e||e.biff==8,r=lt(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function qle(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function Wle(t,e,n){var r=t.read_shift(4),s=t.read_shift(1)&3,a=t.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var i=Bx(t,0,n);return i.length===0&&(i="Sheet1"),{pos:r,hs:s,dt:a,name:i}}function $le(t,e){var n=!e||e.biff>=8?2:1,r=lt(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=r.slice(0,r.l);return s.l=r.l,s}function Yle(t,e){for(var n=t.l+e,r=t.read_shift(4),s=t.read_shift(4),a=[],i=0;i!=s&&t.l<n;++i)a.push(Tle(t));return a.Count=r,a.Unique=s,a}function Jle(t,e){var n=lt(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],s=0;s<t.length;++s)r[s]=Ble(t[s]);var a=Qa([n].concat(r));return a.parts=[n.length].concat(r.map(function(i){return i.length})),a}function Xle(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function Zle(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function ece(t){var e=Ule(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function tce(t){return t.read_shift(2),t.read_shift(4)}function EF(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var s=t.read_shift(2);n&&n.biff==2&&(r=1-(s>>15),s&=32767);var a={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[a,s]}function nce(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),A=t.read_shift(2);return{Pos:[e,n],Dim:[r,s],Flags:a,CurTab:i,FirstTab:o,Selected:l,TabRatio:A}}function rce(){var t=lt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function sce(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function ace(t){var e=lt(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function ice(){}function oce(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=Bx(t,0,n),r}function lce(t,e){var n=t.name||"Arial",r=e&&e.biff==5,s=r?15+n.length:16+2*n.length,a=lt(s);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,n.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),a}function cce(t){var e=CA(t);return e.isst=t.read_shift(4),e}function Ace(t,e,n,r){var s=lt(10);return dh(t,e,r,s),s.write_shift(4,n),s}function uce(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,s=CA(t);n.biff==2&&t.l++;var a=Nx(t,r-t.l,n);return s.val=a,s}function dce(t,e,n,r,s){var a=!s||s.biff==8,i=lt(8+ +a+(1+a)*n.length);return dh(t,e,r,i),i.write_shift(2,n.length),a&&i.write_shift(1,1),i.write_shift((1+a)*n.length,n,a?"utf16le":"sbcs"),i}function fce(t,e,n){var r=t.read_shift(2),s=kh(t,0,n);return[r,s]}function hce(t,e,n,r){var s=n&&n.biff==5;r||(r=lt(s?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(s?1:2,e.length),s||r.write_shift(1,1),r.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var a=r.length>r.l?r.slice(0,r.l):r;return a.l==null&&(a.l=a.length),a}var mce=kh;function _F(t,e,n){var r=t.l+e,s=n.biff==8||!n.biff?4:2,a=t.read_shift(s),i=t.read_shift(s),o=t.read_shift(2),l=t.read_shift(2);return t.l=r,{s:{r:a,c:o},e:{r:i,c:l}}}function pce(t,e){var n=e.biff==8||!e.biff?4:2,r=lt(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function gce(t){var e=t.read_shift(2),n=t.read_shift(2),r=wP(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function xce(t,e){for(var n=t.l+e-2,r=t.read_shift(2),s=t.read_shift(2),a=[];t.l<n;)a.push(wP(t));if(t.l!==n)throw new Error("MulRK read error");var i=t.read_shift(2);if(a.length!=i-s+1)throw new Error("MulRK length mismatch");return{r,c:s,C:i,rkrec:a}}function vce(t,e){for(var n=t.l+e-2,r=t.read_shift(2),s=t.read_shift(2),a=[];t.l<n;)a.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var i=t.read_shift(2);if(a.length!=i-s+1)throw new Error("MulBlank length mismatch");return{r,c:s,C:i,ixfe:a}}function yce(t,e,n,r){var s={},a=t.read_shift(4),i=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return s.patternType=ele[o>>26],r.cellStyles&&(s.alc=a&7,s.fWrap=a>>3&1,s.alcV=a>>4&7,s.fJustLast=a>>7&1,s.trot=a>>8&255,s.cIndent=a>>16&15,s.fShrinkToFit=a>>20&1,s.iReadOrder=a>>22&2,s.fAtrNum=a>>26&1,s.fAtrFnt=a>>27&1,s.fAtrAlc=a>>28&1,s.fAtrBdr=a>>29&1,s.fAtrPat=a>>30&1,s.fAtrProt=a>>31&1,s.dgLeft=i&15,s.dgRight=i>>4&15,s.dgTop=i>>8&15,s.dgBottom=i>>12&15,s.icvLeft=i>>16&127,s.icvRight=i>>23&127,s.grbitDiag=i>>30&3,s.icvTop=o&127,s.icvBottom=o>>7&127,s.icvDiag=o>>14&127,s.dgDiag=o>>21&15,s.icvFore=l&127,s.icvBack=l>>7&127,s.fsxButton=l>>14&1),s}function wce(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=yce(t,e,r.fStyle,n),r}function SF(t,e,n,r){var s=n&&n.biff==5;r||(r=lt(s?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&s&&(a|=1024),r.write_shift(4,a),r.write_shift(4,0),s||r.write_shift(4,0),r.write_shift(2,0),r}function bce(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function Cce(t){var e=lt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function TF(t,e,n){var r=CA(t);(n.biff==2||e==9)&&++t.l;var s=Sle(t);return r.val=s,r.t=s===!0||s===!1?"b":"e",r}function Ece(t,e,n,r,s,a){var i=lt(8);return dh(t,e,r,i),gP(n,a,i),i}function _ce(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=CA(t),s=Fi(t);return r.val=s,r}function Sce(t,e,n,r){var s=lt(14);return dh(t,e,r,s),Ah(n,s),s}var BF=Lle;function Tce(t,e,n){var r=t.l+e,s=t.read_shift(2),a=t.read_shift(2);if(n.sbcch=a,a==1025||a==14849)return[a,s];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var i=uh(t,a),o=[];r>t.l;)o.push(Nx(t));return[a,s,i,o]}function NF(t,e,n){var r=t.read_shift(2),s,a={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(s=Ple(t,e-2,n)),a.body=s||t.read_shift(e-2),typeof s=="string"&&(a.Name=s),a}var Bce=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function kF(t,e,n){var r=t.l+e,s=t.read_shift(2),a=t.read_shift(1),i=t.read_shift(1),o=t.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),l=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var A=uh(t,i,n);s&32&&(A=Bce[A.charCodeAt(0)]);var d=r-t.l;n&&n.biff==2&&--d;var h=r==t.l||o===0||!(d>0)?[]:Vfe(t,d,n,o);return{chKey:a,Name:A,itab:l,rgce:h}}function _P(t,e,n){if(n.biff<8)return Nce(t,e,n);for(var r=[],s=t.l+e,a=t.read_shift(n.biff>8?4:2);a--!==0;)r.push(Mle(t,n.biff>8?12:6,n));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return r}function Nce(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=Bx(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function kce(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),s=t.read_shift(2),a=uh(t,r,n),i=uh(t,s,n);return[a,i]}function Ice(t,e,n){var r=CP(t);t.l++;var s=t.read_shift(1);return e-=8,[Gfe(t,e,n),s,r]}function IF(t,e,n){var r=jle(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,Qfe(t,e,n)]}function Fce(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function Rce(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2),o=kh(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:s},o,i,a]}}function Dce(t,e,n){return Rce(t,e,n)}function Uce(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(iw(t));return n}function Lce(t){var e=lt(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)bP(t[n],e);return e}function Mce(t,e,n){if(n&&n.biff<8)return jce(t,e,n);var r=EP(t),s=Vle(t,e-22,r[1]);return{cmo:r,ft:s}}var Pce={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var s=t.read_shift(1);return t.l+=s,t.l=n,{fmt:r}}};function jce(t,e,n){t.l+=4;var r=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var i=[];return i.push((Pce[r]||Li)(t,e,n)),{cmo:[s,r,a],ft:i}}function Oce(t,e,n){var r=t.l,s="";try{t.l+=4;var a=(n.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(a)==-1?t.l+=6:i=Nle(t,6,n);var o=t.read_shift(2);t.read_shift(2),da(t,2);var l=t.read_shift(2);t.l+=l;for(var A=1;A<t.lens.length-1;++A){if(t.l-r!=t.lens[A])throw new Error("TxO: bad continue record");var d=t[t.l],h=uh(t,t.lens[A+1]-t.lens[A]-1);if(s+=h,s.length>=(d?o:2*o))break}if(s.length!==o&&s.length!==o*2)throw new Error("cchText: "+o+" != "+s.length);return t.l=r+e,{t:s}}catch{return t.l=r+e,{t:s}}}function Qce(t,e){var n=iw(t);t.l+=16;var r=Rle(t,e-24);return[n,r]}function Hce(t){var e=lt(24),n=ws(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(r[s],16));return Qa([e,Dle(t[1])])}function Vce(t,e){t.read_shift(2);var n=iw(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(Ki,""),[n,r]}function Gce(t){var e=t[1].Tooltip,n=lt(10+2*(e.length+1));n.write_shift(2,2048);var r=ws(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var s=0;s<e.length;++s)n.write_shift(2,e.charCodeAt(s));return n.write_shift(2,0),n}function zce(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=mF[n]||n,n=t.read_shift(2),e[1]=mF[n]||n,e}function Kce(t){return t||(t=lt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function qce(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(yP(t));return n}function Wce(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(yP(t));return n}function $ce(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function SP(t,e,n){if(!n.cellStyles)return Li(t,e);var r=n&&n.biff>=12?4:2,s=t.read_shift(r),a=t.read_shift(r),i=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(2);r==2&&(t.l+=2);var A={s,e:a,w:i,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(A.level=l>>8&7),A}function Yce(t,e){var n=lt(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function Jce(t,e){var n={};return e<32||(t.l+=16,n.header=Fi(t),n.footer=Fi(t),t.l+=2),n}function Xce(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var s=t.read_shift(1);return t.l+=3,s&16&&(r.area=!0),r}function Zce(t){for(var e=lt(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}var eAe=CA,tAe=pP,nAe=Nx;function rAe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),s={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,s}function sAe(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=CA(t);++t.l;var s=kh(t,e-7,n);return r.t="str",r.val=s,r}function aAe(t){var e=CA(t);++t.l;var n=Fi(t);return e.t="n",e.val=n,e}function iAe(t,e,n){var r=lt(15);return Rx(r,t,e),r.write_shift(8,n,"f"),r}function oAe(t){var e=CA(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function lAe(t,e,n){var r=lt(9);return Rx(r,t,e),r.write_shift(2,n),r}function cAe(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function AAe(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function uAe(t,e,n){var r=t.l+e,s=CA(t),a=t.read_shift(2),i=uh(t,a,n);return t.l=r,s.t="str",s.val=i,s}var dAe=[2,3,48,49,131,139,140,245],L_=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=rw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,l){var A=[],d=Xd(1);switch(l.type){case"base64":d=Qo(Ko(o));break;case"binary":d=Qo(o);break;case"buffer":case"array":d=o;break}ti(d,0);var h=d.read_shift(1),p=!!(h&136),g=!1,w=!1;switch(h){case 2:break;case 3:break;case 48:g=!0,p=!0;break;case 49:g=!0,p=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var b=0,E=521;h==2&&(b=d.read_shift(2)),d.l+=3,h!=2&&(b=d.read_shift(4)),b>1048576&&(b=1e6),h!=2&&(E=d.read_shift(2));var T=d.read_shift(2),I=l.codepage||1252;h!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(I=t[d[d.l]]),d.l+=1,d.l+=2),w&&(d.l+=36);for(var k=[],F={},R=Math.min(d.length,h==2?521:E-10-(g?264:0)),L=w?32:11;d.l<R&&d[d.l]!=13;)switch(F={},F.name=Hg.utils.decode(I,d.slice(d.l,d.l+L)).replace(/[\u0000\r\n].*$/g,""),d.l+=L,F.type=String.fromCharCode(d.read_shift(1)),h!=2&&!w&&(F.offset=d.read_shift(4)),F.len=d.read_shift(1),h==2&&(F.offset=d.read_shift(2)),F.dec=d.read_shift(1),F.name.length&&k.push(F),h!=2&&(d.l+=w?13:14),F.type){case"B":(!g||F.len!=8)&&l.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+F.type)}if(d[d.l]!==13&&(d.l=E-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=E;var S=0,N=0;for(A[0]=[],N=0;N!=k.length;++N)A[0][N]=k[N].name;for(;b-- >0;){if(d[d.l]===42){d.l+=T;continue}for(++d.l,A[++S]=[],N=0,N=0;N!=k.length;++N){var B=d.slice(d.l,d.l+k[N].len);d.l+=k[N].len,ti(B,0);var H=Hg.utils.decode(I,B);switch(k[N].type){case"C":H.trim().length&&(A[S][N]=H.replace(/\s+$/,""));break;case"D":H.length===8?A[S][N]=new Date(+H.slice(0,4),+H.slice(4,6)-1,+H.slice(6,8)):A[S][N]=H;break;case"F":A[S][N]=parseFloat(H.trim());break;case"+":case"I":A[S][N]=w?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(H.trim().toUpperCase()){case"Y":case"T":A[S][N]=!0;break;case"N":case"F":A[S][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+H+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));A[S][N]="##MEMO##"+(w?parseInt(H.trim(),10):B.read_shift(4));break;case"N":H=H.replace(/\u0000/g,"").trim(),H&&H!="."&&(A[S][N]=+H||0);break;case"@":A[S][N]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":A[S][N]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":A[S][N]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":A[S][N]=-B.read_shift(-8,"f");break;case"B":if(g&&k[N].len==8){A[S][N]=B.read_shift(8,"f");break}case"G":case"P":B.l+=k[N].len;break;case"0":if(k[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[N].type)}}}if(h!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(A=A.slice(0,l.sheetRows)),l.DBF=k,A}function r(o,l){var A=l||{};A.dateNF||(A.dateNF="yyyymmdd");var d=jm(n(o,A),A);return d["!cols"]=A.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete A.DBF,d}function s(o,l){try{return lf(r(o,l),l)}catch(A){if(l&&l.WTF)throw A}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,l){var A=l||{};if(+A.codepage>=0&&hc(+A.codepage),A.type=="string")throw new Error("Cannot write DBF to JS string");var d=mo(),h=ty(o,{header:1,raw:!0,cellDates:!0}),p=h[0],g=h.slice(1),w=o["!cols"]||[],b=0,E=0,T=0,I=1;for(b=0;b<p.length;++b){if(((w[b]||{}).DBF||{}).name){p[b]=w[b].DBF.name,++T;continue}if(p[b]!=null){if(++T,typeof p[b]=="number"&&(p[b]=p[b].toString(10)),typeof p[b]!="string")throw new Error("DBF Invalid column name "+p[b]+" |"+typeof p[b]+"|");if(p.indexOf(p[b])!==b){for(E=0;E<1024;++E)if(p.indexOf(p[b]+"_"+E)==-1){p[b]+="_"+E;break}}}}var k=pr(o["!ref"]),F=[],R=[],L=[];for(b=0;b<=k.e.c-k.s.c;++b){var S="",N="",B=0,H=[];for(E=0;E<g.length;++E)g[E][b]!=null&&H.push(g[E][b]);if(H.length==0||p[b]==null){F[b]="?";continue}for(E=0;E<H.length;++E){switch(typeof H[E]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=H[E]instanceof Date?"D":"C";break;default:N="C"}B=Math.max(B,String(H[E]).length),S=S&&S!=N?"C":N}B>250&&(B=250),N=((w[b]||{}).DBF||{}).type,N=="C"&&w[b].DBF.len>B&&(B=w[b].DBF.len),S=="B"&&N=="N"&&(S="N",L[b]=w[b].DBF.dec,B=w[b].DBF.len),R[b]=S=="C"||N=="N"?B:a[S]||0,I+=R[b],F[b]=S}var P=d.next(32);for(P.write_shift(4,318902576),P.write_shift(4,g.length),P.write_shift(2,296+32*T),P.write_shift(2,I),b=0;b<4;++b)P.write_shift(4,0);for(P.write_shift(4,0|(+e[mM]||3)<<8),b=0,E=0;b<p.length;++b)if(p[b]!=null){var M=d.next(32),V=(p[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,V,"sbcs"),M.write_shift(1,F[b]=="?"?"C":F[b],"sbcs"),M.write_shift(4,E),M.write_shift(1,R[b]||a[F[b]]||0),M.write_shift(1,L[b]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),E+=R[b]||a[F[b]]||0}var G=d.next(264);for(G.write_shift(4,13),b=0;b<65;++b)G.write_shift(4,0);for(b=0;b<g.length;++b){var oe=d.next(I);for(oe.write_shift(1,0),E=0;E<p.length;++E)if(p[E]!=null)switch(F[E]){case"L":oe.write_shift(1,g[b][E]==null?63:g[b][E]?84:70);break;case"B":oe.write_shift(8,g[b][E]||0,"f");break;case"N":var K="0";for(typeof g[b][E]=="number"&&(K=g[b][E].toFixed(L[E]||0)),T=0;T<R[E]-K.length;++T)oe.write_shift(1,32);oe.write_shift(1,K,"sbcs");break;case"D":g[b][E]?(oe.write_shift(4,("0000"+g[b][E].getFullYear()).slice(-4),"sbcs"),oe.write_shift(2,("00"+(g[b][E].getMonth()+1)).slice(-2),"sbcs"),oe.write_shift(2,("00"+g[b][E].getDate()).slice(-2),"sbcs")):oe.write_shift(8,"00000000","sbcs");break;case"C":var Z=String(g[b][E]!=null?g[b][E]:"").slice(0,R[E]);for(oe.write_shift(1,Z,"sbcs"),T=0;T<R[E]-Z.length;++T)oe.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:s,to_sheet:r,from_sheet:i}}(),TP=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ls(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(p,g){var w=t[g];return typeof w=="number"?HI(w):w},r=function(p,g,w){var b=g.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return b==59?p:HI(b)};t["|"]=254;function s(p,g){switch(g.type){case"base64":return a(Ko(p),g);case"binary":return a(p,g);case"buffer":return a(Kn&&Buffer.isBuffer(p)?p.toString("binary"):of(p),g);case"array":return a(ch(p),g)}throw new Error("Unrecognized type "+g.type)}function a(p,g){var w=p.split(/[\n\r]+/),b=-1,E=-1,T=0,I=0,k=[],F=[],R=null,L={},S=[],N=[],B=[],H=0,P;for(+g.codepage>=0&&hc(+g.codepage);T!==w.length;++T){H=0;var M=w[T].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),V=M.replace(/;;/g,"\0").split(";").map(function(ne){return ne.replace(/\u0000/g,";")}),G=V[0],oe;if(M.length>0)switch(G){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":V[1].charAt(0)=="P"&&F.push(M.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,Z=!1,re=!1,q=!1,X=-1,ue=-1;for(I=1;I<V.length;++I)switch(V[I].charAt(0)){case"A":break;case"X":E=parseInt(V[I].slice(1))-1,Z=!0;break;case"Y":for(b=parseInt(V[I].slice(1))-1,Z||(E=0),P=k.length;P<=b;++P)k[P]=[];break;case"K":oe=V[I].slice(1),oe.charAt(0)==='"'?oe=oe.slice(1,oe.length-1):oe==="TRUE"?oe=!0:oe==="FALSE"?oe=!1:isNaN(pc(oe))?isNaN(pm(oe).getDate())||(oe=is(oe)):(oe=pc(oe),R!==null&&Mm(R)&&(oe=aw(oe))),K=!0;break;case"E":q=!0;var j=tm(V[I].slice(1),{r:b,c:E});k[b][E]=[k[b][E],j];break;case"S":re=!0,k[b][E]=[k[b][E],"S5S"];break;case"G":break;case"R":X=parseInt(V[I].slice(1))-1;break;case"C":ue=parseInt(V[I].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}if(K&&(k[b][E]&&k[b][E].length==2?k[b][E][0]=oe:k[b][E]=oe,R=null),re){if(q)throw new Error("SYLK shared formula cannot have own formula");var W=X>-1&&k[X][ue];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");k[b][E][1]=zP(W[1],{r:b-X,c:E-ue})}break;case"F":var J=0;for(I=1;I<V.length;++I)switch(V[I].charAt(0)){case"X":E=parseInt(V[I].slice(1))-1,++J;break;case"Y":for(b=parseInt(V[I].slice(1))-1,P=k.length;P<=b;++P)k[P]=[];break;case"M":H=parseInt(V[I].slice(1))/20;break;case"F":break;case"G":break;case"P":R=F[parseInt(V[I].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=V[I].slice(1).split(" "),P=parseInt(B[0],10);P<=parseInt(B[1],10);++P)H=parseInt(B[2],10),N[P-1]=H===0?{hidden:!0}:{wch:H},Zd(N[P-1]);break;case"C":E=parseInt(V[I].slice(1))-1,N[E]||(N[E]={});break;case"R":b=parseInt(V[I].slice(1))-1,S[b]||(S[b]={}),H>0?(S[b].hpt=H,S[b].hpx=xm(H)):H===0&&(S[b].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}J<1&&(R=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}}return S.length>0&&(L["!rows"]=S),N.length>0&&(L["!cols"]=N),g&&g.sheetRows&&(k=k.slice(0,g.sheetRows)),[k,L]}function i(p,g){var w=s(p,g),b=w[0],E=w[1],T=jm(b,g);return Ls(E).forEach(function(I){T[I]=E[I]}),T}function o(p,g){return lf(i(p,g),g)}function l(p,g,w,b){var E="C;Y"+(w+1)+";X"+(b+1)+";K";switch(p.t){case"n":E+=p.v||0,p.f&&!p.F&&(E+=";E"+i4(p.f,{r:w,c:b}));break;case"b":E+=p.v?"TRUE":"FALSE";break;case"e":E+=p.w||p.v;break;case"d":E+='"'+(p.w||p.v)+'"';break;case"s":E+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function A(p,g){g.forEach(function(w,b){var E="F;W"+(b+1)+" "+(b+1)+" ";w.hidden?E+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=Yg(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=Jg(w.wpx)),typeof w.wch=="number"&&(E+=Math.round(w.wch))),E.charAt(E.length-1)!=" "&&p.push(E)})}function d(p,g){g.forEach(function(w,b){var E="F;";w.hidden?E+="M0;":w.hpt?E+="M"+20*w.hpt+";":w.hpx&&(E+="M"+20*Xg(w.hpx)+";"),E.length>2&&p.push(E+"R"+(b+1))})}function h(p,g){var w=["ID;PWXL;N;E"],b=[],E=pr(p["!ref"]),T,I=Array.isArray(p),k=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),p["!cols"]&&A(w,p["!cols"]),p["!rows"]&&d(w,p["!rows"]),w.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var F=E.s.r;F<=E.e.r;++F)for(var R=E.s.c;R<=E.e.c;++R){var L=wn({r:F,c:R});T=I?(p[F]||[])[R]:p[L],!(!T||T.v==null&&(!T.f||T.F))&&b.push(l(T,p,F,R))}return w.join(k)+k+b.join(k)+k+"E"+k}return{to_workbook:o,to_sheet:i,from_sheet:h}}(),BP=function(){function t(a,i){switch(i.type){case"base64":return e(Ko(a),i);case"binary":return e(a,i);case"buffer":return e(Kn&&Buffer.isBuffer(a)?a.toString("binary"):of(a),i);case"array":return e(ch(a),i)}throw new Error("Unrecognized type "+i.type)}function e(a,i){for(var o=a.split(`
`),l=-1,A=-1,d=0,h=[];d!==o.length;++d){if(o[d].trim()==="BOT"){h[++l]=[],A=0;continue}if(!(l<0)){var p=o[d].trim().split(","),g=p[0],w=p[1];++d;for(var b=o[d]||"";(b.match(/["]/g)||[]).length&1&&d<o.length-1;)b+=`
`+o[++d];switch(b=b.trim(),+g){case-1:if(b==="BOT"){h[++l]=[],A=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?h[l][A]=!0:b==="FALSE"?h[l][A]=!1:isNaN(pc(w))?isNaN(pm(w).getDate())?h[l][A]=w:h[l][A]=is(w):h[l][A]=pc(w),++A;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),h[l][A++]=b!==""?b:null;break}if(b==="EOD")break}}return i&&i.sheetRows&&(h=h.slice(0,i.sheetRows)),h}function n(a,i){return jm(t(a,i),i)}function r(a,i){return lf(n(a,i),i)}var s=function(){var a=function(l,A,d,h,p){l.push(A),l.push(d+","+h),l.push('"'+p.replace(/"/g,'""')+'"')},i=function(l,A,d,h){l.push(A+","+d),l.push(A==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var A=[],d=pr(l["!ref"]),h,p=Array.isArray(l);a(A,"TABLE",0,1,"sheetjs"),a(A,"VECTORS",0,d.e.r-d.s.r+1,""),a(A,"TUPLES",0,d.e.c-d.s.c+1,""),a(A,"DATA",0,0,"");for(var g=d.s.r;g<=d.e.r;++g){i(A,-1,0,"BOT");for(var w=d.s.c;w<=d.e.c;++w){var b=wn({r:g,c:w});if(h=p?(l[g]||[])[w]:l[b],!h){i(A,1,0,"");continue}switch(h.t){case"n":var E=h.w;!E&&h.v!=null&&(E=h.v),E==null?h.f&&!h.F?i(A,1,0,"="+h.f):i(A,1,0,""):i(A,0,E,"V");break;case"b":i(A,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":i(A,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Dl(h.z||gn[14],Ba(is(h.v)))),i(A,0,h.w,"V");break;default:i(A,1,0,"")}}}i(A,-1,0,"EOD");var T=`\r
`,I=A.join(T);return I}}();return{to_workbook:r,to_sheet:n,from_sheet:s}}(),NP=function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(h,p){for(var g=h.split(`
`),w=-1,b=-1,E=0,T=[];E!==g.length;++E){var I=g[E].trim().split(":");if(I[0]==="cell"){var k=ws(I[1]);if(T.length<=k.r)for(w=T.length;w<=k.r;++w)T[w]||(T[w]=[]);switch(w=k.r,b=k.c,I[2]){case"t":T[w][b]=t(I[3]);break;case"v":T[w][b]=+I[3];break;case"vtf":var F=I[I.length-1];case"vtc":switch(I[3]){case"nl":T[w][b]=!!+I[4];break;default:T[w][b]=+I[4];break}I[2]=="vtf"&&(T[w][b]=[T[w][b],F])}}}return p&&p.sheetRows&&(T=T.slice(0,p.sheetRows)),T}function r(h,p){return jm(n(h,p),p)}function s(h,p){return lf(r(h,p),p)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function A(h){if(!h||!h["!ref"])return"";for(var p=[],g=[],w,b="",E=xo(h["!ref"]),T=Array.isArray(h),I=E.s.r;I<=E.e.r;++I)for(var k=E.s.c;k<=E.e.c;++k)if(b=wn({r:I,c:k}),w=T?(h[I]||[])[k]:h[b],!(!w||w.v==null||w.t==="z")){switch(g=["cell",b,"t"],w.t){case"s":case"str":g.push(e(w.v));break;case"n":w.f?(g[2]="vtf",g[3]="n",g[4]=w.v,g[5]=e(w.f)):(g[2]="v",g[3]=w.v);break;case"b":g[2]="vt"+(w.f?"f":"c"),g[3]="nl",g[4]=w.v?"1":"0",g[5]=e(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var F=Ba(is(w.v));g[2]="vtc",g[3]="nd",g[4]=""+F,g[5]=w.w||Dl(w.z||gn[14],F);break;case"e":continue}p.push(g.join(":"))}return p.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function d(h){return[a,i,o,i,A(h),l].join(`
`)}return{to_workbook:s,to_sheet:r,from_sheet:d}}(),gm=function(){function t(d,h,p,g,w){w.raw?h[p][g]=d:d===""||(d==="TRUE"?h[p][g]=!0:d==="FALSE"?h[p][g]=!1:isNaN(pc(d))?isNaN(pm(d).getDate())?h[p][g]=d:h[p][g]=is(d):h[p][g]=pc(d))}function e(d,h){var p=h||{},g=[];if(!d||d.length===0)return g;for(var w=d.split(/[\r\n]/),b=w.length-1;b>=0&&w[b].length===0;)--b;for(var E=10,T=0,I=0;I<=b;++I)T=w[I].indexOf(" "),T==-1?T=w[I].length:T++,E=Math.max(E,T);for(I=0;I<=b;++I){g[I]=[];var k=0;for(t(w[I].slice(0,E).trim(),g,I,k,p),k=1;k<=(w[I].length-E)/10+1;++k)t(w[I].slice(E+(k-1)*10,E+k*10).trim(),g,I,k,p)}return p.sheetRows&&(g=g.slice(0,p.sheetRows)),g}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function s(d){for(var h={},p=!1,g=0,w=0;g<d.length;++g)(w=d.charCodeAt(g))==34?p=!p:!p&&w in n&&(h[w]=(h[w]||0)+1);w=[];for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&w.push([h[g],g]);if(!w.length){h=r;for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&w.push([h[g],g])}return w.sort(function(b,E){return b[0]-E[0]||r[b[1]]-r[E[1]]}),n[w.pop()[1]]||44}function a(d,h){var p=h||{},g="",w=p.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(g=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(g=d.charAt(4),d=d.slice(6)):g=s(d.slice(0,1024)):p&&p.FS?g=p.FS:g=s(d.slice(0,1024));var E=0,T=0,I=0,k=0,F=0,R=g.charCodeAt(0),L=!1,S=0,N=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var B=p.dateNF!=null?Xie(p.dateNF):null;function H(){var P=d.slice(k,F),M={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)M.t="z";else if(p.raw)M.t="s",M.v=P;else if(P.trim().length===0)M.t="s",M.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(M.t="s",M.v=P.slice(2,-1).replace(/""/g,'"')):Tde(P)?(M.t="n",M.f=P.slice(1)):(M.t="s",M.v=P);else if(P=="TRUE")M.t="b",M.v=!0;else if(P=="FALSE")M.t="b",M.v=!1;else if(!isNaN(I=pc(P)))M.t="n",p.cellText!==!1&&(M.w=P),M.v=I;else if(!isNaN(pm(P).getDate())||B&&P.match(B)){M.z=p.dateNF||gn[14];var V=0;B&&P.match(B)&&(P=Zie(P,p.dateNF,P.match(B)||[]),V=1),p.cellDates?(M.t="d",M.v=is(P,V)):(M.t="n",M.v=Ba(is(P,V))),p.cellText!==!1&&(M.w=Dl(M.z,M.v instanceof Date?Ba(M.v):M.v)),p.cellNF||delete M.z}else M.t="s",M.v=P;if(M.t=="z"||(p.dense?(w[E]||(w[E]=[]),w[E][T]=M):w[wn({c:T,r:E})]=M),k=F+1,N=d.charCodeAt(k),b.e.c<T&&(b.e.c=T),b.e.r<E&&(b.e.r=E),S==R)++T;else if(T=0,++E,p.sheetRows&&p.sheetRows<=E)return!0}e:for(;F<d.length;++F)switch(S=d.charCodeAt(F)){case 34:N===34&&(L=!L);break;case R:case 10:case 13:if(!L&&H())break e;break}return F-k>0&&H(),w["!ref"]=Rn(b),w}function i(d,h){return!(h&&h.PRN)||h.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?a(d,h):jm(e(d,h),h)}function o(d,h){var p="",g=h.type=="string"?[0,0,0,0]:h4(d,h);switch(h.type){case"base64":p=Ko(d);break;case"binary":p=d;break;case"buffer":h.codepage==65001?p=d.toString("utf8"):h.codepage&&typeof Hg<"u"||(p=Kn&&Buffer.isBuffer(d)?d.toString("binary"):of(d));break;case"array":p=ch(d);break;case"string":p=d;break;default:throw new Error("Unrecognized type "+h.type)}return g[0]==239&&g[1]==187&&g[2]==191?p=qr(p.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?p=qr(p):h.type=="binary"&&typeof Hg<"u",p.slice(0,19)=="socialcalc:version:"?NP.to_sheet(h.type=="string"?p:qr(p),h):i(p,h)}function l(d,h){return lf(o(d,h),h)}function A(d){for(var h=[],p=pr(d["!ref"]),g,w=Array.isArray(d),b=p.s.r;b<=p.e.r;++b){for(var E=[],T=p.s.c;T<=p.e.c;++T){var I=wn({r:b,c:T});if(g=w?(d[b]||[])[T]:d[I],!g||g.v==null){E.push("          ");continue}for(var k=(g.w||(wu(g),g.w)||"").slice(0,10);k.length<10;)k+=" ";E.push(k+(T===0?" ":""))}h.push(E.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:A}}();function fAe(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var s=TP.to_workbook(t,n);return n.WTF=r,s}catch(a){if(n.WTF=r,!a.message.match(/SYLK bad record ID/)&&r)throw a;return gm.to_workbook(t,e)}}var Jf=function(){function t(j,W,J){if(j){ti(j,j.l||0);for(var ne=J.Enum||X;j.l<j.length;){var ie=j.read_shift(2),de=ne[ie]||ne[65535],me=j.read_shift(2),xe=j.l+me,Se=de.f&&de.f(j,me,J);if(j.l=xe,W(Se,de,ie))return}}}function e(j,W){switch(W.type){case"base64":return n(Qo(Ko(j)),W);case"binary":return n(Qo(j),W);case"buffer":case"array":return n(j,W)}throw"Unsupported type "+W.type}function n(j,W){if(!j)return j;var J=W||{},ne=J.dense?[]:{},ie="Sheet1",de="",me=0,xe={},Se=[],ge=[],ae={s:{r:0,c:0},e:{r:0,c:0}},Fe=J.sheetRows||0;if(j[2]==0&&(j[3]==8||j[3]==9)&&j.length>=16&&j[14]==5&&j[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(j[2]==2)J.Enum=X,t(j,function(Ge,nt,it){switch(it){case 0:J.vers=Ge,Ge>=4096&&(J.qpro=!0);break;case 6:ae=Ge;break;case 204:Ge&&(de=Ge);break;case 222:de=Ge;break;case 15:case 51:J.qpro||(Ge[1].v=Ge[1].v.slice(1));case 13:case 14:case 16:it==14&&(Ge[2]&112)==112&&(Ge[2]&15)>1&&(Ge[2]&15)<15&&(Ge[1].z=J.dateNF||gn[14],J.cellDates&&(Ge[1].t="d",Ge[1].v=aw(Ge[1].v))),J.qpro&&Ge[3]>me&&(ne["!ref"]=Rn(ae),xe[ie]=ne,Se.push(ie),ne=J.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},me=Ge[3],ie=de||"Sheet"+(me+1),de="");var dt=J.dense?(ne[Ge[0].r]||[])[Ge[0].c]:ne[wn(Ge[0])];if(dt){dt.t=Ge[1].t,dt.v=Ge[1].v,Ge[1].z!=null&&(dt.z=Ge[1].z),Ge[1].f!=null&&(dt.f=Ge[1].f);break}J.dense?(ne[Ge[0].r]||(ne[Ge[0].r]=[]),ne[Ge[0].r][Ge[0].c]=Ge[1]):ne[wn(Ge[0])]=Ge[1];break}},J);else if(j[2]==26||j[2]==14)J.Enum=ue,j[2]==14&&(J.qpro=!0,j.l=0),t(j,function(Ge,nt,it){switch(it){case 204:ie=Ge;break;case 22:Ge[1].v=Ge[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ge[3]>me&&(ne["!ref"]=Rn(ae),xe[ie]=ne,Se.push(ie),ne=J.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},me=Ge[3],ie="Sheet"+(me+1)),Fe>0&&Ge[0].r>=Fe)break;J.dense?(ne[Ge[0].r]||(ne[Ge[0].r]=[]),ne[Ge[0].r][Ge[0].c]=Ge[1]):ne[wn(Ge[0])]=Ge[1],ae.e.c<Ge[0].c&&(ae.e.c=Ge[0].c),ae.e.r<Ge[0].r&&(ae.e.r=Ge[0].r);break;case 27:Ge[14e3]&&(ge[Ge[14e3][0]]=Ge[14e3][1]);break;case 1537:ge[Ge[0]]=Ge[1],Ge[0]==me&&(ie=Ge[1]);break}},J);else throw new Error("Unrecognized LOTUS BOF "+j[2]);if(ne["!ref"]=Rn(ae),xe[de||ie]=ne,Se.push(de||ie),!ge.length)return{SheetNames:Se,Sheets:xe};for(var et={},De=[],Ce=0;Ce<ge.length;++Ce)xe[Se[Ce]]?(De.push(ge[Ce]||Se[Ce]),et[ge[Ce]]=xe[ge[Ce]]||xe[Se[Ce]]):(De.push(ge[Ce]),et[ge[Ce]]={"!ref":"A1"});return{SheetNames:De,Sheets:et}}function r(j,W){var J=W||{};if(+J.codepage>=0&&hc(+J.codepage),J.type=="string")throw new Error("Cannot write WK1 to JS string");var ne=mo(),ie=pr(j["!ref"]),de=Array.isArray(j),me=[];Ut(ne,0,a(1030)),Ut(ne,6,l(ie));for(var xe=Math.min(ie.e.r,8191),Se=ie.s.r;Se<=xe;++Se)for(var ge=Zs(Se),ae=ie.s.c;ae<=ie.e.c;++ae){Se===ie.s.r&&(me[ae]=ys(ae));var Fe=me[ae]+ge,et=de?(j[Se]||[])[ae]:j[Fe];if(!(!et||et.t=="z"))if(et.t=="n")(et.v|0)==et.v&&et.v>=-32768&&et.v<=32767?Ut(ne,13,g(Se,ae,et.v)):Ut(ne,14,b(Se,ae,et.v));else{var De=wu(et);Ut(ne,15,h(Se,ae,De.slice(0,239)))}}return Ut(ne,1),ne.end()}function s(j,W){var J=W||{};if(+J.codepage>=0&&hc(+J.codepage),J.type=="string")throw new Error("Cannot write WK3 to JS string");var ne=mo();Ut(ne,0,i(j));for(var ie=0,de=0;ie<j.SheetNames.length;++ie)(j.Sheets[j.SheetNames[ie]]||{})["!ref"]&&Ut(ne,27,q(j.SheetNames[ie],de++));var me=0;for(ie=0;ie<j.SheetNames.length;++ie){var xe=j.Sheets[j.SheetNames[ie]];if(!(!xe||!xe["!ref"])){for(var Se=pr(xe["!ref"]),ge=Array.isArray(xe),ae=[],Fe=Math.min(Se.e.r,8191),et=Se.s.r;et<=Fe;++et)for(var De=Zs(et),Ce=Se.s.c;Ce<=Se.e.c;++Ce){et===Se.s.r&&(ae[Ce]=ys(Ce));var Ge=ae[Ce]+De,nt=ge?(xe[et]||[])[Ce]:xe[Ge];if(!(!nt||nt.t=="z"))if(nt.t=="n")Ut(ne,23,H(et,Ce,me,nt.v));else{var it=wu(nt);Ut(ne,22,S(et,Ce,me,it.slice(0,239)))}}++me}}return Ut(ne,1),ne.end()}function a(j){var W=lt(2);return W.write_shift(2,j),W}function i(j){var W=lt(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var J=0,ne=0,ie=0,de=0;de<j.SheetNames.length;++de){var me=j.SheetNames[de],xe=j.Sheets[me];if(!(!xe||!xe["!ref"])){++ie;var Se=xo(xe["!ref"]);J<Se.e.r&&(J=Se.e.r),ne<Se.e.c&&(ne=Se.e.c)}}return J>8191&&(J=8191),W.write_shift(2,J),W.write_shift(1,ie),W.write_shift(1,ne),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function o(j,W,J){var ne={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&J.qpro?(ne.s.c=j.read_shift(1),j.l++,ne.s.r=j.read_shift(2),ne.e.c=j.read_shift(1),j.l++,ne.e.r=j.read_shift(2),ne):(ne.s.c=j.read_shift(2),ne.s.r=j.read_shift(2),W==12&&J.qpro&&(j.l+=2),ne.e.c=j.read_shift(2),ne.e.r=j.read_shift(2),W==12&&J.qpro&&(j.l+=2),ne.s.c==65535&&(ne.s.c=ne.e.c=ne.s.r=ne.e.r=0),ne)}function l(j){var W=lt(8);return W.write_shift(2,j.s.c),W.write_shift(2,j.s.r),W.write_shift(2,j.e.c),W.write_shift(2,j.e.r),W}function A(j,W,J){var ne=[{c:0,r:0},{t:"n",v:0},0,0];return J.qpro&&J.vers!=20768?(ne[0].c=j.read_shift(1),ne[3]=j.read_shift(1),ne[0].r=j.read_shift(2),j.l+=2):(ne[2]=j.read_shift(1),ne[0].c=j.read_shift(2),ne[0].r=j.read_shift(2)),ne}function d(j,W,J){var ne=j.l+W,ie=A(j,W,J);if(ie[1].t="s",J.vers==20768){j.l++;var de=j.read_shift(1);return ie[1].v=j.read_shift(de,"utf8"),ie}return J.qpro&&j.l++,ie[1].v=j.read_shift(ne-j.l,"cstr"),ie}function h(j,W,J){var ne=lt(7+J.length);ne.write_shift(1,255),ne.write_shift(2,W),ne.write_shift(2,j),ne.write_shift(1,39);for(var ie=0;ie<ne.length;++ie){var de=J.charCodeAt(ie);ne.write_shift(1,de>=128?95:de)}return ne.write_shift(1,0),ne}function p(j,W,J){var ne=A(j,W,J);return ne[1].v=j.read_shift(2,"i"),ne}function g(j,W,J){var ne=lt(7);return ne.write_shift(1,255),ne.write_shift(2,W),ne.write_shift(2,j),ne.write_shift(2,J,"i"),ne}function w(j,W,J){var ne=A(j,W,J);return ne[1].v=j.read_shift(8,"f"),ne}function b(j,W,J){var ne=lt(13);return ne.write_shift(1,255),ne.write_shift(2,W),ne.write_shift(2,j),ne.write_shift(8,J,"f"),ne}function E(j,W,J){var ne=j.l+W,ie=A(j,W,J);if(ie[1].v=j.read_shift(8,"f"),J.qpro)j.l=ne;else{var de=j.read_shift(2);F(j.slice(j.l,j.l+de),ie),j.l+=de}return ie}function T(j,W,J){var ne=W&32768;return W&=-32769,W=(ne?j:0)+(W>=8192?W-16384:W),(ne?"":"$")+(J?ys(W):Zs(W))}var I={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function F(j,W){ti(j,0);for(var J=[],ne=0,ie="",de="",me="",xe="";j.l<j.length;){var Se=j[j.l++];switch(Se){case 0:J.push(j.read_shift(8,"f"));break;case 1:de=T(W[0].c,j.read_shift(2),!0),ie=T(W[0].r,j.read_shift(2),!1),J.push(de+ie);break;case 2:{var ge=T(W[0].c,j.read_shift(2),!0),ae=T(W[0].r,j.read_shift(2),!1);de=T(W[0].c,j.read_shift(2),!0),ie=T(W[0].r,j.read_shift(2),!1),J.push(ge+ae+":"+de+ie)}break;case 3:if(j.l<j.length){console.error("WK1 premature formula end");return}break;case 4:J.push("("+J.pop()+")");break;case 5:J.push(j.read_shift(2));break;case 6:{for(var Fe="";Se=j[j.l++];)Fe+=String.fromCharCode(Se);J.push('"'+Fe.replace(/"/g,'""')+'"')}break;case 8:J.push("-"+J.pop());break;case 23:J.push("+"+J.pop());break;case 22:J.push("NOT("+J.pop()+")");break;case 20:case 21:xe=J.pop(),me=J.pop(),J.push(["AND","OR"][Se-20]+"("+me+","+xe+")");break;default:if(Se<32&&k[Se])xe=J.pop(),me=J.pop(),J.push(me+k[Se]+xe);else if(I[Se]){if(ne=I[Se][1],ne==69&&(ne=j[j.l++]),ne>J.length){console.error("WK1 bad formula parse 0x"+Se.toString(16)+":|"+J.join("|")+"|");return}var et=J.slice(-ne);J.length-=ne,J.push(I[Se][0]+"("+et.join(",")+")")}else return Se<=7?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=24?console.error("WK1 unsupported op "+Se.toString(16)):Se<=30?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=115?console.error("WK1 unsupported function opcode "+Se.toString(16)):console.error("WK1 unrecognized opcode "+Se.toString(16))}}J.length==1?W[1].f=""+J[0]:console.error("WK1 bad formula parse |"+J.join("|")+"|")}function R(j){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=j.read_shift(2),W[3]=j[j.l++],W[0].c=j[j.l++],W}function L(j,W){var J=R(j);return J[1].t="s",J[1].v=j.read_shift(W-4,"cstr"),J}function S(j,W,J,ne){var ie=lt(6+ne.length);ie.write_shift(2,j),ie.write_shift(1,J),ie.write_shift(1,W),ie.write_shift(1,39);for(var de=0;de<ne.length;++de){var me=ne.charCodeAt(de);ie.write_shift(1,me>=128?95:me)}return ie.write_shift(1,0),ie}function N(j,W){var J=R(j);J[1].v=j.read_shift(2);var ne=J[1].v>>1;if(J[1].v&1)switch(ne&7){case 0:ne=(ne>>3)*5e3;break;case 1:ne=(ne>>3)*500;break;case 2:ne=(ne>>3)/20;break;case 3:ne=(ne>>3)/200;break;case 4:ne=(ne>>3)/2e3;break;case 5:ne=(ne>>3)/2e4;break;case 6:ne=(ne>>3)/16;break;case 7:ne=(ne>>3)/64;break}return J[1].v=ne,J}function B(j,W){var J=R(j),ne=j.read_shift(4),ie=j.read_shift(4),de=j.read_shift(2);if(de==65535)return ne===0&&ie===3221225472?(J[1].t="e",J[1].v=15):ne===0&&ie===3489660928?(J[1].t="e",J[1].v=42):J[1].v=0,J;var me=de&32768;return de=(de&32767)-16446,J[1].v=(1-me*2)*(ie*Math.pow(2,de+32)+ne*Math.pow(2,de)),J}function H(j,W,J,ne){var ie=lt(14);if(ie.write_shift(2,j),ie.write_shift(1,J),ie.write_shift(1,W),ne==0)return ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(2,65535),ie;var de=0,me=0,xe=0,Se=0;return ne<0&&(de=1,ne=-ne),me=Math.log2(ne)|0,ne/=Math.pow(2,me-31),Se=ne>>>0,(Se&2147483648)==0&&(ne/=2,++me,Se=ne>>>0),ne-=Se,Se|=2147483648,Se>>>=0,ne*=Math.pow(2,32),xe=ne>>>0,ie.write_shift(4,xe),ie.write_shift(4,Se),me+=16383+(de?32768:0),ie.write_shift(2,me),ie}function P(j,W){var J=B(j);return j.l+=W-14,J}function M(j,W){var J=R(j),ne=j.read_shift(4);return J[1].v=ne>>6,J}function V(j,W){var J=R(j),ne=j.read_shift(8,"f");return J[1].v=ne,J}function G(j,W){var J=V(j);return j.l+=W-10,J}function oe(j,W){return j[j.l+W-1]==0?j.read_shift(W,"cstr"):""}function K(j,W){var J=j[j.l++];J>W-1&&(J=W-1);for(var ne="";ne.length<J;)ne+=String.fromCharCode(j[j.l++]);return ne}function Z(j,W,J){if(!(!J.qpro||W<21)){var ne=j.read_shift(1);j.l+=17,j.l+=1,j.l+=2;var ie=j.read_shift(W-21,"cstr");return[ne,ie]}}function re(j,W){for(var J={},ne=j.l+W;j.l<ne;){var ie=j.read_shift(2);if(ie==14e3){for(J[ie]=[0,""],J[ie][0]=j.read_shift(2);j[j.l];)J[ie][1]+=String.fromCharCode(j[j.l]),j.l++;j.l++}}return J}function q(j,W){var J=lt(5+j.length);J.write_shift(2,14e3),J.write_shift(2,W);for(var ne=0;ne<j.length;++ne){var ie=j.charCodeAt(ne);J[J.l++]=ie>127?95:ie}return J[J.l++]=0,J}var X={0:{n:"BOF",f:da},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:oe},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},ue={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:L},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:V},40:{n:"FORMULA28",f:G},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:oe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:s,to_workbook:e}}();function hAe(t){var e={},n=t.match(Pi),r=0,s=!1;if(n)for(;r!=n.length;++r){var a=_n(n[r]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;e.cp=I5[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=a.val;break;case"<sz":e.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":a.rgb&&(e.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(a[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+a[0])}}return e}var mAe=function(){var t=zg("t"),e=zg("rPr");function n(a){var i=a.match(t);if(!i)return{t:"s",v:""};var o={t:"s",v:mr(i[1])},l=a.match(e);return l&&(o.s=hAe(l[1])),o}var r=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(i){return i.replace(r,"").split(s).map(n).filter(function(o){return o.v})}}(),pAe=function(){var e=/(\r\n|\n)/g;function n(s,a,i){var o=[];s.u&&o.push("text-decoration: underline;"),s.uval&&o.push("text-underline-style:"+s.uval+";"),s.sz&&o.push("font-size:"+s.sz+"pt;"),s.outline&&o.push("text-effect: outline;"),s.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),s.b&&(a.push("<b>"),i.push("</b>")),s.i&&(a.push("<i>"),i.push("</i>")),s.strike&&(a.push("<s>"),i.push("</s>"));var l=s.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(a.push("<"+l+">"),i.push("</"+l+">")),i.push("</span>"),s}function r(s){var a=[[],s.v,[]];return s.v?(s.s&&n(s.s,a[0],a[2]),a[0].join("")+a[1].replace(e,"<br/>")+a[2].join("")):""}return function(a){return a.map(r).join("")}}(),gAe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,xAe=/<(?:\w+:)?r>/,vAe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function t4(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=mr(qr(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=qr(t),n&&(r.h=Q5(r.t))):t.match(xAe)&&(r.r=qr(t),r.t=mr(qr((t.replace(vAe,"").match(gAe)||[]).join("").replace(Pi,""))),n&&(r.h=pAe(mAe(r.r)))),r):{t:""}}var yAe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,wAe=/<(?:\w+:)?(?:si|sstItem)>/g,bAe=/<\/(?:\w+:)?(?:si|sstItem)>/;function CAe(t,e){var n=[],r="";if(!t)return n;var s=t.match(yAe);if(s){r=s[2].replace(wAe,"").split(bAe);for(var a=0;a!=r.length;++a){var i=t4(r[a].trim(),e);i!=null&&(n[n.length]=i)}s=_n(s[1]),n.Count=s.count,n.Unique=s.uniqueCount}return n}var EAe=/^\s|\s$|[\t\n\r]/;function kP(t,e){if(!e.bookSST)return"";var n=[ea];n[n.length]=Dt("sst",null,{xmlns:_h[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var s=t[r],a="<si>";s.r?a+=s.r:(a+="<t",s.t||(s.t=""),s.t.match(EAe)&&(a+=' xml:space="preserve"'),a+=">"+Pr(s.t)+"</t>"),a+="</si>",n[n.length]=a}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function _Ae(t){return[t.read_shift(4),t.read_shift(4)]}function SAe(t,e){var n=[],r=!1;return Bu(t,function(a,i,o){switch(o){case 159:n.Count=a[0],n.Unique=a[1];break;case 19:n.push(a);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(i.T,!r||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function TAe(t,e){return e||(e=lt(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var BAe=Poe;function NAe(t){var e=mo();Et(e,159,TAe(t));for(var n=0;n<t.length;++n)Et(e,19,BAe(t[n]));return Et(e,160),e.end()}function IP(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function hu(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function kAe(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=hu(t,4),e.U=hu(t,4),e.W=hu(t,4),e}function IAe(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},s=t.read_shift(4),a=[];s-- >0;)a.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=a,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function FAe(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(IAe(t));return e}function RAe(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function DAe(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=hu(t,4),e.U=hu(t,4),e.W=hu(t,4),e}function UAe(t){var e=DAe(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function FP(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var s=!1;switch(r.AlgID){case 26126:case 26127:case 26128:s=r.Flags==36;break;case 26625:s=r.Flags==4;break;case 0:s=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function RP(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function LAe(t){var e=hu(t);switch(e.Minor){case 2:return[e.Minor,MAe(t)];case 3:return[e.Minor,PAe()];case 4:return[e.Minor,jAe(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function MAe(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=FP(t,n),s=RP(t,t.length-t.l);return{t:"Std",h:r,v:s}}function PAe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function jAe(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Pi,function(a){var i=_n(a);switch(bA(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){r[o]=i[o]});break;case"<dataIntegrity":r.encryptedHmacKey=i.encryptedHmacKey,r.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(i);break;default:throw i[0]}}),r}function OAe(t,e){var n={},r=n.EncryptionVersionInfo=hu(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var s=t.read_shift(4);return e-=4,n.EncryptionHeader=FP(t,s),e-=s,n.EncryptionVerifier=RP(t,e),n}function QAe(t){var e={},n=e.EncryptionVersionInfo=hu(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function n4(t){var e=0,n,r=IP(t),s=r.length+1,a,i,o,l,A;for(n=Xd(s),n[0]=r.length,a=1;a!=s;++a)n[a]=r[a-1];for(a=s-1;a>=0;--a)i=n[a],o=(e&16384)===0?0:1,l=e<<1&32767,A=o|l,e=A^i;return e^52811}var DP=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(i){return(i/2|i*128)&255},s=function(i,o){return r(i^o)},a=function(i){for(var o=e[i.length-1],l=104,A=i.length-1;A>=0;--A)for(var d=i[A],h=0;h!=7;++h)d&64&&(o^=n[l]),d*=2,--l;return o};return function(i){for(var o=IP(i),l=a(o),A=o.length,d=Xd(16),h=0;h!=16;++h)d[h]=0;var p,g,w;for((A&1)===1&&(p=l>>8,d[A]=s(t[0],p),--A,p=l&255,g=o[o.length-1],d[A]=s(g,p));A>0;)--A,p=l>>8,d[A]=s(o[A],p),--A,p=l&255,d[A]=s(o[A],p);for(A=15,w=15-o.length;w>0;)p=l>>8,d[A]=s(t[w],p),--A,--w,p=l&255,d[A]=s(o[A],p),--A,--w;return d}}(),HAe=function(t,e,n,r,s){s||(s=e),r||(r=DP(t));var a,i;for(a=0;a!=e.length;++a)i=e[a],i^=r[n],i=(i>>5|i<<3)&255,s[a]=i,++n;return[s,n,r]},VAe=function(t){var e=0,n=DP(t);return function(r){var s=HAe("",r,e,n);return e=s[1],s[0]}};function GAe(t,e,n,r){var s={key:da(t),verificationBytes:da(t)};return n.password&&(s.verifier=n4(n.password)),r.valid=s.verificationBytes===s.verifier,r.valid&&(r.insitu=VAe(n.password)),s}function zAe(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=QAe(t):r.Data=OAe(t,e),r}function KAe(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?zAe(t,e-2,r):GAe(t,n.biff>=8?e:e-2,n,r),r}var UP=function(){function t(s,a){switch(a.type){case"base64":return e(Ko(s),a);case"binary":return e(s,a);case"buffer":return e(Kn&&Buffer.isBuffer(s)?s.toString("binary"):of(s),a);case"array":return e(ch(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){var i=a||{},o=i.dense?[]:{},l=s.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var A={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,h){Array.isArray(o)&&(o[h]=[]);for(var p=/\\\w+\b/g,g=0,w,b=-1;w=p.exec(d);){switch(w[0]){case"\\cell":var E=d.slice(g,p.lastIndex-w[0].length);if(E[0]==" "&&(E=E.slice(1)),++b,E.length){var T={v:E,t:"s"};Array.isArray(o)?o[h][b]=T:o[wn({r:h,c:b})]=T}break}g=p.lastIndex}b>A.e.c&&(A.e.c=b)}),o["!ref"]=Rn(A),o}function n(s,a){return lf(t(s,a),a)}function r(s){for(var a=["{\\rtf1\\ansi"],i=pr(s["!ref"]),o,l=Array.isArray(s),A=i.s.r;A<=i.e.r;++A){a.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)a.push("\\cellx"+(d+1));for(a.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var h=wn({r:A,c:d});o=l?(s[A]||[])[d]:s[h],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(wu(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}}();function qAe(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function $g(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function WAe(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.max(e,n,r),a=Math.min(e,n,r),i=s-a;if(i===0)return[0,0,e];var o=0,l=0,A=s+a;switch(l=i/(A>1?2-A:A),s){case e:o=((n-r)/i+6)%6;break;case n:o=(r-e)/i+2;break;case r:o=(e-n)/i+4;break}return[o/6,l,A/2]}function $Ae(t){var e=t[0],n=t[1],r=t[2],s=n*2*(r<.5?r:1-r),a=r-s/2,i=[a,a,a],o=6*e,l;if(n!==0)switch(o|0){case 0:case 6:l=s*o,i[0]+=s,i[1]+=l;break;case 1:l=s*(2-o),i[0]+=l,i[1]+=s;break;case 2:l=s*(o-2),i[1]+=s,i[2]+=l;break;case 3:l=s*(4-o),i[1]+=l,i[2]+=s;break;case 4:l=s*(o-4),i[2]+=s,i[0]+=l;break;case 5:l=s*(6-o),i[2]+=l,i[0]+=s;break}for(var A=0;A!=3;++A)i[A]=Math.round(i[A]*255);return i}function Z2(t,e){if(e===0)return t;var n=WAe(qAe(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),$g($Ae(n))}var LP=6,YAe=15,JAe=1,ki=LP;function Yg(t){return Math.floor((t+Math.round(128/ki)/256)*ki)}function Jg(t){return Math.floor((t-5)/ki*100+.5)/100}function ey(t){return Math.round((t*ki+5)/ki*256)/256}function IC(t){return ey(Jg(Yg(t)))}function r4(t){var e=Math.abs(t-IC(t)),n=ki;if(e>.005)for(ki=JAe;ki<YAe;++ki)Math.abs(t-IC(t))<=e&&(e=Math.abs(t-IC(t)),n=ki);ki=n}function Zd(t){t.width?(t.wpx=Yg(t.width),t.wch=Jg(t.wpx),t.MDW=ki):t.wpx?(t.wch=Jg(t.wpx),t.width=ey(t.wch),t.MDW=ki):typeof t.wch=="number"&&(t.width=ey(t.wch),t.wpx=Yg(t.width),t.MDW=ki),t.customWidth&&delete t.customWidth}var XAe=96,MP=XAe;function Xg(t){return t*96/MP}function xm(t){return t*MP/96}var ZAe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function eue(t,e,n,r){e.Borders=[];var s={},a=!1;(t[0].match(Pi)||[]).forEach(function(i){var o=_n(i);switch(bA(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},o.diagonalUp&&(s.diagonalUp=rs(o.diagonalUp)),o.diagonalDown&&(s.diagonalDown=rs(o.diagonalDown)),e.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function tue(t,e,n,r){e.Fills=[];var s={},a=!1;(t[0].match(Pi)||[]).forEach(function(i){var o=_n(i);switch(bA(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},e.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":o.patternType&&(s.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),o.indexed&&(s.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(s.bgColor.theme=parseInt(o.theme,10)),o.tint&&(s.bgColor.tint=parseFloat(o.tint)),o.rgb&&(s.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),o.theme&&(s.fgColor.theme=parseInt(o.theme,10)),o.tint&&(s.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(s.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function nue(t,e,n,r){e.Fonts=[];var s={},a=!1;(t[0].match(Pi)||[]).forEach(function(i){var o=_n(i);switch(bA(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(s),s={};break;case"<name":o.val&&(s.name=qr(o.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=o.val?rs(o.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=o.val?rs(o.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(o.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=o.val?rs(o.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=o.val?rs(o.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=o.val?rs(o.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=o.val?rs(o.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=o.val?rs(o.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":o.val&&(s.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(s.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(s.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(s.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=I5[parseInt(o.val,10)];break;case"<color":if(s.color||(s.color={}),o.auto&&(s.color.auto=rs(o.auto)),o.rgb)s.color.rgb=o.rgb.slice(-6);else if(o.indexed){s.color.index=parseInt(o.indexed,10);var l=$f[s.color.index];s.color.index==81&&(l=$f[1]),l||(l=$f[1]),s.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(s.color.theme=parseInt(o.theme,10),o.tint&&(s.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(s.color.rgb=Z2(n.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function rue(t,e,n){e.NumberFmt=[];for(var r=Ls(gn),s=0;s<r.length;++s)e.NumberFmt[r[s]]=gn[r[s]];var a=t[0].match(Pi);if(a)for(s=0;s<a.length;++s){var i=_n(a[s]);switch(bA(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=mr(qr(i.formatCode)),l=parseInt(i.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}fu(o,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}function sue(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=Dt("numFmt",null,{numFmtId:r,formatCode:Pr(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Dt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var av=["numFmtId","fillId","fontId","borderId","xfId"],iv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function aue(t,e,n){e.CellXf=[];var r,s=!1;(t[0].match(Pi)||[]).forEach(function(a){var i=_n(a),o=0;switch(bA(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=i,delete r[0],o=0;o<av.length;++o)r[av[o]]&&(r[av[o]]=parseInt(r[av[o]],10));for(o=0;o<iv.length;++o)r[iv[o]]&&(r[iv[o]]=rs(r[iv[o]]));if(e.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};i.vertical&&(l.vertical=i.vertical),i.horizontal&&(l.horizontal=i.horizontal),i.textRotation!=null&&(l.textRotation=i.textRotation),i.indent&&(l.indent=i.indent),i.wrapText&&(l.wrapText=rs(i.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}function iue(t){var e=[];return e[e.length]=Dt("cellXfs",null),t.forEach(function(n){e[e.length]=Dt("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Dt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var oue=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,A){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=o.match(e))&&rue(h,d,A),(h=o.match(s))&&nue(h,d,l,A),(h=o.match(r))&&tue(h,d,l,A),(h=o.match(a))&&eue(h,d,l,A),(h=o.match(n))&&aue(h,d,A),d}}();function PP(t,e){var n=[ea,Dt("styleSheet",null,{xmlns:_h[0],"xmlns:vt":_a.vt})],r;return t.SSF&&(r=sue(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=iue(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function lue(t,e){var n=t.read_shift(2),r=Di(t);return[n,r]}function cue(t,e,n){n||(n=lt(6+4*e.length)),n.write_shift(2,t),Ha(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function Aue(t,e,n){var r={};r.sz=t.read_shift(2)/20;var s=zoe(t);s.fItalic&&(r.italic=1),s.fCondense&&(r.condense=1),s.fExtend&&(r.extend=1),s.fShadow&&(r.shadow=1),s.fOutline&&(r.outline=1),s.fStrikeout&&(r.strike=1);var a=t.read_shift(2);switch(a===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var i=t.read_shift(1);i!=0&&(r.underline=i);var o=t.read_shift(1);o>0&&(r.family=o);var l=t.read_shift(1);switch(l>0&&(r.charset=l),t.l++,r.color=Goe(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Di(t),r}function uue(t,e){e||(e=lt(153)),e.write_shift(2,t.sz*20),Koe(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Y2(t.color,e);var r=0;return r=2,e.write_shift(1,r),Ha(t.name,e),e.length>e.l?e.slice(0,e.l):e}var due=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],FC,fue=Li;function FF(t,e){e||(e=lt(84)),FC||(FC=rw(due));var n=FC[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(Y2({auto:1},e),Y2({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function hue(t,e){var n=t.l+e,r=t.read_shift(2),s=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:s}}function jP(t,e,n){n||(n=lt(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Fp(t,e){return e||(e=lt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var mue=Li;function pue(t,e){return e||(e=lt(51)),e.write_shift(1,0),Fp(null,e),Fp(null,e),Fp(null,e),Fp(null,e),Fp(null,e),e.length>e.l?e.slice(0,e.l):e}function gue(t,e){return e||(e=lt(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),$2(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function xue(t,e,n){var r=lt(2052);return r.write_shift(4,t),$2(e,r),$2(n,r),r.length>r.l?r.slice(0,r.l):r}function vue(t,e,n){var r={};r.NumberFmt=[];for(var s in gn)r.NumberFmt[s]=gn[s];r.CellXf=[],r.Fonts=[];var a=[],i=!1;return Bu(t,function(l,A,d){switch(d){case 44:r.NumberFmt[l[0]]=l[1],fu(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=Z2(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:a.push(d),i=!0;break;case 38:a.pop(),i=!1;break;default:if(A.T>0)a.push(d);else if(A.T<0)a.pop();else if(!i||n.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),r}function yue(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&++n}),n!=0&&(Et(t,615,gc(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&Et(t,44,cue(s,e[s]))}),Et(t,616))}}function wue(t){var e=1;Et(t,611,gc(e)),Et(t,43,uue({sz:12,color:{theme:1},name:"Calibri",family:2})),Et(t,612)}function bue(t){var e=2;Et(t,603,gc(e)),Et(t,45,FF({patternType:"none"})),Et(t,45,FF({patternType:"gray125"})),Et(t,604)}function Cue(t){var e=1;Et(t,613,gc(e)),Et(t,46,pue()),Et(t,614)}function Eue(t){var e=1;Et(t,626,gc(e)),Et(t,47,jP({numFmtId:0},65535)),Et(t,627)}function _ue(t,e){Et(t,617,gc(e.length)),e.forEach(function(n){Et(t,47,jP(n,0))}),Et(t,618)}function Sue(t){var e=1;Et(t,619,gc(e)),Et(t,48,gue({xfId:0,name:"Normal"})),Et(t,620)}function Tue(t){var e=0;Et(t,505,gc(e)),Et(t,506)}function Bue(t){var e=0;Et(t,508,xue(e,"TableStyleMedium9","PivotStyleMedium4")),Et(t,509)}function Nue(t,e){var n=mo();return Et(n,278),yue(n,t.SSF),wue(n),bue(n),Cue(n),Eue(n),_ue(n,e.cellXfs),Sue(n),Tue(n),Bue(n),Et(n,279),n.end()}var kue=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Iue(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Pi)||[]).forEach(function(s){var a=_n(s);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=a.val;break;case"<a:sysClr":r.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(e.themeElements.clrScheme[kue.indexOf(a[0])]=r,r={}):r.name=a[0].slice(3,a[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function Fue(){}function Rue(){}var Due=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Uue=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Lue=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Mue(t,e,n){e.themeElements={};var r;[["clrScheme",Due,Iue],["fontScheme",Uue,Fue],["fmtScheme",Lue,Rue]].forEach(function(s){if(!(r=t.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](r,e,n)})}var Pue=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function OP(t,e){(!t||t.length===0)&&(t=s4());var n,r={};if(!(n=t.match(Pue)))throw new Error("themeElements not found in theme");return Mue(n[0],r,e),r.raw=t,r}function s4(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[ea];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function jue(t,e,n){var r=t.l+e,s=t.read_shift(4);if(s!==124226){if(!n.cellStyles){t.l=r;return}var a=t.slice(t.l);t.l=r;var i;try{i=FM(a,{type:"array"})}catch{return}var o=Ho(i,"theme/theme/theme1.xml",!0);if(o)return OP(o,n)}}function Oue(t){return t.read_shift(4)}function Que(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=Hue(t,4);break;case 2:e.xclrValue=vP(t);break;case 3:e.xclrValue=Oue(t);break;case 4:t.l+=4;break}return t.l+=8,e}function Hue(t,e){return Li(t,e)}function Vue(t,e){return Li(t,e)}function Gue(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=Que(t);break;case 6:r[1]=Vue(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function zue(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var s=t.read_shift(2),a=[];s-- >0;)a.push(Gue(t,n-t.l));return{ixfe:r,ext:a}}function Kue(t,e){e.forEach(function(n){n[0]})}function que(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Di(t)}}function Wue(t){var e=lt(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Ha(t.name,e),e.slice(0,e.l)}function $ue(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function Yue(t){var e=lt(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function Jue(t,e){var n=lt(8+2*e.length);return n.write_shift(4,t),Ha(e,n),n.slice(0,n.l)}function Xue(t){return t.l+=4,t.read_shift(4)!=0}function Zue(t,e){var n=lt(8);return n.write_shift(4,t),n.write_shift(4,1),n}function ede(t,e,n){var r={Types:[],Cell:[],Value:[]},s=n||{},a=[],i=!1,o=2;return Bu(t,function(l,A,d){switch(d){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(h){o==1?r.Cell.push({type:r.Types[h[0]-1].name,index:h[1]}):o==0&&r.Value.push({type:r.Types[h[0]-1].name,index:h[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:a.push(d),i=!0;break;case 36:a.pop(),i=!1;break;default:if(!A.T){if(!i||s.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function tde(){var t=mo();return Et(t,332),Et(t,334,gc(1)),Et(t,335,Wue({name:"XLDAPR",version:12e4,flags:3496657072})),Et(t,336),Et(t,339,Jue(1,"XLDAPR")),Et(t,52),Et(t,35,gc(514)),Et(t,4096,gc(0)),Et(t,4097,Cl(1)),Et(t,36),Et(t,53),Et(t,340),Et(t,337,Zue(1)),Et(t,51,Yue([[1,0]])),Et(t,338),Et(t,333),t.end()}function nde(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var s=!1,a=2,i;return t.replace(Pi,function(o){var l=_n(o);switch(bA(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var A=0;A<r.Types.length;++A)r.Types[A].name==l.name&&(i=r.Types[A]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):a==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+l.i);break;default:if(!s&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),r}function QP(){var t=[ea];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function rde(t){var e=[];if(!t)return e;var n=1;return(t.match(Pi)||[]).forEach(function(r){var s=_n(r);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?n=s.i:s.i=n,e.push(s);break}}),e}function sde(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=wn(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function ade(t,e,n){var r=[];return Bu(t,function(a,i,o){switch(o){case 63:r.push(a);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function ide(t,e,n,r){if(!t)return t;var s=r||{},a=!1;Bu(t,function(o,l,A){switch(A){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!l.T){if(!a||s.WTF)throw new Error("Unexpected record 0x"+A.toString(16))}}},s)}function ode(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}var M0=1024;function HP(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),s=[Dt("xml",null,{"xmlns:v":jo.v,"xmlns:o":jo.o,"xmlns:x":jo.x,"xmlns:mv":jo.mv}).replace(/\/>/,">"),Dt("o:shapelayout",Dt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Dt("v:shapetype",[Dt("v:stroke",null,{joinstyle:"miter"}),Dt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];M0<t*1e3;)M0+=1e3;return e.forEach(function(a){var i=ws(a[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?Dt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,A=Dt("v:fill",l,o),d={on:"t",obscured:"t"};++M0,s=s.concat(["<v:shape"+Kg({id:"_x0000_s"+M0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",A,Dt("v:shadow",null,d),Dt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ri("x:Anchor",[i.c+1,0,i.r+1,0,i.c+3,20,i.r+5,20].join(",")),ri("x:AutoFill","False"),ri("x:Row",String(i.r)),ri("x:Column",String(i.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function RF(t,e,n,r){var s=Array.isArray(t),a;e.forEach(function(i){var o=ws(i.ref);if(s?(t[o.r]||(t[o.r]=[]),a=t[o.r][o.c]):a=t[i.ref],!a){a={t:"z"},s?t[o.r][o.c]=a:t[i.ref]=a;var l=pr(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var A=Rn(l);A!==t["!ref"]&&(t["!ref"]=A)}a.c||(a.c=[]);var d={a:i.author,t:i.t,r:i.r,T:n};i.h&&(d.h=i.h);for(var h=a.c.length-1;h>=0;--h){if(!n&&a.c[h].T)return;n&&!a.c[h].T&&a.c.splice(h,1)}if(n&&r){for(h=0;h<r.length;++h)if(d.a==r[h].id){d.a=r[h].name||d.a;break}}a.c.push(d)})}function lde(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],s=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&n.push(o[1])}});var a=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=_n(o[0]),A={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=ws(l.ref);if(!(e.sheetRows&&e.sheetRows<=d.r)){var h=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!h&&!!h[1]&&t4(h[1])||{r:"",t:"",h:""};A.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),A.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(A.h=p.h),r.push(A)}}}}),r}function VP(t){var e=[ea,Dt("comments",null,{xmlns:_h[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(s){var a=Pr(s.a);n.indexOf(a)==-1&&(n.push(a),e.push("<author>"+a+"</author>")),s.T&&s.ID&&n.indexOf("tc="+s.ID)==-1&&(n.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var s=0,a=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?s=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(s=n.indexOf(Pr(l.a))),a.push(l.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+s+'"><text>'),a.length<=1)e.push(ri("t",Pr(a[0]||"")));else{for(var i=`Comment:
    `+a[0]+`
`,o=1;o<a.length;++o)i+=`Reply:
    `+a[o]+`
`;e.push(ri("t",Pr(i)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function cde(t,e){var n=[],r=!1,s={},a=0;return t.replace(Pi,function(o,l){var A=_n(o);switch(bA(A[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:A.personId,guid:A.id,ref:A.ref,T:1};break;case"</threadedComment>":s.t!=null&&n.push(s);break;case"<text>":case"<text":a=l+o.length;break;case"</text>":s.t=t.slice(a,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+A[0]+" in threaded comments")}return o}),n}function Ade(t,e,n){var r=[ea,Dt("ThreadedComments",null,{xmlns:_a.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var a="";(s[1]||[]).forEach(function(i,o){if(!i.T){delete i.ID;return}i.a&&e.indexOf(i.a)==-1&&e.push(i.a);var l={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};o==0?a=l.id:l.parentId=a,i.ID=l.id,i.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(i.a)).slice(-12)+"}"),r.push(Dt("threadedComment",ri("text",i.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function ude(t,e){var n=[],r=!1;return t.replace(Pi,function(a){var i=_n(a);switch(bA(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return a}),n}function dde(t){var e=[ea,Dt("personList",null,{xmlns:_a.TCMNT,"xmlns:x":_h[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(Dt("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function fde(t){var e={};e.iauthor=t.read_shift(4);var n=Nh(t);return e.rfx=n.s,e.ref=wn(n.s),t.l+=16,e}function hde(t,e){return e==null&&(e=lt(36)),e.write_shift(4,t[1].iauthor),Om(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var mde=Di;function pde(t){return Ha(t.slice(0,54))}function gde(t,e){var n=[],r=[],s={},a=!1;return Bu(t,function(o,l,A){switch(A){case 632:r.push(o);break;case 635:s=o;break;case 637:s.t=o.t,s.h=o.h,s.r=o.r;break;case 636:if(s.author=r[s.iauthor],delete s.iauthor,e.sheetRows&&s.rfx&&e.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,n.push(s);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!a||e.WTF)throw new Error("Unexpected record 0x"+A.toString(16))}}}),n}function xde(t){var e=mo(),n=[];return Et(e,628),Et(e,630),t.forEach(function(r){r[1].forEach(function(s){n.indexOf(s.a)>-1||(n.push(s.a.slice(0,54)),Et(e,632,pde(s.a)))})}),Et(e,631),Et(e,633),t.forEach(function(r){r[1].forEach(function(s){s.iauthor=n.indexOf(s.a);var a={s:ws(r[0]),e:ws(r[0])};Et(e,635,hde([a,s])),s.t&&s.t.length>0&&Et(e,637,Ooe(s)),Et(e,636),delete s.iauthor})}),Et(e,634),Et(e,629),e.end()}var vde="application/vnd.ms-office.vbaProject";function yde(t){var e=ln.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var s=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");ln.utils.cfb_add(e,s,t.FileIndex[r].content)}}),ln.write(e)}function wde(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var s=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&ln.utils.cfb_add(t,s,e.FileIndex[r].content)}})}var GP=["xlsb","xlsm","xlam","biff8","xla"];function bde(){return{"!type":"dialog"}}function Cde(){return{"!type":"dialog"}}function Ede(){return{"!type":"macro"}}function _de(){return{"!type":"macro"}}var tm=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,s,a,i){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var A=a.length>0?parseInt(a,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return o?d+=e.c:--d,l?A+=e.r:--A,s+(o?"":"$")+ys(d)+(l?"":"$")+Zs(A)}return function(s,a){return e=a,s.replace(t,n)}}(),a4=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,i4=function(){return function(e,n){return e.replace(a4,function(r,s,a,i,o,l){var A=K5(i)-(a?0:n.c),d=z5(l)-(o?0:n.r),h=d==0?"":o?d+1:"["+d+"]",p=A==0?"":a?A+1:"["+A+"]";return s+"R"+h+"C"+p})}}();function zP(t,e){return t.replace(a4,function(n,r,s,a,i,o){return r+(s=="$"?s+a:ys(K5(a)+e.c))+(i=="$"?i+o:Zs(z5(o)+e.r))})}function Sde(t,e,n){var r=xo(e),s=r.s,a=ws(n),i={r:a.r-s.r,c:a.c-s.c};return zP(t,i)}function Tde(t){return t.length!=1}function DF(t){return t.replace(/_xlfn\./g,"")}function ca(t){t.l+=1}function ef(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function KP(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return qP(t);n.biff==12&&(r=4)}var s=t.read_shift(r),a=t.read_shift(r),i=ef(t),o=ef(t);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function qP(t){var e=ef(t),n=ef(t),r=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:s,cRel:n[1],rRel:n[2]}}}function Bde(t,e,n){if(n.biff<8)return qP(t);var r=t.read_shift(n.biff==12?4:2),s=t.read_shift(n.biff==12?4:2),a=ef(t),i=ef(t);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:i[0],cRel:i[1],rRel:i[2]}}}function WP(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return Nde(t);var r=t.read_shift(n&&n.biff==12?4:2),s=ef(t);return{r,c:s[0],cRel:s[1],rRel:s[2]}}function Nde(t){var e=ef(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function kde(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function Ide(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return Fde(t);var s=t.read_shift(r>=12?4:2),a=t.read_shift(2),i=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;s>524287;)s-=1048576;if(i==1)for(;a>8191;)a=a-16384;return{r:s,c:a,cRel:i,rRel:o}}function Fde(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),s==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:s,rRel:r}}function Rde(t,e,n){var r=(t[t.l++]&96)>>5,s=KP(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,s]}function Dde(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),a=8;if(n)switch(n.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var i=KP(t,a,n);return[r,s,i]}function Ude(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function Lde(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),a=8;if(n)switch(n.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[r,s]}function Mde(t,e,n){var r=(t[t.l++]&96)>>5,s=Bde(t,e-1,n);return[r,s]}function Pde(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function UF(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function jde(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),s=[],a=0;a<=r;++a)s.push(t.read_shift(n&&n.biff==2?1:2));return s}function Ode(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function Qde(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function Hde(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Vde(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function $P(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function Gde(t){return t.read_shift(2),$P(t)}function zde(t){return t.read_shift(2),$P(t)}function Kde(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=WP(t,0,n);return[r,s]}function qde(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=Ide(t,0,n);return[r,s]}function Wde(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var a=WP(t,0,n);return[r,s,a]}function $de(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(n&&n.biff<=3?1:2);return[Xfe[s],XP[s],r]}function Yde(t,e,n){var r=t[t.l++],s=t.read_shift(1),a=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:Jde(t);return[s,(a[0]===0?XP:Jfe)[a[1]]]}function Jde(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Xde(t,e,n){t.l+=n&&n.biff==2?3:4}function Zde(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function efe(t){return t.l++,Nu[t.read_shift(1)]}function tfe(t){return t.l++,t.read_shift(2)}function nfe(t){return t.l++,t.read_shift(1)!==0}function rfe(t){return t.l++,Fi(t)}function sfe(t,e,n){return t.l++,Bx(t,e-1,n)}function afe(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=zs(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Nu[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Fi(t);break;case 2:n[1]=kh(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function ife(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),s=[],a=0;a!=r;++a)s.push((n.biff==12?Nh:iw)(t));return s}function ofe(t,e,n){var r=0,s=0;n.biff==12?(r=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--s==0&&(s=256));for(var a=0,i=[];a!=r&&(i[a]=[]);++a)for(var o=0;o!=s;++o)i[a][o]=afe(t,n.biff);return i}function lfe(t,e,n){var r=t.read_shift(1)>>>5&3,s=!n||n.biff>=8?4:2,a=t.read_shift(s);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,a]}function cfe(t,e,n){if(n.biff==5)return Afe(t);var r=t.read_shift(1)>>>5&3,s=t.read_shift(2),a=t.read_shift(4);return[r,s,a]}function Afe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function ufe(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function dfe(t,e,n){var r=t.read_shift(1)>>>5&3,s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function ffe(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function hfe(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),a=4;if(n)switch(n.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[r,s]}var mfe=Li,pfe=Li,gfe=Li;function kx(t,e,n){return t.l+=2,[kde(t)]}function o4(t){return t.l+=6,[]}var xfe=kx,vfe=o4,yfe=o4,wfe=kx;function YP(t){return t.l+=2,[da(t),t.read_shift(2)&1]}var bfe=kx,Cfe=YP,Efe=o4,_fe=kx,Sfe=kx,Tfe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Bfe(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),s=t.read_shift(2),a=t.read_shift(2),i=Tfe[n>>2&31];return{ixti:e,coltype:n&3,rt:i,idx:r,c:s,C:a}}function Nfe(t){return t.l+=2,[t.read_shift(4)]}function kfe(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function Ife(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function Ffe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function Rfe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function Dfe(t){return t.l+=4,[0,0]}var LF={1:{n:"PtgExp",f:Zde},2:{n:"PtgTbl",f:gfe},3:{n:"PtgAdd",f:ca},4:{n:"PtgSub",f:ca},5:{n:"PtgMul",f:ca},6:{n:"PtgDiv",f:ca},7:{n:"PtgPower",f:ca},8:{n:"PtgConcat",f:ca},9:{n:"PtgLt",f:ca},10:{n:"PtgLe",f:ca},11:{n:"PtgEq",f:ca},12:{n:"PtgGe",f:ca},13:{n:"PtgGt",f:ca},14:{n:"PtgNe",f:ca},15:{n:"PtgIsect",f:ca},16:{n:"PtgUnion",f:ca},17:{n:"PtgRange",f:ca},18:{n:"PtgUplus",f:ca},19:{n:"PtgUminus",f:ca},20:{n:"PtgPercent",f:ca},21:{n:"PtgParen",f:ca},22:{n:"PtgMissArg",f:ca},23:{n:"PtgStr",f:sfe},26:{n:"PtgSheet",f:kfe},27:{n:"PtgEndSheet",f:Ife},28:{n:"PtgErr",f:efe},29:{n:"PtgBool",f:nfe},30:{n:"PtgInt",f:tfe},31:{n:"PtgNum",f:rfe},32:{n:"PtgArray",f:Pde},33:{n:"PtgFunc",f:$de},34:{n:"PtgFuncVar",f:Yde},35:{n:"PtgName",f:lfe},36:{n:"PtgRef",f:Kde},37:{n:"PtgArea",f:Rde},38:{n:"PtgMemArea",f:ufe},39:{n:"PtgMemErr",f:mfe},40:{n:"PtgMemNoMem",f:pfe},41:{n:"PtgMemFunc",f:dfe},42:{n:"PtgRefErr",f:ffe},43:{n:"PtgAreaErr",f:Ude},44:{n:"PtgRefN",f:qde},45:{n:"PtgAreaN",f:Mde},46:{n:"PtgMemAreaN",f:Ffe},47:{n:"PtgMemNoMemN",f:Rfe},57:{n:"PtgNameX",f:cfe},58:{n:"PtgRef3d",f:Wde},59:{n:"PtgArea3d",f:Dde},60:{n:"PtgRefErr3d",f:hfe},61:{n:"PtgAreaErr3d",f:Lde},255:{}},Ufe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Lfe={1:{n:"PtgElfLel",f:YP},2:{n:"PtgElfRw",f:_fe},3:{n:"PtgElfCol",f:xfe},6:{n:"PtgElfRwV",f:Sfe},7:{n:"PtgElfColV",f:wfe},10:{n:"PtgElfRadical",f:bfe},11:{n:"PtgElfRadicalS",f:Efe},13:{n:"PtgElfColS",f:vfe},15:{n:"PtgElfColSV",f:yfe},16:{n:"PtgElfRadicalLel",f:Cfe},25:{n:"PtgList",f:Bfe},29:{n:"PtgSxName",f:Nfe},255:{}},Mfe={0:{n:"PtgAttrNoop",f:Dfe},1:{n:"PtgAttrSemi",f:Vde},2:{n:"PtgAttrIf",f:Qde},4:{n:"PtgAttrChoose",f:jde},8:{n:"PtgAttrGoto",f:Ode},16:{n:"PtgAttrSum",f:Xde},32:{n:"PtgAttrBaxcel",f:UF},33:{n:"PtgAttrBaxcel",f:UF},64:{n:"PtgAttrSpace",f:Gde},65:{n:"PtgAttrSpaceSemi",f:zde},128:{n:"PtgAttrIfError",f:Hde},255:{}};function Ix(t,e,n,r){if(r.biff<8)return Li(t,e);for(var s=t.l+e,a=[],i=0;i!==n.length;++i)switch(n[i][0]){case"PtgArray":n[i][1]=ofe(t,0,r),a.push(n[i][1]);break;case"PtgMemArea":n[i][2]=ife(t,n[i][1],r),a.push(n[i][2]);break;case"PtgExp":r&&r.biff==12&&(n[i][1][1]=t.read_shift(4),a.push(n[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[i][0]}return e=s-t.l,e!==0&&a.push(Li(t,e)),a}function Fx(t,e,n){for(var r=t.l+e,s,a,i=[];r!=t.l;)e=r-t.l,a=t[t.l],s=LF[a]||LF[Ufe[a]],(a===24||a===25)&&(s=(a===24?Lfe:Mfe)[t[t.l+1]]),!s||!s.f?Li(t,e):i.push([s.n,s.f(t,e,n)]);return i}function Pfe(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],s=[],a=0;a<r.length;++a){var i=r[a];if(i)switch(i[0]){case 2:s.push('"'+i[1].replace(/"/g,'""')+'"');break;default:s.push(i[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var jfe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Ofe(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function JP(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var s="";if(n.biff>8)switch(t[r[0]][0]){case 357:return s=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return s=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[r[0]][0][3]?(s=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?s:s+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function MF(t,e,n){var r=JP(t,e,n);return r=="#REF"?r:Ofe(r,n)}function Ti(t,e,n,r,s){var a=s&&s.biff||8,i={s:{c:0,r:0}},o=[],l,A,d,h=0,p=0,g,w="";if(!t[0]||!t[0][0])return"";for(var b=-1,E="",T=0,I=t[0].length;T<I;++T){var k=t[0][T];switch(k[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),A=o.pop(),b>=0){switch(t[0][b][1][0]){case 0:E=Rs(" ",t[0][b][1][1]);break;case 1:E=Rs("\r",t[0][b][1][1]);break;default:if(E="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}A=A+E,b=-1}o.push(A+jfe[k[0]]+l);break;case"PtgIsect":l=o.pop(),A=o.pop(),o.push(A+" "+l);break;case"PtgUnion":l=o.pop(),A=o.pop(),o.push(A+","+l);break;case"PtgRange":l=o.pop(),A=o.pop(),o.push(A+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=vg(k[1][1],i,s),o.push(yg(d,a));break;case"PtgRefN":d=n?vg(k[1][1],n,s):k[1][1],o.push(yg(d,a));break;case"PtgRef3d":h=k[1][1],d=vg(k[1][2],i,s),w=MF(r,h,s),o.push(w+"!"+yg(d,a));break;case"PtgFunc":case"PtgFuncVar":var F=k[1][0],R=k[1][1];F||(F=0),F&=127;var L=F==0?[]:o.slice(-F);o.length-=F,R==="User"&&(R=L.shift()),o.push(R+"("+L.join(",")+")");break;case"PtgBool":o.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(k[1]);break;case"PtgNum":o.push(String(k[1]));break;case"PtgStr":o.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(k[1]);break;case"PtgAreaN":g=dF(k[1][1],n?{s:n}:i,s),o.push(BC(g,s));break;case"PtgArea":g=dF(k[1][1],i,s),o.push(BC(g,s));break;case"PtgArea3d":h=k[1][1],g=k[1][2],w=MF(r,h,s),o.push(w+"!"+BC(g,s));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=k[1][2];var S=(r.names||[])[p-1]||(r[0]||[])[p],N=S?S.Name:"SH33TJSNAME"+String(p);N&&N.slice(0,6)=="_xlfn."&&!s.xlfn&&(N=N.slice(6)),o.push(N);break;case"PtgNameX":var B=k[1][1];p=k[1][2];var H;if(s.biff<=5)B<0&&(B=-B),r[B]&&(H=r[B][p]);else{var P="";if(((r[B]||[])[0]||[])[0]==14849||(((r[B]||[])[0]||[])[0]==1025?r[B][p]&&r[B][p].itab>0&&(P=r.SheetNames[r[B][p].itab-1]+"!"):P=r.SheetNames[p-1]+"!"),r[B]&&r[B][p])P+=r[B][p].Name;else if(r[0]&&r[0][p])P+=r[0][p].Name;else{var M=(JP(r,B,s)||"").split(";;");M[p-1]?P=M[p-1]:P+="SH33TJSERRX"}o.push(P);break}H||(H={Name:"SH33TJSERRY"}),o.push(H.Name);break;case"PtgParen":var V="(",G=")";if(b>=0){switch(E="",t[0][b][1][0]){case 2:V=Rs(" ",t[0][b][1][1])+V;break;case 3:V=Rs("\r",t[0][b][1][1])+V;break;case 4:G=Rs(" ",t[0][b][1][1])+G;break;case 5:G=Rs("\r",t[0][b][1][1])+G;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}b=-1}o.push(V+o.pop()+G);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:k[1][1],r:k[1][0]};var oe={c:n.c,r:n.r};if(r.sharedf[wn(d)]){var K=r.sharedf[wn(d)];o.push(Ti(K,i,oe,r,s))}else{var Z=!1;for(l=0;l!=r.arrayf.length;++l)if(A=r.arrayf[l],!(d.c<A[0].s.c||d.c>A[0].e.c)&&!(d.r<A[0].s.r||d.r>A[0].e.r)){o.push(Ti(A[1],i,oe,r,s)),Z=!0;break}Z||o.push(k[1])}break;case"PtgArray":o.push("{"+Pfe(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=T;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&b>=0&&re.indexOf(t[0][T][0])==-1){k=t[0][b];var q=!0;switch(k[1][0]){case 4:q=!1;case 0:E=Rs(" ",k[1][1]);break;case 5:q=!1;case 1:E=Rs("\r",k[1][1]);break;default:if(E="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}o.push((q?E:"")+o.pop()+(q?"":E)),b=-1}}if(o.length>1&&s.WTF)throw new Error("bad formula stack");return o[0]}function Qfe(t,e,n){var r=t.l+e,s=n.biff==2?1:2,a,i=t.read_shift(s);if(i==65535)return[[],Li(t,e-2)];var o=Fx(t,i,n);return e!==i+s&&(a=Ix(t,e-i-s,o,n)),t.l=r,[o,a]}function Hfe(t,e,n){var r=t.l+e,s=n.biff==2?1:2,a,i=t.read_shift(s);if(i==65535)return[[],Li(t,e-2)];var o=Fx(t,i,n);return e!==i+s&&(a=Ix(t,e-i-s,o,n)),t.l=r,[o,a]}function Vfe(t,e,n,r){var s=t.l+e,a=Fx(t,r,n),i;return s!==t.l&&(i=Ix(t,s-t.l,a,n)),[a,i]}function Gfe(t,e,n){var r=t.l+e,s,a=t.read_shift(2),i=Fx(t,a,n);return a==65535?[[],Li(t,e-2)]:(e!==a+2&&(s=Ix(t,r-a-2,i,n)),[i,s])}function zfe(t){var e;if(cu(t,t.l+6)!==65535)return[Fi(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function Kfe(t){if(t==null){var e=lt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Ah(t);return Ah(0)}function RC(t,e,n){var r=t.l+e,s=CA(t);n.biff==2&&++t.l;var a=zfe(t),i=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var o=Hfe(t,r-t.l,n);return{cell:s,val:a[0],formula:o,shared:i>>3&1,tt:a[1]}}function qfe(t,e,n,r,s){var a=dh(e,n,s),i=Kfe(t.v),o=lt(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var A=lt(t.bf.length),d=0;d<t.bf.length;++d)A[d]=t.bf[d];var h=Qa([a,i,o,A]);return h}function ow(t,e,n){var r=t.read_shift(4),s=Fx(t,r,n),a=t.read_shift(4),i=a>0?Ix(t,a,s,n):null;return[s,i]}var Wfe=ow,lw=ow,$fe=ow,Yfe=ow,Jfe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},XP={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Xfe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function PF(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function Zfe(t){var e="of:="+t.replace(a4,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function DC(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function ehe(t){return t.replace(/\./,"!")}var bg={},nm={},Cg=typeof Map<"u";function l4(t,e,n){var r=0,s=t.length;if(n){if(Cg?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var a=Cg?n.get(e):n[e];r<a.length;++r)if(t[a[r]].t===e)return t.Count++,a[r]}}else for(;r<s;++r)if(t[r].t===e)return t.Count++,r;return t[s]={t:e},t.Count++,t.Unique++,n&&(Cg?(n.has(e)||n.set(e,[]),n.get(e).push(s)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(s))),s}function cw(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(ki=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=Jg(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=ey(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function Xf(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function cf(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],s=60,a=t.length;if(r==null&&n.ssf){for(;s<392;++s)if(n.ssf[s]==null){fu(e.z,s),n.ssf[s]=e.z,n.revssf[e.z]=r=s;break}}for(s=0;s!=a;++s)if(t[s].numFmtId===r)return s;return t[a]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function ZP(t,e,n,r,s,a){try{r.cellNF&&(t.z=gn[e])}catch(o){if(r.WTF)throw o}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=is(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(gn[e]==null&&fu(Jie[e]||"General",e),t.t==="e")t.w=t.w||Nu[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Gg(t.v);else if(t.t==="d"){var i=Ba(t.v);(i|0)===i?t.w=i.toString(10):t.w=Gg(i)}else{if(t.v===void 0)return"";t.w=lh(t.v,nm)}else t.t==="d"?t.w=Dl(e,Ba(t.v),nm):t.w=Dl(e,t.v,nm)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&n!=null)try{t.s=a.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Z2(s.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=s.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Z2(s.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=s.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&a.Fills)throw o}}}function the(t,e,n){if(t&&t["!ref"]){var r=pr(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function nhe(t,e){var n=pr(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=Rn(n))}var rhe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,she=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,ahe=/<(?:\w:)?hyperlink [^>]*>/mg,ihe=/"(\w*:\w*)"/,ohe=/<(?:\w:)?col\b[^>]*[\/]?>/g,lhe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,che=/<(?:\w:)?pageMargins[^>]*\/>/g,e7=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Ahe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,uhe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function dhe(t,e,n,r,s,a,i){if(!t)return t;r||(r={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},A="",d="",h=t.match(she);h?(A=t.slice(0,h.index),d=t.slice(h.index+h[0].length)):A=d=t;var p=A.match(e7);p?c4(p[0],o,s,n):(p=A.match(Ahe))&&hhe(p[0],p[1]||"",o,s,n);var g=(A.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(g>0){var w=A.slice(g,g+50).match(ihe);w&&nhe(o,w[1])}var b=A.match(uhe);b&&b[1]&&The(b[1],s);var E=[];if(e.cellStyles){var T=A.match(ohe);T&&bhe(E,T)}h&&khe(h[1],o,e,l,a,i);var I=d.match(lhe);I&&(o["!autofilter"]=Ehe(I[0]));var k=[],F=d.match(rhe);if(F)for(g=0;g!=F.length;++g)k[g]=pr(F[g].slice(F[g].indexOf('"')+1));var R=d.match(ahe);R&&vhe(o,R,r);var L=d.match(che);if(L&&(o["!margins"]=yhe(_n(L[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Rn(l)),e.sheetRows>0&&o["!ref"]){var S=pr(o["!ref"]);e.sheetRows<=+S.e.r&&(S.e.r=e.sheetRows-1,S.e.r>l.e.r&&(S.e.r=l.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>l.e.c&&(S.e.c=l.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Rn(S))}return E.length>0&&(o["!cols"]=E),k.length>0&&(o["!merges"]=k),o}function fhe(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+Rn(t[n])+'"/>';return e+"</mergeCells>"}function c4(t,e,n,r){var s=_n(t);n.Sheets[r]||(n.Sheets[r]={}),s.codeName&&(n.Sheets[r].CodeName=mr(qr(s.codeName)))}function hhe(t,e,n,r,s){c4(t.slice(0,t.indexOf(">")),n,r,s)}function mhe(t,e,n,r,s){var a=!1,i={},o=null;if(r.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[n];try{e.Workbook&&(l=e.Workbook.Sheets[n].CodeName||l)}catch{}a=!0,i.codeName=uA(Pr(l))}if(t&&t["!outline"]){var A={summaryBelow:1,summaryRight:1};t["!outline"].above&&(A.summaryBelow=0),t["!outline"].left&&(A.summaryRight=0),o=(o||"")+Dt("outlinePr",null,A)}!a&&!o||(s[s.length]=Dt("sheetPr",o,i))}var phe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],ghe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function xhe(t){var e={sheet:1};return phe.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),ghe.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=n4(t.password).toString(16).toUpperCase()),Dt("sheetProtection",null,e)}function vhe(t,e,n){for(var r=Array.isArray(t),s=0;s!=e.length;++s){var a=_n(qr(e[s]),!0);if(!a.ref)return;var i=((n||{})["!id"]||[])[a.id];i?(a.Target=i.Target,a.location&&(a.Target+="#"+mr(a.location))):(a.Target="#"+mr(a.location),i={Target:a.Target,TargetMode:"Internal"}),a.Rel=i,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=pr(a.ref),l=o.s.r;l<=o.e.r;++l)for(var A=o.s.c;A<=o.e.c;++A){var d=wn({c:A,r:l});r?(t[l]||(t[l]=[]),t[l][A]||(t[l][A]={t:"z",v:void 0}),t[l][A].l=a):(t[d]||(t[d]={t:"z",v:void 0}),t[d].l=a)}}}function yhe(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function whe(t){return Xf(t),Dt("pageMargins",null,t)}function bhe(t,e){for(var n=!1,r=0;r!=e.length;++r){var s=_n(e[r],!0);s.hidden&&(s.hidden=rs(s.hidden));var a=parseInt(s.min,10)-1,i=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!n&&s.width&&(n=!0,r4(s.width)),Zd(s);a<=i;)t[a++]=os(s)}}function Che(t,e){for(var n=["<cols>"],r,s=0;s!=e.length;++s)(r=e[s])&&(n[n.length]=Dt("col",null,cw(s,r)));return n[n.length]="</cols>",n.join("")}function Ehe(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function _he(t,e,n,r){var s=typeof t.ref=="string"?t.ref:Rn(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,i=xo(s);i.s.r==i.e.r&&(i.e.r=xo(e["!ref"]).e.r,s=Rn(i));for(var o=0;o<a.length;++o){var l=a[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+s;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),Dt("autoFilter",null,{ref:s})}var She=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function The(t,e){e.Views||(e.Views=[{}]),(t.match(She)||[]).forEach(function(n,r){var s=_n(n);e.Views[r]||(e.Views[r]={}),+s.zoomScale&&(e.Views[r].zoom=+s.zoomScale),rs(s.rightToLeft)&&(e.Views[r].RTL=!0)})}function Bhe(t,e,n,r){var s={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Dt("sheetViews",Dt("sheetView",null,s),{})}function Nhe(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",a=t.t,i=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=Nu[t.v];break;case"d":r&&r.cellDates?s=is(t.v,-1).toISOString():(t=os(t),t.t="n",s=""+(t.v=Ba(is(t.v)))),typeof t.z>"u"&&(t.z=gn[14]);break;default:s=t.v;break}var o=ri("v",Pr(s)),l={r:e},A=cf(r.cellXfs,t,r);switch(A!==0&&(l.s=A),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=ri("v",""+l4(r.Strings,t.v,r.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=a&&(t.t=a,t.v=i),typeof t.f=="string"&&t.f){var d=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=Dt("f",Pr(t.f),d)+(t.v!=null?o:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(l.cm=1),Dt("c",o,l)}var khe=function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,a=zg("v"),i=zg("f");return function(l,A,d,h,p,g){for(var w=0,b="",E=[],T=[],I=0,k=0,F=0,R="",L,S,N=0,B=0,H,P,M=0,V=0,G=Array.isArray(g.CellXf),oe,K=[],Z=[],re=Array.isArray(A),q=[],X={},ue=!1,j=!!d.sheetStubs,W=l.split(e),J=0,ne=W.length;J!=ne;++J){b=W[J].trim();var ie=b.length;if(ie!==0){var de=0;e:for(w=0;w<ie;++w)switch(b[w]){case">":if(b[w-1]!="/"){++w;break e}if(d&&d.cellStyles){if(S=_n(b.slice(de,w),!0),N=S.r!=null?parseInt(S.r,10):N+1,B=-1,d.sheetRows&&d.sheetRows<N)continue;X={},ue=!1,S.ht&&(ue=!0,X.hpt=parseFloat(S.ht),X.hpx=xm(X.hpt)),S.hidden=="1"&&(ue=!0,X.hidden=!0),S.outlineLevel!=null&&(ue=!0,X.level=+S.outlineLevel),ue&&(q[N-1]=X)}break;case"<":de=w;break}if(de>=w)break;if(S=_n(b.slice(de,w),!0),N=S.r!=null?parseInt(S.r,10):N+1,B=-1,!(d.sheetRows&&d.sheetRows<N)){h.s.r>N-1&&(h.s.r=N-1),h.e.r<N-1&&(h.e.r=N-1),d&&d.cellStyles&&(X={},ue=!1,S.ht&&(ue=!0,X.hpt=parseFloat(S.ht),X.hpx=xm(X.hpt)),S.hidden=="1"&&(ue=!0,X.hidden=!0),S.outlineLevel!=null&&(ue=!0,X.level=+S.outlineLevel),ue&&(q[N-1]=X)),E=b.slice(w).split(t);for(var me=0;me!=E.length&&E[me].trim().charAt(0)=="<";++me);for(E=E.slice(me),w=0;w!=E.length;++w)if(b=E[w].trim(),b.length!==0){if(T=b.match(n),I=w,k=0,F=0,b="<c "+(b.slice(0,1)=="<"?">":"")+b,T!=null&&T.length===2){for(I=0,R=T[1],k=0;k!=R.length&&!((F=R.charCodeAt(k)-64)<1||F>26);++k)I=26*I+F;--I,B=I}else++B;for(k=0;k!=b.length&&b.charCodeAt(k)!==62;++k);if(++k,S=_n(b.slice(0,k),!0),S.r||(S.r=wn({r:N-1,c:B})),R=b.slice(k),L={t:""},(T=R.match(a))!=null&&T[1]!==""&&(L.v=mr(T[1])),d.cellFormula){if((T=R.match(i))!=null&&T[1]!==""){if(L.f=mr(qr(T[1])).replace(/\r\n/g,`
`),d.xlfn||(L.f=DF(L.f)),T[0].indexOf('t="array"')>-1)L.F=(R.match(s)||[])[1],L.F.indexOf(":")>-1&&K.push([pr(L.F),L.F]);else if(T[0].indexOf('t="shared"')>-1){P=_n(T[0]);var xe=mr(qr(T[1]));d.xlfn||(xe=DF(xe)),Z[parseInt(P.si,10)]=[P,xe,S.r]}}else(T=R.match(/<f[^>]*\/>/))&&(P=_n(T[0]),Z[P.si]&&(L.f=Sde(Z[P.si][1],Z[P.si][2],S.r)));var Se=ws(S.r);for(k=0;k<K.length;++k)Se.r>=K[k][0].s.r&&Se.r<=K[k][0].e.r&&Se.c>=K[k][0].s.c&&Se.c<=K[k][0].e.c&&(L.F=K[k][1])}if(S.t==null&&L.v===void 0)if(L.f||L.F)L.v=0,L.t="n";else if(j)L.t="z";else continue;else L.t=S.t||"n";switch(h.s.c>B&&(h.s.c=B),h.e.c<B&&(h.e.c=B),L.t){case"n":if(L.v==""||L.v==null){if(!j)continue;L.t="z"}else L.v=parseFloat(L.v);break;case"s":if(typeof L.v>"u"){if(!j)continue;L.t="z"}else H=bg[parseInt(L.v,10)],L.v=H.t,L.r=H.r,d.cellHTML&&(L.h=H.h);break;case"str":L.t="s",L.v=L.v!=null?qr(L.v):"",d.cellHTML&&(L.h=Q5(L.v));break;case"inlineStr":T=R.match(r),L.t="s",T!=null&&(H=t4(T[1]))?(L.v=H.t,d.cellHTML&&(L.h=H.h)):L.v="";break;case"b":L.v=rs(L.v);break;case"d":d.cellDates?L.v=is(L.v,1):(L.v=Ba(is(L.v,1)),L.t="n");break;case"e":(!d||d.cellText!==!1)&&(L.w=L.v),L.v=nP[L.v];break}if(M=V=0,oe=null,G&&S.s!==void 0&&(oe=g.CellXf[S.s],oe!=null&&(oe.numFmtId!=null&&(M=oe.numFmtId),d.cellStyles&&oe.fillId!=null&&(V=oe.fillId))),ZP(L,M,V,d,p,g),d.cellDates&&G&&L.t=="n"&&Mm(gn[M])&&(L.t="d",L.v=aw(L.v)),S.cm&&d.xlmeta){var ge=(d.xlmeta.Cell||[])[+S.cm-1];ge&&ge.type=="XLDAPR"&&(L.D=!0)}if(re){var ae=ws(S.r);A[ae.r]||(A[ae.r]=[]),A[ae.r][ae.c]=L}else A[S.r]=L}}}}q.length>0&&(A["!rows"]=q)}}();function Ihe(t,e,n,r){var s=[],a=[],i=pr(t["!ref"]),o="",l,A="",d=[],h=0,p=0,g=t["!rows"],w=Array.isArray(t),b={r:A},E,T=-1;for(p=i.s.c;p<=i.e.c;++p)d[p]=ys(p);for(h=i.s.r;h<=i.e.r;++h){for(a=[],A=Zs(h),p=i.s.c;p<=i.e.c;++p){l=d[p]+A;var I=w?(t[h]||[])[p]:t[l];I!==void 0&&(o=Nhe(I,l,t,e))!=null&&a.push(o)}(a.length>0||g&&g[h])&&(b={r:A},g&&g[h]&&(E=g[h],E.hidden&&(b.hidden=1),T=-1,E.hpx?T=Xg(E.hpx):E.hpt&&(T=E.hpt),T>-1&&(b.ht=T,b.customHeight=1),E.level&&(b.outlineLevel=E.level)),s[s.length]=Dt("row",a.join(""),b))}if(g)for(;h<g.length;++h)g&&g[h]&&(b={r:h+1},E=g[h],E.hidden&&(b.hidden=1),T=-1,E.hpx?T=Xg(E.hpx):E.hpt&&(T=E.hpt),T>-1&&(b.ht=T,b.customHeight=1),E.level&&(b.outlineLevel=E.level),s[s.length]=Dt("row","",b));return s.join("")}function t7(t,e,n,r){var s=[ea,Dt("worksheet",null,{xmlns:_h[0],"xmlns:r":_a.r})],a=n.SheetNames[t],i=0,o="",l=n.Sheets[a];l==null&&(l={});var A=l["!ref"]||"A1",d=pr(A);if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+A+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),A=Rn(d)}r||(r={}),l["!comments"]=[];var h=[];mhe(l,n,t,e,s),s[s.length]=Dt("dimension",null,{ref:A}),s[s.length]=Bhe(l,e,t,n),e.sheetFormat&&(s[s.length]=Dt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(s[s.length]=Che(l,l["!cols"])),s[i=s.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=Ihe(l,e),o.length>0&&(s[s.length]=o)),s.length>i+1&&(s[s.length]="</sheetData>",s[i]=s[i].replace("/>",">")),l["!protect"]&&(s[s.length]=xhe(l["!protect"])),l["!autofilter"]!=null&&(s[s.length]=_he(l["!autofilter"],l,n,t)),l["!merges"]!=null&&l["!merges"].length>0&&(s[s.length]=fhe(l["!merges"]));var p=-1,g,w=-1;return l["!links"].length>0&&(s[s.length]="<hyperlinks>",l["!links"].forEach(function(b){b[1].Target&&(g={ref:b[0]},b[1].Target.charAt(0)!="#"&&(w=Lr(r,-1,Pr(b[1].Target).replace(/#.*$/,""),Jn.HLINK),g["r:id"]="rId"+w),(p=b[1].Target.indexOf("#"))>-1&&(g.location=Pr(b[1].Target.slice(p+1))),b[1].Tooltip&&(g.tooltip=Pr(b[1].Tooltip)),s[s.length]=Dt("hyperlink",null,g))}),s[s.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(s[s.length]=whe(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=ri("ignoredErrors",Dt("ignoredError",null,{numberStoredAsText:1,sqref:A}))),h.length>0&&(w=Lr(r,-1,"../drawings/drawing"+(t+1)+".xml",Jn.DRAW),s[s.length]=Dt("drawing",null,{"r:id":"rId"+w}),l["!drawing"]=h),l["!comments"].length>0&&(w=Lr(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Jn.VML),s[s.length]=Dt("legacyDrawing",null,{"r:id":"rId"+w}),l["!legacy"]=w),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function Fhe(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=r,a&7&&(n.level=a&7),a&16&&(n.hidden=!0),a&32&&(n.hpt=s/20),n}function Rhe(t,e,n){var r=lt(145),s=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var a=320;s.hpx?a=Xg(s.hpx)*20:s.hpt&&(a=s.hpt*20),r.write_shift(2,a),r.write_shift(1,0);var i=0;s.level&&(i|=s.level),s.hidden&&(i|=16),(s.hpx||s.hpt)&&(i|=32),r.write_shift(1,i),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var A={r:t,c:0},d=0;d<16;++d)if(!(e.s.c>d+1<<10||e.e.c<d<<10)){for(var h=-1,p=-1,g=d<<10;g<d+1<<10;++g){A.c=g;var w=Array.isArray(n)?(n[A.r]||[])[A.c]:n[wn(A)];w&&(h<0&&(h=g),p=g)}h<0||(++o,r.write_shift(4,h),r.write_shift(4,p))}var b=r.l;return r.l=l,r.write_shift(4,o),r.l=b,r.length>r.l?r.slice(0,r.l):r}function Dhe(t,e,n,r){var s=Rhe(r,n,e);(s.length>17||(e["!rows"]||[])[r])&&Et(t,0,s)}var Uhe=Nh,Lhe=Om;function Mhe(){}function Phe(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=Qoe(t),n}function jhe(t,e,n){n==null&&(n=lt(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var s=1;s<3;++s)n.write_shift(1,0);return Y2({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),JM(t,n),n.slice(0,n.l)}function Ohe(t){var e=Ul(t);return[e]}function Qhe(t,e,n){return n==null&&(n=lt(8)),Sh(e,n)}function Hhe(t){var e=Th(t);return[e]}function Vhe(t,e,n){return n==null&&(n=lt(4)),Bh(e,n)}function Ghe(t){var e=Ul(t),n=t.read_shift(1);return[e,n,"b"]}function zhe(t,e,n){return n==null&&(n=lt(9)),Sh(e,n),n.write_shift(1,t.v?1:0),n}function Khe(t){var e=Th(t),n=t.read_shift(1);return[e,n,"b"]}function qhe(t,e,n){return n==null&&(n=lt(5)),Bh(e,n),n.write_shift(1,t.v?1:0),n}function Whe(t){var e=Ul(t),n=t.read_shift(1);return[e,n,"e"]}function $he(t,e,n){return n==null&&(n=lt(9)),Sh(e,n),n.write_shift(1,t.v),n}function Yhe(t){var e=Th(t),n=t.read_shift(1);return[e,n,"e"]}function Jhe(t,e,n){return n==null&&(n=lt(8)),Bh(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function Xhe(t){var e=Ul(t),n=t.read_shift(4);return[e,n,"s"]}function Zhe(t,e,n){return n==null&&(n=lt(12)),Sh(e,n),n.write_shift(4,e.v),n}function e0e(t){var e=Th(t),n=t.read_shift(4);return[e,n,"s"]}function t0e(t,e,n){return n==null&&(n=lt(8)),Bh(e,n),n.write_shift(4,e.v),n}function n0e(t){var e=Ul(t),n=Fi(t);return[e,n,"n"]}function r0e(t,e,n){return n==null&&(n=lt(16)),Sh(e,n),Ah(t.v,n),n}function n7(t){var e=Th(t),n=Fi(t);return[e,n,"n"]}function s0e(t,e,n){return n==null&&(n=lt(12)),Bh(e,n),Ah(t.v,n),n}function a0e(t){var e=Ul(t),n=Y5(t);return[e,n,"n"]}function i0e(t,e,n){return n==null&&(n=lt(12)),Sh(e,n),XM(t.v,n),n}function o0e(t){var e=Th(t),n=Y5(t);return[e,n,"n"]}function l0e(t,e,n){return n==null&&(n=lt(8)),Bh(e,n),XM(t.v,n),n}function c0e(t){var e=Ul(t),n=q5(t);return[e,n,"is"]}function A0e(t){var e=Ul(t),n=Di(t);return[e,n,"str"]}function u0e(t,e,n){return n==null&&(n=lt(12+4*t.v.length)),Sh(e,n),Ha(t.v,n),n.length>n.l?n.slice(0,n.l):n}function d0e(t){var e=Th(t),n=Di(t);return[e,n,"str"]}function f0e(t,e,n){return n==null&&(n=lt(8+4*t.v.length)),Bh(e,n),Ha(t.v,n),n.length>n.l?n.slice(0,n.l):n}function h0e(t,e,n){var r=t.l+e,s=Ul(t);s.r=n["!row"];var a=t.read_shift(1),i=[s,a,"b"];if(n.cellFormula){t.l+=2;var o=lw(t,r-t.l,n);i[3]=Ti(o,null,s,n.supbooks,n)}else t.l=r;return i}function m0e(t,e,n){var r=t.l+e,s=Ul(t);s.r=n["!row"];var a=t.read_shift(1),i=[s,a,"e"];if(n.cellFormula){t.l+=2;var o=lw(t,r-t.l,n);i[3]=Ti(o,null,s,n.supbooks,n)}else t.l=r;return i}function p0e(t,e,n){var r=t.l+e,s=Ul(t);s.r=n["!row"];var a=Fi(t),i=[s,a,"n"];if(n.cellFormula){t.l+=2;var o=lw(t,r-t.l,n);i[3]=Ti(o,null,s,n.supbooks,n)}else t.l=r;return i}function g0e(t,e,n){var r=t.l+e,s=Ul(t);s.r=n["!row"];var a=Di(t),i=[s,a,"str"];if(n.cellFormula){t.l+=2;var o=lw(t,r-t.l,n);i[3]=Ti(o,null,s,n.supbooks,n)}else t.l=r;return i}var x0e=Nh,v0e=Om;function y0e(t,e){return e==null&&(e=lt(4)),e.write_shift(4,t),e}function w0e(t,e){var n=t.l+e,r=Nh(t),s=W5(t),a=Di(t),i=Di(t),o=Di(t);t.l=n;var l={rfx:r,relId:s,loc:a,display:o};return i&&(l.Tooltip=i),l}function b0e(t,e){var n=lt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Om({s:ws(t[0]),e:ws(t[0])},n),$5("rId"+e,n);var r=t[1].Target.indexOf("#"),s=r==-1?"":t[1].Target.slice(r+1);return Ha(s||"",n),Ha(t[1].Tooltip||"",n),Ha("",n),n.slice(0,n.l)}function C0e(){}function E0e(t,e,n){var r=t.l+e,s=ZM(t),a=t.read_shift(1),i=[s];if(i[2]=a,n.cellFormula){var o=Wfe(t,r-t.l,n);i[1]=o}else t.l=r;return i}function _0e(t,e,n){var r=t.l+e,s=Nh(t),a=[s];if(n.cellFormula){var i=Yfe(t,r-t.l,n);a[1]=i,t.l=r}else t.l=r;return a}function S0e(t,e,n){n==null&&(n=lt(18));var r=cw(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof r.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),n.write_shift(2,s),n}var r7=["left","right","top","bottom","header","footer"];function T0e(t){var e={};return r7.forEach(function(n){e[n]=Fi(t)}),e}function B0e(t,e){return e==null&&(e=lt(48)),Xf(t),r7.forEach(function(n){Ah(t[n],e)}),e}function N0e(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function k0e(t,e,n){n==null&&(n=lt(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function I0e(t){var e=lt(24);return e.write_shift(4,4),e.write_shift(4,1),Om(t,e),e}function F0e(t,e){return e==null&&(e=lt(66)),e.write_shift(2,t.password?n4(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function R0e(){}function D0e(){}function U0e(t,e,n,r,s,a,i){if(!t)return t;var o=e||{};r||(r={"!id":{}});var l=o.dense?[]:{},A,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,p=!1,g,w,b,E,T,I,k,F,R,L=[];o.biff=12,o["!row"]=0;var S=0,N=!1,B=[],H={},P=o.supbooks||s.supbooks||[[]];if(P.sharedf=H,P.arrayf=B,P.SheetNames=s.SheetNames||s.Sheets.map(function(re){return re.name}),!o.supbooks&&(o.supbooks=P,s.Names))for(var M=0;M<s.Names.length;++M)P[0][M+1]=s.Names[M];var V=[],G=[],oe=!1;Zg[16]={n:"BrtShortReal",f:n7};var K;if(Bu(t,function(q,X,ue){if(!p)switch(ue){case 148:A=q;break;case 0:g=q,o.sheetRows&&o.sheetRows<=g.r&&(p=!0),F=Zs(E=g.r),o["!row"]=g.r,(q.hidden||q.hpt||q.level!=null)&&(q.hpt&&(q.hpx=xm(q.hpt)),G[q.r]=q);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(w={t:q[2]},q[2]){case"n":w.v=q[1];break;case"s":k=bg[q[1]],w.v=k.t,w.r=k.r;break;case"b":w.v=!!q[1];break;case"e":w.v=q[1],o.cellText!==!1&&(w.w=Nu[w.v]);break;case"str":w.t="s",w.v=q[1];break;case"is":w.t="s",w.v=q[1].t;break}if((b=i.CellXf[q[0].iStyleRef])&&ZP(w,b.numFmtId,null,o,a,i),T=q[0].c==-1?T+1:q[0].c,o.dense?(l[E]||(l[E]=[]),l[E][T]=w):l[ys(T)+F]=w,o.cellFormula){for(N=!1,S=0;S<B.length;++S){var j=B[S];g.r>=j[0].s.r&&g.r<=j[0].e.r&&T>=j[0].s.c&&T<=j[0].e.c&&(w.F=Rn(j[0]),N=!0)}!N&&q.length>3&&(w.f=q[3])}if(d.s.r>g.r&&(d.s.r=g.r),d.s.c>T&&(d.s.c=T),d.e.r<g.r&&(d.e.r=g.r),d.e.c<T&&(d.e.c=T),o.cellDates&&b&&w.t=="n"&&Mm(gn[b.numFmtId])){var W=Hf(w.v);W&&(w.t="d",w.v=new Date(W.y,W.m-1,W.d,W.H,W.M,W.S,W.u))}K&&(K.type=="XLDAPR"&&(w.D=!0),K=void 0);break;case 1:case 12:if(!o.sheetStubs||h)break;w={t:"z",v:void 0},T=q[0].c==-1?T+1:q[0].c,o.dense?(l[E]||(l[E]=[]),l[E][T]=w):l[ys(T)+F]=w,d.s.r>g.r&&(d.s.r=g.r),d.s.c>T&&(d.s.c=T),d.e.r<g.r&&(d.e.r=g.r),d.e.c<T&&(d.e.c=T),K&&(K.type=="XLDAPR"&&(w.D=!0),K=void 0);break;case 176:L.push(q);break;case 49:K=((o.xlmeta||{}).Cell||[])[q-1];break;case 494:var J=r["!id"][q.relId];for(J?(q.Target=J.Target,q.loc&&(q.Target+="#"+q.loc),q.Rel=J):q.relId==""&&(q.Target="#"+q.loc),E=q.rfx.s.r;E<=q.rfx.e.r;++E)for(T=q.rfx.s.c;T<=q.rfx.e.c;++T)o.dense?(l[E]||(l[E]=[]),l[E][T]||(l[E][T]={t:"z",v:void 0}),l[E][T].l=q):(I=wn({c:T,r:E}),l[I]||(l[I]={t:"z",v:void 0}),l[I].l=q);break;case 426:if(!o.cellFormula)break;B.push(q),R=o.dense?l[E][T]:l[ys(T)+F],R.f=Ti(q[1],d,{r:g.r,c:T},P,o),R.F=Rn(q[0]);break;case 427:if(!o.cellFormula)break;H[wn(q[0].s)]=q[1],R=o.dense?l[E][T]:l[ys(T)+F],R.f=Ti(q[1],d,{r:g.r,c:T},P,o);break;case 60:if(!o.cellStyles)break;for(;q.e>=q.s;)V[q.e--]={width:q.w/256,hidden:!!(q.flags&1),level:q.level},oe||(oe=!0,r4(q.w/256)),Zd(V[q.e+1]);break;case 161:l["!autofilter"]={ref:Rn(q)};break;case 476:l["!margins"]=q;break;case 147:s.Sheets[n]||(s.Sheets[n]={}),q.name&&(s.Sheets[n].CodeName=q.name),(q.above||q.left)&&(l["!outline"]={above:q.above,left:q.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),q.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!X.T){if(!h||o.WTF)throw new Error("Unexpected record 0x"+ue.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(d.s.r<2e6||A&&(A.e.r>0||A.e.c>0||A.s.r>0||A.s.c>0))&&(l["!ref"]=Rn(A||d)),o.sheetRows&&l["!ref"]){var Z=pr(l["!ref"]);o.sheetRows<=+Z.e.r&&(Z.e.r=o.sheetRows-1,Z.e.r>d.e.r&&(Z.e.r=d.e.r),Z.e.r<Z.s.r&&(Z.s.r=Z.e.r),Z.e.c>d.e.c&&(Z.e.c=d.e.c),Z.e.c<Z.s.c&&(Z.s.c=Z.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Rn(Z))}return L.length>0&&(l["!merges"]=L),V.length>0&&(l["!cols"]=V),G.length>0&&(l["!rows"]=G),l}function L0e(t,e,n,r,s,a,i){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=os(e),e.z=e.z||gn[14],e.v=Ba(is(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r:n,c:r};switch(l.s=cf(s.cellXfs,e,s),e.l&&a["!links"].push([wn(l),e.l]),e.c&&a["!comments"].push([wn(l),e.c]),e.t){case"s":case"str":return s.bookSST?(o=l4(s.Strings,e.v,s.revStrings),l.t="s",l.v=o,i?Et(t,18,t0e(e,l)):Et(t,7,Zhe(e,l))):(l.t="str",i?Et(t,17,f0e(e,l)):Et(t,6,u0e(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?i?Et(t,13,l0e(e,l)):Et(t,2,i0e(e,l)):i?Et(t,16,s0e(e,l)):Et(t,5,r0e(e,l)),!0;case"b":return l.t="b",i?Et(t,15,qhe(e,l)):Et(t,4,zhe(e,l)),!0;case"e":return l.t="e",i?Et(t,14,Jhe(e,l)):Et(t,3,$he(e,l)),!0}return i?Et(t,12,Vhe(e,l)):Et(t,1,Qhe(e,l)),!0}function M0e(t,e,n,r){var s=pr(e["!ref"]||"A1"),a,i="",o=[];Et(t,145);var l=Array.isArray(e),A=s.e.r;e["!rows"]&&(A=Math.max(s.e.r,e["!rows"].length-1));for(var d=s.s.r;d<=A;++d){i=Zs(d),Dhe(t,e,s,d);var h=!1;if(d<=s.e.r)for(var p=s.s.c;p<=s.e.c;++p){d===s.s.r&&(o[p]=ys(p)),a=o[p]+i;var g=l?(e[d]||[])[p]:e[a];if(!g){h=!1;continue}h=L0e(t,g,d,p,r,e,h)}}Et(t,146)}function P0e(t,e){!e||!e["!merges"]||(Et(t,177,y0e(e["!merges"].length)),e["!merges"].forEach(function(n){Et(t,176,v0e(n))}),Et(t,178))}function j0e(t,e){!e||!e["!cols"]||(Et(t,390),e["!cols"].forEach(function(n,r){n&&Et(t,60,S0e(r,n))}),Et(t,391))}function O0e(t,e){!e||!e["!ref"]||(Et(t,648),Et(t,649,I0e(pr(e["!ref"]))),Et(t,650))}function Q0e(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var s=Lr(n,-1,r[1].Target.replace(/#.*$/,""),Jn.HLINK);Et(t,494,b0e(r,s))}}),delete e["!links"]}function H0e(t,e,n,r){if(e["!comments"].length>0){var s=Lr(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Jn.VML);Et(t,551,$5("rId"+s)),e["!legacy"]=s}}function V0e(t,e,n,r){if(e["!autofilter"]){var s=e["!autofilter"],a=typeof s.ref=="string"?s.ref:Rn(s.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var i=n.Workbook.Names,o=xo(a);o.s.r==o.e.r&&(o.e.r=xo(e["!ref"]).e.r,a=Rn(o));for(var l=0;l<i.length;++l){var A=i[l];if(A.Name=="_xlnm._FilterDatabase"&&A.Sheet==r){A.Ref="'"+n.SheetNames[r]+"'!"+a;break}}l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),Et(t,161,Om(pr(a))),Et(t,162)}}function G0e(t,e,n){Et(t,133),Et(t,137,k0e(e,n)),Et(t,138),Et(t,134)}function z0e(t,e){e["!protect"]&&Et(t,535,F0e(e["!protect"]))}function K0e(t,e,n,r){var s=mo(),a=n.SheetNames[t],i=n.Sheets[a]||{},o=a;try{n&&n.Workbook&&(o=n.Workbook.Sheets[t].CodeName||o)}catch{}var l=pr(i["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],Et(s,129),(n.vbaraw||i["!outline"])&&Et(s,147,jhe(o,i["!outline"])),Et(s,148,Lhe(l)),G0e(s,i,n.Workbook),j0e(s,i),M0e(s,i,t,e),z0e(s,i),V0e(s,i,n,t),P0e(s,i),Q0e(s,i,r),i["!margins"]&&Et(s,476,B0e(i["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&O0e(s,i),H0e(s,i,t,r),Et(s,130),s.end()}function q0e(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var i=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(e[+i[1]]=n?+i[2]:i[2])});var s=mr((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){r=a.replace(/<.*?>/g,"")}),[e,s,r]}function W0e(t,e,n,r,s,a){var i=a||{"!type":"chart"};if(!t)return a;var o=0,l=0,A="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var p=q0e(h);d.s.r=d.s.c=0,d.e.c=o,A=ys(o),p[0].forEach(function(g,w){i[A+Zs(w)]={t:"n",v:g,z:p[1]},l=w}),d.e.r<l&&(d.e.r=l),++o}),o>0&&(i["!ref"]=Rn(d)),i}function $0e(t,e,n,r,s){if(!t)return t;r||(r={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},i,o=t.match(e7);return o&&c4(o[0],a,s,n),(i=t.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=i[1]),r["!id"][a["!rel"]]&&(a["!drawel"]=r["!id"][a["!rel"]]),a}function Y0e(t,e){t.l+=10;var n=Di(t);return{name:n}}function J0e(t,e,n,r,s){if(!t)return t;r||(r={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},i=!1;return Bu(t,function(l,A,d){switch(d){case 550:a["!rel"]=l;break;case 651:s.Sheets[n]||(s.Sheets[n]={}),l.name&&(s.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(A.T>0)){if(!(A.T<0)){if(!i||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},e),r["!id"][a["!rel"]]&&(a["!drawel"]=r["!id"][a["!rel"]]),a}var A4=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],X0e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Z0e=[],eme=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function jF(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],s=0;s!=e.length;++s){var a=e[s];if(r[a[0]]==null)r[a[0]]=a[1];else switch(a[2]){case"bool":typeof r[a[0]]=="string"&&(r[a[0]]=rs(r[a[0]]));break;case"int":typeof r[a[0]]=="string"&&(r[a[0]]=parseInt(r[a[0]],10));break}}}function OF(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=rs(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function s7(t){OF(t.WBProps,A4),OF(t.CalcPr,eme),jF(t.WBView,X0e),jF(t.Sheets,Z0e),nm.date1904=rs(t.WBProps.date1904)}function tme(t){return!t.Workbook||!t.Workbook.WBProps?"false":rs(t.Workbook.WBProps.date1904)?"true":"false"}var nme="][*?/\\".split("");function a7(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return nme.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function rme(t,e,n){t.forEach(function(r,s){a7(r);for(var a=0;a<s;++a)if(r==t[a])throw new Error("Duplicate Sheet Name: "+r);if(n){var i=e&&e[s]&&e[s].CodeName||r;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function sme(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];rme(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)the(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}var ame=/<\w+:workbook/;function ime(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,s="xmlns",a={},i=0;if(t.replace(Pi,function(l,A){var d=_n(l);switch(bA(d[0])){case"<?xml":break;case"<workbook":l.match(ame)&&(s="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=d[s];break;case"</workbook>":break;case"<fileVersion":delete d[0],n.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":A4.forEach(function(h){if(d[h[0]]!=null)switch(h[2]){case"bool":n.WBProps[h[0]]=rs(d[h[0]]);break;case"int":n.WBProps[h[0]]=parseInt(d[h[0]],10);break;default:n.WBProps[h[0]]=d[h[0]]}}),d.codeName&&(n.WBProps.CodeName=qr(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],n.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=mr(qr(d.name)),delete d[0],n.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":a={},a.Name=qr(d.name),d.comment&&(a.Comment=d.comment),d.localSheetId&&(a.Sheet=+d.localSheetId),rs(d.hidden||"0")&&(a.Hidden=!0),i=A+l.length;break;case"</definedName>":a.Ref=mr(qr(t.slice(i,A))),n.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete d[0],n.CalcPr=d;break;case"<calcPr/>":delete d[0],n.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),_h.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return s7(n),n}function i7(t){var e=[ea];e[e.length]=Dt("workbook",null,{xmlns:_h[0],"xmlns:r":_a.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(A4.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Dt("workbookPr",null,r);var s=t.Workbook&&t.Workbook.Sheets||[],a=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!s[a]||!s[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var i={name:Pr(t.SheetNames[a].slice(0,31))};if(i.sheetId=""+(a+1),i["r:id"]="rId"+(a+1),s[a])switch(s[a].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}e[e.length]=Dt("sheet",null,i)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=Dt("definedName",Pr(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function ome(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=k_(t),n.name=Di(t),n}function lme(t,e){return e||(e=lt(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),$5(t.strRelID,e),Ha(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function cme(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var s=e>8?Di(t):"";return s.length>0&&(n.CodeName=s),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function Ame(t,e){e||(e=lt(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),JM(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function ume(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function dme(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),a=Hoe(t),i=$fe(t,0,n),o=W5(t);t.l=r;var l={Name:a,Ptg:i};return s<268435455&&(l.Sheet=s),o&&(l.Comment=o),l}function fme(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],s=!1;e||(e={}),e.biff=12;var a=[],i=[[]];return i.SheetNames=[],i.XTI=[],Zg[16]={n:"BrtFRTArchID$",f:ume},Bu(t,function(l,A,d){switch(d){case 156:i.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=Ti(l.Ptg,null,null,i,e),delete e.SID,delete l.Ptg,a.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([d,l]):i[0]=[d,l],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(l),i.XTI=i.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(d),s=!0;break;case 36:r.pop(),s=!1;break;case 37:r.push(d),s=!0;break;case 38:r.pop(),s=!1;break;case 16:break;default:if(!A.T){if(!s||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},e),s7(n),n.Names=a,n.supbooks=i,n}function hme(t,e){Et(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,s={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};Et(t,156,lme(s))}Et(t,144)}function mme(t,e){e||(e=lt(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Ha("SheetJS",e),Ha(V2.version,e),Ha(V2.version,e),Ha("7262",e),e.length>e.l?e.slice(0,e.l):e}function pme(t,e){e||(e=lt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function gme(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,s=-1,a=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&s==-1?s=r:n[r].Hidden==1&&a==-1&&(a=r);a>s||(Et(t,135),Et(t,158,pme(s)),Et(t,136))}}function xme(t,e){var n=mo();return Et(n,131),Et(n,128,mme()),Et(n,153,Ame(t.Workbook&&t.Workbook.WBProps||null)),gme(n,t),hme(n,t),Et(n,132),n.end()}function vme(t,e,n){return e.slice(-4)===".bin"?fme(t,n):ime(t,n)}function yme(t,e,n,r,s,a,i,o){return e.slice(-4)===".bin"?U0e(t,r,n,s,a,i,o):dhe(t,r,n,s,a,i,o)}function wme(t,e,n,r,s,a,i,o){return e.slice(-4)===".bin"?J0e(t,r,n,s,a):$0e(t,r,n,s,a)}function bme(t,e,n,r,s,a,i,o){return e.slice(-4)===".bin"?Ede():_de()}function Cme(t,e,n,r,s,a,i,o){return e.slice(-4)===".bin"?bde():Cde()}function Eme(t,e,n,r){return e.slice(-4)===".bin"?vue(t,n,r):oue(t,n,r)}function _me(t,e,n){return OP(t,n)}function Sme(t,e,n){return e.slice(-4)===".bin"?SAe(t,n):CAe(t,n)}function Tme(t,e,n){return e.slice(-4)===".bin"?gde(t,n):lde(t,n)}function Bme(t,e,n){return e.slice(-4)===".bin"?ade(t):rde(t)}function Nme(t,e,n,r){return n.slice(-4)===".bin"?ide(t,e,n,r):void 0}function kme(t,e,n){return e.slice(-4)===".bin"?ede(t,e,n):nde(t,e,n)}function Ime(t,e,n){return(e.slice(-4)===".bin"?xme:i7)(t)}function Fme(t,e,n,r,s){return(e.slice(-4)===".bin"?K0e:t7)(t,n,r,s)}function Rme(t,e,n){return(e.slice(-4)===".bin"?Nue:PP)(t,n)}function Dme(t,e,n){return(e.slice(-4)===".bin"?NAe:kP)(t,n)}function Ume(t,e,n){return(e.slice(-4)===".bin"?xde:VP)(t)}function Lme(t){return(t.slice(-4)===".bin"?tde:QP)()}var o7=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,l7=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function oc(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var s=t.match(o7),a,i,o,l;if(s)for(l=0;l!=s.length;++l)a=s[l].match(l7),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),r[o]=a[2].slice(1,a[2].length-1));return r}function Mme(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(o7),s,a,i,o;if(r)for(o=0;o!=r.length;++o)s=r[o].match(l7),(a=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?i="xmlns"+s[1].slice(6):i=s[1].slice(a+1),n[i]=s[2].slice(1,s[2].length-1));return n}var Eg;function Pme(t,e){var n=Eg[t]||mr(t);return n==="General"?lh(e):Dl(n,e)}function jme(t,e,n,r){var s=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=rs(r);break;case"i2":case"int":s=parseInt(r,10);break;case"r4":case"float":s=parseFloat(r);break;case"date":case"dateTime.tz":s=is(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[mr(e)]=s}function Ome(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||Nu[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Gg(t.v):t.w=lh(t.v):t.w=Pme(e||"General",t.v)}catch(a){if(n.WTF)throw a}try{var r=Eg[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&Mm(r)){var s=Hf(t.v);s&&(t.t="d",t.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(a){if(n.WTF)throw a}}}function Qme(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=ZAe[r.Pattern]||r.Pattern)}t[e.ID]=e}function Hme(t,e,n,r,s,a,i,o,l,A){var d="General",h=r.StyleID,p={};A=A||{};var g=[],w=0;for(h===void 0&&o&&(h=o.StyleID),h===void 0&&i&&(h=i.StyleID);a[h]!==void 0&&(a[h].nf&&(d=a[h].nf),a[h].Interior&&g.push(a[h].Interior),!!a[h].Parent);)h=a[h].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=rs(t);break;case"String":r.t="s",r.r=rF(mr(t)),r.v=t.indexOf("<")>-1?mr(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(is(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=mr(t):r.v<60&&(r.v=r.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=nP[t],A.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=rF(e||t));break}if(Ome(r,d,A),A.cellFormula!==!1)if(r.Formula){var b=mr(r.Formula);b.charCodeAt(0)==61&&(b=b.slice(1)),r.f=tm(b,s),delete r.Formula,r.ArrayRange=="RC"?r.F=tm("RC:RC",s):r.ArrayRange&&(r.F=tm(r.ArrayRange,s),l.push([pr(r.F),r.F]))}else for(w=0;w<l.length;++w)s.r>=l[w][0].s.r&&s.r<=l[w][0].e.r&&s.c>=l[w][0].s.c&&s.c<=l[w][0].e.c&&(r.F=l[w][1]);A.cellStyles&&(g.forEach(function(E){!p.patternType&&E.patternType&&(p.patternType=E.patternType)}),r.s=p),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function Vme(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function UC(t,e){var n=e||{};Pm();var r=Yp(H5(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=qr(r));var s=r.slice(0,1024).toLowerCase(),a=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var i=os(n);return i.type="string",gm.to_workbook(r,i)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(nt){s.indexOf("<"+nt)>=0&&(a=!0)}),a)return Bpe(r,n);Eg={"General Number":"General","General Date":gn[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":gn[15],"Short Date":gn[14],"Long Time":gn[19],"Medium Time":gn[18],"Short Time":gn[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:gn[2],Standard:gn[4],Percent:gn[10],Scientific:gn[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],A,d={},h=[],p=n.dense?[]:{},g="",w={},b={},E=oc('<Data ss:Type="String">'),T=0,I=0,k=0,F={s:{r:2e6,c:2e6},e:{r:0,c:0}},R={},L={},S="",N=0,B=[],H={},P={},M=0,V=[],G=[],oe={},K=[],Z,re=!1,q=[],X=[],ue={},j=0,W=0,J={Sheets:[],WBProps:{date1904:!1}},ne={};qg.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var ie="";o=qg.exec(r);)switch(o[3]=(ie=o[3]).toLowerCase()){case"data":if(ie=="data"){if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?Hme(r.slice(T,o.index),S,E,l[l.length-1][0]=="comment"?oe:w,{c:I,r:k},R,K[I],b,q,n):(S="",E=oc(o[0]),T=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(G.length>0&&(w.c=G),(!n.sheetRows||n.sheetRows>k)&&w.v!==void 0&&(n.dense?(p[k]||(p[k]=[]),p[k][I]=w):p[ys(I)+Zs(k)]=w),w.HRef&&(w.l={Target:mr(w.HRef)},w.HRefScreenTip&&(w.l.Tooltip=w.HRefScreenTip),delete w.HRef,delete w.HRefScreenTip),(w.MergeAcross||w.MergeDown)&&(j=I+(parseInt(w.MergeAcross,10)|0),W=k+(parseInt(w.MergeDown,10)|0),B.push({s:{c:I,r:k},e:{c:j,r:W}})),!n.sheetStubs)w.MergeAcross?I=j+1:++I;else if(w.MergeAcross||w.MergeDown){for(var de=I;de<=j;++de)for(var me=k;me<=W;++me)(de>I||me>k)&&(n.dense?(p[me]||(p[me]=[]),p[me][de]={t:"z"}):p[ys(de)+Zs(me)]={t:"z"});I=j+1}else++I;else w=Mme(o[0]),w.Index&&(I=+w.Index-1),I<F.s.c&&(F.s.c=I),I>F.e.c&&(F.e.c=I),o[0].slice(-2)==="/>"&&++I,G=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(k<F.s.r&&(F.s.r=k),k>F.e.r&&(F.e.r=k),o[0].slice(-2)==="/>"&&(b=oc(o[0]),b.Index&&(k=+b.Index-1)),I=0,++k):(b=oc(o[0]),b.Index&&(k=+b.Index-1),ue={},(b.AutoFitHeight=="0"||b.Height)&&(ue.hpx=parseInt(b.Height,10),ue.hpt=Xg(ue.hpx),X[k]=ue),b.Hidden=="1"&&(ue.hidden=!0,X[k]=ue));break;case"worksheet":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"));h.push(g),F.s.r<=F.e.r&&F.s.c<=F.e.c&&(p["!ref"]=Rn(F),n.sheetRows&&n.sheetRows<=F.e.r&&(p["!fullref"]=p["!ref"],F.e.r=n.sheetRows-1,p["!ref"]=Rn(F))),B.length&&(p["!merges"]=B),K.length>0&&(p["!cols"]=K),X.length>0&&(p["!rows"]=X),d[g]=p}else F={s:{r:2e6,c:2e6},e:{r:0,c:0}},k=I=0,l.push([o[3],!1]),A=oc(o[0]),g=mr(A.Name),p=n.dense?[]:{},B=[],q=[],X=[],ne={name:g,Hidden:0},J.Sheets.push(ne);break;case"table":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),K=[],re=!1}break;case"style":o[1]==="/"?Qme(R,L,n):L=oc(o[0]);break;case"numberformat":L.nf=mr(oc(o[0]).Format||"General"),Eg[L.nf]&&(L.nf=Eg[L.nf]);for(var xe=0;xe!=392&&gn[xe]!=L.nf;++xe);if(xe==392){for(xe=57;xe!=392;++xe)if(gn[xe]==null){fu(L.nf,xe);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(Z=oc(o[0]),Z.Hidden&&(Z.hidden=!0,delete Z.Hidden),Z.Width&&(Z.wpx=parseInt(Z.Width,10)),!re&&Z.wpx>10){re=!0,ki=LP;for(var Se=0;Se<K.length;++Se)K[Se]&&Zd(K[Se])}re&&Zd(Z),K[Z.Index-1||K.length]=Z;for(var ge=0;ge<+Z.Span;++ge)K[K.length]=os(Z);break;case"namedrange":if(o[1]==="/")break;J.Names||(J.Names=[]);var ae=_n(o[0]),Fe={Name:ae.Name,Ref:tm(ae.RefersTo.slice(1),{r:0,c:0})};J.Sheets.length>0&&(Fe.Sheet=J.Sheets.length-1),J.Names.push(Fe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?S+=r.slice(N,o.index):N=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;L.Interior=oc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?fle(H,ie,r.slice(M,o.index)):M=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"));Vme(oe),G.push(oe)}else l.push([o[3],!1]),A=oc(o[0]),oe={a:A.Author};break;case"autofilter":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var et=oc(o[0]);p["!autofilter"]={ref:tm(et.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return zF(r,n);var De=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:De=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:De=!1}break;case"excelworkbook":switch(o[3]){case"date1904":J.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:De=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:De=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(M,o.index)){case"SheetHidden":ne.Hidden=1;break;case"SheetVeryHidden":ne.Hidden=2;break}else M=o.index+o[0].length;break;case"header":p["!margins"]||Xf(p["!margins"]={},"xlml"),isNaN(+_n(o[0]).Margin)||(p["!margins"].header=+_n(o[0]).Margin);break;case"footer":p["!margins"]||Xf(p["!margins"]={},"xlml"),isNaN(+_n(o[0]).Margin)||(p["!margins"].footer=+_n(o[0]).Margin);break;case"pagemargins":var Ce=_n(o[0]);p["!margins"]||Xf(p["!margins"]={},"xlml"),isNaN(+Ce.Top)||(p["!margins"].top=+Ce.Top),isNaN(+Ce.Left)||(p["!margins"].left=+Ce.Left),isNaN(+Ce.Right)||(p["!margins"].right=+Ce.Right),isNaN(+Ce.Bottom)||(p["!margins"].bottom=+Ce.Bottom);break;case"displayrighttoleft":J.Views||(J.Views=[]),J.Views[0]||(J.Views[0]={}),J.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:De=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:De=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:De=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:De=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:De=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:De=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:De=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:De=!1}break;case"smarttags":break;default:De=!1;break}if(De||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?jme(P,ie,V,r.slice(M,o.index)):(V=o,M=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Ge={};return!n.bookSheets&&!n.bookProps&&(Ge.Sheets=d),Ge.SheetNames=h,Ge.Workbook=J,Ge.SSF=os(gn),Ge.Props=H,Ge.Custprops=P,Ge}function M_(t,e){switch(d4(e=e||{}),e.type||"base64"){case"base64":return UC(Ko(t),e);case"binary":case"buffer":case"file":return UC(t,e);case"array":return UC(of(t),e)}}function Gme(t,e){var n=[];return t.Props&&n.push(hle(t.Props,e)),t.Custprops&&n.push(mle(t.Props,t.Custprops)),n.join("")}function zme(){return""}function Kme(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,s){var a=[];a.push(Dt("NumberFormat",null,{"ss:Format":Pr(gn[r.numFmtId])}));var i={"ss:ID":"s"+(21+s)};n.push(Dt("Style",a.join(""),i))}),Dt("Styles",n.join(""))}function c7(t){return Dt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+i4(t.Ref,{r:0,c:0})})}function qme(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var s=e[r];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||n.push(c7(s)))}return Dt("Names",n.join(""))}function Wme(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var s=r.Workbook.Names,a=[],i=0;i<s.length;++i){var o=s[i];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||a.push(c7(o)))}return a.join("")}function $me(t,e,n,r){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(Dt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(Dt("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(Dt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)s.push(Dt("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<n&&!(r.Workbook.Sheets[a]&&!r.Workbook.Sheets[a].Hidden);++a);a==n&&s.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(ri("ProtectContents","True")),t["!protect"].objects&&s.push(ri("ProtectObjects","True")),t["!protect"].scenarios&&s.push(ri("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push(ri("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push(ri("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){t["!protect"][i[0]]&&s.push("<"+i[1]+"/>")})),s.length==0?"":Dt("WorksheetOptions",s.join(""),{xmlns:jo.x})}function Yme(t){return t.map(function(e){var n=goe(e.t||""),r=Dt("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Dt("Comment",r,{"ss:Author":e.a})}).join("")}function Jme(t,e,n,r,s,a,i){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Pr(i4(t.f,i))),t.F&&t.F.slice(0,e.length)==e){var l=ws(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==i.r?"":"["+(l.r-i.r)+"]")+"C"+(l.c==i.c?"":"["+(l.c-i.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Pr(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Pr(t.l.Tooltip))),n["!merges"])for(var A=n["!merges"],d=0;d!=A.length;++d)A[d].s.c!=i.c||A[d].s.r!=i.r||(A[d].e.c>A[d].s.c&&(o["ss:MergeAcross"]=A[d].e.c-A[d].s.c),A[d].e.r>A[d].s.r&&(o["ss:MergeDown"]=A[d].e.r-A[d].s.r));var h="",p="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":h="Number",p=String(t.v);break;case"b":h="Boolean",p=t.v?"1":"0";break;case"e":h="Error",p=Nu[t.v];break;case"d":h="DateTime",p=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||gn[14]);break;case"s":h="String",p=poe(t.v||"");break}var g=cf(r.cellXfs,t,r);o["ss:StyleID"]="s"+(21+g),o["ss:Index"]=i.c+1;var w=t.v!=null?p:"",b=t.t=="z"?"":'<Data ss:Type="'+h+'">'+w+"</Data>";return(t.c||[]).length>0&&(b+=Yme(t.c)),Dt("Cell",b,o)}function Xme(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=xm(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function Zme(t,e,n,r){if(!t["!ref"])return"";var s=pr(t["!ref"]),a=t["!merges"]||[],i=0,o=[];t["!cols"]&&t["!cols"].forEach(function(E,T){Zd(E);var I=!!E.width,k=cw(T,E),F={"ss:Index":T+1};I&&(F["ss:Width"]=Yg(k.width)),E.hidden&&(F["ss:Hidden"]="1"),o.push(Dt("Column",null,F))});for(var l=Array.isArray(t),A=s.s.r;A<=s.e.r;++A){for(var d=[Xme(A,(t["!rows"]||[])[A])],h=s.s.c;h<=s.e.c;++h){var p=!1;for(i=0;i!=a.length;++i)if(!(a[i].s.c>h)&&!(a[i].s.r>A)&&!(a[i].e.c<h)&&!(a[i].e.r<A)){(a[i].s.c!=h||a[i].s.r!=A)&&(p=!0);break}if(!p){var g={r:A,c:h},w=wn(g),b=l?(t[A]||[])[h]:t[w];d.push(Jme(b,w,t,e,n,r,g))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function epe(t,e,n){var r=[],s=n.SheetNames[t],a=n.Sheets[s],i=a?Wme(a,e,t,n):"";return i.length>0&&r.push("<Names>"+i+"</Names>"),i=a?Zme(a,e,t,n):"",i.length>0&&r.push("<Table>"+i+"</Table>"),r.push($me(a,e,t,n)),r.join("")}function tpe(t,e){e||(e={}),t.SSF||(t.SSF=os(gn)),t.SSF&&(Pm(),nw(t.SSF),e.revssf=sw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],cf(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(Gme(t,e)),n.push(zme()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(Dt("Worksheet",epe(r,e,t),{"ss:Name":Pr(t.SheetNames[r])}));return n[2]=Kme(t,e),n[3]=qme(t),ea+Dt("Workbook",n.join(""),{xmlns:jo.ss,"xmlns:o":jo.o,"xmlns:x":jo.x,"xmlns:ss":jo.ss,"xmlns:dt":jo.dt,"xmlns:html":jo.html})}function npe(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=qoe(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=Woe(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var rpe=[60,1084,2066,2165,2175];function spe(t,e,n,r,s){var a=r,i=[],o=n.slice(n.l,n.l+a);if(s&&s.enc&&s.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(o)}i.push(o),n.l+=a;for(var l=cu(n,n.l),A=P_[l],d=0;A!=null&&rpe.indexOf(l)>-1;)a=cu(n,n.l+2),d=n.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),o=n.slice(d,n.l+4+a),i.push(o),n.l+=4+a,A=P_[l=cu(n,n.l)];var h=Qa(i);ti(h,0);var p=0;h.lens=[];for(var g=0;g<i.length;++g)h.lens.push(p),p+=i[g].length;if(h.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+h.length+" < "+r;return e.f(h,h.length,s)}function rA(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=gn[r])}catch(a){if(e.WTF)throw a}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Nu[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Gg(t.v):t.w=lh(t.v):t.w=Dl(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(a){if(e.WTF)throw a}if(e.cellDates&&r&&t.t=="n"&&Mm(gn[r]||String(r))){var s=Hf(t.v);s&&(t.t="d",t.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function ov(t,e,n){return{v:t,ixfe:e,t:n}}function ape(t,e){var n={opts:{}},r={},s=e.dense?[]:{},a={},i={},o=null,l=[],A="",d={},h,p="",g,w,b,E,T={},I=[],k,F,R=[],L=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},B=function(It){return It<8?$f[It]:It<64&&L[It-8]||$f[It]},H=function(It,xt,xn){var $t=xt.XF.data;if(!(!$t||!$t.patternType||!xn||!xn.cellStyles)){xt.s={},xt.s.patternType=$t.patternType;var ir;(ir=$g(B($t.icvFore)))&&(xt.s.fgColor={rgb:ir}),(ir=$g(B($t.icvBack)))&&(xt.s.bgColor={rgb:ir})}},P=function(It,xt,xn){if(!(ue>1)&&!(xn.sheetRows&&It.r>=xn.sheetRows)){if(xn.cellStyles&&xt.XF&&xt.XF.data&&H(It,xt,xn),delete xt.ixfe,delete xt.XF,h=It,p=wn(It),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),It.r<i.s.r&&(i.s.r=It.r),It.c<i.s.c&&(i.s.c=It.c),It.r+1>i.e.r&&(i.e.r=It.r+1),It.c+1>i.e.c&&(i.e.c=It.c+1),xn.cellFormula&&xt.f){for(var $t=0;$t<I.length;++$t)if(!(I[$t][0].s.c>It.c||I[$t][0].s.r>It.r)&&!(I[$t][0].e.c<It.c||I[$t][0].e.r<It.r)){xt.F=Rn(I[$t][0]),(I[$t][0].s.c!=It.c||I[$t][0].s.r!=It.r)&&delete xt.f,xt.f&&(xt.f=""+Ti(I[$t][1],i,It,q,M));break}}xn.dense?(s[It.r]||(s[It.r]=[]),s[It.r][It.c]=xt):s[p]=xt}},M={enc:!1,sbcch:0,snames:[],sharedf:T,arrayf:I,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(M.password=e.password);var V,G=[],oe=[],K=[],Z=[],re=!1,q=[];q.SheetNames=M.snames,q.sharedf=M.sharedf,q.arrayf=M.arrayf,q.names=[],q.XTI=[];var X=0,ue=0,j=0,W=[],J=[],ne;M.codepage=1200,hc(1200);for(var ie=!1;t.l<t.length-1;){var de=t.l,me=t.read_shift(2);if(me===0&&X===10)break;var xe=t.l===t.length?0:t.read_shift(2),Se=P_[me];if(Se&&Se.f){if(e.bookSheets&&X===133&&me!==133)break;if(X=me,Se.r===2||Se.r==12){var ge=t.read_shift(2);if(xe-=2,!M.enc&&ge!==me&&((ge&255)<<8|ge>>8)!==me)throw new Error("rt mismatch: "+ge+"!="+me);Se.r==12&&(t.l+=10,xe-=10)}var ae={};if(me===10?ae=Se.f(t,xe,M):ae=spe(me,Se,t,xe,M),ue==0&&[9,521,1033,2057].indexOf(X)===-1)continue;switch(me){case 34:n.opts.Date1904=S.WBProps.date1904=ae;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(M.enc||(t.l=0),M.enc=ae,!e.password)throw new Error("File is password-protected");if(ae.valid==null)throw new Error("Encryption scheme unsupported");if(!ae.valid)throw new Error("Password is incorrect");break;case 92:M.lastuser=ae;break;case 66:var Fe=Number(ae);switch(Fe){case 21010:Fe=1200;break;case 32768:Fe=1e4;break;case 32769:Fe=1252;break}hc(M.codepage=Fe),ie=!0;break;case 317:M.rrtabid=ae;break;case 25:M.winlocked=ae;break;case 439:n.opts.RefreshAll=ae;break;case 12:n.opts.CalcCount=ae;break;case 16:n.opts.CalcDelta=ae;break;case 17:n.opts.CalcIter=ae;break;case 13:n.opts.CalcMode=ae;break;case 14:n.opts.CalcPrecision=ae;break;case 95:n.opts.CalcSaveRecalc=ae;break;case 15:M.CalcRefMode=ae;break;case 2211:n.opts.FullCalc=ae;break;case 129:ae.fDialog&&(s["!type"]="dialog"),ae.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),ae.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:R.push(ae);break;case 430:q.push([ae]),q[q.length-1].XTI=[];break;case 35:case 547:q[q.length-1].push(ae);break;case 24:case 536:ne={Name:ae.Name,Ref:Ti(ae.rgce,i,null,q,M)},ae.itab>0&&(ne.Sheet=ae.itab-1),q.names.push(ne),q[0]||(q[0]=[],q[0].XTI=[]),q[q.length-1].push(ae),ae.Name=="_xlnm._FilterDatabase"&&ae.itab>0&&ae.rgce&&ae.rgce[0]&&ae.rgce[0][0]&&ae.rgce[0][0][0]=="PtgArea3d"&&(J[ae.itab-1]={ref:Rn(ae.rgce[0][0][1][2])});break;case 22:M.ExternCount=ae;break;case 23:q.length==0&&(q[0]=[],q[0].XTI=[]),q[q.length-1].XTI=q[q.length-1].XTI.concat(ae),q.XTI=q.XTI.concat(ae);break;case 2196:if(M.biff<8)break;ne!=null&&(ne.Comment=ae[1]);break;case 18:s["!protect"]=ae;break;case 19:ae!==0&&M.WTF&&console.error("Password verifier: "+ae);break;case 133:a[ae.pos]=ae,M.snames.push(ae.name);break;case 10:{if(--ue)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,s["!ref"]=Rn(i),e.sheetRows&&e.sheetRows<=i.e.r){var et=i.e.r;i.e.r=e.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=Rn(i),i.e.r=et}i.e.r++,i.e.c++}G.length>0&&(s["!merges"]=G),oe.length>0&&(s["!objects"]=oe),K.length>0&&(s["!cols"]=K),Z.length>0&&(s["!rows"]=Z),S.Sheets.push(N)}A===""?d=s:r[A]=s,s=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(M.biff===8&&(M.biff={9:2,521:3,1033:4}[me]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ae.BIFFVer]||8),M.biffguess=ae.BIFFVer==0,ae.BIFFVer==0&&ae.dt==4096&&(M.biff=5,ie=!0,hc(M.codepage=28591)),M.biff==8&&ae.BIFFVer==0&&ae.dt==16&&(M.biff=2),ue++)break;if(s=e.dense?[]:{},M.biff<8&&!ie&&(ie=!0,hc(M.codepage=e.codepage||1252)),M.biff<5||ae.BIFFVer==0&&ae.dt==4096){A===""&&(A="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var De={pos:t.l-xe,name:A};a[De.pos]=De,M.snames.push(A)}else A=(a[de]||{name:""}).name;ae.dt==32&&(s["!type"]="chart"),ae.dt==64&&(s["!type"]="macro"),G=[],oe=[],M.arrayf=I=[],K=[],Z=[],re=!1,N={Hidden:(a[de]||{hs:0}).hs,name:A}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(e.dense?(s[ae.r]||[])[ae.c]:s[wn({c:ae.c,r:ae.r})])&&++ae.c,k={ixfe:ae.ixfe,XF:R[ae.ixfe]||{},v:ae.val,t:"n"},j>0&&(k.z=W[k.ixfe>>8&63]),rA(k,e,n.opts.Date1904),P({c:ae.c,r:ae.r},k,e);break;case 5:case 517:k={ixfe:ae.ixfe,XF:R[ae.ixfe],v:ae.val,t:ae.t},j>0&&(k.z=W[k.ixfe>>8&63]),rA(k,e,n.opts.Date1904),P({c:ae.c,r:ae.r},k,e);break;case 638:k={ixfe:ae.ixfe,XF:R[ae.ixfe],v:ae.rknum,t:"n"},j>0&&(k.z=W[k.ixfe>>8&63]),rA(k,e,n.opts.Date1904),P({c:ae.c,r:ae.r},k,e);break;case 189:for(var Ce=ae.c;Ce<=ae.C;++Ce){var Ge=ae.rkrec[Ce-ae.c][0];k={ixfe:Ge,XF:R[Ge],v:ae.rkrec[Ce-ae.c][1],t:"n"},j>0&&(k.z=W[k.ixfe>>8&63]),rA(k,e,n.opts.Date1904),P({c:Ce,r:ae.r},k,e)}break;case 6:case 518:case 1030:{if(ae.val=="String"){o=ae;break}if(k=ov(ae.val,ae.cell.ixfe,ae.tt),k.XF=R[k.ixfe],e.cellFormula){var nt=ae.formula;if(nt&&nt[0]&&nt[0][0]&&nt[0][0][0]=="PtgExp"){var it=nt[0][0][1][0],dt=nt[0][0][1][1],Ct=wn({r:it,c:dt});T[Ct]?k.f=""+Ti(ae.formula,i,ae.cell,q,M):k.F=((e.dense?(s[it]||[])[dt]:s[Ct])||{}).F}else k.f=""+Ti(ae.formula,i,ae.cell,q,M)}j>0&&(k.z=W[k.ixfe>>8&63]),rA(k,e,n.opts.Date1904),P(ae.cell,k,e),o=ae}break;case 7:case 519:if(o)o.val=ae,k=ov(ae,o.cell.ixfe,"s"),k.XF=R[k.ixfe],e.cellFormula&&(k.f=""+Ti(o.formula,i,o.cell,q,M)),j>0&&(k.z=W[k.ixfe>>8&63]),rA(k,e,n.opts.Date1904),P(o.cell,k,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{I.push(ae);var At=wn(ae[0].s);if(g=e.dense?(s[ae[0].s.r]||[])[ae[0].s.c]:s[At],e.cellFormula&&g){if(!o||!At||!g)break;g.f=""+Ti(ae[1],i,ae[0],q,M),g.F=Rn(ae[0])}}break;case 1212:{if(!e.cellFormula)break;if(p){if(!o)break;T[wn(o.cell)]=ae[0],g=e.dense?(s[o.cell.r]||[])[o.cell.c]:s[wn(o.cell)],(g||{}).f=""+Ti(ae[0],i,h,q,M)}}break;case 253:k=ov(l[ae.isst].t,ae.ixfe,"s"),l[ae.isst].h&&(k.h=l[ae.isst].h),k.XF=R[k.ixfe],j>0&&(k.z=W[k.ixfe>>8&63]),rA(k,e,n.opts.Date1904),P({c:ae.c,r:ae.r},k,e);break;case 513:e.sheetStubs&&(k={ixfe:ae.ixfe,XF:R[ae.ixfe],t:"z"},j>0&&(k.z=W[k.ixfe>>8&63]),rA(k,e,n.opts.Date1904),P({c:ae.c,r:ae.r},k,e));break;case 190:if(e.sheetStubs)for(var kt=ae.c;kt<=ae.C;++kt){var Ft=ae.ixfe[kt-ae.c];k={ixfe:Ft,XF:R[Ft],t:"z"},j>0&&(k.z=W[k.ixfe>>8&63]),rA(k,e,n.opts.Date1904),P({c:kt,r:ae.r},k,e)}break;case 214:case 516:case 4:k=ov(ae.val,ae.ixfe,"s"),k.XF=R[k.ixfe],j>0&&(k.z=W[k.ixfe>>8&63]),rA(k,e,n.opts.Date1904),P({c:ae.c,r:ae.r},k,e);break;case 0:case 512:ue===1&&(i=ae);break;case 252:l=ae;break;case 1054:if(M.biff==4){W[j++]=ae[1];for(var Wt=0;Wt<j+163&&gn[Wt]!=ae[1];++Wt);Wt>=163&&fu(ae[1],j+163)}else fu(ae[1],ae[0]);break;case 30:{W[j++]=ae;for(var Mt=0;Mt<j+163&&gn[Mt]!=ae;++Mt);Mt>=163&&fu(ae,j+163)}break;case 229:G=G.concat(ae);break;case 93:oe[ae.cmo[0]]=M.lastobj=ae;break;case 438:M.lastobj.TxO=ae;break;case 127:M.lastobj.ImData=ae;break;case 440:for(E=ae[0].s.r;E<=ae[0].e.r;++E)for(b=ae[0].s.c;b<=ae[0].e.c;++b)g=e.dense?(s[E]||[])[b]:s[wn({c:b,r:E})],g&&(g.l=ae[1]);break;case 2048:for(E=ae[0].s.r;E<=ae[0].e.r;++E)for(b=ae[0].s.c;b<=ae[0].e.c;++b)g=e.dense?(s[E]||[])[b]:s[wn({c:b,r:E})],g&&g.l&&(g.l.Tooltip=ae[1]);break;case 28:{if(M.biff<=5&&M.biff>=2)break;g=e.dense?(s[ae[0].r]||[])[ae[0].c]:s[wn(ae[0])];var Vt=oe[ae[2]];g||(e.dense?(s[ae[0].r]||(s[ae[0].r]=[]),g=s[ae[0].r][ae[0].c]={t:"z"}):g=s[wn(ae[0])]={t:"z"},i.e.r=Math.max(i.e.r,ae[0].r),i.s.r=Math.min(i.s.r,ae[0].r),i.e.c=Math.max(i.e.c,ae[0].c),i.s.c=Math.min(i.s.c,ae[0].c)),g.c||(g.c=[]),w={a:ae[1],t:Vt.TxO.t},g.c.push(w)}break;case 2173:Kue(R[ae.ixfe],ae.ext);break;case 125:{if(!M.cellStyles)break;for(;ae.e>=ae.s;)K[ae.e--]={width:ae.w/256,level:ae.level||0,hidden:!!(ae.flags&1)},re||(re=!0,r4(ae.w/256)),Zd(K[ae.e+1])}break;case 520:{var Jt={};ae.level!=null&&(Z[ae.r]=Jt,Jt.level=ae.level),ae.hidden&&(Z[ae.r]=Jt,Jt.hidden=!0),ae.hpt&&(Z[ae.r]=Jt,Jt.hpt=ae.hpt,Jt.hpx=xm(ae.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||Xf(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[me]]=ae;break;case 161:s["!margins"]||Xf(s["!margins"]={}),s["!margins"].header=ae.header,s["!margins"].footer=ae.footer;break;case 574:ae.RTL&&(S.Views[0].RTL=!0);break;case 146:L=ae;break;case 2198:V=ae;break;case 140:F=ae;break;case 442:A?N.CodeName=ae||N.name:S.WBProps.CodeName=ae||"ThisWorkbook";break}}else Se||console.error("Missing Info for XLS Record 0x"+me.toString(16)),t.l+=xe}return n.SheetNames=Ls(a).sort(function(Pt,It){return Number(Pt)-Number(It)}).map(function(Pt){return a[Pt].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&d["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=d)):n.Preamble=d,n.Sheets&&J.forEach(function(Pt,It){n.Sheets[n.SheetNames[It]]["!autofilter"]=Pt}),n.Strings=l,n.SSF=os(gn),M.enc&&(n.Encryption=M.enc),V&&(n.Themes=V),n.Metadata={},F!==void 0&&(n.Metadata.Country=F),q.names.length>0&&(S.Names=q.names),n.Workbook=S,n}var _g={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function ipe(t,e,n){var r=ln.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var s=wF(r,I_,_g.DSI);for(var a in s)e[a]=s[a]}catch(A){if(n.WTF)throw A}var i=ln.find(t,"/!SummaryInformation");if(i&&i.size>0)try{var o=wF(i,F_,_g.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(A){if(n.WTF)throw A}e.HeadingPairs&&e.TitlesOfParts&&(lP(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function ope(t,e){var n=[],r=[],s=[],a=0,i,o=JI(I_,"n"),l=JI(F_,"n");if(t.Props)for(i=Ls(t.Props),a=0;a<i.length;++a)(Object.prototype.hasOwnProperty.call(o,i[a])?n:Object.prototype.hasOwnProperty.call(l,i[a])?r:s).push([i[a],t.Props[i[a]]]);if(t.Custprops)for(i=Ls(t.Custprops),a=0;a<i.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},i[a])||(Object.prototype.hasOwnProperty.call(o,i[a])?n:Object.prototype.hasOwnProperty.call(l,i[a])?r:s).push([i[a],t.Custprops[i[a]]]);var A=[];for(a=0;a<s.length;++a)mP.indexOf(s[a][0])>-1||oP.indexOf(s[a][0])>-1||s[a][1]!=null&&A.push(s[a]);r.length&&ln.utils.cfb_add(e,"/SummaryInformation",bF(r,_g.SI,l,F_)),(n.length||A.length)&&ln.utils.cfb_add(e,"/DocumentSummaryInformation",bF(n,_g.DSI,o,I_,A.length?A:null,_g.UDI))}function A7(t,e){e||(e={}),d4(e),R5(),e.codepage&&F5(e.codepage);var n,r;if(t.FullPaths){if(ln.find(t,"/encryption"))throw new Error("File is password-protected");n=ln.find(t,"!CompObj"),r=ln.find(t,"/Workbook")||ln.find(t,"/Book")}else{switch(e.type){case"base64":t=Qo(Ko(t));break;case"binary":t=Qo(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}ti(t,0),r={content:t}}var s,a;if(n&&npe(n),e.bookProps&&!e.bookSheets)s={};else{var i=Kn?"buffer":"array";if(r&&r.content)s=ape(r.content,e);else if((a=ln.find(t,"PerfectOffice_MAIN"))&&a.content)s=Jf.to_workbook(a.content,(e.type=i,e));else if((a=ln.find(t,"NativeContent_MAIN"))&&a.content)s=Jf.to_workbook(a.content,(e.type=i,e));else throw(a=ln.find(t,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&ln.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=yde(t))}var o={};return t.FullPaths&&ipe(t,o,e),s.Props=s.Custprops=o,e.bookFiles&&(s.cfb=t),s}function lpe(t,e){var n=e||{},r=ln.utils.cfb_new({root:"R"}),s="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":s="/Workbook",n.biff=8;break;case"biff5":s="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return ln.utils.cfb_add(r,s,u7(t,n)),n.biff==8&&(t.Props||t.Custprops)&&ope(t,r),n.biff==8&&t.vbaraw&&wde(r,ln.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var Zg={0:{f:Fhe},1:{f:Ohe},2:{f:a0e},3:{f:Whe},4:{f:Ghe},5:{f:n0e},6:{f:A0e},7:{f:Xhe},8:{f:g0e},9:{f:p0e},10:{f:h0e},11:{f:m0e},12:{f:Hhe},13:{f:o0e},14:{f:Yhe},15:{f:Khe},16:{f:n7},17:{f:d0e},18:{f:e0e},19:{f:q5},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:dme},40:{},42:{},43:{f:Aue},44:{f:lue},45:{f:fue},46:{f:mue},47:{f:hue},48:{},49:{f:Uoe},50:{},51:{f:$ue},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:SP},62:{f:c0e},63:{f:sde},64:{f:R0e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Li,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:N0e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Phe},148:{f:Uhe,p:16},151:{f:C0e},152:{},153:{f:cme},154:{},155:{},156:{f:ome},157:{},158:{},159:{T:1,f:_Ae},160:{T:-1},161:{T:1,f:Nh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:x0e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:que},336:{T:-1},337:{f:Xue,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:k_},357:{},358:{},359:{},360:{T:1},361:{},362:{f:_P},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:E0e},427:{f:_0e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:T0e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Mhe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:w0e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:k_},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:mde},633:{T:1},634:{T:-1},635:{T:1,f:fde},636:{T:-1},637:{f:joe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Y0e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:D0e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},P_={6:{f:RC},10:{f:fd},12:{f:da},13:{f:da},14:{f:zs},15:{f:zs},16:{f:Fi},17:{f:zs},18:{f:zs},19:{f:da},20:{f:BF},21:{f:BF},23:{f:_P},24:{f:kF},25:{f:zs},26:{},27:{},28:{f:Dce},29:{},34:{f:zs},35:{f:NF},38:{f:Fi},39:{f:Fi},40:{f:Fi},41:{f:Fi},42:{f:zs},43:{f:zs},47:{f:KAe},49:{f:oce},51:{f:da},60:{},61:{f:nce},64:{f:zs},65:{f:ice},66:{f:da},77:{},80:{},81:{},82:{},85:{f:da},89:{},90:{},91:{},92:{f:zle},93:{f:Mce},94:{},95:{f:zs},96:{},97:{},99:{f:zs},125:{f:SP},128:{f:bce},129:{f:qle},130:{f:da},131:{f:zs},132:{f:zs},133:{f:Wle},134:{},140:{f:zce},141:{f:da},144:{},146:{f:Wce},151:{},152:{},153:{},154:{},155:{},156:{f:da},157:{},158:{},160:{f:tAe},161:{f:Jce},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:xce},190:{f:vce},193:{f:fd},197:{},198:{},199:{},200:{},201:{},202:{f:zs},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:da},220:{},221:{f:zs},222:{},224:{f:wce},225:{f:Gle},226:{f:fd},227:{},229:{f:Uce},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Yle},253:{f:cce},255:{f:Xle},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:pP},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:zs},353:{f:fd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Tce},431:{f:zs},432:{},433:{},434:{},437:{},438:{f:Oce},439:{f:zs},440:{f:Qce},441:{},442:{f:Nx},443:{},444:{f:da},445:{},446:{},448:{f:fd},449:{f:tce,r:2},450:{f:fd},512:{f:_F},513:{f:eAe},515:{f:_ce},516:{f:uce},517:{f:TF},519:{f:nAe},520:{f:Zle},523:{},545:{f:IF},549:{f:EF},566:{},574:{f:sce},638:{f:gce},659:{},1048:{},1054:{f:fce},1084:{},1212:{f:Ice},2048:{f:Vce},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:sv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:fd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:$ce,r:12},2173:{f:zue,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:zs,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:kce,r:12},2197:{},2198:{f:jue,r:12},2199:{},2200:{},2201:{},2202:{f:Fce,r:12},2203:{f:fd},2204:{},2205:{},2206:{},2207:{},2211:{f:ece},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:da},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Xce},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:qce},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:_F},1:{},2:{f:oAe},3:{f:aAe},4:{f:sAe},5:{f:TF},7:{f:cAe},8:{},9:{f:sv},11:{},22:{f:da},30:{f:mce},31:{},32:{},33:{f:IF},36:{},37:{f:EF},50:{f:AAe},62:{},52:{},67:{},68:{f:da},69:{},86:{},126:{},127:{f:rAe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:uAe},223:{},234:{},354:{},421:{},518:{f:RC},521:{f:sv},536:{f:kF},547:{f:NF},561:{},579:{},1030:{f:RC},1033:{f:sv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ut(t,e,n,r){var s=e;if(!isNaN(s)){var a=r||(n||[]).length||0,i=t.next(4);i.write_shift(2,s),i.write_shift(2,a),a>0&&G5(n)&&t.push(n)}}function cpe(t,e,n,r){var s=(n||[]).length||0;if(s<=8224)return Ut(t,e,n,s);var a=e;if(!isNaN(a)){for(var i=n.parts||[],o=0,l=0,A=0;A+(i[o]||8224)<=8224;)A+=i[o]||8224,o++;var d=t.next(4);for(d.write_shift(2,a),d.write_shift(2,A),t.push(n.slice(l,l+A)),l+=A;l<s;){for(d=t.next(4),d.write_shift(2,60),A=0;A+(i[o]||8224)<=8224;)A+=i[o]||8224,o++;d.write_shift(2,A),t.push(n.slice(l,l+A)),l+=A}}}function Rx(t,e,n){return t||(t=lt(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function Ape(t,e,n,r){var s=lt(9);return Rx(s,t,e),gP(n,r||"b",s),s}function upe(t,e,n){var r=lt(8+2*n.length);return Rx(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function dpe(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?Ba(is(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?Ut(t,2,lAe(n,r,s)):Ut(t,3,iAe(n,r,s));return;case"b":case"e":Ut(t,5,Ape(n,r,e.v,e.t));return;case"s":case"str":Ut(t,4,upe(n,r,(e.v||"").slice(0,255)));return}Ut(t,1,Rx(null,n,r))}function fpe(t,e,n,r){var s=Array.isArray(e),a=pr(e["!ref"]||"A1"),i,o="",l=[];if(a.e.c>255||a.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),i=Rn(a)}for(var A=a.s.r;A<=a.e.r;++A){o=Zs(A);for(var d=a.s.c;d<=a.e.c;++d){A===a.s.r&&(l[d]=ys(d)),i=l[d]+o;var h=s?(e[A]||[])[d]:e[i];h&&dpe(t,h,A,d)}}}function hpe(t,e){for(var n=e||{},r=mo(),s=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==n.sheet&&(s=a);if(s==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Ut(r,n.biff==4?1033:n.biff==3?521:9,e4(t,16,n)),fpe(r,t.Sheets[t.SheetNames[s]],s,n),Ut(r,10),r.end()}function mpe(t,e,n){Ut(t,49,lce({sz:12,name:"Arial"},n))}function ppe(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&Ut(t,1054,hce(s,e[s],n))})}function gpe(t,e){var n=lt(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Ut(t,2151,n),n=lt(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),bP(pr(e["!ref"]||"A1"),n),n.write_shift(4,4),Ut(t,2152,n)}function xpe(t,e){for(var n=0;n<16;++n)Ut(t,224,SF({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Ut(t,224,SF(r,0,e))})}function vpe(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];Ut(t,440,Hce(r)),r[1].Tooltip&&Ut(t,2048,Gce(r))}delete e["!links"]}function ype(t,e){if(e){var n=0;e.forEach(function(r,s){++n<=256&&r&&Ut(t,125,Yce(cw(s,r),s))})}}function wpe(t,e,n,r,s){var a=16+cf(s.cellXfs,e,s);if(e.v==null&&!e.bf){Ut(t,513,dh(n,r,a));return}if(e.bf)Ut(t,6,qfe(e,n,r,s,a));else switch(e.t){case"d":case"n":var i=e.t=="d"?Ba(is(e.v)):e.v;Ut(t,515,Sce(n,r,i,a));break;case"b":case"e":Ut(t,517,Ece(n,r,e.v,a,s,e.t));break;case"s":case"str":if(s.bookSST){var o=l4(s.Strings,e.v,s.revStrings);Ut(t,253,Ace(n,r,o,a))}else Ut(t,516,dce(n,r,(e.v||"").slice(0,255),a,s));break;default:Ut(t,513,dh(n,r,a))}}function bpe(t,e,n){var r=mo(),s=n.SheetNames[t],a=n.Sheets[s]||{},i=(n||{}).Workbook||{},o=(i.Sheets||[])[t]||{},l=Array.isArray(a),A=e.biff==8,d,h="",p=[],g=pr(a["!ref"]||"A1"),w=A?65536:16384;if(g.e.c>255||g.e.r>=w){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,w-1)}Ut(r,2057,e4(n,16,e)),Ut(r,13,Cl(1)),Ut(r,12,Cl(100)),Ut(r,15,zi(!0)),Ut(r,17,zi(!1)),Ut(r,16,Ah(.001)),Ut(r,95,zi(!0)),Ut(r,42,zi(!1)),Ut(r,43,zi(!1)),Ut(r,130,Cl(1)),Ut(r,128,Cce()),Ut(r,131,zi(!1)),Ut(r,132,zi(!1)),A&&ype(r,a["!cols"]),Ut(r,512,pce(g,e)),A&&(a["!links"]=[]);for(var b=g.s.r;b<=g.e.r;++b){h=Zs(b);for(var E=g.s.c;E<=g.e.c;++E){b===g.s.r&&(p[E]=ys(E)),d=p[E]+h;var T=l?(a[b]||[])[E]:a[d];T&&(wpe(r,T,b,E,e),A&&T.l&&a["!links"].push([d,T.l]))}}var I=o.CodeName||o.name||s;return A&&Ut(r,574,ace((i.Views||[])[0])),A&&(a["!merges"]||[]).length&&Ut(r,229,Lce(a["!merges"])),A&&vpe(r,a),Ut(r,442,xP(I)),A&&gpe(r,a),Ut(r,10),r.end()}function Cpe(t,e,n){var r=mo(),s=(t||{}).Workbook||{},a=s.Sheets||[],i=s.WBProps||{},o=n.biff==8,l=n.biff==5;if(Ut(r,2057,e4(t,5,n)),n.bookType=="xla"&&Ut(r,135),Ut(r,225,o?Cl(1200):null),Ut(r,193,Ele(2)),l&&Ut(r,191),l&&Ut(r,192),Ut(r,226),Ut(r,92,Kle("SheetJS",n)),Ut(r,66,Cl(o?1200:1252)),o&&Ut(r,353,Cl(0)),o&&Ut(r,448),Ut(r,317,Zce(t.SheetNames.length)),o&&t.vbaraw&&Ut(r,211),o&&t.vbaraw){var A=i.CodeName||"ThisWorkbook";Ut(r,442,xP(A))}Ut(r,156,Cl(17)),Ut(r,25,zi(!1)),Ut(r,18,zi(!1)),Ut(r,19,Cl(0)),o&&Ut(r,431,zi(!1)),o&&Ut(r,444,Cl(0)),Ut(r,61,rce()),Ut(r,64,zi(!1)),Ut(r,141,Cl(0)),Ut(r,34,zi(tme(t)=="true")),Ut(r,14,zi(!0)),o&&Ut(r,439,zi(!1)),Ut(r,218,Cl(0)),mpe(r,t,n),ppe(r,t.SSF,n),xpe(r,n),o&&Ut(r,352,zi(!1));var d=r.end(),h=mo();o&&Ut(h,140,Kce()),o&&n.Strings&&cpe(h,252,Jle(n.Strings)),Ut(h,10);var p=h.end(),g=mo(),w=0,b=0;for(b=0;b<t.SheetNames.length;++b)w+=(o?12:11)+(o?2:1)*t.SheetNames[b].length;var E=d.length+w+p.length;for(b=0;b<t.SheetNames.length;++b){var T=a[b]||{};Ut(g,133,$le({pos:E,hs:T.Hidden||0,dt:0,name:t.SheetNames[b]},n)),E+=e[b].length}var I=g.end();if(w!=I.length)throw new Error("BS8 "+w+" != "+I.length);var k=[];return d.length&&k.push(d),I.length&&k.push(I),p.length&&k.push(p),Qa(k)}function Epe(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=os(gn)),t&&t.SSF&&(Pm(),nw(t.SSF),n.revssf=sw(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,f4(n),n.cellXfs=[],cf(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)r[r.length]=bpe(s,n,t);return r.unshift(Cpe(t,r,n)),Qa(r)}function u7(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var s=xo(r["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return Epe(t,e);case 4:case 3:case 2:return hpe(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function QF(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var s=t.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var a=t.match(/<\/table/i),i=s.index,o=a&&a.index||t.length,l=loe(t.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),A=-1,d=0,h=0,p=0,g={s:{r:1e7,c:1e7},e:{r:0,c:0}},w=[];for(i=0;i<l.length;++i){var b=l[i].trim(),E=b.slice(0,3).toLowerCase();if(E=="<tr"){if(++A,n.sheetRows&&n.sheetRows<=A){--A;break}d=0;continue}if(!(E!="<td"&&E!="<th")){var T=b.split(/<\/t[dh]>/i);for(o=0;o<T.length;++o){var I=T[o].trim();if(I.match(/<t[dh]/i)){for(var k=I,F=0;k.charAt(0)=="<"&&(F=k.indexOf(">"))>-1;)k=k.slice(F+1);for(var R=0;R<w.length;++R){var L=w[R];L.s.c==d&&L.s.r<A&&A<=L.e.r&&(d=L.e.c+1,R=-1)}var S=_n(I.slice(0,I.indexOf(">")));p=S.colspan?+S.colspan:1,((h=+S.rowspan)>1||p>1)&&w.push({s:{r:A,c:d},e:{r:A+(h||1)-1,c:d+p-1}});var N=S.t||S["data-t"]||"";if(!k.length){d+=p;continue}if(k=UM(k),g.s.r>A&&(g.s.r=A),g.e.r<A&&(g.e.r=A),g.s.c>d&&(g.s.c=d),g.e.c<d&&(g.e.c=d),!k.length){d+=p;continue}var B={t:"s",v:k};n.raw||!k.trim().length||N=="s"||(k==="TRUE"?B={t:"b",v:!0}:k==="FALSE"?B={t:"b",v:!1}:isNaN(pc(k))?isNaN(pm(k).getDate())||(B={t:"d",v:is(k)},n.cellDates||(B={t:"n",v:Ba(B.v)}),B.z=n.dateNF||gn[14]):B={t:"n",v:pc(k)}),n.dense?(r[A]||(r[A]=[]),r[A][d]=B):r[wn({r:A,c:d})]=B,d+=p}}}}return r["!ref"]=Rn(g),w.length&&(r["!merges"]=w),r}function _pe(t,e,n,r){for(var s=t["!merges"]||[],a=[],i=e.s.c;i<=e.e.c;++i){for(var o=0,l=0,A=0;A<s.length;++A)if(!(s[A].s.r>n||s[A].s.c>i)&&!(s[A].e.r<n||s[A].e.c<i)){if(s[A].s.r<n||s[A].s.c<i){o=-1;break}o=s[A].e.r-s[A].s.r+1,l=s[A].e.c-s[A].s.c+1;break}if(!(o<0)){var d=wn({r:n,c:i}),h=r.dense?(t[n]||[])[i]:t[d],p=h&&h.v!=null&&(h.h||Q5(h.w||(wu(h),h.w)||""))||"",g={};o>1&&(g.rowspan=o),l>1&&(g.colspan=l),r.editable?p='<span contenteditable="true">'+p+"</span>":h&&(g["data-t"]=h&&h.t||"z",h.v!=null&&(g["data-v"]=h.v),h.z!=null&&(g["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+h.l.Target+'">'+p+"</a>")),g.id=(r.id||"sjs")+"-"+d,a.push(Dt("td",p,g))}}var w="<tr>";return w+a.join("")+"</tr>"}var Spe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Tpe="</body></html>";function Bpe(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return lf(QF(n[0],e),e);var r=g4();return n.forEach(function(s,a){x4(r,QF(s,e),"Sheet"+(a+1))}),r}function Npe(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function d7(t,e){var n=e||{},r=n.header!=null?n.header:Spe,s=n.footer!=null?n.footer:Tpe,a=[r],i=xo(t["!ref"]);n.dense=Array.isArray(t),a.push(Npe(t,i,n));for(var o=i.s.r;o<=i.e.r;++o)a.push(_pe(t,i,o,n));return a.push("</table>"+s),a.join("")}function f7(t,e,n){var r=n||{},s=0,a=0;if(r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var i=typeof r.origin=="string"?ws(r.origin):r.origin;s=i.r,a=i.c}var o=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),A={s:{r:0,c:0},e:{r:s,c:a}};if(t["!ref"]){var d=xo(t["!ref"]);A.s.r=Math.min(A.s.r,d.s.r),A.s.c=Math.min(A.s.c,d.s.c),A.e.r=Math.max(A.e.r,d.e.r),A.e.c=Math.max(A.e.c,d.e.c),s==-1&&(A.e.r=s=d.e.r+1)}var h=[],p=0,g=t["!rows"]||(t["!rows"]=[]),w=0,b=0,E=0,T=0,I=0,k=0;for(t["!cols"]||(t["!cols"]=[]);w<o.length&&b<l;++w){var F=o[w];if(HF(F)){if(r.display)continue;g[b]={hidden:!0}}var R=F.children;for(E=T=0;E<R.length;++E){var L=R[E];if(!(r.display&&HF(L))){var S=L.hasAttribute("data-v")?L.getAttribute("data-v"):L.hasAttribute("v")?L.getAttribute("v"):UM(L.innerHTML),N=L.getAttribute("data-z")||L.getAttribute("z");for(p=0;p<h.length;++p){var B=h[p];B.s.c==T+a&&B.s.r<b+s&&b+s<=B.e.r&&(T=B.e.c+1-a,p=-1)}k=+L.getAttribute("colspan")||1,((I=+L.getAttribute("rowspan")||1)>1||k>1)&&h.push({s:{r:b+s,c:T+a},e:{r:b+s+(I||1)-1,c:T+a+(k||1)-1}});var H={t:"s",v:S},P=L.getAttribute("data-t")||L.getAttribute("t")||"";S!=null&&(S.length==0?H.t=P||"z":r.raw||S.trim().length==0||P=="s"||(S==="TRUE"?H={t:"b",v:!0}:S==="FALSE"?H={t:"b",v:!1}:isNaN(pc(S))?isNaN(pm(S).getDate())||(H={t:"d",v:is(S)},r.cellDates||(H={t:"n",v:Ba(H.v)}),H.z=r.dateNF||gn[14]):H={t:"n",v:pc(S)})),H.z===void 0&&N!=null&&(H.z=N);var M="",V=L.getElementsByTagName("A");if(V&&V.length)for(var G=0;G<V.length&&!(V[G].hasAttribute("href")&&(M=V[G].getAttribute("href"),M.charAt(0)!="#"));++G);M&&M.charAt(0)!="#"&&(H.l={Target:M}),r.dense?(t[b+s]||(t[b+s]=[]),t[b+s][T+a]=H):t[wn({c:T+a,r:b+s})]=H,A.e.c<T+a&&(A.e.c=T+a),T+=k}}++b}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),A.e.r=Math.max(A.e.r,b-1+s),t["!ref"]=Rn(A),b>=l&&(t["!fullref"]=Rn((A.e.r=o.length-w+b-1+s,A))),t}function h7(t,e){var n=e||{},r=n.dense?[]:{};return f7(r,t,e)}function kpe(t,e){return lf(h7(t,e),e)}function HF(t){var e="",n=Ipe(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function Ipe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Fpe(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=mr(e.replace(/<[^>]*>/g,""));return[n]}var VF={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function m7(t,e){var n=e||{},r=H5(t),s=[],a,i,o={name:""},l="",A=0,d,h,p={},g=[],w=n.dense?[]:{},b,E,T={value:""},I="",k=0,F=[],R=-1,L=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,B={},H=[],P={},M=0,V=0,G=[],oe=1,K=1,Z=[],re={Names:[]},q={},X=["",""],ue=[],j={},W="",J=0,ne=!1,ie=!1,de=0;for(qg.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");b=qg.exec(r);)switch(b[3]=b[3].replace(/_.*$/,"")){case"table":case"":b[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?w["!ref"]=Rn(S):w["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=S.e.r&&(w["!fullref"]=w["!ref"],S.e.r=n.sheetRows-1,w["!ref"]=Rn(S)),H.length&&(w["!merges"]=H),G.length&&(w["!rows"]=G),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),g.push(d.name),p[d.name]=w,ie=!1):b[0].charAt(b[0].length-2)!=="/"&&(d=_n(b[0],!1),R=L=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,w=n.dense?[]:{},H=[],G=[],ie=!0);break;case"table-row-group":b[1]==="/"?--N:++N;break;case"table-row":case"":if(b[1]==="/"){R+=oe,oe=1;break}if(h=_n(b[0],!1),h.?R=h.-1:R==-1&&(R=0),oe=+h["number-rows-repeated"]||1,oe<10)for(de=0;de<oe;++de)N>0&&(G[R+de]={level:N});L=-1;break;case"covered-table-cell":b[1]!=="/"&&++L,n.sheetStubs&&(n.dense?(w[R]||(w[R]=[]),w[R][L]={t:"z"}):w[wn({r:R,c:L})]={t:"z"}),I="",F=[];break;case"table-cell":case"":if(b[0].charAt(b[0].length-2)==="/")++L,T=_n(b[0],!1),K=parseInt(T["number-columns-repeated"]||"1",10),E={t:"z",v:null},T.formula&&n.cellFormula!=!1&&(E.f=PF(mr(T.formula))),(T.||T["value-type"])=="string"&&(E.t="s",E.v=mr(T["string-value"]||""),n.dense?(w[R]||(w[R]=[]),w[R][L]=E):w[wn({r:R,c:L})]=E),L+=K-1;else if(b[1]!=="/"){++L,I="",k=0,F=[],K=1;var me=oe?R+oe-1:R;if(L>S.e.c&&(S.e.c=L),L<S.s.c&&(S.s.c=L),R<S.s.r&&(S.s.r=R),me>S.e.r&&(S.e.r=me),T=_n(b[0],!1),ue=[],j={},E={t:T.||T["value-type"],v:null},n.cellFormula)if(T.formula&&(T.formula=mr(T.formula)),T["number-matrix-columns-spanned"]&&T["number-matrix-rows-spanned"]&&(M=parseInt(T["number-matrix-rows-spanned"],10)||0,V=parseInt(T["number-matrix-columns-spanned"],10)||0,P={s:{r:R,c:L},e:{r:R+M-1,c:L+V-1}},E.F=Rn(P),Z.push([P,E.F])),T.formula)E.f=PF(T.formula);else for(de=0;de<Z.length;++de)R>=Z[de][0].s.r&&R<=Z[de][0].e.r&&L>=Z[de][0].s.c&&L<=Z[de][0].e.c&&(E.F=Z[de][1]);switch((T["number-columns-spanned"]||T["number-rows-spanned"])&&(M=parseInt(T["number-rows-spanned"],10)||0,V=parseInt(T["number-columns-spanned"],10)||0,P={s:{r:R,c:L},e:{r:R+M-1,c:L+V-1}},H.push(P)),T["number-columns-repeated"]&&(K=parseInt(T["number-columns-repeated"],10)),E.t){case"boolean":E.t="b",E.v=rs(T["boolean-value"]);break;case"float":E.t="n",E.v=parseFloat(T.value);break;case"percentage":E.t="n",E.v=parseFloat(T.value);break;case"currency":E.t="n",E.v=parseFloat(T.value);break;case"date":E.t="d",E.v=is(T["date-value"]),n.cellDates||(E.t="n",E.v=Ba(E.v)),E.z="m/d/yy";break;case"time":E.t="n",E.v=aoe(T["time-value"])/86400,n.cellDates&&(E.t="d",E.v=aw(E.v)),E.z="HH:MM:SS";break;case"number":E.t="n",E.v=parseFloat(T.);break;default:if(E.t==="string"||E.t==="text"||!E.t)E.t="s",T["string-value"]!=null&&(I=mr(T["string-value"]),F=[]);else throw new Error("Unsupported value type "+E.t)}}else{if(ne=!1,E.t==="s"&&(E.v=I||"",F.length&&(E.R=F),ne=k==0),q.Target&&(E.l=q),ue.length>0&&(E.c=ue,ue=[]),I&&n.cellText!==!1&&(E.w=I),ne&&(E.t="z",delete E.v),(!ne||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=R))for(var xe=0;xe<oe;++xe){if(K=parseInt(T["number-columns-repeated"]||"1",10),n.dense)for(w[R+xe]||(w[R+xe]=[]),w[R+xe][L]=xe==0?E:os(E);--K>0;)w[R+xe][L+K]=os(E);else for(w[wn({r:R+xe,c:L})]=E;--K>0;)w[wn({r:R+xe,c:L+K})]=os(E);S.e.c<=L&&(S.e.c=L)}K=parseInt(T["number-columns-repeated"]||"1",10),L+=K-1,K=0,E={},I="",F=[]}q={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((a=s.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&s.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((a=s.pop())[0]!==b[3])throw"Bad state: "+a;j.t=I,F.length&&(j.R=F),j.a=W,ue.push(j)}else b[0].charAt(b[0].length-2)!=="/"&&s.push([b[3],!1]);W="",J=0,I="",k=0,F=[];break;case"creator":b[1]==="/"?W=r.slice(J,b.index):J=b.index+b[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((a=s.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&s.push([b[3],!1]);I="",k=0,F=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){if(B[o.name]=l,(a=s.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&(l="",o=_n(b[0],!1),s.push([b[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":i=_n(b[0],!1),l+=VF[b[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":i=_n(b[0],!1),l+=VF[b[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(A,b.index);break}else A=b.index+b[0].length;break;case"named-range":i=_n(b[0],!1),X=DC(i["cell-range-address"]);var Se={Name:i.name,Ref:X[0]+"!"+X[1]};ie&&(Se.Sheet=g.length),re.Names.push(Se);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(b[1]==="/"&&(!T||!T["string-value"])){var ge=Fpe(r.slice(k,b.index));I=(I.length>0?I+`
`:"")+ge[0]}else _n(b[0],!1),k=b.index+b[0].length;break;case"s":break;case"database-range":if(b[1]==="/")break;try{X=DC(_n(b[0])["target-range-address"]),p[X[0]]["!autofilter"]={ref:X[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(q=_n(b[0],!1),!q.href)break;q.Target=mr(q.href),delete q.href,q.Target.charAt(0)=="#"&&q.Target.indexOf(".")>-1?(X=DC(q.Target.slice(1)),q.Target="#"+X[0]+"!"+X[1]):q.Target.match(/^\.\.[\\\/]/)&&(q.Target=q.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(b)}}var ae={Sheets:p,SheetNames:g,Workbook:re};return n.bookSheets&&delete ae.Sheets,ae}function GF(t,e){e=e||{},wl(t,"META-INF/manifest.xml")&&ale(ua(t,"META-INF/manifest.xml"),e);var n=Ho(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=m7(qr(n),e);return wl(t,"meta.xml")&&(r.Props=aP(ua(t,"meta.xml"))),r}function zF(t,e){return m7(t,e)}var Rpe=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Kg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return ea+e}}(),KF=function(){var t=function(a){return Pr(a).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(a,i,o){var l=[];l.push('      <table:table table:name="'+Pr(i.SheetNames[o])+`" table:style-name="ta1">
`);var A=0,d=0,h=xo(a["!ref"]||"A1"),p=a["!merges"]||[],g=0,w=Array.isArray(a);if(a["!cols"])for(d=0;d<=h.e.c;++d)l.push("        <table:table-column"+(a["!cols"][d]?' table:style-name="co'+a["!cols"][d].ods+'"':"")+`></table:table-column>
`);var b="",E=a["!rows"]||[];for(A=0;A<h.s.r;++A)b=E[A]?' table:style-name="ro'+E[A].ods+'"':"",l.push("        <table:table-row"+b+`></table:table-row>
`);for(;A<=h.e.r;++A){for(b=E[A]?' table:style-name="ro'+E[A].ods+'"':"",l.push("        <table:table-row"+b+`>
`),d=0;d<h.s.c;++d)l.push(e);for(;d<=h.e.c;++d){var T=!1,I={},k="";for(g=0;g!=p.length;++g)if(!(p[g].s.c>d)&&!(p[g].s.r>A)&&!(p[g].e.c<d)&&!(p[g].e.r<A)){(p[g].s.c!=d||p[g].s.r!=A)&&(T=!0),I["table:number-columns-spanned"]=p[g].e.c-p[g].s.c+1,I["table:number-rows-spanned"]=p[g].e.r-p[g].s.r+1;break}if(T){l.push(n);continue}var F=wn({r:A,c:d}),R=w?(a[A]||[])[d]:a[F];if(R&&R.f&&(I["table:formula"]=Pr(Zfe(R.f)),R.F&&R.F.slice(0,F.length)==F)){var L=xo(R.F);I["table:number-matrix-columns-spanned"]=L.e.c-L.s.c+1,I["table:number-matrix-rows-spanned"]=L.e.r-L.s.r+1}if(!R){l.push(e);continue}switch(R.t){case"b":k=R.v?"TRUE":"FALSE",I["office:value-type"]="boolean",I["office:boolean-value"]=R.v?"true":"false";break;case"n":k=R.w||String(R.v||0),I["office:value-type"]="float",I["office:value"]=R.v||0;break;case"s":case"str":k=R.v==null?"":R.v,I["office:value-type"]="string";break;case"d":k=R.w||is(R.v).toISOString(),I["office:value-type"]="date",I["office:date-value"]=is(R.v).toISOString(),I["table:style-name"]="ce1";break;default:l.push(e);continue}var S=t(k);if(R.l&&R.l.Target){var N=R.l.Target;N=N.charAt(0)=="#"?"#"+ehe(N.slice(1)):N,N.charAt(0)!="#"&&!N.match(/^\w+:/)&&(N="../"+N),S=Dt("text:a",S,{"xlink:href":N.replace(/&/g,"&amp;")})}l.push("          "+Dt("table:table-cell",Dt("text:p",S,{}),I)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},s=function(a,i){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var o=0;i.SheetNames.map(function(A){return i.Sheets[A]}).forEach(function(A){if(A&&A["!cols"]){for(var d=0;d<A["!cols"].length;++d)if(A["!cols"][d]){var h=A["!cols"][d];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Zd(h),h.ods=o;var p=A["!cols"][d].wpx+"px";a.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),a.push(`  </style:style>
`),++o}}});var l=0;i.SheetNames.map(function(A){return i.Sheets[A]}).forEach(function(A){if(A&&A["!rows"]){for(var d=0;d<A["!rows"].length;++d)if(A["!rows"][d]){A["!rows"][d].ods=l;var h=A["!rows"][d].hpx+"px";a.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),a.push(`  </style:style>
`),++l}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(i,o){var l=[ea],A=Kg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Kg({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+A+d+`>
`),l.push(sP().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+A+`>
`),s(l,i),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var h=0;h!=i.SheetNames.length;++h)l.push(r(i.Sheets[i.SheetNames[h]],i,h));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function p7(t,e){if(e.bookType=="fods")return KF(t,e);var n=P5(),r="",s=[],a=[];return r="mimetype",jn(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",jn(n,r,KF(t,e)),s.push([r,"text/xml"]),a.push([r,"ContentFile"]),r="styles.xml",jn(n,r,Rpe(t,e)),s.push([r,"text/xml"]),a.push([r,"StylesFile"]),r="meta.xml",jn(n,r,ea+sP()),s.push([r,"text/xml"]),a.push([r,"MetadataFile"]),r="manifest.rdf",jn(n,r,lle(a)),s.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",jn(n,r,ile(s)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function fh(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function j_(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):qr(of(t))}function Dpe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Qo(uA(t))}function Upe(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function tf(t){var e=t.reduce(function(s,a){return s+a.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(s){n.set(s,r),r+=s.length}),n}function qF(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function Lpe(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,s=e+13;s>=e;--s)r=r*256+t[s];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function Mpe(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,s=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var a=0;s>=1;++a,s/=256)t[e+a]=s&255;t[e+15]|=n>=0?0:128}function ex(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Ur(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Us(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Cr(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],s=ex(t,n),a=s&7;s=Math.floor(s/8);var i=0,o;if(s==0)break;switch(a){case 0:{for(var l=n[0];t[n[0]++]>=128;);o=t.slice(l,n[0])}break;case 5:i=4,o=t.slice(n[0],n[0]+i),n[0]+=i;break;case 1:i=8,o=t.slice(n[0],n[0]+i),n[0]+=i;break;case 2:i=ex(t,n),o=t.slice(n[0],n[0]+i),n[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(s," at offset ").concat(r))}var A={data:o,type:a};e[s]==null?e[s]=[A]:e[s].push(A)}return e}function Xa(t){var e=[];return t.forEach(function(n,r){n.forEach(function(s){s.data&&(e.push(Ur(r*8+s.type)),s.type==2&&e.push(Ur(s.data.length)),e.push(s.data))})}),tf(e)}function u4(t,e){return(t==null?void 0:t.map(function(n){return e(n.data)}))||[]}function vl(t){for(var e,n=[],r=[0];r[0]<t.length;){var s=ex(t,r),a=Cr(t.slice(r[0],r[0]+s));r[0]+=s;var i={id:Us(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=Cr(o.data),A=Us(l[3][0].data);i.messages.push({meta:l,data:t.slice(r[0],r[0]+A)}),r[0]+=A}),(e=a[3])!=null&&e[0]&&(i.merge=Us(a[3][0].data)>>>0>0),n.push(i)}return n}function c0(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:Ur(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Ur(+!!n.merge),type:0}]);var s=[];n.messages.forEach(function(i){s.push(i.data),i.meta[3]=[{type:0,data:Ur(i.data.length)}],r[2].push({data:Xa(i.meta),type:2})});var a=Xa(r);e.push(Ur(a.length)),e.push(a),s.forEach(function(i){return e.push(i)})}),tf(e)}function Ppe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=ex(e,n),s=[];n[0]<e.length;){var a=e[n[0]]&3;if(a==0){var i=e[n[0]++]>>2;if(i<60)++i;else{var o=i-59;i=e[n[0]],o>1&&(i|=e[n[0]+1]<<8),o>2&&(i|=e[n[0]+2]<<16),o>3&&(i|=e[n[0]+3]<<24),i>>>=0,i++,n[0]+=o}s.push(e.slice(n[0],n[0]+i)),n[0]+=i;continue}else{var l=0,A=0;if(a==1?(A=(e[n[0]]>>2&7)+4,l=(e[n[0]++]&224)<<3,l|=e[n[0]++]):(A=(e[n[0]++]>>2)+1,a==2?(l=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(l=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),s=[tf(s)],l==0)throw new Error("Invalid offset 0");if(l>s[0].length)throw new Error("Invalid offset beyond length");if(A>=l)for(s.push(s[0].slice(-l)),A-=l;A>=s[s.length-1].length;)s.push(s[s.length-1]),A-=s[s.length-1].length;s.push(s[0].slice(-l,-l+A))}}var d=tf(s);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function yl(t){for(var e=[],n=0;n<t.length;){var r=t[n++],s=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(Ppe(r,t.slice(n,n+s))),n+=s}if(n!==t.length)throw new Error("data is not a valid framed stream!");return tf(e)}function A0(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),s=new Uint8Array(4);e.push(s);var a=Ur(r),i=a.length;e.push(a),r<=60?(i++,e.push(new Uint8Array([r-1<<2]))):r<=256?(i+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(i+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(i+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(i+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),i+=r,s[0]=0,s[1]=i&255,s[2]=i>>8&255,s[3]=i>>16&255,n+=r}return tf(e)}function jpe(t,e,n,r){var s=fh(t),a=s.getUint32(4,!0),i=(r>1?12:8)+qF(a&(r>1?3470:398))*4,o=-1,l=-1,A=NaN,d=new Date(2001,0,1);a&512&&(o=s.getUint32(i,!0),i+=4),i+=qF(a&(r>1?12288:4096))*4,a&16&&(l=s.getUint32(i,!0),i+=4),a&32&&(A=s.getFloat64(i,!0),i+=8),a&64&&(d.setTime(d.getTime()+s.getFloat64(i,!0)*1e3),i+=8);var h;switch(t[2]){case 0:break;case 2:h={t:"n",v:A};break;case 3:h={t:"s",v:e[l]};break;case 5:h={t:"d",v:d};break;case 6:h={t:"b",v:A>0};break;case 7:h={t:"n",v:A/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:n[o]};else if(l>-1)h={t:"s",v:e[l]};else if(!isNaN(A))h={t:"n",v:A};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return h}function Ope(t,e,n){var r=fh(t),s=r.getUint32(8,!0),a=12,i=-1,o=-1,l=NaN,A=NaN,d=new Date(2001,0,1);s&1&&(l=Lpe(t,a),a+=16),s&2&&(A=r.getFloat64(a,!0),a+=8),s&4&&(d.setTime(d.getTime()+r.getFloat64(a,!0)*1e3),a+=8),s&8&&(o=r.getUint32(a,!0),a+=4),s&16&&(i=r.getUint32(a,!0),a+=4);var h;switch(t[1]){case 0:break;case 2:h={t:"n",v:l};break;case 3:h={t:"s",v:e[o]};break;case 5:h={t:"d",v:d};break;case 6:h={t:"b",v:A>0};break;case 7:h={t:"n",v:A/86400};break;case 8:h={t:"e",v:0};break;case 9:if(i>-1)h={t:"s",v:n[i]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(s&31," : ").concat(t.slice(0,4)));break;case 10:h={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(s&31," : ").concat(t.slice(0,4)))}return h}function LC(t,e){var n=new Uint8Array(32),r=fh(n),s=12,a=0;switch(n[0]=5,t.t){case"n":n[1]=2,Mpe(n,s,t.v),a|=1,s+=16;break;case"b":n[1]=6,r.setFloat64(s,t.v?1:0,!0),a|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(s,e.indexOf(t.v),!0),a|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,a,!0),n.slice(0,s)}function MC(t,e){var n=new Uint8Array(32),r=fh(n),s=12,a=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(s,t.v,!0),a|=32,s+=8;break;case"b":n[2]=6,r.setFloat64(s,t.v?1:0,!0),a|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(s,e.indexOf(t.v),!0),a|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,a,!0),n.slice(0,s)}function Qpe(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return jpe(t,e,n,t[0]);case 5:return Ope(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Si(t){var e=Cr(t);return ex(e[1][0].data)}function WF(t,e){var n=Cr(e.data),r=Us(n[1][0].data),s=n[3],a=[];return(s||[]).forEach(function(i){var o=Cr(i.data),l=Us(o[1][0].data)>>>0;switch(r){case 1:a[l]=j_(o[3][0].data);break;case 8:{var A=t[Si(o[9][0].data)][0],d=Cr(A.data),h=t[Si(d[1][0].data)][0],p=Us(h.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var g=Cr(h.data);a[l]=g[3].map(function(w){return j_(w.data)}).join("")}break}}),a}function Hpe(t,e){var n,r,s,a,i,o,l,A,d,h,p,g,w,b,E=Cr(t),T=Us(E[1][0].data)>>>0,I=Us(E[2][0].data)>>>0,k=((r=(n=E[8])==null?void 0:n[0])==null?void 0:r.data)&&Us(E[8][0].data)>0||!1,F,R;if((a=(s=E[7])==null?void 0:s[0])!=null&&a.data&&e!=0)F=(o=(i=E[7])==null?void 0:i[0])==null?void 0:o.data,R=(A=(l=E[6])==null?void 0:l[0])==null?void 0:A.data;else if((h=(d=E[4])==null?void 0:d[0])!=null&&h.data&&e!=1)F=(g=(p=E[4])==null?void 0:p[0])==null?void 0:g.data,R=(b=(w=E[3])==null?void 0:w[0])==null?void 0:b.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var L=k?4:1,S=fh(F),N=[],B=0;B<F.length/2;++B){var H=S.getUint16(B*2,!0);H<65535&&N.push([B,H])}if(N.length!=I)throw"Expected ".concat(I," cells, found ").concat(N.length);var P=[];for(B=0;B<N.length-1;++B)P[N[B][0]]=R.subarray(N[B][1]*L,N[B+1][1]*L);return N.length>=1&&(P[N[N.length-1][0]]=R.subarray(N[N.length-1][1]*L)),{R:T,cells:P}}function Vpe(t,e){var n,r=Cr(e.data),s=(n=r==null?void 0:r[7])!=null&&n[0]?Us(r[7][0].data)>>>0>0?1:0:-1,a=u4(r[5],function(i){return Hpe(i,s)});return{nrows:Us(r[4][0].data)>>>0,data:a.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(l,A){if(i[o.R][A])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(A));i[o.R][A]=l}),i},[])}}function Gpe(t,e,n){var r,s=Cr(e.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(Us(s[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(a.e.c=(Us(s[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));n["!ref"]=Rn(a);var i=Cr(s[4][0].data),o=WF(t,t[Si(i[4][0].data)][0]),l=(r=i[17])!=null&&r[0]?WF(t,t[Si(i[17][0].data)][0]):[],A=Cr(i[3][0].data),d=0;A[1].forEach(function(h){var p=Cr(h.data),g=t[Si(p[2][0].data)][0],w=Us(g.meta[1][0].data);if(w!=6002)throw new Error("6001 unexpected reference to ".concat(w));var b=Vpe(t,g);b.data.forEach(function(E,T){E.forEach(function(I,k){var F=wn({r:d+T,c:k}),R=Qpe(I,o,l);R&&(n[F]=R)})}),d+=b.nrows})}function zpe(t,e){var n=Cr(e.data),r={"!ref":"A1"},s=t[Si(n[2][0].data)],a=Us(s[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return Gpe(t,s[0],r),r}function Kpe(t,e){var n,r=Cr(e.data),s={name:(n=r[1])!=null&&n[0]?j_(r[1][0].data):"",sheets:[]},a=u4(r[2],Si);return a.forEach(function(i){t[i].forEach(function(o){var l=Us(o.meta[1][0].data);l==6e3&&s.sheets.push(zpe(t,o))})}),s}function qpe(t,e){var n=g4(),r=Cr(e.data),s=u4(r[1],Si);if(s.forEach(function(a){t[a].forEach(function(i){var o=Us(i.meta[1][0].data);if(o==2){var l=Kpe(t,i);l.sheets.forEach(function(A,d){x4(n,A,d==0?l.name:l.name+"_"+d,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function PC(t){var e,n,r,s,a={},i=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var A;try{A=yl(l.content)}catch(h){return console.log("?? "+l.content.length+" "+(h.message||h))}var d;try{d=vl(A)}catch(h){return console.log("## "+(h.message||h))}d.forEach(function(h){a[h.id]=h.messages,i.push(h.id)})}}),!i.length)throw new Error("File has no messages");var o=((s=(r=(n=(e=a==null?void 0:a[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:s[0].data)&&Us(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||i.forEach(function(l){a[l].forEach(function(A){var d=Us(A.meta[1][0].data)>>>0;if(d==1)if(!o)o=A;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return qpe(a,o)}function Wpe(t,e,n){var r,s,a,i;if(!((r=t[6])!=null&&r[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var o=((i=(a=t[8])==null?void 0:a[0])==null?void 0:i.data)&&Us(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,A=fh(t[7][0].data),d=0,h=[],p=fh(t[4][0].data),g=0,w=[],b=0;b<e.length;++b){if(e[b]==null){A.setUint16(b*2,65535,!0),p.setUint16(b*2,65535);continue}A.setUint16(b*2,d,!0),p.setUint16(b*2,g,!0);var E,T;switch(typeof e[b]){case"string":E=LC({t:"s",v:e[b]},n),T=MC({t:"s",v:e[b]},n);break;case"number":E=LC({t:"n",v:e[b]},n),T=MC({t:"n",v:e[b]},n);break;case"boolean":E=LC({t:"b",v:e[b]},n),T=MC({t:"b",v:e[b]},n);break;default:throw new Error("Unsupported value "+e[b])}h.push(E),d+=E.length,w.push(T),g+=T.length,++l}for(t[2][0].data=Ur(l);b<t[7][0].data.length/2;++b)A.setUint16(b*2,65535,!0),p.setUint16(b*2,65535,!0);return t[6][0].data=tf(h),t[3][0].data=tf(w),l}function $pe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=xo(n["!ref"]);r.s.r=r.s.c=0;var s=!1;r.e.c>9&&(s=!0,r.e.c=9),r.e.r>49&&(s=!0,r.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Rn(r)));var a=ty(n,{range:r,header:1}),i=["~Sh33tJ5~"];a.forEach(function(W){return W.forEach(function(J){typeof J=="string"&&i.push(J)})});var o={},l=[],A=ln.read(e.numbers,{type:"base64"});A.FileIndex.map(function(W,J){return[W,A.FullPaths[J]]}).forEach(function(W){var J=W[0],ne=W[1];if(J.type==2&&J.name.match(/\.iwa/)){var ie=J.content,de=yl(ie),me=vl(de);me.forEach(function(xe){l.push(xe.id),o[xe.id]={deps:[],location:ne,type:Us(xe.messages[0].meta[1][0].data)}})}}),l.sort(function(W,J){return W-J});var d=l.filter(function(W){return W>1}).map(function(W){return[W,Ur(W)]});A.FileIndex.map(function(W,J){return[W,A.FullPaths[J]]}).forEach(function(W){var J=W[0];if(W[1],!!J.name.match(/\.iwa/)){var ne=vl(yl(J.content));ne.forEach(function(ie){ie.messages.forEach(function(de){d.forEach(function(me){ie.messages.some(function(xe){return Us(xe.meta[1][0].data)!=11006&&Upe(xe.data,me[1])})&&o[me[0]].deps.push(ie.id)})})})}});for(var h=ln.find(A,o[1].location),p=vl(yl(h.content)),g,w=0;w<p.length;++w){var b=p[w];b.id==1&&(g=b)}var E=Si(Cr(g.messages[0].data)[1][0].data);for(h=ln.find(A,o[E].location),p=vl(yl(h.content)),w=0;w<p.length;++w)b=p[w],b.id==E&&(g=b);for(E=Si(Cr(g.messages[0].data)[2][0].data),h=ln.find(A,o[E].location),p=vl(yl(h.content)),w=0;w<p.length;++w)b=p[w],b.id==E&&(g=b);for(E=Si(Cr(g.messages[0].data)[2][0].data),h=ln.find(A,o[E].location),p=vl(yl(h.content)),w=0;w<p.length;++w)b=p[w],b.id==E&&(g=b);var T=Cr(g.messages[0].data);{T[6][0].data=Ur(r.e.r+1),T[7][0].data=Ur(r.e.c+1);var I=Si(T[46][0].data),k=ln.find(A,o[I].location),F=vl(yl(k.content));{for(var R=0;R<F.length&&F[R].id!=I;++R);if(F[R].id!=I)throw"Bad ColumnRowUIDMapArchive";var L=Cr(F[R].messages[0].data);L[1]=[],L[2]=[],L[3]=[];for(var S=0;S<=r.e.c;++S){var N=[];N[1]=N[2]=[{type:0,data:Ur(S+420690)}],L[1].push({type:2,data:Xa(N)}),L[2].push({type:0,data:Ur(S)}),L[3].push({type:0,data:Ur(S)})}L[4]=[],L[5]=[],L[6]=[];for(var B=0;B<=r.e.r;++B)N=[],N[1]=N[2]=[{type:0,data:Ur(B+726270)}],L[4].push({type:2,data:Xa(N)}),L[5].push({type:0,data:Ur(B)}),L[6].push({type:0,data:Ur(B)});F[R].messages[0].data=Xa(L)}k.content=A0(c0(F)),k.size=k.content.length,delete T[46];var H=Cr(T[4][0].data);{H[7][0].data=Ur(r.e.r+1);var P=Cr(H[1][0].data),M=Si(P[2][0].data);k=ln.find(A,o[M].location),F=vl(yl(k.content));{if(F[0].id!=M)throw"Bad HeaderStorageBucket";var V=Cr(F[0].messages[0].data);for(B=0;B<a.length;++B){var G=Cr(V[2][0].data);G[1][0].data=Ur(B),G[4][0].data=Ur(a[B].length),V[2][B]={type:V[2][0].type,data:Xa(G)}}F[0].messages[0].data=Xa(V)}k.content=A0(c0(F)),k.size=k.content.length;var oe=Si(H[2][0].data);k=ln.find(A,o[oe].location),F=vl(yl(k.content));{if(F[0].id!=oe)throw"Bad HeaderStorageBucket";for(V=Cr(F[0].messages[0].data),S=0;S<=r.e.c;++S)G=Cr(V[2][0].data),G[1][0].data=Ur(S),G[4][0].data=Ur(r.e.r+1),V[2][S]={type:V[2][0].type,data:Xa(G)};F[0].messages[0].data=Xa(V)}k.content=A0(c0(F)),k.size=k.content.length;var K=Si(H[4][0].data);(function(){for(var W=ln.find(A,o[K].location),J=vl(yl(W.content)),ne,ie=0;ie<J.length;++ie){var de=J[ie];de.id==K&&(ne=de)}var me=Cr(ne.messages[0].data);{me[3]=[];var xe=[];i.forEach(function(ae,Fe){xe[1]=[{type:0,data:Ur(Fe)}],xe[2]=[{type:0,data:Ur(1)}],xe[3]=[{type:2,data:Dpe(ae)}],me[3].push({type:2,data:Xa(xe)})})}ne.messages[0].data=Xa(me);var Se=c0(J),ge=A0(Se);W.content=ge,W.size=W.content.length})();var Z=Cr(H[3][0].data);{var re=Z[1][0];delete Z[2];var q=Cr(re.data);{var X=Si(q[2][0].data);(function(){for(var W=ln.find(A,o[X].location),J=vl(yl(W.content)),ne,ie=0;ie<J.length;++ie){var de=J[ie];de.id==X&&(ne=de)}var me=Cr(ne.messages[0].data);{delete me[6],delete Z[7];var xe=new Uint8Array(me[5][0].data);me[5]=[];for(var Se=0,ge=0;ge<=r.e.r;++ge){var ae=Cr(xe);Se+=Wpe(ae,a[ge],i),ae[1][0].data=Ur(ge),me[5].push({data:Xa(ae),type:2})}me[1]=[{type:0,data:Ur(r.e.c+1)}],me[2]=[{type:0,data:Ur(r.e.r+1)}],me[3]=[{type:0,data:Ur(Se)}],me[4]=[{type:0,data:Ur(r.e.r+1)}]}ne.messages[0].data=Xa(me);var Fe=c0(J),et=A0(Fe);W.content=et,W.size=W.content.length})()}re.data=Xa(q)}H[3][0].data=Xa(Z)}T[4][0].data=Xa(H)}g.messages[0].data=Xa(T);var ue=c0(p),j=A0(ue);return h.content=j,h.size=h.content.length,A}function g7(t){return function(n){for(var r=0;r!=t.length;++r){var s=t[r];n[s[0]]===void 0&&(n[s[0]]=s[1]),s[2]==="n"&&(n[s[0]]=Number(n[s[0]]))}}}function d4(t){g7([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function f4(t){g7([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function Ype(t){return Jn.WS.indexOf(t)>-1?"sheet":t==Jn.CS?"chart":t==Jn.DS?"dialog":t==Jn.MS?"macro":t&&t.length?t:"sheet"}function Jpe(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,Ype(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function Xpe(t,e,n,r,s,a,i,o,l,A,d,h){try{a[r]=wg(Ho(t,n,!0),e);var p=ua(t,e),g;switch(o){case"sheet":g=yme(p,e,s,l,a[r],A,d,h);break;case"chart":if(g=wme(p,e,s,l,a[r],A,d,h),!g||!g["!drawel"])break;var w=Xp(g["!drawel"].Target,e),b=Wg(w),E=ode(Ho(t,w,!0),wg(Ho(t,b,!0),w)),T=Xp(E,w),I=Wg(T);g=W0e(Ho(t,T,!0),T,l,wg(Ho(t,I,!0),T),A,g);break;case"macro":g=bme(p,e,s,l,a[r],A,d,h);break;case"dialog":g=Cme(p,e,s,l,a[r],A,d,h);break;default:throw new Error("Unrecognized sheet type "+o)}i[r]=g;var k=[];a&&a[r]&&Ls(a[r]).forEach(function(F){var R="";if(a[r][F].Type==Jn.CMNT){R=Xp(a[r][F].Target,e);var L=Tme(ua(t,R,!0),R,l);if(!L||!L.length)return;RF(g,L,!1)}a[r][F].Type==Jn.TCMNT&&(R=Xp(a[r][F].Target,e),k=k.concat(cde(ua(t,R,!0),l)))}),k&&k.length&&RF(g,k,!0,l.people||[])}catch(F){if(l.WTF)throw F}}function gl(t){return t.charAt(0)=="/"?t.slice(1):t}function Zpe(t,e){if(Pm(),e=e||{},d4(e),wl(t,"META-INF/manifest.xml")||wl(t,"objectdata.xml"))return GF(t,e);if(wl(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof PC<"u"){if(t.FileIndex)return PC(t);var n=ln.utils.cfb_new();return eF(t).forEach(function(G){jn(n,G,Aoe(t,G))}),PC(n)}throw new Error("Unsupported NUMBERS file")}if(!wl(t,"[Content_Types].xml"))throw wl(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):wl(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=eF(t),s=rle(Ho(t,"[Content_Types].xml")),a=!1,i,o;if(s.workbooks.length===0&&(o="xl/workbook.xml",ua(t,o,!0)&&s.workbooks.push(o)),s.workbooks.length===0){if(o="xl/workbook.bin",!ua(t,o,!0))throw new Error("Could not find workbook");s.workbooks.push(o),a=!0}s.workbooks[0].slice(-3)=="bin"&&(a=!0);var l={},A={};if(!e.bookSheets&&!e.bookProps){if(bg=[],s.sst)try{bg=Sme(ua(t,gl(s.sst)),s.sst,e)}catch(G){if(e.WTF)throw G}e.cellStyles&&s.themes.length&&(l=_me(Ho(t,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],e)),s.style&&(A=Eme(ua(t,gl(s.style)),s.style,l,e))}s.links.map(function(G){try{var oe=wg(Ho(t,Wg(gl(G))),G);return Nme(ua(t,gl(G)),oe,G,e)}catch{}});var d=vme(ua(t,gl(s.workbooks[0])),s.workbooks[0],e),h={},p="";s.coreprops.length&&(p=ua(t,gl(s.coreprops[0]),!0),p&&(h=aP(p)),s.extprops.length!==0&&(p=ua(t,gl(s.extprops[0]),!0),p&&Ale(p,h,e)));var g={};(!e.bookSheets||e.bookProps)&&s.custprops.length!==0&&(p=Ho(t,gl(s.custprops[0]),!0),p&&(g=dle(p,e)));var w={};if((e.bookSheets||e.bookProps)&&(d.Sheets?i=d.Sheets.map(function(oe){return oe.name}):h.Worksheets&&h.SheetNames.length>0&&(i=h.SheetNames),e.bookProps&&(w.Props=h,w.Custprops=g),e.bookSheets&&typeof i<"u"&&(w.SheetNames=i),e.bookSheets?w.SheetNames:e.bookProps))return w;i={};var b={};e.bookDeps&&s.calcchain&&(b=Bme(ua(t,gl(s.calcchain)),s.calcchain));var E=0,T={},I,k;{var F=d.Sheets;h.Worksheets=F.length,h.SheetNames=[];for(var R=0;R!=F.length;++R)h.SheetNames[R]=F[R].name}var L=a?"bin":"xml",S=s.workbooks[0].lastIndexOf("/"),N=(s.workbooks[0].slice(0,S+1)+"_rels/"+s.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");wl(t,N)||(N="xl/_rels/workbook."+L+".rels");var B=wg(Ho(t,N,!0),N.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(e.xlmeta=kme(ua(t,gl(s.metadata[0])),s.metadata[0],e)),(s.people||[]).length>=1&&(e.people=ude(ua(t,gl(s.people[0])),e)),B&&(B=Jpe(B,d.Sheets));var H=ua(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(E=0;E!=h.Worksheets;++E){var P="sheet";if(B&&B[E]?(I="xl/"+B[E][1].replace(/[\/]?xl\//,""),wl(t,I)||(I=B[E][1]),wl(t,I)||(I=N.replace(/_rels\/.*$/,"")+B[E][1]),P=B[E][2]):(I="xl/worksheets/sheet"+(E+1-H)+"."+L,I=I.replace(/sheet0\./,"sheet.")),k=I.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(E!=e.sheets)continue e;break;case"string":if(h.SheetNames[E].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var M=!1,V=0;V!=e.sheets.length;++V)typeof e.sheets[V]=="number"&&e.sheets[V]==E&&(M=1),typeof e.sheets[V]=="string"&&e.sheets[V].toLowerCase()==h.SheetNames[E].toLowerCase()&&(M=1);if(!M)continue e}}Xpe(t,I,k,h.SheetNames[E],E,T,i,P,e,d,l,A)}return w={Directory:s,Workbook:d,Props:h,Custprops:g,Deps:b,Sheets:i,SheetNames:h.SheetNames,Strings:bg,Styles:A,Themes:l,SSF:os(gn)},e&&e.bookFiles&&(t.files?(w.keys=r,w.files=t.files):(w.keys=[],w.files={},t.FullPaths.forEach(function(G,oe){G=G.replace(/^Root Entry[\/]/,""),w.keys.push(G),w.files[G]=t.FileIndex[oe]}))),e&&e.bookVBA&&(s.vba.length>0?w.vbaraw=ua(t,gl(s.vba[0]),!0):s.defaults&&s.defaults.bin===vde&&(w.vbaraw=ua(t,"xl/vbaProject.bin",!0))),w}function ege(t,e){var n=e||{},r="Workbook",s=ln.find(t,r);try{if(r="/!DataSpaces/Version",s=ln.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(kAe(s.content),r="/!DataSpaces/DataSpaceMap",s=ln.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=FAe(s.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=ln.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);var i=RAe(s.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=ln.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);UAe(s.content)}catch{}if(r="/EncryptionInfo",s=ln.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=LAe(s.content);if(r="/EncryptedPackage",s=ln.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],s.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],s.content,n.password||"",n);throw new Error("File is password-protected")}function tge(t,e){return e.bookType=="ods"?p7(t,e):e.bookType=="numbers"?$pe(t,e):e.bookType=="xlsb"?nge(t,e):rge(t,e)}function nge(t,e){M0=1024,t&&!t.SSF&&(t.SSF=os(gn)),t&&t.SSF&&(Pm(),nw(t.SSF),e.revssf=sw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Cg?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=GP.indexOf(e.bookType)>-1,s=X5();f4(e=e||{});var a=P5(),i="",o=0;if(e.cellXfs=[],cf(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),i="docProps/core.xml",jn(a,i,iP(t.Props,e)),s.coreprops.push(i),Lr(e.rels,2,i,Jn.CORE_PROPS),i="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],A=0;A<t.SheetNames.length;++A)(t.Workbook.Sheets[A]||{}).Hidden!=2&&l.push(t.SheetNames[A]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,jn(a,i,cP(t.Props)),s.extprops.push(i),Lr(e.rels,3,i,Jn.EXT_PROPS),t.Custprops!==t.Props&&Ls(t.Custprops||{}).length>0&&(i="docProps/custom.xml",jn(a,i,AP(t.Custprops)),s.custprops.push(i),Lr(e.rels,4,i,Jn.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var d={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:i="xl/worksheets/sheet"+o+"."+n,jn(a,i,Fme(o-1,i,e,t,d)),s.sheets.push(i),Lr(e.wbrels,-1,"worksheets/sheet"+o+"."+n,Jn.WS[0])}if(h){var g=h["!comments"],w=!1,b="";g&&g.length>0&&(b="xl/comments"+o+"."+n,jn(a,b,Ume(g,b)),s.comments.push(b),Lr(d,-1,"../comments"+o+"."+n,Jn.CMNT),w=!0),h["!legacy"]&&w&&jn(a,"xl/drawings/vmlDrawing"+o+".vml",HP(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&jn(a,Wg(i),em(d))}return e.Strings!=null&&e.Strings.length>0&&(i="xl/sharedStrings."+n,jn(a,i,Dme(e.Strings,i,e)),s.strs.push(i),Lr(e.wbrels,-1,"sharedStrings."+n,Jn.SST)),i="xl/workbook."+n,jn(a,i,Ime(t,i)),s.workbooks.push(i),Lr(e.rels,1,i,Jn.WB),i="xl/theme/theme1.xml",jn(a,i,s4(t.Themes,e)),s.themes.push(i),Lr(e.wbrels,-1,"theme/theme1.xml",Jn.THEME),i="xl/styles."+n,jn(a,i,Rme(t,i,e)),s.styles.push(i),Lr(e.wbrels,-1,"styles."+n,Jn.STY),t.vbaraw&&r&&(i="xl/vbaProject.bin",jn(a,i,t.vbaraw),s.vba.push(i),Lr(e.wbrels,-1,"vbaProject.bin",Jn.VBA)),i="xl/metadata."+n,jn(a,i,Lme(i)),s.metadata.push(i),Lr(e.wbrels,-1,"metadata."+n,Jn.XLMETA),jn(a,"[Content_Types].xml",rP(s,e)),jn(a,"_rels/.rels",em(e.rels)),jn(a,"xl/_rels/workbook."+n+".rels",em(e.wbrels)),delete e.revssf,delete e.ssf,a}function rge(t,e){M0=1024,t&&!t.SSF&&(t.SSF=os(gn)),t&&t.SSF&&(Pm(),nw(t.SSF),e.revssf=sw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Cg?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=GP.indexOf(e.bookType)>-1,s=X5();f4(e=e||{});var a=P5(),i="",o=0;if(e.cellXfs=[],cf(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),i="docProps/core.xml",jn(a,i,iP(t.Props,e)),s.coreprops.push(i),Lr(e.rels,2,i,Jn.CORE_PROPS),i="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],A=0;A<t.SheetNames.length;++A)(t.Workbook.Sheets[A]||{}).Hidden!=2&&l.push(t.SheetNames[A]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,jn(a,i,cP(t.Props)),s.extprops.push(i),Lr(e.rels,3,i,Jn.EXT_PROPS),t.Custprops!==t.Props&&Ls(t.Custprops||{}).length>0&&(i="docProps/custom.xml",jn(a,i,AP(t.Custprops)),s.custprops.push(i),Lr(e.rels,4,i,Jn.CUST_PROPS));var d=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},p=t.Sheets[t.SheetNames[o-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:i="xl/worksheets/sheet"+o+"."+n,jn(a,i,t7(o-1,e,t,h)),s.sheets.push(i),Lr(e.wbrels,-1,"worksheets/sheet"+o+"."+n,Jn.WS[0])}if(p){var w=p["!comments"],b=!1,E="";if(w&&w.length>0){var T=!1;w.forEach(function(I){I[1].forEach(function(k){k.T==!0&&(T=!0)})}),T&&(E="xl/threadedComments/threadedComment"+o+"."+n,jn(a,E,Ade(w,d,e)),s.threadedcomments.push(E),Lr(h,-1,"../threadedComments/threadedComment"+o+"."+n,Jn.TCMNT)),E="xl/comments"+o+"."+n,jn(a,E,VP(w)),s.comments.push(E),Lr(h,-1,"../comments"+o+"."+n,Jn.CMNT),b=!0}p["!legacy"]&&b&&jn(a,"xl/drawings/vmlDrawing"+o+".vml",HP(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&jn(a,Wg(i),em(h))}return e.Strings!=null&&e.Strings.length>0&&(i="xl/sharedStrings."+n,jn(a,i,kP(e.Strings,e)),s.strs.push(i),Lr(e.wbrels,-1,"sharedStrings."+n,Jn.SST)),i="xl/workbook."+n,jn(a,i,i7(t)),s.workbooks.push(i),Lr(e.rels,1,i,Jn.WB),i="xl/theme/theme1.xml",jn(a,i,s4(t.Themes,e)),s.themes.push(i),Lr(e.wbrels,-1,"theme/theme1.xml",Jn.THEME),i="xl/styles."+n,jn(a,i,PP(t,e)),s.styles.push(i),Lr(e.wbrels,-1,"styles."+n,Jn.STY),t.vbaraw&&r&&(i="xl/vbaProject.bin",jn(a,i,t.vbaraw),s.vba.push(i),Lr(e.wbrels,-1,"vbaProject.bin",Jn.VBA)),i="xl/metadata."+n,jn(a,i,QP()),s.metadata.push(i),Lr(e.wbrels,-1,"metadata."+n,Jn.XLMETA),d.length>1&&(i="xl/persons/person.xml",jn(a,i,dde(d)),s.people.push(i),Lr(e.wbrels,-1,"persons/person.xml",Jn.PEOPLE)),jn(a,"[Content_Types].xml",rP(s,e)),jn(a,"_rels/.rels",em(e.rels)),jn(a,"xl/_rels/workbook."+n+".rels",em(e.wbrels)),delete e.revssf,delete e.ssf,a}function h4(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=Ko(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function sge(t,e){return ln.find(t,"EncryptedPackage")?ege(t,e):A7(t,e)}function age(t,e){var n,r=t,s=e||{};return s.type||(s.type=Kn&&Buffer.isBuffer(t)?"buffer":"base64"),n=FM(r,s),Zpe(n,s)}function x7(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return M_(t.slice(n),e);default:break e}return gm.to_workbook(t,e)}function ige(t,e){var n="",r=h4(t,e);switch(e.type){case"base64":n=Ko(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=ch(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=qr(n)),e.type="binary",x7(n,e)}function oge(t,e){var n=t;return e.type=="base64"&&(n=Ko(n)),n=Hg.utils.decode(1200,n.slice(2),"str"),e.type="binary",x7(n,e)}function lge(t){return t.match(/[^\x00-\x7F]/)?uA(t):t}function jC(t,e,n,r){return r?(n.type="string",gm.to_workbook(t,n)):gm.to_workbook(e,n)}function tx(t,e){R5();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return tx(new Uint8Array(t),(n=os(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,s=[0,0,0,0],a=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),nm={},n.dateNF&&(nm.dateNF=n.dateNF),n.type||(n.type=Kn&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=Kn?"buffer":"binary",r=noe(t),typeof Uint8Array<"u"&&!Kn&&(n.type="array")),n.type=="string"&&(a=!0,n.type="binary",n.codepage=65001,r=lge(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return n=os(n),n.type="array",tx(D5(r),n)}switch((s=h4(r,n))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return sge(ln.read(r,n),n);break;case 9:if(s[1]<=8)return A7(r,n);break;case 60:return M_(r,n);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return fAe(r,n);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return BP.to_workbook(r,n);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?age(r,n):jC(t,r,n,a);case 239:return s[3]===60?M_(r,n):jC(t,r,n,a);case 255:if(s[1]===254)return oge(r,n);if(s[1]===0&&s[2]===2&&s[3]===0)return Jf.to_workbook(r,n);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return Jf.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return L_.to_workbook(r,n);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return UP.to_workbook(r,n);break;case 10:case 13:case 32:return ige(r,n);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return dAe.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?L_.to_workbook(r,n):jC(t,r,n,a)}function v7(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Sx(e.file,ln.write(t,{type:Kn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return ln.write(t,e)}function cge(t,e){var n=os(e||{}),r=tge(t,n);return Age(r,n)}function Age(t,e){var n={},r=Kn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?ln.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(tw(s))}return e.password&&typeof encrypt_agile<"u"?v7(encrypt_agile(s,e.password),e):e.type==="file"?Sx(e.file,s):e.type=="string"?qr(s):s}function uge(t,e){var n=e||{},r=lpe(t,n);return v7(r,n)}function oA(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return Vg(uA(r));case"binary":return uA(r);case"string":return t;case"file":return Sx(e.file,r,"utf8");case"buffer":return Kn?Tu(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):oA(r,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function dge(t,e){switch(e.type){case"base64":return Vg(t);case"binary":return t;case"string":return t;case"file":return Sx(e.file,t,"binary");case"buffer":return Kn?Tu(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function lv(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?Vg(n):e.type=="string"?qr(n):n;case"file":return Sx(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function y7(t,e){R5(),sme(t);var n=os(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=y7(t,n);return n.type="array",tw(r)}var s=0;if(n.sheet&&(typeof n.sheet=="number"?s=n.sheet:s=t.SheetNames.indexOf(n.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return oA(tpe(t,n),n);case"slk":case"sylk":return oA(TP.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"htm":case"html":return oA(d7(t.Sheets[t.SheetNames[s]],n),n);case"txt":return dge(w7(t.Sheets[t.SheetNames[s]],n),n);case"csv":return oA(p4(t.Sheets[t.SheetNames[s]],n),n,"\uFEFF");case"dif":return oA(BP.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"dbf":return lv(L_.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"prn":return oA(gm.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"rtf":return oA(UP.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"eth":return oA(NP.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"fods":return oA(p7(t,n),n);case"wk1":return lv(Jf.sheet_to_wk1(t.Sheets[t.SheetNames[s]],n),n);case"wk3":return lv(Jf.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),lv(u7(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),uge(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return cge(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function fge(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function m4(t,e,n){var r={};return r.type="file",r.file=e,fge(r),y7(t,r)}function hge(t,e,n,r,s,a,i,o){var l=Zs(n),A=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,p=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch{p.__rowNum__=n}else p.__rowNum__=n;if(!i||t[n])for(var g=e.s.c;g<=e.e.c;++g){var w=i?t[n][g]:t[r[g]+l];if(w===void 0||w.t===void 0){if(A===void 0)continue;a[g]!=null&&(p[a[g]]=A);continue}var b=w.v;switch(w.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(a[g]!=null){if(b==null)if(w.t=="e"&&b===null)p[a[g]]=null;else if(A!==void 0)p[a[g]]=A;else if(d&&b===null)p[a[g]]=null;else continue;else p[a[g]]=d&&(w.t!=="n"||w.t==="n"&&o.rawNumbers!==!1)?b:wu(w,b,o);b!=null&&(h=!1)}}return{row:p,isempty:h}}function ty(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,s=1,a=[],i=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},A=e||{},d=A.range!=null?A.range:t["!ref"];switch(A.header===1?r=1:A.header==="A"?r=2:Array.isArray(A.header)?r=3:A.header==null&&(r=0),typeof d){case"string":l=pr(d);break;case"number":l=pr(t["!ref"]),l.s.r=d;break;default:l=d}r>0&&(s=0);var h=Zs(l.s.r),p=[],g=[],w=0,b=0,E=Array.isArray(t),T=l.s.r,I=0,k={};E&&!t[T]&&(t[T]=[]);var F=A.skipHidden&&t["!cols"]||[],R=A.skipHidden&&t["!rows"]||[];for(I=l.s.c;I<=l.e.c;++I)if(!(F[I]||{}).hidden)switch(p[I]=ys(I),n=E?t[T][I]:t[p[I]+h],r){case 1:a[I]=I-l.s.c;break;case 2:a[I]=p[I];break;case 3:a[I]=A.header[I-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=i=wu(n,null,A),b=k[i]||0,!b)k[i]=1;else{do o=i+"_"+b++;while(k[o]);k[i]=b,k[o]=1}a[I]=o}for(T=l.s.r+s;T<=l.e.r;++T)if(!(R[T]||{}).hidden){var L=hge(t,l,T,p,r,a,E,A);(L.isempty===!1||(r===1?A.blankrows!==!1:A.blankrows))&&(g[w++]=L.row)}return g.length=w,g}var $F=/"/g;function mge(t,e,n,r,s,a,i,o){for(var l=!0,A=[],d="",h=Zs(n),p=e.s.c;p<=e.e.c;++p)if(r[p]){var g=o.dense?(t[n]||[])[p]:t[r[p]+h];if(g==null)d="";else if(g.v!=null){l=!1,d=""+(o.rawNumbers&&g.t=="n"?g.v:wu(g,null,o));for(var w=0,b=0;w!==d.length;++w)if((b=d.charCodeAt(w))===s||b===a||b===34||o.forceQuotes){d='"'+d.replace($F,'""')+'"';break}d=="ID"&&(d='"ID"')}else g.f!=null&&!g.F?(l=!1,d="="+g.f,d.indexOf(",")>=0&&(d='"'+d.replace($F,'""')+'"')):d="";A.push(d)}return o.blankrows===!1&&l?null:A.join(i)}function p4(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var s=pr(t["!ref"]),a=r.FS!==void 0?r.FS:",",i=a.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),A=new RegExp((a=="|"?"\\|":a)+"+$"),d="",h=[];r.dense=Array.isArray(t);for(var p=r.skipHidden&&t["!cols"]||[],g=r.skipHidden&&t["!rows"]||[],w=s.s.c;w<=s.e.c;++w)(p[w]||{}).hidden||(h[w]=ys(w));for(var b=0,E=s.s.r;E<=s.e.r;++E)(g[E]||{}).hidden||(d=mge(t,s,E,h,i,l,a,r),d!=null&&(r.strip&&(d=d.replace(A,"")),(d||r.blankrows!==!1)&&n.push((b++?o:"")+d)));return delete r.dense,n.join("")}function w7(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=p4(t,e);return n}function pge(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var s=pr(t["!ref"]),a="",i=[],o,l=[],A=Array.isArray(t);for(o=s.s.c;o<=s.e.c;++o)i[o]=ys(o);for(var d=s.s.r;d<=s.e.r;++d)for(a=Zs(d),o=s.s.c;o<=s.e.c;++o)if(e=i[o]+a,n=A?(t[d]||[])[o]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=e+"="+r}return l}function b7(t,e,n){var r=n||{},s=+!r.skipHeader,a=t||{},i=0,o=0;if(a&&r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var l=typeof r.origin=="string"?ws(r.origin):r.origin;i=l.r,o=l.c}var A,d={s:{c:0,r:0},e:{c:o,r:i+e.length-1+s}};if(a["!ref"]){var h=pr(a["!ref"]);d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),i==-1&&(i=h.e.r+1,d.e.r=i+e.length-1+s)}else i==-1&&(i=0,d.e.r=e.length-1+s);var p=r.header||[],g=0;e.forEach(function(b,E){Ls(b).forEach(function(T){(g=p.indexOf(T))==-1&&(p[g=p.length]=T);var I=b[T],k="z",F="",R=wn({c:o+g,r:i+E+s});A=nx(a,R),I&&typeof I=="object"&&!(I instanceof Date)?a[R]=I:(typeof I=="number"?k="n":typeof I=="boolean"?k="b":typeof I=="string"?k="s":I instanceof Date?(k="d",r.cellDates||(k="n",I=Ba(I)),F=r.dateNF||gn[14]):I===null&&r.nullError&&(k="e",I=0),A?(A.t=k,A.v=I,delete A.w,delete A.R,F&&(A.z=F)):a[R]=A={t:k,v:I},F&&(A.z=F))})}),d.e.c=Math.max(d.e.c,o+p.length-1);var w=Zs(i);if(s)for(g=0;g<p.length;++g)a[ys(g+o)+w]={t:"s",v:p[g]};return a["!ref"]=Rn(d),a}function gge(t,e){return b7(null,t,e)}function nx(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=ws(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?nx(t,wn(e)):nx(t,wn({r:e,c:n||0}))}function xge(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function g4(){return{SheetNames:[],Sheets:{}}}function x4(t,e,n,r){var s=1;if(!n)for(;s<=65535&&t.SheetNames.indexOf(n="Sheet"+s)!=-1;++s,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var a=n.match(/(^.*?)(\d+)$/);s=a&&+a[2]||0;var i=a&&a[1]||n;for(++s;s<=65535&&t.SheetNames.indexOf(n=i+s)!=-1;++s);}if(a7(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function vge(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=xge(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function yge(t,e){return t.z=e,t}function C7(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function wge(t,e,n){return C7(t,"#"+e,n)}function bge(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function Cge(t,e,n,r){for(var s=typeof e!="string"?e:pr(e),a=typeof e=="string"?e:Rn(e),i=s.s.r;i<=s.e.r;++i)for(var o=s.s.c;o<=s.e.c;++o){var l=nx(t,i,o);l.t="n",l.F=a,delete l.v,i==s.s.r&&o==s.s.c&&(l.f=n,r&&(l.D=!0))}return t}var Sl={encode_col:ys,encode_row:Zs,encode_cell:wn,encode_range:Rn,decode_col:K5,decode_row:z5,split_cell:Doe,decode_cell:ws,decode_range:xo,format_cell:wu,sheet_add_aoa:YM,sheet_add_json:b7,sheet_add_dom:f7,aoa_to_sheet:jm,json_to_sheet:gge,table_to_sheet:h7,table_to_book:kpe,sheet_to_csv:p4,sheet_to_txt:w7,sheet_to_json:ty,sheet_to_html:d7,sheet_to_formulae:pge,sheet_to_row_object_array:ty,sheet_get_cell:nx,book_new:g4,book_append_sheet:x4,book_set_sheet_visibility:vge,cell_set_number_format:yge,cell_set_hyperlink:C7,cell_set_internal_link:wge,cell_add_comment:bge,sheet_set_array_formula:Cge,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Ege="apiCallLogs",YF=500,u0=({title:t,value:e,description:n,alert:r})=>u.jsxs("div",{className:`p-5 rounded-xl border ${r?"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-700":"bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700"}`,children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:t}),u.jsx("p",{className:`text-3xl font-bold mt-2 ${r?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-200"}`,children:e}),n&&u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:n})]}),OC=({title:t,data:e,colorClass:n})=>{const r=ee.useMemo(()=>Math.max(...e.map(s=>s.value),1),[e]);return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md h-full",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:t}),u.jsx("div",{className:"space-y-4",children:e.length>0?e.map(s=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[u.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:s.label}),u.jsx("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:s.value})]}),u.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:u.jsx("div",{className:`${n} h-3 rounded-full transition-all duration-500 ease-out`,style:{width:`${s.value/r*100}%`}})})]},s.label)):u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm text-center py-8",children:"No hay datos para mostrar."})})]})},_ge=()=>{const[t,e]=ee.useState([]),n=ee.useCallback(()=>{try{const i=localStorage.getItem(Ege);i&&e(JSON.parse(i))}catch(i){console.error("Error al cargar logs de la API:",i)}},[]);ee.useEffect(()=>(n(),window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}),[n]);const{stats:r,userStats:s,moduleStats:a}=ee.useMemo(()=>{const i=new Date,o=new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime(),l=o-i.getDay()*24*60*60*1e3,A=new Date(i.getFullYear(),i.getMonth(),1).getTime(),d={today:0,week:0,month:0},h={},p={};t.forEach(b=>{const E=new Date(b.timestamp).getTime();E>=o&&d.today++,E>=l&&d.week++,E>=A&&d.month++,h[b.userId]||(h[b.userId]={email:b.userEmail,today:0,month:0,total:0}),h[b.userId].total++,E>=o&&h[b.userId].today++,E>=A&&h[b.userId].month++,p[b.module]=(p[b.module]||0)+1});const g=Object.values(h).sort((b,E)=>E.total-b.total),w=Object.entries(p).map(([b,E])=>({label:b,value:E})).sort((b,E)=>E.value-b.value);return{stats:d,userStats:g,moduleStats:w}},[t]);return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Monitor de Llamadas a la API de IA"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsx(u0,{title:"Llamadas Hoy",value:r.today,description:`Lmite recomendado: ${YF}`,alert:r.today>YF}),u.jsx(u0,{title:"Llamadas esta Semana",value:r.week}),u.jsx(u0,{title:"Llamadas este Mes",value:r.month})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8",children:[u.jsx(OC,{title:"Uso por Mdulo",data:a,colorClass:"bg-sky-500"}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Uso por Usuario"}),u.jsx("div",{className:"overflow-x-auto max-h-96",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Usuario"}),u.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Hoy"}),u.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Mes"}),u.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Total"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:s.length>0?s.map(i=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:i.email}),u.jsx("td",{className:"px-4 py-2 text-center text-sm",children:i.today}),u.jsx("td",{className:"px-4 py-2 text-center text-sm",children:i.month}),u.jsx("td",{className:"px-4 py-2 text-center text-sm font-bold",children:i.total})]},i.email)):u.jsx("tr",{children:u.jsx("td",{colSpan:4,className:"text-center py-6 text-slate-500",children:"No hay registros."})})})]})})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Monitor de Almacenamiento"}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Esta seccin se conectar a Firebase en una futura actualizacin."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 opacity-50",children:[u.jsx(u0,{title:"Documentos Creados (Hoy)",value:"--"}),u.jsx(u0,{title:"Lecturas de Firestore (Hoy)",value:"--"}),u.jsx(u0,{title:"Espacio en Storage",value:"-- GB"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8 opacity-50",children:[u.jsx(OC,{title:"Actividad de Firestore (ltimos 7 das)",data:[],colorClass:"bg-green-500"}),u.jsx(OC,{title:"Uso de Storage por tipo de archivo",data:[],colorClass:"bg-purple-500"})]})]})]})},Aw=d5(Fm,"usuarios");async function E7(){return(await $L(Aw)).docs.map(e=>({id:e.id,...e.data()}))}async function QC(t){await FW(yh(Aw,t.email),t)}async function JF(t,e){await YL(yh(Aw,t),e)}async function Sge(t){await JL(yh(Aw,t))}const XF=Object.values(en),Tge=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.629 5.629l-2.371 2.37-1.414-1.414 2.371-2.371A6 6 0 0115 7zm-3.707 5.293L6 17.586V20h2.414l5.293-5.293a1 1 0 00-1.414-1.414z"})}),ZF=t=>{if(!t)return"";let e=t.trim().toLowerCase();return e=e.replace(//g,""),e=e.replace(/\s+(medio|bsico|basico)/g,""),e=e.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1"),e=e.replace(/^(\d)(?![])/,"$1"),e=e.replace(/\s+/g,"").toUpperCase(),e},Bge=()=>{const[t,e]=ee.useState([]),[n,r]=ee.useState(!1),[s,a]=ee.useState("Usuarios"),[i,o]=ee.useState({nombreCompleto:"",email:"",rut:"",profile:en.PROFESORADO,password:"",curso:"",cursos:[],asignaturas:[]}),[l,A]=ee.useState(null),[d,h]=ee.useState(""),[p,g]=ee.useState(""),[w,b]=ee.useState(""),[E,T]=ee.useState(null),[I,k]=ee.useState(null),[F,R]=ee.useState(null),L=ee.useCallback(async()=>{r(!0);try{const q=await E7();e(q)}catch(q){console.error("Error al cargar usuarios desde Firestore",q),T("No se pudieron cargar los usuarios desde la nube.")}finally{r(!1)}},[]);ee.useEffect(()=>{L()},[L]);const S=ee.useCallback(q=>{const{name:X,value:ue}=q.target;o(j=>({...j,[X]:ue,curso:X==="profile"&&ue!==en.ESTUDIANTE?"":j.curso}))},[]),N=ee.useCallback((q,X)=>{o(ue=>{const j=ue[q]||[],W=j.includes(X)?j.filter(J=>J!==X):[...j,X];return{...ue,[q]:W}})},[]),B=ee.useCallback(()=>{o({nombreCompleto:"",email:"",rut:"",profile:en.PROFESORADO,password:"",curso:"",cursos:[],asignaturas:[]}),A(null),T(null)},[]),H=ee.useCallback(async q=>{var Se;q.preventDefault();const{nombreCompleto:X,email:ue,profile:j,curso:W,cursos:J,asignaturas:ne}=i;if(!X.trim()||!ue.trim()){T("Nombre Completo y Email son obligatorios.");return}if(j===en.ESTUDIANTE&&!W){T('El campo "Curso" es obligatorio para el perfil de Estudiante.');return}const ie=j===en.ESTUDIANTE?ZF(W||""):void 0,de=j===en.PROFESORADO?J:void 0,me=j===en.PROFESORADO?ne:void 0,xe=(Se=i.password)!=null&&Se.trim()?i.password.trim():void 0;try{l?await JF(i.email,{...i,password:xe,curso:ie,cursos:de,asignaturas:me}):await QC({...i,password:xe,curso:ie,cursos:de,asignaturas:me}),await L(),B()}catch(ge){console.error("Error al guardar usuario:",ge),T("Error al guardar el usuario en la nube.")}},[i,l,L,B]),P=ee.useCallback(q=>{window.scrollTo({top:0,behavior:"smooth"}),A(q.id),o({nombreCompleto:q.nombreCompleto,email:q.email,rut:q.rut,profile:q.profile,password:"",curso:q.curso,cursos:q.cursos||[],asignaturas:q.asignaturas||[]})},[]),M=ee.useCallback(async q=>{if(window.confirm("Est seguro de que desea eliminar este usuario?"))try{await Sge(q),await L()}catch(X){console.error("Error al eliminar usuario:",X),T("No se pudo borrar el usuario en la nube.")}},[L]),V=async()=>{if(window.confirm(`ADVERTENCIA: Esta accin es irreversible.

Est seguro de que desea restablecer las contraseas de TODOS los usuarios a la contrasea por defecto ('recoleta')?

Cualquier contrasea personalizada ser eliminada.`))try{await Promise.all(t.map(X=>JF(X.email,{password:void 0}))),await L(),alert("Todas las contraseas han sido restablecidas exitosamente a 'recoleta'.")}catch(X){console.error("Error al restablecer contraseas:",X),T("Error al restablecer contraseas en la nube.")}},G=ee.useMemo(()=>Array.from(new Set(t.filter(q=>q.profile===en.ESTUDIANTE&&q.curso).map(q=>q.curso))).sort(),[t]),oe=ee.useMemo(()=>t.filter(q=>(d===""||q.nombreCompleto.toLowerCase().includes(d.toLowerCase())||q.email.toLowerCase().includes(d.toLowerCase()))&&(p===""||q.profile===p)&&(w===""||q.curso===w)),[t,d,p,w]),K=async q=>{var j;const X=(j=q.target.files)==null?void 0:j[0];if(!X)return;k({message:"Procesando archivo de estudiantes...",isError:!1});const ue=new FileReader;ue.onload=async W=>{var J;try{const ne=new Uint8Array((J=W.target)==null?void 0:J.result),ie=tx(ne,{type:"array"}),de=ie.SheetNames[0],me=ie.Sheets[de],xe=Sl.sheet_to_json(me);if(xe.length===0)throw new Error("El archivo Excel est vaco.");const Se=Object.keys(xe[0]).map(Fe=>Fe.trim().toLowerCase());if(!Se.includes("nombre")||!Se.includes("correo")||!Se.includes("curso"))throw new Error("El archivo debe tener las columnas: 'Nombre', 'Correo', y 'Curso'.");const ge={};Object.keys(xe[0]).forEach(Fe=>{ge[Fe.trim().toLowerCase()]=Fe});const ae=xe.map(Fe=>{const et=Fe[ge.nombre],De=Fe[ge.correo],Ce=Fe[ge.curso];return!et||!De||!Ce?null:{id:crypto.randomUUID(),nombreCompleto:String(et).trim(),email:String(De).trim(),profile:en.ESTUDIANTE,curso:ZF(String(Ce).trim())}}).filter(Fe=>Fe!==null&&!t.some(et=>et.email.toLowerCase()===Fe.email.toLowerCase()));ae.length>0&&(await Promise.all(ae.map(Fe=>QC(Fe))),await L()),k({message:`Carga completada. Se agregaron ${ae.length} nuevos estudiantes.`,isError:!1})}catch(ne){k({message:`Error: ${ne.message}`,isError:!0})}finally{q.target&&(q.target.value="")}},ue.readAsArrayBuffer(X)},Z=async q=>{var j;const X=(j=q.target.files)==null?void 0:j[0];if(!X)return;R({message:"Procesando archivo de personal...",isError:!1});const ue=new FileReader;ue.onload=async W=>{var J;try{const ne=new Uint8Array((J=W.target)==null?void 0:J.result),ie=tx(ne,{type:"array"}),de=ie.SheetNames[0],me=ie.Sheets[de],xe=Sl.sheet_to_json(me);if(xe.length===0)throw new Error("El archivo Excel est vaco.");const Se=Object.keys(xe[0]).map(Ce=>Ce.trim().toLowerCase());if(!Se.includes("nombre")||!Se.includes("correo")||!Se.includes("perfil"))throw new Error("El archivo debe tener las columnas: 'Nombre', 'Correo' y 'Perfil'.");const ge={};Object.keys(xe[0]).forEach(Ce=>{ge[Ce.trim().toLowerCase()]=Ce});const ae=Se.includes("curso");let Fe=0;const et=xe.map(Ce=>{const Ge=Ce[ge.nombre],nt=Ce[ge.correo],it=Ce[ge.perfil];if(!Ge||!nt||!it)return null;const dt=String(it).trim();return dt===en.ESTUDIANTE||!Object.values(en).includes(dt)?(console.warn(`Perfil invlido o de estudiante omitido: ${dt}`),null):ae&&Ce[ge.curso]?(console.warn(`Fila omitida: El perfil '${dt}' es para personal, pero se encontr una columna 'Curso' con datos. Use la carga de Estudiantes para este tipo de archivo.`),Fe++,null):{id:crypto.randomUUID(),nombreCompleto:String(Ge).trim(),email:String(nt).trim(),profile:dt}}).filter(Ce=>Ce!==null&&!t.some(Ge=>Ge.email.toLowerCase()===Ce.email.toLowerCase()));et.length>0&&(await Promise.all(et.map(Ce=>QC(Ce))),await L());let De=`Carga completada. Se agregaron ${et.length} nuevos miembros del personal.`;Fe>0&&(De+=` Se omitieron ${Fe} filas porque parecan ser de estudiantes (contenan una columna 'Curso'). Por favor, use la opcin 'Cargar Estudiantes' para ellas.`),R({message:De,isError:!1})}catch(ne){R({message:`Error: ${ne.message}`,isError:!0})}finally{q.target&&(q.target.value="")}},ue.readAsArrayBuffer(X)},re="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Administracin"}),u.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:u.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[u.jsx("button",{onClick:()=>a("Usuarios"),className:`${s==="Usuarios"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none`,children:"Gestin de Usuarios"}),u.jsx("button",{onClick:()=>a("Monitor de Uso"),className:`${s==="Monitor de Uso"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none`,children:"Monitor de Uso"})]})}),s==="Usuarios"&&u.jsxs("div",{className:"space-y-8",children:[n&&u.jsx("div",{className:"text-center text-amber-600",children:"Cargando usuarios desde la nube..."}),E&&u.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md",children:E}),!n&&t.length===0&&u.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 p-4 rounded-lg",children:"No hay usuarios registrados en la nube."}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:l?"Editando usuario":"Agregar nuevo usuario"}),u.jsxs("form",{onSubmit:H,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Completo"}),u.jsx("input",{type:"text",name:"nombreCompleto",value:i.nombreCompleto,onChange:S,className:re,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Email"}),u.jsx("input",{type:"email",name:"email",value:i.email,onChange:S,className:re,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Contrasea"}),u.jsx("input",{type:"password",name:"password",value:i.password||"",onChange:S,placeholder:"Dejar en blanco para no cambiar",className:re})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"RUT (Opcional)"}),u.jsx("input",{type:"text",name:"rut",value:i.rut||"",onChange:S,placeholder:"12.345.678-9",className:re})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Perfil de Usuario"}),u.jsx("select",{name:"profile",value:i.profile,onChange:S,className:re,required:!0,children:XF.map(q=>u.jsx("option",{value:q,children:q},q))})]}),i.profile===en.ESTUDIANTE&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),u.jsxs("select",{name:"curso",value:i.curso,onChange:S,className:re,required:!0,children:[u.jsx("option",{value:"",children:"Seleccione un curso"}),Xs.map(q=>u.jsx("option",{value:q,children:q},q))]})]})]}),i.profile===en.PROFESORADO&&u.jsxs("div",{className:"lg:col-span-3 mt-6 pt-6 border-t dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3 text-slate-800 dark:text-slate-200",children:"Asignaciones de Profesor"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("fieldset",{className:"p-4 border rounded-lg dark:border-slate-600",children:[u.jsx("legend",{className:"font-semibold px-2 text-slate-700 dark:text-slate-300",children:"Cursos Asignados"}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-4 gap-y-2 max-h-48 overflow-y-auto mt-2",children:Xs.map(q=>u.jsxs("label",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",checked:(i.cursos||[]).includes(q),onChange:()=>N("cursos",q),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400 border-slate-300"}),u.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:q})]},q))})]}),u.jsxs("fieldset",{className:"p-4 border rounded-lg dark:border-slate-600",children:[u.jsx("legend",{className:"font-semibold px-2 text-slate-700 dark:text-slate-300",children:"Asignaturas Asignadas"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2 max-h-48 overflow-y-auto mt-2",children:zo.map(q=>u.jsxs("label",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",checked:(i.asignaturas||[]).includes(q),onChange:()=>N("asignaturas",q),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400 border-slate-300"}),u.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300 truncate",title:q,children:q})]},q))})]})]})]}),u.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center col-span-full pt-2",children:['Nota: La contrasea por defecto para todos los usuarios es "',u.jsx("strong",{children:"recoleta"}),'".']}),E&&u.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md mt-4",children:E}),u.jsxs("div",{className:"pt-4 flex justify-end items-center gap-4",children:[l&&u.jsx("button",{type:"button",onClick:B,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:l?"Actualizar Usuario":"Agregar Usuario"})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Cargas Masivas desde Excel"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[u.jsx("h3",{className:"font-semibold mb-2 text-slate-700 dark:text-slate-300",children:"Cargar Estudiantes"}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:["El archivo debe tener las columnas: ",u.jsx("strong",{children:"Nombre"}),", ",u.jsx("strong",{children:"Correo"}),", ",u.jsx("strong",{children:"Curso"}),"."]}),u.jsx("input",{type:"file",onChange:K,accept:".xlsx, .xls",className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-sky-50 file:text-sky-700 hover:file:bg-sky-100"}),I&&u.jsx("p",{className:`text-sm p-2 rounded-md mt-4 ${I.isError?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:I.message})]}),u.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[u.jsx("h3",{className:"font-semibold mb-2 text-slate-700 dark:text-slate-300",children:"Cargar Personal (Profesores, etc.)"}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:["El archivo debe tener las columnas: ",u.jsx("strong",{children:"Nombre"}),", ",u.jsx("strong",{children:"Correo"}),", ",u.jsx("strong",{children:"Perfil"}),"."]}),u.jsx("input",{type:"file",onChange:Z,accept:".xlsx, .xls",className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 file:text-violet-700 hover:file:bg-violet-100"}),F&&u.jsx("p",{className:`text-sm p-2 rounded-md mt-4 ${F.isError?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:F.message})]})]})]}),!n&&t.length>0&&u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Listado de Usuarios"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[u.jsx("input",{type:"text",placeholder:"Buscar por nombre o email...",value:d,onChange:q=>h(q.target.value),className:re}),u.jsxs("select",{value:p,onChange:q=>g(q.target.value),className:re,children:[u.jsx("option",{value:"",children:"Filtrar por Perfil"}),XF.map(q=>u.jsx("option",{value:q,children:q},q))]}),u.jsxs("select",{value:w,onChange:q=>b(q.target.value),className:re,children:[u.jsx("option",{value:"",children:"Filtrar por Curso"}),G.map(q=>u.jsx("option",{value:q,children:q},q))]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Nombre Completo"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Email"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Perfil / Curso"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Acciones"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:oe.map(q=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:q.nombreCompleto}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:q.email}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:u.jsxs("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-sky-100 text-sky-800 dark:bg-sky-900/50 dark:text-sky-300",children:[q.profile," ",q.curso&&`(${q.curso})`]})}),u.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-center space-x-2",children:[u.jsx("button",{onClick:()=>P(q),title:"Editar",className:"text-yellow-600 hover:text-yellow-800 p-1 rounded-full hover:bg-yellow-100 dark:hover:bg-yellow-900/40",children:""}),u.jsx("button",{onClick:()=>M(q.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:""})]})]},q.id))})]})})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Gestin de Contraseas Masivas"}),u.jsx("div",{className:"p-4 border-l-4 border-red-500 bg-red-50 dark:bg-red-900/20",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:u.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 3.001-1.742 3.001H4.42c-1.53 0-2.493-1.667-1.743-3.001l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 011-1h.008a1 1 0 011 1v3.008a1 1 0 01-1 1h-.008a1 1 0 01-1-1V5z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-red-700 dark:text-red-200",children:"Esta accin restablecer las contraseas de TODOS los usuarios a la contrasea por defecto ('recoleta'). selo con precaucin."})})]})}),u.jsx("div",{className:"mt-4",children:u.jsxs("button",{onClick:V,className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 flex items-center gap-2",children:[u.jsx(Tge,{}),"Restablecer Todas las Contraseas"]})})]})]}),s==="Monitor de Uso"&&u.jsx(_ge,{})]})},e6="seguimientoDualRecords",Nge={Vinculado:"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300",Desvinculado:"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300","En proceso":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300",Empresa:"bg-purple-100 text-purple-800 dark:bg-purple-900/40 dark:text-purple-300"},kge=({record:t,onSave:e,onClose:n})=>{const[r,s]=ee.useState(t),a="w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600 dark:text-white",i=l=>{const{name:A,value:d,type:h,checked:p}=l.target;s(g=>({...g,[A]:h==="checkbox"?p:d}))},o=()=>{e(r)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center p-4",onClick:n,children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl animate-fade-in-up",onClick:l=>l.stopPropagation(),children:[u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Seguimiento de Supervisin"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:t.nombreEstudiante}),u.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-4 text-slate-700 dark:text-slate-300",children:[u.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[u.jsx("legend",{className:"font-semibold text-lg px-2",children:"1er Semestre"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mt-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{htmlFor:`f1s1-${t.id}`,className:"text-sm font-medium",children:"Fecha 1ra Supervisin"}),u.jsx("input",{id:`f1s1-${t.id}`,type:"date",name:"fecha1raSupervision1erSemestre",value:r.fecha1raSupervision1erSemestre||"",onChange:i,className:a})]}),u.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[u.jsx("input",{type:"checkbox",name:"realizada1raSupervision1erSemestre",checked:!!r.realizada1raSupervision1erSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),u.jsx("span",{children:"Realizada"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{htmlFor:`f2s1-${t.id}`,className:"text-sm font-medium",children:"Fecha 2da Supervisin"}),u.jsx("input",{id:`f2s1-${t.id}`,type:"date",name:"fecha2daSupervision1erSemestre",value:r.fecha2daSupervision1erSemestre||"",onChange:i,className:a})]}),u.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[u.jsx("input",{type:"checkbox",name:"realizada2daSupervision1erSemestre",checked:!!r.realizada2daSupervision1erSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),u.jsx("span",{children:"Realizada"})]})]})]}),u.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[u.jsx("legend",{className:"font-semibold text-lg px-2",children:"2do Semestre"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mt-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{htmlFor:`f1s2-${t.id}`,className:"text-sm font-medium",children:"Fecha 1ra Supervisin"}),u.jsx("input",{id:`f1s2-${t.id}`,type:"date",name:"fecha1raSupervision2doSemestre",value:r.fecha1raSupervision2doSemestre||"",onChange:i,className:a})]}),u.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[u.jsx("input",{type:"checkbox",name:"realizada1raSupervision2doSemestre",checked:!!r.realizada1raSupervision2doSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),u.jsx("span",{children:"Realizada"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{htmlFor:`f2s2-${t.id}`,className:"text-sm font-medium",children:"Fecha 2da Supervisin"}),u.jsx("input",{id:`f2s2-${t.id}`,type:"date",name:"fecha2daSupervision2doSemestre",value:r.fecha2daSupervision2doSemestre||"",onChange:i,className:a})]}),u.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[u.jsx("input",{type:"checkbox",name:"realizada2daSupervision2doSemestre",checked:!!r.realizada2daSupervision2doSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),u.jsx("span",{children:"Realizada"})]})]})]}),u.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[u.jsx("legend",{className:"font-semibold text-lg px-2",children:"Supervisin Excepcional"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mt-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{htmlFor:`fex-${t.id}`,className:"text-sm font-medium",children:"Fecha Supervisin"}),u.jsx("input",{id:`fex-${t.id}`,type:"date",name:"fechaSupervisionExcepcional",value:r.fechaSupervisionExcepcional||"",onChange:i,className:a})]}),u.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[u.jsx("input",{type:"checkbox",name:"realizadaSupervisionExcepcional",checked:!!r.realizadaSupervisionExcepcional,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),u.jsx("span",{children:"Realizada"})]})]})]}),u.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[u.jsx("legend",{className:"font-semibold text-lg px-2",children:"Maestro Gua (Empresa)"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`mg-nombre-${t.id}`,className:"text-sm font-medium",children:"Nombre Maestro Gua"}),u.jsx("input",{id:`mg-nombre-${t.id}`,type:"text",name:"nombreMaestroGuia",value:r.nombreMaestroGuia||"",onChange:i,className:a+" mt-1"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:`mg-contacto-${t.id}`,className:"text-sm font-medium",children:"Contacto (Email/Telfono)"}),u.jsx("input",{id:`mg-contacto-${t.id}`,type:"text",name:"contactoMaestroGuia",value:r.contactoMaestroGuia||"",onChange:i,className:a+" mt-1"})]})]})]})]})]}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:n,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Cerrar"}),u.jsx("button",{type:"button",onClick:o,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Guardar Cambios"})]})]})})},Ige=()=>{const[t,e]=ee.useState([]),n=ee.useMemo(()=>({nombreEstudiante:"",rutEstudiante:"",curso:qf[0],profesorTutorEmpresa:"",rutEmpresa:"",nombreEmpresa:"",direccionEmpresa:"",comuna:"",estado:aC[0],fechaDesvinculacion:"",motivoDesvinculacion:""}),[]),[r,s]=ee.useState(n),[a,i]=ee.useState(null),[o,l]=ee.useState(""),[A,d]=ee.useState({curso:"",empresa:"",estado:"",comuna:"",profesor:""}),[h,p]=ee.useState(null),[g,w]=ee.useState(null),[b,E]=ee.useState(!1),[T,I]=ee.useState(null);ee.useEffect(()=>{try{const Z=localStorage.getItem(e6);Z&&e(JSON.parse(Z))}catch(Z){console.error("Error al cargar datos de localStorage",Z)}},[]);const k=ee.useCallback(Z=>{e(Z),localStorage.setItem(e6,JSON.stringify(Z))},[]),F=ee.useCallback(Z=>{const{name:re,value:q}=Z.target;s(X=>({...X,[re]:q}))},[]),R=ee.useCallback(Z=>{const{name:re,value:q}=Z.target;d(X=>({...X,[re]:q}))},[]),L=ee.useCallback(()=>{s(n),i(null),p(null)},[n]),S=ee.useCallback(Z=>{Z.preventDefault();const q=["nombreEstudiante","rutEstudiante","nombreEmpresa"].find(ue=>!r[ue].trim());if(q){p(`El campo '${q}' es obligatorio.`);return}const X=a?t.map(ue=>ue.id===a?{...ue,...r}:ue):[{...r,id:crypto.randomUUID()},...t];k(X),L()},[r,a,t,k,L]),N=ee.useCallback(Z=>{window.scrollTo({top:0,behavior:"smooth"}),i(Z.id),s(Z)},[]),B=ee.useCallback(Z=>{window.confirm("Est seguro de que desea eliminar este registro?")&&k(t.filter(re=>re.id!==Z))},[t,k]),H=Z=>{I(Z),E(!0)},P=()=>{I(null),E(!1)},M=Z=>{const re=t.map(q=>q.id===Z.id?Z:q);k(re),P()},V=()=>{const Z=["Nombre","RUT","Curso 2025","Profesor Tutor","1 Visita 1 Semestre","Realizada 1 Visita S1","2 Visita 1 Semestre","Realizada 2 Visita S1","Visita Emergencia 1 Semestre","3 Visita","Realizada 3 Visita S2","4 Visita","Realizada 4 Visita S2","Empresa","RUT-Empresa","Direccin","Comuna","Estado","Fecha de Desvinculacin","Motivo Desvinculacin","Maestro Gua","Correo maestro gua"],re=Sl.aoa_to_sheet([Z]),q=Sl.book_new();Sl.book_append_sheet(q,re,"Plantilla"),m4(q,"Plantilla_Seguimiento_Dual.xlsx")},G=Z=>{var X;const re=(X=Z.target.files)==null?void 0:X[0];if(!re)return;w({message:"Procesando archivo...",isError:!1});const q=new FileReader;q.onload=ue=>{var j;try{const W=new Uint8Array((j=ue.target)==null?void 0:j.result),J=tx(W,{type:"array",cellDates:!0}),ne=J.SheetNames[0],ie=J.Sheets[ne],de=Sl.sheet_to_json(ie);if(de.length===0)throw new Error("El archivo est vaco.");const me={nombre:"nombreEstudiante",rut:"rutEstudiante","curso 2025":"curso","profesor tutor":"profesorTutorEmpresa","1 visita 1 semestre":"fecha1raSupervision1erSemestre","realizada 1 visita s1":"realizada1raSupervision1erSemestre","2 visita 1 semestre":"fecha2daSupervision1erSemestre","realizada 2 visita s1":"realizada2daSupervision1erSemestre","visita emergencia 1 semestre":"fechaSupervisionExcepcional","3 visita":"fecha1raSupervision2doSemestre","realizada 3 visita s2":"realizada1raSupervision2doSemestre","4 visita":"fecha2daSupervision2doSemestre","realizada 4 visita s2":"realizada2daSupervision2doSemestre",empresa:"nombreEmpresa","rut-empresa":"rutEmpresa",direccin:"direccionEmpresa",comuna:"comuna",estado:"estado","fecha de desvinculacin":"fechaDesvinculacion","motivo desvinculacin":"motivoDesvinculacion","maestro gua":"nombreMaestroGuia","correo maestro gua":"contactoMaestroGuia"},xe=Object.keys(de[0]).map(Fe=>Fe.trim().toLowerCase()),ge=["nombre","rut","curso 2025","empresa","estado"].find(Fe=>!xe.includes(Fe));if(ge)throw new Error(`Falta la columna requerida: '${ge}'`);const ae=de.map(Fe=>{const et={id:crypto.randomUUID()};for(const De in Fe){const Ce=me[De.trim().toLowerCase()];if(Ce){let Ge=Fe[De];Ge instanceof Date&&(Ge=Ge.toISOString().split("T")[0]),typeof Ge=="boolean"||typeof Ge=="string"&&(Ge.toLowerCase()==="true"||Ge.toLowerCase()==="false")?et[Ce]=String(Ge).toLowerCase()==="true":et[Ce]=Ge}}return!et.nombreEstudiante||!et.rutEstudiante?null:et}).filter(Boolean);ae.length>0?(k([...ae,...t]),w({message:`Carga exitosa. Se agregaron ${ae.length} nuevos registros.`,isError:!1})):w({message:"No se encontraron nuevos registros vlidos para agregar.",isError:!1})}catch(W){console.error(W),w({message:`Error al procesar el archivo: ${W.message}`,isError:!0})}},q.readAsArrayBuffer(re)},oe="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",K=ee.useMemo(()=>t.filter(Z=>(o===""||Z.nombreEstudiante.toLowerCase().includes(o.toLowerCase())||Z.nombreEmpresa.toLowerCase().includes(o.toLowerCase())||Z.rutEstudiante.includes(o))&&(A.curso===""||Z.curso===A.curso)&&(A.empresa===""||Z.nombreEmpresa===A.empresa)&&(A.estado===""||Z.estado===A.estado)&&(A.comuna===""||Z.comuna===A.comuna)&&(A.profesor===""||Z.profesorTutorEmpresa===A.profesor)).sort((Z,re)=>Z.nombreEstudiante.localeCompare(re.nombreEstudiante)),[t,o,A]);return ee.useMemo(()=>{const Z=new Set,re=new Set;return t.forEach(q=>{q.nombreEmpresa&&Z.add(q.nombreEmpresa),q.comuna&&re.add(q.comuna)}),{empresas:Array.from(Z).sort(),comunas:Array.from(re).sort()}},[t]),u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seguimiento de Prctica Dual"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:a?"Editando registro existente.":"Registre un nuevo estudiante en prctica."}),u.jsxs("form",{onSubmit:S,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Estudiante"}),u.jsx("input",{type:"text",name:"nombreEstudiante",value:r.nombreEstudiante,onChange:F,className:oe,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"RUT Estudiante"}),u.jsx("input",{type:"text",name:"rutEstudiante",value:r.rutEstudiante,onChange:F,className:oe,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),u.jsx("select",{name:"curso",value:r.curso,onChange:F,className:oe,required:!0,children:qf.map(Z=>u.jsx("option",{value:Z,children:Z},Z))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Profesor Tutor"}),u.jsxs("select",{name:"profesorTutorEmpresa",value:r.profesorTutorEmpresa,onChange:F,className:oe,children:[u.jsx("option",{value:"",children:"Seleccione un profesor"}),e_.map(Z=>u.jsx("option",{value:Z,children:Z},Z))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Empresa"}),u.jsx("input",{type:"text",name:"nombreEmpresa",value:r.nombreEmpresa,onChange:F,className:oe,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"RUT Empresa"}),u.jsx("input",{type:"text",name:"rutEmpresa",value:r.rutEmpresa,onChange:F,className:oe})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Direccin Empresa"}),u.jsx("input",{type:"text",name:"direccionEmpresa",value:r.direccionEmpresa,onChange:F,className:oe})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Comuna"}),u.jsx("input",{type:"text",name:"comuna",value:r.comuna,onChange:F,className:oe})]}),u.jsxs("div",{className:"lg:col-span-4",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estado"}),u.jsx("select",{name:"estado",value:r.estado,onChange:F,className:oe,children:aC.map(Z=>u.jsx("option",{value:Z,children:Z},Z))})]})]}),r.estado==="Desvinculado"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 border border-red-200 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-red-700 dark:text-red-300 mb-1",children:"Fecha de Desvinculacin"}),u.jsx("input",{type:"date",name:"fechaDesvinculacion",value:r.fechaDesvinculacion||"",onChange:F,className:`${oe} border-red-300`})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-red-700 dark:text-red-300 mb-1",children:"Motivo de Desvinculacin"}),u.jsx("input",{type:"text",name:"motivoDesvinculacion",value:r.motivoDesvinculacion||"",onChange:F,className:`${oe} border-red-300`})]})]}),h&&u.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md",children:h}),u.jsxs("div",{className:"flex justify-end items-center gap-4",children:[a&&u.jsx("button",{type:"button",onClick:L,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900",children:a?"Actualizar":"Agregar"})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Carga Masiva"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[u.jsx("button",{onClick:V,className:"bg-green-100 text-green-700 font-semibold py-2 px-4 rounded-lg hover:bg-green-200",children:"Descargar Plantilla Excel"}),u.jsx("input",{type:"file",onChange:G,accept:".xlsx, .xls",className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100"})]}),g&&u.jsx("p",{className:`text-sm p-2 rounded-md mt-4 ${g.isError?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:g.message})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Registros de Estudiantes"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-4",children:[u.jsx("input",{type:"text",placeholder:"Buscar por estudiante, empresa o RUT...",value:o,onChange:Z=>l(Z.target.value),className:`${oe} md:col-span-2 lg:col-span-1`}),u.jsxs("select",{name:"curso",value:A.curso,onChange:R,className:oe,children:[u.jsx("option",{value:"",children:"Todos los Cursos"}),qf.map(Z=>u.jsx("option",{children:Z},Z))]}),u.jsxs("select",{name:"estado",value:A.estado,onChange:R,className:oe,children:[u.jsx("option",{value:"",children:"Todos los Estados"}),aC.map(Z=>u.jsx("option",{children:Z},Z))]}),u.jsxs("select",{name:"profesor",value:A.profesor,onChange:R,className:oe,children:[u.jsx("option",{value:"",children:"Todos los Profesores"}),e_.map(Z=>u.jsx("option",{children:Z},Z))]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Estudiante"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Empresa"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Profesor Tutor"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Estado"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Acciones"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:K.map(Z=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[u.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[u.jsx("div",{className:"font-medium text-slate-800 dark:text-slate-200",children:Z.nombreEstudiante}),u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:Z.curso})]}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:Z.nombreEmpresa}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:Z.profesorTutorEmpresa}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Nge[Z.estado]}`,children:Z.estado})}),u.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm space-x-2",children:[u.jsx("button",{onClick:()=>H(Z),className:"text-blue-600 hover:underline",children:"Supervisin"}),u.jsx("button",{onClick:()=>N(Z),className:"text-yellow-600 hover:underline",children:"Editar"}),u.jsx("button",{onClick:()=>B(Z.id),className:"text-red-600 hover:underline",children:"Eliminar"})]})]},Z.id))})]})})]}),b&&T&&u.jsx(kge,{record:T,onClose:P,onSave:M})]})},t6="actividadesRemotas",Fge="respuestasActividades",Rge="usuariosLiceo",HC={Quiz:[5,10,15],"Trminos Pareados":[5,10,15],Desarrollo:[1,2,3],"Comprensin de Lectura":[1,2,3]},Dge=t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(r.result),r.onerror=s=>n(s)}),Uge=()=>{const[t,e]=ee.useState([]),[n,r]=ee.useState([]),[s,a]=ee.useState([]),[i,o]=ee.useState(null),[l,A]=ee.useState(!1),[d,h]=ee.useState(!1),[p,g]=ee.useState(null),[w,b]=ee.useState(""),[E,T]=ee.useState(null),[I,k]=ee.useState([]),F={asignatura:zo[0],nivel:R2[0],contenido:"",plazoEntrega:new Date().toISOString().split("T")[0],tipos:[],cantidadPreguntas:{},cursosDestino:[],estudiantesDestino:[],recursos:{instrucciones:"",enlaces:"",archivos:[]}},[R,L]=ee.useState(F);ee.useEffect(()=>{try{const ie=localStorage.getItem(t6);ie&&e(JSON.parse(ie));const de=localStorage.getItem(Fge);de&&r(JSON.parse(de));const me=localStorage.getItem(Rge);me&&a(JSON.parse(me))}catch(ie){console.error("Error al cargar datos desde localStorage",ie)}},[]);const S=ie=>{L(de=>({...de,[ie.target.name]:ie.target.value}))},N=ie=>{L(de=>({...de,recursos:{...de.recursos,[ie.target.name]:ie.target.value}}))},B=ie=>{ie.target.files&&k(Array.from(ie.target.files))},H=ie=>{L(de=>{const me=de.tipos.includes(ie)?de.tipos.filter(Se=>Se!==ie):[...de.tipos,ie],xe={...de.cantidadPreguntas};return me.includes(ie)?xe[ie]||(xe[ie]=HC[ie][0]):delete xe[ie],{...de,tipos:me,cantidadPreguntas:xe}})},P=(ie,de)=>{L(me=>({...me,cantidadPreguntas:{...me.cantidadPreguntas,[ie]:de}}))},M=ie=>{L(de=>{var xe;const me=(xe=de.cursosDestino)!=null&&xe.includes(ie)?de.cursosDestino.filter(Se=>Se!==ie):[...de.cursosDestino||[],ie];return{...de,cursosDestino:me}})},V=ie=>{L(de=>{var xe;const me=(xe=de.estudiantesDestino)!=null&&xe.includes(ie)?de.estudiantesDestino.filter(Se=>Se!==ie):[...de.estudiantesDestino||[],ie];return{...de,estudiantesDestino:me}})},G=ie=>{const de={Quiz:{type:Bt.ARRAY,items:{type:Bt.OBJECT,properties:{pregunta:{type:Bt.STRING},opciones:{type:Bt.ARRAY,items:{type:Bt.STRING}},respuestaCorrecta:{type:Bt.STRING}}}},"Comprensin de Lectura":{type:Bt.OBJECT,properties:{texto:{type:Bt.STRING},preguntas:{type:Bt.ARRAY,items:{type:Bt.OBJECT,properties:{pregunta:{type:Bt.STRING},opciones:{type:Bt.ARRAY,items:{type:Bt.STRING}},respuestaCorrecta:{type:Bt.STRING}}}}}},"Trminos Pareados":{type:Bt.ARRAY,items:{type:Bt.OBJECT,properties:{id:{type:Bt.STRING},concepto:{type:Bt.STRING},definicion:{type:Bt.STRING}}}},Desarrollo:{type:Bt.ARRAY,items:{type:Bt.OBJECT,properties:{pregunta:{type:Bt.STRING},rubrica:{type:Bt.STRING}}}}},me={};return ie.forEach(xe=>{me[xe]=de[xe]}),{type:Bt.OBJECT,properties:{introduccion:{type:Bt.STRING,description:"Una breve introduccin motivadora para el estudiante sobre el tema."},actividades:{type:Bt.OBJECT,properties:me,required:ie}},required:["introduccion","actividades"]}},oe=()=>{const{tipos:ie,contenido:de,asignatura:me,nivel:xe,cantidadPreguntas:Se}=R;let ge=`Eres un experto diseador de actividades pedaggicas. Genera un objeto JSON que se ajuste al esquema, sin texto adicional.

Contenido base: "${de}"
Asignatura: ${me}
Nivel: ${xe}

Genera los siguientes elementos:
- **introduccion**: Una breve introduccin motivadora para el estudiante sobre el tema: "${de}".
- **actividades**: Un objeto que contiene las actividades. Cada actividad es una propiedad con su nombre como clave:
`;return ie.forEach(ae=>{const Fe=Se[ae]||HC[ae][0];switch(ae){case"Quiz":ge+=`- **Quiz**: Genera un quiz de ${Fe} preguntas de seleccin mltiple sobre el contenido. Cada una con 4 opciones.
`;break;case"Comprensin de Lectura":ge+=`- **Comprensin de Lectura**: Genera ${Fe} actividad(es) de comprensin. Cada una con un texto de 150-200 palabras y 4 preguntas de seleccin mltiple.
`;break;case"Trminos Pareados":ge+=`- **Trminos Pareados**: Genera ${Fe} pares de trminos pareados (concepto y definicin).
`;break;case"Desarrollo":ge+=`- **Desarrollo**: Genera ${Fe} pregunta(s) de desarrollo con una rbrica simple en texto.
`;break}}),ge},K=async ie=>{if(ie.preventDefault(),!R.contenido.trim()||R.tipos.length===0){g("Contenido y al menos un tipo de actividad son obligatorios.");return}h(!0),g(null);try{const de=await Promise.all(I.map(async et=>({nombre:et.name,url:await Dge(et)})));go("Actividades Remotas");const me=new Ta({apiKey:void 0}),xe=oe(),Se=G(R.tipos),ge=await me.models.generateContent({model:"gemini-2.5-flash",contents:xe,config:{responseMimeType:"application/json",responseSchema:Se}}),ae=JSON.parse(ge.text),Fe={id:crypto.randomUUID(),fechaCreacion:new Date().toISOString(),...R,recursos:{...R.recursos,archivos:de},introduccion:ae.introduccion,generatedContent:ae.actividades};T(Fe)}catch(de){console.error("Error al generar actividad con IA",de),g("Error al generar la actividad. Por favor, revise el contenido e intntelo de nuevo.")}finally{h(!1)}},Z=()=>{if(!E)return;const ie=[E,...t];e(ie),localStorage.setItem(t6,JSON.stringify(ie)),L(F),k([]),A(!1),T(null),o(E)},re=ee.useMemo(()=>{var me,xe;if(!i||!s)return[];const ie=s.filter(Se=>{var ge;return Se.profile===en.ESTUDIANTE&&((ge=i.cursosDestino)==null?void 0:ge.includes(Se.curso||""))}).map(Se=>Se.nombreCompleto),de=i.estudiantesDestino||[];if(!((me=i.cursosDestino)!=null&&me.length)&&!((xe=i.estudiantesDestino)!=null&&xe.length)){const Se=i.nivel.charAt(0);return s.filter(ge=>{var ae;return ge.profile===en.ESTUDIANTE&&((ae=ge.curso)==null?void 0:ae.startsWith(Se))}).map(ge=>ge.nombreCompleto).sort()}return Array.from(new Set([...ie,...de])).sort()},[i,s]),q=ee.useMemo(()=>n.filter(ie=>ie.actividadId===(i==null?void 0:i.id)),[n,i]),X=ee.useMemo(()=>s.filter(ie=>ie.profile===en.ESTUDIANTE).sort((ie,de)=>ie.nombreCompleto.localeCompare(de.nombreCompleto)),[s]),ue=ee.useMemo(()=>w.trim()?X.filter(ie=>ie.nombreCompleto.toLowerCase().includes(w.toLowerCase())):X,[X,w]),j=()=>u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:[i==null?void 0:i.asignatura," - ",i==null?void 0:i.tipos.join(", ")]}),u.jsxs("p",{className:"text-slate-500",children:["Nivel: ",i==null?void 0:i.nivel," | Plazo: ",i==null?void 0:i.plazoEntrega]})]}),u.jsx("button",{onClick:()=>o(null),className:"text-slate-600 hover:text-slate-900 font-semibold",children:" Volver al listado"})]}),u.jsxs("div",{className:"mt-6 border-t pt-6",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-700 mb-4",children:"Resultados de Estudiantes"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[u.jsx("thead",{className:"bg-slate-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Estudiante"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Estado"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Puntaje"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Fecha Completado"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:re.map(ie=>{const de=q.find(me=>me.estudianteId===ie);return u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-slate-800",children:ie}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:de?u.jsx("span",{className:"px-2 py-1 font-semibold text-xs rounded-full bg-green-100 text-green-800",children:"Completado"}):u.jsx("span",{className:"px-2 py-1 font-semibold text-xs rounded-full bg-yellow-100 text-yellow-800",children:"Pendiente"})}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:de?`${de.puntaje}/${de.puntajeMaximo}`:"-"}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:de?new Date(de.fechaCompletado).toLocaleString("es-CL"):"-"})]},ie)})})]})})]})]}),W=()=>{var ie,de;return u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Nueva Actividad Remota"}),u.jsx("button",{onClick:()=>A(!1),className:"text-slate-600 hover:text-slate-900 font-semibold",children:" Volver al listado"})]}),u.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"Complete el formulario y la IA generar una actividad interactiva para sus estudiantes."}),u.jsxs("form",{onSubmit:K,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Asignatura"}),u.jsx("select",{name:"asignatura",value:R.asignatura,onChange:S,className:"w-full border-slate-300 rounded-md shadow-sm",children:zo.map(me=>u.jsx("option",{value:me,children:me},me))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Nivel"}),u.jsx("select",{name:"nivel",value:R.nivel,onChange:S,className:"w-full border-slate-300 rounded-md shadow-sm",children:R2.map(me=>u.jsx("option",{value:me,children:me},me))})]}),u.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg space-y-4 bg-slate-50",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:"Recursos de Aprendizaje (Opcional)"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Instrucciones de estudio"}),u.jsx("textarea",{name:"instrucciones",value:(ie=R.recursos)==null?void 0:ie.instrucciones,onChange:N,placeholder:"Ej: Lee el siguiente texto y luego responde...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Enlaces (videos, documentos, etc.)"}),u.jsx("textarea",{name:"enlaces",value:(de=R.recursos)==null?void 0:de.enlaces,onChange:N,placeholder:"Pega un enlace por lnea...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Adjuntar archivos (PDF, imgenes, etc.)"}),u.jsx("input",{type:"file",multiple:!0,onChange:B,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100"})]})]}),u.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg space-y-4 bg-slate-50",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:"Destinatarios"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Seleccione cursos o estudiantes. Si no selecciona ninguno, la actividad ser visible para todo el nivel."}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Cursos"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 max-h-40 overflow-y-auto p-2 bg-white rounded",children:Xs.map(me=>{var xe;return u.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:(xe=R.cursosDestino)==null?void 0:xe.includes(me),onChange:()=>M(me),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),u.jsx("span",{className:"text-sm font-medium text-slate-700",children:me})]},me)})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Estudiantes"}),u.jsx("input",{type:"text",placeholder:"Buscar...",value:w,onChange:me=>b(me.target.value),className:"w-full border-slate-300 rounded-md shadow-sm mb-2"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 max-h-40 overflow-y-auto p-2 bg-white rounded",children:ue.map(me=>{var xe;return u.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:(xe=R.estudiantesDestino)==null?void 0:xe.includes(me.nombreCompleto),onChange:()=>V(me.nombreCompleto),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),u.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",title:me.nombreCompleto,children:me.nombreCompleto})]},me.id)})})]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Tipos de Actividad"}),u.jsx("div",{className:"space-y-3",children:t$.map(me=>u.jsxs("div",{className:"p-3 border rounded-lg has-[:checked]:bg-amber-50 has-[:checked]:border-amber-300",children:[u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:R.tipos.includes(me),onChange:()=>H(me),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),u.jsx("span",{className:"text-sm font-medium text-slate-700 flex-grow",children:me})]}),R.tipos.includes(me)&&u.jsxs("div",{className:"mt-3 pl-8 flex items-center gap-2",children:[u.jsx("span",{className:"text-xs text-slate-500",children:"Cantidad:"}),HC[me].map(xe=>u.jsx("button",{type:"button",onClick:()=>P(me,xe),className:`px-3 py-1 rounded-full font-semibold text-xs ${R.cantidadPreguntas[me]===xe?"bg-amber-500 text-white":"bg-slate-200"}`,children:xe},xe))]})]},me))})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsxs("label",{htmlFor:"contenido",className:"block text-sm font-medium text-slate-600 mb-1",children:["Contenido ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{name:"contenido",value:R.contenido,onChange:S,required:!0,rows:4,placeholder:"Ingrese los temas, conceptos clave o el texto base...",className:"w-full border-slate-300 rounded-md shadow-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"plazoEntrega",className:"block text-sm font-medium text-slate-600 mb-1",children:"Plazo de Entrega"}),u.jsx("input",{type:"date",name:"plazoEntrega",value:R.plazoEntrega,onChange:S,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm"})]})]}),p&&u.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md mt-4",children:p}),u.jsx("div",{className:"pt-4 text-right",children:u.jsx("button",{type:"submit",disabled:d,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center min-w-[180px]",children:d?u.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Generar y Previsualizar"})})]})]})},J=()=>{var ie;return u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Previsualizacin de la Actividad"}),u.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"Revisa el contenido generado. Si todo est correcto, confirma para asignar la actividad."}),u.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto p-4 bg-slate-50 rounded-lg border",children:[u.jsxs("div",{className:"p-4 bg-sky-50 border-l-4 border-sky-400 rounded-r-lg",children:[u.jsx("h3",{className:"font-bold text-sky-800 mb-2",children:"Introduccin para el Estudiante"}),u.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:E==null?void 0:E.introduccion})]}),(E==null?void 0:E.recursos)&&(E.recursos.instrucciones||E.recursos.enlaces||((ie=E.recursos.archivos)==null?void 0:ie.length))&&u.jsxs("div",{className:"p-4 bg-indigo-50 border-l-4 border-indigo-400 rounded-r-lg",children:[u.jsx("h3",{className:"font-bold text-indigo-800 mb-2",children:"Recursos de Aprendizaje"}),u.jsxs("div",{className:"space-y-3",children:[E.recursos.instrucciones&&u.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:E.recursos.instrucciones}),E.recursos.enlaces&&u.jsx("div",{children:E.recursos.enlaces.split(`
`).map((de,me)=>de.trim()&&u.jsx("a",{href:de,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-600 hover:underline truncate",children:de},me))}),E.recursos.archivos&&E.recursos.archivos.length>0&&u.jsx("ul",{className:"list-disc list-inside",children:E.recursos.archivos.map(de=>u.jsx("li",{className:"text-slate-700",children:de.nombre},de.nombre))})]})]}),E==null?void 0:E.tipos.map(de=>{const me=E.generatedContent[de];return me?u.jsxs("div",{className:"p-4 border rounded-lg bg-white",children:[u.jsx("h3",{className:"text-xl font-bold mb-4",children:de}),u.jsxs("div",{className:"space-y-4 text-sm",children:[de==="Quiz"&&me.map((xe,Se)=>u.jsxs("div",{children:[u.jsxs("p",{className:"font-semibold",children:[Se+1,". ",xe.pregunta]}),u.jsx("ul",{className:"list-disc pl-5 mt-1",children:xe.opciones.map(ge=>u.jsx("li",{children:ge},ge))}),u.jsxs("p",{className:"text-xs text-green-600",children:["R: ",xe.respuestaCorrecta]})]},Se)),de==="Comprensin de Lectura"&&u.jsxs("div",{children:[u.jsx("p",{className:"whitespace-pre-wrap bg-slate-100 p-2 rounded",children:me.texto}),me.preguntas.map((xe,Se)=>u.jsxs("div",{className:"mt-2",children:[u.jsxs("p",{className:"font-semibold",children:[Se+1,". ",xe.pregunta]}),u.jsx("ul",{className:"list-disc pl-5 mt-1",children:xe.opciones.map(ge=>u.jsx("li",{children:ge},ge))}),u.jsxs("p",{className:"text-xs text-green-600",children:["R: ",xe.respuestaCorrecta]})]},Se))]}),de==="Trminos Pareados"&&u.jsx("ul",{className:"list-disc pl-5",children:me.map(xe=>u.jsxs("li",{children:[u.jsxs("strong",{children:[xe.concepto,":"]})," ",xe.definicion]},xe.id))}),de==="Desarrollo"&&me.map((xe,Se)=>u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:xe.pregunta}),u.jsxs("p",{className:"text-xs italic mt-1",children:["Rbrica: ",xe.rubrica]})]},Se))]})]},de):null})]}),u.jsxs("div",{className:"pt-6 flex justify-end gap-4",children:[u.jsx("button",{onClick:()=>T(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300",children:"Cancelar"}),u.jsx("button",{onClick:Z,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700",children:"Confirmar y Asignar"})]})]})},ne=()=>u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Actividades Remotas"}),u.jsx("button",{onClick:()=>A(!0),className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Crear Nueva"})]}),u.jsx("div",{className:"space-y-4",children:t.length>0?t.map(ie=>{var xe,Se;const de=[];(xe=ie.cursosDestino)!=null&&xe.length&&de.push(`Cursos: ${ie.cursosDestino.join(", ")}`),(Se=ie.estudiantesDestino)!=null&&Se.length&&de.push(`Estudiantes: ${ie.estudiantesDestino.length}`);const me=de.length?de.join(" | "):`Todo ${ie.nivel}`;return u.jsx("div",{className:"p-4 border rounded-lg bg-slate-50 hover:bg-slate-100 transition-colors",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-bold text-slate-800",children:[ie.asignatura," - ",ie.tipos.join(", ")]}),u.jsxs("p",{className:"text-sm text-slate-500",children:["Destino: ",me," | Creado: ",new Date(ie.fechaCreacion).toLocaleDateString("es-CL")]})]}),u.jsx("button",{onClick:()=>o(ie),className:"text-blue-600 hover:text-blue-800 font-semibold text-sm",children:"Ver Resultados"})]})},ie.id)}):u.jsx("p",{className:"text-slate-500 text-center py-6",children:'No hay actividades creadas. Haga clic en "Crear Nueva" para comenzar.'})})]});return u.jsx("div",{className:"animate-fade-in",children:E?J():i?j():l?W():ne()})},Lge="actividadesRemotas",VC="respuestasActividades",Mge=t=>[...t].sort(()=>Math.random()-.5),Pge=(t,e)=>{if(e===0)return"1.0";const r=e*.6;let s;return t>=r?s=4+(t-r)*3/(e-r):s=1+t*3/(r||1),s=Math.max(1,Math.min(7,s)),s.toFixed(1)},n6=()=>u.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),jge=({actividad:t,onComplete:e,currentUser:n})=>{var I,k,F,R;const[r,s]=ee.useState({}),[a,i]=ee.useState(!1),[o,l]=ee.useState(!1),[A,d]=ee.useState(!1),[h,p]=ee.useState({}),g=`progress-${n.id}-${t.id}`;ee.useEffect(()=>{const L={};t.tipos.forEach(S=>{if(S==="Trminos Pareados"){const N=t.generatedContent[S];N&&(L[S]=Mge(N.map(B=>B.definicion)))}}),p(L);try{const S=localStorage.getItem(g);S&&s(JSON.parse(S))}catch(S){console.error("Could not load saved progress",S)}},[t,g]);const w=(L,S)=>{s(N=>({...N,[L]:S}))},b=()=>{l(!0),d(!1),setTimeout(()=>{try{localStorage.setItem(g,JSON.stringify(r)),d(!0),setTimeout(()=>d(!1),2e3)}catch(L){console.error("Could not save progress",L),alert("Error al guardar el progreso.")}finally{l(!1)}},500)},E=async()=>{i(!0);let L=0,S=0;const N=[],B={};for(const P of t.tipos){const M=t.generatedContent[P],V=r[P];if(P==="Quiz"||P==="Comprensin de Lectura"){const G=P==="Quiz"?M:M.preguntas,oe=V||{};let K=0,Z=0;G.forEach((re,q)=>{Z+=1,oe[q]===re.respuestaCorrecta&&(K+=1)}),L+=K,S+=Z,N.push(`${P}: ${K}/${Z} correctas.`),B[P]={puntaje:K,puntajeMaximo:Z}}else if(P==="Trminos Pareados"){const G=M,oe=V||{};let K=0,Z=0;G.forEach(re=>{Z+=2,oe[re.id]===re.definicion&&(K+=2)}),L+=K,S+=Z,N.push(`${P}: ${K/2}/${G.length} correctas.`),B[P]={puntaje:K,puntajeMaximo:Z}}else if(P==="Desarrollo"){const G=M,oe=V||{};let K=0,Z=0;for(let re=0;re<G.length;re++){const q=G[re];Z+=3;try{go("Autoaprendizaje - Evaluar Desarrollo");const X=new Ta({apiKey:void 0}),ue=`Evala la siguiente respuesta de un estudiante a la pregunta de desarrollo, basndote en la rbrica proporcionada. Asigna un puntaje de 0 a 3. Pregunta: "${q.pregunta}". Rbrica: "${q.rubrica}". Respuesta: "${oe[re]||""}". Proporciona tambin una frase corta de feedback.`,j={type:Bt.OBJECT,properties:{puntaje:{type:Bt.INTEGER,description:"Un puntaje de 0 a 3."},feedback:{type:Bt.STRING}},required:["puntaje","feedback"]},W=await X.models.generateContent({model:"gemini-2.5-flash",contents:ue,config:{responseMimeType:"application/json",responseSchema:j}}),J=JSON.parse(W.text),ne=Math.max(0,Math.min(3,J.puntaje||0));K+=ne,N.push(`${P} #${re+1}: Puntaje ${ne}/3. (${J.feedback})`)}catch(X){console.error(X),N.push(`${P} #${re+1}: No se pudo evaluar automticamente.`)}}L+=K,S+=Z,B[P]={puntaje:K,puntajeMaximo:Z}}}let H=`Buen trabajo! Tu puntaje total es ${L} de ${S}.`;e({respuestas:r,puntaje:L,puntajeMaximo:S,retroalimentacion:H,calificacion:Pge(L,S),puntajesPorSeccion:B}),localStorage.removeItem(g),i(!1)},T=t.recursos&&(t.recursos.instrucciones||t.recursos.enlaces||((I=t.recursos.archivos)==null?void 0:I.length));return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"p-4 bg-sky-50 dark:bg-sky-900/30 border-l-4 border-sky-400 rounded-r-lg",children:[u.jsx("h2",{className:"text-xl font-bold text-sky-800 dark:text-sky-200 mb-2",children:"Hola!"}),u.jsx("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:t.introduccion})]}),T&&u.jsxs("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-900/30 border-l-4 border-indigo-400 rounded-r-lg",children:[u.jsx("h2",{className:"text-xl font-bold text-indigo-800 dark:text-indigo-200 mb-3",children:"Material de Estudio"}),u.jsxs("div",{className:"space-y-4",children:[((k=t.recursos)==null?void 0:k.instrucciones)&&u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Instrucciones:"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 whitespace-pre-wrap",children:t.recursos.instrucciones})]}),((F=t.recursos)==null?void 0:F.enlaces)&&u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Enlaces:"}),t.recursos.enlaces.split(`
`).map((L,S)=>L.trim()&&u.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-500 hover:underline truncate",children:L},S))]}),((R=t.recursos)==null?void 0:R.archivos)&&t.recursos.archivos.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Archivos:"}),u.jsx("ul",{className:"list-disc list-inside",children:t.recursos.archivos.map((L,S)=>u.jsx("li",{children:u.jsx("a",{href:L.url,download:L.nombre,className:"text-blue-500 hover:underline",children:L.nombre})},S))})]})]})]}),t.tipos.map(L=>{const S=t.generatedContent[L];if(!S)return null;switch(L){case"Quiz":case"Comprensin de Lectura":{const N=L==="Quiz",B=S,H=N?B:B.preguntas;return u.jsxs("div",{className:"p-4 border rounded-lg bg-white dark:bg-slate-800",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:L}),!N&&u.jsx("div",{className:"mb-4 whitespace-pre-wrap bg-slate-50 dark:bg-slate-700/50 p-3 rounded text-slate-700 dark:text-slate-300",children:B.texto}),u.jsx("div",{className:"space-y-6",children:H.map((P,M)=>u.jsxs("div",{children:[u.jsxs("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:[M+1,". ",P.pregunta]}),u.jsx("div",{className:"mt-2 space-y-2",children:P.opciones.map((V,G)=>{var oe;return u.jsxs("label",{className:"flex items-center gap-3 p-3 rounded hover:bg-slate-100 dark:hover:bg-slate-700 cursor-pointer text-slate-600 dark:text-slate-300",children:[u.jsx("input",{type:"radio",name:`q-${L}-${M}-${t.id}`,value:V,checked:((oe=r[L])==null?void 0:oe[M])===V,onChange:()=>w(L,{...r[L]||{},[M]:V}),className:"h-5 w-5 text-amber-500 focus:ring-amber-400"}),u.jsx("span",{children:V})]},G)})})]},`${L}-${M}`))})]},L)}case"Trminos Pareados":{const N=S,B=h[L]||[];return u.jsxs("div",{className:"p-4 border rounded-lg bg-white dark:bg-slate-800",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:L}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-semibold text-center text-slate-600 dark:text-slate-400",children:"Concepto"}),N.map(H=>u.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded h-14 flex items-center justify-center text-center font-medium text-slate-700 dark:text-slate-300",children:H.concepto},H.id))]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-semibold text-center text-slate-600 dark:text-slate-400",children:"Definicin"}),N.map(H=>{var P;return u.jsx("div",{className:"h-14 flex items-center",children:u.jsxs("select",{value:((P=r[L])==null?void 0:P[H.id])||"",onChange:M=>w(L,{...r[L]||{},[H.id]:M.target.value}),className:"w-full h-full border-slate-300 rounded-md shadow-sm text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-slate-300",children:[u.jsx("option",{value:"",children:"Seleccionar definicin..."}),B.map((M,V)=>u.jsx("option",{value:M,children:M},V))]})},H.id)})]})]})]},L)}case"Desarrollo":{const N=S;return u.jsxs("div",{className:"p-4 border rounded-lg bg-white dark:bg-slate-800",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:L}),N.map((B,H)=>{var P;return u.jsxs("div",{className:"mb-6",children:[u.jsx("p",{className:"font-semibold mb-2 text-slate-700 dark:text-slate-300",children:B.pregunta}),u.jsxs("p",{className:"text-sm italic text-slate-500 dark:text-slate-400 mb-4",children:[u.jsx("strong",{children:"Rbrica:"})," ",B.rubrica]}),u.jsx("textarea",{value:((P=r[L])==null?void 0:P[H])||"",onChange:M=>w(L,{...r[L]||{},[H]:M.target.value}),rows:8,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-slate-300"})]},H)})]},L)}default:return null}}),u.jsxs("div",{className:"text-right mt-8 flex justify-end gap-4",children:[u.jsx("button",{onClick:b,disabled:a||o||A,className:"bg-sky-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-sky-700 disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center justify-center min-w-[200px] transition-colors duration-200",children:o?u.jsxs(u.Fragment,{children:[u.jsx(n6,{})," Guardando..."]}):A?" Guardado":"Guardar Progreso"}),u.jsx("button",{onClick:E,disabled:a||o,className:"bg-slate-800 text-white font-bold py-3 px-8 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center min-w-[200px]",children:a?u.jsxs(u.Fragment,{children:[u.jsx(n6,{})," Evaluando..."]}):"Entregar Actividad"})]})]})},Oge=({currentUser:t})=>{const[e,n]=ee.useState([]),[r,s]=ee.useState([]),[a,i]=ee.useState(null),[o,l]=ee.useState("list"),[A,d]=ee.useState(null),[h,p]=ee.useState(null);ee.useEffect(()=>{try{const E=localStorage.getItem(Lge);if(E){const I=JSON.parse(E),k=t.curso||"",F=t.nombreCompleto,R=I.filter(L=>{var H,P,M,V;const S=!((H=L.cursosDestino)!=null&&H.length)&&!((P=L.estudiantesDestino)!=null&&P.length),N=((M=L.cursosDestino)==null?void 0:M.includes(k))??!1,B=((V=L.estudiantesDestino)==null?void 0:V.includes(F))??!1;if(N||B)return!0;if(S&&k){const G=L.nivel.charAt(0),oe=k.charAt(0);return G===oe}return!1});n(R)}const T=localStorage.getItem(VC);if(T){const I=JSON.parse(T).filter(k=>k.estudianteId===t.nombreCompleto);s(I)}}catch(E){console.error("Error loading data",E)}},[t]);const g=E=>{p(E)},w=()=>{h&&(i(h),l("activity"),p(null))},b=ee.useCallback(async E=>{if(!a)return;let T;const I=`
            Un estudiante ha completado una actividad sobre "${a.contenido}".
            Su puntaje total fue ${E.puntaje} de ${E.puntajeMaximo}.
            Detalle por seccin: ${JSON.stringify(E.puntajesPorSeccion||{})}
            Respuestas de desarrollo: ${JSON.stringify(E.respuestas.Desarrollo||{})}
            
            Genera una retroalimentacin detallada y constructiva en espaol. La respuesta DEBE ser un objeto JSON con la siguiente estructura:
            - "resumenGeneral": Un prrafo breve y motivador sobre el desempeo general.
            - "areasDeFortaleza": Un array de 2 o 3 strings destacando lo que hizo bien.
            - "areasDeMejora": Un array de 2 o 3 strings con reas a mejorar.
            - "planDeMejora": Un array de 3 objetos, cada uno con "paso" (string, ej: "Repasar conceptos clave") y "detalle" (string, una sugerencia concreta).
            - "feedbackPorSeccion": Un objeto donde cada clave es el tipo de actividad (ej: "Quiz") y el valor es un string con feedback especfico para esa seccin.
        `;try{go("Autoaprendizaje - Retroalimentacin Detallada");const S=await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:I,config:{responseMimeType:"application/json"}});T=JSON.parse(S.text.trim().replace(/(\*\*|\*)/g,""))}catch(L){console.error("Error generating detailed feedback:",L)}const k={id:crypto.randomUUID(),actividadId:a.id,estudianteId:t.nombreCompleto,fechaCompletado:new Date().toISOString(),...E,retroalimentacionDetallada:T},F=JSON.parse(localStorage.getItem(VC)||"[]"),R=[k,...F.filter(L=>!(L.actividadId===k.actividadId&&L.estudianteId===k.estudianteId))];localStorage.setItem(VC,JSON.stringify(R)),s(L=>[k,...L.filter(S=>S.actividadId!==k.actividadId)]),d(k),l("result")},[a,t.nombreCompleto]);if(o==="activity"&&a)return u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsxs("h1",{className:"text-3xl font-bold text-slate-800",children:[a.asignatura,": ",a.tipos.join(", ")]}),u.jsxs("p",{className:"text-slate-500 mb-6",children:["Plazo: ",a.plazoEntrega]}),u.jsx(jge,{actividad:a,onComplete:b,currentUser:t})]});if(o==="result"&&A){const E=A.retroalimentacionDetallada,T=A.puntajesPorSeccion||{},I=(k,F)=>{const R=F>0?k/F:0;return R<.4?"bg-red-100 text-red-800":R<.7?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Retroalimentacin de la Actividad"}),E?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md border",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Retroalimentacin General"}),u.jsx("p",{className:"text-slate-600 mb-6",children:E.resumenGeneral}),u.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-4 rounded-lg mb-6",children:[u.jsx("span",{className:"text-lg font-bold",children:"Puntaje Total:"}),u.jsxs("span",{className:`px-4 py-2 text-xl font-bold rounded-full ${I(A.puntaje,A.puntajeMaximo)}`,children:[A.puntaje," / ",A.puntajeMaximo]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-green-600 mb-2",children:" reas de Fortaleza"}),u.jsx("ul",{className:"list-disc list-inside space-y-1 text-slate-600",children:E.areasDeFortaleza.map((k,F)=>u.jsx("li",{children:k},F))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-red-600 mb-2",children:" reas de Mejora"}),u.jsx("ul",{className:"list-disc list-inside space-y-1 text-slate-600",children:E.areasDeMejora.map((k,F)=>u.jsx("li",{children:k},F))})]})]})]}),u.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Object.entries(T).map(([k,{puntaje:F,puntajeMaximo:R}])=>{var L;return u.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md border",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("h3",{className:"text-xl font-bold",children:k}),u.jsxs("span",{className:`px-3 py-1 text-sm font-bold rounded-full ${I(F,R)}`,children:[F," / ",R]})]}),u.jsx("p",{className:"text-slate-500 text-sm",children:(L=E.feedbackPorSeccion)==null?void 0:L[k]})]},k)})}),u.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md border",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Plan de Mejora Sugerido"}),u.jsx("div",{className:"space-y-4",children:E.planDeMejora.map((k,F)=>u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"bg-blue-500 text-white rounded-full h-8 w-8 flex-shrink-0 flex items-center justify-center font-bold mt-1",children:""}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold",children:k.paso}),u.jsx("p",{className:"text-slate-600 text-sm",children:k.detalle})]})]},F))})]})]}):u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-green-600 mb-4",children:"Actividad Completada!"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-sm mx-auto my-8",children:[u.jsxs("div",{className:"p-4 bg-slate-100 rounded-lg",children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Puntaje"}),u.jsxs("p",{className:"text-2xl font-bold",children:[A.puntaje," / ",A.puntajeMaximo]})]}),u.jsxs("div",{className:"p-4 bg-slate-100 rounded-lg",children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Calificacin"}),u.jsx("p",{className:"text-2xl font-bold",children:A.calificacion})]})]}),u.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg text-left",children:[u.jsx("h3",{className:"font-bold text-blue-800 mb-2",children:"Retroalimentacin"}),u.jsx("p",{className:"text-blue-700 whitespace-pre-wrap",children:A.retroalimentacion})]})]}),u.jsx("button",{onClick:()=>{l("list"),d(null)},className:"w-full mt-4 bg-slate-800 text-white font-bold py-3 px-6 rounded-lg hover:bg-slate-700",children:"Volver a Actividades"})]})}return u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[h&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-lg w-full animate-fade-in-up",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Confirmar inicio de actividad"}),u.jsxs("p",{className:"mt-4 text-slate-600",children:["Ests seguro de que deseas comenzar esta actividad? ",u.jsx("strong",{children:"Tendrs solo una oportunidad para responder."})]}),u.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Sin embargo, puedes guardar tu progreso antes de enviarlo. Una vez enviado, no habr una segunda oportunidad."}),u.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>p(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Cancelar"}),u.jsx("button",{onClick:w,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"S, comenzar"})]})]})}),u.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Auto-aprendizaje"}),u.jsx("p",{className:"text-slate-500 mb-6",children:"Completa las actividades remotas asignadas por tus profesores."}),u.jsx("div",{className:"space-y-4",children:e.length>0?e.map(E=>{const T=r.find(k=>k.actividadId===E.id),I=!!T;return u.jsx("div",{className:`p-4 border rounded-lg ${I?"bg-green-50":"bg-slate-50"}`,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-bold text-slate-800",children:[E.asignatura," - ",E.tipos.join(", ")]}),u.jsxs("p",{className:"text-sm text-slate-500",children:["Plazo: ",E.plazoEntrega]})]}),I?u.jsxs("div",{className:"text-right",children:[u.jsx("button",{onClick:()=>{d(T),l("result")},className:"font-semibold text-blue-700 hover:underline",children:"Ver Resultados"}),u.jsxs("p",{className:"text-sm text-slate-600",children:["Puntaje: ",T.puntaje,"/",T.puntajeMaximo]})]}):u.jsx("button",{onClick:()=>g(E),className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Comenzar"})]})},E.id)}):u.jsx("p",{className:"text-center text-slate-500 py-10",children:"No hay actividades disponibles en este momento."})})]})},r6="estudiantesInclusion",Qge="usuariosLiceo",Hge=({student:t,onClose:e,onSave:n,profesores:r})=>{const[s,a]=ee.useState("intervenciones"),[i,o]=ee.useState(t),[l,A]=ee.useState(null),d={responsable:"",accion:"",observaciones:""},[h,p]=ee.useState(d),[g,w]=ee.useState({trimestre:"T1",meta:""}),[b,E]=ee.useState({titulo:"",fecha:new Date().toISOString().split("T")[0]}),[T,I]=ee.useState(null),[k,F]=ee.useState(!1),R={motivo:"",acuerdos:"",asistentes:""},[L,S]=ee.useState(R),N=()=>{n(i)},B=()=>{if(!h.responsable||!h.accion){alert("Responsable y Accin son campos obligatorios.");return}let ge;l?ge=(i.intervenciones||[]).map(Fe=>Fe.id===l.id?{...Fe,...h}:Fe):ge=[{id:crypto.randomUUID(),fecha:new Date().toISOString(),...h},...i.intervenciones||[]];const ae=ge.sort((Fe,et)=>new Date(et.fecha).getTime()-new Date(Fe.fecha).getTime());o(Fe=>({...Fe,intervenciones:ae})),p(d),A(null)},H=ge=>{A(ge),p({responsable:ge.responsable,accion:ge.accion,observaciones:ge.observaciones})},P=ge=>{window.confirm("Eliminar esta intervencin?")&&o(ae=>({...ae,intervenciones:(ae.intervenciones||[]).filter(Fe=>Fe.id!==ge)}))},M=ge=>{const{name:ae,value:Fe}=ge.target;o(et=>({...et,[ae]:Fe,fechaActualizacionApoyos:new Date().toISOString()}))},V=()=>{if(!g.meta.trim())return;const ge={...g,id:crypto.randomUUID(),cumplida:!1};o(ae=>({...ae,metasProgreso:[...ae.metasProgreso||[],ge]})),w({trimestre:"T1",meta:""})},G=ge=>{o(ae=>({...ae,metasProgreso:(ae.metasProgreso||[]).map(Fe=>Fe.id===ge?{...Fe,cumplida:!Fe.cumplida}:Fe)}))},oe=ge=>{o(ae=>({...ae,metasProgreso:(ae.metasProgreso||[]).filter(Fe=>Fe.id!==ge)}))},K=ee.useMemo(()=>{const ge=i.metasProgreso||[];if(ge.length===0)return{percent:0,color:"bg-slate-300"};const ae=ge.filter(De=>De.cumplida).length,Fe=Math.round(ae/ge.length*100),et=Fe<40?"bg-red-500":Fe<75?"bg-yellow-500":"bg-green-500";return{percent:Fe,color:et}},[i.metasProgreso]),Z=ee.useMemo(()=>{if(!i.fechaActualizacionApoyos)return!0;const ge=new Date(i.fechaActualizacionApoyos),ae=new Date;return ae.setMonth(ae.getMonth()-3),ge<ae},[i.fechaActualizacionApoyos]),re=()=>{if(!b.titulo.trim()||!b.fecha)return;const ge={...b,id:crypto.randomUUID(),resuelta:!1};o(ae=>({...ae,alertas:[...ae.alertas||[],ge].sort((Fe,et)=>new Date(Fe.fecha).getTime()-new Date(et.fecha).getTime())})),E({titulo:"",fecha:new Date().toISOString().split("T")[0]})},q=ge=>{o(ae=>({...ae,alertas:(ae.alertas||[]).map(Fe=>Fe.id===ge?{...Fe,resuelta:!Fe.resuelta}:Fe)}))},X=ge=>{o(ae=>({...ae,alertas:(ae.alertas||[]).filter(Fe=>Fe.id!==ge)}))},ue=ge=>{ge.target.files&&ge.target.files[0]&&I(ge.target.files[0])},j=()=>{if(!T)return;F(!0);const ge=new FileReader;ge.readAsDataURL(T),ge.onloadend=()=>{const ae={id:crypto.randomUUID(),nombre:T.name,url:ge.result,fechaSubida:new Date().toISOString()};o(Fe=>({...Fe,archivos:[ae,...Fe.archivos||[]]})),I(null),F(!1)},ge.onerror=()=>{alert("Error al leer el archivo."),F(!1)}},W=ge=>{window.confirm("Eliminar este archivo?")&&o(ae=>({...ae,archivos:(ae.archivos||[]).filter(Fe=>Fe.id!==ge)}))},J=()=>{if(!L.motivo.trim()||!L.asistentes.trim()){alert("Motivo y asistentes son obligatorios.");return}const ge={...L,id:crypto.randomUUID(),fecha:new Date().toISOString()};o(ae=>({...ae,reuniones:[ge,...ae.reuniones||[]].sort((Fe,et)=>new Date(et.fecha).getTime()-new Date(Fe.fecha).getTime())})),S(R)},ne=ge=>{window.confirm("Eliminar este registro de reunin?")&&o(ae=>({...ae,reuniones:(ae.reuniones||[]).filter(Fe=>Fe.id!==ge)}))},ie=()=>{var it,dt,Ct;const ge=new an("p","mm","a4"),ae=20,Fe=ge.internal.pageSize.getWidth(),et=ge.internal.pageSize.getHeight();let De=ae;const Ce=At=>{At.setFontSize(10),At.setTextColor(100),At.text("Ficha de Seguimiento - Mdulo Inclusin",ae,15)};Ce(ge),ge.setFontSize(18),ge.setFont("helvetica","bold"),ge.setTextColor(40),ge.text(i.nombre,ae,De+10),De+=15,ge.setFontSize(11),ge.setFont("helvetica","normal"),ge.setTextColor(80),ge.text(`Curso: ${i.curso}`,ae,De),ge.text(`Dificultad: ${i.dificultad}`,ae,De+6),De+=15;const Ge=At=>{De+At>et-ae&&(ge.addPage(),Ce(ge),De=ae)},nt=At=>{Ge(15),ge.setFontSize(14),ge.setFont("helvetica","bold"),ge.text(At,ae,De),De+=10};if((it=i.intervenciones)!=null&&it.length&&(nt("Historial de Intervenciones"),Fl(ge,{startY:De,head:[["Fecha","Responsable","Accin","Observaciones"]],body:i.intervenciones.map(At=>[new Date(At.fecha).toLocaleDateString("es-CL"),At.responsable,At.accion,At.observaciones]),theme:"grid",didDrawPage:At=>Ce(ge)}),De=ge.lastAutoTable.finalY+10),i.adaptacionesCurriculares||i.apoyosRecibidos){Ge(30),nt("Seguimiento y Apoyos"),ge.setFontSize(11),ge.setFont("helvetica","normal");const At=`Adaptaciones: ${i.adaptacionesCurriculares||"No registradas."}
Apoyos: ${i.apoyosRecibidos||"No registrados."}`,kt=ge.splitTextToSize(At,Fe-ae*2);ge.text(kt,ae,De),De+=kt.length*5+10}(dt=i.metasProgreso)!=null&&dt.length&&(Ge(30),nt("Metas de Progreso"),Fl(ge,{startY:De,head:[["Trimestre","Meta","Estado"]],body:i.metasProgreso.map(At=>[At.trimestre,At.meta,At.cumplida?"Cumplida":"Pendiente"]),theme:"grid",didDrawPage:At=>Ce(ge)}),De=ge.lastAutoTable.finalY+10),(Ct=i.reuniones)!=null&&Ct.length&&(nt("Reuniones con Apoderados"),Fl(ge,{startY:De,head:[["Fecha","Motivo","Acuerdos","Asistentes"]],body:i.reuniones.map(At=>[new Date(At.fecha).toLocaleDateString("es-CL"),At.motivo,At.acuerdos,At.asistentes]),theme:"grid",didDrawPage:At=>Ce(ge)})),ge.save(`Ficha_Inclusion_${i.nombre.replace(/\s/g,"_")}.pdf`)},de=()=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[u.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:l?"Editando Intervencin":"Registrar Nueva Intervencin"}),u.jsxs("select",{value:h.responsable,onChange:ge=>p(ae=>({...ae,responsable:ge.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[u.jsx("option",{value:"",children:"Seleccione Responsable..."}),r.map(ge=>u.jsx("option",{value:ge,children:ge},ge))]}),u.jsx("textarea",{value:h.accion,onChange:ge=>p(ae=>({...ae,accion:ge.target.value})),placeholder:"Accin realizada...",rows:2,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsx("textarea",{value:h.observaciones,onChange:ge=>p(ae=>({...ae,observaciones:ge.target.value})),placeholder:"Observaciones adicionales...",rows:2,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsxs("div",{className:"flex justify-end gap-2",children:[l&&u.jsx("button",{onClick:()=>{A(null),p(d)},className:"text-sm bg-slate-200 dark:bg-slate-600 px-3 py-1 rounded-md",children:"Cancelar Edicin"}),u.jsx("button",{onClick:B,className:"text-sm bg-amber-500 text-white font-semibold px-3 py-1 rounded-md",children:l?"Actualizar":"Guardar"})]})]}),u.jsx("div",{className:"space-y-3",children:(i.intervenciones||[]).map(ge=>u.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:ge.accion}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:ge.observaciones}),u.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:[new Date(ge.fecha).toLocaleString("es-CL")," - ",ge.responsable]})]}),u.jsxs("div",{className:"flex-shrink-0 ml-4 flex gap-2",children:[u.jsx("button",{onClick:()=>H(ge),className:"text-blue-500",children:""}),u.jsx("button",{onClick:()=>P(ge.id),className:"text-red-500",children:""})]})]})},ge.id))})]}),me=()=>u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg border dark:border-slate-600 space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Adaptaciones y Apoyos"}),Z&&u.jsx("span",{title:"Informacin no actualizada en los ltimos 3 meses",className:"text-yellow-500 text-xl",children:""})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Adaptaciones Curriculares Implementadas"}),u.jsx("textarea",{name:"adaptacionesCurriculares",value:i.adaptacionesCurriculares||"",onChange:M,rows:3,className:"w-full mt-1 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Apoyos Recibidos (PIE, dupla, etc.)"}),u.jsx("textarea",{name:"apoyosRecibidos",value:i.apoyosRecibidos||"",onChange:M,rows:3,className:"w-full mt-1 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),u.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg border dark:border-slate-600 space-y-3",children:[u.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Indicadores de Progreso"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Progreso Anual de Metas: ",K.percent,"%"]}),u.jsx("div",{className:"w-full bg-slate-200 rounded-full h-4 dark:bg-slate-700",children:u.jsx("div",{className:`${K.color} h-4 rounded-full transition-all duration-500`,style:{width:`${K.percent}%`}})})]}),u.jsxs("div",{className:"flex gap-2 items-end pt-2",children:[u.jsxs("select",{value:g.trimestre,onChange:ge=>w(ae=>({...ae,trimestre:ge.target.value})),className:"border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[u.jsx("option",{value:"T1",children:"T1"}),u.jsx("option",{value:"T2",children:"T2"}),u.jsx("option",{value:"T3",children:"T3"})]}),u.jsx("input",{value:g.meta,onChange:ge=>w(ae=>({...ae,meta:ge.target.value})),placeholder:"Definir nueva meta trimestral...",className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsx("button",{onClick:V,className:"bg-slate-200 dark:bg-slate-600 px-3 py-2 rounded-md font-semibold text-sm",children:"Agregar"})]}),u.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:(i.metasProgreso||[]).map(ge=>u.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 dark:bg-slate-700/50 rounded",children:[u.jsx("input",{type:"checkbox",checked:ge.cumplida,onChange:()=>G(ge.id),className:"h-5 w-5 rounded text-amber-500"}),u.jsxs("span",{className:`flex-grow text-sm ${ge.cumplida?"line-through text-slate-500":"text-slate-800 dark:text-slate-200"}`,children:[u.jsxs("strong",{children:[ge.trimestre,":"]})," ",ge.meta]}),u.jsx("button",{onClick:()=>oe(ge.id),className:"text-red-500 text-sm",children:""})]},ge.id))})]})]}),xe=()=>u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Alertas y Recordatorios"}),u.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[u.jsx("h5",{className:"font-medium",children:"Agendar Nueva Alerta"}),u.jsx("input",{type:"text",value:b.titulo,onChange:ge=>E(ae=>({...ae,titulo:ge.target.value})),placeholder:"Ttulo de la alerta",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700"}),u.jsx("input",{type:"date",value:b.fecha,onChange:ge=>E(ae=>({...ae,fecha:ge.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700"}),u.jsx("button",{onClick:re,className:"w-full text-sm bg-amber-500 text-white font-semibold px-3 py-1.5 rounded-md",children:"Agendar"})]}),u.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:(i.alertas||[]).map(ge=>u.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-slate-800 rounded border dark:border-slate-600",children:[u.jsx("input",{type:"checkbox",checked:ge.resuelta,onChange:()=>q(ge.id),className:"h-5 w-5 rounded text-amber-500"}),u.jsxs("span",{className:`flex-grow text-sm ${ge.resuelta?"line-through text-slate-500":"text-slate-800 dark:text-slate-200"}`,children:[ge.titulo," (",new Date(ge.fecha+"T12:00:00").toLocaleDateString(),")"]}),u.jsx("button",{onClick:()=>X(ge.id),className:"text-red-500 text-sm",children:""})]},ge.id))})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Archivos Adjuntos"}),u.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[u.jsx("h5",{className:"font-medium",children:"Subir Nuevo Archivo"}),u.jsx("input",{type:"file",onChange:ue,className:"w-full text-sm"}),u.jsx("button",{onClick:j,disabled:!T||k,className:"w-full text-sm bg-blue-500 text-white font-semibold px-3 py-1.5 rounded-md disabled:bg-slate-400",children:k?"Subiendo...":"Subir"})]}),u.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:(i.archivos||[]).map(ge=>u.jsxs("div",{className:"flex justify-between items-center p-2 bg-white dark:bg-slate-800 rounded border dark:border-slate-600",children:[u.jsx("a",{href:ge.url,download:ge.nombre,className:"text-sm text-blue-600 hover:underline truncate",children:ge.nombre}),u.jsx("button",{onClick:()=>W(ge.id),className:"text-red-500 text-sm ml-2",children:""})]},ge.id))})]})]}),Se=()=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[u.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Registrar Nueva Reunin"}),u.jsx("input",{value:L.motivo,onChange:ge=>S(ae=>({...ae,motivo:ge.target.value})),placeholder:"Motivo de la reunin...",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsx("textarea",{value:L.acuerdos,onChange:ge=>S(ae=>({...ae,acuerdos:ge.target.value})),placeholder:"Acuerdos...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsx("input",{value:L.asistentes,onChange:ge=>S(ae=>({...ae,asistentes:ge.target.value})),placeholder:"Asistentes (separados por coma)...",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsx("div",{className:"text-right",children:u.jsx("button",{onClick:J,className:"text-sm bg-amber-500 text-white font-semibold px-3 py-1 rounded-md",children:"Guardar Reunin"})})]}),u.jsx("div",{className:"space-y-3",children:(i.reuniones||[]).map(ge=>u.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:ge.motivo}),u.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:[u.jsx("strong",{children:"Acuerdos:"})," ",ge.acuerdos]}),u.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:[new Date(ge.fecha).toLocaleString("es-CL")," - Asistentes: ",ge.asistentes]})]}),u.jsx("button",{onClick:()=>ne(ge.id),className:"text-red-500 flex-shrink-0 ml-4",children:""})]})},ge.id))})]});return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col animate-fade-in-up",onClick:ge=>ge.stopPropagation(),children:[u.jsxs("div",{className:"p-6 border-b dark:border-slate-700 flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:["Ficha de Seguimiento: ",t.nombre]}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[t.curso," - ",t.dificultad]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:ie,className:"text-sm bg-red-100 text-red-700 font-semibold px-3 py-1.5 rounded-md hover:bg-red-200",children:"Exportar PDF"}),u.jsx("button",{onClick:e,className:"text-2xl text-slate-500 hover:text-slate-800",children:""})]})]}),u.jsx("div",{className:"border-b dark:border-slate-700 px-4",children:u.jsx("nav",{className:"-mb-px flex space-x-6",children:["intervenciones","seguimiento","reuniones","alertas"].map(ge=>u.jsx("button",{onClick:()=>a(ge),className:`${s===ge?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700"} whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm capitalize`,children:ge==="alertas"?"Alertas y Archivos":ge==="seguimiento"?"Seguimiento y Metas":ge},ge))})}),u.jsxs("div",{className:"p-6 overflow-y-auto flex-grow bg-slate-50 dark:bg-slate-900/50",children:[s==="intervenciones"&&de(),s==="seguimiento"&&me(),s==="reuniones"&&Se(),s==="alertas"&&xe()]}),u.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end gap-3 mt-auto",children:[u.jsx("button",{onClick:e,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Cerrar"}),u.jsx("button",{onClick:N,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar Cambios"})]})]})})},Vge=({student:t,onClose:e,onConfirm:n})=>{const[r,s]=ee.useState(D2[0]),a=()=>{n(t,r)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg p-6 animate-fade-in-up",onClick:i=>i.stopPropagation(),children:[u.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:["Agregar a ",t.nombreCompleto," al PIE"]}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Por favor, seleccione la dificultad de aprendizaje principal para este estudiante."}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"dificultad",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Dificultad de Aprendizaje"}),u.jsx("select",{id:"dificultad",value:r,onChange:i=>s(i.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:D2.map(i=>u.jsx("option",{value:i,children:i},i))})]}),u.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:e,className:"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Cancelar"}),u.jsx("button",{type:"button",onClick:a,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Confirmar e Ingresar"})]})]})})},s6=({currentUser:t})=>{const[e,n]=ee.useState([]),[r,s]=ee.useState([]),[a,i]=ee.useState(null),[o,l]=ee.useState(null),[A,d]=ee.useState(""),[h,p]=ee.useState(""),[g,w]=ee.useState("");ee.useEffect(()=>{try{const S=localStorage.getItem(r6);S&&n(JSON.parse(S));const N=localStorage.getItem(Qge);N&&s(JSON.parse(N))}catch(S){console.error("Error al cargar datos de Inclusin desde localStorage",S)}},[]);const b=ee.useCallback(S=>{n(S),localStorage.setItem(r6,JSON.stringify(S))},[]),E=(S,N)=>{if(e.some(H=>H.nombre===S.nombreCompleto)){alert("Este estudiante ya est en el programa de inclusin.");return}const B={id:crypto.randomUUID(),nombre:S.nombreCompleto,curso:S.curso||"",dificultad:N,intervenciones:[],archivos:[],reuniones:[]};b([B,...e]),i(B)},T=S=>{b(e.map(N=>N.id===S.id?S:N)),i(S)},I=S=>{window.confirm("Est seguro de que desea eliminar a este estudiante del programa de inclusin?")&&(b(e.filter(N=>N.id!==S)),(a==null?void 0:a.id)===S&&i(null))},k=S=>{const N=R.map(B=>({Nombre:B.nombre,Curso:B.curso,Dificultad:B.dificultad,"N Intervenciones":B.intervenciones.length,"Alertas Pendientes":(B.alertas||[]).filter(H=>!H.resuelta).length}));if(S==="xlsx"){const B=Sl.json_to_sheet(N),H=Sl.book_new();Sl.book_append_sheet(H,B,"Estudiantes_Inclusion"),m4(H,"Estudiantes_Inclusion.xlsx")}else{const B=new an;B.text("Listado de Estudiantes - Programa de Inclusin",14,15),Fl(B,{startY:20,head:[Object.keys(N[0])],body:N.map(Object.values)}),B.save("Estudiantes_Inclusion.pdf")}},F=ee.useMemo(()=>r.filter(S=>{var N;return S.profile===en.ESTUDIANTE&&(((N=t.cursos)==null?void 0:N.includes(S.curso||""))||t.profile===en.SUBDIRECCION)}).filter(S=>!e.some(N=>N.nombre===S.nombreCompleto)),[r,e,t]),R=ee.useMemo(()=>e.filter(S=>S.nombre.toLowerCase().includes(A.toLowerCase())&&(h===""||S.curso===h)&&(g===""||S.dificultad===g)).sort((S,N)=>S.nombre.localeCompare(N.nombre)),[e,A,h,g]),L=ee.useMemo(()=>r.filter(S=>S.profile===en.PROFESORADO).map(S=>S.nombreCompleto).sort(),[r]);return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Programa de Inclusin Escolar (PIE)"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Estudiantes en PIE"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>k("xlsx"),className:"text-sm bg-green-100 text-green-700 font-semibold py-1 px-3 rounded-lg",children:"Excel"}),u.jsx("button",{onClick:()=>k("pdf"),className:"text-sm bg-red-100 text-red-700 font-semibold py-1 px-3 rounded-lg",children:"PDF"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[u.jsx("input",{type:"text",placeholder:"Buscar por nombre...",value:A,onChange:S=>d(S.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsxs("select",{value:h,onChange:S=>p(S.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[u.jsx("option",{value:"",children:"Todos los Cursos"}),Xs.map(S=>u.jsx("option",{children:S},S))]}),u.jsxs("select",{value:g,onChange:S=>w(S.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[u.jsx("option",{value:"",children:"Todas las Dificultades"}),D2.map(S=>u.jsx("option",{children:S},S))]})]}),u.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:R.map(S=>u.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md border dark:border-slate-700 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:S.nombre}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[S.curso," - ",S.dificultad]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>i(S),className:"text-blue-600 hover:text-blue-800 font-semibold text-sm",children:"Ver Ficha"}),u.jsx("button",{onClick:()=>I(S.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full text-lg",children:""})]})]},S.id))})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Agregar Estudiante desde Nmina"}),u.jsx("ul",{className:"space-y-2 max-h-[60vh] overflow-y-auto",children:F.map(S=>u.jsxs("li",{className:"flex justify-between items-center bg-slate-50 dark:bg-slate-700 p-2 rounded",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-sm text-slate-800 dark:text-slate-200",children:S.nombreCompleto}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:S.curso})]}),u.jsx("button",{onClick:()=>l(S),className:"text-2xl text-green-500 hover:text-green-700",children:"+"})]},S.id))})]})]}),o&&u.jsx(Vge,{student:o,onClose:()=>l(null),onConfirm:(S,N)=>{E(S,N),l(null)}}),a&&u.jsx(Hge,{student:a,onClose:()=>i(null),onSave:T,profesores:L})]})},a6="asistenciaDualRecords",Gge=({currentUser:t})=>{const[e,n]=ee.useState(t.curso||""),[r,s]=ee.useState([]),[a,i]=ee.useState(!1),[o,l]=ee.useState(null),A=`asistenciaPersonalDual-${t.id}`;ee.useEffect(()=>{try{const p=localStorage.getItem(A);p&&s(JSON.parse(p))}catch(p){console.error("Error al cargar historial de asistencia",p),l({text:"No se pudo cargar el historial local.",type:"error"})}},[A]);const d=p=>{const g=[p,...r];s(g),localStorage.setItem(A,JSON.stringify(g));try{const w=localStorage.getItem(a6),b=w?JSON.parse(w):[],E=[p,...b];localStorage.setItem(a6,JSON.stringify(E))}catch(w){console.error("Error al guardar en el historial compartido",w),l({text:"Se registr su asistencia, pero hubo un problema al notificar a coordinacin.",type:"error"})}},h=p=>{if(!e){l({text:"Por favor, seleccione su curso antes de marcar.",type:"error"});return}i(!0),l(null),navigator.geolocation.getCurrentPosition(g=>{const w={id:crypto.randomUUID(),nombreEstudiante:t.nombreCompleto,emailEstudiante:t.email,curso:e,tipo:p,fechaHora:new Date().toISOString(),ubicacion:{latitud:g.coords.latitude,longitud:g.coords.longitude}};d(w),i(!1),l({text:`Marca de ${p} registrada con xito!`,type:"success"})},g=>{console.error("Geolocation error:",g);let w="No se pudo obtener la ubicacin.";switch(g.code){case g.PERMISSION_DENIED:w="Permiso de ubicacin denegado. Por favor, habilite la ubicacin en su navegador y dispositivo.";break;case g.POSITION_UNAVAILABLE:w="La informacin de ubicacin no est disponible en este momento. Verifique su conexin y GPS.";break;case g.TIMEOUT:w="La solicitud de ubicacin ha tardado demasiado. Intntelo de nuevo en un lugar con mejor seal.";break;default:w=`Ocurri un error desconocido al obtener la ubicacin (cdigo: ${g.code}).`;break}l({text:w,type:"error"}),i(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Asistencia a Empresa"}),u.jsx("p",{className:"text-slate-500 mb-6",children:"Registre su entrada y salida de la empresa de prctica."}),u.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 mb-1",children:"Seleccione su curso"}),u.jsxs("select",{id:"curso",value:e,onChange:p=>n(p.target.value),className:"w-full border-slate-300 rounded-md shadow-sm text-lg p-2",children:[u.jsx("option",{value:"",children:"-- Mi curso --"}),qf.map(p=>u.jsx("option",{value:p,children:p},p))]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[u.jsx("button",{onClick:()=>h("Entrada"),disabled:a||!e,className:"bg-green-600 text-white font-bold py-4 px-6 rounded-lg hover:bg-green-700 disabled:bg-slate-400 flex items-center justify-center text-xl transition-all",children:"Entrada"}),u.jsx("button",{onClick:()=>h("Salida"),disabled:a||!e,className:"bg-red-600 text-white font-bold py-4 px-6 rounded-lg hover:bg-red-700 disabled:bg-slate-400 flex items-center justify-center text-xl transition-all",children:"Salida"})]}),a&&u.jsxs("div",{className:"text-center text-slate-600 pt-4 flex items-center justify-center gap-2",children:[u.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u.jsx("span",{children:"Obteniendo ubicacin..."})]}),o&&u.jsx("div",{className:`text-center p-3 rounded-md mt-4 ${o.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.text})]})]}),u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Mi Historial de Asistencia"}),u.jsx("div",{className:"overflow-x-auto max-h-96",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[u.jsx("thead",{className:"bg-slate-50 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Fecha y Hora"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Tipo"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Curso"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:r.length>0?r.map(p=>u.jsxs("tr",{className:"hover:bg-slate-50",children:[u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:new Date(p.fechaHora).toLocaleString("es-CL")}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:u.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${p.tipo==="Entrada"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:p.tipo})}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:p.curso})]},p.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:3,className:"px-6 py-10 text-center text-slate-500",children:"No tienes marcas de asistencia registradas."})})})]})})]})]})},zge="asistenciaDualRecords",Kge="usuariosLiceo",cv=t=>{if(!t)return"";let e=t.trim().toLowerCase();return e=e.replace(//g,""),e=e.replace(/\s+(medio|bsico|basico)/g,""),e=e.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1"),e=e.replace(/^(\d)(?![])/,"$1"),e=e.replace(/\s+/g,"").toUpperCase(),e},qge=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z",clipRule:"evenodd"})}),Wge=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z",clipRule:"evenodd",transform:"rotate(180 10 10)"})}),$ge=()=>{const[t,e]=ee.useState([]),[n,r]=ee.useState([]),[s,a]=ee.useState(new Date),[i,o]=ee.useState("todos"),[l,A]=ee.useState("");ee.useEffect(()=>{const T=()=>{const I=localStorage.getItem(zge);I&&e(JSON.parse(I));const k=localStorage.getItem(Kge);k&&r(JSON.parse(k))};return T(),window.addEventListener("storage",T),()=>window.removeEventListener("storage",T)},[]);const{monthDays:d,monthName:h,year:p}=ee.useMemo(()=>{const T=s.getFullYear(),I=s.getMonth();return{monthDays:new Date(T,I+1,0).getDate(),monthName:s.toLocaleString("es-CL",{month:"long"}),year:T}},[s]),g=ee.useMemo(()=>{let T=n.filter(I=>I.profile===en.ESTUDIANTE&&I.curso&&qf.includes(cv(I.curso)));return i!=="todos"&&(T=T.filter(I=>cv(I.curso||"")===i)),l&&(T=T.filter(I=>I.nombreCompleto.toLowerCase().includes(l.toLowerCase()))),T.sort((I,k)=>I.nombreCompleto.localeCompare(k.nombreCompleto))},[n,i,l]),w=ee.useMemo(()=>{const T=new Map,I=s.getMonth(),k=s.getFullYear();return t.filter(R=>{const L=new Date(R.fechaHora);return L.getMonth()!==I||L.getFullYear()!==k?!1:i==="todos"?qf.includes(cv(R.curso||"")):cv(R.curso||"")===i}).forEach(R=>{const L=new Date(R.fechaHora).getDate();T.has(R.nombreEstudiante)||T.set(R.nombreEstudiante,new Map);const S=T.get(R.nombreEstudiante);S.has(L)||S.set(L,{});const N=S.get(L);R.tipo==="Entrada"?(!N.entrada||new Date(R.fechaHora)<new Date(N.entrada.fechaHora))&&(N.entrada=R):R.tipo==="Salida"&&(!N.salida||new Date(R.fechaHora)>new Date(N.salida.fechaHora))&&(N.salida=R)}),T},[t,s,i]),b=T=>{a(I=>{const k=new Date(I);return k.setMonth(k.getMonth()+T),k})},E=["D","L","M","M","J","V","S"];return u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md space-y-6 animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Asistencia Dual Mensual"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50 dark:border-slate-700",children:[u.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[u.jsx("button",{onClick:()=>b(-1),className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600",children:"<"}),u.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 capitalize w-48 text-center",children:`${h} ${p}`}),u.jsx("button",{onClick:()=>b(1),className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600",children:">"})]}),u.jsxs("select",{value:i,onChange:T=>o(T.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[u.jsx("option",{value:"todos",children:"Todos los Cursos"}),qf.map(T=>u.jsx("option",{value:T,children:T},T))]}),u.jsx("input",{type:"text",placeholder:"Buscar estudiante...",value:l,onChange:T=>A(T.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full border-collapse border border-slate-200 dark:border-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"sticky left-0 bg-slate-100 dark:bg-slate-800 z-10 p-2 border-r border-b border-slate-200 dark:border-slate-600 text-sm font-semibold w-48",children:"Estudiante"}),Array.from({length:d},(T,I)=>{const F=new Date(p,s.getMonth(),I+1).getDay(),R=F===0||F===6;return u.jsxs("th",{className:`p-1 border-r border-b border-slate-200 dark:border-slate-600 text-xs w-16 ${R?"bg-slate-100 dark:bg-slate-700/50":""}`,children:[u.jsx("div",{className:"font-semibold",children:E[F]}),u.jsx("div",{children:I+1})]},I)})]})}),u.jsx("tbody",{children:g.length>0?g.map(T=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[u.jsx("td",{className:"sticky left-0 bg-white dark:bg-slate-800 z-10 p-2 border-r border-b border-slate-200 dark:border-slate-600 text-sm font-medium whitespace-nowrap",children:T.nombreCompleto}),Array.from({length:d},(I,k)=>{var N;const F=k+1,R=(N=w.get(T.nombreCompleto))==null?void 0:N.get(F),L=new Date(p,s.getMonth(),k+1),S=L.getDay()===0||L.getDay()===6;return u.jsx("td",{className:`p-1 border-r border-b border-slate-200 dark:border-slate-600 text-center align-middle ${S?"bg-slate-100 dark:bg-slate-700/50":""}`,children:u.jsxs("div",{className:"flex justify-center items-center gap-1.5 h-full",children:[(R==null?void 0:R.entrada)&&u.jsxs("div",{className:"group relative cursor-pointer",onClick:()=>{var B,H;return window.open(`https://www.google.com/maps?q=${(B=R.entrada)==null?void 0:B.ubicacion.latitud},${(H=R.entrada)==null?void 0:H.ubicacion.longitud}`,"_blank")},children:[u.jsx(qge,{}),u.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 w-max px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-20",children:new Date(R.entrada.fechaHora).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})})]}),(R==null?void 0:R.salida)&&u.jsxs("div",{className:"group relative cursor-pointer",onClick:()=>{var B,H;return window.open(`https://www.google.com/maps?q=${(B=R.salida)==null?void 0:B.ubicacion.latitud},${(H=R.salida)==null?void 0:H.ubicacion.longitud}`,"_blank")},children:[u.jsx(Wge,{}),u.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 w-max px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-20",children:new Date(R.salida.fechaHora).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})})]})]})},F)})]},T.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:d+1,className:"text-center p-8 text-slate-500",children:"No hay estudiantes en el curso seleccionado o que coincidan con la bsqueda."})})})]})})]})},i6="evaluacionesFormativas",o6="calificacionesFormativas",l6="trabajosGrupalesFormativos",Yge="usuariosLiceo",_7=t=>{if(!t)return"";let e=t.trim().toLowerCase();return e=e.replace(//g,""),e=e.replace(/\s+(medio|bsico|basico)/g,""),e=e.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1"),e=e.replace(/^(\d)(?![])/,"$1"),e=e.replace(/\s+/g,"").toUpperCase(),e},ny={"Lengua y Literatura":"",Matemtica:"",Ingls:"",Filosofa:"","Historia y Geografa":"","Educacin Ciudadana":"",Ciencias:"","Ciencias para la Ciudadana":"",Artes:"",Msica:"","Educacin Fsica":"",Orientacin:"","Mecnica Industrial":"","Mecnica Automotriz":"",Emprendimiento:"",Tecnologa:"","Pensamiento Lgico":"","Competencia Lectora":"",Default:""},S7=t=>t.startsWith("1")?{bg:"bg-blue-500",text:"text-white",border:"border-blue-700",spine:"bg-blue-800"}:t.startsWith("2")?{bg:"bg-green-500",text:"text-white",border:"border-green-700",spine:"bg-green-800"}:t.startsWith("3")?{bg:"bg-yellow-400",text:"text-yellow-900",border:"border-yellow-600",spine:"bg-yellow-700"}:t.startsWith("4")?{bg:"bg-red-500",text:"text-white",border:"border-red-700",spine:"bg-red-800"}:{bg:"bg-slate-500",text:"text-white",border:"border-slate-700",spine:"bg-slate-800"},Jge=({cursos:t,onSelect:e})=>u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seleccione un Libro de Clases"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Cada libro representa un curso y contiene sus evaluaciones formativas."}),t.length>0?u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:t.map(n=>{const r=S7(n);return u.jsxs("div",{className:"space-y-2 text-center",children:[u.jsxs("button",{onClick:()=>e(n),className:`relative w-full h-48 rounded-md shadow-lg ${r.bg} ${r.border} border-b-4 transform hover:-translate-y-2 transition-transform duration-300 group`,children:[u.jsx("div",{className:`absolute top-0 left-0 w-6 h-full ${r.spine} rounded-l-md`}),u.jsxs("div",{className:`flex flex-col items-center justify-center h-full p-2 ${r.text}`,children:[u.jsx("span",{className:"font-bold text-2xl drop-shadow-sm",children:n.slice(0,2)}),u.jsx("span",{className:"font-black text-5xl drop-shadow-md",children:n.slice(2)})]})]}),u.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:n})]},n)})}):u.jsxs("div",{className:"text-center py-10 bg-slate-100 rounded-lg",children:[u.jsx("p",{className:"text-slate-500",children:"No tiene cursos asignados."}),u.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Contacte a un administrador para que le asigne cursos a su perfil."})]})]}),Xge=({curso:t,asignaturas:e,onSelect:n,onBack:r})=>{const s=S7(t);return u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx("button",{onClick:r,className:"text-slate-500 hover:text-slate-800 dark:hover:text-slate-200",children:" Volver a Cursos"}),u.jsxs("div",{className:`p-2 rounded-md ${s.bg} ${s.text} font-bold`,children:["Libro de Clases: ",t]})]}),u.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seleccione una Asignatura"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Elija la asignatura para ver o agregar calificaciones."}),e.length>0?u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:e.map(a=>u.jsxs("button",{onClick:()=>n(a),className:"flex items-center gap-3 p-4 rounded-lg bg-slate-100 hover:bg-amber-100 dark:bg-slate-700 dark:hover:bg-amber-900/50 transition-colors",children:[u.jsx("span",{className:"text-2xl",children:ny[a]||ny.Default}),u.jsx("span",{className:"font-semibold text-slate-800 dark:text-slate-200 text-left",children:a})]},a))}):u.jsxs("div",{className:"text-center py-10 bg-slate-100 rounded-lg",children:[u.jsx("p",{className:"text-slate-500",children:"No tiene asignaturas asignadas."}),u.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Contacte a un administrador."})]})]})},Zge=({curso:t,asignatura:e,allUsers:n,onBack:r})=>{const[s,a]=ee.useState([]),[i,o]=ee.useState({}),[l,A]=ee.useState({fecha:new Date().toISOString().split("T")[0],nombreActividad:""}),[d,h]=ee.useState(null),[p,g]=ee.useState(null);ee.useEffect(()=>{try{const B=localStorage.getItem(i6);B&&a(JSON.parse(B));const H=localStorage.getItem(o6);H&&o(JSON.parse(H))}catch(B){console.error("Error al cargar datos",B)}},[]);const w=B=>{a(B),localStorage.setItem(i6,JSON.stringify(B))},b=B=>{o(B),localStorage.setItem(o6,JSON.stringify(B))},E=ee.useMemo(()=>n.filter(B=>B.profile===en.ESTUDIANTE&&_7(B.curso||"")===t).map(B=>B.nombreCompleto).sort((B,H)=>B.localeCompare(H)),[n,t]),T=ee.useMemo(()=>s.filter(B=>B.curso===t&&B.asignatura===e).sort((B,H)=>new Date(B.fecha).getTime()-new Date(H.fecha).getTime()),[s,t,e]),I=B=>{const{name:H,value:P}=B.target;d?h(M=>M?{...M,[H]:P}:null):A(M=>({...M,[H]:P}))},k=B=>{if(B.preventDefault(),!l.nombreActividad.trim()){g("El nombre de la actividad es obligatorio.");return}const H={id:crypto.randomUUID(),asignatura:e,curso:t,...l};w([...s,H]);const P=E.reduce((M,V)=>(M[V]="trabajado",M),{});b({...i,[H.id]:P}),A({fecha:new Date().toISOString().split("T")[0],nombreActividad:""}),g(null)},F=(B,H)=>{var V;const M=(((V=i[B])==null?void 0:V[H])||"trabajado")==="trabajado"?"no trabajado":"trabajado";b({...i,[B]:{...i[B]||{},[H]:M}})},R=B=>h(B),L=()=>{d&&(w(s.map(B=>B.id===d.id?d:B)),h(null))},S=B=>{if(window.confirm("Eliminar esta evaluacin y todas sus calificaciones?")){w(s.filter(P=>P.id!==B));const H={...i};delete H[B],b(H)}},N=ee.useCallback(B=>{if(T.length===0)return"-";let H=0,P=0;return T.forEach(M=>{var G;const V=(G=i[M.id])==null?void 0:G[B];V==="trabajado"?(H+=7,P++):V==="no trabajado"&&(H+=2,P++)}),P===0?"-":(H/P).toFixed(1)},[i,T]);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:r,className:"text-slate-500 hover:text-slate-800",children:" Volver a Asignaturas"}),u.jsxs("div",{className:"bg-slate-100 p-2 rounded-md font-bold text-slate-800",children:[t," / ",e]})]}),u.jsxs("form",{onSubmit:k,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[u.jsx("h3",{className:"text-lg font-semibold col-span-full text-slate-700 dark:text-slate-200",children:"Crear Nueva Evaluacin"}),u.jsxs("div",{className:"w-full",children:[u.jsx("label",{htmlFor:"nombreActividad",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Actividad"}),u.jsx("input",{id:"nombreActividad",type:"text",name:"nombreActividad",value:l.nombreActividad,onChange:I,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),u.jsxs("div",{className:"w-full",children:[u.jsx("label",{htmlFor:"fecha",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Fecha"}),u.jsx("input",{id:"fecha",type:"date",name:"fecha",value:l.fecha,onChange:I,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),u.jsx("div",{className:"w-full",children:u.jsx("button",{type:"submit",className:"w-full bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 h-10",children:"Crear"})}),p&&u.jsx("p",{className:"text-red-500 text-sm col-span-full",children:p})]}),u.jsx("div",{className:"overflow-x-auto border border-slate-200 dark:border-slate-700 rounded-lg",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"sticky left-0 bg-slate-100 dark:bg-slate-800 px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase z-10 w-48",children:"Estudiante"}),T.map(B=>u.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-xs font-medium text-slate-600 dark:text-slate-300 uppercase w-36",children:(d==null?void 0:d.id)===B.id?u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("input",{type:"text",name:"nombreActividad",value:d.nombreActividad,onChange:I,className:"text-xs p-1 w-full dark:bg-slate-600"}),u.jsx("input",{type:"date",name:"fecha",value:d.fecha,onChange:I,className:"text-xs p-1 w-full dark:bg-slate-600"}),u.jsx("button",{onClick:L,className:"text-xs bg-green-200 text-green-800 rounded px-1",children:""})]}):u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"font-semibold",children:B.nombreActividad}),u.jsx("span",{className:"font-normal text-slate-500",children:B.fecha}),u.jsxs("div",{className:"flex gap-2 mt-1",children:[u.jsx("button",{onClick:()=>R(B),className:"text-blue-500 hover:text-blue-700",children:""}),u.jsx("button",{onClick:()=>S(B.id),className:"text-red-500 hover:text-red-700",children:""})]})]})},B.id)),u.jsx("th",{scope:"col",className:"sticky right-0 bg-slate-100 dark:bg-slate-800 px-4 py-3 text-center text-xs font-medium text-slate-600 dark:text-slate-300 uppercase z-10 w-24",children:"Promedio"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-900 divide-y divide-slate-200 dark:divide-slate-700",children:E.map(B=>u.jsxs("tr",{children:[u.jsx("td",{className:"sticky left-0 bg-white dark:bg-slate-900 px-4 py-2 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200 w-48",children:B}),T.map(H=>{var V;const M=((V=i[H.id])==null?void 0:V[B])==="trabajado";return u.jsx("td",{className:"px-2 py-1 whitespace-nowrap w-36 text-center",children:u.jsx("button",{onClick:()=>F(H.id,B),className:`text-3xl transition-opacity duration-200 ${M?"opacity-100":"opacity-20"}`,children:ny[e]||ny.Default})},H.id)}),u.jsx("td",{className:"sticky right-0 bg-white dark:bg-slate-900 px-4 py-2 whitespace-nowrap text-sm font-bold text-slate-800 dark:text-slate-200 w-24 text-center",children:N(B)})]},B))})]})})]})},exe=({curso:t,asignatura:e,allUsers:n,onBack:r})=>{const[s,a]=ee.useState([]),[i,o]=ee.useState(null),[l,A]=ee.useState({nombre:"",fecha:new Date().toISOString().split("T")[0]}),[d,h]=ee.useState({}),[p,g]=ee.useState(2);ee.useEffect(()=>{try{const R=localStorage.getItem(l6);R&&a(JSON.parse(R))}catch(R){console.error("Error al cargar trabajos grupales",R)}},[]);const w=R=>{a(R),localStorage.setItem(l6,JSON.stringify(R))},b=ee.useMemo(()=>n.filter(R=>R.profile===en.ESTUDIANTE&&_7(R.curso||"")===t).sort((R,L)=>R.nombreCompleto.localeCompare(L.nombreCompleto)),[n,t]);ee.useEffect(()=>{if(i){const R={};i.grupos.forEach(L=>{L.integrantes.forEach(S=>{R[S.nombre]={groupNumber:String(L.numero),role:S.rol||""}})}),h(R)}else h({})},[i]);const E=R=>{if(R.preventDefault(),!l.nombre.trim())return;const L={id:crypto.randomUUID(),curso:t,asignatura:e,nombreActividad:l.nombre,fechaPresentacion:l.fecha,grupos:[]};w([L,...s]),A({nombre:"",fecha:new Date().toISOString().split("T")[0]})},T=()=>{if(!i)return;const R=new Map;for(const N of b){const B=d[N.nombreCompleto];if(B&&B.groupNumber){const H=parseInt(B.groupNumber,10);isNaN(H)||(R.has(H)||R.set(H,[]),R.get(H).push({nombre:N.nombreCompleto,rol:B.role||void 0}))}}const L=Array.from(R.entries()).map(([N,B])=>({numero:N,integrantes:B})).sort((N,B)=>N.numero-B.numero),S={...i,grupos:L};w(s.map(N=>N.id===S.id?S:N)),o(S),alert("Grupos guardados con xito.")},I=()=>{if(p<2){alert("Debe haber al menos 2 grupos.");return}const R=[...b].sort(()=>Math.random()-.5),L={};R.forEach((S,N)=>{var B;L[S.nombreCompleto]={groupNumber:String(N%p+1),role:((B=d[S.nombreCompleto])==null?void 0:B.role)||""}}),h(L)},k=(R,L,S)=>{h(N=>({...N,[R]:{...N[R],[L]:S}}))},F=ee.useMemo(()=>{const R=new Map;return Object.entries(d).forEach(([L,S])=>{S.groupNumber&&(R.has(S.groupNumber)||R.set(S.groupNumber,[]),R.get(S.groupNumber).push({nombre:L,rol:S.role}))}),Array.from(R.entries()).sort((L,S)=>parseInt(L[0])-parseInt(S[0]))},[d]);return i?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("button",{onClick:()=>o(null),className:"text-sm font-semibold text-slate-500 hover:underline mb-2",children:" Volver a Actividades"}),u.jsx("h2",{className:"text-2xl font-bold",children:i.nombreActividad})]}),u.jsx("button",{onClick:T,className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Guardar Grupos"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"md:col-span-1 space-y-4",children:[u.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50",children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Auto-asignacin"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",value:p,onChange:R=>g(parseInt(R.target.value,10)),min:"2",className:"w-20 border-slate-300 rounded"}),u.jsx("button",{onClick:I,className:"flex-1 bg-slate-200 font-semibold py-2 px-3 rounded",children:"Asignar"})]})]}),u.jsxs("div",{className:"p-4 border rounded-lg h-[60vh] overflow-y-auto",children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Nmina del Curso"}),u.jsx("table",{className:"w-full text-sm",children:u.jsx("tbody",{children:b.map(R=>{var L;return u.jsxs("tr",{children:[u.jsx("td",{className:"py-1 pr-2",children:R.nombreCompleto}),u.jsx("td",{className:"py-1",children:u.jsx("input",{type:"number",value:((L=d[R.nombreCompleto])==null?void 0:L.groupNumber)||"",onChange:S=>k(R.nombreCompleto,"groupNumber",S.target.value),className:"w-16 p-1 border rounded text-center",placeholder:"N"})})]},R.id)})})})]})]}),u.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg h-[70vh] overflow-y-auto",children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Grupos Formados"}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:F.map(([R,L])=>u.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[u.jsxs("h4",{className:"font-bold border-b pb-1 mb-2",children:["Grupo ",R]}),u.jsx("ul",{className:"space-y-2",children:L.map(S=>u.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"flex-1 truncate",children:S.nombre}),u.jsxs("select",{value:S.rol||"",onChange:N=>k(S.nombre,"role",N.target.value),className:"p-1 border rounded text-xs w-32",children:[u.jsx("option",{value:"",children:"-- Asignar Rol --"}),t8.map(N=>u.jsx("option",{value:N,children:N},N))]})]},S.nombre))})]},R))})]})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:r,className:"text-slate-500 hover:text-slate-800",children:" Volver a Asignaturas"}),u.jsxs("div",{className:"bg-slate-100 p-2 rounded-md font-bold text-slate-800",children:[t," / ",e]})]}),u.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Crear Actividad Grupal"}),u.jsxs("form",{onSubmit:E,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[u.jsx("input",{value:l.nombre,onChange:R=>A({...l,nombre:R.target.value}),placeholder:"Nombre de la actividad",className:"w-full border-slate-300 rounded-md",required:!0}),u.jsx("input",{type:"date",value:l.fecha,onChange:R=>A({...l,fecha:R.target.value}),className:"w-full border-slate-300 rounded-md",required:!0}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg",children:"Crear"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Actividades Creadas"}),s.filter(R=>R.curso===t&&R.asignatura===e).map(R=>u.jsxs("button",{onClick:()=>o(R),className:"w-full text-left p-3 bg-white dark:bg-slate-700 hover:bg-slate-100 rounded-md border",children:[u.jsx("p",{className:"font-bold",children:R.nombreActividad}),u.jsxs("p",{className:"text-sm text-slate-500",children:["Fecha: ",R.fechaPresentacion]})]},R.id))]})]})},txe=({currentUser:t})=>{const[e,n]=ee.useState("calificaciones"),[r,s]=ee.useState(null),[a,i]=ee.useState(null),[o,l]=ee.useState([]);ee.useEffect(()=>{try{const g=localStorage.getItem(Yge);g&&l(JSON.parse(g))}catch(g){console.error("Error al cargar usuarios",g)}},[]);const A=ee.useMemo(()=>t.cursos||[],[t.cursos]),d=ee.useMemo(()=>t.asignaturas||[],[t.asignaturas]),h=({tab:g,label:w})=>u.jsx("button",{onClick:()=>n(g),className:`${e===g?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-3 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:w}),p=()=>{if(!r)return u.jsx(Jge,{cursos:A,onSelect:s});if(!a)return u.jsx(Xge,{curso:r,asignaturas:d,onSelect:i,onBack:()=>s(null)});if(e==="calificaciones")return u.jsx(Zge,{curso:r,asignatura:a,allUsers:o,onBack:()=>i(null)});if(e==="grupos")return u.jsx(exe,{curso:r,asignatura:a,allUsers:o,onBack:()=>i(null)})};return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Evaluaciones Formativas"}),u.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:u.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[u.jsx(h,{tab:"calificaciones",label:"Calificaciones"}),u.jsx(h,{tab:"grupos",label:"Trabajos Grupales"})]})}),u.jsx("div",{className:"mt-6",children:p()})]})},uw="acompanamientos",nxe=async()=>{try{const t=TW(d5(Fm,uw),BW("fecha","desc"));return(await $L(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error al obtener acompaamientos:",t),new Error("No se pudieron cargar los registros de acompaamiento")}},rxe=async t=>{try{return{id:(await RW(d5(Fm,uw),{...t,fecha:t.fecha||new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id,...t}}catch(e){throw console.error("Error al crear acompaamiento:",e),new Error("No se pudo crear el registro de acompaamiento")}},sxe=async(t,e)=>{try{const n=yh(Fm,uw,t);await YL(n,{...e,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Error al actualizar acompaamiento:",n,"ID:",t),new Error("No se pudo actualizar el registro de acompaamiento")}},axe=async t=>{try{const e=yh(Fm,uw,t);await JL(e)}catch(e){throw console.error("Error al eliminar acompaamiento:",e,"ID:",t),new Error("No se pudo eliminar el registro de acompaamiento")}},ixe=()=>{const[t,e]=ee.useState([]),[n,r]=ee.useState([]),[s,a]=ee.useState(!1),[i,o]=ee.useState(!1),[l,A]=ee.useState(null),[d,h]=ee.useState("list"),[p,g]=ee.useState(null),[w,b]=ee.useState(!1),[E,T]=ee.useState(!1),I=U2,k=ee.useMemo(()=>({fecha:new Date().toISOString(),docente:"",curso:"",asignatura:"",bloques:"",rubricaResultados:{},observacionesGenerales:"",retroalimentacionConsolidada:""}),[]),[F,R]=ee.useState(k),L=ee.useCallback(async()=>{a(!0);try{const re=await nxe();e(re),A(null)}catch(re){console.error("Error al cargar acompaamientos desde Firestore",re),A("No se pudieron cargar los registros de acompaamiento desde la nube.")}finally{a(!1)}},[]),S=ee.useCallback(async()=>{o(!0);try{const q=(await E7()).filter(X=>X.profile===en.PROFESORADO).map(X=>X.nombreCompleto).sort();r(q)}catch(re){console.error("Error al cargar profesores desde Firestore",re),A("No se pudieron cargar la lista de profesores desde la nube.")}finally{o(!1)}},[]);ee.useEffect(()=>{L(),S()},[L,S]);const N=re=>{R(q=>({...q,[re.target.name]:re.target.value}))},B=(re,q)=>{R(X=>({...X,rubricaResultados:{...X.rubricaResultados,[re]:q}}))},H=async()=>{b(!0);const{rubricaResultados:re,observacionesGenerales:q}=F;let X=`Resultados de la Rbrica:
`;I.forEach(j=>{j.criteria.forEach(W=>{const J=re[W.name];if(J&&W.levels[J-1]){const ne=W.levels[J-1];X+=`- Criterio: "${W.name}" | Nivel: ${J} (${ne})
`}})}),X+=`
Observaciones Generales del Evaluador:
${q||"No se proveyeron observaciones adicionales."}`;const ue=`
            Eres un asesor pedaggico experto. Tu tarea es generar una retroalimentacin formal, tcnica y constructiva para un docente, basada en una observacin de clase.
            La retroalimentacin debe ser estructurada y usar un lenguaje pedaggico preciso.

            A continuacin, los datos de la observacin:
            ${X}

            Genera una retroalimentacin que incluya obligatoriamente los siguientes puntos en formato Markdown:
            - ## Fortalezas Observadas: Destaca 2 o 3 puntos positivos clave, conectndolos con los criterios de la rbrica.
            - ## reas de Mejora: Identifica 2 o 3 aspectos donde el docente puede mejorar, explicando el porqu con base en la evidencia.
            - ## Sugerencias y Pasos a Seguir: Ofrece recomendaciones concretas, prcticas y accionables que el docente pueda implementar.
        `;try{go("Acompaamiento - Consolidar Feedback");const J=(await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:ue})).text.replace(/(\*\*|\*)/g,"");R(ne=>({...ne,retroalimentacionConsolidada:J}))}catch(j){console.error("Error al generar retroalimentacin con IA",j),alert("No se pudo generar la retroalimentacin. Intntelo de nuevo.")}finally{b(!1)}},P=async()=>{const re=p;if(!re)return;T(!0);const q=t.find(Se=>Se.id===re);if(!q){T(!1);return}const X=new an({orientation:"p",unit:"mm",format:"a4"}),ue=20,j=X.internal.pageSize.getWidth(),W=X.internal.pageSize.getHeight(),J=j-ue*2;let ne=ue;const ie=Se=>{Se.setFont("helvetica","bold"),Se.setFontSize(10),Se.setTextColor(100),Se.text("LICEO INDUSTRIAL DE RECOLETA",j/2,15,{align:"center"})};ie(X),X.setFont("helvetica","bold"),X.setFontSize(18),X.setTextColor(40),X.text("Informe de Acompaamiento Docente",j/2,ne+10,{align:"center"}),ne+=25,Fl(X,{startY:ne,body:[[{content:"Docente:",styles:{fontStyle:"bold"}},q.docente],[{content:"Fecha:",styles:{fontStyle:"bold"}},new Date(q.fecha).toLocaleDateString("es-CL")],[{content:"Asignatura:",styles:{fontStyle:"bold"}},q.asignatura],[{content:"Curso:",styles:{fontStyle:"bold"}},q.curso]],theme:"plain",styles:{fontSize:11,cellPadding:2,textColor:[50,50,50]},columnStyles:{0:{cellWidth:35}}}),ne=X.lastAutoTable.finalY+10;const de=[],me=["Dbil","Incipiente","Satisfactorio","Avanzado"];I.forEach(Se=>{de.push([{content:Se.domain,colSpan:2,styles:{fontStyle:"bold",fillColor:[220,220,220],textColor:[40,40,40],halign:"left"}}]),Se.criteria.forEach(ge=>{const ae=q.rubricaResultados[ge.name],Fe=ae?me[ae-1]:"No evaluado";de.push([ge.name,Fe])})}),Fl(X,{startY:ne,head:[["Indicador","Nivel de Logro"]],body:de,theme:"grid",headStyles:{fillColor:[44,62,80],textColor:255},didDrawPage:Se=>{Se.pageNumber>1&&ie(X)}}),ne=X.lastAutoTable.finalY+15;const xe=(Se,ge)=>{ne>W-ue-10&&(X.addPage(),ie(X),ne=ue),X.setFont("helvetica",ge.style),X.setFontSize(ge.size);const ae=X.splitTextToSize(Se,J),Fe=ae.length*(ge.size*.352778*1.15);ne+Fe>W-ue&&(X.addPage(),ie(X),ne=ue),X.text(ae,ue,ne,{align:"left"}),ne+=Fe+(ge.isTitle?5:8)};q.retroalimentacionConsolidada?q.retroalimentacionConsolidada.split(/(?=## )/).forEach(ge=>{if(ge.trim()){const ae=ge.trim().split(`
`),Fe=ae[0].replace("## ",""),et=ae.slice(1).join(`
`).trim();xe(Fe,{size:14,style:"bold",isTitle:!0}),xe(et,{size:11,style:"normal",isTitle:!1})}}):(xe("Retroalimentacin Consolidada",{size:14,style:"bold",isTitle:!0}),xe("No se ha generado retroalimentacin.",{size:11,style:"normal",isTitle:!1})),X.save(`Acompanamiento_${q.docente.replace(/\s/g,"_")}_${new Date(q.fecha).toLocaleDateString("es-CL")}.pdf`),T(!1)},M=async re=>{if(re.preventDefault(),!F.docente||!F.curso||!F.asignatura){alert("Docente, curso y asignatura son campos obligatorios.");return}try{let q=p;if(p)await sxe(p,F);else{const X=await rxe(F);g(X.id),R({...F}),q=X.id}await L(),q&&alert("Guardado correctamente!")}catch(q){console.error("Error al guardar acompaamiento:",q),A("Error al guardar el registro en la nube.")}},V=()=>{R(k),g(null),h("form"),A(null)},G=re=>{R(re),g(re.id),h("form"),A(null)},oe=async re=>{if(window.confirm("Est seguro de que desea eliminar este registro de acompaamiento?"))try{await axe(re),await L()}catch(q){console.error("Error al eliminar acompaamiento:",q),A("No se pudo eliminar el registro en la nube.")}},K=()=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Registros de Acompaamiento"}),u.jsx("button",{onClick:V,className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Crear Nuevo"})]}),s&&u.jsx("div",{className:"text-center text-amber-600 py-4",children:"Cargando registros desde la nube..."}),l&&u.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:l}),!s&&t.length===0&&u.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 p-4 rounded-lg",children:"No hay registros de acompaamiento en la nube."}),u.jsx("div",{className:"space-y-4",children:!s&&t.length>0&&t.map(re=>u.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:re.docente}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[re.curso," - ",re.asignatura]}),u.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Fecha: ",new Date(re.fecha).toLocaleDateString("es-CL")]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>G(re),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm",children:"Ver y Editar"}),u.jsx("button",{onClick:()=>oe(re.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:""})]})]},re.id))})]}),Z=()=>u.jsx("div",{className:"animate-fade-in",children:u.jsxs("form",{onSubmit:M,className:"space-y-8",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:p?"Editando Acompaamiento":"Nuevo Acompaamiento Docente"}),u.jsx("button",{type:"button",onClick:()=>h("list"),className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white font-semibold",children:" Volver al listado"})]}),l&&u.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md",children:l}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50 dark:border-slate-700",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"docente",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Docente"}),u.jsxs("select",{name:"docente",value:F.docente,onChange:N,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",disabled:i,children:[u.jsx("option",{value:"",children:i?"Cargando...":"Seleccione"}),n.map(re=>u.jsx("option",{value:re,children:re},re))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),u.jsxs("select",{name:"curso",value:F.curso,onChange:N,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[u.jsx("option",{value:"",children:"Seleccione"}),Xs.map(re=>u.jsx("option",{value:re,children:re},re))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),u.jsxs("select",{name:"asignatura",value:F.asignatura,onChange:N,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[u.jsx("option",{value:"",children:"Seleccione"}),zo.map(re=>u.jsx("option",{value:re,children:re},re))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"bloques",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Bloques Horarios"}),u.jsx("input",{type:"text",name:"bloques",value:F.bloques,onChange:N,placeholder:"Ej: 3-4",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),u.jsx("div",{className:"overflow-x-auto border border-slate-200 dark:border-slate-700 rounded-lg",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-1/12",children:"Dominio"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-3/12",children:"Criterio"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Dbil (1)"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Incipiente (2)"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Satisfactorio (3)"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Avanzado (4)"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:I.map(re=>u.jsx(ut.Fragment,{children:re.criteria.map((q,X)=>u.jsxs("tr",{children:[X===0&&u.jsx("td",{rowSpan:re.criteria.length,className:"px-3 py-4 align-top text-sm font-semibold text-slate-800 dark:text-slate-200 border-r dark:border-slate-600",children:re.domain}),u.jsx("td",{className:"px-3 py-4 align-top text-sm font-medium text-slate-700 dark:text-slate-300 border-r dark:border-slate-600",children:q.name}),q.levels.map((ue,j)=>{const W=j+1,J=F.rubricaResultados[q.name]===W;return u.jsx("td",{onClick:()=>B(q.name,W),className:`px-3 py-4 align-top text-sm text-slate-600 dark:text-slate-300 border-r dark:border-slate-600 cursor-pointer transition-colors ${J?"bg-amber-100 dark:bg-amber-900/30":"hover:bg-amber-50 dark:hover:bg-slate-700"}`,children:ue},W)})]},q.name))},re.domain))})]})}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"observacionesGenerales",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Observaciones Generales"}),u.jsx("textarea",{name:"observacionesGenerales",value:F.observacionesGenerales,onChange:N,rows:5,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{htmlFor:"retroalimentacionConsolidada",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Retroalimentacin Consolidada"}),u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("textarea",{name:"retroalimentacionConsolidada",value:F.retroalimentacionConsolidada,onChange:N,rows:8,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",placeholder:"Haga clic en 'Consolidar' para generar la retroalimentacin aqu..."}),u.jsx("button",{type:"button",onClick:H,disabled:w,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 disabled:bg-slate-400",children:w?"...":"Consolidar"})]})]}),u.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t dark:border-slate-700",children:[u.jsx("button",{type:"button",onClick:P,disabled:!p||E,className:"bg-red-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-red-700 disabled:bg-slate-400",children:E?"...":"Exportar PDF"}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Guardar Acompaamiento"})]})]})});return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Acompaamiento Docente"}),u.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:d==="list"?K():Z()})]})},GC="mensajesInternos",oxe="usuariosLiceo",c6="lir-read-status",lxe=({currentUser:t,refreshUnreadCount:e})=>{const[n,r]=ee.useState("inbox"),[s,a]=ee.useState([]),[i,o]=ee.useState([]),[l,A]=ee.useState(null),[d,h]=ee.useState({announcements:[],messages:[]}),p={para:"",asunto:"",cuerpo:""},[g,w]=ee.useState(p);ee.useEffect(()=>{try{const S=localStorage.getItem(GC);S&&a(JSON.parse(S));const N=localStorage.getItem(oxe);N&&o(JSON.parse(N));const B=localStorage.getItem(`${c6}-${t.id}`);B&&h(JSON.parse(B))}catch(S){console.error("Error loading messaging data",S)}},[t.id]);const b=S=>{a(S),localStorage.setItem(GC,JSON.stringify(S))},E=S=>{h(S),localStorage.setItem(`${c6}-${t.id}`,JSON.stringify(S)),e()},T=S=>{if(A(S),n==="inbox"&&!d.messages.includes(S.id)){const N={...d,messages:[...d.messages,S.id]};E(N)}},I=S=>{if(S.preventDefault(),!g.para||!g.asunto.trim()||!g.cuerpo.trim()){alert("Destinatario, asunto y cuerpo son obligatorios.");return}const N={id:crypto.randomUUID(),de:t.email,para:g.para,asunto:g.asunto,cuerpo:g.cuerpo,fecha:new Date().toISOString()},B=localStorage.getItem(GC),H=B?JSON.parse(B):[],P=[N,...H];b(P),w(p),r("sent")},k=S=>{window.confirm("Est seguro de que desea eliminar este mensaje?")&&(b(s.filter(N=>N.id!==S)),A(null))},F=S=>{w({para:S.de,asunto:`Re: ${S.asunto}`,cuerpo:`

--- Mensaje Original ---
${S.cuerpo}`}),r("compose")},R=ee.useMemo(()=>s.filter(S=>S.para===t.email).sort((S,N)=>new Date(N.fecha).getTime()-new Date(S.fecha).getTime()),[s,t.email]),L=ee.useMemo(()=>s.filter(S=>S.de===t.email).sort((S,N)=>new Date(N.fecha).getTime()-new Date(S.fecha).getTime()),[s,t.email]);return u.jsxs("div",{className:"bg-white rounded-xl shadow-md flex overflow-hidden min-h-[75vh]",children:[u.jsxs("aside",{className:"w-1/4 md:w-1/5 border-r bg-slate-50 flex flex-col",children:[u.jsx("div",{className:"p-4 border-b",children:u.jsx("button",{onClick:()=>{r("compose"),A(null)},className:"w-full bg-slate-800 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-700",children:"Redactar"})}),u.jsxs("nav",{className:"p-2 space-y-1",children:[u.jsx("button",{onClick:()=>{r("inbox"),A(null)},className:`w-full text-left px-4 py-2 rounded-md font-semibold ${n==="inbox"?"bg-amber-100 text-amber-800":"hover:bg-slate-200"}`,children:"Recibidos"}),u.jsx("button",{onClick:()=>{r("sent"),A(null)},className:`w-full text-left px-4 py-2 rounded-md font-semibold ${n==="sent"?"bg-amber-100 text-amber-800":"hover:bg-slate-200"}`,children:"Enviados"})]})]}),n!=="compose"&&u.jsx("div",{className:"w-1/3 md:w-2/5 border-r overflow-y-auto",children:(n==="inbox"?R:L).map(S=>{const N=n==="inbox"&&!d.messages.includes(S.id);return u.jsxs("div",{onClick:()=>T(S),className:`p-4 border-b cursor-pointer ${(l==null?void 0:l.id)===S.id?"bg-amber-50":"hover:bg-slate-50"}`,children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("p",{className:`font-bold truncate ${N?"text-slate-800":"text-slate-600"}`,children:n==="inbox"?S.de:`Para: ${S.para}`}),N&&u.jsx("span",{className:"h-2.5 w-2.5 bg-blue-500 rounded-full flex-shrink-0 ml-2 mt-1"})]}),u.jsx("p",{className:`truncate text-sm ${N?"text-slate-700 font-semibold":"text-slate-500"}`,children:S.asunto}),u.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(S.fecha).toLocaleString("es-CL")})]},S.id)})}),u.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:n==="compose"?u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Nuevo Mensaje"}),u.jsxs("form",{onSubmit:I,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"para",className:"block text-sm font-medium text-slate-600 mb-1",children:"Para:"}),u.jsxs("select",{id:"para",value:g.para,onChange:S=>w({...g,para:S.target.value}),required:!0,className:"w-full border-slate-300 rounded-md shadow-sm",children:[u.jsx("option",{value:"",children:"Seleccione un destinatario..."}),i.filter(S=>S.email!==t.email).map(S=>u.jsxs("option",{value:S.email,children:[S.nombreCompleto," (",S.email,")"]},S.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"asunto",className:"block text-sm font-medium text-slate-600 mb-1",children:"Asunto:"}),u.jsx("input",{type:"text",id:"asunto",value:g.asunto,onChange:S=>w({...g,asunto:S.target.value}),required:!0,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"cuerpo",className:"block text-sm font-medium text-slate-600 mb-1",children:"Cuerpo del Mensaje:"}),u.jsx("textarea",{id:"cuerpo",value:g.cuerpo,onChange:S=>w({...g,cuerpo:S.target.value}),required:!0,rows:12,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),u.jsx("div",{className:"text-right",children:u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-5 rounded-lg hover:bg-slate-700",children:"Enviar Mensaje"})})]})]}):l?u.jsxs("div",{children:[u.jsxs("div",{className:"border-b pb-4 mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:l.asunto}),u.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:[u.jsx("strong",{children:"De:"})," ",l.de," ",u.jsx("br",{}),u.jsx("strong",{children:"Para:"})," ",l.para," ",u.jsx("br",{}),u.jsx("strong",{children:"Fecha:"})," ",new Date(l.fecha).toLocaleString("es-CL")]})]}),u.jsx("div",{className:"whitespace-pre-wrap text-slate-700",children:l.cuerpo}),u.jsxs("div",{className:"mt-8 pt-4 border-t flex gap-2",children:[n==="inbox"&&u.jsx("button",{onClick:()=>F(l),className:"bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Responder"}),u.jsx("button",{onClick:()=>k(l.id),className:"bg-red-100 text-red-700 font-semibold py-2 px-4 rounded-lg hover:bg-red-200",children:"Eliminar"})]})]}):u.jsx("div",{className:"flex items-center justify-center h-full text-center text-slate-500",children:u.jsx("p",{children:"Seleccione un mensaje para leerlo."})})})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var O_=function(t,e){return O_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},O_(t,e)};function Ec(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");O_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Q_=function(){return Q_=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Q_.apply(this,arguments)};function Vi(t,e,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function o(d){try{A(r.next(d))}catch(h){i(h)}}function l(d){try{A(r.throw(d))}catch(h){i(h)}}function A(d){d.done?a(d.value):s(d.value).then(o,l)}A((r=r.apply(t,[])).next())})}function Ei(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(A){return function(d){return l([A,d])}}function l(A){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=A[0]&2?s.return:A[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,A[1])).done)return a;switch(s=0,a&&(A=[A[0]&2,a.value]),A[0]){case 0:case 1:a=A;break;case 4:return n.label++,{value:A[1],done:!1};case 5:n.label++,s=A[1],A=[0];continue;case 7:A=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(A[0]===6||A[0]===2)){n=0;continue}if(A[0]===3&&(!a||A[1]>a[0]&&A[1]<a[3])){n.label=A[1];break}if(A[0]===6&&n.label<a[1]){n.label=a[1],a=A;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(A);break}a[2]&&n.ops.pop(),n.trys.pop();continue}A=e.call(t,n)}catch(d){A=[6,d],s=0}finally{r=a=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function Av(t,e,n){if(arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||e)}var bu=function(){function t(e,n,r,s){this.left=e,this.top=n,this.width=r,this.height=s}return t.prototype.add=function(e,n,r,s){return new t(this.left+e,this.top+n,this.width+r,this.height+s)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(s){return s.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),dw=function(t,e){return bu.fromClientRect(t,e.getBoundingClientRect())},cxe=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),s=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new bu(0,0,r,s)},fw=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var a=t.charCodeAt(n++);(a&64512)===56320?e.push(((s&1023)<<10)+(a&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},Ks=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,a="";++s<n;){var i=t[s];i<=65535?r.push(i):(i-=65536,r.push((i>>10)+55296,i%1024+56320)),(s+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},A6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Axe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var uv=0;uv<A6.length;uv++)Axe[A6.charCodeAt(uv)]=uv;var u6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var dv=0;dv<u6.length;dv++)Zp[u6.charCodeAt(dv)]=dv;var uxe=function(t){var e=t.length*.75,n=t.length,r,s=0,a,i,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(A)?A:new Uint8Array(A);for(r=0;r<n;r+=4)a=Zp[t.charCodeAt(r)],i=Zp[t.charCodeAt(r+1)],o=Zp[t.charCodeAt(r+2)],l=Zp[t.charCodeAt(r+3)],d[s++]=a<<2|i>>4,d[s++]=(i&15)<<4|o>>2,d[s++]=(o&3)<<6|l&63;return A},dxe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},fxe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Zf=5,v4=11,zC=2,hxe=v4-Zf,T7=65536>>Zf,mxe=1<<Zf,KC=mxe-1,pxe=1024>>Zf,gxe=T7+pxe,xxe=gxe,vxe=32,yxe=xxe+vxe,wxe=65536>>v4,bxe=1<<hxe,Cxe=bxe-1,d6=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Exe=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},_xe=function(t,e){var n=uxe(t),r=Array.isArray(n)?fxe(n):new Uint32Array(n),s=Array.isArray(n)?dxe(n):new Uint16Array(n),a=24,i=d6(s,a/2,r[4]/2),o=r[5]===2?d6(s,(a+r[4])/2):Exe(r,Math.ceil((a+r[4])/4));return new Sxe(r[0],r[1],r[2],r[3],i,o)},Sxe=function(){function t(e,n,r,s,a,i){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=a,this.data=i}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Zf],n=(n<<zC)+(e&KC),this.data[n];if(e<=65535)return n=this.index[T7+(e-55296>>Zf)],n=(n<<zC)+(e&KC),this.data[n];if(e<this.highStart)return n=yxe-wxe+(e>>v4),n=this.index[n],n+=e>>Zf&Cxe,n=this.index[n],n=(n<<zC)+(e&KC),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),f6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Txe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fv=0;fv<f6.length;fv++)Txe[f6.charCodeAt(fv)]=fv;var Bxe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",h6=50,Nxe=1,B7=2,N7=3,kxe=4,Ixe=5,m6=7,k7=8,p6=9,kd=10,H_=11,g6=12,V_=13,Fxe=14,eg=15,G_=16,hv=17,Rp=18,Rxe=19,x6=20,z_=21,Dp=22,qC=23,d0=24,Po=25,tg=26,ng=27,f0=28,Dxe=29,Of=30,Uxe=31,mv=32,pv=33,K_=34,q_=35,W_=36,rx=37,$_=38,i2=39,o2=40,WC=41,I7=42,Lxe=43,Mxe=[9001,65288],F7="!",nr="",gv="",Y_=_xe(Bxe),ru=[Of,W_],J_=[Nxe,B7,N7,Ixe],R7=[kd,k7],v6=[ng,tg],Pxe=J_.concat(R7),y6=[$_,i2,o2,K_,q_],jxe=[eg,V_],Oxe=function(t,e){e===void 0&&(e="strict");var n=[],r=[],s=[];return t.forEach(function(a,i){var o=Y_.get(a);if(o>h6?(s.push(!0),o-=h6):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return r.push(i),n.push(G_);if(o===kxe||o===H_){if(i===0)return r.push(i),n.push(Of);var l=n[i-1];return Pxe.indexOf(l)===-1?(r.push(r[i-1]),n.push(l)):(r.push(i),n.push(Of))}if(r.push(i),o===Uxe)return n.push(e==="strict"?z_:rx);if(o===I7||o===Dxe)return n.push(Of);if(o===Lxe)return a>=131072&&a<=196605||a>=196608&&a<=262141?n.push(rx):n.push(Of);n.push(o)}),[r,n,s]},$C=function(t,e,n,r){var s=r[n];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var a=n;a<=r.length;){a++;var i=r[a];if(i===e)return!0;if(i!==kd)break}if(s===kd)for(var a=n;a>0;){a--;var o=r[a];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var l=n;l<=r.length;){l++;var i=r[l];if(i===e)return!0;if(i!==kd)break}if(o!==kd)break}return!1},w6=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===kd)n--;else return r}return 0},Qxe=function(t,e,n,r,s){if(n[r]===0)return nr;var a=r-1;if(Array.isArray(s)&&s[a]===!0)return nr;var i=a-1,o=a+1,l=e[a],A=i>=0?e[i]:0,d=e[o];if(l===B7&&d===N7)return nr;if(J_.indexOf(l)!==-1)return F7;if(J_.indexOf(d)!==-1||R7.indexOf(d)!==-1)return nr;if(w6(a,e)===k7)return gv;if(Y_.get(t[a])===H_||(l===mv||l===pv)&&Y_.get(t[o])===H_||l===m6||d===m6||l===p6||[kd,V_,eg].indexOf(l)===-1&&d===p6||[hv,Rp,Rxe,d0,f0].indexOf(d)!==-1||w6(a,e)===Dp||$C(qC,Dp,a,e)||$C([hv,Rp],z_,a,e)||$C(g6,g6,a,e))return nr;if(l===kd)return gv;if(l===qC||d===qC)return nr;if(d===G_||l===G_)return gv;if([V_,eg,z_].indexOf(d)!==-1||l===Fxe||A===W_&&jxe.indexOf(l)!==-1||l===f0&&d===W_||d===x6||ru.indexOf(d)!==-1&&l===Po||ru.indexOf(l)!==-1&&d===Po||l===ng&&[rx,mv,pv].indexOf(d)!==-1||[rx,mv,pv].indexOf(l)!==-1&&d===tg||ru.indexOf(l)!==-1&&v6.indexOf(d)!==-1||v6.indexOf(l)!==-1&&ru.indexOf(d)!==-1||[ng,tg].indexOf(l)!==-1&&(d===Po||[Dp,eg].indexOf(d)!==-1&&e[o+1]===Po)||[Dp,eg].indexOf(l)!==-1&&d===Po||l===Po&&[Po,f0,d0].indexOf(d)!==-1)return nr;if([Po,f0,d0,hv,Rp].indexOf(d)!==-1)for(var h=a;h>=0;){var p=e[h];if(p===Po)return nr;if([f0,d0].indexOf(p)!==-1)h--;else break}if([ng,tg].indexOf(d)!==-1)for(var h=[hv,Rp].indexOf(l)!==-1?i:a;h>=0;){var p=e[h];if(p===Po)return nr;if([f0,d0].indexOf(p)!==-1)h--;else break}if($_===l&&[$_,i2,K_,q_].indexOf(d)!==-1||[i2,K_].indexOf(l)!==-1&&[i2,o2].indexOf(d)!==-1||[o2,q_].indexOf(l)!==-1&&d===o2||y6.indexOf(l)!==-1&&[x6,tg].indexOf(d)!==-1||y6.indexOf(d)!==-1&&l===ng||ru.indexOf(l)!==-1&&ru.indexOf(d)!==-1||l===d0&&ru.indexOf(d)!==-1||ru.concat(Po).indexOf(l)!==-1&&d===Dp&&Mxe.indexOf(t[o])===-1||ru.concat(Po).indexOf(d)!==-1&&l===Rp)return nr;if(l===WC&&d===WC){for(var g=n[a],w=1;g>0&&(g--,e[g]===WC);)w++;if(w%2!==0)return nr}return l===mv&&d===pv?nr:gv},Hxe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=Oxe(t,e.lineBreak),r=n[0],s=n[1],a=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(o){return[Po,Of,I7].indexOf(o)!==-1?rx:o}));var i=e.wordBreak==="keep-all"?a.map(function(o,l){return o&&t[l]>=19968&&t[l]<=40959}):void 0;return[r,s,i]},Vxe=function(){function t(e,n,r,s){this.codePoints=e,this.required=n===F7,this.start=r,this.end=s}return t.prototype.slice=function(){return Ks.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),Gxe=function(t,e){var n=fw(t),r=Hxe(n,e),s=r[0],a=r[1],i=r[2],o=n.length,l=0,A=0;return{next:function(){if(A>=o)return{done:!0,value:null};for(var d=nr;A<o&&(d=Qxe(n,a,s,++A,i))===nr;);if(d!==nr||A===o){var h=new Vxe(n,d,l,A);return l=A,{value:h,done:!1}}return{done:!0,value:null}}}},zxe=1,Kxe=2,Dx=4,b6=8,ry=10,C6=47,Sg=92,qxe=9,Wxe=32,xv=34,Up=61,$xe=35,Yxe=36,Jxe=37,vv=39,yv=40,Lp=41,Xxe=95,uo=45,Zxe=33,e1e=60,t1e=62,n1e=64,r1e=91,s1e=93,a1e=61,i1e=123,wv=63,o1e=125,E6=124,l1e=126,c1e=128,_6=65533,YC=42,Vf=43,A1e=44,u1e=58,d1e=59,sx=46,f1e=0,h1e=8,m1e=11,p1e=14,g1e=31,x1e=127,sA=-1,D7=48,U7=97,L7=101,v1e=102,y1e=117,w1e=122,M7=65,P7=69,j7=70,b1e=85,C1e=90,Bi=function(t){return t>=D7&&t<=57},E1e=function(t){return t>=55296&&t<=57343},h0=function(t){return Bi(t)||t>=M7&&t<=j7||t>=U7&&t<=v1e},_1e=function(t){return t>=U7&&t<=w1e},S1e=function(t){return t>=M7&&t<=C1e},T1e=function(t){return _1e(t)||S1e(t)},B1e=function(t){return t>=c1e},bv=function(t){return t===ry||t===qxe||t===Wxe},sy=function(t){return T1e(t)||B1e(t)||t===Xxe},S6=function(t){return sy(t)||Bi(t)||t===uo},N1e=function(t){return t>=f1e&&t<=h1e||t===m1e||t>=p1e&&t<=g1e||t===x1e},xd=function(t,e){return t!==Sg?!1:e!==ry},Cv=function(t,e,n){return t===uo?sy(e)||xd(e,n):sy(t)?!0:!!(t===Sg&&xd(t,e))},JC=function(t,e,n){return t===Vf||t===uo?Bi(e)?!0:e===sx&&Bi(n):Bi(t===sx?e:t)},k1e=function(t){var e=0,n=1;(t[e]===Vf||t[e]===uo)&&(t[e]===uo&&(n=-1),e++);for(var r=[];Bi(t[e]);)r.push(t[e++]);var s=r.length?parseInt(Ks.apply(void 0,r),10):0;t[e]===sx&&e++;for(var a=[];Bi(t[e]);)a.push(t[e++]);var i=a.length,o=i?parseInt(Ks.apply(void 0,a),10):0;(t[e]===P7||t[e]===L7)&&e++;var l=1;(t[e]===Vf||t[e]===uo)&&(t[e]===uo&&(l=-1),e++);for(var A=[];Bi(t[e]);)A.push(t[e++]);var d=A.length?parseInt(Ks.apply(void 0,A),10):0;return n*(s+o*Math.pow(10,-i))*Math.pow(10,l*d)},I1e={type:2},F1e={type:3},R1e={type:4},D1e={type:13},U1e={type:8},L1e={type:21},M1e={type:9},P1e={type:10},j1e={type:11},O1e={type:12},Q1e={type:14},Ev={type:23},H1e={type:1},V1e={type:25},G1e={type:24},z1e={type:26},K1e={type:27},q1e={type:28},W1e={type:29},$1e={type:31},X_={type:32},O7=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(fw(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==X_;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case xv:return this.consumeStringToken(xv);case $xe:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if(S6(n)||xd(r,s)){var a=Cv(n,r,s)?Kxe:zxe,i=this.consumeName();return{type:5,value:i,flags:a}}break;case Yxe:if(this.peekCodePoint(0)===Up)return this.consumeCodePoint(),D1e;break;case vv:return this.consumeStringToken(vv);case yv:return I1e;case Lp:return F1e;case YC:if(this.peekCodePoint(0)===Up)return this.consumeCodePoint(),Q1e;break;case Vf:if(JC(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case A1e:return R1e;case uo:var o=e,l=this.peekCodePoint(0),A=this.peekCodePoint(1);if(JC(o,l,A))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Cv(o,l,A))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===uo&&A===t1e)return this.consumeCodePoint(),this.consumeCodePoint(),G1e;break;case sx:if(JC(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case C6:if(this.peekCodePoint(0)===YC)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===YC&&(d=this.consumeCodePoint(),d===C6))return this.consumeToken();if(d===sA)return this.consumeToken()}break;case u1e:return z1e;case d1e:return K1e;case e1e:if(this.peekCodePoint(0)===Zxe&&this.peekCodePoint(1)===uo&&this.peekCodePoint(2)===uo)return this.consumeCodePoint(),this.consumeCodePoint(),V1e;break;case n1e:var h=this.peekCodePoint(0),p=this.peekCodePoint(1),g=this.peekCodePoint(2);if(Cv(h,p,g)){var i=this.consumeName();return{type:7,value:i}}break;case r1e:return q1e;case Sg:if(xd(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case s1e:return W1e;case a1e:if(this.peekCodePoint(0)===Up)return this.consumeCodePoint(),U1e;break;case i1e:return j1e;case o1e:return O1e;case y1e:case b1e:var w=this.peekCodePoint(0),b=this.peekCodePoint(1);return w===Vf&&(h0(b)||b===wv)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case E6:if(this.peekCodePoint(0)===Up)return this.consumeCodePoint(),M1e;if(this.peekCodePoint(0)===E6)return this.consumeCodePoint(),L1e;break;case l1e:if(this.peekCodePoint(0)===Up)return this.consumeCodePoint(),P1e;break;case sA:return X_}return bv(e)?(this.consumeWhiteSpace(),$1e):Bi(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):sy(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Ks(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();h0(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===wv&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var s=parseInt(Ks.apply(void 0,e.map(function(l){return l===wv?D7:l})),16),a=parseInt(Ks.apply(void 0,e.map(function(l){return l===wv?j7:l})),16);return{type:30,start:s,end:a}}var i=parseInt(Ks.apply(void 0,e),16);if(this.peekCodePoint(0)===uo&&h0(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var o=[];h0(n)&&o.length<6;)o.push(n),n=this.consumeCodePoint();var a=parseInt(Ks.apply(void 0,o),16);return{type:30,start:i,end:a}}else return{type:30,start:i,end:i}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===yv?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===yv?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===sA)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===vv||n===xv){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===sA||this.peekCodePoint(0)===Lp)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Ev)}for(;;){var s=this.consumeCodePoint();if(s===sA||s===Lp)return{type:22,value:Ks.apply(void 0,e)};if(bv(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===sA||this.peekCodePoint(0)===Lp?(this.consumeCodePoint(),{type:22,value:Ks.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Ev);if(s===xv||s===vv||s===yv||N1e(s))return this.consumeBadUrlRemnants(),Ev;if(s===Sg)if(xd(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Ev;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;bv(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Lp||e===sA)return;xd(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var s=Math.min(n,e);r+=Ks.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var s=this._value[r];if(s===sA||s===void 0||s===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(s===ry)return this._value.splice(0,r),H1e;if(s===Sg){var a=this._value[r+1];a!==sA&&a!==void 0&&(a===ry?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):xd(s,a)&&(n+=this.consumeStringSlice(r),n+=Ks(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=Dx,r=this.peekCodePoint(0);for((r===Vf||r===uo)&&e.push(this.consumeCodePoint());Bi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(r===sx&&Bi(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=b6;Bi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),s=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((r===P7||r===L7)&&((s===Vf||s===uo)&&Bi(a)||Bi(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=b6;Bi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[k1e(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],s=this.peekCodePoint(0),a=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Cv(s,a,i)){var o=this.consumeName();return{type:15,number:n,flags:r,unit:o}}return s===Jxe?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(h0(e)){for(var n=Ks(e);h0(this.peekCodePoint(0))&&n.length<6;)n+=Ks(this.consumeCodePoint());bv(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||E1e(r)||r>1114111?_6:r}return e===sA?_6:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(S6(n))e+=Ks(n);else if(xd(n,this.peekCodePoint(0)))e+=Ks(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),Q7=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new O7;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||J1e(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?X_:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Ux=function(t){return t.type===15},Qm=function(t){return t.type===17},Kr=function(t){return t.type===20},Y1e=function(t){return t.type===0},Z_=function(t,e){return Kr(t)&&t.value===e},H7=function(t){return t.type!==31},vm=function(t){return t.type!==31&&t.type!==4},EA=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},J1e=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},nf=function(t){return t.type===17||t.type===15},fa=function(t){return t.type===16||nf(t)},V7=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},si={type:17,number:0,flags:Dx},y4={type:16,number:50,flags:Dx},Id={type:16,number:100,flags:Dx},rg=function(t,e,n){var r=t[0],s=t[1];return[es(r,e),es(typeof s<"u"?s:r,n)]},es=function(t,e){if(t.type===16)return t.number/100*e;if(Ux(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},G7="deg",z7="grad",K7="rad",q7="turn",hw={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case G7:return Math.PI*e.number/180;case z7:return Math.PI/200*e.number;case K7:return e.number;case q7:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},W7=function(t){return t.type===15&&(t.unit===G7||t.unit===z7||t.unit===K7||t.unit===q7)},$7=function(t){var e=t.filter(Kr).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[si,si];case"to top":case"bottom":return Tl(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[si,Id];case"to right":case"left":return Tl(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Id,Id];case"to bottom":case"top":return Tl(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Id,si];case"to left":case"right":return Tl(270)}return 0},Tl=function(t){return Math.PI*t/180},jd={name:"color",parse:function(t,e){if(e.type===18){var n=X1e[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),s=e.value.substring(1,2),a=e.value.substring(2,3);return Fd(parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),s=e.value.substring(1,2),a=e.value.substring(2,3),i=e.value.substring(3,4);return Fd(parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16),parseInt(i+i,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),s=e.value.substring(2,4),a=e.value.substring(4,6);return Fd(parseInt(r,16),parseInt(s,16),parseInt(a,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),s=e.value.substring(2,4),a=e.value.substring(4,6),i=e.value.substring(6,8);return Fd(parseInt(r,16),parseInt(s,16),parseInt(a,16),parseInt(i,16)/255)}}if(e.type===20){var o=mu[e.value.toUpperCase()];if(typeof o<"u")return o}return mu.TRANSPARENT}},Od=function(t){return(255&t)===0},Ma=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+r+","+n+","+e/255+")":"rgb("+s+","+r+","+n+")"},Fd=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},T6=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},B6=function(t,e){var n=e.filter(vm);if(n.length===3){var r=n.map(T6),s=r[0],a=r[1],i=r[2];return Fd(s,a,i,1)}if(n.length===4){var o=n.map(T6),s=o[0],a=o[1],i=o[2],l=o[3];return Fd(s,a,i,l)}return 0};function XC(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var N6=function(t,e){var n=e.filter(vm),r=n[0],s=n[1],a=n[2],i=n[3],o=(r.type===17?Tl(r.number):hw.parse(t,r))/(Math.PI*2),l=fa(s)?s.number/100:0,A=fa(a)?a.number/100:0,d=typeof i<"u"&&fa(i)?es(i,1):1;if(l===0)return Fd(A*255,A*255,A*255,1);var h=A<=.5?A*(l+1):A+l-A*l,p=A*2-h,g=XC(p,h,o+1/3),w=XC(p,h,o),b=XC(p,h,o-1/3);return Fd(g*255,w*255,b*255,d)},X1e={hsl:N6,hsla:N6,rgb:B6,rgba:B6},Tg=function(t,e){return jd.parse(t,Q7.create(e).parseComponentValue())},mu={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Z1e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Kr(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},eve={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},mw=function(t,e){var n=jd.parse(t,e[0]),r=e[1];return r&&fa(r)?{color:n,stop:r}:{color:n,stop:null}},k6=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=si),r.stop===null&&(r.stop=Id);for(var s=[],a=0,i=0;i<t.length;i++){var o=t[i].stop;if(o!==null){var l=es(o,e);l>a?s.push(l):s.push(a),a=l}else s.push(null)}for(var A=null,i=0;i<s.length;i++){var d=s[i];if(d===null)A===null&&(A=i);else if(A!==null){for(var h=i-A,p=s[A-1],g=(d-p)/(h+1),w=1;w<=h;w++)s[A+w-1]=g*w;A=null}}return t.map(function(b,E){var T=b.color;return{color:T,stop:Math.max(Math.min(1,s[E]/e),0)}})},tve=function(t,e,n){var r=e/2,s=n/2,a=es(t[0],e)-r,i=s-es(t[1],n);return(Math.atan2(i,a)+Math.PI*2)%(Math.PI*2)},nve=function(t,e,n){var r=typeof t=="number"?t:tve(t,e,n),s=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),a=e/2,i=n/2,o=s/2,l=Math.sin(r-Math.PI/2)*o,A=Math.cos(r-Math.PI/2)*o;return[s,a-A,a+A,i-l,i+l]},lc=function(t,e){return Math.sqrt(t*t+e*e)},I6=function(t,e,n,r,s){var a=[[0,0],[0,e],[t,0],[t,e]];return a.reduce(function(i,o){var l=o[0],A=o[1],d=lc(n-l,r-A);return(s?d<i.optimumDistance:d>i.optimumDistance)?{optimumCorner:o,optimumDistance:d}:i},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},rve=function(t,e,n,r,s){var a=0,i=0;switch(t.size){case 0:t.shape===0?a=i=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(a=Math.min(Math.abs(e),Math.abs(e-r)),i=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(t.shape===0)a=i=Math.min(lc(e,n),lc(e,n-s),lc(e-r,n),lc(e-r,n-s));else if(t.shape===1){var o=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(e),Math.abs(e-r)),l=I6(r,s,e,n,!0),A=l[0],d=l[1];a=lc(A-e,(d-n)/o),i=o*a}break;case 1:t.shape===0?a=i=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(a=Math.max(Math.abs(e),Math.abs(e-r)),i=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(t.shape===0)a=i=Math.max(lc(e,n),lc(e,n-s),lc(e-r,n),lc(e-r,n-s));else if(t.shape===1){var o=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(e),Math.abs(e-r)),h=I6(r,s,e,n,!1),A=h[0],d=h[1];a=lc(A-e,(d-n)/o),i=o*a}break}return Array.isArray(t.size)&&(a=es(t.size[0],r),i=t.size.length===2?es(t.size[1],s):a),[a,i]},sve=function(t,e){var n=Tl(180),r=[];return EA(e).forEach(function(s,a){if(a===0){var i=s[0];if(i.type===20&&i.value==="to"){n=$7(s);return}else if(W7(i)){n=hw.parse(t,i);return}}var o=mw(t,s);r.push(o)}),{angle:n,stops:r,type:1}},_v=function(t,e){var n=Tl(180),r=[];return EA(e).forEach(function(s,a){if(a===0){var i=s[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){n=$7(s);return}else if(W7(i)){n=(hw.parse(t,i)+Tl(270))%Tl(360);return}}var o=mw(t,s);r.push(o)}),{angle:n,stops:r,type:1}},ave=function(t,e){var n=Tl(180),r=[],s=1,a=0,i=3,o=[];return EA(e).forEach(function(l,A){var d=l[0];if(A===0){if(Kr(d)&&d.value==="linear"){s=1;return}else if(Kr(d)&&d.value==="radial"){s=2;return}}if(d.type===18){if(d.name==="from"){var h=jd.parse(t,d.values[0]);r.push({stop:si,color:h})}else if(d.name==="to"){var h=jd.parse(t,d.values[0]);r.push({stop:Id,color:h})}else if(d.name==="color-stop"){var p=d.values.filter(vm);if(p.length===2){var h=jd.parse(t,p[1]),g=p[0];Qm(g)&&r.push({stop:{type:16,number:g.number*100,flags:g.flags},color:h})}}}}),s===1?{angle:(n+Tl(180))%Tl(360),stops:r,type:s}:{size:i,shape:a,stops:r,position:o,type:s}},Y7="closest-side",J7="farthest-side",X7="closest-corner",Z7="farthest-corner",ej="circle",tj="ellipse",nj="cover",rj="contain",ive=function(t,e){var n=0,r=3,s=[],a=[];return EA(e).forEach(function(i,o){var l=!0;if(o===0){var A=!1;l=i.reduce(function(h,p){if(A)if(Kr(p))switch(p.value){case"center":return a.push(y4),h;case"top":case"left":return a.push(si),h;case"right":case"bottom":return a.push(Id),h}else(fa(p)||nf(p))&&a.push(p);else if(Kr(p))switch(p.value){case ej:return n=0,!1;case tj:return n=1,!1;case"at":return A=!0,!1;case Y7:return r=0,!1;case nj:case J7:return r=1,!1;case rj:case X7:return r=2,!1;case Z7:return r=3,!1}else if(nf(p)||fa(p))return Array.isArray(r)||(r=[]),r.push(p),!1;return h},l)}if(l){var d=mw(t,i);s.push(d)}}),{size:r,shape:n,stops:s,position:a,type:2}},Sv=function(t,e){var n=0,r=3,s=[],a=[];return EA(e).forEach(function(i,o){var l=!0;if(o===0?l=i.reduce(function(d,h){if(Kr(h))switch(h.value){case"center":return a.push(y4),!1;case"top":case"left":return a.push(si),!1;case"right":case"bottom":return a.push(Id),!1}else if(fa(h)||nf(h))return a.push(h),!1;return d},l):o===1&&(l=i.reduce(function(d,h){if(Kr(h))switch(h.value){case ej:return n=0,!1;case tj:return n=1,!1;case rj:case Y7:return r=0,!1;case J7:return r=1,!1;case X7:return r=2,!1;case nj:case Z7:return r=3,!1}else if(nf(h)||fa(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return d},l)),l){var A=mw(t,i);s.push(A)}}),{size:r,shape:n,stops:s,position:a,type:2}},ove=function(t){return t.type===1},lve=function(t){return t.type===2},w4={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=sj[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function cve(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!sj[t.name])}var sj={"linear-gradient":sve,"-moz-linear-gradient":_v,"-ms-linear-gradient":_v,"-o-linear-gradient":_v,"-webkit-linear-gradient":_v,"radial-gradient":ive,"-moz-radial-gradient":Sv,"-ms-radial-gradient":Sv,"-o-radial-gradient":Sv,"-webkit-radial-gradient":Sv,"-webkit-gradient":ave},Ave={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return vm(r)&&cve(r)}).map(function(r){return w4.parse(t,r)})}},uve={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Kr(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},dve={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return EA(e).map(function(n){return n.filter(fa)}).map(V7)}},fve={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return EA(e).map(function(n){return n.filter(Kr).map(function(r){return r.value}).join(" ")}).map(hve)}},hve=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},rm;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(rm||(rm={}));var mve={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return EA(e).map(function(n){return n.filter(pve)})}},pve=function(t){return Kr(t)||fa(t)},pw=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},gve=pw("top"),xve=pw("right"),vve=pw("bottom"),yve=pw("left"),gw=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return V7(n.filter(fa))}}},wve=gw("top-left"),bve=gw("top-right"),Cve=gw("bottom-right"),Eve=gw("bottom-left"),xw=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},_ve=xw("top"),Sve=xw("right"),Tve=xw("bottom"),Bve=xw("left"),vw=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return Ux(n)?n.number:0}}},Nve=vw("top"),kve=vw("right"),Ive=vw("bottom"),Fve=vw("left"),Rve={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Dve={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Uve={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Kr).reduce(function(n,r){return n|Lve(r.value)},0)}},Lve=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Mve={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Pve={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},ay;(function(t){t.NORMAL="normal",t.STRICT="strict"})(ay||(ay={}));var jve={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return ay.STRICT;case"normal":default:return ay.NORMAL}}},Ove={name:"line-height",initialValue:"normal",prefix:!1,type:4},F6=function(t,e){return Kr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:fa(t)?es(t,e):e},Qve={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:w4.parse(t,e)}},Hve={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},eS={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},yw=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Vve=yw("top"),Gve=yw("right"),zve=yw("bottom"),Kve=yw("left"),qve={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Kr).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Wve={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},ww=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},$ve=ww("top"),Yve=ww("right"),Jve=ww("bottom"),Xve=ww("left"),Zve={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},e2e={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},t2e={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Z_(e[0],"none")?[]:EA(e).map(function(n){for(var r={color:mu.TRANSPARENT,offsetX:si,offsetY:si,blur:si},s=0,a=0;a<n.length;a++){var i=n[a];nf(i)?(s===0?r.offsetX=i:s===1?r.offsetY=i:r.blur=i,s++):r.color=jd.parse(t,i)}return r})}},n2e={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},r2e={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=i2e[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},s2e=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},a2e=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),n=e[0],r=e[1];e[2],e[3];var s=e[4],a=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var i=e[12],o=e[13];return e[14],e[15],e.length===16?[n,r,s,a,i,o]:null},i2e={matrix:s2e,matrix3d:a2e},R6={type:16,number:50,flags:Dx},o2e=[R6,R6],l2e={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(fa);return n.length!==2?o2e:[n[0],n[1]]}},c2e={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Bg;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Bg||(Bg={}));var A2e={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Bg.BREAK_ALL;case"keep-all":return Bg.KEEP_ALL;case"normal":default:return Bg.NORMAL}}},u2e={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Qm(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},aj={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},d2e={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Qm(e)?e.number:1}},f2e={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},h2e={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Kr).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},m2e={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(s){switch(s.type){case 20:case 0:n.push(s.value);break;case 17:n.push(s.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},p2e={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},g2e={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Qm(e))return e.number;if(Kr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},x2e={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Kr).map(function(n){return n.value})}},v2e={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ea=function(t,e){return(t&e)!==0},y2e={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},w2e={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],s=e.filter(H7),a=0;a<s.length;a++){var i=s[a],o=s[a+1];if(i.type===20){var l=o&&Qm(o)?o.number:1;r.push({counter:i.value,increment:l})}}return r}},b2e={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(H7),s=0;s<r.length;s++){var a=r[s],i=r[s+1];if(Kr(a)&&a.value!=="none"){var o=i&&Qm(i)?i.number:0;n.push({counter:a.value,reset:o})}}return n}},C2e={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Ux).map(function(n){return aj.parse(t,n)})}},E2e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],s=e.filter(Y1e);if(s.length%2!==0)return null;for(var a=0;a<s.length;a+=2){var i=s[a].value,o=s[a+1].value;r.push({open:i,close:o})}return r}},D6=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},_2e={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Z_(e[0],"none")?[]:EA(e).map(function(n){for(var r={color:255,offsetX:si,offsetY:si,blur:si,spread:si,inset:!1},s=0,a=0;a<n.length;a++){var i=n[a];Z_(i,"inset")?r.inset=!0:nf(i)?(s===0?r.offsetX=i:s===1?r.offsetY=i:s===2?r.blur=i:r.spread=i,s++):r.color=jd.parse(t,i)}return r})}},S2e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(Kr).forEach(function(s){switch(s.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(s){r.indexOf(s)===-1&&r.push(s)}),r}},T2e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},B2e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Ux(e)?e.number:0}},N2e=function(){function t(e,n){var r,s;this.animationDuration=qt(e,C2e,n.animationDuration),this.backgroundClip=qt(e,Z1e,n.backgroundClip),this.backgroundColor=qt(e,eve,n.backgroundColor),this.backgroundImage=qt(e,Ave,n.backgroundImage),this.backgroundOrigin=qt(e,uve,n.backgroundOrigin),this.backgroundPosition=qt(e,dve,n.backgroundPosition),this.backgroundRepeat=qt(e,fve,n.backgroundRepeat),this.backgroundSize=qt(e,mve,n.backgroundSize),this.borderTopColor=qt(e,gve,n.borderTopColor),this.borderRightColor=qt(e,xve,n.borderRightColor),this.borderBottomColor=qt(e,vve,n.borderBottomColor),this.borderLeftColor=qt(e,yve,n.borderLeftColor),this.borderTopLeftRadius=qt(e,wve,n.borderTopLeftRadius),this.borderTopRightRadius=qt(e,bve,n.borderTopRightRadius),this.borderBottomRightRadius=qt(e,Cve,n.borderBottomRightRadius),this.borderBottomLeftRadius=qt(e,Eve,n.borderBottomLeftRadius),this.borderTopStyle=qt(e,_ve,n.borderTopStyle),this.borderRightStyle=qt(e,Sve,n.borderRightStyle),this.borderBottomStyle=qt(e,Tve,n.borderBottomStyle),this.borderLeftStyle=qt(e,Bve,n.borderLeftStyle),this.borderTopWidth=qt(e,Nve,n.borderTopWidth),this.borderRightWidth=qt(e,kve,n.borderRightWidth),this.borderBottomWidth=qt(e,Ive,n.borderBottomWidth),this.borderLeftWidth=qt(e,Fve,n.borderLeftWidth),this.boxShadow=qt(e,_2e,n.boxShadow),this.color=qt(e,Rve,n.color),this.direction=qt(e,Dve,n.direction),this.display=qt(e,Uve,n.display),this.float=qt(e,Mve,n.cssFloat),this.fontFamily=qt(e,m2e,n.fontFamily),this.fontSize=qt(e,p2e,n.fontSize),this.fontStyle=qt(e,v2e,n.fontStyle),this.fontVariant=qt(e,x2e,n.fontVariant),this.fontWeight=qt(e,g2e,n.fontWeight),this.letterSpacing=qt(e,Pve,n.letterSpacing),this.lineBreak=qt(e,jve,n.lineBreak),this.lineHeight=qt(e,Ove,n.lineHeight),this.listStyleImage=qt(e,Qve,n.listStyleImage),this.listStylePosition=qt(e,Hve,n.listStylePosition),this.listStyleType=qt(e,eS,n.listStyleType),this.marginTop=qt(e,Vve,n.marginTop),this.marginRight=qt(e,Gve,n.marginRight),this.marginBottom=qt(e,zve,n.marginBottom),this.marginLeft=qt(e,Kve,n.marginLeft),this.opacity=qt(e,d2e,n.opacity);var a=qt(e,qve,n.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=qt(e,Wve,n.overflowWrap),this.paddingTop=qt(e,$ve,n.paddingTop),this.paddingRight=qt(e,Yve,n.paddingRight),this.paddingBottom=qt(e,Jve,n.paddingBottom),this.paddingLeft=qt(e,Xve,n.paddingLeft),this.paintOrder=qt(e,S2e,n.paintOrder),this.position=qt(e,e2e,n.position),this.textAlign=qt(e,Zve,n.textAlign),this.textDecorationColor=qt(e,f2e,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=qt(e,h2e,(s=n.textDecorationLine)!==null&&s!==void 0?s:n.textDecoration),this.textShadow=qt(e,t2e,n.textShadow),this.textTransform=qt(e,n2e,n.textTransform),this.transform=qt(e,r2e,n.transform),this.transformOrigin=qt(e,l2e,n.transformOrigin),this.visibility=qt(e,c2e,n.visibility),this.webkitTextStrokeColor=qt(e,T2e,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=qt(e,B2e,n.webkitTextStrokeWidth),this.wordBreak=qt(e,A2e,n.wordBreak),this.zIndex=qt(e,u2e,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Od(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Ea(this.display,4)||Ea(this.display,33554432)||Ea(this.display,268435456)||Ea(this.display,536870912)||Ea(this.display,67108864)||Ea(this.display,134217728)},t}(),k2e=function(){function t(e,n){this.content=qt(e,y2e,n.content),this.quotes=qt(e,E2e,n.quotes)}return t}(),U6=function(){function t(e,n){this.counterIncrement=qt(e,w2e,n.counterIncrement),this.counterReset=qt(e,b2e,n.counterReset)}return t}(),qt=function(t,e,n){var r=new O7,s=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(s);var a=new Q7(r.read());switch(e.type){case 2:var i=a.parseComponentValue();return e.parse(t,Kr(i)?i.value:e.initialValue);case 0:return e.parse(t,a.parseComponentValue());case 1:return e.parse(t,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(e.format){case"angle":return hw.parse(t,a.parseComponentValue());case"color":return jd.parse(t,a.parseComponentValue());case"image":return w4.parse(t,a.parseComponentValue());case"length":var o=a.parseComponentValue();return nf(o)?o:si;case"length-percentage":var l=a.parseComponentValue();return fa(l)?l:si;case"time":return aj.parse(t,a.parseComponentValue())}break}},I2e="data-html2canvas-debug",F2e=function(t){var e=t.getAttribute(I2e);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},tS=function(t,e){var n=F2e(t);return n===1||e===n},_A=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,tS(n,3))debugger;this.styles=new N2e(e,window.getComputedStyle(n,null)),sS(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=dw(this.context,n),tS(n,4)&&(this.flags|=16)}return t}(),R2e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",L6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Tv=0;Tv<L6.length;Tv++)sg[L6.charCodeAt(Tv)]=Tv;var D2e=function(t){var e=t.length*.75,n=t.length,r,s=0,a,i,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(A)?A:new Uint8Array(A);for(r=0;r<n;r+=4)a=sg[t.charCodeAt(r)],i=sg[t.charCodeAt(r+1)],o=sg[t.charCodeAt(r+2)],l=sg[t.charCodeAt(r+3)],d[s++]=a<<2|i>>4,d[s++]=(i&15)<<4|o>>2,d[s++]=(o&3)<<6|l&63;return A},U2e=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},L2e=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},eh=5,b4=11,ZC=2,M2e=b4-eh,ij=65536>>eh,P2e=1<<eh,eE=P2e-1,j2e=1024>>eh,O2e=ij+j2e,Q2e=O2e,H2e=32,V2e=Q2e+H2e,G2e=65536>>b4,z2e=1<<M2e,K2e=z2e-1,M6=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},q2e=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},W2e=function(t,e){var n=D2e(t),r=Array.isArray(n)?L2e(n):new Uint32Array(n),s=Array.isArray(n)?U2e(n):new Uint16Array(n),a=24,i=M6(s,a/2,r[4]/2),o=r[5]===2?M6(s,(a+r[4])/2):q2e(r,Math.ceil((a+r[4])/4));return new $2e(r[0],r[1],r[2],r[3],i,o)},$2e=function(){function t(e,n,r,s,a,i){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=a,this.data=i}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>eh],n=(n<<ZC)+(e&eE),this.data[n];if(e<=65535)return n=this.index[ij+(e-55296>>eh)],n=(n<<ZC)+(e&eE),this.data[n];if(e<this.highStart)return n=V2e-G2e+(e>>b4),n=this.index[n],n+=e>>eh&K2e,n=this.index[n],n=(n<<ZC)+(e&eE),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),P6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y2e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Bv=0;Bv<P6.length;Bv++)Y2e[P6.charCodeAt(Bv)]=Bv;var J2e=1,tE=2,nE=3,j6=4,O6=5,X2e=7,Q6=8,rE=9,sE=10,H6=11,V6=12,G6=13,z6=14,aE=15,Z2e=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var a=t.charCodeAt(n++);(a&64512)===56320?e.push(((s&1023)<<10)+(a&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},eye=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,a="";++s<n;){var i=t[s];i<=65535?r.push(i):(i-=65536,r.push((i>>10)+55296,i%1024+56320)),(s+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},tye=W2e(R2e),bl="",iE="",nye=function(t){return tye.get(t)},rye=function(t,e,n){var r=n-2,s=e[r],a=e[n-1],i=e[n];if(a===tE&&i===nE)return bl;if(a===tE||a===nE||a===j6||i===tE||i===nE||i===j6)return iE;if(a===Q6&&[Q6,rE,H6,V6].indexOf(i)!==-1||(a===H6||a===rE)&&(i===rE||i===sE)||(a===V6||a===sE)&&i===sE||i===G6||i===O6||i===X2e||a===J2e)return bl;if(a===G6&&i===z6){for(;s===O6;)s=e[--r];if(s===z6)return bl}if(a===aE&&i===aE){for(var o=0;s===aE;)o++,s=e[--r];if(o%2===0)return bl}return iE},sye=function(t){var e=Z2e(t),n=e.length,r=0,s=0,a=e.map(nye);return{next:function(){if(r>=n)return{done:!0,value:null};for(var i=bl;r<n&&(i=rye(e,a,++r))===bl;);if(i!==bl||r===n){var o=eye.apply(null,e.slice(s,r));return s=r,{value:o,done:!1}}return{done:!0,value:null}}}},aye=function(t){for(var e=sye(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},iye=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),a=Math.round(s.height);if(t.body.removeChild(r),a===e)return!0}}return!1},oye=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,s=fw(r.data).map(function(l){return Ks(l)}),a=0,i={},o=s.every(function(l,A){n.setStart(r,a),n.setEnd(r,a+l.length);var d=n.getBoundingClientRect();a+=l.length;var h=d.x>i.x||d.y>i.y;return i=d,A===0?!0:h});return t.body.removeChild(e),o},lye=function(){return typeof new Image().crossOrigin<"u"},cye=function(){return typeof new XMLHttpRequest().responseType=="string"},Aye=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},K6=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},uye=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,a=e.toDataURL();s.src=a;var i=nS(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),q6(i).then(function(o){r.drawImage(o,0,0);var l=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var A=t.createElement("div");return A.style.backgroundImage="url("+a+")",A.style.height=n+"px",K6(l)?q6(nS(n,n,0,0,A)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),K6(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},nS=function(t,e,n,r,s){var a="http://www.w3.org/2000/svg",i=document.createElementNS(a,"svg"),o=document.createElementNS(a,"foreignObject");return i.setAttributeNS(null,"width",t.toString()),i.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(s),i},q6=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Za={get SUPPORT_RANGE_BOUNDS(){var t=iye(document);return Object.defineProperty(Za,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Za.SUPPORT_RANGE_BOUNDS&&oye(document);return Object.defineProperty(Za,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Aye(document);return Object.defineProperty(Za,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?uye(document):Promise.resolve(!1);return Object.defineProperty(Za,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=lye();return Object.defineProperty(Za,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=cye();return Object.defineProperty(Za,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Za,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Za,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Ng=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),dye=function(t,e,n,r){var s=mye(e,n),a=[],i=0;return s.forEach(function(o){if(n.textDecorationLine.length||o.trim().length>0)if(Za.SUPPORT_RANGE_BOUNDS){var l=W6(r,i,o.length).getClientRects();if(l.length>1){var A=C4(o),d=0;A.forEach(function(p){a.push(new Ng(p,bu.fromDOMRectList(t,W6(r,d+i,p.length).getClientRects()))),d+=p.length})}else a.push(new Ng(o,bu.fromDOMRectList(t,l)))}else{var h=r.splitText(o.length);a.push(new Ng(o,fye(t,r))),r=h}else Za.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));i+=o.length}),a},fye=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(r,e);var a=dw(t,r);return r.firstChild&&s.replaceChild(r.firstChild,r),a}}return bu.EMPTY},W6=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(t,e),s.setEnd(t,e+n),s},C4=function(t){if(Za.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return aye(t)},hye=function(t,e){if(Za.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return gye(t,e)},mye=function(t,e){return e.letterSpacing!==0?C4(t):hye(t,e)},pye=[32,160,4961,65792,65793,4153,4241],gye=function(t,e){for(var n=Gxe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],s,a=function(){if(s.value){var i=s.value.slice(),o=fw(i),l="";o.forEach(function(A){pye.indexOf(A)===-1?l+=Ks(A):(l.length&&r.push(l),r.push(Ks(A)),l="")}),l.length&&r.push(l)}};!(s=n.next()).done;)a();return r},xye=function(){function t(e,n,r){this.text=vye(n.data,r.textTransform),this.textBounds=dye(e,this.text,r,n)}return t}(),vye=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(yye,wye);case 2:return t.toUpperCase();default:return t}},yye=/(^|\s|:|-|\(|\))([a-z])/g,wye=function(t,e,n){return t.length>0?e+n.toUpperCase():t},oj=function(t){Ec(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.src=r.currentSrc||r.src,s.intrinsicWidth=r.naturalWidth,s.intrinsicHeight=r.naturalHeight,s.context.cache.addImage(s.src),s}return e}(_A),lj=function(t){Ec(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r,s.intrinsicWidth=r.width,s.intrinsicHeight=r.height,s}return e}(_A),cj=function(t){Ec(e,t);function e(n,r){var s=t.call(this,n,r)||this,a=new XMLSerializer,i=dw(n,r);return r.setAttribute("width",i.width+"px"),r.setAttribute("height",i.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(r)),s.intrinsicWidth=r.width.baseVal.value,s.intrinsicHeight=r.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(_A),Aj=function(t){Ec(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(_A),rS=function(t){Ec(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.start=r.start,s.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,s}return e}(_A),bye=[{type:15,flags:0,unit:"px",number:3}],Cye=[{type:16,flags:0,number:50}],Eye=function(t){return t.width>t.height?new bu(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new bu(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},_ye=function(t){var e=t.type===Sye?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},iy="checkbox",oy="radio",Sye="password",$6=707406591,E4=function(t){Ec(e,t);function e(n,r){var s=t.call(this,n,r)||this;switch(s.type=r.type.toLowerCase(),s.checked=r.checked,s.value=_ye(r),(s.type===iy||s.type===oy)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=Eye(s.bounds)),s.type){case iy:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=bye;break;case oy:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Cye;break}return s}return e}(_A),uj=function(t){Ec(e,t);function e(n,r){var s=t.call(this,n,r)||this,a=r.options[r.selectedIndex||0];return s.value=a&&a.text||"",s}return e}(_A),dj=function(t){Ec(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(_A),fj=function(t){Ec(e,t);function e(n,r){var s=t.call(this,n,r)||this;s.src=r.src,s.width=parseInt(r.width,10)||0,s.height=parseInt(r.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){s.tree=mj(n,r.contentWindow.document.documentElement);var a=r.contentWindow.document.documentElement?Tg(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):mu.TRANSPARENT,i=r.contentWindow.document.body?Tg(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):mu.TRANSPARENT;s.backgroundColor=Od(a)?Od(i)?s.styles.backgroundColor:i:a}}catch{}return s}return e}(_A),Tye=["OL","UL","MENU"],l2=function(t,e,n,r){for(var s=e.firstChild,a=void 0;s;s=a)if(a=s.nextSibling,pj(s)&&s.data.trim().length>0)n.textNodes.push(new xye(t,s,n.styles));else if(P0(s))if(yj(s)&&s.assignedNodes)s.assignedNodes().forEach(function(o){return l2(t,o,n,r)});else{var i=hj(t,s);i.styles.isVisible()&&(Bye(s,i,r)?i.flags|=4:Nye(i.styles)&&(i.flags|=2),Tye.indexOf(s.tagName)!==-1&&(i.flags|=8),n.elements.push(i),s.slot,s.shadowRoot?l2(t,s.shadowRoot,i,r):!ly(s)&&!gj(s)&&!cy(s)&&l2(t,s,i,r))}},hj=function(t,e){return aS(e)?new oj(t,e):xj(e)?new lj(t,e):gj(e)?new cj(t,e):kye(e)?new Aj(t,e):Iye(e)?new rS(t,e):Fye(e)?new E4(t,e):cy(e)?new uj(t,e):ly(e)?new dj(t,e):vj(e)?new fj(t,e):new _A(t,e)},mj=function(t,e){var n=hj(t,e);return n.flags|=4,l2(t,e,n,n),n},Bye=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||_4(t)&&n.styles.isTransparent()},Nye=function(t){return t.isPositioned()||t.isFloating()},pj=function(t){return t.nodeType===Node.TEXT_NODE},P0=function(t){return t.nodeType===Node.ELEMENT_NODE},sS=function(t){return P0(t)&&typeof t.style<"u"&&!c2(t)},c2=function(t){return typeof t.className=="object"},kye=function(t){return t.tagName==="LI"},Iye=function(t){return t.tagName==="OL"},Fye=function(t){return t.tagName==="INPUT"},Rye=function(t){return t.tagName==="HTML"},gj=function(t){return t.tagName==="svg"},_4=function(t){return t.tagName==="BODY"},xj=function(t){return t.tagName==="CANVAS"},Y6=function(t){return t.tagName==="VIDEO"},aS=function(t){return t.tagName==="IMG"},vj=function(t){return t.tagName==="IFRAME"},J6=function(t){return t.tagName==="STYLE"},Dye=function(t){return t.tagName==="SCRIPT"},ly=function(t){return t.tagName==="TEXTAREA"},cy=function(t){return t.tagName==="SELECT"},yj=function(t){return t.tagName==="SLOT"},X6=function(t){return t.tagName.indexOf("-")>0},Uye=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,s=e.counterReset,a=!0;r!==null&&r.forEach(function(o){var l=n.counters[o.counter];l&&o.increment!==0&&(a=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var i=[];return a&&s.forEach(function(o){var l=n.counters[o.counter];i.push(o.counter),l||(l=n.counters[o.counter]=[]),l.push(o.reset)}),i},t}(),Z6={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},eR={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Lye={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Mye={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},m0=function(t,e,n,r,s,a){return t<e||t>n?ax(t,s,a.length>0):r.integers.reduce(function(i,o,l){for(;t>=o;)t-=o,i+=r.values[l];return i},"")+a},wj=function(t,e,n,r){var s="";do n||t--,s=r(t)+s,t/=e;while(t*e>=e);return s},Gs=function(t,e,n,r,s){var a=n-e+1;return(t<0?"-":"")+(wj(Math.abs(t),a,r,function(i){return Ks(Math.floor(i%a)+e)})+s)},Rf=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return wj(Math.abs(t),r,!1,function(s){return e[Math.floor(s%r)]})+n},F0=1,pd=2,gd=4,ag=8,su=function(t,e,n,r,s,a){if(t<-9999||t>9999)return ax(t,4,s.length>0);var i=Math.abs(t),o=s;if(i===0)return e[0]+o;for(var l=0;i>0&&l<=4;l++){var A=i%10;A===0&&Ea(a,F0)&&o!==""?o=e[A]+o:A>1||A===1&&l===0||A===1&&l===1&&Ea(a,pd)||A===1&&l===1&&Ea(a,gd)&&t>100||A===1&&l>1&&Ea(a,ag)?o=e[A]+(l>0?n[l-1]:"")+o:A===1&&l>0&&(o=n[l-1]+o),i=Math.floor(i/10)}return(t<0?r:"")+o},tR="",nR="",rR="",oE="",ax=function(t,e,n){var r=n?". ":"",s=n?"":"",a=n?", ":"",i=n?" ":"";switch(e){case 0:return""+i;case 1:return""+i;case 2:return""+i;case 5:var o=Gs(t,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Rf(t,"",s);case 6:return m0(t,1,3999,Z6,3,r).toLowerCase();case 7:return m0(t,1,3999,Z6,3,r);case 8:return Gs(t,945,969,!1,r);case 9:return Gs(t,97,122,!1,r);case 10:return Gs(t,65,90,!1,r);case 11:return Gs(t,1632,1641,!0,r);case 12:case 49:return m0(t,1,9999,eR,3,r);case 35:return m0(t,1,9999,eR,3,r).toLowerCase();case 13:return Gs(t,2534,2543,!0,r);case 14:case 30:return Gs(t,6112,6121,!0,r);case 15:return Rf(t,"",s);case 16:return Rf(t,"",s);case 17:case 48:return su(t,"",tR,"",s,pd|gd|ag);case 47:return su(t,"",nR,"",s,F0|pd|gd|ag);case 42:return su(t,"",tR,"",s,pd|gd|ag);case 41:return su(t,"",nR,"",s,F0|pd|gd|ag);case 26:return su(t,"","",rR,s,0);case 25:return su(t,"","",rR,s,F0|pd|gd);case 31:return su(t,"","",oE,a,F0|pd|gd);case 33:return su(t,"","",oE,a,0);case 32:return su(t,"","",oE,a,F0|pd|gd);case 18:return Gs(t,2406,2415,!0,r);case 20:return m0(t,1,19999,Mye,3,r);case 21:return Gs(t,2790,2799,!0,r);case 22:return Gs(t,2662,2671,!0,r);case 22:return m0(t,1,10999,Lye,3,r);case 23:return Rf(t,"");case 24:return Rf(t,"");case 27:return Gs(t,3302,3311,!0,r);case 28:return Rf(t,"",s);case 29:return Rf(t,"",s);case 34:return Gs(t,3792,3801,!0,r);case 37:return Gs(t,6160,6169,!0,r);case 38:return Gs(t,4160,4169,!0,r);case 39:return Gs(t,2918,2927,!0,r);case 40:return Gs(t,1776,1785,!0,r);case 43:return Gs(t,3046,3055,!0,r);case 44:return Gs(t,3174,3183,!0,r);case 45:return Gs(t,3664,3673,!0,r);case 46:return Gs(t,3872,3881,!0,r);case 3:default:return Gs(t,48,57,!0,r)}},bj="data-html2canvas-ignore",sR=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new Uye,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,s=Pye(e,n);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,i=e.defaultView.pageYOffset,o=s.contentWindow,l=o.document,A=Qye(s).then(function(){return Vi(r,void 0,void 0,function(){var d,h;return Ei(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(zye),o&&(o.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==n.top||o.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-n.left,o.scrollY-n.top,0,0))),d=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Oye(l)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,h)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(Vye(document.doctype)+"<html></html>"),Gye(this.referenceElement.ownerDocument,a,i),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),A},t.prototype.createElementClone=function(e){if(tS(e,2))debugger;if(xj(e))return this.createCanvasClone(e);if(Y6(e))return this.createVideoClone(e);if(J6(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return aS(n)&&(aS(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),X6(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return lE(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(a,i){return i&&typeof i.cssText=="string"?a+i.cssText:a},""),s=e.cloneNode(!1);return s.textContent=r,s}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var a=e.getContext("2d"),i=s.getContext("2d");if(i)if(!this.options.allowTaint&&a)i.putImageData(a.getImageData(0,0,e.width,e.height),0,0);else{var o=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}i.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,n,r){(!P0(n)||!Dye(n)&&!n.hasAttribute(bj)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!P0(n)||!J6(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var s=this,a=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;a;a=a.nextSibling)if(P0(a)&&yj(a)&&typeof a.assignedNodes=="function"){var i=a.assignedNodes();i.length&&i.forEach(function(o){return s.appendChildNode(n,o,r)})}else this.appendChildNode(n,a,r)},t.prototype.cloneNode=function(e,n){if(pj(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&P0(e)&&(sS(e)||c2(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var a=r.getComputedStyle(e),i=r.getComputedStyle(e,":before"),o=r.getComputedStyle(e,":after");this.referenceElement===e&&sS(s)&&(this.clonedReferenceElement=s),_4(s)&&Wye(s);var l=this.counters.parse(new U6(this.context,a)),A=this.resolvePseudoContent(e,s,i,kg.BEFORE);X6(e)&&(n=!0),Y6(e)||this.cloneChildNodes(e,s,n),A&&s.insertBefore(A,s.firstChild);var d=this.resolvePseudoContent(e,s,o,kg.AFTER);return d&&s.appendChild(d),this.counters.pop(l),(a&&(this.options.copyStyles||c2(e))&&!vj(e)||n)&&lE(a,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(ly(e)||cy(e))&&(ly(s)||cy(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,s){var a=this;if(r){var i=r.content,o=n.ownerDocument;if(!(!o||!i||i==="none"||i==="-moz-alt-content"||r.display==="none")){this.counters.parse(new U6(this.context,r));var l=new k2e(this.context,r),A=o.createElement("html2canvaspseudoelement");lE(r,A),l.content.forEach(function(h){if(h.type===0)A.appendChild(o.createTextNode(h.value));else if(h.type===22){var p=o.createElement("img");p.src=h.value,p.style.opacity="1",A.appendChild(p)}else if(h.type===18){if(h.name==="attr"){var g=h.values.filter(Kr);g.length&&A.appendChild(o.createTextNode(e.getAttribute(g[0].value)||""))}else if(h.name==="counter"){var w=h.values.filter(vm),b=w[0],E=w[1];if(b&&Kr(b)){var T=a.counters.getCounterValue(b.value),I=E&&Kr(E)?eS.parse(a.context,E.value):3;A.appendChild(o.createTextNode(ax(T,I,!1)))}}else if(h.name==="counters"){var k=h.values.filter(vm),b=k[0],F=k[1],E=k[2];if(b&&Kr(b)){var R=a.counters.getCounterValues(b.value),L=E&&Kr(E)?eS.parse(a.context,E.value):3,S=F&&F.type===0?F.value:"",N=R.map(function(P){return ax(P,L,!1)}).join(S);A.appendChild(o.createTextNode(N))}}}else if(h.type===20)switch(h.value){case"open-quote":A.appendChild(o.createTextNode(D6(l.quotes,a.quoteDepth++,!0)));break;case"close-quote":A.appendChild(o.createTextNode(D6(l.quotes,--a.quoteDepth,!1)));break;default:A.appendChild(o.createTextNode(h.value))}}),A.className=iS+" "+oS;var d=s===kg.BEFORE?" "+iS:" "+oS;return c2(n)?n.className.baseValue+=d:n.className+=d,A}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),kg;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(kg||(kg={}));var Pye=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(bj,"true"),t.body.appendChild(n),n},jye=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Oye=function(t){return Promise.all([].slice.call(t.images,0).map(jye))},Qye=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var a=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(a),e(t))},50)}})},Hye=["all","d","content"],lE=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);Hye.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},Vye=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Gye=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},zye=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},Kye=":before",qye=":after",iS="___html2canvas___pseudoelement_before",oS="___html2canvas___pseudoelement_after",aR=`{
    content: "" !important;
    display: none !important;
}`,Wye=function(t){$ye(t,"."+iS+Kye+aR+`
         .`+oS+qye+aR)},$ye=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},Cj=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Yye=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(AE(e)||ewe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Vi(this,void 0,void 0,function(){var n,r,s,a,i=this;return Ei(this,function(o){switch(o.label){case 0:return n=Cj.isSameOrigin(e),r=!cE(e)&&this._options.useCORS===!0&&Za.SUPPORT_CORS_IMAGES&&!n,s=!cE(e)&&!n&&!AE(e)&&typeof this._options.proxy=="string"&&Za.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!cE(e)&&!AE(e)&&!s&&!r?[2]:(a=e,s?[4,this.proxy(a)]:[3,2]);case 1:a=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,A){var d=new Image;d.onload=function(){return l(d)},d.onerror=A,(twe(a)||r)&&(d.crossOrigin="anonymous"),d.src=a,d.complete===!0&&setTimeout(function(){return l(d)},500),i._options.imageTimeout>0&&setTimeout(function(){return A("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(a,i){var o=Za.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")a(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return a(h.result)},!1),h.addEventListener("error",function(p){return i(p)},!1),h.readAsDataURL(l.response)}else i("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=i;var A=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+A+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),n._options.imageTimeout){var d=n._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return i("Timed out ("+d+"ms) proxying "+s)}}l.send()})},t}(),Jye=/^data:image\/svg\+xml/i,Xye=/^data:image\/.*;base64,/i,Zye=/^data:image\/.*/i,ewe=function(t){return Za.SUPPORT_SVG_DRAWING||!nwe(t)},cE=function(t){return Zye.test(t)},twe=function(t){return Xye.test(t)},AE=function(t){return t.substr(0,4)==="blob"},nwe=function(t){return t.substr(-3).toLowerCase()==="svg"||Jye.test(t)},Kt=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),p0=function(t,e,n){return new Kt(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},Nv=function(){function t(e,n,r,s){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=s}return t.prototype.subdivide=function(e,n){var r=p0(this.start,this.startControl,e),s=p0(this.startControl,this.endControl,e),a=p0(this.endControl,this.end,e),i=p0(r,s,e),o=p0(s,a,e),l=p0(i,o,e);return n?new t(this.start,r,i,l):new t(l,o,a,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),El=function(t){return t.type===1},rwe=function(){function t(e){var n=e.styles,r=e.bounds,s=rg(n.borderTopLeftRadius,r.width,r.height),a=s[0],i=s[1],o=rg(n.borderTopRightRadius,r.width,r.height),l=o[0],A=o[1],d=rg(n.borderBottomRightRadius,r.width,r.height),h=d[0],p=d[1],g=rg(n.borderBottomLeftRadius,r.width,r.height),w=g[0],b=g[1],E=[];E.push((a+l)/r.width),E.push((w+h)/r.width),E.push((i+b)/r.height),E.push((A+p)/r.height);var T=Math.max.apply(Math,E);T>1&&(a/=T,i/=T,l/=T,A/=T,h/=T,p/=T,w/=T,b/=T);var I=r.width-l,k=r.height-p,F=r.width-h,R=r.height-b,L=n.borderTopWidth,S=n.borderRightWidth,N=n.borderBottomWidth,B=n.borderLeftWidth,H=es(n.paddingTop,e.bounds.width),P=es(n.paddingRight,e.bounds.width),M=es(n.paddingBottom,e.bounds.width),V=es(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||i>0?fs(r.left+B/3,r.top+L/3,a-B/3,i-L/3,Br.TOP_LEFT):new Kt(r.left+B/3,r.top+L/3),this.topRightBorderDoubleOuterBox=a>0||i>0?fs(r.left+I,r.top+L/3,l-S/3,A-L/3,Br.TOP_RIGHT):new Kt(r.left+r.width-S/3,r.top+L/3),this.bottomRightBorderDoubleOuterBox=h>0||p>0?fs(r.left+F,r.top+k,h-S/3,p-N/3,Br.BOTTOM_RIGHT):new Kt(r.left+r.width-S/3,r.top+r.height-N/3),this.bottomLeftBorderDoubleOuterBox=w>0||b>0?fs(r.left+B/3,r.top+R,w-B/3,b-N/3,Br.BOTTOM_LEFT):new Kt(r.left+B/3,r.top+r.height-N/3),this.topLeftBorderDoubleInnerBox=a>0||i>0?fs(r.left+B*2/3,r.top+L*2/3,a-B*2/3,i-L*2/3,Br.TOP_LEFT):new Kt(r.left+B*2/3,r.top+L*2/3),this.topRightBorderDoubleInnerBox=a>0||i>0?fs(r.left+I,r.top+L*2/3,l-S*2/3,A-L*2/3,Br.TOP_RIGHT):new Kt(r.left+r.width-S*2/3,r.top+L*2/3),this.bottomRightBorderDoubleInnerBox=h>0||p>0?fs(r.left+F,r.top+k,h-S*2/3,p-N*2/3,Br.BOTTOM_RIGHT):new Kt(r.left+r.width-S*2/3,r.top+r.height-N*2/3),this.bottomLeftBorderDoubleInnerBox=w>0||b>0?fs(r.left+B*2/3,r.top+R,w-B*2/3,b-N*2/3,Br.BOTTOM_LEFT):new Kt(r.left+B*2/3,r.top+r.height-N*2/3),this.topLeftBorderStroke=a>0||i>0?fs(r.left+B/2,r.top+L/2,a-B/2,i-L/2,Br.TOP_LEFT):new Kt(r.left+B/2,r.top+L/2),this.topRightBorderStroke=a>0||i>0?fs(r.left+I,r.top+L/2,l-S/2,A-L/2,Br.TOP_RIGHT):new Kt(r.left+r.width-S/2,r.top+L/2),this.bottomRightBorderStroke=h>0||p>0?fs(r.left+F,r.top+k,h-S/2,p-N/2,Br.BOTTOM_RIGHT):new Kt(r.left+r.width-S/2,r.top+r.height-N/2),this.bottomLeftBorderStroke=w>0||b>0?fs(r.left+B/2,r.top+R,w-B/2,b-N/2,Br.BOTTOM_LEFT):new Kt(r.left+B/2,r.top+r.height-N/2),this.topLeftBorderBox=a>0||i>0?fs(r.left,r.top,a,i,Br.TOP_LEFT):new Kt(r.left,r.top),this.topRightBorderBox=l>0||A>0?fs(r.left+I,r.top,l,A,Br.TOP_RIGHT):new Kt(r.left+r.width,r.top),this.bottomRightBorderBox=h>0||p>0?fs(r.left+F,r.top+k,h,p,Br.BOTTOM_RIGHT):new Kt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=w>0||b>0?fs(r.left,r.top+R,w,b,Br.BOTTOM_LEFT):new Kt(r.left,r.top+r.height),this.topLeftPaddingBox=a>0||i>0?fs(r.left+B,r.top+L,Math.max(0,a-B),Math.max(0,i-L),Br.TOP_LEFT):new Kt(r.left+B,r.top+L),this.topRightPaddingBox=l>0||A>0?fs(r.left+Math.min(I,r.width-S),r.top+L,I>r.width+S?0:Math.max(0,l-S),Math.max(0,A-L),Br.TOP_RIGHT):new Kt(r.left+r.width-S,r.top+L),this.bottomRightPaddingBox=h>0||p>0?fs(r.left+Math.min(F,r.width-B),r.top+Math.min(k,r.height-N),Math.max(0,h-S),Math.max(0,p-N),Br.BOTTOM_RIGHT):new Kt(r.left+r.width-S,r.top+r.height-N),this.bottomLeftPaddingBox=w>0||b>0?fs(r.left+B,r.top+Math.min(R,r.height-N),Math.max(0,w-B),Math.max(0,b-N),Br.BOTTOM_LEFT):new Kt(r.left+B,r.top+r.height-N),this.topLeftContentBox=a>0||i>0?fs(r.left+B+V,r.top+L+H,Math.max(0,a-(B+V)),Math.max(0,i-(L+H)),Br.TOP_LEFT):new Kt(r.left+B+V,r.top+L+H),this.topRightContentBox=l>0||A>0?fs(r.left+Math.min(I,r.width+B+V),r.top+L+H,I>r.width+B+V?0:l-B+V,A-(L+H),Br.TOP_RIGHT):new Kt(r.left+r.width-(S+P),r.top+L+H),this.bottomRightContentBox=h>0||p>0?fs(r.left+Math.min(F,r.width-(B+V)),r.top+Math.min(k,r.height+L+H),Math.max(0,h-(S+P)),p-(N+M),Br.BOTTOM_RIGHT):new Kt(r.left+r.width-(S+P),r.top+r.height-(N+M)),this.bottomLeftContentBox=w>0||b>0?fs(r.left+B+V,r.top+R,Math.max(0,w-(B+V)),b-(N+M),Br.BOTTOM_LEFT):new Kt(r.left+B+V,r.top+r.height-(N+M))}return t}(),Br;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Br||(Br={}));var fs=function(t,e,n,r,s){var a=4*((Math.sqrt(2)-1)/3),i=n*a,o=r*a,l=t+n,A=e+r;switch(s){case Br.TOP_LEFT:return new Nv(new Kt(t,A),new Kt(t,A-o),new Kt(l-i,e),new Kt(l,e));case Br.TOP_RIGHT:return new Nv(new Kt(t,e),new Kt(t+i,e),new Kt(l,A-o),new Kt(l,A));case Br.BOTTOM_RIGHT:return new Nv(new Kt(l,e),new Kt(l,e+o),new Kt(t+i,A),new Kt(t,A));case Br.BOTTOM_LEFT:default:return new Nv(new Kt(l,A),new Kt(l-i,A),new Kt(t,e+o),new Kt(t,e))}},Ay=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},swe=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},uy=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},awe=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),kv=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),iwe=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),owe=function(t){return t.type===0},Ej=function(t){return t.type===1},lwe=function(t){return t.type===2},iR=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},cwe=function(t,e,n,r,s){return t.map(function(a,i){switch(i){case 0:return a.add(e,n);case 1:return a.add(e+r,n);case 2:return a.add(e+r,n+s);case 3:return a.add(e,n+s)}return a})},_j=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),Sj=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new rwe(this.container),this.container.styles.opacity<1&&this.effects.push(new iwe(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new awe(r,s,a))}if(this.container.styles.overflowX!==0){var i=Ay(this.curves),o=uy(this.curves);iR(i,o)?this.effects.push(new kv(i,6)):(this.effects.push(new kv(i,2)),this.effects.push(new kv(o,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,s=this.effects.slice(0);r;){var a=r.effects.filter(function(l){return!Ej(l)});if(n||r.container.styles.position!==0||!r.parent){if(s.unshift.apply(s,a),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var i=Ay(r.curves),o=uy(r.curves);iR(i,o)||s.unshift(new kv(o,6))}}else s.unshift.apply(s,a);r=r.parent}return s.filter(function(l){return Ea(l.target,e)})},t}(),lS=function(t,e,n,r){t.container.elements.forEach(function(s){var a=Ea(s.flags,4),i=Ea(s.flags,2),o=new Sj(s,t);Ea(s.styles.display,2048)&&r.push(o);var l=Ea(s.flags,8)?[]:r;if(a||i){var A=a||s.styles.isPositioned()?n:e,d=new _j(o);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var h=s.styles.zIndex.order;if(h<0){var p=0;A.negativeZIndex.some(function(w,b){return h>w.element.container.styles.zIndex.order?(p=b,!1):p>0}),A.negativeZIndex.splice(p,0,d)}else if(h>0){var g=0;A.positiveZIndex.some(function(w,b){return h>=w.element.container.styles.zIndex.order?(g=b+1,!1):g>0}),A.positiveZIndex.splice(g,0,d)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else s.styles.isFloating()?A.nonPositionedFloats.push(d):A.nonPositionedInlineLevel.push(d);lS(o,d,a?d:n,l)}else s.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),lS(o,e,n,l);Ea(s.flags,8)&&Tj(s,l)})},Tj=function(t,e){for(var n=t instanceof rS?t.start:1,r=t instanceof rS?t.reversed:!1,s=0;s<e.length;s++){var a=e[s];a.container instanceof Aj&&typeof a.container.value=="number"&&a.container.value!==0&&(n=a.container.value),a.listValue=ax(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},Awe=function(t){var e=new Sj(t,null),n=new _j(e),r=[];return lS(e,n,n,r),Tj(e.container,r),n},oR=function(t,e){switch(e){case 0:return Bl(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Bl(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Bl(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Bl(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},uwe=function(t,e){switch(e){case 0:return Bl(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Bl(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Bl(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Bl(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},dwe=function(t,e){switch(e){case 0:return Bl(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Bl(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Bl(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Bl(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},fwe=function(t,e){switch(e){case 0:return Iv(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Iv(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Iv(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Iv(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Iv=function(t,e){var n=[];return El(t)?n.push(t.subdivide(.5,!1)):n.push(t),El(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},Bl=function(t,e,n,r){var s=[];return El(t)?s.push(t.subdivide(.5,!1)):s.push(t),El(n)?s.push(n.subdivide(.5,!0)):s.push(n),El(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),El(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},Bj=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},dy=function(t){var e=t.styles,n=t.bounds,r=es(e.paddingLeft,n.width),s=es(e.paddingRight,n.width),a=es(e.paddingTop,n.width),i=es(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,a+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+s),-(e.borderTopWidth+e.borderBottomWidth+a+i))},hwe=function(t,e){return t===0?e.bounds:t===2?dy(e):Bj(e)},mwe=function(t,e){return t===0?e.bounds:t===2?dy(e):Bj(e)},uE=function(t,e,n){var r=hwe(R0(t.styles.backgroundOrigin,e),t),s=mwe(R0(t.styles.backgroundClip,e),t),a=pwe(R0(t.styles.backgroundSize,e),n,r),i=a[0],o=a[1],l=rg(R0(t.styles.backgroundPosition,e),r.width-i,r.height-o),A=gwe(R0(t.styles.backgroundRepeat,e),l,a,r,s),d=Math.round(r.left+l[0]),h=Math.round(r.top+l[1]);return[A,d,h,i,o]},g0=function(t){return Kr(t)&&t.value===rm.AUTO},Fv=function(t){return typeof t=="number"},pwe=function(t,e,n){var r=e[0],s=e[1],a=e[2],i=t[0],o=t[1];if(!i)return[0,0];if(fa(i)&&o&&fa(o))return[es(i,n.width),es(o,n.height)];var l=Fv(a);if(Kr(i)&&(i.value===rm.CONTAIN||i.value===rm.COVER)){if(Fv(a)){var A=n.width/n.height;return A<a!=(i.value===rm.COVER)?[n.width,n.width/a]:[n.height*a,n.height]}return[n.width,n.height]}var d=Fv(r),h=Fv(s),p=d||h;if(g0(i)&&(!o||g0(o))){if(d&&h)return[r,s];if(!l&&!p)return[n.width,n.height];if(p&&l){var g=d?r:s*a,w=h?s:r/a;return[g,w]}var b=d?r:n.width,E=h?s:n.height;return[b,E]}if(l){var T=0,I=0;return fa(i)?T=es(i,n.width):fa(o)&&(I=es(o,n.height)),g0(i)?T=I*a:(!o||g0(o))&&(I=T/a),[T,I]}var k=null,F=null;if(fa(i)?k=es(i,n.width):o&&fa(o)&&(F=es(o,n.height)),k!==null&&(!o||g0(o))&&(F=d&&h?k/r*s:n.height),F!==null&&g0(i)&&(k=d&&h?F/s*r:n.width),k!==null&&F!==null)return[k,F];throw new Error("Unable to calculate background-size for element")},R0=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},gwe=function(t,e,n,r,s){var a=e[0],i=e[1],o=n[0],l=n[1];switch(t){case 2:return[new Kt(Math.round(r.left),Math.round(r.top+i)),new Kt(Math.round(r.left+r.width),Math.round(r.top+i)),new Kt(Math.round(r.left+r.width),Math.round(l+r.top+i)),new Kt(Math.round(r.left),Math.round(l+r.top+i))];case 3:return[new Kt(Math.round(r.left+a),Math.round(r.top)),new Kt(Math.round(r.left+a+o),Math.round(r.top)),new Kt(Math.round(r.left+a+o),Math.round(r.height+r.top)),new Kt(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new Kt(Math.round(r.left+a),Math.round(r.top+i)),new Kt(Math.round(r.left+a+o),Math.round(r.top+i)),new Kt(Math.round(r.left+a+o),Math.round(r.top+i+l)),new Kt(Math.round(r.left+a),Math.round(r.top+i+l))];default:return[new Kt(Math.round(s.left),Math.round(s.top)),new Kt(Math.round(s.left+s.width),Math.round(s.top)),new Kt(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Kt(Math.round(s.left),Math.round(s.height+s.top))]}},xwe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lR="Hidden Text",vwe=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),s=this._document.createElement("img"),a=this._document.createElement("span"),i=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",i.appendChild(r),s.src=xwe,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=n,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(lR)),r.appendChild(a),r.appendChild(s);var o=s.offsetTop-a.offsetTop+2;r.removeChild(a),r.appendChild(this._document.createTextNode(lR)),r.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-r.offsetTop+2;return i.removeChild(r),{baseline:o,middle:l}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),Nj=function(){function t(e,n){this.context=e,this.options=n}return t}(),ywe=1e4,wwe=function(t){Ec(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s._activeEffects=[],s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),r.canvas||(s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px"),s.fontMetrics=new vwe(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),s}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(s){return r.applyEffect(s)})},e.prototype.applyEffect=function(n){this.ctx.save(),lwe(n)&&(this.ctx.globalAlpha=n.opacity),owe(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),Ej(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return Vi(this,void 0,void 0,function(){var r;return Ei(this,function(s){switch(s.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return Vi(this,void 0,void 0,function(){return Ei(this,function(r){switch(r.label){case 0:if(Ea(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,s){var a=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+s);else{var i=C4(n.text);i.reduce(function(o,l){return a.ctx.fillText(l,o,n.bounds.top+s),o+a.ctx.measureText(l).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),s=Swe(n.fontFamily).join(", "),a=Ux(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,a,s].join(" "),s,a]},e.prototype.renderTextNode=function(n,r){return Vi(this,void 0,void 0,function(){var s,a,i,o,l,A,d,h,p=this;return Ei(this,function(g){return s=this.createFontStyle(r),a=s[0],i=s[1],o=s[2],this.ctx.font=a,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(i,o),A=l.baseline,d=l.middle,h=r.paintOrder,n.textBounds.forEach(function(w){h.forEach(function(b){switch(b){case 0:p.ctx.fillStyle=Ma(r.color),p.renderTextWithLetterSpacing(w,r.letterSpacing,A);var E=r.textShadow;E.length&&w.text.trim().length&&(E.slice(0).reverse().forEach(function(T){p.ctx.shadowColor=Ma(T.color),p.ctx.shadowOffsetX=T.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=T.offsetY.number*p.options.scale,p.ctx.shadowBlur=T.blur.number,p.renderTextWithLetterSpacing(w,r.letterSpacing,A)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),r.textDecorationLine.length&&(p.ctx.fillStyle=Ma(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(T){switch(T){case 1:p.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top+A),w.bounds.width,1);break;case 2:p.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top),w.bounds.width,1);break;case 3:p.ctx.fillRect(w.bounds.left,Math.ceil(w.bounds.top+d),w.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&w.text.trim().length&&(p.ctx.strokeStyle=Ma(r.webkitTextStrokeColor),p.ctx.lineWidth=r.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(w.text,w.bounds.left,w.bounds.top+A)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,s){if(s&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var a=dy(n),i=uy(r);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,n.intrinsicWidth,n.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return Vi(this,void 0,void 0,function(){var r,s,a,i,o,l,I,I,A,d,h,p,F,g,w,R,b,E,T,I,k,F,R;return Ei(this,function(L){switch(L.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,s=n.curves,a=r.styles,i=0,o=r.textNodes,L.label=1;case 1:return i<o.length?(l=o[i],[4,this.renderTextNode(l,a)]):[3,4];case 2:L.sent(),L.label=3;case 3:return i++,[3,1];case 4:if(!(r instanceof oj))return[3,8];L.label=5;case 5:return L.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return I=L.sent(),this.renderReplacedElement(r,s,I),[3,8];case 7:return L.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof lj&&this.renderReplacedElement(r,s,r.canvas),!(r instanceof cj))return[3,12];L.label=9;case 9:return L.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return I=L.sent(),this.renderReplacedElement(r,s,I),[3,12];case 11:return L.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof fj&&r.tree?(A=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,A.render(r.tree)]):[3,14];case 13:d=L.sent(),r.width&&r.height&&this.ctx.drawImage(d,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),L.label=14;case 14:if(r instanceof E4&&(h=Math.min(r.bounds.width,r.bounds.height),r.type===iy?r.checked&&(this.ctx.save(),this.path([new Kt(r.bounds.left+h*.39363,r.bounds.top+h*.79),new Kt(r.bounds.left+h*.16,r.bounds.top+h*.5549),new Kt(r.bounds.left+h*.27347,r.bounds.top+h*.44071),new Kt(r.bounds.left+h*.39694,r.bounds.top+h*.5649),new Kt(r.bounds.left+h*.72983,r.bounds.top+h*.23),new Kt(r.bounds.left+h*.84,r.bounds.top+h*.34085),new Kt(r.bounds.left+h*.39363,r.bounds.top+h*.79)]),this.ctx.fillStyle=Ma($6),this.ctx.fill(),this.ctx.restore()):r.type===oy&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+h/2,r.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ma($6),this.ctx.fill(),this.ctx.restore())),bwe(r)&&r.value.length){switch(p=this.createFontStyle(a),F=p[0],g=p[1],w=this.fontMetrics.getMetrics(F,g).baseline,this.ctx.font=F,this.ctx.fillStyle=Ma(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Ewe(r.styles.textAlign),R=dy(r),b=0,r.styles.textAlign){case 1:b+=R.width/2;break;case 2:b+=R.width;break}E=R.add(b,0,0,-R.height/2+1),this.ctx.save(),this.path([new Kt(R.left,R.top),new Kt(R.left+R.width,R.top),new Kt(R.left+R.width,R.top+R.height),new Kt(R.left,R.top+R.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ng(r.value,E),a.letterSpacing,w),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ea(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(T=r.styles.listStyleImage,T.type!==0)return[3,18];I=void 0,k=T.url,L.label=15;case 15:return L.trys.push([15,17,,18]),[4,this.context.cache.match(k)];case 16:return I=L.sent(),this.ctx.drawImage(I,r.bounds.left-(I.width+10),r.bounds.top),[3,18];case 17:return L.sent(),this.context.logger.error("Error loading list-style-image "+k),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(F=this.createFontStyle(a)[0],this.ctx.font=F,this.ctx.fillStyle=Ma(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",R=new bu(r.bounds.left,r.bounds.top+es(r.styles.paddingTop,r.bounds.width),r.bounds.width,F6(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ng(n.listValue,R),a.letterSpacing,F6(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),L.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return Vi(this,void 0,void 0,function(){var r,s,T,a,i,T,o,l,T,A,d,T,h,p,T,g,w,T,b,E,T;return Ei(this,function(I){switch(I.label){case 0:if(Ea(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:I.sent(),r=0,s=n.negativeZIndex,I.label=2;case 2:return r<s.length?(T=s[r],[4,this.renderStack(T)]):[3,5];case 3:I.sent(),I.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:I.sent(),a=0,i=n.nonInlineLevel,I.label=7;case 7:return a<i.length?(T=i[a],[4,this.renderNode(T)]):[3,10];case 8:I.sent(),I.label=9;case 9:return a++,[3,7];case 10:o=0,l=n.nonPositionedFloats,I.label=11;case 11:return o<l.length?(T=l[o],[4,this.renderStack(T)]):[3,14];case 12:I.sent(),I.label=13;case 13:return o++,[3,11];case 14:A=0,d=n.nonPositionedInlineLevel,I.label=15;case 15:return A<d.length?(T=d[A],[4,this.renderStack(T)]):[3,18];case 16:I.sent(),I.label=17;case 17:return A++,[3,15];case 18:h=0,p=n.inlineLevel,I.label=19;case 19:return h<p.length?(T=p[h],[4,this.renderNode(T)]):[3,22];case 20:I.sent(),I.label=21;case 21:return h++,[3,19];case 22:g=0,w=n.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return g<w.length?(T=w[g],[4,this.renderStack(T)]):[3,26];case 24:I.sent(),I.label=25;case 25:return g++,[3,23];case 26:b=0,E=n.positiveZIndex,I.label=27;case 27:return b<E.length?(T=E[b],[4,this.renderStack(T)]):[3,30];case 28:I.sent(),I.label=29;case 29:return b++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(s,a){var i=El(s)?s.start:s;a===0?r.ctx.moveTo(i.x,i.y):r.ctx.lineTo(i.x,i.y),El(s)&&r.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(n,r,s,a){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(s,a),this.ctx.fill(),this.ctx.translate(-s,-a)},e.prototype.resizeImage=function(n,r,s){var a;if(n.width===r&&n.height===s)return n;var i=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,o=i.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,s);var l=o.getContext("2d");return l.drawImage(n,0,0,n.width,n.height,0,0,r,s),o},e.prototype.renderBackgroundImage=function(n){return Vi(this,void 0,void 0,function(){var r,s,a,i,o,l;return Ei(this,function(A){switch(A.label){case 0:r=n.styles.backgroundImage.length-1,s=function(d){var h,p,g,H,K,Z,V,G,N,w,H,K,Z,V,G,b,E,T,I,k,F,R,L,S,N,B,H,P,M,V,G,oe,K,Z,re,q,X,ue,j,W,J,ne;return Ei(this,function(ie){switch(ie.label){case 0:if(d.type!==0)return[3,5];h=void 0,p=d.url,ie.label=1;case 1:return ie.trys.push([1,3,,4]),[4,a.context.cache.match(p)];case 2:return h=ie.sent(),[3,4];case 3:return ie.sent(),a.context.logger.error("Error loading background-image "+p),[3,4];case 4:return h&&(g=uE(n,r,[h.width,h.height,h.width/h.height]),H=g[0],K=g[1],Z=g[2],V=g[3],G=g[4],N=a.ctx.createPattern(a.resizeImage(h,V,G),"repeat"),a.renderRepeat(H,N,K,Z)),[3,6];case 5:ove(d)?(w=uE(n,r,[null,null,null]),H=w[0],K=w[1],Z=w[2],V=w[3],G=w[4],b=nve(d.angle,V,G),E=b[0],T=b[1],I=b[2],k=b[3],F=b[4],R=document.createElement("canvas"),R.width=V,R.height=G,L=R.getContext("2d"),S=L.createLinearGradient(T,k,I,F),k6(d.stops,E).forEach(function(de){return S.addColorStop(de.stop,Ma(de.color))}),L.fillStyle=S,L.fillRect(0,0,V,G),V>0&&G>0&&(N=a.ctx.createPattern(R,"repeat"),a.renderRepeat(H,N,K,Z))):lve(d)&&(B=uE(n,r,[null,null,null]),H=B[0],P=B[1],M=B[2],V=B[3],G=B[4],oe=d.position.length===0?[y4]:d.position,K=es(oe[0],V),Z=es(oe[oe.length-1],G),re=rve(d,K,Z,V,G),q=re[0],X=re[1],q>0&&X>0&&(ue=a.ctx.createRadialGradient(P+K,M+Z,0,P+K,M+Z,q),k6(d.stops,q*2).forEach(function(de){return ue.addColorStop(de.stop,Ma(de.color))}),a.path(H),a.ctx.fillStyle=ue,q!==X?(j=n.bounds.left+.5*n.bounds.width,W=n.bounds.top+.5*n.bounds.height,J=X/q,ne=1/J,a.ctx.save(),a.ctx.translate(j,W),a.ctx.transform(1,0,0,J,0,0),a.ctx.translate(-j,-W),a.ctx.fillRect(P,ne*(M-W)+W,V,G*ne),a.ctx.restore()):a.ctx.fill())),ie.label=6;case 6:return r--,[2]}})},a=this,i=0,o=n.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return i<o.length?(l=o[i],[5,s(l)]):[3,4];case 2:A.sent(),A.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,s){return Vi(this,void 0,void 0,function(){return Ei(this,function(a){return this.path(oR(s,r)),this.ctx.fillStyle=Ma(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,s,a){return Vi(this,void 0,void 0,function(){var i,o;return Ei(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(n,s,a)]:[3,2];case 1:return l.sent(),[2];case 2:return i=uwe(a,s),this.path(i),this.ctx.fillStyle=Ma(n),this.ctx.fill(),o=dwe(a,s),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return Vi(this,void 0,void 0,function(){var r,s,a,i,o,l,A,d,h=this;return Ei(this,function(p){switch(p.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,s=!Od(r.backgroundColor)||r.backgroundImage.length,a=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],i=Cwe(R0(r.backgroundClip,0),n.curves),s||r.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),Od(r.backgroundColor)||(this.ctx.fillStyle=Ma(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(g){h.ctx.save();var w=Ay(n.curves),b=g.inset?0:ywe,E=cwe(w,-b+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(h.path(w),h.ctx.clip(),h.mask(E)):(h.mask(w),h.ctx.clip(),h.path(E)),h.ctx.shadowOffsetX=g.offsetX.number+b,h.ctx.shadowOffsetY=g.offsetY.number,h.ctx.shadowColor=Ma(g.color),h.ctx.shadowBlur=g.blur.number,h.ctx.fillStyle=g.inset?Ma(g.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),p.label=2;case 2:o=0,l=0,A=a,p.label=3;case 3:return l<A.length?(d=A[l],d.style!==0&&!Od(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,n.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,n.curves,3)];case 6:return p.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,n.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,n.curves)];case 10:p.sent(),p.label=11;case 11:o++,p.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,s,a,i){return Vi(this,void 0,void 0,function(){var o,l,A,d,h,p,g,w,b,E,T,I,k,F,R,L,R,L;return Ei(this,function(S){return this.ctx.save(),o=fwe(a,s),l=oR(a,s),i===2&&(this.path(l),this.ctx.clip()),El(l[0])?(A=l[0].start.x,d=l[0].start.y):(A=l[0].x,d=l[0].y),El(l[1])?(h=l[1].end.x,p=l[1].end.y):(h=l[1].x,p=l[1].y),s===0||s===2?g=Math.abs(A-h):g=Math.abs(d-p),this.ctx.beginPath(),i===3?this.formatPath(o):this.formatPath(l.slice(0,2)),w=r<3?r*3:r*2,b=r<3?r*2:r,i===3&&(w=r,b=r),E=!0,g<=w*2?E=!1:g<=w*2+b?(T=g/(2*w+b),w*=T,b*=T):(I=Math.floor((g+b)/(w+b)),k=(g-I*w)/(I-1),F=(g-(I+1)*w)/I,b=F<=0||Math.abs(b-k)<Math.abs(b-F)?k:F),E&&(i===3?this.ctx.setLineDash([0,w+b]):this.ctx.setLineDash([w,b])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Ma(n),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(El(l[0])&&(R=l[3],L=l[0],this.ctx.beginPath(),this.formatPath([new Kt(R.end.x,R.end.y),new Kt(L.start.x,L.start.y)]),this.ctx.stroke()),El(l[1])&&(R=l[1],L=l[2],this.ctx.beginPath(),this.formatPath([new Kt(R.end.x,R.end.y),new Kt(L.start.x,L.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return Vi(this,void 0,void 0,function(){var r;return Ei(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ma(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=Awe(n),[4,this.renderStack(r)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(Nj),bwe=function(t){return t instanceof dj||t instanceof uj?!0:t instanceof E4&&t.type!==oy&&t.type!==iy},Cwe=function(t,e){switch(t){case 0:return Ay(e);case 2:return swe(e);case 1:default:return uy(e)}},Ewe=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},_we=["-apple-system","system-ui"],Swe=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return _we.indexOf(e)===-1}):t},Twe=function(t){Ec(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=r,s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),s}return e.prototype.render=function(n){return Vi(this,void 0,void 0,function(){var r,s;return Ei(this,function(a){switch(a.label){case 0:return r=nS(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,Bwe(r)];case 1:return s=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ma(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(Nj),Bwe=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Nwe=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Av([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Av([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Av([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Av([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),kwe=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new Nwe({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new Yye(this,e)}return t.instanceCount=1,t}(),kj=function(t,e){return e===void 0&&(e={}),Iwe(t,e)};typeof window<"u"&&Cj.setContext(window);var Iwe=function(t,e){return Vi(void 0,void 0,void 0,function(){var n,r,s,a,i,o,l,A,d,h,p,g,w,b,E,T,I,k,F,R,S,L,S,N,B,H,P,M,V,G,oe,K,Z,re,q,X,ue,j,W,J;return Ei(this,function(ne){switch(ne.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return s={allowTaint:(N=e.allowTaint)!==null&&N!==void 0?N:!1,imageTimeout:(B=e.imageTimeout)!==null&&B!==void 0?B:15e3,proxy:e.proxy,useCORS:(H=e.useCORS)!==null&&H!==void 0?H:!1},a=Q_({logging:(P=e.logging)!==null&&P!==void 0?P:!0,cache:e.cache},s),i={windowWidth:(M=e.windowWidth)!==null&&M!==void 0?M:r.innerWidth,windowHeight:(V=e.windowHeight)!==null&&V!==void 0?V:r.innerHeight,scrollX:(G=e.scrollX)!==null&&G!==void 0?G:r.pageXOffset,scrollY:(oe=e.scrollY)!==null&&oe!==void 0?oe:r.pageYOffset},o=new bu(i.scrollX,i.scrollY,i.windowWidth,i.windowHeight),l=new kwe(a,o),A=(K=e.foreignObjectRendering)!==null&&K!==void 0?K:!1,d={allowTaint:(Z=e.allowTaint)!==null&&Z!==void 0?Z:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:A,copyStyles:A},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new sR(l,t,d),p=h.clonedReferenceElement,p?[4,h.toIFrame(n,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=ne.sent(),w=_4(p)||Rye(p)?cxe(p.ownerDocument):dw(l,p),b=w.width,E=w.height,T=w.left,I=w.top,k=Fwe(l,p,e.backgroundColor),F={canvas:e.canvas,backgroundColor:k,scale:(q=(re=e.scale)!==null&&re!==void 0?re:r.devicePixelRatio)!==null&&q!==void 0?q:1,x:((X=e.x)!==null&&X!==void 0?X:0)+T,y:((ue=e.y)!==null&&ue!==void 0?ue:0)+I,width:(j=e.width)!==null&&j!==void 0?j:Math.ceil(b),height:(W=e.height)!==null&&W!==void 0?W:Math.ceil(E)},A?(l.logger.debug("Document cloned, using foreign object rendering"),S=new Twe(l,F),[4,S.render(p)]):[3,3];case 2:return R=ne.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+T+","+I+" with size "+b+"x"+E+" using computed rendering"),l.logger.debug("Starting DOM parsing"),L=mj(l,p),k===L.styles.backgroundColor&&(L.styles.backgroundColor=mu.TRANSPARENT),l.logger.debug("Starting renderer for element at "+F.x+","+F.y+" with size "+F.width+"x"+F.height),S=new wwe(l,F),[4,S.render(L)];case 4:R=ne.sent(),ne.label=5;case 5:return(!((J=e.removeContainer)!==null&&J!==void 0)||J)&&(sR.destroy(g)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,R]}})})},Fwe=function(t,e,n){var r=e.ownerDocument,s=r.documentElement?Tg(t,getComputedStyle(r.documentElement).backgroundColor):mu.TRANSPARENT,a=r.body?Tg(t,getComputedStyle(r.body).backgroundColor):mu.TRANSPARENT,i=typeof n=="string"?Tg(t,n):n===null?mu.TRANSPARENT:4294967295;return e===r.documentElement?Od(s)?Od(a)?i:a:s:i};const Rwe=Object.freeze(Object.defineProperty({__proto__:null,default:kj},Symbol.toStringTag,{value:"Module"})),cR="planificacionesInterdisciplinarias",AR="entregasTareasInterdisciplinarias",Dwe="usuariosLiceo",Uwe=({planificaciones:t,onActivityUpdate:e})=>{const[n,r]=ee.useState(null),s=ee.useMemo(()=>{const l=[];return t.forEach(A=>{A.actividades.forEach(d=>l.push({...d,planId:A.id,type:"activity"})),A.fechasClave.forEach(d=>l.push({id:d.id,planId:A.id,type:"keyDate",nombre:d.nombre,fechaInicio:d.fecha,fechaFin:d.fecha,responsables:A.docentesResponsables,asignaturaPrincipal:"Milestone"}))}),l.sort((A,d)=>new Date(A.fechaInicio).getTime()-new Date(d.fechaInicio).getTime())},[t]),a=ee.useCallback(l=>{if(l.type==="keyDate")return{text:"Fecha Clave",color:"bg-slate-200 text-slate-800 dark:bg-slate-700 dark:text-slate-300"};const A=new Date;A.setHours(0,0,0,0);const d=new Date(`${l.fechaInicio}T00:00:00`),h=new Date(`${l.fechaFin}T00:00:00`);return h<A?{text:"Completado",color:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"}:d<=A&&h>=A?{text:"En Progreso",color:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"}:{text:"Planificado",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"}},[]),i=({name:l})=>{const A=(l||"").split(" ").map(g=>g[0]).join("").toUpperCase(),d=g=>{let w=0;for(let b=0;b<g.length;b++)w=g.charCodeAt(b)+((w<<5)-w);return w},h=["bg-pink-100 text-pink-800 dark:bg-pink-900/50 dark:text-pink-300","bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300","bg-teal-100 text-teal-800 dark:bg-teal-900/50 dark:text-teal-300","bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300","bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300","bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300","bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"],p=Math.abs(d(l))%h.length;return u.jsx("div",{className:`w-9 h-9 rounded-full ${h[p]} flex items-center justify-center font-bold text-sm ring-2 ring-white dark:ring-slate-800`,children:A.slice(0,2)})},o=({data:l,onClose:A,onSave:d})=>{const[h,p]=ee.useState(l.activity),g=b=>{p({...h,[b.target.name]:b.target.value})},w=()=>{d(l.planId,h),A()};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-lg p-6 animate-fade-in-up",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:"Editar Actividad"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Nombre"}),u.jsx("input",{name:"nombre",value:h.nombre,onChange:g,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Responsables"}),u.jsx("input",{name:"responsables",value:h.responsables,onChange:g,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Fecha Inicio"}),u.jsx("input",{type:"date",name:"fechaInicio",value:h.fechaInicio,onChange:g,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Fecha Fin"}),u.jsx("input",{type:"date",name:"fechaFin",value:h.fechaFin,onChange:g,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[u.jsx("button",{onClick:A,className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 rounded-md font-semibold",children:"Cancelar"}),u.jsx("button",{onClick:w,className:"px-4 py-2 bg-amber-500 text-white rounded-md font-semibold",children:"Guardar"})]})]})})};return s.length===0?u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Cronograma del Proyecto"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Visualice el progreso y las dependencias del proyecto."}),u.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:"No hay actividades para mostrar. Cree una planificacin primero."})]}):u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[u.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-slate-200",children:"Cronograma del Proyecto"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 mb-6",children:"Visualice el progreso y las dependencias del proyecto."}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Tarea"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Estado"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Fecha de Inicio"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Fecha de Fin"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Asignado"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:s.map(l=>{const A=a(l),d=l.type==="activity";return u.jsxs("tr",{className:`${d?"hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer":""}`,onClick:()=>d&&r({planId:l.planId,activity:l}),children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base font-medium text-slate-900 dark:text-slate-200",children:l.nombre}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full ${A.color}`,children:A.text})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-slate-600 dark:text-slate-400",children:l.fechaInicio}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-slate-600 dark:text-slate-400",children:l.fechaFin}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx(i,{name:l.responsables||"N/A"})})]},l.id)})})]})}),n&&u.jsx(o,{data:n,onClose:()=>r(null),onSave:e})]})},Lwe=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),Mwe=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197M15 21a6 6 0 006-5.197M15 12a4 4 0 110-8 4 4 0 010 8z"})}),Pwe=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),u.jsx("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5zm0 0v6"})]}),jwe=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),Owe=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Qwe=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6H8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})}),Hwe=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),Vwe=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),uR=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),hd=({icon:t,label:e,children:n,aiButton:r})=>u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border dark:border-slate-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-3 text-slate-500 dark:text-slate-400 font-medium",children:[t,u.jsx("span",{children:e})]}),r]}),n]}),Gwe=({initialPlan:t,onSave:e})=>{const[n,r]=ee.useState(t||{id:"",nombreProyecto:"",descripcionProyecto:"",asignaturas:[],cursos:[],docentesResponsables:"",objetivos:"",actividades:[],fechasClave:[],indicadoresLogro:"",tareas:[]}),[s,a]=ee.useState({nombre:"",fechaInicio:"",fechaFin:"",responsables:"",asignaturaPrincipal:""}),[i,o]=ee.useState({nombre:"",fecha:""}),[l,A]=ee.useState({instrucciones:"",fechaEntrega:"",recursoUrl:""}),[d,h]=ee.useState(!1),[p,g]=ee.useState(!1);ee.useEffect(()=>{r(t||{id:"",nombreProyecto:"",descripcionProyecto:"",asignaturas:[],cursos:[],docentesResponsables:"",objetivos:"",actividades:[],fechasClave:[],indicadoresLogro:"",tareas:[]})},[t]);const w=async F=>{if(!n.descripcionProyecto.trim()){alert("Por favor, ingrese una descripcin del proyecto para usar la IA.");return}F==="objetivos"?h(!0):g(!0);let R="";F==="objetivos"?R=`Basado en la siguiente descripcin de un proyecto escolar interdisciplinario, genera 3 a 5 objetivos de aprendizaje claros, medibles y concisos. La respuesta debe ser solo el texto de los objetivos, formateado en una lista.
            Descripcin del Proyecto: "${n.descripcionProyecto}"`:R=`Basado en la siguiente descripcin y objetivos de un proyecto escolar interdisciplinario, genera una lista de 5 a 7 indicadores de logro concretos y observables que permitan evaluar el cumplimiento de los objetivos. La respuesta debe ser solo el texto de los indicadores, formateado en una lista.
            Descripcin del Proyecto: "${n.descripcionProyecto}"
            Objetivos (si existen): "${n.objetivos||"An no definidos, genralos a partir de la descripcin."}"`;try{const S=await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:R});r(N=>({...N,[F]:S.text.replace(/(\*\*|\*)/g,"")}))}catch(L){console.error(`Error al generar ${F}`,L),alert(`Hubo un error al generar los ${F}. Intntelo de nuevo.`)}finally{F==="objetivos"?h(!1):g(!1)}},b=F=>{r(R=>({...R,[F.target.name]:F.target.value}))},E=(F,R)=>{r(L=>{const S=L[F],N=S.includes(R)?S.filter(B=>B!==R):[...S,R];return{...L,[F]:N}})},T=()=>{if(!s.nombre||!s.fechaInicio||!s.fechaFin){alert("Nombre y fechas son obligatorios para la actividad.");return}r(F=>({...F,actividades:[...F.actividades,{...s,id:crypto.randomUUID()}]})),a({nombre:"",fechaInicio:"",fechaFin:"",responsables:"",asignaturaPrincipal:""})},I=()=>{!i.nombre||!i.fecha||(r(F=>({...F,fechasClave:[...F.fechasClave,{...i,id:crypto.randomUUID()}]})),o({nombre:"",fecha:""}))},k=()=>{var R;if(!l.instrucciones||!l.fechaEntrega){alert("Instrucciones y fecha son obligatorios para la tarea.");return}const F={id:crypto.randomUUID(),numero:(((R=n.tareas)==null?void 0:R.length)||0)+1,...l};r(L=>({...L,tareas:[...L.tareas||[],F]})),A({instrucciones:"",fechaEntrega:"",recursoUrl:""})};return u.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[u.jsx("div",{className:"text-center mb-12",children:u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-800 dark:text-slate-200",children:"Proyecto Interdisciplinario en Liceo Industrial Recoleta"})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(hd,{icon:u.jsx(Lwe,{}),label:"Nombre del Proyecto",children:u.jsx("input",{name:"nombreProyecto",value:n.nombreProyecto,onChange:b,placeholder:"Ingrese el nombre del proyecto...",className:"w-full mt-1 bg-transparent text-lg font-semibold focus:ring-0 border-none p-0 dark:text-slate-200 placeholder:text-slate-400"})}),u.jsx(hd,{icon:u.jsx(Mwe,{}),label:"Profesores",children:u.jsx("input",{name:"docentesResponsables",value:n.docentesResponsables,onChange:b,placeholder:"Ingrese nombres separados por comas...",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 dark:text-slate-200 placeholder:text-slate-400"})}),u.jsx(hd,{icon:u.jsx(Pwe,{}),label:"Cursos",children:u.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 mt-2",children:Xs.map(F=>u.jsx("button",{type:"button",onClick:()=>E("cursos",F),className:`w-full text-center p-2 rounded-md text-sm transition-colors ${n.cursos.includes(F)?"bg-amber-500 text-white font-semibold":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600"}`,children:F},F))})}),u.jsx(hd,{icon:u.jsx(jwe,{}),label:"Asignaturas",children:u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 mt-2",children:zo.map(F=>u.jsx("button",{type:"button",onClick:()=>E("asignaturas",F),className:`w-full text-left p-2 rounded-md text-sm transition-colors ${n.asignaturas.includes(F)?"bg-amber-500 text-white font-semibold":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600"}`,children:F},F))})}),u.jsx(hd,{icon:u.jsx(Owe,{}),label:"Descripcin del Proyecto",children:u.jsx("textarea",{name:"descripcionProyecto",value:n.descripcionProyecto,onChange:b,placeholder:"Detalle aqu la metodologa, el producto final esperado y el propsito del proyecto. Esta informacin es clave para la IA.",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 min-h-[100px] resize-none dark:text-slate-200 placeholder:text-slate-400"})}),u.jsx(hd,{icon:u.jsx(Qwe,{}),label:"Objetivos",aiButton:u.jsx("button",{type:"button",onClick:()=>w("objetivos"),disabled:!n.descripcionProyecto.trim()||d,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50",title:"Generar con IA",children:u.jsx(uR,{})}),children:d?u.jsx("div",{className:"p-4 text-center",children:"Generando..."}):u.jsx("textarea",{name:"objetivos",value:n.objetivos,onChange:b,placeholder:"Liste los objetivos de aprendizaje...",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 min-h-[80px] resize-none dark:text-slate-200 placeholder:text-slate-400"})}),u.jsx(hd,{icon:u.jsx(Hwe,{}),label:"Indicadores de xito",aiButton:u.jsx("button",{type:"button",onClick:()=>w("indicadoresLogro"),disabled:!n.descripcionProyecto.trim()||p,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50",title:"Generar con IA",children:u.jsx(uR,{})}),children:p?u.jsx("div",{className:"p-4 text-center",children:"Generando..."}):u.jsx("textarea",{name:"indicadoresLogro",value:n.indicadoresLogro,onChange:b,placeholder:"Liste los indicadores de logro o evaluacin...",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 min-h-[80px] resize-none dark:text-slate-200 placeholder:text-slate-400"})}),u.jsx(hd,{icon:u.jsx(Vwe,{}),label:"Carta Gantt",children:u.jsxs("div",{className:"space-y-4 mt-2",children:[u.jsxs("div",{className:"space-y-2 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[u.jsx("h4",{className:"text-sm font-semibold",children:"Actividades"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 items-end",children:[u.jsx("input",{value:s.nombre,onChange:F=>a({...s,nombre:F.target.value}),placeholder:"Nombre",className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600 md:col-span-2"}),u.jsx("input",{type:"date",value:s.fechaInicio,onChange:F=>a({...s,fechaInicio:F.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),u.jsx("input",{type:"date",value:s.fechaFin,onChange:F=>a({...s,fechaFin:F.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),u.jsx("button",{onClick:T,className:"bg-slate-200 dark:bg-slate-600 p-2 rounded h-8 text-sm font-semibold",children:"Agregar"})]}),u.jsx("ul",{className:"text-xs",children:n.actividades.map(F=>u.jsx("li",{children:F.nombre},F.id))})]}),u.jsxs("div",{className:"space-y-2 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[u.jsx("h4",{className:"text-sm font-semibold",children:"Fechas Clave (Hitos)"}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 items-end",children:[u.jsx("input",{value:i.nombre,onChange:F=>o({...i,nombre:F.target.value}),placeholder:"Hito",className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600 col-span-1"}),u.jsx("input",{type:"date",value:i.fecha,onChange:F=>o({...i,fecha:F.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),u.jsx("button",{onClick:I,className:"bg-slate-200 dark:bg-slate-600 p-2 rounded h-8 text-sm font-semibold",children:"Agregar"})]}),u.jsx("ul",{className:"text-xs",children:n.fechasClave.map(F=>u.jsxs("li",{children:[F.nombre," (",F.fecha,")"]},F.id))})]}),u.jsxs("div",{className:"space-y-2 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[u.jsx("h4",{className:"text-sm font-semibold",children:"Tareas para Estudiantes"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 items-end",children:[u.jsx("input",{value:l.instrucciones,onChange:F=>A({...l,instrucciones:F.target.value}),placeholder:"Instrucciones",className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600 md:col-span-2"}),u.jsx("input",{type:"date",value:l.fechaEntrega,onChange:F=>A({...l,fechaEntrega:F.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),u.jsx("button",{type:"button",onClick:k,className:"bg-slate-200 dark:bg-slate-600 p-2 rounded h-8 text-sm font-semibold",children:"Agregar"})]}),u.jsx("ul",{className:"text-xs",children:(n.tareas||[]).map(F=>u.jsxs("li",{children:[F.numero,". ",F.instrucciones]},F.id))})]})]})}),u.jsx("div",{className:"flex justify-end pt-6",children:u.jsx("button",{onClick:()=>e(n),className:"px-8 py-3 bg-slate-800 text-white rounded-lg font-semibold hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:t?"Guardar Cambios":"Guardar Proyecto"})})]})]})},dR=()=>{const[t,e]=ee.useState([]),[n,r]=ee.useState("list"),[s,a]=ee.useState(null),[i,o]=ee.useState(null),[l,A]=ee.useState(null);ee.useEffect(()=>{try{const I=localStorage.getItem(cR);I&&e(JSON.parse(I))}catch(I){console.error("Error al cargar planificaciones interdisciplinarias",I)}},[]);const d=I=>{e(I),localStorage.setItem(cR,JSON.stringify(I))},h=ee.useCallback((I,k)=>{const F=t.map(R=>R.id===I?{...R,actividades:R.actividades.map(L=>L.id===k.id?k:L)}:R);d(F)},[t]),p=I=>{d(s?t.map(k=>k.id===s.id?I:k):[{...I,id:crypto.randomUUID()},...t]),r("list"),a(null)},g=I=>{a(I),r("form")},w=I=>{window.confirm("Est seguro de eliminar esta planificacin?")&&d(t.filter(k=>k.id!==I))},b=()=>{a(null),r("form")},E=async I=>{o(I.id);const k=new an("p","mm","a4"),F=15,R=k.internal.pageSize.getWidth(),L=k.internal.pageSize.getHeight(),S=R-F*2;let N=F;const B=22,H=14,P=11,M=()=>{k.setFont("helvetica","normal"),k.setFontSize(9),k.setTextColor(150),k.text("Proyecto Interdisciplinario",F,12),k.text("Liceo Industrial de Recoleta",R-F,12,{align:"right"}),k.setDrawColor(220),k.line(F,15,R-F,15)},V=re=>{N+re>L-F&&(k.addPage(),M(),N=F+15)},G=(re,q)=>{if(!q||Array.isArray(q)&&q.length===0||typeof q=="string"&&!q.trim())return;const X=10;k.setFontSize(P);const ue=Array.isArray(q)?q.join(", "):String(q),j=k.splitTextToSize(ue,S),W=j.length*(P*.35*1.15);V(X+W+12),k.setFont("helvetica","bold"),k.setFontSize(H),k.setTextColor(40),k.text(re,F,N),N+=6,k.setDrawColor(200),k.line(F,N,F+30,N),N+=8,k.setFont("helvetica","normal"),k.setFontSize(P),k.setTextColor(80),k.text(j,F,N),N+=W+12};M(),N=F+20,k.setFont("helvetica","bold"),k.setFontSize(B),k.setTextColor(0);const oe=k.splitTextToSize(I.nombreProyecto,S);if(k.text(oe,F,N),N+=oe.length*(B*.4)+10,Fl(k,{startY:N,body:[[{content:"Docentes Responsables:",styles:{fontStyle:"bold"}},I.docentesResponsables],[{content:"Cursos Involucrados:",styles:{fontStyle:"bold"}},I.cursos.join(", ")],[{content:"Asignaturas:",styles:{fontStyle:"bold"}},I.asignaturas.join(", ")]],theme:"grid",styles:{fontSize:P,cellPadding:3,lineColor:[220,220,220]},columnStyles:{0:{cellWidth:50,fontStyle:"bold"}}}),N=k.lastAutoTable.finalY+15,G("Descripcin del Proyecto",I.descripcionProyecto),G("Objetivos de Aprendizaje",I.objetivos),G("Indicadores de Logro",I.indicadoresLogro),I.tareas&&I.tareas.length>0){const re=I.tareas.map(X=>[X.numero.toString(),X.instrucciones,X.fechaEntrega]),q=(re.length+1)*10+15;V(q+15),k.setFont("helvetica","bold"),k.setFontSize(H),k.setTextColor(40),k.text("Tareas para Estudiantes",F,N),N+=10,Fl(k,{startY:N,head:[["#","Instrucciones","Fecha de Entrega"]],body:re,theme:"striped",headStyles:{fillColor:[52,73,94]}}),N=k.lastAutoTable.finalY+15}const K=document.getElementById("gantt-container-vertical");if(K)try{const q=(await kj(K,{scale:2,backgroundColor:"#ffffff"})).toDataURL("image/png");k.addPage(),M(),N=F+15,k.setFont("helvetica","bold"),k.setFontSize(H),k.setTextColor(40),k.text("Cronograma del Proyecto",F,N),N+=10;const X=k.getImageProperties(q),ue=S,j=X.height*ue/X.width;k.addImage(q,"PNG",F,N,ue,j)}catch(re){console.error("Error generating timeline image:",re)}const Z=k.internal.pages.length-1;for(let re=1;re<=Z;re++)k.setPage(re),k.setFont("helvetica","normal"),k.setFontSize(9),k.setTextColor(150),k.text(`Pgina ${re} de ${Z}`,R-F,k.internal.pageSize.getHeight()-10,{align:"right"});k.save(`Proyecto_${I.nombreProyecto.replace(/\s/g,"_")}.pdf`),o(null)},T=({plan:I,onBack:k})=>{var M,V;const[F,R]=ee.useState([]),[L,S]=ee.useState([]),[N,B]=ee.useState(((M=I.tareas)==null?void 0:M[0])||null);ee.useEffect(()=>{try{const G=localStorage.getItem(Dwe);G&&R(JSON.parse(G));const oe=localStorage.getItem(AR);oe&&S(JSON.parse(oe))}catch(G){console.error(G)}},[]);const H=ee.useMemo(()=>F.filter(G=>G.profile===en.ESTUDIANTE&&I.cursos.includes(G.curso||"")).sort((G,oe)=>G.nombreCompleto.localeCompare(oe.nombreCompleto)),[F,I.cursos]),P=(G,oe)=>{const K=L.map(Z=>Z.id===G?{...Z,feedbackProfesor:oe,fechaFeedback:new Date().toISOString()}:Z);S(K),localStorage.setItem(AR,JSON.stringify(K))};return N?u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Entregas de Tareas"}),u.jsx("button",{onClick:k,className:"font-semibold",children:" Volver"})]}),u.jsx("select",{value:N.id,onChange:G=>{var oe;return B(((oe=I.tareas)==null?void 0:oe.find(K=>K.id===G.target.value))||null)},className:"mb-4 p-2 border rounded",children:(V=I.tareas)==null?void 0:V.map(G=>u.jsxs("option",{value:G.id,children:["Tarea ",G.numero,": ",G.instrucciones]},G.id))}),u.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:H.map(G=>{const oe=L.find(K=>K.planificacionId===I.id&&K.tareaId===N.id&&K.estudianteId===G.id);return u.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50",children:[u.jsxs("p",{className:"font-bold",children:[G.nombreCompleto," - ",oe!=null&&oe.completada?u.jsx("span",{className:"text-green-600",children:"Entregado"}):u.jsx("span",{className:"text-red-600",children:"Pendiente"})]}),oe&&u.jsxs("div",{className:"text-sm mt-2 space-y-2",children:[oe.observacionesEstudiante&&u.jsxs("p",{children:[u.jsx("strong",{children:"Comentario:"})," ",oe.observacionesEstudiante]}),oe.enlaceUrl&&u.jsxs("p",{children:[u.jsx("strong",{children:"Enlace:"})," ",u.jsx("a",{href:oe.enlaceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:oe.enlaceUrl})]}),oe.archivoAdjunto&&u.jsxs("p",{children:[u.jsx("strong",{children:"Archivo:"})," ",u.jsx("a",{href:oe.archivoAdjunto.url,download:oe.archivoAdjunto.nombre,className:"text-blue-500 hover:underline",children:oe.archivoAdjunto.nombre})]}),u.jsx("textarea",{placeholder:"Escribir retroalimentacin...",defaultValue:oe.feedbackProfesor||"",onBlur:K=>P(oe.id,K.target.value),rows:2,className:"w-full mt-2 p-1 border rounded"})]})]},G.id)})})]}):u.jsx("div",{className:"text-center p-8",children:"Este proyecto no tiene tareas asignadas."})};return l?u.jsx(T,{plan:l,onBack:()=>A(null)}):u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[n==="list"?u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Proyectos Interdisciplinarios"}),u.jsx("button",{onClick:b,className:"bg-slate-800 text-white font-bold py-2 px-5 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Crear Nuevo"})]}),u.jsx("div",{className:"space-y-4",children:t.map(I=>u.jsx("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:I.nombreProyecto}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Cursos: ",I.cursos.join(", ")]})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u.jsx("button",{onClick:()=>A(I),className:"text-green-600 hover:text-green-800 dark:text-green-400 font-semibold text-sm",children:"Ver Entregas"}),u.jsx("button",{onClick:()=>E(I),disabled:i===I.id,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 font-semibold text-sm disabled:opacity-50",children:i===I.id?"Exportando...":"Exportar PDF"}),u.jsx("button",{onClick:()=>g(I),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm",children:"Editar"}),u.jsx("button",{onClick:()=>w(I.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:""})]})]})},I.id))})]}):u.jsx(Gwe,{initialPlan:s,onSave:p}),t.length>0&&u.jsx("div",{id:"gantt-container-vertical",children:u.jsx(Uwe,{planificaciones:t,onActivityUpdate:h})})]})},dE="paolMaquinas",fR="paolRegistros",zwe=()=>{const[t,e]=ee.useState([]),[n,r]=ee.useState([]),s={fecha:new Date().toISOString().split("T")[0],curso:"",profesorResponsable:"",maquinaId:"",totalHoras:0,observaciones:""},[a,i]=ee.useState(s),[o,l]=ee.useState(null),A={nombre:"",especialidad:"Industrial"},[d,h]=ee.useState(A),[p,g]=ee.useState(null),[w,b]=ee.useState({maquinaId:"",curso:"",profesor:"",fecha:""});ee.useEffect(()=>{try{const M=localStorage.getItem(dE);if(M&&JSON.parse(M).length>0)e(JSON.parse(M));else{const G=[{id:crypto.randomUUID(),nombre:"Torno",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Fresadora",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Rectificadora",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Soldadora MIG",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Soldadora TIG",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Torno CNC",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Elevador",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Compresor",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Rectificadora",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Maqueta de motor",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Maqueta hidrulica",especialidad:"Automotriz"}];e(G),localStorage.setItem(dE,JSON.stringify(G))}const V=localStorage.getItem(fR);V&&r(JSON.parse(V))}catch(M){console.error("Error al cargar datos de Paol desde localStorage",M)}},[]);const E=ee.useCallback(M=>{e(M),localStorage.setItem(dE,JSON.stringify(M))},[]),T=ee.useCallback(M=>{r(M),localStorage.setItem(fR,JSON.stringify(M))},[]),I=M=>{M.preventDefault(),d.nombre.trim()&&(E(p?t.map(V=>V.id===p.id?{...p,...d}:V):[{...d,id:crypto.randomUUID()},...t]),h(A),g(null))},k=ee.useCallback(M=>{if(n.some(V=>V.maquinaId===M)){alert("No se puede eliminar una mquina con registros de uso. Elimine los registros primero.");return}window.confirm("Eliminar esta mquina?")&&E(t.filter(V=>V.id!==M))},[t,n,E]),F=M=>{M.preventDefault();const V=o||a;if(!V.curso||!V.profesorResponsable.trim()||!V.maquinaId||V.totalHoras<=0){alert("Curso, Profesor, Mquina y un Total de Horas mayor a cero son obligatorios.");return}T(o?n.map(G=>G.id===o.id?o:G):[{...a,id:crypto.randomUUID()},...n]),i(s),l(null)},R=ee.useCallback(M=>{window.confirm("Eliminar este registro de uso?")&&T(n.filter(V=>V.id!==M))},[n,T]),L=ee.useMemo(()=>n.filter(M=>(w.maquinaId===""||M.maquinaId===w.maquinaId)&&(w.curso===""||M.curso===w.curso)&&(w.profesor===""||M.profesorResponsable.toLowerCase().includes(w.profesor.toLowerCase()))&&(w.fecha===""||M.fecha===w.fecha)).sort((M,V)=>new Date(V.fecha).getTime()-new Date(M.fecha).getTime()),[n,w]),S=ee.useMemo(()=>new Map(t.map(M=>[M.id,M])),[t]),N=()=>{const M=L.map(oe=>{var K,Z;return{Fecha:oe.fecha,Curso:oe.curso,Profesor:oe.profesorResponsable,Mquina:((K=S.get(oe.maquinaId))==null?void 0:K.nombre)||"N/A",Especialidad:((Z=S.get(oe.maquinaId))==null?void 0:Z.especialidad)||"N/A","Total Horas":oe.totalHoras,Observaciones:oe.observaciones}}),V=Sl.json_to_sheet(M),G=Sl.book_new();Sl.book_append_sheet(G,V,"RegistrosPaol"),m4(G,"Registros_Paol.xlsx")},B=()=>{const M=new an;Fl(M,{head:[["Fecha","Curso","Profesor","Mquina","Especialidad","Total Horas","Observaciones"]],body:L.map(V=>{var G,oe;return[V.fecha,V.curso,V.profesorResponsable,((G=S.get(V.maquinaId))==null?void 0:G.nombre)||"N/A",((oe=S.get(V.maquinaId))==null?void 0:oe.especialidad)||"N/A",V.totalHoras,V.observaciones]}),margin:{top:20,right:10,bottom:20,left:10},didDrawPage:V=>{M.setFontSize(10),M.setFont("helvetica","bold"),M.text("LICEO INDUSTRIAL DE RECOLETA",V.settings.margin.left,15)}}),M.save("Registros_Paol.pdf")},H="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",P=()=>{const M=o||a,V=o?l:i;return u.jsxs("form",{onSubmit:F,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Fecha"}),u.jsx("input",{name:"fecha",type:"date",value:M.fecha,onChange:G=>V({...M,fecha:G.target.value}),className:H,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Curso"}),u.jsxs("select",{name:"curso",value:M.curso,onChange:G=>V({...M,curso:G.target.value}),className:H,required:!0,children:[u.jsx("option",{value:"",children:"Curso"}),Xs.map(G=>u.jsx("option",{children:G},G))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Profesor"}),u.jsxs("select",{name:"profesorResponsable",value:M.profesorResponsable,onChange:G=>V({...M,profesorResponsable:G.target.value}),className:H,required:!0,children:[u.jsx("option",{value:"",children:"Profesor Responsable"}),e_.map(G=>u.jsx("option",{value:G,children:G},G))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Mquina"}),u.jsxs("select",{name:"maquinaId",value:M.maquinaId,onChange:G=>V({...M,maquinaId:G.target.value}),className:H,required:!0,children:[u.jsx("option",{value:"",children:"Mquina"}),t.map(G=>u.jsx("option",{value:G.id,children:G.nombre},G.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Total de Horas"}),u.jsx("input",{name:"totalHoras",type:"number",value:M.totalHoras,onChange:G=>V({...M,totalHoras:Number(G.target.value)}),className:H,required:!0,min:"0.5",step:"0.5"})]}),u.jsxs("div",{className:"lg:col-span-3",children:[u.jsx("label",{className:"text-sm font-medium",children:"Observaciones"}),u.jsx("textarea",{name:"observaciones",value:M.observaciones,onChange:G=>V({...M,observaciones:G.target.value}),placeholder:"Observaciones...",className:`${H}`,rows:1})]})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[o&&u.jsx("button",{type:"button",onClick:()=>l(null),className:"bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700",children:o?"Actualizar":"Registrar"})]})]})};return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Paol: Registro de Uso de Mquinas"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:o?`Editando Registro #${o.id.substring(0,4)}`:"Nuevo Registro de Uso"}),P()]}),u.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Administrar Mquinas"}),u.jsxs("form",{onSubmit:I,className:"flex gap-2 mb-4",children:[u.jsx("input",{value:d.nombre,onChange:M=>h({...d,nombre:M.target.value}),placeholder:"Nombre mquina",className:H}),u.jsxs("select",{value:d.especialidad,onChange:M=>h({...d,especialidad:M.target.value}),className:H,children:[u.jsx("option",{value:"Industrial",children:"Industrial"}),u.jsx("option",{value:"Automotriz",children:"Automotriz"})]}),u.jsx("button",{type:"submit",className:"bg-slate-200 p-2 rounded-lg font-bold",children:p?"":"+"})]}),u.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto",children:t.map(M=>u.jsxs("li",{className:"flex justify-between items-center bg-slate-50 dark:bg-slate-700 p-2 rounded",children:[u.jsxs("span",{children:[M.nombre," ",u.jsxs("span",{className:"text-xs text-slate-500",children:["(",M.especialidad,")"]})]}),u.jsxs("div",{className:"space-x-2",children:[u.jsx("button",{onClick:()=>{g(M),h(M)},className:"text-blue-500",children:""}),u.jsx("button",{onClick:()=>k(M.id),className:"text-red-500",children:""})]})]},M.id))})]}),u.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Historial de Uso"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:N,className:"text-sm bg-green-100 text-green-700 font-semibold py-1 px-3 rounded-lg",children:"Excel"}),u.jsx("button",{onClick:B,className:"text-sm bg-red-100 text-red-700 font-semibold py-1 px-3 rounded-lg",children:"PDF"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-4",children:[u.jsx("input",{type:"date",value:w.fecha,onChange:M=>b({...w,fecha:M.target.value}),className:H}),u.jsxs("select",{value:w.curso,onChange:M=>b({...w,curso:M.target.value}),className:H,children:[u.jsx("option",{value:"",children:"Todos los Cursos"}),Xs.map(M=>u.jsx("option",{children:M},M))]}),u.jsxs("select",{value:w.maquinaId,onChange:M=>b({...w,maquinaId:M.target.value}),className:H,children:[u.jsx("option",{value:"",children:"Todas las Mquinas"}),t.map(M=>u.jsx("option",{value:M.id,children:M.nombre},M.id))]}),u.jsx("input",{value:w.profesor,onChange:M=>b({...w,profesor:M.target.value}),placeholder:"Buscar profesor...",className:H})]}),u.jsx("div",{className:"max-h-96 overflow-y-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Fecha"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Mquina"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Profesor"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Total Horas"}),u.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-slate-500 uppercase",children:"Acciones"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:L.map(M=>{var V;return u.jsxs("tr",{children:[u.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:M.fecha}),u.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium",children:((V=S.get(M.maquinaId))==null?void 0:V.nombre)||"N/A"}),u.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:[M.profesorResponsable," (",M.curso,")"]}),u.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:M.totalHoras}),u.jsxs("td",{className:"px-3 py-2 text-center",children:[u.jsx("button",{onClick:()=>l(M),className:"text-blue-500",children:""}),u.jsx("button",{onClick:()=>R(M.id),className:"text-red-500 ml-2",children:""})]})]},M.id)})})]})})]})]})]})};function qi(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=qi(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var fE={exports:{}},hE={},mE={exports:{}},pE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hR;function Kwe(){if(hR)return pE;hR=1;var t=fx();function e(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,a=t.useLayoutEffect,i=t.useDebugValue;function o(h,p){var g=p(),w=r({inst:{value:g,getSnapshot:p}}),b=w[0].inst,E=w[1];return a(function(){b.value=g,b.getSnapshot=p,l(b)&&E({inst:b})},[h,g,p]),s(function(){return l(b)&&E({inst:b}),h(function(){l(b)&&E({inst:b})})},[h]),i(g),g}function l(h){var p=h.getSnapshot;h=h.value;try{var g=p();return!n(h,g)}catch{return!0}}function A(h,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?A:o;return pE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,pE}var mR;function qwe(){return mR||(mR=1,mE.exports=Kwe()),mE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pR;function Wwe(){if(pR)return hE;pR=1;var t=fx(),e=qwe();function n(A,d){return A===d&&(A!==0||1/A===1/d)||A!==A&&d!==d}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,a=t.useRef,i=t.useEffect,o=t.useMemo,l=t.useDebugValue;return hE.useSyncExternalStoreWithSelector=function(A,d,h,p,g){var w=a(null);if(w.current===null){var b={hasValue:!1,value:null};w.current=b}else b=w.current;w=o(function(){function T(L){if(!I){if(I=!0,k=L,L=p(L),g!==void 0&&b.hasValue){var S=b.value;if(g(S,L))return F=S}return F=L}if(S=F,r(k,L))return S;var N=p(L);return g!==void 0&&g(S,N)?(k=L,S):(k=L,F=N)}var I=!1,k,F,R=h===void 0?null:h;return[function(){return T(d())},R===null?void 0:function(){return T(R())}]},[d,h,p,g]);var E=s(A,w[0],w[1]);return i(function(){b.hasValue=!0,b.value=E},[E]),l(E),E},hE}var gR;function $we(){return gR||(gR=1,fE.exports=Wwe()),fE.exports}var Ywe=$we();const Jwe=BS(Ywe),Xwe={},xR=t=>{let e;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const g=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(w=>w(e,g))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>A,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Xwe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},A=e=t(r,s,l);return l},Zwe=t=>t?xR(t):xR,{useDebugValue:ebe}=ut,{useSyncExternalStoreWithSelector:tbe}=Jwe,nbe=t=>t;function Ij(t,e=nbe,n){const r=tbe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return ebe(r),r}const vR=(t,e)=>{const n=Zwe(t),r=(s,a=e)=>Ij(n,s,a);return Object.assign(r,n),r},rbe=(t,e)=>t?vR(t,e):vR;function Mi(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var sbe={value:()=>{}};function bw(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new A2(n)}function A2(t){this._=t}function abe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}A2.prototype=bw.prototype={constructor:A2,on:function(t,e){var n=this._,r=abe(t+"",n),s,a=-1,i=r.length;if(arguments.length<2){for(;++a<i;)if((s=(t=r[a]).type)&&(s=ibe(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<i;)if(s=(t=r[a]).type)n[s]=yR(n[s],t.name,e);else if(e==null)for(s in n)n[s]=yR(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new A2(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,a;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,s=a.length;r<s;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,a=r.length;s<a;++s)r[s].value.apply(e,n)}};function ibe(t,e){for(var n=0,r=t.length,s;n<r;++n)if((s=t[n]).name===e)return s.value}function yR(t,e,n){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=sbe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var cS="http://www.w3.org/1999/xhtml";const wR={svg:"http://www.w3.org/2000/svg",xhtml:cS,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Cw(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),wR.hasOwnProperty(e)?{space:wR[e],local:t}:t}function obe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===cS&&e.documentElement.namespaceURI===cS?e.createElement(t):e.createElementNS(n,t)}}function lbe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Fj(t){var e=Cw(t);return(e.local?lbe:obe)(e)}function cbe(){}function S4(t){return t==null?cbe:function(){return this.querySelector(t)}}function Abe(t){typeof t!="function"&&(t=S4(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],i=a.length,o=r[s]=new Array(i),l,A,d=0;d<i;++d)(l=a[d])&&(A=t.call(l,l.__data__,d,a))&&("__data__"in l&&(A.__data__=l.__data__),o[d]=A);return new qo(r,this._parents)}function ube(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function dbe(){return[]}function Rj(t){return t==null?dbe:function(){return this.querySelectorAll(t)}}function fbe(t){return function(){return ube(t.apply(this,arguments))}}function hbe(t){typeof t=="function"?t=fbe(t):t=Rj(t);for(var e=this._groups,n=e.length,r=[],s=[],a=0;a<n;++a)for(var i=e[a],o=i.length,l,A=0;A<o;++A)(l=i[A])&&(r.push(t.call(l,l.__data__,A,i)),s.push(l));return new qo(r,s)}function Dj(t){return function(){return this.matches(t)}}function Uj(t){return function(e){return e.matches(t)}}var mbe=Array.prototype.find;function pbe(t){return function(){return mbe.call(this.children,t)}}function gbe(){return this.firstElementChild}function xbe(t){return this.select(t==null?gbe:pbe(typeof t=="function"?t:Uj(t)))}var vbe=Array.prototype.filter;function ybe(){return Array.from(this.children)}function wbe(t){return function(){return vbe.call(this.children,t)}}function bbe(t){return this.selectAll(t==null?ybe:wbe(typeof t=="function"?t:Uj(t)))}function Cbe(t){typeof t!="function"&&(t=Dj(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],i=a.length,o=r[s]=[],l,A=0;A<i;++A)(l=a[A])&&t.call(l,l.__data__,A,a)&&o.push(l);return new qo(r,this._parents)}function Lj(t){return new Array(t.length)}function Ebe(){return new qo(this._enter||this._groups.map(Lj),this._parents)}function fy(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}fy.prototype={constructor:fy,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function _be(t){return function(){return t}}function Sbe(t,e,n,r,s,a){for(var i=0,o,l=e.length,A=a.length;i<A;++i)(o=e[i])?(o.__data__=a[i],r[i]=o):n[i]=new fy(t,a[i]);for(;i<l;++i)(o=e[i])&&(s[i]=o)}function Tbe(t,e,n,r,s,a,i){var o,l,A=new Map,d=e.length,h=a.length,p=new Array(d),g;for(o=0;o<d;++o)(l=e[o])&&(p[o]=g=i.call(l,l.__data__,o,e)+"",A.has(g)?s[o]=l:A.set(g,l));for(o=0;o<h;++o)g=i.call(t,a[o],o,a)+"",(l=A.get(g))?(r[o]=l,l.__data__=a[o],A.delete(g)):n[o]=new fy(t,a[o]);for(o=0;o<d;++o)(l=e[o])&&A.get(p[o])===l&&(s[o]=l)}function Bbe(t){return t.__data__}function Nbe(t,e){if(!arguments.length)return Array.from(this,Bbe);var n=e?Tbe:Sbe,r=this._parents,s=this._groups;typeof t!="function"&&(t=_be(t));for(var a=s.length,i=new Array(a),o=new Array(a),l=new Array(a),A=0;A<a;++A){var d=r[A],h=s[A],p=h.length,g=kbe(t.call(d,d&&d.__data__,A,r)),w=g.length,b=o[A]=new Array(w),E=i[A]=new Array(w),T=l[A]=new Array(p);n(d,h,b,E,T,g,e);for(var I=0,k=0,F,R;I<w;++I)if(F=b[I]){for(I>=k&&(k=I+1);!(R=E[k])&&++k<w;);F._next=R||null}}return i=new qo(i,r),i._enter=o,i._exit=l,i}function kbe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ibe(){return new qo(this._exit||this._groups.map(Lj),this._parents)}function Fbe(t,e,n){var r=this.enter(),s=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?a.remove():n(a),r&&s?r.merge(s).order():s}function Rbe(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,s=n.length,a=r.length,i=Math.min(s,a),o=new Array(s),l=0;l<i;++l)for(var A=n[l],d=r[l],h=A.length,p=o[l]=new Array(h),g,w=0;w<h;++w)(g=A[w]||d[w])&&(p[w]=g);for(;l<s;++l)o[l]=n[l];return new qo(o,this._parents)}function Dbe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],s=r.length-1,a=r[s],i;--s>=0;)(i=r[s])&&(a&&i.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(i,a),a=i);return this}function Ube(t){t||(t=Lbe);function e(h,p){return h&&p?t(h.__data__,p.__data__):!h-!p}for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a){for(var i=n[a],o=i.length,l=s[a]=new Array(o),A,d=0;d<o;++d)(A=i[d])&&(l[d]=A);l.sort(e)}return new qo(s,this._parents).order()}function Lbe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Mbe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Pbe(){return Array.from(this)}function jbe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,a=r.length;s<a;++s){var i=r[s];if(i)return i}return null}function Obe(){let t=0;for(const e of this)++t;return t}function Qbe(){return!this.node()}function Hbe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],a=0,i=s.length,o;a<i;++a)(o=s[a])&&t.call(o,o.__data__,a,s);return this}function Vbe(t){return function(){this.removeAttribute(t)}}function Gbe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zbe(t,e){return function(){this.setAttribute(t,e)}}function Kbe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function qbe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Wbe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function $be(t,e){var n=Cw(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Gbe:Vbe:typeof e=="function"?n.local?Wbe:qbe:n.local?Kbe:zbe)(n,e))}function Mj(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ybe(t){return function(){this.style.removeProperty(t)}}function Jbe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Xbe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Zbe(t,e,n){return arguments.length>1?this.each((e==null?Ybe:typeof e=="function"?Xbe:Jbe)(t,e,n??"")):ym(this.node(),t)}function ym(t,e){return t.style.getPropertyValue(e)||Mj(t).getComputedStyle(t,null).getPropertyValue(e)}function eCe(t){return function(){delete this[t]}}function tCe(t,e){return function(){this[t]=e}}function nCe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function rCe(t,e){return arguments.length>1?this.each((e==null?eCe:typeof e=="function"?nCe:tCe)(t,e)):this.node()[t]}function Pj(t){return t.trim().split(/^|\s+/)}function T4(t){return t.classList||new jj(t)}function jj(t){this._node=t,this._names=Pj(t.getAttribute("class")||"")}jj.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Oj(t,e){for(var n=T4(t),r=-1,s=e.length;++r<s;)n.add(e[r])}function Qj(t,e){for(var n=T4(t),r=-1,s=e.length;++r<s;)n.remove(e[r])}function sCe(t){return function(){Oj(this,t)}}function aCe(t){return function(){Qj(this,t)}}function iCe(t,e){return function(){(e.apply(this,arguments)?Oj:Qj)(this,t)}}function oCe(t,e){var n=Pj(t+"");if(arguments.length<2){for(var r=T4(this.node()),s=-1,a=n.length;++s<a;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?iCe:e?sCe:aCe)(n,e))}function lCe(){this.textContent=""}function cCe(t){return function(){this.textContent=t}}function ACe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function uCe(t){return arguments.length?this.each(t==null?lCe:(typeof t=="function"?ACe:cCe)(t)):this.node().textContent}function dCe(){this.innerHTML=""}function fCe(t){return function(){this.innerHTML=t}}function hCe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function mCe(t){return arguments.length?this.each(t==null?dCe:(typeof t=="function"?hCe:fCe)(t)):this.node().innerHTML}function pCe(){this.nextSibling&&this.parentNode.appendChild(this)}function gCe(){return this.each(pCe)}function xCe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vCe(){return this.each(xCe)}function yCe(t){var e=typeof t=="function"?t:Fj(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function wCe(){return null}function bCe(t,e){var n=typeof t=="function"?t:Fj(t),r=e==null?wCe:typeof e=="function"?e:S4(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function CCe(){var t=this.parentNode;t&&t.removeChild(this)}function ECe(){return this.each(CCe)}function _Ce(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function SCe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function TCe(t){return this.select(t?SCe:_Ce)}function BCe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function NCe(t){return function(e){t.call(this,e,this.__data__)}}function kCe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ICe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,a;n<s;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function FCe(t,e,n){return function(){var r=this.__on,s,a=NCe(e);if(r){for(var i=0,o=r.length;i<o;++i)if((s=r[i]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=e;return}}this.addEventListener(t.type,a,n),s={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(s):this.__on=[s]}}function RCe(t,e,n){var r=kCe(t+""),s,a=r.length,i;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,A=o.length,d;l<A;++l)for(s=0,d=o[l];s<a;++s)if((i=r[s]).type===d.type&&i.name===d.name)return d.value}return}for(o=e?FCe:ICe,s=0;s<a;++s)this.each(o(r[s],e,n));return this}function Hj(t,e,n){var r=Mj(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function DCe(t,e){return function(){return Hj(this,t,e)}}function UCe(t,e){return function(){return Hj(this,t,e.apply(this,arguments))}}function LCe(t,e){return this.each((typeof e=="function"?UCe:DCe)(t,e))}function*MCe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,a=r.length,i;s<a;++s)(i=r[s])&&(yield i)}var Vj=[null];function qo(t,e){this._groups=t,this._parents=e}function Lx(){return new qo([[document.documentElement]],Vj)}function PCe(){return this}qo.prototype=Lx.prototype={constructor:qo,select:Abe,selectAll:hbe,selectChild:xbe,selectChildren:bbe,filter:Cbe,data:Nbe,enter:Ebe,exit:Ibe,join:Fbe,merge:Rbe,selection:PCe,order:Dbe,sort:Ube,call:Mbe,nodes:Pbe,node:jbe,size:Obe,empty:Qbe,each:Hbe,attr:$be,style:Zbe,property:rCe,classed:oCe,text:uCe,html:mCe,raise:gCe,lower:vCe,append:yCe,insert:bCe,remove:ECe,clone:TCe,datum:BCe,on:RCe,dispatch:LCe,[Symbol.iterator]:MCe};function uc(t){return typeof t=="string"?new qo([[document.querySelector(t)]],[document.documentElement]):new qo([[t]],Vj)}function jCe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function cA(t,e){if(t=jCe(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const OCe={passive:!1},ix={capture:!0,passive:!1};function gE(t){t.stopImmediatePropagation()}function sm(t){t.preventDefault(),t.stopImmediatePropagation()}function Gj(t){var e=t.document.documentElement,n=uc(t).on("dragstart.drag",sm,ix);"onselectstart"in e?n.on("selectstart.drag",sm,ix):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function zj(t,e){var n=t.document.documentElement,r=uc(t).on("dragstart.drag",null);e&&(r.on("click.drag",sm,ix),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Rv=t=>()=>t;function AS(t,{sourceEvent:e,subject:n,target:r,identifier:s,active:a,x:i,y:o,dx:l,dy:A,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:A,enumerable:!0,configurable:!0},_:{value:d}})}AS.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function QCe(t){return!t.ctrlKey&&!t.button}function HCe(){return this.parentNode}function VCe(t,e){return e??{x:t.x,y:t.y}}function GCe(){return navigator.maxTouchPoints||"ontouchstart"in this}function zCe(){var t=QCe,e=HCe,n=VCe,r=GCe,s={},a=bw("start","drag","end"),i=0,o,l,A,d,h=0;function p(F){F.on("mousedown.drag",g).filter(r).on("touchstart.drag",E).on("touchmove.drag",T,OCe).on("touchend.drag touchcancel.drag",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(F,R){if(!(d||!t.call(this,F,R))){var L=k(this,e.call(this,F,R),F,R,"mouse");L&&(uc(F.view).on("mousemove.drag",w,ix).on("mouseup.drag",b,ix),Gj(F.view),gE(F),A=!1,o=F.clientX,l=F.clientY,L("start",F))}}function w(F){if(sm(F),!A){var R=F.clientX-o,L=F.clientY-l;A=R*R+L*L>h}s.mouse("drag",F)}function b(F){uc(F.view).on("mousemove.drag mouseup.drag",null),zj(F.view,A),sm(F),s.mouse("end",F)}function E(F,R){if(t.call(this,F,R)){var L=F.changedTouches,S=e.call(this,F,R),N=L.length,B,H;for(B=0;B<N;++B)(H=k(this,S,F,R,L[B].identifier,L[B]))&&(gE(F),H("start",F,L[B]))}}function T(F){var R=F.changedTouches,L=R.length,S,N;for(S=0;S<L;++S)(N=s[R[S].identifier])&&(sm(F),N("drag",F,R[S]))}function I(F){var R=F.changedTouches,L=R.length,S,N;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),S=0;S<L;++S)(N=s[R[S].identifier])&&(gE(F),N("end",F,R[S]))}function k(F,R,L,S,N,B){var H=a.copy(),P=cA(B||L,R),M,V,G;if((G=n.call(F,new AS("beforestart",{sourceEvent:L,target:p,identifier:N,active:i,x:P[0],y:P[1],dx:0,dy:0,dispatch:H}),S))!=null)return M=G.x-P[0]||0,V=G.y-P[1]||0,function oe(K,Z,re){var q=P,X;switch(K){case"start":s[N]=oe,X=i++;break;case"end":delete s[N],--i;case"drag":P=cA(re||Z,R),X=i;break}H.call(K,F,new AS(K,{sourceEvent:Z,subject:G,target:p,identifier:N,active:X,x:P[0]+M,y:P[1]+V,dx:P[0]-q[0],dy:P[1]-q[1],dispatch:H}),S)}}return p.filter=function(F){return arguments.length?(t=typeof F=="function"?F:Rv(!!F),p):t},p.container=function(F){return arguments.length?(e=typeof F=="function"?F:Rv(F),p):e},p.subject=function(F){return arguments.length?(n=typeof F=="function"?F:Rv(F),p):n},p.touchable=function(F){return arguments.length?(r=typeof F=="function"?F:Rv(!!F),p):r},p.on=function(){var F=a.on.apply(a,arguments);return F===a?p:F},p.clickDistance=function(F){return arguments.length?(h=(F=+F)*F,p):Math.sqrt(h)},p}function B4(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Kj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Mx(){}var ox=.7,hy=1/ox,am="\\s*([+-]?\\d+)\\s*",lx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KCe=/^#([0-9a-f]{3,8})$/,qCe=new RegExp(`^rgb\\(${am},${am},${am}\\)$`),WCe=new RegExp(`^rgb\\(${vA},${vA},${vA}\\)$`),$Ce=new RegExp(`^rgba\\(${am},${am},${am},${lx}\\)$`),YCe=new RegExp(`^rgba\\(${vA},${vA},${vA},${lx}\\)$`),JCe=new RegExp(`^hsl\\(${lx},${vA},${vA}\\)$`),XCe=new RegExp(`^hsla\\(${lx},${vA},${vA},${lx}\\)$`),bR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};B4(Mx,cx,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:CR,formatHex:CR,formatHex8:ZCe,formatHsl:eEe,formatRgb:ER,toString:ER});function CR(){return this.rgb().formatHex()}function ZCe(){return this.rgb().formatHex8()}function eEe(){return qj(this).formatHsl()}function ER(){return this.rgb().formatRgb()}function cx(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=KCe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?_R(e):n===3?new ho(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Dv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Dv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=qCe.exec(t))?new ho(e[1],e[2],e[3],1):(e=WCe.exec(t))?new ho(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$Ce.exec(t))?Dv(e[1],e[2],e[3],e[4]):(e=YCe.exec(t))?Dv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=JCe.exec(t))?BR(e[1],e[2]/100,e[3]/100,1):(e=XCe.exec(t))?BR(e[1],e[2]/100,e[3]/100,e[4]):bR.hasOwnProperty(t)?_R(bR[t]):t==="transparent"?new ho(NaN,NaN,NaN,0):null}function _R(t){return new ho(t>>16&255,t>>8&255,t&255,1)}function Dv(t,e,n,r){return r<=0&&(t=e=n=NaN),new ho(t,e,n,r)}function tEe(t){return t instanceof Mx||(t=cx(t)),t?(t=t.rgb(),new ho(t.r,t.g,t.b,t.opacity)):new ho}function uS(t,e,n,r){return arguments.length===1?tEe(t):new ho(t,e,n,r??1)}function ho(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}B4(ho,uS,Kj(Mx,{brighter(t){return t=t==null?hy:Math.pow(hy,t),new ho(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ox:Math.pow(ox,t),new ho(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ho(th(this.r),th(this.g),th(this.b),my(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SR,formatHex:SR,formatHex8:nEe,formatRgb:TR,toString:TR}));function SR(){return`#${Gf(this.r)}${Gf(this.g)}${Gf(this.b)}`}function nEe(){return`#${Gf(this.r)}${Gf(this.g)}${Gf(this.b)}${Gf((isNaN(this.opacity)?1:this.opacity)*255)}`}function TR(){const t=my(this.opacity);return`${t===1?"rgb(":"rgba("}${th(this.r)}, ${th(this.g)}, ${th(this.b)}${t===1?")":`, ${t})`}`}function my(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function th(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gf(t){return t=th(t),(t<16?"0":"")+t.toString(16)}function BR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new dc(t,e,n,r)}function qj(t){if(t instanceof dc)return new dc(t.h,t.s,t.l,t.opacity);if(t instanceof Mx||(t=cx(t)),!t)return new dc;if(t instanceof dc)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),a=Math.max(e,n,r),i=NaN,o=a-s,l=(a+s)/2;return o?(e===a?i=(n-r)/o+(n<r)*6:n===a?i=(r-e)/o+2:i=(e-n)/o+4,o/=l<.5?a+s:2-a-s,i*=60):o=l>0&&l<1?0:i,new dc(i,o,l,t.opacity)}function rEe(t,e,n,r){return arguments.length===1?qj(t):new dc(t,e,n,r??1)}function dc(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}B4(dc,rEe,Kj(Mx,{brighter(t){return t=t==null?hy:Math.pow(hy,t),new dc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ox:Math.pow(ox,t),new dc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new ho(xE(t>=240?t-240:t+120,s,r),xE(t,s,r),xE(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new dc(NR(this.h),Uv(this.s),Uv(this.l),my(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=my(this.opacity);return`${t===1?"hsl(":"hsla("}${NR(this.h)}, ${Uv(this.s)*100}%, ${Uv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function NR(t){return t=(t||0)%360,t<0?t+360:t}function Uv(t){return Math.max(0,Math.min(1,t||0))}function xE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Wj=t=>()=>t;function sEe(t,e){return function(n){return t+n*e}}function aEe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function iEe(t){return(t=+t)==1?$j:function(e,n){return n-e?aEe(e,n,t):Wj(isNaN(e)?n:e)}}function $j(t,e){var n=e-t;return n?sEe(t,n):Wj(isNaN(t)?e:t)}const kR=function t(e){var n=iEe(e);function r(s,a){var i=n((s=uS(s)).r,(a=uS(a)).r),o=n(s.g,a.g),l=n(s.b,a.b),A=$j(s.opacity,a.opacity);return function(d){return s.r=i(d),s.g=o(d),s.b=l(d),s.opacity=A(d),s+""}}return r.gamma=t,r}(1);function vd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var dS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vE=new RegExp(dS.source,"g");function oEe(t){return function(){return t}}function lEe(t){return function(e){return t(e)+""}}function cEe(t,e){var n=dS.lastIndex=vE.lastIndex=0,r,s,a,i=-1,o=[],l=[];for(t=t+"",e=e+"";(r=dS.exec(t))&&(s=vE.exec(e));)(a=s.index)>n&&(a=e.slice(n,a),o[i]?o[i]+=a:o[++i]=a),(r=r[0])===(s=s[0])?o[i]?o[i]+=s:o[++i]=s:(o[++i]=null,l.push({i,x:vd(r,s)})),n=vE.lastIndex;return n<e.length&&(a=e.slice(n),o[i]?o[i]+=a:o[++i]=a),o.length<2?l[0]?lEe(l[0].x):oEe(e):(e=l.length,function(A){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(A);return o.join("")})}var IR=180/Math.PI,fS={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yj(t,e,n,r,s,a){var i,o,l;return(i=Math.sqrt(t*t+e*e))&&(t/=i,e/=i),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,i=-i),{translateX:s,translateY:a,rotate:Math.atan2(e,t)*IR,skewX:Math.atan(l)*IR,scaleX:i,scaleY:o}}var Lv;function AEe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?fS:Yj(e.a,e.b,e.c,e.d,e.e,e.f)}function uEe(t){return t==null||(Lv||(Lv=document.createElementNS("http://www.w3.org/2000/svg","g")),Lv.setAttribute("transform",t),!(t=Lv.transform.baseVal.consolidate()))?fS:(t=t.matrix,Yj(t.a,t.b,t.c,t.d,t.e,t.f))}function Jj(t,e,n,r){function s(A){return A.length?A.pop()+" ":""}function a(A,d,h,p,g,w){if(A!==h||d!==p){var b=g.push("translate(",null,e,null,n);w.push({i:b-4,x:vd(A,h)},{i:b-2,x:vd(d,p)})}else(h||p)&&g.push("translate("+h+e+p+n)}function i(A,d,h,p){A!==d?(A-d>180?d+=360:d-A>180&&(A+=360),p.push({i:h.push(s(h)+"rotate(",null,r)-2,x:vd(A,d)})):d&&h.push(s(h)+"rotate("+d+r)}function o(A,d,h,p){A!==d?p.push({i:h.push(s(h)+"skewX(",null,r)-2,x:vd(A,d)}):d&&h.push(s(h)+"skewX("+d+r)}function l(A,d,h,p,g,w){if(A!==h||d!==p){var b=g.push(s(g)+"scale(",null,",",null,")");w.push({i:b-4,x:vd(A,h)},{i:b-2,x:vd(d,p)})}else(h!==1||p!==1)&&g.push(s(g)+"scale("+h+","+p+")")}return function(A,d){var h=[],p=[];return A=t(A),d=t(d),a(A.translateX,A.translateY,d.translateX,d.translateY,h,p),i(A.rotate,d.rotate,h,p),o(A.skewX,d.skewX,h,p),l(A.scaleX,A.scaleY,d.scaleX,d.scaleY,h,p),A=d=null,function(g){for(var w=-1,b=p.length,E;++w<b;)h[(E=p[w]).i]=E.x(g);return h.join("")}}}var dEe=Jj(AEe,"px, ","px)","deg)"),fEe=Jj(uEe,", ",")",")"),hEe=1e-12;function FR(t){return((t=Math.exp(t))+1/t)/2}function mEe(t){return((t=Math.exp(t))-1/t)/2}function pEe(t){return((t=Math.exp(2*t))-1)/(t+1)}const gEe=function t(e,n,r){function s(a,i){var o=a[0],l=a[1],A=a[2],d=i[0],h=i[1],p=i[2],g=d-o,w=h-l,b=g*g+w*w,E,T;if(b<hEe)T=Math.log(p/A)/e,E=function(S){return[o+S*g,l+S*w,A*Math.exp(e*S*T)]};else{var I=Math.sqrt(b),k=(p*p-A*A+r*b)/(2*A*n*I),F=(p*p-A*A-r*b)/(2*p*n*I),R=Math.log(Math.sqrt(k*k+1)-k),L=Math.log(Math.sqrt(F*F+1)-F);T=(L-R)/e,E=function(S){var N=S*T,B=FR(R),H=A/(n*I)*(B*pEe(e*N+R)-mEe(R));return[o+H*g,l+H*w,A*B/FR(e*N+R)]}}return E.duration=T*1e3*e/Math.SQRT2,E}return s.rho=function(a){var i=Math.max(.001,+a),o=i*i,l=o*o;return t(i,o,l)},s}(Math.SQRT2,2,4);var wm=0,ig=0,Mp=0,Xj=1e3,py,og,gy=0,hh=0,Ew=0,Ax=typeof performance=="object"&&performance.now?performance:Date,Zj=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function N4(){return hh||(Zj(xEe),hh=Ax.now()+Ew)}function xEe(){hh=0}function xy(){this._call=this._time=this._next=null}xy.prototype=eO.prototype={constructor:xy,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?N4():+n)+(e==null?0:+e),!this._next&&og!==this&&(og?og._next=this:py=this,og=this),this._call=t,this._time=n,hS()},stop:function(){this._call&&(this._call=null,this._time=1/0,hS())}};function eO(t,e,n){var r=new xy;return r.restart(t,e,n),r}function vEe(){N4(),++wm;for(var t=py,e;t;)(e=hh-t._time)>=0&&t._call.call(void 0,e),t=t._next;--wm}function RR(){hh=(gy=Ax.now())+Ew,wm=ig=0;try{vEe()}finally{wm=0,wEe(),hh=0}}function yEe(){var t=Ax.now(),e=t-gy;e>Xj&&(Ew-=e,gy=t)}function wEe(){for(var t,e=py,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:py=n);og=t,hS(r)}function hS(t){if(!wm){ig&&(ig=clearTimeout(ig));var e=t-hh;e>24?(t<1/0&&(ig=setTimeout(RR,t-Ax.now()-Ew)),Mp&&(Mp=clearInterval(Mp))):(Mp||(gy=Ax.now(),Mp=setInterval(yEe,Xj)),wm=1,Zj(RR))}}function DR(t,e,n){var r=new xy;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,n),r}var bEe=bw("start","end","cancel","interrupt"),CEe=[],tO=0,UR=1,mS=2,u2=3,LR=4,pS=5,d2=6;function _w(t,e,n,r,s,a){var i=t.__transition;if(!i)t.__transition={};else if(n in i)return;EEe(t,n,{name:e,index:r,group:s,on:bEe,tween:CEe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:tO})}function k4(t,e){var n=_c(t,e);if(n.state>tO)throw new Error("too late; already scheduled");return n}function SA(t,e){var n=_c(t,e);if(n.state>u2)throw new Error("too late; already running");return n}function _c(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function EEe(t,e,n){var r=t.__transition,s;r[e]=n,n.timer=eO(a,0,n.time);function a(A){n.state=UR,n.timer.restart(i,n.delay,n.time),n.delay<=A&&i(A-n.delay)}function i(A){var d,h,p,g;if(n.state!==UR)return l();for(d in r)if(g=r[d],g.name===n.name){if(g.state===u2)return DR(i);g.state===LR?(g.state=d2,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete r[d]):+d<e&&(g.state=d2,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete r[d])}if(DR(function(){n.state===u2&&(n.state=LR,n.timer.restart(o,n.delay,n.time),o(A))}),n.state=mS,n.on.call("start",t,t.__data__,n.index,n.group),n.state===mS){for(n.state=u2,s=new Array(p=n.tween.length),d=0,h=-1;d<p;++d)(g=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(s[++h]=g);s.length=h+1}}function o(A){for(var d=A<n.duration?n.ease.call(null,A/n.duration):(n.timer.restart(l),n.state=pS,1),h=-1,p=s.length;++h<p;)s[h].call(t,d);n.state===pS&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=d2,n.timer.stop(),delete r[e];for(var A in r)return;delete t.__transition}}function f2(t,e){var n=t.__transition,r,s,a=!0,i;if(n){e=e==null?null:e+"";for(i in n){if((r=n[i]).name!==e){a=!1;continue}s=r.state>mS&&r.state<pS,r.state=d2,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[i]}a&&delete t.__transition}}function _Ee(t){return this.each(function(){f2(this,t)})}function SEe(t,e){var n,r;return function(){var s=SA(this,t),a=s.tween;if(a!==n){r=n=a;for(var i=0,o=r.length;i<o;++i)if(r[i].name===e){r=r.slice(),r.splice(i,1);break}}s.tween=r}}function TEe(t,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var a=SA(this,t),i=a.tween;if(i!==r){s=(r=i).slice();for(var o={name:e,value:n},l=0,A=s.length;l<A;++l)if(s[l].name===e){s[l]=o;break}l===A&&s.push(o)}a.tween=s}}function BEe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=_c(this.node(),n).tween,s=0,a=r.length,i;s<a;++s)if((i=r[s]).name===t)return i.value;return null}return this.each((e==null?SEe:TEe)(n,t,e))}function I4(t,e,n){var r=t._id;return t.each(function(){var s=SA(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return _c(s,r).value[e]}}function nO(t,e){var n;return(typeof e=="number"?vd:e instanceof cx?kR:(n=cx(e))?(e=n,kR):cEe)(t,e)}function NEe(t){return function(){this.removeAttribute(t)}}function kEe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function IEe(t,e,n){var r,s=n+"",a;return function(){var i=this.getAttribute(t);return i===s?null:i===r?a:a=e(r=i,n)}}function FEe(t,e,n){var r,s=n+"",a;return function(){var i=this.getAttributeNS(t.space,t.local);return i===s?null:i===r?a:a=e(r=i,n)}}function REe(t,e,n){var r,s,a;return function(){var i,o=n(this),l;return o==null?void this.removeAttribute(t):(i=this.getAttribute(t),l=o+"",i===l?null:i===r&&l===s?a:(s=l,a=e(r=i,o)))}}function DEe(t,e,n){var r,s,a;return function(){var i,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(i=this.getAttributeNS(t.space,t.local),l=o+"",i===l?null:i===r&&l===s?a:(s=l,a=e(r=i,o)))}}function UEe(t,e){var n=Cw(t),r=n==="transform"?fEe:nO;return this.attrTween(t,typeof e=="function"?(n.local?DEe:REe)(n,r,I4(this,"attr."+t,e)):e==null?(n.local?kEe:NEe)(n):(n.local?FEe:IEe)(n,r,e))}function LEe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function MEe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function PEe(t,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&MEe(t,a)),n}return s._value=e,s}function jEe(t,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&LEe(t,a)),n}return s._value=e,s}function OEe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Cw(t);return this.tween(n,(r.local?PEe:jEe)(r,e))}function QEe(t,e){return function(){k4(this,t).delay=+e.apply(this,arguments)}}function HEe(t,e){return e=+e,function(){k4(this,t).delay=e}}function VEe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?QEe:HEe)(e,t)):_c(this.node(),e).delay}function GEe(t,e){return function(){SA(this,t).duration=+e.apply(this,arguments)}}function zEe(t,e){return e=+e,function(){SA(this,t).duration=e}}function KEe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?GEe:zEe)(e,t)):_c(this.node(),e).duration}function qEe(t,e){if(typeof e!="function")throw new Error;return function(){SA(this,t).ease=e}}function WEe(t){var e=this._id;return arguments.length?this.each(qEe(e,t)):_c(this.node(),e).ease}function $Ee(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;SA(this,t).ease=n}}function YEe(t){if(typeof t!="function")throw new Error;return this.each($Ee(this._id,t))}function JEe(t){typeof t!="function"&&(t=Dj(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],i=a.length,o=r[s]=[],l,A=0;A<i;++A)(l=a[A])&&t.call(l,l.__data__,A,a)&&o.push(l);return new Cu(r,this._parents,this._name,this._id)}function XEe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=n.length,a=Math.min(r,s),i=new Array(r),o=0;o<a;++o)for(var l=e[o],A=n[o],d=l.length,h=i[o]=new Array(d),p,g=0;g<d;++g)(p=l[g]||A[g])&&(h[g]=p);for(;o<r;++o)i[o]=e[o];return new Cu(i,this._parents,this._name,this._id)}function ZEe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function e_e(t,e,n){var r,s,a=ZEe(e)?k4:SA;return function(){var i=a(this,t),o=i.on;o!==r&&(s=(r=o).copy()).on(e,n),i.on=s}}function t_e(t,e){var n=this._id;return arguments.length<2?_c(this.node(),n).on.on(t):this.each(e_e(n,t,e))}function n_e(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function r_e(){return this.on("end.remove",n_e(this._id))}function s_e(t){var e=this._name,n=this._id;typeof t!="function"&&(t=S4(t));for(var r=this._groups,s=r.length,a=new Array(s),i=0;i<s;++i)for(var o=r[i],l=o.length,A=a[i]=new Array(l),d,h,p=0;p<l;++p)(d=o[p])&&(h=t.call(d,d.__data__,p,o))&&("__data__"in d&&(h.__data__=d.__data__),A[p]=h,_w(A[p],e,n,p,A,_c(d,n)));return new Cu(a,this._parents,e,n)}function a_e(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Rj(t));for(var r=this._groups,s=r.length,a=[],i=[],o=0;o<s;++o)for(var l=r[o],A=l.length,d,h=0;h<A;++h)if(d=l[h]){for(var p=t.call(d,d.__data__,h,l),g,w=_c(d,n),b=0,E=p.length;b<E;++b)(g=p[b])&&_w(g,e,n,b,p,w);a.push(p),i.push(d)}return new Cu(a,i,e,n)}var i_e=Lx.prototype.constructor;function o_e(){return new i_e(this._groups,this._parents)}function l_e(t,e){var n,r,s;return function(){var a=ym(this,t),i=(this.style.removeProperty(t),ym(this,t));return a===i?null:a===n&&i===r?s:s=e(n=a,r=i)}}function rO(t){return function(){this.style.removeProperty(t)}}function c_e(t,e,n){var r,s=n+"",a;return function(){var i=ym(this,t);return i===s?null:i===r?a:a=e(r=i,n)}}function A_e(t,e,n){var r,s,a;return function(){var i=ym(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),ym(this,t))),i===l?null:i===r&&l===s?a:(s=l,a=e(r=i,o))}}function u_e(t,e){var n,r,s,a="style."+e,i="end."+a,o;return function(){var l=SA(this,t),A=l.on,d=l.value[a]==null?o||(o=rO(e)):void 0;(A!==n||s!==d)&&(r=(n=A).copy()).on(i,s=d),l.on=r}}function d_e(t,e,n){var r=(t+="")=="transform"?dEe:nO;return e==null?this.styleTween(t,l_e(t,r)).on("end.style."+t,rO(t)):typeof e=="function"?this.styleTween(t,A_e(t,r,I4(this,"style."+t,e))).each(u_e(this._id,t)):this.styleTween(t,c_e(t,r,e),n).on("end.style."+t,null)}function f_e(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function h_e(t,e,n){var r,s;function a(){var i=e.apply(this,arguments);return i!==s&&(r=(s=i)&&f_e(t,i,n)),r}return a._value=e,a}function m_e(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,h_e(t,e,n??""))}function p_e(t){return function(){this.textContent=t}}function g_e(t){return function(){var e=t(this);this.textContent=e??""}}function x_e(t){return this.tween("text",typeof t=="function"?g_e(I4(this,"text",t)):p_e(t==null?"":t+""))}function v_e(t){return function(e){this.textContent=t.call(this,e)}}function y_e(t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&v_e(s)),e}return r._value=t,r}function w_e(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,y_e(t))}function b_e(){for(var t=this._name,e=this._id,n=sO(),r=this._groups,s=r.length,a=0;a<s;++a)for(var i=r[a],o=i.length,l,A=0;A<o;++A)if(l=i[A]){var d=_c(l,e);_w(l,t,n,A,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Cu(r,this._parents,t,n)}function C_e(){var t,e,n=this,r=n._id,s=n.size();return new Promise(function(a,i){var o={value:i},l={value:function(){--s===0&&a()}};n.each(function(){var A=SA(this,r),d=A.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),A.on=e}),s===0&&a()})}var E_e=0;function Cu(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function sO(){return++E_e}var au=Lx.prototype;Cu.prototype={constructor:Cu,select:s_e,selectAll:a_e,selectChild:au.selectChild,selectChildren:au.selectChildren,filter:JEe,merge:XEe,selection:o_e,transition:b_e,call:au.call,nodes:au.nodes,node:au.node,size:au.size,empty:au.empty,each:au.each,on:t_e,attr:UEe,attrTween:OEe,style:d_e,styleTween:m_e,text:x_e,textTween:w_e,remove:r_e,tween:BEe,delay:VEe,duration:KEe,ease:WEe,easeVarying:YEe,end:C_e,[Symbol.iterator]:au[Symbol.iterator]};function __e(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var S_e={time:null,delay:0,duration:250,ease:__e};function T_e(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function B_e(t){var e,n;t instanceof Cu?(e=t._id,t=t._name):(e=sO(),(n=S_e).time=N4(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,a=0;a<s;++a)for(var i=r[a],o=i.length,l,A=0;A<o;++A)(l=i[A])&&_w(l,t,e,A,i,n||T_e(l,e));return new Cu(r,this._parents,t,e)}Lx.prototype.interrupt=_Ee;Lx.prototype.transition=B_e;const Mv=t=>()=>t;function N_e(t,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Au(t,e,n){this.k=t,this.x=e,this.y=n}Au.prototype={constructor:Au,scale:function(t){return t===1?this:new Au(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Au(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Qd=new Au(1,0,0);Au.prototype;function yE(t){t.stopImmediatePropagation()}function Pp(t){t.preventDefault(),t.stopImmediatePropagation()}function k_e(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function I_e(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function MR(){return this.__zoom||Qd}function F_e(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function R_e(){return navigator.maxTouchPoints||"ontouchstart"in this}function D_e(t,e,n){var r=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],i=t.invertY(e[1][1])-n[1][1];return t.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i))}function U_e(){var t=k_e,e=I_e,n=D_e,r=F_e,s=R_e,a=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],o=250,l=gEe,A=bw("start","zoom","end"),d,h,p,g=500,w=150,b=0,E=10;function T(G){G.property("__zoom",MR).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",B).on("dblclick.zoom",H).filter(s).on("touchstart.zoom",P).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}T.transform=function(G,oe,K,Z){var re=G.selection?G.selection():G;re.property("__zoom",MR),G!==re?R(G,oe,K,Z):re.interrupt().each(function(){L(this,arguments).event(Z).start().zoom(null,typeof oe=="function"?oe.apply(this,arguments):oe).end()})},T.scaleBy=function(G,oe,K,Z){T.scaleTo(G,function(){var re=this.__zoom.k,q=typeof oe=="function"?oe.apply(this,arguments):oe;return re*q},K,Z)},T.scaleTo=function(G,oe,K,Z){T.transform(G,function(){var re=e.apply(this,arguments),q=this.__zoom,X=K==null?F(re):typeof K=="function"?K.apply(this,arguments):K,ue=q.invert(X),j=typeof oe=="function"?oe.apply(this,arguments):oe;return n(k(I(q,j),X,ue),re,i)},K,Z)},T.translateBy=function(G,oe,K,Z){T.transform(G,function(){return n(this.__zoom.translate(typeof oe=="function"?oe.apply(this,arguments):oe,typeof K=="function"?K.apply(this,arguments):K),e.apply(this,arguments),i)},null,Z)},T.translateTo=function(G,oe,K,Z,re){T.transform(G,function(){var q=e.apply(this,arguments),X=this.__zoom,ue=Z==null?F(q):typeof Z=="function"?Z.apply(this,arguments):Z;return n(Qd.translate(ue[0],ue[1]).scale(X.k).translate(typeof oe=="function"?-oe.apply(this,arguments):-oe,typeof K=="function"?-K.apply(this,arguments):-K),q,i)},Z,re)};function I(G,oe){return oe=Math.max(a[0],Math.min(a[1],oe)),oe===G.k?G:new Au(oe,G.x,G.y)}function k(G,oe,K){var Z=oe[0]-K[0]*G.k,re=oe[1]-K[1]*G.k;return Z===G.x&&re===G.y?G:new Au(G.k,Z,re)}function F(G){return[(+G[0][0]+ +G[1][0])/2,(+G[0][1]+ +G[1][1])/2]}function R(G,oe,K,Z){G.on("start.zoom",function(){L(this,arguments).event(Z).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(Z).end()}).tween("zoom",function(){var re=this,q=arguments,X=L(re,q).event(Z),ue=e.apply(re,q),j=K==null?F(ue):typeof K=="function"?K.apply(re,q):K,W=Math.max(ue[1][0]-ue[0][0],ue[1][1]-ue[0][1]),J=re.__zoom,ne=typeof oe=="function"?oe.apply(re,q):oe,ie=l(J.invert(j).concat(W/J.k),ne.invert(j).concat(W/ne.k));return function(de){if(de===1)de=ne;else{var me=ie(de),xe=W/me[2];de=new Au(xe,j[0]-me[0]*xe,j[1]-me[1]*xe)}X.zoom(null,de)}})}function L(G,oe,K){return!K&&G.__zooming||new S(G,oe)}function S(G,oe){this.that=G,this.args=oe,this.active=0,this.sourceEvent=null,this.extent=e.apply(G,oe),this.taps=0}S.prototype={event:function(G){return G&&(this.sourceEvent=G),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(G,oe){return this.mouse&&G!=="mouse"&&(this.mouse[1]=oe.invert(this.mouse[0])),this.touch0&&G!=="touch"&&(this.touch0[1]=oe.invert(this.touch0[0])),this.touch1&&G!=="touch"&&(this.touch1[1]=oe.invert(this.touch1[0])),this.that.__zoom=oe,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(G){var oe=uc(this.that).datum();A.call(G,this.that,new N_e(G,{sourceEvent:this.sourceEvent,target:T,transform:this.that.__zoom,dispatch:A}),oe)}};function N(G,...oe){if(!t.apply(this,arguments))return;var K=L(this,oe).event(G),Z=this.__zoom,re=Math.max(a[0],Math.min(a[1],Z.k*Math.pow(2,r.apply(this,arguments)))),q=cA(G);if(K.wheel)(K.mouse[0][0]!==q[0]||K.mouse[0][1]!==q[1])&&(K.mouse[1]=Z.invert(K.mouse[0]=q)),clearTimeout(K.wheel);else{if(Z.k===re)return;K.mouse=[q,Z.invert(q)],f2(this),K.start()}Pp(G),K.wheel=setTimeout(X,w),K.zoom("mouse",n(k(I(Z,re),K.mouse[0],K.mouse[1]),K.extent,i));function X(){K.wheel=null,K.end()}}function B(G,...oe){if(p||!t.apply(this,arguments))return;var K=G.currentTarget,Z=L(this,oe,!0).event(G),re=uc(G.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",W,!0),q=cA(G,K),X=G.clientX,ue=G.clientY;Gj(G.view),yE(G),Z.mouse=[q,this.__zoom.invert(q)],f2(this),Z.start();function j(J){if(Pp(J),!Z.moved){var ne=J.clientX-X,ie=J.clientY-ue;Z.moved=ne*ne+ie*ie>b}Z.event(J).zoom("mouse",n(k(Z.that.__zoom,Z.mouse[0]=cA(J,K),Z.mouse[1]),Z.extent,i))}function W(J){re.on("mousemove.zoom mouseup.zoom",null),zj(J.view,Z.moved),Pp(J),Z.event(J).end()}}function H(G,...oe){if(t.apply(this,arguments)){var K=this.__zoom,Z=cA(G.changedTouches?G.changedTouches[0]:G,this),re=K.invert(Z),q=K.k*(G.shiftKey?.5:2),X=n(k(I(K,q),Z,re),e.apply(this,oe),i);Pp(G),o>0?uc(this).transition().duration(o).call(R,X,Z,G):uc(this).call(T.transform,X,Z,G)}}function P(G,...oe){if(t.apply(this,arguments)){var K=G.touches,Z=K.length,re=L(this,oe,G.changedTouches.length===Z).event(G),q,X,ue,j;for(yE(G),X=0;X<Z;++X)ue=K[X],j=cA(ue,this),j=[j,this.__zoom.invert(j),ue.identifier],re.touch0?!re.touch1&&re.touch0[2]!==j[2]&&(re.touch1=j,re.taps=0):(re.touch0=j,q=!0,re.taps=1+!!d);d&&(d=clearTimeout(d)),q&&(re.taps<2&&(h=j[0],d=setTimeout(function(){d=null},g)),f2(this),re.start())}}function M(G,...oe){if(this.__zooming){var K=L(this,oe).event(G),Z=G.changedTouches,re=Z.length,q,X,ue,j;for(Pp(G),q=0;q<re;++q)X=Z[q],ue=cA(X,this),K.touch0&&K.touch0[2]===X.identifier?K.touch0[0]=ue:K.touch1&&K.touch1[2]===X.identifier&&(K.touch1[0]=ue);if(X=K.that.__zoom,K.touch1){var W=K.touch0[0],J=K.touch0[1],ne=K.touch1[0],ie=K.touch1[1],de=(de=ne[0]-W[0])*de+(de=ne[1]-W[1])*de,me=(me=ie[0]-J[0])*me+(me=ie[1]-J[1])*me;X=I(X,Math.sqrt(de/me)),ue=[(W[0]+ne[0])/2,(W[1]+ne[1])/2],j=[(J[0]+ie[0])/2,(J[1]+ie[1])/2]}else if(K.touch0)ue=K.touch0[0],j=K.touch0[1];else return;K.zoom("touch",n(k(X,ue,j),K.extent,i))}}function V(G,...oe){if(this.__zooming){var K=L(this,oe).event(G),Z=G.changedTouches,re=Z.length,q,X;for(yE(G),p&&clearTimeout(p),p=setTimeout(function(){p=null},g),q=0;q<re;++q)X=Z[q],K.touch0&&K.touch0[2]===X.identifier?delete K.touch0:K.touch1&&K.touch1[2]===X.identifier&&delete K.touch1;if(K.touch1&&!K.touch0&&(K.touch0=K.touch1,delete K.touch1),K.touch0)K.touch0[1]=this.__zoom.invert(K.touch0[0]);else if(K.end(),K.taps===2&&(X=cA(X,this),Math.hypot(h[0]-X[0],h[1]-X[1])<E)){var ue=uc(this).on("dblclick.zoom");ue&&ue.apply(this,arguments)}}}return T.wheelDelta=function(G){return arguments.length?(r=typeof G=="function"?G:Mv(+G),T):r},T.filter=function(G){return arguments.length?(t=typeof G=="function"?G:Mv(!!G),T):t},T.touchable=function(G){return arguments.length?(s=typeof G=="function"?G:Mv(!!G),T):s},T.extent=function(G){return arguments.length?(e=typeof G=="function"?G:Mv([[+G[0][0],+G[0][1]],[+G[1][0],+G[1][1]]]),T):e},T.scaleExtent=function(G){return arguments.length?(a[0]=+G[0],a[1]=+G[1],T):[a[0],a[1]]},T.translateExtent=function(G){return arguments.length?(i[0][0]=+G[0][0],i[1][0]=+G[1][0],i[0][1]=+G[0][1],i[1][1]=+G[1][1],T):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},T.constrain=function(G){return arguments.length?(n=G,T):n},T.duration=function(G){return arguments.length?(o=+G,T):o},T.interpolate=function(G){return arguments.length?(l=G,T):l},T.on=function(){var G=A.on.apply(A,arguments);return G===A?T:G},T.clickDistance=function(G){return arguments.length?(b=(G=+G)*G,T):Math.sqrt(b)},T.tapDistance=function(G){return arguments.length?(E=+G,T):E},T}wD();const Sw=ee.createContext(null),L_e=Sw.Provider,Eu={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},aO=Eu.error001();function Cs(t,e){const n=ee.useContext(Sw);if(n===null)throw new Error(aO);return Ij(n,t,e)}const Ga=()=>{const t=ee.useContext(Sw);if(t===null)throw new Error(aO);return ee.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},M_e=t=>t.userSelectionActive?"none":"all";function iO({position:t,children:e,className:n,style:r,...s}){const a=Cs(M_e),i=`${t}`.split("-");return ut.createElement("div",{className:qi(["react-flow__panel",n,...i]),style:{...r,pointerEvents:a},...s},e)}function P_e({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:ut.createElement(iO,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ut.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const j_e=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:a={},labelBgPadding:i=[2,4],labelBgBorderRadius:o=2,children:l,className:A,...d})=>{const h=ee.useRef(null),[p,g]=ee.useState({x:0,y:0,width:0,height:0}),w=qi(["react-flow__edge-textwrapper",A]);return ee.useEffect(()=>{if(h.current){const b=h.current.getBBox();g({x:b.x,y:b.y,width:b.width,height:b.height})}},[n]),typeof n>"u"||!n?null:ut.createElement("g",{transform:`translate(${t-p.width/2} ${e-p.height/2})`,className:w,visibility:p.width?"visible":"hidden",...d},s&&ut.createElement("rect",{width:p.width+2*i[0],x:-i[0],y:-i[1],height:p.height+2*i[1],className:"react-flow__edge-textbg",style:a,rx:o,ry:o}),ut.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:h,style:r},n),l)};var O_e=ee.memo(j_e);const F4=t=>({width:t.offsetWidth,height:t.offsetHeight}),bm=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),R4=(t={x:0,y:0},e)=>({x:bm(t.x,e[0][0],e[1][0]),y:bm(t.y,e[0][1],e[1][1])}),PR=(t,e,n)=>t<e?bm(Math.abs(t-e),1,50)/50:t>n?-bm(Math.abs(t-n),1,50)/50:0,oO=(t,e)=>{const n=PR(t.x,35,e.width-35)*20,r=PR(t.y,35,e.height-35)*20;return[n,r]},lO=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Q_e=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),D4=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),H_e=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),jR=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),gS=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},V_e=t=>Nl(t.width)&&Nl(t.height)&&Nl(t.x)&&Nl(t.y),Nl=t=>!isNaN(t)&&isFinite(t),Ds=Symbol.for("internals"),cO=["Enter"," ","Escape"],G_e=(t,e)=>{},z_e=t=>"nativeEvent"in t;function xS(t){var s,a;const e=z_e(t)?t.nativeEvent:t,n=((a=(s=e.composedPath)==null?void 0:s.call(e))==null?void 0:a[0])||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const AO=t=>"clientX"in t,Hd=(t,e)=>{var a,i;const n=AO(t),r=n?t.clientX:(a=t.touches)==null?void 0:a[0].clientX,s=n?t.clientY:(i=t.touches)==null?void 0:i[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:s-((e==null?void 0:e.top)??0)}},vy=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0},Px=({id:t,path:e,labelX:n,labelY:r,label:s,labelStyle:a,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:A,style:d,markerEnd:h,markerStart:p,interactionWidth:g=20})=>ut.createElement(ut.Fragment,null,ut.createElement("path",{id:t,style:d,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:p}),g&&ut.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),s&&Nl(n)&&Nl(r)?ut.createElement(O_e,{x:n,y:r,label:s,labelStyle:a,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:A}):null);Px.displayName="BaseEdge";function jp(t,e,n){return n===void 0?n:r=>{const s=e().edges.find(a=>a.id===t);s&&n(r,{...s})}}function uO({sourceX:t,sourceY:e,targetX:n,targetY:r}){const s=Math.abs(n-t)/2,a=n<t?n+s:n-s,i=Math.abs(r-e)/2,o=r<e?r+i:r-i;return[a,o,s,i]}function dO({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:s,sourceControlY:a,targetControlX:i,targetControlY:o}){const l=t*.125+s*.375+i*.375+n*.125,A=e*.125+a*.375+o*.375+r*.125,d=Math.abs(l-t),h=Math.abs(A-e);return[l,A,d,h]}var mh;(function(t){t.Strict="strict",t.Loose="loose"})(mh||(mh={}));var zf;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(zf||(zf={}));var ux;(function(t){t.Partial="partial",t.Full="full"})(ux||(ux={}));var _d;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(_d||(_d={}));var yy;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(yy||(yy={}));var on;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(on||(on={}));function OR({pos:t,x1:e,y1:n,x2:r,y2:s}){return t===on.Left||t===on.Right?[.5*(e+r),n]:[e,.5*(n+s)]}function fO({sourceX:t,sourceY:e,sourcePosition:n=on.Bottom,targetX:r,targetY:s,targetPosition:a=on.Top}){const[i,o]=OR({pos:n,x1:t,y1:e,x2:r,y2:s}),[l,A]=OR({pos:a,x1:r,y1:s,x2:t,y2:e}),[d,h,p,g]=dO({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:i,sourceControlY:o,targetControlX:l,targetControlY:A});return[`M${t},${e} C${i},${o} ${l},${A} ${r},${s}`,d,h,p,g]}const U4=ee.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=on.Bottom,targetPosition:a=on.Top,label:i,labelStyle:o,labelShowBg:l,labelBgStyle:A,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:w,interactionWidth:b})=>{const[E,T,I]=fO({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:a});return ut.createElement(Px,{path:E,labelX:T,labelY:I,label:i,labelStyle:o,labelShowBg:l,labelBgStyle:A,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:w,interactionWidth:b})});U4.displayName="SimpleBezierEdge";const QR={[on.Left]:{x:-1,y:0},[on.Right]:{x:1,y:0},[on.Top]:{x:0,y:-1},[on.Bottom]:{x:0,y:1}},K_e=({source:t,sourcePosition:e=on.Bottom,target:n})=>e===on.Left||e===on.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},HR=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function q_e({source:t,sourcePosition:e=on.Bottom,target:n,targetPosition:r=on.Top,center:s,offset:a}){const i=QR[e],o=QR[r],l={x:t.x+i.x*a,y:t.y+i.y*a},A={x:n.x+o.x*a,y:n.y+o.y*a},d=K_e({source:l,sourcePosition:e,target:A}),h=d.x!==0?"x":"y",p=d[h];let g=[],w,b;const E={x:0,y:0},T={x:0,y:0},[I,k,F,R]=uO({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(i[h]*o[h]===-1){w=s.x??I,b=s.y??k;const S=[{x:w,y:l.y},{x:w,y:A.y}],N=[{x:l.x,y:b},{x:A.x,y:b}];i[h]===p?g=h==="x"?S:N:g=h==="x"?N:S}else{const S=[{x:l.x,y:A.y}],N=[{x:A.x,y:l.y}];if(h==="x"?g=i.x===p?N:S:g=i.y===p?S:N,e===r){const V=Math.abs(t[h]-n[h]);if(V<=a){const G=Math.min(a-1,a-V);i[h]===p?E[h]=(l[h]>t[h]?-1:1)*G:T[h]=(A[h]>n[h]?-1:1)*G}}if(e!==r){const V=h==="x"?"y":"x",G=i[h]===o[V],oe=l[V]>A[V],K=l[V]<A[V];(i[h]===1&&(!G&&oe||G&&K)||i[h]!==1&&(!G&&K||G&&oe))&&(g=h==="x"?S:N)}const B={x:l.x+E.x,y:l.y+E.y},H={x:A.x+T.x,y:A.y+T.y},P=Math.max(Math.abs(B.x-g[0].x),Math.abs(H.x-g[0].x)),M=Math.max(Math.abs(B.y-g[0].y),Math.abs(H.y-g[0].y));P>=M?(w=(B.x+H.x)/2,b=g[0].y):(w=g[0].x,b=(B.y+H.y)/2)}return[[t,{x:l.x+E.x,y:l.y+E.y},...g,{x:A.x+T.x,y:A.y+T.y},n],w,b,F,R]}function W_e(t,e,n,r){const s=Math.min(HR(t,e)/2,HR(e,n)/2,r),{x:a,y:i}=e;if(t.x===a&&a===n.x||t.y===i&&i===n.y)return`L${a} ${i}`;if(t.y===i){const A=t.x<n.x?-1:1,d=t.y<n.y?1:-1;return`L ${a+s*A},${i}Q ${a},${i} ${a},${i+s*d}`}const o=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${a},${i+s*l}Q ${a},${i} ${a+s*o},${i}`}function vS({sourceX:t,sourceY:e,sourcePosition:n=on.Bottom,targetX:r,targetY:s,targetPosition:a=on.Top,borderRadius:i=5,centerX:o,centerY:l,offset:A=20}){const[d,h,p,g,w]=q_e({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:s},targetPosition:a,center:{x:o,y:l},offset:A});return[d.reduce((E,T,I)=>{let k="";return I>0&&I<d.length-1?k=W_e(d[I-1],T,d[I+1],i):k=`${I===0?"M":"L"}${T.x} ${T.y}`,E+=k,E},""),h,p,g,w]}const Tw=ee.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:a,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:A,style:d,sourcePosition:h=on.Bottom,targetPosition:p=on.Top,markerEnd:g,markerStart:w,pathOptions:b,interactionWidth:E})=>{const[T,I,k]=vS({sourceX:t,sourceY:e,sourcePosition:h,targetX:n,targetY:r,targetPosition:p,borderRadius:b==null?void 0:b.borderRadius,offset:b==null?void 0:b.offset});return ut.createElement(Px,{path:T,labelX:I,labelY:k,label:s,labelStyle:a,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:A,style:d,markerEnd:g,markerStart:w,interactionWidth:E})});Tw.displayName="SmoothStepEdge";const L4=ee.memo(t=>{var e;return ut.createElement(Tw,{...t,pathOptions:ee.useMemo(()=>{var n;return{borderRadius:0,offset:(n=t.pathOptions)==null?void 0:n.offset}},[(e=t.pathOptions)==null?void 0:e.offset])})});L4.displayName="StepEdge";function $_e({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[s,a,i,o]=uO({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,s,a,i,o]}const M4=ee.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:a,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:A,style:d,markerEnd:h,markerStart:p,interactionWidth:g})=>{const[w,b,E]=$_e({sourceX:t,sourceY:e,targetX:n,targetY:r});return ut.createElement(Px,{path:w,labelX:b,labelY:E,label:s,labelStyle:a,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:A,style:d,markerEnd:h,markerStart:p,interactionWidth:g})});M4.displayName="StraightEdge";function Pv(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function VR({pos:t,x1:e,y1:n,x2:r,y2:s,c:a}){switch(t){case on.Left:return[e-Pv(e-r,a),n];case on.Right:return[e+Pv(r-e,a),n];case on.Top:return[e,n-Pv(n-s,a)];case on.Bottom:return[e,n+Pv(s-n,a)]}}function hO({sourceX:t,sourceY:e,sourcePosition:n=on.Bottom,targetX:r,targetY:s,targetPosition:a=on.Top,curvature:i=.25}){const[o,l]=VR({pos:n,x1:t,y1:e,x2:r,y2:s,c:i}),[A,d]=VR({pos:a,x1:r,y1:s,x2:t,y2:e,c:i}),[h,p,g,w]=dO({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:o,sourceControlY:l,targetControlX:A,targetControlY:d});return[`M${t},${e} C${o},${l} ${A},${d} ${r},${s}`,h,p,g,w]}const wy=ee.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=on.Bottom,targetPosition:a=on.Top,label:i,labelStyle:o,labelShowBg:l,labelBgStyle:A,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:w,pathOptions:b,interactionWidth:E})=>{const[T,I,k]=hO({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:a,curvature:b==null?void 0:b.curvature});return ut.createElement(Px,{path:T,labelX:I,labelY:k,label:i,labelStyle:o,labelShowBg:l,labelBgStyle:A,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:w,interactionWidth:E})});wy.displayName="BezierEdge";const P4=ee.createContext(null),Y_e=P4.Provider;P4.Consumer;const J_e=()=>ee.useContext(P4),X_e=t=>"id"in t&&"source"in t&&"target"in t,Z_e=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,yS=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,eSe=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),tSe=(t,e)=>{if(!t.source||!t.target)return e;let n;return X_e(t)?n={...t}:n={...t,id:Z_e(t)},eSe(n,e)?e:e.concat(n)},wS=({x:t,y:e},[n,r,s],a,[i,o])=>{const l={x:(t-n)/s,y:(e-r)/s};return a?{x:i*Math.round(l.x/i),y:o*Math.round(l.y/o)}:l},mO=({x:t,y:e},[n,r,s])=>({x:t*s+n,y:e*s+r}),im=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],s={x:t.position.x-n,y:t.position.y-r};return{...s,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:s}},j4=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,s)=>{const{x:a,y:i}=im(s,e).positionAbsolute;return Q_e(r,D4({x:a,y:i,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return H_e(n)},pO=(t,e,[n,r,s]=[0,0,1],a=!1,i=!1,o=[0,0])=>{const l={x:(e.x-n)/s,y:(e.y-r)/s,width:e.width/s,height:e.height/s},A=[];return t.forEach(d=>{const{width:h,height:p,selectable:g=!0,hidden:w=!1}=d;if(i&&!g||w)return!1;const{positionAbsolute:b}=im(d,o),E={x:b.x,y:b.y,width:h||0,height:p||0},T=gS(l,E),I=typeof h>"u"||typeof p>"u"||h===null||p===null,k=a&&T>0,F=(h||0)*(p||0);(I||k||T>=F||d.dragging)&&A.push(d)}),A},gO=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},xO=(t,e,n,r,s,a=.1)=>{const i=e/(t.width*(1+a)),o=n/(t.height*(1+a)),l=Math.min(i,o),A=bm(l,r,s),d=t.x+t.width/2,h=t.y+t.height/2,p=e/2-d*A,g=n/2-h*A;return{x:p,y:g,zoom:A}},Lf=(t,e=0)=>t.transition().duration(e);function GR(t,e,n,r){return(e[n]||[]).reduce((s,a)=>{var i,o;return`${t.id}-${a.id}-${n}`!==r&&s.push({id:a.id||null,type:n,nodeId:t.id,x:(((i=t.positionAbsolute)==null?void 0:i.x)??0)+a.x+a.width/2,y:(((o=t.positionAbsolute)==null?void 0:o.y)??0)+a.y+a.height/2}),s},[])}function nSe(t,e,n,r,s,a){const{x:i,y:o}=Hd(t),A=e.elementsFromPoint(i,o).find(w=>w.classList.contains("react-flow__handle"));if(A){const w=A.getAttribute("data-nodeid");if(w){const b=O4(void 0,A),E=A.getAttribute("data-handleid"),T=a({nodeId:w,id:E,type:b});if(T){const I=s.find(k=>k.nodeId===w&&k.type===b&&k.id===E);return{handle:{id:E,type:b,nodeId:w,x:(I==null?void 0:I.x)||n.x,y:(I==null?void 0:I.y)||n.y},validHandleResult:T}}}}let d=[],h=1/0;if(s.forEach(w=>{const b=Math.sqrt((w.x-n.x)**2+(w.y-n.y)**2);if(b<=r){const E=a(w);b<=h&&(b<h?d=[{handle:w,validHandleResult:E}]:b===h&&d.push({handle:w,validHandleResult:E}),h=b)}}),!d.length)return{handle:null,validHandleResult:vO()};if(d.length===1)return d[0];const p=d.some(({validHandleResult:w})=>w.isValid),g=d.some(({handle:w})=>w.type==="target");return d.find(({handle:w,validHandleResult:b})=>g?w.type==="target":p?b.isValid:!0)||d[0]}const rSe={source:null,target:null,sourceHandle:null,targetHandle:null},vO=()=>({handleDomNode:null,isValid:!1,connection:rSe,endHandle:null});function yO(t,e,n,r,s,a,i){const o=s==="target",l=i.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),A={...vO(),handleDomNode:l};if(l){const d=O4(void 0,l),h=l.getAttribute("data-nodeid"),p=l.getAttribute("data-handleid"),g=l.classList.contains("connectable"),w=l.classList.contains("connectableend"),b={source:o?h:n,sourceHandle:o?p:r,target:o?n:h,targetHandle:o?r:p};A.connection=b,g&&w&&(e===mh.Strict?o&&d==="source"||!o&&d==="target":h!==n||p!==r)&&(A.endHandle={nodeId:h,handleId:p,type:d},A.isValid=a(b))}return A}function sSe({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((s,a)=>{if(a[Ds]){const{handleBounds:i}=a[Ds];let o=[],l=[];i&&(o=GR(a,i,"source",`${e}-${n}-${r}`),l=GR(a,i,"target",`${e}-${n}-${r}`)),s.push(...o,...l)}return s},[])}function O4(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function wE(t){t==null||t.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function aSe(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function wO({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:s,getState:a,setState:i,isValidConnection:o,edgeUpdaterType:l,onReconnectEnd:A}){const d=lO(t.target),{connectionMode:h,domNode:p,autoPanOnConnect:g,connectionRadius:w,onConnectStart:b,panBy:E,getNodes:T,cancelConnection:I}=a();let k=0,F;const{x:R,y:L}=Hd(t),S=d==null?void 0:d.elementFromPoint(R,L),N=O4(l,S),B=p==null?void 0:p.getBoundingClientRect();if(!B||!N)return;let H,P=Hd(t,B),M=!1,V=null,G=!1,oe=null;const K=sSe({nodes:T(),nodeId:n,handleId:e,handleType:N}),Z=()=>{if(!g)return;const[X,ue]=oO(P,B);E({x:X,y:ue}),k=requestAnimationFrame(Z)};i({connectionPosition:P,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:N,connectionStartHandle:{nodeId:n,handleId:e,type:N},connectionEndHandle:null}),b==null||b(t,{nodeId:n,handleId:e,handleType:N});function re(X){const{transform:ue}=a();P=Hd(X,B);const{handle:j,validHandleResult:W}=nSe(X,d,wS(P,ue,!1,[1,1]),w,K,J=>yO(J,h,n,e,s?"target":"source",o,d));if(F=j,M||(Z(),M=!0),oe=W.handleDomNode,V=W.connection,G=W.isValid,i({connectionPosition:F&&G?mO({x:F.x,y:F.y},ue):P,connectionStatus:aSe(!!F,G),connectionEndHandle:W.endHandle}),!F&&!G&&!oe)return wE(H);V.source!==V.target&&oe&&(wE(H),H=oe,oe.classList.add("connecting","react-flow__handle-connecting"),oe.classList.toggle("valid",G),oe.classList.toggle("react-flow__handle-valid",G))}function q(X){var ue,j;(F||oe)&&V&&G&&(r==null||r(V)),(j=(ue=a()).onConnectEnd)==null||j.call(ue,X),l&&(A==null||A(X)),wE(H),I(),cancelAnimationFrame(k),M=!1,G=!1,V=null,oe=null,d.removeEventListener("mousemove",re),d.removeEventListener("mouseup",q),d.removeEventListener("touchmove",re),d.removeEventListener("touchend",q)}d.addEventListener("mousemove",re),d.addEventListener("mouseup",q),d.addEventListener("touchmove",re),d.addEventListener("touchend",q)}const zR=()=>!0,iSe=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),oSe=(t,e,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:a,connectionClickStartHandle:i}=r;return{connecting:(s==null?void 0:s.nodeId)===t&&(s==null?void 0:s.handleId)===e&&(s==null?void 0:s.type)===n||(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.handleId)===e&&(a==null?void 0:a.type)===n,clickConnecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.handleId)===e&&(i==null?void 0:i.type)===n}},bO=ee.forwardRef(({type:t="source",position:e=on.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:a=!0,id:i,onConnect:o,children:l,className:A,onMouseDown:d,onTouchStart:h,...p},g)=>{var B,H;const w=i||null,b=t==="target",E=Ga(),T=J_e(),{connectOnClick:I,noPanClassName:k}=Cs(iSe,Mi),{connecting:F,clickConnecting:R}=Cs(oSe(T,w,t),Mi);T||(H=(B=E.getState()).onError)==null||H.call(B,"010",Eu.error010());const L=P=>{const{defaultEdgeOptions:M,onConnect:V,hasDefaultEdges:G}=E.getState(),oe={...M,...P};if(G){const{edges:K,setEdges:Z}=E.getState();Z(tSe(oe,K))}V==null||V(oe),o==null||o(oe)},S=P=>{if(!T)return;const M=AO(P);s&&(M&&P.button===0||!M)&&wO({event:P,handleId:w,nodeId:T,onConnect:L,isTarget:b,getState:E.getState,setState:E.setState,isValidConnection:n||E.getState().isValidConnection||zR}),M?d==null||d(P):h==null||h(P)},N=P=>{const{onClickConnectStart:M,onClickConnectEnd:V,connectionClickStartHandle:G,connectionMode:oe,isValidConnection:K}=E.getState();if(!T||!G&&!s)return;if(!G){M==null||M(P,{nodeId:T,handleId:w,handleType:t}),E.setState({connectionClickStartHandle:{nodeId:T,type:t,handleId:w}});return}const Z=lO(P.target),re=n||K||zR,{connection:q,isValid:X}=yO({nodeId:T,id:w,type:t},oe,G.nodeId,G.handleId||null,G.type,re,Z);X&&L(q),V==null||V(P),E.setState({connectionClickStartHandle:null})};return ut.createElement("div",{"data-handleid":w,"data-nodeid":T,"data-handlepos":e,"data-id":`${T}-${w}-${t}`,className:qi(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",k,A,{source:!b,target:b,connectable:r,connectablestart:s,connectableend:a,connecting:R,connectionindicator:r&&(s&&!F||a&&F)}]),onMouseDown:S,onTouchStart:S,onClick:I?N:void 0,ref:g,...p},l)});bO.displayName="Handle";var by=ee.memo(bO);const CO=({data:t,isConnectable:e,targetPosition:n=on.Top,sourcePosition:r=on.Bottom})=>ut.createElement(ut.Fragment,null,ut.createElement(by,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,ut.createElement(by,{type:"source",position:r,isConnectable:e}));CO.displayName="DefaultNode";var bS=ee.memo(CO);const EO=({data:t,isConnectable:e,sourcePosition:n=on.Bottom})=>ut.createElement(ut.Fragment,null,t==null?void 0:t.label,ut.createElement(by,{type:"source",position:n,isConnectable:e}));EO.displayName="InputNode";var _O=ee.memo(EO);const SO=({data:t,isConnectable:e,targetPosition:n=on.Top})=>ut.createElement(ut.Fragment,null,ut.createElement(by,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label);SO.displayName="OutputNode";var TO=ee.memo(SO);const Q4=()=>null;Q4.displayName="GroupNode";const lSe=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),jv=t=>t.id;function cSe(t,e){return Mi(t.selectedNodes.map(jv),e.selectedNodes.map(jv))&&Mi(t.selectedEdges.map(jv),e.selectedEdges.map(jv))}const BO=ee.memo(({onSelectionChange:t})=>{const e=Ga(),{selectedNodes:n,selectedEdges:r}=Cs(lSe,cSe);return ee.useEffect(()=>{const s={nodes:n,edges:r};t==null||t(s),e.getState().onSelectionChange.forEach(a=>a(s))},[n,r,t]),null});BO.displayName="SelectionListener";const ASe=t=>!!t.onSelectionChange;function uSe({onSelectionChange:t}){const e=Cs(ASe);return t||e?ut.createElement(BO,{onSelectionChange:t}):null}const dSe=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function x0(t,e){ee.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function Yn(t,e,n){ee.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const fSe=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:a,onConnectEnd:i,onClickConnectStart:o,onClickConnectEnd:l,nodesDraggable:A,nodesConnectable:d,nodesFocusable:h,edgesFocusable:p,edgesUpdatable:g,elevateNodesOnSelect:w,minZoom:b,maxZoom:E,nodeExtent:T,onNodesChange:I,onEdgesChange:k,elementsSelectable:F,connectionMode:R,snapGrid:L,snapToGrid:S,translateExtent:N,connectOnClick:B,defaultEdgeOptions:H,fitView:P,fitViewOptions:M,onNodesDelete:V,onEdgesDelete:G,onNodeDrag:oe,onNodeDragStart:K,onNodeDragStop:Z,onSelectionDrag:re,onSelectionDragStart:q,onSelectionDragStop:X,noPanClassName:ue,nodeOrigin:j,rfId:W,autoPanOnConnect:J,autoPanOnNodeDrag:ne,onError:ie,connectionRadius:de,isValidConnection:me,nodeDragThreshold:xe})=>{const{setNodes:Se,setEdges:ge,setDefaultNodesAndEdges:ae,setMinZoom:Fe,setMaxZoom:et,setTranslateExtent:De,setNodeExtent:Ce,reset:Ge}=Cs(dSe,Mi),nt=Ga();return ee.useEffect(()=>{const it=r==null?void 0:r.map(dt=>({...dt,...H}));return ae(n,it),()=>{Ge()}},[]),Yn("defaultEdgeOptions",H,nt.setState),Yn("connectionMode",R,nt.setState),Yn("onConnect",s,nt.setState),Yn("onConnectStart",a,nt.setState),Yn("onConnectEnd",i,nt.setState),Yn("onClickConnectStart",o,nt.setState),Yn("onClickConnectEnd",l,nt.setState),Yn("nodesDraggable",A,nt.setState),Yn("nodesConnectable",d,nt.setState),Yn("nodesFocusable",h,nt.setState),Yn("edgesFocusable",p,nt.setState),Yn("edgesUpdatable",g,nt.setState),Yn("elementsSelectable",F,nt.setState),Yn("elevateNodesOnSelect",w,nt.setState),Yn("snapToGrid",S,nt.setState),Yn("snapGrid",L,nt.setState),Yn("onNodesChange",I,nt.setState),Yn("onEdgesChange",k,nt.setState),Yn("connectOnClick",B,nt.setState),Yn("fitViewOnInit",P,nt.setState),Yn("fitViewOnInitOptions",M,nt.setState),Yn("onNodesDelete",V,nt.setState),Yn("onEdgesDelete",G,nt.setState),Yn("onNodeDrag",oe,nt.setState),Yn("onNodeDragStart",K,nt.setState),Yn("onNodeDragStop",Z,nt.setState),Yn("onSelectionDrag",re,nt.setState),Yn("onSelectionDragStart",q,nt.setState),Yn("onSelectionDragStop",X,nt.setState),Yn("noPanClassName",ue,nt.setState),Yn("nodeOrigin",j,nt.setState),Yn("rfId",W,nt.setState),Yn("autoPanOnConnect",J,nt.setState),Yn("autoPanOnNodeDrag",ne,nt.setState),Yn("onError",ie,nt.setState),Yn("connectionRadius",de,nt.setState),Yn("isValidConnection",me,nt.setState),Yn("nodeDragThreshold",xe,nt.setState),x0(t,Se),x0(e,ge),x0(b,Fe),x0(E,et),x0(N,De),x0(T,Ce),null},KR={display:"none"},hSe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},NO="react-flow__node-desc",kO="react-flow__edge-desc",mSe="react-flow__aria-live",pSe=t=>t.ariaLiveMessage;function gSe({rfId:t}){const e=Cs(pSe);return ut.createElement("div",{id:`${mSe}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:hSe},e)}function xSe({rfId:t,disableKeyboardA11y:e}){return ut.createElement(ut.Fragment,null,ut.createElement("div",{id:`${NO}-${t}`,style:KR},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ut.createElement("div",{id:`${kO}-${t}`,style:KR},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&ut.createElement(gSe,{rfId:t}))}var dx=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=ee.useState(!1),s=ee.useRef(!1),a=ee.useRef(new Set([])),[i,o]=ee.useMemo(()=>{if(t!==null){const A=(Array.isArray(t)?t:[t]).filter(h=>typeof h=="string").map(h=>h.split("+")),d=A.reduce((h,p)=>h.concat(...p),[]);return[A,d]}return[[],[]]},[t]);return ee.useEffect(()=>{const l=typeof document<"u"?document:null,A=(e==null?void 0:e.target)||l;if(t!==null){const d=g=>{if(s.current=g.ctrlKey||g.metaKey||g.shiftKey,(!s.current||s.current&&!e.actInsideInputWithModifier)&&xS(g))return!1;const b=WR(g.code,o);a.current.add(g[b]),qR(i,a.current,!1)&&(g.preventDefault(),r(!0))},h=g=>{if((!s.current||s.current&&!e.actInsideInputWithModifier)&&xS(g))return!1;const b=WR(g.code,o);qR(i,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(g[b]),g.key==="Meta"&&a.current.clear(),s.current=!1},p=()=>{a.current.clear(),r(!1)};return A==null||A.addEventListener("keydown",d),A==null||A.addEventListener("keyup",h),window.addEventListener("blur",p),()=>{A==null||A.removeEventListener("keydown",d),A==null||A.removeEventListener("keyup",h),window.removeEventListener("blur",p)}}},[t,r]),n};function qR(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(s=>e.has(s)))}function WR(t,e){return e.includes(t)?"code":"key"}function IO(t,e,n,r){var o,l;const s=t.parentNode||t.parentId;if(!s)return n;const a=e.get(s),i=im(a,r);return IO(a,e,{x:(n.x??0)+i.x,y:(n.y??0)+i.y,z:(((o=a[Ds])==null?void 0:o.z)??0)>(n.z??0)?((l=a[Ds])==null?void 0:l.z)??0:n.z??0},r)}function FO(t,e,n){t.forEach(r=>{var a;const s=r.parentNode||r.parentId;if(s&&!t.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:i,y:o,z:l}=IO(r,t,{...r.position,z:((a=r[Ds])==null?void 0:a.z)??0},e);r.positionAbsolute={x:i,y:o},r[Ds].z=l,n!=null&&n[r.id]&&(r[Ds].isParent=!0)}})}function bE(t,e,n,r){const s=new Map,a={},i=r?1e3:0;return t.forEach(o=>{var g;const l=(Nl(o.zIndex)?o.zIndex:0)+(o.selected?i:0),A=e.get(o.id),d={...o,positionAbsolute:{x:o.position.x,y:o.position.y}},h=o.parentNode||o.parentId;h&&(a[h]=!0);const p=(A==null?void 0:A.type)&&(A==null?void 0:A.type)!==o.type;Object.defineProperty(d,Ds,{enumerable:!1,value:{handleBounds:p||(g=A==null?void 0:A[Ds])==null?void 0:g.handleBounds,z:l}}),s.set(o.id,d)}),FO(s,n,a),s}function RO(t,e={}){const{getNodes:n,width:r,height:s,minZoom:a,maxZoom:i,d3Zoom:o,d3Selection:l,fitViewOnInitDone:A,fitViewOnInit:d,nodeOrigin:h}=t(),p=e.initial&&!A&&d;if(o&&l&&(p||!e.initial)){const w=n().filter(E=>{var I;const T=e.includeHiddenNodes?E.width&&E.height:!E.hidden;return(I=e.nodes)!=null&&I.length?T&&e.nodes.some(k=>k.id===E.id):T}),b=w.every(E=>E.width&&E.height);if(w.length>0&&b){const E=j4(w,h),{x:T,y:I,zoom:k}=xO(E,r,s,e.minZoom??a,e.maxZoom??i,e.padding??.1),F=Qd.translate(T,I).scale(k);return typeof e.duration=="number"&&e.duration>0?o.transform(Lf(l,e.duration),F):o.transform(l,F),!0}}return!1}function vSe(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[Ds]:r[Ds],selected:n.selected})}),new Map(e)}function ySe(t,e){return e.map(n=>{const r=t.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function Ov({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:s,edges:a,onNodesChange:i,onEdgesChange:o,hasDefaultNodes:l,hasDefaultEdges:A}=n();t!=null&&t.length&&(l&&r({nodeInternals:vSe(t,s)}),i==null||i(t)),e!=null&&e.length&&(A&&r({edges:ySe(e,a)}),o==null||o(e))}const v0=()=>{},wSe={zoomIn:v0,zoomOut:v0,zoomTo:v0,getZoom:()=>1,setViewport:v0,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:v0,fitBounds:v0,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},bSe=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),CSe=()=>{const t=Ga(),{d3Zoom:e,d3Selection:n}=Cs(bSe,Mi);return ee.useMemo(()=>n&&e?{zoomIn:s=>e.scaleBy(Lf(n,s==null?void 0:s.duration),1.2),zoomOut:s=>e.scaleBy(Lf(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,a)=>e.scaleTo(Lf(n,a==null?void 0:a.duration),s),getZoom:()=>t.getState().transform[2],setViewport:(s,a)=>{const[i,o,l]=t.getState().transform,A=Qd.translate(s.x??i,s.y??o).scale(s.zoom??l);e.transform(Lf(n,a==null?void 0:a.duration),A)},getViewport:()=>{const[s,a,i]=t.getState().transform;return{x:s,y:a,zoom:i}},fitView:s=>RO(t.getState,s),setCenter:(s,a,i)=>{const{width:o,height:l,maxZoom:A}=t.getState(),d=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:A,h=o/2-s*d,p=l/2-a*d,g=Qd.translate(h,p).scale(d);e.transform(Lf(n,i==null?void 0:i.duration),g)},fitBounds:(s,a)=>{const{width:i,height:o,minZoom:l,maxZoom:A}=t.getState(),{x:d,y:h,zoom:p}=xO(s,i,o,l,A,(a==null?void 0:a.padding)??.1),g=Qd.translate(d,h).scale(p);e.transform(Lf(n,a==null?void 0:a.duration),g)},project:s=>{const{transform:a,snapToGrid:i,snapGrid:o}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),wS(s,a,i,o)},screenToFlowPosition:s=>{const{transform:a,snapToGrid:i,snapGrid:o,domNode:l}=t.getState();if(!l)return s;const{x:A,y:d}=l.getBoundingClientRect(),h={x:s.x-A,y:s.y-d};return wS(h,a,i,o)},flowToScreenPosition:s=>{const{transform:a,domNode:i}=t.getState();if(!i)return s;const{x:o,y:l}=i.getBoundingClientRect(),A=mO(s,a);return{x:A.x+o,y:A.y+l}},viewportInitialized:!0}:wSe,[e,n])};function Bw(){const t=CSe(),e=Ga(),n=ee.useCallback(()=>e.getState().getNodes().map(b=>({...b})),[]),r=ee.useCallback(b=>e.getState().nodeInternals.get(b),[]),s=ee.useCallback(()=>{const{edges:b=[]}=e.getState();return b.map(E=>({...E}))},[]),a=ee.useCallback(b=>{const{edges:E=[]}=e.getState();return E.find(T=>T.id===b)},[]),i=ee.useCallback(b=>{const{getNodes:E,setNodes:T,hasDefaultNodes:I,onNodesChange:k}=e.getState(),F=E(),R=typeof b=="function"?b(F):b;if(I)T(R);else if(k){const L=R.length===0?F.map(S=>({type:"remove",id:S.id})):R.map(S=>({item:S,type:"reset"}));k(L)}},[]),o=ee.useCallback(b=>{const{edges:E=[],setEdges:T,hasDefaultEdges:I,onEdgesChange:k}=e.getState(),F=typeof b=="function"?b(E):b;if(I)T(F);else if(k){const R=F.length===0?E.map(L=>({type:"remove",id:L.id})):F.map(L=>({item:L,type:"reset"}));k(R)}},[]),l=ee.useCallback(b=>{const E=Array.isArray(b)?b:[b],{getNodes:T,setNodes:I,hasDefaultNodes:k,onNodesChange:F}=e.getState();if(k){const L=[...T(),...E];I(L)}else if(F){const R=E.map(L=>({item:L,type:"add"}));F(R)}},[]),A=ee.useCallback(b=>{const E=Array.isArray(b)?b:[b],{edges:T=[],setEdges:I,hasDefaultEdges:k,onEdgesChange:F}=e.getState();if(k)I([...T,...E]);else if(F){const R=E.map(L=>({item:L,type:"add"}));F(R)}},[]),d=ee.useCallback(()=>{const{getNodes:b,edges:E=[],transform:T}=e.getState(),[I,k,F]=T;return{nodes:b().map(R=>({...R})),edges:E.map(R=>({...R})),viewport:{x:I,y:k,zoom:F}}},[]),h=ee.useCallback(({nodes:b,edges:E})=>{const{nodeInternals:T,getNodes:I,edges:k,hasDefaultNodes:F,hasDefaultEdges:R,onNodesDelete:L,onEdgesDelete:S,onNodesChange:N,onEdgesChange:B}=e.getState(),H=(b||[]).map(oe=>oe.id),P=(E||[]).map(oe=>oe.id),M=I().reduce((oe,K)=>{const Z=K.parentNode||K.parentId,re=!H.includes(K.id)&&Z&&oe.find(X=>X.id===Z);return(typeof K.deletable=="boolean"?K.deletable:!0)&&(H.includes(K.id)||re)&&oe.push(K),oe},[]),V=k.filter(oe=>typeof oe.deletable=="boolean"?oe.deletable:!0),G=V.filter(oe=>P.includes(oe.id));if(M||G){const oe=gO(M,V),K=[...G,...oe],Z=K.reduce((re,q)=>(re.includes(q.id)||re.push(q.id),re),[]);if((R||F)&&(R&&e.setState({edges:k.filter(re=>!Z.includes(re.id))}),F&&(M.forEach(re=>{T.delete(re.id)}),e.setState({nodeInternals:new Map(T)}))),Z.length>0&&(S==null||S(K),B&&B(Z.map(re=>({id:re,type:"remove"})))),M.length>0&&(L==null||L(M),N)){const re=M.map(q=>({id:q.id,type:"remove"}));N(re)}}},[]),p=ee.useCallback(b=>{const E=V_e(b),T=E?null:e.getState().nodeInternals.get(b.id);return!E&&!T?[null,null,E]:[E?b:jR(T),T,E]},[]),g=ee.useCallback((b,E=!0,T)=>{const[I,k,F]=p(b);return I?(T||e.getState().getNodes()).filter(R=>{if(!F&&(R.id===k.id||!R.positionAbsolute))return!1;const L=jR(R),S=gS(L,I);return E&&S>0||S>=I.width*I.height}):[]},[]),w=ee.useCallback((b,E,T=!0)=>{const[I]=p(b);if(!I)return!1;const k=gS(I,E);return T&&k>0||k>=I.width*I.height},[]);return ee.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:s,getEdge:a,setNodes:i,setEdges:o,addNodes:l,addEdges:A,toObject:d,deleteElements:h,getIntersectingNodes:g,isNodeIntersecting:w}),[t,n,r,s,a,i,o,l,A,d,h,g,w])}const ESe={actInsideInputWithModifier:!1};var _Se=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=Ga(),{deleteElements:r}=Bw(),s=dx(t,ESe),a=dx(e);ee.useEffect(()=>{if(s){const{edges:i,getNodes:o}=n.getState(),l=o().filter(d=>d.selected),A=i.filter(d=>d.selected);r({nodes:l,edges:A}),n.setState({nodesSelectionActive:!1})}},[s]),ee.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function SSe(t){const e=Ga();ee.useEffect(()=>{let n;const r=()=>{var a,i;if(!t.current)return;const s=F4(t.current);(s.height===0||s.width===0)&&((i=(a=e.getState()).onError)==null||i.call(a,"004",Eu.error004())),e.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const H4={position:"absolute",width:"100%",height:"100%",top:0,left:0},TSe=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Qv=t=>({x:t.x,y:t.y,zoom:t.k}),y0=(t,e)=>t.target.closest(`.${e}`),$R=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),YR=t=>{const e=t.ctrlKey&&vy()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},BSe=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),NSe=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:a=!0,panOnScroll:i=!1,panOnScrollSpeed:o=.5,panOnScrollMode:l=zf.Free,zoomOnDoubleClick:A=!0,elementsSelectable:d,panOnDrag:h=!0,defaultViewport:p,translateExtent:g,minZoom:w,maxZoom:b,zoomActivationKeyCode:E,preventScrolling:T=!0,children:I,noWheelClassName:k,noPanClassName:F})=>{const R=ee.useRef(),L=Ga(),S=ee.useRef(!1),N=ee.useRef(!1),B=ee.useRef(null),H=ee.useRef({x:0,y:0,zoom:0}),{d3Zoom:P,d3Selection:M,d3ZoomHandler:V,userSelectionActive:G}=Cs(BSe,Mi),oe=dx(E),K=ee.useRef(0),Z=ee.useRef(!1),re=ee.useRef();return SSe(B),ee.useEffect(()=>{if(B.current){const q=B.current.getBoundingClientRect(),X=U_e().scaleExtent([w,b]).translateExtent(g),ue=uc(B.current).call(X),j=Qd.translate(p.x,p.y).scale(bm(p.zoom,w,b)),W=[[0,0],[q.width,q.height]],J=X.constrain()(j,W,g);X.transform(ue,J),X.wheelDelta(YR),L.setState({d3Zoom:X,d3Selection:ue,d3ZoomHandler:ue.on("wheel.zoom"),transform:[J.x,J.y,J.k],domNode:B.current.closest(".react-flow")})}},[]),ee.useEffect(()=>{M&&P&&(i&&!oe&&!G?M.on("wheel.zoom",q=>{if(y0(q,k))return!1;q.preventDefault(),q.stopImmediatePropagation();const X=M.property("__zoom").k||1;if(q.ctrlKey&&a){const me=cA(q),xe=YR(q),Se=X*Math.pow(2,xe);P.scaleTo(M,Se,me,q);return}const ue=q.deltaMode===1?20:1;let j=l===zf.Vertical?0:q.deltaX*ue,W=l===zf.Horizontal?0:q.deltaY*ue;!vy()&&q.shiftKey&&l!==zf.Vertical&&(j=q.deltaY*ue,W=0),P.translateBy(M,-(j/X)*o,-(W/X)*o,{internal:!0});const J=Qv(M.property("__zoom")),{onViewportChangeStart:ne,onViewportChange:ie,onViewportChangeEnd:de}=L.getState();clearTimeout(re.current),Z.current||(Z.current=!0,e==null||e(q,J),ne==null||ne(J)),Z.current&&(t==null||t(q,J),ie==null||ie(J),re.current=setTimeout(()=>{n==null||n(q,J),de==null||de(J),Z.current=!1},150))},{passive:!1}):typeof V<"u"&&M.on("wheel.zoom",function(q,X){if(!T&&q.type==="wheel"&&!q.ctrlKey||y0(q,k))return null;q.preventDefault(),V.call(this,q,X)},{passive:!1}))},[G,i,l,M,P,V,oe,a,T,k,e,t,n]),ee.useEffect(()=>{P&&P.on("start",q=>{var j,W;if(!q.sourceEvent||q.sourceEvent.internal)return null;K.current=(j=q.sourceEvent)==null?void 0:j.button;const{onViewportChangeStart:X}=L.getState(),ue=Qv(q.transform);S.current=!0,H.current=ue,((W=q.sourceEvent)==null?void 0:W.type)==="mousedown"&&L.setState({paneDragging:!0}),X==null||X(ue),e==null||e(q.sourceEvent,ue)})},[P,e]),ee.useEffect(()=>{P&&(G&&!S.current?P.on("zoom",null):G||P.on("zoom",q=>{var ue;const{onViewportChange:X}=L.getState();if(L.setState({transform:[q.transform.x,q.transform.y,q.transform.k]}),N.current=!!(r&&$R(h,K.current??0)),(t||X)&&!((ue=q.sourceEvent)!=null&&ue.internal)){const j=Qv(q.transform);X==null||X(j),t==null||t(q.sourceEvent,j)}}))},[G,P,t,h,r]),ee.useEffect(()=>{P&&P.on("end",q=>{if(!q.sourceEvent||q.sourceEvent.internal)return null;const{onViewportChangeEnd:X}=L.getState();if(S.current=!1,L.setState({paneDragging:!1}),r&&$R(h,K.current??0)&&!N.current&&r(q.sourceEvent),N.current=!1,(n||X)&&TSe(H.current,q.transform)){const ue=Qv(q.transform);H.current=ue,clearTimeout(R.current),R.current=setTimeout(()=>{X==null||X(ue),n==null||n(q.sourceEvent,ue)},i?150:0)}})},[P,i,h,n,r]),ee.useEffect(()=>{P&&P.filter(q=>{const X=oe||s,ue=a&&q.ctrlKey;if((h===!0||Array.isArray(h)&&h.includes(1))&&q.button===1&&q.type==="mousedown"&&(y0(q,"react-flow__node")||y0(q,"react-flow__edge")))return!0;if(!h&&!X&&!i&&!A&&!a||G||!A&&q.type==="dblclick"||y0(q,k)&&q.type==="wheel"||y0(q,F)&&(q.type!=="wheel"||i&&q.type==="wheel"&&!oe)||!a&&q.ctrlKey&&q.type==="wheel"||!X&&!i&&!ue&&q.type==="wheel"||!h&&(q.type==="mousedown"||q.type==="touchstart")||Array.isArray(h)&&!h.includes(q.button)&&q.type==="mousedown")return!1;const j=Array.isArray(h)&&h.includes(q.button)||!q.button||q.button<=1;return(!q.ctrlKey||q.type==="wheel")&&j})},[G,P,s,a,i,A,h,d,oe]),ut.createElement("div",{className:"react-flow__renderer",ref:B,style:H4},I)},kSe=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function ISe(){const{userSelectionActive:t,userSelectionRect:e}=Cs(kSe,Mi);return t&&e?ut.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function JR(t,e){const n=e.parentNode||e.parentId,r=t.find(s=>s.id===n);if(r){const s=e.position.x+e.width-r.width,a=e.position.y+e.height-r.height;if(s>0||a>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),a>0&&(r.style.height+=a),e.position.x<0){const i=Math.abs(e.position.x);r.position.x=r.position.x-i,r.style.width+=i,e.position.x=0}if(e.position.y<0){const i=Math.abs(e.position.y);r.position.y=r.position.y-i,r.style.height+=i,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function DO(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,s)=>{const a=t.filter(o=>o.id===s.id);if(a.length===0)return r.push(s),r;const i={...s};for(const o of a)if(o)switch(o.type){case"select":{i.selected=o.selected;break}case"position":{typeof o.position<"u"&&(i.position=o.position),typeof o.positionAbsolute<"u"&&(i.positionAbsolute=o.positionAbsolute),typeof o.dragging<"u"&&(i.dragging=o.dragging),i.expandParent&&JR(r,i);break}case"dimensions":{typeof o.dimensions<"u"&&(i.width=o.dimensions.width,i.height=o.dimensions.height),typeof o.updateStyle<"u"&&(i.style={...i.style||{},...o.dimensions}),typeof o.resizing=="boolean"&&(i.resizing=o.resizing),i.expandParent&&JR(r,i);break}case"remove":return r}return r.push(i),r},n)}function UO(t,e){return DO(t,e)}function FSe(t,e){return DO(t,e)}const yd=(t,e)=>({id:t,type:"select",selected:e});function j0(t,e){return t.reduce((n,r)=>{const s=e.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(yd(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(yd(r.id,!1))),n},[])}const CE=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},RSe=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),LO=ee.memo(({isSelecting:t,selectionMode:e=ux.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:i,onPaneScroll:o,onPaneMouseEnter:l,onPaneMouseMove:A,onPaneMouseLeave:d,children:h})=>{const p=ee.useRef(null),g=Ga(),w=ee.useRef(0),b=ee.useRef(0),E=ee.useRef(),{userSelectionActive:T,elementsSelectable:I,dragging:k}=Cs(RSe,Mi),F=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),w.current=0,b.current=0},R=V=>{a==null||a(V),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},L=V=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){V.preventDefault();return}i==null||i(V)},S=o?V=>o(V):void 0,N=V=>{const{resetSelectedElements:G,domNode:oe}=g.getState();if(E.current=oe==null?void 0:oe.getBoundingClientRect(),!I||!t||V.button!==0||V.target!==p.current||!E.current)return;const{x:K,y:Z}=Hd(V,E.current);G(),g.setState({userSelectionRect:{width:0,height:0,startX:K,startY:Z,x:K,y:Z}}),r==null||r(V)},B=V=>{const{userSelectionRect:G,nodeInternals:oe,edges:K,transform:Z,onNodesChange:re,onEdgesChange:q,nodeOrigin:X,getNodes:ue}=g.getState();if(!t||!E.current||!G)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});const j=Hd(V,E.current),W=G.startX??0,J=G.startY??0,ne={...G,x:j.x<W?j.x:W,y:j.y<J?j.y:J,width:Math.abs(j.x-W),height:Math.abs(j.y-J)},ie=ue(),de=pO(oe,ne,Z,e===ux.Partial,!0,X),me=gO(de,K).map(Se=>Se.id),xe=de.map(Se=>Se.id);if(w.current!==xe.length){w.current=xe.length;const Se=j0(ie,xe);Se.length&&(re==null||re(Se))}if(b.current!==me.length){b.current=me.length;const Se=j0(K,me);Se.length&&(q==null||q(Se))}g.setState({userSelectionRect:ne})},H=V=>{if(V.button!==0)return;const{userSelectionRect:G}=g.getState();!T&&G&&V.target===p.current&&(R==null||R(V)),g.setState({nodesSelectionActive:w.current>0}),F(),s==null||s(V)},P=V=>{T&&(g.setState({nodesSelectionActive:w.current>0}),s==null||s(V)),F()},M=I&&(t||T);return ut.createElement("div",{className:qi(["react-flow__pane",{dragging:k,selection:t}]),onClick:M?void 0:CE(R,p),onContextMenu:CE(L,p),onWheel:CE(S,p),onMouseEnter:M?void 0:l,onMouseDown:M?N:void 0,onMouseMove:M?B:A,onMouseUp:M?H:void 0,onMouseLeave:M?P:d,ref:p,style:H4},h,ut.createElement(ISe,null))});LO.displayName="Pane";function MO(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:MO(r,e):!1}function XR(t,e,n){let r=t;do{if(r!=null&&r.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function DSe(t,e,n,r){return Array.from(t.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!MO(s,t))&&(s.draggable||e&&typeof s.draggable>"u")).map(s=>{var a,i;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((a=s.positionAbsolute)==null?void 0:a.x)??0),y:n.y-(((i=s.positionAbsolute)==null?void 0:i.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function USe(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function PO(t,e,n,r,s=[0,0],a){const i=USe(t,t.extent||r);let o=i;const l=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(l&&t.width&&t.height){const h=n.get(l),{x:p,y:g}=im(h,s).positionAbsolute;o=h&&Nl(p)&&Nl(g)&&Nl(h.width)&&Nl(h.height)?[[p+t.width*s[0],g+t.height*s[1]],[p+h.width-t.width+t.width*s[0],g+h.height-t.height+t.height*s[1]]]:o}else a==null||a("005",Eu.error005()),o=i;else if(t.extent&&l&&t.extent!=="parent"){const h=n.get(l),{x:p,y:g}=im(h,s).positionAbsolute;o=[[t.extent[0][0]+p,t.extent[0][1]+g],[t.extent[1][0]+p,t.extent[1][1]+g]]}let A={x:0,y:0};if(l){const h=n.get(l);A=im(h,s).positionAbsolute}const d=o&&o!=="parent"?R4(e,o):e;return{position:{x:d.x-A.x,y:d.y-A.y},positionAbsolute:d}}function EE({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[t?r.find(s=>s.id===t):r[0],r]}const ZR=(t,e,n,r)=>{const s=e.querySelectorAll(t);if(!s||!s.length)return null;const a=Array.from(s),i=e.getBoundingClientRect(),o={x:i.width*r[0],y:i.height*r[1]};return a.map(l=>{const A=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(A.left-i.left-o.x)/n,y:(A.top-i.top-o.y)/n,...F4(l)}})};function Op(t,e,n){return n===void 0?n:r=>{const s=e().nodeInternals.get(t);s&&n(r,{...s})}}function CS({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:a,multiSelectionActive:i,nodeInternals:o,onError:l}=e.getState(),A=o.get(t);if(!A){l==null||l("012",Eu.error012(t));return}e.setState({nodesSelectionActive:!1}),A.selected?(n||A.selected&&i)&&(a({nodes:[A],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([t])}function LSe(){const t=Ga();return ee.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:a}=t.getState(),i=n.touches?n.touches[0].clientX:n.clientX,o=n.touches?n.touches[0].clientY:n.clientY,l={x:(i-r[0])/r[2],y:(o-r[1])/r[2]};return{xSnapped:a?s[0]*Math.round(l.x/s[0]):l.x,ySnapped:a?s[1]*Math.round(l.y/s[1]):l.y,...l}},[])}function _E(t){return(e,n,r)=>t==null?void 0:t(e,r)}function jO({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:a,selectNodesOnDrag:i}){const o=Ga(),[l,A]=ee.useState(!1),d=ee.useRef([]),h=ee.useRef({x:null,y:null}),p=ee.useRef(0),g=ee.useRef(null),w=ee.useRef({x:0,y:0}),b=ee.useRef(null),E=ee.useRef(!1),T=ee.useRef(!1),I=ee.useRef(!1),k=LSe();return ee.useEffect(()=>{if(t!=null&&t.current){const F=uc(t.current),R=({x:N,y:B})=>{const{nodeInternals:H,onNodeDrag:P,onSelectionDrag:M,updateNodePositions:V,nodeExtent:G,snapGrid:oe,snapToGrid:K,nodeOrigin:Z,onError:re}=o.getState();h.current={x:N,y:B};let q=!1,X={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&G){const j=j4(d.current,Z);X=D4(j)}if(d.current=d.current.map(j=>{const W={x:N-j.distance.x,y:B-j.distance.y};K&&(W.x=oe[0]*Math.round(W.x/oe[0]),W.y=oe[1]*Math.round(W.y/oe[1]));const J=[[G[0][0],G[0][1]],[G[1][0],G[1][1]]];d.current.length>1&&G&&!j.extent&&(J[0][0]=j.positionAbsolute.x-X.x+G[0][0],J[1][0]=j.positionAbsolute.x+(j.width??0)-X.x2+G[1][0],J[0][1]=j.positionAbsolute.y-X.y+G[0][1],J[1][1]=j.positionAbsolute.y+(j.height??0)-X.y2+G[1][1]);const ne=PO(j,W,H,J,Z,re);return q=q||j.position.x!==ne.position.x||j.position.y!==ne.position.y,j.position=ne.position,j.positionAbsolute=ne.positionAbsolute,j}),!q)return;V(d.current,!0,!0),A(!0);const ue=s?P:_E(M);if(ue&&b.current){const[j,W]=EE({nodeId:s,dragItems:d.current,nodeInternals:H});ue(b.current,j,W)}},L=()=>{if(!g.current)return;const[N,B]=oO(w.current,g.current);if(N!==0||B!==0){const{transform:H,panBy:P}=o.getState();h.current.x=(h.current.x??0)-N/H[2],h.current.y=(h.current.y??0)-B/H[2],P({x:N,y:B})&&R(h.current)}p.current=requestAnimationFrame(L)},S=N=>{var Z;const{nodeInternals:B,multiSelectionActive:H,nodesDraggable:P,unselectNodesAndEdges:M,onNodeDragStart:V,onSelectionDragStart:G}=o.getState();T.current=!0;const oe=s?V:_E(G);(!i||!a)&&!H&&s&&((Z=B.get(s))!=null&&Z.selected||M()),s&&a&&i&&CS({id:s,store:o,nodeRef:t});const K=k(N);if(h.current=K,d.current=DSe(B,P,K,s),oe&&d.current){const[re,q]=EE({nodeId:s,dragItems:d.current,nodeInternals:B});oe(N.sourceEvent,re,q)}};if(e)F.on(".drag",null);else{const N=zCe().on("start",B=>{const{domNode:H,nodeDragThreshold:P}=o.getState();P===0&&S(B),I.current=!1;const M=k(B);h.current=M,g.current=(H==null?void 0:H.getBoundingClientRect())||null,w.current=Hd(B.sourceEvent,g.current)}).on("drag",B=>{var V,G;const H=k(B),{autoPanOnNodeDrag:P,nodeDragThreshold:M}=o.getState();if(B.sourceEvent.type==="touchmove"&&B.sourceEvent.touches.length>1&&(I.current=!0),!I.current){if(!E.current&&T.current&&P&&(E.current=!0,L()),!T.current){const oe=H.xSnapped-(((V=h==null?void 0:h.current)==null?void 0:V.x)??0),K=H.ySnapped-(((G=h==null?void 0:h.current)==null?void 0:G.y)??0);Math.sqrt(oe*oe+K*K)>M&&S(B)}(h.current.x!==H.xSnapped||h.current.y!==H.ySnapped)&&d.current&&T.current&&(b.current=B.sourceEvent,w.current=Hd(B.sourceEvent,g.current),R(H))}}).on("end",B=>{if(!(!T.current||I.current)&&(A(!1),E.current=!1,T.current=!1,cancelAnimationFrame(p.current),d.current)){const{updateNodePositions:H,nodeInternals:P,onNodeDragStop:M,onSelectionDragStop:V}=o.getState(),G=s?M:_E(V);if(H(d.current,!1,!1),G){const[oe,K]=EE({nodeId:s,dragItems:d.current,nodeInternals:P});G(B.sourceEvent,oe,K)}}}).filter(B=>{const H=B.target;return!B.button&&(!n||!XR(H,`.${n}`,t))&&(!r||XR(H,r,t))});return F.call(N),()=>{F.on(".drag",null)}}}},[t,e,n,r,a,o,s,i,k]),l}function OO(){const t=Ga();return ee.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:a,getNodes:i,snapToGrid:o,snapGrid:l,onError:A,nodesDraggable:d}=t.getState(),h=i().filter(I=>I.selected&&(I.draggable||d&&typeof I.draggable>"u")),p=o?l[0]:5,g=o?l[1]:5,w=n.isShiftPressed?4:1,b=n.x*p*w,E=n.y*g*w,T=h.map(I=>{if(I.positionAbsolute){const k={x:I.positionAbsolute.x+b,y:I.positionAbsolute.y+E};o&&(k.x=l[0]*Math.round(k.x/l[0]),k.y=l[1]*Math.round(k.y/l[1]));const{positionAbsolute:F,position:R}=PO(I,k,r,s,void 0,A);I.position=R,I.positionAbsolute=F}return I});a(T,!0,!1)},[])}const om={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Qp=t=>{const e=({id:n,type:r,data:s,xPos:a,yPos:i,xPosOrigin:o,yPosOrigin:l,selected:A,onClick:d,onMouseEnter:h,onMouseMove:p,onMouseLeave:g,onContextMenu:w,onDoubleClick:b,style:E,className:T,isDraggable:I,isSelectable:k,isConnectable:F,isFocusable:R,selectNodesOnDrag:L,sourcePosition:S,targetPosition:N,hidden:B,resizeObserver:H,dragHandle:P,zIndex:M,isParent:V,noDragClassName:G,noPanClassName:oe,initialized:K,disableKeyboardA11y:Z,ariaLabel:re,rfId:q,hasHandleBounds:X})=>{const ue=Ga(),j=ee.useRef(null),W=ee.useRef(null),J=ee.useRef(S),ne=ee.useRef(N),ie=ee.useRef(r),de=k||I||d||h||p||g,me=OO(),xe=Op(n,ue.getState,h),Se=Op(n,ue.getState,p),ge=Op(n,ue.getState,g),ae=Op(n,ue.getState,w),Fe=Op(n,ue.getState,b),et=Ge=>{const{nodeDragThreshold:nt}=ue.getState();if(k&&(!L||!I||nt>0)&&CS({id:n,store:ue,nodeRef:j}),d){const it=ue.getState().nodeInternals.get(n);it&&d(Ge,{...it})}},De=Ge=>{if(!xS(Ge)&&!Z)if(cO.includes(Ge.key)&&k){const nt=Ge.key==="Escape";CS({id:n,store:ue,unselect:nt,nodeRef:j})}else I&&A&&Object.prototype.hasOwnProperty.call(om,Ge.key)&&(ue.setState({ariaLiveMessage:`Moved selected node ${Ge.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~i}`}),me({x:om[Ge.key].x,y:om[Ge.key].y,isShiftPressed:Ge.shiftKey}))};ee.useEffect(()=>()=>{W.current&&(H==null||H.unobserve(W.current),W.current=null)},[]),ee.useEffect(()=>{if(j.current&&!B){const Ge=j.current;(!K||!X||W.current!==Ge)&&(W.current&&(H==null||H.unobserve(W.current)),H==null||H.observe(Ge),W.current=Ge)}},[B,K,X]),ee.useEffect(()=>{const Ge=ie.current!==r,nt=J.current!==S,it=ne.current!==N;j.current&&(Ge||nt||it)&&(Ge&&(ie.current=r),nt&&(J.current=S),it&&(ne.current=N),ue.getState().updateNodeDimensions([{id:n,nodeElement:j.current,forceUpdate:!0}]))},[n,r,S,N]);const Ce=jO({nodeRef:j,disabled:B||!I,noDragClassName:G,handleSelector:P,nodeId:n,isSelectable:k,selectNodesOnDrag:L});return B?null:ut.createElement("div",{className:qi(["react-flow__node",`react-flow__node-${r}`,{[oe]:I},T,{selected:A,selectable:k,parent:V,dragging:Ce}]),ref:j,style:{zIndex:M,transform:`translate(${o}px,${l}px)`,pointerEvents:de?"all":"none",visibility:K?"visible":"hidden",...E},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:xe,onMouseMove:Se,onMouseLeave:ge,onContextMenu:ae,onClick:et,onDoubleClick:Fe,onKeyDown:R?De:void 0,tabIndex:R?0:void 0,role:R?"button":void 0,"aria-describedby":Z?void 0:`${NO}-${q}`,"aria-label":re},ut.createElement(Y_e,{value:n},ut.createElement(t,{id:n,data:s,type:r,xPos:a,yPos:i,selected:A,isConnectable:F,sourcePosition:S,targetPosition:N,dragging:Ce,dragHandle:P,zIndex:M})))};return e.displayName="NodeWrapper",ee.memo(e)};const MSe=t=>{const e=t.getNodes().filter(n=>n.selected);return{...j4(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function PSe({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=Ga(),{width:s,height:a,x:i,y:o,transformString:l,userSelectionActive:A}=Cs(MSe,Mi),d=OO(),h=ee.useRef(null);if(ee.useEffect(()=>{var w;n||(w=h.current)==null||w.focus({preventScroll:!0})},[n]),jO({nodeRef:h}),A||!s||!a)return null;const p=t?w=>{const b=r.getState().getNodes().filter(E=>E.selected);t(w,b)}:void 0,g=w=>{Object.prototype.hasOwnProperty.call(om,w.key)&&d({x:om[w.key].x,y:om[w.key].y,isShiftPressed:w.shiftKey})};return ut.createElement("div",{className:qi(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l}},ut.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:g,style:{width:s,height:a,top:o,left:i}}))}var jSe=ee.memo(PSe);const OSe=t=>t.nodesSelectionActive,QO=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:i,deleteKeyCode:o,onMove:l,onMoveStart:A,onMoveEnd:d,selectionKeyCode:h,selectionOnDrag:p,selectionMode:g,onSelectionStart:w,onSelectionEnd:b,multiSelectionKeyCode:E,panActivationKeyCode:T,zoomActivationKeyCode:I,elementsSelectable:k,zoomOnScroll:F,zoomOnPinch:R,panOnScroll:L,panOnScrollSpeed:S,panOnScrollMode:N,zoomOnDoubleClick:B,panOnDrag:H,defaultViewport:P,translateExtent:M,minZoom:V,maxZoom:G,preventScrolling:oe,onSelectionContextMenu:K,noWheelClassName:Z,noPanClassName:re,disableKeyboardA11y:q})=>{const X=Cs(OSe),ue=dx(h),j=dx(T),W=j||H,J=j||L,ne=ue||p&&W!==!0;return _Se({deleteKeyCode:o,multiSelectionKeyCode:E}),ut.createElement(NSe,{onMove:l,onMoveStart:A,onMoveEnd:d,onPaneContextMenu:a,elementsSelectable:k,zoomOnScroll:F,zoomOnPinch:R,panOnScroll:J,panOnScrollSpeed:S,panOnScrollMode:N,zoomOnDoubleClick:B,panOnDrag:!ue&&W,defaultViewport:P,translateExtent:M,minZoom:V,maxZoom:G,zoomActivationKeyCode:I,preventScrolling:oe,noWheelClassName:Z,noPanClassName:re},ut.createElement(LO,{onSelectionStart:w,onSelectionEnd:b,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:i,panOnDrag:W,isSelecting:!!ne,selectionMode:g},t,X&&ut.createElement(jSe,{onSelectionContextMenu:K,noPanClassName:re,disableKeyboardA11y:q})))};QO.displayName="FlowRenderer";var QSe=ee.memo(QO);function HSe(t){return Cs(ee.useCallback(n=>t?pO(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function VSe(t){const e={input:Qp(t.input||_O),default:Qp(t.default||bS),output:Qp(t.output||TO),group:Qp(t.group||Q4)},n={},r=Object.keys(t).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,a)=>(s[a]=Qp(t[a]||bS),s),n);return{...e,...r}}const GSe=({x:t,y:e,width:n,height:r,origin:s})=>!n||!r?{x:t,y:e}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:t,y:e}:{x:t-n*s[0],y:e-r*s[1]},zSe=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),HO=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:a,onError:i}=Cs(zSe,Mi),o=HSe(t.onlyRenderVisibleElements),l=ee.useRef(),A=ee.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(h=>{const p=h.map(g=>({id:g.target.getAttribute("data-id"),nodeElement:g.target,forceUpdate:!0}));a(p)});return l.current=d,d},[]);return ee.useEffect(()=>()=>{var d;(d=l==null?void 0:l.current)==null||d.disconnect()},[]),ut.createElement("div",{className:"react-flow__nodes",style:H4},o.map(d=>{var R,L,S;let h=d.type||"default";t.nodeTypes[h]||(i==null||i("003",Eu.error003(h)),h="default");const p=t.nodeTypes[h]||t.nodeTypes.default,g=!!(d.draggable||e&&typeof d.draggable>"u"),w=!!(d.selectable||s&&typeof d.selectable>"u"),b=!!(d.connectable||n&&typeof d.connectable>"u"),E=!!(d.focusable||r&&typeof d.focusable>"u"),T=t.nodeExtent?R4(d.positionAbsolute,t.nodeExtent):d.positionAbsolute,I=(T==null?void 0:T.x)??0,k=(T==null?void 0:T.y)??0,F=GSe({x:I,y:k,width:d.width??0,height:d.height??0,origin:t.nodeOrigin});return ut.createElement(p,{key:d.id,id:d.id,className:d.className,style:d.style,type:h,data:d.data,sourcePosition:d.sourcePosition||on.Bottom,targetPosition:d.targetPosition||on.Top,hidden:d.hidden,xPos:I,yPos:k,xPosOrigin:F.x,yPosOrigin:F.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!d.selected,isDraggable:g,isSelectable:w,isConnectable:b,isFocusable:E,resizeObserver:A,dragHandle:d.dragHandle,zIndex:((R=d[Ds])==null?void 0:R.z)??0,isParent:!!((L=d[Ds])!=null&&L.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!d.width&&!!d.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((S=d[Ds])!=null&&S.handleBounds)})}))};HO.displayName="NodeRenderer";var KSe=ee.memo(HO);const qSe=(t,e,n)=>n===on.Left?t-e:n===on.Right?t+e:t,WSe=(t,e,n)=>n===on.Top?t-e:n===on.Bottom?t+e:t,eD="react-flow__edgeupdater",tD=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:a,onMouseOut:i,type:o})=>ut.createElement("circle",{onMouseDown:s,onMouseEnter:a,onMouseOut:i,className:qi([eD,`${eD}-${o}`]),cx:qSe(e,r,t),cy:WSe(n,r,t),r,stroke:"transparent",fill:"transparent"}),$Se=()=>!0;var w0=t=>{const e=({id:n,className:r,type:s,data:a,onClick:i,onEdgeDoubleClick:o,selected:l,animated:A,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:w,labelBgBorderRadius:b,style:E,source:T,target:I,sourceX:k,sourceY:F,targetX:R,targetY:L,sourcePosition:S,targetPosition:N,elementsSelectable:B,hidden:H,sourceHandleId:P,targetHandleId:M,onContextMenu:V,onMouseEnter:G,onMouseMove:oe,onMouseLeave:K,reconnectRadius:Z,onReconnect:re,onReconnectStart:q,onReconnectEnd:X,markerEnd:ue,markerStart:j,rfId:W,ariaLabel:J,isFocusable:ne,isReconnectable:ie,pathOptions:de,interactionWidth:me,disableKeyboardA11y:xe})=>{const Se=ee.useRef(null),[ge,ae]=ee.useState(!1),[Fe,et]=ee.useState(!1),De=Ga(),Ce=ee.useMemo(()=>`url('#${yS(j,W)}')`,[j,W]),Ge=ee.useMemo(()=>`url('#${yS(ue,W)}')`,[ue,W]);if(H)return null;const nt=xt=>{var Er;const{edges:xn,addSelectedEdges:$t,unselectNodesAndEdges:ir,multiSelectionActive:mn}=De.getState(),Fn=xn.find(Bn=>Bn.id===n);Fn&&(B&&(De.setState({nodesSelectionActive:!1}),Fn.selected&&mn?(ir({nodes:[],edges:[Fn]}),(Er=Se.current)==null||Er.blur()):$t([n])),i&&i(xt,Fn))},it=jp(n,De.getState,o),dt=jp(n,De.getState,V),Ct=jp(n,De.getState,G),At=jp(n,De.getState,oe),kt=jp(n,De.getState,K),Ft=(xt,xn)=>{if(xt.button!==0)return;const{edges:$t,isValidConnection:ir}=De.getState(),mn=xn?I:T,Fn=(xn?M:P)||null,Er=xn?"target":"source",Bn=ir||$Se,ta=xn,Xn=$t.find(Dn=>Dn.id===n);et(!0),q==null||q(xt,Xn,Er);const Wr=Dn=>{et(!1),X==null||X(Dn,Xn,Er)};wO({event:xt,handleId:Fn,nodeId:mn,onConnect:Dn=>re==null?void 0:re(Xn,Dn),isTarget:ta,getState:De.getState,setState:De.setState,isValidConnection:Bn,edgeUpdaterType:Er,onReconnectEnd:Wr})},Wt=xt=>Ft(xt,!0),Mt=xt=>Ft(xt,!1),Vt=()=>ae(!0),Jt=()=>ae(!1),Pt=!B&&!i,It=xt=>{var xn;if(!xe&&cO.includes(xt.key)&&B){const{unselectNodesAndEdges:$t,addSelectedEdges:ir,edges:mn}=De.getState();xt.key==="Escape"?((xn=Se.current)==null||xn.blur(),$t({edges:[mn.find(Er=>Er.id===n)]})):ir([n])}};return ut.createElement("g",{className:qi(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:l,animated:A,inactive:Pt,updating:ge}]),onClick:nt,onDoubleClick:it,onContextMenu:dt,onMouseEnter:Ct,onMouseMove:At,onMouseLeave:kt,onKeyDown:ne?It:void 0,tabIndex:ne?0:void 0,role:ne?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":J===null?void 0:J||`Edge from ${T} to ${I}`,"aria-describedby":ne?`${kO}-${W}`:void 0,ref:Se},!Fe&&ut.createElement(t,{id:n,source:T,target:I,selected:l,animated:A,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:w,labelBgBorderRadius:b,data:a,style:E,sourceX:k,sourceY:F,targetX:R,targetY:L,sourcePosition:S,targetPosition:N,sourceHandleId:P,targetHandleId:M,markerStart:Ce,markerEnd:Ge,pathOptions:de,interactionWidth:me}),ie&&ut.createElement(ut.Fragment,null,(ie==="source"||ie===!0)&&ut.createElement(tD,{position:S,centerX:k,centerY:F,radius:Z,onMouseDown:Wt,onMouseEnter:Vt,onMouseOut:Jt,type:"source"}),(ie==="target"||ie===!0)&&ut.createElement(tD,{position:N,centerX:R,centerY:L,radius:Z,onMouseDown:Mt,onMouseEnter:Vt,onMouseOut:Jt,type:"target"})))};return e.displayName="EdgeWrapper",ee.memo(e)};function YSe(t){const e={default:w0(t.default||wy),straight:w0(t.bezier||M4),step:w0(t.step||L4),smoothstep:w0(t.step||Tw),simplebezier:w0(t.simplebezier||U4)},n={},r=Object.keys(t).filter(s=>!["default","bezier"].includes(s)).reduce((s,a)=>(s[a]=w0(t[a]||wy),s),n);return{...e,...r}}function nD(t,e,n=null){const r=((n==null?void 0:n.x)||0)+e.x,s=((n==null?void 0:n.y)||0)+e.y,a=(n==null?void 0:n.width)||e.width,i=(n==null?void 0:n.height)||e.height;switch(t){case on.Top:return{x:r+a/2,y:s};case on.Right:return{x:r+a,y:s+i/2};case on.Bottom:return{x:r+a/2,y:s+i};case on.Left:return{x:r,y:s+i/2}}}function rD(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const JSe=(t,e,n,r,s,a)=>{const i=nD(n,t,e),o=nD(a,r,s);return{sourceX:i.x,sourceY:i.y,targetX:o.x,targetY:o.y}};function XSe({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:a,width:i,height:o,transform:l}){const A={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+s),y2:Math.max(t.y+r,e.y+a)};A.x===A.x2&&(A.x2+=1),A.y===A.y2&&(A.y2+=1);const d=D4({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:i/l[2],height:o/l[2]}),h=Math.max(0,Math.min(d.x2,A.x2)-Math.max(d.x,A.x)),p=Math.max(0,Math.min(d.y2,A.y2)-Math.max(d.y,A.y));return Math.ceil(h*p)>0}function sD(t){var r,s,a,i,o;const e=((r=t==null?void 0:t[Ds])==null?void 0:r.handleBounds)||null,n=e&&(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&typeof((s=t==null?void 0:t.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((a=t==null?void 0:t.positionAbsolute)==null?void 0:a.y)<"u";return[{x:((i=t==null?void 0:t.positionAbsolute)==null?void 0:i.x)||0,y:((o=t==null?void 0:t.positionAbsolute)==null?void 0:o.y)||0,width:(t==null?void 0:t.width)||0,height:(t==null?void 0:t.height)||0},e,!!n]}const ZSe=[{level:0,isMaxLevel:!0,edges:[]}];function e5e(t,e,n=!1){let r=-1;const s=t.reduce((i,o)=>{var d,h;const l=Nl(o.zIndex);let A=l?o.zIndex:0;if(n){const p=e.get(o.target),g=e.get(o.source),w=o.selected||(p==null?void 0:p.selected)||(g==null?void 0:g.selected),b=Math.max(((d=g==null?void 0:g[Ds])==null?void 0:d.z)||0,((h=p==null?void 0:p[Ds])==null?void 0:h.z)||0,1e3);A=(l?o.zIndex:0)+(w?b:0)}return i[A]?i[A].push(o):i[A]=[o],r=A>r?A:r,i},{}),a=Object.entries(s).map(([i,o])=>{const l=+i;return{edges:o,level:l,isMaxLevel:l===r}});return a.length===0?ZSe:a}function t5e(t,e,n){const r=Cs(ee.useCallback(s=>t?s.edges.filter(a=>{const i=e.get(a.source),o=e.get(a.target);return(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&XSe({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:o.width,targetHeight:o.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[t,e]));return e5e(r,e,n)}const n5e=({color:t="none",strokeWidth:e=1})=>ut.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),r5e=({color:t="none",strokeWidth:e=1})=>ut.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),aD={[yy.Arrow]:n5e,[yy.ArrowClosed]:r5e};function s5e(t){const e=Ga();return ee.useMemo(()=>{var s,a;return Object.prototype.hasOwnProperty.call(aD,t)?aD[t]:((a=(s=e.getState()).onError)==null||a.call(s,"009",Eu.error009(t)),null)},[t])}const a5e=({id:t,type:e,color:n,width:r=12.5,height:s=12.5,markerUnits:a="strokeWidth",strokeWidth:i,orient:o="auto-start-reverse"})=>{const l=s5e(e);return l?ut.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:o,refX:"0",refY:"0"},ut.createElement(l,{color:n,strokeWidth:i})):null},i5e=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((s,a)=>([a.markerStart,a.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const o=yS(i,e);r.includes(o)||(s.push({id:o,color:i.color||t,...i}),r.push(o))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))},VO=({defaultColor:t,rfId:e})=>{const n=Cs(ee.useCallback(i5e({defaultColor:t,rfId:e}),[t,e]),(r,s)=>!(r.length!==s.length||r.some((a,i)=>a.id!==s[i].id)));return ut.createElement("defs",null,n.map(r=>ut.createElement(a5e,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};VO.displayName="MarkerDefinitions";var o5e=ee.memo(VO);const l5e=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),GO=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:a,onEdgeContextMenu:i,onEdgeMouseEnter:o,onEdgeMouseMove:l,onEdgeMouseLeave:A,onEdgeClick:d,onEdgeDoubleClick:h,onReconnect:p,onReconnectStart:g,onReconnectEnd:w,reconnectRadius:b,children:E,disableKeyboardA11y:T})=>{const{edgesFocusable:I,edgesUpdatable:k,elementsSelectable:F,width:R,height:L,connectionMode:S,nodeInternals:N,onError:B}=Cs(l5e,Mi),H=t5e(e,N,n);return R?ut.createElement(ut.Fragment,null,H.map(({level:P,edges:M,isMaxLevel:V})=>ut.createElement("svg",{key:P,style:{zIndex:P},width:R,height:L,className:"react-flow__edges react-flow__container"},V&&ut.createElement(o5e,{defaultColor:t,rfId:r}),ut.createElement("g",null,M.map(G=>{const[oe,K,Z]=sD(N.get(G.source)),[re,q,X]=sD(N.get(G.target));if(!Z||!X)return null;let ue=G.type||"default";s[ue]||(B==null||B("011",Eu.error011(ue)),ue="default");const j=s[ue]||s.default,W=S===mh.Strict?q.target:(q.target??[]).concat(q.source??[]),J=rD(K.source,G.sourceHandle),ne=rD(W,G.targetHandle),ie=(J==null?void 0:J.position)||on.Bottom,de=(ne==null?void 0:ne.position)||on.Top,me=!!(G.focusable||I&&typeof G.focusable>"u"),xe=G.reconnectable||G.updatable,Se=typeof p<"u"&&(xe||k&&typeof xe>"u");if(!J||!ne)return B==null||B("008",Eu.error008(J,G)),null;const{sourceX:ge,sourceY:ae,targetX:Fe,targetY:et}=JSe(oe,J,ie,re,ne,de);return ut.createElement(j,{key:G.id,id:G.id,className:qi([G.className,a]),type:ue,data:G.data,selected:!!G.selected,animated:!!G.animated,hidden:!!G.hidden,label:G.label,labelStyle:G.labelStyle,labelShowBg:G.labelShowBg,labelBgStyle:G.labelBgStyle,labelBgPadding:G.labelBgPadding,labelBgBorderRadius:G.labelBgBorderRadius,style:G.style,source:G.source,target:G.target,sourceHandleId:G.sourceHandle,targetHandleId:G.targetHandle,markerEnd:G.markerEnd,markerStart:G.markerStart,sourceX:ge,sourceY:ae,targetX:Fe,targetY:et,sourcePosition:ie,targetPosition:de,elementsSelectable:F,onContextMenu:i,onMouseEnter:o,onMouseMove:l,onMouseLeave:A,onClick:d,onEdgeDoubleClick:h,onReconnect:p,onReconnectStart:g,onReconnectEnd:w,reconnectRadius:b,rfId:r,ariaLabel:G.ariaLabel,isFocusable:me,isReconnectable:Se,pathOptions:"pathOptions"in G?G.pathOptions:void 0,interactionWidth:G.interactionWidth,disableKeyboardA11y:T})})))),E):null};GO.displayName="EdgeRenderer";var c5e=ee.memo(GO);const A5e=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function u5e({children:t}){const e=Cs(A5e);return ut.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function d5e(t){const e=Bw(),n=ee.useRef(!1);ee.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const f5e={[on.Left]:on.Right,[on.Right]:on.Left,[on.Top]:on.Bottom,[on.Bottom]:on.Top},zO=({nodeId:t,handleType:e,style:n,type:r=_d.Bezier,CustomComponent:s,connectionStatus:a})=>{var L,S,N;const{fromNode:i,handleId:o,toX:l,toY:A,connectionMode:d}=Cs(ee.useCallback(B=>({fromNode:B.nodeInternals.get(t),handleId:B.connectionHandleId,toX:(B.connectionPosition.x-B.transform[0])/B.transform[2],toY:(B.connectionPosition.y-B.transform[1])/B.transform[2],connectionMode:B.connectionMode}),[t]),Mi),h=(L=i==null?void 0:i[Ds])==null?void 0:L.handleBounds;let p=h==null?void 0:h[e];if(d===mh.Loose&&(p=p||(h==null?void 0:h[e==="source"?"target":"source"])),!i||!p)return null;const g=o?p.find(B=>B.id===o):p[0],w=g?g.x+g.width/2:(i.width??0)/2,b=g?g.y+g.height/2:i.height??0,E=(((S=i.positionAbsolute)==null?void 0:S.x)??0)+w,T=(((N=i.positionAbsolute)==null?void 0:N.y)??0)+b,I=g==null?void 0:g.position,k=I?f5e[I]:null;if(!I||!k)return null;if(s)return ut.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:i,fromHandle:g,fromX:E,fromY:T,toX:l,toY:A,fromPosition:I,toPosition:k,connectionStatus:a});let F="";const R={sourceX:E,sourceY:T,sourcePosition:I,targetX:l,targetY:A,targetPosition:k};return r===_d.Bezier?[F]=hO(R):r===_d.Step?[F]=vS({...R,borderRadius:0}):r===_d.SmoothStep?[F]=vS(R):r===_d.SimpleBezier?[F]=fO(R):F=`M${E},${T} ${l},${A}`,ut.createElement("path",{d:F,fill:"none",className:"react-flow__connection-path",style:n})};zO.displayName="ConnectionLine";const h5e=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function m5e({containerStyle:t,style:e,type:n,component:r}){const{nodeId:s,handleType:a,nodesConnectable:i,width:o,height:l,connectionStatus:A}=Cs(h5e,Mi);return!(s&&a&&o&&i)?null:ut.createElement("svg",{style:t,width:o,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},ut.createElement("g",{className:qi(["react-flow__connection",A])},ut.createElement(zO,{nodeId:s,handleType:a,style:e,type:n,CustomComponent:r,connectionStatus:A})))}function iD(t,e){return ee.useRef(null),Ga(),ee.useMemo(()=>e(t),[t])}const KO=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:a,onNodeClick:i,onEdgeClick:o,onNodeDoubleClick:l,onEdgeDoubleClick:A,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:g,onSelectionContextMenu:w,onSelectionStart:b,onSelectionEnd:E,connectionLineType:T,connectionLineStyle:I,connectionLineComponent:k,connectionLineContainerStyle:F,selectionKeyCode:R,selectionOnDrag:L,selectionMode:S,multiSelectionKeyCode:N,panActivationKeyCode:B,zoomActivationKeyCode:H,deleteKeyCode:P,onlyRenderVisibleElements:M,elementsSelectable:V,selectNodesOnDrag:G,defaultViewport:oe,translateExtent:K,minZoom:Z,maxZoom:re,preventScrolling:q,defaultMarkerColor:X,zoomOnScroll:ue,zoomOnPinch:j,panOnScroll:W,panOnScrollSpeed:J,panOnScrollMode:ne,zoomOnDoubleClick:ie,panOnDrag:de,onPaneClick:me,onPaneMouseEnter:xe,onPaneMouseMove:Se,onPaneMouseLeave:ge,onPaneScroll:ae,onPaneContextMenu:Fe,onEdgeContextMenu:et,onEdgeMouseEnter:De,onEdgeMouseMove:Ce,onEdgeMouseLeave:Ge,onReconnect:nt,onReconnectStart:it,onReconnectEnd:dt,reconnectRadius:Ct,noDragClassName:At,noWheelClassName:kt,noPanClassName:Ft,elevateEdgesOnSelect:Wt,disableKeyboardA11y:Mt,nodeOrigin:Vt,nodeExtent:Jt,rfId:Pt})=>{const It=iD(t,VSe),xt=iD(e,YSe);return d5e(a),ut.createElement(QSe,{onPaneClick:me,onPaneMouseEnter:xe,onPaneMouseMove:Se,onPaneMouseLeave:ge,onPaneContextMenu:Fe,onPaneScroll:ae,deleteKeyCode:P,selectionKeyCode:R,selectionOnDrag:L,selectionMode:S,onSelectionStart:b,onSelectionEnd:E,multiSelectionKeyCode:N,panActivationKeyCode:B,zoomActivationKeyCode:H,elementsSelectable:V,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:ue,zoomOnPinch:j,zoomOnDoubleClick:ie,panOnScroll:W,panOnScrollSpeed:J,panOnScrollMode:ne,panOnDrag:de,defaultViewport:oe,translateExtent:K,minZoom:Z,maxZoom:re,onSelectionContextMenu:w,preventScrolling:q,noDragClassName:At,noWheelClassName:kt,noPanClassName:Ft,disableKeyboardA11y:Mt},ut.createElement(u5e,null,ut.createElement(c5e,{edgeTypes:xt,onEdgeClick:o,onEdgeDoubleClick:A,onlyRenderVisibleElements:M,onEdgeContextMenu:et,onEdgeMouseEnter:De,onEdgeMouseMove:Ce,onEdgeMouseLeave:Ge,onReconnect:nt,onReconnectStart:it,onReconnectEnd:dt,reconnectRadius:Ct,defaultMarkerColor:X,noPanClassName:Ft,elevateEdgesOnSelect:!!Wt,disableKeyboardA11y:Mt,rfId:Pt},ut.createElement(m5e,{style:I,type:T,component:k,containerStyle:F})),ut.createElement("div",{className:"react-flow__edgelabel-renderer"}),ut.createElement(KSe,{nodeTypes:It,onNodeClick:i,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:g,selectNodesOnDrag:G,onlyRenderVisibleElements:M,noPanClassName:Ft,noDragClassName:At,disableKeyboardA11y:Mt,nodeOrigin:Vt,nodeExtent:Jt,rfId:Pt})))};KO.displayName="GraphView";var p5e=ee.memo(KO);const ES=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],md={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:ES,nodeExtent:ES,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:mh.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:G_e,isValidConnection:void 0},g5e=()=>rbe((t,e)=>({...md,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:a}=e();t({nodeInternals:bE(n,r,s,a)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",a=typeof r<"u",i=s?bE(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:i,edges:a?r:[],hasDefaultNodes:s,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:a,fitViewOnInitDone:i,fitViewOnInitOptions:o,domNode:l,nodeOrigin:A}=e(),d=l==null?void 0:l.querySelector(".react-flow__viewport");if(!d)return;const h=window.getComputedStyle(d),{m22:p}=new window.DOMMatrixReadOnly(h.transform),g=n.reduce((b,E)=>{const T=s.get(E.id);if(T!=null&&T.hidden)s.set(T.id,{...T,[Ds]:{...T[Ds],handleBounds:void 0}});else if(T){const I=F4(E.nodeElement);!!(I.width&&I.height&&(T.width!==I.width||T.height!==I.height||E.forceUpdate))&&(s.set(T.id,{...T,[Ds]:{...T[Ds],handleBounds:{source:ZR(".source",E.nodeElement,p,A),target:ZR(".target",E.nodeElement,p,A)}},...I}),b.push({id:T.id,type:"dimensions",dimensions:I}))}return b},[]);FO(s,A);const w=i||a&&!i&&RO(e,{initial:!0,...o});t({nodeInternals:new Map(s),fitViewOnInitDone:w}),(g==null?void 0:g.length)>0&&(r==null||r(g))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:a}=e(),i=n.map(o=>{const l={id:o.id,type:"position",dragging:s};return r&&(l.positionAbsolute=o.positionAbsolute,l.position=o.position),l});a(i)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:a,nodeOrigin:i,getNodes:o,elevateNodesOnSelect:l}=e();if(n!=null&&n.length){if(a){const A=UO(n,o()),d=bE(A,s,i,l);t({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:a}=e();let i,o=null;r?i=n.map(l=>yd(l,!0)):(i=j0(a(),n),o=j0(s,[])),Ov({changedNodes:i,changedEdges:o,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:a}=e();let i,o=null;r?i=n.map(l=>yd(l,!0)):(i=j0(s,n),o=j0(a(),[])),Ov({changedNodes:o,changedEdges:i,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:a}=e(),i=n||a(),o=r||s,l=i.map(d=>(d.selected=!1,yd(d.id,!1))),A=o.map(d=>yd(d.id,!1));Ov({changedNodes:l,changedEdges:A,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=e();r==null||r.scaleExtent([n,s]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=e();r==null||r.scaleExtent([s,n]),t({maxZoom:n})},setTranslateExtent:n=>{var r;(r=e().d3Zoom)==null||r.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),a=r().filter(o=>o.selected).map(o=>yd(o.id,!1)),i=n.filter(o=>o.selected).map(o=>yd(o.id,!1));Ov({changedNodes:a,changedEdges:i,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(s=>{s.positionAbsolute=R4(s.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:a,d3Zoom:i,d3Selection:o,translateExtent:l}=e();if(!i||!o||!n.x&&!n.y)return!1;const A=Qd.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[s,a]],h=i==null?void 0:i.constrain()(A,d,l);return i.transform(o,h),r[0]!==h.x||r[1]!==h.y||r[2]!==h.k},cancelConnection:()=>t({connectionNodeId:md.connectionNodeId,connectionHandleId:md.connectionHandleId,connectionHandleType:md.connectionHandleType,connectionStatus:md.connectionStatus,connectionStartHandle:md.connectionStartHandle,connectionEndHandle:md.connectionEndHandle}),reset:()=>t({...md})}),Object.is),V4=({children:t})=>{const e=ee.useRef(null);return e.current||(e.current=g5e()),ut.createElement(L_e,{value:e.current},t)};V4.displayName="ReactFlowProvider";const qO=({children:t})=>ee.useContext(Sw)?ut.createElement(ut.Fragment,null,t):ut.createElement(V4,null,t);qO.displayName="ReactFlowWrapper";const x5e={input:_O,default:bS,output:TO,group:Q4},v5e={default:wy,straight:M4,step:L4,smoothstep:Tw,simplebezier:U4},y5e=[0,0],w5e=[15,15],b5e={x:0,y:0,zoom:1},C5e={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},WO=ee.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:a=x5e,edgeTypes:i=v5e,onNodeClick:o,onEdgeClick:l,onInit:A,onMove:d,onMoveStart:h,onMoveEnd:p,onConnect:g,onConnectStart:w,onConnectEnd:b,onClickConnectStart:E,onClickConnectEnd:T,onNodeMouseEnter:I,onNodeMouseMove:k,onNodeMouseLeave:F,onNodeContextMenu:R,onNodeDoubleClick:L,onNodeDragStart:S,onNodeDrag:N,onNodeDragStop:B,onNodesDelete:H,onEdgesDelete:P,onSelectionChange:M,onSelectionDragStart:V,onSelectionDrag:G,onSelectionDragStop:oe,onSelectionContextMenu:K,onSelectionStart:Z,onSelectionEnd:re,connectionMode:q=mh.Strict,connectionLineType:X=_d.Bezier,connectionLineStyle:ue,connectionLineComponent:j,connectionLineContainerStyle:W,deleteKeyCode:J="Backspace",selectionKeyCode:ne="Shift",selectionOnDrag:ie=!1,selectionMode:de=ux.Full,panActivationKeyCode:me="Space",multiSelectionKeyCode:xe=vy()?"Meta":"Control",zoomActivationKeyCode:Se=vy()?"Meta":"Control",snapToGrid:ge=!1,snapGrid:ae=w5e,onlyRenderVisibleElements:Fe=!1,selectNodesOnDrag:et=!0,nodesDraggable:De,nodesConnectable:Ce,nodesFocusable:Ge,nodeOrigin:nt=y5e,edgesFocusable:it,edgesUpdatable:dt,elementsSelectable:Ct,defaultViewport:At=b5e,minZoom:kt=.5,maxZoom:Ft=2,translateExtent:Wt=ES,preventScrolling:Mt=!0,nodeExtent:Vt,defaultMarkerColor:Jt="#b1b1b7",zoomOnScroll:Pt=!0,zoomOnPinch:It=!0,panOnScroll:xt=!1,panOnScrollSpeed:xn=.5,panOnScrollMode:$t=zf.Free,zoomOnDoubleClick:ir=!0,panOnDrag:mn=!0,onPaneClick:Fn,onPaneMouseEnter:Er,onPaneMouseMove:Bn,onPaneMouseLeave:ta,onPaneScroll:Xn,onPaneContextMenu:Wr,children:ls,onEdgeContextMenu:Dn,onEdgeDoubleClick:tn,onEdgeMouseEnter:On,onEdgeMouseMove:na,onEdgeMouseLeave:Or,onEdgeUpdate:hs,onEdgeUpdateStart:ga,onEdgeUpdateEnd:Ht,onReconnect:or,onReconnectStart:Zn,onReconnectEnd:_r,reconnectRadius:kr=10,edgeUpdaterRadius:Qr=10,onNodesChange:fe,onEdgesChange:Ne,noDragClassName:Ee="nodrag",noWheelClassName:_e="nowheel",noPanClassName:Te="nopan",fitView:ke=!1,fitViewOptions:Ke,connectOnClick:tt=!0,attributionPosition:Qe,proOptions:We,defaultEdgeOptions:Je,elevateNodesOnSelect:yt=!0,elevateEdgesOnSelect:Nt=!1,disableKeyboardA11y:jt=!1,autoPanOnConnect:Tt=!0,autoPanOnNodeDrag:Rt=!0,connectionRadius:An=20,isValidConnection:Un,onError:Ln,style:Qn,id:Es,nodeDragThreshold:ii,..._s},ra)=>{const Ms=Es||"1";return ut.createElement("div",{..._s,style:{...Qn,...C5e},ref:ra,className:qi(["react-flow",s]),"data-testid":"rf__wrapper",id:Es},ut.createElement(qO,null,ut.createElement(p5e,{onInit:A,onMove:d,onMoveStart:h,onMoveEnd:p,onNodeClick:o,onEdgeClick:l,onNodeMouseEnter:I,onNodeMouseMove:k,onNodeMouseLeave:F,onNodeContextMenu:R,onNodeDoubleClick:L,nodeTypes:a,edgeTypes:i,connectionLineType:X,connectionLineStyle:ue,connectionLineComponent:j,connectionLineContainerStyle:W,selectionKeyCode:ne,selectionOnDrag:ie,selectionMode:de,deleteKeyCode:J,multiSelectionKeyCode:xe,panActivationKeyCode:me,zoomActivationKeyCode:Se,onlyRenderVisibleElements:Fe,selectNodesOnDrag:et,defaultViewport:At,translateExtent:Wt,minZoom:kt,maxZoom:Ft,preventScrolling:Mt,zoomOnScroll:Pt,zoomOnPinch:It,zoomOnDoubleClick:ir,panOnScroll:xt,panOnScrollSpeed:xn,panOnScrollMode:$t,panOnDrag:mn,onPaneClick:Fn,onPaneMouseEnter:Er,onPaneMouseMove:Bn,onPaneMouseLeave:ta,onPaneScroll:Xn,onPaneContextMenu:Wr,onSelectionContextMenu:K,onSelectionStart:Z,onSelectionEnd:re,onEdgeContextMenu:Dn,onEdgeDoubleClick:tn,onEdgeMouseEnter:On,onEdgeMouseMove:na,onEdgeMouseLeave:Or,onReconnect:or??hs,onReconnectStart:Zn??ga,onReconnectEnd:_r??Ht,reconnectRadius:kr??Qr,defaultMarkerColor:Jt,noDragClassName:Ee,noWheelClassName:_e,noPanClassName:Te,elevateEdgesOnSelect:Nt,rfId:Ms,disableKeyboardA11y:jt,nodeOrigin:nt,nodeExtent:Vt}),ut.createElement(fSe,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:w,onConnectEnd:b,onClickConnectStart:E,onClickConnectEnd:T,nodesDraggable:De,nodesConnectable:Ce,nodesFocusable:Ge,edgesFocusable:it,edgesUpdatable:dt,elementsSelectable:Ct,elevateNodesOnSelect:yt,minZoom:kt,maxZoom:Ft,nodeExtent:Vt,onNodesChange:fe,onEdgesChange:Ne,snapToGrid:ge,snapGrid:ae,connectionMode:q,translateExtent:Wt,connectOnClick:tt,defaultEdgeOptions:Je,fitView:ke,fitViewOptions:Ke,onNodesDelete:H,onEdgesDelete:P,onNodeDragStart:S,onNodeDrag:N,onNodeDragStop:B,onSelectionDrag:G,onSelectionDragStart:V,onSelectionDragStop:oe,noPanClassName:Te,nodeOrigin:nt,rfId:Ms,autoPanOnConnect:Tt,autoPanOnNodeDrag:Rt,onError:Ln,connectionRadius:An,isValidConnection:Un,nodeDragThreshold:ii}),ut.createElement(uSe,{onSelectionChange:M}),ls,ut.createElement(P_e,{proOptions:We,position:Qe}),ut.createElement(xSe,{rfId:Ms,disableKeyboardA11y:jt})))});WO.displayName="ReactFlow";function $O(t){return e=>{const[n,r]=ee.useState(e),s=ee.useCallback(a=>r(i=>t(a,i)),[]);return[n,r,s]}}const E5e=$O(UO),_5e=$O(FSe);function S5e(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ut.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function T5e(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ut.createElement("path",{d:"M0 0h32v4.2H0z"}))}function B5e(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ut.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function N5e(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ut.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function k5e(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ut.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const lg=({children:t,className:e,...n})=>ut.createElement("button",{type:"button",className:qi(["react-flow__controls-button",e]),...n},t);lg.displayName="ControlButton";const I5e=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),YO=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:a,onZoomOut:i,onFitView:o,onInteractiveChange:l,className:A,children:d,position:h="bottom-left"})=>{const p=Ga(),[g,w]=ee.useState(!1),{isInteractive:b,minZoomReached:E,maxZoomReached:T}=Cs(I5e,Mi),{zoomIn:I,zoomOut:k,fitView:F}=Bw();if(ee.useEffect(()=>{w(!0)},[]),!g)return null;const R=()=>{I(),a==null||a()},L=()=>{k(),i==null||i()},S=()=>{F(s),o==null||o()},N=()=>{p.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),l==null||l(!b)};return ut.createElement(iO,{className:qi(["react-flow__controls",A]),position:h,style:t,"data-testid":"rf__controls"},e&&ut.createElement(ut.Fragment,null,ut.createElement(lg,{onClick:R,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:T},ut.createElement(S5e,null)),ut.createElement(lg,{onClick:L,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:E},ut.createElement(T5e,null))),n&&ut.createElement(lg,{className:"react-flow__controls-fitview",onClick:S,title:"fit view","aria-label":"fit view"},ut.createElement(B5e,null)),r&&ut.createElement(lg,{className:"react-flow__controls-interactive",onClick:N,title:"toggle interactivity","aria-label":"toggle interactivity"},b?ut.createElement(k5e,null):ut.createElement(N5e,null)),d)};YO.displayName="Controls";var F5e=ee.memo(YO),xc;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(xc||(xc={}));function R5e({color:t,dimensions:e,lineWidth:n}){return ut.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function D5e({color:t,radius:e}){return ut.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const U5e={[xc.Dots]:"#91919a",[xc.Lines]:"#eee",[xc.Cross]:"#e2e2e2"},L5e={[xc.Dots]:1,[xc.Lines]:1,[xc.Cross]:6},M5e=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function JO({id:t,variant:e=xc.Dots,gap:n=20,size:r,lineWidth:s=1,offset:a=2,color:i,style:o,className:l}){const A=ee.useRef(null),{transform:d,patternId:h}=Cs(M5e,Mi),p=i||U5e[e],g=r||L5e[e],w=e===xc.Dots,b=e===xc.Cross,E=Array.isArray(n)?n:[n,n],T=[E[0]*d[2]||1,E[1]*d[2]||1],I=g*d[2],k=b?[I,I]:T,F=w?[I/a,I/a]:[k[0]/a,k[1]/a];return ut.createElement("svg",{className:qi(["react-flow__background",l]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:A,"data-testid":"rf__background"},ut.createElement("pattern",{id:h+t,x:d[0]%T[0],y:d[1]%T[1],width:T[0],height:T[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${F[0]},-${F[1]})`},w?ut.createElement(D5e,{color:p,radius:I/a}):ut.createElement(R5e,{dimensions:k,color:p,lineWidth:s})),ut.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+t})`}))}JO.displayName="Background";var P5e=ee.memo(JO);function j5e(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),s=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(s),e&&(r.href=e),s.href=t,s.href}const O5e=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function Vd(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}let b0=null;function XO(t={}){return b0||(t.includeStyleProperties?(b0=t.includeStyleProperties,b0):(b0=Vd(window.getComputedStyle(document.documentElement)),b0))}function Cy(t,e){const r=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function Q5e(t){const e=Cy(t,"border-left-width"),n=Cy(t,"border-right-width");return t.clientWidth+e+n}function H5e(t){const e=Cy(t,"border-top-width"),n=Cy(t,"border-bottom-width");return t.clientHeight+e+n}function ZO(t,e={}){const n=e.width||Q5e(t),r=e.height||H5e(t);return{width:n,height:r}}function V5e(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const Mo=16384;function G5e(t){(t.width>Mo||t.height>Mo)&&(t.width>Mo&&t.height>Mo?t.width>t.height?(t.height*=Mo/t.width,t.width=Mo):(t.width*=Mo/t.height,t.height=Mo):t.width>Mo?(t.height*=Mo/t.width,t.width=Mo):(t.width*=Mo/t.height,t.height=Mo))}function Ey(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t})}async function z5e(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function K5e(t,e,n){const r="http://www.w3.org/2000/svg",s=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return s.setAttribute("width",`${e}`),s.setAttribute("height",`${n}`),s.setAttribute("viewBox",`0 0 ${e} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),s.appendChild(a),a.appendChild(t),z5e(s)}const po=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||po(n,e)};function q5e(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function W5e(t,e){return XO(e).map(n=>{const r=t.getPropertyValue(n),s=t.getPropertyPriority(n);return`${n}: ${r}${s?" !important":""};`}).join(" ")}function $5e(t,e,n,r){const s=`.${t}:${e}`,a=n.cssText?q5e(n):W5e(n,r);return document.createTextNode(`${s}{${a}}`)}function oD(t,e,n,r){const s=window.getComputedStyle(t,n),a=s.getPropertyValue("content");if(a===""||a==="none")return;const i=O5e();try{e.className=`${e.className} ${i}`}catch{return}const o=document.createElement("style");o.appendChild($5e(i,n,s,r)),e.appendChild(o)}function Y5e(t,e,n){oD(t,e,":before",n),oD(t,e,":after",n)}const lD="application/font-woff",cD="image/jpeg",J5e={woff:lD,woff2:lD,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:cD,jpeg:cD,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function X5e(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function G4(t){const e=X5e(t).toLowerCase();return J5e[e]||""}function Z5e(t){return t.split(/,/)[1]}function _S(t){return t.search(/^(data:)/)!==-1}function e4e(t,e){return`data:${e};base64,${t}`}async function eQ(t,e,n){const r=await fetch(t,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const s=await r.blob();return new Promise((a,i)=>{const o=new FileReader;o.onerror=i,o.onloadend=()=>{try{a(n({res:r,result:o.result}))}catch(l){i(l)}},o.readAsDataURL(s)})}const SE={};function t4e(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function z4(t,e,n){const r=t4e(t,e,n.includeQueryParams);if(SE[r]!=null)return SE[r];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let s;try{const a=await eQ(t,n.fetchRequestInit,({res:i,result:o})=>(e||(e=i.headers.get("Content-Type")||""),Z5e(o)));s=e4e(a,e)}catch(a){s=n.imagePlaceholder||"";let i=`Failed to fetch resource: ${t}`;a&&(i=typeof a=="string"?a:a.message),i&&console.warn(i)}return SE[r]=s,s}async function n4e(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):Ey(e)}async function r4e(t,e){if(t.currentSrc){const a=document.createElement("canvas"),i=a.getContext("2d");a.width=t.clientWidth,a.height=t.clientHeight,i==null||i.drawImage(t,0,0,a.width,a.height);const o=a.toDataURL();return Ey(o)}const n=t.poster,r=G4(n),s=await z4(n,r,e);return Ey(s)}async function s4e(t,e){var n;try{if(!((n=t==null?void 0:t.contentDocument)===null||n===void 0)&&n.body)return await Nw(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function a4e(t,e){return po(t,HTMLCanvasElement)?n4e(t):po(t,HTMLVideoElement)?r4e(t,e):po(t,HTMLIFrameElement)?s4e(t,e):t.cloneNode(tQ(t))}const i4e=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",tQ=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function o4e(t,e,n){var r,s;if(tQ(e))return e;let a=[];return i4e(t)&&t.assignedNodes?a=Vd(t.assignedNodes()):po(t,HTMLIFrameElement)&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?a=Vd(t.contentDocument.body.childNodes):a=Vd(((s=t.shadowRoot)!==null&&s!==void 0?s:t).childNodes),a.length===0||po(t,HTMLVideoElement)||await a.reduce((i,o)=>i.then(()=>Nw(o,n)).then(l=>{l&&e.appendChild(l)}),Promise.resolve()),e}function l4e(t,e,n){const r=e.style;if(!r)return;const s=window.getComputedStyle(t);s.cssText?(r.cssText=s.cssText,r.transformOrigin=s.transformOrigin):XO(n).forEach(a=>{let i=s.getPropertyValue(a);a==="font-size"&&i.endsWith("px")&&(i=`${Math.floor(parseFloat(i.substring(0,i.length-2)))-.1}px`),po(t,HTMLIFrameElement)&&a==="display"&&i==="inline"&&(i="block"),a==="d"&&e.getAttribute("d")&&(i=`path(${e.getAttribute("d")})`),r.setProperty(a,i,s.getPropertyPriority(a))})}function c4e(t,e){po(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),po(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function A4e(t,e){if(po(t,HTMLSelectElement)){const n=e,r=Array.from(n.children).find(s=>t.value===s.getAttribute("value"));r&&r.setAttribute("selected","")}}function u4e(t,e,n){return po(e,Element)&&(l4e(t,e,n),Y5e(t,e,n),c4e(t,e),A4e(t,e)),e}async function d4e(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const r={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("xlink:href");if(o){const l=t.querySelector(o),A=document.querySelector(o);!l&&A&&!r[o]&&(r[o]=await Nw(A,e,!0))}}const s=Object.values(r);if(s.length){const a="http://www.w3.org/1999/xhtml",i=document.createElementNS(a,"svg");i.setAttribute("xmlns",a),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";const o=document.createElementNS(a,"defs");i.appendChild(o);for(let l=0;l<s.length;l++)o.appendChild(s[l]);t.appendChild(i)}return t}async function Nw(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(r=>a4e(r,e)).then(r=>o4e(t,r,e)).then(r=>u4e(t,r,e)).then(r=>d4e(r,e))}const nQ=/url\((['"]?)([^'"]+?)\1\)/g,f4e=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,h4e=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function m4e(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function p4e(t){const e=[];return t.replace(nQ,(n,r,s)=>(e.push(s),n)),e.filter(n=>!_S(n))}async function g4e(t,e,n,r,s){try{const a=n?j5e(e,n):e,i=G4(e);let o;return s||(o=await z4(a,i,r)),t.replace(m4e(e),`$1${o}$3`)}catch{}return t}function x4e(t,{preferredFontFormat:e}){return e?t.replace(h4e,n=>{for(;;){const[r,,s]=f4e.exec(n)||[];if(!s)return"";if(s===e)return`src: ${r};`}}):t}function rQ(t){return t.search(nQ)!==-1}async function sQ(t,e,n){if(!rQ(t))return t;const r=x4e(t,n);return p4e(r).reduce((a,i)=>a.then(o=>g4e(o,i,e,n)),Promise.resolve(r))}async function C0(t,e,n){var r;const s=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(t);if(s){const a=await sQ(s,null,n);return e.style.setProperty(t,a,e.style.getPropertyPriority(t)),!0}return!1}async function v4e(t,e){await C0("background",t,e)||await C0("background-image",t,e),await C0("mask",t,e)||await C0("-webkit-mask",t,e)||await C0("mask-image",t,e)||await C0("-webkit-mask-image",t,e)}async function y4e(t,e){const n=po(t,HTMLImageElement);if(!(n&&!_S(t.src))&&!(po(t,SVGImageElement)&&!_S(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,s=await z4(r,G4(r),e);await new Promise((a,i)=>{t.onload=a,t.onerror=e.onImageErrorHandler?(...l)=>{try{a(e.onImageErrorHandler(...l))}catch(A){i(A)}}:i;const o=t;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),n?(t.srcset="",t.src=s):t.href.baseVal=s})}async function w4e(t,e){const r=Vd(t.childNodes).map(s=>aQ(s,e));await Promise.all(r).then(()=>t)}async function aQ(t,e){po(t,Element)&&(await v4e(t,e),await y4e(t,e),await w4e(t,e))}function b4e(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(s=>{n[s]=r[s]}),t}const AD={};async function uD(t){let e=AD[t];if(e!=null)return e;const r=await(await fetch(t)).text();return e={url:t,cssText:r},AD[t]=e,e}async function dD(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,t.url).href),eQ(o,e.fetchRequestInit,({result:l})=>(n=n.replace(i,`url(${l})`),[i,l]))});return Promise.all(a).then(()=>n)}function fD(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=t.replace(n,"");const s=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=s.exec(r);if(l===null)break;e.push(l[0])}r=r.replace(s,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(i,"gi");for(;;){let l=a.exec(r);if(l===null){if(l=o.exec(r),l===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;e.push(l[0])}return e}async function C4e(t,e){const n=[],r=[];return t.forEach(s=>{if("cssRules"in s)try{Vd(s.cssRules||[]).forEach((a,i)=>{if(a.type===CSSRule.IMPORT_RULE){let o=i+1;const l=a.href,A=uD(l).then(d=>dD(d,e)).then(d=>fD(d).forEach(h=>{try{s.insertRule(h,h.startsWith("@import")?o+=1:s.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:h,error:p})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(A)}})}catch(a){const i=t.find(o=>o.href==null)||document.styleSheets[0];s.href!=null&&r.push(uD(s.href).then(o=>dD(o,e)).then(o=>fD(o).forEach(l=>{i.insertRule(l,i.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(t.forEach(s=>{if("cssRules"in s)try{Vd(s.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${s.href}`,a)}}),n))}function E4e(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>rQ(e.style.getPropertyValue("src")))}async function _4e(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Vd(t.ownerDocument.styleSheets),r=await C4e(n,e);return E4e(r)}function iQ(t){return t.trim().replace(/["']/g,"")}function S4e(t){const e=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{e.add(iQ(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(t),e}async function T4e(t,e){const n=await _4e(t,e),r=S4e(t);return(await Promise.all(n.filter(a=>r.has(iQ(a.style.fontFamily))).map(a=>{const i=a.parentStyleSheet?a.parentStyleSheet.href:null;return sQ(a.cssText,i,e)}))).join(`
`)}async function B4e(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await T4e(t,e);if(n){const r=document.createElement("style"),s=document.createTextNode(n);r.appendChild(s),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}}async function N4e(t,e={}){const{width:n,height:r}=ZO(t,e),s=await Nw(t,e,!0);return await B4e(s,e),await aQ(s,e),b4e(s,e),await K5e(s,n,r)}async function k4e(t,e={}){const{width:n,height:r}=ZO(t,e),s=await N4e(t,e),a=await Ey(s),i=document.createElement("canvas"),o=i.getContext("2d"),l=e.pixelRatio||V5e(),A=e.canvasWidth||n,d=e.canvasHeight||r;return i.width=A*l,i.height=d*l,e.skipAutoScale||G5e(i),i.style.width=`${A}`,i.style.height=`${d}`,e.backgroundColor&&(o.fillStyle=e.backgroundColor,o.fillRect(0,0,i.width,i.height)),o.drawImage(a,0,0,i.width,i.height),i}async function kw(t,e={}){return(await k4e(t,e)).toDataURL()}const hD="recursosAprendizaje_mindMaps_v2",I4e=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1v4m0 0h-4m4-4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 0h-4m4 4l-5-5"})}),F4e=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657l-4.243 4.243a1 1 0 01-1.414 0l-4.243-4.243a1 1 0 010-1.414l4.243-4.243a1 1 0 011.414 0l4.243 4.243a1 1 0 010 1.414z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6"})]}),R4e=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5l7 7-7 7"})]}),D4e=()=>u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),SS=(t,e)=>t.children.length===0?e:t.children.reduce((n,r)=>n+SS(r,e),0),TS=(t,e="tree")=>{const n=[],r=[];if(e==="tree"){const i=(o,l,A,d)=>{const h=l*250;n.push({id:o.id,position:{x:h,y:A},data:{label:o.label},type:l===0?"input":"default",sourcePosition:on.Right,targetPosition:on.Left});const p=SS(o,80);let g=A-p/2;o.children.forEach(w=>{const b=SS(w,80),E=g+b/2;r.push({id:`e-${o.id}-${w.id}`,source:o.id,target:w.id,type:"smoothstep",animated:!0}),i(w,l+1,E),g+=b})};i(t,0,0)}else{n.push({id:t.id,position:{x:0,y:0},data:{label:t.label},type:"input"});const i=250,o=450;t.children.forEach((l,A)=>{const d=A/t.children.length*2*Math.PI,h=i*Math.cos(d),p=i*Math.sin(d);n.push({id:l.id,position:{x:h,y:p},data:{label:l.label}}),r.push({id:`e-${t.id}-${l.id}`,source:t.id,target:l.id,type:"smoothstep"}),l.children.forEach((g,w)=>{const b=d+(w-(l.children.length-1)/2)*.2,E=h+o*.5*Math.cos(b),T=p+o*.5*Math.sin(b);n.push({id:g.id,position:{x:E,y:T},data:{label:g.label}}),r.push({id:`e-${l.id}-${g.id}`,source:l.id,target:g.id,type:"smoothstep"})})})}return{nodes:n,edges:r}},oQ=({node:t,onUpdate:e,onAddChild:n,onDelete:r,level:s=0})=>{const a=["bg-blue-100/50 dark:bg-blue-900/20","bg-yellow-100/50 dark:bg-yellow-900/20","bg-green-100/50 dark:bg-green-900/20"],i=["border-blue-300 dark:border-blue-700","border-yellow-300 dark:border-yellow-700","border-green-300 dark:border-green-700"];return u.jsxs("div",{className:`pl-4 ${s>0?"border-l "+i[s-1%i.length]:""}`,children:[u.jsx("div",{className:`p-2 rounded-lg my-1 ${a[s%a.length]}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"text",value:t.label,onChange:o=>e(t.id,o.target.value),className:"w-full bg-transparent focus:bg-white dark:focus:bg-slate-700 p-1 rounded border border-transparent focus:border-slate-300 dark:focus:border-slate-600 outline-none transition-colors"}),u.jsx("button",{onClick:()=>n(t.id),className:"p-1.5 rounded-full hover:bg-slate-300/50 dark:hover:bg-slate-600/50 transition-colors",children:""}),s>0&&u.jsx("button",{onClick:()=>r(t.id),className:"p-1.5 rounded-full hover:bg-slate-300/50 dark:hover:bg-slate-600/50 transition-colors",children:""})]})}),t.children.map(o=>u.jsx(oQ,{node:o,onUpdate:e,onAddChild:n,onDelete:r,level:s+1},o.id))]})},U4e=({mapData:t,onBack:e,onSave:n})=>{const[r,s]=ee.useState(t.treeData),[a,i]=ee.useState("tree"),[o,l]=ee.useState(!1),[A,d,h]=E5e([]),[p,g,w]=_5e([]),{fitView:b}=Bw();ee.useEffect(()=>{const{nodes:R,edges:L}=TS(r,a);d(R),g(L),setTimeout(()=>b({duration:300}),50)},[r,a,d,g,b]);const E=(R,L)=>{const S=JSON.parse(JSON.stringify(r)),N=B=>B.id===R?(B.label=L,!0):B.children.some(N);N(S),s(S)},T=R=>{const L=JSON.parse(JSON.stringify(r)),S=N=>N.id===R?(N.children.push({id:crypto.randomUUID(),label:"Nuevo Nodo",children:[]}),!0):N.children.some(S);S(L),s(L)},I=R=>{const L=JSON.parse(JSON.stringify(r)),S=N=>{const B=N.children.findIndex(H=>H.id===R);return B!==-1?(N.children.splice(B,1),!0):N.children.some(S)};S(L),s(L)},k=()=>{l(!0);const{nodes:R,edges:L}=TS(r,a);n({...t,treeData:r,nodes:R,edges:L}),setTimeout(()=>l(!1),1e3)},F=async R=>{const L=document.querySelector(".react-flow");L&&kw(L,{backgroundColor:"#ffffff",cacheBust:!0,pixelRatio:2}).then(S=>{{const N=document.createElement("a");N.download=`${t.tema}.png`,N.href=S,N.click()}}).catch(S=>console.error("oops, something went wrong!",S))};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 truncate pr-4",children:t.tema}),u.jsx("button",{onClick:e,className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white font-semibold flex-shrink-0",children:" Volver a la lista"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 w-full h-[70vh] rounded-lg border dark:border-slate-700 relative",children:[u.jsxs(WO,{nodes:A,edges:p,onNodesChange:h,onEdgesChange:w,fitView:!0,children:[u.jsx(F5e,{}),u.jsx(P5e,{})]}),u.jsx("div",{className:"absolute top-4 right-4 flex gap-2",children:u.jsxs("button",{onClick:()=>{},className:"bg-white/80 backdrop-blur-sm dark:bg-slate-800/80 p-2 rounded-lg shadow border dark:border-slate-700 flex items-center gap-2 text-sm",children:[u.jsx(I4e,{})," Pantalla completa"]})})]}),u.jsxs("div",{className:"w-full h-[70vh] flex flex-col bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg border dark:border-slate-700",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Editar"}),u.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b dark:border-slate-700 pb-2",children:[u.jsxs("button",{onClick:()=>i("tree"),className:`px-3 py-1.5 text-sm font-semibold rounded-md flex items-center gap-2 transition-colors ${a==="tree"?"bg-blue-500 text-white":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[u.jsx(F4e,{})," Vista en rbol"]}),u.jsxs("button",{onClick:()=>i("central"),className:`px-3 py-1.5 text-sm font-semibold rounded-md flex items-center gap-2 transition-colors ${a==="central"?"bg-blue-500 text-white":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[u.jsx(R4e,{})," Vista con tema central"]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:u.jsx(oQ,{node:r,onUpdate:E,onAddChild:T,onDelete:I})}),u.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700 flex justify-end gap-4",children:[u.jsx("button",{onClick:()=>F(),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Exportar PNG"}),u.jsx("button",{onClick:k,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 w-28",children:o?"Guardado!":"Guardar"})]})]})]})]})},L4e=({onBack:t})=>{const[e,n]=ee.useState("list"),[r,s]=ee.useState([]),[a,i]=ee.useState(null),[o,l]=ee.useState(!1),[A,d]=ee.useState(""),[h,p]=ee.useState(""),[g,w]=ee.useState("");ee.useEffect(()=>{try{const R=localStorage.getItem(hD);R&&s(JSON.parse(R))}catch(R){console.error("Error loading mind maps",R)}},[]);const b=R=>{s(R),localStorage.setItem(hD,JSON.stringify(R))},E=async R=>{if(R.preventDefault(),!A.trim()){alert("El tema es obligatorio.");return}l(!0);const L=`Basado en el tema central "${A}", y considerando el contenido adicional "${g}", genera una estructura jerrquica detallada para un mapa mental con al menos 3 niveles de profundidad. La estructura debe ser un desglose lgico del tema en subtemas.

La respuesta DEBE ser un nico objeto JSON vlido. Cada nodo en el JSON debe tener las propiedades "id" (un string nico generado con crypto.randomUUID()), "label" (el texto del nodo), y "children" (un array de nodos hijos con la misma estructura).`;try{const N=await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:L,config:{responseMimeType:"application/json"}}),B=JSON.parse(N.text.trim()),{nodes:H,edges:P}=TS(B),M={id:crypto.randomUUID(),tema:A,nivel:h,treeData:B,nodes:H,edges:P,createdAt:new Date().toISOString()};i(M),n("editor")}catch(S){console.error("AI Generation Error:",S),alert("Hubo un error al generar el mapa mental con la IA. Intntelo de nuevo.")}finally{l(!1)}},T=R=>{const S=r.findIndex(N=>N.id===R.id)>-1?r.map(N=>N.id===R.id?R:N):[R,...r];b(S)},I=R=>{i(R),n("editor")},k=R=>{window.confirm("Eliminar este mapa mental?")&&b(r.filter(L=>L.id!==R))},F=()=>{switch(e){case"editor":return a?u.jsx(V4,{children:u.jsx(U4e,{mapData:a,onBack:()=>n("list"),onSave:T})}):null;case"config":return u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Nuevo Mapa Mental con IA"}),u.jsx("button",{onClick:()=>n("list"),className:"text-slate-600 hover:text-slate-900 font-semibold",children:" Volver"})]}),u.jsxs("form",{onSubmit:E,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"tema",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:["Tema Central ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",id:"tema",value:A,onChange:R=>d(R.target.value),required:!0,className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"contenido",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Contenido o ideas clave (Opcional)"}),u.jsx("textarea",{id:"contenido",value:g,onChange:R=>w(R.target.value),rows:4,placeholder:"Aade ms detalles para guiar a la IA...",className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),u.jsx("div",{className:"flex justify-end pt-4",children:u.jsx("button",{type:"submit",disabled:o,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:bg-slate-400 flex items-center justify-center min-w-[200px]",children:o?u.jsx(D4e,{}):"Generar Mapa con IA"})})]})]});case"list":default:return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Mis Mapas Mentales"}),u.jsx("button",{onClick:()=>n("config"),className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Crear Nuevo"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map(R=>u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg shadow border dark:border-slate-700",children:[u.jsx("h3",{className:"font-bold text-lg truncate text-slate-800 dark:text-slate-200",children:R.tema}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creado: ",new Date(R.createdAt).toLocaleDateString("es-CL")]}),u.jsxs("div",{className:"mt-4 flex gap-2",children:[u.jsx("button",{onClick:()=>I(R),className:"flex-1 bg-slate-200 dark:bg-slate-600 font-semibold py-1.5 px-3 rounded-md text-sm",children:"Editar"}),u.jsx("button",{onClick:()=>k(R.id),className:"flex-1 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 font-semibold py-1.5 px-3 rounded-md text-sm",children:"Eliminar"})]})]},R.id)):u.jsx("p",{className:"col-span-full text-center text-slate-500 dark:text-slate-400 py-8",children:"No has creado ningn mapa mental todava."})})]})}};return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("span",{className:"text-4xl",children:""}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Mapas Mentales"}),u.jsx("button",{onClick:t,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:" Volver a Recursos"})]})]}),F()]})},M4e=()=>u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),P4e=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),j4e=({onBack:t})=>{const[e,n]=ee.useState("Media"),[r,s]=ee.useState(10),[a,i]=ee.useState(!1),[o,l]=ee.useState(Array(10).fill("")),[A,d]=ee.useState(""),[h,p]=ee.useState(null),[g,w]=ee.useState({ai:!1,puzzle:!1}),b=ee.useRef(null);ee.useEffect(()=>{l(L=>{const S=Array(r).fill("");for(let N=0;N<Math.min(L.length,r);N++)S[N]=L[N];return S})},[r]);const E=(L,S)=>{const N=[...o];N[L]=S,l(N)},T=async()=>{if(A.trim()){w(L=>({...L,ai:!0}));try{const L=new Ta({apiKey:void 0}),S=`Genera una lista de ${r} palabras clave, en espaol, relacionadas con el tema "${A}". Las palabras no deben contener espacios ni caracteres especiales.`,N={type:Bt.OBJECT,properties:{palabras:{type:Bt.ARRAY,items:{type:Bt.STRING}}},required:["palabras"]},B=await L.models.generateContent({model:"gemini-2.5-flash",contents:S,config:{responseMimeType:"application/json",responseSchema:N}}),M=[...JSON.parse(B.text).palabras.map(V=>V.toUpperCase().replace(/\s/g,"")).slice(0,r)];for(;M.length<r;)M.push("");l(M)}catch(L){console.error("Error generating words with AI:",L),alert("No se pudieron generar las palabras. Intntelo de nuevo.")}finally{w(L=>({...L,ai:!1}))}}},I=(L,S,N,B,H,P)=>{for(let M=0;M<L.length;M++){const V=N+M*H.y,G=B+M*H.x;if(V<0||V>=P||G<0||G>=P||S[V][G]&&S[V][G]!==L[M])return!1}return!0},k=(L,S,N,B,H)=>{for(let P=0;P<L.length;P++)S[N+P*H.y][B+P*H.x]=L[P]},F=()=>{w(L=>({...L,puzzle:!0})),p(null),setTimeout(()=>{const L=o.map(M=>M.toUpperCase().replace(/[^A-Z]/g,"")).filter(Boolean);if(L.length===0){alert("Por favor, ingrese al menos una palabra vlida."),w(M=>({...M,puzzle:!1}));return}const S=Math.max(...L.map(M=>M.length));let N=Math.max(S,L.length)+2;e==="Media"&&(N+=3),e==="Difcil"&&(N+=5),N=Math.min(Math.max(N,10),25);const B=Array(N).fill(null).map(()=>Array(N).fill(null)),H=[{x:1,y:0},{x:0,y:1},{x:1,y:1}];e!=="Fcil"&&H.push({x:1,y:-1}),e==="Difcil"&&H.push({x:-1,y:0},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:1});for(const M of L.sort((V,G)=>G.length-V.length)){let V=!1;for(let G=0;G<100;G++){const oe=H[Math.floor(Math.random()*H.length)],K=Math.floor(Math.random()*N),Z=Math.floor(Math.random()*N);if(I(M,B,K,Z,oe,N)){k(M,B,K,Z,oe),V=!0;break}}V||console.warn(`No se pudo colocar la palabra: ${M}`)}const P=B.map(M=>M.map(V=>V||"ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(Math.random()*27)]));p({grid:P,words:L.sort()}),w(M=>({...M,puzzle:!1}))},100)},R=()=>{b.current&&kw(b.current,{cacheBust:!0,backgroundColor:"white",quality:.95,pixelRatio:2}).then(L=>{const S=document.createElement("a");S.download="sopa-de-letras.png",S.href=L,S.click()}).catch(L=>{console.error("oops, something went wrong!",L),alert("No se pudo generar la imagen. Intntelo de nuevo.")})};return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{className:"text-4xl",children:""}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Sopa de Letras"}),u.jsx("button",{onClick:t,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:" Volver a Recursos"})]})]}),!h&&u.jsxs("div",{className:"space-y-6 pt-4 border-t dark:border-slate-700",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Dificultad"}),u.jsxs("select",{value:e,onChange:L=>n(L.target.value),className:"w-full md:w-1/3 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[u.jsx("option",{children:"Fcil"}),u.jsx("option",{children:"Media"}),u.jsx("option",{children:"Difcil"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Nmero de palabras"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[[5,10,15,20].map(L=>u.jsx("button",{onClick:()=>{s(L),i(!1)},className:`px-4 py-2 rounded-md font-semibold text-sm ${!a&&r===L?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:L},L)),u.jsx("button",{onClick:()=>i(!0),className:`px-4 py-2 rounded-md font-semibold text-sm ${a?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:"Personalizado"}),a&&u.jsx("input",{type:"number",value:r,onChange:L=>s(parseInt(L.target.value,10)),min:"1",max:"30",className:"w-24 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"ai-theme",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Completar palabras con IA (Opcional)"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{id:"ai-theme",type:"text",value:A,onChange:L=>d(L.target.value),placeholder:"Enva un tema...",className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsx("button",{onClick:T,disabled:g.ai,className:"bg-sky-500 text-white font-semibold px-4 py-2 rounded-md flex items-center justify-center min-w-[120px]",children:g.ai?u.jsx(M4e,{}):u.jsxs(u.Fragment,{children:[u.jsx(P4e,{}),u.jsx("span",{className:"ml-2",children:"Generar"})]})})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Palabras ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-3",children:o.map((L,S)=>u.jsx("input",{type:"text",value:L,onChange:N=>E(S,N.target.value),placeholder:`Palabra ${S+1}`,className:"border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"},S))})]}),u.jsx("div",{className:"text-right pt-4",children:u.jsx("button",{onClick:F,disabled:g.puzzle,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 min-w-[200px]",children:g.puzzle?"Generando...":"Generar Sopa de Letras"})})]}),h&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{ref:b,className:"p-6 bg-white",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsx("div",{className:"md:col-span-2",children:u.jsx("div",{className:"grid border-2 border-slate-700",style:{gridTemplateColumns:`repeat(${h.grid.length}, minmax(0, 1fr))`},children:h.grid.flat().map((L,S)=>u.jsx("div",{className:"flex items-center justify-center aspect-square border border-slate-300 font-mono font-bold text-lg text-slate-800",children:L},S))})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4 border-b-2 border-slate-700 pb-2",children:"PALABRAS A BUSCAR"}),u.jsx("ul",{className:"grid grid-cols-2 gap-x-4 gap-y-2 font-semibold text-slate-700",children:h.words.map(L=>u.jsx("li",{children:L},L))})]})]})}),u.jsxs("div",{className:"flex justify-end gap-4",children:[u.jsx("button",{onClick:()=>p(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Crear otra"}),u.jsx("button",{onClick:R,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Descargar como PNG"})]})]})]})},mD="recursosAprendizaje_timelines",O4e=()=>u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Q4e=({timeline:t,onSave:e,onBack:n})=>{const[r,s]=ee.useState(t),a=ee.useRef(null),i=(d,h,p)=>{s(g=>({...g,events:g.events.map(w=>w.id===d?{...w,[h]:p}:w)}))},o=()=>{const d={id:crypto.randomUUID(),date:new Date().getFullYear().toString(),description:"Nuevo hito",icon:""},h=[...r.events,d].sort((p,g)=>parseInt(p.date)-parseInt(g.date));s(p=>({...p,events:h}))},l=d=>{s(h=>({...h,events:h.events.filter(p=>p.id!==d)}))},A=()=>{a.current&&kw(a.current,{cacheBust:!0,backgroundColor:"#f1f5f9",quality:.95,pixelRatio:2}).then(d=>{const h=document.createElement("a");h.download=`linea-tiempo-${r.tema.replace(/\s+/g,"_")}.png`,h.href=d,h.click()}).catch(d=>{console.error("Error al generar la imagen:",d),alert("No se pudo generar la imagen. Intntelo de nuevo.")})};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:r.tema}),u.jsx("button",{onClick:n,className:"text-sm font-semibold text-slate-500 hover:underline",children:" Volver a la lista"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsx("div",{className:"lg:col-span-2 bg-slate-100 dark:bg-slate-900 rounded-lg",children:u.jsxs("div",{ref:a,className:"relative p-10",children:[u.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1 h-full bg-slate-300 dark:bg-slate-600 rounded"}),u.jsx("div",{className:"relative",children:r.events.sort((d,h)=>parseInt(d.date)-parseInt(h.date)).map((d,h)=>{const p=h%2===0;return u.jsxs("div",{className:"mb-8 flex justify-between items-center w-full",children:[u.jsx("div",{className:"w-1/2",children:p&&u.jsx("div",{className:"text-right pr-8",children:u.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-lg border dark:border-slate-700 inline-block max-w-xs",children:[u.jsx("p",{className:"text-2xl mb-1 text-center w-full",children:d.icon}),u.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:d.date}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 break-words",children:d.description})]})})}),u.jsx("div",{className:"z-10 flex-shrink-0",children:u.jsx("div",{className:"w-5 h-5 bg-white dark:bg-slate-500 border-4 border-slate-400 dark:border-slate-300 rounded-full"})}),u.jsx("div",{className:"w-1/2",children:!p&&u.jsx("div",{className:"text-left pl-8",children:u.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-lg border dark:border-slate-700 inline-block max-w-xs",children:[u.jsx("p",{className:"text-2xl mb-1 text-center w-full",children:d.icon}),u.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:d.date}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 break-words",children:d.description})]})})})]},d.id)})})]})}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg border dark:border-slate-700 h-[70vh] flex flex-col",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Editar Hitos"}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2",children:r.events.map(d=>u.jsxs("div",{className:"p-3 bg-white dark:bg-slate-700 rounded-md border dark:border-slate-600 space-y-2",children:[u.jsx("input",{type:"text",value:d.date,onChange:h=>i(d.id,"date",h.target.value),placeholder:"Ao/Fecha",className:"w-full bg-transparent font-semibold dark:text-slate-200"}),u.jsx("textarea",{value:d.description,onChange:h=>i(d.id,"description",h.target.value),placeholder:"Descripcin",rows:2,className:"w-full bg-transparent text-sm dark:text-slate-300"}),u.jsx("button",{onClick:()=>l(d.id),className:"text-xs text-red-500 hover:underline",children:"Eliminar"})]},d.id))}),u.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700 flex flex-col gap-2",children:[u.jsx("button",{onClick:o,className:"w-full bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Aadir Hito"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:A,className:"flex-1 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:"Descargar PNG"}),u.jsx("button",{onClick:()=>e(r),className:"flex-1 bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar"})]})]})]})]})]})},H4e=({onBack:t})=>{const[e,n]=ee.useState("list"),[r,s]=ee.useState([]),[a,i]=ee.useState(null),[o,l]=ee.useState(!1),[A,d]=ee.useState(""),[h,p]=ee.useState(""),[g,w]=ee.useState("");ee.useEffect(()=>{try{const k=localStorage.getItem(mD);k&&s(JSON.parse(k))}catch(k){console.error("Error al cargar lneas de tiempo",k)}},[]);const b=k=>{s(k),localStorage.setItem(mD,JSON.stringify(k))},E=async k=>{if(k.preventDefault(),!A.trim()){alert("El tema es obligatorio.");return}l(!0);const F=h&&g?`entre ${h} y ${g}`:h?`a partir de ${h}`:g?`hasta ${g}`:"",R=`Genera una lnea de tiempo sobre el tema "${A}" ${F}. Crea entre 5 y 10 hitos clave ordenados cronolgicamente. Para cada hito, proporciona una fecha o ao, una descripcin breve y un emoji representativo.`,L={type:Bt.OBJECT,properties:{events:{type:Bt.ARRAY,items:{type:Bt.OBJECT,properties:{date:{type:Bt.STRING},description:{type:Bt.STRING},icon:{type:Bt.STRING}},required:["date","description"]}}},required:["events"]};try{const N=await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:R,config:{responseMimeType:"application/json",responseSchema:L}}),B=JSON.parse(N.text),H={id:crypto.randomUUID(),tema:A,fechaInicio:h,fechaFin:g,createdAt:new Date().toISOString(),events:B.events.map(P=>({...P,id:crypto.randomUUID()}))};i(H),n("editor")}catch(S){console.error("AI Generation Error:",S),alert("Hubo un error al generar la lnea de tiempo. Intntelo de nuevo.")}finally{l(!1)}},T=k=>{r.findIndex(R=>R.id===k.id)>-1?b(r.map(R=>R.id===k.id?k:R)):b([k,...r]),n("list"),i(null)},I=k=>{window.confirm("Eliminar esta lnea de tiempo?")&&b(r.filter(F=>F.id!==k))};return e==="editor"&&a?u.jsx(Q4e,{timeline:a,onSave:T,onBack:()=>n("list")}):u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{className:"text-4xl",children:""}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Lneas de Tiempo"}),u.jsx("button",{onClick:t,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:" Volver a Recursos"})]})]}),u.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-800/50",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Crear nueva Lnea de Tiempo"}),u.jsxs("form",{onSubmit:E,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"tema",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Tema ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",id:"tema",value:A,onChange:k=>d(k.target.value),required:!0,className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fechaInicio",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Fecha de Inicio (Opcional)"}),u.jsx("input",{type:"text",id:"fechaInicio",value:h,onChange:k=>p(k.target.value),placeholder:"Ej: 1947",className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fechaFin",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Fecha de Trmino (Opcional)"}),u.jsx("input",{type:"text",id:"fechaFin",value:g,onChange:k=>w(k.target.value),placeholder:"Ej: 1991",className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]})]}),u.jsx("div",{className:"text-right",children:u.jsx("button",{type:"submit",disabled:o,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:bg-slate-400 flex items-center justify-center min-w-[180px]",children:o?u.jsx(O4e,{}):"Generar con IA"})})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Lneas de Tiempo Guardadas"}),r.length>0?r.map(k=>u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg shadow-sm border dark:border-slate-700 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200",children:k.tema}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creada: ",new Date(k.createdAt).toLocaleDateString("es-CL")]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>{i(k),n("editor")},className:"text-sm font-semibold bg-slate-200 dark:bg-slate-600 py-1 px-3 rounded-md",children:"Editar"}),u.jsx("button",{onClick:()=>I(k.id),className:"text-sm font-semibold bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 py-1 px-3 rounded-md",children:"Eliminar"})]})]},k.id)):u.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-6",children:"No hay lneas de tiempo guardadas."})]})]})},V4e=()=>u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),G4e=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),z4e=({onBack:t})=>{const[e,n]=ee.useState(10),[r,s]=ee.useState(!1),[a,i]=ee.useState(Array(10).fill("")),[o,l]=ee.useState(Array(10).fill("")),[A,d]=ee.useState(""),[h,p]=ee.useState(null),[g,w]=ee.useState(!1),[b,E]=ee.useState({ai:!1,puzzle:!1}),T=ee.useRef(null);ee.useEffect(()=>{const B=e;i(H=>Array.from({length:B},(P,M)=>H[M]||"")),l(H=>Array.from({length:B},(P,M)=>H[M]||""))},[e]);const I=(B,H)=>{const P=[...a];P[B]=H,i(P)},k=(B,H)=>{const P=[...o];P[B]=H,l(P)},F=async()=>{if(A.trim()){E(B=>({...B,ai:!0}));try{const B=new Ta({apiKey:void 0}),H=`Genera una lista de ${e} palabras y sus pistas correspondientes para un crucigrama, basado en el tema "${A}". Las palabras no deben contener espacios.`,P={type:Bt.OBJECT,properties:{items:{type:Bt.ARRAY,items:{type:Bt.OBJECT,properties:{word:{type:Bt.STRING},clue:{type:Bt.STRING}},required:["word","clue"]}}},required:["items"]},M=await B.models.generateContent({model:"gemini-2.5-flash",contents:H,config:{responseMimeType:"application/json",responseSchema:P}}),V=JSON.parse(M.text),G=V.items.map(K=>K.word.toUpperCase().replace(/\s/g,"")),oe=V.items.map(K=>K.clue);i(Array.from({length:e},(K,Z)=>G[Z]||"")),l(Array.from({length:e},(K,Z)=>oe[Z]||""))}catch(B){console.error("Error generating words/clues with AI:",B),alert("No se pudieron generar las palabras y pistas. Intntelo de nuevo.")}finally{E(B=>({...B,ai:!1}))}}},R=ee.useCallback(()=>{try{const B=a.map((ae,Fe)=>({word:ae.toUpperCase().replace(/[^A-Z]/g,""),clue:o[Fe]})).filter(ae=>ae.word.length>0);if(B.length===0)return alert("Por favor, ingrese al menos una palabra vlida."),null;B.sort((ae,Fe)=>Fe.word.length-ae.word.length);const H=B[0].word.length,P=Math.max(H,B.length)*2;let M=Array.from({length:P},()=>Array(P).fill(null));const V=[],G=B.shift(),oe=Math.floor(P/2),K=Math.floor((P-G.word.length)/2);for(let ae=0;ae<G.word.length;ae++)M[oe][K+ae]=G.word[ae];V.push({word:G.word,clue:G.clue,direction:"across",row:oe,col:K});for(const ae of B){let Fe={score:-1,row:-1,col:-1,direction:"across"};for(const et of V)for(let De=0;De<et.word.length;De++)for(let Ce=0;Ce<ae.word.length;Ce++)if(et.word[De]===ae.word[Ce]){let Ge=0,nt,it,dt;et.direction==="across"?(dt="down",nt=et.row-Ce,it=et.col+De):(dt="across",nt=et.row+De,it=et.col-Ce);let Ct=!0;for(let At=0;At<ae.word.length;At++){const kt=nt+(dt==="down"?At:0),Ft=it+(dt==="across"?At:0);if(kt<0||kt>=P||Ft<0||Ft>=P){Ct=!1;break}const Wt=M[kt][Ft],Mt=kt===et.row+(et.direction==="down"?De:0)&&Ft===et.col+(et.direction==="across"?De:0);if(Wt&&!Mt){Ct=!1;break}if(Wt&&Mt&&Wt!==ae.word[Ce]){Ct=!1;break}if(!Mt){if(dt==="across"&&(kt>0&&M[kt-1][Ft]||kt<P-1&&M[kt+1][Ft])){Ct=!1;break}if(dt==="down"&&(Ft>0&&M[kt][Ft-1]||Ft<P-1&&M[kt][Ft+1])){Ct=!1;break}}Wt&&Ge++}Ct&&Ge>Fe.score&&(Fe={score:Ge,row:nt,col:it,direction:dt})}if(Fe.score>-1){for(let et=0;et<ae.word.length;et++){const De=Fe.row+(Fe.direction==="down"?et:0),Ce=Fe.col+(Fe.direction==="across"?et:0);M[De][Ce]=ae.word[et]}V.push({word:ae.word,clue:ae.clue,direction:Fe.direction,row:Fe.row,col:Fe.col})}}let Z=P,re=-1,q=P,X=-1;V.forEach(ae=>{Z=Math.min(Z,ae.row),re=Math.max(re,ae.row+(ae.direction==="down"?ae.word.length-1:0)),q=Math.min(q,ae.col),X=Math.max(X,ae.col+(ae.direction==="across"?ae.word.length-1:0))}),re===-1&&(Z=V[0].row,re=V[0].row,q=V[0].col,X=V[0].col+V[0].word.length-1);const ue=1,j=Math.max(0,Z-ue),W=Math.min(P,re+1+ue),J=Math.max(0,q-ue),ne=Math.min(P,X+1+ue),ie=M.slice(j,W).map(ae=>ae.slice(J,ne)),de=V.map(ae=>({...ae,row:ae.row-j,col:ae.col-J})).sort((ae,Fe)=>ae.row-Fe.row||ae.col-Fe.col);let me=1;const xe=[],Se=new Map;de.forEach(ae=>{const Fe=`${ae.row},${ae.col}`;Se.has(Fe)||Se.set(Fe,me++),xe.push({...ae,number:Se.get(Fe)})});const ge=ie.map(ae=>ae.map(Fe=>({char:Fe,number:null})));return xe.forEach(ae=>{const Fe=`${ae.row},${ae.col}`;ge[ae.row]&&ge[ae.row][ae.col]!==void 0&&(ge[ae.row][ae.col].number=Se.get(Fe))}),{grid:ge,clues:{across:xe.filter(ae=>ae.direction==="across").sort((ae,Fe)=>ae.number-Fe.number),down:xe.filter(ae=>ae.direction==="down").sort((ae,Fe)=>ae.number-Fe.number)}}}catch(B){return console.error("Error generating crossword grid:",B),alert("Ocurri un error inesperado al generar el crucigrama. Intente con palabras diferentes."),null}},[a,o]),L=()=>{E(B=>({...B,puzzle:!0})),p(null),setTimeout(()=>{const B=R();B&&p(B),E(H=>({...H,puzzle:!1}))},100)},S=()=>{T.current&&(w(!1),setTimeout(()=>{kw(T.current,{cacheBust:!0,backgroundColor:"#ffffff",pixelRatio:2}).then(B=>{const H=document.createElement("a");H.download="crucigrama.png",H.href=B,H.click()}).catch(B=>console.error("Error generating image",B))},100))},N=()=>h?u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{ref:T,className:"p-6 bg-white dark:bg-slate-900 text-black dark:text-white",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsx("div",{children:u.jsx("div",{className:"border border-black dark:border-white",style:{display:"grid",gridTemplateColumns:`repeat(${h.grid[0].length}, 2rem)`},children:h.grid.flat().map((B,H)=>u.jsxs("div",{className:"relative w-8 h-8 border border-black dark:border-white flex items-center justify-center font-bold uppercase",style:{backgroundColor:B.char?"white":"black"},children:[B.number&&u.jsx("span",{className:"absolute top-0 left-0.5 text-[8px]",children:B.number}),g&&B.char&&u.jsx("span",{children:B.char})]},H))})}),u.jsxs("div",{className:"text-sm",children:[u.jsx("h3",{className:"font-bold text-lg mb-2",children:"HORIZONTALES"}),u.jsx("ul",{className:"space-y-1",children:h.clues.across.map(B=>u.jsxs("li",{children:[u.jsxs("strong",{children:[B.number,"."]})," ",B.clue]},`${B.word}-${B.clue}`))}),u.jsx("h3",{className:"font-bold text-lg mt-4 mb-2",children:"VERTICALES"}),u.jsx("ul",{className:"space-y-1",children:h.clues.down.map(B=>u.jsxs("li",{children:[u.jsxs("strong",{children:[B.number,"."]})," ",B.clue]},`${B.word}-${B.clue}`))})]})]})}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:g,onChange:()=>w(!g),className:"h-5 w-5 rounded"}),u.jsx("span",{children:"Mostrar Solucin"})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>p(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Crear otro"}),u.jsx("button",{onClick:S,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Descargar como PNG"})]})]})]}):null;return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{className:"text-4xl",children:""}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Crucigramas"}),u.jsx("button",{onClick:t,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:" Volver a Recursos"})]})]}),h?N():u.jsxs("div",{className:"space-y-6 pt-4 border-t dark:border-slate-700",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Nmero de palabras"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[[5,10,15,20].map(B=>u.jsx("button",{onClick:()=>{n(B),s(!1)},className:`px-4 py-2 rounded-md font-semibold text-sm ${!r&&e===B?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:B},B)),u.jsx("button",{onClick:()=>s(!0),className:`px-4 py-2 rounded-md font-semibold text-sm ${r?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:"Personalizado"}),r&&u.jsx("input",{type:"number",value:e,onChange:B=>n(parseInt(B.target.value,10)),min:"1",max:"30",className:"w-24 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"ai-theme",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Completar palabras y pistas con IA (Opcional)"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{id:"ai-theme",type:"text",value:A,onChange:B=>d(B.target.value),placeholder:"Enva un tema...",className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsx("button",{onClick:F,disabled:b.ai,className:"bg-sky-500 text-white font-semibold px-4 py-2 rounded-md flex items-center justify-center min-w-[120px]",children:b.ai?u.jsx(V4e,{}):u.jsxs(u.Fragment,{children:[u.jsx(G4e,{}),u.jsx("span",{className:"ml-2",children:"Generar"})]})})]})]}),u.jsx("div",{className:"space-y-3",children:Array.from({length:e}).map((B,H)=>u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[u.jsx("input",{type:"text",value:a[H],onChange:P=>I(H,P.target.value),placeholder:`Palabra ${H+1}`,className:"border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsx("textarea",{value:o[H],onChange:P=>k(H,P.target.value),placeholder:`Pista ${H+1}`,rows:1,className:"md:col-span-2 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]},H))}),u.jsx("div",{className:"text-right pt-4",children:u.jsx("button",{onClick:L,disabled:b.puzzle,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 min-w-[200px]",children:b.puzzle?"Generando...":"Generar Crucigrama"})})]})]})},K4e=[{id:"sopaDeLetras",icon:"",nombre:"Sopa de Letras",descripcion:"Crea y resuelve sopas de letras personalizadas para aprender palabras clave de cualquier asignatura."},{id:"mapasMentales",icon:"",nombre:"Mapas Mentales",descripcion:"Organiza ideas y conceptos de forma visual para facilitar el estudio y la memoria."},{id:"crucigramas",icon:"",nombre:"Crucigramas",descripcion:"Crea y resuelve crucigramas para reforzar vocabulario y conceptos clave."},{id:"lineasDeTiempo",icon:"",nombre:"Lneas de Tiempo",descripcion:"Construye lneas de tiempo para comprender procesos, hechos histricos o secuencias."}],q4e=({recurso:t,onClick:e})=>u.jsxs("button",{onClick:e,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md hover:shadow-lg hover:-translate-y-1 transition-all duration-300 ease-in-out cursor-pointer flex flex-col items-center text-center h-full",children:[u.jsx("div",{className:"text-6xl mb-4",children:t.icon}),u.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:t.nombre}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm flex-grow",children:t.descripcion})]}),W4e=()=>{const[t,e]=ee.useState("menu"),n=()=>t==="mapasMentales"?u.jsx(L4e,{onBack:()=>e("menu")}):t==="sopaDeLetras"?u.jsx(j4e,{onBack:()=>e("menu")}):t==="lineasDeTiempo"?u.jsx(H4e,{onBack:()=>e("menu")}):t==="crucigramas"?u.jsx(z4e,{onBack:()=>e("menu")}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Recursos de Aprendizaje"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Seleccione una herramienta para crear una nueva actividad educativa para sus estudiantes."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:K4e.map(r=>u.jsx(q4e,{recurso:r,onClick:()=>e(r.id)},r.id))})]});return u.jsx("div",{className:"animate-fade-in space-y-6",children:n()})},$4e="evaluacionesFormativas",Y4e="calificacionesFormativas",TE="trabajosGrupalesFormativos",J4e=({currentUser:t})=>{const[e,n]=ee.useState([]),[r,s]=ee.useState({}),[a,i]=ee.useState([]),[o,l]=ee.useState(null),[A,d]=ee.useState(!1),[h,p]=ee.useState(null),g=ee.useRef(null);ee.useEffect(()=>{try{const I=localStorage.getItem($4e);I&&n(JSON.parse(I));const k=localStorage.getItem(Y4e);k&&s(JSON.parse(k));const F=localStorage.getItem(TE);F&&i(JSON.parse(F))}catch(I){console.error("Error al cargar datos desde localStorage",I)}},[]);const w=ee.useMemo(()=>{if(!t.curso)return[];const k=e.filter(F=>F.curso===t.curso).reduce((F,R)=>((F[R.asignatura]=F[R.asignatura]||[]).push(R),F),{});return Object.entries(k).map(([F,R])=>{let L=0,S=0;const N=R.map(H=>{var V;const P=(V=r[H.id])==null?void 0:V[t.nombreCompleto];let M="No Trabajado";return P==="trabajado"?(L+=7,S++,M="Trabajado"):P==="no trabajado"&&(L+=2,S++,M="No Trabajado"),{id:H.id,nombreActividad:H.nombreActividad,fecha:H.fecha,estado:M}}).filter(H=>{var P;return(P=r[H.id])==null?void 0:P[t.nombreCompleto]}),B=S>0?(L/S).toFixed(1):"N/A";return{asignatura:F,promedio:B,actividades:N.sort((H,P)=>new Date(P.fecha).getTime()-new Date(H.fecha).getTime())}}).filter(F=>F.actividades.length>0).sort((F,R)=>F.asignatura.localeCompare(R.asignatura))},[e,r,t]);ee.useEffect(()=>{if(w.reduce((S,N)=>S+N.actividades.length,0)===0){l(null);return}const k=w.reduce((S,N)=>{const B=parseFloat(N.promedio);return isNaN(B)?S:S+B},0),F=w.length>0?k/w.length:0,R=G1.find(S=>F>=S.promedioMin&&F<=S.promedioMax)||null,L=G1.filter(S=>F>=S.promedioMin);if(l({puntajeTotal:0,promedio:F,rangoActual:R,insigniasGanadas:L}),g.current!==null){const S=G1.find(N=>g.current>=N.promedioMin&&g.current<=N.promedioMax)||null;R&&(!S||R.nombre!==S.nombre)&&p(R)}g.current=F},[w]);const b=ee.useMemo(()=>t.curso?a.filter(I=>I.curso===t.curso).map(I=>{const k=I.grupos.find(F=>F.integrantes.some(R=>R.nombre===t.nombreCompleto));return k?{...I,miGrupo:k}:null}).filter(I=>I!==null).sort((I,k)=>new Date(k.fechaPresentacion).getTime()-new Date(I.fechaPresentacion).getTime()):[],[a,t]),E=(I,k)=>{const F=localStorage.getItem(TE),L=(F?JSON.parse(F):[]).map(S=>{if(S.id===I){const N=S.grupos.map(B=>{if(B.integrantes.some(P=>P.nombre===t.nombreCompleto)){const P=B.integrantes.map(M=>M.nombre===t.nombreCompleto?{...M,rol:k||void 0}:M);return{...B,integrantes:P}}return B});return{...S,grupos:N}}return S});localStorage.setItem(TE,JSON.stringify(L)),i(L)},T=I=>{const k=parseFloat(I);return isNaN(k)?"bg-slate-400":k<4?"bg-red-500":k<5.5?"bg-yellow-500":"bg-green-500"};return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[h&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4",onClick:()=>p(null),children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md text-center p-8 animate-fade-in-up transform transition-all",onClick:I=>I.stopPropagation(),children:[u.jsx("div",{className:"text-8xl animate-bounce",children:h.emoji}),u.jsx("h2",{className:"text-3xl font-bold text-slate-800 mt-4",children:"Subiste de Rango!"}),u.jsx("p",{className:"text-2xl font-semibold text-amber-500 mt-2",children:h.nombre}),u.jsx("p",{className:"text-slate-600 mt-4",children:h.mensaje}),u.jsx("button",{onClick:()=>p(null),className:"mt-6 bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700",children:"Genial!"})]})}),A&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:()=>d(!1),children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg p-6 max-h-[80vh] flex flex-col",onClick:I=>I.stopPropagation(),children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Mis Logros"}),u.jsx("div",{className:"overflow-y-auto space-y-3",children:G1.map(I=>{const k=o==null?void 0:o.insigniasGanadas.some(F=>F.nombre===I.nombre);return u.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${k?"bg-amber-50 border-amber-200":"bg-slate-100 border-slate-200 opacity-60"}`,children:[u.jsx("div",{className:"text-5xl",children:I.emoji}),u.jsxs("div",{children:[u.jsx("h3",{className:`font-bold ${k?"text-amber-700":"text-slate-600"}`,children:I.nombre}),u.jsxs("p",{className:"text-sm text-slate-500",children:["Requisito: Promedio entre ",I.promedioMin," y ",I.promedioMax]})]})]},I.nombre)})})]})}),u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Mi Rendimiento Formativo"}),u.jsx("p",{className:"text-slate-500 mb-6",children:"Aqu puedes ver un resumen de tu trabajo en clases por cada asignatura."}),o&&o.rangoActual&&u.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-slate-700 text-white p-6 rounded-xl mb-8 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm opacity-80",children:"RANGO ACTUAL"}),u.jsx("h2",{className:"text-3xl font-bold",children:o.rangoActual.nombre}),u.jsx("button",{onClick:()=>d(!0),className:"mt-2 text-xs font-semibold bg-white/20 hover:bg-white/30 px-3 py-1 rounded-full",children:"Ver todos los logros"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-7xl",children:o.rangoActual.emoji}),u.jsx("p",{className:"font-bold text-2xl mt-2",children:o.promedio.toFixed(1)}),u.jsx("p",{className:"text-sm opacity-80",children:"Promedio General"})]})]}),w.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(I=>u.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-5 flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800",children:I.asignatura}),u.jsx("p",{className:"text-sm text-slate-500",children:"Promedio Formativo"})]}),u.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center text-white font-bold text-3xl ${T(I.promedio)}`,children:I.promedio})]}),u.jsxs("div",{className:"flex-grow space-y-2 pt-4 border-t border-slate-200",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-600 mb-2",children:"Detalle de Actividades:"}),I.actividades.map(k=>u.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-slate-700",children:k.nombreActividad}),u.jsx("p",{className:"text-xs text-slate-500",children:new Date(k.fecha+"T12:00:00").toLocaleDateString("es-CL")})]}),u.jsx("span",{className:`font-semibold ${k.estado==="Trabajado"?"text-green-600":"text-red-600"}`,children:k.estado==="Trabajado"?" Trabajado":" No Trabajado"})]},k.id))]})]},I.asignatura))}):u.jsxs("div",{className:"text-center py-16 bg-slate-50 rounded-lg",children:[u.jsx("span",{className:"text-5xl",children:""}),u.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-700",children:"An sin registros"}),u.jsx("p",{className:"text-slate-500 mt-2",children:"Todava no tienes evaluaciones formativas registradas por tus profesores."})]})]}),b.length>0&&u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Mis Trabajos Grupales"}),u.jsx("div",{className:"space-y-4",children:b.map(I=>{const k=I.miGrupo.integrantes.filter(R=>R.nombre!==t.nombreCompleto&&R.rol).map(R=>R.rol),F=t8.filter(R=>!k.includes(R));return u.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50",children:[u.jsx("h3",{className:"font-bold text-slate-800",children:I.nombreActividad}),u.jsxs("p",{className:"text-sm text-slate-500",children:[I.asignatura," - Presentacin: ",new Date(I.fechaPresentacion+"T12:00:00").toLocaleDateString("es-CL")]}),u.jsxs("div",{className:"mt-3 pt-3 border-t",children:[u.jsxs("h4",{className:"font-semibold text-sm",children:["Grupo ",I.miGrupo.numero]}),u.jsx("ul",{className:"list-disc list-inside text-sm mt-2 space-y-2",children:I.miGrupo.integrantes.map(R=>u.jsxs("li",{className:"grid grid-cols-2 items-center",children:[u.jsx("span",{className:R.nombre===t.nombreCompleto?"font-bold":"",children:R.nombre}),R.nombre===t.nombreCompleto?u.jsxs("select",{value:R.rol||"",onChange:L=>E(I.id,L.target.value),className:"text-sm p-1 border rounded w-full",children:[u.jsx("option",{value:"",children:"-- Seleccionar rol --"}),R.rol&&!F.includes(R.rol)&&u.jsx("option",{value:R.rol,children:R.rol}),F.map(L=>u.jsx("option",{value:L,children:L},L))]}):u.jsx("span",{className:"text-xs italic bg-slate-200 px-2 py-1 rounded-full",children:R.rol||"Sin rol"})]},R.nombre))})]})]},I.id)})})]})]})},X4e="planificacionesInterdisciplinarias",pD="entregasTareasInterdisciplinarias",Z4e=({currentUser:t})=>{const[e,n]=ee.useState([]),[r,s]=ee.useState([]),[a,i]=ee.useState(null);ee.useEffect(()=>{const p=()=>{try{const g=localStorage.getItem(X4e);g&&n(JSON.parse(g));const w=localStorage.getItem(pD);w&&s(JSON.parse(w))}catch(g){console.error("Error al cargar datos desde localStorage",g)}};return p(),window.addEventListener("storage",p),()=>window.removeEventListener("storage",p)},[]);const o=ee.useMemo(()=>e.filter(p=>p.cursos.includes(t.curso||"")),[e,t.curso]),l=p=>{s(p),localStorage.setItem(pD,JSON.stringify(p)),window.dispatchEvent(new Event("storage"))},A=(p,g)=>{let w=r.find(b=>b.planificacionId===p&&b.tareaId===g&&b.estudianteId===t.id);return w||(w={id:crypto.randomUUID(),planificacionId:p,tareaId:g,estudianteId:t.id,estudianteNombre:t.nombreCompleto,completada:!1}),w},d=p=>{const g=r.findIndex(b=>b.id===p.id);let w;g>-1?w=r.map(b=>b.id===p.id?p:b):w=[...r,p],l(w)},h=({plan:p,tarea:g})=>{const w=ee.useMemo(()=>A(p.id,g.id),[p.id,g.id,r]),[b,E]=ee.useState(!1),[T,I]=ee.useState({observaciones:w.observacionesEstudiante||"",enlace:w.enlaceUrl||""}),k=L=>{var N;const S=(N=L.target.files)==null?void 0:N[0];if(S){const B=new FileReader;B.onloadend=()=>{d({...w,archivoAdjunto:{nombre:S.name,url:B.result},fechaCompletado:new Date().toISOString()})},B.readAsDataURL(S)}},F=()=>{d({...w,observacionesEstudiante:T.observaciones,enlaceUrl:T.enlace,fechaCompletado:new Date().toISOString()})},R=()=>{d({...w,completada:!w.completada,fechaCompletado:new Date().toISOString()})};return u.jsxs("div",{className:"p-3 bg-white dark:bg-slate-700/50 rounded-lg border dark:border-slate-600",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("input",{type:"checkbox",checked:w.completada,onChange:R,className:"mt-1 h-5 w-5 rounded text-amber-500 focus:ring-amber-400"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("p",{className:`font-semibold ${w.completada?"line-through text-slate-500":"text-slate-800"}`,children:["Tarea ",g.numero,": ",g.instrucciones]}),u.jsxs("p",{className:"text-xs text-slate-500",children:["Fecha de entrega: ",g.fechaEntrega]}),g.recursoUrl&&u.jsx("a",{href:g.recursoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline",children:"Ver Recurso"})]}),u.jsx("button",{onClick:()=>E(!b),className:"text-sm font-semibold",children:b?"Ocultar":"Entregar"})]}),b&&u.jsxs("div",{className:"mt-3 pt-3 pl-8 border-t dark:border-slate-600 space-y-3 animate-fade-in-up",children:[u.jsx("textarea",{value:T.observaciones,onChange:L=>I({...T,observaciones:L.target.value}),onBlur:F,placeholder:"Aadir observaciones o comentarios...",rows:2,className:"w-full text-sm p-1 border rounded"}),u.jsx("input",{type:"url",value:T.enlace,onChange:L=>I({...T,enlace:L.target.value}),onBlur:F,placeholder:"Pegar un enlace (ej: Google Docs, video)...",className:"w-full text-sm p-1 border rounded"}),u.jsx("input",{type:"file",onChange:k,className:"text-sm"}),w.archivoAdjunto&&u.jsxs("p",{className:"text-xs text-green-600",children:[" Archivo subido: ",w.archivoAdjunto.nombre]})]}),w.feedbackProfesor&&u.jsxs("div",{className:"mt-3 pt-3 pl-8 border-t border-amber-300 bg-amber-50 dark:bg-amber-900/20 p-2 rounded",children:[u.jsx("p",{className:"text-sm font-semibold text-amber-800 dark:text-amber-200",children:"Retroalimentacin del profesor:"}),u.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:w.feedbackProfesor})]})]})};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Mis Tareas Interdisciplinarias"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Revisa y completa las tareas de tus proyectos."})]}),o.length>0?o.map(p=>{const g=p.tareas||[],b=r.filter(T=>T.planificacionId===p.id&&T.estudianteId===t.id).filter(T=>T.completada).length,E=g.length>0?b/g.length*100:0;return u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[u.jsxs("button",{onClick:()=>i(a===p.id?null:p.id),className:"w-full text-left",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:p.nombreProyecto}),u.jsxs("div",{className:"mt-2 space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-sm font-medium text-slate-500",children:[u.jsx("span",{children:"Progreso"}),u.jsxs("span",{children:[Math.round(E),"%"]})]}),u.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:u.jsx("div",{className:"bg-amber-500 h-2.5 rounded-full",style:{width:`${E}%`}})})]})]}),a===p.id&&u.jsx("div",{className:"mt-4 pt-4 border-t space-y-3",children:g.length>0?g.map(T=>u.jsx(h,{plan:p,tarea:T},T.id)):u.jsx("p",{className:"text-slate-500 text-center",children:"Este proyecto an no tiene tareas asignadas."})})]},p.id)}):u.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-md",children:[u.jsx("span",{className:"text-5xl",children:""}),u.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-700",children:"Todo al da!"}),u.jsx("p",{className:"text-slate-500 mt-2",children:"No tienes tareas de proyectos interdisciplinarios asignadas por el momento."})]})]})},eTe="acompanamientoDocenteRecords",tTe="acompanamientoDocenteCustomRubrica",nTe=({data:t})=>u.jsx("div",{className:"space-y-4",children:t.map((n,r)=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[u.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:n.label.replace("Dominio A: ","A: ").replace("Dominio B: ","B: ").replace("Dominio C: ","C: ")}),u.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:[n.value.toFixed(2)," / 4.00"]})]}),u.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:u.jsx("div",{className:"bg-sky-500 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${n.value/4*100}%`}})})]},n.label+r))}),rTe=({currentUser:t})=>{const[e,n]=ee.useState([]),[r,s]=ee.useState(null),[a,i]=ee.useState(U2);ee.useEffect(()=>{try{const A=localStorage.getItem(eTe);if(A){const p=JSON.parse(A).filter(g=>g.docente===t.nombreCompleto).sort((g,w)=>new Date(w.fecha).getTime()-new Date(g.fecha).getTime());n(p)}const d=localStorage.getItem(tTe);d&&i(JSON.parse(d))}catch(A){console.error("Error al cargar datos de acompaamiento",A)}},[t.nombreCompleto]);const o=ee.useMemo(()=>{if(!r)return[];const A={};return a.forEach(d=>{A[d.domain]={total:0,count:0},d.criteria.forEach(h=>{const p=r.rubricaResultados[h.name];p&&(A[d.domain].total+=p,A[d.domain].count++)})}),Object.entries(A).map(([d,h])=>({label:d,value:h.count>0?h.total/h.count:0}))},[r,a]),l=A=>{const d=new an;d.setFont("helvetica","bold"),d.setFontSize(16),d.text("Informe de Acompaamiento Docente",105,20,{align:"center"}),d.setFontSize(12),d.setFont("helvetica","normal"),Fl(d,{startY:30,body:[["Docente:",A.docente],["Fecha:",new Date(A.fecha).toLocaleDateString("es-CL")],["Asignatura:",A.asignatura],["Curso:",A.curso]],theme:"plain"});let h=d.lastAutoTable.finalY+10;const p=(g,w)=>{if(!w)return;h>250&&(d.addPage(),h=20),d.setFont("helvetica","bold"),d.setFontSize(14),d.text(g,14,h),h+=8,d.setFont("helvetica","normal"),d.setFontSize(11);const b=d.splitTextToSize(w.replace(/## /g,"").replace(/(\*\*|\*)/g,""),180);d.text(b,14,h),h+=b.length*5+10};p("Observaciones Generales",A.observacionesGenerales),p("Retroalimentacin Consolidada",A.retroalimentacionConsolidada),d.save(`Acompanamiento_${t.nombreCompleto.replace(/\s/g,"_")}.pdf`)};return r?u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md animate-fade-in",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{children:[u.jsx("button",{onClick:()=>s(null),className:"text-sm font-semibold text-slate-500 hover:underline mb-2",children:" Volver a mi historial"}),u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Detalle del Acompaamiento"}),u.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[new Date(r.fecha).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"})," | ",r.curso," - ",r.asignatura]})]}),u.jsxs("button",{onClick:()=>l(r),className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2 hover:bg-red-700",children:[u.jsx(e8,{})," Exportar PDF"]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsx("div",{className:"lg:col-span-2 space-y-6",children:u.jsxs("div",{className:"prose dark:prose-invert max-w-none prose-slate",children:[u.jsx("h3",{children:"Retroalimentacin Consolidada (IA)"}),u.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:u.jsx("p",{className:"whitespace-pre-wrap",children:r.retroalimentacionConsolidada||"No se ha generado retroalimentacin."})}),u.jsx("h3",{children:"Observaciones Generales"}),u.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:u.jsx("p",{className:"whitespace-pre-wrap",children:r.observacionesGenerales||"Sin observaciones."})})]})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Desempeo por Dominio"}),u.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:u.jsx(nTe,{data:o})})]})]})]}):u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Mis Acompaamientos"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Aqu encontrars el historial de tus observaciones de clase y la retroalimentacin asociada."}),u.jsx("div",{className:"space-y-4",children:e.length>0?e.map(A=>u.jsx("button",{onClick:()=>s(A),className:"w-full text-left p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50 hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-colors",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[A.curso," - ",A.asignatura]}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Fecha: ",new Date(A.fecha).toLocaleDateString("es-CL")]})]}),u.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400 text-sm",children:"Ver Detalles"})]})},A.id)):u.jsxs("div",{className:"text-center py-16 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[u.jsx("span",{className:"text-5xl",children:""}),u.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-700 dark:text-slate-300",children:"Sin Registros"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"An no tienes acompaamientos de clase registrados."})]})})]})},sTe="planificacionesDocente",aTe=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}),iTe=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),oTe=({plan:t,onClose:e})=>{const n=s=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Objetivo de Aprendizaje:"})," ",s.objetivosAprendizaje]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Indicadores de Evaluacin:"})," ",s.indicadoresEvaluacion]}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:[u.jsx("strong",{children:"Contenidos Clave:"})," ",s.contenidos]})]}),u.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 border-b pb-2",children:["Secuencia de Clases (",s.cantidadClases,")"]}),u.jsx("div",{className:"space-y-3 max-h-[40vh] overflow-y-auto pr-2",children:s.detallesLeccion.map((a,i)=>u.jsxs("div",{className:"p-3 border dark:border-slate-600 rounded-md bg-white dark:bg-slate-800",children:[u.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-300",children:["Clase ",i+1,": ",a.actividades]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-1 mt-2 text-sm text-slate-600 dark:text-slate-400",children:[u.jsxs("span",{children:[u.jsx("strong",{children:"Objetivo:"})," ",a.objetivosAprendizaje]}),u.jsxs("span",{children:[u.jsx("strong",{children:"Contenidos:"})," ",a.contenidosConceptuales]}),u.jsxs("span",{children:[u.jsx("strong",{children:"Habilidad (Bloom):"})," ",a.habilidadesBloom]}),u.jsxs("span",{children:[u.jsx("strong",{children:"Perfil de Egreso:"})," ",a.perfilEgreso]}),u.jsxs("span",{className:"md:col-span-2",children:[u.jsx("strong",{children:"Interdisciplinariedad:"})," ",a.asignaturasInterdisciplinariedad]})]})]},i))})]}),r=s=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("p",{className:"p-4 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[u.jsx("strong",{children:"Contenidos:"})," ",s.contenidos]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:"Inicio"}),u.jsx("p",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600 whitespace-pre-wrap",children:s.momentosClase.inicio})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:"Desarrollo"}),u.jsx("p",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600 whitespace-pre-wrap",children:s.momentosClase.desarrollo})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:"Cierre"}),u.jsx("p",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600 whitespace-pre-wrap",children:s.momentosClase.cierre})]})]})]});return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col animate-fade-in-up",onClick:s=>s.stopPropagation(),children:[u.jsxs("header",{className:"p-4 border-b dark:border-slate-700 flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:t.tipo==="Unidad"?t.nombreUnidad:t.nombreClase}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[t.asignatura," | ",t.nivel," | Autor: ",t.autor||"N/A"]})]}),u.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700",children:u.jsx(iTe,{})})]}),u.jsx("main",{className:"p-4 flex-1 overflow-y-auto",children:t.tipo==="Unidad"?n(t):r(t)})]})})},lTe=()=>{const[t,e]=ee.useState([]),[n,r]=ee.useState("1"),[s,a]=ee.useState(null),[i,o]=ee.useState(null),l=ee.useCallback(()=>{try{const p=localStorage.getItem(sTe);p&&e(JSON.parse(p))}catch(p){console.error("Error al leer planificaciones de localStorage",p)}},[]);ee.useEffect(()=>(l(),window.addEventListener("storage",l),()=>{window.removeEventListener("storage",l)}),[l]);const A=ee.useMemo(()=>{const g={"1":"1 Medio","2":"2 Medio","3":"3 Medio","4":"4 Medio"}[n];return t.filter(w=>w.nivel===g)},[t,n]),d=p=>{a(g=>g===p?null:p)},h=[{key:"1",label:"1 Medio"},{key:"2",label:"2 Medio"},{key:"3",label:"3 Medio"},{key:"4",label:"4 Medio"}];return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md animate-fade-in max-w-4xl mx-auto",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Seguimiento Curricular"}),u.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 mb-6",children:u.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:h.map(p=>u.jsx("button",{onClick:()=>r(p.key),className:`${n===p.key?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg transition-colors focus:outline-none`,children:p.label},p.key))})}),u.jsx("div",{className:"space-y-4",children:zo.map(p=>{const g=A.filter(b=>b.asignatura===p);if(g.length===0)return null;const w=s===p;return u.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg",children:[u.jsxs("button",{onClick:()=>d(p),className:"w-full flex justify-between items-center p-4 text-left",children:[u.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:p}),u.jsx("span",{className:`transform transition-transform duration-200 ${w?"rotate-180":""}`,children:u.jsx(aTe,{})})]}),w&&u.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 animate-fade-in-up",children:u.jsx("ul",{className:"space-y-3",children:g.length>0?g.map(b=>u.jsx("li",{children:u.jsxs("button",{onClick:()=>o(b),className:"w-full text-left p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[u.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:b.tipo==="Unidad"?b.nombreUnidad:b.nombreClase}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Autor: ",b.autor||"No especificado"," - Creado: ",new Date(b.fechaCreacion).toLocaleDateString("es-CL")]})]})},b.id)):u.jsx("li",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No hay planificaciones para esta asignatura."})})})]},p)})})]}),i&&u.jsx(oTe,{plan:i,onClose:()=>o(null)})]})},gD="analisisTaxonomicos",xD=["Recordar","Comprender","Aplicar","Analizar","Evaluar","Crear"],vD={Recordar:"bg-sky-500",Comprender:"bg-blue-500",Aplicar:"bg-green-500",Analizar:"bg-yellow-500",Evaluar:"bg-orange-500",Crear:"bg-red-500"},cTe=()=>u.jsxs("svg",{className:"animate-spin h-5 w-5 text-slate-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),yD=({currentUser:t})=>{const[e,n]=ee.useState([]),[r,s]=ee.useState(null),[a,i]=ee.useState(""),[o,l]=ee.useState(!1),[A,d]=ee.useState(null),[h,p]=ee.useState(null),[g,w]=ee.useState(null);ee.useEffect(()=>{try{const F=localStorage.getItem(gD);if(F){const R=JSON.parse(F);n(R)}}catch(F){console.error("Error al cargar historial de anlisis",F)}},[]);const b=F=>{n(F),localStorage.setItem(gD,JSON.stringify(F))},E=async F=>{var L;const R=(L=F.target.files)==null?void 0:L[0];if(R){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(R.type)){d("Por favor, suba un archivo PDF o DOCX vlido."),p(null),w(null),i("");return}p(R),i(R.name),d(null);const N=new FileReader;N.onloadend=()=>{const B=N.result.split(",")[1];if(!B){d("No se pudo procesar el archivo. Puede que est vaco o corrupto."),w(null);return}w({mimeType:R.type,data:B})},N.onerror=()=>{d("Error al leer el archivo."),w(null)},N.readAsDataURL(R)}},T=async()=>{if(!a.trim()||!g){d("Debe subir un documento PDF o DOCX y asignarle un nombre para analizar.");return}l(!0),d(null);const F=`
            Eres un experto en pedagoga y en la Taxonoma de Bloom. Analiza el siguiente documento de una evaluacin educativa.
            Tu tarea es:
            1. Identificar cada pregunta o tem de evaluacin en el documento.
            2. Clasificar cada pregunta en uno de los seis niveles de la Taxonoma de Bloom: Recordar, Comprender, Aplicar, Analizar, Evaluar, Crear.
            3. Devolver un objeto JSON estructurado con los resultados.
        `,R={type:Bt.OBJECT,properties:{analysisResults:{type:Bt.ARRAY,description:"Un array con cada pregunta identificada y su clasificacin de Bloom.",items:{type:Bt.OBJECT,properties:{question:{type:Bt.STRING,description:"El texto exacto de la pregunta."},habilidadBloom:{type:Bt.STRING,description:"El nivel de Bloom correspondiente.",enum:xD}},required:["question","habilidadBloom"]}},summary:{type:Bt.OBJECT,description:"Un resumen con el conteo de preguntas por cada nivel de Bloom.",properties:{Recordar:{type:Bt.INTEGER},Comprender:{type:Bt.INTEGER},Aplicar:{type:Bt.INTEGER},Analizar:{type:Bt.INTEGER},Evaluar:{type:Bt.INTEGER},Crear:{type:Bt.INTEGER}}}},required:["analysisResults","summary"]};try{go("Anlisis Taxonmico");const L=new Ta({apiKey:void 0}),S={inlineData:{mimeType:g.mimeType,data:g.data}},N=await L.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{text:F},S]},config:{responseMimeType:"application/json",responseSchema:R}}),B=JSON.parse(N.text),H={id:crypto.randomUUID(),documentName:a,uploadDate:new Date().toISOString(),userId:t.id,analysisResults:B.analysisResults,summary:B.summary},P=[H,...e];b(P),s(H),i(""),p(null),w(null)}catch(L){console.error(L),d("Hubo un error al analizar el documento. Asegrese de que el archivo no est protegido o vaco. Intntelo de nuevo.")}finally{l(!1)}},I=F=>{if(window.confirm("Est seguro de eliminar este anlisis?")){const R=e.filter(L=>L.id!==F);b(R),(r==null?void 0:r.id)===F&&s(null)}},k=ee.useMemo(()=>r?Object.values(r.summary).reduce((F,R)=>F+(R||0),0):0,[r]);return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Anlisis Taxonmico de Evaluaciones"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Analizar Nuevo Documento"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Subir Archivo (.pdf, .docx)"}),u.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-slate-300 border-dashed rounded-md",children:u.jsxs("div",{className:"space-y-1 text-center",children:[u.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:u.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),u.jsxs("div",{className:"flex text-sm text-slate-600 dark:text-slate-400",children:[u.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white dark:bg-slate-800 rounded-md font-medium text-amber-600 hover:text-amber-500 focus-within:outline-none",children:[u.jsx("span",{children:"Cargue un archivo"}),u.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:E,accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"})]}),u.jsx("p",{className:"pl-1",children:"o arrstrelo aqu"})]}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:h?h.name:"PDF, DOCX hasta 10MB"})]})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre del Documento/Prueba"}),u.jsx("input",{type:"text",id:"documentName",value:a,onChange:F=>i(F.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),A&&u.jsx("p",{className:"text-sm text-red-600 bg-red-100 p-3 rounded-md",children:A}),u.jsx("button",{onClick:T,disabled:o||!g,className:"w-full bg-slate-800 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center",children:o?u.jsx(cTe,{}):"Analizar con IA"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Anlisis"}),u.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:e.length>0?e.map(F=>u.jsxs("button",{onClick:()=>s(F),className:`w-full text-left p-3 rounded-md border ${(r==null?void 0:r.id)===F.id?"bg-amber-100 border-amber-300 dark:bg-amber-900/30 dark:border-amber-700":"bg-slate-50 hover:bg-slate-100 dark:bg-slate-700/50 dark:hover:bg-slate-700"}`,children:[u.jsx("p",{className:"font-semibold truncate",children:F.documentName}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date(F.uploadDate).toLocaleString("es-CL")})]},F.id)):u.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No hay anlisis guardados."})})]})]}),u.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:r?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:r.documentName}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Analizado el ",new Date(r.uploadDate).toLocaleString("es-CL")]})]}),u.jsx("button",{onClick:()=>I(r.id),className:"text-red-500 hover:text-red-700 text-sm font-semibold",children:"Eliminar"})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300 mb-3",children:["Consolidado Taxonmico (",k," preguntas)"]}),u.jsx("div",{className:"space-y-3",children:xD.map(F=>{const R=r.summary[F]||0,L=k>0?R/k*100:0;return u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[u.jsx("span",{className:"font-medium text-slate-600 dark:text-slate-300",children:F}),u.jsxs("span",{className:"font-semibold text-slate-500 dark:text-slate-400",children:[R," (",L.toFixed(0),"%)"]})]}),u.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:u.jsx("div",{className:`${vD[F]} h-4 rounded-full`,style:{width:`${L}%`}})})]},F)})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300 mb-3",children:"Detalle del Anlisis"}),u.jsx("div",{className:"overflow-x-auto max-h-96 border rounded-lg dark:border-slate-700",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase w-3/4",children:"Pregunta / tem"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Habilidad (Bloom)"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:r.analysisResults.map((F,R)=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300",children:F.question}),u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full text-white ${vD[F.habilidadBloom]}`,children:F.habilidadBloom})})]},R))})]})})]})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[u.jsx("span",{className:"text-6xl mb-4 text-slate-400",children:""}),u.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300",children:"Resultados del Anlisis"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mt-2",children:"Realice un nuevo anlisis o seleccione uno del historial para ver los resultados aqu."})]})})]})]})},ATe=t=>{if(!t)return"";let e=t.trim().toLowerCase();return e=e.replace(//g,""),e=e.replace(/\s+(medio|bsico|basico)/g,""),e=e.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1"),e=e.replace(/^(\d)(?![])/,"$1"),e=e.replace(/\s+/g,"").toUpperCase(),e},uTe=({currentUser:t,onLogout:e,onUserUpdate:n,onChangeProfile:r,unreadMessagesCount:s,refreshUnreadCount:a})=>{const i=t.profile,o=ee.useMemo(()=>{const E=XW[i]??[];return i!==en.ESTUDIANTE?E:E.filter(T=>{if(T.name==="Asistencia a Empresa"){const I=ATe(t.curso||"");return I.startsWith("3")||I.startsWith("4")}return!0})},[i,t.curso]),[l,A]=ee.useState(null),[d,h]=ee.useState(!1);ee.useEffect(()=>{o.length>0?A(o[0]):A(null)},[o]);const p=ee.useCallback(E=>{A(E),window.innerWidth<768&&h(!1)},[]),g=ee.useCallback(E=>{const T=o.find(I=>I.name===E);T&&p(T)},[o,p]),w=()=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-center h-16 border-b border-slate-700 px-4 flex-shrink-0",children:[u.jsx(LW,{}),u.jsx("span",{className:"ml-3 text-white font-bold text-xl whitespace-nowrap",children:"Gestin LIR"})]}),u.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto sidebar-scroll",children:o.map(E=>u.jsxs("button",{onClick:()=>p(E),className:`w-full flex items-center py-3 px-4 rounded-lg transition-colors duration-200 text-left ${(l==null?void 0:l.name)===E.name?"bg-slate-900 text-amber-400 font-semibold":"text-slate-300 hover:bg-slate-700 hover:text-white"}`,children:[E.icon,u.jsx("span",{className:"ml-4",children:E.name})]},E.name))})]}),b=()=>{if(!l)return u.jsx("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex items-center justify-center",children:u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xl",children:"Seleccione un mdulo del men para comenzar."})});if(l.name==="Calendario Acadmico")return u.jsx(Nse,{profile:i});if(l.name==="Muro de Anuncios")return u.jsx(kse,{currentUser:t});if(l.name==="Mensajera Interna")return u.jsx(lxe,{currentUser:t,refreshUnreadCount:a});if(l.name==="Generador de Actas")return u.jsx(Fse,{});if(i===en.SUBDIRECCION){if(l.name==="Dashboard")return u.jsx(h$,{});if(l.name==="Administracin")return u.jsx(Bge,{});if(l.name==="Seguimiento Curricular")return u.jsx(lTe,{});if(l.name==="Acompaamiento docente")return u.jsx(ixe,{});if(l.name==="Anlisis Taxonmico")return u.jsx(yD,{currentUser:t});if(l.name==="Interdisciplinario")return u.jsx(dR,{});if(l.name==="Registro de inasistencias y reemplazos docentes")return u.jsx(A$,{});if(l.name==="Crear horarios")return u.jsx(xse,{});if(l.name==="Seguimiento de acciones pedaggicas")return u.jsx(yse,{});if(l.name==="Inclusin")return u.jsx(s6,{currentUser:t})}if(i===en.PROFESORADO){if(l.name==="Planificacin")return u.jsx(_se,{currentUser:t});if(l.name==="Mis Acompaamientos")return u.jsx(rTe,{currentUser:t});if(l.name==="Recursos de Aprendizaje")return u.jsx(W4e,{});if(l.name==="Anlisis Taxonmico")return u.jsx(yD,{currentUser:t});if(l.name==="Interdisciplinario")return u.jsx(dR,{});if(l.name==="Inclusin")return u.jsx(s6,{currentUser:t});if(l.name==="Actividades Remotas")return u.jsx(Uge,{});if(l.name==="Evaluacin de Aprendizajes")return u.jsx(Cie,{});if(l.name==="Evaluaciones Formativas")return u.jsx(txe,{currentUser:t})}if(i===en.COORDINACION_TP){if(l.name==="Seguimiento Dual")return u.jsx(Ige,{});if(l.name==="Asistencia Dual")return u.jsx($ge,{});if(l.name==="Paol")return u.jsx(zwe,{})}if(i===en.ESTUDIANTE){if(l.name==="Auto-aprendizaje")return u.jsx(Oge,{currentUser:t});if(l.name==="Evaluacin Formativa")return u.jsx(J4e,{currentUser:t});if(l.name==="Tareas Interdisciplinarias")return u.jsx(Z4e,{currentUser:t});if(l.name==="Asistencia a Empresa")return u.jsx(Gge,{currentUser:t})}return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:l.name}),u.jsx("div",{className:"border-l-4 border-amber-400 pl-4",children:u.jsxs("p",{className:"text-slate-600 dark:text-slate-400 text-lg",children:["Aqu ir la funcionalidad de ",u.jsx("span",{className:"font-semibold",children:l.name}),"."]})})]})};return u.jsxs("div",{className:"h-screen flex flex-col bg-slate-100",children:[u.jsx(i$,{currentUser:t,onLogout:e,onNavigate:g,onUserUpdate:n,onChangeProfile:r,toggleSidebar:()=>h(!d),unreadMessagesCount:s,refreshUnreadCount:a}),u.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[d&&u.jsx("div",{onClick:()=>h(!1),className:"fixed inset-0 bg-black opacity-50 z-20 md:hidden"}),u.jsx("aside",{className:`fixed md:relative z-30 inset-y-0 left-0 w-72 bg-slate-800 text-white flex flex-col transform md:translate-x-0 ${d?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out`,children:u.jsx(w,{})}),u.jsx("main",{className:"flex-1 overflow-y-auto",children:u.jsx("div",{className:"p-6 md:p-8",children:b()})})]})]})},dTe=({onSelectProfile:t,isAdminView:e=!1})=>u.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-slate-100 dark:bg-slate-900",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("div",{className:"mb-4 flex justify-center items-center",children:u.jsx(ZL,{})}),u.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-200 mt-2",children:"Gestin Pedaggica LIR"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-lg",children:e?"Como administrador, seleccione el perfil que desea visualizar:":"Seleccione su perfil para continuar"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 w-full max-w-6xl",children:JW.map(n=>u.jsxs("button",{onClick:()=>t(n.id),className:"group bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md hover:shadow-xl hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-amber-400 focus:ring-opacity-50 transition-all duration-300 ease-in-out flex flex-col items-center justify-center text-center",children:[u.jsx("div",{className:"text-slate-700 dark:text-slate-300 group-hover:text-amber-400 transition-colors duration-300",children:n.icon}),u.jsx("h2",{className:"text-xl font-semibold mt-4 text-slate-800 dark:text-slate-200",children:n.label})]},n.id))}),u.jsxs("footer",{className:"absolute bottom-4 text-slate-500 dark:text-slate-400 text-sm",children:[" ",new Date().getFullYear()," Liceo Industrial de Recoleta. Todos los derechos reservados."]})]}),fTe=()=>{const[t,e]=ee.useState(null),[n,r]=ee.useState(null),[s,a]=ee.useState(null),[i,o]=ee.useState(!1),[l,A]=ee.useState(null);ee.useEffect(()=>{const w=sG(eC,b=>{e(b),b||(r(null),A(null),o(!1))});return()=>w()},[]),ee.useEffect(()=>{(async()=>{if(t!=null&&t.email){const b=yh(Fm,"usuarios",t.email),E=await IW(b);E.exists()?(r(E.data()),E.data().profile===en.SUBDIRECCION&&o(!0)):r(null)}})()},[t]);const d=async(w,b)=>{a(null);try{await tG(eC,w,b)}catch{a("Credenciales incorrectas o usuario no registrado.")}},h=w=>{A(w),o(!1)},p=async()=>{await aG(eC),e(null),r(null),A(null),o(!1)},g=()=>t&&i&&(n==null?void 0:n.profile)===en.SUBDIRECCION?u.jsx(dTe,{onSelectProfile:h,isAdminView:!0}):t&&n?u.jsx(uTe,{currentUser:{...n,profile:l||n.profile},onLogout:p}):u.jsx(n$,{onLoginAttempt:d,error:s});return u.jsx("div",{className:"min-h-screen bg-slate-100 font-sans",children:g()})},lQ=document.getElementById("root");if(!lQ)throw new Error("Could not find root element to mount to");const hTe=y9.createRoot(lQ);hTe.render(u.jsx(ut.StrictMode,{children:u.jsx(fTe,{})}));export{Mr as _,mTe as c,BS as g};
