var Ace=Object.defineProperty;var fce=(e,t,r)=>t in e?Ace(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var rB=(e,t,r)=>fce(e,typeof t!="symbol"?t+"":t,r);function hce(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Git=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function il(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function mce(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var nB={exports:{}},v1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w8;function pce(){if(w8)return v1;w8=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var i=null;if(s!==void 0&&(i=""+s),a.key!==void 0&&(i=""+a.key),"key"in a){s={};for(var o in a)o!=="key"&&(s[o]=a[o])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:i,ref:a!==void 0?a:null,props:s}}return v1.Fragment=t,v1.jsx=r,v1.jsxs=r,v1}var E8;function gce(){return E8||(E8=1,nB.exports=pce()),nB.exports}var c=gce(),aB={exports:{}},Jr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C8;function vce(){if(C8)return Jr;C8=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function m(K){return K===null||typeof K!="object"?null:(K=f&&K[f]||K["@@iterator"],typeof K=="function"?K:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,g={};function b(K,J,P){this.props=K,this.context=J,this.refs=g,this.updater=P||p}b.prototype.isReactComponent={},b.prototype.setState=function(K,J){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,J,"setState")},b.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function y(){}y.prototype=b.prototype;function _(K,J,P){this.props=K,this.context=J,this.refs=g,this.updater=P||p}var S=_.prototype=new y;S.constructor=_,x(S,b.prototype),S.isPureReactComponent=!0;var I=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function w(K,J,P,G,Y,re){return P=re.ref,{$$typeof:e,type:K,key:J,ref:P!==void 0?P:null,props:re}}function C(K,J){return w(K.type,J,void 0,void 0,void 0,K.props)}function N(K){return typeof K=="object"&&K!==null&&K.$$typeof===e}function R(K){var J={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(P){return J[P]})}var D=/\/+/g;function O(K,J){return typeof K=="object"&&K!==null&&K.key!=null?R(""+K.key):J.toString(36)}function M(){}function Q(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(M,M):(K.status="pending",K.then(function(J){K.status==="pending"&&(K.status="fulfilled",K.value=J)},function(J){K.status==="pending"&&(K.status="rejected",K.reason=J)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function ee(K,J,P,G,Y){var re=typeof K;(re==="undefined"||re==="boolean")&&(K=null);var ie=!1;if(K===null)ie=!0;else switch(re){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(K.$$typeof){case e:case t:ie=!0;break;case d:return ie=K._init,ee(ie(K._payload),J,P,G,Y)}}if(ie)return Y=Y(K),ie=G===""?"."+O(K,0):G,I(Y)?(P="",ie!=null&&(P=ie.replace(D,"$&/")+"/"),ee(Y,J,P,"",function(ue){return ue})):Y!=null&&(N(Y)&&(Y=C(Y,P+(Y.key==null||K&&K.key===Y.key?"":(""+Y.key).replace(D,"$&/")+"/")+ie)),J.push(Y)),1;ie=0;var de=G===""?".":G+":";if(I(K))for(var me=0;me<K.length;me++)G=K[me],re=de+O(G,me),ie+=ee(G,J,P,re,Y);else if(me=m(K),typeof me=="function")for(K=me.call(K),me=0;!(G=K.next()).done;)G=G.value,re=de+O(G,me++),ie+=ee(G,J,P,re,Y);else if(re==="object"){if(typeof K.then=="function")return ee(Q(K),J,P,G,Y);throw J=String(K),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ie}function W(K,J,P){if(K==null)return K;var G=[],Y=0;return ee(K,G,"","",function(re){return J.call(P,re,Y++)}),G}function Z(K){if(K._status===-1){var J=K._result;J=J(),J.then(function(P){(K._status===0||K._status===-1)&&(K._status=1,K._result=P)},function(P){(K._status===0||K._status===-1)&&(K._status=2,K._result=P)}),K._status===-1&&(K._status=0,K._result=J)}if(K._status===1)return K._result.default;throw K._result}var V=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function q(){}return Jr.Children={map:W,forEach:function(K,J,P){W(K,function(){J.apply(this,arguments)},P)},count:function(K){var J=0;return W(K,function(){J++}),J},toArray:function(K){return W(K,function(J){return J})||[]},only:function(K){if(!N(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Jr.Component=b,Jr.Fragment=r,Jr.Profiler=a,Jr.PureComponent=_,Jr.StrictMode=n,Jr.Suspense=l,Jr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Jr.__COMPILER_RUNTIME={__proto__:null,c:function(K){return T.H.useMemoCache(K)}},Jr.cache=function(K){return function(){return K.apply(null,arguments)}},Jr.cloneElement=function(K,J,P){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var G=x({},K.props),Y=K.key,re=void 0;if(J!=null)for(ie in J.ref!==void 0&&(re=void 0),J.key!==void 0&&(Y=""+J.key),J)!F.call(J,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&J.ref===void 0||(G[ie]=J[ie]);var ie=arguments.length-2;if(ie===1)G.children=P;else if(1<ie){for(var de=Array(ie),me=0;me<ie;me++)de[me]=arguments[me+2];G.children=de}return w(K.type,Y,void 0,void 0,re,G)},Jr.createContext=function(K){return K={$$typeof:i,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:s,_context:K},K},Jr.createElement=function(K,J,P){var G,Y={},re=null;if(J!=null)for(G in J.key!==void 0&&(re=""+J.key),J)F.call(J,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(Y[G]=J[G]);var ie=arguments.length-2;if(ie===1)Y.children=P;else if(1<ie){for(var de=Array(ie),me=0;me<ie;me++)de[me]=arguments[me+2];Y.children=de}if(K&&K.defaultProps)for(G in ie=K.defaultProps,ie)Y[G]===void 0&&(Y[G]=ie[G]);return w(K,re,void 0,void 0,null,Y)},Jr.createRef=function(){return{current:null}},Jr.forwardRef=function(K){return{$$typeof:o,render:K}},Jr.isValidElement=N,Jr.lazy=function(K){return{$$typeof:d,_payload:{_status:-1,_result:K},_init:Z}},Jr.memo=function(K,J){return{$$typeof:u,type:K,compare:J===void 0?null:J}},Jr.startTransition=function(K){var J=T.T,P={};T.T=P;try{var G=K(),Y=T.S;Y!==null&&Y(P,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(q,V)}catch(re){V(re)}finally{T.T=J}},Jr.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Jr.use=function(K){return T.H.use(K)},Jr.useActionState=function(K,J,P){return T.H.useActionState(K,J,P)},Jr.useCallback=function(K,J){return T.H.useCallback(K,J)},Jr.useContext=function(K){return T.H.useContext(K)},Jr.useDebugValue=function(){},Jr.useDeferredValue=function(K,J){return T.H.useDeferredValue(K,J)},Jr.useEffect=function(K,J,P){var G=T.H;if(typeof P=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(K,J)},Jr.useId=function(){return T.H.useId()},Jr.useImperativeHandle=function(K,J,P){return T.H.useImperativeHandle(K,J,P)},Jr.useInsertionEffect=function(K,J){return T.H.useInsertionEffect(K,J)},Jr.useLayoutEffect=function(K,J){return T.H.useLayoutEffect(K,J)},Jr.useMemo=function(K,J){return T.H.useMemo(K,J)},Jr.useOptimistic=function(K,J){return T.H.useOptimistic(K,J)},Jr.useReducer=function(K,J,P){return T.H.useReducer(K,J,P)},Jr.useRef=function(K){return T.H.useRef(K)},Jr.useState=function(K){return T.H.useState(K)},Jr.useSyncExternalStore=function(K,J,P){return T.H.useSyncExternalStore(K,J,P)},Jr.useTransition=function(){return T.H.useTransition()},Jr.version="19.1.1",Jr}var _8;function rx(){return _8||(_8=1,aB.exports=vce()),aB.exports}var k=rx();const ft=il(k),xce=hce({__proto__:null,default:ft},[k]);var sB={exports:{}},x1={},iB={exports:{}},oB={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S8;function bce(){return S8||(S8=1,function(e){function t(W,Z){var V=W.length;W.push(Z);e:for(;0<V;){var q=V-1>>>1,K=W[q];if(0<a(K,Z))W[q]=Z,W[V]=K,V=q;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var Z=W[0],V=W.pop();if(V!==Z){W[0]=V;e:for(var q=0,K=W.length,J=K>>>1;q<J;){var P=2*(q+1)-1,G=W[P],Y=P+1,re=W[Y];if(0>a(G,V))Y<K&&0>a(re,G)?(W[q]=re,W[Y]=V,q=Y):(W[q]=G,W[P]=V,q=P);else if(Y<K&&0>a(re,V))W[q]=re,W[Y]=V,q=Y;else break e}}return Z}function a(W,Z){var V=W.sortIndex-Z.sortIndex;return V!==0?V:W.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],u=[],d=1,f=null,m=3,p=!1,x=!1,g=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function I(W){for(var Z=r(u);Z!==null;){if(Z.callback===null)n(u);else if(Z.startTime<=W)n(u),Z.sortIndex=Z.expirationTime,t(l,Z);else break;Z=r(u)}}function T(W){if(g=!1,I(W),!x)if(r(l)!==null)x=!0,F||(F=!0,O());else{var Z=r(u);Z!==null&&ee(T,Z.startTime-W)}}var F=!1,w=-1,C=5,N=-1;function R(){return b?!0:!(e.unstable_now()-N<C)}function D(){if(b=!1,F){var W=e.unstable_now();N=W;var Z=!0;try{e:{x=!1,g&&(g=!1,_(w),w=-1),p=!0;var V=m;try{t:{for(I(W),f=r(l);f!==null&&!(f.expirationTime>W&&R());){var q=f.callback;if(typeof q=="function"){f.callback=null,m=f.priorityLevel;var K=q(f.expirationTime<=W);if(W=e.unstable_now(),typeof K=="function"){f.callback=K,I(W),Z=!0;break t}f===r(l)&&n(l),I(W)}else n(l);f=r(l)}if(f!==null)Z=!0;else{var J=r(u);J!==null&&ee(T,J.startTime-W),Z=!1}}break e}finally{f=null,m=V,p=!1}Z=void 0}}finally{Z?O():F=!1}}}var O;if(typeof S=="function")O=function(){S(D)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Q=M.port2;M.port1.onmessage=D,O=function(){Q.postMessage(null)}}else O=function(){y(D,0)};function ee(W,Z){w=y(function(){W(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(W){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var V=m;m=Z;try{return W()}finally{m=V}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(W,Z){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var V=m;m=W;try{return Z()}finally{m=V}},e.unstable_scheduleCallback=function(W,Z,V){var q=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?q+V:q):V=q,W){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=V+K,W={id:d++,callback:Z,priorityLevel:W,startTime:V,expirationTime:K,sortIndex:-1},V>q?(W.sortIndex=V,t(u,W),r(l)===null&&W===r(u)&&(g?(_(w),w=-1):g=!0,ee(T,V-q))):(W.sortIndex=K,t(l,W),x||p||(x=!0,F||(F=!0,O()))),W},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(W){var Z=m;return function(){var V=m;m=Z;try{return W.apply(this,arguments)}finally{m=V}}}}(oB)),oB}var N8;function yce(){return N8||(N8=1,iB.exports=bce()),iB.exports}var lB={exports:{}},xo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B8;function wce(){if(B8)return xo;B8=1;var e=rx();function t(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(l,u,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:f==null?null:""+f,children:l,containerInfo:u,implementation:d}}var i=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return xo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,xo.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return s(l,u,null,d)},xo.flushSync=function(l){var u=i.T,d=n.p;try{if(i.T=null,n.p=2,l)return l()}finally{i.T=u,n.p=d,n.d.f()}},xo.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(l,u))},xo.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},xo.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,f=o(d,u.crossOrigin),m=typeof u.integrity=="string"?u.integrity:void 0,p=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?n.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:m,fetchPriority:p}):d==="script"&&n.d.X(l,{crossOrigin:f,integrity:m,fetchPriority:p,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},xo.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);n.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(l)},xo.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,f=o(d,u.crossOrigin);n.d.L(l,d,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},xo.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);n.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(l)},xo.requestFormReset=function(l){n.d.r(l)},xo.unstable_batchedUpdates=function(l,u){return l(u)},xo.useFormState=function(l,u,d){return i.H.useFormState(l,u,d)},xo.useFormStatus=function(){return i.H.useHostTransitionStatus()},xo.version="19.1.1",xo}var k8;function LG(){if(k8)return lB.exports;k8=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lB.exports=wce(),lB.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T8;function Ece(){if(T8)return x1;T8=1;var e=yce(),t=rx(),r=LG();function n(A){var h="https://react.dev/errors/"+A;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+A+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function s(A){var h=A,v=A;if(A.alternate)for(;h.return;)h=h.return;else{A=h;do h=A,(h.flags&4098)!==0&&(v=h.return),A=h.return;while(A)}return h.tag===3?v:null}function i(A){if(A.tag===13){var h=A.memoizedState;if(h===null&&(A=A.alternate,A!==null&&(h=A.memoizedState)),h!==null)return h.dehydrated}return null}function o(A){if(s(A)!==A)throw Error(n(188))}function l(A){var h=A.alternate;if(!h){if(h=s(A),h===null)throw Error(n(188));return h!==A?null:A}for(var v=A,E=h;;){var L=v.return;if(L===null)break;var H=L.alternate;if(H===null){if(E=L.return,E!==null){v=E;continue}break}if(L.child===H.child){for(H=L.child;H;){if(H===v)return o(L),A;if(H===E)return o(L),h;H=H.sibling}throw Error(n(188))}if(v.return!==E.return)v=L,E=H;else{for(var oe=!1,xe=L.child;xe;){if(xe===v){oe=!0,v=L,E=H;break}if(xe===E){oe=!0,E=L,v=H;break}xe=xe.sibling}if(!oe){for(xe=H.child;xe;){if(xe===v){oe=!0,v=H,E=L;break}if(xe===E){oe=!0,E=H,v=L;break}xe=xe.sibling}if(!oe)throw Error(n(189))}}if(v.alternate!==E)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?A:h}function u(A){var h=A.tag;if(h===5||h===26||h===27||h===6)return A;for(A=A.child;A!==null;){if(h=u(A),h!==null)return h;A=A.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),S=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function O(A){return A===null||typeof A!="object"?null:(A=D&&A[D]||A["@@iterator"],typeof A=="function"?A:null)}var M=Symbol.for("react.client.reference");function Q(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===M?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case x:return"Fragment";case b:return"Profiler";case g:return"StrictMode";case T:return"Suspense";case F:return"SuspenseList";case N:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case p:return"Portal";case S:return(A.displayName||"Context")+".Provider";case _:return(A._context.displayName||"Context")+".Consumer";case I:var h=A.render;return A=A.displayName,A||(A=h.displayName||h.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case w:return h=A.displayName||null,h!==null?h:Q(A.type)||"Memo";case C:h=A._payload,A=A._init;try{return Q(A(h))}catch{}}return null}var ee=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},q=[],K=-1;function J(A){return{current:A}}function P(A){0>K||(A.current=q[K],q[K]=null,K--)}function G(A,h){K++,q[K]=A.current,A.current=h}var Y=J(null),re=J(null),ie=J(null),de=J(null);function me(A,h){switch(G(ie,h),G(re,A),G(Y,null),h.nodeType){case 9:case 11:A=(A=h.documentElement)&&(A=A.namespaceURI)?XL(A):0;break;default:if(A=h.tagName,h=h.namespaceURI)h=XL(h),A=YL(h,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}P(Y),G(Y,A)}function ue(){P(Y),P(re),P(ie)}function ye(A){A.memoizedState!==null&&G(de,A);var h=Y.current,v=YL(h,A.type);h!==v&&(G(re,A),G(Y,v))}function Ie(A){re.current===A&&(P(Y),P(re)),de.current===A&&(P(de),f1._currentValue=V)}var ne=Object.prototype.hasOwnProperty,Fe=e.unstable_scheduleCallback,Le=e.unstable_cancelCallback,ke=e.unstable_shouldYield,pe=e.unstable_requestPaint,je=e.unstable_now,He=e.unstable_getCurrentPriorityLevel,Xe=e.unstable_ImmediatePriority,dt=e.unstable_UserBlockingPriority,Et=e.unstable_NormalPriority,Tt=e.unstable_LowPriority,Ct=e.unstable_IdlePriority,Dt=e.log,Jt=e.unstable_setDisableYieldValue,Pt=null,Mt=null;function Wt(A){if(typeof Dt=="function"&&Jt(A),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Pt,A)}catch{}}var De=Math.clz32?Math.clz32:ot,Pe=Math.log,Be=Math.LN2;function ot(A){return A>>>=0,A===0?32:31-(Pe(A)/Be|0)|0}var vt=256,ur=4194304;function Gt(A){var h=A&42;if(h!==0)return h;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function Rt(A,h,v){var E=A.pendingLanes;if(E===0)return 0;var L=0,H=A.suspendedLanes,oe=A.pingedLanes;A=A.warmLanes;var xe=E&134217727;return xe!==0?(E=xe&~H,E!==0?L=Gt(E):(oe&=xe,oe!==0?L=Gt(oe):v||(v=xe&~A,v!==0&&(L=Gt(v))))):(xe=E&~H,xe!==0?L=Gt(xe):oe!==0?L=Gt(oe):v||(v=E&~A,v!==0&&(L=Gt(v)))),L===0?0:h!==0&&h!==L&&(h&H)===0&&(H=L&-L,v=h&-h,H>=v||H===32&&(v&4194048)!==0)?h:L}function Vr(A,h){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&h)===0}function dr(A,h){switch(A){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yn(){var A=vt;return vt<<=1,(vt&4194048)===0&&(vt=256),A}function Qr(){var A=ur;return ur<<=1,(ur&62914560)===0&&(ur=4194304),A}function kn(A){for(var h=[],v=0;31>v;v++)h.push(A);return h}function Zn(A,h){A.pendingLanes|=h,h!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function or(A,h,v,E,L,H){var oe=A.pendingLanes;A.pendingLanes=v,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=v,A.entangledLanes&=v,A.errorRecoveryDisabledLanes&=v,A.shellSuspendCounter=0;var xe=A.entanglements,Oe=A.expirationTimes,nt=A.hiddenUpdates;for(v=oe&~v;0<v;){var mt=31-De(v),_t=1<<mt;xe[mt]=0,Oe[mt]=-1;var it=nt[mt];if(it!==null)for(nt[mt]=null,mt=0;mt<it.length;mt++){var lt=it[mt];lt!==null&&(lt.lane&=-536870913)}v&=~_t}E!==0&&Zt(A,E,0),H!==0&&L===0&&A.tag!==0&&(A.suspendedLanes|=H&~(oe&~h))}function Zt(A,h,v){A.pendingLanes|=h,A.suspendedLanes&=~h;var E=31-De(h);A.entangledLanes|=h,A.entanglements[E]=A.entanglements[E]|1073741824|v&4194090}function Kr(A,h){var v=A.entangledLanes|=h;for(A=A.entanglements;v;){var E=31-De(v),L=1<<E;L&h|A[E]&h&&(A[E]|=h),v&=~L}}function Ls(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function ua(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function Ha(){var A=Z.p;return A!==0?A:(A=window.event,A===void 0?32:p8(A.type))}function ai(A,h){var v=Z.p;try{return Z.p=A,h()}finally{Z.p=v}}var qt=Math.random().toString(36).slice(2),wn="__reactFiber$"+qt,An="__reactProps$"+qt,Vn="__reactContainer$"+qt,ea="__reactEvents$"+qt,da="__reactListeners$"+qt,Ae="__reactHandles$"+qt,Se="__reactResources$"+qt,we="__reactMarker$"+qt;function Ee(A){delete A[wn],delete A[An],delete A[ea],delete A[da],delete A[Ae]}function Ce(A){var h=A[wn];if(h)return h;for(var v=A.parentNode;v;){if(h=v[Vn]||v[wn]){if(v=h.alternate,h.child!==null||v!==null&&v.child!==null)for(A=t8(A);A!==null;){if(v=A[wn])return v;A=t8(A)}return h}A=v,v=A.parentNode}return null}function Ne(A){if(A=A[wn]||A[Vn]){var h=A.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return A}return null}function We(A){var h=A.tag;if(h===5||h===26||h===27||h===6)return A.stateNode;throw Error(n(33))}function st(A){var h=A[Se];return h||(h=A[Se]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function $e(A){A[we]=!0}var Je=new Set,tt={};function wt(A,h){Ot(A,h),Ot(A+"Capture",h)}function Ot(A,h){for(tt[A]=h,A=0;A<h.length;A++)Je.add(h[A])}var Vt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jt={},Lt={};function yr(A){return ne.call(Lt,A)?!0:ne.call(jt,A)?!1:Vt.test(A)?Lt[A]=!0:(jt[A]=!0,!1)}function Wr(A,h,v){if(yr(h))if(v===null)A.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":A.removeAttribute(h);return;case"boolean":var E=h.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){A.removeAttribute(h);return}}A.setAttribute(h,""+v)}}function Xr(A,h,v){if(v===null)A.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(h);return}A.setAttribute(h,""+v)}}function en(A,h,v,E){if(E===null)A.removeAttribute(v);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(v);return}A.setAttributeNS(h,v,""+E)}}var ts,oo;function rs(A){if(ts===void 0)try{throw Error()}catch(v){var h=v.stack.trim().match(/\n( *(at )?)/);ts=h&&h[1]||"",oo=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ts+A+oo}var Us=!1;function ys(A,h){if(!A||Us)return"";Us=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(h){var _t=function(){throw Error()};if(Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(lt){var it=lt}Reflect.construct(A,[],_t)}else{try{_t.call()}catch(lt){it=lt}A.call(_t.prototype)}}else{try{throw Error()}catch(lt){it=lt}(_t=A())&&typeof _t.catch=="function"&&_t.catch(function(){})}}catch(lt){if(lt&&it&&typeof lt.stack=="string")return[lt.stack,it.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var L=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");L&&L.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var H=E.DetermineComponentFrameRoot(),oe=H[0],xe=H[1];if(oe&&xe){var Oe=oe.split(`
`),nt=xe.split(`
`);for(L=E=0;E<Oe.length&&!Oe[E].includes("DetermineComponentFrameRoot");)E++;for(;L<nt.length&&!nt[L].includes("DetermineComponentFrameRoot");)L++;if(E===Oe.length||L===nt.length)for(E=Oe.length-1,L=nt.length-1;1<=E&&0<=L&&Oe[E]!==nt[L];)L--;for(;1<=E&&0<=L;E--,L--)if(Oe[E]!==nt[L]){if(E!==1||L!==1)do if(E--,L--,0>L||Oe[E]!==nt[L]){var mt=`
`+Oe[E].replace(" at new "," at ");return A.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",A.displayName)),mt}while(1<=E&&0<=L);break}}}finally{Us=!1,Error.prepareStackTrace=v}return(v=A?A.displayName||A.name:"")?rs(v):""}function si(A){switch(A.tag){case 26:case 27:case 5:return rs(A.type);case 16:return rs("Lazy");case 13:return rs("Suspense");case 19:return rs("SuspenseList");case 0:case 15:return ys(A.type,!1);case 11:return ys(A.type.render,!1);case 1:return ys(A.type,!0);case 31:return rs("Activity");default:return""}}function Aa(A){try{var h="";do h+=si(A),A=A.return;while(A);return h}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function Ms(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function Ad(A){var h=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Xf(A){var h=Ad(A)?"checked":"value",v=Object.getOwnPropertyDescriptor(A.constructor.prototype,h),E=""+A[h];if(!A.hasOwnProperty(h)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var L=v.get,H=v.set;return Object.defineProperty(A,h,{configurable:!0,get:function(){return L.call(this)},set:function(oe){E=""+oe,H.call(this,oe)}}),Object.defineProperty(A,h,{enumerable:v.enumerable}),{getValue:function(){return E},setValue:function(oe){E=""+oe},stopTracking:function(){A._valueTracker=null,delete A[h]}}}}function Cc(A){A._valueTracker||(A._valueTracker=Xf(A))}function _A(A){if(!A)return!1;var h=A._valueTracker;if(!h)return!0;var v=h.getValue(),E="";return A&&(E=Ad(A)?A.checked?"true":"false":A.value),A=E,A!==v?(h.setValue(A),!0):!1}function ii(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var fd=/[\n"\\]/g;function En(A){return A.replace(fd,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function oi(A,h,v,E,L,H,oe,xe){A.name="",oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?A.type=oe:A.removeAttribute("type"),h!=null?oe==="number"?(h===0&&A.value===""||A.value!=h)&&(A.value=""+Ms(h)):A.value!==""+Ms(h)&&(A.value=""+Ms(h)):oe!=="submit"&&oe!=="reset"||A.removeAttribute("value"),h!=null?Sc(A,oe,Ms(h)):v!=null?Sc(A,oe,Ms(v)):E!=null&&A.removeAttribute("value"),L==null&&H!=null&&(A.defaultChecked=!!H),L!=null&&(A.checked=L&&typeof L!="function"&&typeof L!="symbol"),xe!=null&&typeof xe!="function"&&typeof xe!="symbol"&&typeof xe!="boolean"?A.name=""+Ms(xe):A.removeAttribute("name")}function _c(A,h,v,E,L,H,oe,xe){if(H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(A.type=H),h!=null||v!=null){if(!(H!=="submit"&&H!=="reset"||h!=null))return;v=v!=null?""+Ms(v):"",h=h!=null?""+Ms(h):v,xe||h===A.value||(A.value=h),A.defaultValue=h}E=E??L,E=typeof E!="function"&&typeof E!="symbol"&&!!E,A.checked=xe?A.checked:!!E,A.defaultChecked=!!E,oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"&&(A.name=oe)}function Sc(A,h,v){h==="number"&&ii(A.ownerDocument)===A||A.defaultValue===""+v||(A.defaultValue=""+v)}function ll(A,h,v,E){if(A=A.options,h){h={};for(var L=0;L<v.length;L++)h["$"+v[L]]=!0;for(v=0;v<A.length;v++)L=h.hasOwnProperty("$"+A[v].value),A[v].selected!==L&&(A[v].selected=L),L&&E&&(A[v].defaultSelected=!0)}else{for(v=""+Ms(v),h=null,L=0;L<A.length;L++){if(A[L].value===v){A[L].selected=!0,E&&(A[L].defaultSelected=!0);return}h!==null||A[L].disabled||(h=A[L])}h!==null&&(h.selected=!0)}}function Fn(A,h,v){if(h!=null&&(h=""+Ms(h),h!==A.value&&(A.value=h),v==null)){A.defaultValue!==h&&(A.defaultValue=h);return}A.defaultValue=v!=null?""+Ms(v):""}function Nc(A,h,v,E){if(h==null){if(E!=null){if(v!=null)throw Error(n(92));if(ee(E)){if(1<E.length)throw Error(n(93));E=E[0]}v=E}v==null&&(v=""),h=v}v=Ms(h),A.defaultValue=v,E=A.textContent,E===v&&E!==""&&E!==null&&(A.value=E)}function lo(A,h){if(h){var v=A.firstChild;if(v&&v===A.lastChild&&v.nodeType===3){v.nodeValue=h;return}}A.textContent=h}var Ll=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yf(A,h,v){var E=h.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?E?A.setProperty(h,""):h==="float"?A.cssFloat="":A[h]="":E?A.setProperty(h,v):typeof v!="number"||v===0||Ll.has(h)?h==="float"?A.cssFloat=v:A[h]=(""+v).trim():A[h]=v+"px"}function SA(A,h,v){if(h!=null&&typeof h!="object")throw Error(n(62));if(A=A.style,v!=null){for(var E in v)!v.hasOwnProperty(E)||h!=null&&h.hasOwnProperty(E)||(E.indexOf("--")===0?A.setProperty(E,""):E==="float"?A.cssFloat="":A[E]="");for(var L in h)E=h[L],h.hasOwnProperty(L)&&v[L]!==E&&Yf(A,L,E)}else for(var H in h)h.hasOwnProperty(H)&&Yf(A,H,h[H])}function NA(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ul=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ml(A){return hd.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}var cl=null;function ta(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Ql=null,ul=null;function _r(A){var h=Ne(A);if(h&&(A=h.stateNode)){var v=A[An]||null;e:switch(A=h.stateNode,h.type){case"input":if(oi(A,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),h=v.name,v.type==="radio"&&h!=null){for(v=A;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+En(""+h)+'"][type="radio"]'),h=0;h<v.length;h++){var E=v[h];if(E!==A&&E.form===A.form){var L=E[An]||null;if(!L)throw Error(n(90));oi(E,L.value,L.defaultValue,L.defaultValue,L.checked,L.defaultChecked,L.type,L.name)}}for(h=0;h<v.length;h++)E=v[h],E.form===A.form&&_A(E)}break e;case"textarea":Fn(A,v.value,v.defaultValue);break e;case"select":h=v.value,h!=null&&ll(A,!!v.multiple,h,!1)}}}var dl=!1;function Jf(A,h,v){if(dl)return A(h,v);dl=!0;try{var E=A(h);return E}finally{if(dl=!1,(Ql!==null||ul!==null)&&(o2(),Ql&&(h=Ql,A=ul,ul=Ql=null,_r(h),A)))for(h=0;h<A.length;h++)_r(A[h])}}function yi(A,h){var v=A.stateNode;if(v===null)return null;var E=v[An]||null;if(E===null)return null;v=E[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(A=A.type,E=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!E;break e;default:A=!1}if(A)return null;if(v&&typeof v!="function")throw Error(n(231,h,typeof v));return v}var co=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hi=!1;if(co)try{var Al={};Object.defineProperty(Al,"passive",{get:function(){Hi=!0}}),window.addEventListener("test",Al,Al),window.removeEventListener("test",Al,Al)}catch{Hi=!1}var uo=null,Bc=null,Hl=null;function BA(){if(Hl)return Hl;var A,h=Bc,v=h.length,E,L="value"in uo?uo.value:uo.textContent,H=L.length;for(A=0;A<v&&h[A]===L[A];A++);var oe=v-A;for(E=1;E<=oe&&h[v-E]===L[H-E];E++);return Hl=L.slice(A,1<E?1-E:void 0)}function Ao(A){var h=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&h===13&&(A=13)):A=h,A===10&&(A=13),32<=A||A===13?A:0}function wi(){return!0}function fl(){return!1}function ns(A){function h(v,E,L,H,oe){this._reactName=v,this._targetInst=L,this.type=E,this.nativeEvent=H,this.target=oe,this.currentTarget=null;for(var xe in A)A.hasOwnProperty(xe)&&(v=A[xe],this[xe]=v?v(H):H[xe]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?wi:fl,this.isPropagationStopped=fl,this}return d(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),h}var sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kc=ns(sn),hl=d({},sn,{view:0,detail:0}),kA=ns(hl),yu,wu,$o,Ei=d({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fc,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==$o&&($o&&A.type==="mousemove"?(yu=A.screenX-$o.screenX,wu=A.screenY-$o.screenY):wu=yu=0,$o=A),yu)},movementY:function(A){return"movementY"in A?A.movementY:wu}}),as=ns(Ei),Zf=d({},Ei,{dataTransfer:0}),Tc=ns(Zf),li=d({},hl,{relatedTarget:0}),Ic=ns(li),Vl=d({},sn,{animationName:0,elapsedTime:0,pseudoElement:0}),md=ns(Vl),Eu=d({},sn,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),pd=ns(Eu),TA=d({},sn,{data:0}),Cu=ns(TA),jc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(A){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(A):(A=gd[A])?!!h[A]:!1}function Fc(){return Su}var eh=d({},hl,{key:function(A){if(A.key){var h=jc[A.key]||A.key;if(h!=="Unidentified")return h}return A.type==="keypress"?(A=Ao(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?_u[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fc,charCode:function(A){return A.type==="keypress"?Ao(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?Ao(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),zl=ns(eh),Oc=d({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nu=ns(Oc),Ci=d({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fc}),vd=ns(Ci),z=d({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ce=ns(z),Te=d({},Ei,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),Re=ns(Te),Ke=d({},sn,{newState:0,oldState:0}),ut=ns(Ke),kt=[9,13,27,32],zt=co&&"CompositionEvent"in window,j=null;co&&"documentMode"in document&&(j=document.documentMode);var te=co&&"TextEvent"in window&&!j,se=co&&(!zt||j&&8<j&&11>=j),ve=" ",ze=!1;function rt(A,h){switch(A){case"keyup":return kt.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function It(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var Sr=!1;function on(A,h){switch(A){case"compositionend":return It(h);case"keypress":return h.which!==32?null:(ze=!0,ve);case"textInput":return A=h.data,A===ve&&ze?null:A;default:return null}}function Lr(A,h){if(Sr)return A==="compositionend"||!zt&&rt(A,h)?(A=BA(),Hl=Bc=uo=null,Sr=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return se&&h.locale!=="ko"?null:h.data;default:return null}}var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(A){var h=A&&A.nodeName&&A.nodeName.toLowerCase();return h==="input"?!!On[A.type]:h==="textarea"}function ml(A,h,v,E){Ql?ul?ul.push(E):ul=[E]:Ql=E,h=f2(h,"onChange"),0<h.length&&(v=new kc("onChange","change",null,v,E),A.push({event:v,listeners:h}))}var Va=null,fo=null;function Dc(A){$L(A,0)}function xd(A){var h=We(A);if(_A(h))return A}function th(A,h){if(A==="change")return h}var IA=!1;if(co){var ws;if(co){var bd="oninput"in document;if(!bd){var jA=document.createElement("div");jA.setAttribute("oninput","return;"),bd=typeof jA.oninput=="function"}ws=bd}else ws=!1;IA=ws&&(!document.documentMode||9<document.documentMode)}function FA(){Va&&(Va.detachEvent("onpropertychange",rh),fo=Va=null)}function rh(A){if(A.propertyName==="value"&&xd(fo)){var h=[];ml(h,fo,A,ta(A)),Jf(Dc,h)}}function ho(A,h,v){A==="focusin"?(FA(),Va=h,fo=v,Va.attachEvent("onpropertychange",rh)):A==="focusout"&&FA()}function Ox(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return xd(fo)}function X0(A,h){if(A==="click")return xd(h)}function Lp(A,h){if(A==="input"||A==="change")return xd(h)}function pl(A,h){return A===h&&(A!==0||1/A===1/h)||A!==A&&h!==h}var Qs=typeof Object.is=="function"?Object.is:pl;function yd(A,h){if(Qs(A,h))return!0;if(typeof A!="object"||A===null||typeof h!="object"||h===null)return!1;var v=Object.keys(A),E=Object.keys(h);if(v.length!==E.length)return!1;for(E=0;E<v.length;E++){var L=v[E];if(!ne.call(h,L)||!Qs(A[L],h[L]))return!1}return!0}function Y0(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function Bu(A,h){var v=Y0(A);A=0;for(var E;v;){if(v.nodeType===3){if(E=A+v.textContent.length,A<=h&&E>=h)return{node:v,offset:h-A};A=E}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=Y0(v)}}function wd(A,h){return A&&h?A===h?!0:A&&A.nodeType===3?!1:h&&h.nodeType===3?wd(A,h.parentNode):"contains"in A?A.contains(h):A.compareDocumentPosition?!!(A.compareDocumentPosition(h)&16):!1:!1}function Vi(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var h=ii(A.document);h instanceof A.HTMLIFrameElement;){try{var v=typeof h.contentWindow.location.href=="string"}catch{v=!1}if(v)A=h.contentWindow;else break;h=ii(A.document)}return h}function ci(A){var h=A&&A.nodeName&&A.nodeName.toLowerCase();return h&&(h==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||h==="textarea"||A.contentEditable==="true")}var Ed=co&&"documentMode"in document&&11>=document.documentMode,mo=null,$l=null,Pc=null,Kl=!1;function Pa(A,h,v){var E=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;Kl||mo==null||mo!==ii(E)||(E=mo,"selectionStart"in E&&ci(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Pc&&yd(Pc,E)||(Pc=E,E=f2($l,"onSelect"),0<E.length&&(h=new kc("onSelect","select",null,h,v),A.push({event:h,listeners:E}),h.target=mo)))}function Gl(A,h){var v={};return v[A.toLowerCase()]=h.toLowerCase(),v["Webkit"+A]="webkit"+h,v["Moz"+A]="moz"+h,v}var ss={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionrun:Gl("Transition","TransitionRun"),transitionstart:Gl("Transition","TransitionStart"),transitioncancel:Gl("Transition","TransitionCancel"),transitionend:Gl("Transition","TransitionEnd")},po={},OA={};co&&(OA=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function Rc(A){if(po[A])return po[A];if(!ss[A])return A;var h=ss[A],v;for(v in h)if(h.hasOwnProperty(v)&&v in OA)return po[A]=h[v];return A}var nh=Rc("animationend"),Cd=Rc("animationiteration"),_d=Rc("animationstart"),Sd=Rc("transitionrun"),DA=Rc("transitionstart"),ah=Rc("transitioncancel"),Nd=Rc("transitionend"),ku=new Map,PA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");PA.push("scrollEnd");function Ra(A,h){ku.set(A,h),wt(h,[A])}var Ko=new WeakMap;function rn(A,h){if(typeof A=="object"&&A!==null){var v=Ko.get(A);return v!==void 0?v:(h={value:A,source:h,stack:Aa(h)},Ko.set(A,h),h)}return{value:A,source:h,stack:Aa(h)}}var nn=[],fa=0,za=0;function gl(){for(var A=fa,h=za=fa=0;h<A;){var v=nn[h];nn[h++]=null;var E=nn[h];nn[h++]=null;var L=nn[h];nn[h++]=null;var H=nn[h];if(nn[h++]=null,E!==null&&L!==null){var oe=E.pending;oe===null?L.next=L:(L.next=oe.next,oe.next=L),E.pending=L}H!==0&&Up(v,L,H)}}function Bd(A,h,v,E){nn[fa++]=A,nn[fa++]=h,nn[fa++]=v,nn[fa++]=E,za|=E,A.lanes|=E,A=A.alternate,A!==null&&(A.lanes|=E)}function kd(A,h,v,E){return Bd(A,h,v,E),RA(A)}function Tu(A,h){return Bd(A,null,null,h),RA(A)}function Up(A,h,v){A.lanes|=v;var E=A.alternate;E!==null&&(E.lanes|=v);for(var L=!1,H=A.return;H!==null;)H.childLanes|=v,E=H.alternate,E!==null&&(E.childLanes|=v),H.tag===22&&(A=H.stateNode,A===null||A._visibility&1||(L=!0)),A=H,H=H.return;return A.tag===3?(H=A.stateNode,L&&h!==null&&(L=31-De(v),A=H.hiddenUpdates,E=A[L],E===null?A[L]=[h]:E.push(h),h.lane=v|536870912),H):null}function RA(A){if(50<s1)throw s1=0,S4=null,Error(n(185));for(var h=A.return;h!==null;)A=h,h=A.return;return A.tag===3?A.stateNode:null}var Hs={};function vl(A,h,v,E){this.tag=A,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(A,h,v,E){return new vl(A,h,v,E)}function sh(A){return A=A.prototype,!(!A||!A.isReactComponent)}function Lc(A,h){var v=A.alternate;return v===null?(v=_i(A.tag,h,A.key,A.mode),v.elementType=A.elementType,v.type=A.type,v.stateNode=A.stateNode,v.alternate=A,A.alternate=v):(v.pendingProps=h,v.type=A.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=A.flags&65011712,v.childLanes=A.childLanes,v.lanes=A.lanes,v.child=A.child,v.memoizedProps=A.memoizedProps,v.memoizedState=A.memoizedState,v.updateQueue=A.updateQueue,h=A.dependencies,v.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},v.sibling=A.sibling,v.index=A.index,v.ref=A.ref,v.refCleanup=A.refCleanup,v}function J0(A,h){A.flags&=65011714;var v=A.alternate;return v===null?(A.childLanes=0,A.lanes=h,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=v.childLanes,A.lanes=v.lanes,A.child=v.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=v.memoizedProps,A.memoizedState=v.memoizedState,A.updateQueue=v.updateQueue,A.type=v.type,h=v.dependencies,A.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),A}function LA(A,h,v,E,L,H){var oe=0;if(E=A,typeof A=="function")sh(A)&&(oe=1);else if(typeof A=="string")oe=Zle(A,v,Y.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case N:return A=_i(31,v,h,L),A.elementType=N,A.lanes=H,A;case x:return Iu(v.children,L,H,h);case g:oe=8,L|=24;break;case b:return A=_i(12,v,h,L|2),A.elementType=b,A.lanes=H,A;case T:return A=_i(13,v,h,L),A.elementType=T,A.lanes=H,A;case F:return A=_i(19,v,h,L),A.elementType=F,A.lanes=H,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case y:case S:oe=10;break e;case _:oe=9;break e;case I:oe=11;break e;case w:oe=14;break e;case C:oe=16,E=null;break e}oe=29,v=Error(n(130,A===null?"null":typeof A,"")),E=null}return h=_i(oe,v,h,L),h.elementType=A,h.type=E,h.lanes=H,h}function Iu(A,h,v,E){return A=_i(7,A,E,h),A.lanes=v,A}function Mp(A,h,v){return A=_i(6,A,null,h),A.lanes=v,A}function Z0(A,h,v){return h=_i(4,A.children!==null?A.children:[],A.key,h),h.lanes=v,h.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},h}var Td=[],ju=0,ih=null,Qp=0,xl=[],Go=0,UA=null,Fu=1,Ou="";function MA(A,h){Td[ju++]=Qp,Td[ju++]=ih,ih=A,Qp=h}function Iw(A,h,v){xl[Go++]=Fu,xl[Go++]=Ou,xl[Go++]=UA,UA=A;var E=Fu;A=Ou;var L=32-De(E)-1;E&=~(1<<L),v+=1;var H=32-De(h)+L;if(30<H){var oe=L-L%5;H=(E&(1<<oe)-1).toString(32),E>>=oe,L-=oe,Fu=1<<32-De(h)+L|v<<L|E,Ou=H+A}else Fu=1<<H|v<<L|E,Ou=A}function em(A){A.return!==null&&(MA(A,1),Iw(A,1,0))}function tm(A){for(;A===ih;)ih=Td[--ju],Td[ju]=null,Qp=Td[--ju],Td[ju]=null;for(;A===UA;)UA=xl[--Go],xl[Go]=null,Ou=xl[--Go],xl[Go]=null,Fu=xl[--Go],xl[Go]=null}var Es=null,La=null,Tn=!1,Id=null,Uc=!1,Dx=Error(n(519));function QA(A){var h=Error(n(418,""));throw oh(rn(h,A)),Dx}function jw(A){var h=A.stateNode,v=A.type,E=A.memoizedProps;switch(h[wn]=A,h[An]=E,v){case"dialog":hn("cancel",h),hn("close",h);break;case"iframe":case"object":case"embed":hn("load",h);break;case"video":case"audio":for(v=0;v<o1.length;v++)hn(o1[v],h);break;case"source":hn("error",h);break;case"img":case"image":case"link":hn("error",h),hn("load",h);break;case"details":hn("toggle",h);break;case"input":hn("invalid",h),_c(h,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0),Cc(h);break;case"select":hn("invalid",h);break;case"textarea":hn("invalid",h),Nc(h,E.value,E.defaultValue,E.children),Cc(h)}v=E.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||h.textContent===""+v||E.suppressHydrationWarning===!0||WL(h.textContent,v)?(E.popover!=null&&(hn("beforetoggle",h),hn("toggle",h)),E.onScroll!=null&&hn("scroll",h),E.onScrollEnd!=null&&hn("scrollend",h),E.onClick!=null&&(h.onclick=h2),h=!0):h=!1,h||QA(A)}function Du(A){for(Es=A.return;Es;)switch(Es.tag){case 5:case 13:Uc=!1;return;case 27:case 3:Uc=!0;return;default:Es=Es.return}}function zi(A){if(A!==Es)return!1;if(!Tn)return Du(A),Tn=!0,!1;var h=A.tag,v;if((v=h!==3&&h!==27)&&((v=h===5)&&(v=A.type,v=!(v!=="form"&&v!=="button")||H4(A.type,A.memoizedProps)),v=!v),v&&La&&QA(A),Du(A),h===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));e:{for(A=A.nextSibling,h=0;A;){if(A.nodeType===8)if(v=A.data,v==="/$"){if(h===0){La=Vu(A.nextSibling);break e}h--}else v!=="$"&&v!=="$!"&&v!=="$?"||h++;A=A.nextSibling}La=null}}else h===27?(h=La,Ch(A.type)?(A=K4,K4=null,La=A):La=h):La=Es?Vu(A.stateNode.nextSibling):null;return!0}function qo(){La=Es=null,Tn=!1}function Fw(){var A=Id;return A!==null&&(wl===null?wl=A:wl.push.apply(wl,A),Id=null),A}function oh(A){Id===null?Id=[A]:Id.push(A)}var Mc=J(null),Vs=null,Pu=null;function jd(A,h,v){G(Mc,h._currentValue),h._currentValue=v}function Qc(A){A._currentValue=Mc.current,P(Mc)}function Hp(A,h,v){for(;A!==null;){var E=A.alternate;if((A.childLanes&h)!==h?(A.childLanes|=h,E!==null&&(E.childLanes|=h)):E!==null&&(E.childLanes&h)!==h&&(E.childLanes|=h),A===v)break;A=A.return}}function Vp(A,h,v,E){var L=A.child;for(L!==null&&(L.return=A);L!==null;){var H=L.dependencies;if(H!==null){var oe=L.child;H=H.firstContext;e:for(;H!==null;){var xe=H;H=L;for(var Oe=0;Oe<h.length;Oe++)if(xe.context===h[Oe]){H.lanes|=v,xe=H.alternate,xe!==null&&(xe.lanes|=v),Hp(H.return,v,A),E||(oe=null);break e}H=xe.next}}else if(L.tag===18){if(oe=L.return,oe===null)throw Error(n(341));oe.lanes|=v,H=oe.alternate,H!==null&&(H.lanes|=v),Hp(oe,v,A),oe=null}else oe=L.child;if(oe!==null)oe.return=L;else for(oe=L;oe!==null;){if(oe===A){oe=null;break}if(L=oe.sibling,L!==null){L.return=oe.return,oe=L;break}oe=oe.return}L=oe}}function lh(A,h,v,E){A=null;for(var L=h,H=!1;L!==null;){if(!H){if((L.flags&524288)!==0)H=!0;else if((L.flags&262144)!==0)break}if(L.tag===10){var oe=L.alternate;if(oe===null)throw Error(n(387));if(oe=oe.memoizedProps,oe!==null){var xe=L.type;Qs(L.pendingProps.value,oe.value)||(A!==null?A.push(xe):A=[xe])}}else if(L===de.current){if(oe=L.alternate,oe===null)throw Error(n(387));oe.memoizedState.memoizedState!==L.memoizedState.memoizedState&&(A!==null?A.push(f1):A=[f1])}L=L.return}A!==null&&Vp(h,A,v,E),h.flags|=262144}function zp(A){for(A=A.firstContext;A!==null;){if(!Qs(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function Hc(A){Vs=A,Pu=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function Cs(A){return $p(Vs,A)}function Fd(A,h){return Vs===null&&Hc(A),$p(A,h)}function $p(A,h){var v=h._currentValue;if(h={context:h,memoizedValue:v,next:null},Pu===null){if(A===null)throw Error(n(308));Pu=h,A.dependencies={lanes:0,firstContext:h},A.flags|=524288}else Pu=Pu.next=h;return v}var YN=typeof AbortController<"u"?AbortController:function(){var A=[],h=this.signal={aborted:!1,addEventListener:function(v,E){A.push(E)}};this.abort=function(){h.aborted=!0,A.forEach(function(v){return v()})}},Ow=e.unstable_scheduleCallback,JN=e.unstable_NormalPriority,_s={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Px(){return{controller:new YN,data:new Map,refCount:0}}function rm(A){A.refCount--,A.refCount===0&&Ow(JN,function(){A.controller.abort()})}var nm=null,Rx=0,HA=0,Ru=null;function ZN(A,h){if(nm===null){var v=nm=[];Rx=0,HA=F4(),Ru={status:"pending",value:void 0,then:function(E){v.push(E)}}}return Rx++,h.then(Dw,Dw),h}function Dw(){if(--Rx===0&&nm!==null){Ru!==null&&(Ru.status="fulfilled");var A=nm;nm=null,HA=0,Ru=null;for(var h=0;h<A.length;h++)(0,A[h])()}}function Pw(A,h){var v=[],E={status:"pending",value:null,reason:null,then:function(L){v.push(L)}};return A.then(function(){E.status="fulfilled",E.value=h;for(var L=0;L<v.length;L++)(0,v[L])(h)},function(L){for(E.status="rejected",E.reason=L,L=0;L<v.length;L++)(0,v[L])(void 0)}),E}var B=W.S;W.S=function(A,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&ZN(A,h),B!==null&&B(A,h)};var U=J(null);function X(){var A=U.current;return A!==null?A:_a.pooledCache}function ae(A,h){h===null?G(U,U.current):G(U,h.pool)}function le(){var A=X();return A===null?null:{parent:_s._currentValue,pool:A}}var fe=Error(n(460)),he=Error(n(474)),ge=Error(n(542)),be={then:function(){}};function _e(A){return A=A.status,A==="fulfilled"||A==="rejected"}function Ue(){}function et(A,h,v){switch(v=A[v],v===void 0?A.push(h):v!==h&&(h.then(Ue,Ue),h=v),h.status){case"fulfilled":return h.value;case"rejected":throw A=h.reason,bt(A),A;default:if(typeof h.status=="string")h.then(Ue,Ue);else{if(A=_a,A!==null&&100<A.shellSuspendCounter)throw Error(n(482));A=h,A.status="pending",A.then(function(E){if(h.status==="pending"){var L=h;L.status="fulfilled",L.value=E}},function(E){if(h.status==="pending"){var L=h;L.status="rejected",L.reason=E}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw A=h.reason,bt(A),A}throw Ye=h,fe}}var Ye=null;function Ge(){if(Ye===null)throw Error(n(459));var A=Ye;return Ye=null,A}function bt(A){if(A===fe||A===ge)throw Error(n(483))}var ct=!1;function Me(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ve(A,h){A=A.updateQueue,h.updateQueue===A&&(h.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function ht(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function yt(A,h,v){var E=A.updateQueue;if(E===null)return null;if(E=E.shared,(na&2)!==0){var L=E.pending;return L===null?h.next=h:(h.next=L.next,L.next=h),E.pending=h,h=RA(A),Up(A,null,v),h}return Bd(A,E,h,v),RA(A)}function pt(A,h,v){if(h=h.updateQueue,h!==null&&(h=h.shared,(v&4194048)!==0)){var E=h.lanes;E&=A.pendingLanes,v|=E,h.lanes=v,Kr(A,v)}}function Yt(A,h){var v=A.updateQueue,E=A.alternate;if(E!==null&&(E=E.updateQueue,v===E)){var L=null,H=null;if(v=v.firstBaseUpdate,v!==null){do{var oe={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};H===null?L=H=oe:H=H.next=oe,v=v.next}while(v!==null);H===null?L=H=h:H=H.next=h}else L=H=h;v={baseState:E.baseState,firstBaseUpdate:L,lastBaseUpdate:H,shared:E.shared,callbacks:E.callbacks},A.updateQueue=v;return}A=v.lastBaseUpdate,A===null?v.firstBaseUpdate=h:A.next=h,v.lastBaseUpdate=h}var Ht=!1;function Ar(){if(Ht){var A=Ru;if(A!==null)throw A}}function $t(A,h,v,E){Ht=!1;var L=A.updateQueue;ct=!1;var H=L.firstBaseUpdate,oe=L.lastBaseUpdate,xe=L.shared.pending;if(xe!==null){L.shared.pending=null;var Oe=xe,nt=Oe.next;Oe.next=null,oe===null?H=nt:oe.next=nt,oe=Oe;var mt=A.alternate;mt!==null&&(mt=mt.updateQueue,xe=mt.lastBaseUpdate,xe!==oe&&(xe===null?mt.firstBaseUpdate=nt:xe.next=nt,mt.lastBaseUpdate=Oe))}if(H!==null){var _t=L.baseState;oe=0,mt=nt=Oe=null,xe=H;do{var it=xe.lane&-536870913,lt=it!==xe.lane;if(lt?(Nn&it)===it:(E&it)===it){it!==0&&it===HA&&(Ht=!0),mt!==null&&(mt=mt.next={lane:0,tag:xe.tag,payload:xe.payload,callback:null,next:null});e:{var Pr=A,Nr=xe;it=h;var ma=v;switch(Nr.tag){case 1:if(Pr=Nr.payload,typeof Pr=="function"){_t=Pr.call(ma,_t,it);break e}_t=Pr;break e;case 3:Pr.flags=Pr.flags&-65537|128;case 0:if(Pr=Nr.payload,it=typeof Pr=="function"?Pr.call(ma,_t,it):Pr,it==null)break e;_t=d({},_t,it);break e;case 2:ct=!0}}it=xe.callback,it!==null&&(A.flags|=64,lt&&(A.flags|=8192),lt=L.callbacks,lt===null?L.callbacks=[it]:lt.push(it))}else lt={lane:it,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null},mt===null?(nt=mt=lt,Oe=_t):mt=mt.next=lt,oe|=it;if(xe=xe.next,xe===null){if(xe=L.shared.pending,xe===null)break;lt=xe,xe=lt.next,lt.next=null,L.lastBaseUpdate=lt,L.shared.pending=null}}while(!0);mt===null&&(Oe=_t),L.baseState=Oe,L.firstBaseUpdate=nt,L.lastBaseUpdate=mt,H===null&&(L.shared.lanes=0),bh|=oe,A.lanes=oe,A.memoizedState=_t}}function _n(A,h){if(typeof A!="function")throw Error(n(191,A));A.call(h)}function Dn(A,h){var v=A.callbacks;if(v!==null)for(A.callbacks=null,A=0;A<v.length;A++)_n(v[A],h)}var tn=J(null),Yr=J(0);function Gn(A,h){A=JA,G(Yr,A),G(tn,h),JA=A|h.baseLanes}function Pn(){G(Yr,JA),G(tn,tn.current)}function Ur(){JA=Yr.current,P(tn),P(Yr)}var ra=0,wr=null,Ir=null,Cn=null,Sn=!1,zs=!1,Ss=!1,$a=0,Ka=0,is=null,bl=0;function Rn(){throw Error(n(321))}function os(A,h){if(h===null)return!1;for(var v=0;v<h.length&&v<A.length;v++)if(!Qs(A[v],h[v]))return!1;return!0}function ql(A,h,v,E,L,H){return ra=H,wr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,W.H=A===null||A.memoizedState===null?kR:TR,Ss=!1,H=v(E,L),Ss=!1,zs&&(H=VA(h,v,E,L)),Od(A),H}function Od(A){W.H=qw;var h=Ir!==null&&Ir.next!==null;if(ra=0,Cn=Ir=wr=null,Sn=!1,Ka=0,is=null,h)throw Error(n(300));A===null||Si||(A=A.dependencies,A!==null&&zp(A)&&(Si=!0))}function VA(A,h,v,E){wr=A;var L=0;do{if(zs&&(is=null),Ka=0,zs=!1,25<=L)throw Error(n(301));if(L+=1,Cn=Ir=null,A.updateQueue!=null){var H=A.updateQueue;H.lastEffect=null,H.events=null,H.stores=null,H.memoCache!=null&&(H.memoCache.index=0)}W.H=ule,H=h(v,E)}while(zs);return H}function Dd(){var A=W.H,h=A.useState()[0];return h=typeof h.then=="function"?Pd(h):h,A=A.useState()[0],(Ir!==null?Ir.memoizedState:null)!==A&&(wr.flags|=1024),h}function Ca(){var A=$a!==0;return $a=0,A}function am(A,h,v){h.updateQueue=A.updateQueue,h.flags&=-2053,A.lanes&=~v}function Kp(A){if(Sn){for(A=A.memoizedState;A!==null;){var h=A.queue;h!==null&&(h.pending=null),A=A.next}Sn=!1}ra=0,Cn=Ir=wr=null,zs=!1,Ka=$a=0,is=null}function $i(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?wr.memoizedState=Cn=A:Cn=Cn.next=A,Cn}function Ta(){if(Ir===null){var A=wr.alternate;A=A!==null?A.memoizedState:null}else A=Ir.next;var h=Cn===null?wr.memoizedState:Cn.next;if(h!==null)Cn=h,Ir=A;else{if(A===null)throw wr.alternate===null?Error(n(467)):Error(n(310));Ir=A,A={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},Cn===null?wr.memoizedState=Cn=A:Cn=Cn.next=A}return Cn}function zA(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pd(A){var h=Ka;return Ka+=1,is===null&&(is=[]),A=et(is,A,h),h=wr,(Cn===null?h.memoizedState:Cn.next)===null&&(h=h.alternate,W.H=h===null||h.memoizedState===null?kR:TR),A}function go(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return Pd(A);if(A.$$typeof===S)return Cs(A)}throw Error(n(438,String(A)))}function Rd(A){var h=null,v=wr.updateQueue;if(v!==null&&(h=v.memoCache),h==null){var E=wr.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(h={data:E.data.map(function(L){return L.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),v===null&&(v=zA(),wr.updateQueue=v),v.memoCache=h,v=h.data[h.index],v===void 0)for(v=h.data[h.index]=Array(A),E=0;E<A;E++)v[E]=R;return h.index++,v}function vo(A,h){return typeof h=="function"?h(A):h}function sm(A){var h=Ta();return ch(h,Ir,A)}function ch(A,h,v){var E=A.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=v;var L=A.baseQueue,H=E.pending;if(H!==null){if(L!==null){var oe=L.next;L.next=H.next,H.next=oe}h.baseQueue=L=H,E.pending=null}if(H=A.baseState,L===null)A.memoizedState=H;else{h=L.next;var xe=oe=null,Oe=null,nt=h,mt=!1;do{var _t=nt.lane&-536870913;if(_t!==nt.lane?(Nn&_t)===_t:(ra&_t)===_t){var it=nt.revertLane;if(it===0)Oe!==null&&(Oe=Oe.next={lane:0,revertLane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),_t===HA&&(mt=!0);else if((ra&it)===it){nt=nt.next,it===HA&&(mt=!0);continue}else _t={lane:0,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},Oe===null?(xe=Oe=_t,oe=H):Oe=Oe.next=_t,wr.lanes|=it,bh|=it;_t=nt.action,Ss&&v(H,_t),H=nt.hasEagerState?nt.eagerState:v(H,_t)}else it={lane:_t,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},Oe===null?(xe=Oe=it,oe=H):Oe=Oe.next=it,wr.lanes|=_t,bh|=_t;nt=nt.next}while(nt!==null&&nt!==h);if(Oe===null?oe=H:Oe.next=xe,!Qs(H,A.memoizedState)&&(Si=!0,mt&&(v=Ru,v!==null)))throw v;A.memoizedState=H,A.baseState=oe,A.baseQueue=Oe,E.lastRenderedState=H}return L===null&&(E.lanes=0),[A.memoizedState,E.dispatch]}function Gp(A){var h=Ta(),v=h.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=A;var E=v.dispatch,L=v.pending,H=h.memoizedState;if(L!==null){v.pending=null;var oe=L=L.next;do H=A(H,oe.action),oe=oe.next;while(oe!==L);Qs(H,h.memoizedState)||(Si=!0),h.memoizedState=H,h.baseQueue===null&&(h.baseState=H),v.lastRenderedState=H}return[H,E]}function im(A,h,v){var E=wr,L=Ta(),H=Tn;if(H){if(v===void 0)throw Error(n(407));v=v()}else v=h();var oe=!Qs((Ir||L).memoizedState,v);oe&&(L.memoizedState=v,Si=!0),L=L.queue;var xe=uh.bind(null,E,L,A);if(fh(2048,8,xe,[A]),L.getSnapshot!==h||oe||Cn!==null&&Cn.memoizedState.tag&1){if(E.flags|=2048,Uu(9,um(),om.bind(null,E,L,v,h),null),_a===null)throw Error(n(349));H||(ra&124)!==0||qp(E,h,v)}return v}function qp(A,h,v){A.flags|=16384,A={getSnapshot:h,value:v},h=wr.updateQueue,h===null?(h=zA(),wr.updateQueue=h,h.stores=[A]):(v=h.stores,v===null?h.stores=[A]:v.push(A))}function om(A,h,v,E){h.value=v,h.getSnapshot=E,Rw(h)&&Lw(A)}function uh(A,h,v){return v(function(){Rw(h)&&Lw(A)})}function Rw(A){var h=A.getSnapshot;A=A.value;try{var v=h();return!Qs(A,v)}catch{return!0}}function Lw(A){var h=Tu(A,2);h!==null&&ec(h,A,2)}function lm(A){var h=$i();if(typeof A=="function"){var v=A;if(A=v(),Ss){Wt(!0);try{v()}finally{Wt(!1)}}}return h.memoizedState=h.baseState=A,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:A},h}function Lu(A,h,v,E){return A.baseState=v,ch(A,Ir,typeof E=="function"?E:vo)}function e4(A,h,v,E,L){if(Gw(A))throw Error(n(485));if(A=h.action,A!==null){var H={payload:L,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(oe){H.listeners.push(oe)}};W.T!==null?v(!0):H.isTransition=!1,E(H),v=h.pending,v===null?(H.next=h.pending=H,Uw(h,H)):(H.next=v.next,h.pending=v.next=H)}}function Uw(A,h){var v=h.action,E=h.payload,L=A.state;if(h.isTransition){var H=W.T,oe={};W.T=oe;try{var xe=v(L,E),Oe=W.S;Oe!==null&&Oe(oe,xe),Mw(A,h,xe)}catch(nt){dh(A,h,nt)}finally{W.T=H}}else try{H=v(L,E),Mw(A,h,H)}catch(nt){dh(A,h,nt)}}function Mw(A,h,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(E){Lx(A,h,E)},function(E){return dh(A,h,E)}):Lx(A,h,v)}function Lx(A,h,v){h.status="fulfilled",h.value=v,Ux(h),A.state=v,h=A.pending,h!==null&&(v=h.next,v===h?A.pending=null:(v=v.next,h.next=v,Uw(A,v)))}function dh(A,h,v){var E=A.pending;if(A.pending=null,E!==null){E=E.next;do h.status="rejected",h.reason=v,Ux(h),h=h.next;while(h!==E)}A.action=null}function Ux(A){A=A.listeners;for(var h=0;h<A.length;h++)(0,A[h])()}function Mx(A,h){return h}function cm(A,h){if(Tn){var v=_a.formState;if(v!==null){e:{var E=wr;if(Tn){if(La){t:{for(var L=La,H=Uc;L.nodeType!==8;){if(!H){L=null;break t}if(L=Vu(L.nextSibling),L===null){L=null;break t}}H=L.data,L=H==="F!"||H==="F"?L:null}if(L){La=Vu(L.nextSibling),E=L.data==="F!";break e}}QA(E)}E=!1}E&&(h=v[0])}}return v=$i(),v.memoizedState=v.baseState=h,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mx,lastRenderedState:h},v.queue=E,v=SR.bind(null,wr,E),E.dispatch=v,E=lm(!1),H=t4.bind(null,wr,!1,E.queue),E=$i(),L={state:h,dispatch:null,action:A,pending:null},E.queue=L,v=e4.bind(null,wr,L,H,v),L.dispatch=v,E.memoizedState=A,[h,v,!1]}function Wp(A){var h=Ta();return Ah(h,Ir,A)}function Ah(A,h,v){if(h=ch(A,h,Mx)[0],A=sm(vo)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var E=Pd(h)}catch(oe){throw oe===fe?ge:oe}else E=h;h=Ta();var L=h.queue,H=L.dispatch;return v!==h.memoizedState&&(wr.flags|=2048,Uu(9,um(),Qw.bind(null,L,v),null)),[E,H,A]}function Qw(A,h){A.action=h}function Hw(A){var h=Ta(),v=Ir;if(v!==null)return Ah(h,v,A);Ta(),h=h.memoizedState,v=Ta();var E=v.queue.dispatch;return v.memoizedState=A,[h,E,!1]}function Uu(A,h,v,E){return A={tag:A,create:v,deps:E,inst:h,next:null},h=wr.updateQueue,h===null&&(h=zA(),wr.updateQueue=h),v=h.lastEffect,v===null?h.lastEffect=A.next=A:(E=v.next,v.next=A,A.next=E,h.lastEffect=A),A}function um(){return{destroy:void 0,resource:void 0}}function Xp(){return Ta().memoizedState}function Wl(A,h,v,E){var L=$i();E=E===void 0?null:E,wr.flags|=A,L.memoizedState=Uu(1|h,um(),v,E)}function fh(A,h,v,E){var L=Ta();E=E===void 0?null:E;var H=L.memoizedState.inst;Ir!==null&&E!==null&&os(E,Ir.memoizedState.deps)?L.memoizedState=Uu(h,H,v,E):(wr.flags|=A,L.memoizedState=Uu(1|h,H,v,E))}function Qx(A,h){Wl(8390656,8,A,h)}function Vw(A,h){fh(2048,8,A,h)}function Hx(A,h){return fh(4,2,A,h)}function $A(A,h){return fh(4,4,A,h)}function zw(A,h){if(typeof h=="function"){A=A();var v=h(A);return function(){typeof v=="function"?v():h(null)}}if(h!=null)return A=A(),h.current=A,function(){h.current=null}}function Vx(A,h,v){v=v!=null?v.concat([A]):null,fh(4,4,zw.bind(null,h,A),v)}function zx(){}function $x(A,h){var v=Ta();h=h===void 0?null:h;var E=v.memoizedState;return h!==null&&os(h,E[1])?E[0]:(v.memoizedState=[A,h],A)}function $w(A,h){var v=Ta();h=h===void 0?null:h;var E=v.memoizedState;if(h!==null&&os(h,E[1]))return E[0];if(E=A(),Ss){Wt(!0);try{A()}finally{Wt(!1)}}return v.memoizedState=[E,h],E}function KA(A,h,v){return v===void 0||(ra&1073741824)!==0?A.memoizedState=h:(A.memoizedState=v,A=wL(),wr.lanes|=A,bh|=A,v)}function Yp(A,h,v,E){return Qs(v,h)?v:tn.current!==null?(A=KA(A,v,E),Qs(A,h)||(Si=!0),A):(ra&42)===0?(Si=!0,A.memoizedState=v):(A=wL(),wr.lanes|=A,bh|=A,h)}function dm(A,h,v,E,L){var H=Z.p;Z.p=H!==0&&8>H?H:8;var oe=W.T,xe={};W.T=xe,t4(A,!1,h,v);try{var Oe=L(),nt=W.S;if(nt!==null&&nt(xe,Oe),Oe!==null&&typeof Oe=="object"&&typeof Oe.then=="function"){var mt=Pw(Oe,E);Wx(A,h,mt,Zl(A))}else Wx(A,h,E,Zl(A))}catch(_t){Wx(A,h,{then:function(){},status:"rejected",reason:_t},Zl())}finally{Z.p=H,W.T=oe}}function Mu(){}function Vc(A,h,v,E){if(A.tag!==5)throw Error(n(476));var L=Qu(A).queue;dm(A,L,h,V,v===null?Mu:function(){return Am(A),v(E)})}function Qu(A){var h=A.memoizedState;if(h!==null)return h;h={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:V},next:null};var v={};return h.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:v},next:null},A.memoizedState=h,A=A.alternate,A!==null&&(A.memoizedState=h),h}function Am(A){var h=Qu(A).next.queue;Wx(A,h,{},Zl())}function fm(){return Cs(f1)}function Kx(){return Ta().memoizedState}function Kw(){return Ta().memoizedState}function Gx(A){for(var h=A.return;h!==null;){switch(h.tag){case 24:case 3:var v=Zl();A=ht(v);var E=yt(h,A,v);E!==null&&(ec(E,h,v),pt(E,h,v)),h={cache:Px()},A.payload=h;return}h=h.return}}function qx(A,h,v){var E=Zl();v={lane:E,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null},Gw(A)?NR(h,v):(v=kd(A,h,v,E),v!==null&&(ec(v,A,E),BR(v,h,E)))}function SR(A,h,v){var E=Zl();Wx(A,h,v,E)}function Wx(A,h,v,E){var L={lane:E,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null};if(Gw(A))NR(h,L);else{var H=A.alternate;if(A.lanes===0&&(H===null||H.lanes===0)&&(H=h.lastRenderedReducer,H!==null))try{var oe=h.lastRenderedState,xe=H(oe,v);if(L.hasEagerState=!0,L.eagerState=xe,Qs(xe,oe))return Bd(A,h,L,0),_a===null&&gl(),!1}catch{}finally{}if(v=kd(A,h,L,E),v!==null)return ec(v,A,E),BR(v,h,E),!0}return!1}function t4(A,h,v,E){if(E={lane:2,revertLane:F4(),action:E,hasEagerState:!1,eagerState:null,next:null},Gw(A)){if(h)throw Error(n(479))}else h=kd(A,v,E,2),h!==null&&ec(h,A,2)}function Gw(A){var h=A.alternate;return A===wr||h!==null&&h===wr}function NR(A,h){zs=Sn=!0;var v=A.pending;v===null?h.next=h:(h.next=v.next,v.next=h),A.pending=h}function BR(A,h,v){if((v&4194048)!==0){var E=h.lanes;E&=A.pendingLanes,v|=E,h.lanes=v,Kr(A,v)}}var qw={readContext:Cs,use:go,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useLayoutEffect:Rn,useInsertionEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useSyncExternalStore:Rn,useId:Rn,useHostTransitionStatus:Rn,useFormState:Rn,useActionState:Rn,useOptimistic:Rn,useMemoCache:Rn,useCacheRefresh:Rn},kR={readContext:Cs,use:go,useCallback:function(A,h){return $i().memoizedState=[A,h===void 0?null:h],A},useContext:Cs,useEffect:Qx,useImperativeHandle:function(A,h,v){v=v!=null?v.concat([A]):null,Wl(4194308,4,zw.bind(null,h,A),v)},useLayoutEffect:function(A,h){return Wl(4194308,4,A,h)},useInsertionEffect:function(A,h){Wl(4,2,A,h)},useMemo:function(A,h){var v=$i();h=h===void 0?null:h;var E=A();if(Ss){Wt(!0);try{A()}finally{Wt(!1)}}return v.memoizedState=[E,h],E},useReducer:function(A,h,v){var E=$i();if(v!==void 0){var L=v(h);if(Ss){Wt(!0);try{v(h)}finally{Wt(!1)}}}else L=h;return E.memoizedState=E.baseState=L,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:L},E.queue=A,A=A.dispatch=qx.bind(null,wr,A),[E.memoizedState,A]},useRef:function(A){var h=$i();return A={current:A},h.memoizedState=A},useState:function(A){A=lm(A);var h=A.queue,v=SR.bind(null,wr,h);return h.dispatch=v,[A.memoizedState,v]},useDebugValue:zx,useDeferredValue:function(A,h){var v=$i();return KA(v,A,h)},useTransition:function(){var A=lm(!1);return A=dm.bind(null,wr,A.queue,!0,!1),$i().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,h,v){var E=wr,L=$i();if(Tn){if(v===void 0)throw Error(n(407));v=v()}else{if(v=h(),_a===null)throw Error(n(349));(Nn&124)!==0||qp(E,h,v)}L.memoizedState=v;var H={value:v,getSnapshot:h};return L.queue=H,Qx(uh.bind(null,E,H,A),[A]),E.flags|=2048,Uu(9,um(),om.bind(null,E,H,v,h),null),v},useId:function(){var A=$i(),h=_a.identifierPrefix;if(Tn){var v=Ou,E=Fu;v=(E&~(1<<32-De(E)-1)).toString(32)+v,h="«"+h+"R"+v,v=$a++,0<v&&(h+="H"+v.toString(32)),h+="»"}else v=bl++,h="«"+h+"r"+v.toString(32)+"»";return A.memoizedState=h},useHostTransitionStatus:fm,useFormState:cm,useActionState:cm,useOptimistic:function(A){var h=$i();h.memoizedState=h.baseState=A;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=v,h=t4.bind(null,wr,!0,v),v.dispatch=h,[A,h]},useMemoCache:Rd,useCacheRefresh:function(){return $i().memoizedState=Gx.bind(null,wr)}},TR={readContext:Cs,use:go,useCallback:$x,useContext:Cs,useEffect:Vw,useImperativeHandle:Vx,useInsertionEffect:Hx,useLayoutEffect:$A,useMemo:$w,useReducer:sm,useRef:Xp,useState:function(){return sm(vo)},useDebugValue:zx,useDeferredValue:function(A,h){var v=Ta();return Yp(v,Ir.memoizedState,A,h)},useTransition:function(){var A=sm(vo)[0],h=Ta().memoizedState;return[typeof A=="boolean"?A:Pd(A),h]},useSyncExternalStore:im,useId:Kx,useHostTransitionStatus:fm,useFormState:Wp,useActionState:Wp,useOptimistic:function(A,h){var v=Ta();return Lu(v,Ir,A,h)},useMemoCache:Rd,useCacheRefresh:Kw},ule={readContext:Cs,use:go,useCallback:$x,useContext:Cs,useEffect:Vw,useImperativeHandle:Vx,useInsertionEffect:Hx,useLayoutEffect:$A,useMemo:$w,useReducer:Gp,useRef:Xp,useState:function(){return Gp(vo)},useDebugValue:zx,useDeferredValue:function(A,h){var v=Ta();return Ir===null?KA(v,A,h):Yp(v,Ir.memoizedState,A,h)},useTransition:function(){var A=Gp(vo)[0],h=Ta().memoizedState;return[typeof A=="boolean"?A:Pd(A),h]},useSyncExternalStore:im,useId:Kx,useHostTransitionStatus:fm,useFormState:Hw,useActionState:Hw,useOptimistic:function(A,h){var v=Ta();return Ir!==null?Lu(v,Ir,A,h):(v.baseState=A,[A,v.queue.dispatch])},useMemoCache:Rd,useCacheRefresh:Kw},Jp=null,Xx=0;function Ww(A){var h=Xx;return Xx+=1,Jp===null&&(Jp=[]),et(Jp,A,h)}function Yx(A,h){h=h.props.ref,A.ref=h!==void 0?h:null}function Xw(A,h){throw h.$$typeof===f?Error(n(525)):(A=Object.prototype.toString.call(h),Error(n(31,A==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":A)))}function IR(A){var h=A._init;return h(A._payload)}function jR(A){function h(qe,Qe){if(A){var Ze=qe.deletions;Ze===null?(qe.deletions=[Qe],qe.flags|=16):Ze.push(Qe)}}function v(qe,Qe){if(!A)return null;for(;Qe!==null;)h(qe,Qe),Qe=Qe.sibling;return null}function E(qe){for(var Qe=new Map;qe!==null;)qe.key!==null?Qe.set(qe.key,qe):Qe.set(qe.index,qe),qe=qe.sibling;return Qe}function L(qe,Qe){return qe=Lc(qe,Qe),qe.index=0,qe.sibling=null,qe}function H(qe,Qe,Ze){return qe.index=Ze,A?(Ze=qe.alternate,Ze!==null?(Ze=Ze.index,Ze<Qe?(qe.flags|=67108866,Qe):Ze):(qe.flags|=67108866,Qe)):(qe.flags|=1048576,Qe)}function oe(qe){return A&&qe.alternate===null&&(qe.flags|=67108866),qe}function xe(qe,Qe,Ze,xt){return Qe===null||Qe.tag!==6?(Qe=Mp(Ze,qe.mode,xt),Qe.return=qe,Qe):(Qe=L(Qe,Ze),Qe.return=qe,Qe)}function Oe(qe,Qe,Ze,xt){var lr=Ze.type;return lr===x?mt(qe,Qe,Ze.props.children,xt,Ze.key):Qe!==null&&(Qe.elementType===lr||typeof lr=="object"&&lr!==null&&lr.$$typeof===C&&IR(lr)===Qe.type)?(Qe=L(Qe,Ze.props),Yx(Qe,Ze),Qe.return=qe,Qe):(Qe=LA(Ze.type,Ze.key,Ze.props,null,qe.mode,xt),Yx(Qe,Ze),Qe.return=qe,Qe)}function nt(qe,Qe,Ze,xt){return Qe===null||Qe.tag!==4||Qe.stateNode.containerInfo!==Ze.containerInfo||Qe.stateNode.implementation!==Ze.implementation?(Qe=Z0(Ze,qe.mode,xt),Qe.return=qe,Qe):(Qe=L(Qe,Ze.children||[]),Qe.return=qe,Qe)}function mt(qe,Qe,Ze,xt,lr){return Qe===null||Qe.tag!==7?(Qe=Iu(Ze,qe.mode,xt,lr),Qe.return=qe,Qe):(Qe=L(Qe,Ze),Qe.return=qe,Qe)}function _t(qe,Qe,Ze){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return Qe=Mp(""+Qe,qe.mode,Ze),Qe.return=qe,Qe;if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case m:return Ze=LA(Qe.type,Qe.key,Qe.props,null,qe.mode,Ze),Yx(Ze,Qe),Ze.return=qe,Ze;case p:return Qe=Z0(Qe,qe.mode,Ze),Qe.return=qe,Qe;case C:var xt=Qe._init;return Qe=xt(Qe._payload),_t(qe,Qe,Ze)}if(ee(Qe)||O(Qe))return Qe=Iu(Qe,qe.mode,Ze,null),Qe.return=qe,Qe;if(typeof Qe.then=="function")return _t(qe,Ww(Qe),Ze);if(Qe.$$typeof===S)return _t(qe,Fd(qe,Qe),Ze);Xw(qe,Qe)}return null}function it(qe,Qe,Ze,xt){var lr=Qe!==null?Qe.key:null;if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return lr!==null?null:xe(qe,Qe,""+Ze,xt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case m:return Ze.key===lr?Oe(qe,Qe,Ze,xt):null;case p:return Ze.key===lr?nt(qe,Qe,Ze,xt):null;case C:return lr=Ze._init,Ze=lr(Ze._payload),it(qe,Qe,Ze,xt)}if(ee(Ze)||O(Ze))return lr!==null?null:mt(qe,Qe,Ze,xt,null);if(typeof Ze.then=="function")return it(qe,Qe,Ww(Ze),xt);if(Ze.$$typeof===S)return it(qe,Qe,Fd(qe,Ze),xt);Xw(qe,Ze)}return null}function lt(qe,Qe,Ze,xt,lr){if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return qe=qe.get(Ze)||null,xe(Qe,qe,""+xt,lr);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case m:return qe=qe.get(xt.key===null?Ze:xt.key)||null,Oe(Qe,qe,xt,lr);case p:return qe=qe.get(xt.key===null?Ze:xt.key)||null,nt(Qe,qe,xt,lr);case C:var ln=xt._init;return xt=ln(xt._payload),lt(qe,Qe,Ze,xt,lr)}if(ee(xt)||O(xt))return qe=qe.get(Ze)||null,mt(Qe,qe,xt,lr,null);if(typeof xt.then=="function")return lt(qe,Qe,Ze,Ww(xt),lr);if(xt.$$typeof===S)return lt(qe,Qe,Ze,Fd(Qe,xt),lr);Xw(Qe,xt)}return null}function Pr(qe,Qe,Ze,xt){for(var lr=null,ln=null,hr=Qe,Br=Qe=0,Bi=null;hr!==null&&Br<Ze.length;Br++){hr.index>Br?(Bi=hr,hr=null):Bi=hr.sibling;var Ln=it(qe,hr,Ze[Br],xt);if(Ln===null){hr===null&&(hr=Bi);break}A&&hr&&Ln.alternate===null&&h(qe,hr),Qe=H(Ln,Qe,Br),ln===null?lr=Ln:ln.sibling=Ln,ln=Ln,hr=Bi}if(Br===Ze.length)return v(qe,hr),Tn&&MA(qe,Br),lr;if(hr===null){for(;Br<Ze.length;Br++)hr=_t(qe,Ze[Br],xt),hr!==null&&(Qe=H(hr,Qe,Br),ln===null?lr=hr:ln.sibling=hr,ln=hr);return Tn&&MA(qe,Br),lr}for(hr=E(hr);Br<Ze.length;Br++)Bi=lt(hr,qe,Br,Ze[Br],xt),Bi!==null&&(A&&Bi.alternate!==null&&hr.delete(Bi.key===null?Br:Bi.key),Qe=H(Bi,Qe,Br),ln===null?lr=Bi:ln.sibling=Bi,ln=Bi);return A&&hr.forEach(function(kh){return h(qe,kh)}),Tn&&MA(qe,Br),lr}function Nr(qe,Qe,Ze,xt){if(Ze==null)throw Error(n(151));for(var lr=null,ln=null,hr=Qe,Br=Qe=0,Bi=null,Ln=Ze.next();hr!==null&&!Ln.done;Br++,Ln=Ze.next()){hr.index>Br?(Bi=hr,hr=null):Bi=hr.sibling;var kh=it(qe,hr,Ln.value,xt);if(kh===null){hr===null&&(hr=Bi);break}A&&hr&&kh.alternate===null&&h(qe,hr),Qe=H(kh,Qe,Br),ln===null?lr=kh:ln.sibling=kh,ln=kh,hr=Bi}if(Ln.done)return v(qe,hr),Tn&&MA(qe,Br),lr;if(hr===null){for(;!Ln.done;Br++,Ln=Ze.next())Ln=_t(qe,Ln.value,xt),Ln!==null&&(Qe=H(Ln,Qe,Br),ln===null?lr=Ln:ln.sibling=Ln,ln=Ln);return Tn&&MA(qe,Br),lr}for(hr=E(hr);!Ln.done;Br++,Ln=Ze.next())Ln=lt(hr,qe,Br,Ln.value,xt),Ln!==null&&(A&&Ln.alternate!==null&&hr.delete(Ln.key===null?Br:Ln.key),Qe=H(Ln,Qe,Br),ln===null?lr=Ln:ln.sibling=Ln,ln=Ln);return A&&hr.forEach(function(dce){return h(qe,dce)}),Tn&&MA(qe,Br),lr}function ma(qe,Qe,Ze,xt){if(typeof Ze=="object"&&Ze!==null&&Ze.type===x&&Ze.key===null&&(Ze=Ze.props.children),typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case m:e:{for(var lr=Ze.key;Qe!==null;){if(Qe.key===lr){if(lr=Ze.type,lr===x){if(Qe.tag===7){v(qe,Qe.sibling),xt=L(Qe,Ze.props.children),xt.return=qe,qe=xt;break e}}else if(Qe.elementType===lr||typeof lr=="object"&&lr!==null&&lr.$$typeof===C&&IR(lr)===Qe.type){v(qe,Qe.sibling),xt=L(Qe,Ze.props),Yx(xt,Ze),xt.return=qe,qe=xt;break e}v(qe,Qe);break}else h(qe,Qe);Qe=Qe.sibling}Ze.type===x?(xt=Iu(Ze.props.children,qe.mode,xt,Ze.key),xt.return=qe,qe=xt):(xt=LA(Ze.type,Ze.key,Ze.props,null,qe.mode,xt),Yx(xt,Ze),xt.return=qe,qe=xt)}return oe(qe);case p:e:{for(lr=Ze.key;Qe!==null;){if(Qe.key===lr)if(Qe.tag===4&&Qe.stateNode.containerInfo===Ze.containerInfo&&Qe.stateNode.implementation===Ze.implementation){v(qe,Qe.sibling),xt=L(Qe,Ze.children||[]),xt.return=qe,qe=xt;break e}else{v(qe,Qe);break}else h(qe,Qe);Qe=Qe.sibling}xt=Z0(Ze,qe.mode,xt),xt.return=qe,qe=xt}return oe(qe);case C:return lr=Ze._init,Ze=lr(Ze._payload),ma(qe,Qe,Ze,xt)}if(ee(Ze))return Pr(qe,Qe,Ze,xt);if(O(Ze)){if(lr=O(Ze),typeof lr!="function")throw Error(n(150));return Ze=lr.call(Ze),Nr(qe,Qe,Ze,xt)}if(typeof Ze.then=="function")return ma(qe,Qe,Ww(Ze),xt);if(Ze.$$typeof===S)return ma(qe,Qe,Fd(qe,Ze),xt);Xw(qe,Ze)}return typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint"?(Ze=""+Ze,Qe!==null&&Qe.tag===6?(v(qe,Qe.sibling),xt=L(Qe,Ze),xt.return=qe,qe=xt):(v(qe,Qe),xt=Mp(Ze,qe.mode,xt),xt.return=qe,qe=xt),oe(qe)):v(qe,Qe)}return function(qe,Qe,Ze,xt){try{Xx=0;var lr=ma(qe,Qe,Ze,xt);return Jp=null,lr}catch(hr){if(hr===fe||hr===ge)throw hr;var ln=_i(29,hr,null,qe.mode);return ln.lanes=xt,ln.return=qe,ln}finally{}}}var Zp=jR(!0),FR=jR(!1),zc=J(null),Ld=null;function hh(A){var h=A.alternate;G(ui,ui.current&1),G(zc,A),Ld===null&&(h===null||tn.current!==null||h.memoizedState!==null)&&(Ld=A)}function OR(A){if(A.tag===22){if(G(ui,ui.current),G(zc,A),Ld===null){var h=A.alternate;h!==null&&h.memoizedState!==null&&(Ld=A)}}else mh()}function mh(){G(ui,ui.current),G(zc,zc.current)}function GA(A){P(zc),Ld===A&&(Ld=null),P(ui)}var ui=J(0);function Yw(A){for(var h=A;h!==null;){if(h.tag===13){var v=h.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||$4(v)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===A)break;for(;h.sibling===null;){if(h.return===null||h.return===A)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function r4(A,h,v,E){h=A.memoizedState,v=v(E,h),v=v==null?h:d({},h,v),A.memoizedState=v,A.lanes===0&&(A.updateQueue.baseState=v)}var n4={enqueueSetState:function(A,h,v){A=A._reactInternals;var E=Zl(),L=ht(E);L.payload=h,v!=null&&(L.callback=v),h=yt(A,L,E),h!==null&&(ec(h,A,E),pt(h,A,E))},enqueueReplaceState:function(A,h,v){A=A._reactInternals;var E=Zl(),L=ht(E);L.tag=1,L.payload=h,v!=null&&(L.callback=v),h=yt(A,L,E),h!==null&&(ec(h,A,E),pt(h,A,E))},enqueueForceUpdate:function(A,h){A=A._reactInternals;var v=Zl(),E=ht(v);E.tag=2,h!=null&&(E.callback=h),h=yt(A,E,v),h!==null&&(ec(h,A,v),pt(h,A,v))}};function DR(A,h,v,E,L,H,oe){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(E,H,oe):h.prototype&&h.prototype.isPureReactComponent?!yd(v,E)||!yd(L,H):!0}function PR(A,h,v,E){A=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(v,E),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(v,E),h.state!==A&&n4.enqueueReplaceState(h,h.state,null)}function hm(A,h){var v=h;if("ref"in h){v={};for(var E in h)E!=="ref"&&(v[E]=h[E])}if(A=A.defaultProps){v===h&&(v=d({},v));for(var L in A)v[L]===void 0&&(v[L]=A[L])}return v}var Jw=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function RR(A){Jw(A)}function LR(A){console.error(A)}function UR(A){Jw(A)}function Zw(A,h){try{var v=A.onUncaughtError;v(h.value,{componentStack:h.stack})}catch(E){setTimeout(function(){throw E})}}function MR(A,h,v){try{var E=A.onCaughtError;E(v.value,{componentStack:v.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(L){setTimeout(function(){throw L})}}function a4(A,h,v){return v=ht(v),v.tag=3,v.payload={element:null},v.callback=function(){Zw(A,h)},v}function QR(A){return A=ht(A),A.tag=3,A}function HR(A,h,v,E){var L=v.type.getDerivedStateFromError;if(typeof L=="function"){var H=E.value;A.payload=function(){return L(H)},A.callback=function(){MR(h,v,E)}}var oe=v.stateNode;oe!==null&&typeof oe.componentDidCatch=="function"&&(A.callback=function(){MR(h,v,E),typeof L!="function"&&(yh===null?yh=new Set([this]):yh.add(this));var xe=E.stack;this.componentDidCatch(E.value,{componentStack:xe!==null?xe:""})})}function dle(A,h,v,E,L){if(v.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(h=v.alternate,h!==null&&lh(h,v,L,!0),v=zc.current,v!==null){switch(v.tag){case 13:return Ld===null?B4():v.alternate===null&&ls===0&&(ls=3),v.flags&=-257,v.flags|=65536,v.lanes=L,E===be?v.flags|=16384:(h=v.updateQueue,h===null?v.updateQueue=new Set([E]):h.add(E),T4(A,E,L)),!1;case 22:return v.flags|=65536,E===be?v.flags|=16384:(h=v.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([E])},v.updateQueue=h):(v=h.retryQueue,v===null?h.retryQueue=new Set([E]):v.add(E)),T4(A,E,L)),!1}throw Error(n(435,v.tag))}return T4(A,E,L),B4(),!1}if(Tn)return h=zc.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=L,E!==Dx&&(A=Error(n(422),{cause:E}),oh(rn(A,v)))):(E!==Dx&&(h=Error(n(423),{cause:E}),oh(rn(h,v))),A=A.current.alternate,A.flags|=65536,L&=-L,A.lanes|=L,E=rn(E,v),L=a4(A.stateNode,E,L),Yt(A,L),ls!==4&&(ls=2)),!1;var H=Error(n(520),{cause:E});if(H=rn(H,v),a1===null?a1=[H]:a1.push(H),ls!==4&&(ls=2),h===null)return!0;E=rn(E,v),v=h;do{switch(v.tag){case 3:return v.flags|=65536,A=L&-L,v.lanes|=A,A=a4(v.stateNode,E,A),Yt(v,A),!1;case 1:if(h=v.type,H=v.stateNode,(v.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(yh===null||!yh.has(H))))return v.flags|=65536,L&=-L,v.lanes|=L,L=QR(L),HR(L,A,v,E),Yt(v,L),!1}v=v.return}while(v!==null);return!1}var VR=Error(n(461)),Si=!1;function Ki(A,h,v,E){h.child=A===null?FR(h,null,v,E):Zp(h,A.child,v,E)}function zR(A,h,v,E,L){v=v.render;var H=h.ref;if("ref"in E){var oe={};for(var xe in E)xe!=="ref"&&(oe[xe]=E[xe])}else oe=E;return Hc(h),E=ql(A,h,v,oe,H,L),xe=Ca(),A!==null&&!Si?(am(A,h,L),qA(A,h,L)):(Tn&&xe&&em(h),h.flags|=1,Ki(A,h,E,L),h.child)}function $R(A,h,v,E,L){if(A===null){var H=v.type;return typeof H=="function"&&!sh(H)&&H.defaultProps===void 0&&v.compare===null?(h.tag=15,h.type=H,KR(A,h,H,E,L)):(A=LA(v.type,null,E,h,h.mode,L),A.ref=h.ref,A.return=h,h.child=A)}if(H=A.child,!A4(A,L)){var oe=H.memoizedProps;if(v=v.compare,v=v!==null?v:yd,v(oe,E)&&A.ref===h.ref)return qA(A,h,L)}return h.flags|=1,A=Lc(H,E),A.ref=h.ref,A.return=h,h.child=A}function KR(A,h,v,E,L){if(A!==null){var H=A.memoizedProps;if(yd(H,E)&&A.ref===h.ref)if(Si=!1,h.pendingProps=E=H,A4(A,L))(A.flags&131072)!==0&&(Si=!0);else return h.lanes=A.lanes,qA(A,h,L)}return s4(A,h,v,E,L)}function GR(A,h,v){var E=h.pendingProps,L=E.children,H=A!==null?A.memoizedState:null;if(E.mode==="hidden"){if((h.flags&128)!==0){if(E=H!==null?H.baseLanes|v:v,A!==null){for(L=h.child=A.child,H=0;L!==null;)H=H|L.lanes|L.childLanes,L=L.sibling;h.childLanes=H&~E}else h.childLanes=0,h.child=null;return qR(A,h,E,v)}if((v&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},A!==null&&ae(h,H!==null?H.cachePool:null),H!==null?Gn(h,H):Pn(),OR(h);else return h.lanes=h.childLanes=536870912,qR(A,h,H!==null?H.baseLanes|v:v,v)}else H!==null?(ae(h,H.cachePool),Gn(h,H),mh(),h.memoizedState=null):(A!==null&&ae(h,null),Pn(),mh());return Ki(A,h,L,v),h.child}function qR(A,h,v,E){var L=X();return L=L===null?null:{parent:_s._currentValue,pool:L},h.memoizedState={baseLanes:v,cachePool:L},A!==null&&ae(h,null),Pn(),OR(h),A!==null&&lh(A,h,E,!0),null}function e2(A,h){var v=h.ref;if(v===null)A!==null&&A.ref!==null&&(h.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(n(284));(A===null||A.ref!==v)&&(h.flags|=4194816)}}function s4(A,h,v,E,L){return Hc(h),v=ql(A,h,v,E,void 0,L),E=Ca(),A!==null&&!Si?(am(A,h,L),qA(A,h,L)):(Tn&&E&&em(h),h.flags|=1,Ki(A,h,v,L),h.child)}function WR(A,h,v,E,L,H){return Hc(h),h.updateQueue=null,v=VA(h,E,v,L),Od(A),E=Ca(),A!==null&&!Si?(am(A,h,H),qA(A,h,H)):(Tn&&E&&em(h),h.flags|=1,Ki(A,h,v,H),h.child)}function XR(A,h,v,E,L){if(Hc(h),h.stateNode===null){var H=Hs,oe=v.contextType;typeof oe=="object"&&oe!==null&&(H=Cs(oe)),H=new v(E,H),h.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=n4,h.stateNode=H,H._reactInternals=h,H=h.stateNode,H.props=E,H.state=h.memoizedState,H.refs={},Me(h),oe=v.contextType,H.context=typeof oe=="object"&&oe!==null?Cs(oe):Hs,H.state=h.memoizedState,oe=v.getDerivedStateFromProps,typeof oe=="function"&&(r4(h,v,oe,E),H.state=h.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(oe=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),oe!==H.state&&n4.enqueueReplaceState(H,H.state,null),$t(h,E,H,L),Ar(),H.state=h.memoizedState),typeof H.componentDidMount=="function"&&(h.flags|=4194308),E=!0}else if(A===null){H=h.stateNode;var xe=h.memoizedProps,Oe=hm(v,xe);H.props=Oe;var nt=H.context,mt=v.contextType;oe=Hs,typeof mt=="object"&&mt!==null&&(oe=Cs(mt));var _t=v.getDerivedStateFromProps;mt=typeof _t=="function"||typeof H.getSnapshotBeforeUpdate=="function",xe=h.pendingProps!==xe,mt||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(xe||nt!==oe)&&PR(h,H,E,oe),ct=!1;var it=h.memoizedState;H.state=it,$t(h,E,H,L),Ar(),nt=h.memoizedState,xe||it!==nt||ct?(typeof _t=="function"&&(r4(h,v,_t,E),nt=h.memoizedState),(Oe=ct||DR(h,v,Oe,E,it,nt,oe))?(mt||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(h.flags|=4194308)):(typeof H.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=E,h.memoizedState=nt),H.props=E,H.state=nt,H.context=oe,E=Oe):(typeof H.componentDidMount=="function"&&(h.flags|=4194308),E=!1)}else{H=h.stateNode,Ve(A,h),oe=h.memoizedProps,mt=hm(v,oe),H.props=mt,_t=h.pendingProps,it=H.context,nt=v.contextType,Oe=Hs,typeof nt=="object"&&nt!==null&&(Oe=Cs(nt)),xe=v.getDerivedStateFromProps,(nt=typeof xe=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(oe!==_t||it!==Oe)&&PR(h,H,E,Oe),ct=!1,it=h.memoizedState,H.state=it,$t(h,E,H,L),Ar();var lt=h.memoizedState;oe!==_t||it!==lt||ct||A!==null&&A.dependencies!==null&&zp(A.dependencies)?(typeof xe=="function"&&(r4(h,v,xe,E),lt=h.memoizedState),(mt=ct||DR(h,v,mt,E,it,lt,Oe)||A!==null&&A.dependencies!==null&&zp(A.dependencies))?(nt||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(E,lt,Oe),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(E,lt,Oe)),typeof H.componentDidUpdate=="function"&&(h.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof H.componentDidUpdate!="function"||oe===A.memoizedProps&&it===A.memoizedState||(h.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||oe===A.memoizedProps&&it===A.memoizedState||(h.flags|=1024),h.memoizedProps=E,h.memoizedState=lt),H.props=E,H.state=lt,H.context=Oe,E=mt):(typeof H.componentDidUpdate!="function"||oe===A.memoizedProps&&it===A.memoizedState||(h.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||oe===A.memoizedProps&&it===A.memoizedState||(h.flags|=1024),E=!1)}return H=E,e2(A,h),E=(h.flags&128)!==0,H||E?(H=h.stateNode,v=E&&typeof v.getDerivedStateFromError!="function"?null:H.render(),h.flags|=1,A!==null&&E?(h.child=Zp(h,A.child,null,L),h.child=Zp(h,null,v,L)):Ki(A,h,v,L),h.memoizedState=H.state,A=h.child):A=qA(A,h,L),A}function YR(A,h,v,E){return qo(),h.flags|=256,Ki(A,h,v,E),h.child}var i4={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function o4(A){return{baseLanes:A,cachePool:le()}}function l4(A,h,v){return A=A!==null?A.childLanes&~v:0,h&&(A|=$c),A}function JR(A,h,v){var E=h.pendingProps,L=!1,H=(h.flags&128)!==0,oe;if((oe=H)||(oe=A!==null&&A.memoizedState===null?!1:(ui.current&2)!==0),oe&&(L=!0,h.flags&=-129),oe=(h.flags&32)!==0,h.flags&=-33,A===null){if(Tn){if(L?hh(h):mh(),Tn){var xe=La,Oe;if(Oe=xe){e:{for(Oe=xe,xe=Uc;Oe.nodeType!==8;){if(!xe){xe=null;break e}if(Oe=Vu(Oe.nextSibling),Oe===null){xe=null;break e}}xe=Oe}xe!==null?(h.memoizedState={dehydrated:xe,treeContext:UA!==null?{id:Fu,overflow:Ou}:null,retryLane:536870912,hydrationErrors:null},Oe=_i(18,null,null,0),Oe.stateNode=xe,Oe.return=h,h.child=Oe,Es=h,La=null,Oe=!0):Oe=!1}Oe||QA(h)}if(xe=h.memoizedState,xe!==null&&(xe=xe.dehydrated,xe!==null))return $4(xe)?h.lanes=32:h.lanes=536870912,null;GA(h)}return xe=E.children,E=E.fallback,L?(mh(),L=h.mode,xe=t2({mode:"hidden",children:xe},L),E=Iu(E,L,v,null),xe.return=h,E.return=h,xe.sibling=E,h.child=xe,L=h.child,L.memoizedState=o4(v),L.childLanes=l4(A,oe,v),h.memoizedState=i4,E):(hh(h),c4(h,xe))}if(Oe=A.memoizedState,Oe!==null&&(xe=Oe.dehydrated,xe!==null)){if(H)h.flags&256?(hh(h),h.flags&=-257,h=u4(A,h,v)):h.memoizedState!==null?(mh(),h.child=A.child,h.flags|=128,h=null):(mh(),L=E.fallback,xe=h.mode,E=t2({mode:"visible",children:E.children},xe),L=Iu(L,xe,v,null),L.flags|=2,E.return=h,L.return=h,E.sibling=L,h.child=E,Zp(h,A.child,null,v),E=h.child,E.memoizedState=o4(v),E.childLanes=l4(A,oe,v),h.memoizedState=i4,h=L);else if(hh(h),$4(xe)){if(oe=xe.nextSibling&&xe.nextSibling.dataset,oe)var nt=oe.dgst;oe=nt,E=Error(n(419)),E.stack="",E.digest=oe,oh({value:E,source:null,stack:null}),h=u4(A,h,v)}else if(Si||lh(A,h,v,!1),oe=(v&A.childLanes)!==0,Si||oe){if(oe=_a,oe!==null&&(E=v&-v,E=(E&42)!==0?1:Ls(E),E=(E&(oe.suspendedLanes|v))!==0?0:E,E!==0&&E!==Oe.retryLane))throw Oe.retryLane=E,Tu(A,E),ec(oe,A,E),VR;xe.data==="$?"||B4(),h=u4(A,h,v)}else xe.data==="$?"?(h.flags|=192,h.child=A.child,h=null):(A=Oe.treeContext,La=Vu(xe.nextSibling),Es=h,Tn=!0,Id=null,Uc=!1,A!==null&&(xl[Go++]=Fu,xl[Go++]=Ou,xl[Go++]=UA,Fu=A.id,Ou=A.overflow,UA=h),h=c4(h,E.children),h.flags|=4096);return h}return L?(mh(),L=E.fallback,xe=h.mode,Oe=A.child,nt=Oe.sibling,E=Lc(Oe,{mode:"hidden",children:E.children}),E.subtreeFlags=Oe.subtreeFlags&65011712,nt!==null?L=Lc(nt,L):(L=Iu(L,xe,v,null),L.flags|=2),L.return=h,E.return=h,E.sibling=L,h.child=E,E=L,L=h.child,xe=A.child.memoizedState,xe===null?xe=o4(v):(Oe=xe.cachePool,Oe!==null?(nt=_s._currentValue,Oe=Oe.parent!==nt?{parent:nt,pool:nt}:Oe):Oe=le(),xe={baseLanes:xe.baseLanes|v,cachePool:Oe}),L.memoizedState=xe,L.childLanes=l4(A,oe,v),h.memoizedState=i4,E):(hh(h),v=A.child,A=v.sibling,v=Lc(v,{mode:"visible",children:E.children}),v.return=h,v.sibling=null,A!==null&&(oe=h.deletions,oe===null?(h.deletions=[A],h.flags|=16):oe.push(A)),h.child=v,h.memoizedState=null,v)}function c4(A,h){return h=t2({mode:"visible",children:h},A.mode),h.return=A,A.child=h}function t2(A,h){return A=_i(22,A,null,h),A.lanes=0,A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},A}function u4(A,h,v){return Zp(h,A.child,null,v),A=c4(h,h.pendingProps.children),A.flags|=2,h.memoizedState=null,A}function ZR(A,h,v){A.lanes|=h;var E=A.alternate;E!==null&&(E.lanes|=h),Hp(A.return,h,v)}function d4(A,h,v,E,L){var H=A.memoizedState;H===null?A.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:E,tail:v,tailMode:L}:(H.isBackwards=h,H.rendering=null,H.renderingStartTime=0,H.last=E,H.tail=v,H.tailMode=L)}function eL(A,h,v){var E=h.pendingProps,L=E.revealOrder,H=E.tail;if(Ki(A,h,E.children,v),E=ui.current,(E&2)!==0)E=E&1|2,h.flags|=128;else{if(A!==null&&(A.flags&128)!==0)e:for(A=h.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&ZR(A,v,h);else if(A.tag===19)ZR(A,v,h);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===h)break e;for(;A.sibling===null;){if(A.return===null||A.return===h)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}E&=1}switch(G(ui,E),L){case"forwards":for(v=h.child,L=null;v!==null;)A=v.alternate,A!==null&&Yw(A)===null&&(L=v),v=v.sibling;v=L,v===null?(L=h.child,h.child=null):(L=v.sibling,v.sibling=null),d4(h,!1,L,v,H);break;case"backwards":for(v=null,L=h.child,h.child=null;L!==null;){if(A=L.alternate,A!==null&&Yw(A)===null){h.child=L;break}A=L.sibling,L.sibling=v,v=L,L=A}d4(h,!0,v,null,H);break;case"together":d4(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function qA(A,h,v){if(A!==null&&(h.dependencies=A.dependencies),bh|=h.lanes,(v&h.childLanes)===0)if(A!==null){if(lh(A,h,v,!1),(v&h.childLanes)===0)return null}else return null;if(A!==null&&h.child!==A.child)throw Error(n(153));if(h.child!==null){for(A=h.child,v=Lc(A,A.pendingProps),h.child=v,v.return=h;A.sibling!==null;)A=A.sibling,v=v.sibling=Lc(A,A.pendingProps),v.return=h;v.sibling=null}return h.child}function A4(A,h){return(A.lanes&h)!==0?!0:(A=A.dependencies,!!(A!==null&&zp(A)))}function Ale(A,h,v){switch(h.tag){case 3:me(h,h.stateNode.containerInfo),jd(h,_s,A.memoizedState.cache),qo();break;case 27:case 5:ye(h);break;case 4:me(h,h.stateNode.containerInfo);break;case 10:jd(h,h.type,h.memoizedProps.value);break;case 13:var E=h.memoizedState;if(E!==null)return E.dehydrated!==null?(hh(h),h.flags|=128,null):(v&h.child.childLanes)!==0?JR(A,h,v):(hh(h),A=qA(A,h,v),A!==null?A.sibling:null);hh(h);break;case 19:var L=(A.flags&128)!==0;if(E=(v&h.childLanes)!==0,E||(lh(A,h,v,!1),E=(v&h.childLanes)!==0),L){if(E)return eL(A,h,v);h.flags|=128}if(L=h.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),G(ui,ui.current),E)break;return null;case 22:case 23:return h.lanes=0,GR(A,h,v);case 24:jd(h,_s,A.memoizedState.cache)}return qA(A,h,v)}function tL(A,h,v){if(A!==null)if(A.memoizedProps!==h.pendingProps)Si=!0;else{if(!A4(A,v)&&(h.flags&128)===0)return Si=!1,Ale(A,h,v);Si=(A.flags&131072)!==0}else Si=!1,Tn&&(h.flags&1048576)!==0&&Iw(h,Qp,h.index);switch(h.lanes=0,h.tag){case 16:e:{A=h.pendingProps;var E=h.elementType,L=E._init;if(E=L(E._payload),h.type=E,typeof E=="function")sh(E)?(A=hm(E,A),h.tag=1,h=XR(null,h,E,A,v)):(h.tag=0,h=s4(null,h,E,A,v));else{if(E!=null){if(L=E.$$typeof,L===I){h.tag=11,h=zR(null,h,E,A,v);break e}else if(L===w){h.tag=14,h=$R(null,h,E,A,v);break e}}throw h=Q(E)||E,Error(n(306,h,""))}}return h;case 0:return s4(A,h,h.type,h.pendingProps,v);case 1:return E=h.type,L=hm(E,h.pendingProps),XR(A,h,E,L,v);case 3:e:{if(me(h,h.stateNode.containerInfo),A===null)throw Error(n(387));E=h.pendingProps;var H=h.memoizedState;L=H.element,Ve(A,h),$t(h,E,null,v);var oe=h.memoizedState;if(E=oe.cache,jd(h,_s,E),E!==H.cache&&Vp(h,[_s],v,!0),Ar(),E=oe.element,H.isDehydrated)if(H={element:E,isDehydrated:!1,cache:oe.cache},h.updateQueue.baseState=H,h.memoizedState=H,h.flags&256){h=YR(A,h,E,v);break e}else if(E!==L){L=rn(Error(n(424)),h),oh(L),h=YR(A,h,E,v);break e}else{switch(A=h.stateNode.containerInfo,A.nodeType){case 9:A=A.body;break;default:A=A.nodeName==="HTML"?A.ownerDocument.body:A}for(La=Vu(A.firstChild),Es=h,Tn=!0,Id=null,Uc=!0,v=FR(h,null,E,v),h.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling}else{if(qo(),E===L){h=qA(A,h,v);break e}Ki(A,h,E,v)}h=h.child}return h;case 26:return e2(A,h),A===null?(v=s8(h.type,null,h.pendingProps,null))?h.memoizedState=v:Tn||(v=h.type,A=h.pendingProps,E=m2(ie.current).createElement(v),E[wn]=h,E[An]=A,qi(E,v,A),$e(E),h.stateNode=E):h.memoizedState=s8(h.type,A.memoizedProps,h.pendingProps,A.memoizedState),null;case 27:return ye(h),A===null&&Tn&&(E=h.stateNode=r8(h.type,h.pendingProps,ie.current),Es=h,Uc=!0,L=La,Ch(h.type)?(K4=L,La=Vu(E.firstChild)):La=L),Ki(A,h,h.pendingProps.children,v),e2(A,h),A===null&&(h.flags|=4194304),h.child;case 5:return A===null&&Tn&&((L=E=La)&&(E=Mle(E,h.type,h.pendingProps,Uc),E!==null?(h.stateNode=E,Es=h,La=Vu(E.firstChild),Uc=!1,L=!0):L=!1),L||QA(h)),ye(h),L=h.type,H=h.pendingProps,oe=A!==null?A.memoizedProps:null,E=H.children,H4(L,H)?E=null:oe!==null&&H4(L,oe)&&(h.flags|=32),h.memoizedState!==null&&(L=ql(A,h,Dd,null,null,v),f1._currentValue=L),e2(A,h),Ki(A,h,E,v),h.child;case 6:return A===null&&Tn&&((A=v=La)&&(v=Qle(v,h.pendingProps,Uc),v!==null?(h.stateNode=v,Es=h,La=null,A=!0):A=!1),A||QA(h)),null;case 13:return JR(A,h,v);case 4:return me(h,h.stateNode.containerInfo),E=h.pendingProps,A===null?h.child=Zp(h,null,E,v):Ki(A,h,E,v),h.child;case 11:return zR(A,h,h.type,h.pendingProps,v);case 7:return Ki(A,h,h.pendingProps,v),h.child;case 8:return Ki(A,h,h.pendingProps.children,v),h.child;case 12:return Ki(A,h,h.pendingProps.children,v),h.child;case 10:return E=h.pendingProps,jd(h,h.type,E.value),Ki(A,h,E.children,v),h.child;case 9:return L=h.type._context,E=h.pendingProps.children,Hc(h),L=Cs(L),E=E(L),h.flags|=1,Ki(A,h,E,v),h.child;case 14:return $R(A,h,h.type,h.pendingProps,v);case 15:return KR(A,h,h.type,h.pendingProps,v);case 19:return eL(A,h,v);case 31:return E=h.pendingProps,v=h.mode,E={mode:E.mode,children:E.children},A===null?(v=t2(E,v),v.ref=h.ref,h.child=v,v.return=h,h=v):(v=Lc(A.child,E),v.ref=h.ref,h.child=v,v.return=h,h=v),h;case 22:return GR(A,h,v);case 24:return Hc(h),E=Cs(_s),A===null?(L=X(),L===null&&(L=_a,H=Px(),L.pooledCache=H,H.refCount++,H!==null&&(L.pooledCacheLanes|=v),L=H),h.memoizedState={parent:E,cache:L},Me(h),jd(h,_s,L)):((A.lanes&v)!==0&&(Ve(A,h),$t(h,null,null,v),Ar()),L=A.memoizedState,H=h.memoizedState,L.parent!==E?(L={parent:E,cache:E},h.memoizedState=L,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=L),jd(h,_s,E)):(E=H.cache,jd(h,_s,E),E!==L.cache&&Vp(h,[_s],v,!0))),Ki(A,h,h.pendingProps.children,v),h.child;case 29:throw h.pendingProps}throw Error(n(156,h.tag))}function WA(A){A.flags|=4}function rL(A,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!u8(h)){if(h=zc.current,h!==null&&((Nn&4194048)===Nn?Ld!==null:(Nn&62914560)!==Nn&&(Nn&536870912)===0||h!==Ld))throw Ye=be,he;A.flags|=8192}}function r2(A,h){h!==null&&(A.flags|=4),A.flags&16384&&(h=A.tag!==22?Qr():536870912,A.lanes|=h,ng|=h)}function Jx(A,h){if(!Tn)switch(A.tailMode){case"hidden":h=A.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?A.tail=null:v.sibling=null;break;case"collapsed":v=A.tail;for(var E=null;v!==null;)v.alternate!==null&&(E=v),v=v.sibling;E===null?h||A.tail===null?A.tail=null:A.tail.sibling=null:E.sibling=null}}function Ga(A){var h=A.alternate!==null&&A.alternate.child===A.child,v=0,E=0;if(h)for(var L=A.child;L!==null;)v|=L.lanes|L.childLanes,E|=L.subtreeFlags&65011712,E|=L.flags&65011712,L.return=A,L=L.sibling;else for(L=A.child;L!==null;)v|=L.lanes|L.childLanes,E|=L.subtreeFlags,E|=L.flags,L.return=A,L=L.sibling;return A.subtreeFlags|=E,A.childLanes=v,h}function fle(A,h,v){var E=h.pendingProps;switch(tm(h),h.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(h),null;case 1:return Ga(h),null;case 3:return v=h.stateNode,E=null,A!==null&&(E=A.memoizedState.cache),h.memoizedState.cache!==E&&(h.flags|=2048),Qc(_s),ue(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(A===null||A.child===null)&&(zi(h)?WA(h):A===null||A.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Fw())),Ga(h),null;case 26:return v=h.memoizedState,A===null?(WA(h),v!==null?(Ga(h),rL(h,v)):(Ga(h),h.flags&=-16777217)):v?v!==A.memoizedState?(WA(h),Ga(h),rL(h,v)):(Ga(h),h.flags&=-16777217):(A.memoizedProps!==E&&WA(h),Ga(h),h.flags&=-16777217),null;case 27:Ie(h),v=ie.current;var L=h.type;if(A!==null&&h.stateNode!=null)A.memoizedProps!==E&&WA(h);else{if(!E){if(h.stateNode===null)throw Error(n(166));return Ga(h),null}A=Y.current,zi(h)?jw(h):(A=r8(L,E,v),h.stateNode=A,WA(h))}return Ga(h),null;case 5:if(Ie(h),v=h.type,A!==null&&h.stateNode!=null)A.memoizedProps!==E&&WA(h);else{if(!E){if(h.stateNode===null)throw Error(n(166));return Ga(h),null}if(A=Y.current,zi(h))jw(h);else{switch(L=m2(ie.current),A){case 1:A=L.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:A=L.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":A=L.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":A=L.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":A=L.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof E.is=="string"?L.createElement("select",{is:E.is}):L.createElement("select"),E.multiple?A.multiple=!0:E.size&&(A.size=E.size);break;default:A=typeof E.is=="string"?L.createElement(v,{is:E.is}):L.createElement(v)}}A[wn]=h,A[An]=E;e:for(L=h.child;L!==null;){if(L.tag===5||L.tag===6)A.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===h)break e;for(;L.sibling===null;){if(L.return===null||L.return===h)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}h.stateNode=A;e:switch(qi(A,v,E),v){case"button":case"input":case"select":case"textarea":A=!!E.autoFocus;break e;case"img":A=!0;break e;default:A=!1}A&&WA(h)}}return Ga(h),h.flags&=-16777217,null;case 6:if(A&&h.stateNode!=null)A.memoizedProps!==E&&WA(h);else{if(typeof E!="string"&&h.stateNode===null)throw Error(n(166));if(A=ie.current,zi(h)){if(A=h.stateNode,v=h.memoizedProps,E=null,L=Es,L!==null)switch(L.tag){case 27:case 5:E=L.memoizedProps}A[wn]=h,A=!!(A.nodeValue===v||E!==null&&E.suppressHydrationWarning===!0||WL(A.nodeValue,v)),A||QA(h)}else A=m2(A).createTextNode(E),A[wn]=h,h.stateNode=A}return Ga(h),null;case 13:if(E=h.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(L=zi(h),E!==null&&E.dehydrated!==null){if(A===null){if(!L)throw Error(n(318));if(L=h.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(n(317));L[wn]=h}else qo(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Ga(h),L=!1}else L=Fw(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=L),L=!0;if(!L)return h.flags&256?(GA(h),h):(GA(h),null)}if(GA(h),(h.flags&128)!==0)return h.lanes=v,h;if(v=E!==null,A=A!==null&&A.memoizedState!==null,v){E=h.child,L=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(L=E.alternate.memoizedState.cachePool.pool);var H=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(H=E.memoizedState.cachePool.pool),H!==L&&(E.flags|=2048)}return v!==A&&v&&(h.child.flags|=8192),r2(h,h.updateQueue),Ga(h),null;case 4:return ue(),A===null&&R4(h.stateNode.containerInfo),Ga(h),null;case 10:return Qc(h.type),Ga(h),null;case 19:if(P(ui),L=h.memoizedState,L===null)return Ga(h),null;if(E=(h.flags&128)!==0,H=L.rendering,H===null)if(E)Jx(L,!1);else{if(ls!==0||A!==null&&(A.flags&128)!==0)for(A=h.child;A!==null;){if(H=Yw(A),H!==null){for(h.flags|=128,Jx(L,!1),A=H.updateQueue,h.updateQueue=A,r2(h,A),h.subtreeFlags=0,A=v,v=h.child;v!==null;)J0(v,A),v=v.sibling;return G(ui,ui.current&1|2),h.child}A=A.sibling}L.tail!==null&&je()>s2&&(h.flags|=128,E=!0,Jx(L,!1),h.lanes=4194304)}else{if(!E)if(A=Yw(H),A!==null){if(h.flags|=128,E=!0,A=A.updateQueue,h.updateQueue=A,r2(h,A),Jx(L,!0),L.tail===null&&L.tailMode==="hidden"&&!H.alternate&&!Tn)return Ga(h),null}else 2*je()-L.renderingStartTime>s2&&v!==536870912&&(h.flags|=128,E=!0,Jx(L,!1),h.lanes=4194304);L.isBackwards?(H.sibling=h.child,h.child=H):(A=L.last,A!==null?A.sibling=H:h.child=H,L.last=H)}return L.tail!==null?(h=L.tail,L.rendering=h,L.tail=h.sibling,L.renderingStartTime=je(),h.sibling=null,A=ui.current,G(ui,E?A&1|2:A&1),h):(Ga(h),null);case 22:case 23:return GA(h),Ur(),E=h.memoizedState!==null,A!==null?A.memoizedState!==null!==E&&(h.flags|=8192):E&&(h.flags|=8192),E?(v&536870912)!==0&&(h.flags&128)===0&&(Ga(h),h.subtreeFlags&6&&(h.flags|=8192)):Ga(h),v=h.updateQueue,v!==null&&r2(h,v.retryQueue),v=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(v=A.memoizedState.cachePool.pool),E=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(E=h.memoizedState.cachePool.pool),E!==v&&(h.flags|=2048),A!==null&&P(U),null;case 24:return v=null,A!==null&&(v=A.memoizedState.cache),h.memoizedState.cache!==v&&(h.flags|=2048),Qc(_s),Ga(h),null;case 25:return null;case 30:return null}throw Error(n(156,h.tag))}function hle(A,h){switch(tm(h),h.tag){case 1:return A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 3:return Qc(_s),ue(),A=h.flags,(A&65536)!==0&&(A&128)===0?(h.flags=A&-65537|128,h):null;case 26:case 27:case 5:return Ie(h),null;case 13:if(GA(h),A=h.memoizedState,A!==null&&A.dehydrated!==null){if(h.alternate===null)throw Error(n(340));qo()}return A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 19:return P(ui),null;case 4:return ue(),null;case 10:return Qc(h.type),null;case 22:case 23:return GA(h),Ur(),A!==null&&P(U),A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 24:return Qc(_s),null;case 25:return null;default:return null}}function nL(A,h){switch(tm(h),h.tag){case 3:Qc(_s),ue();break;case 26:case 27:case 5:Ie(h);break;case 4:ue();break;case 13:GA(h);break;case 19:P(ui);break;case 10:Qc(h.type);break;case 22:case 23:GA(h),Ur(),A!==null&&P(U);break;case 24:Qc(_s)}}function Zx(A,h){try{var v=h.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var L=E.next;v=L;do{if((v.tag&A)===A){E=void 0;var H=v.create,oe=v.inst;E=H(),oe.destroy=E}v=v.next}while(v!==L)}}catch(xe){ba(h,h.return,xe)}}function ph(A,h,v){try{var E=h.updateQueue,L=E!==null?E.lastEffect:null;if(L!==null){var H=L.next;E=H;do{if((E.tag&A)===A){var oe=E.inst,xe=oe.destroy;if(xe!==void 0){oe.destroy=void 0,L=h;var Oe=v,nt=xe;try{nt()}catch(mt){ba(L,Oe,mt)}}}E=E.next}while(E!==H)}}catch(mt){ba(h,h.return,mt)}}function aL(A){var h=A.updateQueue;if(h!==null){var v=A.stateNode;try{Dn(h,v)}catch(E){ba(A,A.return,E)}}}function sL(A,h,v){v.props=hm(A.type,A.memoizedProps),v.state=A.memoizedState;try{v.componentWillUnmount()}catch(E){ba(A,h,E)}}function e1(A,h){try{var v=A.ref;if(v!==null){switch(A.tag){case 26:case 27:case 5:var E=A.stateNode;break;case 30:E=A.stateNode;break;default:E=A.stateNode}typeof v=="function"?A.refCleanup=v(E):v.current=E}}catch(L){ba(A,h,L)}}function Ud(A,h){var v=A.ref,E=A.refCleanup;if(v!==null)if(typeof E=="function")try{E()}catch(L){ba(A,h,L)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(L){ba(A,h,L)}else v.current=null}function iL(A){var h=A.type,v=A.memoizedProps,E=A.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":v.autoFocus&&E.focus();break e;case"img":v.src?E.src=v.src:v.srcSet&&(E.srcset=v.srcSet)}}catch(L){ba(A,A.return,L)}}function f4(A,h,v){try{var E=A.stateNode;Dle(E,A.type,v,h),E[An]=h}catch(L){ba(A,A.return,L)}}function oL(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&Ch(A.type)||A.tag===4}function h4(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||oL(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&Ch(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function m4(A,h,v){var E=A.tag;if(E===5||E===6)A=A.stateNode,h?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(A,h):(h=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,h.appendChild(A),v=v._reactRootContainer,v!=null||h.onclick!==null||(h.onclick=h2));else if(E!==4&&(E===27&&Ch(A.type)&&(v=A.stateNode,h=null),A=A.child,A!==null))for(m4(A,h,v),A=A.sibling;A!==null;)m4(A,h,v),A=A.sibling}function n2(A,h,v){var E=A.tag;if(E===5||E===6)A=A.stateNode,h?v.insertBefore(A,h):v.appendChild(A);else if(E!==4&&(E===27&&Ch(A.type)&&(v=A.stateNode),A=A.child,A!==null))for(n2(A,h,v),A=A.sibling;A!==null;)n2(A,h,v),A=A.sibling}function lL(A){var h=A.stateNode,v=A.memoizedProps;try{for(var E=A.type,L=h.attributes;L.length;)h.removeAttributeNode(L[0]);qi(h,E,v),h[wn]=A,h[An]=v}catch(H){ba(A,A.return,H)}}var XA=!1,Ns=!1,p4=!1,cL=typeof WeakSet=="function"?WeakSet:Set,Ni=null;function mle(A,h){if(A=A.containerInfo,M4=y2,A=Vi(A),ci(A)){if("selectionStart"in A)var v={start:A.selectionStart,end:A.selectionEnd};else e:{v=(v=A.ownerDocument)&&v.defaultView||window;var E=v.getSelection&&v.getSelection();if(E&&E.rangeCount!==0){v=E.anchorNode;var L=E.anchorOffset,H=E.focusNode;E=E.focusOffset;try{v.nodeType,H.nodeType}catch{v=null;break e}var oe=0,xe=-1,Oe=-1,nt=0,mt=0,_t=A,it=null;t:for(;;){for(var lt;_t!==v||L!==0&&_t.nodeType!==3||(xe=oe+L),_t!==H||E!==0&&_t.nodeType!==3||(Oe=oe+E),_t.nodeType===3&&(oe+=_t.nodeValue.length),(lt=_t.firstChild)!==null;)it=_t,_t=lt;for(;;){if(_t===A)break t;if(it===v&&++nt===L&&(xe=oe),it===H&&++mt===E&&(Oe=oe),(lt=_t.nextSibling)!==null)break;_t=it,it=_t.parentNode}_t=lt}v=xe===-1||Oe===-1?null:{start:xe,end:Oe}}else v=null}v=v||{start:0,end:0}}else v=null;for(Q4={focusedElem:A,selectionRange:v},y2=!1,Ni=h;Ni!==null;)if(h=Ni,A=h.child,(h.subtreeFlags&1024)!==0&&A!==null)A.return=h,Ni=A;else for(;Ni!==null;){switch(h=Ni,H=h.alternate,A=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((A&1024)!==0&&H!==null){A=void 0,v=h,L=H.memoizedProps,H=H.memoizedState,E=v.stateNode;try{var Pr=hm(v.type,L,v.elementType===v.type);A=E.getSnapshotBeforeUpdate(Pr,H),E.__reactInternalSnapshotBeforeUpdate=A}catch(Nr){ba(v,v.return,Nr)}}break;case 3:if((A&1024)!==0){if(A=h.stateNode.containerInfo,v=A.nodeType,v===9)z4(A);else if(v===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":z4(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(n(163))}if(A=h.sibling,A!==null){A.return=h.return,Ni=A;break}Ni=h.return}}function uL(A,h,v){var E=v.flags;switch(v.tag){case 0:case 11:case 15:gh(A,v),E&4&&Zx(5,v);break;case 1:if(gh(A,v),E&4)if(A=v.stateNode,h===null)try{A.componentDidMount()}catch(oe){ba(v,v.return,oe)}else{var L=hm(v.type,h.memoizedProps);h=h.memoizedState;try{A.componentDidUpdate(L,h,A.__reactInternalSnapshotBeforeUpdate)}catch(oe){ba(v,v.return,oe)}}E&64&&aL(v),E&512&&e1(v,v.return);break;case 3:if(gh(A,v),E&64&&(A=v.updateQueue,A!==null)){if(h=null,v.child!==null)switch(v.child.tag){case 27:case 5:h=v.child.stateNode;break;case 1:h=v.child.stateNode}try{Dn(A,h)}catch(oe){ba(v,v.return,oe)}}break;case 27:h===null&&E&4&&lL(v);case 26:case 5:gh(A,v),h===null&&E&4&&iL(v),E&512&&e1(v,v.return);break;case 12:gh(A,v);break;case 13:gh(A,v),E&4&&fL(A,v),E&64&&(A=v.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(v=Cle.bind(null,v),Hle(A,v))));break;case 22:if(E=v.memoizedState!==null||XA,!E){h=h!==null&&h.memoizedState!==null||Ns,L=XA;var H=Ns;XA=E,(Ns=h)&&!H?vh(A,v,(v.subtreeFlags&8772)!==0):gh(A,v),XA=L,Ns=H}break;case 30:break;default:gh(A,v)}}function dL(A){var h=A.alternate;h!==null&&(A.alternate=null,dL(h)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(h=A.stateNode,h!==null&&Ee(h)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var Ua=null,yl=!1;function YA(A,h,v){for(v=v.child;v!==null;)AL(A,h,v),v=v.sibling}function AL(A,h,v){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Pt,v)}catch{}switch(v.tag){case 26:Ns||Ud(v,h),YA(A,h,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:Ns||Ud(v,h);var E=Ua,L=yl;Ch(v.type)&&(Ua=v.stateNode,yl=!1),YA(A,h,v),c1(v.stateNode),Ua=E,yl=L;break;case 5:Ns||Ud(v,h);case 6:if(E=Ua,L=yl,Ua=null,YA(A,h,v),Ua=E,yl=L,Ua!==null)if(yl)try{(Ua.nodeType===9?Ua.body:Ua.nodeName==="HTML"?Ua.ownerDocument.body:Ua).removeChild(v.stateNode)}catch(H){ba(v,h,H)}else try{Ua.removeChild(v.stateNode)}catch(H){ba(v,h,H)}break;case 18:Ua!==null&&(yl?(A=Ua,e8(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,v.stateNode),g1(A)):e8(Ua,v.stateNode));break;case 4:E=Ua,L=yl,Ua=v.stateNode.containerInfo,yl=!0,YA(A,h,v),Ua=E,yl=L;break;case 0:case 11:case 14:case 15:Ns||ph(2,v,h),Ns||ph(4,v,h),YA(A,h,v);break;case 1:Ns||(Ud(v,h),E=v.stateNode,typeof E.componentWillUnmount=="function"&&sL(v,h,E)),YA(A,h,v);break;case 21:YA(A,h,v);break;case 22:Ns=(E=Ns)||v.memoizedState!==null,YA(A,h,v),Ns=E;break;default:YA(A,h,v)}}function fL(A,h){if(h.memoizedState===null&&(A=h.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{g1(A)}catch(v){ba(h,h.return,v)}}function ple(A){switch(A.tag){case 13:case 19:var h=A.stateNode;return h===null&&(h=A.stateNode=new cL),h;case 22:return A=A.stateNode,h=A._retryCache,h===null&&(h=A._retryCache=new cL),h;default:throw Error(n(435,A.tag))}}function g4(A,h){var v=ple(A);h.forEach(function(E){var L=_le.bind(null,A,E);v.has(E)||(v.add(E),E.then(L,L))})}function Xl(A,h){var v=h.deletions;if(v!==null)for(var E=0;E<v.length;E++){var L=v[E],H=A,oe=h,xe=oe;e:for(;xe!==null;){switch(xe.tag){case 27:if(Ch(xe.type)){Ua=xe.stateNode,yl=!1;break e}break;case 5:Ua=xe.stateNode,yl=!1;break e;case 3:case 4:Ua=xe.stateNode.containerInfo,yl=!0;break e}xe=xe.return}if(Ua===null)throw Error(n(160));AL(H,oe,L),Ua=null,yl=!1,H=L.alternate,H!==null&&(H.return=null),L.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)hL(h,A),h=h.sibling}var Hu=null;function hL(A,h){var v=A.alternate,E=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:Xl(h,A),Yl(A),E&4&&(ph(3,A,A.return),Zx(3,A),ph(5,A,A.return));break;case 1:Xl(h,A),Yl(A),E&512&&(Ns||v===null||Ud(v,v.return)),E&64&&XA&&(A=A.updateQueue,A!==null&&(E=A.callbacks,E!==null&&(v=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=v===null?E:v.concat(E))));break;case 26:var L=Hu;if(Xl(h,A),Yl(A),E&512&&(Ns||v===null||Ud(v,v.return)),E&4){var H=v!==null?v.memoizedState:null;if(E=A.memoizedState,v===null)if(E===null)if(A.stateNode===null){e:{E=A.type,v=A.memoizedProps,L=L.ownerDocument||L;t:switch(E){case"title":H=L.getElementsByTagName("title")[0],(!H||H[we]||H[wn]||H.namespaceURI==="http://www.w3.org/2000/svg"||H.hasAttribute("itemprop"))&&(H=L.createElement(E),L.head.insertBefore(H,L.querySelector("head > title"))),qi(H,E,v),H[wn]=A,$e(H),E=H;break e;case"link":var oe=l8("link","href",L).get(E+(v.href||""));if(oe){for(var xe=0;xe<oe.length;xe++)if(H=oe[xe],H.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&H.getAttribute("rel")===(v.rel==null?null:v.rel)&&H.getAttribute("title")===(v.title==null?null:v.title)&&H.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){oe.splice(xe,1);break t}}H=L.createElement(E),qi(H,E,v),L.head.appendChild(H);break;case"meta":if(oe=l8("meta","content",L).get(E+(v.content||""))){for(xe=0;xe<oe.length;xe++)if(H=oe[xe],H.getAttribute("content")===(v.content==null?null:""+v.content)&&H.getAttribute("name")===(v.name==null?null:v.name)&&H.getAttribute("property")===(v.property==null?null:v.property)&&H.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&H.getAttribute("charset")===(v.charSet==null?null:v.charSet)){oe.splice(xe,1);break t}}H=L.createElement(E),qi(H,E,v),L.head.appendChild(H);break;default:throw Error(n(468,E))}H[wn]=A,$e(H),E=H}A.stateNode=E}else c8(L,A.type,A.stateNode);else A.stateNode=o8(L,E,A.memoizedProps);else H!==E?(H===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):H.count--,E===null?c8(L,A.type,A.stateNode):o8(L,E,A.memoizedProps)):E===null&&A.stateNode!==null&&f4(A,A.memoizedProps,v.memoizedProps)}break;case 27:Xl(h,A),Yl(A),E&512&&(Ns||v===null||Ud(v,v.return)),v!==null&&E&4&&f4(A,A.memoizedProps,v.memoizedProps);break;case 5:if(Xl(h,A),Yl(A),E&512&&(Ns||v===null||Ud(v,v.return)),A.flags&32){L=A.stateNode;try{lo(L,"")}catch(lt){ba(A,A.return,lt)}}E&4&&A.stateNode!=null&&(L=A.memoizedProps,f4(A,L,v!==null?v.memoizedProps:L)),E&1024&&(p4=!0);break;case 6:if(Xl(h,A),Yl(A),E&4){if(A.stateNode===null)throw Error(n(162));E=A.memoizedProps,v=A.stateNode;try{v.nodeValue=E}catch(lt){ba(A,A.return,lt)}}break;case 3:if(v2=null,L=Hu,Hu=p2(h.containerInfo),Xl(h,A),Hu=L,Yl(A),E&4&&v!==null&&v.memoizedState.isDehydrated)try{g1(h.containerInfo)}catch(lt){ba(A,A.return,lt)}p4&&(p4=!1,mL(A));break;case 4:E=Hu,Hu=p2(A.stateNode.containerInfo),Xl(h,A),Yl(A),Hu=E;break;case 12:Xl(h,A),Yl(A);break;case 13:Xl(h,A),Yl(A),A.child.flags&8192&&A.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(E4=je()),E&4&&(E=A.updateQueue,E!==null&&(A.updateQueue=null,g4(A,E)));break;case 22:L=A.memoizedState!==null;var Oe=v!==null&&v.memoizedState!==null,nt=XA,mt=Ns;if(XA=nt||L,Ns=mt||Oe,Xl(h,A),Ns=mt,XA=nt,Yl(A),E&8192)e:for(h=A.stateNode,h._visibility=L?h._visibility&-2:h._visibility|1,L&&(v===null||Oe||XA||Ns||mm(A)),v=null,h=A;;){if(h.tag===5||h.tag===26){if(v===null){Oe=v=h;try{if(H=Oe.stateNode,L)oe=H.style,typeof oe.setProperty=="function"?oe.setProperty("display","none","important"):oe.display="none";else{xe=Oe.stateNode;var _t=Oe.memoizedProps.style,it=_t!=null&&_t.hasOwnProperty("display")?_t.display:null;xe.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(lt){ba(Oe,Oe.return,lt)}}}else if(h.tag===6){if(v===null){Oe=h;try{Oe.stateNode.nodeValue=L?"":Oe.memoizedProps}catch(lt){ba(Oe,Oe.return,lt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===A)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===A)break e;for(;h.sibling===null;){if(h.return===null||h.return===A)break e;v===h&&(v=null),h=h.return}v===h&&(v=null),h.sibling.return=h.return,h=h.sibling}E&4&&(E=A.updateQueue,E!==null&&(v=E.retryQueue,v!==null&&(E.retryQueue=null,g4(A,v))));break;case 19:Xl(h,A),Yl(A),E&4&&(E=A.updateQueue,E!==null&&(A.updateQueue=null,g4(A,E)));break;case 30:break;case 21:break;default:Xl(h,A),Yl(A)}}function Yl(A){var h=A.flags;if(h&2){try{for(var v,E=A.return;E!==null;){if(oL(E)){v=E;break}E=E.return}if(v==null)throw Error(n(160));switch(v.tag){case 27:var L=v.stateNode,H=h4(A);n2(A,H,L);break;case 5:var oe=v.stateNode;v.flags&32&&(lo(oe,""),v.flags&=-33);var xe=h4(A);n2(A,xe,oe);break;case 3:case 4:var Oe=v.stateNode.containerInfo,nt=h4(A);m4(A,nt,Oe);break;default:throw Error(n(161))}}catch(mt){ba(A,A.return,mt)}A.flags&=-3}h&4096&&(A.flags&=-4097)}function mL(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var h=A;mL(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),A=A.sibling}}function gh(A,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)uL(A,h.alternate,h),h=h.sibling}function mm(A){for(A=A.child;A!==null;){var h=A;switch(h.tag){case 0:case 11:case 14:case 15:ph(4,h,h.return),mm(h);break;case 1:Ud(h,h.return);var v=h.stateNode;typeof v.componentWillUnmount=="function"&&sL(h,h.return,v),mm(h);break;case 27:c1(h.stateNode);case 26:case 5:Ud(h,h.return),mm(h);break;case 22:h.memoizedState===null&&mm(h);break;case 30:mm(h);break;default:mm(h)}A=A.sibling}}function vh(A,h,v){for(v=v&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var E=h.alternate,L=A,H=h,oe=H.flags;switch(H.tag){case 0:case 11:case 15:vh(L,H,v),Zx(4,H);break;case 1:if(vh(L,H,v),E=H,L=E.stateNode,typeof L.componentDidMount=="function")try{L.componentDidMount()}catch(nt){ba(E,E.return,nt)}if(E=H,L=E.updateQueue,L!==null){var xe=E.stateNode;try{var Oe=L.shared.hiddenCallbacks;if(Oe!==null)for(L.shared.hiddenCallbacks=null,L=0;L<Oe.length;L++)_n(Oe[L],xe)}catch(nt){ba(E,E.return,nt)}}v&&oe&64&&aL(H),e1(H,H.return);break;case 27:lL(H);case 26:case 5:vh(L,H,v),v&&E===null&&oe&4&&iL(H),e1(H,H.return);break;case 12:vh(L,H,v);break;case 13:vh(L,H,v),v&&oe&4&&fL(L,H);break;case 22:H.memoizedState===null&&vh(L,H,v),e1(H,H.return);break;case 30:break;default:vh(L,H,v)}h=h.sibling}}function v4(A,h){var v=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(v=A.memoizedState.cachePool.pool),A=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(A=h.memoizedState.cachePool.pool),A!==v&&(A!=null&&A.refCount++,v!=null&&rm(v))}function x4(A,h){A=null,h.alternate!==null&&(A=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==A&&(h.refCount++,A!=null&&rm(A))}function Md(A,h,v,E){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)pL(A,h,v,E),h=h.sibling}function pL(A,h,v,E){var L=h.flags;switch(h.tag){case 0:case 11:case 15:Md(A,h,v,E),L&2048&&Zx(9,h);break;case 1:Md(A,h,v,E);break;case 3:Md(A,h,v,E),L&2048&&(A=null,h.alternate!==null&&(A=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==A&&(h.refCount++,A!=null&&rm(A)));break;case 12:if(L&2048){Md(A,h,v,E),A=h.stateNode;try{var H=h.memoizedProps,oe=H.id,xe=H.onPostCommit;typeof xe=="function"&&xe(oe,h.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch(Oe){ba(h,h.return,Oe)}}else Md(A,h,v,E);break;case 13:Md(A,h,v,E);break;case 23:break;case 22:H=h.stateNode,oe=h.alternate,h.memoizedState!==null?H._visibility&2?Md(A,h,v,E):t1(A,h):H._visibility&2?Md(A,h,v,E):(H._visibility|=2,eg(A,h,v,E,(h.subtreeFlags&10256)!==0)),L&2048&&v4(oe,h);break;case 24:Md(A,h,v,E),L&2048&&x4(h.alternate,h);break;default:Md(A,h,v,E)}}function eg(A,h,v,E,L){for(L=L&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var H=A,oe=h,xe=v,Oe=E,nt=oe.flags;switch(oe.tag){case 0:case 11:case 15:eg(H,oe,xe,Oe,L),Zx(8,oe);break;case 23:break;case 22:var mt=oe.stateNode;oe.memoizedState!==null?mt._visibility&2?eg(H,oe,xe,Oe,L):t1(H,oe):(mt._visibility|=2,eg(H,oe,xe,Oe,L)),L&&nt&2048&&v4(oe.alternate,oe);break;case 24:eg(H,oe,xe,Oe,L),L&&nt&2048&&x4(oe.alternate,oe);break;default:eg(H,oe,xe,Oe,L)}h=h.sibling}}function t1(A,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var v=A,E=h,L=E.flags;switch(E.tag){case 22:t1(v,E),L&2048&&v4(E.alternate,E);break;case 24:t1(v,E),L&2048&&x4(E.alternate,E);break;default:t1(v,E)}h=h.sibling}}var r1=8192;function tg(A){if(A.subtreeFlags&r1)for(A=A.child;A!==null;)gL(A),A=A.sibling}function gL(A){switch(A.tag){case 26:tg(A),A.flags&r1&&A.memoizedState!==null&&tce(Hu,A.memoizedState,A.memoizedProps);break;case 5:tg(A);break;case 3:case 4:var h=Hu;Hu=p2(A.stateNode.containerInfo),tg(A),Hu=h;break;case 22:A.memoizedState===null&&(h=A.alternate,h!==null&&h.memoizedState!==null?(h=r1,r1=16777216,tg(A),r1=h):tg(A));break;default:tg(A)}}function vL(A){var h=A.alternate;if(h!==null&&(A=h.child,A!==null)){h.child=null;do h=A.sibling,A.sibling=null,A=h;while(A!==null)}}function n1(A){var h=A.deletions;if((A.flags&16)!==0){if(h!==null)for(var v=0;v<h.length;v++){var E=h[v];Ni=E,bL(E,A)}vL(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)xL(A),A=A.sibling}function xL(A){switch(A.tag){case 0:case 11:case 15:n1(A),A.flags&2048&&ph(9,A,A.return);break;case 3:n1(A);break;case 12:n1(A);break;case 22:var h=A.stateNode;A.memoizedState!==null&&h._visibility&2&&(A.return===null||A.return.tag!==13)?(h._visibility&=-3,a2(A)):n1(A);break;default:n1(A)}}function a2(A){var h=A.deletions;if((A.flags&16)!==0){if(h!==null)for(var v=0;v<h.length;v++){var E=h[v];Ni=E,bL(E,A)}vL(A)}for(A=A.child;A!==null;){switch(h=A,h.tag){case 0:case 11:case 15:ph(8,h,h.return),a2(h);break;case 22:v=h.stateNode,v._visibility&2&&(v._visibility&=-3,a2(h));break;default:a2(h)}A=A.sibling}}function bL(A,h){for(;Ni!==null;){var v=Ni;switch(v.tag){case 0:case 11:case 15:ph(8,v,h);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var E=v.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:rm(v.memoizedState.cache)}if(E=v.child,E!==null)E.return=v,Ni=E;else e:for(v=A;Ni!==null;){E=Ni;var L=E.sibling,H=E.return;if(dL(E),E===v){Ni=null;break e}if(L!==null){L.return=H,Ni=L;break e}Ni=H}}}var gle={getCacheForType:function(A){var h=Cs(_s),v=h.data.get(A);return v===void 0&&(v=A(),h.data.set(A,v)),v}},vle=typeof WeakMap=="function"?WeakMap:Map,na=0,_a=null,fn=null,Nn=0,aa=0,Jl=null,xh=!1,rg=!1,b4=!1,JA=0,ls=0,bh=0,pm=0,y4=0,$c=0,ng=0,a1=null,wl=null,w4=!1,E4=0,s2=1/0,i2=null,yh=null,Gi=0,wh=null,ag=null,sg=0,C4=0,_4=null,yL=null,s1=0,S4=null;function Zl(){if((na&2)!==0&&Nn!==0)return Nn&-Nn;if(W.T!==null){var A=HA;return A!==0?A:F4()}return Ha()}function wL(){$c===0&&($c=(Nn&536870912)===0||Tn?yn():536870912);var A=zc.current;return A!==null&&(A.flags|=32),$c}function ec(A,h,v){(A===_a&&(aa===2||aa===9)||A.cancelPendingCommit!==null)&&(ig(A,0),Eh(A,Nn,$c,!1)),Zn(A,v),((na&2)===0||A!==_a)&&(A===_a&&((na&2)===0&&(pm|=v),ls===4&&Eh(A,Nn,$c,!1)),Qd(A))}function EL(A,h,v){if((na&6)!==0)throw Error(n(327));var E=!v&&(h&124)===0&&(h&A.expiredLanes)===0||Vr(A,h),L=E?yle(A,h):k4(A,h,!0),H=E;do{if(L===0){rg&&!E&&Eh(A,h,0,!1);break}else{if(v=A.current.alternate,H&&!xle(v)){L=k4(A,h,!1),H=!1;continue}if(L===2){if(H=h,A.errorRecoveryDisabledLanes&H)var oe=0;else oe=A.pendingLanes&-536870913,oe=oe!==0?oe:oe&536870912?536870912:0;if(oe!==0){h=oe;e:{var xe=A;L=a1;var Oe=xe.current.memoizedState.isDehydrated;if(Oe&&(ig(xe,oe).flags|=256),oe=k4(xe,oe,!1),oe!==2){if(b4&&!Oe){xe.errorRecoveryDisabledLanes|=H,pm|=H,L=4;break e}H=wl,wl=L,H!==null&&(wl===null?wl=H:wl.push.apply(wl,H))}L=oe}if(H=!1,L!==2)continue}}if(L===1){ig(A,0),Eh(A,h,0,!0);break}e:{switch(E=A,H=L,H){case 0:case 1:throw Error(n(345));case 4:if((h&4194048)!==h)break;case 6:Eh(E,h,$c,!xh);break e;case 2:wl=null;break;case 3:case 5:break;default:throw Error(n(329))}if((h&62914560)===h&&(L=E4+300-je(),10<L)){if(Eh(E,h,$c,!xh),Rt(E,0,!0)!==0)break e;E.timeoutHandle=JL(CL.bind(null,E,v,wl,i2,w4,h,$c,pm,ng,xh,H,2,-0,0),L);break e}CL(E,v,wl,i2,w4,h,$c,pm,ng,xh,H,0,-0,0)}}break}while(!0);Qd(A)}function CL(A,h,v,E,L,H,oe,xe,Oe,nt,mt,_t,it,lt){if(A.timeoutHandle=-1,_t=h.subtreeFlags,(_t&8192||(_t&16785408)===16785408)&&(A1={stylesheets:null,count:0,unsuspend:ece},gL(h),_t=rce(),_t!==null)){A.cancelPendingCommit=_t(IL.bind(null,A,h,H,v,E,L,oe,xe,Oe,mt,1,it,lt)),Eh(A,H,oe,!nt);return}IL(A,h,H,v,E,L,oe,xe,Oe)}function xle(A){for(var h=A;;){var v=h.tag;if((v===0||v===11||v===15)&&h.flags&16384&&(v=h.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var E=0;E<v.length;E++){var L=v[E],H=L.getSnapshot;L=L.value;try{if(!Qs(H(),L))return!1}catch{return!1}}if(v=h.child,h.subtreeFlags&16384&&v!==null)v.return=h,h=v;else{if(h===A)break;for(;h.sibling===null;){if(h.return===null||h.return===A)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Eh(A,h,v,E){h&=~y4,h&=~pm,A.suspendedLanes|=h,A.pingedLanes&=~h,E&&(A.warmLanes|=h),E=A.expirationTimes;for(var L=h;0<L;){var H=31-De(L),oe=1<<H;E[H]=-1,L&=~oe}v!==0&&Zt(A,v,h)}function o2(){return(na&6)===0?(i1(0),!1):!0}function N4(){if(fn!==null){if(aa===0)var A=fn.return;else A=fn,Pu=Vs=null,Kp(A),Jp=null,Xx=0,A=fn;for(;A!==null;)nL(A.alternate,A),A=A.return;fn=null}}function ig(A,h){var v=A.timeoutHandle;v!==-1&&(A.timeoutHandle=-1,Rle(v)),v=A.cancelPendingCommit,v!==null&&(A.cancelPendingCommit=null,v()),N4(),_a=A,fn=v=Lc(A.current,null),Nn=h,aa=0,Jl=null,xh=!1,rg=Vr(A,h),b4=!1,ng=$c=y4=pm=bh=ls=0,wl=a1=null,w4=!1,(h&8)!==0&&(h|=h&32);var E=A.entangledLanes;if(E!==0)for(A=A.entanglements,E&=h;0<E;){var L=31-De(E),H=1<<L;h|=A[L],E&=~H}return JA=h,gl(),v}function _L(A,h){wr=null,W.H=qw,h===fe||h===ge?(h=Ge(),aa=3):h===he?(h=Ge(),aa=4):aa=h===VR?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Jl=h,fn===null&&(ls=1,Zw(A,rn(h,A.current)))}function SL(){var A=W.H;return W.H=qw,A===null?qw:A}function NL(){var A=W.A;return W.A=gle,A}function B4(){ls=4,xh||(Nn&4194048)!==Nn&&zc.current!==null||(rg=!0),(bh&134217727)===0&&(pm&134217727)===0||_a===null||Eh(_a,Nn,$c,!1)}function k4(A,h,v){var E=na;na|=2;var L=SL(),H=NL();(_a!==A||Nn!==h)&&(i2=null,ig(A,h)),h=!1;var oe=ls;e:do try{if(aa!==0&&fn!==null){var xe=fn,Oe=Jl;switch(aa){case 8:N4(),oe=6;break e;case 3:case 2:case 9:case 6:zc.current===null&&(h=!0);var nt=aa;if(aa=0,Jl=null,og(A,xe,Oe,nt),v&&rg){oe=0;break e}break;default:nt=aa,aa=0,Jl=null,og(A,xe,Oe,nt)}}ble(),oe=ls;break}catch(mt){_L(A,mt)}while(!0);return h&&A.shellSuspendCounter++,Pu=Vs=null,na=E,W.H=L,W.A=H,fn===null&&(_a=null,Nn=0,gl()),oe}function ble(){for(;fn!==null;)BL(fn)}function yle(A,h){var v=na;na|=2;var E=SL(),L=NL();_a!==A||Nn!==h?(i2=null,s2=je()+500,ig(A,h)):rg=Vr(A,h);e:do try{if(aa!==0&&fn!==null){h=fn;var H=Jl;t:switch(aa){case 1:aa=0,Jl=null,og(A,h,H,1);break;case 2:case 9:if(_e(H)){aa=0,Jl=null,kL(h);break}h=function(){aa!==2&&aa!==9||_a!==A||(aa=7),Qd(A)},H.then(h,h);break e;case 3:aa=7;break e;case 4:aa=5;break e;case 7:_e(H)?(aa=0,Jl=null,kL(h)):(aa=0,Jl=null,og(A,h,H,7));break;case 5:var oe=null;switch(fn.tag){case 26:oe=fn.memoizedState;case 5:case 27:var xe=fn;if(!oe||u8(oe)){aa=0,Jl=null;var Oe=xe.sibling;if(Oe!==null)fn=Oe;else{var nt=xe.return;nt!==null?(fn=nt,l2(nt)):fn=null}break t}}aa=0,Jl=null,og(A,h,H,5);break;case 6:aa=0,Jl=null,og(A,h,H,6);break;case 8:N4(),ls=6;break e;default:throw Error(n(462))}}wle();break}catch(mt){_L(A,mt)}while(!0);return Pu=Vs=null,W.H=E,W.A=L,na=v,fn!==null?0:(_a=null,Nn=0,gl(),ls)}function wle(){for(;fn!==null&&!ke();)BL(fn)}function BL(A){var h=tL(A.alternate,A,JA);A.memoizedProps=A.pendingProps,h===null?l2(A):fn=h}function kL(A){var h=A,v=h.alternate;switch(h.tag){case 15:case 0:h=WR(v,h,h.pendingProps,h.type,void 0,Nn);break;case 11:h=WR(v,h,h.pendingProps,h.type.render,h.ref,Nn);break;case 5:Kp(h);default:nL(v,h),h=fn=J0(h,JA),h=tL(v,h,JA)}A.memoizedProps=A.pendingProps,h===null?l2(A):fn=h}function og(A,h,v,E){Pu=Vs=null,Kp(h),Jp=null,Xx=0;var L=h.return;try{if(dle(A,L,h,v,Nn)){ls=1,Zw(A,rn(v,A.current)),fn=null;return}}catch(H){if(L!==null)throw fn=L,H;ls=1,Zw(A,rn(v,A.current)),fn=null;return}h.flags&32768?(Tn||E===1?A=!0:rg||(Nn&536870912)!==0?A=!1:(xh=A=!0,(E===2||E===9||E===3||E===6)&&(E=zc.current,E!==null&&E.tag===13&&(E.flags|=16384))),TL(h,A)):l2(h)}function l2(A){var h=A;do{if((h.flags&32768)!==0){TL(h,xh);return}A=h.return;var v=fle(h.alternate,h,JA);if(v!==null){fn=v;return}if(h=h.sibling,h!==null){fn=h;return}fn=h=A}while(h!==null);ls===0&&(ls=5)}function TL(A,h){do{var v=hle(A.alternate,A);if(v!==null){v.flags&=32767,fn=v;return}if(v=A.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!h&&(A=A.sibling,A!==null)){fn=A;return}fn=A=v}while(A!==null);ls=6,fn=null}function IL(A,h,v,E,L,H,oe,xe,Oe){A.cancelPendingCommit=null;do c2();while(Gi!==0);if((na&6)!==0)throw Error(n(327));if(h!==null){if(h===A.current)throw Error(n(177));if(H=h.lanes|h.childLanes,H|=za,or(A,v,H,oe,xe,Oe),A===_a&&(fn=_a=null,Nn=0),ag=h,wh=A,sg=v,C4=H,_4=L,yL=E,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,Sle(Et,function(){return PL(),null})):(A.callbackNode=null,A.callbackPriority=0),E=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||E){E=W.T,W.T=null,L=Z.p,Z.p=2,oe=na,na|=4;try{mle(A,h,v)}finally{na=oe,Z.p=L,W.T=E}}Gi=1,jL(),FL(),OL()}}function jL(){if(Gi===1){Gi=0;var A=wh,h=ag,v=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||v){v=W.T,W.T=null;var E=Z.p;Z.p=2;var L=na;na|=4;try{hL(h,A);var H=Q4,oe=Vi(A.containerInfo),xe=H.focusedElem,Oe=H.selectionRange;if(oe!==xe&&xe&&xe.ownerDocument&&wd(xe.ownerDocument.documentElement,xe)){if(Oe!==null&&ci(xe)){var nt=Oe.start,mt=Oe.end;if(mt===void 0&&(mt=nt),"selectionStart"in xe)xe.selectionStart=nt,xe.selectionEnd=Math.min(mt,xe.value.length);else{var _t=xe.ownerDocument||document,it=_t&&_t.defaultView||window;if(it.getSelection){var lt=it.getSelection(),Pr=xe.textContent.length,Nr=Math.min(Oe.start,Pr),ma=Oe.end===void 0?Nr:Math.min(Oe.end,Pr);!lt.extend&&Nr>ma&&(oe=ma,ma=Nr,Nr=oe);var qe=Bu(xe,Nr),Qe=Bu(xe,ma);if(qe&&Qe&&(lt.rangeCount!==1||lt.anchorNode!==qe.node||lt.anchorOffset!==qe.offset||lt.focusNode!==Qe.node||lt.focusOffset!==Qe.offset)){var Ze=_t.createRange();Ze.setStart(qe.node,qe.offset),lt.removeAllRanges(),Nr>ma?(lt.addRange(Ze),lt.extend(Qe.node,Qe.offset)):(Ze.setEnd(Qe.node,Qe.offset),lt.addRange(Ze))}}}}for(_t=[],lt=xe;lt=lt.parentNode;)lt.nodeType===1&&_t.push({element:lt,left:lt.scrollLeft,top:lt.scrollTop});for(typeof xe.focus=="function"&&xe.focus(),xe=0;xe<_t.length;xe++){var xt=_t[xe];xt.element.scrollLeft=xt.left,xt.element.scrollTop=xt.top}}y2=!!M4,Q4=M4=null}finally{na=L,Z.p=E,W.T=v}}A.current=h,Gi=2}}function FL(){if(Gi===2){Gi=0;var A=wh,h=ag,v=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||v){v=W.T,W.T=null;var E=Z.p;Z.p=2;var L=na;na|=4;try{uL(A,h.alternate,h)}finally{na=L,Z.p=E,W.T=v}}Gi=3}}function OL(){if(Gi===4||Gi===3){Gi=0,pe();var A=wh,h=ag,v=sg,E=yL;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Gi=5:(Gi=0,ag=wh=null,DL(A,A.pendingLanes));var L=A.pendingLanes;if(L===0&&(yh=null),ua(v),h=h.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Pt,h,void 0,(h.current.flags&128)===128)}catch{}if(E!==null){h=W.T,L=Z.p,Z.p=2,W.T=null;try{for(var H=A.onRecoverableError,oe=0;oe<E.length;oe++){var xe=E[oe];H(xe.value,{componentStack:xe.stack})}}finally{W.T=h,Z.p=L}}(sg&3)!==0&&c2(),Qd(A),L=A.pendingLanes,(v&4194090)!==0&&(L&42)!==0?A===S4?s1++:(s1=0,S4=A):s1=0,i1(0)}}function DL(A,h){(A.pooledCacheLanes&=h)===0&&(h=A.pooledCache,h!=null&&(A.pooledCache=null,rm(h)))}function c2(A){return jL(),FL(),OL(),PL()}function PL(){if(Gi!==5)return!1;var A=wh,h=C4;C4=0;var v=ua(sg),E=W.T,L=Z.p;try{Z.p=32>v?32:v,W.T=null,v=_4,_4=null;var H=wh,oe=sg;if(Gi=0,ag=wh=null,sg=0,(na&6)!==0)throw Error(n(331));var xe=na;if(na|=4,xL(H.current),pL(H,H.current,oe,v),na=xe,i1(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Pt,H)}catch{}return!0}finally{Z.p=L,W.T=E,DL(A,h)}}function RL(A,h,v){h=rn(v,h),h=a4(A.stateNode,h,2),A=yt(A,h,2),A!==null&&(Zn(A,2),Qd(A))}function ba(A,h,v){if(A.tag===3)RL(A,A,v);else for(;h!==null;){if(h.tag===3){RL(h,A,v);break}else if(h.tag===1){var E=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(yh===null||!yh.has(E))){A=rn(v,A),v=QR(2),E=yt(h,v,2),E!==null&&(HR(v,E,h,A),Zn(E,2),Qd(E));break}}h=h.return}}function T4(A,h,v){var E=A.pingCache;if(E===null){E=A.pingCache=new vle;var L=new Set;E.set(h,L)}else L=E.get(h),L===void 0&&(L=new Set,E.set(h,L));L.has(v)||(b4=!0,L.add(v),A=Ele.bind(null,A,h,v),h.then(A,A))}function Ele(A,h,v){var E=A.pingCache;E!==null&&E.delete(h),A.pingedLanes|=A.suspendedLanes&v,A.warmLanes&=~v,_a===A&&(Nn&v)===v&&(ls===4||ls===3&&(Nn&62914560)===Nn&&300>je()-E4?(na&2)===0&&ig(A,0):y4|=v,ng===Nn&&(ng=0)),Qd(A)}function LL(A,h){h===0&&(h=Qr()),A=Tu(A,h),A!==null&&(Zn(A,h),Qd(A))}function Cle(A){var h=A.memoizedState,v=0;h!==null&&(v=h.retryLane),LL(A,v)}function _le(A,h){var v=0;switch(A.tag){case 13:var E=A.stateNode,L=A.memoizedState;L!==null&&(v=L.retryLane);break;case 19:E=A.stateNode;break;case 22:E=A.stateNode._retryCache;break;default:throw Error(n(314))}E!==null&&E.delete(h),LL(A,v)}function Sle(A,h){return Fe(A,h)}var u2=null,lg=null,I4=!1,d2=!1,j4=!1,gm=0;function Qd(A){A!==lg&&A.next===null&&(lg===null?u2=lg=A:lg=lg.next=A),d2=!0,I4||(I4=!0,Ble())}function i1(A,h){if(!j4&&d2){j4=!0;do for(var v=!1,E=u2;E!==null;){if(A!==0){var L=E.pendingLanes;if(L===0)var H=0;else{var oe=E.suspendedLanes,xe=E.pingedLanes;H=(1<<31-De(42|A)+1)-1,H&=L&~(oe&~xe),H=H&201326741?H&201326741|1:H?H|2:0}H!==0&&(v=!0,HL(E,H))}else H=Nn,H=Rt(E,E===_a?H:0,E.cancelPendingCommit!==null||E.timeoutHandle!==-1),(H&3)===0||Vr(E,H)||(v=!0,HL(E,H));E=E.next}while(v);j4=!1}}function Nle(){UL()}function UL(){d2=I4=!1;var A=0;gm!==0&&(Ple()&&(A=gm),gm=0);for(var h=je(),v=null,E=u2;E!==null;){var L=E.next,H=ML(E,h);H===0?(E.next=null,v===null?u2=L:v.next=L,L===null&&(lg=v)):(v=E,(A!==0||(H&3)!==0)&&(d2=!0)),E=L}i1(A)}function ML(A,h){for(var v=A.suspendedLanes,E=A.pingedLanes,L=A.expirationTimes,H=A.pendingLanes&-62914561;0<H;){var oe=31-De(H),xe=1<<oe,Oe=L[oe];Oe===-1?((xe&v)===0||(xe&E)!==0)&&(L[oe]=dr(xe,h)):Oe<=h&&(A.expiredLanes|=xe),H&=~xe}if(h=_a,v=Nn,v=Rt(A,A===h?v:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),E=A.callbackNode,v===0||A===h&&(aa===2||aa===9)||A.cancelPendingCommit!==null)return E!==null&&E!==null&&Le(E),A.callbackNode=null,A.callbackPriority=0;if((v&3)===0||Vr(A,v)){if(h=v&-v,h===A.callbackPriority)return h;switch(E!==null&&Le(E),ua(v)){case 2:case 8:v=dt;break;case 32:v=Et;break;case 268435456:v=Ct;break;default:v=Et}return E=QL.bind(null,A),v=Fe(v,E),A.callbackPriority=h,A.callbackNode=v,h}return E!==null&&E!==null&&Le(E),A.callbackPriority=2,A.callbackNode=null,2}function QL(A,h){if(Gi!==0&&Gi!==5)return A.callbackNode=null,A.callbackPriority=0,null;var v=A.callbackNode;if(c2()&&A.callbackNode!==v)return null;var E=Nn;return E=Rt(A,A===_a?E:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),E===0?null:(EL(A,E,h),ML(A,je()),A.callbackNode!=null&&A.callbackNode===v?QL.bind(null,A):null)}function HL(A,h){if(c2())return null;EL(A,h,!0)}function Ble(){Lle(function(){(na&6)!==0?Fe(Xe,Nle):UL()})}function F4(){return gm===0&&(gm=yn()),gm}function VL(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:Ml(""+A)}function zL(A,h){var v=h.ownerDocument.createElement("input");return v.name=h.name,v.value=h.value,A.id&&v.setAttribute("form",A.id),h.parentNode.insertBefore(v,h),A=new FormData(A),v.parentNode.removeChild(v),A}function kle(A,h,v,E,L){if(h==="submit"&&v&&v.stateNode===L){var H=VL((L[An]||null).action),oe=E.submitter;oe&&(h=(h=oe[An]||null)?VL(h.formAction):oe.getAttribute("formAction"),h!==null&&(H=h,oe=null));var xe=new kc("action","action",null,E,L);A.push({event:xe,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(gm!==0){var Oe=oe?zL(L,oe):new FormData(L);Vc(v,{pending:!0,data:Oe,method:L.method,action:H},null,Oe)}}else typeof H=="function"&&(xe.preventDefault(),Oe=oe?zL(L,oe):new FormData(L),Vc(v,{pending:!0,data:Oe,method:L.method,action:H},H,Oe))},currentTarget:L}]})}}for(var O4=0;O4<PA.length;O4++){var D4=PA[O4],Tle=D4.toLowerCase(),Ile=D4[0].toUpperCase()+D4.slice(1);Ra(Tle,"on"+Ile)}Ra(nh,"onAnimationEnd"),Ra(Cd,"onAnimationIteration"),Ra(_d,"onAnimationStart"),Ra("dblclick","onDoubleClick"),Ra("focusin","onFocus"),Ra("focusout","onBlur"),Ra(Sd,"onTransitionRun"),Ra(DA,"onTransitionStart"),Ra(ah,"onTransitionCancel"),Ra(Nd,"onTransitionEnd"),Ot("onMouseEnter",["mouseout","mouseover"]),Ot("onMouseLeave",["mouseout","mouseover"]),Ot("onPointerEnter",["pointerout","pointerover"]),Ot("onPointerLeave",["pointerout","pointerover"]),wt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wt("onBeforeInput",["compositionend","keypress","textInput","paste"]),wt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var o1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jle=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(o1));function $L(A,h){h=(h&4)!==0;for(var v=0;v<A.length;v++){var E=A[v],L=E.event;E=E.listeners;e:{var H=void 0;if(h)for(var oe=E.length-1;0<=oe;oe--){var xe=E[oe],Oe=xe.instance,nt=xe.currentTarget;if(xe=xe.listener,Oe!==H&&L.isPropagationStopped())break e;H=xe,L.currentTarget=nt;try{H(L)}catch(mt){Jw(mt)}L.currentTarget=null,H=Oe}else for(oe=0;oe<E.length;oe++){if(xe=E[oe],Oe=xe.instance,nt=xe.currentTarget,xe=xe.listener,Oe!==H&&L.isPropagationStopped())break e;H=xe,L.currentTarget=nt;try{H(L)}catch(mt){Jw(mt)}L.currentTarget=null,H=Oe}}}}function hn(A,h){var v=h[ea];v===void 0&&(v=h[ea]=new Set);var E=A+"__bubble";v.has(E)||(KL(h,A,2,!1),v.add(E))}function P4(A,h,v){var E=0;h&&(E|=4),KL(v,A,E,h)}var A2="_reactListening"+Math.random().toString(36).slice(2);function R4(A){if(!A[A2]){A[A2]=!0,Je.forEach(function(v){v!=="selectionchange"&&(jle.has(v)||P4(v,!1,A),P4(v,!0,A))});var h=A.nodeType===9?A:A.ownerDocument;h===null||h[A2]||(h[A2]=!0,P4("selectionchange",!1,h))}}function KL(A,h,v,E){switch(p8(h)){case 2:var L=sce;break;case 8:L=ice;break;default:L=Y4}v=L.bind(null,h,v,A),L=void 0,!Hi||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(L=!0),E?L!==void 0?A.addEventListener(h,v,{capture:!0,passive:L}):A.addEventListener(h,v,!0):L!==void 0?A.addEventListener(h,v,{passive:L}):A.addEventListener(h,v,!1)}function L4(A,h,v,E,L){var H=E;if((h&1)===0&&(h&2)===0&&E!==null)e:for(;;){if(E===null)return;var oe=E.tag;if(oe===3||oe===4){var xe=E.stateNode.containerInfo;if(xe===L)break;if(oe===4)for(oe=E.return;oe!==null;){var Oe=oe.tag;if((Oe===3||Oe===4)&&oe.stateNode.containerInfo===L)return;oe=oe.return}for(;xe!==null;){if(oe=Ce(xe),oe===null)return;if(Oe=oe.tag,Oe===5||Oe===6||Oe===26||Oe===27){E=H=oe;continue e}xe=xe.parentNode}}E=E.return}Jf(function(){var nt=H,mt=ta(v),_t=[];e:{var it=ku.get(A);if(it!==void 0){var lt=kc,Pr=A;switch(A){case"keypress":if(Ao(v)===0)break e;case"keydown":case"keyup":lt=zl;break;case"focusin":Pr="focus",lt=Ic;break;case"focusout":Pr="blur",lt=Ic;break;case"beforeblur":case"afterblur":lt=Ic;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=as;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=Tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=vd;break;case nh:case Cd:case _d:lt=md;break;case Nd:lt=ce;break;case"scroll":case"scrollend":lt=kA;break;case"wheel":lt=Re;break;case"copy":case"cut":case"paste":lt=pd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=Nu;break;case"toggle":case"beforetoggle":lt=ut}var Nr=(h&4)!==0,ma=!Nr&&(A==="scroll"||A==="scrollend"),qe=Nr?it!==null?it+"Capture":null:it;Nr=[];for(var Qe=nt,Ze;Qe!==null;){var xt=Qe;if(Ze=xt.stateNode,xt=xt.tag,xt!==5&&xt!==26&&xt!==27||Ze===null||qe===null||(xt=yi(Qe,qe),xt!=null&&Nr.push(l1(Qe,xt,Ze))),ma)break;Qe=Qe.return}0<Nr.length&&(it=new lt(it,Pr,null,v,mt),_t.push({event:it,listeners:Nr}))}}if((h&7)===0){e:{if(it=A==="mouseover"||A==="pointerover",lt=A==="mouseout"||A==="pointerout",it&&v!==cl&&(Pr=v.relatedTarget||v.fromElement)&&(Ce(Pr)||Pr[Vn]))break e;if((lt||it)&&(it=mt.window===mt?mt:(it=mt.ownerDocument)?it.defaultView||it.parentWindow:window,lt?(Pr=v.relatedTarget||v.toElement,lt=nt,Pr=Pr?Ce(Pr):null,Pr!==null&&(ma=s(Pr),Nr=Pr.tag,Pr!==ma||Nr!==5&&Nr!==27&&Nr!==6)&&(Pr=null)):(lt=null,Pr=nt),lt!==Pr)){if(Nr=as,xt="onMouseLeave",qe="onMouseEnter",Qe="mouse",(A==="pointerout"||A==="pointerover")&&(Nr=Nu,xt="onPointerLeave",qe="onPointerEnter",Qe="pointer"),ma=lt==null?it:We(lt),Ze=Pr==null?it:We(Pr),it=new Nr(xt,Qe+"leave",lt,v,mt),it.target=ma,it.relatedTarget=Ze,xt=null,Ce(mt)===nt&&(Nr=new Nr(qe,Qe+"enter",Pr,v,mt),Nr.target=Ze,Nr.relatedTarget=ma,xt=Nr),ma=xt,lt&&Pr)t:{for(Nr=lt,qe=Pr,Qe=0,Ze=Nr;Ze;Ze=cg(Ze))Qe++;for(Ze=0,xt=qe;xt;xt=cg(xt))Ze++;for(;0<Qe-Ze;)Nr=cg(Nr),Qe--;for(;0<Ze-Qe;)qe=cg(qe),Ze--;for(;Qe--;){if(Nr===qe||qe!==null&&Nr===qe.alternate)break t;Nr=cg(Nr),qe=cg(qe)}Nr=null}else Nr=null;lt!==null&&GL(_t,it,lt,Nr,!1),Pr!==null&&ma!==null&&GL(_t,ma,Pr,Nr,!0)}}e:{if(it=nt?We(nt):window,lt=it.nodeName&&it.nodeName.toLowerCase(),lt==="select"||lt==="input"&&it.type==="file")var lr=th;else if(Kn(it))if(IA)lr=Lp;else{lr=Ox;var ln=ho}else lt=it.nodeName,!lt||lt.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?nt&&NA(nt.elementType)&&(lr=th):lr=X0;if(lr&&(lr=lr(A,nt))){ml(_t,lr,v,mt);break e}ln&&ln(A,it,nt),A==="focusout"&&nt&&it.type==="number"&&nt.memoizedProps.value!=null&&Sc(it,"number",it.value)}switch(ln=nt?We(nt):window,A){case"focusin":(Kn(ln)||ln.contentEditable==="true")&&(mo=ln,$l=nt,Pc=null);break;case"focusout":Pc=$l=mo=null;break;case"mousedown":Kl=!0;break;case"contextmenu":case"mouseup":case"dragend":Kl=!1,Pa(_t,v,mt);break;case"selectionchange":if(Ed)break;case"keydown":case"keyup":Pa(_t,v,mt)}var hr;if(zt)e:{switch(A){case"compositionstart":var Br="onCompositionStart";break e;case"compositionend":Br="onCompositionEnd";break e;case"compositionupdate":Br="onCompositionUpdate";break e}Br=void 0}else Sr?rt(A,v)&&(Br="onCompositionEnd"):A==="keydown"&&v.keyCode===229&&(Br="onCompositionStart");Br&&(se&&v.locale!=="ko"&&(Sr||Br!=="onCompositionStart"?Br==="onCompositionEnd"&&Sr&&(hr=BA()):(uo=mt,Bc="value"in uo?uo.value:uo.textContent,Sr=!0)),ln=f2(nt,Br),0<ln.length&&(Br=new Cu(Br,A,null,v,mt),_t.push({event:Br,listeners:ln}),hr?Br.data=hr:(hr=It(v),hr!==null&&(Br.data=hr)))),(hr=te?on(A,v):Lr(A,v))&&(Br=f2(nt,"onBeforeInput"),0<Br.length&&(ln=new Cu("onBeforeInput","beforeinput",null,v,mt),_t.push({event:ln,listeners:Br}),ln.data=hr)),kle(_t,A,nt,v,mt)}$L(_t,h)})}function l1(A,h,v){return{instance:A,listener:h,currentTarget:v}}function f2(A,h){for(var v=h+"Capture",E=[];A!==null;){var L=A,H=L.stateNode;if(L=L.tag,L!==5&&L!==26&&L!==27||H===null||(L=yi(A,v),L!=null&&E.unshift(l1(A,L,H)),L=yi(A,h),L!=null&&E.push(l1(A,L,H))),A.tag===3)return E;A=A.return}return[]}function cg(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function GL(A,h,v,E,L){for(var H=h._reactName,oe=[];v!==null&&v!==E;){var xe=v,Oe=xe.alternate,nt=xe.stateNode;if(xe=xe.tag,Oe!==null&&Oe===E)break;xe!==5&&xe!==26&&xe!==27||nt===null||(Oe=nt,L?(nt=yi(v,H),nt!=null&&oe.unshift(l1(v,nt,Oe))):L||(nt=yi(v,H),nt!=null&&oe.push(l1(v,nt,Oe)))),v=v.return}oe.length!==0&&A.push({event:h,listeners:oe})}var Fle=/\r\n?/g,Ole=/\u0000|\uFFFD/g;function qL(A){return(typeof A=="string"?A:""+A).replace(Fle,`
`).replace(Ole,"")}function WL(A,h){return h=qL(h),qL(A)===h}function h2(){}function ha(A,h,v,E,L,H){switch(v){case"children":typeof E=="string"?h==="body"||h==="textarea"&&E===""||lo(A,E):(typeof E=="number"||typeof E=="bigint")&&h!=="body"&&lo(A,""+E);break;case"className":Xr(A,"class",E);break;case"tabIndex":Xr(A,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":Xr(A,v,E);break;case"style":SA(A,E,H);break;case"data":if(h!=="object"){Xr(A,"data",E);break}case"src":case"href":if(E===""&&(h!=="a"||v!=="href")){A.removeAttribute(v);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){A.removeAttribute(v);break}E=Ml(""+E),A.setAttribute(v,E);break;case"action":case"formAction":if(typeof E=="function"){A.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof H=="function"&&(v==="formAction"?(h!=="input"&&ha(A,h,"name",L.name,L,null),ha(A,h,"formEncType",L.formEncType,L,null),ha(A,h,"formMethod",L.formMethod,L,null),ha(A,h,"formTarget",L.formTarget,L,null)):(ha(A,h,"encType",L.encType,L,null),ha(A,h,"method",L.method,L,null),ha(A,h,"target",L.target,L,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){A.removeAttribute(v);break}E=Ml(""+E),A.setAttribute(v,E);break;case"onClick":E!=null&&(A.onclick=h2);break;case"onScroll":E!=null&&hn("scroll",A);break;case"onScrollEnd":E!=null&&hn("scrollend",A);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(n(61));if(v=E.__html,v!=null){if(L.children!=null)throw Error(n(60));A.innerHTML=v}}break;case"multiple":A.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":A.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){A.removeAttribute("xlink:href");break}v=Ml(""+E),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?A.setAttribute(v,""+E):A.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?A.setAttribute(v,""):A.removeAttribute(v);break;case"capture":case"download":E===!0?A.setAttribute(v,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?A.setAttribute(v,E):A.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?A.setAttribute(v,E):A.removeAttribute(v);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?A.removeAttribute(v):A.setAttribute(v,E);break;case"popover":hn("beforetoggle",A),hn("toggle",A),Wr(A,"popover",E);break;case"xlinkActuate":en(A,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":en(A,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":en(A,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":en(A,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":en(A,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":en(A,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":en(A,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":en(A,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":en(A,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":Wr(A,"is",E);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=Ul.get(v)||v,Wr(A,v,E))}}function U4(A,h,v,E,L,H){switch(v){case"style":SA(A,E,H);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(n(61));if(v=E.__html,v!=null){if(L.children!=null)throw Error(n(60));A.innerHTML=v}}break;case"children":typeof E=="string"?lo(A,E):(typeof E=="number"||typeof E=="bigint")&&lo(A,""+E);break;case"onScroll":E!=null&&hn("scroll",A);break;case"onScrollEnd":E!=null&&hn("scrollend",A);break;case"onClick":E!=null&&(A.onclick=h2);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tt.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(L=v.endsWith("Capture"),h=v.slice(2,L?v.length-7:void 0),H=A[An]||null,H=H!=null?H[v]:null,typeof H=="function"&&A.removeEventListener(h,H,L),typeof E=="function")){typeof H!="function"&&H!==null&&(v in A?A[v]=null:A.hasAttribute(v)&&A.removeAttribute(v)),A.addEventListener(h,E,L);break e}v in A?A[v]=E:E===!0?A.setAttribute(v,""):Wr(A,v,E)}}}function qi(A,h,v){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":hn("error",A),hn("load",A);var E=!1,L=!1,H;for(H in v)if(v.hasOwnProperty(H)){var oe=v[H];if(oe!=null)switch(H){case"src":E=!0;break;case"srcSet":L=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:ha(A,h,H,oe,v,null)}}L&&ha(A,h,"srcSet",v.srcSet,v,null),E&&ha(A,h,"src",v.src,v,null);return;case"input":hn("invalid",A);var xe=H=oe=L=null,Oe=null,nt=null;for(E in v)if(v.hasOwnProperty(E)){var mt=v[E];if(mt!=null)switch(E){case"name":L=mt;break;case"type":oe=mt;break;case"checked":Oe=mt;break;case"defaultChecked":nt=mt;break;case"value":H=mt;break;case"defaultValue":xe=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(n(137,h));break;default:ha(A,h,E,mt,v,null)}}_c(A,H,xe,Oe,nt,oe,L,!1),Cc(A);return;case"select":hn("invalid",A),E=oe=H=null;for(L in v)if(v.hasOwnProperty(L)&&(xe=v[L],xe!=null))switch(L){case"value":H=xe;break;case"defaultValue":oe=xe;break;case"multiple":E=xe;default:ha(A,h,L,xe,v,null)}h=H,v=oe,A.multiple=!!E,h!=null?ll(A,!!E,h,!1):v!=null&&ll(A,!!E,v,!0);return;case"textarea":hn("invalid",A),H=L=E=null;for(oe in v)if(v.hasOwnProperty(oe)&&(xe=v[oe],xe!=null))switch(oe){case"value":E=xe;break;case"defaultValue":L=xe;break;case"children":H=xe;break;case"dangerouslySetInnerHTML":if(xe!=null)throw Error(n(91));break;default:ha(A,h,oe,xe,v,null)}Nc(A,E,L,H),Cc(A);return;case"option":for(Oe in v)if(v.hasOwnProperty(Oe)&&(E=v[Oe],E!=null))switch(Oe){case"selected":A.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:ha(A,h,Oe,E,v,null)}return;case"dialog":hn("beforetoggle",A),hn("toggle",A),hn("cancel",A),hn("close",A);break;case"iframe":case"object":hn("load",A);break;case"video":case"audio":for(E=0;E<o1.length;E++)hn(o1[E],A);break;case"image":hn("error",A),hn("load",A);break;case"details":hn("toggle",A);break;case"embed":case"source":case"link":hn("error",A),hn("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(nt in v)if(v.hasOwnProperty(nt)&&(E=v[nt],E!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:ha(A,h,nt,E,v,null)}return;default:if(NA(h)){for(mt in v)v.hasOwnProperty(mt)&&(E=v[mt],E!==void 0&&U4(A,h,mt,E,v,void 0));return}}for(xe in v)v.hasOwnProperty(xe)&&(E=v[xe],E!=null&&ha(A,h,xe,E,v,null))}function Dle(A,h,v,E){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var L=null,H=null,oe=null,xe=null,Oe=null,nt=null,mt=null;for(lt in v){var _t=v[lt];if(v.hasOwnProperty(lt)&&_t!=null)switch(lt){case"checked":break;case"value":break;case"defaultValue":Oe=_t;default:E.hasOwnProperty(lt)||ha(A,h,lt,null,E,_t)}}for(var it in E){var lt=E[it];if(_t=v[it],E.hasOwnProperty(it)&&(lt!=null||_t!=null))switch(it){case"type":H=lt;break;case"name":L=lt;break;case"checked":nt=lt;break;case"defaultChecked":mt=lt;break;case"value":oe=lt;break;case"defaultValue":xe=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(n(137,h));break;default:lt!==_t&&ha(A,h,it,lt,E,_t)}}oi(A,oe,xe,Oe,nt,mt,H,L);return;case"select":lt=oe=xe=it=null;for(H in v)if(Oe=v[H],v.hasOwnProperty(H)&&Oe!=null)switch(H){case"value":break;case"multiple":lt=Oe;default:E.hasOwnProperty(H)||ha(A,h,H,null,E,Oe)}for(L in E)if(H=E[L],Oe=v[L],E.hasOwnProperty(L)&&(H!=null||Oe!=null))switch(L){case"value":it=H;break;case"defaultValue":xe=H;break;case"multiple":oe=H;default:H!==Oe&&ha(A,h,L,H,E,Oe)}h=xe,v=oe,E=lt,it!=null?ll(A,!!v,it,!1):!!E!=!!v&&(h!=null?ll(A,!!v,h,!0):ll(A,!!v,v?[]:"",!1));return;case"textarea":lt=it=null;for(xe in v)if(L=v[xe],v.hasOwnProperty(xe)&&L!=null&&!E.hasOwnProperty(xe))switch(xe){case"value":break;case"children":break;default:ha(A,h,xe,null,E,L)}for(oe in E)if(L=E[oe],H=v[oe],E.hasOwnProperty(oe)&&(L!=null||H!=null))switch(oe){case"value":it=L;break;case"defaultValue":lt=L;break;case"children":break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(n(91));break;default:L!==H&&ha(A,h,oe,L,E,H)}Fn(A,it,lt);return;case"option":for(var Pr in v)if(it=v[Pr],v.hasOwnProperty(Pr)&&it!=null&&!E.hasOwnProperty(Pr))switch(Pr){case"selected":A.selected=!1;break;default:ha(A,h,Pr,null,E,it)}for(Oe in E)if(it=E[Oe],lt=v[Oe],E.hasOwnProperty(Oe)&&it!==lt&&(it!=null||lt!=null))switch(Oe){case"selected":A.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:ha(A,h,Oe,it,E,lt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nr in v)it=v[Nr],v.hasOwnProperty(Nr)&&it!=null&&!E.hasOwnProperty(Nr)&&ha(A,h,Nr,null,E,it);for(nt in E)if(it=E[nt],lt=v[nt],E.hasOwnProperty(nt)&&it!==lt&&(it!=null||lt!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(n(137,h));break;default:ha(A,h,nt,it,E,lt)}return;default:if(NA(h)){for(var ma in v)it=v[ma],v.hasOwnProperty(ma)&&it!==void 0&&!E.hasOwnProperty(ma)&&U4(A,h,ma,void 0,E,it);for(mt in E)it=E[mt],lt=v[mt],!E.hasOwnProperty(mt)||it===lt||it===void 0&&lt===void 0||U4(A,h,mt,it,E,lt);return}}for(var qe in v)it=v[qe],v.hasOwnProperty(qe)&&it!=null&&!E.hasOwnProperty(qe)&&ha(A,h,qe,null,E,it);for(_t in E)it=E[_t],lt=v[_t],!E.hasOwnProperty(_t)||it===lt||it==null&&lt==null||ha(A,h,_t,it,E,lt)}var M4=null,Q4=null;function m2(A){return A.nodeType===9?A:A.ownerDocument}function XL(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YL(A,h){if(A===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&h==="foreignObject"?0:A}function H4(A,h){return A==="textarea"||A==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var V4=null;function Ple(){var A=window.event;return A&&A.type==="popstate"?A===V4?!1:(V4=A,!0):(V4=null,!1)}var JL=typeof setTimeout=="function"?setTimeout:void 0,Rle=typeof clearTimeout=="function"?clearTimeout:void 0,ZL=typeof Promise=="function"?Promise:void 0,Lle=typeof queueMicrotask=="function"?queueMicrotask:typeof ZL<"u"?function(A){return ZL.resolve(null).then(A).catch(Ule)}:JL;function Ule(A){setTimeout(function(){throw A})}function Ch(A){return A==="head"}function e8(A,h){var v=h,E=0,L=0;do{var H=v.nextSibling;if(A.removeChild(v),H&&H.nodeType===8)if(v=H.data,v==="/$"){if(0<E&&8>E){v=E;var oe=A.ownerDocument;if(v&1&&c1(oe.documentElement),v&2&&c1(oe.body),v&4)for(v=oe.head,c1(v),oe=v.firstChild;oe;){var xe=oe.nextSibling,Oe=oe.nodeName;oe[we]||Oe==="SCRIPT"||Oe==="STYLE"||Oe==="LINK"&&oe.rel.toLowerCase()==="stylesheet"||v.removeChild(oe),oe=xe}}if(L===0){A.removeChild(H),g1(h);return}L--}else v==="$"||v==="$?"||v==="$!"?L++:E=v.charCodeAt(0)-48;else E=0;v=H}while(v);g1(h)}function z4(A){var h=A.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var v=h;switch(h=h.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":z4(v),Ee(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}A.removeChild(v)}}function Mle(A,h,v,E){for(;A.nodeType===1;){var L=v;if(A.nodeName.toLowerCase()!==h.toLowerCase()){if(!E&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(E){if(!A[we])switch(h){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(H=A.getAttribute("rel"),H==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(H!==L.rel||A.getAttribute("href")!==(L.href==null||L.href===""?null:L.href)||A.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin)||A.getAttribute("title")!==(L.title==null?null:L.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(H=A.getAttribute("src"),(H!==(L.src==null?null:L.src)||A.getAttribute("type")!==(L.type==null?null:L.type)||A.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin))&&H&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(h==="input"&&A.type==="hidden"){var H=L.name==null?null:""+L.name;if(L.type==="hidden"&&A.getAttribute("name")===H)return A}else return A;if(A=Vu(A.nextSibling),A===null)break}return null}function Qle(A,h,v){if(h==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!v||(A=Vu(A.nextSibling),A===null))return null;return A}function $4(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState==="complete"}function Hle(A,h){var v=A.ownerDocument;if(A.data!=="$?"||v.readyState==="complete")h();else{var E=function(){h(),v.removeEventListener("DOMContentLoaded",E)};v.addEventListener("DOMContentLoaded",E),A._reactRetry=E}}function Vu(A){for(;A!=null;A=A.nextSibling){var h=A.nodeType;if(h===1||h===3)break;if(h===8){if(h=A.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return A}var K4=null;function t8(A){A=A.previousSibling;for(var h=0;A;){if(A.nodeType===8){var v=A.data;if(v==="$"||v==="$!"||v==="$?"){if(h===0)return A;h--}else v==="/$"&&h++}A=A.previousSibling}return null}function r8(A,h,v){switch(h=m2(v),A){case"html":if(A=h.documentElement,!A)throw Error(n(452));return A;case"head":if(A=h.head,!A)throw Error(n(453));return A;case"body":if(A=h.body,!A)throw Error(n(454));return A;default:throw Error(n(451))}}function c1(A){for(var h=A.attributes;h.length;)A.removeAttributeNode(h[0]);Ee(A)}var Kc=new Map,n8=new Set;function p2(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var ZA=Z.d;Z.d={f:Vle,r:zle,D:$le,C:Kle,L:Gle,m:qle,X:Xle,S:Wle,M:Yle};function Vle(){var A=ZA.f(),h=o2();return A||h}function zle(A){var h=Ne(A);h!==null&&h.tag===5&&h.type==="form"?Am(h):ZA.r(A)}var ug=typeof document>"u"?null:document;function a8(A,h,v){var E=ug;if(E&&typeof h=="string"&&h){var L=En(h);L='link[rel="'+A+'"][href="'+L+'"]',typeof v=="string"&&(L+='[crossorigin="'+v+'"]'),n8.has(L)||(n8.add(L),A={rel:A,crossOrigin:v,href:h},E.querySelector(L)===null&&(h=E.createElement("link"),qi(h,"link",A),$e(h),E.head.appendChild(h)))}}function $le(A){ZA.D(A),a8("dns-prefetch",A,null)}function Kle(A,h){ZA.C(A,h),a8("preconnect",A,h)}function Gle(A,h,v){ZA.L(A,h,v);var E=ug;if(E&&A&&h){var L='link[rel="preload"][as="'+En(h)+'"]';h==="image"&&v&&v.imageSrcSet?(L+='[imagesrcset="'+En(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(L+='[imagesizes="'+En(v.imageSizes)+'"]')):L+='[href="'+En(A)+'"]';var H=L;switch(h){case"style":H=dg(A);break;case"script":H=Ag(A)}Kc.has(H)||(A=d({rel:"preload",href:h==="image"&&v&&v.imageSrcSet?void 0:A,as:h},v),Kc.set(H,A),E.querySelector(L)!==null||h==="style"&&E.querySelector(u1(H))||h==="script"&&E.querySelector(d1(H))||(h=E.createElement("link"),qi(h,"link",A),$e(h),E.head.appendChild(h)))}}function qle(A,h){ZA.m(A,h);var v=ug;if(v&&A){var E=h&&typeof h.as=="string"?h.as:"script",L='link[rel="modulepreload"][as="'+En(E)+'"][href="'+En(A)+'"]',H=L;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":H=Ag(A)}if(!Kc.has(H)&&(A=d({rel:"modulepreload",href:A},h),Kc.set(H,A),v.querySelector(L)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(d1(H)))return}E=v.createElement("link"),qi(E,"link",A),$e(E),v.head.appendChild(E)}}}function Wle(A,h,v){ZA.S(A,h,v);var E=ug;if(E&&A){var L=st(E).hoistableStyles,H=dg(A);h=h||"default";var oe=L.get(H);if(!oe){var xe={loading:0,preload:null};if(oe=E.querySelector(u1(H)))xe.loading=5;else{A=d({rel:"stylesheet",href:A,"data-precedence":h},v),(v=Kc.get(H))&&G4(A,v);var Oe=oe=E.createElement("link");$e(Oe),qi(Oe,"link",A),Oe._p=new Promise(function(nt,mt){Oe.onload=nt,Oe.onerror=mt}),Oe.addEventListener("load",function(){xe.loading|=1}),Oe.addEventListener("error",function(){xe.loading|=2}),xe.loading|=4,g2(oe,h,E)}oe={type:"stylesheet",instance:oe,count:1,state:xe},L.set(H,oe)}}}function Xle(A,h){ZA.X(A,h);var v=ug;if(v&&A){var E=st(v).hoistableScripts,L=Ag(A),H=E.get(L);H||(H=v.querySelector(d1(L)),H||(A=d({src:A,async:!0},h),(h=Kc.get(L))&&q4(A,h),H=v.createElement("script"),$e(H),qi(H,"link",A),v.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},E.set(L,H))}}function Yle(A,h){ZA.M(A,h);var v=ug;if(v&&A){var E=st(v).hoistableScripts,L=Ag(A),H=E.get(L);H||(H=v.querySelector(d1(L)),H||(A=d({src:A,async:!0,type:"module"},h),(h=Kc.get(L))&&q4(A,h),H=v.createElement("script"),$e(H),qi(H,"link",A),v.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},E.set(L,H))}}function s8(A,h,v,E){var L=(L=ie.current)?p2(L):null;if(!L)throw Error(n(446));switch(A){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(h=dg(v.href),v=st(L).hoistableStyles,E=v.get(h),E||(E={type:"style",instance:null,count:0,state:null},v.set(h,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){A=dg(v.href);var H=st(L).hoistableStyles,oe=H.get(A);if(oe||(L=L.ownerDocument||L,oe={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},H.set(A,oe),(H=L.querySelector(u1(A)))&&!H._p&&(oe.instance=H,oe.state.loading=5),Kc.has(A)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},Kc.set(A,v),H||Jle(L,A,v,oe.state))),h&&E===null)throw Error(n(528,""));return oe}if(h&&E!==null)throw Error(n(529,""));return null;case"script":return h=v.async,v=v.src,typeof v=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Ag(v),v=st(L).hoistableScripts,E=v.get(h),E||(E={type:"script",instance:null,count:0,state:null},v.set(h,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,A))}}function dg(A){return'href="'+En(A)+'"'}function u1(A){return'link[rel="stylesheet"]['+A+"]"}function i8(A){return d({},A,{"data-precedence":A.precedence,precedence:null})}function Jle(A,h,v,E){A.querySelector('link[rel="preload"][as="style"]['+h+"]")?E.loading=1:(h=A.createElement("link"),E.preload=h,h.addEventListener("load",function(){return E.loading|=1}),h.addEventListener("error",function(){return E.loading|=2}),qi(h,"link",v),$e(h),A.head.appendChild(h))}function Ag(A){return'[src="'+En(A)+'"]'}function d1(A){return"script[async]"+A}function o8(A,h,v){if(h.count++,h.instance===null)switch(h.type){case"style":var E=A.querySelector('style[data-href~="'+En(v.href)+'"]');if(E)return h.instance=E,$e(E),E;var L=d({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return E=(A.ownerDocument||A).createElement("style"),$e(E),qi(E,"style",L),g2(E,v.precedence,A),h.instance=E;case"stylesheet":L=dg(v.href);var H=A.querySelector(u1(L));if(H)return h.state.loading|=4,h.instance=H,$e(H),H;E=i8(v),(L=Kc.get(L))&&G4(E,L),H=(A.ownerDocument||A).createElement("link"),$e(H);var oe=H;return oe._p=new Promise(function(xe,Oe){oe.onload=xe,oe.onerror=Oe}),qi(H,"link",E),h.state.loading|=4,g2(H,v.precedence,A),h.instance=H;case"script":return H=Ag(v.src),(L=A.querySelector(d1(H)))?(h.instance=L,$e(L),L):(E=v,(L=Kc.get(H))&&(E=d({},v),q4(E,L)),A=A.ownerDocument||A,L=A.createElement("script"),$e(L),qi(L,"link",E),A.head.appendChild(L),h.instance=L);case"void":return null;default:throw Error(n(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(E=h.instance,h.state.loading|=4,g2(E,v.precedence,A));return h.instance}function g2(A,h,v){for(var E=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),L=E.length?E[E.length-1]:null,H=L,oe=0;oe<E.length;oe++){var xe=E[oe];if(xe.dataset.precedence===h)H=xe;else if(H!==L)break}H?H.parentNode.insertBefore(A,H.nextSibling):(h=v.nodeType===9?v.head:v,h.insertBefore(A,h.firstChild))}function G4(A,h){A.crossOrigin==null&&(A.crossOrigin=h.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=h.referrerPolicy),A.title==null&&(A.title=h.title)}function q4(A,h){A.crossOrigin==null&&(A.crossOrigin=h.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=h.referrerPolicy),A.integrity==null&&(A.integrity=h.integrity)}var v2=null;function l8(A,h,v){if(v2===null){var E=new Map,L=v2=new Map;L.set(v,E)}else L=v2,E=L.get(v),E||(E=new Map,L.set(v,E));if(E.has(A))return E;for(E.set(A,null),v=v.getElementsByTagName(A),L=0;L<v.length;L++){var H=v[L];if(!(H[we]||H[wn]||A==="link"&&H.getAttribute("rel")==="stylesheet")&&H.namespaceURI!=="http://www.w3.org/2000/svg"){var oe=H.getAttribute(h)||"";oe=A+oe;var xe=E.get(oe);xe?xe.push(H):E.set(oe,[H])}}return E}function c8(A,h,v){A=A.ownerDocument||A,A.head.insertBefore(v,h==="title"?A.querySelector("head > title"):null)}function Zle(A,h,v){if(v===1||h.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return A=h.disabled,typeof h.precedence=="string"&&A==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function u8(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}var A1=null;function ece(){}function tce(A,h,v){if(A1===null)throw Error(n(475));var E=A1;if(h.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var L=dg(v.href),H=A.querySelector(u1(L));if(H){A=H._p,A!==null&&typeof A=="object"&&typeof A.then=="function"&&(E.count++,E=x2.bind(E),A.then(E,E)),h.state.loading|=4,h.instance=H,$e(H);return}H=A.ownerDocument||A,v=i8(v),(L=Kc.get(L))&&G4(v,L),H=H.createElement("link"),$e(H);var oe=H;oe._p=new Promise(function(xe,Oe){oe.onload=xe,oe.onerror=Oe}),qi(H,"link",v),h.instance=H}E.stylesheets===null&&(E.stylesheets=new Map),E.stylesheets.set(h,A),(A=h.state.preload)&&(h.state.loading&3)===0&&(E.count++,h=x2.bind(E),A.addEventListener("load",h),A.addEventListener("error",h))}}function rce(){if(A1===null)throw Error(n(475));var A=A1;return A.stylesheets&&A.count===0&&W4(A,A.stylesheets),0<A.count?function(h){var v=setTimeout(function(){if(A.stylesheets&&W4(A,A.stylesheets),A.unsuspend){var E=A.unsuspend;A.unsuspend=null,E()}},6e4);return A.unsuspend=h,function(){A.unsuspend=null,clearTimeout(v)}}:null}function x2(){if(this.count--,this.count===0){if(this.stylesheets)W4(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var b2=null;function W4(A,h){A.stylesheets=null,A.unsuspend!==null&&(A.count++,b2=new Map,h.forEach(nce,A),b2=null,x2.call(A))}function nce(A,h){if(!(h.state.loading&4)){var v=b2.get(A);if(v)var E=v.get(null);else{v=new Map,b2.set(A,v);for(var L=A.querySelectorAll("link[data-precedence],style[data-precedence]"),H=0;H<L.length;H++){var oe=L[H];(oe.nodeName==="LINK"||oe.getAttribute("media")!=="not all")&&(v.set(oe.dataset.precedence,oe),E=oe)}E&&v.set(null,E)}L=h.instance,oe=L.getAttribute("data-precedence"),H=v.get(oe)||E,H===E&&v.set(null,L),v.set(oe,L),this.count++,E=x2.bind(this),L.addEventListener("load",E),L.addEventListener("error",E),H?H.parentNode.insertBefore(L,H.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(L,A.firstChild)),h.state.loading|=4}}var f1={$$typeof:S,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function ace(A,h,v,E,L,H,oe,xe){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kn(0),this.hiddenUpdates=kn(null),this.identifierPrefix=E,this.onUncaughtError=L,this.onCaughtError=H,this.onRecoverableError=oe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=xe,this.incompleteTransitions=new Map}function d8(A,h,v,E,L,H,oe,xe,Oe,nt,mt,_t){return A=new ace(A,h,v,oe,xe,Oe,nt,_t),h=1,H===!0&&(h|=24),H=_i(3,null,null,h),A.current=H,H.stateNode=A,h=Px(),h.refCount++,A.pooledCache=h,h.refCount++,H.memoizedState={element:E,isDehydrated:v,cache:h},Me(H),A}function A8(A){return A?(A=Hs,A):Hs}function f8(A,h,v,E,L,H){L=A8(L),E.context===null?E.context=L:E.pendingContext=L,E=ht(h),E.payload={element:v},H=H===void 0?null:H,H!==null&&(E.callback=H),v=yt(A,E,h),v!==null&&(ec(v,A,h),pt(v,A,h))}function h8(A,h){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var v=A.retryLane;A.retryLane=v!==0&&v<h?v:h}}function X4(A,h){h8(A,h),(A=A.alternate)&&h8(A,h)}function m8(A){if(A.tag===13){var h=Tu(A,67108864);h!==null&&ec(h,A,67108864),X4(A,67108864)}}var y2=!0;function sce(A,h,v,E){var L=W.T;W.T=null;var H=Z.p;try{Z.p=2,Y4(A,h,v,E)}finally{Z.p=H,W.T=L}}function ice(A,h,v,E){var L=W.T;W.T=null;var H=Z.p;try{Z.p=8,Y4(A,h,v,E)}finally{Z.p=H,W.T=L}}function Y4(A,h,v,E){if(y2){var L=J4(E);if(L===null)L4(A,h,E,w2,v),g8(A,E);else if(lce(L,A,h,v,E))E.stopPropagation();else if(g8(A,E),h&4&&-1<oce.indexOf(A)){for(;L!==null;){var H=Ne(L);if(H!==null)switch(H.tag){case 3:if(H=H.stateNode,H.current.memoizedState.isDehydrated){var oe=Gt(H.pendingLanes);if(oe!==0){var xe=H;for(xe.pendingLanes|=2,xe.entangledLanes|=2;oe;){var Oe=1<<31-De(oe);xe.entanglements[1]|=Oe,oe&=~Oe}Qd(H),(na&6)===0&&(s2=je()+500,i1(0))}}break;case 13:xe=Tu(H,2),xe!==null&&ec(xe,H,2),o2(),X4(H,2)}if(H=J4(E),H===null&&L4(A,h,E,w2,v),H===L)break;L=H}L!==null&&E.stopPropagation()}else L4(A,h,E,null,v)}}function J4(A){return A=ta(A),Z4(A)}var w2=null;function Z4(A){if(w2=null,A=Ce(A),A!==null){var h=s(A);if(h===null)A=null;else{var v=h.tag;if(v===13){if(A=i(h),A!==null)return A;A=null}else if(v===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;A=null}else h!==A&&(A=null)}}return w2=A,null}function p8(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(He()){case Xe:return 2;case dt:return 8;case Et:case Tt:return 32;case Ct:return 268435456;default:return 32}default:return 32}}var eB=!1,_h=null,Sh=null,Nh=null,h1=new Map,m1=new Map,Bh=[],oce="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g8(A,h){switch(A){case"focusin":case"focusout":_h=null;break;case"dragenter":case"dragleave":Sh=null;break;case"mouseover":case"mouseout":Nh=null;break;case"pointerover":case"pointerout":h1.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":m1.delete(h.pointerId)}}function p1(A,h,v,E,L,H){return A===null||A.nativeEvent!==H?(A={blockedOn:h,domEventName:v,eventSystemFlags:E,nativeEvent:H,targetContainers:[L]},h!==null&&(h=Ne(h),h!==null&&m8(h)),A):(A.eventSystemFlags|=E,h=A.targetContainers,L!==null&&h.indexOf(L)===-1&&h.push(L),A)}function lce(A,h,v,E,L){switch(h){case"focusin":return _h=p1(_h,A,h,v,E,L),!0;case"dragenter":return Sh=p1(Sh,A,h,v,E,L),!0;case"mouseover":return Nh=p1(Nh,A,h,v,E,L),!0;case"pointerover":var H=L.pointerId;return h1.set(H,p1(h1.get(H)||null,A,h,v,E,L)),!0;case"gotpointercapture":return H=L.pointerId,m1.set(H,p1(m1.get(H)||null,A,h,v,E,L)),!0}return!1}function v8(A){var h=Ce(A.target);if(h!==null){var v=s(h);if(v!==null){if(h=v.tag,h===13){if(h=i(v),h!==null){A.blockedOn=h,ai(A.priority,function(){if(v.tag===13){var E=Zl();E=Ls(E);var L=Tu(v,E);L!==null&&ec(L,v,E),X4(v,E)}});return}}else if(h===3&&v.stateNode.current.memoizedState.isDehydrated){A.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}A.blockedOn=null}function E2(A){if(A.blockedOn!==null)return!1;for(var h=A.targetContainers;0<h.length;){var v=J4(A.nativeEvent);if(v===null){v=A.nativeEvent;var E=new v.constructor(v.type,v);cl=E,v.target.dispatchEvent(E),cl=null}else return h=Ne(v),h!==null&&m8(h),A.blockedOn=v,!1;h.shift()}return!0}function x8(A,h,v){E2(A)&&v.delete(h)}function cce(){eB=!1,_h!==null&&E2(_h)&&(_h=null),Sh!==null&&E2(Sh)&&(Sh=null),Nh!==null&&E2(Nh)&&(Nh=null),h1.forEach(x8),m1.forEach(x8)}function C2(A,h){A.blockedOn===h&&(A.blockedOn=null,eB||(eB=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,cce)))}var _2=null;function b8(A){_2!==A&&(_2=A,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){_2===A&&(_2=null);for(var h=0;h<A.length;h+=3){var v=A[h],E=A[h+1],L=A[h+2];if(typeof E!="function"){if(Z4(E||v)===null)continue;break}var H=Ne(v);H!==null&&(A.splice(h,3),h-=3,Vc(H,{pending:!0,data:L,method:v.method,action:E},E,L))}}))}function g1(A){function h(Oe){return C2(Oe,A)}_h!==null&&C2(_h,A),Sh!==null&&C2(Sh,A),Nh!==null&&C2(Nh,A),h1.forEach(h),m1.forEach(h);for(var v=0;v<Bh.length;v++){var E=Bh[v];E.blockedOn===A&&(E.blockedOn=null)}for(;0<Bh.length&&(v=Bh[0],v.blockedOn===null);)v8(v),v.blockedOn===null&&Bh.shift();if(v=(A.ownerDocument||A).$$reactFormReplay,v!=null)for(E=0;E<v.length;E+=3){var L=v[E],H=v[E+1],oe=L[An]||null;if(typeof H=="function")oe||b8(v);else if(oe){var xe=null;if(H&&H.hasAttribute("formAction")){if(L=H,oe=H[An]||null)xe=oe.formAction;else if(Z4(L)!==null)continue}else xe=oe.action;typeof xe=="function"?v[E+1]=xe:(v.splice(E,3),E-=3),b8(v)}}}function tB(A){this._internalRoot=A}S2.prototype.render=tB.prototype.render=function(A){var h=this._internalRoot;if(h===null)throw Error(n(409));var v=h.current,E=Zl();f8(v,E,A,h,null,null)},S2.prototype.unmount=tB.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var h=A.containerInfo;f8(A.current,2,null,A,null,null),o2(),h[Vn]=null}};function S2(A){this._internalRoot=A}S2.prototype.unstable_scheduleHydration=function(A){if(A){var h=Ha();A={blockedOn:null,target:A,priority:h};for(var v=0;v<Bh.length&&h!==0&&h<Bh[v].priority;v++);Bh.splice(v,0,A),v===0&&v8(A)}};var y8=t.version;if(y8!=="19.1.1")throw Error(n(527,y8,"19.1.1"));Z.findDOMNode=function(A){var h=A._reactInternals;if(h===void 0)throw typeof A.render=="function"?Error(n(188)):(A=Object.keys(A).join(","),Error(n(268,A)));return A=l(h),A=A!==null?u(A):null,A=A===null?null:A.stateNode,A};var uce={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var N2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!N2.isDisabled&&N2.supportsFiber)try{Pt=N2.inject(uce),Mt=N2}catch{}}return x1.createRoot=function(A,h){if(!a(A))throw Error(n(299));var v=!1,E="",L=RR,H=LR,oe=UR,xe=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onUncaughtError!==void 0&&(L=h.onUncaughtError),h.onCaughtError!==void 0&&(H=h.onCaughtError),h.onRecoverableError!==void 0&&(oe=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(xe=h.unstable_transitionCallbacks)),h=d8(A,1,!1,null,null,v,E,L,H,oe,xe,null),A[Vn]=h.current,R4(A),new tB(h)},x1.hydrateRoot=function(A,h,v){if(!a(A))throw Error(n(299));var E=!1,L="",H=RR,oe=LR,xe=UR,Oe=null,nt=null;return v!=null&&(v.unstable_strictMode===!0&&(E=!0),v.identifierPrefix!==void 0&&(L=v.identifierPrefix),v.onUncaughtError!==void 0&&(H=v.onUncaughtError),v.onCaughtError!==void 0&&(oe=v.onCaughtError),v.onRecoverableError!==void 0&&(xe=v.onRecoverableError),v.unstable_transitionCallbacks!==void 0&&(Oe=v.unstable_transitionCallbacks),v.formState!==void 0&&(nt=v.formState)),h=d8(A,1,!0,h,v??null,E,L,H,oe,xe,Oe,nt),h.context=A8(null),v=h.current,E=Zl(),E=Ls(E),L=ht(E),L.callback=null,yt(v,L,E),v=E,h.current.lanes=v,Zn(h,v),Qd(h),A[Vn]=h.current,R4(A),new S2(h)},x1.version="19.1.1",x1}var I8;function Cce(){if(I8)return sB.exports;I8=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sB.exports=Ece(),sB.exports}var _ce=Cce();const Sce=il(_ce),Nce=()=>{};var j8={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},Bce=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const s=e[r++];t[n++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=e[r++],i=e[r++],o=e[r++],l=((a&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const s=e[r++],i=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(s&63)<<6|i&63)}}return t.join("")},MG={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const s=e[a],i=a+1<e.length,o=i?e[a+1]:0,l=a+2<e.length,u=l?e[a+2]:0,d=s>>2,f=(s&3)<<4|o>>4;let m=(o&15)<<2|u>>6,p=u&63;l||(p=64,i||(m=64)),n.push(r[d],r[f],r[m],r[p])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(UG(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Bce(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const s=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const u=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,s==null||o==null||u==null||f==null)throw new kce;const m=s<<2|o>>4;if(n.push(m),u!==64){const p=o<<4&240|u>>2;if(n.push(p),f!==64){const x=u<<6&192|f;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class kce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tce=function(e){const t=UG(e);return MG.encodeByteArray(t,!0)},$C=function(e){return Tce(e).replace(/\./g,"")},QG=function(e){try{return MG.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ice(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jce=()=>Ice().__FIREBASE_DEFAULTS__,Fce=()=>{if(typeof process>"u"||typeof j8>"u")return;const e=j8.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Oce=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&QG(e[1]);return t&&JSON.parse(t)},zS=()=>{try{return Nce()||jce()||Fce()||Oce()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},HG=e=>{var t,r;return(r=(t=zS())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},DF=e=>{const t=HG(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},VG=()=>{var e;return(e=zS())==null?void 0:e.config},zG=e=>{var t;return(t=zS())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $S(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $G(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[$C(JSON.stringify(r)),$C(JSON.stringify(i)),""].join(".")}const Ab={};function Pce(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ab))Ab[t]?e.emulator.push(t):e.prod.push(t);return e}function Rce(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let F8=!1;function KS(e,t){if(typeof window>"u"||typeof document>"u"||!Uf(window.location.host)||Ab[e]===t||Ab[e]||F8)return;Ab[e]=t;function r(m){return`__firebase__banner__${m}`}const n="__firebase__banner",s=Pce().prod.length>0;function i(){const m=document.getElementById(n);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{F8=!0,i()},m}function d(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=Rce(n),p=r("text"),x=document.getElementById(p)||document.createElement("span"),g=r("learnmore"),b=document.getElementById(g)||document.createElement("a"),y=r("preprendIcon"),_=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;o(S),d(b,g);const I=u();l(_,y),S.append(_,x,b,I),document.body.appendChild(S)}s?(x.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mo())}function Uce(){var t;const e=(t=zS())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Mce(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qce(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Hce(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vce(){const e=Mo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function zce(){return!Uce()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $ce(){try{return typeof indexedDB=="object"}catch{return!1}}function Kce(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var s;t(((s=a.error)==null?void 0:s.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gce="FirebaseError";class id extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=Gce,Object.setPrototypeOf(this,id.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dy.prototype.create)}}class Dy{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,s=this.errors[t],i=s?qce(s,n):"Error",o=`${this.serviceName}: ${i} (${a}).`;return new id(a,o,n)}}function qce(e,t){return e.replace(Wce,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const Wce=/\{\$([^}]+)}/g;function Xce(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function b0(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const s=e[a],i=t[a];if(O8(s)&&O8(i)){if(!b0(s,i))return!1}else if(s!==i)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function O8(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function V1(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,s]=n.split("=");t[decodeURIComponent(a)]=decodeURIComponent(s)}}),t}function z1(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function Yce(e,t){const r=new Jce(e,t);return r.subscribe.bind(r)}class Jce{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let a;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Zce(t,["next","error","complete"])?a=t:a={next:t,error:r,complete:n},a.next===void 0&&(a.next=cB),a.error===void 0&&(a.error=cB),a.complete===void 0&&(a.complete=cB);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zce(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function cB(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(e){return e&&e._delegate?e._delegate:e}class wf{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eue=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new Dce;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(rue(t))try{this.getOrInitializeService({instanceIdentifier:ym})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:a});n.resolve(s)}catch{}}}}clearInstance(t=ym){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ym){return this.instances.has(t)}getOptions(t=ym){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&i.resolve(a)}return a}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(t),this.onInitCallbacks.set(n,a);const s=this.instances.get(n);return s&&t(s,n),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:tue(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=ym){return this.component?this.component.multipleInstances?t:ym:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function tue(e){return e===ym?void 0:e}function rue(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nue{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new eue(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(gn||(gn={}));const aue={debug:gn.DEBUG,verbose:gn.VERBOSE,info:gn.INFO,warn:gn.WARN,error:gn.ERROR,silent:gn.SILENT},sue=gn.INFO,iue={[gn.DEBUG]:"log",[gn.VERBOSE]:"log",[gn.INFO]:"info",[gn.WARN]:"warn",[gn.ERROR]:"error"},oue=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=iue[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let PF=class{constructor(t){this.name=t,this._logLevel=sue,this._logHandler=oue,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in gn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aue[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,gn.DEBUG,...t),this._logHandler(this,gn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,gn.VERBOSE,...t),this._logHandler(this,gn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,gn.INFO,...t),this._logHandler(this,gn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,gn.WARN,...t),this._logHandler(this,gn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,gn.ERROR,...t),this._logHandler(this,gn.ERROR,...t)}};const lue=(e,t)=>t.some(r=>e instanceof r);let D8,P8;function cue(){return D8||(D8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uue(){return P8||(P8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KG=new WeakMap,U3=new WeakMap,GG=new WeakMap,uB=new WeakMap,RF=new WeakMap;function due(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{r(i0(e.result)),a()},i=()=>{n(e.error),a()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(r=>{r instanceof IDBCursor&&KG.set(r,e)}).catch(()=>{}),RF.set(t,e),t}function Aue(e){if(U3.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{r(),a()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});U3.set(e,t)}let M3={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return U3.get(e);if(t==="objectStoreNames")return e.objectStoreNames||GG.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return i0(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function fue(e){M3=e(M3)}function hue(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(dB(this),t,...r);return GG.set(n,t.sort?t.sort():[t]),i0(n)}:uue().includes(e)?function(...t){return e.apply(dB(this),t),i0(KG.get(this))}:function(...t){return i0(e.apply(dB(this),t))}}function mue(e){return typeof e=="function"?hue(e):(e instanceof IDBTransaction&&Aue(e),lue(e,cue())?new Proxy(e,M3):e)}function i0(e){if(e instanceof IDBRequest)return due(e);if(uB.has(e))return uB.get(e);const t=mue(e);return t!==e&&(uB.set(e,t),RF.set(t,e)),t}const dB=e=>RF.get(e);function pue(e,t,{blocked:r,upgrade:n,blocking:a,terminated:s}={}){const i=indexedDB.open(e,t),o=i0(i);return n&&i.addEventListener("upgradeneeded",l=>{n(i0(i.result),l.oldVersion,l.newVersion,i0(i.transaction),l)}),r&&i.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),a&&l.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const gue=["get","getKey","getAll","getAllKeys","count"],vue=["put","add","delete","clear"],AB=new Map;function R8(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(AB.get(t))return AB.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=vue.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||gue.includes(r)))return;const s=async function(i,...o){const l=this.transaction(i,a?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),a&&l.done]))[0]};return AB.set(t,s),s}fue(e=>({...e,get:(t,r,n)=>R8(t,r)||e.get(t,r,n),has:(t,r)=>!!R8(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xue{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(bue(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function bue(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Q3="@firebase/app",L8="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=new PF("@firebase/app"),yue="@firebase/app-compat",wue="@firebase/analytics-compat",Eue="@firebase/analytics",Cue="@firebase/app-check-compat",_ue="@firebase/app-check",Sue="@firebase/auth",Nue="@firebase/auth-compat",Bue="@firebase/database",kue="@firebase/data-connect",Tue="@firebase/database-compat",Iue="@firebase/functions",jue="@firebase/functions-compat",Fue="@firebase/installations",Oue="@firebase/installations-compat",Due="@firebase/messaging",Pue="@firebase/messaging-compat",Rue="@firebase/performance",Lue="@firebase/performance-compat",Uue="@firebase/remote-config",Mue="@firebase/remote-config-compat",Que="@firebase/storage",Hue="@firebase/storage-compat",Vue="@firebase/firestore",zue="@firebase/ai",$ue="@firebase/firestore-compat",Kue="firebase",Gue="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="[DEFAULT]",que={[Q3]:"fire-core",[yue]:"fire-core-compat",[Eue]:"fire-analytics",[wue]:"fire-analytics-compat",[_ue]:"fire-app-check",[Cue]:"fire-app-check-compat",[Sue]:"fire-auth",[Nue]:"fire-auth-compat",[Bue]:"fire-rtdb",[kue]:"fire-data-connect",[Tue]:"fire-rtdb-compat",[Iue]:"fire-fn",[jue]:"fire-fn-compat",[Fue]:"fire-iid",[Oue]:"fire-iid-compat",[Due]:"fire-fcm",[Pue]:"fire-fcm-compat",[Rue]:"fire-perf",[Lue]:"fire-perf-compat",[Uue]:"fire-rc",[Mue]:"fire-rc-compat",[Que]:"fire-gcs",[Hue]:"fire-gcs-compat",[Vue]:"fire-fst",[$ue]:"fire-fst-compat",[zue]:"fire-vertex","fire-js":"fire-js",[Kue]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=new Map,Wue=new Map,V3=new Map;function U8(e,t){try{e.container.addComponent(t)}catch(r){Ef.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function y0(e){const t=e.name;if(V3.has(t))return Ef.debug(`There were multiple attempts to register component ${t}.`),!1;V3.set(t,e);for(const r of Mb.values())U8(r,e);for(const r of Wue.values())U8(r,e);return!0}function Ry(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function lc(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xue={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},o0=new Dy("app","Firebase",Xue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yue{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new wf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw o0.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=Gue;function LF(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:H3,automaticDataCollectionEnabled:!0,...t},a=n.name;if(typeof a!="string"||!a)throw o0.create("bad-app-name",{appName:String(a)});if(r||(r=VG()),!r)throw o0.create("no-options");const s=Mb.get(a);if(s){if(b0(r,s.options)&&b0(n,s.config))return s;throw o0.create("duplicate-app",{appName:a})}const i=new nue(a);for(const l of V3.values())i.addComponent(l);const o=new Yue(r,n,i);return Mb.set(a,o),o}function GS(e=H3){const t=Mb.get(e);if(!t&&e===H3&&VG())return LF();if(!t)throw o0.create("no-app",{appName:e});return t}function M8(){return Array.from(Mb.values())}function fu(e,t,r){let n=que[e]??e;r&&(n+=`-${r}`);const a=n.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const i=[`Unable to register library "${n}" with version "${t}":`];a&&i.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&s&&i.push("and"),s&&i.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ef.warn(i.join(" "));return}y0(new wf(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jue="firebase-heartbeat-database",Zue=1,Qb="firebase-heartbeat-store";let fB=null;function qG(){return fB||(fB=pue(Jue,Zue,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Qb)}catch(r){console.warn(r)}}}}).catch(e=>{throw o0.create("idb-open",{originalErrorMessage:e.message})})),fB}async function ede(e){try{const r=(await qG()).transaction(Qb),n=await r.objectStore(Qb).get(WG(e));return await r.done,n}catch(t){if(t instanceof id)Ef.warn(t.message);else{const r=o0.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ef.warn(r.message)}}}async function Q8(e,t){try{const n=(await qG()).transaction(Qb,"readwrite");await n.objectStore(Qb).put(t,WG(e)),await n.done}catch(r){if(r instanceof id)Ef.warn(r.message);else{const n=o0.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ef.warn(n.message)}}}function WG(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tde=1024,rde=30;class nde{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new sde(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=H8();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>rde){const i=ide(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ef.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=H8(),{heartbeatsToSend:n,unsentEntries:a}=ade(this._heartbeatsCache.heartbeats),s=$C(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Ef.warn(r),""}}}function H8(){return new Date().toISOString().substring(0,10)}function ade(e,t=tde){const r=[];let n=e.slice();for(const a of e){const s=r.find(i=>i.agent===a.agent);if(s){if(s.dates.push(a.date),V8(r)>t){s.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),V8(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class sde{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $ce()?Kce().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await ede(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return Q8(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return Q8(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function V8(e){return $C(JSON.stringify({version:2,heartbeats:e})).length}function ide(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ode(e){y0(new wf("platform-logger",t=>new xue(t),"PRIVATE")),y0(new wf("heartbeat",t=>new nde(t),"PRIVATE")),fu(Q3,L8,e),fu(Q3,L8,"esm2020"),fu("fire-js","")}ode("");function XG(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lde=XG,YG=new Dy("auth","Firebase",XG());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=new PF("@firebase/auth");function cde(e,...t){KC.logLevel<=gn.WARN&&KC.warn(`Auth (${Ep}): ${e}`,...t)}function nC(e,...t){KC.logLevel<=gn.ERROR&&KC.error(`Auth (${Ep}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(e,...t){throw UF(e,...t)}function iA(e,...t){return UF(e,...t)}function JG(e,t,r){const n={...lde(),[t]:r};return new Dy("auth","Firebase",n).create(t,{appName:e.name})}function l0(e){return JG(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UF(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return YG.create(e,...t)}function Or(e,t,...r){if(!e)throw UF(t,...r)}function of(e){const t="INTERNAL ASSERTION FAILED: "+e;throw nC(t),new Error(t)}function Cf(e,t){e||of(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function ude(){return z8()==="http:"||z8()==="https:"}function z8(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dde(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ude()||Qce()||"connection"in navigator)?navigator.onLine:!0}function Ade(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(t,r){this.shortDelay=t,this.longDelay=r,Cf(r>t,"Short delay should be less than long delay!"),this.isMobile=Lce()||Hce()}get(){return dde()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(e,t){Cf(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;of("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;of("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;of("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fde={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hde=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mde=new Ly(3e4,6e4);function R0(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Mf(e,t,r,n,a={}){return eq(e,a,async()=>{let s={},i={};n&&(t==="GET"?i=n:s={body:JSON.stringify(n)});const o=Py({key:e.config.apiKey,...i}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u={method:t,headers:l,...s};return Mce()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&Uf(e.emulatorConfig.host)&&(u.credentials="include"),ZG.fetch()(await tq(e,e.config.apiHost,r,o),u)})}async function eq(e,t,r){e._canInitEmulator=!1;const n={...fde,...t};try{const a=new gde(e),s=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw B2(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const o=s.ok?i.errorMessage:i.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw B2(e,"credential-already-in-use",i);if(l==="EMAIL_EXISTS")throw B2(e,"email-already-in-use",i);if(l==="USER_DISABLED")throw B2(e,"user-disabled",i);const d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw JG(e,d,u);ad(e,d)}}catch(a){if(a instanceof id)throw a;ad(e,"network-request-failed",{message:String(a)})}}async function qS(e,t,r,n,a={}){const s=await Mf(e,t,r,n,a);return"mfaPendingCredential"in s&&ad(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function tq(e,t,r,n){const a=`${t}${r}?${n}`,s=e,i=s.config.emulator?MF(e.config,a):`${e.config.apiScheme}://${a}`;return hde.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(i).toString():i}function pde(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gde{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(iA(this.auth,"network-request-failed")),mde.get())})}}function B2(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=iA(e,t,n);return a.customData._tokenResponse=r,a}function $8(e){return e!==void 0&&e.enterprise!==void 0}class vde{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return pde(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xde(e,t){return Mf(e,"GET","/v2/recaptchaConfig",R0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bde(e,t){return Mf(e,"POST","/v1/accounts:delete",t)}async function GC(e,t){return Mf(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yde(e,t=!1){const r=va(e),n=await r.getIdToken(t),a=QF(n);Or(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,i=s==null?void 0:s.sign_in_provider;return{claims:a,token:n,authTime:fb(hB(a.auth_time)),issuedAtTime:fb(hB(a.iat)),expirationTime:fb(hB(a.exp)),signInProvider:i||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function hB(e){return Number(e)*1e3}function QF(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return nC("JWT malformed, contained fewer than 3 sections"),null;try{const a=QG(r);return a?JSON.parse(a):(nC("Failed to decode base64 JWT payload"),null)}catch(a){return nC("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function K8(e){const t=QF(e);return Or(t,"internal-error"),Or(typeof t.exp<"u","internal-error"),Or(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hb(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof id&&wde(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function wde({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ede{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=fb(this.lastLoginAt),this.creationTime=fb(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(e){var f;const t=e.auth,r=await e.getIdToken(),n=await Hb(e,GC(t,{idToken:r}));Or(n==null?void 0:n.users.length,t,"internal-error");const a=n.users[0];e._notifyReloadListener(a);const s=(f=a.providerUserInfo)!=null&&f.length?rq(a.providerUserInfo):[],i=_de(e.providerData,s),o=e.isAnonymous,l=!(e.email&&a.passwordHash)&&!(i!=null&&i.length),u=o?l:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new $3(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(e,d)}async function Cde(e){const t=va(e);await qC(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _de(e,t){return[...e.filter(n=>!t.some(a=>a.providerId===n.providerId)),...t]}function rq(e){return e.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sde(e,t){const r=await eq(e,{},async()=>{const n=Py({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:s}=e.config,i=await tq(e,a,"/v1/token",`key=${s}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return e.emulatorConfig&&Uf(e.emulatorConfig.host)&&(l.credentials="include"),ZG.fetch()(i,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Nde(e,t){return Mf(e,"POST","/v2/accounts:revokeToken",R0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Or(t.idToken,"internal-error"),Or(typeof t.idToken<"u","internal-error"),Or(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):K8(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){Or(t.length!==0,"internal-error");const r=K8(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Or(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:a,expiresIn:s}=await Sde(t,r);this.updateTokensAndExpiration(n,a,Number(s))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:a,expirationTime:s}=r,i=new av;return n&&(Or(typeof n=="string","internal-error",{appName:t}),i.refreshToken=n),a&&(Or(typeof a=="string","internal-error",{appName:t}),i.accessToken=a),s&&(Or(typeof s=="number","internal-error",{appName:t}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new av,this.toJSON())}_performRefresh(){return of("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(e,t){Or(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ju{constructor({uid:t,auth:r,stsTokenManager:n,...a}){this.providerId="firebase",this.proactiveRefresh=new Ede(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new $3(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const r=await Hb(this,this.stsTokenManager.getToken(this.auth,t));return Or(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return yde(this,t)}reload(){return Cde(this)}_assign(t){this!==t&&(Or(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Ju({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){Or(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await qC(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lc(this.auth.app))return Promise.reject(l0(this.auth));const t=await this.getIdToken();return await Hb(this,bde(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const n=r.displayName??void 0,a=r.email??void 0,s=r.phoneNumber??void 0,i=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:p,providerData:x,stsTokenManager:g}=r;Or(f&&g,t,"internal-error");const b=av.fromJSON(this.name,g);Or(typeof f=="string",t,"internal-error"),Th(n,t.name),Th(a,t.name),Or(typeof m=="boolean",t,"internal-error"),Or(typeof p=="boolean",t,"internal-error"),Th(s,t.name),Th(i,t.name),Th(o,t.name),Th(l,t.name),Th(u,t.name),Th(d,t.name);const y=new Ju({uid:f,auth:t,email:a,emailVerified:m,displayName:n,isAnonymous:p,photoURL:i,phoneNumber:s,tenantId:o,stsTokenManager:b,createdAt:u,lastLoginAt:d});return x&&Array.isArray(x)&&(y.providerData=x.map(_=>({..._}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(t,r,n=!1){const a=new av;a.updateFromServerResponse(r);const s=new Ju({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:n});return await qC(s),s}static async _fromGetAccountInfoResponse(t,r,n){const a=r.users[0];Or(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?rq(a.providerUserInfo):[],i=!(a.email&&a.passwordHash)&&!(s!=null&&s.length),o=new av;o.updateFromIdToken(n);const l=new Ju({uid:a.localId,auth:t,stsTokenManager:o,isAnonymous:i}),u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new $3(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=new Map;function lf(e){Cf(e instanceof Function,"Expected a class definition");let t=G8.get(e);return t?(Cf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,G8.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}nq.type="NONE";const q8=nq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(e,t,r){return`firebase:${e}:${t}:${r}`}class sv{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:a,name:s}=this.auth;this.fullUserKey=aC(this.userKey,a.apiKey,s),this.fullPersistenceKey=aC("persistence",a.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await GC(this.auth,{idToken:t}).catch(()=>{});return r?Ju._fromGetAccountInfoResponse(this.auth,r,t):null}return Ju._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new sv(lf(q8),t,n);const a=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=a[0]||lf(q8);const i=aC(n,t.config.apiKey,t.name);let o=null;for(const u of r)try{const d=await u._get(i);if(d){let f;if(typeof d=="string"){const m=await GC(t,{idToken:d}).catch(()=>{});if(!m)break;f=await Ju._fromGetAccountInfoResponse(t,m,d)}else f=Ju._fromJSON(t,d);u!==s&&(o=f),s=u;break}}catch{}const l=a.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new sv(s,t,n):(s=l[0],o&&await s._set(i,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(i)}catch{}})),new sv(s,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(oq(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(aq(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cq(t))return"Blackberry";if(uq(t))return"Webos";if(sq(t))return"Safari";if((t.includes("chrome/")||iq(t))&&!t.includes("edge/"))return"Chrome";if(lq(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function aq(e=Mo()){return/firefox\//i.test(e)}function sq(e=Mo()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function iq(e=Mo()){return/crios\//i.test(e)}function oq(e=Mo()){return/iemobile/i.test(e)}function lq(e=Mo()){return/android/i.test(e)}function cq(e=Mo()){return/blackberry/i.test(e)}function uq(e=Mo()){return/webos/i.test(e)}function HF(e=Mo()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Bde(e=Mo()){var t;return HF(e)&&!!((t=window.navigator)!=null&&t.standalone)}function kde(){return Vce()&&document.documentMode===10}function dq(e=Mo()){return HF(e)||lq(e)||uq(e)||cq(e)||/windows phone/i.test(e)||oq(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(e,t=[]){let r;switch(e){case"Browser":r=W8(Mo());break;case"Worker":r=`${W8(Mo())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Ep}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tde{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=s=>new Promise((i,o)=>{try{const l=t(s);i(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ide(e,t={}){return Mf(e,"GET","/v2/passwordPolicy",R0(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jde=6;class Fde{constructor(t){var n;const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??jde,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),a&&(r.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<t.length;a++)n=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,a,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ode{constructor(t,r,n,a){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X8(this),this.idTokenSubscription=new X8(this),this.beforeStateQueue=new Tde(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YG,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=lf(r)),this._initializationPromise=this.queue(async()=>{var n,a,s;if(!this._deleted&&(this.persistenceManager=await sv.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await GC(this,{idToken:t}),n=await Ju._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(lc(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(t);(!i||i===o)&&(l!=null&&l.user)&&(n=l.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(i){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Or(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await qC(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Ade()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(lc(this.app))return Promise.reject(l0(this));const r=t?va(t):null;return r&&Or(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&Or(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return lc(this.app)?Promise.reject(l0(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return lc(this.app)?Promise.reject(l0(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lf(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Ide(this),r=new Fde(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Dy("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Nde(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&lf(t)||this._popupRedirectResolver;Or(r,this,"argument-error"),this.redirectPersistenceManager=await sv.create(this,[lf(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,a){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let i=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Or(o,this,"internal-error"),o.then(()=>{i||s(this.currentUser)}),typeof r=="function"){const l=t.addObserver(r,n,a);return()=>{i=!0,l()}}else{const l=t.addObserver(r);return()=>{i=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Or(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Aq(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var r;if(lc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return t!=null&&t.error&&cde(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Cp(e){return va(e)}class X8{constructor(t){this.auth=t,this.observer=null,this.addObserver=Yce(r=>this.observer=r)}get next(){return Or(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dde(e){WS=e}function fq(e){return WS.loadJS(e)}function Pde(){return WS.recaptchaEnterpriseScript}function Rde(){return WS.gapiScript}function Lde(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class Ude{constructor(){this.enterprise=new Mde}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class Mde{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const Qde="recaptcha-enterprise",hq="NO_RECAPTCHA";class Hde{constructor(t){this.type=Qde,this.auth=Cp(t)}async verify(t="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(i,o)=>{xde(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new vde(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,i(u.siteKey)}}).catch(l=>{o(l)})})}function a(s,i,o){const l=window.grecaptcha;$8(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(u=>{i(u)}).catch(()=>{i(hq)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ude().execute("siteKey",{action:"verify"}):new Promise((s,i)=>{n(this.auth).then(o=>{if(!r&&$8(window.grecaptcha))a(o,s,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Pde();l.length!==0&&(l+=o),fq(l).then(()=>{a(o,s,i)}).catch(u=>{i(u)})}}).catch(o=>{i(o)})})}}async function Y8(e,t,r,n=!1,a=!1){const s=new Hde(e);let i;if(a)i=hq;else try{i=await s.verify(r)}catch{i=await s.verify(r,!0)}const o={...t};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function K3(e,t,r,n,a){var s;if((s=e._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Y8(e,t,r,r==="getOobCode");return n(e,i)}else return n(e,t).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Y8(e,t,r,r==="getOobCode");return n(e,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vde(e,t){const r=Ry(e,"auth");if(r.isInitialized()){const a=r.getImmediate(),s=r.getOptions();if(b0(s,t??{}))return a;ad(a,"already-initialized")}return r.initialize({options:t})}function zde(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(lf);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function $de(e,t,r){const n=Cp(e);Or(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const a=!1,s=mq(t),{host:i,port:o}=Kde(t),l=o===null?"":`:${o}`,u={url:`${s}//${i}${l}/`},d=Object.freeze({host:i,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){Or(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Or(b0(u,n.config.emulator)&&b0(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,Uf(i)?($S(`${s}//${i}${l}`),KS("Auth",!0)):Gde()}function mq(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Kde(e){const t=mq(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const s=a[1];return{host:s,port:J8(n.substr(s.length+1))}}else{const[s,i]=n.split(":");return{host:s,port:J8(i)}}}function J8(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Gde(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return of("not implemented")}_getIdTokenResponse(t){return of("not implemented")}_linkToIdToken(t,r){return of("not implemented")}_getReauthenticationResolver(t){return of("not implemented")}}async function qde(e,t){return Mf(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wde(e,t){return qS(e,"POST","/v1/accounts:signInWithPassword",R0(e,t))}async function Xde(e,t){return Mf(e,"POST","/v1/accounts:sendOobCode",R0(e,t))}async function Yde(e,t){return Xde(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jde(e,t){return qS(e,"POST","/v1/accounts:signInWithEmailLink",R0(e,t))}async function Zde(e,t){return qS(e,"POST","/v1/accounts:signInWithEmailLink",R0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb extends VF{constructor(t,r,n,a=null){super("password",n),this._email=t,this._password=r,this._tenantId=a}static _fromEmailAndPassword(t,r){return new Vb(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new Vb(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return K3(t,r,"signInWithPassword",Wde);case"emailLink":return Jde(t,{email:this._email,oobCode:this._password});default:ad(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return K3(t,n,"signUpPassword",qde);case"emailLink":return Zde(t,{idToken:r,email:this._email,oobCode:this._password});default:ad(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iv(e,t){return qS(e,"POST","/v1/accounts:signInWithIdp",R0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eAe="http://localhost";class ip extends VF{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new ip(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):ad("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:a,...s}=r;if(!n||!a)return null;const i=new ip(n,a);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(t){const r=this.buildRequest();return iv(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,iv(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,iv(t,r)}buildRequest(){const t={requestUri:eAe,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Py(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tAe(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rAe(e){const t=V1(z1(e)).link,r=t?V1(z1(t)).deep_link_id:null,n=V1(z1(e)).deep_link_id;return(n?V1(z1(n)).link:null)||n||r||t||e}class zF{constructor(t){const r=V1(z1(t)),n=r.apiKey??null,a=r.oobCode??null,s=tAe(r.mode??null);Or(n&&a&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=a,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(t){const r=rAe(t);try{return new zF(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.providerId=nx.PROVIDER_ID}static credential(t,r){return Vb._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=zF.parseLink(r);return Or(n,"argument-error"),Vb._fromEmailAndCode(t,n.code,n.tenantId)}}nx.PROVIDER_ID="password";nx.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nx.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy extends pq{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends Uy{constructor(){super("facebook.com")}static credential(t){return ip._fromParams({providerId:$h.PROVIDER_ID,signInMethod:$h.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $h.credentialFromTaggedObject(t)}static credentialFromError(t){return $h.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $h.credential(t.oauthAccessToken)}catch{return null}}}$h.FACEBOOK_SIGN_IN_METHOD="facebook.com";$h.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends Uy{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return ip._fromParams({providerId:Kh.PROVIDER_ID,signInMethod:Kh.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Kh.credentialFromTaggedObject(t)}static credentialFromError(t){return Kh.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return Kh.credential(r,n)}catch{return null}}}Kh.GOOGLE_SIGN_IN_METHOD="google.com";Kh.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends Uy{constructor(){super("github.com")}static credential(t){return ip._fromParams({providerId:Gh.PROVIDER_ID,signInMethod:Gh.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gh.credentialFromTaggedObject(t)}static credentialFromError(t){return Gh.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gh.credential(t.oauthAccessToken)}catch{return null}}}Gh.GITHUB_SIGN_IN_METHOD="github.com";Gh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends Uy{constructor(){super("twitter.com")}static credential(t,r){return ip._fromParams({providerId:qh.PROVIDER_ID,signInMethod:qh.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return qh.credentialFromTaggedObject(t)}static credentialFromError(t){return qh.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return qh.credential(r,n)}catch{return null}}}qh.TWITTER_SIGN_IN_METHOD="twitter.com";qh.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,a=!1){const s=await Ju._fromIdTokenResponse(t,n,a),i=Z8(n);return new Cv({user:s,providerId:i,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const a=Z8(n);return new Cv({user:t,providerId:a,_tokenResponse:n,operationType:r})}}function Z8(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC extends id{constructor(t,r,n,a){super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,WC.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,a){return new WC(t,r,n,a)}}function gq(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?WC._fromErrorAndOperation(e,s,t,n):s})}async function nAe(e,t,r=!1){const n=await Hb(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return Cv._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aAe(e,t,r=!1){const{auth:n}=e;if(lc(n.app))return Promise.reject(l0(n));const a="reauthenticate";try{const s=await Hb(e,gq(n,a,t,e),r);Or(s.idToken,n,"internal-error");const i=QF(s.idToken);Or(i,n,"internal-error");const{sub:o}=i;return Or(e.uid===o,n,"user-mismatch"),Cv._forOperation(e,a,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ad(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vq(e,t,r=!1){if(lc(e.app))return Promise.reject(l0(e));const n="signIn",a=await gq(e,n,t),s=await Cv._fromIdTokenResponse(e,n,a);return r||await e._updateCurrentUser(s.user),s}async function sAe(e,t){return vq(Cp(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iAe(e){const t=Cp(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function oAe(e,t,r){const n=Cp(e);await K3(n,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Yde)}function lAe(e,t,r){return lc(e.app)?Promise.reject(l0(e)):sAe(va(e),nx.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&iAe(e),n})}function cAe(e,t,r,n){return va(e).onIdTokenChanged(t,r,n)}function uAe(e,t,r){return va(e).beforeAuthStateChanged(t,r)}function xq(e,t,r,n){return va(e).onAuthStateChanged(t,r,n)}function dAe(e){return va(e).signOut()}const XC="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(XC,"1"),this.storage.removeItem(XC),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AAe=1e3,fAe=10;class yq extends bq{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dq(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&t(r,a,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((i,o,l)=>{this.notifyListeners(i,l)});return}const n=t.key;r?this.detachListener():this.stopPolling();const a=()=>{const i=this.storage.getItem(n);!r&&this.localCache[n]===i||this.notifyListeners(n,i)},s=this.storage.getItem(n);kde()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,fAe):a()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},AAe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}yq.type="LOCAL";const hAe=yq;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq extends bq{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}wq.type="SESSION";const Eq=wq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mAe(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const n=new XS(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:a,data:s}=r.data,i=this.handlersMap[a];if(!(i!=null&&i.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const o=Array.from(i).map(async u=>u(r.origin,s)),l=await mAe(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}XS.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pAe{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,i;return new Promise((o,l)=>{const u=$F("",20);a.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},n);i={messageChannel:a,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(m.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(i),a.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:t,eventId:u,data:r},[a.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(){return window}function gAe(e){oA().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(){return typeof oA().WorkerGlobalScope<"u"&&typeof oA().importScripts=="function"}async function vAe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xAe(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function bAe(){return Cq()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q="firebaseLocalStorageDb",yAe=1,YC="firebaseLocalStorage",Sq="fbase_key";class My{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function YS(e,t){return e.transaction([YC],t?"readwrite":"readonly").objectStore(YC)}function wAe(){const e=indexedDB.deleteDatabase(_q);return new My(e).toPromise()}function G3(){const e=indexedDB.open(_q,yAe);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(YC,{keyPath:Sq})}catch(a){r(a)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(YC)?t(n):(n.close(),await wAe(),t(await G3()))})})}async function eU(e,t,r){const n=YS(e,!0).put({[Sq]:t,value:r});return new My(n).toPromise()}async function EAe(e,t){const r=YS(e,!1).get(t),n=await new My(r).toPromise();return n===void 0?null:n.value}function tU(e,t){const r=YS(e,!0).delete(t);return new My(r).toPromise()}const CAe=800,_Ae=3;class Nq{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await G3(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>_Ae)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cq()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=XS._getInstance(bAe()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await vAe(),!this.activeServiceWorker)return;this.sender=new pAe(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(r=t[0])!=null&&r.fulfilled&&(n=t[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||xAe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await G3();return await eU(t,XC,"1"),await tU(t,XC),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>eU(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>EAe(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>tU(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const s=YS(a,!1).getAll();return new My(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:a,value:s}of t)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CAe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Nq.type="LOCAL";const SAe=Nq;new Ly(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NAe(e,t){return t?lf(t):(Or(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF extends VF{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return iv(t,this._buildIdpRequest())}_linkToIdToken(t,r){return iv(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return iv(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function BAe(e){return vq(e.auth,new KF(e),e.bypassAuthState)}function kAe(e){const{auth:t,user:r}=e;return Or(r,t,"internal-error"),aAe(r,new KF(e),e.bypassAuthState)}async function TAe(e){const{auth:t,user:r}=e;return Or(r,t,"internal-error"),nAe(r,new KF(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(t,r,n,a,s=!1){this.auth=t,this.resolver=n,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:a,tenantId:s,error:i,type:o}=t;if(i){this.reject(i);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return BAe;case"linkViaPopup":case"linkViaRedirect":return TAe;case"reauthViaPopup":case"reauthViaRedirect":return kAe;default:ad(this.auth,"internal-error")}}resolve(t){Cf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Cf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IAe=new Ly(2e3,1e4);class $g extends Bq{constructor(t,r,n,a,s){super(t,r,a,s),this.provider=n,this.authWindow=null,this.pollId=null,$g.currentPopupAction&&$g.currentPopupAction.cancel(),$g.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Or(t,this.auth,"internal-error"),t}async onExecution(){Cf(this.filter.length===1,"Popup operations only handle one event");const t=$F();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(iA(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(iA(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$g.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(iA(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,IAe.get())};t()}}$g.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jAe="pendingRedirect",sC=new Map;class FAe extends Bq{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=sC.get(this.auth._key());if(!t){try{const n=await OAe(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}sC.set(this.auth._key(),t)}return this.bypassAuthState||sC.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OAe(e,t){const r=RAe(t),n=PAe(e);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function DAe(e,t){sC.set(e._key(),t)}function PAe(e){return lf(e._redirectPersistence)}function RAe(e){return aC(jAe,e.config.apiKey,e.name)}async function LAe(e,t,r=!1){if(lc(e.app))return Promise.reject(l0(e));const n=Cp(e),a=NAe(n,t),i=await new FAe(n,a,r).execute();return i&&!r&&(delete i.user._redirectEventId,await n._persistUserIfCurrent(i.user),await n._setRedirectUser(null,t)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UAe=600*1e3;class MAe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!QAe(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!kq(t)){const a=((n=t.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(iA(this.auth,a))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=UAe&&this.cachedEventUids.clear(),this.cachedEventUids.has(rU(t))}saveEventToCache(t){this.cachedEventUids.add(rU(t)),this.lastProcessedEventTime=Date.now()}}function rU(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function kq({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function QAe(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kq(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HAe(e,t={}){return Mf(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VAe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zAe=/^https?/;async function $Ae(e){if(e.config.emulator)return;const{authorizedDomains:t}=await HAe(e);for(const r of t)try{if(KAe(r))return}catch{}ad(e,"unauthorized-domain")}function KAe(e){const t=z3(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return i.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&i.hostname===n}if(!zAe.test(r))return!1;if(VAe.test(e))return n===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GAe=new Ly(3e4,6e4);function nU(){const e=oA().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function qAe(e){return new Promise((t,r)=>{var a,s,i;function n(){nU(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nU(),r(iA(e,"network-request-failed"))},timeout:GAe.get()})}if((s=(a=oA().gapi)==null?void 0:a.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((i=oA().gapi)!=null&&i.load)n();else{const o=Lde("iframefcb");return oA()[o]=()=>{gapi.load?n():r(iA(e,"network-request-failed"))},fq(`${Rde()}?onload=${o}`).catch(l=>r(l))}}).catch(t=>{throw iC=null,t})}let iC=null;function WAe(e){return iC=iC||qAe(e),iC}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XAe=new Ly(5e3,15e3),YAe="__/auth/iframe",JAe="emulator/auth/iframe",ZAe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},efe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tfe(e){const t=e.config;Or(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?MF(t,JAe):`https://${e.config.authDomain}/${YAe}`,n={apiKey:t.apiKey,appName:e.name,v:Ep},a=efe.get(e.config.apiHost);a&&(n.eid=a);const s=e._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Py(n).slice(1)}`}async function rfe(e){const t=await WAe(e),r=oA().gapi;return Or(r,e,"internal-error"),t.open({where:document.body,url:tfe(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZAe,dontclear:!0},n=>new Promise(async(a,s)=>{await n.restyle({setHideOnLeave:!1});const i=iA(e,"network-request-failed"),o=oA().setTimeout(()=>{s(i)},XAe.get());function l(){oA().clearTimeout(o),a(n)}n.ping(l).then(l,()=>{s(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nfe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},afe=500,sfe=600,ife="_blank",ofe="http://localhost";class aU{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lfe(e,t,r,n=afe,a=sfe){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),i=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...nfe,width:n.toString(),height:a.toString(),top:s,left:i},u=Mo().toLowerCase();r&&(o=iq(u)?ife:r),aq(u)&&(t=t||ofe,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[p,x])=>`${m}${p}=${x},`,"");if(Bde(u)&&o!=="_self")return cfe(t||"",o),new aU(null);const f=window.open(t||"",o,d);Or(f,e,"popup-blocked");try{f.focus()}catch{}return new aU(f)}function cfe(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ufe="__/auth/handler",dfe="emulator/auth/handler",Afe=encodeURIComponent("fac");async function sU(e,t,r,n,a,s){Or(e.config.authDomain,e,"auth-domain-config-required"),Or(e.config.apiKey,e,"invalid-api-key");const i={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:Ep,eventId:a};if(t instanceof pq){t.setDefaultLanguage(e.languageCode),i.providerId=t.providerId||"",Xce(t.getCustomParameters())||(i.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,f]of Object.entries({}))i[d]=f}if(t instanceof Uy){const d=t.getScopes().filter(f=>f!=="");d.length>0&&(i.scopes=d.join(","))}e.tenantId&&(i.tid=e.tenantId);const o=i;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await e._getAppCheckToken(),u=l?`#${Afe}=${encodeURIComponent(l)}`:"";return`${ffe(e)}?${Py(o).slice(1)}${u}`}function ffe({config:e}){return e.emulator?MF(e,dfe):`https://${e.authDomain}/${ufe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB="webStorageSupport";class hfe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Eq,this._completeRedirectFn=LAe,this._overrideRedirectResult=DAe}async _openPopup(t,r,n,a){var i;Cf((i=this.eventManagers[t._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await sU(t,r,n,z3(),a);return lfe(t,s,$F())}async _openRedirect(t,r,n,a){await this._originValidation(t);const s=await sU(t,r,n,z3(),a);return gAe(s),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:a,promise:s}=this.eventManagers[r];return a?Promise.resolve(a):(Cf(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await rfe(t),n=new MAe(t);return r.register("authEvent",a=>(Or(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(mB,{type:mB},a=>{var i;const s=(i=a==null?void 0:a[0])==null?void 0:i[mB];s!==void 0&&r(!!s),ad(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=$Ae(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return dq()||sq()||HF()}}const mfe=hfe;var iU="@firebase/auth",oU="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pfe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Or(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gfe(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vfe(e){y0(new wf("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:i,authDomain:o}=n.options;Or(i&&!i.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:i,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Aq(e)},u=new Ode(n,a,s,l);return zde(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),y0(new wf("auth-internal",t=>{const r=Cp(t.getProvider("auth").getImmediate());return(n=>new pfe(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),fu(iU,oU,gfe(e)),fu(iU,oU,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xfe=300,bfe=zG("authIdTokenMaxAge")||xfe;let lU=null;const yfe=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>bfe)return;const a=r==null?void 0:r.token;lU!==a&&(lU=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Tq(e=GS()){const t=Ry(e,"auth");if(t.isInitialized())return t.getImmediate();const r=Vde(e,{popupRedirectResolver:mfe,persistence:[SAe,hAe,Eq]}),n=zG("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const i=yfe(s.toString());uAe(r,i,()=>i(r.currentUser)),cAe(r,o=>i(o))}}const a=HG("auth");return a&&$de(r,`http://${a}`),r}function wfe(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}Dde({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=a=>{const s=iA("internal-error");s.customData=a,r(s)},n.type="text/javascript",n.charset="UTF-8",wfe().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vfe("Browser");var Efe="firebase",Cfe="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fu(Efe,Cfe,"app");var cU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var c0,Iq;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(w,C){function N(){}N.prototype=C.prototype,w.D=C.prototype,w.prototype=new N,w.prototype.constructor=w,w.C=function(R,D,O){for(var M=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)M[Q-2]=arguments[Q];return C.prototype[D].apply(R,M)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(w,C,N){N||(N=0);var R=Array(16);if(typeof C=="string")for(var D=0;16>D;++D)R[D]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(D=0;16>D;++D)R[D]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=w.g[0],N=w.g[1],D=w.g[2];var O=w.g[3],M=C+(O^N&(D^O))+R[0]+3614090360&4294967295;C=N+(M<<7&4294967295|M>>>25),M=O+(D^C&(N^D))+R[1]+3905402710&4294967295,O=C+(M<<12&4294967295|M>>>20),M=D+(N^O&(C^N))+R[2]+606105819&4294967295,D=O+(M<<17&4294967295|M>>>15),M=N+(C^D&(O^C))+R[3]+3250441966&4294967295,N=D+(M<<22&4294967295|M>>>10),M=C+(O^N&(D^O))+R[4]+4118548399&4294967295,C=N+(M<<7&4294967295|M>>>25),M=O+(D^C&(N^D))+R[5]+1200080426&4294967295,O=C+(M<<12&4294967295|M>>>20),M=D+(N^O&(C^N))+R[6]+2821735955&4294967295,D=O+(M<<17&4294967295|M>>>15),M=N+(C^D&(O^C))+R[7]+4249261313&4294967295,N=D+(M<<22&4294967295|M>>>10),M=C+(O^N&(D^O))+R[8]+1770035416&4294967295,C=N+(M<<7&4294967295|M>>>25),M=O+(D^C&(N^D))+R[9]+2336552879&4294967295,O=C+(M<<12&4294967295|M>>>20),M=D+(N^O&(C^N))+R[10]+4294925233&4294967295,D=O+(M<<17&4294967295|M>>>15),M=N+(C^D&(O^C))+R[11]+2304563134&4294967295,N=D+(M<<22&4294967295|M>>>10),M=C+(O^N&(D^O))+R[12]+1804603682&4294967295,C=N+(M<<7&4294967295|M>>>25),M=O+(D^C&(N^D))+R[13]+4254626195&4294967295,O=C+(M<<12&4294967295|M>>>20),M=D+(N^O&(C^N))+R[14]+2792965006&4294967295,D=O+(M<<17&4294967295|M>>>15),M=N+(C^D&(O^C))+R[15]+1236535329&4294967295,N=D+(M<<22&4294967295|M>>>10),M=C+(D^O&(N^D))+R[1]+4129170786&4294967295,C=N+(M<<5&4294967295|M>>>27),M=O+(N^D&(C^N))+R[6]+3225465664&4294967295,O=C+(M<<9&4294967295|M>>>23),M=D+(C^N&(O^C))+R[11]+643717713&4294967295,D=O+(M<<14&4294967295|M>>>18),M=N+(O^C&(D^O))+R[0]+3921069994&4294967295,N=D+(M<<20&4294967295|M>>>12),M=C+(D^O&(N^D))+R[5]+3593408605&4294967295,C=N+(M<<5&4294967295|M>>>27),M=O+(N^D&(C^N))+R[10]+38016083&4294967295,O=C+(M<<9&4294967295|M>>>23),M=D+(C^N&(O^C))+R[15]+3634488961&4294967295,D=O+(M<<14&4294967295|M>>>18),M=N+(O^C&(D^O))+R[4]+3889429448&4294967295,N=D+(M<<20&4294967295|M>>>12),M=C+(D^O&(N^D))+R[9]+568446438&4294967295,C=N+(M<<5&4294967295|M>>>27),M=O+(N^D&(C^N))+R[14]+3275163606&4294967295,O=C+(M<<9&4294967295|M>>>23),M=D+(C^N&(O^C))+R[3]+4107603335&4294967295,D=O+(M<<14&4294967295|M>>>18),M=N+(O^C&(D^O))+R[8]+1163531501&4294967295,N=D+(M<<20&4294967295|M>>>12),M=C+(D^O&(N^D))+R[13]+2850285829&4294967295,C=N+(M<<5&4294967295|M>>>27),M=O+(N^D&(C^N))+R[2]+4243563512&4294967295,O=C+(M<<9&4294967295|M>>>23),M=D+(C^N&(O^C))+R[7]+1735328473&4294967295,D=O+(M<<14&4294967295|M>>>18),M=N+(O^C&(D^O))+R[12]+2368359562&4294967295,N=D+(M<<20&4294967295|M>>>12),M=C+(N^D^O)+R[5]+4294588738&4294967295,C=N+(M<<4&4294967295|M>>>28),M=O+(C^N^D)+R[8]+2272392833&4294967295,O=C+(M<<11&4294967295|M>>>21),M=D+(O^C^N)+R[11]+1839030562&4294967295,D=O+(M<<16&4294967295|M>>>16),M=N+(D^O^C)+R[14]+4259657740&4294967295,N=D+(M<<23&4294967295|M>>>9),M=C+(N^D^O)+R[1]+2763975236&4294967295,C=N+(M<<4&4294967295|M>>>28),M=O+(C^N^D)+R[4]+1272893353&4294967295,O=C+(M<<11&4294967295|M>>>21),M=D+(O^C^N)+R[7]+4139469664&4294967295,D=O+(M<<16&4294967295|M>>>16),M=N+(D^O^C)+R[10]+3200236656&4294967295,N=D+(M<<23&4294967295|M>>>9),M=C+(N^D^O)+R[13]+681279174&4294967295,C=N+(M<<4&4294967295|M>>>28),M=O+(C^N^D)+R[0]+3936430074&4294967295,O=C+(M<<11&4294967295|M>>>21),M=D+(O^C^N)+R[3]+3572445317&4294967295,D=O+(M<<16&4294967295|M>>>16),M=N+(D^O^C)+R[6]+76029189&4294967295,N=D+(M<<23&4294967295|M>>>9),M=C+(N^D^O)+R[9]+3654602809&4294967295,C=N+(M<<4&4294967295|M>>>28),M=O+(C^N^D)+R[12]+3873151461&4294967295,O=C+(M<<11&4294967295|M>>>21),M=D+(O^C^N)+R[15]+530742520&4294967295,D=O+(M<<16&4294967295|M>>>16),M=N+(D^O^C)+R[2]+3299628645&4294967295,N=D+(M<<23&4294967295|M>>>9),M=C+(D^(N|~O))+R[0]+4096336452&4294967295,C=N+(M<<6&4294967295|M>>>26),M=O+(N^(C|~D))+R[7]+1126891415&4294967295,O=C+(M<<10&4294967295|M>>>22),M=D+(C^(O|~N))+R[14]+2878612391&4294967295,D=O+(M<<15&4294967295|M>>>17),M=N+(O^(D|~C))+R[5]+4237533241&4294967295,N=D+(M<<21&4294967295|M>>>11),M=C+(D^(N|~O))+R[12]+1700485571&4294967295,C=N+(M<<6&4294967295|M>>>26),M=O+(N^(C|~D))+R[3]+2399980690&4294967295,O=C+(M<<10&4294967295|M>>>22),M=D+(C^(O|~N))+R[10]+4293915773&4294967295,D=O+(M<<15&4294967295|M>>>17),M=N+(O^(D|~C))+R[1]+2240044497&4294967295,N=D+(M<<21&4294967295|M>>>11),M=C+(D^(N|~O))+R[8]+1873313359&4294967295,C=N+(M<<6&4294967295|M>>>26),M=O+(N^(C|~D))+R[15]+4264355552&4294967295,O=C+(M<<10&4294967295|M>>>22),M=D+(C^(O|~N))+R[6]+2734768916&4294967295,D=O+(M<<15&4294967295|M>>>17),M=N+(O^(D|~C))+R[13]+1309151649&4294967295,N=D+(M<<21&4294967295|M>>>11),M=C+(D^(N|~O))+R[4]+4149444226&4294967295,C=N+(M<<6&4294967295|M>>>26),M=O+(N^(C|~D))+R[11]+3174756917&4294967295,O=C+(M<<10&4294967295|M>>>22),M=D+(C^(O|~N))+R[2]+718787259&4294967295,D=O+(M<<15&4294967295|M>>>17),M=N+(O^(D|~C))+R[9]+3951481745&4294967295,w.g[0]=w.g[0]+C&4294967295,w.g[1]=w.g[1]+(D+(M<<21&4294967295|M>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+O&4294967295}n.prototype.u=function(w,C){C===void 0&&(C=w.length);for(var N=C-this.blockSize,R=this.B,D=this.h,O=0;O<C;){if(D==0)for(;O<=N;)a(this,w,O),O+=this.blockSize;if(typeof w=="string"){for(;O<C;)if(R[D++]=w.charCodeAt(O++),D==this.blockSize){a(this,R),D=0;break}}else for(;O<C;)if(R[D++]=w[O++],D==this.blockSize){a(this,R),D=0;break}}this.h=D,this.o+=C},n.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var C=1;C<w.length-8;++C)w[C]=0;var N=8*this.o;for(C=w.length-8;C<w.length;++C)w[C]=N&255,N/=256;for(this.u(w),w=Array(16),C=N=0;4>C;++C)for(var R=0;32>R;R+=8)w[N++]=this.g[C]>>>R&255;return w};function s(w,C){var N=o;return Object.prototype.hasOwnProperty.call(N,w)?N[w]:N[w]=C(w)}function i(w,C){this.h=C;for(var N=[],R=!0,D=w.length-1;0<=D;D--){var O=w[D]|0;R&&O==C||(N[D]=O,R=!1)}this.g=N}var o={};function l(w){return-128<=w&&128>w?s(w,function(C){return new i([C|0],0>C?-1:0)}):new i([w|0],0>w?-1:0)}function u(w){if(isNaN(w)||!isFinite(w))return f;if(0>w)return b(u(-w));for(var C=[],N=1,R=0;w>=N;R++)C[R]=w/N|0,N*=4294967296;return new i(C,0)}function d(w,C){if(w.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w.charAt(0)=="-")return b(d(w.substring(1),C));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(C,8)),R=f,D=0;D<w.length;D+=8){var O=Math.min(8,w.length-D),M=parseInt(w.substring(D,D+O),C);8>O?(O=u(Math.pow(C,O)),R=R.j(O).add(u(M))):(R=R.j(N),R=R.add(u(M)))}return R}var f=l(0),m=l(1),p=l(16777216);e=i.prototype,e.m=function(){if(g(this))return-b(this).m();for(var w=0,C=1,N=0;N<this.g.length;N++){var R=this.i(N);w+=(0<=R?R:4294967296+R)*C,C*=4294967296}return w},e.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x(this))return"0";if(g(this))return"-"+b(this).toString(w);for(var C=u(Math.pow(w,6)),N=this,R="";;){var D=I(N,C).g;N=y(N,D.j(C));var O=((0<N.g.length?N.g[0]:N.h)>>>0).toString(w);if(N=D,x(N))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},e.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function x(w){if(w.h!=0)return!1;for(var C=0;C<w.g.length;C++)if(w.g[C]!=0)return!1;return!0}function g(w){return w.h==-1}e.l=function(w){return w=y(this,w),g(w)?-1:x(w)?0:1};function b(w){for(var C=w.g.length,N=[],R=0;R<C;R++)N[R]=~w.g[R];return new i(N,~w.h).add(m)}e.abs=function(){return g(this)?b(this):this},e.add=function(w){for(var C=Math.max(this.g.length,w.g.length),N=[],R=0,D=0;D<=C;D++){var O=R+(this.i(D)&65535)+(w.i(D)&65535),M=(O>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);R=M>>>16,O&=65535,M&=65535,N[D]=M<<16|O}return new i(N,N[N.length-1]&-2147483648?-1:0)};function y(w,C){return w.add(b(C))}e.j=function(w){if(x(this)||x(w))return f;if(g(this))return g(w)?b(this).j(b(w)):b(b(this).j(w));if(g(w))return b(this.j(b(w)));if(0>this.l(p)&&0>w.l(p))return u(this.m()*w.m());for(var C=this.g.length+w.g.length,N=[],R=0;R<2*C;R++)N[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<w.g.length;D++){var O=this.i(R)>>>16,M=this.i(R)&65535,Q=w.i(D)>>>16,ee=w.i(D)&65535;N[2*R+2*D]+=M*ee,_(N,2*R+2*D),N[2*R+2*D+1]+=O*ee,_(N,2*R+2*D+1),N[2*R+2*D+1]+=M*Q,_(N,2*R+2*D+1),N[2*R+2*D+2]+=O*Q,_(N,2*R+2*D+2)}for(R=0;R<C;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=C;R<2*C;R++)N[R]=0;return new i(N,0)};function _(w,C){for(;(w[C]&65535)!=w[C];)w[C+1]+=w[C]>>>16,w[C]&=65535,C++}function S(w,C){this.g=w,this.h=C}function I(w,C){if(x(C))throw Error("division by zero");if(x(w))return new S(f,f);if(g(w))return C=I(b(w),C),new S(b(C.g),b(C.h));if(g(C))return C=I(w,b(C)),new S(b(C.g),C.h);if(30<w.g.length){if(g(w)||g(C))throw Error("slowDivide_ only works with positive integers.");for(var N=m,R=C;0>=R.l(w);)N=T(N),R=T(R);var D=F(N,1),O=F(R,1);for(R=F(R,2),N=F(N,2);!x(R);){var M=O.add(R);0>=M.l(w)&&(D=D.add(N),O=M),R=F(R,1),N=F(N,1)}return C=y(w,D.j(C)),new S(D,C)}for(D=f;0<=w.l(C);){for(N=Math.max(1,Math.floor(w.m()/C.m())),R=Math.ceil(Math.log(N)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=u(N),M=O.j(C);g(M)||0<M.l(w);)N-=R,O=u(N),M=O.j(C);x(O)&&(O=m),D=D.add(O),w=y(w,M)}return new S(D,w)}e.A=function(w){return I(this,w).h},e.and=function(w){for(var C=Math.max(this.g.length,w.g.length),N=[],R=0;R<C;R++)N[R]=this.i(R)&w.i(R);return new i(N,this.h&w.h)},e.or=function(w){for(var C=Math.max(this.g.length,w.g.length),N=[],R=0;R<C;R++)N[R]=this.i(R)|w.i(R);return new i(N,this.h|w.h)},e.xor=function(w){for(var C=Math.max(this.g.length,w.g.length),N=[],R=0;R<C;R++)N[R]=this.i(R)^w.i(R);return new i(N,this.h^w.h)};function T(w){for(var C=w.g.length+1,N=[],R=0;R<C;R++)N[R]=w.i(R)<<1|w.i(R-1)>>>31;return new i(N,w.h)}function F(w,C){var N=C>>5;C%=32;for(var R=w.g.length-N,D=[],O=0;O<R;O++)D[O]=0<C?w.i(O+N)>>>C|w.i(O+N+1)<<32-C:w.i(O+N);return new i(D,w.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Iq=n,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=u,i.fromString=d,c0=i}).apply(typeof cU<"u"?cU:typeof self<"u"?self:typeof window<"u"?window:{});var k2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jq,$1,Fq,oC,q3,Oq,Dq,Pq;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(j,te,se){return j==Array.prototype||j==Object.prototype||(j[te]=se.value),j};function r(j){j=[typeof globalThis=="object"&&globalThis,j,typeof window=="object"&&window,typeof self=="object"&&self,typeof k2=="object"&&k2];for(var te=0;te<j.length;++te){var se=j[te];if(se&&se.Math==Math)return se}throw Error("Cannot find global object")}var n=r(this);function a(j,te){if(te)e:{var se=n;j=j.split(".");for(var ve=0;ve<j.length-1;ve++){var ze=j[ve];if(!(ze in se))break e;se=se[ze]}j=j[j.length-1],ve=se[j],te=te(ve),te!=ve&&te!=null&&t(se,j,{configurable:!0,writable:!0,value:te})}}function s(j,te){j instanceof String&&(j+="");var se=0,ve=!1,ze={next:function(){if(!ve&&se<j.length){var rt=se++;return{value:te(rt,j[rt]),done:!1}}return ve=!0,{done:!0,value:void 0}}};return ze[Symbol.iterator]=function(){return ze},ze}a("Array.prototype.values",function(j){return j||function(){return s(this,function(te,se){return se})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function l(j){var te=typeof j;return te=te!="object"?te:j?Array.isArray(j)?"array":te:"null",te=="array"||te=="object"&&typeof j.length=="number"}function u(j){var te=typeof j;return te=="object"&&j!=null||te=="function"}function d(j,te,se){return j.call.apply(j.bind,arguments)}function f(j,te,se){if(!j)throw Error();if(2<arguments.length){var ve=Array.prototype.slice.call(arguments,2);return function(){var ze=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ze,ve),j.apply(te,ze)}}return function(){return j.apply(te,arguments)}}function m(j,te,se){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function p(j,te){var se=Array.prototype.slice.call(arguments,1);return function(){var ve=se.slice();return ve.push.apply(ve,arguments),j.apply(this,ve)}}function x(j,te){function se(){}se.prototype=te.prototype,j.aa=te.prototype,j.prototype=new se,j.prototype.constructor=j,j.Qb=function(ve,ze,rt){for(var It=Array(arguments.length-2),Sr=2;Sr<arguments.length;Sr++)It[Sr-2]=arguments[Sr];return te.prototype[ze].apply(ve,It)}}function g(j){const te=j.length;if(0<te){const se=Array(te);for(let ve=0;ve<te;ve++)se[ve]=j[ve];return se}return[]}function b(j,te){for(let se=1;se<arguments.length;se++){const ve=arguments[se];if(l(ve)){const ze=j.length||0,rt=ve.length||0;j.length=ze+rt;for(let It=0;It<rt;It++)j[ze+It]=ve[It]}else j.push(ve)}}class y{constructor(te,se){this.i=te,this.j=se,this.h=0,this.g=null}get(){let te;return 0<this.h?(this.h--,te=this.g,this.g=te.next,te.next=null):te=this.i(),te}}function _(j){return/^[\s\xa0]*$/.test(j)}function S(){var j=o.navigator;return j&&(j=j.userAgent)?j:""}function I(j){return I[" "](j),j}I[" "]=function(){};var T=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function F(j,te,se){for(const ve in j)te.call(se,j[ve],ve,j)}function w(j,te){for(const se in j)te.call(void 0,j[se],se,j)}function C(j){const te={};for(const se in j)te[se]=j[se];return te}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(j,te){let se,ve;for(let ze=1;ze<arguments.length;ze++){ve=arguments[ze];for(se in ve)j[se]=ve[se];for(let rt=0;rt<N.length;rt++)se=N[rt],Object.prototype.hasOwnProperty.call(ve,se)&&(j[se]=ve[se])}}function D(j){var te=1;j=j.split(":");const se=[];for(;0<te&&j.length;)se.push(j.shift()),te--;return j.length&&se.push(j.join(":")),se}function O(j){o.setTimeout(()=>{throw j},0)}function M(){var j=q;let te=null;return j.g&&(te=j.g,j.g=j.g.next,j.g||(j.h=null),te.next=null),te}class Q{constructor(){this.h=this.g=null}add(te,se){const ve=ee.get();ve.set(te,se),this.h?this.h.next=ve:this.g=ve,this.h=ve}}var ee=new y(()=>new W,j=>j.reset());class W{constructor(){this.next=this.g=this.h=null}set(te,se){this.h=te,this.g=se,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,V=!1,q=new Q,K=()=>{const j=o.Promise.resolve(void 0);Z=()=>{j.then(J)}};var J=()=>{for(var j;j=M();){try{j.h.call(j.g)}catch(se){O(se)}var te=ee;te.j(j),100>te.h&&(te.h++,j.next=te.g,te.g=j)}V=!1};function P(){this.s=this.s,this.C=this.C}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(j,te){this.type=j,this.g=this.target=te,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var j=!1,te=Object.defineProperty({},"passive",{get:function(){j=!0}});try{const se=()=>{};o.addEventListener("test",se,te),o.removeEventListener("test",se,te)}catch{}return j}();function re(j,te){if(G.call(this,j?j.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,j){var se=this.type=j.type,ve=j.changedTouches&&j.changedTouches.length?j.changedTouches[0]:null;if(this.target=j.target||j.srcElement,this.g=te,te=j.relatedTarget){if(T){e:{try{I(te.nodeName);var ze=!0;break e}catch{}ze=!1}ze||(te=null)}}else se=="mouseover"?te=j.fromElement:se=="mouseout"&&(te=j.toElement);this.relatedTarget=te,ve?(this.clientX=ve.clientX!==void 0?ve.clientX:ve.pageX,this.clientY=ve.clientY!==void 0?ve.clientY:ve.pageY,this.screenX=ve.screenX||0,this.screenY=ve.screenY||0):(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0),this.button=j.button,this.key=j.key||"",this.ctrlKey=j.ctrlKey,this.altKey=j.altKey,this.shiftKey=j.shiftKey,this.metaKey=j.metaKey,this.pointerId=j.pointerId||0,this.pointerType=typeof j.pointerType=="string"?j.pointerType:ie[j.pointerType]||"",this.state=j.state,this.i=j,j.defaultPrevented&&re.aa.h.call(this)}}x(re,G);var ie={2:"touch",3:"pen",4:"mouse"};re.prototype.h=function(){re.aa.h.call(this);var j=this.i;j.preventDefault?j.preventDefault():j.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),me=0;function ue(j,te,se,ve,ze){this.listener=j,this.proxy=null,this.src=te,this.type=se,this.capture=!!ve,this.ha=ze,this.key=++me,this.da=this.fa=!1}function ye(j){j.da=!0,j.listener=null,j.proxy=null,j.src=null,j.ha=null}function Ie(j){this.src=j,this.g={},this.h=0}Ie.prototype.add=function(j,te,se,ve,ze){var rt=j.toString();j=this.g[rt],j||(j=this.g[rt]=[],this.h++);var It=Fe(j,te,ve,ze);return-1<It?(te=j[It],se||(te.fa=!1)):(te=new ue(te,this.src,rt,!!ve,ze),te.fa=se,j.push(te)),te};function ne(j,te){var se=te.type;if(se in j.g){var ve=j.g[se],ze=Array.prototype.indexOf.call(ve,te,void 0),rt;(rt=0<=ze)&&Array.prototype.splice.call(ve,ze,1),rt&&(ye(te),j.g[se].length==0&&(delete j.g[se],j.h--))}}function Fe(j,te,se,ve){for(var ze=0;ze<j.length;++ze){var rt=j[ze];if(!rt.da&&rt.listener==te&&rt.capture==!!se&&rt.ha==ve)return ze}return-1}var Le="closure_lm_"+(1e6*Math.random()|0),ke={};function pe(j,te,se,ve,ze){if(Array.isArray(te)){for(var rt=0;rt<te.length;rt++)pe(j,te[rt],se,ve,ze);return null}return se=Jt(se),j&&j[de]?j.K(te,se,u(ve)?!!ve.capture:!1,ze):je(j,te,se,!1,ve,ze)}function je(j,te,se,ve,ze,rt){if(!te)throw Error("Invalid event type");var It=u(ze)?!!ze.capture:!!ze,Sr=Ct(j);if(Sr||(j[Le]=Sr=new Ie(j)),se=Sr.add(te,se,ve,It,rt),se.proxy)return se;if(ve=He(),se.proxy=ve,ve.src=j,ve.listener=se,j.addEventListener)Y||(ze=It),ze===void 0&&(ze=!1),j.addEventListener(te.toString(),ve,ze);else if(j.attachEvent)j.attachEvent(Et(te.toString()),ve);else if(j.addListener&&j.removeListener)j.addListener(ve);else throw Error("addEventListener and attachEvent are unavailable.");return se}function He(){function j(se){return te.call(j.src,j.listener,se)}const te=Tt;return j}function Xe(j,te,se,ve,ze){if(Array.isArray(te))for(var rt=0;rt<te.length;rt++)Xe(j,te[rt],se,ve,ze);else ve=u(ve)?!!ve.capture:!!ve,se=Jt(se),j&&j[de]?(j=j.i,te=String(te).toString(),te in j.g&&(rt=j.g[te],se=Fe(rt,se,ve,ze),-1<se&&(ye(rt[se]),Array.prototype.splice.call(rt,se,1),rt.length==0&&(delete j.g[te],j.h--)))):j&&(j=Ct(j))&&(te=j.g[te.toString()],j=-1,te&&(j=Fe(te,se,ve,ze)),(se=-1<j?te[j]:null)&&dt(se))}function dt(j){if(typeof j!="number"&&j&&!j.da){var te=j.src;if(te&&te[de])ne(te.i,j);else{var se=j.type,ve=j.proxy;te.removeEventListener?te.removeEventListener(se,ve,j.capture):te.detachEvent?te.detachEvent(Et(se),ve):te.addListener&&te.removeListener&&te.removeListener(ve),(se=Ct(te))?(ne(se,j),se.h==0&&(se.src=null,te[Le]=null)):ye(j)}}}function Et(j){return j in ke?ke[j]:ke[j]="on"+j}function Tt(j,te){if(j.da)j=!0;else{te=new re(te,this);var se=j.listener,ve=j.ha||j.src;j.fa&&dt(j),j=se.call(ve,te)}return j}function Ct(j){return j=j[Le],j instanceof Ie?j:null}var Dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jt(j){return typeof j=="function"?j:(j[Dt]||(j[Dt]=function(te){return j.handleEvent(te)}),j[Dt])}function Pt(){P.call(this),this.i=new Ie(this),this.M=this,this.F=null}x(Pt,P),Pt.prototype[de]=!0,Pt.prototype.removeEventListener=function(j,te,se,ve){Xe(this,j,te,se,ve)};function Mt(j,te){var se,ve=j.F;if(ve)for(se=[];ve;ve=ve.F)se.push(ve);if(j=j.M,ve=te.type||te,typeof te=="string")te=new G(te,j);else if(te instanceof G)te.target=te.target||j;else{var ze=te;te=new G(ve,j),R(te,ze)}if(ze=!0,se)for(var rt=se.length-1;0<=rt;rt--){var It=te.g=se[rt];ze=Wt(It,ve,!0,te)&&ze}if(It=te.g=j,ze=Wt(It,ve,!0,te)&&ze,ze=Wt(It,ve,!1,te)&&ze,se)for(rt=0;rt<se.length;rt++)It=te.g=se[rt],ze=Wt(It,ve,!1,te)&&ze}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var j=this.i,te;for(te in j.g){for(var se=j.g[te],ve=0;ve<se.length;ve++)ye(se[ve]);delete j.g[te],j.h--}}this.F=null},Pt.prototype.K=function(j,te,se,ve){return this.i.add(String(j),te,!1,se,ve)},Pt.prototype.L=function(j,te,se,ve){return this.i.add(String(j),te,!0,se,ve)};function Wt(j,te,se,ve){if(te=j.i.g[String(te)],!te)return!0;te=te.concat();for(var ze=!0,rt=0;rt<te.length;++rt){var It=te[rt];if(It&&!It.da&&It.capture==se){var Sr=It.listener,on=It.ha||It.src;It.fa&&ne(j.i,It),ze=Sr.call(on,ve)!==!1&&ze}}return ze&&!ve.defaultPrevented}function De(j,te,se){if(typeof j=="function")se&&(j=m(j,se));else if(j&&typeof j.handleEvent=="function")j=m(j.handleEvent,j);else throw Error("Invalid listener argument");return 2147483647<Number(te)?-1:o.setTimeout(j,te||0)}function Pe(j){j.g=De(()=>{j.g=null,j.i&&(j.i=!1,Pe(j))},j.l);const te=j.h;j.h=null,j.m.apply(null,te)}class Be extends P{constructor(te,se){super(),this.m=te,this.l=se,this.h=null,this.i=!1,this.g=null}j(te){this.h=arguments,this.g?this.i=!0:Pe(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ot(j){P.call(this),this.h=j,this.g={}}x(ot,P);var vt=[];function ur(j){F(j.g,function(te,se){this.g.hasOwnProperty(se)&&dt(te)},j),j.g={}}ot.prototype.N=function(){ot.aa.N.call(this),ur(this)},ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gt=o.JSON.stringify,Rt=o.JSON.parse,Vr=class{stringify(j){return o.JSON.stringify(j,void 0)}parse(j){return o.JSON.parse(j,void 0)}};function dr(){}dr.prototype.h=null;function yn(j){return j.h||(j.h=j.i())}function Qr(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zn(){G.call(this,"d")}x(Zn,G);function or(){G.call(this,"c")}x(or,G);var Zt={},Kr=null;function Ls(){return Kr=Kr||new Pt}Zt.La="serverreachability";function ua(j){G.call(this,Zt.La,j)}x(ua,G);function Ha(j){const te=Ls();Mt(te,new ua(te))}Zt.STAT_EVENT="statevent";function ai(j,te){G.call(this,Zt.STAT_EVENT,j),this.stat=te}x(ai,G);function qt(j){const te=Ls();Mt(te,new ai(te,j))}Zt.Ma="timingevent";function wn(j,te){G.call(this,Zt.Ma,j),this.size=te}x(wn,G);function An(j,te){if(typeof j!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){j()},te)}function Vn(){this.g=!0}Vn.prototype.xa=function(){this.g=!1};function ea(j,te,se,ve,ze,rt){j.info(function(){if(j.g)if(rt)for(var It="",Sr=rt.split("&"),on=0;on<Sr.length;on++){var Lr=Sr[on].split("=");if(1<Lr.length){var On=Lr[0];Lr=Lr[1];var Kn=On.split("_");It=2<=Kn.length&&Kn[1]=="type"?It+(On+"="+Lr+"&"):It+(On+"=redacted&")}}else It=null;else It=rt;return"XMLHTTP REQ ("+ve+") [attempt "+ze+"]: "+te+`
`+se+`
`+It})}function da(j,te,se,ve,ze,rt,It){j.info(function(){return"XMLHTTP RESP ("+ve+") [ attempt "+ze+"]: "+te+`
`+se+`
`+rt+" "+It})}function Ae(j,te,se,ve){j.info(function(){return"XMLHTTP TEXT ("+te+"): "+we(j,se)+(ve?" "+ve:"")})}function Se(j,te){j.info(function(){return"TIMEOUT: "+te})}Vn.prototype.info=function(){};function we(j,te){if(!j.g)return te;if(!te)return null;try{var se=JSON.parse(te);if(se){for(j=0;j<se.length;j++)if(Array.isArray(se[j])){var ve=se[j];if(!(2>ve.length)){var ze=ve[1];if(Array.isArray(ze)&&!(1>ze.length)){var rt=ze[0];if(rt!="noop"&&rt!="stop"&&rt!="close")for(var It=1;It<ze.length;It++)ze[It]=""}}}}return Gt(se)}catch{return te}}var Ee={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ne;function We(){}x(We,dr),We.prototype.g=function(){return new XMLHttpRequest},We.prototype.i=function(){return{}},Ne=new We;function st(j,te,se,ve){this.j=j,this.i=te,this.l=se,this.R=ve||1,this.U=new ot(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $e}function $e(){this.i=null,this.g="",this.h=!1}var Je={},tt={};function wt(j,te,se){j.L=1,j.v=Nc(oi(te)),j.m=se,j.P=!0,Ot(j,null)}function Ot(j,te){j.F=Date.now(),Lt(j),j.A=oi(j.v);var se=j.A,ve=j.R;Array.isArray(ve)||(ve=[String(ve)]),_r(se.i,"t",ve),j.C=0,se=j.j.J,j.h=new $e,j.g=ce(j.j,se?te:null,!j.m),0<j.O&&(j.M=new Be(m(j.Y,j,j.g),j.O)),te=j.U,se=j.g,ve=j.ca;var ze="readystatechange";Array.isArray(ze)||(ze&&(vt[0]=ze.toString()),ze=vt);for(var rt=0;rt<ze.length;rt++){var It=pe(se,ze[rt],ve||te.handleEvent,!1,te.h||te);if(!It)break;te.g[It.key]=It}te=j.H?C(j.H):{},j.m?(j.u||(j.u="POST"),te["Content-Type"]="application/x-www-form-urlencoded",j.g.ea(j.A,j.u,j.m,te)):(j.u="GET",j.g.ea(j.A,j.u,null,te)),Ha(),ea(j.i,j.u,j.A,j.l,j.R,j.m)}st.prototype.ca=function(j){j=j.target;const te=this.M;te&&as(j)==3?te.j():this.Y(j)},st.prototype.Y=function(j){try{if(j==this.g)e:{const Kn=as(this.g);var te=this.g.Ba();const ml=this.g.Z();if(!(3>Kn)&&(Kn!=3||this.g&&(this.h.h||this.g.oa()||Zf(this.g)))){this.J||Kn!=4||te==7||(te==8||0>=ml?Ha(3):Ha(2)),Wr(this);var se=this.g.Z();this.X=se;t:if(Vt(this)){var ve=Zf(this.g);j="";var ze=ve.length,rt=as(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),Xr(this);var It="";break t}this.h.i=new o.TextDecoder}for(te=0;te<ze;te++)this.h.h=!0,j+=this.h.i.decode(ve[te],{stream:!(rt&&te==ze-1)});ve.length=0,this.h.g+=j,this.C=0,It=this.h.g}else It=this.g.oa();if(this.o=se==200,da(this.i,this.u,this.A,this.l,this.R,Kn,se),this.o){if(this.T&&!this.K){t:{if(this.g){var Sr,on=this.g;if((Sr=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Sr)){var Lr=Sr;break t}}Lr=null}if(se=Lr)Ae(this.i,this.l,se,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ts(this,se);else{this.o=!1,this.s=3,qt(12),en(this),Xr(this);break e}}if(this.P){se=!0;let Va;for(;!this.J&&this.C<It.length;)if(Va=jt(this,It),Va==tt){Kn==4&&(this.s=4,qt(14),se=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}else if(Va==Je){this.s=4,qt(15),Ae(this.i,this.l,It,"[Invalid Chunk]"),se=!1;break}else Ae(this.i,this.l,Va,null),ts(this,Va);if(Vt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kn!=4||It.length!=0||this.h.h||(this.s=1,qt(16),se=!1),this.o=this.o&&se,!se)Ae(this.i,this.l,It,"[Invalid Chunked Response]"),en(this),Xr(this);else if(0<It.length&&!this.W){this.W=!0;var On=this.j;On.g==this&&On.ba&&!On.M&&(On.j.info("Great, no buffering proxy detected. Bytes received: "+It.length),Fc(On),On.M=!0,qt(11))}}else Ae(this.i,this.l,It,null),ts(this,It);Kn==4&&en(this),this.o&&!this.J&&(Kn==4?Oc(this.j,this):(this.o=!1,Lt(this)))}else Tc(this.g),se==400&&0<It.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),en(this),Xr(this)}}}catch{}finally{}};function Vt(j){return j.g?j.u=="GET"&&j.L!=2&&j.j.Ca:!1}function jt(j,te){var se=j.C,ve=te.indexOf(`
`,se);return ve==-1?tt:(se=Number(te.substring(se,ve)),isNaN(se)?Je:(ve+=1,ve+se>te.length?tt:(te=te.slice(ve,ve+se),j.C=ve+se,te)))}st.prototype.cancel=function(){this.J=!0,en(this)};function Lt(j){j.S=Date.now()+j.I,yr(j,j.I)}function yr(j,te){if(j.B!=null)throw Error("WatchDog timer not null");j.B=An(m(j.ba,j),te)}function Wr(j){j.B&&(o.clearTimeout(j.B),j.B=null)}st.prototype.ba=function(){this.B=null;const j=Date.now();0<=j-this.S?(Se(this.i,this.A),this.L!=2&&(Ha(),qt(17)),en(this),this.s=2,Xr(this)):yr(this,this.S-j)};function Xr(j){j.j.G==0||j.J||Oc(j.j,j)}function en(j){Wr(j);var te=j.M;te&&typeof te.ma=="function"&&te.ma(),j.M=null,ur(j.U),j.g&&(te=j.g,j.g=null,te.abort(),te.ma())}function ts(j,te){try{var se=j.j;if(se.G!=0&&(se.g==j||si(se.h,j))){if(!j.K&&si(se.h,j)&&se.G==3){try{var ve=se.Da.g.parse(te)}catch{ve=null}if(Array.isArray(ve)&&ve.length==3){var ze=ve;if(ze[0]==0){e:if(!se.u){if(se.g)if(se.g.F+3e3<j.F)zl(se),md(se);else break e;Su(se),qt(18)}}else se.za=ze[1],0<se.za-se.T&&37500>ze[2]&&se.F&&se.v==0&&!se.C&&(se.C=An(m(se.Za,se),6e3));if(1>=ys(se.h)&&se.ca){try{se.ca()}catch{}se.ca=void 0}}else Ci(se,11)}else if((j.K||se.g==j)&&zl(se),!_(te))for(ze=se.Da.g.parse(te),te=0;te<ze.length;te++){let Lr=ze[te];if(se.T=Lr[0],Lr=Lr[1],se.G==2)if(Lr[0]=="c"){se.K=Lr[1],se.ia=Lr[2];const On=Lr[3];On!=null&&(se.la=On,se.j.info("VER="+se.la));const Kn=Lr[4];Kn!=null&&(se.Aa=Kn,se.j.info("SVER="+se.Aa));const ml=Lr[5];ml!=null&&typeof ml=="number"&&0<ml&&(ve=1.5*ml,se.L=ve,se.j.info("backChannelRequestTimeoutMs_="+ve)),ve=se;const Va=j.g;if(Va){const fo=Va.g?Va.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fo){var rt=ve.h;rt.g||fo.indexOf("spdy")==-1&&fo.indexOf("quic")==-1&&fo.indexOf("h2")==-1||(rt.j=rt.l,rt.g=new Set,rt.h&&(Aa(rt,rt.h),rt.h=null))}if(ve.D){const Dc=Va.g?Va.g.getResponseHeader("X-HTTP-Session-Id"):null;Dc&&(ve.ya=Dc,Fn(ve.I,ve.D,Dc))}}se.G=3,se.l&&se.l.ua(),se.ba&&(se.R=Date.now()-j.F,se.j.info("Handshake RTT: "+se.R+"ms")),ve=se;var It=j;if(ve.qa=z(ve,ve.J?ve.ia:null,ve.W),It.K){Ms(ve.h,It);var Sr=It,on=ve.L;on&&(Sr.I=on),Sr.B&&(Wr(Sr),Lt(Sr)),ve.g=It}else gd(ve);0<se.i.length&&pd(se)}else Lr[0]!="stop"&&Lr[0]!="close"||Ci(se,7);else se.G==3&&(Lr[0]=="stop"||Lr[0]=="close"?Lr[0]=="stop"?Ci(se,7):Vl(se):Lr[0]!="noop"&&se.l&&se.l.ta(Lr),se.v=0)}}Ha(4)}catch{}}var oo=class{constructor(j,te){this.g=j,this.map=te}};function rs(j){this.l=j||10,o.PerformanceNavigationTiming?(j=o.performance.getEntriesByType("navigation"),j=0<j.length&&(j[0].nextHopProtocol=="hq"||j[0].nextHopProtocol=="h2")):j=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=j?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Us(j){return j.h?!0:j.g?j.g.size>=j.j:!1}function ys(j){return j.h?1:j.g?j.g.size:0}function si(j,te){return j.h?j.h==te:j.g?j.g.has(te):!1}function Aa(j,te){j.g?j.g.add(te):j.h=te}function Ms(j,te){j.h&&j.h==te?j.h=null:j.g&&j.g.has(te)&&j.g.delete(te)}rs.prototype.cancel=function(){if(this.i=Ad(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const j of this.g.values())j.cancel();this.g.clear()}};function Ad(j){if(j.h!=null)return j.i.concat(j.h.D);if(j.g!=null&&j.g.size!==0){let te=j.i;for(const se of j.g.values())te=te.concat(se.D);return te}return g(j.i)}function Xf(j){if(j.V&&typeof j.V=="function")return j.V();if(typeof Map<"u"&&j instanceof Map||typeof Set<"u"&&j instanceof Set)return Array.from(j.values());if(typeof j=="string")return j.split("");if(l(j)){for(var te=[],se=j.length,ve=0;ve<se;ve++)te.push(j[ve]);return te}te=[],se=0;for(ve in j)te[se++]=j[ve];return te}function Cc(j){if(j.na&&typeof j.na=="function")return j.na();if(!j.V||typeof j.V!="function"){if(typeof Map<"u"&&j instanceof Map)return Array.from(j.keys());if(!(typeof Set<"u"&&j instanceof Set)){if(l(j)||typeof j=="string"){var te=[];j=j.length;for(var se=0;se<j;se++)te.push(se);return te}te=[],se=0;for(const ve in j)te[se++]=ve;return te}}}function _A(j,te){if(j.forEach&&typeof j.forEach=="function")j.forEach(te,void 0);else if(l(j)||typeof j=="string")Array.prototype.forEach.call(j,te,void 0);else for(var se=Cc(j),ve=Xf(j),ze=ve.length,rt=0;rt<ze;rt++)te.call(void 0,ve[rt],se&&se[rt],j)}var ii=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fd(j,te){if(j){j=j.split("&");for(var se=0;se<j.length;se++){var ve=j[se].indexOf("="),ze=null;if(0<=ve){var rt=j[se].substring(0,ve);ze=j[se].substring(ve+1)}else rt=j[se];te(rt,ze?decodeURIComponent(ze.replace(/\+/g," ")):"")}}}function En(j){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,j instanceof En){this.h=j.h,_c(this,j.j),this.o=j.o,this.g=j.g,Sc(this,j.s),this.l=j.l;var te=j.i,se=new cl;se.i=te.i,te.g&&(se.g=new Map(te.g),se.h=te.h),ll(this,se),this.m=j.m}else j&&(te=String(j).match(ii))?(this.h=!1,_c(this,te[1]||"",!0),this.o=lo(te[2]||""),this.g=lo(te[3]||"",!0),Sc(this,te[4]),this.l=lo(te[5]||"",!0),ll(this,te[6]||"",!0),this.m=lo(te[7]||"")):(this.h=!1,this.i=new cl(null,this.h))}En.prototype.toString=function(){var j=[],te=this.j;te&&j.push(Ll(te,SA,!0),":");var se=this.g;return(se||te=="file")&&(j.push("//"),(te=this.o)&&j.push(Ll(te,SA,!0),"@"),j.push(encodeURIComponent(String(se)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),se=this.s,se!=null&&j.push(":",String(se))),(se=this.l)&&(this.g&&se.charAt(0)!="/"&&j.push("/"),j.push(Ll(se,se.charAt(0)=="/"?Ul:NA,!0))),(se=this.i.toString())&&j.push("?",se),(se=this.m)&&j.push("#",Ll(se,Ml)),j.join("")};function oi(j){return new En(j)}function _c(j,te,se){j.j=se?lo(te,!0):te,j.j&&(j.j=j.j.replace(/:$/,""))}function Sc(j,te){if(te){if(te=Number(te),isNaN(te)||0>te)throw Error("Bad port number "+te);j.s=te}else j.s=null}function ll(j,te,se){te instanceof cl?(j.i=te,Jf(j.i,j.h)):(se||(te=Ll(te,hd)),j.i=new cl(te,j.h))}function Fn(j,te,se){j.i.set(te,se)}function Nc(j){return Fn(j,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),j}function lo(j,te){return j?te?decodeURI(j.replace(/%25/g,"%2525")):decodeURIComponent(j):""}function Ll(j,te,se){return typeof j=="string"?(j=encodeURI(j).replace(te,Yf),se&&(j=j.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j):null}function Yf(j){return j=j.charCodeAt(0),"%"+(j>>4&15).toString(16)+(j&15).toString(16)}var SA=/[#\/\?@]/g,NA=/[#\?:]/g,Ul=/[#\?]/g,hd=/[#\?@]/g,Ml=/#/g;function cl(j,te){this.h=this.g=null,this.i=j||null,this.j=!!te}function ta(j){j.g||(j.g=new Map,j.h=0,j.i&&fd(j.i,function(te,se){j.add(decodeURIComponent(te.replace(/\+/g," ")),se)}))}e=cl.prototype,e.add=function(j,te){ta(this),this.i=null,j=dl(this,j);var se=this.g.get(j);return se||this.g.set(j,se=[]),se.push(te),this.h+=1,this};function Ql(j,te){ta(j),te=dl(j,te),j.g.has(te)&&(j.i=null,j.h-=j.g.get(te).length,j.g.delete(te))}function ul(j,te){return ta(j),te=dl(j,te),j.g.has(te)}e.forEach=function(j,te){ta(this),this.g.forEach(function(se,ve){se.forEach(function(ze){j.call(te,ze,ve,this)},this)},this)},e.na=function(){ta(this);const j=Array.from(this.g.values()),te=Array.from(this.g.keys()),se=[];for(let ve=0;ve<te.length;ve++){const ze=j[ve];for(let rt=0;rt<ze.length;rt++)se.push(te[ve])}return se},e.V=function(j){ta(this);let te=[];if(typeof j=="string")ul(this,j)&&(te=te.concat(this.g.get(dl(this,j))));else{j=Array.from(this.g.values());for(let se=0;se<j.length;se++)te=te.concat(j[se])}return te},e.set=function(j,te){return ta(this),this.i=null,j=dl(this,j),ul(this,j)&&(this.h-=this.g.get(j).length),this.g.set(j,[te]),this.h+=1,this},e.get=function(j,te){return j?(j=this.V(j),0<j.length?String(j[0]):te):te};function _r(j,te,se){Ql(j,te),0<se.length&&(j.i=null,j.g.set(dl(j,te),g(se)),j.h+=se.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const j=[],te=Array.from(this.g.keys());for(var se=0;se<te.length;se++){var ve=te[se];const rt=encodeURIComponent(String(ve)),It=this.V(ve);for(ve=0;ve<It.length;ve++){var ze=rt;It[ve]!==""&&(ze+="="+encodeURIComponent(String(It[ve]))),j.push(ze)}}return this.i=j.join("&")};function dl(j,te){return te=String(te),j.j&&(te=te.toLowerCase()),te}function Jf(j,te){te&&!j.j&&(ta(j),j.i=null,j.g.forEach(function(se,ve){var ze=ve.toLowerCase();ve!=ze&&(Ql(this,ve),_r(this,ze,se))},j)),j.j=te}function yi(j,te){const se=new Vn;if(o.Image){const ve=new Image;ve.onload=p(Hi,se,"TestLoadImage: loaded",!0,te,ve),ve.onerror=p(Hi,se,"TestLoadImage: error",!1,te,ve),ve.onabort=p(Hi,se,"TestLoadImage: abort",!1,te,ve),ve.ontimeout=p(Hi,se,"TestLoadImage: timeout",!1,te,ve),o.setTimeout(function(){ve.ontimeout&&ve.ontimeout()},1e4),ve.src=j}else te(!1)}function co(j,te){const se=new Vn,ve=new AbortController,ze=setTimeout(()=>{ve.abort(),Hi(se,"TestPingServer: timeout",!1,te)},1e4);fetch(j,{signal:ve.signal}).then(rt=>{clearTimeout(ze),rt.ok?Hi(se,"TestPingServer: ok",!0,te):Hi(se,"TestPingServer: server error",!1,te)}).catch(()=>{clearTimeout(ze),Hi(se,"TestPingServer: error",!1,te)})}function Hi(j,te,se,ve,ze){try{ze&&(ze.onload=null,ze.onerror=null,ze.onabort=null,ze.ontimeout=null),ve(se)}catch{}}function Al(){this.g=new Vr}function uo(j,te,se){const ve=se||"";try{_A(j,function(ze,rt){let It=ze;u(ze)&&(It=Gt(ze)),te.push(ve+rt+"="+encodeURIComponent(It))})}catch(ze){throw te.push(ve+"type="+encodeURIComponent("_badmap")),ze}}function Bc(j){this.l=j.Ub||null,this.j=j.eb||!1}x(Bc,dr),Bc.prototype.g=function(){return new Hl(this.l,this.j)},Bc.prototype.i=function(j){return function(){return j}}({});function Hl(j,te){Pt.call(this),this.D=j,this.o=te,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Hl,Pt),e=Hl.prototype,e.open=function(j,te){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=j,this.A=te,this.readyState=1,wi(this)},e.send=function(j){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const te={headers:this.u,method:this.B,credentials:this.m,cache:void 0};j&&(te.body=j),(this.D||o).fetch(new Request(this.A,te)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ao(this)),this.readyState=0},e.Sa=function(j){if(this.g&&(this.l=j,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=j.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")j.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in j){if(this.j=j.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;BA(this)}else j.text().then(this.Ra.bind(this),this.ga.bind(this))};function BA(j){j.j.read().then(j.Pa.bind(j)).catch(j.ga.bind(j))}e.Pa=function(j){if(this.g){if(this.o&&j.value)this.response.push(j.value);else if(!this.o){var te=j.value?j.value:new Uint8Array(0);(te=this.v.decode(te,{stream:!j.done}))&&(this.response=this.responseText+=te)}j.done?Ao(this):wi(this),this.readyState==3&&BA(this)}},e.Ra=function(j){this.g&&(this.response=this.responseText=j,Ao(this))},e.Qa=function(j){this.g&&(this.response=j,Ao(this))},e.ga=function(){this.g&&Ao(this)};function Ao(j){j.readyState=4,j.l=null,j.j=null,j.v=null,wi(j)}e.setRequestHeader=function(j,te){this.u.append(j,te)},e.getResponseHeader=function(j){return this.h&&this.h.get(j.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const j=[],te=this.h.entries();for(var se=te.next();!se.done;)se=se.value,j.push(se[0]+": "+se[1]),se=te.next();return j.join(`\r
`)};function wi(j){j.onreadystatechange&&j.onreadystatechange.call(j)}Object.defineProperty(Hl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(j){this.m=j?"include":"same-origin"}});function fl(j){let te="";return F(j,function(se,ve){te+=ve,te+=":",te+=se,te+=`\r
`}),te}function ns(j,te,se){e:{for(ve in se){var ve=!1;break e}ve=!0}ve||(se=fl(se),typeof j=="string"?se!=null&&encodeURIComponent(String(se)):Fn(j,te,se))}function sn(j){Pt.call(this),this.headers=new Map,this.o=j||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(sn,Pt);var kc=/^https?$/i,hl=["POST","PUT"];e=sn.prototype,e.Ha=function(j){this.J=j},e.ea=function(j,te,se,ve){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+j);te=te?te.toUpperCase():"GET",this.D=j,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?yn(this.o):yn(Ne),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(te,String(j),!0),this.B=!1}catch(rt){kA(this,rt);return}if(j=se||"",se=new Map(this.headers),ve)if(Object.getPrototypeOf(ve)===Object.prototype)for(var ze in ve)se.set(ze,ve[ze]);else if(typeof ve.keys=="function"&&typeof ve.get=="function")for(const rt of ve.keys())se.set(rt,ve.get(rt));else throw Error("Unknown input type for opt_headers: "+String(ve));ve=Array.from(se.keys()).find(rt=>rt.toLowerCase()=="content-type"),ze=o.FormData&&j instanceof o.FormData,!(0<=Array.prototype.indexOf.call(hl,te,void 0))||ve||ze||se.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[rt,It]of se)this.g.setRequestHeader(rt,It);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ei(this),this.u=!0,this.g.send(j),this.u=!1}catch(rt){kA(this,rt)}};function kA(j,te){j.h=!1,j.g&&(j.j=!0,j.g.abort(),j.j=!1),j.l=te,j.m=5,yu(j),$o(j)}function yu(j){j.A||(j.A=!0,Mt(j,"complete"),Mt(j,"error"))}e.abort=function(j){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=j||7,Mt(this,"complete"),Mt(this,"abort"),$o(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$o(this,!0)),sn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?wu(this):this.bb())},e.bb=function(){wu(this)};function wu(j){if(j.h&&typeof i<"u"&&(!j.v[1]||as(j)!=4||j.Z()!=2)){if(j.u&&as(j)==4)De(j.Ea,0,j);else if(Mt(j,"readystatechange"),as(j)==4){j.h=!1;try{const It=j.Z();e:switch(It){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var te=!0;break e;default:te=!1}var se;if(!(se=te)){var ve;if(ve=It===0){var ze=String(j.D).match(ii)[1]||null;!ze&&o.self&&o.self.location&&(ze=o.self.location.protocol.slice(0,-1)),ve=!kc.test(ze?ze.toLowerCase():"")}se=ve}if(se)Mt(j,"complete"),Mt(j,"success");else{j.m=6;try{var rt=2<as(j)?j.g.statusText:""}catch{rt=""}j.l=rt+" ["+j.Z()+"]",yu(j)}}finally{$o(j)}}}}function $o(j,te){if(j.g){Ei(j);const se=j.g,ve=j.v[0]?()=>{}:null;j.g=null,j.v=null,te||Mt(j,"ready");try{se.onreadystatechange=ve}catch{}}}function Ei(j){j.I&&(o.clearTimeout(j.I),j.I=null)}e.isActive=function(){return!!this.g};function as(j){return j.g?j.g.readyState:0}e.Z=function(){try{return 2<as(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(j){if(this.g){var te=this.g.responseText;return j&&te.indexOf(j)==0&&(te=te.substring(j.length)),Rt(te)}};function Zf(j){try{if(!j.g)return null;if("response"in j.g)return j.g.response;switch(j.H){case"":case"text":return j.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in j.g)return j.g.mozResponseArrayBuffer}return null}catch{return null}}function Tc(j){const te={};j=(j.g&&2<=as(j)&&j.g.getAllResponseHeaders()||"").split(`\r
`);for(let ve=0;ve<j.length;ve++){if(_(j[ve]))continue;var se=D(j[ve]);const ze=se[0];if(se=se[1],typeof se!="string")continue;se=se.trim();const rt=te[ze]||[];te[ze]=rt,rt.push(se)}w(te,function(ve){return ve.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(j,te,se){return se&&se.internalChannelParams&&se.internalChannelParams[j]||te}function Ic(j){this.Aa=0,this.i=[],this.j=new Vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=li("failFast",!1,j),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=li("baseRetryDelayMs",5e3,j),this.cb=li("retryDelaySeedMs",1e4,j),this.Wa=li("forwardChannelMaxRetries",2,j),this.wa=li("forwardChannelRequestTimeoutMs",2e4,j),this.pa=j&&j.xmlHttpFactory||void 0,this.Xa=j&&j.Tb||void 0,this.Ca=j&&j.useFetchStreams||!1,this.L=void 0,this.J=j&&j.supportsCrossDomainXhr||!1,this.K="",this.h=new rs(j&&j.concurrentRequestLimit),this.Da=new Al,this.P=j&&j.fastHandshake||!1,this.O=j&&j.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=j&&j.Rb||!1,j&&j.xa&&this.j.xa(),j&&j.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&j&&j.detectBufferingProxy||!1,this.ja=void 0,j&&j.longPollingTimeout&&0<j.longPollingTimeout&&(this.ja=j.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ic.prototype,e.la=8,e.G=1,e.connect=function(j,te,se,ve){qt(0),this.W=j,this.H=te||{},se&&ve!==void 0&&(this.H.OSID=se,this.H.OAID=ve),this.F=this.X,this.I=z(this,null,this.W),pd(this)};function Vl(j){if(Eu(j),j.G==3){var te=j.U++,se=oi(j.I);if(Fn(se,"SID",j.K),Fn(se,"RID",te),Fn(se,"TYPE","terminate"),jc(j,se),te=new st(j,j.j,te),te.L=2,te.v=Nc(oi(se)),se=!1,o.navigator&&o.navigator.sendBeacon)try{se=o.navigator.sendBeacon(te.v.toString(),"")}catch{}!se&&o.Image&&(new Image().src=te.v,se=!0),se||(te.g=ce(te.j,null),te.g.ea(te.v)),te.F=Date.now(),Lt(te)}vd(j)}function md(j){j.g&&(Fc(j),j.g.cancel(),j.g=null)}function Eu(j){md(j),j.u&&(o.clearTimeout(j.u),j.u=null),zl(j),j.h.cancel(),j.s&&(typeof j.s=="number"&&o.clearTimeout(j.s),j.s=null)}function pd(j){if(!Us(j.h)&&!j.s){j.s=!0;var te=j.Ga;Z||K(),V||(Z(),V=!0),q.add(te,j),j.B=0}}function TA(j,te){return ys(j.h)>=j.h.j-(j.s?1:0)?!1:j.s?(j.i=te.D.concat(j.i),!0):j.G==1||j.G==2||j.B>=(j.Va?0:j.Wa)?!1:(j.s=An(m(j.Ga,j,te),Nu(j,j.B)),j.B++,!0)}e.Ga=function(j){if(this.s)if(this.s=null,this.G==1){if(!j){this.U=Math.floor(1e5*Math.random()),j=this.U++;const ze=new st(this,this.j,j);let rt=this.o;if(this.S&&(rt?(rt=C(rt),R(rt,this.S)):rt=this.S),this.m!==null||this.O||(ze.H=rt,rt=null),this.P)e:{for(var te=0,se=0;se<this.i.length;se++){t:{var ve=this.i[se];if("__data__"in ve.map&&(ve=ve.map.__data__,typeof ve=="string")){ve=ve.length;break t}ve=void 0}if(ve===void 0)break;if(te+=ve,4096<te){te=se;break e}if(te===4096||se===this.i.length-1){te=se+1;break e}}te=1e3}else te=1e3;te=_u(this,ze,te),se=oi(this.I),Fn(se,"RID",j),Fn(se,"CVER",22),this.D&&Fn(se,"X-HTTP-Session-Id",this.D),jc(this,se),rt&&(this.O?te="headers="+encodeURIComponent(String(fl(rt)))+"&"+te:this.m&&ns(se,this.m,rt)),Aa(this.h,ze),this.Ua&&Fn(se,"TYPE","init"),this.P?(Fn(se,"$req",te),Fn(se,"SID","null"),ze.T=!0,wt(ze,se,null)):wt(ze,se,te),this.G=2}}else this.G==3&&(j?Cu(this,j):this.i.length==0||Us(this.h)||Cu(this))};function Cu(j,te){var se;te?se=te.l:se=j.U++;const ve=oi(j.I);Fn(ve,"SID",j.K),Fn(ve,"RID",se),Fn(ve,"AID",j.T),jc(j,ve),j.m&&j.o&&ns(ve,j.m,j.o),se=new st(j,j.j,se,j.B+1),j.m===null&&(se.H=j.o),te&&(j.i=te.D.concat(j.i)),te=_u(j,se,1e3),se.I=Math.round(.5*j.wa)+Math.round(.5*j.wa*Math.random()),Aa(j.h,se),wt(se,ve,te)}function jc(j,te){j.H&&F(j.H,function(se,ve){Fn(te,ve,se)}),j.l&&_A({},function(se,ve){Fn(te,ve,se)})}function _u(j,te,se){se=Math.min(j.i.length,se);var ve=j.l?m(j.l.Na,j.l,j):null;e:{var ze=j.i;let rt=-1;for(;;){const It=["count="+se];rt==-1?0<se?(rt=ze[0].g,It.push("ofs="+rt)):rt=0:It.push("ofs="+rt);let Sr=!0;for(let on=0;on<se;on++){let Lr=ze[on].g;const On=ze[on].map;if(Lr-=rt,0>Lr)rt=Math.max(0,ze[on].g-100),Sr=!1;else try{uo(On,It,"req"+Lr+"_")}catch{ve&&ve(On)}}if(Sr){ve=It.join("&");break e}}}return j=j.i.splice(0,se),te.D=j,ve}function gd(j){if(!j.g&&!j.u){j.Y=1;var te=j.Fa;Z||K(),V||(Z(),V=!0),q.add(te,j),j.v=0}}function Su(j){return j.g||j.u||3<=j.v?!1:(j.Y++,j.u=An(m(j.Fa,j),Nu(j,j.v)),j.v++,!0)}e.Fa=function(){if(this.u=null,eh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var j=2*this.R;this.j.info("BP detection timer enabled: "+j),this.A=An(m(this.ab,this),j)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),md(this),eh(this))};function Fc(j){j.A!=null&&(o.clearTimeout(j.A),j.A=null)}function eh(j){j.g=new st(j,j.j,"rpc",j.Y),j.m===null&&(j.g.H=j.o),j.g.O=0;var te=oi(j.qa);Fn(te,"RID","rpc"),Fn(te,"SID",j.K),Fn(te,"AID",j.T),Fn(te,"CI",j.F?"0":"1"),!j.F&&j.ja&&Fn(te,"TO",j.ja),Fn(te,"TYPE","xmlhttp"),jc(j,te),j.m&&j.o&&ns(te,j.m,j.o),j.L&&(j.g.I=j.L);var se=j.g;j=j.ia,se.L=1,se.v=Nc(oi(te)),se.m=null,se.P=!0,Ot(se,j)}e.Za=function(){this.C!=null&&(this.C=null,md(this),Su(this),qt(19))};function zl(j){j.C!=null&&(o.clearTimeout(j.C),j.C=null)}function Oc(j,te){var se=null;if(j.g==te){zl(j),Fc(j),j.g=null;var ve=2}else if(si(j.h,te))se=te.D,Ms(j.h,te),ve=1;else return;if(j.G!=0){if(te.o)if(ve==1){se=te.m?te.m.length:0,te=Date.now()-te.F;var ze=j.B;ve=Ls(),Mt(ve,new wn(ve,se)),pd(j)}else gd(j);else if(ze=te.s,ze==3||ze==0&&0<te.X||!(ve==1&&TA(j,te)||ve==2&&Su(j)))switch(se&&0<se.length&&(te=j.h,te.i=te.i.concat(se)),ze){case 1:Ci(j,5);break;case 4:Ci(j,10);break;case 3:Ci(j,6);break;default:Ci(j,2)}}}function Nu(j,te){let se=j.Ta+Math.floor(Math.random()*j.cb);return j.isActive()||(se*=2),se*te}function Ci(j,te){if(j.j.info("Error code "+te),te==2){var se=m(j.fb,j),ve=j.Xa;const ze=!ve;ve=new En(ve||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||_c(ve,"https"),Nc(ve),ze?yi(ve.toString(),se):co(ve.toString(),se)}else qt(2);j.G=0,j.l&&j.l.sa(te),vd(j),Eu(j)}e.fb=function(j){j?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function vd(j){if(j.G=0,j.ka=[],j.l){const te=Ad(j.h);(te.length!=0||j.i.length!=0)&&(b(j.ka,te),b(j.ka,j.i),j.h.i.length=0,g(j.i),j.i.length=0),j.l.ra()}}function z(j,te,se){var ve=se instanceof En?oi(se):new En(se);if(ve.g!="")te&&(ve.g=te+"."+ve.g),Sc(ve,ve.s);else{var ze=o.location;ve=ze.protocol,te=te?te+"."+ze.hostname:ze.hostname,ze=+ze.port;var rt=new En(null);ve&&_c(rt,ve),te&&(rt.g=te),ze&&Sc(rt,ze),se&&(rt.l=se),ve=rt}return se=j.D,te=j.ya,se&&te&&Fn(ve,se,te),Fn(ve,"VER",j.la),jc(j,ve),ve}function ce(j,te,se){if(te&&!j.J)throw Error("Can't create secondary domain capable XhrIo object.");return te=j.Ca&&!j.pa?new sn(new Bc({eb:se})):new sn(j.pa),te.Ha(j.J),te}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Te(){}e=Te.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Re(){}Re.prototype.g=function(j,te){return new Ke(j,te)};function Ke(j,te){Pt.call(this),this.g=new Ic(te),this.l=j,this.h=te&&te.messageUrlParams||null,j=te&&te.messageHeaders||null,te&&te.clientProtocolHeaderRequired&&(j?j["X-Client-Protocol"]="webchannel":j={"X-Client-Protocol":"webchannel"}),this.g.o=j,j=te&&te.initMessageHeaders||null,te&&te.messageContentType&&(j?j["X-WebChannel-Content-Type"]=te.messageContentType:j={"X-WebChannel-Content-Type":te.messageContentType}),te&&te.va&&(j?j["X-WebChannel-Client-Profile"]=te.va:j={"X-WebChannel-Client-Profile":te.va}),this.g.S=j,(j=te&&te.Sb)&&!_(j)&&(this.g.m=j),this.v=te&&te.supportsCrossDomainXhr||!1,this.u=te&&te.sendRawJson||!1,(te=te&&te.httpSessionIdParam)&&!_(te)&&(this.g.D=te,j=this.h,j!==null&&te in j&&(j=this.h,te in j&&delete j[te])),this.j=new zt(this)}x(Ke,Pt),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){Vl(this.g)},Ke.prototype.o=function(j){var te=this.g;if(typeof j=="string"){var se={};se.__data__=j,j=se}else this.u&&(se={},se.__data__=Gt(j),j=se);te.i.push(new oo(te.Ya++,j)),te.G==3&&pd(te)},Ke.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,Ke.aa.N.call(this)};function ut(j){Zn.call(this),j.__headers__&&(this.headers=j.__headers__,this.statusCode=j.__status__,delete j.__headers__,delete j.__status__);var te=j.__sm__;if(te){e:{for(const se in te){j=se;break e}j=void 0}(this.i=j)&&(j=this.i,te=te!==null&&j in te?te[j]:void 0),this.data=te}else this.data=j}x(ut,Zn);function kt(){or.call(this),this.status=1}x(kt,or);function zt(j){this.g=j}x(zt,Te),zt.prototype.ua=function(){Mt(this.g,"a")},zt.prototype.ta=function(j){Mt(this.g,new ut(j))},zt.prototype.sa=function(j){Mt(this.g,new kt)},zt.prototype.ra=function(){Mt(this.g,"b")},Re.prototype.createWebChannel=Re.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,Pq=function(){return new Re},Dq=function(){return Ls()},Oq=Zt,q3={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,oC=Ee,Ce.COMPLETE="complete",Fq=Ce,Qr.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,$1=Qr,sn.prototype.listenOnce=sn.prototype.L,sn.prototype.getLastError=sn.prototype.Ka,sn.prototype.getLastErrorCode=sn.prototype.Ba,sn.prototype.getStatus=sn.prototype.Z,sn.prototype.getResponseJson=sn.prototype.Oa,sn.prototype.getResponseText=sn.prototype.oa,sn.prototype.send=sn.prototype.ea,sn.prototype.setWithCredentials=sn.prototype.Ha,jq=sn}).apply(typeof k2<"u"?k2:typeof self<"u"?self:typeof window<"u"?window:{});const uU="@firebase/firestore",dU="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Bo.UNAUTHENTICATED=new Bo(null),Bo.GOOGLE_CREDENTIALS=new Bo("google-credentials-uid"),Bo.FIRST_PARTY=new Bo("first-party-uid"),Bo.MOCK_USER=new Bo("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ax="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=new PF("@firebase/firestore");function Pg(){return op.logLevel}function ar(e,...t){if(op.logLevel<=gn.DEBUG){const r=t.map(GF);op.debug(`Firestore (${ax}): ${e}`,...r)}}function _f(e,...t){if(op.logLevel<=gn.ERROR){const r=t.map(GF);op.error(`Firestore (${ax}): ${e}`,...r)}}function _v(e,...t){if(op.logLevel<=gn.WARN){const r=t.map(GF);op.warn(`Firestore (${ax}): ${e}`,...r)}}function GF(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,Rq(e,n,r)}function Rq(e,t,r){let n=`FIRESTORE (${ax}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw _f(n),new Error(n)}function Yn(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||Rq(t,a,n)}function $r(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xt extends id{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _fe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Bo.UNAUTHENTICATED))}shutdown(){}}class Sfe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Nfe{constructor(t){this.t=t,this.currentUser=Bo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Yn(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new hf;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new hf,t.enqueueRetryable(()=>a(this.currentUser))};const i=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{ar("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ar("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new hf)}},0),i()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(ar("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Yn(typeof n.accessToken=="string",31837,{l:n}),new Lq(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yn(t===null||typeof t=="string",2055,{h:t}),new Bo(t)}}class Bfe{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=Bo.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kfe{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new Bfe(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(Bo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AU{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tfe{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lc(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Yn(this.o===void 0,3512);const n=s=>{s.error!=null&&ar("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const i=s.token!==this.m;return this.m=s.token,ar("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?r(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>n(s))};const a=s=>{ar("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>a(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):ar("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new AU(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Yn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new AU(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ife(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=Ife(40);for(let s=0;s<a.length;++s)n.length<20&&a[s]<r&&(n+=t.charAt(a[s]%62))}return n}}function vn(e,t){return e<t?-1:e>t?1:0}function W3(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const a=e.charAt(n),s=t.charAt(n);if(a!==s)return pB(a)===pB(s)?vn(a,s):pB(a)?1:-1}return vn(e.length,t.length)}const jfe=55296,Ffe=57343;function pB(e){const t=e.charCodeAt(0);return t>=jfe&&t<=Ffe}function Sv(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU="__name__";class qd{constructor(t,r,n){r===void 0?r=0:r>t.length&&Dr(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&Dr(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return qd.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof qd?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const s=qd.compareSegments(t.get(a),r.get(a));if(s!==0)return s}return vn(t.length,r.length)}static compareSegments(t,r){const n=qd.isNumericId(t),a=qd.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?qd.extractNumericId(t).compare(qd.extractNumericId(r)):W3(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return c0.fromString(t.substring(4,t.length-2))}}class Na extends qd{construct(t,r,n){return new Na(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Xt(gt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new Na(r)}static emptyPath(){return new Na([])}}const Ofe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ro extends qd{construct(t,r,n){return new ro(t,r,n)}static isValidIdentifier(t){return Ofe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ro.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fU}static keyField(){return new ro([fU])}static fromServerFormat(t){const r=[];let n="",a=0;const s=()=>{if(n.length===0)throw new Xt(gt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let i=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Xt(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Xt(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(i=!i,a++):o!=="."||i?(n+=o,a++):(s(),a++)}if(s(),i)throw new Xt(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ro(r)}static emptyPath(){return new ro([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t){this.path=t}static fromPath(t){return new xr(Na.fromString(t))}static fromName(t){return new xr(Na.fromString(t).popFirst(5))}static empty(){return new xr(Na.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Na.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Na.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new xr(new Na(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uq(e,t,r){if(!r)throw new Xt(gt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Dfe(e,t,r,n){if(t===!0&&n===!0)throw new Xt(gt.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function hU(e){if(!xr.isDocumentKey(e))throw new Xt(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function mU(e){if(xr.isDocumentKey(e))throw new Xt(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Mq(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function JS(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Dr(12329,{type:typeof e})}function tl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Xt(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=JS(e);throw new Xt(gt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function Pfe(e,t){if(t<=0)throw new Xt(gt.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(e,t){const r={typeString:e};return t&&(r.value=t),r}function Qy(e,t){if(!Mq(e))throw new Xt(gt.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const a=t[n].typeString,s="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const i=e[n];if(a&&typeof i!==a){r=`JSON field '${n}' must be a ${a}.`;break}if(s!==void 0&&i!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new Xt(gt.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=-62135596800,gU=1e6;class fr{static now(){return fr.fromMillis(Date.now())}static fromDate(t){return fr.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*gU);return new fr(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Xt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Xt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<pU)throw new Xt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Xt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gU}_compareTo(t){return this.seconds===t.seconds?vn(this.nanoseconds,t.nanoseconds):vn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Qy(t,fr._jsonSchema))return new fr(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-pU;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fr._jsonSchemaVersion="firestore/timestamp/1.0",fr._jsonSchema={type:Js("string",fr._jsonSchemaVersion),seconds:Js("number"),nanoseconds:Js("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{static fromTimestamp(t){return new Hr(t)}static min(){return new Hr(new fr(0,0))}static max(){return new Hr(new fr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=-1;function Rfe(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=Hr.fromTimestamp(n===1e9?new fr(r+1,0):new fr(r,n));return new w0(a,xr.empty(),t)}function Lfe(e){return new w0(e.readTime,e.key,zb)}class w0{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new w0(Hr.min(),xr.empty(),zb)}static max(){return new w0(Hr.max(),xr.empty(),zb)}}function Ufe(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=xr.comparator(e.documentKey,t.documentKey),r!==0?r:vn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mfe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qfe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sx(e){if(e.code!==gt.FAILED_PRECONDITION||e.message!==Mfe)throw e;ar("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Dr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new St((n,a)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(n,a)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof St?r:St.resolve(r)}catch(r){return St.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):St.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):St.reject(r)}static resolve(t){return new St((r,n)=>{r(t)})}static reject(t){return new St((r,n)=>{n(t)})}static waitFor(t){return new St((r,n)=>{let a=0,s=0,i=!1;t.forEach(o=>{++a,o.next(()=>{++s,i&&s===a&&r()},l=>n(l))}),i=!0,s===a&&r()})}static or(t){let r=St.resolve(!1);for(const n of t)r=r.next(a=>a?St.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,s)=>{n.push(r.call(this,a,s))}),this.waitFor(n)}static mapArray(t,r){return new St((n,a)=>{const s=t.length,i=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;r(t[u]).next(d=>{i[u]=d,++o,o===s&&n(i)},d=>a(d))}})}static doWhile(t,r){return new St((n,a)=>{const s=()=>{t()===!0?r().next(()=>{s()},a):n()};s()})}}function Hfe(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ix(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ZS.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=-1;function e5(e){return e==null}function JC(e){return e===0&&1/e==-1/0}function Vfe(e){return typeof e=="number"&&Number.isInteger(e)&&!JC(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq="";function zfe(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=vU(t)),t=$fe(e.get(r),t);return vU(t)}function $fe(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const s=e.charAt(a);switch(s){case"\0":r+="";break;case Qq:r+="";break;default:r+=s}}return r}function vU(e){return e+Qq+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function L0(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function Hq(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t,r){this.comparator=t,this.root=r||Zi.EMPTY}insert(t,r){return new Ya(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Zi.BLACK,null,null))}remove(t){return new Ya(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Zi.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new T2(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new T2(this.root,t,this.comparator,!1)}getReverseIterator(){return new T2(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new T2(this.root,t,this.comparator,!0)}}class T2{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=r?n(t.key,r):1,r&&a&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Zi{constructor(t,r,n,a,s){this.key=t,this.value=r,this.color=n??Zi.RED,this.left=a??Zi.EMPTY,this.right=s??Zi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,s){return new Zi(t??this.key,r??this.value,n??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const s=n(t,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(t,r,n),null):s===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return Zi.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Zi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Zi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dr(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Dr(27949);return t+(this.isRed()?0:1)}}Zi.EMPTY=null,Zi.RED=!0,Zi.BLACK=!1;Zi.EMPTY=new class{constructor(){this.size=0}get key(){throw Dr(57766)}get value(){throw Dr(16141)}get color(){throw Dr(16727)}get left(){throw Dr(29726)}get right(){throw Dr(36894)}copy(t,r,n,a,s){return this}insert(t,r,n){return new Zi(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t){this.comparator=t,this.data=new Ya(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new bU(this.data.getIterator())}getIteratorFrom(t){return new bU(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof hi)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new hi(this.comparator);return r.data=t,r}}class bU{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t){this.fields=t,t.sort(ro.comparator)}static empty(){return new Ac([])}unionWith(t){let r=new hi(ro.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Ac(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Sv(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Vq("Invalid base64 string: "+s):s}}(t);return new so(r)}static fromUint8Array(t){const r=function(a){let s="";for(let i=0;i<a.length;++i)s+=String.fromCharCode(a[i]);return s}(t);return new so(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return vn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}so.EMPTY_BYTE_STRING=new so("");const Kfe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function E0(e){if(Yn(!!e,39018),typeof e=="string"){let t=0;const r=Kfe.exec(e);if(Yn(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Is(e.seconds),nanos:Is(e.nanos)}}function Is(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function C0(e){return typeof e=="string"?so.fromBase64String(e):so.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq="server_timestamp",$q="__type__",Kq="__previous_value__",Gq="__local_write_time__";function XF(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[$q])==null?void 0:n.stringValue)===zq}function t5(e){const t=e.mapValue.fields[Kq];return XF(t)?t5(t):t}function $b(e){const t=E0(e.mapValue.fields[Gq].timestampValue);return new fr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gfe{constructor(t,r,n,a,s,i,o,l,u,d){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const ZC="(default)";class Kb{constructor(t,r){this.projectId=t,this.database=r||ZC}static empty(){return new Kb("","")}get isDefaultDatabase(){return this.database===ZC}isEqual(t){return t instanceof Kb&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qq="__type__",qfe="__max__",I2={mapValue:{}},Wq="__vector__",e_="value";function _0(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?XF(e)?4:Xfe(e)?9007199254740991:Wfe(e)?10:11:Dr(28295,{value:e})}function mA(e,t){if(e===t)return!0;const r=_0(e);if(r!==_0(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $b(e).isEqual($b(t));case 3:return function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const i=E0(a.timestampValue),o=E0(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,s){return C0(a.bytesValue).isEqual(C0(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,s){return Is(a.geoPointValue.latitude)===Is(s.geoPointValue.latitude)&&Is(a.geoPointValue.longitude)===Is(s.geoPointValue.longitude)}(e,t);case 2:return function(a,s){if("integerValue"in a&&"integerValue"in s)return Is(a.integerValue)===Is(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const i=Is(a.doubleValue),o=Is(s.doubleValue);return i===o?JC(i)===JC(o):isNaN(i)&&isNaN(o)}return!1}(e,t);case 9:return Sv(e.arrayValue.values||[],t.arrayValue.values||[],mA);case 10:case 11:return function(a,s){const i=a.mapValue.fields||{},o=s.mapValue.fields||{};if(xU(i)!==xU(o))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(o[l]===void 0||!mA(i[l],o[l])))return!1;return!0}(e,t);default:return Dr(52216,{left:e})}}function Gb(e,t){return(e.values||[]).find(r=>mA(r,t))!==void 0}function Nv(e,t){if(e===t)return 0;const r=_0(e),n=_0(t);if(r!==n)return vn(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return vn(e.booleanValue,t.booleanValue);case 2:return function(s,i){const o=Is(s.integerValue||s.doubleValue),l=Is(i.integerValue||i.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return yU(e.timestampValue,t.timestampValue);case 4:return yU($b(e),$b(t));case 5:return W3(e.stringValue,t.stringValue);case 6:return function(s,i){const o=C0(s),l=C0(i);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,i){const o=s.split("/"),l=i.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=vn(o[u],l[u]);if(d!==0)return d}return vn(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,i){const o=vn(Is(s.latitude),Is(i.latitude));return o!==0?o:vn(Is(s.longitude),Is(i.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return wU(e.arrayValue,t.arrayValue);case 10:return function(s,i){var m,p,x,g;const o=s.fields||{},l=i.fields||{},u=(m=o[e_])==null?void 0:m.arrayValue,d=(p=l[e_])==null?void 0:p.arrayValue,f=vn(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((g=d==null?void 0:d.values)==null?void 0:g.length)||0);return f!==0?f:wU(u,d)}(e.mapValue,t.mapValue);case 11:return function(s,i){if(s===I2.mapValue&&i===I2.mapValue)return 0;if(s===I2.mapValue)return 1;if(i===I2.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=i.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const m=W3(l[f],d[f]);if(m!==0)return m;const p=Nv(o[l[f]],u[d[f]]);if(p!==0)return p}return vn(l.length,d.length)}(e.mapValue,t.mapValue);default:throw Dr(23264,{he:r})}}function yU(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return vn(e,t);const r=E0(e),n=E0(t),a=vn(r.seconds,n.seconds);return a!==0?a:vn(r.nanos,n.nanos)}function wU(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const s=Nv(r[a],n[a]);if(s)return s}return vn(r.length,n.length)}function Bv(e){return X3(e)}function X3(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=E0(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return C0(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return xr.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const s of r.values||[])a?a=!1:n+=",",n+=X3(s);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",s=!0;for(const i of n)s?s=!1:a+=",",a+=`${i}:${X3(r.fields[i])}`;return a+"}"}(e.mapValue):Dr(61005,{value:e})}function lC(e){switch(_0(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=t5(e);return t?16+lC(t):16;case 5:return 2*e.stringValue.length;case 6:return C0(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,s)=>a+lC(s),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return L0(n.fields,(s,i)=>{a+=s.length+lC(i)}),a}(e.mapValue);default:throw Dr(13486,{value:e})}}function EU(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Y3(e){return!!e&&"integerValue"in e}function YF(e){return!!e&&"arrayValue"in e}function CU(e){return!!e&&"nullValue"in e}function _U(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function cC(e){return!!e&&"mapValue"in e}function Wfe(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[qq])==null?void 0:n.stringValue)===Wq}function hb(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return L0(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=hb(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=hb(e.arrayValue.values[r]);return t}return{...e}}function Xfe(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===qfe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t){this.value=t}static empty(){return new kl({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!cC(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=hb(r)}setAll(t){let r=ro.emptyPath(),n={},a=[];t.forEach((i,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}i?n[o.lastSegment()]=hb(i):a.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,a)}delete(t){const r=this.field(t.popLast());cC(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return mA(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];cC(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){L0(r,(a,s)=>t[a]=s);for(const a of n)delete t[a]}clone(){return new kl(hb(this.value))}}function Xq(e){const t=[];return L0(e.fields,(r,n)=>{const a=new ro([r]);if(cC(n)){const s=Xq(n.mapValue).fields;if(s.length===0)t.push(a);else for(const i of s)t.push(a.child(i))}else t.push(a)}),new Ac(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t,r,n,a,s,i,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=s,this.data=i,this.documentState=o}static newInvalidDocument(t){return new jo(t,0,Hr.min(),Hr.min(),Hr.min(),kl.empty(),0)}static newFoundDocument(t,r,n,a){return new jo(t,1,r,Hr.min(),n,a,0)}static newNoDocument(t,r){return new jo(t,2,r,Hr.min(),Hr.min(),kl.empty(),0)}static newUnknownDocument(t,r){return new jo(t,3,r,Hr.min(),Hr.min(),kl.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Hr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kl.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Hr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof jo&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new jo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(t,r){this.position=t,this.inclusive=r}}function SU(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const s=t[a],i=e.position[a];if(s.field.isKeyField()?n=xr.comparator(xr.fromName(i.referenceValue),r.key):n=Nv(i,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function NU(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!mA(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(t,r="asc"){this.field=t,this.dir=r}}function Yfe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{}class Ys extends Yq{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new Zfe(t,r,n):r==="array-contains"?new rhe(t,n):r==="in"?new nhe(t,n):r==="not-in"?new ahe(t,n):r==="array-contains-any"?new she(t,n):new Ys(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new ehe(t,n):new the(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Nv(r,this.value)):r!==null&&_0(this.value)===_0(r)&&this.matchesComparison(Nv(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Dr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sd extends Yq{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new sd(t,r)}matches(t){return Jq(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Jq(e){return e.op==="and"}function Zq(e){return Jfe(e)&&Jq(e)}function Jfe(e){for(const t of e.filters)if(t instanceof sd)return!1;return!0}function J3(e){if(e instanceof Ys)return e.field.canonicalString()+e.op.toString()+Bv(e.value);if(Zq(e))return e.filters.map(t=>J3(t)).join(",");{const t=e.filters.map(r=>J3(r)).join(",");return`${e.op}(${t})`}}function eW(e,t){return e instanceof Ys?function(n,a){return a instanceof Ys&&n.op===a.op&&n.field.isEqual(a.field)&&mA(n.value,a.value)}(e,t):e instanceof sd?function(n,a){return a instanceof sd&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((s,i,o)=>s&&eW(i,a.filters[o]),!0):!1}(e,t):void Dr(19439)}function tW(e){return e instanceof Ys?function(r){return`${r.field.canonicalString()} ${r.op} ${Bv(r.value)}`}(e):e instanceof sd?function(r){return r.op.toString()+" {"+r.getFilters().map(tW).join(" ,")+"}"}(e):"Filter"}class Zfe extends Ys{constructor(t,r,n){super(t,r,n),this.key=xr.fromName(n.referenceValue)}matches(t){const r=xr.comparator(t.key,this.key);return this.matchesComparison(r)}}class ehe extends Ys{constructor(t,r){super(t,"in",r),this.keys=rW("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class the extends Ys{constructor(t,r){super(t,"not-in",r),this.keys=rW("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function rW(e,t){var r;return(((r=t.arrayValue)==null?void 0:r.values)||[]).map(n=>xr.fromName(n.referenceValue))}class rhe extends Ys{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return YF(r)&&Gb(r.arrayValue,this.value)}}class nhe extends Ys{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Gb(this.value.arrayValue,r)}}class ahe extends Ys{constructor(t,r){super(t,"not-in",r)}matches(t){if(Gb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Gb(this.value.arrayValue,r)}}class she extends Ys{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!YF(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Gb(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ihe{constructor(t,r=null,n=[],a=[],s=null,i=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=s,this.startAt=i,this.endAt=o,this.Te=null}}function BU(e,t=null,r=[],n=[],a=null,s=null,i=null){return new ihe(e,t,r,n,a,s,i)}function JF(e){const t=$r(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>J3(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),e5(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>Bv(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>Bv(n)).join(",")),t.Te=r}return t.Te}function ZF(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Yfe(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!eW(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!NU(e.startAt,t.startAt)&&NU(e.endAt,t.endAt)}function Z3(e){return xr.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(t,r=null,n=[],a=[],s=null,i="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=s,this.limitType=i,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ohe(e,t,r,n,a,s,i,o){return new ox(e,t,r,n,a,s,i,o)}function r5(e){return new ox(e)}function kU(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function nW(e){return e.collectionGroup!==null}function mb(e){const t=$r(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),r.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(i){let o=new hi(ro.comparator);return i.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(t).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new qb(s,n))}),r.has(ro.keyField().canonicalString())||t.Ie.push(new qb(ro.keyField(),n))}return t.Ie}function lA(e){const t=$r(e);return t.Ee||(t.Ee=lhe(t,mb(e))),t.Ee}function lhe(e,t){if(e.limitType==="F")return BU(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const s=a.dir==="desc"?"asc":"desc";return new qb(a.field,s)});const r=e.endAt?new t_(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new t_(e.startAt.position,e.startAt.inclusive):null;return BU(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function eI(e,t){const r=e.filters.concat([t]);return new ox(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function r_(e,t,r){return new ox(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function n5(e,t){return ZF(lA(e),lA(t))&&e.limitType===t.limitType}function aW(e){return`${JF(lA(e))}|lt:${e.limitType}`}function Rg(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>tW(a)).join(", ")}]`),e5(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>Bv(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>Bv(a)).join(",")),`Target(${n})`}(lA(e))}; limitType=${e.limitType})`}function a5(e,t){return t.isFoundDocument()&&function(n,a){const s=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):xr.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(e,t)&&function(n,a){for(const s of mb(n))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const s of n.filters)if(!s.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(i,o,l){const u=SU(i,o,l);return i.inclusive?u<=0:u<0}(n.startAt,mb(n),a)||n.endAt&&!function(i,o,l){const u=SU(i,o,l);return i.inclusive?u>=0:u>0}(n.endAt,mb(n),a))}(e,t)}function che(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function sW(e){return(t,r)=>{let n=!1;for(const a of mb(e)){const s=uhe(a,t,r);if(s!==0)return s;n=n||a.field.isKeyField()}return 0}}function uhe(e,t,r){const n=e.field.isKeyField()?xr.comparator(t.key,r.key):function(s,i,o){const l=i.data.field(s),u=o.data.field(s);return l!==null&&u!==null?Nv(l,u):Dr(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return Dr(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,s]of n)if(this.equalsFn(a,t))return s}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],t))return void(a[s]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){L0(this.inner,(r,n)=>{for(const[a,s]of n)t(a,s)})}isEmpty(){return Hq(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dhe=new Ya(xr.comparator);function Sf(){return dhe}const iW=new Ya(xr.comparator);function K1(...e){let t=iW;for(const r of e)t=t.insert(r.key,r);return t}function oW(e){let t=iW;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Fm(){return pb()}function lW(){return pb()}function pb(){return new _p(e=>e.toString(),(e,t)=>e.isEqual(t))}const Ahe=new Ya(xr.comparator),fhe=new hi(xr.comparator);function xn(...e){let t=fhe;for(const r of e)t=t.add(r);return t}const hhe=new hi(vn);function mhe(){return hhe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:JC(t)?"-0":t}}function cW(e){return{integerValue:""+e}}function phe(e,t){return Vfe(t)?cW(t):e6(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(){this._=void 0}}function ghe(e,t,r){return e instanceof Wb?function(a,s){const i={fields:{[$q]:{stringValue:zq},[Gq]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&XF(s)&&(s=t5(s)),s&&(i.fields[Kq]=s),{mapValue:i}}(r,t):e instanceof kv?dW(e,t):e instanceof Xb?AW(e,t):function(a,s){const i=uW(a,s),o=TU(i)+TU(a.Ae);return Y3(i)&&Y3(a.Ae)?cW(o):e6(a.serializer,o)}(e,t)}function vhe(e,t,r){return e instanceof kv?dW(e,t):e instanceof Xb?AW(e,t):r}function uW(e,t){return e instanceof n_?function(n){return Y3(n)||function(s){return!!s&&"doubleValue"in s}(n)}(t)?t:{integerValue:0}:null}class Wb extends s5{}class kv extends s5{constructor(t){super(),this.elements=t}}function dW(e,t){const r=fW(t);for(const n of e.elements)r.some(a=>mA(a,n))||r.push(n);return{arrayValue:{values:r}}}class Xb extends s5{constructor(t){super(),this.elements=t}}function AW(e,t){let r=fW(t);for(const n of e.elements)r=r.filter(a=>!mA(a,n));return{arrayValue:{values:r}}}class n_ extends s5{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function TU(e){return Is(e.integerValue||e.doubleValue)}function fW(e){return YF(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(t,r){this.field=t,this.transform=r}}function xhe(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof kv&&a instanceof kv||n instanceof Xb&&a instanceof Xb?Sv(n.elements,a.elements,mA):n instanceof n_&&a instanceof n_?mA(n.Ae,a.Ae):n instanceof Wb&&a instanceof Wb}(e.transform,t.transform)}class bhe{constructor(t,r){this.version=t,this.transformResults=r}}class rl{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new rl}static exists(t){return new rl(void 0,t)}static updateTime(t){return new rl(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function uC(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class i5{}function mW(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new o5(e.key,rl.none()):new Hy(e.key,e.data,rl.none());{const r=e.data,n=kl.empty();let a=new hi(ro.comparator);for(let s of t.fields)if(!a.has(s)){let i=r.field(s);i===null&&s.length>1&&(s=s.popLast(),i=r.field(s)),i===null?n.delete(s):n.set(s,i),a=a.add(s)}return new U0(e.key,n,new Ac(a.toArray()),rl.none())}}function yhe(e,t,r){e instanceof Hy?function(a,s,i){const o=a.value.clone(),l=jU(a.fieldTransforms,s,i.transformResults);o.setAll(l),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(e,t,r):e instanceof U0?function(a,s,i){if(!uC(a.precondition,s))return void s.convertToUnknownDocument(i.version);const o=jU(a.fieldTransforms,s,i.transformResults),l=s.data;l.setAll(pW(a)),l.setAll(o),s.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(e,t,r):function(a,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,t,r)}function gb(e,t,r,n){return e instanceof Hy?function(s,i,o,l){if(!uC(s.precondition,i))return o;const u=s.value.clone(),d=FU(s.fieldTransforms,l,i);return u.setAll(d),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null}(e,t,r,n):e instanceof U0?function(s,i,o,l){if(!uC(s.precondition,i))return o;const u=FU(s.fieldTransforms,l,i),d=i.data;return d.setAll(pW(s)),d.setAll(u),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(s,i,o){return uC(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(e,t,r)}function whe(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),s=uW(n.transform,a||null);s!=null&&(r===null&&(r=kl.empty()),r.set(n.field,s))}return r||null}function IU(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Sv(n,a,(s,i)=>xhe(s,i))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Hy extends i5{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class U0 extends i5{constructor(t,r,n,a,s=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pW(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function jU(e,t,r){const n=new Map;Yn(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let a=0;a<r.length;a++){const s=e[a],i=s.transform,o=t.data.field(s.field);n.set(s.field,vhe(i,o,r[a]))}return n}function FU(e,t,r){const n=new Map;for(const a of e){const s=a.transform,i=r.data.field(a.field);n.set(a.field,ghe(s,i,t))}return n}class o5 extends i5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ehe extends i5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Che{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(t.key)&&yhe(s,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=gb(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=gb(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=lW();return this.mutations.forEach(a=>{const s=t.get(a.key),i=s.overlayedDocument;let o=this.applyToLocalView(i,s.mutatedFields);o=r.has(a.key)?null:o;const l=mW(i,o);l!==null&&n.set(a.key,l),i.isValidDocument()||i.convertToNoDocument(Hr.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),xn())}isEqual(t){return this.batchId===t.batchId&&Sv(this.mutations,t.mutations,(r,n)=>IU(r,n))&&Sv(this.baseMutations,t.baseMutations,(r,n)=>IU(r,n))}}class t6{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){Yn(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let a=function(){return Ahe}();const s=t.mutations;for(let i=0;i<s.length;i++)a=a.insert(s[i].key,n[i].version);return new t6(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _he{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class She{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ks,Bn;function Nhe(e){switch(e){case gt.OK:return Dr(64938);case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0;default:return Dr(15467,{code:e})}}function gW(e){if(e===void 0)return _f("GRPC error has no .code"),gt.UNKNOWN;switch(e){case Ks.OK:return gt.OK;case Ks.CANCELLED:return gt.CANCELLED;case Ks.UNKNOWN:return gt.UNKNOWN;case Ks.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case Ks.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case Ks.INTERNAL:return gt.INTERNAL;case Ks.UNAVAILABLE:return gt.UNAVAILABLE;case Ks.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case Ks.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case Ks.NOT_FOUND:return gt.NOT_FOUND;case Ks.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case Ks.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case Ks.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case Ks.ABORTED:return gt.ABORTED;case Ks.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case Ks.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case Ks.DATA_LOSS:return gt.DATA_LOSS;default:return Dr(39323,{code:e})}}(Bn=Ks||(Ks={}))[Bn.OK=0]="OK",Bn[Bn.CANCELLED=1]="CANCELLED",Bn[Bn.UNKNOWN=2]="UNKNOWN",Bn[Bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bn[Bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bn[Bn.NOT_FOUND=5]="NOT_FOUND",Bn[Bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bn[Bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bn[Bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bn[Bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bn[Bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bn[Bn.ABORTED=10]="ABORTED",Bn[Bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bn[Bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bn[Bn.INTERNAL=13]="INTERNAL",Bn[Bn.UNAVAILABLE=14]="UNAVAILABLE",Bn[Bn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bhe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const khe=new c0([4294967295,4294967295],0);function OU(e){const t=Bhe().encode(e),r=new Iq;return r.update(t),new Uint8Array(r.digest())}function DU(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new c0([r,n],0),new c0([a,s],0)]}class r6{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new G1(`Invalid padding: ${r}`);if(n<0)throw new G1(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new G1(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new G1(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=c0.fromNumber(this.ge)}ye(t,r,n){let a=t.add(r.multiply(c0.fromNumber(n)));return a.compare(khe)===1&&(a=new c0([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=OU(t),[n,a]=DU(r);for(let s=0;s<this.hashCount;s++){const i=this.ye(n,a,s);if(!this.we(i))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),i=new r6(s,a,r);return n.forEach(o=>i.insert(o)),i}insert(t){if(this.ge===0)return;const r=OU(t),[n,a]=DU(r);for(let s=0;s<this.hashCount;s++){const i=this.ye(n,a,s);this.Se(i)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class G1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(t,r,n,a,s){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,Vy.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new l5(Hr.min(),a,new Ya(vn),Sf(),xn())}}class Vy{constructor(t,r,n,a,s){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Vy(n,r,xn(),xn(),xn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t,r,n,a){this.be=t,this.removedTargetIds=r,this.key=n,this.De=a}}class vW{constructor(t,r){this.targetId=t,this.Ce=r}}class xW{constructor(t,r,n=so.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class PU{constructor(){this.ve=0,this.Fe=RU(),this.Me=so.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xn(),r=xn(),n=xn();return this.Fe.forEach((a,s)=>{switch(s){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:Dr(38017,{changeType:s})}}),new Vy(this.Me,this.xe,t,r,n)}qe(){this.Oe=!1,this.Fe=RU()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class The{constructor(t){this.Ge=t,this.ze=new Map,this.je=Sf(),this.Je=j2(),this.He=j2(),this.Ye=new Ya(vn)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:Dr(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach((n,a)=>{this.rt(a)&&r(a)})}st(t){const r=t.targetId,n=t.Ce.count,a=this.ot(r);if(a){const s=a.target;if(Z3(s))if(n===0){const i=new xr(s.path);this.et(r,i,jo.newNoDocument(i,Hr.min()))}else Yn(n===1,20013,{expectedCount:n});else{const i=this._t(r);if(i!==n){const o=this.ut(t),l=o?this.ct(o,t,i):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:s=0}=r;let i,o;try{i=C0(n).toUint8Array()}catch(l){if(l instanceof Vq)return _v("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new r6(i,a,s)}catch(l){return _v(l instanceof G1?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let a=0;return n.forEach(s=>{const i=this.Ge.ht(),o=`projects/${i.projectId}/databases/${i.database}/documents/${s.path.canonicalString()}`;t.mightContain(o)||(this.et(r,s,null),a++)}),a}Tt(t){const r=new Map;this.ze.forEach((s,i)=>{const o=this.ot(i);if(o){if(s.current&&Z3(o.target)){const l=new xr(o.target.path);this.It(l).has(i)||this.Et(i,l)||this.et(i,l,jo.newNoDocument(l,t))}s.Be&&(r.set(i,s.ke()),s.qe())}});let n=xn();this.He.forEach((s,i)=>{let o=!0;i.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.je.forEach((s,i)=>i.setReadTime(t));const a=new l5(t,r,this.Ye,this.je,n);return this.je=Sf(),this.Je=j2(),this.He=j2(),this.Ye=new Ya(vn),a}Xe(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,r)?a.Qe(r,1):a.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new PU,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new hi(vn),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new hi(vn),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||ar("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new PU),this.Ge.getRemoteKeysForTarget(t).forEach(r=>{this.et(t,r,null)})}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function j2(){return new Ya(xr.comparator)}function RU(){return new Ya(xr.comparator)}const Ihe={asc:"ASCENDING",desc:"DESCENDING"},jhe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fhe={and:"AND",or:"OR"};class Ohe{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function tI(e,t){return e.useProto3Json||e5(t)?t:{value:t}}function a_(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function bW(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Dhe(e,t){return a_(e,t.toTimestamp())}function cA(e){return Yn(!!e,49232),Hr.fromTimestamp(function(r){const n=E0(r);return new fr(n.seconds,n.nanos)}(e))}function n6(e,t){return rI(e,t).canonicalString()}function rI(e,t){const r=function(a){return new Na(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function yW(e){const t=Na.fromString(e);return Yn(SW(t),10190,{key:t.toString()}),t}function nI(e,t){return n6(e.databaseId,t.path)}function gB(e,t){const r=yW(t);if(r.get(1)!==e.databaseId.projectId)throw new Xt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Xt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new xr(EW(r))}function wW(e,t){return n6(e.databaseId,t)}function Phe(e){const t=yW(e);return t.length===4?Na.emptyPath():EW(t)}function aI(e){return new Na(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function EW(e){return Yn(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function LU(e,t,r){return{name:nI(e,t),fields:r.value.mapValue.fields}}function Rhe(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Dr(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Yn(d===void 0||typeof d=="string",58123),so.fromBase64String(d||"")):(Yn(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),so.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,o=i&&function(u){const d=u.code===void 0?gt.UNKNOWN:gW(u.code);return new Xt(d,u.message||"")}(i);r=new xW(n,a,s,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=gB(e,n.document.name),s=cA(n.document.updateTime),i=n.document.createTime?cA(n.document.createTime):Hr.min(),o=new kl({mapValue:{fields:n.document.fields}}),l=jo.newFoundDocument(a,s,i,o),u=n.targetIds||[],d=n.removedTargetIds||[];r=new dC(u,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=gB(e,n.document),s=n.readTime?cA(n.readTime):Hr.min(),i=jo.newNoDocument(a,s),o=n.removedTargetIds||[];r=new dC([],o,i.key,i)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=gB(e,n.document),s=n.removedTargetIds||[];r=new dC([],s,a,null)}else{if(!("filter"in t))return Dr(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:s}=n,i=new She(a,s),o=n.targetId;r=new vW(o,i)}}return r}function Lhe(e,t){let r;if(t instanceof Hy)r={update:LU(e,t.key,t.value)};else if(t instanceof o5)r={delete:nI(e,t.key)};else if(t instanceof U0)r={update:LU(e,t.key,t.data),updateMask:Ghe(t.fieldMask)};else{if(!(t instanceof Ehe))return Dr(16599,{Vt:t.type});r={verify:nI(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(s,i){const o=i.transform;if(o instanceof Wb)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof kv)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Xb)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof n_)return{fieldPath:i.field.canonicalString(),increment:o.Ae};throw Dr(20930,{transform:i.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,s){return s.updateTime!==void 0?{updateTime:Dhe(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Dr(27497)}(e,t.precondition)),r}function Uhe(e,t){return e&&e.length>0?(Yn(t!==void 0,14353),e.map(r=>function(a,s){let i=a.updateTime?cA(a.updateTime):cA(s);return i.isEqual(Hr.min())&&(i=cA(s)),new bhe(i,a.transformResults||[])}(r,t))):[]}function Mhe(e,t){return{documents:[wW(e,t.path)]}}function Qhe(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=wW(e,a);const s=function(u){if(u.length!==0)return _W(sd.create(u,"and"))}(t.filters);s&&(r.structuredQuery.where=s);const i=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Lg(m.field),direction:zhe(m.dir)}}(d))}(t.orderBy);i&&(r.structuredQuery.orderBy=i);const o=tI(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:r,parent:a}}function Hhe(e){let t=Phe(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){Yn(n===1,65062);const d=r.from[0];d.allDescendants?a=d.collectionId:t=t.child(d.collectionId)}let s=[];r.where&&(s=function(f){const m=CW(f);return m instanceof sd&&Zq(m)?m.getFilters():[m]}(r.where));let i=[];r.orderBy&&(i=function(f){return f.map(m=>function(x){return new qb(Ug(x.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(r.orderBy));let o=null;r.limit&&(o=function(f){let m;return m=typeof f=="object"?f.value:f,e5(m)?null:m}(r.limit));let l=null;r.startAt&&(l=function(f){const m=!!f.before,p=f.values||[];return new t_(p,m)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const m=!f.before,p=f.values||[];return new t_(p,m)}(r.endAt)),ohe(t,a,i,s,o,"F",l,u)}function Vhe(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dr(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function CW(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Ug(r.unaryFilter.field);return Ys.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Ug(r.unaryFilter.field);return Ys.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ug(r.unaryFilter.field);return Ys.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ug(r.unaryFilter.field);return Ys.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dr(61313);default:return Dr(60726)}}(e):e.fieldFilter!==void 0?function(r){return Ys.create(Ug(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dr(58110);default:return Dr(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return sd.create(r.compositeFilter.filters.map(n=>CW(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Dr(1026)}}(r.compositeFilter.op))}(e):Dr(30097,{filter:e})}function zhe(e){return Ihe[e]}function $he(e){return jhe[e]}function Khe(e){return Fhe[e]}function Lg(e){return{fieldPath:e.canonicalString()}}function Ug(e){return ro.fromServerFormat(e.fieldPath)}function _W(e){return e instanceof Ys?function(r){if(r.op==="=="){if(_U(r.value))return{unaryFilter:{field:Lg(r.field),op:"IS_NAN"}};if(CU(r.value))return{unaryFilter:{field:Lg(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(_U(r.value))return{unaryFilter:{field:Lg(r.field),op:"IS_NOT_NAN"}};if(CU(r.value))return{unaryFilter:{field:Lg(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lg(r.field),op:$he(r.op),value:r.value}}}(e):e instanceof sd?function(r){const n=r.getFilters().map(a=>_W(a));return n.length===1?n[0]:{compositeFilter:{op:Khe(r.op),filters:n}}}(e):Dr(54877,{filter:e})}function Ghe(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function SW(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,r,n,a,s=Hr.min(),i=Hr.min(),o=so.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new Zh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Zh(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qhe{constructor(t){this.yt=t}}function Whe(e){const t=Hhe({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?r_(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xhe{constructor(){this.Cn=new Yhe}addToCollectionParentIndex(t,r){return this.Cn.add(r),St.resolve()}getCollectionParents(t,r){return St.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return St.resolve()}deleteFieldIndex(t,r){return St.resolve()}deleteAllFieldIndexes(t){return St.resolve()}createTargetIndexes(t,r){return St.resolve()}getDocumentsMatchingTarget(t,r){return St.resolve(null)}getIndexType(t,r){return St.resolve(0)}getFieldIndexes(t,r){return St.resolve([])}getNextCollectionGroupToUpdate(t){return St.resolve(null)}getMinOffset(t,r){return St.resolve(w0.min())}getMinOffsetFromCollectionGroup(t,r){return St.resolve(w0.min())}updateCollectionGroup(t,r,n){return St.resolve()}updateIndexEntries(t,r){return St.resolve()}}class Yhe{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new hi(Na.comparator),s=!a.has(n);return this.index[r]=a.add(n),s}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new hi(Na.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NW=41943040;class _l{static withCacheSize(t){return new _l(t,_l.DEFAULT_COLLECTION_PERCENTILE,_l.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_l.DEFAULT_COLLECTION_PERCENTILE=10,_l.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_l.DEFAULT=new _l(NW,_l.DEFAULT_COLLECTION_PERCENTILE,_l.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_l.DISABLED=new _l(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Tv(0)}static cr(){return new Tv(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU="LruGarbageCollector",Jhe=1048576;function QU([e,t],[r,n]){const a=vn(e,r);return a===0?vn(t,n):a}class Zhe{constructor(t){this.Ir=t,this.buffer=new hi(QU),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();QU(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class e0e{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ar(MU,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ix(r)?ar(MU,"Ignoring IndexedDB error during garbage collection: ",r):await sx(r)}await this.Vr(3e5)})}}class t0e{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return St.resolve(ZS.ce);const n=new Zhe(r);return this.mr.forEachTarget(t,a=>n.Ar(a.sequenceNumber)).next(()=>this.mr.pr(t,a=>n.Ar(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.mr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(ar("LruGarbageCollector","Garbage collection skipped; disabled"),St.resolve(UU)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(ar("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UU):this.yr(t,r))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let n,a,s,i,o,l,u;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ar("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,i=Date.now(),this.nthSequenceNumber(t,a))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(u=Date.now(),Pg()<=gn.DEBUG&&ar("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-d}ms
	Determined least recently used ${a} in `+(o-i)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),St.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:f})))}}function r0e(e,t){return new t0e(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0e{constructor(){this.changes=new _p(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,jo.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?St.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0e{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0e{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&gb(n.mutation,a,Ac.empty(),fr.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,xn()).next(()=>n))}getLocalViewOfDocuments(t,r,n=xn()){const a=Fm();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(s=>{let i=K1();return s.forEach((o,l)=>{i=i.insert(o,l.overlayedDocument)}),i}))}getOverlayedDocuments(t,r){const n=Fm();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,xn()))}populateOverlays(t,r,n){const a=[];return n.forEach(s=>{r.has(s)||a.push(s)}),this.documentOverlayCache.getOverlays(t,a).next(s=>{s.forEach((i,o)=>{r.set(i,o)})})}computeViews(t,r,n,a){let s=Sf();const i=pb(),o=function(){return pb()}();return r.forEach((l,u)=>{const d=n.get(u.key);a.has(u.key)&&(d===void 0||d.mutation instanceof U0)?s=s.insert(u.key,u):d!==void 0?(i.set(u.key,d.mutation.getFieldMask()),gb(d.mutation,u,d.mutation.getFieldMask(),fr.now())):i.set(u.key,Ac.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,d)=>i.set(u,d)),r.forEach((u,d)=>o.set(u,new a0e(d,i.get(u)??null))),o))}recalculateAndSaveOverlays(t,r){const n=pb();let a=new Ya((i,o)=>i-o),s=xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(i=>{for(const o of i)o.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let d=n.get(l)||Ac.empty();d=o.applyToLocalView(u,d),n.set(l,d);const f=(a.get(o.batchId)||xn()).add(l);a=a.insert(o.batchId,f)})}).next(()=>{const i=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,f=lW();d.forEach(m=>{if(!s.has(m)){const p=mW(r.get(m),n.get(m));p!==null&&f.set(m,p),s=s.add(m)}}),i.push(this.documentOverlayCache.saveOverlays(t,u,f))}return St.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(i){return xr.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):nW(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(s=>{const i=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-s.size):St.resolve(Fm());let o=zb,l=s;return i.next(u=>St.forEach(u,(d,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(d)?St.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,xn())).next(d=>({batchId:o,changes:oW(d)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new xr(r)).next(n=>{let a=K1();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const s=r.collectionGroup;let i=K1();return this.indexManager.getCollectionParents(t,s).next(o=>St.forEach(o,l=>{const u=function(f,m){return new ox(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,n,a).next(d=>{d.forEach((f,m)=>{i=i.insert(f,m)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(t,r,n,a){let s;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,s,a))).next(i=>{s.forEach((l,u)=>{const d=u.getKey();i.get(d)===null&&(i=i.insert(d,jo.newInvalidDocument(d)))});let o=K1();return i.forEach((l,u)=>{const d=s.get(l);d!==void 0&&gb(d.mutation,u,Ac.empty(),fr.now()),a5(r,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0e{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return St.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:cA(a.createTime)}}(r)),St.resolve()}getNamedQuery(t,r){return St.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,function(a){return{name:a.name,query:Whe(a.bundledQuery),readTime:cA(a.readTime)}}(r)),St.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0e{constructor(){this.overlays=new Ya(xr.comparator),this.qr=new Map}getOverlay(t,r){return St.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Fm();return St.forEach(r,a=>this.getOverlay(t,a).next(s=>{s!==null&&n.set(a,s)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,s)=>{this.St(t,r,s)}),St.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.qr.get(n);return a!==void 0&&(a.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(n)),St.resolve()}getOverlaysForCollection(t,r,n){const a=Fm(),s=r.length+1,i=new xr(r.child("")),o=this.overlays.getIteratorFrom(i);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>n&&a.set(l.getKey(),l)}return St.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let s=new Ya((u,d)=>u-d);const i=this.overlays.getIterator();for(;i.hasNext();){const u=i.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=s.get(u.largestBatchId);d===null&&(d=Fm(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Fm(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=a)););return St.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const i=this.qr.get(a.largestBatchId).delete(n.key);this.qr.set(a.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new _he(r,n));let s=this.qr.get(r);s===void 0&&(s=xn(),this.qr.set(r,s)),this.qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0e{constructor(){this.sessionToken=so.EMPTY_BYTE_STRING}getSessionToken(t){return St.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,St.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(){this.Qr=new hi(Ii.$r),this.Ur=new hi(Ii.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const n=new Ii(t,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Gr(new Ii(t,r))}zr(t,r){t.forEach(n=>this.removeReference(n,r))}jr(t){const r=new xr(new Na([])),n=new Ii(r,t),a=new Ii(r,t+1),s=[];return this.Ur.forEachInRange([n,a],i=>{this.Gr(i),s.push(i.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new xr(new Na([])),n=new Ii(r,t),a=new Ii(r,t+1);let s=xn();return this.Ur.forEachInRange([n,a],i=>{s=s.add(i.key)}),s}containsKey(t){const r=new Ii(t,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Ii{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return xr.comparator(t.key,r.key)||vn(t.Yr,r.Yr)}static Kr(t,r){return vn(t.Yr,r.Yr)||xr.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0e{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new hi(Ii.$r)}checkEmpty(t){return St.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Che(s,r,n,a);this.mutationQueue.push(i);for(const o of a)this.Zr=this.Zr.add(new Ii(o.key,s)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return St.resolve(i)}lookupMutationBatch(t,r){return St.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.ei(n),s=a<0?0:a;return St.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return St.resolve(this.mutationQueue.length===0?WF:this.tr-1)}getAllMutationBatches(t){return St.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Ii(r,0),a=new Ii(r,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,a],i=>{const o=this.Xr(i.Yr);s.push(o)}),St.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new hi(vn);return r.forEach(a=>{const s=new Ii(a,0),i=new Ii(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,i],o=>{n=n.add(o.Yr)})}),St.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let s=n;xr.isDocumentKey(s)||(s=s.child(""));const i=new Ii(new xr(s),0);let o=new hi(vn);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===a&&(o=o.add(l.Yr)),!0)},i),St.resolve(this.ti(o))}ti(t){const r=[];return t.forEach(n=>{const a=this.Xr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){Yn(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return St.forEach(r.mutations,a=>{const s=new Ii(a.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Zr=n})}ir(t){}containsKey(t,r){const n=new Ii(r,0),a=this.Zr.firstAfterOrEqual(n);return St.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,St.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0e{constructor(t){this.ri=t,this.docs=function(){return new Ya(xr.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),s=a?a.size:0,i=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return St.resolve(n?n.document.mutableCopy():jo.newInvalidDocument(r))}getEntries(t,r){let n=Sf();return r.forEach(a=>{const s=this.docs.get(a);n=n.insert(a,s?s.document.mutableCopy():jo.newInvalidDocument(a))}),St.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let s=Sf();const i=r.path,o=new xr(i.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||Ufe(Lfe(d),n)<=0||(a.has(d.key)||a5(r,d))&&(s=s.insert(d.key,d.mutableCopy()))}return St.resolve(s)}getAllFromCollectionGroup(t,r,n,a){Dr(9500)}ii(t,r){return St.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new d0e(this)}getSize(t){return St.resolve(this.size)}}class d0e extends n0e{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(n)}),St.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0e{constructor(t){this.persistence=t,this.si=new _p(r=>JF(r),ZF),this.lastRemoteSnapshotVersion=Hr.min(),this.highestTargetId=0,this.oi=0,this._i=new a6,this.targetCount=0,this.ai=Tv.ur()}forEachTarget(t,r){return this.si.forEach((n,a)=>r(a)),St.resolve()}getLastRemoteSnapshotVersion(t){return St.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return St.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),St.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),St.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new Tv(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,St.resolve()}updateTargetData(t,r){return this.Pr(r),St.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,St.resolve()}removeTargets(t,r,n){let a=0;const s=[];return this.si.forEach((i,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(i),s.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),St.waitFor(s).next(()=>a)}getTargetCount(t){return St.resolve(this.targetCount)}getTargetData(t,r){const n=this.si.get(r)||null;return St.resolve(n)}addMatchingKeys(t,r,n){return this._i.Wr(r,n),St.resolve()}removeMatchingKeys(t,r,n){this._i.zr(r,n);const a=this.persistence.referenceDelegate,s=[];return a&&r.forEach(i=>{s.push(a.markPotentiallyOrphaned(t,i))}),St.waitFor(s)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),St.resolve()}getMatchingKeysForTargetId(t,r){const n=this._i.Hr(r);return St.resolve(n)}containsKey(t,r){return St.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(t,r){this.ui={},this.overlays={},this.ci=new ZS(0),this.li=!1,this.li=!0,this.hi=new l0e,this.referenceDelegate=t(this),this.Pi=new A0e(this),this.indexManager=new Xhe,this.remoteDocumentCache=function(a){return new u0e(a)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new qhe(r),this.Ii=new i0e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new o0e,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ui[t.toKey()];return n||(n=new c0e(r,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,n){ar("MemoryPersistence","Starting transaction:",t);const a=new f0e(this.ci.next());return this.referenceDelegate.Ei(),n(a).next(s=>this.referenceDelegate.di(a).next(()=>s)).toPromise().then(s=>(a.raiseOnCommittedEvent(),s))}Ai(t,r){return St.or(Object.values(this.ui).map(n=>()=>n.containsKey(t,r)))}}class f0e extends Qfe{constructor(t){super(),this.currentSequenceNumber=t}}class s6{constructor(t){this.persistence=t,this.Ri=new a6,this.Vi=null}static mi(t){return new s6(t)}get fi(){if(this.Vi)return this.Vi;throw Dr(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),St.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),St.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),St.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach(a=>this.fi.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(s=>this.fi.add(s.toString()))}).next(()=>n.removeTargetData(t,r))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return St.forEach(this.fi,n=>{const a=xr.fromPath(n);return this.gi(t,a).next(s=>{s||r.removeEntry(a,Hr.min())})}).next(()=>(this.Vi=null,r.apply(t)))}updateLimboDocument(t,r){return this.gi(t,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(t){return 0}gi(t,r){return St.or([()=>St.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class s_{constructor(t,r){this.persistence=t,this.pi=new _p(n=>zfe(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=r0e(this,r)}static mi(t,r){return new s_(t,r)}Ei(){}di(t){return St.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}wr(t){let r=0;return this.pr(t,n=>{r++}).next(()=>r)}pr(t,r){return St.forEach(this.pi,(n,a)=>this.br(t,n,a).next(s=>s?St.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ii(t,i=>this.br(t,i,r).next(o=>{o||(n++,s.removeEntry(i,Hr.min()))})).next(()=>s.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),St.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),St.resolve()}removeReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),St.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),St.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=lC(t.data.value)),r}br(t,r,n){return St.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.pi.get(r);return St.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.Es=n,this.ds=a}static As(t,r){let n=xn(),a=xn();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new i6(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0e{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return zce()?8:Hfe(Mo())>0?6:4}()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,a){const s={result:null};return this.ys(t,r).next(i=>{s.result=i}).next(()=>{if(!s.result)return this.ws(t,r,a,n).next(i=>{s.result=i})}).next(()=>{if(s.result)return;const i=new h0e;return this.Ss(t,r,i).next(o=>{if(s.result=o,this.Vs)return this.bs(t,r,i,o.size)})}).next(()=>s.result)}bs(t,r,n,a){return n.documentReadCount<this.fs?(Pg()<=gn.DEBUG&&ar("QueryEngine","SDK will not create cache indexes for query:",Rg(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),St.resolve()):(Pg()<=gn.DEBUG&&ar("QueryEngine","Query:",Rg(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.gs*a?(Pg()<=gn.DEBUG&&ar("QueryEngine","The SDK decides to create cache indexes for query:",Rg(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,lA(r))):St.resolve())}ys(t,r){if(kU(r))return St.resolve(null);let n=lA(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=r_(r,null,"F"),n=lA(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(s=>{const i=xn(...s);return this.ps.getDocuments(t,i).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const u=this.Ds(r,o);return this.Cs(r,u,i,l.readTime)?this.ys(t,r_(r,null,"F")):this.vs(t,u,r,l)}))})))}ws(t,r,n,a){return kU(r)||a.isEqual(Hr.min())?St.resolve(null):this.ps.getDocuments(t,n).next(s=>{const i=this.Ds(r,s);return this.Cs(r,i,n,a)?St.resolve(null):(Pg()<=gn.DEBUG&&ar("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Rg(r)),this.vs(t,i,r,Rfe(a,zb)).next(o=>o))})}Ds(t,r){let n=new hi(sW(t));return r.forEach((a,s)=>{a5(t,s)&&(n=n.add(s))}),n}Cs(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const s=t.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(t,r,n){return Pg()<=gn.DEBUG&&ar("QueryEngine","Using full collection scan to execute query:",Rg(r)),this.ps.getDocumentsMatchingQuery(t,r,w0.min(),n)}vs(t,r,n,a){return this.ps.getDocumentsMatchingQuery(t,n,a).next(s=>(r.forEach(i=>{s=s.insert(i.key,i)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6="LocalStore",p0e=3e8;class g0e{constructor(t,r,n,a){this.persistence=t,this.Fs=r,this.serializer=a,this.Ms=new Ya(vn),this.xs=new _p(s=>JF(s),ZF),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new s0e(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ms))}}function v0e(e,t,r,n){return new g0e(e,t,r,n)}async function kW(e,t){const r=$r(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(s=>(a=s,r.Bs(t),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const i=[],o=[];let l=xn();for(const u of a){i.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ls:u,removedBatchIds:i,addedBatchIds:o}))})})}function x0e(e,t){const r=$r(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),s=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const f=u.batch,m=f.keys();let p=St.resolve();return m.forEach(x=>{p=p.next(()=>d.getEntry(l,x)).next(g=>{const b=u.docVersions.get(x);Yn(b!==null,48541),g.version.compareTo(b)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=xn();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function TW(e){const t=$r(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Pi.getLastRemoteSnapshotVersion(r))}function b0e(e,t){const r=$r(e),n=t.snapshotVersion;let a=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const i=r.Ns.newChangeBuffer({trackRemovals:!0});a=r.Ms;const o=[];t.targetChanges.forEach((d,f)=>{const m=a.get(f);if(!m)return;o.push(r.Pi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(s,d.addedDocuments,f)));let p=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?p=p.withResumeToken(so.EMPTY_BYTE_STRING,Hr.min()).withLastLimboFreeSnapshotVersion(Hr.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,n)),a=a.insert(f,p),function(g,b,y){return g.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=p0e?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(m,p,d)&&o.push(r.Pi.updateTargetData(s,p))});let l=Sf(),u=xn();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,d))}),o.push(y0e(s,i,t.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!n.isEqual(Hr.min())){const d=r.Pi.getLastRemoteSnapshotVersion(s).next(f=>r.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(d)}return St.waitFor(o).next(()=>i.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(r.Ms=a,s))}function y0e(e,t,r){let n=xn(),a=xn();return r.forEach(s=>n=n.add(s)),t.getEntries(e,n).next(s=>{let i=Sf();return r.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(Hr.min())?(t.removeEntry(o,l.readTime),i=i.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),i=i.insert(o,l)):ar(o6,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:i,qs:a}})}function w0e(e,t){const r=$r(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=WF),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function E0e(e,t){const r=$r(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.Pi.getTargetData(n,t).next(s=>s?(a=s,St.resolve(a)):r.Pi.allocateTargetId(n).next(i=>(a=new Zh(t,i,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ms.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(t,n.targetId)),n})}async function sI(e,t,r){const n=$r(e),a=n.Ms.get(t),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,i=>n.persistence.referenceDelegate.removeTarget(i,a))}catch(i){if(!ix(i))throw i;ar(o6,`Failed to update sequence numbers for target ${t}: ${i}`)}n.Ms=n.Ms.remove(t),n.xs.delete(a.target)}function HU(e,t,r){const n=$r(e);let a=Hr.min(),s=xn();return n.persistence.runTransaction("Execute query","readwrite",i=>function(l,u,d){const f=$r(l),m=f.xs.get(d);return m!==void 0?St.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,d)}(n,i,lA(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(i,o.targetId).next(l=>{s=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(i,t,r?a:Hr.min(),r?s:xn())).next(o=>(C0e(n,che(t),o),{documents:o,Qs:s})))}function C0e(e,t,r){let n=e.Os.get(t)||Hr.min();r.forEach((a,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),e.Os.set(t,n)}class VU{constructor(){this.activeTargetIds=mhe()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _0e{constructor(){this.Mo=new VU,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,n){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new VU,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0e{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU="ConnectivityMonitor";class $U{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ar(zU,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ar(zU,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F2=null;function iI(){return F2===null?F2=function(){return 268435456+Math.round(2147483648*Math.random())}():F2++,"0x"+F2.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB="RestConnection",N0e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B0e{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${n}/databases/${a}`,this.Wo=this.databaseId.database===ZC?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Go(t,r,n,a,s){const i=iI(),o=this.zo(t,r.toUriEncodedString());ar(vB,`Sending RPC '${t}' ${i}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,a,s);const{host:u}=new URL(o),d=Uf(u);return this.Jo(t,o,l,n,d).then(f=>(ar(vB,`Received RPC '${t}' ${i}: `,f),f),f=>{throw _v(vB,`RPC '${t}' ${i} failed with error: `,f,"url: ",o,"request:",n),f})}Ho(t,r,n,a,s,i){return this.Go(t,r,n,a,s)}jo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ax}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,s)=>t[s]=a),n&&n.headers.forEach((a,s)=>t[s]=a)}zo(t,r){const n=N0e[t];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0e{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="WebChannelConnection";class T0e extends B0e{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,n,a,s){const i=iI();return new Promise((o,l)=>{const u=new jq;u.setWithCredentials(!0),u.listenOnce(Fq.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case oC.NO_ERROR:const f=u.getResponseJson();ar(bo,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(f)),o(f);break;case oC.TIMEOUT:ar(bo,`RPC '${t}' ${i} timed out`),l(new Xt(gt.DEADLINE_EXCEEDED,"Request time out"));break;case oC.HTTP_ERROR:const m=u.getStatus();if(ar(bo,`RPC '${t}' ${i} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const x=p==null?void 0:p.error;if(x&&x.status&&x.message){const g=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(_)>=0?_:gt.UNKNOWN}(x.status);l(new Xt(g,x.message))}else l(new Xt(gt.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Xt(gt.UNAVAILABLE,"Connection failed."));break;default:Dr(9055,{l_:t,streamId:i,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ar(bo,`RPC '${t}' ${i} completed.`)}});const d=JSON.stringify(a);ar(bo,`RPC '${t}' ${i} sending request:`,a),u.send(r,"POST",d,n,15)})}T_(t,r,n){const a=iI(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=Pq(),o=Dq(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const d=s.join("");ar(bo,`Creating RPC '${t}' stream ${a}: ${d}`,l);const f=i.createWebChannel(d,l);this.I_(f);let m=!1,p=!1;const x=new k0e({Yo:b=>{p?ar(bo,`Not sending because RPC '${t}' stream ${a} is closed:`,b):(m||(ar(bo,`Opening RPC '${t}' stream ${a} transport.`),f.open(),m=!0),ar(bo,`RPC '${t}' stream ${a} sending:`,b),f.send(b))},Zo:()=>f.close()}),g=(b,y,_)=>{b.listen(y,S=>{try{_(S)}catch(I){setTimeout(()=>{throw I},0)}})};return g(f,$1.EventType.OPEN,()=>{p||(ar(bo,`RPC '${t}' stream ${a} transport opened.`),x.o_())}),g(f,$1.EventType.CLOSE,()=>{p||(p=!0,ar(bo,`RPC '${t}' stream ${a} transport closed`),x.a_(),this.E_(f))}),g(f,$1.EventType.ERROR,b=>{p||(p=!0,_v(bo,`RPC '${t}' stream ${a} transport errored. Name:`,b.name,"Message:",b.message),x.a_(new Xt(gt.UNAVAILABLE,"The operation could not be completed")))}),g(f,$1.EventType.MESSAGE,b=>{var y;if(!p){const _=b.data[0];Yn(!!_,16349);const S=_,I=(S==null?void 0:S.error)||((y=S[0])==null?void 0:y.error);if(I){ar(bo,`RPC '${t}' stream ${a} received error:`,I);const T=I.status;let F=function(N){const R=Ks[N];if(R!==void 0)return gW(R)}(T),w=I.message;F===void 0&&(F=gt.INTERNAL,w="Unknown error status: "+T+" with message "+I.message),p=!0,x.a_(new Xt(F,w)),f.close()}else ar(bo,`RPC '${t}' stream ${a} received:`,_),x.u_(_)}}),g(o,Oq.STAT_EVENT,b=>{b.stat===q3.PROXY?ar(bo,`RPC '${t}' stream ${a} detected buffering proxy`):b.stat===q3.NOPROXY&&ar(bo,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(r=>r===t)}}function xB(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(e){return new Ohe(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(t,r,n=1e3,a=1.5,s=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),a=Math.max(0,r-n);a>0&&ar("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU="PersistentStream";class jW{constructor(t,r,n,a,s,i,o,l){this.Mi=t,this.S_=n,this.b_=a,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IW(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===gt.RESOURCE_EXHAUSTED?(_f(r.toString()),_f("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.D_===r&&this.G_(n,a)},n=>{t(()=>{const a=new Xt(gt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(a)})})}G_(t,r){const n=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{n(()=>this.z_(a))}),this.stream.onMessage(a=>{n(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ar(KU,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget(()=>this.D_===t?r():(ar(KU,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class I0e extends jW{constructor(t,r,n,a,s,i){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,i),this.serializer=s}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=Rhe(this.serializer,t),n=function(s){if(!("targetChange"in s))return Hr.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?Hr.min():i.readTime?cA(i.readTime):Hr.min()}(t);return this.listener.H_(r,n)}Y_(t){const r={};r.database=aI(this.serializer),r.addTarget=function(s,i){let o;const l=i.target;if(o=Z3(l)?{documents:Mhe(s,l)}:{query:Qhe(s,l).ft},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=bW(s,i.resumeToken);const u=tI(s,i.expectedCount);u!==null&&(o.expectedCount=u)}else if(i.snapshotVersion.compareTo(Hr.min())>0){o.readTime=a_(s,i.snapshotVersion.toTimestamp());const u=tI(s,i.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,t);const n=Vhe(this.serializer,t);n&&(r.labels=n),this.q_(r)}Z_(t){const r={};r.database=aI(this.serializer),r.removeTarget=t,this.q_(r)}}class j0e extends jW{constructor(t,r,n,a,s,i){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,i),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Yn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=Uhe(t.writeResults,t.commitTime),n=cA(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=aI(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>Lhe(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0e{}class O0e extends F0e{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Xt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,n,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Go(t,rI(r,n),a,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Xt(gt.UNKNOWN,s.toString())})}Ho(t,r,n,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Ho(t,rI(r,n),a,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Xt(gt.UNKNOWN,i.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class D0e{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_f(r),this.aa=!1):ar("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="RemoteStore";class P0e{constructor(t,r,n,a,s){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(i=>{n.enqueueAndForget(async()=>{Sp(this)&&(ar(lp,"Restarting streams for network reachability change."),await async function(l){const u=$r(l);u.Ea.add(4),await zy(u),u.Ra.set("Unknown"),u.Ea.delete(4),await u5(u)}(this))})}),this.Ra=new D0e(n,a)}}async function u5(e){if(Sp(e))for(const t of e.da)await t(!0)}async function zy(e){for(const t of e.da)await t(!1)}function FW(e,t){const r=$r(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),d6(r)?u6(r):lx(r).O_()&&c6(r,t))}function l6(e,t){const r=$r(e),n=lx(r);r.Ia.delete(t),n.O_()&&OW(r,t),r.Ia.size===0&&(n.O_()?n.L_():Sp(r)&&r.Ra.set("Unknown"))}function c6(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Hr.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}lx(e).Y_(t)}function OW(e,t){e.Va.Ue(t),lx(e).Z_(t)}function u6(e){e.Va=new The({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),lx(e).start(),e.Ra.ua()}function d6(e){return Sp(e)&&!lx(e).x_()&&e.Ia.size>0}function Sp(e){return $r(e).Ea.size===0}function DW(e){e.Va=void 0}async function R0e(e){e.Ra.set("Online")}async function L0e(e){e.Ia.forEach((t,r)=>{c6(e,t)})}async function U0e(e,t){DW(e),d6(e)?(e.Ra.ha(t),u6(e)):e.Ra.set("Unknown")}async function M0e(e,t,r){if(e.Ra.set("Online"),t instanceof xW&&t.state===2&&t.cause)try{await async function(a,s){const i=s.cause;for(const o of s.targetIds)a.Ia.has(o)&&(await a.remoteSyncer.rejectListen(o,i),a.Ia.delete(o),a.Va.removeTarget(o))}(e,t)}catch(n){ar(lp,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await i_(e,n)}else if(t instanceof dC?e.Va.Ze(t):t instanceof vW?e.Va.st(t):e.Va.tt(t),!r.isEqual(Hr.min()))try{const n=await TW(e.localStore);r.compareTo(n)>=0&&await function(s,i){const o=s.Va.Tt(i);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(l.resumeToken,i))}}),o.targetMismatches.forEach((l,u)=>{const d=s.Ia.get(l);if(!d)return;s.Ia.set(l,d.withResumeToken(so.EMPTY_BYTE_STRING,d.snapshotVersion)),OW(s,l);const f=new Zh(d.target,l,u,d.sequenceNumber);c6(s,f)}),s.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){ar(lp,"Failed to raise snapshot:",n),await i_(e,n)}}async function i_(e,t,r){if(!ix(t))throw t;e.Ea.add(1),await zy(e),e.Ra.set("Offline"),r||(r=()=>TW(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ar(lp,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await u5(e)})}function PW(e,t){return t().catch(r=>i_(e,r,t))}async function d5(e){const t=$r(e),r=S0(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:WF;for(;Q0e(t);)try{const a=await w0e(t.localStore,n);if(a===null){t.Ta.length===0&&r.L_();break}n=a.batchId,H0e(t,a)}catch(a){await i_(t,a)}RW(t)&&LW(t)}function Q0e(e){return Sp(e)&&e.Ta.length<10}function H0e(e,t){e.Ta.push(t);const r=S0(e);r.O_()&&r.X_&&r.ea(t.mutations)}function RW(e){return Sp(e)&&!S0(e).x_()&&e.Ta.length>0}function LW(e){S0(e).start()}async function V0e(e){S0(e).ra()}async function z0e(e){const t=S0(e);for(const r of e.Ta)t.ea(r.mutations)}async function $0e(e,t,r){const n=e.Ta.shift(),a=t6.from(n,t,r);await PW(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await d5(e)}async function K0e(e,t){t&&S0(e).X_&&await async function(n,a){if(function(i){return Nhe(i)&&i!==gt.ABORTED}(a.code)){const s=n.Ta.shift();S0(n).B_(),await PW(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,a)),await d5(n)}}(e,t),RW(e)&&LW(e)}async function GU(e,t){const r=$r(e);r.asyncQueue.verifyOperationInProgress(),ar(lp,"RemoteStore received new credentials");const n=Sp(r);r.Ea.add(3),await zy(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await u5(r)}async function G0e(e,t){const r=$r(e);t?(r.Ea.delete(2),await u5(r)):t||(r.Ea.add(2),await zy(r),r.Ra.set("Unknown"))}function lx(e){return e.ma||(e.ma=function(r,n,a){const s=$r(r);return s.sa(),new I0e(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(e.datastore,e.asyncQueue,{Xo:R0e.bind(null,e),t_:L0e.bind(null,e),r_:U0e.bind(null,e),H_:M0e.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),d6(e)?u6(e):e.Ra.set("Unknown")):(await e.ma.stop(),DW(e))})),e.ma}function S0(e){return e.fa||(e.fa=function(r,n,a){const s=$r(r);return s.sa(),new j0e(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:V0e.bind(null,e),r_:K0e.bind(null,e),ta:z0e.bind(null,e),na:$0e.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await d5(e)):(await e.fa.stop(),e.Ta.length>0&&(ar(lp,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(t,r,n,a,s){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=s,this.deferred=new hf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,s){const i=Date.now()+n,o=new A6(t,r,i,a,s);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Xt(gt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function f6(e,t){if(_f("AsyncQueue",`${t}: ${e}`),ix(e))return new Xt(gt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{static emptySet(t){return new ov(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||xr.comparator(r.key,n.key):(r,n)=>xr.comparator(r.key,n.key),this.keyedMap=K1(),this.sortedSet=new Ya(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof ov)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new ov;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(){this.ga=new Ya(xr.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):Dr(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal((r,n)=>{t.push(n)}),t}}class Iv{constructor(t,r,n,a,s,i,o,l,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,a,s){const i=[];return r.forEach(o=>{i.push({type:0,doc:o})}),new Iv(t,r,ov.emptySet(r),i,n,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&n5(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0e{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class W0e{constructor(){this.queries=WU(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const a=$r(r),s=a.queries;a.queries=WU(),s.forEach((i,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new Xt(gt.ABORTED,"Firestore shutting down"))}}function WU(){return new _p(e=>aW(e),n5)}async function h6(e,t){const r=$r(e);let n=3;const a=t.query;let s=r.queries.get(a);s?!s.ba()&&t.Da()&&(n=2):(s=new q0e,n=t.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(a,!0);break;case 1:s.wa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(i){const o=f6(i,`Initialization of query '${Rg(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,s),s.Sa.push(t),t.va(r.onlineState),s.wa&&t.Fa(s.wa)&&p6(r)}async function m6(e,t){const r=$r(e),n=t.query;let a=3;const s=r.queries.get(n);if(s){const i=s.Sa.indexOf(t);i>=0&&(s.Sa.splice(i,1),s.Sa.length===0?a=t.Da()?0:1:!s.ba()&&t.Da()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function X0e(e,t){const r=$r(e);let n=!1;for(const a of t){const s=a.query,i=r.queries.get(s);if(i){for(const o of i.Sa)o.Fa(a)&&(n=!0);i.wa=a}}n&&p6(r)}function Y0e(e,t,r){const n=$r(e),a=n.queries.get(t);if(a)for(const s of a.Sa)s.onError(r);n.queries.delete(t)}function p6(e){e.Ca.forEach(t=>{t.next()})}var oI,XU;(XU=oI||(oI={})).Ma="default",XU.Cache="cache";class g6{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new Iv(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=Iv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==oI.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(t){this.key=t}}class MW{constructor(t){this.key=t}}class J0e{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xn(),this.mutatedKeys=xn(),this.eu=sW(t),this.tu=new ov(this.eu)}get nu(){return this.Ya}ru(t,r){const n=r?r.iu:new qU,a=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,i=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,u=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((d,f)=>{const m=a.get(d),p=a5(this.query,f)?f:null,x=!!m&&this.mutatedKeys.has(m.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;m&&p?m.data.isEqual(p.data)?x!==g&&(n.track({type:3,doc:p}),b=!0):this.su(m,p)||(n.track({type:2,doc:p}),b=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(o=!0)):!m&&p?(n.track({type:0,doc:p}),b=!0):m&&!p&&(n.track({type:1,doc:m}),b=!0,(l||u)&&(o=!0)),b&&(p?(i=i.add(p),s=g?s.add(d):s.delete(d)):(i=i.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),s=s.delete(d.key),n.track({type:1,doc:d})}return{tu:i,iu:n,Cs:o,mutatedKeys:s}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const i=t.iu.ya();i.sort((d,f)=>function(p,x){const g=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dr(20277,{Rt:b})}};return g(p)-g(x)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(n),a=a??!1;const o=r&&!a?this._u():[],l=this.Xa.size===0&&this.current&&!a?1:0,u=l!==this.Za;return this.Za=l,i.length!==0||u?{snapshot:new Iv(this.query,t.tu,s,i,t.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qU,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=xn(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return t.forEach(n=>{this.Xa.has(n)||r.push(new MW(n))}),this.Xa.forEach(n=>{t.has(n)||r.push(new UW(n))}),r}cu(t){this.Ya=t.Qs,this.Xa=xn();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return Iv.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const v6="SyncEngine";class Z0e{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class eme{constructor(t){this.key=t,this.hu=!1}}class tme{constructor(t,r,n,a,s,i){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new _p(o=>aW(o),n5),this.Iu=new Map,this.Eu=new Set,this.du=new Ya(xr.comparator),this.Au=new Map,this.Ru=new a6,this.Vu={},this.mu=new Map,this.fu=Tv.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rme(e,t,r=!0){const n=KW(e);let a;const s=n.Tu.get(t);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await QW(n,t,r,!0),a}async function nme(e,t){const r=KW(e);await QW(r,t,!0,!1)}async function QW(e,t,r,n){const a=await E0e(e.localStore,lA(t)),s=a.targetId,i=e.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await ame(e,t,s,i==="current",a.resumeToken)),e.isPrimaryClient&&r&&FW(e.remoteStore,a),o}async function ame(e,t,r,n,a){e.pu=(f,m,p)=>async function(g,b,y,_){let S=b.view.ru(y);S.Cs&&(S=await HU(g.localStore,b.query,!1).then(({documents:w})=>b.view.ru(w,S)));const I=_&&_.targetChanges.get(b.targetId),T=_&&_.targetMismatches.get(b.targetId)!=null,F=b.view.applyChanges(S,g.isPrimaryClient,I,T);return JU(g,b.targetId,F.au),F.snapshot}(e,f,m,p);const s=await HU(e.localStore,t,!0),i=new J0e(t,s.Qs),o=i.ru(s.documents),l=Vy.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),u=i.applyChanges(o,e.isPrimaryClient,l);JU(e,r,u.au);const d=new Z0e(t,r,i);return e.Tu.set(t,d),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),u.snapshot}async function sme(e,t,r){const n=$r(e),a=n.Tu.get(t),s=n.Iu.get(a.targetId);if(s.length>1)return n.Iu.set(a.targetId,s.filter(i=>!n5(i,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await sI(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&l6(n.remoteStore,a.targetId),lI(n,a.targetId)}).catch(sx)):(lI(n,a.targetId),await sI(n.localStore,a.targetId,!0))}async function ime(e,t){const r=$r(e),n=r.Tu.get(t),a=r.Iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),l6(r.remoteStore,n.targetId))}async function ome(e,t,r){const n=hme(e);try{const a=await function(i,o){const l=$r(i),u=fr.now(),d=o.reduce((p,x)=>p.add(x.key),xn());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let x=Sf(),g=xn();return l.Ns.getEntries(p,d).next(b=>{x=b,x.forEach((y,_)=>{_.isValidDocument()||(g=g.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,x)).next(b=>{f=b;const y=[];for(const _ of o){const S=whe(_,f.get(_.key).overlayedDocument);S!=null&&y.push(new U0(_.key,S,Xq(S.value.mapValue),rl.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,o)}).next(b=>{m=b;const y=b.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,b.batchId,y)})}).then(()=>({batchId:m.batchId,changes:oW(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(i,o,l){let u=i.Vu[i.currentUser.toKey()];u||(u=new Ya(vn)),u=u.insert(o,l),i.Vu[i.currentUser.toKey()]=u}(n,a.batchId,r),await $y(n,a.changes),await d5(n.remoteStore)}catch(a){const s=f6(a,"Failed to persist write");r.reject(s)}}async function HW(e,t){const r=$r(e);try{const n=await b0e(r.localStore,t);t.targetChanges.forEach((a,s)=>{const i=r.Au.get(s);i&&(Yn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?i.hu=!0:a.modifiedDocuments.size>0?Yn(i.hu,14607):a.removedDocuments.size>0&&(Yn(i.hu,42227),i.hu=!1))}),await $y(r,n,t)}catch(n){await sx(n)}}function YU(e,t,r){const n=$r(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Tu.forEach((s,i)=>{const o=i.view.va(t);o.snapshot&&a.push(o.snapshot)}),function(i,o){const l=$r(i);l.onlineState=o;let u=!1;l.queries.forEach((d,f)=>{for(const m of f.Sa)m.va(o)&&(u=!0)}),u&&p6(l)}(n.eventManager,t),a.length&&n.Pu.H_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function lme(e,t,r){const n=$r(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n.Au.get(t),s=a&&a.key;if(s){let i=new Ya(xr.comparator);i=i.insert(s,jo.newNoDocument(s,Hr.min()));const o=xn().add(s),l=new l5(Hr.min(),new Map,new Ya(vn),i,o);await HW(n,l),n.du=n.du.remove(s),n.Au.delete(t),x6(n)}else await sI(n.localStore,t,!1).then(()=>lI(n,t,r)).catch(sx)}async function cme(e,t){const r=$r(e),n=t.batch.batchId;try{const a=await x0e(r.localStore,t);zW(r,n,null),VW(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await $y(r,a)}catch(a){await sx(a)}}async function ume(e,t,r){const n=$r(e);try{const a=await function(i,o){const l=$r(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(Yn(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(n.localStore,t);zW(n,t,r),VW(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await $y(n,a)}catch(a){await sx(a)}}function VW(e,t){(e.mu.get(t)||[]).forEach(r=>{r.resolve()}),e.mu.delete(t)}function zW(e,t,r){const n=$r(e);let a=n.Vu[n.currentUser.toKey()];if(a){const s=a.get(t);s&&(r?s.reject(r):s.resolve(),a=a.remove(t)),n.Vu[n.currentUser.toKey()]=a}}function lI(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(n=>{e.Ru.containsKey(n)||$W(e,n)})}function $W(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);r!==null&&(l6(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),x6(e))}function JU(e,t,r){for(const n of r)n instanceof UW?(e.Ru.addReference(n.key,t),dme(e,n)):n instanceof MW?(ar(v6,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||$W(e,n.key)):Dr(19791,{wu:n})}function dme(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(ar(v6,"New document in limbo: "+r),e.Eu.add(n),x6(e))}function x6(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new xr(Na.fromString(t)),n=e.fu.next();e.Au.set(n,new eme(r)),e.du=e.du.insert(r,n),FW(e.remoteStore,new Zh(lA(r5(r.path)),n,"TargetPurposeLimboResolution",ZS.ce))}}async function $y(e,t,r){const n=$r(e),a=[],s=[],i=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{i.push(n.pu(l,t,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){a.push(u);const f=i6.As(l.targetId,u);s.push(f)}}))}),await Promise.all(i),n.Pu.H_(a),await async function(l,u){const d=$r(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>St.forEach(u,m=>St.forEach(m.Es,p=>d.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>St.forEach(m.ds,p=>d.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!ix(f))throw f;ar(o6,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const p=d.Ms.get(m),x=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(x);d.Ms=d.Ms.insert(m,g)}}}(n.localStore,s))}async function Ame(e,t){const r=$r(e);if(!r.currentUser.isEqual(t)){ar(v6,"User change. New user:",t.toKey());const n=await kW(r.localStore,t);r.currentUser=t,function(s,i){s.mu.forEach(o=>{o.forEach(l=>{l.reject(new Xt(gt.CANCELLED,i))})}),s.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await $y(r,n.Ls)}}function fme(e,t){const r=$r(e),n=r.Au.get(t);if(n&&n.hu)return xn().add(n.key);{let a=xn();const s=r.Iu.get(t);if(!s)return a;for(const i of s){const o=r.Tu.get(i);a=a.unionWith(o.view.nu)}return a}}function KW(e){const t=$r(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=HW.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fme.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lme.bind(null,t),t.Pu.H_=X0e.bind(null,t.eventManager),t.Pu.yu=Y0e.bind(null,t.eventManager),t}function hme(e){const t=$r(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cme.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ume.bind(null,t),t}class o_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=c5(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return v0e(this.persistence,new m0e,t.initialUser,this.serializer)}Cu(t){return new BW(s6.mi,this.serializer)}Du(t){return new _0e}async terminate(){var t,r;(t=this.gcScheduler)==null||t.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}o_.provider={build:()=>new o_};class mme extends o_{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Yn(this.persistence.referenceDelegate instanceof s_,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new e0e(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?_l.withCacheSize(this.cacheSizeBytes):_l.DEFAULT;return new BW(n=>s_.mi(n,r),this.serializer)}}class cI{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>YU(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ame.bind(null,this.syncEngine),await G0e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new W0e}()}createDatastore(t){const r=c5(t.databaseInfo.databaseId),n=function(s){return new T0e(s)}(t.databaseInfo);return function(s,i,o,l){return new O0e(s,i,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,s,i,o){return new P0e(n,a,s,i,o)}(this.localStore,this.datastore,t.asyncQueue,r=>YU(this.syncEngine,r,0),function(){return $U.v()?new $U:new S0e}())}createSyncEngine(t,r){return function(a,s,i,o,l,u,d){const f=new tme(a,s,i,o,l,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const s=$r(a);ar(lp,"RemoteStore shutting down."),s.Ea.add(5),await zy(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(r=this.eventManager)==null||r.terminate()}}cI.provider={build:()=>new cI};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):_f("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="FirestoreClient";class pme{constructor(t,r,n,a,s){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=Bo.UNAUTHENTICATED,this.clientId=qF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async i=>{ar(N0,"Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(n,i=>(ar(N0,"Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=f6(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function bB(e,t){e.asyncQueue.verifyOperationInProgress(),ar(N0,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await kW(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ZU(e,t){e.asyncQueue.verifyOperationInProgress();const r=await gme(e);ar(N0,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>GU(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>GU(t.remoteStore,a)),e._onlineComponents=t}async function gme(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ar(N0,"Using user provided OfflineComponentProvider");try{await bB(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===gt.FAILED_PRECONDITION||a.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;_v("Error using user provided cache. Falling back to memory cache: "+r),await bB(e,new o_)}}else ar(N0,"Using default OfflineComponentProvider"),await bB(e,new mme(void 0));return e._offlineComponents}async function GW(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ar(N0,"Using user provided OnlineComponentProvider"),await ZU(e,e._uninitializedComponentsProvider._online)):(ar(N0,"Using default OnlineComponentProvider"),await ZU(e,new cI))),e._onlineComponents}function vme(e){return GW(e).then(t=>t.syncEngine)}async function l_(e){const t=await GW(e),r=t.eventManager;return r.onListen=rme.bind(null,t.syncEngine),r.onUnlisten=sme.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=nme.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=ime.bind(null,t.syncEngine),r}function xme(e,t,r={}){const n=new hf;return e.asyncQueue.enqueueAndForget(async()=>function(s,i,o,l,u){const d=new b6({next:m=>{d.Nu(),i.enqueueAndForget(()=>m6(s,f));const p=m.docs.has(o);!p&&m.fromCache?u.reject(new Xt(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&l&&l.source==="server"?u.reject(new Xt(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new g6(r5(o.path),d,{includeMetadataChanges:!0,qa:!0});return h6(s,f)}(await l_(e),e.asyncQueue,t,r,n)),n.promise}function bme(e,t,r={}){const n=new hf;return e.asyncQueue.enqueueAndForget(async()=>function(s,i,o,l,u){const d=new b6({next:m=>{d.Nu(),i.enqueueAndForget(()=>m6(s,f)),m.fromCache&&l.source==="server"?u.reject(new Xt(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new g6(o,d,{includeMetadataChanges:!0,qa:!0});return h6(s,f)}(await l_(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW="firestore.googleapis.com",tM=!0;class rM{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Xt(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WW,this.ssl=tM}else this.host=t.host,this.ssl=t.ssl??tM;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=NW;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Jhe)throw new Xt(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Dfe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qW(t.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Xt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Xt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Xt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class A5{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Xt(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Xt(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rM(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new _fe;switch(n.type){case"firstParty":return new kfe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Xt(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=eM.get(r);n&&(ar("ComponentProvider","Removing Datastore"),eM.delete(r),n.terminate())}(this),Promise.resolve()}}function yme(e,t,r,n={}){var u;e=tl(e,A5);const a=Uf(t),s=e._getSettings(),i={...s,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${r}`;a&&($S(`https://${o}`),KS("Firestore",!0)),s.host!==WW&&s.host!==o&&_v("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:a,emulatorOptions:n};if(!b0(l,i)&&(e._setSettings(l),n.mockUserToken)){let d,f;if(typeof n.mockUserToken=="string")d=n.mockUserToken,f=Bo.MOCK_USER;else{d=$G(n.mockUserToken,(u=e._app)==null?void 0:u.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new Xt(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Bo(m)}e._authCredentials=new Sfe(new Lq(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Qf(this.firestore,t,this._query)}}class hs{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new u0(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hs(this.firestore,t,this._key)}toJSON(){return{type:hs._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(Qy(r,hs._jsonSchema))return new hs(t,n||null,new xr(Na.fromString(r.referencePath)))}}hs._jsonSchemaVersion="firestore/documentReference/1.0",hs._jsonSchema={type:Js("string",hs._jsonSchemaVersion),referencePath:Js("string")};class u0 extends Qf{constructor(t,r,n){super(t,r,r5(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hs(this.firestore,null,new xr(t))}withConverter(t){return new u0(this.firestore,t,this._path)}}function Ft(e,t,...r){if(e=va(e),Uq("collection","path",t),e instanceof A5){const n=Na.fromString(t,...r);return mU(n),new u0(e,null,n)}{if(!(e instanceof hs||e instanceof u0))throw new Xt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Na.fromString(t,...r));return mU(n),new u0(e.firestore,null,n)}}function Er(e,t,...r){if(e=va(e),arguments.length===1&&(t=qF.newId()),Uq("doc","path",t),e instanceof A5){const n=Na.fromString(t,...r);return hU(n),new hs(e,null,new xr(n))}{if(!(e instanceof hs||e instanceof u0))throw new Xt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Na.fromString(t,...r));return hU(n),new hs(e.firestore,e instanceof u0?e.converter:null,new xr(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="AsyncQueue";class aM{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IW(this,"async_queue_retry"),this._c=()=>{const n=xB();n&&ar(nM,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=xB();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=xB();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const r=new hf;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ix(t))throw t;ar(nM,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const r=this.ac.then(()=>(this.rc=!0,t().catch(n=>{throw this.nc=n,this.rc=!1,_f("INTERNAL UNHANDLED ERROR: ",sM(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const a=A6.createAndSchedule(this,t,r,n,s=>this.hc(s));return this.tc.push(a),a}uc(){this.nc&&Dr(47125,{Pc:sM(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function sM(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const s of n)if(s in a&&typeof a[s]=="function")return!0;return!1}(e,["next","error","complete"])}class pA extends A5{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new aM,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new aM(t),this._firestoreClient=void 0,await t}}}function XW(e,t){const r=typeof e=="object"?e:GS(),n=typeof e=="string"?e:ZC,a=Ry(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const s=DF("firestore");s&&yme(a,...s)}return a}function Ky(e){if(e._terminated)throw new Xt(gt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||wme(e),e._firestoreClient}function wme(e){var n,a,s;const t=e._freezeSettings(),r=function(o,l,u,d){return new Gfe(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,qW(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((n=e._app)==null?void 0:n.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(a=t.localCache)!=null&&a._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new pme(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new iu(so.fromBase64String(t))}catch(r){throw new Xt(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new iu(so.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:iu._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Qy(t,iu._jsonSchema))return iu.fromBase64String(t.bytes)}}iu._jsonSchemaVersion="firestore/bytes/1.0",iu._jsonSchema={type:Js("string",iu._jsonSchemaVersion),bytes:Js("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Xt(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ro(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Xt(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Xt(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return vn(this._lat,t._lat)||vn(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:uA._jsonSchemaVersion}}static fromJSON(t){if(Qy(t,uA._jsonSchema))return new uA(t.latitude,t.longitude)}}uA._jsonSchemaVersion="firestore/geoPoint/1.0",uA._jsonSchema={type:Js("string",uA._jsonSchemaVersion),latitude:Js("number"),longitude:Js("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==a[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:dA._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Qy(t,dA._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new dA(t.vectorValues);throw new Xt(gt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}dA._jsonSchemaVersion="firestore/vectorValue/1.0",dA._jsonSchema={type:Js("string",dA._jsonSchemaVersion),vectorValues:Js("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eme=/^__.*__$/;class Cme{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new U0(t,this.data,this.fieldMask,r,this.fieldTransforms):new Hy(t,this.data,r,this.fieldTransforms)}}class YW{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new U0(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function JW(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dr(40011,{Ac:e})}}class f5{constructor(t,r,n,a,s,i){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new f5({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var a;const r=(a=this.path)==null?void 0:a.child(t),n=this.Vc({path:r,fc:!1});return n.gc(t),n}yc(t){var a;const r=(a=this.path)==null?void 0:a.child(t),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return c_(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(JW(this.Ac)&&Eme.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class _me{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||c5(t)}Cc(t,r,n,a=!1){return new f5({Ac:t,methodName:r,Dc:n,path:ro.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wy(e){const t=e._freezeSettings(),r=c5(e._databaseId);return new _me(e._databaseId,!!t.ignoreUndefinedProperties,r)}function y6(e,t,r,n,a,s={}){const i=e.Cc(s.merge||s.mergeFields?2:0,t,r,a);C6("Data must be an object, but it was:",i,n);const o=tX(n,i);let l,u;if(s.merge)l=new Ac(i.fieldMask),u=i.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const m=uI(t,f,r);if(!i.contains(m))throw new Xt(gt.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);nX(d,m)||d.push(m)}l=new Ac(d),u=i.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=i.fieldTransforms;return new Cme(new kl(o),l,u)}class h5 extends qy{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof h5}}function Sme(e,t,r){return new f5({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class w6 extends qy{_toFieldTransform(t){return new hW(t.path,new Wb)}isEqual(t){return t instanceof w6}}class E6 extends qy{constructor(t,r){super(t),this.vc=r}_toFieldTransform(t){const r=Sme(this,t,!0),n=this.vc.map(s=>cx(s,r)),a=new kv(n);return new hW(t.path,a)}isEqual(t){return t instanceof E6&&b0(this.vc,t.vc)}}function ZW(e,t,r,n){const a=e.Cc(1,t,r);C6("Data must be an object, but it was:",a,n);const s=[],i=kl.empty();L0(n,(l,u)=>{const d=_6(t,l,r);u=va(u);const f=a.yc(d);if(u instanceof h5)s.push(d);else{const m=cx(u,f);m!=null&&(s.push(d),i.set(d,m))}});const o=new Ac(s);return new YW(i,o,a.fieldTransforms)}function eX(e,t,r,n,a,s){const i=e.Cc(1,t,r),o=[uI(t,n,r)],l=[a];if(s.length%2!=0)throw new Xt(gt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)o.push(uI(t,s[m])),l.push(s[m+1]);const u=[],d=kl.empty();for(let m=o.length-1;m>=0;--m)if(!nX(u,o[m])){const p=o[m];let x=l[m];x=va(x);const g=i.yc(p);if(x instanceof h5)u.push(p);else{const b=cx(x,g);b!=null&&(u.push(p),d.set(p,b))}}const f=new Ac(u);return new YW(d,f,i.fieldTransforms)}function Nme(e,t,r,n=!1){return cx(r,e.Cc(n?4:3,t))}function cx(e,t){if(rX(e=va(e)))return C6("Unsupported field value:",t,e),tX(e,t);if(e instanceof qy)return function(n,a){if(!JW(a.Ac))throw a.Sc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(a);s&&a.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(n,a){const s=[];let i=0;for(const o of n){let l=cx(o,a.wc(i));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),i++}return{arrayValue:{values:s}}}(e,t)}return function(n,a){if((n=va(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return phe(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=fr.fromDate(n);return{timestampValue:a_(a.serializer,s)}}if(n instanceof fr){const s=new fr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:a_(a.serializer,s)}}if(n instanceof uA)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof iu)return{bytesValue:bW(a.serializer,n._byteString)};if(n instanceof hs){const s=a.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw a.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:n6(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof dA)return function(i,o){return{mapValue:{fields:{[qq]:{stringValue:Wq},[e_]:{arrayValue:{values:i.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return e6(o.serializer,u)})}}}}}}(n,a);throw a.Sc(`Unsupported field value: ${JS(n)}`)}(e,t)}function tX(e,t){const r={};return Hq(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):L0(e,(n,a)=>{const s=cx(a,t.mc(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function rX(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof fr||e instanceof uA||e instanceof iu||e instanceof hs||e instanceof qy||e instanceof dA)}function C6(e,t,r){if(!rX(r)||!Mq(r)){const n=JS(r);throw n==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function uI(e,t,r){if((t=va(t))instanceof Gy)return t._internalPath;if(typeof t=="string")return _6(e,t);throw c_("Field path arguments must be of type string or ",e,!1,void 0,r)}const Bme=new RegExp("[~\\*/\\[\\]]");function _6(e,t,r){if(t.search(Bme)>=0)throw c_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Gy(...t.split("."))._internalPath}catch{throw c_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function c_(e,t,r,n,a){const s=n&&!n.isEmpty(),i=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||i)&&(l+=" (found",s&&(l+=` in field ${n}`),i&&(l+=` in document ${a}`),l+=")"),new Xt(gt.INVALID_ARGUMENT,o+e+l)}function nX(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(t,r,n,a,s){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new kme(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(m5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class kme extends aX{data(){return super.data()}}function m5(e,t){return typeof t=="string"?_6(e,t):t instanceof Gy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sX(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Xt(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S6{}class N6 extends S6{}function tr(e,t,...r){let n=[];t instanceof S6&&n.push(t),n=n.concat(r),function(s){const i=s.filter(l=>l instanceof B6).length,o=s.filter(l=>l instanceof p5).length;if(i>1||i>0&&o>0)throw new Xt(gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class p5 extends N6{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new p5(t,r,n)}_apply(t){const r=this._parse(t);return iX(t._query,r),new Qf(t.firestore,t.converter,eI(t._query,r))}_parse(t){const r=Wy(t.firestore);return function(s,i,o,l,u,d,f){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Xt(gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){lM(f,d);const x=[];for(const g of f)x.push(oM(l,s,g));m={arrayValue:{values:x}}}else m=oM(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||lM(f,d),m=Nme(o,i,f,d==="in"||d==="not-in");return Ys.create(u,d,m)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function Mn(e,t,r){const n=t,a=m5("where",e);return p5._create(a,n,r)}class B6 extends S6{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new B6(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:sd.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,s){let i=a;const o=s.getFlattenedFilters();for(const l of o)iX(i,l),i=eI(i,l)}(t._query,r),new Qf(t.firestore,t.converter,eI(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class k6 extends N6{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new k6(t,r)}_apply(t){const r=function(a,s,i){if(a.startAt!==null)throw new Xt(gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Xt(gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qb(s,i)}(t._query,this._field,this._direction);return new Qf(t.firestore,t.converter,function(a,s){const i=a.explicitOrderBy.concat([s]);return new ox(a.path,a.collectionGroup,i,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function qr(e,t="asc"){const r=t,n=m5("orderBy",e);return k6._create(n,r)}class T6 extends N6{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new T6(t,r,n)}_apply(t){return new Qf(t.firestore,t.converter,r_(t._query,this._limit,this._limitType))}}function d0(e){return Pfe("limit",e),T6._create("limit",e,"F")}function oM(e,t,r){if(typeof(r=va(r))=="string"){if(r==="")throw new Xt(gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nW(t)&&r.indexOf("/")!==-1)throw new Xt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Na.fromString(r));if(!xr.isDocumentKey(n))throw new Xt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return EU(e,new xr(n))}if(r instanceof hs)return EU(e,r._key);throw new Xt(gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${JS(r)}.`)}function lM(e,t){if(!Array.isArray(e)||e.length===0)throw new Xt(gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iX(e,t){const r=function(a,s){for(const i of a)for(const o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Xt(gt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Xt(gt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class Tme{convertValue(t,r="none"){switch(_0(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Is(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(C0(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Dr(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return L0(t,(a,s)=>{n[a]=this.convertValue(s,r)}),n}convertVectorValue(t){var n,a,s;const r=(s=(a=(n=t.fields)==null?void 0:n[e_].arrayValue)==null?void 0:a.values)==null?void 0:s.map(i=>Is(i.doubleValue));return new dA(r)}convertGeoPoint(t){return new uA(Is(t.latitude),Is(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=t5(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp($b(t));default:return null}}convertTimestamp(t){const r=E0(t);return new fr(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Na.fromString(t);Yn(SW(n),9688,{name:t});const a=new Kb(n.get(1),n.get(3)),s=new xr(n.popFirst(5));return a.isEqual(r)||_f(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class q1{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hm extends aX{constructor(t,r,n,a,s,i){super(t,r,n,a,i),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new AC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(m5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Xt(gt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Hm._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Hm._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hm._jsonSchema={type:Js("string",Hm._jsonSchemaVersion),bundleSource:Js("string","DocumentSnapshot"),bundleName:Js("string"),bundle:Js("string")};class AC extends Hm{data(t={}){return super.data(t)}}class Vm{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new q1(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new AC(this._firestore,this._userDataWriter,n.key,n,new q1(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Xt(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,s){if(a._snapshot.oldDocs.isEmpty()){let i=0;return a._snapshot.docChanges.map(o=>{const l=new AC(a._firestore,a._userDataWriter,o.doc.key,o.doc,new q1(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:i++}})}{let i=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new AC(a._firestore,a._userDataWriter,o.doc.key,o.doc,new q1(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let u=-1,d=-1;return o.type!==0&&(u=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),d=i.indexOf(o.doc.key)),{type:Ime(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Xt(gt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Vm._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=qF.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],a=[];return this.docs.forEach(s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Ime(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dr(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(e){e=tl(e,hs);const t=tl(e.firestore,pA);return xme(Ky(t),e._key).then(r=>oX(t,e,r))}Vm._jsonSchemaVersion="firestore/querySnapshot/1.0",Vm._jsonSchema={type:Js("string",Vm._jsonSchemaVersion),bundleSource:Js("string","QuerySnapshot"),bundleName:Js("string"),bundle:Js("string")};class j6 extends Tme{constructor(t){super(),this.firestore=t}convertBytes(t){return new iu(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new hs(this.firestore,null,r)}}function Zs(e){e=tl(e,Qf);const t=tl(e.firestore,pA),r=Ky(t),n=new j6(t);return sX(e._query),bme(r,e._query).then(a=>new Vm(t,n,e,a))}function io(e,t,r){e=tl(e,hs);const n=tl(e.firestore,pA),a=I6(e.converter,t,r);return Yy(n,[y6(Wy(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,rl.none())])}function ux(e,t,r,...n){e=tl(e,hs);const a=tl(e.firestore,pA),s=Wy(a);let i;return i=typeof(t=va(t))=="string"||t instanceof Gy?eX(s,"updateDoc",e._key,t,r,n):ZW(s,"updateDoc",e._key,t),Yy(a,[i.toMutation(e._key,rl.exists(!0))])}function pi(e){return Yy(tl(e.firestore,pA),[new o5(e._key,rl.none())])}function xa(e,t){const r=tl(e.firestore,pA),n=Er(e),a=I6(e.converter,t);return Yy(r,[y6(Wy(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,rl.exists(!1))]).then(()=>n)}function br(e,...t){var l,u,d;e=va(e);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||iM(t[n])||(r=t[n++]);const a={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(iM(t[n])){const f=t[n];t[n]=(l=f.next)==null?void 0:l.bind(f),t[n+1]=(u=f.error)==null?void 0:u.bind(f),t[n+2]=(d=f.complete)==null?void 0:d.bind(f)}let s,i,o;if(e instanceof hs)i=tl(e.firestore,pA),o=r5(e._key.path),s={next:f=>{t[n]&&t[n](oX(i,e,f))},error:t[n+1],complete:t[n+2]};else{const f=tl(e,Qf);i=tl(f.firestore,pA),o=f._query;const m=new j6(i);s={next:p=>{t[n]&&t[n](new Vm(i,m,f,p))},error:t[n+1],complete:t[n+2]},sX(e._query)}return function(m,p,x,g){const b=new b6(g),y=new g6(p,b,x);return m.asyncQueue.enqueueAndForget(async()=>h6(await l_(m),y)),()=>{b.Nu(),m.asyncQueue.enqueueAndForget(async()=>m6(await l_(m),y))}}(Ky(i),o,a,s)}function Yy(e,t){return function(n,a){const s=new hf;return n.asyncQueue.enqueueAndForget(async()=>ome(await vme(n),a,s)),s.promise}(Ky(e),t)}function oX(e,t,r){const n=r.docs.get(t._key),a=new j6(e);return new Hm(e,a,t._key,n,new q1(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jme{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Wy(t)}set(t,r,n){this._verifyNotCommitted();const a=yB(t,this._firestore),s=I6(a.converter,r,n),i=y6(this._dataReader,"WriteBatch.set",a._key,s,a.converter!==null,n);return this._mutations.push(i.toMutation(a._key,rl.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const s=yB(t,this._firestore);let i;return i=typeof(r=va(r))=="string"||r instanceof Gy?eX(this._dataReader,"WriteBatch.update",s._key,r,n,a):ZW(this._dataReader,"WriteBatch.update",s._key,r),this._mutations.push(i.toMutation(s._key,rl.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=yB(t,this._firestore);return this._mutations=this._mutations.concat(new o5(r._key,rl.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Xt(gt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yB(e,t){if((e=va(e)).firestore!==t)throw new Xt(gt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function lX(){return new w6("serverTimestamp")}function Fme(...e){return new E6("arrayUnion",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(e){return Ky(e=tl(e,pA)),new jme(e,t=>Yy(e,t))}(function(t,r=!0){(function(a){ax=a})(Ep),y0(new wf("firestore",(n,{instanceIdentifier:a,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new pA(new Nfe(n.getProvider("auth-internal")),new Tfe(i,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Xt(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kb(u.options.projectId,d)}(i,a),i);return s={useFetchStreams:r,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),fu(uU,dU,t),fu(uU,dU,"esm2020")})();const Ome={apiKey:"AIzaSyAfL9dpeLfpWQPg4orpFSh3X5dzXrSsBwc",authDomain:"planificador-145df.firebaseapp.com",projectId:"planificador-145df",storageBucket:"planificador-145df.firebasestorage.app",messagingSenderId:"1022861144167",appId:"1:1022861144167:web:7c277dd701dad5986864c2",measurementId:"G-LKJRFMVC9F"},cX=LF(Ome),Jy=Tq(cX),Mr=XW(cX),Dme=Object.freeze(Object.defineProperty({__proto__:null,auth:Jy,db:Mr},Symbol.toStringTag,{value:"Module"})),Pme=async(e,t)=>{try{return(await lAe(Jy,e,t)).user}catch(r){throw console.error("Error en loginUser helper:",r),r}},wB=async()=>{try{await dAe(Jy)}catch(e){throw console.error("Error en logoutUser helper:",e),e}},Rme=async e=>{try{await oAe(Jy,e)}catch(t){throw console.error("Error en resetPassword helper:",t),t}},uX=async e=>{try{const t=Er(Mr,"usuarios",e),r=await Xy(t);return r.exists()?{id:r.id,...r.data()}:(console.warn(`No se encontró perfil en Firestore para: ${e}`),null)}catch(t){throw console.error("Error en getUserProfile helper:",t),t}};var Kt=(e=>(e.SUBDIRECCION="SUBDIRECCION",e.PROFESORADO="PROFESORADO",e.COORDINACION_TP="COORDINACION_TP",e.ESTUDIANTE="ESTUDIANTE",e))(Kt||{}),mn=(e=>(e.EVALUACION="Evaluación",e.ACTO="Acto",e.ACTIVIDAD_FOCALIZADA="Actividad Focalizada",e.SALIDA_PEDAGOGICA="Salida Pedagógica",e))(mn||{}),Nm=(e=>(e.PRUEBA_PARCIAL="Prueba parcial",e.GUIA_APRENDIZAJE="Guía de Aprendizaje",e.RUBRICA="Rúbrica",e.PAUTA_COTEJO="Pauta de Cotejo",e))(Nm||{});const Lme=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m-1 4h1m5-4h1m-1 4h1"})}),ri="w-6 h-6",g5="w-24 h-24",O6=()=>c.jsx("img",{src:"https://res.cloudinary.com/dwncmu1wu/image/upload/v1754320187/ChatGPT_Image_4_ago_2025_11_09_32_a.m._nb456n.png",alt:"Logo Gestión Pedagógica LIR",className:"w-32 h-32 object-contain"}),Ume=()=>c.jsxs("svg",{className:"w-10 h-10 text-amber-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M9 18h6"}),c.jsx("path",{d:"M10 22h4"}),c.jsx("path",{d:"M12 2a7 7 0 0 0-7 7c0 3 2 5 2 7h10c0-2 2-4 2-7a7 7 0 0 0-7-7z"})]}),Mme=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),Qme=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ri,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),W1=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ri,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),X1=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ri,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),dX=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Hme=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:g5,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125z"})}),Vme=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:g5,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})}),zme=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:g5,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.43.992a6.759 6.759 0 010 1.255c-.008.378.137.75.43.99l1.004.828c.421.346.564.95.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.68 6.68 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.063-.374-.313-.686-.645-.87a6.68 6.68 0 01-.22-.127c-.325-.196-.72-.257-1.075-.124l-1.217.456a1.125 1.125 0 01-1.369-.491l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.759 6.759 0 010-1.255c.008-.378-.137-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.49l1.217.456c.355.133.75.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),$me=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:g5,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0l-2.072-1.036A48.257 48.257 0 0112 10.045a48.258 48.258 0 0110.332-1.036l-2.072 1.036m-16.425 0a48.27 48.27 0 00-2.223 2.218c.958.056 1.91.118 2.857.185m16.425 0c.947-.067 1.9-.129 2.857-.185a48.27 48.27 0 00-2.223-2.218m-12.182 0A11.947 11.947 0 0112 8.636a11.947 11.947 0 014.09 1.511"})}),Kme=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ri,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),cM=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ri,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),O2=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ri,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),EB=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ri,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),D2=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ri,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),CB=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ri,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),uM=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ri,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),Gme=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ri,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"})}),qme=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ri,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),Wme=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ri,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),Xme=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:ri,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),dM=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:ri,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l9-5-9-5-9 5 9 5z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14v6"})]}),Yme=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ri,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),_B=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ri,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9V3m0 18a9 9 0 009-9m-9 9a9 9 0 00-9-9"})}),Jme=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:ri,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.528-1.036.94-2.197 1.088-3.386l-.7M11.42 15.17l-1.06-1.06a4.5 4.5 0 01-5.656-5.656l-1.06 1.06c-1.37.66-2.58 1.6-3.58 2.75a4.5 4.5 0 00-1.06 5.656l1.06 1.06c1.15.998 2.52 1.93 3.99 2.58l1.06-1.06a4.5 4.5 0 015.656-5.656l3.032 2.496m-3.582-2.58a4.5 4.5 0 00-5.656 5.656l1.06-1.06a4.5 4.5 0 015.656-5.656l1.06 1.06m-3.032-2.496a4.5 4.5 0 00-5.656 5.656l1.06-1.06a4.5 4.5 0 015.656-5.656l1.06 1.06"})}),Zme=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ri,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),AM=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:ri,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-1.125 0-2.25 1.125-2.25 2.25v15c0 1.125 1.125 2.25 2.25 2.25h11.25c1.125 0 2.25-1.125 2.25-2.25v-9.75M10.125 2.25c.621 0 1.125.504 1.125 1.125v3.375c0 .621-.504 1.125-1.125 1.125h-1.5c-.621 0-1.125-.504-1.125-1.125v-3.375c0-.621.504-1.125 1.125-1.125h1.5zM17.25 10.5h.375c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125h-.375m0-3.75V6.375c0-.621-.504-1.125-1.125-1.125h-1.5c-.621 0-1.125.504-1.125 1.125v3.375c0 .621.504 1.125 1.125 1.125h1.5c.621 0 1.125-.504 1.125-1.125v-1.5m-6.375 5.25v-1.5c0-.621.504-1.125 1.125-1.125h.375c.621 0 1.125.504 1.125 1.125v1.5m0 3.75V16.5c0-.621-.504-1.125-1.125-1.125h-.375a1.125 1.125 0 00-1.125 1.125v1.5m6.375 0V16.5c0-.621-.504-1.125-1.125-1.125h-.375a1.125 1.125 0 00-1.125 1.125v1.5"})}),epe=[{id:Kt.SUBDIRECCION,label:"Subdirección Pedagógica",icon:c.jsx(Hme,{})},{id:Kt.PROFESORADO,label:"Profesorado",icon:c.jsx(Vme,{})},{id:Kt.COORDINACION_TP,label:"Coordinación TP",icon:c.jsx(zme,{})},{id:Kt.ESTUDIANTE,label:"Estudiantes",icon:c.jsx($me,{})}],tpe={[Kt.SUBDIRECCION]:[{name:"Dashboard",icon:c.jsx(Kme,{})},{name:"Administración",icon:c.jsx(Xme,{})},{name:"Seguimiento Curricular",icon:c.jsx(Zme,{})},{name:"Acompañamiento docente",icon:c.jsx(Wme,{})},{name:"Análisis Taxonómico",icon:c.jsx(AM,{})},{name:"Interdisciplinario",icon:c.jsx(_B,{})},{name:"Registro de inasistencias y reemplazos docentes",icon:c.jsx(cM,{})},{name:"Crear horarios",icon:c.jsx(EB,{})},{name:"Seguimiento de acciones pedagógicas",icon:c.jsx(D2,{})},{name:"Inclusión",icon:c.jsx(dM,{})},{name:"Calendario Académico",icon:c.jsx(O2,{})},{name:"Muro de Anuncios",icon:c.jsx(W1,{})},{name:"Mensajería Interna",icon:c.jsx(X1,{})},{name:"Generador de Actas",icon:c.jsx(CB,{})}],[Kt.PROFESORADO]:[{name:"Planificación",icon:c.jsx(uM,{})},{name:"Mis Acompañamientos",icon:c.jsx(Yme,{})},{name:"Recursos de Aprendizaje",icon:c.jsx(Gme,{})},{name:"Análisis Taxonómico",icon:c.jsx(AM,{})},{name:"Interdisciplinario",icon:c.jsx(_B,{})},{name:"Inclusión",icon:c.jsx(dM,{})},{name:"Actividades Remotas",icon:c.jsx(qme,{})},{name:"Evaluación de Aprendizajes",icon:c.jsx(CB,{})},{name:"Evaluaciones Formativas",icon:c.jsx(D2,{})},{name:"Calendario Académico",icon:c.jsx(O2,{})},{name:"Muro de Anuncios",icon:c.jsx(W1,{})},{name:"Mensajería Interna",icon:c.jsx(X1,{})},{name:"Generador de Actas",icon:c.jsx(cM,{})}],[Kt.COORDINACION_TP]:[{name:"Seguimiento Dual",icon:c.jsx(D2,{})},{name:"Asistencia Dual",icon:c.jsx(EB,{})},{name:"Pañol",icon:c.jsx(Jme,{})},{name:"Gestión de Empresas",icon:c.jsx(Lme,{})},{name:"Calendario Académico",icon:c.jsx(O2,{})},{name:"Muro de Anuncios",icon:c.jsx(W1,{})},{name:"Mensajería Interna",icon:c.jsx(X1,{})},{name:"Generador de Actas",icon:c.jsx(CB,{})}],[Kt.ESTUDIANTE]:[{name:"Auto-aprendizaje",icon:c.jsx(uM,{})},{name:"Evaluación Formativa",icon:c.jsx(D2,{})},{name:"Tareas Interdisciplinarias",icon:c.jsx(_B,{})},{name:"Asistencia a Empresa",icon:c.jsx(EB,{})},{name:"Calendario Académico",icon:c.jsx(O2,{})},{name:"Muro de Anuncios",icon:c.jsx(W1,{})},{name:"Mensajería Interna",icon:c.jsx(X1,{})}]},fM=["Currículum y Evaluación","Convivencia Escolar","Orientación","Gestión Pedagógica General"],P2=["Pendiente","En Proceso","Cumplida"],Kg=["1º Medio","2º Medio","3º Medio","4º Medio"],Pi=["Lengua y Literatura","Matemática","Inglés","Filosofía","Historia y Geografía","Educación Ciudadana","Ciencias","Ciencias para la Ciudadanía","Artes","Música","Educación Física","Orientación","Mecánica Industrial","Mecánica Automotriz","Emprendimiento","Tecnología","Pensamiento Lógico","Competencia Lectora"],qa=["1ºA","1ºB","1ºC","1ºD","1ºE","2ºA","2ºB","2ºC","2ºD","3ºA","3ºB","3ºC","3ºD","4ºA","4ºB","4ºC","4ºD"],dI=["Nelson Laubreaux","Julian Seguel","Martin Moya","Leonel Moya","Miguel Becerra"],fC=["Lunes","Martes","Miércoles","Jueves","Viernes"],AI=[{bloque:1,inicio:"08:00",fin:"08:40"},{bloque:2,inicio:"08:40",fin:"09:20"},{bloque:3,inicio:"09:35",fin:"10:15"},{bloque:4,inicio:"10:15",fin:"10:55"},{bloque:5,inicio:"11:10",fin:"11:50"},{bloque:6,inicio:"11:50",fin:"12:30"},{bloque:7,inicio:"12:30",fin:"13:10"},{bloque:8,inicio:"13:10",fin:"13:50"},{bloque:9,inicio:"14:30",fin:"15:10"},{bloque:10,inicio:"15:10",fin:"15:50"},{bloque:11,inicio:"16:00",fin:"16:40"},{bloque:12,inicio:"16:40",fin:"17:20"}],rpe={"1º y 2º medio":{"Lengua y Literatura":6,Matemática:6,Inglés:3,"Historia y Geografía":4,"Educación Física":2,Ciencias:4,"Artes/Música":2,Tecnología:2,Orientación:1},"3º y 4º medio (Humanista-Científico)":{"Lengua y Literatura":4,Matemática:4,Inglés:2,"Historia y Geografía":3,"Educación Ciudadana":2,Filosofía:3,"Ciencias para la Ciudadanía":2,"Educación Física":2},"3º y 4º medio (Técnico-Profesional)":{"Lengua y Literatura":2,Matemática:2,Inglés:2,"Historia y Geografía":2,Filosofía:2,"Educación Física":2,"Módulo TP":18}},Wh={[mn.EVALUACION]:{label:"Evaluación",icon:"📝",color:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"},[mn.ACTO]:{label:"Acto",icon:"🏛️",color:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"},[mn.ACTIVIDAD_FOCALIZADA]:{label:"Act. Focalizada",icon:"🎯",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"},[mn.SALIDA_PEDAGOGICA]:{label:"Salida Pedagógica",icon:"🚌",color:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"}},npe=Object.values(Nm),SB=["Humanidades","TP","Ciencias","Interdisciplinario","Gestión Pedagógica","Equipo Directivo","Equipo de Gestión","Consejo Escolar"],NB=["Vinculado","Desvinculado","En proceso","Empresa"],zm=["3ºA","3ºB","3ºC","3ºD","4ºA","4ºB","4ºC","4ºD"],ape=["Quiz","Comprensión de Lectura","Términos Pareados","Desarrollo"],u_=["Discapacidad Intelectual Leve","Funcionamiento Intelectual Limítrofe","Trastorno Déficit Atencional (TDA)","Trastorno Déficit Atencional con Hiperactividad (TDAH)","Trastorno del Lenguaje","Dificultad Específica del Aprendizaje","Dificultad Específica de Aprendizaje en Matemáticas","Dificultades de Aprendizaje","Problemas de Idioma y de Escolarización"],vb=[{domain:"Dominio A: Preparación de la Enseñanza",criteria:[{name:"Conocimiento de la disciplina",levels:["Demuestra conocimiento parcial por la disciplina que enseña, evidenciando manejo poco preciso y confuso de los conceptos centrales en los que se articula la clase.","Conoce los principios centrales de la disciplina que enseña, no obstante evidencia falencias en el tratamiento conceptual a la luz de actualizaciones epistemológicas o metodológicas en su área.","Conoce y comprende los principios y conceptos centrales de las disciplinas que enseña, atendiendo a la permanente actualización curricular en su área.","Conoce, comprende y cuestiona los principios centrales de la disciplina que enseña a la luz de nuevos paradigmas epistemológicos o teóricos, permitiendo que el trabajo o la exposición conceptual invite al desarrollo del pensamiento crítico o la investigación continua."]},{name:"Conocimiento de los estudiantes",levels:["No conoce las fortalezas y debilidades de sus estudiantes, evidenciando una planificación o gestión de la clase estándar, sin atender a particularidades.","Conoce las fortalezas y debilidades de sus estudiantes de manera parcial en relación al contexto y características del medio.","Conoce las fortalezas y debilidades de sus estudiantes respecto de los contenidos que enseña en consonancia con el contexto y características propias del medio.","Conoce las fortalezas y debilidades de sus estudiantes respecto de los contenidos que enseña en consonancia con el contexto y características propias del medio, siendo capaz de desarrollar diversas explicaciones y/o actividades para un mismo objetivo."]},{name:"Selección de recursos de aprendizaje",levels:["Los recursos de aprendizaje seleccionados demuestran desconocimiento respecto a las características de sus estudiantes y a la relación con el contenido y objetivo de la clase.","Conoce parcialmente distintos recursos didácticos de aprendizaje, siendo congruentes al contenido pero no a las características de sus estudiantes, o bien, siendo pertinentes a sus particularidades pero alejándose de los objetivos y contenidos de la clase.","Conoce y selecciona distintos recursos didácticos de aprendizaje congruentes con la complejidad de los contenidos y las características de sus alumnos.","Conoce y selecciona distintos recursos didácticos de aprendizaje que promueven el desarrollo de habilidades transversales y permiten asegurar la adquisición de aprendizajes profundos, todo en consonancia con las particularidades de sus estudiantes."]},{name:"Estrategias de evaluación",levels:["Establece estrategias de evaluación incongruentes con los contenidos o el desarrollo cognitivo de sus estudiantes, omitiendo además, las metodologías empleadas previamente en clases.","Establece estrategias de evaluación coherentes con los contenidos pero no con la complejidad, o bien, con una complejidad adecuada al desarrollo cognitivo de los estudiantes, pero no necesariamente a los contenidos y objetivos desarrollados previamente en clases.","Establece estrategias de evaluación coherentes con la complejidad de los contenidos involucrados y con las actividades previamente desarrolladas en clases.","Establece estrategias de evaluación coherentes con la complejidad de los contenidos involucrados y con las actividades previamente desarrolladas en clases. Dichas estrategias promueven la reflexión, y, la retroalimentación descriptiva."]},{name:"Estrategias de enseñanza-aprendizaje",levels:["*Los docentes establecen estrategias generales de apoyo sin considerar los distintos niveles de dominio de las competencias ni tampoco, las necesidades de los estudiantes","*Los docentes diseñan e implementan estrategias de enseñanza- aprendizaje efectivas, pero sin considerar las competencias involucradas en el perfil de egreso, o los recursos disponibles, o los espacios dentro fuera y del aula.","*Los docentes diseñan e implementan estrategias efectivas de enseñanza-aprendizaje para el desarrollo de competencias definidas en el perfil de egreso de cada especialidad considerando el contexto educativo, los recursos de aprendizaje disponibles y los espacios de aprendizaje dentro y fuera del aula.","*Los docentes diseñan e implementan estrategias avanzadas de enseñanza-aprendizaje tales como (ABP, ABD, Gamificación, Aprendizaje basado en juegos) para el desarrollo de competencias definidas en el perfil de egreso de cada especialidad considerando el contexto educativo, los recursos de aprendizaje disponibles y los espacios de aprendizaje dentro y fuera del aula."]}]},{domain:"Dominio B: Creación de ambiente propicio para el aprendizaje",criteria:[{name:"Clima de respeto y empatía",levels:["Establece un clima centrado exclusivamente en las normas, pero no da cuenta de vínculos fundados en el respeto y/o en la empatía.","Establece un clima de relaciones interpersonales respetuosas y empáticas con la mayoría de sus alumnos.","Establece un clima de relaciones interpersonales respetuosas y empáticas con todos sus alumnos.","Establece un clima de relaciones interpersonales respetuosas y empáticas con todos sus alumnos, generando situaciones concretas de cooperación y ayuda mutua entre él/ella y los/las estudiantes, o entre los/las propios estudiantes."]},{name:"Interés por las especialidades",levels:["No transmite interés por las especialidades, centrándose exclusivamente en su área de desempeño.","Transmite interés general por las especialidades, no obstante no es capaz de acercarse a las características concretas de los módulos.","Transmite interés por los contenidos y actividades de las asignaturas, módulos y especialidades.","Transmite interés por los contenidos y actividades de las asignaturas, módulos y especialidades, ejemplificando o relacionando de manera concreta, con situaciones reales en dicha área de desempeño."]},{name:"Actitudes de compromiso y solidaridad",levels:["Promueve actitudes de buen comportamento en el aula, no obstante, no incorpora ni la solidaridad ni el compromiso con el otro ni con ellos mismos, en sus clases.","Promueve implícitamente actitudes de compromiso y solidaridad entre los alumnos.","Promueve explícitamente actitudes de compromiso y solidaridad entre los alumnos, a través de estrategias, instrucciones o análisis que tiendan a ello.","Promueve explícitamente actitudes de compromiso y solidaridad entre los alumnos, a través de estrategias, instrucciones o análisis que tiendan a ello, generando experiencias concretas para desarrollar estas habilidades y valores."]},{name:"Situaciones de aprendizaje",levels:["Presenta situaciones de aprendizaje estándar que implican un desarrollo mecánico y que no tienden hacia la consolidación de aprendizajes esperados o no movilizan a los estudiantes.","Presenta situaciones de aprendizaje desafiantes y apropiadas para sus alumnos, no obstante no atiende a sus características personales y/o motivacionales.","Presenta situaciones de aprendizaje desafiantes y apropiadas para sus alumnos, atendiendo a sus características personales y motivacionales.","Presenta situaciones de aprendizaje desafiantes y apropiadas para sus alumnos, atendiendo a sus características personales y motivacionales, integrando a sus clases actividades que complementan o profundizan aprendizajes en los casos que sean necesarios."]},{name:"Motivación por el aprendizaje",levels:["No transmite motivación por el aprendizaje, la búsqueda o la indagación.","Transmite una motivación positiva por el aprendizaje, no obstante no insta a los estudiantes a indagar o buscar de manera autónoma","Transmite una motivación positiva por el aprendizaje, la indagación y la búsqueda.","Transmite una motivación positiva por el aprendizaje, la indagación y la búsqueda, ejemplificando o comunicando experiencias reales que permitan valorar estas actitudes."]},{name:"Normas de comportamiento",levels:["No establece normas de comportamento para sus estudiantes.","Establece normas de comportamento que son conocidas y comprensibles para sus alumnos, no obstante, no es sistemático en su cumplimiento.","Establece normas de comportamento que son conocidas y comprensibles para sus alumnos, creando y manteniendo un ambiente de aprendizaje organizado.","Establece normas de comportamento que son conocidas y comprensibles para sus alumnos, creando y manteniendo un ambiente de aprendizaje organizado, permitiendo altos niveles de participación."]},{name:"Respuestas frente al quiebre de normas",levels:["No genera respuestas frente al quiebre de las normas de convivencia.","Genera respuestas efectivas frente al quiebre de las normas de convivencia, pero debe mejorar la asertividad.","Genera respuestas asertivas y efectivas frente al quiebre de las normas de convivencia.","Genera respuestas asertivas y efectivas frente al quiebre de las normas de convivencia, que entregan sentido de la importancia de los acuerdos y las normas previamente comunicadas."]}]},{domain:"Dominio C: Enseñanza para el aprendizaje de todos los estudiantes",criteria:[{name:"Presentación de objetivos",levels:["Al iniciar las clases no presenta el objetivo o sólo lo enuncia sin profundizar en él.","Al iniciar las clases presenta el objetivo de aprendizaje y el propósito, pero no logra dar cuenta de la relación con el futuro laboral de los estudiantes o con otras áreas del conocimiento.","Al iniciar las clases presentan el objetivo de aprendizaje, relacionándolo con el propósito que posee desde la disciplina, otras áreas del conocimiento o para su desempeño laboral futuro.","Al iniciar las clases presentan el objetivo de aprendizaje involucrando a los estudiantes a través de la relación con el propósito que posee desde la disciplina, otras áreas del conocimiento o para su desempeño laboral futuro."]},{name:"Clase en función de objetivos",levels:["No realiza su clase en función de los objetivos de aprendizaje estipulados en las bases curriculares, o bien, los incorpora pero sin mantener coherencia con las habilidades, contenidos o competencias del currículum nacional","Realiza sus clases en función de los Objetivos de Aprendizaje estipulados en las Bases Curriculares, considerando sólo uno de los siguientes elementos: desarrollo de competencias, habilidades, conocimientos o actitudes establecidos en el currículum nacional.","Realiza sus clases en función de los Objetivos de Aprendizaje estipulados en las Bases Curriculares, considerando el desarrollo de competencias, habilidades, conocimientos y actitudes establecidos en el currículum nacional.","Realiza sus clases en función de los Objetivos de Aprendizaje estipulados en las Bases Curriculares, considerando el desarrollo de competencias, habilidades, conocimientos y actitudes establecidos en el currículum nacional y en el PEI."]},{name:"Introducción de nueva información",levels:["Promueve actitudes de buen comportamento en el aula, no obstante, no incorpora ni la solidaridad ni el compromiso con el otro ni con ellos mismos, en sus clases.","Los docentes introducen a los estudiantes a nueva información, sin considerar el desarrollo de habilidades y actitudes.","Los docentes introducen a sus estudiantes a nueva información y al desarrollo de nuevas habilidades y actitudes, mediante estrategias efectivas y variadas, que consideran sus conocimientos previos.","Los docentes introducen a sus estudiantes a nueva información y al desarrollo de nuevas habilidades y actitudes, mediante estrategias efectivas y variadas, que consideran sus conocimientos previos y su realidad inmediata."]},{name:"Desarrollo de contenidos",levels:["Desarrolla los contenidos de la clase sin precisión conceptual ni claridad.","Desarrolla los contenidos de la clase con rigurosidad conceptual, pero sin una extrapolación que permita entregar claridad a los estudiantes.","Desarrolla los contenidos de la clase con rigurosidad conceptual y claridad.","Desarrolla los contenidos de la clase con rigurosidad conceptual y claridad, recurriendo al ejemplo y a la vida cotidiana para anclar el conocimiento."]},{name:"Retroalimentación",levels:["No retroalimenta a los estudiantes","Retroalimentan constantemente a sus estudiantes sólo de modo general.","Retroalimentan constantemente a sus estudiantes sobre su desempeño, de manera individual o grupal.","Retroalimentan constantemente a sus estudiantes sobre su desempeño, de manera individual o grupal, a través de preguntas o instancias que permiten modelar su aprendizaje."]},{name:"Monitoreo del aprendizaje",levels:["No monitorea el grado de comprensión y desempeño de sus estudiantes.","Monitorea parcialmente el grado de comprensión y desempeño de sus estudiantes, no siempre a través de evidencia.","Monitorea constantemente el grado de comprensión y el desempeño de sus estudiantes durante el desarrollo de las clases para obtener evidencias acerca de lo que están aprendiendo.","Monitorea constantemente y en diferentes instancias el grado de comprensión y el desempeño de sus estudiantes durante el desarrollo de las clases para obtener evidencias acerca de lo que están aprendiendo."]},{name:"Orientación a objetivos transversales",levels:["No enuncia o enuncia de modo incorrecto elementos ligados hacia los objetivos transversales.","Orienta a sus estudiantes hacia temáticas ligadas a los objetivos transversales, no obstante, la orientación es superficial y no predispone la construcción de valores.","Orienta a sus estudiantes hacia temáticas ligadas a los objetivos transversales del currículum, con el fin de favorecer su proceso de construcción de valores.","Orienta a sus estudiantes hacia temáticas ligadas a los objetivos transversales del currículum, con el fin de favorecer su proceso de construcción de valores en consonancia a elementos propios del PEI."]},{name:"Conclusión de la clase",levels:["El docente concluye la clase sin actividad o reactivo hacia los estudiantes.*","El docente concluye la clase con una explicación que resume los contenidos fundamentales, no obstante, no moviliza acciones en los estudiantes, que permitan activar contenidos.","El docente concluye las clases con una actividad breve que permite a sus estudiantes realizar algunas de las siguientes acciones: demostrar, identificar, sintetizar, jerarquizar, formular dudas, conectar o valorar lo aprendido.","El docente concluye las clases con una actividad breve que permite a sus estudiantes realizar algunas de las siguientes acciones: demostrar, identificar, sintetizar, jerarquizar, formular dudas, conectar o valorar lo aprendido. Incorpora además preguntas de metacognición y/o autoevaluación."]},{name:"Abordaje de errores",levels:["No aborda los errores, únicamente los señala.","Aborda los errores no como fracasos, sino que corrige oportunamente, no obstante no entrega nuevas herramientas para construir de mejor forma nuevos aprendizajes.","Aborda los errores no como fracasos, sino como ocasiones para enriquecer el proceso de aprendizaje.","Aborda los errores no como fracasos, sino como ocasiones para enriquecer el proceso de aprendizaje a través de estrategias o precisiones claves en virtud de las habilidades o contenidos tratados."]},{name:"Apoyo a todos los estudiantes",levels:["El docente se centra en un grupo objetivo y homogéneo, descuidando la diversidad y las características particulares de todos sus estudiantes.","El docente apoya parcialmente a todos los estudiantes en sus procesos educativos, no obstante no consideran diversas estrategias según nivel de dominio por parte de los estudiantes.","El docente apoya a todos los estudiantes en sus procesos educativos, considerando estrategias de apoyo por grupos según el nivel de dominio de las competencias definidas en el perfil de egreso.","El docente apoya a todos los estudiantes en sus procesos educativos, considerando estrategias de apoyo por grupos según el nivel de dominio de las competencias definidas en el perfil de egreso y en consonancia con el PEI."]}]}],AX=["Líder de Proyecto","Secretario/a","Encargado/a de Materiales","Expositor/a","Investigador/a","Editor/a"],R2=[{nombre:"Aprendiz Emergente",emoji:"🌱",promedioMin:1,promedioMax:3.9,mensaje:"¡Estás comenzando tu viaje de aprendizaje! Sigue esforzándote."},{nombre:"Explorador del Conocimiento",emoji:"🧭",promedioMin:4,promedioMax:4.9,mensaje:"¡Buen trabajo! Estás construyendo una base sólida."},{nombre:"Arquitecto de Ideas",emoji:"🏛️",promedioMin:5,promedioMax:5.9,mensaje:"¡Excelente! Demuestras un gran dominio de los temas."},{nombre:"Maestro del Saber",emoji:"🎓",promedioMin:6,promedioMax:6.5,mensaje:"¡Impresionante! Tu dedicación te lleva a la excelencia."},{nombre:"Sabio Luminar",emoji:"🌟",promedioMin:6.6,promedioMax:7,mensaje:"¡Extraordinario! Eres una inspiración para tus compañeros."}],spe=({onLoginAttempt:e,onForgotPasswordRequest:t,error:r})=>{const[n,a]=k.useState(""),[s,i]=k.useState(""),[o,l]=k.useState("login"),u=m=>{m.preventDefault(),e(n,s)},d=m=>{m.preventDefault(),t(n),l("forgot_sent")},f=()=>o==="forgot"?c.jsxs("form",{onSubmit:d,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Correo Electrónico Registrado"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:m=>a(m.target.value),placeholder:"Ingrese su correo",className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm"})})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-slate-800 hover:bg-slate-700",children:"Enviar Enlace de Recuperación"})}),c.jsx("div",{className:"text-sm text-center",children:c.jsx("button",{type:"button",onClick:()=>l("login"),className:"font-medium text-amber-600 hover:text-amber-500",children:"Volver a Iniciar Sesión"})})]}):o==="forgot_sent"?c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Revise su Correo"}),c.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Si existe una cuenta asociada a ",c.jsx("strong",{children:n}),", hemos enviado un enlace para restablecer su contraseña."]}),c.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"(Para esta simulación, revise la consola del navegador para ver el enlace)."}),c.jsx("button",{type:"button",onClick:()=>{l("login"),a("")},className:"mt-6 font-medium text-amber-600 hover:text-amber-500",children:"← Volver a Iniciar Sesión"})]}):c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Correo Electrónico"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:m=>a(m.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Contraseña"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:s,onChange:m=>i(m.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),r&&c.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",role:"alert",children:c.jsx("p",{children:r})}),c.jsx("div",{className:"text-sm text-center",children:c.jsx("button",{type:"button",onClick:()=>l("forgot"),className:"font-medium text-amber-600 hover:text-amber-500",children:"¿Olvidó su contraseña?"})}),c.jsx("div",{children:c.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-slate-800 hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:"Ingresar"})})]});return c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-slate-100 dark:bg-slate-900",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("div",{className:"mb-4 flex justify-center items-center",children:c.jsx(O6,{})}),c.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-200 mt-2",children:"Gestión Pedagógica LIR"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-lg",children:o==="login"?"Bienvenido/a, por favor inicie sesión":"Recuperación de Contraseña"})]}),c.jsx("div",{className:"w-full max-w-sm bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md",children:f()}),c.jsxs("footer",{className:"absolute bottom-4 text-slate-500 dark:text-slate-400 text-sm",children:["© ",new Date().getFullYear()," Liceo Industrial de Recoleta. Todos los derechos reservados."]})]})},L2=({trigger:e,children:t,onOpen:r})=>{const[n,a]=k.useState(!1),s=k.useRef(null),i=()=>{const l=!n;a(l),l&&r&&r()},o=l=>{s.current&&!s.current.contains(l.target)&&a(!1)};return k.useEffect(()=>(document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}),[]),c.jsxs("div",{className:"relative",ref:s,children:[c.jsx("div",{onClick:i,children:e}),n&&c.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-white dark:bg-slate-700 rounded-lg shadow-xl border border-slate-200 dark:border-slate-600 z-50 animate-fade-in-up",onClick:()=>a(!1),children:t})]})},hM="usuariosLiceo",ipe=({user:e,onClose:t,onSave:r})=>{const[n,a]=k.useState({nombreCompleto:e.nombreCompleto,email:e.email,fotoUrl:e.fotoUrl||""}),s=o=>{a({...n,[o.target.name]:o.target.value})},i=o=>{o.preventDefault();const l={...e,...n};try{const u=localStorage.getItem(hM);let d=u?JSON.parse(u):[];const f=d.findIndex(m=>m.id===e.id);f>-1?d[f]=l:d.push(l),localStorage.setItem(hM,JSON.stringify(d)),r(l),t()}catch(u){console.error("Failed to save user profile:",u),alert("No se pudo guardar el perfil.")}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md animate-fade-in-up",onClick:o=>o.stopPropagation(),children:c.jsxs("form",{onSubmit:i,children:[c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Editar Perfil"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"fotoUrl",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"URL de la Foto de Perfil"}),c.jsx("input",{type:"url",id:"fotoUrl",name:"fotoUrl",value:n.fotoUrl,onChange:s,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"https://ejemplo.com/foto.jpg"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"nombreCompleto",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Completo"}),c.jsx("input",{type:"text",id:"nombreCompleto",name:"nombreCompleto",value:n.nombreCompleto,onChange:s,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Correo Electrónico"}),c.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:s,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Función"}),c.jsx("p",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-md text-slate-700 dark:text-slate-300",children:e.profile})]})]})]}),c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end items-center gap-3",children:[c.jsx("button",{type:"button",onClick:t,className:"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700",children:"Guardar Cambios"})]})]})})})},mM="usuariosLiceo",ope=({user:e,onClose:t,onSave:r})=>{const[n,a]=k.useState(""),[s,i]=k.useState(""),[o,l]=k.useState(null),u=d=>{if(d.preventDefault(),l(null),!n){l("La contraseña no puede estar en blanco.");return}if(n!==s){l("Las contraseñas no coinciden.");return}const f={...e,password:n};try{const m=localStorage.getItem(mM);let p=m?JSON.parse(m):[];const x=p.findIndex(g=>g.id===e.id);x>-1?p[x]=f:p.push(f),localStorage.setItem(mM,JSON.stringify(p)),r(f),t()}catch(m){console.error("Failed to save new password:",m),l("No se pudo guardar la nueva contraseña.")}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md animate-fade-in-up",onClick:d=>d.stopPropagation(),children:c.jsxs("form",{onSubmit:u,children:[c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Configuración de Cuenta"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Usuario"}),c.jsx("p",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-md text-slate-700 dark:text-slate-300",children:e.email})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Nueva Contraseña"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"newPassword",name:"newPassword",type:"password",required:!0,value:n,onChange:d=>a(d.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Confirmar Nueva Contraseña"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:s,onChange:d=>i(d.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),o&&c.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-3 text-sm",role:"alert",children:c.jsx("p",{children:o})})]})]}),c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end items-center gap-3",children:[c.jsx("button",{type:"button",onClick:t,className:"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700",children:"Cambiar Contraseña"})]})]})})})};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lpe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cpe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),pM=e=>{const t=cpe(e);return t.charAt(0).toUpperCase()+t.slice(1)},fX=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),upe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dpe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ape=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...o},l)=>k.createElement("svg",{ref:l,...dpe,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:fX("lucide",a),...!s&&!upe(o)&&{"aria-hidden":"true"},...o},[...i.map(([u,d])=>k.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=(e,t)=>{const r=k.forwardRef(({className:n,...a},s)=>k.createElement(Ape,{ref:s,iconNode:t,className:fX(`lucide-${lpe(pM(e))}`,`lucide-${e}`,n),...a}));return r.displayName=pM(e),r};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fpe=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],hpe=ni("briefcase",fpe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mpe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],ppe=ni("building",mpe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gpe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],vpe=ni("calendar-check",gpe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xpe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],bpe=ni("chart-column",xpe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ype=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],wpe=ni("clipboard-list",ype);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Epe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],hX=ni("download",Epe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cpe=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],_pe=ni("hash",Cpe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Spe=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Npe=ni("layout-dashboard",Spe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bpe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],kpe=ni("mail",Bpe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tpe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ipe=ni("map-pin",Tpe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jpe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Fpe=ni("message-square",jpe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ope=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Dpe=ni("pencil",Ope);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ppe=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],Rpe=ni("puzzle",Ppe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lpe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],fI=ni("square-plus",Lpe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Mpe=ni("star",Upe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qpe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],D6=ni("trash-2",Qpe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hpe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gM=ni("user",Hpe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vpe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zpe=ni("users",Vpe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $pe=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Kpe=ni("video",$pe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gpe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],qpe=ni("wrench",Gpe);async function Wpe(e){const t={...e,docenteEmailLower:e.docenteEmail?e.docenteEmail.toLowerCase():e.docenteEmailLower,leida:!1,createdAt:lX()};return Object.keys(t).forEach(n=>t[n]===void 0&&delete t[n]),(await xa(Ft(Mr,"notificaciones"),t)).id}function Xpe(e,t){const r=[];let n=[],a=[];const s=()=>{const i=new Map;[...n,...a].forEach(l=>{l.id&&(i.has(l.id)||i.set(l.id,l))});const o=Array.from(i.values()).sort((l,u)=>{var m,p;const d=(m=l.createdAt)!=null&&m.toDate?l.createdAt.toDate().getTime():0;return((p=u.createdAt)!=null&&p.toDate?u.createdAt.toDate().getTime():0)-d});t(o)};if(e.email){const i=tr(Ft(Mr,"notificaciones"),Mn("docenteEmailLower","==",e.email.toLowerCase()),qr("createdAt","desc"));r.push(br(i,o=>{n=o.docs.map(l=>({id:l.id,...l.data()})),s()}))}if(e.nombreCompleto){const i=tr(Ft(Mr,"notificaciones"),Mn("docenteNombre","==",e.nombreCompleto),qr("createdAt","desc"));r.push(br(i,o=>{a=o.docs.map(l=>({id:l.id,...l.data()})),s()}))}return()=>r.forEach(i=>i())}async function Ype(e){const t=Er(Mr,"notificaciones",e);await ux(t,{leida:!0})}async function Jpe(e){const t=Er(Mr,"notificaciones",e);await pi(t)}const vM="anunciosMuro",xM="mensajesInternos",bM="lir-read-status",Zpe=({user:e})=>{if(e.fotoUrl)return c.jsx("img",{src:e.fotoUrl,alt:e.nombreCompleto||"Avatar de usuario",className:"h-9 w-9 rounded-full object-cover"});const t=e.nombreCompleto||"",r=String(t).split(" ").filter(n=>n).map(n=>n[0]).join("").toUpperCase();return c.jsx("div",{className:"h-9 w-9 rounded-full bg-amber-500 text-white flex items-center justify-center font-bold",children:r.substring(0,2)})},ege=({currentUser:e,onLogout:t,onNavigate:r,onUserUpdate:n,onChangeProfile:a,canChangeProfile:s,toggleSidebar:i,unreadMessagesCount:o,refreshUnreadCount:l})=>{const[u,d]=k.useState([]),[f,m]=k.useState([]),[p,x]=k.useState(!1),[g,b]=k.useState(!1),[y,_]=k.useState([]),S=k.useCallback(()=>{try{const N=localStorage.getItem(`${bM}-${e.id}`);return N?JSON.parse(N):{announcements:[],messages:[]}}catch{return{announcements:[],messages:[]}}},[e.id]),I=k.useCallback(N=>{try{localStorage.setItem(`${bM}-${e.id}`,JSON.stringify(N))}catch(R){console.error("Failed to set read status:",R)}},[e.id]);k.useEffect(()=>{const N=JSON.parse(localStorage.getItem(vM)||"[]"),R=S();d(N.filter(O=>!R.announcements.includes(O.id)));const D=JSON.parse(localStorage.getItem(xM)||"[]");m(D.filter(O=>O.para===e.email).sort((O,M)=>new Date(M.fecha).getTime()-new Date(O.fecha).getTime()).slice(0,5))},[e.id,S,o]),k.useEffect(()=>{if(!(e!=null&&e.email))return;const N=Xpe({email:e.email,nombreCompleto:e.nombreCompleto},R=>{const D=R.filter(O=>O.tipo&&(O.tipo.toLowerCase()==="pie"||O.tipo==="nueva_intervencion"));_(D)});return()=>N()},[e==null?void 0:e.email,e==null?void 0:e.nombreCompleto]);const T=()=>{const N=S(),R=JSON.parse(localStorage.getItem(vM)||"[]").map(D=>D.id);N.announcements=R,I(N),d([])},F=()=>{const N=S(),D=JSON.parse(localStorage.getItem(xM)||"[]").filter(O=>O.para===e.email).map(O=>O.id);N.messages=[...new Set([...N.messages,...D])],I(N),l()},w=y.filter(N=>!N.leida).length,C=N=>{var R;try{const D=(R=N.createdAt)!=null&&R.toDate?N.createdAt.toDate():new Date(N.createdAt);return D?D.toLocaleString("es-CL"):""}catch{return""}};return c.jsxs(c.Fragment,{children:[c.jsx("header",{className:"bg-white shadow-md sticky top-0 z-40 h-16",children:c.jsxs("div",{className:"container mx-auto px-4 h-full flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{className:"text-slate-600 dark:text-slate-300 md:hidden mr-2",onClick:i,children:c.jsx(Mme,{})}),c.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>r("Dashboard"),children:[c.jsxs("svg",{className:"w-8 h-8 text-slate-700 dark:text-slate-200",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20V6.5A2.5 2.5 0 0 0 17.5 4h-11A2.5 2.5 0 0 0 4 6.5v13Z",stroke:"currentColor",strokeWidth:"1.5"}),c.jsx("path",{d:"M16 4.5V17",stroke:"currentColor",strokeWidth:"1.5"})]}),c.jsx("span",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 hidden sm:block",children:"Gestión LIR"})]})]}),c.jsx("div",{className:"flex-1 flex justify-center",children:c.jsx("button",{onClick:()=>r("Calendario Académico"),className:"p-2.5 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300",title:"Calendario Académico",children:c.jsx(Qme,{})})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex items-center gap-3",children:c.jsx("img",{src:"https://res.cloudinary.com/dwncmu1wu/image/upload/v1754153206/ChatGPT_Image_2_ago_2025_12_46_35_p.m._qsqj5e.png",alt:"Logo LIR",className:"h-10 w-10 object-contain"})}),c.jsx(L2,{onOpen:T,trigger:c.jsxs("button",{className:"relative p-2 rounded-full bg-slate-100 hover:bg-slate-200 text-slate-600 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-300 transition-colors",title:"Anuncios",children:[c.jsx(W1,{}),u.length>0&&c.jsx("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:u.length})]}),children:c.jsxs("div",{className:"p-2",children:[c.jsx("h3",{className:"font-semibold px-2 pb-1 border-b dark:border-slate-600 text-slate-800 dark:text-slate-200",children:"Anuncios Recientes"}),c.jsxs("ul",{className:"mt-1",children:[u.slice(0,3).map(N=>c.jsxs("li",{className:"p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600 text-sm",children:[c.jsx("p",{className:"font-bold dark:text-slate-200",children:N.titulo}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400 truncate",children:N.mensaje})]},N.id)),u.length===0&&c.jsx("li",{className:"p-2 text-sm text-slate-500 dark:text-slate-400",children:"No hay anuncios nuevos."})]}),c.jsx("button",{onClick:()=>r("Muro de Anuncios"),className:"w-full mt-2 text-center text-sm font-semibold text-amber-600 hover:underline p-2",children:"Ver todo"})]})}),c.jsx(L2,{trigger:c.jsxs("button",{className:"relative p-2 rounded-full bg-sky-100 hover:bg-sky-200 text-sky-700 dark:bg-sky-900/30 dark:hover:bg-sky-900/40 dark:text-sky-300 transition-colors",title:"Notificaciones PIE",children:[c.jsx(Rpe,{className:"w-5 h-5"}),w>0&&c.jsx("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:w})]}),children:c.jsxs("div",{className:"p-2 w-80",children:[c.jsx("h3",{className:"font-semibold px-2 pb-1 border-b dark:border-slate-600 text-slate-800 dark:text-slate-200",children:"Notificaciones PIE"}),c.jsxs("ul",{className:"mt-1 max-h-80 overflow-y-auto divide-y dark:divide-slate-700",children:[y.length===0&&c.jsx("li",{className:"p-3 text-sm text-slate-500 dark:text-slate-400",children:"No hay notificaciones."}),y.map(N=>c.jsx("li",{className:"p-2 text-sm",children:c.jsxs("div",{className:"flex justify-between items-start gap-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-semibold text-slate-800 dark:text-slate-200",children:N.titulo}),c.jsx("div",{className:"text-slate-600 dark:text-slate-400 whitespace-pre-line",children:N.mensaje}),N.estudianteNombre&&c.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Estudiante: ",c.jsx("b",{children:N.estudianteNombre})]}),c.jsx("div",{className:"text-[11px] text-slate-400 mt-1",children:C(N)})]}),c.jsxs("div",{className:"flex-shrink-0 flex flex-col gap-1",children:[!N.leida&&c.jsx("button",{onClick:()=>N.id&&Ype(N.id),className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded hover:bg-green-200",children:"Marcar leída"}),c.jsx("button",{onClick:()=>N.id&&Jpe(N.id),className:"text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded hover:bg-red-200",children:"Eliminar"})]})]})},N.id))]})]})}),c.jsx(L2,{onOpen:F,trigger:c.jsxs("button",{className:"relative p-2 rounded-full bg-slate-100 hover:bg-slate-200 text-slate-600 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-300 transition-colors",title:"Mensajes",children:[c.jsx(X1,{}),o>0&&c.jsx("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:o})]}),children:c.jsxs("div",{className:"p-2",children:[c.jsx("h3",{className:"font-semibold px-2 pb-1 border-b dark:border-slate-600 text-slate-800 dark:text-slate-200",children:"Mensajes"}),c.jsxs("ul",{className:"mt-1",children:[f.slice(0,3).map(N=>c.jsxs("li",{className:"p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600 text-sm",children:[c.jsxs("p",{className:"font-bold dark:text-slate-200",children:["De: ",N.de]}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400 truncate",children:N.asunto})]},N.id)),f.length===0&&c.jsx("li",{className:"p-2 text-sm text-slate-500 dark:text-slate-400",children:"No hay mensajes recientes."})]}),c.jsx("button",{onClick:()=>r("Mensajería Interna"),className:"w-full mt-2 text-center text-sm font-semibold text-amber-600 hover:underline p-2",children:"Ir a la bandeja"})]})}),c.jsx(L2,{trigger:c.jsx("button",{className:"p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:c.jsx(Zpe,{user:e})}),children:c.jsxs("div",{className:"p-2",children:[c.jsxs("div",{className:"px-2 py-2 border-b dark:border-slate-600",children:[c.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:e.nombreCompleto}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:e.profile})]}),c.jsxs("ul",{className:"mt-2 text-slate-700 dark:text-slate-300",children:[c.jsx("li",{children:c.jsx("button",{onClick:()=>x(!0),className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Editar Perfil"})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>b(!0),className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Configuración"})}),s&&c.jsx("li",{children:c.jsx("button",{onClick:a,className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"👑 Cambiar Vista"})}),c.jsx("li",{children:c.jsx("button",{onClick:t,className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Cerrar Sesión"})})]})]})})]})]})}),p&&c.jsx(ipe,{user:e,onClose:()=>x(!1),onSave:n}),g&&c.jsx(ope,{user:e,onClose:()=>b(!1),onSave:n})]})};var vm={};const tge={apiKey:vm.NEXT_PUBLIC_FIREBASE_API_KEY||"tu-api-key",authDomain:vm.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN||"tu-proyecto.firebaseapp.com",projectId:vm.NEXT_PUBLIC_FIREBASE_PROJECT_ID||"tu-proyecto-id",storageBucket:vm.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET||"tu-proyecto.appspot.com",messagingSenderId:vm.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||"123456789",appId:vm.NEXT_PUBLIC_FIREBASE_APP_ID||"1:123456789:web:abcdef",measurementId:vm.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID||"G-XXXXXXXXXX"},mX=M8().length===0?LF(tge):M8()[0],Bt=XW(mX),rge=Tq(mX),Zy="reemplazos_docentes",nge="usuarios",P6=e=>{var r,n,a,s;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion,fechaActualizacion:((s=(a=t.fechaActualizacion)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString())||t.fechaActualizacion}},age=e=>{const t=e.data();return{id:e.id,...t}},sge=async(e,t)=>{try{const r={...e,userId:t,fechaCreacion:fr.fromDate(new Date),fechaActualizacion:fr.fromDate(new Date)};return(await xa(Ft(Bt,Zy),r)).id}catch(r){throw console.error("Error al guardar reemplazo:",r),new Error("No se pudo guardar el reemplazo")}},ige=async(e,t)=>{try{const r=Er(Bt,Zy,e),n=await Xy(r);if(!n.exists()||n.data().userId!==t)throw new Error("No tienes permisos para eliminar este reemplazo");await pi(r)}catch(r){throw console.error("Error al eliminar reemplazo:",r),new Error("No se pudo eliminar el reemplazo")}},oge=(e,t,r=50)=>{try{const n=tr(Ft(Bt,Zy),Mn("userId","==",e),qr("diaAusencia","desc"),d0(r));return br(n,a=>{const s=a.docs.map(P6);t(s)},a=>{console.error("Error en suscripción a reemplazos:",a),t([])})}catch(n){return console.error("Error al crear la suscripción de reemplazos:",n),()=>{}}},lge=e=>{try{const t=tr(Ft(Bt,nge),Mn("profile","==",Kt.PROFESORADO));return br(t,n=>{const a=n.docs.map(age);e(a)},n=>{console.error("Error al obtener la lista de profesores:",n),e([])})}catch(t){return console.error("Error al crear la suscripción de profesores:",t),()=>{}}},cge=async e=>{try{const t=tr(Ft(Bt,Zy),Mn("userId","==",e)),n=(await Zs(t)).docs.map(P6),a=n.length,s=n.filter(o=>o.resultado==="Hora realizada").length,i=n.filter(o=>o.resultado==="Hora cubierta, no realizada").length;return{totalReemplazos:a,horasRealizadas:s,horasCubiertas:i,porcentajeRealizadas:a>0?s/a*100:0}}catch(t){throw console.error("Error al obtener estadísticas:",t),new Error("No se pudieron obtener las estadísticas")}},uge=async(e,t)=>{try{if(!t.trim())return[];const r=tr(Ft(Bt,Zy),Mn("userId","==",e),qr("diaAusencia","desc"),d0(100)),a=(await Zs(r)).docs.map(P6),s=t.toLowerCase();return a.filter(i=>i.docenteAusente.toLowerCase().includes(s)||i.docenteReemplazante.toLowerCase().includes(s)||i.curso.toLowerCase().includes(s)||i.diaAusencia.includes(s)||i.asignaturaAusente.toLowerCase().includes(s)||i.asignaturaReemplazante.toLowerCase().includes(s))}catch(r){return console.error("Error en búsqueda de reemplazos:",r),[]}},dge=Array.from({length:12},(e,t)=>t+1),yM={docenteAusente:"",asignaturaAusente:"",curso:"",diaAusencia:"",bloquesAfectados:[],docenteReemplazante:"",asignaturaReemplazante:""},Age=e=>{const[t,r]=k.useState([]),[n,a]=k.useState(!0),[s,i]=k.useState(null);k.useEffect(()=>e?oge(e,f=>{r(f),a(!1)}):void 0,[e]);const o=k.useCallback(async d=>{try{return i(null),await sge(d,e)}catch(f){throw i(f instanceof Error?f.message:"Error al guardar"),f}},[e]),l=k.useCallback(async d=>{try{i(null),await ige(d,e)}catch(f){throw i(f instanceof Error?f.message:"Error al eliminar"),f}},[e]),u=k.useCallback(async d=>{try{return i(null),d.trim()?await uge(e,d):t}catch(f){return i(f instanceof Error?f.message:"Error en la búsqueda"),[]}},[e,t]);return{reemplazos:t,loading:n,error:s,save:o,remove:l,search:u}},fge=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0);k.useEffect(()=>lge(i=>{t(i),n(!1)}),[]);const a=k.useMemo(()=>e.map(s=>s.nombreCompleto).sort(),[e]);return{profesores:e,profesorNames:a,loading:r}},hge=({selectedBlocks:e,onChange:t,legend:r,disabled:n=!1})=>c.jsxs("fieldset",{children:[c.jsx("legend",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-2",children:r}),c.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-2",children:dge.map(a=>c.jsxs("label",{className:`flex items-center space-x-2 p-2 border rounded-lg transition-colors ${n?"opacity-50 cursor-not-allowed":"hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-700"}`,children:[c.jsx("input",{type:"checkbox",value:a,checked:e.includes(a),onChange:t,disabled:n,className:"h-5 w-5 rounded text-amber-500 focus:ring-amber-400 bg-slate-200 dark:bg-slate-600 border-slate-300 dark:border-slate-500 disabled:opacity-50"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:a})]},a))})]}),mge=({userId:e})=>{const[t,r]=k.useState(null),[n,a]=k.useState(!1),s=k.useCallback(async()=>{try{a(!0);const i=new Date,o=(i.getMonth()+1).toString(),l=i.getFullYear().toString(),u=await cge(e);r(u)}catch(i){console.error("Error al cargar estadísticas:",i)}finally{a(!1)}},[e]);return k.useEffect(()=>{e&&s()},[e,s]),n?c.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:c.jsx("div",{className:"animate-pulse flex justify-center",children:c.jsx("div",{className:"w-6 h-6 border-2 border-amber-500 border-t-transparent rounded-full animate-spin"})})}):t?c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:[c.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-300 mb-3",children:"Estadísticas del Mes"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:t.totalReemplazos}),c.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"Total"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:t.horasRealizadas}),c.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"Realizadas"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:t.horasCubiertas}),c.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"Cubiertas"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[t.porcentajeRealizadas.toFixed(1),"%"]}),c.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"Efectividad"})]})]})]}):null},pge=({currentUser:e})=>{const t=e.email||e.id||"",{reemplazos:r,save:n,remove:a,search:s,loading:i,error:o}=Age(t),{profesorNames:l,loading:u}=fge(),[d,f]=k.useState(yM),[m,p]=k.useState(""),[x,g]=k.useState([]),[b,y]=k.useState(null),[_,S]=k.useState(!1),[I,T]=k.useState(!1);k.useEffect(()=>{(async()=>{if(!m.trim()){g(r);return}T(!0);try{const O=await s(m);g(O)}catch(O){console.error("Error en búsqueda:",O),g(r)}finally{T(!1)}})()},[r,m,s]);const F=k.useCallback(D=>{const{name:O,value:M}=D.target;f(Q=>({...Q,[O]:M}))},[]),w=k.useCallback(D=>{const O=parseInt(D.target.value,10);f(M=>{const Q=M.bloquesAfectados,ee=Q.includes(O)?Q.filter(W=>W!==O):[...Q,O].sort((W,Z)=>W-Z);return{...M,bloquesAfectados:ee}})},[]),C=k.useCallback(async D=>{D.preventDefault(),y(null),S(!0);const{docenteAusente:O,asignaturaAusente:M,curso:Q,diaAusencia:ee,bloquesAfectados:W,docenteReemplazante:Z,asignaturaReemplazante:V}=d;if(!O||!M||!Q||!ee||!Z||!V||W.length===0){y("Todos los campos son obligatorios y debe seleccionar al menos un bloque."),S(!1);return}if(O===Z){y("El docente ausente y el reemplazante no pueden ser la misma persona."),S(!1);return}const q=new Date(ee),K=new Date;if(K.setHours(0,0,0,0),q<K&&!window.confirm("La fecha seleccionada es anterior a hoy. ¿Desea continuar?")){S(!1);return}try{const J=M.trim().toLowerCase()===V.trim().toLowerCase()?"Hora realizada":"Hora cubierta, no realizada",P={...d,resultado:J};await n(P),f(yM);const G=J==="Hora realizada"?"✅ Reemplazo registrado - Hora realizada":"⚠️ Reemplazo registrado - Hora cubierta, no realizada",Y=document.createElement("div");Y.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",Y.textContent=G,document.body.appendChild(Y),setTimeout(()=>{document.body.contains(Y)&&document.body.removeChild(Y)},3e3)}catch(J){console.error("Error al guardar reemplazo:",J),y("Error al guardar el reemplazo. Por favor, intente nuevamente.")}finally{S(!1)}},[d,n]),N=k.useCallback(async D=>{if(window.confirm("¿Está seguro de que desea eliminar este registro?"))try{await a(D)}catch(O){console.error("Error al eliminar reemplazo:",O),alert("Error al eliminar el reemplazo. Por favor, intente nuevamente.")}},[a]),R="w-full border-slate-300 rounded-md shadow-sm focus:ring-amber-400 focus:border-amber-400 dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400 disabled:opacity-50 disabled:cursor-not-allowed";return!e||!e.email&&!e.id?c.jsx("div",{className:"flex justify-center items-center py-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-2",children:"Error: Usuario no autenticado"}),c.jsxs("p",{className:"text-sm text-slate-400",children:["Datos recibidos: ",JSON.stringify(e)]})]})}):c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsx(mge,{userId:t}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Registro de Inasistencias y Reemplazos"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Complete el formulario para registrar una nueva suplencia."}),u?c.jsxs("div",{className:"flex justify-center items-center py-8",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"}),c.jsx("span",{className:"ml-3 text-slate-600 dark:text-slate-400",children:"Cargando profesores..."})]}):c.jsxs("form",{onSubmit:C,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2",children:"Docente Ausente"}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"docenteAusente",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre"}),c.jsxs("select",{name:"docenteAusente",value:d.docenteAusente,onChange:F,className:R,disabled:_,required:!0,children:[c.jsx("option",{value:"",children:"Seleccione un docente"}),l.map(D=>c.jsx("option",{value:D,children:D},D))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"asignaturaAusente",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),c.jsxs("select",{name:"asignaturaAusente",value:d.asignaturaAusente,onChange:F,className:R,disabled:_,required:!0,children:[c.jsx("option",{value:"",children:"Seleccione una asignatura"}),Pi.map(D=>c.jsx("option",{value:D,children:D},D))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),c.jsxs("select",{name:"curso",value:d.curso,onChange:F,className:R,disabled:_,required:!0,children:[c.jsx("option",{value:"",children:"Seleccione un curso"}),qa.map(D=>c.jsx("option",{value:D,children:D},D))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"diaAusencia",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Día Ausencia"}),c.jsx("input",{type:"date",name:"diaAusencia",value:d.diaAusencia,onChange:F,className:R,disabled:_,required:!0})]}),c.jsx(hge,{legend:"Bloques Afectados",selectedBlocks:d.bloquesAfectados,onChange:w,disabled:_})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2",children:"Docente Reemplazante"}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"docenteReemplazante",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre"}),c.jsxs("select",{name:"docenteReemplazante",value:d.docenteReemplazante,onChange:F,className:R,disabled:_,required:!0,children:[c.jsx("option",{value:"",children:"Seleccione un docente"}),l.map(D=>c.jsx("option",{value:D,children:D},D))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"asignaturaReemplazante",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),c.jsxs("select",{name:"asignaturaReemplazante",value:d.asignaturaReemplazante,onChange:F,className:R,disabled:_,required:!0,children:[c.jsx("option",{value:"",children:"Seleccione una asignatura"}),Pi.map(D=>c.jsx("option",{value:D,children:D},D))]})]}),d.asignaturaAusente&&d.asignaturaReemplazante&&c.jsxs("div",{className:"mt-6 p-4 rounded-lg border-2 border-dashed border-slate-300 dark:border-slate-600",children:[c.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Vista Previa del Resultado:"}),c.jsx("div",{className:`px-3 py-2 rounded-full text-sm font-semibold inline-flex ${d.asignaturaAusente.toLowerCase()===d.asignaturaReemplazante.toLowerCase()?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300"}`,children:d.asignaturaAusente.toLowerCase()===d.asignaturaReemplazante.toLowerCase()?"✅ Hora realizada":"⚠️ Hora cubierta, no realizada"}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:d.asignaturaAusente.toLowerCase()===d.asignaturaReemplazante.toLowerCase()?"Las asignaturas coinciden - se considera hora realizada":"Las asignaturas no coinciden - se considera hora cubierta pero no realizada"})]})]})]}),(b||o)&&c.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:c.jsx("p",{className:"text-red-600 dark:text-red-400",children:b||o})}),c.jsx("div",{className:"pt-4 text-right",children:c.jsxs("button",{type:"submit",disabled:_||u,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-all duration-200 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[_&&c.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),_?"Registrando...":"Registrar Reemplazo"]})})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Reemplazos"}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"Buscar por docente, curso o fecha (YYYY-MM-DD)...",value:m,onChange:D=>p(D.target.value),className:`${R} md:w-1/2 pl-10`,disabled:I}),c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:I?c.jsx("div",{className:"w-4 h-4 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"}):c.jsx("svg",{className:"h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),m&&c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:I?"Buscando...":`${x.length} resultado(s) encontrado(s)`})]}),i?c.jsxs("div",{className:"flex justify-center items-center py-8",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"}),c.jsx("span",{className:"ml-3 text-slate-600 dark:text-slate-400",children:"Cargando reemplazos..."})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Fecha"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Curso"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Docente Ausente"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Docente Reemplazante"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Bloques"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Resultado"}),c.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:x.length>0?x.map(D=>c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:new Date(D.diaAusencia+"T12:00:00").toLocaleDateString("es-CL")}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:D.curso}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:[D.docenteAusente,c.jsx("br",{}),c.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:D.asignaturaAusente})]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:[D.docenteReemplazante,c.jsx("br",{}),c.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:D.asignaturaReemplazante})]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:D.bloquesAfectados.join(", ")}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:c.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${D.resultado==="Hora realizada"?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300"}`,children:D.resultado})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm",children:c.jsx("button",{onClick:()=>N(D.id),title:"Eliminar registro",className:"p-1 text-red-600 hover:text-red-800 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors disabled:opacity-50",disabled:_,children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},D.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-slate-500 dark:text-slate-400",children:m?"No se encontraron registros que coincidan con la búsqueda.":"No hay registros de reemplazos."})})})]})}),x.length>0&&!m&&c.jsxs("div",{className:"mt-4 text-sm text-slate-500 dark:text-slate-400 text-center",children:["Mostrando los últimos ",x.length," registros"]})]})]})},gge=e=>{console.log("🔄 Iniciando suscripción a todos los reemplazos...");try{const t=Ft(Mr,"reemplazos"),r=tr(t,qr("fecha","desc"));return br(r,a=>{const s=[];a.forEach(i=>{const o=i.data();s.push({id:i.id,...o})}),console.log("✅ Reemplazos cargados para dashboard:",s.length),e(s)},a=>{throw console.error("❌ Error al cargar reemplazos:",a),a})}catch(t){throw console.error("❌ Error al configurar suscripción a reemplazos:",t),t}},vge=e=>{console.log("🔄 Iniciando suscripción a todos los acompañamientos...");try{const t=Ft(Mr,"acompanamientos"),r=tr(t,qr("fecha","desc"));return br(r,a=>{const s=[];a.forEach(i=>{const o=i.data();s.push({id:i.id,...o})}),console.log("✅ Acompañamientos cargados para dashboard:",s.length),e(s)},a=>{throw console.error("❌ Error al cargar acompañamientos:",a),a})}catch(t){throw console.error("❌ Error al configurar suscripción a acompañamientos:",t),t}},xge=e=>{console.log("🔄 Iniciando suscripción a todos los eventos del calendario...");try{const t=Ft(Mr,"calendar_events"),r=tr(t,qr("date","asc"));return br(r,a=>{const s=[];a.forEach(i=>{const o=i.data();s.push({id:i.id,...o})}),console.log("✅ Eventos del calendario cargados para dashboard:",s.length),e(s)},a=>{throw console.error("❌ Error al cargar eventos del calendario:",a),a})}catch(t){throw console.error("❌ Error al configurar suscripción a eventos del calendario:",t),t}},Hd=({title:e,value:t,description:r,isLoading:n=!1})=>c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),n?c.jsxs("div",{className:"flex items-center mt-2",children:[c.jsx("div",{className:"w-8 h-8 border-2 border-amber-500 border-t-transparent rounded-full animate-spin"}),c.jsx("span",{className:"ml-2 text-slate-500 dark:text-slate-400",children:"Cargando..."})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mt-2",children:t}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:r})]})]}),xm=({title:e,data:t,colorClass:r,valueFormatter:n=s=>String(s),isLoading:a=!1})=>{const s=k.useMemo(()=>t.map(o=>typeof o.value=="number"?o.value:parseFloat(String(o.value))||0),[t]),i=k.useMemo(()=>Math.max(...s,1),[s]);return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:e}),a?c.jsxs("div",{className:"flex justify-center items-center py-8",children:[c.jsx("div",{className:"w-6 h-6 border-2 border-amber-500 border-t-transparent rounded-full animate-spin"}),c.jsx("span",{className:"ml-2 text-slate-500 dark:text-slate-400",children:"Cargando datos..."})]}):c.jsx("div",{className:"space-y-4",children:t.length>0?t.sort((o,l)=>(typeof l.value=="number"?l.value:0)-(typeof o.value=="number"?o.value:0)).map((o,l)=>{const u=typeof o.value=="number"?o.value:parseFloat(String(o.value))||0;return c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[c.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:o.label}),c.jsx("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:n(o.value)})]}),c.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:c.jsx("div",{className:`${r} h-3 rounded-full transition-all duration-500 ease-out`,style:{width:`${u/i*100}%`}})})]},o.label+l)}):c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No hay datos para mostrar."})})]})},bge=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState([]),[i,o]=k.useState(!0),[l,u]=k.useState(null);return k.useEffect(()=>{console.log("🔄 Iniciando carga de datos del dashboard...");let d=0;const f=3,m=()=>{d++,d>=f&&(o(!1),console.log("✅ Todos los datos del dashboard cargados"))};try{const p=gge(b=>{t(b),m()}),x=vge(b=>{n(b),m()}),g=xge(b=>{s(b),m()});return()=>{p(),x(),g()}}catch(p){console.error("❌ Error al configurar suscripciones del dashboard:",p),u(p instanceof Error?p.message:"Error al cargar datos del dashboard"),o(!1)}},[]),{registros:e,acompanamientos:r,calendarEvents:a,loading:i,error:l}},yge=({currentUser:e})=>{var f,m;console.log("=== DASHBOARD SUBDIRECCION DEBUG ==="),console.log("🔍 Dashboard - currentUser completo:",e),console.log("🔍 Dashboard - currentUser.profile:",e==null?void 0:e.profile),console.log("🔍 Dashboard - Verificación de perfil:",(e==null?void 0:e.profile)==="SUBDIRECCION"),console.log("🔍 Dashboard - Typeof profile:",typeof(e==null?void 0:e.profile)),console.log("🔍 Dashboard - Profile length:",(f=e==null?void 0:e.profile)==null?void 0:f.length),console.log("🔍 Dashboard - Profile con comillas:",`"${e==null?void 0:e.profile}"`),console.log("🔍 Dashboard - Comparación con trim:",((m=e==null?void 0:e.profile)==null?void 0:m.trim())==="SUBDIRECCION"),console.log("=====================================");const{registros:t,acompanamientos:r,calendarEvents:n,loading:a,error:s}=bge(),[i,o]=k.useState(vb);if(console.log("🔍 Dashboard - Datos recibidos:",{registros:t.length,acompanamientos:r.length,calendarEvents:n.length,loading:a,error:s,currentUser:e==null?void 0:e.profile}),k.useEffect(()=>{try{const p=localStorage.getItem("acompanamientoDocenteCustomRubrica");o(p?JSON.parse(p):vb)}catch(p){console.error("Error al leer rúbrica personalizada",p),o(vb)}},[]),console.log("🔍 Dashboard - Verificando permisos..."),console.log("🔍 Dashboard - currentUser existe:",!!e),console.log("🔍 Dashboard - profile value:",`"${e==null?void 0:e.profile}"`),console.log("🔍 Dashboard - comparación exacta:",(e==null?void 0:e.profile)==="SUBDIRECCION"),!e)return console.log("❌ Dashboard - currentUser es null/undefined"),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex flex-col items-center justify-center text-center animate-fade-in",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-amber-500 border-t-transparent rounded-full animate-spin mb-4"}),c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Cargando usuario..."}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg max-w-md",children:"Esperando datos del usuario autenticado..."})]});if(e.profile!=="SUBDIRECCION")return console.log("❌ Dashboard - Perfil no autorizado:",e.profile),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex flex-col items-center justify-center text-center animate-fade-in",children:[c.jsx("span",{className:"text-6xl mb-4",children:"🚫"}),c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Acceso Restringido"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg max-w-md mb-4",children:"Este dashboard está disponible solo para usuarios con perfil de Subdirección."}),c.jsxs("div",{className:"mt-4 p-3 bg-slate-100 dark:bg-slate-700 rounded text-xs text-slate-600 dark:text-slate-400",children:[c.jsx("p",{children:c.jsx("strong",{children:"Debug Info:"})}),c.jsxs("p",{children:['Su perfil actual: "',e.profile,'"']}),c.jsx("p",{children:'Perfil requerido: "SUBDIRECCION"'}),c.jsxs("p",{children:["Usuario: ",e.email||e.nombreCompleto]})]})]});if(console.log("✅ Dashboard - Permisos verificados correctamente"),s)return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex flex-col items-center justify-center text-center animate-fade-in",children:[c.jsx("span",{className:"text-6xl mb-4",children:"⚠️"}),c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Error al Cargar Datos"}),c.jsx("p",{className:"text-red-500 dark:text-red-400 text-lg max-w-md mb-4",children:s}),c.jsx("button",{onClick:()=>window.location.reload(),className:"bg-amber-500 text-white px-4 py-2 rounded-lg hover:bg-amber-600 transition-colors",children:"Recargar Página"})]});const l=k.useMemo(()=>{const p=t.length;if(p===0)return{totalInasistencias:0,horasRealizadas:0,horasCubiertas:0,tasaCobertura:"0%",inasistenciasPorDocente:[],reemplazosPorDocente:[],distribucionResultados:[],inasistenciasPorCurso:[]};const x=t.filter(T=>T.resultado==="Hora realizada").length,g=p-x,b=`${(x/p*100).toFixed(1)}%`,y=(T,F)=>T.reduce((w,C)=>{const N=C[F];return typeof N=="string"&&(w[N]=(w[N]||0)+1),w},{}),_=y(t,"docenteAusente"),S=y(t,"docenteReemplazante"),I=y(t,"curso");return{totalInasistencias:p,horasRealizadas:x,horasCubiertas:g,tasaCobertura:b,inasistenciasPorDocente:Object.entries(_).map(([T,F])=>({label:T,value:F})),reemplazosPorDocente:Object.entries(S).map(([T,F])=>({label:T,value:F})),inasistenciasPorCurso:Object.entries(I).map(([T,F])=>({label:T,value:F})),distribucionResultados:[{label:"Hora Realizada",value:x},{label:"Hora Cubierta",value:g}]}},[t]),u=k.useMemo(()=>{const p=r.length;if(p===0)return{totalAcompanamientos:0,promedioGeneral:"N/A",desempenoPorDocente:[],desempenoPorDominio:[]};const x=new Map;i.forEach(F=>{F.criteria.forEach(w=>{x.set(w.name,F.domain)})});let g=0,b=0;const y={},_={};r.forEach(F=>{y[F.docente]||(y[F.docente]={total:0,count:0}),Object.entries(F.rubricaResultados).forEach(([w,C])=>{g+=C,b++,y[F.docente].total+=C,y[F.docente].count++;const N=x.get(w);N&&(_[N]||(_[N]={total:0,count:0}),_[N].total+=C,_[N].count++)})});const S=b>0?(g/b).toFixed(2):"N/A",I=Object.entries(y).map(([F,w])=>({label:F,value:w.count>0?(w.total/w.count).toFixed(2):0})),T=Object.entries(_).map(([F,w])=>({label:F,value:w.count>0?(w.total/w.count).toFixed(2):0}));return{totalAcompanamientos:p,promedioGeneral:S,desempenoPorDocente:I,desempenoPorDominio:T}},[r,i]),d=k.useMemo(()=>{const p={[mn.EVALUACION]:0,[mn.ACTO]:0,[mn.ACTIVIDAD_FOCALIZADA]:0,[mn.SALIDA_PEDAGOGICA]:0};for(const g of n)p.hasOwnProperty(g.type)&&p[g.type]++;const x=Object.entries(p).map(([g,b])=>({label:Wh[g].label,value:b}));return{totalEvaluaciones:p[mn.EVALUACION],totalActos:p[mn.ACTO],totalActividadesFocalizadas:p[mn.ACTIVIDAD_FOCALIZADA],totalSalidasPedagogicas:p[mn.SALIDA_PEDAGOGICA],distribucionEventos:x}},[n]);return a?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex flex-col items-center justify-center text-center animate-fade-in",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-amber-500 border-t-transparent rounded-full animate-spin mb-4"}),c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Cargando Dashboard"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg max-w-md",children:"Obteniendo datos desde la base de datos..."})]}):l.totalInasistencias===0&&u.totalAcompanamientos===0&&n.length===0?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex flex-col items-center justify-center text-center animate-fade-in",children:[c.jsx("span",{className:"text-6xl mb-4",children:"📊"}),c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Dashboard de Subdirección"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg max-w-md mb-4",children:"Aún no hay datos para mostrar. Comience por añadir registros en los módulos correspondientes."}),c.jsxs("div",{className:"text-sm text-slate-400 dark:text-slate-500",children:[c.jsx("p",{children:"• Módulo de Inasistencias y Reemplazos"}),c.jsx("p",{children:"• Módulo de Acompañamiento Docente"}),c.jsx("p",{children:"• Calendario Académico"})]})]}):c.jsxs("div",{className:"space-y-12 animate-fade-in",children:[c.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-amber-600 dark:from-amber-600 dark:to-amber-700 text-white p-6 rounded-xl shadow-lg",children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Dashboard de Subdirección"}),c.jsx("p",{className:"text-amber-100",children:"Vista consolidada de datos institucionales"}),c.jsxs("p",{className:"text-sm text-amber-200 mt-2",children:["Última actualización: ",new Date().toLocaleString("es-CL")]})]}),t.length>0&&c.jsxs("div",{className:"space-y-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 border-b border-slate-200 dark:border-slate-700 pb-2",children:"📋 Dashboard de Inasistencias y Reemplazos"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(Hd,{title:"Total Inasistencias",value:l.totalInasistencias,description:"Registros totales",isLoading:a}),c.jsx(Hd,{title:"Horas Realizadas",value:l.horasRealizadas,description:"Reemplazo con misma asignatura",isLoading:a}),c.jsx(Hd,{title:"Horas Cubiertas",value:l.horasCubiertas,description:"Reemplazo con otra asignatura",isLoading:a}),c.jsx(Hd,{title:"Tasa de Cobertura Efectiva",value:l.tasaCobertura,description:"% de horas realizadas",isLoading:a})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsx(xm,{title:"Inasistencias por Docente",data:l.inasistenciasPorDocente,colorClass:"bg-red-400",isLoading:a}),c.jsx(xm,{title:"Reemplazos por Docente",data:l.reemplazosPorDocente,colorClass:"bg-sky-400",isLoading:a}),c.jsx(xm,{title:"Inasistencias por Curso",data:l.inasistenciasPorCurso,colorClass:"bg-amber-400",isLoading:a}),c.jsx(xm,{title:"Distribución de Resultados",data:l.distribucionResultados,colorClass:"bg-green-400",isLoading:a})]})]}),r.length>0&&c.jsxs("div",{className:"space-y-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 border-b border-slate-200 dark:border-slate-700 pb-2",children:"👥 Dashboard de Acompañamiento Docente"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(Hd,{title:"Total Acompañamientos",value:u.totalAcompanamientos,description:"Registros realizados",isLoading:a}),c.jsx(Hd,{title:"Promedio General",value:u.promedioGeneral,description:"Calificación promedio (1-4)",isLoading:a})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsx(xm,{title:"Desempeño Promedio por Docente",data:u.desempenoPorDocente,colorClass:"bg-indigo-400",valueFormatter:p=>Number(p).toFixed(2),isLoading:a}),c.jsx(xm,{title:"Desempeño Promedio por Dominio",data:u.desempenoPorDominio,colorClass:"bg-teal-400",valueFormatter:p=>Number(p).toFixed(2),isLoading:a})]})]}),n.length>0&&c.jsxs("div",{className:"space-y-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 border-b border-slate-200 dark:border-slate-700 pb-2",children:"📅 Resumen del Calendario Académico"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(Hd,{title:"Evaluaciones",value:d.totalEvaluaciones,description:"Eventos registrados",isLoading:a}),c.jsx(Hd,{title:"Actos",value:d.totalActos,description:"Eventos registrados",isLoading:a}),c.jsx(Hd,{title:"Act. Focalizadas",value:d.totalActividadesFocalizadas,description:"Eventos registrados",isLoading:a}),c.jsx(Hd,{title:"Salidas Pedagógicas",value:d.totalSalidasPedagogicas,description:"Eventos registrados",isLoading:a})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsx(xm,{title:"Distribución de Eventos del Calendario",data:d.distribucionEventos,colorClass:"bg-violet-400",isLoading:a}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Próximos Eventos"}),a?c.jsxs("div",{className:"flex justify-center items-center py-8",children:[c.jsx("div",{className:"w-6 h-6 border-2 border-amber-500 border-t-transparent rounded-full animate-spin"}),c.jsx("span",{className:"ml-2 text-slate-500 dark:text-slate-400",children:"Cargando eventos..."})]}):c.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[n.filter(p=>new Date(p.date)>=new Date).slice(0,5).map((p,x)=>{var g,b;return c.jsx("div",{className:"p-3 border dark:border-slate-600 rounded-md",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:p.responsables||"Evento sin título"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(p.date).toLocaleDateString("es-CL")}),p.ubicacion&&c.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:["📍 ",p.ubicacion]})]}),c.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${((g=Wh[p.type])==null?void 0:g.color)||"bg-gray-100 text-gray-800"}`,children:((b=Wh[p.type])==null?void 0:b.label)||p.type})]})},p.id||x)}),n.filter(p=>new Date(p.date)>=new Date).length===0&&c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm text-center py-4",children:"No hay eventos próximos programados"})]})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 p-6 rounded-xl",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"📈 Resumen Ejecutivo"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:t.length+r.length+n.length}),c.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Total de registros en el sistema"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:new Set([...t.map(p=>p.docenteAusente),...r.map(p=>p.docente)]).size}),c.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Docentes con registros"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:[Math.round(t.filter(p=>p.resultado==="Hora realizada").length/Math.max(t.length,1)*100),"%"]}),c.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Efectividad en cobertura"})]})]})]}),c.jsxs("div",{className:"text-center text-sm text-slate-500 dark:text-slate-400 border-t border-slate-200 dark:border-slate-700 pt-6",children:[c.jsx("p",{children:"Dashboard de Subdirección - Sistema de Gestión Pedagógica"}),c.jsx("p",{children:"Los datos se actualizan en tiempo real desde la base de datos"})]})]})};var wM;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(wM||(wM={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EM;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(EM||(EM={}));var CM;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(CM||(CM={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=["user","model","function","system"];var SM;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(SM||(SM={}));var NM;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(NM||(NM={}));var BM;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(BM||(BM={}));var kM;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(kM||(kM={}));var xb;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(xb||(xb={}));var TM;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(TM||(TM={}));var IM;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(IM||(IM={}));var jM;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(jM||(jM={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class fg extends Po{constructor(t,r){super(t),this.response=r}}class pX extends Po{constructor(t,r,n,a){super(t),this.status=r,this.statusText=n,this.errorDetails=a}}class A0 extends Po{}class gX extends Po{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wge="https://generativelanguage.googleapis.com",Ege="v1beta",Cge="0.24.1",_ge="genai-js";var cp;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(cp||(cp={}));class Sge{constructor(t,r,n,a,s){this.model=t,this.task=r,this.apiKey=n,this.stream=a,this.requestOptions=s}toString(){var t,r;const n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||Ege;let s=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||wge}/${n}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function Nge(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${_ge}/${Cge}`),t.join(" ")}async function Bge(e){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",Nge(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(a){throw new A0(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${a.message}`)}for(const[a,s]of n.entries()){if(a==="x-goog-api-key")throw new A0(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new A0(`Header name ${a} can only be set using the apiClient field`);r.append(a,s)}}return r}async function kge(e,t,r,n,a,s){const i=new Sge(e,t,r,n,s);return{url:i.toString(),fetchOptions:Object.assign(Object.assign({},Fge(s)),{method:"POST",headers:await Bge(i),body:a})}}async function ew(e,t,r,n,a,s={},i=fetch){const{url:o,fetchOptions:l}=await kge(e,t,r,n,a,s);return Tge(o,l,i)}async function Tge(e,t,r=fetch){let n;try{n=await r(e,t)}catch(a){Ige(a,e)}return n.ok||await jge(n,e),n}function Ige(e,t){let r=e;throw r.name==="AbortError"?(r=new gX(`Request aborted when fetching ${t.toString()}: ${e.message}`),r.stack=e.stack):e instanceof pX||e instanceof A0||(r=new Po(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack),r}async function jge(e,t){let r="",n;try{const a=await e.json();r=a.error.message,a.error.details&&(r+=` ${JSON.stringify(a.error.details)}`,n=a.error.details)}catch{}throw new pX(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}function Fge(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),hC(e.candidates[0]))throw new fg(`${Mh(e)}`,e);return Oge(e)}else if(e.promptFeedback)throw new fg(`Text not available. ${Mh(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),hC(e.candidates[0]))throw new fg(`${Mh(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),FM(e)[0]}else if(e.promptFeedback)throw new fg(`Function call not available. ${Mh(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),hC(e.candidates[0]))throw new fg(`${Mh(e)}`,e);return FM(e)}else if(e.promptFeedback)throw new fg(`Function call not available. ${Mh(e)}`,e)},e}function Oge(e){var t,r,n,a;const s=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const i of(a=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||a===void 0?void 0:a.parts)i.text&&s.push(i.text),i.executableCode&&s.push("\n```"+i.executableCode.language+`
`+i.executableCode.code+"\n```\n"),i.codeExecutionResult&&s.push("\n```\n"+i.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function FM(e){var t,r,n,a;const s=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const i of(a=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||a===void 0?void 0:a.parts)i.functionCall&&s.push(i.functionCall);if(s.length>0)return s}const Dge=[xb.RECITATION,xb.SAFETY,xb.LANGUAGE];function hC(e){return!!e.finishReason&&Dge.includes(e.finishReason)}function Mh(e){var t,r,n;let a="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)a+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(a+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(a+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){const s=e.candidates[0];hC(s)&&(a+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(a+=`: ${s.finishMessage}`))}return a}function Yb(e){return this instanceof Yb?(this.v=e,this):new Yb(e)}function Pge(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a;function i(m){n[m]&&(a[m]=function(p){return new Promise(function(x,g){s.push([m,p,x,g])>1||o(m,p)})})}function o(m,p){try{l(n[m](p))}catch(x){f(s[0][3],x)}}function l(m){m.value instanceof Yb?Promise.resolve(m.value.v).then(u,d):f(s[0][2],m)}function u(m){o("next",m)}function d(m){o("throw",m)}function f(m,p){m(p),s.shift(),s.length&&o(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Rge(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=Mge(t),[n,a]=r.tee();return{stream:Uge(n),response:Lge(a)}}async function Lge(e){const t=[],r=e.getReader();for(;;){const{done:n,value:a}=await r.read();if(n)return R6(Qge(t));t.push(a)}}function Uge(e){return Pge(this,arguments,function*(){const r=e.getReader();for(;;){const{value:n,done:a}=yield Yb(r.read());if(a)break;yield yield Yb(R6(n))}})}function Mge(e){const t=e.getReader();return new ReadableStream({start(n){let a="";return s();function s(){return t.read().then(({value:i,done:o})=>{if(o){if(a.trim()){n.error(new Po("Failed to parse stream"));return}n.close();return}a+=i;let l=a.match(OM),u;for(;l;){try{u=JSON.parse(l[1])}catch{n.error(new Po(`Error parsing JSON response: "${l[1]}"`));return}n.enqueue(u),a=a.substring(l[0].length),l=a.match(OM)}return s()}).catch(i=>{let o=i;throw o.stack=i.stack,o.name==="AbortError"?o=new gX("Request aborted when reading from the stream"):o=new Po("Error reading from the stream"),o})}}})}function Qge(e){const t=e[e.length-1],r={promptFeedback:t==null?void 0:t.promptFeedback};for(const n of e){if(n.candidates){let a=0;for(const s of n.candidates)if(r.candidates||(r.candidates=[]),r.candidates[a]||(r.candidates[a]={index:a}),r.candidates[a].citationMetadata=s.citationMetadata,r.candidates[a].groundingMetadata=s.groundingMetadata,r.candidates[a].finishReason=s.finishReason,r.candidates[a].finishMessage=s.finishMessage,r.candidates[a].safetyRatings=s.safetyRatings,s.content&&s.content.parts){r.candidates[a].content||(r.candidates[a].content={role:s.content.role||"user",parts:[]});const i={};for(const o of s.content.parts)o.text&&(i.text=o.text),o.functionCall&&(i.functionCall=o.functionCall),o.executableCode&&(i.executableCode=o.executableCode),o.codeExecutionResult&&(i.codeExecutionResult=o.codeExecutionResult),Object.keys(i).length===0&&(i.text=""),r.candidates[a].content.parts.push(i)}a++}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vX(e,t,r,n){const a=await ew(t,cp.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n);return Rge(a)}async function xX(e,t,r,n){const s=await(await ew(t,cp.GENERATE_CONTENT,e,!1,JSON.stringify(r),n)).json();return{response:R6(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bX(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Jb(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const r of e)typeof r=="string"?t.push({text:r}):t.push(r);return Hge(t)}function Hge(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,a=!1;for(const s of e)"functionResponse"in s?(r.parts.push(s),a=!0):(t.parts.push(s),n=!0);if(n&&a)throw new Po("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!a)throw new Po("No content is provided for sending chat message.");return n?t:r}function Vge(e,t){var r;let n={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(r=t==null?void 0:t.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const a=e.generateContentRequest!=null;if(e.contents){if(a)throw new A0("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(a)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{const s=Jb(e);n.contents=[s]}return{generateContentRequest:n}}function DM(e){let t;return e.contents?t=e:t={contents:[Jb(e)]},e.systemInstruction&&(t.systemInstruction=bX(e.systemInstruction)),t}function zge(e){return typeof e=="string"||Array.isArray(e)?{content:Jb(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],$ge={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Kge(e){let t=!1;for(const r of e){const{role:n,parts:a}=r;if(!t&&n!=="user")throw new Po(`First content should be with role 'user', got ${n}`);if(!_M.includes(n))throw new Po(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(_M)}`);if(!Array.isArray(a))throw new Po("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new Po("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of a)for(const l of PM)l in o&&(s[l]+=1);const i=$ge[n];for(const o of PM)if(!i.includes(o)&&s[o]>0)throw new Po(`Content with role '${n}' can't contain '${o}' part`);t=!0}}function RM(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const n of r.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM="SILENT_ERROR";class Gge{constructor(t,r,n,a={}){this.model=r,this.params=n,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n!=null&&n.history&&(Kge(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var n,a,s,i,o,l;await this._sendPromise;const u=Jb(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(i=this.params)===null||i===void 0?void 0:i.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),r);let m;return this._sendPromise=this._sendPromise.then(()=>xX(this._apiKey,this.model,d,f)).then(p=>{var x;if(RM(p.response)){this._history.push(u);const g=Object.assign({parts:[],role:"model"},(x=p.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(g)}else{const g=Mh(p.response);g&&console.warn(`sendMessage() was unsuccessful. ${g}. Inspect response object for details.`)}m=p}).catch(p=>{throw this._sendPromise=Promise.resolve(),p}),await this._sendPromise,m}async sendMessageStream(t,r={}){var n,a,s,i,o,l;await this._sendPromise;const u=Jb(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(i=this.params)===null||i===void 0?void 0:i.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),r),m=vX(this._apiKey,this.model,d,f);return this._sendPromise=this._sendPromise.then(()=>m).catch(p=>{throw new Error(LM)}).then(p=>p.response).then(p=>{if(RM(p)){this._history.push(u);const x=Object.assign({},p.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=Mh(p);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(p=>{p.message!==LM&&console.error(p)}),m}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qge(e,t,r,n){return(await ew(t,cp.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wge(e,t,r,n){return(await ew(t,cp.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function Xge(e,t,r,n){const a=r.requests.map(i=>Object.assign(Object.assign({},i),{model:t}));return(await ew(t,cp.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:a}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(t,r,n={}){this.apiKey=t,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=bX(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var n;const a=DM(t),s=Object.assign(Object.assign({},this._requestOptions),r);return xX(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},a),s)}async generateContentStream(t,r={}){var n;const a=DM(t),s=Object.assign(Object.assign({},this._requestOptions),r);return vX(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},a),s)}startChat(t){var r;return new Gge(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){const n=Vge(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),r);return qge(this.apiKey,this.model,n,a)}async embedContent(t,r={}){const n=zge(t),a=Object.assign(Object.assign({},this._requestOptions),r);return Wge(this.apiKey,this.model,n,a)}async batchEmbedContents(t,r={}){const n=Object.assign(Object.assign({},this._requestOptions),r);return Xge(this.apiKey,this.model,t,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new Po("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new UM(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,n){if(!t.name)throw new A0("Cached content must contain a `name` field.");if(!t.model)throw new A0("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const i of a)if(r!=null&&r[i]&&t[i]&&(r==null?void 0:r[i])!==t[i]){if(i==="model"){const o=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(o===l)continue}throw new A0(`Different value for "${i}" specified in modelParams (${r[i]}) and cachedContent (${t[i]})`)}const s=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new UM(this.apiKey,s,n)}}const L6="horario_asignaciones",yX="horarios_generados",Yge="usuarios",wX=e=>{const t=e.data();return{id:e.id,...t}},Jge=e=>{const t=tr(Ft(Bt,L6));return br(t,n=>{const a=n.docs.map(s=>wX(s));e(a)},n=>{console.error("Error al suscribirse a las asignaciones:",n),e([])})},Zge=async e=>{try{return(await xa(Ft(Bt,L6),e)).id}catch(t){throw console.error("Error al agregar asignación:",t),new Error("No se pudo agregar la asignación.")}},eve=async e=>{try{const t=Er(Bt,L6,e);await pi(t)}catch(t){throw console.error("Error al eliminar asignación:",t),new Error("No se pudo eliminar la asignación.")}},MM=async e=>{try{const t=Er(Bt,yX,"global");await io(t,{data:e})}catch(t){throw console.error("Error al guardar los horarios:",t),new Error("No se pudieron guardar los horarios generados.")}},tve=e=>{const t=Er(Bt,yX,"global");return br(t,n=>{n.exists()?e(n.data().data||{}):e({})},n=>{console.error("Error al suscribirse a los horarios:",n),e({})})},rve=e=>{const t=tr(Ft(Bt,Yge),Mn("profile","==",Kt.PROFESORADO));return br(t,n=>{const a=n.docs.map(s=>wX(s));e(a)},n=>{console.error("Error al suscribirse a los profesores:",n),e([])})},nve=({horarios:e})=>Object.keys(e).length===0?c.jsx("div",{className:"text-center py-10 bg-slate-50 dark:bg-slate-800 rounded-lg",children:c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:'Aún no se ha generado ningún horario. Utilice la pestaña de "Configuración" para generar uno.'})}):c.jsx("div",{className:"overflow-x-auto border border-slate-300 dark:border-slate-700 rounded-lg",children:c.jsxs("table",{className:"min-w-full border-collapse",children:[c.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700 sticky top-0 z-10",children:c.jsxs("tr",{children:[c.jsx("th",{className:"border-b border-r border-slate-300 dark:border-slate-600 p-1 font-semibold text-slate-600 dark:text-slate-300 text-xs w-16",children:"BLOQUE"}),c.jsx("th",{className:"border-b border-r border-slate-300 dark:border-slate-600 p-1 font-semibold text-slate-600 dark:text-slate-300 text-xs w-24",children:"HORARIO"}),qa.map(t=>c.jsx("th",{className:"border-b border-r border-slate-300 dark:border-slate-600 p-1 font-semibold text-slate-600 dark:text-slate-300 text-xs whitespace-nowrap min-w-[120px]",children:t},t))]})}),c.jsx("tbody",{children:fC.map(t=>c.jsxs(ft.Fragment,{children:[c.jsx("tr",{className:"bg-slate-200 dark:bg-slate-800",children:c.jsx("th",{colSpan:2+qa.length,className:"text-center font-bold text-slate-700 dark:text-slate-200 p-2 border-b border-slate-300 dark:border-slate-600",children:t.toUpperCase()})}),AI.map(({bloque:r,inicio:n,fin:a})=>c.jsxs("tr",{className:"even:bg-white odd:bg-slate-50 dark:even:bg-slate-800/50 dark:odd:bg-slate-900/50",children:[c.jsx("td",{className:"border-r border-slate-300 dark:border-slate-700 p-1 text-center font-bold text-slate-700 dark:text-slate-300 text-sm",children:r}),c.jsx("td",{className:"border-r border-slate-300 dark:border-slate-700 p-1 text-center text-xs text-slate-500 dark:text-slate-400",children:`${n} - ${a}`}),qa.map(s=>{var o,l;const i=(l=(o=e[s])==null?void 0:o[t])==null?void 0:l[r];return c.jsx("td",{className:"border-r border-slate-300 dark:border-slate-700 p-1 text-center h-16",children:i!=null&&i.asignatura?c.jsxs("div",{className:"flex flex-col justify-center h-full",children:[c.jsx("p",{className:"font-semibold text-[11px] leading-tight text-slate-800 dark:text-slate-200 whitespace-normal",children:i.asignatura}),c.jsxs("p",{className:"text-[10px] leading-tight text-slate-500 dark:text-slate-400 whitespace-normal mt-0.5",children:["(",i.profesor,")"]})]}):c.jsx("span",{className:"text-slate-300 dark:text-slate-600 text-xs",children:"Libre"})},`${s}-${t}-${r}`)})]},`${t}-${r}`))]},t))})]})}),ave=()=>{const[e,t]=k.useState([]),[r,n]=k.useState({curso:"",asignatura:"",profesor:""}),[a,s]=k.useState([]),[i,o]=k.useState({}),[l,u]=k.useState(qa[0]),[d,f]=k.useState(!1),[m,p]=k.useState(!0),[x,g]=k.useState(null),[b,y]=k.useState(null),[_,S]=k.useState(null),[I,T]=k.useState({asignatura:"",profesor:""}),[F,w]=k.useState("edicion"),[C,N]=k.useState("");k.useEffect(()=>{p(!0);const V=Jge(t),q=tve(o),K=rve(J=>{const P=J.map(G=>G.nombreCompleto).sort();s(P),p(!1)});return()=>{V(),q(),K()}},[]);const R=async V=>{if(V.preventDefault(),g(null),!r.curso||!r.asignatura||!r.profesor){g("Todos los campos de la asignación son obligatorios.");return}try{await Zge({curso:r.curso,asignatura:r.asignatura,profesor:r.profesor}),n({curso:"",asignatura:"",profesor:""})}catch(q){g(q instanceof Error?q.message:"Error al guardar la asignación.")}},D=async V=>{try{await eve(V)}catch(q){g(q instanceof Error?q.message:"Error al eliminar la asignación.")}},O=async()=>{if(e.length===0){g("Debe agregar al menos una asignación de profesor antes de generar el horario.");return}f(!0),g(null),y(null);try{const V="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",q=new ti(V),K=`
                Eres un asistente experto en planificación de horarios escolares para un liceo técnico en Chile. 
                Tu tarea es generar un horario semanal completo (Lunes a Viernes) para todos los cursos proporcionados, siguiendo un conjunto estricto de reglas.

                **Contexto:**
                - Días de la semana: ${fC.join(", ")}
                - Bloques horarios por día: 10 bloques con los siguientes horarios: ${JSON.stringify(AI,null,2)}
                - Cursos del liceo: ${qa.join(", ")}

                **Contexto Adicional de Especialidades (3º y 4º Medio):**
                - Los cursos que terminan en 'A' y 'B' pertenecen a la especialidad 'Mecánica Automotriz'.
                - Los cursos que terminan en 'C' y 'D' pertenecen a la especialidad 'Mecánica Industrial'.
                Utiliza este contexto para aplicar las reglas de "3°/4° Medio Automotriz" y "3°/4° Medio Industrial" correctamente.

                **Reglas de Asignación de Bloques por Asignatura:**
                Debes asignar la siguiente cantidad de bloques semanales para cada asignatura según el nivel del curso:
                ${JSON.stringify(rpe,null,2)}
                Notas sobre las reglas:
                - '1º y 2º medio' aplica a cursos que empiezan con '1º' o '2º'.
                - '3º y 4º medio' aplica a cursos que empiezan con '3º' o '4º'.
                - Algunas reglas aplican a cursos específicos (ej. Mecánica).

                **Asignaciones de Profesores (Input):**
                Aquí está la lista de profesores asignados a cada curso y asignatura. Debes usar esta lista para poblar el horario.
                ${JSON.stringify(e,null,2)}

                **REGLA CRÍTICA INVIOLABLE:**
                La restricción más importante que NUNCA debe romperse es que un mismo profesor no puede ser asignado a dos cursos diferentes en el mismo día y mismo bloque horario. Es físicamente imposible para un profesor estar en dos lugares a la vez. Prioriza esta regla sobre todas las demás. No deben existir topes de horario para ningún profesor.

                **Instrucciones Adicionales del Usuario:**
                Considera las siguientes preferencias al organizar el horario: "${C||"No se proporcionaron instrucciones adicionales."}"

                **Objetivo Adicional:**
                Distribuye las asignaturas de la forma más balanceada posible durante la semana para cada curso. Evita agrupar todas las horas de una misma materia en un solo día si es posible, a menos que las instrucciones del usuario indiquen lo contrario.

                **Formato de Salida (Output):**
                Tu respuesta DEBE ser un único objeto JSON válido, sin texto adicional, explicaciones, ni el bloque \`\`\`json. La estructura del JSON debe ser la siguiente:
                {
                  "1ºA": {
                    "Lunes": { "1": { "asignatura": "Matemática", "profesor": "Nombre Profesor" }, "2": { "asignatura": "Matemática", "profesor": "Nombre Profesor" } },
                    "Martes": { ... },
                    ...
                  },
                  "1ºB": { ... }
                }
                Cada clave de primer nivel es un curso. Cada curso tiene claves para cada día de la semana. Cada día tiene claves para cada bloque del 1 al 10. Si un bloque está vacío, usa \`{ "asignatura": null, "profesor": null }\`.
            `,re=(await(await q.getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(K)).response).text().replace(/^```json\s*|```\s*$/g,""),ie=JSON.parse(re);await MM(ie),y("¡Horario generado y guardado con éxito!")}catch(V){console.error("Error al generar horario con IA:",V),g("Ocurrió un error al contactar con la IA o al procesar la respuesta. Revisa la consola para más detalles.")}finally{f(!1)}},M=(V,q,K)=>{S({dia:V,bloque:q}),T({asignatura:(K==null?void 0:K.asignatura)||"",profesor:(K==null?void 0:K.profesor)||""})},Q=async()=>{if(!_)return;const{dia:V,bloque:q}=_,K=JSON.parse(JSON.stringify(i));K[l]||(K[l]={}),K[l][V]||(K[l][V]={}),K[l][V][q]={asignatura:I.asignatura||null,profesor:I.profesor||null};try{await MM(K),S(null)}catch(J){g(J instanceof Error?J.message:"Error al guardar la edición.")}},ee="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",W=()=>{const V=i[l]||{};return c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full border-collapse border border-slate-300 dark:border-slate-700",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-slate-100 dark:bg-slate-700",children:[c.jsx("th",{className:"border border-slate-300 dark:border-slate-600 p-2 font-semibold text-slate-600 dark:text-slate-300",children:"Bloque"}),fC.map(q=>c.jsx("th",{className:"border border-slate-300 dark:border-slate-600 p-2 font-semibold text-slate-600 dark:text-slate-300",children:q},q))]})}),c.jsx("tbody",{children:AI.map(({bloque:q,inicio:K,fin:J})=>c.jsxs("tr",{className:"text-center dark:bg-slate-800",children:[c.jsxs("td",{className:"border border-slate-300 dark:border-slate-700 p-2 bg-slate-50 dark:bg-slate-700/50",children:[c.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-300",children:q}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:`${K} - ${J}`})]}),fC.map(P=>{var re;const G=(_==null?void 0:_.dia)===P&&(_==null?void 0:_.bloque)===q,Y=(re=V[P])==null?void 0:re[q];return c.jsx("td",{className:"border border-slate-300 dark:border-slate-700 p-1 h-24 relative hover:bg-amber-50 dark:hover:bg-slate-700 cursor-pointer",onClick:()=>!G&&M(P,q,Y),children:G?c.jsxs("div",{className:"flex flex-col p-1 bg-white dark:bg-slate-800 h-full justify-center",children:[c.jsx("input",{type:"text",placeholder:"Asignatura",value:I.asignatura,onChange:ie=>T(de=>({...de,asignatura:ie.target.value})),className:ee+" text-xs mb-1"}),c.jsx("input",{type:"text",placeholder:"Profesor",value:I.profesor,onChange:ie=>T(de=>({...de,profesor:ie.target.value})),className:ee+" text-xs"}),c.jsxs("div",{className:"flex justify-end mt-1 space-x-1",children:[c.jsx("button",{onClick:()=>S(null),className:"text-xs bg-slate-200 dark:bg-slate-600 px-1 rounded",children:"Cancelar"}),c.jsx("button",{onClick:Q,className:"text-xs bg-amber-500 text-white px-1 rounded",children:"Guardar"})]})]}):Y!=null&&Y.asignatura?c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-sm text-slate-800 dark:text-slate-200",children:Y.asignatura}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["(",Y.profesor,")"]})]}):c.jsx("span",{className:"text-slate-400 dark:text-slate-500",children:"Libre"})},`${P}-${q}`)})]},q))})]})})},Z=()=>c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Crear Horarios"}),c.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2 mb-4",children:"🔧 1. Configuración de Asignaciones"}),c.jsxs("form",{onSubmit:R,className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),c.jsxs("select",{name:"curso",value:r.curso,onChange:V=>n(q=>({...q,curso:V.target.value})),className:ee,children:[c.jsx("option",{value:"",children:"Seleccione"}),qa.map(V=>c.jsx("option",{value:V,children:V},V))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),c.jsxs("select",{name:"asignatura",value:r.asignatura,onChange:V=>n(q=>({...q,asignatura:V.target.value})),className:ee,children:[c.jsx("option",{value:"",children:"Seleccione"}),Pi.map(V=>c.jsx("option",{value:V,children:V},V))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"profesor",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Profesor"}),c.jsxs("select",{name:"profesor",value:r.profesor,onChange:V=>n(q=>({...q,profesor:V.target.value})),className:ee,children:[c.jsx("option",{value:"",children:"Seleccione"}),a.map(V=>c.jsx("option",{value:V,children:V},V))]})]}),c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600 h-10",children:"Agregar"})]}),c.jsx("div",{className:"max-h-60 overflow-y-auto pr-2",children:c.jsx("ul",{className:"space-y-2",children:e.map(V=>c.jsxs("li",{className:"flex justify-between items-center bg-slate-50 dark:bg-slate-700 p-2 rounded-md",children:[c.jsxs("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:[V.curso," - ",V.asignatura," - ",c.jsx("strong",{children:V.profesor})]}),c.jsx("button",{onClick:()=>D(V.id),className:"text-red-500 hover:text-red-700 font-bold text-xl",children:"×"})]},V.id))})})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2 mb-4",children:"🧠 2. Generación Automática con IA"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"aiInstructions",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Instrucciones para la IA (Opcional)"}),c.jsx("textarea",{id:"aiInstructions",name:"aiInstructions",value:C,onChange:V=>N(V.target.value),rows:3,placeholder:"Ej: Dejar los módulos teóricos en la mañana y los prácticos en la tarde. Evitar poner 2 bloques de matemática seguidos.",className:ee})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{onClick:O,disabled:d,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center",children:[d&&c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d?"Generando...":"Generar Horario Completo"]}),x&&c.jsx("p",{className:"text-red-600",children:x}),b&&c.jsx("p",{className:"text-green-600",children:b})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2 mb-4",children:"📅 3. Visualización y Edición por Curso"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"selectCurso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Seleccione un curso para visualizar y editar:"}),c.jsx("select",{id:"selectCurso",value:l,onChange:V=>u(V.target.value),className:ee+" md:w-1/3",children:qa.map(V=>c.jsx("option",{value:V,children:V},V))})]}),Object.keys(i).length>0?W():c.jsx("div",{className:"text-center py-10 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Aún no se ha generado ningún horario. Utilice el botón de generación con IA."})})]})]});return m?c.jsx("div",{className:"text-center py-10",children:"Cargando datos..."}):c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:c.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[c.jsx("button",{onClick:()=>w("edicion"),className:`${F==="edicion"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Configuración y Edición por Curso"}),c.jsx("button",{onClick:()=>w("global"),className:`${F==="global"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Horario Global"})]})}),F==="edicion"?Z():c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Horario Global de Cursos"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Vista consolidada de todos los horarios generados. La tabla es desplazable horizontalmente."}),c.jsx(nve,{horarios:i})]})]})},v5="acciones",sve=async()=>{try{const e=tr(Ft(Mr,v5),qr("fechaRegistro","desc"));return(await Zs(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error al obtener acciones:",e),new Error("No se pudieron cargar las acciones pedagógicas")}},ive=async e=>{try{return{id:(await xa(Ft(Mr,v5),{...e,fechaRegistro:e.fechaRegistro||new Date().toISOString().split("T")[0],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id,...e}}catch(t){throw console.error("Error al crear acción:",t),new Error("No se pudo crear la acción pedagógica")}},QM=async(e,t)=>{try{const r=Er(Mr,v5,e);await ux(r,{...t,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error al actualizar acción:",r,"ID:",e),new Error("No se pudo actualizar la acción pedagógica")}},ove=async e=>{try{const t=Er(Mr,v5,e);await pi(t)}catch(t){throw console.error("Error al eliminar acción:",t,"ID:",e),new Error("No se pudo eliminar la acción pedagógica")}},HM={fechaRegistro:new Date().toISOString().split("T")[0],responsable:"",area:"",descripcion:"",fechaCumplimiento:"",estado:"Pendiente",enlaceDocumento:""},lve={Pendiente:"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300","En Proceso":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300",Cumplida:"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300"},cve=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!1),[a,s]=k.useState(null),[i,o]=k.useState(HM),[l,u]=k.useState(null),[d,f]=k.useState(""),[m,p]=k.useState(""),[x,g]=k.useState(""),b=k.useCallback(async()=>{n(!0);try{const N=await sve();t(N),s(null)}catch(N){console.error("Error al cargar acciones:",N),s("No se pudieron cargar las acciones pedagógicas.")}finally{n(!1)}},[]);k.useEffect(()=>{b()},[b]);const y=k.useCallback(N=>{const{name:R,value:D}=N.target;o(O=>({...O,[R]:D}))},[]),_=k.useCallback(()=>{o(HM),u(null),s(null)},[]),S=k.useCallback(async N=>{if(N.preventDefault(),!i.responsable||!i.area||!i.descripcion||!i.fechaCumplimiento){s("Los campos responsables, área, descripción y fecha de cumplimiento son obligatorios.");return}try{l?await QM(l,i):await ive(i),await b(),_()}catch(R){console.error("Error al guardar acción:",R),s("Error al guardar la acción.")}},[i,l,b,_]),I=k.useCallback(N=>{window.scrollTo({top:0,behavior:"smooth"}),u(N.id),o({...N,enlaceDocumento:N.enlaceDocumento||""})},[]),T=k.useCallback(async N=>{if(window.confirm("¿Está seguro de que desea eliminar esta acción?"))try{await ove(N),await b()}catch(R){console.error("Error al eliminar acción:",R),s("No se pudo eliminar la acción.")}},[b]),F=k.useCallback(async N=>{try{const R=e.find(D=>D.id===N);if(R){const O=(P2.indexOf(R.estado)+1)%P2.length,M=P2[O];await QM(N,{estado:M}),await b()}}catch(R){console.error("Error al cambiar estado:",R),s("No se pudo cambiar el estado de la acción.")}},[e,b]),w=k.useMemo(()=>e.filter(N=>{const R=d===""||N.responsable.toLowerCase().includes(d.toLowerCase())||N.descripcion.toLowerCase().includes(d.toLowerCase()),D=m===""||N.area===m,O=x===""||N.estado===x;return R&&D&&O}),[e,d,m,x]),C="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seguimiento de Acciones Pedagógicas"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:l?"Editando acción existente.":"Registre una nueva acción de seguimiento."}),a&&c.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:a}),c.jsxs("form",{onSubmit:S,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"fechaRegistro",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Fecha de Registro"}),c.jsx("input",{type:"date",name:"fechaRegistro",value:i.fechaRegistro,onChange:y,className:C})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"responsable",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Responsable"}),c.jsx("input",{type:"text",name:"responsable",value:i.responsable,onChange:y,placeholder:"Nombre del responsable",className:C})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"area",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Área Vinculada"}),c.jsxs("select",{name:"area",value:i.area,onChange:y,className:C,children:[c.jsx("option",{value:"",children:"Seleccione un área"}),fM.map(N=>c.jsx("option",{value:N,children:N},N))]})]}),c.jsxs("div",{className:"lg:col-span-3",children:[c.jsx("label",{htmlFor:"descripcion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Descripción de la Acción"}),c.jsx("textarea",{name:"descripcion",value:i.descripcion,onChange:y,rows:3,placeholder:"Detalle de la acción a realizar...",className:C})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"fechaCumplimiento",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Fecha de Cumplimiento"}),c.jsx("input",{type:"date",name:"fechaCumplimiento",value:i.fechaCumplimiento,onChange:y,className:C})]}),c.jsxs("div",{className:"lg:col-span-2",children:[c.jsx("label",{htmlFor:"enlaceDocumento",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Enlace a Documento (Opcional)"}),c.jsx("input",{type:"url",name:"enlaceDocumento",value:i.enlaceDocumento||"",onChange:y,placeholder:"https://ejemplo.com/documento",className:C})]})]}),c.jsxs("div",{className:"pt-4 flex justify-end items-center gap-4",children:[l&&c.jsx("button",{type:"button",onClick:_,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:l?"Actualizar Acción":"Registrar Acción"})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Tabla de Seguimiento"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[c.jsx("input",{type:"text",placeholder:"Buscar por responsable o palabra clave...",value:d,onChange:N=>f(N.target.value),className:C+" md:col-span-1"}),c.jsxs("select",{value:m,onChange:N=>p(N.target.value),className:C,children:[c.jsx("option",{value:"",children:"Filtrar por Área"}),fM.map(N=>c.jsx("option",{value:N,children:N},N))]}),c.jsxs("select",{value:x,onChange:N=>g(N.target.value),className:C,children:[c.jsx("option",{value:"",children:"Filtrar por Estado"}),P2.map(N=>c.jsx("option",{value:N,children:N},N))]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Responsable"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Descripción"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Fechas"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Estado"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:r?c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"text-center py-10",children:"Cargando..."})}):w.length>0?w.map(N=>c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[c.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[c.jsx("div",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:N.responsable}),c.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:N.area})]}),c.jsx("td",{className:"px-4 py-4 text-sm text-slate-600 dark:text-slate-300 max-w-sm whitespace-normal",children:N.descripcion}),c.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:[c.jsxs("div",{children:["Reg: ",N.fechaRegistro]}),c.jsxs("div",{className:"font-semibold",children:["Comp: ",N.fechaCumplimiento]})]}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm",children:c.jsx("button",{onClick:()=>F(N.id),className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${lve[N.estado]}`,children:N.estado})}),c.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-center space-x-2",children:[N.enlaceDocumento&&c.jsx("a",{href:N.enlaceDocumento,target:"_blank",rel:"noopener noreferrer",title:"Ver Documento",className:"text-indigo-600 hover:text-indigo-800 p-1 rounded-full hover:bg-indigo-100 dark:hover:bg-indigo-900/40 inline-block align-middle",children:"🔗"}),c.jsx("button",{onClick:()=>I(N),title:"Editar",className:"text-yellow-600 hover:text-yellow-800 p-1 rounded-full hover:bg-yellow-100 dark:hover:bg-yellow-900/40",children:"✏️"}),c.jsx("button",{onClick:()=>T(N.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:"🗑️"})]})]},N.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"text-center py-10 text-slate-500",children:"No se encontraron acciones."})})})]})})]})]})},x5="planificaciones",EX="actividades_calendario",CX=e=>{var r,n,a;const t=e.data();return{id:e.id,...t,fechaCreacion:((a=(n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r))==null?void 0:a.toISOString())||t.fechaCreacion}},uve=async(e,t)=>{try{const r={...e,userId:t,fechaCreacion:fr.fromDate(new Date),fechaActualizacion:fr.fromDate(new Date)};return(await xa(Ft(Bt,x5),r)).id}catch(r){throw console.error("Error al guardar planificación:",r),new Error("No se pudo guardar la planificación")}},dve=async(e,t,r)=>{try{const n=Er(Bt,x5,e),a=await Xy(n);if(!a.exists()||a.data().userId!==r)throw new Error("No tienes permisos para actualizar esta planificación");await ux(n,{...t,fechaActualizacion:fr.fromDate(new Date)})}catch(n){throw console.error("Error al actualizar planificación:",n),new Error("No se pudo actualizar la planificación")}},Ave=async(e,t)=>{try{const r=Er(Bt,x5,e),n=await Xy(r);if(!n.exists()||n.data().userId!==t)throw new Error("No tienes permisos para eliminar esta planificación");await pi(r)}catch(r){throw console.error("Error al eliminar planificación:",r),new Error("No se pudo eliminar la planificación")}},fve=(e,t)=>{const r=tr(Ft(Bt,x5),Mn("userId","==",e),qr("fechaCreacion","desc"));return br(r,n=>{const a=n.docs.map(CX);t(a)},n=>{console.error("Error en suscripción a planificaciones:",n)})},hve=async(e,t)=>{try{const r={...e,userId:t,fechaCreacion:fr.fromDate(new Date),fechaActualizacion:fr.fromDate(new Date)};return(await xa(Ft(Bt,EX),r)).id}catch(r){throw console.error("Error al guardar actividad:",r),new Error("No se pudo guardar la actividad")}},mve=(e,t)=>{const r=tr(Ft(Bt,EX),Mn("userId","==",e),qr("fecha","desc"));return br(r,n=>{const a=n.docs.map(CX);t(a)},n=>{console.error("Error en suscripción a actividades:",n)})},pve=e=>{const[t,r]=k.useState([]),[n,a]=k.useState(!0),[s,i]=k.useState(null);return k.useEffect(()=>e?(a(!0),fve(e,f=>{r(f),a(!1)})):void 0,[e]),{planificaciones:t,loading:n,error:s,save:async d=>{try{return i(null),await uve(d,e)}catch(f){throw i(f.message||"Error al guardar planificación"),f}},update:async(d,f)=>{try{i(null),await dve(d,f,e)}catch(m){throw i(m.message||"Error al actualizar planificación"),m}},remove:async d=>{try{i(null),await Ave(d,e)}catch(f){throw i(f.message||"Error al eliminar planificación"),f}}}},hI=e=>{const t=new Date().toISOString();console.log(`[${t}] API Call: ${e}`)},gve=e=>{const[t,r]=k.useState([]),[n,a]=k.useState(!0),[s,i]=k.useState(null);k.useEffect(()=>e?mve(e,u=>{r(u),a(!1)}):void 0,[e]);const o=k.useCallback(async l=>{try{return i(null),await hve(l,e)}catch(u){throw i(u instanceof Error?u.message:"Error al guardar actividad"),u}},[e]);return{actividades:t,loading:n,error:s,save:o}},vve=({lesson:e,onClose:t,onSave:r,isLoading:n=!1})=>{const[a,s]=k.useState(e),i=l=>{s({...a,[l.target.name]:l.target.value})},o=async()=>{try{await r(a),t()}catch(l){console.error("Error al guardar lección:",l)}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col animate-fade-in-up",onClick:l=>l.stopPropagation(),children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 p-6 border-b dark:border-slate-700",children:"Editar Detalle de Lección"}),c.jsx("div",{className:"p-6 space-y-4 overflow-y-auto",children:Object.entries(a).map(([l,u])=>c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 capitalize mb-1",children:l.replace(/([A-Z])/g," $1")}),c.jsx("textarea",{name:l,value:u,onChange:i,rows:3,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",disabled:n})]},l))}),c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end gap-3 mt-auto",children:[c.jsx("button",{onClick:t,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 disabled:opacity-50",disabled:n,children:"Cancelar"}),c.jsxs("button",{onClick:o,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 disabled:opacity-50 flex items-center gap-2",disabled:n,children:[n&&c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardar Cambios"]})]})]})})},xve=({plan:e,onEditLesson:t,onUseLesson:r,isLoading:n=!1,onUpdatePlan:a})=>{const[s,i]=k.useState(e.progreso??0),[o,l]=k.useState(!1),u=async d=>{const f=parseInt(d.target.value,10);i(f),l(!0);try{e.id&&a&&(await a(e.id,{progreso:f}),console.log("✅ Progreso actualizado exitosamente"))}catch(m){console.error("❌ Error completo:",m),alert(`Error al guardar el avance: ${m.message}`),i(e.progreso??0)}finally{l(!1)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Objetivo de Aprendizaje:"})," ",e.objetivosAprendizaje]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Indicadores de Evaluación:"})," ",e.indicadoresEvaluacion]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Avance de la Unidad"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"range",min:0,max:100,value:s,onChange:u,disabled:o||n}),c.jsxs("span",{className:"font-bold w-12",children:[s,"%"]}),o&&c.jsx("span",{className:"text-xs text-slate-400",children:"Guardando..."})]})]})]}),c.jsx("div",{className:"space-y-4",children:e.detallesLeccion.map((d,f)=>c.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[c.jsxs("h4",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:["Clase ",f+1,": ",d.actividades]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2 mt-2 text-sm",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Objetivo:"})," ",d.objetivosAprendizaje]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Contenidos:"})," ",d.contenidosConceptuales]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Habilidad (Bloom):"})," ",d.habilidadesBloom]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Perfil de Egreso:"})," ",d.perfilEgreso]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Interdisciplinariedad:"})," ",d.asignaturasInterdisciplinariedad]})]}),c.jsxs("div",{className:"flex gap-2 mt-4",children:[c.jsx("button",{onClick:()=>t(f,d),className:"text-sm font-semibold bg-slate-200 dark:bg-slate-600 py-1 px-3 rounded-md hover:bg-slate-300 disabled:opacity-50",disabled:n,children:"Editar"}),c.jsx("button",{onClick:()=>r(d,e),className:"text-sm font-semibold bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 py-1 px-3 rounded-md hover:bg-blue-200 disabled:opacity-50",disabled:n,children:"Usar para Plan de Clase"})]})]},f))})]})},bve=({plan:e,onBack:t,onSave:r,onDelete:n,isLoading:a=!1})=>{const[s,i]=k.useState(e),[o,l]=k.useState(!1),u=f=>{const{name:m,value:p}=f.target,[x,g]=m.split(".");i(x==="momentosClase"?b=>({...b,momentosClase:{...b.momentosClase,[g]:p}}):b=>({...b,[m]:p}))},d=async()=>{l(!0);try{await r(s)}catch(f){console.error("Error al guardar plan de clase:",f)}finally{l(!1)}};return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:e.nombreClase}),c.jsx("button",{onClick:t,className:"text-slate-600 hover:text-slate-900 font-semibold disabled:opacity-50",disabled:a||o,children:"← Volver"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"font-bold text-lg text-slate-700 dark:text-slate-300",children:"Inicio"}),c.jsx("textarea",{name:"momentosClase.inicio",value:s.momentosClase.inicio,onChange:u,rows:4,className:"w-full mt-2 p-2 border rounded-md bg-slate-50 dark:bg-slate-700",disabled:a||o})]}),c.jsxs("div",{children:[c.jsx("label",{className:"font-bold text-lg text-slate-700 dark:text-slate-300",children:"Desarrollo"}),c.jsx("textarea",{name:"momentosClase.desarrollo",value:s.momentosClase.desarrollo,onChange:u,rows:8,className:"w-full mt-2 p-2 border rounded-md bg-slate-50 dark:bg-slate-700",disabled:a||o})]}),c.jsxs("div",{children:[c.jsx("label",{className:"font-bold text-lg text-slate-700 dark:text-slate-300",children:"Cierre"}),c.jsx("textarea",{name:"momentosClase.cierre",value:s.momentosClase.cierre,onChange:u,rows:4,className:"w-full mt-2 p-2 border rounded-md bg-slate-50 dark:bg-slate-700",disabled:a||o})]})]}),c.jsx("div",{className:"text-right mt-6",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{onClick:()=>n(e.id),className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 disabled:opacity-50 flex items-center gap-2",disabled:a||o,children:"🗑️ Eliminar Plan"}),c.jsxs("button",{onClick:d,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:opacity-50 flex items-center gap-2",disabled:a||o,children:[o&&c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardar Cambios"]})]})})]})},yve=({userId:e})=>{const{actividades:t,save:r}=gve(e),[n,a]=k.useState("list"),[s,i]=k.useState(null),[o,l]=k.useState(!1),[u,d]=k.useState(!1),f={nombre:"",fecha:"",hora:"",descripcion:"",ubicacion:"",participantes:"",recursosGenerales:"",tareas:[{id:crypto.randomUUID(),descripcion:"",responsable:"",recursos:""}]},[m,p]=k.useState(f);k.useEffect(()=>{n==="summary"&&s&&x()},[n,s,e]);const x=async()=>{if(s)try{d(!1)}catch(F){console.error("Error al verificar evento en calendario:",F)}},g=F=>{const{name:w,value:C}=F.target;p(N=>({...N,[w]:C}))},b=(F,w,C)=>{p(N=>({...N,tareas:N.tareas.map(R=>R.id===F?{...R,[w]:C}:R)}))},y=()=>{p(F=>({...F,tareas:[...F.tareas,{id:crypto.randomUUID(),descripcion:"",responsable:"",recursos:""}]}))},_=F=>{p(w=>({...w,tareas:w.tareas.filter(C=>C.id!==F)}))},S=async F=>{F.preventDefault(),l(!0);const w=`Basado en la siguiente información de una actividad, genera un objetivo claro y conciso para esta.
    - Nombre: ${m.nombre}
    - Descripción: ${m.descripcion}
    - Tareas: ${m.tareas.map(C=>C.descripcion).join(", ")}
    El objetivo debe ser breve, empezar con un verbo en infinitivo y enfocarse en el propósito principal de la actividad.`;try{hI("Planificación - Actividad Calendario");const C="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",M=(await(await new ti(C).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(w)).response).text(),Q={...m,objetivo:M.replace(/(\*\*|\*)/g,"")},ee=await r(Q),W={...Q,id:ee};i(W),a("summary")}catch(C){console.error("Error al generar objetivo con IA:",C),alert("Hubo un error al generar el objetivo. La actividad se guardará sin él.");try{const N={...m,objetivo:"No generado"},R=await r(N),D={...N,id:R};i(D),a("summary")}catch(N){console.error("Error al guardar actividad:",N),alert("Error al guardar la actividad. Por favor, intente nuevamente.")}}finally{l(!1)}},I=async F=>{if(F)try{d(!0),alert("Actividad marcada como añadida al calendario (funcionalidad en desarrollo).")}catch(w){console.error("Error adding to calendar:",w),alert("Hubo un error al agregar la actividad al calendario.")}},T="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white";return n==="form"?c.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:c.jsxs("form",{onSubmit:S,className:"space-y-8",children:[c.jsxs("div",{className:"p-4 border rounded-lg dark:border-slate-700",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Información General"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("input",{name:"nombre",value:m.nombre,onChange:g,placeholder:"Nombre de la Actividad",className:T,required:!0,disabled:o}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx("input",{name:"fecha",type:"date",value:m.fecha,onChange:g,className:T,required:!0,disabled:o}),c.jsx("input",{name:"hora",type:"time",value:m.hora,onChange:g,className:T,required:!0,disabled:o})]}),c.jsx("textarea",{name:"descripcion",value:m.descripcion,onChange:g,placeholder:"Descripción (objetivos, contenidos, metodología)",rows:4,className:T,required:!0,disabled:o}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx("input",{name:"ubicacion",value:m.ubicacion,onChange:g,placeholder:"Ubicación",className:T,required:!0,disabled:o}),c.jsx("input",{name:"participantes",value:m.participantes,onChange:g,placeholder:"Participantes",className:T,required:!0,disabled:o})]}),c.jsx("textarea",{name:"recursosGenerales",value:m.recursosGenerales,onChange:g,placeholder:"Recursos Generales Necesarios",rows:2,className:T,disabled:o})]})]}),c.jsxs("div",{className:"p-4 border rounded-lg dark:border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-bold",children:"Tareas Asociadas"}),c.jsx("button",{type:"button",onClick:y,className:"bg-slate-200 dark:bg-slate-600 text-sm font-semibold px-3 py-1 rounded-md disabled:opacity-50",disabled:o,children:"+ Agregar Tarea"})]}),c.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto",children:m.tareas.map((F,w)=>c.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md relative",children:[c.jsx("button",{type:"button",onClick:()=>_(F.id),className:"absolute top-1 right-1 text-red-500 text-lg disabled:opacity-50",disabled:o,children:"×"}),c.jsx("textarea",{value:F.descripcion,onChange:C=>b(F.id,"descripcion",C.target.value),placeholder:`Descripción de la Tarea ${w+1}`,rows:2,className:T,required:!0,disabled:o}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[c.jsx("input",{value:F.responsable,onChange:C=>b(F.id,"responsable",C.target.value),placeholder:"Responsable",className:T,required:!0,disabled:o}),c.jsx("input",{value:F.recursos,onChange:C=>b(F.id,"recursos",C.target.value),placeholder:"Recursos Necesarios",className:T,disabled:o})]})]},F.id))})]}),c.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-lg text-center",children:[c.jsx("h3",{className:"font-bold",children:"Objetivo de la Actividad"}),c.jsx("p",{className:"text-sm",children:"Este objetivo se generará automáticamente a partir de la descripción y las tareas ingresadas. Una vez guardada la actividad, podrá revisar y ajustar el objetivo propuesto por el sistema."})]}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx("button",{type:"button",onClick:()=>a("list"),className:"bg-slate-200 dark:bg-slate-600 font-semibold px-6 py-2 rounded-lg disabled:opacity-50",disabled:o,children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:o,className:"bg-blue-600 text-white font-bold px-6 py-2 rounded-lg flex items-center min-w-[150px] justify-center disabled:opacity-50",children:o?c.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Guardar Actividad"})]})]})}):n==="summary"&&s?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[c.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200 rounded-lg flex items-center gap-4",children:[c.jsx("span",{className:"text-2xl",children:"✓"}),c.jsxs("div",{children:[c.jsx("h2",{className:"font-bold text-lg",children:"¡Actividad Planificada con Éxito!"}),c.jsx("p",{className:"text-sm",children:"La actividad ha sido creada. Revisa los detalles a continuación."})]})]}),c.jsxs("div",{className:"border rounded-lg p-6 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:"Resumen de la Actividad"}),c.jsxs("div",{className:"space-y-4 text-sm",children:[c.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[c.jsx("strong",{className:"text-slate-500",children:"Nombre:"}),c.jsx("span",{children:s.nombre})]}),c.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[c.jsx("strong",{className:"text-slate-500",children:"Fecha y Hora:"}),c.jsx("span",{children:new Date(`${s.fecha}T${s.hora}`).toLocaleString("es-CL")})]}),c.jsxs("div",{className:"border-b pb-2 dark:border-slate-600",children:[c.jsx("p",{className:"font-bold text-slate-500",children:"Descripción:"}),c.jsx("p",{children:s.descripcion})]}),c.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[c.jsx("strong",{className:"text-slate-500",children:"Ubicación:"}),c.jsx("span",{children:s.ubicacion})]}),c.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[c.jsx("strong",{className:"text-slate-500",children:"Participantes:"}),c.jsx("span",{children:s.participantes})]}),c.jsxs("div",{className:"border-b pb-2 dark:border-slate-600",children:[c.jsx("p",{className:"font-bold text-slate-500",children:"Recursos Necesarios:"}),c.jsx("p",{children:s.recursosGenerales})]}),c.jsxs("div",{className:"border-b pb-2 dark:border-slate-600",children:[c.jsx("p",{className:"font-bold text-slate-500",children:"Objetivo (Generado por IA):"}),c.jsx("p",{children:s.objetivo})]})]}),c.jsxs("div",{className:"mt-6 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg flex justify-between items-center",children:[c.jsx("p",{className:"text-sm",children:"¿Quieres agregar esta actividad a tu calendario para recibir recordatorios?"}),c.jsx("button",{onClick:()=>I(s),disabled:u,className:`font-bold px-4 py-2 rounded-lg transition-colors ${u?"bg-green-600 text-white cursor-default":"bg-blue-600 text-white hover:bg-blue-700"}`,children:u?"✓ Añadido al Calendario":"Añadir al Calendario"})]})]}),c.jsx("button",{onClick:()=>{a("list"),i(null)},className:"w-full text-center font-semibold text-blue-600 hover:underline",children:"Volver al panel de actividades"})]}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Actividades del Calendario"}),c.jsx("button",{onClick:()=>{a("form"),p(f)},className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Planificar Actividad"})]}),c.jsx("div",{className:"space-y-3",children:t.length>0?t.map(F=>c.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md border dark:border-slate-700",children:[c.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:F.nombre}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[new Date(F.fecha+"T12:00:00").toLocaleDateString("es-CL")," - ",F.ubicacion]})]},F.id)):c.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:"No hay actividades planificadas."})})]})},wve=({currentUser:e})=>{const t=e.uid||e.email||e.id||"",{planificaciones:r,save:n,update:a,remove:s,loading:i}=pve(t),o={asignatura:"",nivel:"",nombreUnidad:"",contenidos:"",cantidadClases:8,observaciones:"",ideasParaUnidad:""},[l,u]=k.useState(o),[d,f]=k.useState(null),[m,p]=k.useState(!1),[x,g]=k.useState(null),[b,y]=k.useState("unidad"),[_,S]=k.useState(null),[I,T]=k.useState(null),F=k.useMemo(()=>e.asignaturas||[],[e.asignaturas]),w=k.useMemo(()=>{const K=e.cursos||[],J=new Set;return K.forEach(P=>{P.startsWith("1º")?J.add("1º Medio"):P.startsWith("2º")?J.add("2º Medio"):P.startsWith("3º")?J.add("3º Medio"):P.startsWith("4º")&&J.add("4º Medio")}),Array.from(J)},[e.cursos]);k.useEffect(()=>{u(K=>({...K,asignatura:F[0]||"",nivel:w[0]||""})),console.log("🔍 Debug datos usuario y planificaciones:",{currentUser:{uid:e.uid,email:e.email,id:e.id,nombreCompleto:e.nombreCompleto},userId:t,planificacionesCount:r.length,planificacionesAutores:r.map(K=>({id:K.id,autor:K.autor,tipo:K.tipo,coincideConUserId:K.autor===t}))})},[F,w,e,t,r]);const C=K=>{const{name:J,value:P}=K.target;u(G=>({...G,[J]:J==="cantidadClases"?parseInt(P,10):P}))},N=()=>{const{asignatura:K,nivel:J,nombreUnidad:P,contenidos:G,cantidadClases:Y,observaciones:re,ideasParaUnidad:ie}=l;return`Eres un experto diseñador curricular para la educación media técnico profesional en Chile. Tu tarea es generar una planificación de unidad didáctica completa en formato JSON estructurado, basándote en la información proporcionada.

    **Información Base:**
    - Asignatura: ${K}
    - Nivel: ${J}
    - Nombre de la Unidad: "${P}"
    - Contenidos clave a trabajar (insumo principal): "${G}"
    - Cantidad de clases para la unidad: ${Y}
    - Ideas y perspectiva del docente para la unidad: "${ie||"Ninguna. Sé creativo."}"
    - Observaciones y énfasis del docente: "${re||"Ninguna"}"

    Debes generar un objeto JSON que se ajuste al esquema proporcionado. El JSON debe contener:
    1.  **objetivosAprendizaje**: Un objetivo de aprendizaje general y conciso para la unidad.
    2.  **indicadoresEvaluacion**: Un indicador de evaluación general y observable para la unidad.
    3.  **detallesLeccion**: Un array con EXACTAMENTE ${Y} objetos, donde cada objeto representa una clase o sub-tema de la unidad. Cada objeto en el array debe tener:
        - **objetivosAprendizaje**: Un objetivo de aprendizaje específico para la lección, redactado en infinitivo.
        - **contenidosConceptuales**: Los conceptos clave que se abordarán en la lección.
        - **habilidadesBloom**: La habilidad principal de la Taxonomía de Bloom que se trabajará (ej: Analizar, Crear, Evaluar).
        - **perfilEgreso**: Conecta la lección con una habilidad del perfil de egreso (ej: "Pensamiento crítico", "Colaboración").
        - **actividades**: Sugiere 1 o 2 actividades concretas, indicando el número de clase entre paréntesis (ej: "Debate grupal (Clase 1)").
        - **asignaturasInterdisciplinariedad**: Sugiere una asignatura con la que se podría realizar un trabajo interdisciplinario.

    Asegúrate de que el contenido generado sea coherente, pedagógicamente sólido y esté directamente relacionado con los contenidos clave proporcionados por el docente. El nombre de la unidad debe ser exactamente el proporcionado.`},R=async K=>{if(K.preventDefault(),p(!0),g(null),!l.contenidos||!l.nombreUnidad){g("Los campos 'Nombre de Unidad' y 'Contenidos Clave' son obligatorios."),p(!1);return}try{hI("Planificación - Unidad");const J="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",G=new ti(J).getGenerativeModel({model:"gemini-1.5-flash-latest"}),Y=N(),re={type:"object",properties:{objetivosAprendizaje:{type:"string"},indicadoresEvaluacion:{type:"string"},detallesLeccion:{type:"array",items:{type:"object",properties:{objetivosAprendizaje:{type:"string"},contenidosConceptuales:{type:"string"},habilidadesBloom:{type:"string"},perfilEgreso:{type:"string"},actividades:{type:"string"},asignaturasInterdisciplinariedad:{type:"string"}},required:["objetivosAprendizaje","contenidosConceptuales","habilidadesBloom","perfilEgreso","actividades","asignaturasInterdisciplinariedad"]}}},required:["objetivosAprendizaje","indicadoresEvaluacion","detallesLeccion"]},me=(await(await G.generateContent({contents:[{parts:[{text:Y}]}],generationConfig:{responseMimeType:"application/json",responseSchema:re}})).response).text(),ue=JSON.parse(me),ye={fechaCreacion:new Date().toISOString(),autor:e.nombreCompleto,tipo:"Unidad",asignatura:l.asignatura,nivel:l.nivel,nombreUnidad:l.nombreUnidad,contenidos:l.contenidos,cantidadClases:l.cantidadClases,observaciones:l.observaciones,ideasParaUnidad:l.ideasParaUnidad,objetivosAprendizaje:ue.objetivosAprendizaje,indicadoresEvaluacion:ue.indicadoresEvaluacion,detallesLeccion:ue.detallesLeccion};if(d)await a(d.id,ye),f({...ye,id:d.id});else{const Ie=await n(ye);f({...ye,id:Ie})}}catch(J){console.error("Error al generar planificación con IA",J),g("Ocurrió un error al contactar con la IA. Verifique la configuración y reintente.")}finally{p(!1)}},D=async(K,J)=>{p(!0),g(null);const P=`A partir de la siguiente información de una clase dentro de una unidad, genera un plan de clase detallado con momentos de inicio, desarrollo y cierre. La clase debe durar 80 minutos.
    
    - Asignatura: ${J.asignatura}
    - Nivel: ${J.nivel}
    - Objetivo de la clase: ${K.objetivosAprendizaje}
    - Contenidos: ${K.contenidosConceptuales}
    - Actividades sugeridas: ${K.actividades}
    
    Responde SÓLO con un objeto JSON que contenga las claves "inicio", "desarrollo" y "cierre", con las actividades detalladas para cada momento.`;try{hI("Planificación - Utilizar Clase");const G="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",re=new ti(G).getGenerativeModel({model:"gemini-1.5-flash-latest"}),ie={type:"object",properties:{inicio:{type:"string"},desarrollo:{type:"string"},cierre:{type:"string"}},required:["inicio","desarrollo","cierre"]},ue=(await(await re.generateContent({contents:[{parts:[{text:P}]}],generationConfig:{responseMimeType:"application/json",responseSchema:ie}})).response).text(),ye=JSON.parse(ue),Ie={fechaCreacion:new Date().toISOString(),autor:e.nombreCompleto,tipo:"Clase",asignatura:J.asignatura,nivel:J.nivel,contenidos:K.contenidosConceptuales,observaciones:"",nombreClase:K.actividades,duracionClase:80,momentosClase:ye,detalleLeccionOrigen:K};await n(Ie),alert('¡Plan de clase generado y guardado en la pestaña "Clase"!'),y("clase")}catch(G){console.error("Error al generar plan de clase con IA",G),g("No se pudo generar el plan de clase. Inténtelo de nuevo.")}finally{p(!1)}},O=K=>{K.tipo==="Unidad"&&(u({asignatura:K.asignatura,nivel:K.nivel,nombreUnidad:K.nombreUnidad,contenidos:K.contenidos,cantidadClases:K.cantidadClases,observaciones:K.observaciones,ideasParaUnidad:K.ideasParaUnidad||""}),f(K),window.scrollTo({top:0,behavior:"smooth"}))},M=async K=>{if(window.confirm("¿Está seguro de que desea eliminar esta planificación?"))try{await s(K),(d==null?void 0:d.id)===K&&(f(null),u(o))}catch(J){console.error("Error al eliminar planificación:",J),alert("Error al eliminar la planificación. Por favor, intente nuevamente.")}},Q=async K=>{if(window.confirm("¿Está seguro de que desea eliminar este plan de clase?"))try{await s(K),(_==null?void 0:_.id)===K&&S(null),console.log("✅ Plan de clase eliminado exitosamente")}catch(J){console.error("Error al eliminar plan de clase:",J),alert("Error al eliminar el plan de clase. Por favor, intente nuevamente.")}},ee=(K,J)=>{d&&T({planId:d.id,lessonIndex:K,lessonData:J})},W=async K=>{if(I)try{const{planId:J,lessonIndex:P}=I,G=r.find(ie=>ie.id===J&&ie.tipo==="Unidad");if(!G)return;const Y=[...G.detallesLeccion];Y[P]=K;const re={...G,detallesLeccion:Y};await a(J,re),f(re),T(null)}catch(J){console.error("Error al actualizar lección:",J),alert("Error al actualizar la lección. Por favor, intente nuevamente.")}},Z="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",V=()=>c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Generador de Planificaciones de Unidad"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Complete los campos y use la IA para crear una planificación de unidad estructurada."}),i?c.jsx("div",{className:"flex justify-center items-center py-8",children:c.jsx("div",{className:"w-8 h-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})}):c.jsxs("form",{onSubmit:R,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),c.jsx("select",{name:"asignatura",value:l.asignatura,onChange:C,className:Z,disabled:m,children:F.length>0?F.map(K=>c.jsx("option",{value:K,children:K},K)):c.jsx("option",{disabled:!0,children:"No tiene asignaturas asignadas"})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"nivel",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nivel"}),c.jsx("select",{name:"nivel",value:l.nivel,onChange:C,className:Z,disabled:m,children:w.length>0?w.map(K=>c.jsx("option",{value:K,children:K},K)):c.jsx("option",{disabled:!0,children:"No tiene cursos/niveles asignados"})})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"nombreUnidad",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:["Nombre de Unidad ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"nombreUnidad",value:l.nombreUnidad,onChange:C,className:Z,placeholder:"Ej: La Célula y sus procesos",disabled:m})]}),c.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[c.jsxs("label",{htmlFor:"contenidos",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:["Contenidos Clave ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{name:"contenidos",value:l.contenidos,onChange:C,rows:3,placeholder:"Ingrese los temas, conceptos clave o unidades que la planificación debe abordar.",className:Z,disabled:m})]}),c.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[c.jsx("label",{htmlFor:"ideasParaUnidad",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Ideas para la unidad"}),c.jsx("textarea",{name:"ideasParaUnidad",value:l.ideasParaUnidad,onChange:C,rows:3,placeholder:"Plantea tus ideas y perspectiva para que la IA construya una mejor planificación (ej: enfocar en trabajo colaborativo, usar casos prácticos, conectar con la actualidad).",className:Z,disabled:m})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"cantidadClases",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cantidad de Clases"}),c.jsx("input",{type:"number",name:"cantidadClases",value:l.cantidadClases,onChange:C,className:Z,min:"1",max:"20",disabled:m})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Observaciones (Énfasis)"}),c.jsx("textarea",{name:"observaciones",value:l.observaciones,onChange:C,rows:1,placeholder:"Ej: clase práctica, modelo ABP, juego, reforzamiento...",className:Z,disabled:m})]})]}),c.jsx("div",{className:"pt-4 text-right",children:c.jsx("button",{type:"submit",disabled:m||i,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center min-w-[150px] dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:m?c.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):d?"Regenerar":"Generar Plan"})}),x&&c.jsx("p",{className:"text-red-600 bg-red-100 dark:bg-red-900/40 dark:text-red-300 p-3 rounded-md mt-4",children:x})]})]}),d&&c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Revisión y Edición"}),c.jsx(xve,{plan:d,onEditLesson:ee,onUseLesson:D,onUpdatePlan:a,isLoading:m})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Planificaciones de Unidad"}),i?c.jsx("div",{className:"flex justify-center items-center py-8",children:c.jsx("div",{className:"w-8 h-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})}):c.jsx("div",{className:"space-y-4",children:r.filter(K=>K.tipo==="Unidad").length>0?r.filter(K=>K.tipo==="Unidad").map(K=>c.jsx("div",{className:`p-4 border rounded-lg ${(d==null?void 0:d.id)===K.id?"bg-amber-50 border-amber-300 dark:bg-amber-900/20 dark:border-amber-500/50":"bg-slate-50 dark:bg-slate-700/50 dark:border-slate-700"}`,children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:K.nombreUnidad}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creado: ",new Date(K.fechaCreacion).toLocaleString("es-CL")]}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate max-w-md",children:["Contenidos: ",K.contenidos]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>O(K),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm disabled:opacity-50",disabled:m,children:"Ver y Editar"}),c.jsx("button",{onClick:()=>M(K.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40 disabled:opacity-50",disabled:m,children:"🗑️"})]})]})},K.id)):c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No hay planificaciones de unidad guardadas."})})]})]}),q=()=>{const K=r.filter(J=>J.tipo==="Clase").sort((J,P)=>new Date(P.fechaCreacion).getTime()-new Date(J.fechaCreacion).getTime());return _?c.jsx(bve,{plan:_,onBack:()=>S(null),onDelete:Q,onSave:async J=>{try{await a(J.id,J),S(J)}catch(P){console.error("Error al actualizar plan de clase:",P),alert("Error al actualizar el plan de clase. Por favor, intente nuevamente.")}},isLoading:m}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Planes de Clase Guardados"}),i?c.jsx("div",{className:"flex justify-center items-center py-8",children:c.jsx("div",{className:"w-8 h-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})}):c.jsx("div",{className:"space-y-4",children:K.length>0?K.map(J=>c.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:J.nombreClase}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creado: ",new Date(J.fechaCreacion).toLocaleString("es-CL")]}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate max-w-md",children:["Contenidos: ",J.contenidos]})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("button",{onClick:()=>S(J),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm",children:"Ver Plan de Clase"})})]},J.id)):c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-6",children:"No hay planes de clase guardados. Puede generarlos desde una unidad en la pestaña 'Unidad'."})})]})};return!e||!e.email&&!e.id?c.jsx("div",{className:"flex justify-center items-center py-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-2",children:"Error: Usuario no autenticado"}),c.jsxs("p",{className:"text-sm text-slate-400",children:["Datos recibidos: ",JSON.stringify(e)]})]})}):c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Planificación"}),c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:c.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[c.jsx("button",{onClick:()=>y("unidad"),className:`${b==="unidad"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Unidad"}),c.jsx("button",{onClick:()=>y("clase"),className:`${b==="clase"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Clase"}),c.jsx("button",{onClick:()=>y("calendario"),className:`${b==="calendario"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Actividades Calendario"})]})}),b==="unidad"&&V(),b==="clase"&&q(),b==="calendario"&&c.jsx(yve,{userId:t}),I&&c.jsx(vve,{lesson:I.lessonData,onClose:()=>T(null),onSave:W,isLoading:m})]})},b5="events",Eve=async()=>{try{const e=tr(Ft(Mr,b5),qr("date","asc"));return(await Zs(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error al obtener eventos:",e),new Error("No se pudieron cargar los eventos del calendario")}},Cve=async e=>{try{return{id:(await xa(Ft(Mr,b5),{...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id,...e}}catch(t){throw console.error("Error al crear evento:",t),new Error("No se pudo crear el evento del calendario")}},_ve=async(e,t)=>{try{const r=Er(Mr,b5,e);await ux(r,{...t,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error al actualizar evento:",r,"ID:",e),new Error("No se pudo actualizar el evento del calendario")}},Sve=async e=>{try{const t=Er(Mr,b5,e);await pi(t)}catch(t){throw console.error("Error al eliminar evento:",t,"ID:",e),new Error("No se pudo eliminar el evento del calendario")}},Nve=["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],Bve=e=>{switch(e.type){case mn.EVALUACION:return`${e.subtype} - ${e.asignatura}`;case mn.ACTO:return`Acto: ${e.ubicacion}`;case mn.ACTIVIDAD_FOCALIZADA:return"Actividad Focalizada";case mn.SALIDA_PEDAGOGICA:return`Salida: ${e.ubicacion}`;default:return"Evento"}},kve=({isOpen:e,onClose:t,onSave:r,onDelete:n,event:a,date:s,isLoading:i})=>{const[o,l]=k.useState({});k.useEffect(()=>{l(a||{type:mn.EVALUACION,subtype:Nm.PRUEBA_PARCIAL,asignatura:Pi[0],curso:qa[0],contenidos:"",enlace:"",responsables:"",ubicacion:"",horario:"",responsable:"",cursos:[]})},[a,e]);const u="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",d=g=>{const{name:b,value:y}=g.target;l(_=>({..._,[b]:y}))},f=g=>{l(b=>{if(b.type===mn.SALIDA_PEDAGOGICA){const y=b.cursos||[],_=y.includes(g)?y.filter(S=>S!==g):[...y,g];return{...b,cursos:_.sort()}}return b})},m=g=>{var y;g.preventDefault();let b;switch(o.type){case mn.EVALUACION:const _={date:s,type:mn.EVALUACION,subtype:o.subtype,asignatura:o.asignatura,curso:o.curso,contenidos:o.contenidos};(o.subtype===Nm.RUBRICA||o.subtype===Nm.PAUTA_COTEJO)&&((y=o.enlace)!=null&&y.trim())&&(_.enlace=o.enlace.trim()),b=_;break;case mn.ACTO:b={date:s,type:mn.ACTO,responsables:o.responsables,ubicacion:o.ubicacion,horario:o.horario};break;case mn.ACTIVIDAD_FOCALIZADA:b={date:s,type:mn.ACTIVIDAD_FOCALIZADA,responsables:o.responsables,ubicacion:o.ubicacion,horario:o.horario};break;case mn.SALIDA_PEDAGOGICA:b={date:s,type:mn.SALIDA_PEDAGOGICA,responsable:o.responsable,ubicacion:o.ubicacion,cursos:o.cursos};break;default:console.error("Tipo de evento no reconocido");return}r(b)};if(!e)return null;const p=new Date(`${s}T12:00:00`).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),x=()=>{switch(o.type){case mn.EVALUACION:return c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"subtype",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Subtipo"}),c.jsx("select",{id:"subtype",name:"subtype",value:o.subtype,onChange:d,required:!0,className:u,children:npe.map(g=>c.jsx("option",{value:g,children:g},g))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),c.jsx("select",{id:"asignatura",name:"asignatura",value:o.asignatura,onChange:d,required:!0,className:u,children:Pi.map(g=>c.jsx("option",{value:g,children:g},g))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),c.jsx("select",{id:"curso",name:"curso",value:o.curso,onChange:d,required:!0,className:u,children:qa.map(g=>c.jsx("option",{value:g,children:g},g))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"contenidos",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Contenidos"}),c.jsx("textarea",{id:"contenidos",name:"contenidos",value:o.contenidos||"",onChange:d,required:!0,rows:3,className:u})]}),(o.subtype===Nm.RUBRICA||o.subtype===Nm.PAUTA_COTEJO)&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"enlace",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Enlace al Documento (URL)"}),c.jsx("input",{id:"enlace",name:"enlace",type:"url",value:o.enlace||"",onChange:d,placeholder:"https://...",className:u})]})]});case mn.ACTO:case mn.ACTIVIDAD_FOCALIZADA:return c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"responsables",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Responsables"}),c.jsx("input",{id:"responsables",name:"responsables",type:"text",value:o.responsables||"",onChange:d,required:!0,className:u})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"ubicacion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Ubicación"}),c.jsx("input",{id:"ubicacion",name:"ubicacion",type:"text",value:o.ubicacion||"",onChange:d,required:!0,className:u})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"horario",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Horario"}),c.jsx("input",{id:"horario",name:"horario",type:"text",value:o.horario||"",onChange:d,required:!0,className:u})]})]});case mn.SALIDA_PEDAGOGICA:return c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"responsable",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Responsable"}),c.jsx("input",{id:"responsable",name:"responsable",type:"text",value:o.responsable||"",onChange:d,required:!0,className:u})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"ubicacion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Ubicación/Destino"}),c.jsx("input",{id:"ubicacion",name:"ubicacion",type:"text",value:o.ubicacion||"",onChange:d,required:!0,className:u})]}),c.jsxs("fieldset",{children:[c.jsx("legend",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cursos Involucrados"}),c.jsx("div",{className:"max-h-32 overflow-y-auto grid grid-cols-3 sm:grid-cols-4 gap-2 border p-2 rounded-md dark:border-slate-600 text-slate-700 dark:text-slate-300",children:qa.map(g=>c.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[c.jsx("input",{type:"checkbox",checked:(o.cursos||[]).includes(g),onChange:()=>f(g),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),c.jsx("span",{children:g})]},g))})]})]});default:return null}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center p-4",onClick:t,children:c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg animate-fade-in-up",onClick:g=>g.stopPropagation(),children:c.jsxs("form",{onSubmit:m,children:[c.jsxs("div",{className:"p-6 max-h-[80vh] overflow-y-auto",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:a?"Editar Evento":"Agregar Evento"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 font-semibold",children:p}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Tipo de Evento"}),c.jsx("select",{id:"type",name:"type",value:o.type,onChange:d,className:u,children:Object.values(mn).map(g=>c.jsx("option",{value:g,children:g},g))})]}),x()]})]}),c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 px-6 py-4 rounded-b-xl flex justify-between items-center",children:[c.jsx("div",{children:a&&n&&c.jsx("button",{type:"button",onClick:n,disabled:i,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 font-semibold disabled:opacity-50",children:i?"Eliminando...":"Eliminar"})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"button",onClick:t,disabled:i,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500 disabled:opacity-50",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:i,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600 disabled:opacity-50",children:i?"Guardando...":"Guardar"})]})]})]})})})},Tve=({profile:e})=>{const[t,r]=k.useState(new Date),[n,a]=k.useState([]),[s,i]=k.useState(!1),[o,l]=k.useState(null),[u,d]=k.useState(!1),[f,m]=k.useState(Object.values(mn)),[p,x]=k.useState(!1),[g,b]=k.useState(null),[y,_]=k.useState(null),S=k.useCallback(async()=>{i(!0);try{const D=await Eve();a(D),l(null)}catch(D){console.error("Error al cargar eventos desde Firestore",D),l("No se pudieron cargar los eventos desde la nube.")}finally{i(!1)}},[]);k.useEffect(()=>{S()},[S]);const I=k.useMemo(()=>{const D=t.getFullYear(),O=t.getMonth(),M=new Date(D,O,1).getDay(),Q=new Date(D,O+1,0).getDate(),ee=[];let W=1;for(let Z=0;Z<6;Z++){const V=[];for(let q=0;q<7;q++)Z===0&&q<M||W>Q?V.push(null):(V.push(new Date(D,O,W)),W++);if(ee.push(V),W>Q)break}return ee},[t]),T=D=>{m(O=>O.includes(D)?O.filter(M=>M!==D):[...O,D])},F=()=>{f.length===Object.values(mn).length?m([]):m(Object.values(mn))},w=D=>{e!==Kt.ESTUDIANTE&&(b(D.toISOString().split("T")[0]),_(null),x(!0))},C=(D,O)=>{O.stopPropagation(),e!==Kt.ESTUDIANTE&&(b(D.date),_(D),x(!0))},N=async D=>{d(!0);try{y?await _ve(y.id,D):await Cve(D),await S(),x(!1)}catch(O){console.error("Error al guardar evento:",O);const M=O instanceof Error?O.message:"Error desconocido";l(`Error al guardar el evento: ${M}`)}finally{d(!1)}},R=async()=>{if(y){d(!0);try{await Sve(y.id),await S(),x(!1)}catch(D){console.error("Error al eliminar evento:",D);const O=D instanceof Error?D.message:"Error desconocido";l(`No se pudo eliminar el evento: ${O}`)}finally{d(!1)}}};return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6 animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Calendario Académico"}),s&&c.jsx("div",{className:"text-center text-amber-600 py-4",children:"Cargando eventos desde la nube..."}),o&&c.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:o}),!s&&n.length===0&&c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 p-4 rounded-lg",children:"No hay eventos registrados en la nube."}),c.jsx("div",{className:"mb-4 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300 rounded-r-lg",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 3.001-1.742 3.001H4.42c-1.53 0-2.493-1.667-1.743-3.001l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 011-1h.008a1 1 0 011 1v3.008a1 1 0 01-1 1h-.008a1 1 0 01-1-1V5z",clipRule:"evenodd"})})}),c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm",children:"Recuerda que el calendario escolar completo se encuentra disponible en la intranet. Este calendario es de exclusivo uso evaluativo y académico."})})]})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Filtrar por tipo de evento:"}),c.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[c.jsx("button",{onClick:F,className:"text-sm font-semibold px-3 py-1.5 rounded-full bg-slate-700 text-white hover:bg-slate-600 dark:bg-slate-600 dark:hover:bg-slate-500 transition-colors",children:f.length===Object.values(mn).length?"Deseleccionar Todos":"Seleccionar Todos"}),Object.values(mn).map(D=>c.jsxs("label",{className:`cursor-pointer text-sm font-medium px-3 py-1.5 rounded-full transition-all duration-200 flex items-center gap-2 ${f.includes(D)?`shadow-sm ${Wh[D].color}`:"bg-slate-100 text-slate-600 hover:bg-slate-200 opacity-70 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600 dark:opacity-60"}`,children:[c.jsx("input",{type:"checkbox",checked:f.includes(D),onChange:()=>T(D),className:"hidden"}),c.jsx("span",{children:Wh[D].icon}),c.jsx("span",{children:Wh[D].label})]},D))]})]}),c.jsxs("div",{className:"border dark:border-slate-700 rounded-lg overflow-hidden",children:[c.jsxs("header",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-700/50 border-b dark:border-slate-700",children:[c.jsx("button",{onClick:()=>r(new Date(t.setMonth(t.getMonth()-1))),className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300",children:"<"}),c.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 capitalize",children:t.toLocaleString("es-CL",{month:"long",year:"numeric"})}),c.jsx("button",{onClick:()=>r(new Date(t.setMonth(t.getMonth()+1))),className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300",children:">"}),c.jsx("button",{onClick:()=>r(new Date),className:"ml-4 bg-slate-800 text-white text-sm font-bold py-1.5 px-3 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Hoy"})]}),c.jsx("div",{className:"grid grid-cols-7",children:Nve.map(D=>c.jsx("div",{className:"text-center font-semibold text-slate-500 dark:text-slate-400 text-sm py-3 bg-slate-50 dark:bg-slate-700/50 border-b border-r dark:border-slate-700",children:D},D))}),c.jsx("div",{className:"grid grid-cols-7 grid-rows-6",children:I.flat().map((D,O)=>{const M=D&&D.toDateString()===new Date().toDateString(),Q=D==null?void 0:D.toISOString().split("T")[0],ee=Q?n.filter(W=>W.date===Q&&f.includes(W.type)):[];return c.jsx("div",{onClick:()=>D&&w(D),className:`border-b border-r dark:border-slate-700 p-2 h-36 flex flex-col overflow-hidden relative group ${D?e!==Kt.ESTUDIANTE?"cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/50":"":"bg-slate-50 dark:bg-slate-800/50"}`,children:D&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:`self-end text-sm font-semibold ${M?"bg-amber-400 text-white rounded-full h-6 w-6 flex items-center justify-center":"text-slate-600 dark:text-slate-300"}`,children:D.getDate()}),c.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 mt-1 pr-1",children:ee.map(W=>c.jsxs("div",{onClick:Z=>C(W,Z),className:`text-xs font-medium p-1 rounded-md flex items-center gap-1.5 truncate ${Wh[W.type].color}`,children:[c.jsx("span",{children:Wh[W.type].icon}),c.jsx("span",{className:"truncate",children:Bve(W)})]},W.id))}),e!==Kt.ESTUDIANTE&&c.jsx("button",{className:"absolute bottom-1 right-1 bg-amber-400 text-white rounded-full h-6 w-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-lg font-bold",children:"+"})]})},O)})})]}),p&&c.jsx(kve,{isOpen:p,onClose:()=>x(!1),onSave:N,onDelete:R,event:y,date:g,isLoading:u})]})},y5="anuncios",Ive=async()=>{try{const e=tr(Ft(Mr,y5),qr("fechaPublicacion","desc"));return(await Zs(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error al obtener anuncios:",e),new Error("No se pudieron cargar los anuncios")}},jve=async e=>{try{return{id:(await xa(Ft(Mr,y5),{...e,fechaPublicacion:e.fechaPublicacion||new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id,...e}}catch(t){throw console.error("Error al crear anuncio:",t),new Error("No se pudo crear el anuncio")}},Fve=async(e,t)=>{try{const r=Er(Mr,y5,e);await ux(r,{...t,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error al actualizar anuncio:",r,"ID:",e),new Error("No se pudo actualizar el anuncio")}},Ove=async e=>{try{const t=Er(Mr,y5,e);await pi(t)}catch(t){throw console.error("Error al eliminar anuncio:",t,"ID:",e),new Error("No se pudo eliminar el anuncio")}},VM=[{bg:"bg-yellow-200 dark:bg-yellow-800/50",rotate:"transform -rotate-2"},{bg:"bg-lime-200 dark:bg-lime-800/50",rotate:"transform rotate-1"},{bg:"bg-sky-200 dark:bg-sky-800/50",rotate:"transform rotate-2"},{bg:"bg-red-200 dark:bg-red-800/50",rotate:"transform -rotate-1"},{bg:"bg-violet-200 dark:bg-violet-800/50",rotate:"transform rotate-1"}],Dve=({currentUser:e})=>{const[t,r]=k.useState([]),[n,a]=k.useState(!1),[s,i]=k.useState(null),[o,l]=k.useState({titulo:"",mensaje:"",adjunto:""}),[u,d]=k.useState({tipo:"Todos",cursos:[]}),f=k.useCallback(async()=>{a(!0);try{const w=await Ive();r(w),i(null)}catch(w){console.error("Error al cargar anuncios desde Firestore",w),i("No se pudieron cargar los anuncios desde la nube.")}finally{a(!1)}},[]);k.useEffect(()=>{f()},[f]);const m=w=>{const{name:C,value:N}=w.target;l(R=>({...R,[C]:N}))},p=w=>{d({tipo:w,cursos:w==="Cursos"?[]:void 0})},x=w=>{d(C=>{var R;if(C.tipo!=="Cursos")return C;const N=(R=C.cursos)!=null&&R.includes(w)?C.cursos.filter(D=>D!==w):[...C.cursos||[],w];return{...C,cursos:N}})},g=async w=>{if(w.preventDefault(),!o.titulo||!o.mensaje){alert("Título y mensaje son obligatorios.");return}if(u.tipo==="Cursos"&&(!u.cursos||u.cursos.length===0)){alert('Debe seleccionar al menos un curso para el destinatario "Cursos".');return}try{const C={fechaPublicacion:new Date().toISOString(),destacado:!1,autor:e.nombreCompleto,profileCreador:e.profile,destinatarios:u,...o};await jve(C),await f(),l({titulo:"",mensaje:"",adjunto:""}),d({tipo:"Todos",cursos:[]})}catch(C){console.error("Error al crear anuncio:",C),i("Error al publicar el anuncio en la nube.")}},b=async w=>{if(window.confirm("¿Está seguro de que desea eliminar este anuncio?"))try{await Ove(w),await f()}catch(C){console.error("Error al eliminar anuncio:",C),i("No se pudo eliminar el anuncio en la nube.")}},y=async w=>{try{const C=t.find(N=>N.id===w);C&&(await Fve(w,{destacado:!C.destacado}),await f())}catch(C){console.error("Error al actualizar anuncio:",C),i("No se pudo actualizar el estado del anuncio en la nube.")}},_=k.useMemo(()=>[...t].sort((w,C)=>w.destacado&&!C.destacado?-1:!w.destacado&&C.destacado?1:new Date(C.fechaPublicacion).getTime()-new Date(w.fechaPublicacion).getTime()),[t]),S=k.useMemo(()=>{const w=e.profile,C=e.curso;return _.filter(N=>{if(w===Kt.SUBDIRECCION)return!0;if(!N.destinatarios)return w!==Kt.ESTUDIANTE;const{tipo:R,cursos:D}=N.destinatarios;return R==="Todos"||R==="Profesores"&&w===Kt.PROFESORADO||R==="Coordinación TP"&&w===Kt.COORDINACION_TP?!0:R==="Cursos"?w===Kt.ESTUDIANTE?D==null?void 0:D.includes(C||""):!0:!1})},[_,e]),I=w=>e.profile===Kt.ESTUDIANTE?!1:e.profile===Kt.SUBDIRECCION||e.profile===w.profileCreador,T=()=>e.profile===Kt.SUBDIRECCION||e.profile===Kt.PROFESORADO,F="w-full border-slate-300 rounded-md shadow-sm focus:ring-amber-400 focus:border-amber-400 dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Muro de Anuncios"}),n&&c.jsx("div",{className:"text-center text-amber-600 py-4",children:"Cargando anuncios desde la nube..."}),s&&c.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:s}),e.profile!==Kt.ESTUDIANTE?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Publique un nuevo anuncio para toda la comunidad escolar."}),c.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"titulo",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Título"}),c.jsx("input",{type:"text",name:"titulo",value:o.titulo,onChange:m,required:!0,className:F})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"mensaje",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Mensaje"}),c.jsx("textarea",{name:"mensaje",value:o.mensaje,onChange:m,required:!0,rows:4,className:F})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Destinatarios"}),c.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:["Todos","Cursos","Profesores","Coordinación TP"].map(w=>c.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[c.jsx("input",{type:"radio",name:"destinatarioTipo",value:w,checked:u.tipo===w,onChange:()=>p(w),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-slate-300"}),c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:w.replace("Coordinación TP","Coord. TP")})]},w))})]}),u.tipo==="Cursos"&&c.jsxs("div",{className:"p-4 border rounded-md bg-slate-50 dark:bg-slate-700/50 dark:border-slate-600 animate-fade-in",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Seleccione Cursos"}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 max-h-48 overflow-y-auto",children:qa.map(w=>{var C;return c.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 dark:hover:bg-slate-600 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:(C=u.cursos)==null?void 0:C.includes(w),onChange:()=>x(w),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400 border-slate-300 bg-slate-100"}),c.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:w})]},w)})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"adjunto",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Enlace adjunto (Opcional)"}),c.jsx("input",{type:"url",name:"adjunto",value:o.adjunto,onChange:m,placeholder:"https://ejemplo.com/documento.pdf",className:F})]}),c.jsx("div",{className:"pt-2 text-right",children:c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-all duration-200 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Publicar Anuncio"})})]})]}):c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Anuncios de la comunidad escolar. Este módulo es de solo lectura."})]}),!n&&S.length===0&&c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 p-4 rounded-lg",children:"No hay anuncios para mostrar en la nube."}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-8 py-4",children:!n&&S.length>0&&S.map((w,C)=>{const N=VM[C%VM.length];return c.jsxs("div",{className:`font-handwritten text-slate-800 dark:text-slate-200 shadow-xl p-4 flex flex-col relative transition-transform duration-300 ease-in-out hover:scale-105 hover:rotate-0 hover:z-10 ${N.bg} ${N.rotate}`,children:[w.destacado&&c.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2",children:c.jsx("span",{className:"text-5xl",role:"img","aria-label":"Anuncio destacado",children:"📌"})}),c.jsx("h2",{className:"text-3xl font-bold border-b-2 border-slate-500/30 dark:border-slate-400/30 pb-2 mb-4 break-words",children:w.titulo}),c.jsx("p",{className:"flex-grow text-2xl whitespace-pre-wrap mb-4 break-words min-h-[100px]",children:w.mensaje}),w.adjunto&&c.jsx("div",{className:"font-sans text-sm mb-4",children:c.jsxs("a",{href:w.adjunto,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 font-semibold text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),"Ver Adjunto"]})}),c.jsxs("div",{className:"font-sans text-xs mt-auto pt-2 border-t border-slate-500/30 dark:border-slate-400/30 flex justify-between items-end",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:w.autor}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:new Date(w.fechaPublicacion).toLocaleString("es-CL")})]}),c.jsxs("div",{className:"flex items-center",children:[T()&&c.jsx("button",{onClick:()=>y(w.id),title:w.destacado?"Desfijar":"Fijar",className:"p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded-full transition-colors",children:c.jsx("span",{className:`text-xl transition-opacity ${w.destacado?"opacity-100":"opacity-30"}`,children:"📌"})}),I(w)&&c.jsx("button",{onClick:()=>b(w.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded-full transition-colors",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},w.id)})})]})},_X="api_logs",Pve=async(e,t)=>{try{const r={module:e,userId:t.id,userEmail:t.email,userName:t.nombreCompleto,timestamp:fr.fromDate(new Date)};await xa(Ft(Bt,_X),r)}catch(r){console.error("Error al registrar la llamada a la API en Firestore:",r)}},Rve=e=>{const t=tr(Ft(Bt,_X),qr("timestamp","desc"));return br(t,n=>{const a=n.docs.map(s=>{var o,l;const i=s.data();return{id:s.id,...i,timestamp:((l=(o=i.timestamp)==null?void 0:o.toDate)==null?void 0:l.call(o).toISOString())||i.timestamp}});e(a)},n=>{console.error("Error al suscribirse a los logs de API:",n),e([])})},jv=(e,t)=>{if(!t||!t.id||!t.email){console.warn("No se pudo registrar la llamada a la API: el objeto de usuario es inválido o no está en sesión.");return}Pve(e,t)},U6="actas_de_reunion",Lve=e=>{var r,n;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion}},Uve=e=>{const t=tr(Ft(Bt,U6),qr("fechaCreacion","desc"));return br(t,n=>{const a=n.docs.map(s=>Lve(s));e(a)},n=>{console.error("Error al suscribirse a las actas:",n),e([])})},Mve=async(e,t)=>{try{const r={...e,creadorId:t.id,creadorNombre:t.nombreCompleto,fechaCreacion:fr.fromDate(new Date(e.fechaCreacion))};return(await xa(Ft(Bt,U6),r)).id}catch(r){throw console.error("Error al crear el acta:",r),new Error("No se pudo crear el acta.")}},Qve=async e=>{try{const t=Er(Bt,U6,e);await pi(t)}catch(t){throw console.error("Error al eliminar el acta:",t),new Error("No se pudo eliminar el acta.")}},SX=window.SpeechRecognition||window.webkitSpeechRecognition,zM=!!SX,Hve=({isListening:e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e?c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}):c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),Vve=({currentUser:e})=>{const[t,r]=k.useState([]),[n,a]=k.useState(null),[s,i]=k.useState({tipoReunion:SB[0],asistentes:"",textoReunion:""}),[o,l]=k.useState(!1),[u,d]=k.useState(!1),[f,m]=k.useState(!0),[p,x]=k.useState(null),g=k.useRef(null);k.useEffect(()=>{m(!0);const w=Uve(C=>{r(C),!n&&C.length>0&&a(C[0]),m(!1)});return()=>w()},[n]);const b=w=>{const{name:C,value:N}=w.target;i(R=>({...R,[C]:N}))},y=k.useCallback(()=>{var w;if(!zM){x("El reconocimiento de voz no es compatible con este navegador.");return}o?(w=g.current)==null||w.stop():(g.current=new SX,g.current.lang="es-CL",g.current.continuous=!0,g.current.interimResults=!0,g.current.onresult=C=>{let N="";for(let R=C.resultIndex;R<C.results.length;++R)C.results[R].isFinal&&(N+=C.results[R][0].transcript+". ");i(R=>({...R,textoReunion:R.textoReunion+N}))},g.current.onstart=()=>l(!0),g.current.onend=()=>l(!1),g.current.onerror=C=>{console.error("Speech recognition error",C.error),x(`Error de reconocimiento: ${C.error}`),l(!1)},g.current.start())},[o]),_=async w=>{w.preventDefault();const{tipoReunion:C,asistentes:N,textoReunion:R}=s;if(!C||!N.trim()||!R.trim()){x("Todos los campos son obligatorios.");return}d(!0),x(null);try{jv("Generador de Actas");const D="",M=new globalThis.GoogleGenerativeAI(D).getGenerativeModel({model:"gemini-pro"}),Q=`
                Analiza el siguiente texto de un acta de reunión y extrae la información clave.
                El texto es una transcripción de lo hablado.
                - Identifica los temas principales discutidos.
                - Extrae un resumen de los acuerdos o decisiones específicas tomadas.
                - Lista cualquier plazo o fecha límite mencionada.
                - Identifica los nombres de las personas a las que se les asignaron responsabilidades o tareas.
                
                Texto del acta:
                "${R}"
                
                Asistentes a la reunión para referencia de nombres: ${N}
            `,V=(await(await M.generateContent(Q)).response).text().replace(/^```json\s*|```\s*$/g,""),q=JSON.parse(V),K={fechaCreacion:new Date().toISOString(),...s,...q},J=await Mve(K,e);i({tipoReunion:SB[0],asistentes:"",textoReunion:""})}catch(D){console.error("Error al analizar acta con IA:",D),x("Ocurrió un error al procesar el acta con la IA. Por favor, revise el texto e inténtelo de nuevo.")}finally{d(!1)}},S=async w=>{if(window.confirm("¿Está seguro de que desea eliminar esta acta?"))try{await Qve(w),(n==null?void 0:n.id)===w&&a(t.length>1?t[1]:null)}catch(C){console.error("Error deleting acta:",C),alert("No se pudo eliminar el acta.")}},I=w=>{a(w)},T=w=>w.temas||w.acuerdos||w.plazos||w.responsables?c.jsxs("div",{className:"mt-8 pt-6 border-t dark:border-slate-600",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:"Análisis con IA"}),w.temas&&w.temas.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Temas Tratados"}),c.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:w.temas.map((N,R)=>c.jsx("li",{children:N},R))})]}),w.acuerdos&&w.acuerdos.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Acuerdos"}),c.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:w.acuerdos.map((N,R)=>c.jsx("li",{children:N},R))})]}),w.plazos&&w.plazos.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Plazos"}),c.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:w.plazos.map((N,R)=>c.jsx("li",{children:N},R))})]}),w.responsables&&w.responsables.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Responsables"}),c.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:w.responsables.map((N,R)=>c.jsx("li",{children:N},R))})]})]}):null,F="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return f?c.jsx("div",{className:"text-center py-10",children:"Cargando actas..."}):c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 animate-fade-in",children:[c.jsxs("div",{className:"md:col-span-1 space-y-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Generador de Actas"}),c.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300 rounded-r-lg",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 3.001-1.742 3.001H4.42c-1.53 0-2.493-1.667-1.743-3.001l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 011-1h.008a1 1 0 011 1v3.008a1 1 0 01-1 1h-.008a1 1 0 01-1-1V5z",clipRule:"evenodd"})})}),c.jsx("div",{className:"ml-3",children:c.jsxs("p",{className:"text-sm",children:["Recuerda que las actas debes subirlas por intranet en ",c.jsx("strong",{className:"font-semibold",children:"www.industrialderecoleta.cl"}),". Esta es sólo una herramienta para agilizar redacción."]})})]})}),c.jsxs("form",{onSubmit:_,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"tipoReunion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Tipo de Reunión"}),c.jsx("select",{name:"tipoReunion",value:s.tipoReunion,onChange:b,required:!0,className:F,children:SB.map(w=>c.jsx("option",{value:w,children:w},w))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"asistentes",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asistentes"}),c.jsx("textarea",{name:"asistentes",value:s.asistentes,onChange:b,required:!0,rows:3,placeholder:"Nombres, separados por comas...",className:F})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"textoReunion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Texto de la Reunión"}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{name:"textoReunion",value:s.textoReunion,onChange:b,required:!0,rows:6,placeholder:"Escriba o use el micrófono para dictar...",className:F}),zM&&c.jsx("button",{type:"button",onClick:y,title:o?"Detener grabación":"Iniciar grabación",className:`absolute top-2 right-2 p-2 rounded-full transition-colors ${o?"bg-red-500 text-white animate-pulse":"bg-slate-200 hover:bg-slate-300 text-slate-700 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500"}`,children:c.jsx(Hve,{isListening:o})})]})]}),p&&c.jsx("p",{className:"text-red-600 bg-red-100 dark:bg-red-900/40 dark:text-red-300 p-3 rounded-md mt-4",children:p}),c.jsx("div",{className:"pt-2 text-right",children:c.jsx("button",{type:"submit",disabled:u,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 flex items-center justify-center min-w-[120px] disabled:bg-slate-400 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:u?c.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Crear Acta"})})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Actas"}),c.jsx("div",{className:"max-h-80 overflow-y-auto space-y-2 pr-2",children:t.length>0?t.map(w=>c.jsxs("button",{onClick:()=>I(w),className:`w-full text-left p-3 rounded-lg border transition-colors ${(n==null?void 0:n.id)===w.id?"bg-amber-100 border-amber-300 dark:bg-amber-900/20 dark:border-amber-500/50":"bg-slate-50 hover:bg-slate-100 border-transparent dark:bg-slate-700/50 dark:hover:bg-slate-700"}`,children:[c.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:w.tipoReunion}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(w.fechaCreacion).toLocaleDateString("es-CL")})]},w.id)):c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No hay actas guardadas."})})]})]}),c.jsx("div",{className:"md:col-span-2 bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md",children:n?c.jsxs("div",{className:"prose dark:prose-invert max-w-none prose-slate",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("h1",{className:"text-3xl font-bold mt-0",children:`Acta de Reunión: ${n.tipoReunion}`}),c.jsx("button",{onClick:()=>S(n.id),title:"Eliminar Acta",className:"text-red-500 hover:text-red-700 p-2 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40 -mt-2 -mr-2",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[c.jsx("strong",{children:"Fecha:"})," ",new Date(n.fechaCreacion).toLocaleString("es-CL")]}),c.jsx("h2",{children:"Asistentes"}),c.jsx("ul",{className:"list-disc pl-5",children:String(n.asistentes||"").split(",").map((w,C)=>w.trim()&&c.jsx("li",{children:w.trim()},C))}),T(n),c.jsx("h2",{className:"mt-8 pt-6 border-t dark:border-slate-600",children:"Transcripción Original"}),c.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-md whitespace-pre-wrap",children:c.jsx("p",{children:n.textoReunion})})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[c.jsx("span",{className:"text-6xl mb-4 text-slate-400",children:"📄"}),c.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-300",children:"Seleccione un Acta"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mt-2",children:"Elija un acta del historial para ver sus detalles aquí, o cree una nueva usando el formulario."})]})})]})},zve="modulepreload",$ve=function(e){return"/"+e},$M={},d_=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let i=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=i(r.map(u=>{if(u=$ve(u),u in $M)return;$M[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":zve,d||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((p,x)=>{m.addEventListener("load",p),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function la(e){"@babel/helpers - typeof";return la=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},la(e)}var Ro=Uint8Array,fc=Uint16Array,M6=Int32Array,w5=new Ro([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),E5=new Ro([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),mI=new Ro([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),NX=function(e,t){for(var r=new fc(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new M6(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},BX=NX(w5,2),kX=BX.b,pI=BX.r;kX[28]=258,pI[258]=28;var TX=NX(E5,0),Kve=TX.b,KM=TX.r,gI=new fc(32768);for(var Fa=0;Fa<32768;++Fa){var Ih=(Fa&43690)>>1|(Fa&21845)<<1;Ih=(Ih&52428)>>2|(Ih&13107)<<2,Ih=(Ih&61680)>>4|(Ih&3855)<<4,gI[Fa]=((Ih&65280)>>8|(Ih&255)<<8)>>1}var AA=function(e,t,r){for(var n=e.length,a=0,s=new fc(t);a<n;++a)e[a]&&++s[e[a]-1];var i=new fc(t);for(a=1;a<t;++a)i[a]=i[a-1]+s[a-1]<<1;var o;if(r){o=new fc(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=i[e[a]-1]++<<d,m=f|(1<<d)-1;f<=m;++f)o[gI[f]>>l]=u}else for(o=new fc(n),a=0;a<n;++a)e[a]&&(o[a]=gI[i[e[a]-1]++]>>15-e[a]);return o},B0=new Ro(288);for(var Fa=0;Fa<144;++Fa)B0[Fa]=8;for(var Fa=144;Fa<256;++Fa)B0[Fa]=9;for(var Fa=256;Fa<280;++Fa)B0[Fa]=7;for(var Fa=280;Fa<288;++Fa)B0[Fa]=8;var Zb=new Ro(32);for(var Fa=0;Fa<32;++Fa)Zb[Fa]=5;var Gve=AA(B0,9,0),qve=AA(B0,9,1),Wve=AA(Zb,5,0),Xve=AA(Zb,5,1),BB=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},zu=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},kB=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},Q6=function(e){return(e+7)/8|0},IX=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Ro(e.subarray(t,r))},Yve=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],qu=function(e,t,r){var n=new Error(t||Yve[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,qu),!r)throw n;return n},Jve=function(e,t,r,n){var a=e.length,s=0;if(!a||t.f&&!t.l)return r||new Ro(0);var i=!r,o=i||t.i!=2,l=t.i;i&&(r=new Ro(a*3));var u=function(Ie){var ne=r.length;if(Ie>ne){var Fe=new Ro(Math.max(ne*2,Ie));Fe.set(r),r=Fe}},d=t.f||0,f=t.p||0,m=t.b||0,p=t.l,x=t.d,g=t.m,b=t.n,y=a*8;do{if(!p){d=zu(e,f,1);var _=zu(e,f+1,3);if(f+=3,_)if(_==1)p=qve,x=Xve,g=9,b=5;else if(_==2){var F=zu(e,f,31)+257,w=zu(e,f+10,15)+4,C=F+zu(e,f+5,31)+1;f+=14;for(var N=new Ro(C),R=new Ro(19),D=0;D<w;++D)R[mI[D]]=zu(e,f+D*3,7);f+=w*3;for(var O=BB(R),M=(1<<O)-1,Q=AA(R,O,1),D=0;D<C;){var ee=Q[zu(e,f,M)];f+=ee&15;var S=ee>>4;if(S<16)N[D++]=S;else{var W=0,Z=0;for(S==16?(Z=3+zu(e,f,3),f+=2,W=N[D-1]):S==17?(Z=3+zu(e,f,7),f+=3):S==18&&(Z=11+zu(e,f,127),f+=7);Z--;)N[D++]=W}}var V=N.subarray(0,F),q=N.subarray(F);g=BB(V),b=BB(q),p=AA(V,g,1),x=AA(q,b,1)}else qu(1);else{var S=Q6(f)+4,I=e[S-4]|e[S-3]<<8,T=S+I;if(T>a){l&&qu(0);break}o&&u(m+I),r.set(e.subarray(S,T),m),t.b=m+=I,t.p=f=T*8,t.f=d;continue}if(f>y){l&&qu(0);break}}o&&u(m+131072);for(var K=(1<<g)-1,J=(1<<b)-1,P=f;;P=f){var W=p[kB(e,f)&K],G=W>>4;if(f+=W&15,f>y){l&&qu(0);break}if(W||qu(2),G<256)r[m++]=G;else if(G==256){P=f,p=null;break}else{var Y=G-254;if(G>264){var D=G-257,re=w5[D];Y=zu(e,f,(1<<re)-1)+kX[D],f+=re}var ie=x[kB(e,f)&J],de=ie>>4;ie||qu(3),f+=ie&15;var q=Kve[de];if(de>3){var re=E5[de];q+=kB(e,f)&(1<<re)-1,f+=re}if(f>y){l&&qu(0);break}o&&u(m+131072);var me=m+Y;if(m<q){var ue=s-q,ye=Math.min(q,me);for(ue+m<0&&qu(3);m<ye;++m)r[m]=n[ue+m]}for(;m<me;++m)r[m]=r[m-q]}}t.l=p,t.p=P,t.b=m,t.f=d,p&&(d=1,t.m=g,t.d=x,t.n=b)}while(!d);return m!=r.length&&i?IX(r,0,m):r.subarray(0,m)},ef=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},b1=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},TB=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return{t:FX,l:0};if(a==1){var i=new Ro(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(T,F){return T.f-F.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=a-1;)o=r[r[u].f<r[f].f?u++:f++],l=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var m=s[0].s,n=1;n<a;++n)s[n].s>m&&(m=s[n].s);var p=new fc(m+1),x=vI(r[d-1],p,0);if(x>t){var n=0,g=0,b=x-t,y=1<<b;for(s.sort(function(F,w){return p[w.s]-p[F.s]||F.f-w.f});n<a;++n){var _=s[n].s;if(p[_]>t)g+=y-(1<<x-p[_]),p[_]=t;else break}for(g>>=b;g>0;){var S=s[n].s;p[S]<t?g-=1<<t-p[S]++-1:++n}for(;n>=0&&g;--n){var I=s[n].s;p[I]==t&&(--p[I],++g)}x=t}return{t:new Ro(p),l:x}},vI=function(e,t,r){return e.s==-1?Math.max(vI(e.l,t,r+1),vI(e.r,t,r+1)):t[e.s]=r},GM=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new fc(++t),n=0,a=e[0],s=1,i=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=e[o]}return{c:r.subarray(0,n),n:t}},y1=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},jX=function(e,t,r){var n=r.length,a=Q6(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=r[s];return(a+4+n)*8},qM=function(e,t,r,n,a,s,i,o,l,u,d){ef(t,d++,r),++a[256];for(var f=TB(a,15),m=f.t,p=f.l,x=TB(s,15),g=x.t,b=x.l,y=GM(m),_=y.c,S=y.n,I=GM(g),T=I.c,F=I.n,w=new fc(19),C=0;C<_.length;++C)++w[_[C]&31];for(var C=0;C<T.length;++C)++w[T[C]&31];for(var N=TB(w,7),R=N.t,D=N.l,O=19;O>4&&!R[mI[O-1]];--O);var M=u+5<<3,Q=y1(a,B0)+y1(s,Zb)+i,ee=y1(a,m)+y1(s,g)+i+14+3*O+y1(w,R)+2*w[16]+3*w[17]+7*w[18];if(l>=0&&M<=Q&&M<=ee)return jX(t,d,e.subarray(l,l+u));var W,Z,V,q;if(ef(t,d,1+(ee<Q)),d+=2,ee<Q){W=AA(m,p,0),Z=m,V=AA(g,b,0),q=g;var K=AA(R,D,0);ef(t,d,S-257),ef(t,d+5,F-1),ef(t,d+10,O-4),d+=14;for(var C=0;C<O;++C)ef(t,d+3*C,R[mI[C]]);d+=3*O;for(var J=[_,T],P=0;P<2;++P)for(var G=J[P],C=0;C<G.length;++C){var Y=G[C]&31;ef(t,d,K[Y]),d+=R[Y],Y>15&&(ef(t,d,G[C]>>5&127),d+=G[C]>>12)}}else W=Gve,Z=B0,V=Wve,q=Zb;for(var C=0;C<o;++C){var re=n[C];if(re>255){var Y=re>>18&31;b1(t,d,W[Y+257]),d+=Z[Y+257],Y>7&&(ef(t,d,re>>23&31),d+=w5[Y]);var ie=re&31;b1(t,d,V[ie]),d+=q[ie],ie>3&&(b1(t,d,re>>5&8191),d+=E5[ie])}else b1(t,d,W[re]),d+=Z[re]}return b1(t,d,W[256]),d+Z[256]},Zve=new M6([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),FX=new Ro(0),exe=function(e,t,r,n,a,s){var i=s.z||e.length,o=new Ro(n+i+5*(1+Math.ceil(i/7e3))+a),l=o.subarray(n,o.length-a),u=s.l,d=(s.r||0)&7;if(t){d&&(l[0]=s.r>>3);for(var f=Zve[t-1],m=f>>13,p=f&8191,x=(1<<r)-1,g=s.p||new fc(32768),b=s.h||new fc(x+1),y=Math.ceil(r/3),_=2*y,S=function(Le){return(e[Le]^e[Le+1]<<y^e[Le+2]<<_)&x},I=new M6(25e3),T=new fc(288),F=new fc(32),w=0,C=0,N=s.i||0,R=0,D=s.w||0,O=0;N+2<i;++N){var M=S(N),Q=N&32767,ee=b[M];if(g[Q]=ee,b[M]=Q,D<=N){var W=i-N;if((w>7e3||R>24576)&&(W>423||!u)){d=qM(e,l,0,I,T,F,C,R,O,N-O,d),R=w=C=0,O=N;for(var Z=0;Z<286;++Z)T[Z]=0;for(var Z=0;Z<30;++Z)F[Z]=0}var V=2,q=0,K=p,J=Q-ee&32767;if(W>2&&M==S(N-J))for(var P=Math.min(m,W)-1,G=Math.min(32767,N),Y=Math.min(258,W);J<=G&&--K&&Q!=ee;){if(e[N+V]==e[N+V-J]){for(var re=0;re<Y&&e[N+re]==e[N+re-J];++re);if(re>V){if(V=re,q=J,re>P)break;for(var ie=Math.min(J,re-2),de=0,Z=0;Z<ie;++Z){var me=N-J+Z&32767,ue=g[me],ye=me-ue&32767;ye>de&&(de=ye,ee=me)}}}Q=ee,ee=g[Q],J+=Q-ee&32767}if(q){I[R++]=268435456|pI[V]<<18|KM[q];var Ie=pI[V]&31,ne=KM[q]&31;C+=w5[Ie]+E5[ne],++T[257+Ie],++F[ne],D=N+V,++w}else I[R++]=e[N],++T[e[N]]}}for(N=Math.max(N,D);N<i;++N)I[R++]=e[N],++T[e[N]];d=qM(e,l,u,I,T,F,C,R,O,N-O,d),u||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=b,s.p=g,s.i=N,s.w=D)}else{for(var N=s.w||0;N<i+u;N+=65535){var Fe=N+65535;Fe>=i&&(l[d/8|0]=u,Fe=i),d=jX(l,d+1,e.subarray(N,Fe))}s.i=i}return IX(o,0,n+Q6(d)+a)},OX=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,s=r.length|0,i=0;i!=s;){for(var o=Math.min(i+2655,s);i<o;++i)a+=n+=r[i];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},txe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),i=new Ro(s.length+e.length);i.set(s),i.set(e,s.length),e=i,a.w=s.length}return exe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},DX=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},rxe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=OX();a.p(t.dictionary),DX(e,2,a.d())}},nxe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&qu(6,"invalid zlib data"),(e[1]>>5&1)==1&&qu(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function xI(e,t){t||(t={});var r=OX();r.p(e);var n=txe(e,t,t.dictionary?6:2,4);return rxe(n,t),DX(n,n.length-4,r.d()),n}function axe(e,t){return Jve(e.subarray(nxe(e),-4),{i:2},t,t)}var sxe=typeof TextDecoder<"u"&&new TextDecoder,ixe=0;try{sxe.decode(FX,{stream:!0}),ixe=1}catch{}var jr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function IB(){jr.console&&typeof jr.console.log=="function"&&jr.console.log.apply(jr.console,arguments)}var ya={log:IB,warn:function(e){jr.console&&(typeof jr.console.warn=="function"?jr.console.warn.apply(jr.console,arguments):IB.call(null,arguments))},error:function(e){jr.console&&(typeof jr.console.error=="function"?jr.console.error.apply(jr.console,arguments):IB(e))}};function jB(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){wm(n.response,t,r)},n.onerror=function(){ya.error("could not download file")},n.send()}function WM(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function U2(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var bb,bI,wm=jr.saveAs||((typeof window>"u"?"undefined":la(window))!=="object"||window!==jr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=jr.URL||jr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?WM(a.href)?jB(e,t,r):U2(a,a.target="_blank"):U2(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){U2(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(WM(e))jB(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){U2(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:la(s)!=="object"&&(ya.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return jB(e,t,r);var a=e.type==="application/octet-stream",s=/constructor/i.test(jr.HTMLElement)||jr.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&s)&&(typeof FileReader>"u"?"undefined":la(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=i?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(e)}else{var l=jr.URL||jr.webkitURL,u=l.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function PX(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,i=a.exec(e);i&&(t=s(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function FB(e,t){var r=e[0],n=e[1],a=e[2],s=e[3];r=yo(r,n,a,s,t[0],7,-680876936),s=yo(s,r,n,a,t[1],12,-389564586),a=yo(a,s,r,n,t[2],17,606105819),n=yo(n,a,s,r,t[3],22,-1044525330),r=yo(r,n,a,s,t[4],7,-176418897),s=yo(s,r,n,a,t[5],12,1200080426),a=yo(a,s,r,n,t[6],17,-1473231341),n=yo(n,a,s,r,t[7],22,-45705983),r=yo(r,n,a,s,t[8],7,1770035416),s=yo(s,r,n,a,t[9],12,-1958414417),a=yo(a,s,r,n,t[10],17,-42063),n=yo(n,a,s,r,t[11],22,-1990404162),r=yo(r,n,a,s,t[12],7,1804603682),s=yo(s,r,n,a,t[13],12,-40341101),a=yo(a,s,r,n,t[14],17,-1502002290),r=wo(r,n=yo(n,a,s,r,t[15],22,1236535329),a,s,t[1],5,-165796510),s=wo(s,r,n,a,t[6],9,-1069501632),a=wo(a,s,r,n,t[11],14,643717713),n=wo(n,a,s,r,t[0],20,-373897302),r=wo(r,n,a,s,t[5],5,-701558691),s=wo(s,r,n,a,t[10],9,38016083),a=wo(a,s,r,n,t[15],14,-660478335),n=wo(n,a,s,r,t[4],20,-405537848),r=wo(r,n,a,s,t[9],5,568446438),s=wo(s,r,n,a,t[14],9,-1019803690),a=wo(a,s,r,n,t[3],14,-187363961),n=wo(n,a,s,r,t[8],20,1163531501),r=wo(r,n,a,s,t[13],5,-1444681467),s=wo(s,r,n,a,t[2],9,-51403784),a=wo(a,s,r,n,t[7],14,1735328473),r=Eo(r,n=wo(n,a,s,r,t[12],20,-1926607734),a,s,t[5],4,-378558),s=Eo(s,r,n,a,t[8],11,-2022574463),a=Eo(a,s,r,n,t[11],16,1839030562),n=Eo(n,a,s,r,t[14],23,-35309556),r=Eo(r,n,a,s,t[1],4,-1530992060),s=Eo(s,r,n,a,t[4],11,1272893353),a=Eo(a,s,r,n,t[7],16,-155497632),n=Eo(n,a,s,r,t[10],23,-1094730640),r=Eo(r,n,a,s,t[13],4,681279174),s=Eo(s,r,n,a,t[0],11,-358537222),a=Eo(a,s,r,n,t[3],16,-722521979),n=Eo(n,a,s,r,t[6],23,76029189),r=Eo(r,n,a,s,t[9],4,-640364487),s=Eo(s,r,n,a,t[12],11,-421815835),a=Eo(a,s,r,n,t[15],16,530742520),r=Co(r,n=Eo(n,a,s,r,t[2],23,-995338651),a,s,t[0],6,-198630844),s=Co(s,r,n,a,t[7],10,1126891415),a=Co(a,s,r,n,t[14],15,-1416354905),n=Co(n,a,s,r,t[5],21,-57434055),r=Co(r,n,a,s,t[12],6,1700485571),s=Co(s,r,n,a,t[3],10,-1894986606),a=Co(a,s,r,n,t[10],15,-1051523),n=Co(n,a,s,r,t[1],21,-2054922799),r=Co(r,n,a,s,t[8],6,1873313359),s=Co(s,r,n,a,t[15],10,-30611744),a=Co(a,s,r,n,t[6],15,-1560198380),n=Co(n,a,s,r,t[13],21,1309151649),r=Co(r,n,a,s,t[4],6,-145523070),s=Co(s,r,n,a,t[11],10,-1120210379),a=Co(a,s,r,n,t[2],15,718787259),n=Co(n,a,s,r,t[9],21,-343485551),e[0]=e0(r,e[0]),e[1]=e0(n,e[1]),e[2]=e0(a,e[2]),e[3]=e0(s,e[3])}function C5(e,t,r,n,a,s){return t=e0(e0(t,e),e0(n,s)),e0(t<<a|t>>>32-a,r)}function yo(e,t,r,n,a,s,i){return C5(t&r|~t&n,e,t,a,s,i)}function wo(e,t,r,n,a,s,i){return C5(t&n|r&~n,e,t,a,s,i)}function Eo(e,t,r,n,a,s,i){return C5(t^r^n,e,t,a,s,i)}function Co(e,t,r,n,a,s,i){return C5(r^(t|~n),e,t,a,s,i)}function RX(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)FB(n,oxe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(FB(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,FB(n,a),n}function oxe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}bb=jr.atob.bind(jr),bI=jr.btoa.bind(jr);var XM="0123456789abcdef".split("");function lxe(e){for(var t="",r=0;r<4;r++)t+=XM[e>>8*r+4&15]+XM[e>>8*r&15];return t}function cxe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function yI(e){return RX(e).map(cxe).join("")}var uxe=function(e){for(var t=0;t<e.length;t++)e[t]=lxe(e[t]);return e.join("")}(RX("hello"))!="5d41402abc4b2a76b9719d911017c592";function e0(e,t){if(uxe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function wI(e,t){var r,n,a,s;if(e!==r){for(var i=(a=e,s=1+(256/e.length>>0),new Array(s+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var d=o[l];u=(u+d+i.charCodeAt(l))%256,o[l]=o[u],o[u]=d}r=e,n=o}else o=n;var f=t.length,m=0,p=0,x="";for(l=0;l<f;l++)p=(p+(d=o[m=(m+1)%256]))%256,o[m]=o[p],o[p]=d,i=o[(o[m]+o[p])%256],x+=String.fromCharCode(t.charCodeAt(l)^i);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var YM={print:4,modify:8,copy:16,"annot-forms":32};function Mg(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(YM.perm!==void 0)throw new Error("Invalid permission: "+o);a+=YM[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,i),this.P=-(1+(255^a)),this.encryptionKey=yI(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=wI(this.encryptionKey,this.padding)}function Qg(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function JM(e){if(la(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[r]){var i=t[r][s];try{i[0].apply(e,n)}catch(o){jr.console&&ya.error("jsPDF PubSub Error",o.message,o)}i[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function A_(e){if(!(this instanceof A_))return new A_(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function LX(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Bm(e,t,r,n,a){if(!(this instanceof Bm))return new Bm(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,LX.call(this,n,a)}function Gg(e,t,r,n,a){if(!(this instanceof Gg))return new Gg(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,LX.call(this,n,a)}function mr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],i=[],o=1,l=16,u="S",d=null;la(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),i=e.filters||(s===!0?["FlateEncode"]:i),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=JM;var x="1.3",g=p.__private__.getPdfVersion=function(){return x};p.__private__.setPdfVersion=function(z){x=z};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return b};var y=p.__private__.getPageFormat=function(z){return b[z]};a=a||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},S=_.COMPAT;function I(){this.saveGraphicsState(),pe(new qt(Be,0,0,-Be,0,Ci()*Be).toString()+" cm"),this.setFontSize(this.getFontSize()/Be),u="n",S=_.ADVANCED}function T(){this.restoreGraphicsState(),u="S",S=_.COMPAT}var F=p.__private__.combineFontStyleAndFontWeight=function(z,ce){if(z=="bold"&&ce=="normal"||z=="bold"&&ce==400||z=="normal"&&ce=="italic"||z=="bold"&&ce=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ce&&(z=ce==400||ce==="normal"?z==="italic"?"italic":"normal":ce!=700&&ce!=="bold"||z!=="normal"?(ce==700?"bold":ce)+""+z:"bold"),z};p.advancedAPI=function(z){var ce=S===_.COMPAT;return ce&&I.call(this),typeof z!="function"||(z(this),ce&&T.call(this)),this},p.compatAPI=function(z){var ce=S===_.ADVANCED;return ce&&T.call(this),typeof z!="function"||(z(this),ce&&I.call(this)),this},p.isAdvancedAPI=function(){return S===_.ADVANCED};var w,C=function(z){if(S!==_.ADVANCED)throw new Error(z+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},N=p.roundToPrecision=p.__private__.roundToPrecision=function(z,ce){var Te=t||ce;if(isNaN(z)||isNaN(Te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return z.toFixed(Te).replace(/0+$/,"")};w=p.hpf=p.__private__.hpf=typeof l=="number"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return N(z,l)}:l==="smart"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return N(z,z>-1&&z<1?16:5)}:function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return N(z,16)};var R=p.f2=p.__private__.f2=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f2");return N(z,2)},D=p.__private__.f3=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f3");return N(z,3)},O=p.scale=p.__private__.scale=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.scale");return S===_.COMPAT?z*Be:S===_.ADVANCED?z:void 0},M=function(z){return S===_.COMPAT?Ci()-z:S===_.ADVANCED?z:void 0},Q=function(z){return O(M(z))};p.__private__.setPrecision=p.setPrecision=function(z){typeof parseInt(z,10)=="number"&&(t=parseInt(z,10))};var ee,W="00000000000000000000000000000000",Z=p.__private__.getFileId=function(){return W},V=p.__private__.setFileId=function(z){return W=z!==void 0&&/^[a-fA-F0-9]{32}$/.test(z)?z.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(ta=new Mg(d.userPermissions,d.userPassword,d.ownerPassword,W)),W};p.setFileId=function(z){return V(z),this},p.getFileId=function(){return Z()};var q=p.__private__.convertDateToPDFDate=function(z){var ce=z.getTimezoneOffset(),Te=ce<0?"+":"-",Re=Math.floor(Math.abs(ce/60)),Ke=Math.abs(ce%60),ut=[Te,Y(Re),"'",Y(Ke),"'"].join("");return["D:",z.getFullYear(),Y(z.getMonth()+1),Y(z.getDate()),Y(z.getHours()),Y(z.getMinutes()),Y(z.getSeconds()),ut].join("")},K=p.__private__.convertPDFDateToDate=function(z){var ce=parseInt(z.substr(2,4),10),Te=parseInt(z.substr(6,2),10)-1,Re=parseInt(z.substr(8,2),10),Ke=parseInt(z.substr(10,2),10),ut=parseInt(z.substr(12,2),10),kt=parseInt(z.substr(14,2),10);return new Date(ce,Te,Re,Ke,ut,kt,0)},J=p.__private__.setCreationDate=function(z){var ce;if(z===void 0&&(z=new Date),z instanceof Date)ce=q(z);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(z))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ce=z}return ee=ce},P=p.__private__.getCreationDate=function(z){var ce=ee;return z==="jsDate"&&(ce=K(ee)),ce};p.setCreationDate=function(z){return J(z),this},p.getCreationDate=function(z){return P(z)};var G,Y=p.__private__.padd2=function(z){return("0"+parseInt(z)).slice(-2)},re=p.__private__.padd2Hex=function(z){return("00"+(z=z.toString())).substr(z.length)},ie=0,de=[],me=[],ue=0,ye=[],Ie=[],ne=!1,Fe=me,Le=function(){ie=0,ue=0,me=[],de=[],ye=[],we=da(),Ee=da()};p.__private__.setCustomOutputDestination=function(z){ne=!0,Fe=z};var ke=function(z){ne||(Fe=z)};p.__private__.resetCustomOutputDestination=function(){ne=!1,Fe=me};var pe=p.__private__.out=function(z){return z=z.toString(),ue+=z.length+1,Fe.push(z),Fe},je=p.__private__.write=function(z){return pe(arguments.length===1?z.toString():Array.prototype.join.call(arguments," "))},He=p.__private__.getArrayBuffer=function(z){for(var ce=z.length,Te=new ArrayBuffer(ce),Re=new Uint8Array(Te);ce--;)Re[ce]=z.charCodeAt(ce);return Te},Xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Xe};var dt=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(z){return dt=S===_.ADVANCED?z/Be:z,this};var Et,Tt=p.__private__.getFontSize=p.getFontSize=function(){return S===_.COMPAT?dt:dt*Be},Ct=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(z){return Ct=z,this},p.__private__.getR2L=p.getR2L=function(){return Ct};var Dt,Jt=p.__private__.setZoomMode=function(z){var ce=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(z))Et=z;else if(isNaN(z)){if(ce.indexOf(z)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+z+'" is not recognized.');Et=z}else Et=parseInt(z,10)};p.__private__.getZoomMode=function(){return Et};var Pt,Mt=p.__private__.setPageMode=function(z){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(z)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+z+'" is not recognized.');Dt=z};p.__private__.getPageMode=function(){return Dt};var Wt=p.__private__.setLayoutMode=function(z){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(z)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+z+'" is not recognized.');Pt=z};p.__private__.getLayoutMode=function(){return Pt},p.__private__.setDisplayMode=p.setDisplayMode=function(z,ce,Te){return Jt(z),Wt(ce),Mt(Te),this};var De={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(z){if(Object.keys(De).indexOf(z)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return De[z]},p.__private__.getDocumentProperties=function(){return De},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(z){for(var ce in De)De.hasOwnProperty(ce)&&z[ce]&&(De[ce]=z[ce]);return this},p.__private__.setDocumentProperty=function(z,ce){if(Object.keys(De).indexOf(z)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return De[z]=ce};var Pe,Be,ot,vt,ur,Gt={},Rt={},Vr=[],dr={},yn={},Qr={},kn={},Zn=null,or=0,Zt=[],Kr=new JM(p),Ls=e.hotfixes||[],ua={},Ha={},ai=[],qt=function z(ce,Te,Re,Ke,ut,kt){if(!(this instanceof z))return new z(ce,Te,Re,Ke,ut,kt);isNaN(ce)&&(ce=1),isNaN(Te)&&(Te=0),isNaN(Re)&&(Re=0),isNaN(Ke)&&(Ke=1),isNaN(ut)&&(ut=0),isNaN(kt)&&(kt=0),this._matrix=[ce,Te,Re,Ke,ut,kt]};Object.defineProperty(qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(qt.prototype,"a",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(qt.prototype,"b",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(qt.prototype,"c",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(qt.prototype,"d",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(qt.prototype,"e",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(qt.prototype,"f",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),qt.prototype.join=function(z){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(w).join(z)},qt.prototype.multiply=function(z){var ce=z.sx*this.sx+z.shy*this.shx,Te=z.sx*this.shy+z.shy*this.sy,Re=z.shx*this.sx+z.sy*this.shx,Ke=z.shx*this.shy+z.sy*this.sy,ut=z.tx*this.sx+z.ty*this.shx+this.tx,kt=z.tx*this.shy+z.ty*this.sy+this.ty;return new qt(ce,Te,Re,Ke,ut,kt)},qt.prototype.decompose=function(){var z=this.sx,ce=this.shy,Te=this.shx,Re=this.sy,Ke=this.tx,ut=this.ty,kt=Math.sqrt(z*z+ce*ce),zt=(z/=kt)*Te+(ce/=kt)*Re;Te-=z*zt,Re-=ce*zt;var j=Math.sqrt(Te*Te+Re*Re);return zt/=j,z*(Re/=j)<ce*(Te/=j)&&(z=-z,ce=-ce,zt=-zt,kt=-kt),{scale:new qt(kt,0,0,j,0,0),translate:new qt(1,0,0,1,Ke,ut),rotate:new qt(z,ce,-ce,z,0,0),skew:new qt(1,0,zt,1,0,0)}},qt.prototype.toString=function(z){return this.join(" ")},qt.prototype.inversed=function(){var z=this.sx,ce=this.shy,Te=this.shx,Re=this.sy,Ke=this.tx,ut=this.ty,kt=1/(z*Re-ce*Te),zt=Re*kt,j=-ce*kt,te=-Te*kt,se=z*kt;return new qt(zt,j,te,se,-zt*Ke-te*ut,-j*Ke-se*ut)},qt.prototype.applyToPoint=function(z){var ce=z.x*this.sx+z.y*this.shx+this.tx,Te=z.x*this.shy+z.y*this.sy+this.ty;return new _u(ce,Te)},qt.prototype.applyToRectangle=function(z){var ce=this.applyToPoint(z),Te=this.applyToPoint(new _u(z.x+z.w,z.y+z.h));return new gd(ce.x,ce.y,Te.x-ce.x,Te.y-ce.y)},qt.prototype.clone=function(){var z=this.sx,ce=this.shy,Te=this.shx,Re=this.sy,Ke=this.tx,ut=this.ty;return new qt(z,ce,Te,Re,Ke,ut)},p.Matrix=qt;var wn=p.matrixMult=function(z,ce){return ce.multiply(z)},An=new qt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=An;var Vn=function(z,ce){if(!yn[z]){var Te=(ce instanceof Bm?"Sh":"P")+(Object.keys(dr).length+1).toString(10);ce.id=Te,yn[z]=Te,dr[Te]=ce,Kr.publish("addPattern",ce)}};p.ShadingPattern=Bm,p.TilingPattern=Gg,p.addShadingPattern=function(z,ce){return C("addShadingPattern()"),Vn(z,ce),this},p.beginTilingPattern=function(z){C("beginTilingPattern()"),Fc(z.boundingBox[0],z.boundingBox[1],z.boundingBox[2]-z.boundingBox[0],z.boundingBox[3]-z.boundingBox[1],z.matrix)},p.endTilingPattern=function(z,ce){C("endTilingPattern()"),ce.stream=Ie[G].join(`
`),Vn(z,ce),Kr.publish("endTilingPattern",ce),ai.pop().restore()};var ea=p.__private__.newObject=function(){var z=da();return Ae(z,!0),z},da=p.__private__.newObjectDeferred=function(){return ie++,de[ie]=function(){return ue},ie},Ae=function(z,ce){return ce=typeof ce=="boolean"&&ce,de[z]=ue,ce&&pe(z+" 0 obj"),z},Se=p.__private__.newAdditionalObject=function(){var z={objId:da(),content:""};return ye.push(z),z},we=da(),Ee=da(),Ce=p.__private__.decodeColorString=function(z){var ce=z.split(" ");if(ce.length!==2||ce[1]!=="g"&&ce[1]!=="G")ce.length===5&&(ce[4]==="k"||ce[4]==="K")&&(ce=[(1-ce[0])*(1-ce[3]),(1-ce[1])*(1-ce[3]),(1-ce[2])*(1-ce[3]),"r"]);else{var Te=parseFloat(ce[0]);ce=[Te,Te,Te,"r"]}for(var Re="#",Ke=0;Ke<3;Ke++)Re+=("0"+Math.floor(255*parseFloat(ce[Ke])).toString(16)).slice(-2);return Re},Ne=p.__private__.encodeColorString=function(z){var ce;typeof z=="string"&&(z={ch1:z});var Te=z.ch1,Re=z.ch2,Ke=z.ch3,ut=z.ch4,kt=z.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Te=="string"&&Te.charAt(0)!=="#"){var zt=new PX(Te);if(zt.ok)Te=zt.toHex();else if(!/^\d*\.?\d*$/.test(Te))throw new Error('Invalid color "'+Te+'" passed to jsPDF.encodeColorString.')}if(typeof Te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Te)&&(Te="#"+Te[1]+Te[1]+Te[2]+Te[2]+Te[3]+Te[3]),typeof Te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Te)){var j=parseInt(Te.substr(1),16);Te=j>>16&255,Re=j>>8&255,Ke=255&j}if(Re===void 0||ut===void 0&&Te===Re&&Re===Ke)if(typeof Te=="string")ce=Te+" "+kt[0];else switch(z.precision){case 2:ce=R(Te/255)+" "+kt[0];break;case 3:default:ce=D(Te/255)+" "+kt[0]}else if(ut===void 0||la(ut)==="object"){if(ut&&!isNaN(ut.a)&&ut.a===0)return ce=["1.","1.","1.",kt[1]].join(" ");if(typeof Te=="string")ce=[Te,Re,Ke,kt[1]].join(" ");else switch(z.precision){case 2:ce=[R(Te/255),R(Re/255),R(Ke/255),kt[1]].join(" ");break;default:case 3:ce=[D(Te/255),D(Re/255),D(Ke/255),kt[1]].join(" ")}}else if(typeof Te=="string")ce=[Te,Re,Ke,ut,kt[2]].join(" ");else switch(z.precision){case 2:ce=[R(Te),R(Re),R(Ke),R(ut),kt[2]].join(" ");break;case 3:default:ce=[D(Te),D(Re),D(Ke),D(ut),kt[2]].join(" ")}return ce},We=p.__private__.getFilters=function(){return i},st=p.__private__.putStream=function(z){var ce=(z=z||{}).data||"",Te=z.filters||We(),Re=z.alreadyAppliedFilters||[],Ke=z.addLength1||!1,ut=ce.length,kt=z.objectId,zt=function(Sr){return Sr};if(d!==null&&kt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(zt=ta.encryptor(kt,0));var j={};Te===!0&&(Te=["FlateEncode"]);var te=z.additionalKeyValues||[],se=(j=mr.API.processDataByFilters!==void 0?mr.API.processDataByFilters(ce,Te):{data:ce,reverseChain:[]}).reverseChain+(Array.isArray(Re)?Re.join(" "):Re.toString());if(j.data.length!==0&&(te.push({key:"Length",value:j.data.length}),Ke===!0&&te.push({key:"Length1",value:ut})),se.length!=0)if(se.split("/").length-1==1)te.push({key:"Filter",value:se});else{te.push({key:"Filter",value:"["+se+"]"});for(var ve=0;ve<te.length;ve+=1)if(te[ve].key==="DecodeParms"){for(var ze=[],rt=0;rt<j.reverseChain.split("/").length-1;rt+=1)ze.push("null");ze.push(te[ve].value),te[ve].value="["+ze.join(" ")+"]"}}pe("<<");for(var It=0;It<te.length;It++)pe("/"+te[It].key+" "+te[It].value);pe(">>"),j.data.length!==0&&(pe("stream"),pe(zt(j.data)),pe("endstream"))},$e=p.__private__.putPage=function(z){var ce=z.number,Te=z.data,Re=z.objId,Ke=z.contentsObjId;Ae(Re,!0),pe("<</Type /Page"),pe("/Parent "+z.rootDictionaryObjId+" 0 R"),pe("/Resources "+z.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(w(z.mediaBox.bottomLeftX))+" "+parseFloat(w(z.mediaBox.bottomLeftY))+" "+w(z.mediaBox.topRightX)+" "+w(z.mediaBox.topRightY)+"]"),z.cropBox!==null&&pe("/CropBox ["+w(z.cropBox.bottomLeftX)+" "+w(z.cropBox.bottomLeftY)+" "+w(z.cropBox.topRightX)+" "+w(z.cropBox.topRightY)+"]"),z.bleedBox!==null&&pe("/BleedBox ["+w(z.bleedBox.bottomLeftX)+" "+w(z.bleedBox.bottomLeftY)+" "+w(z.bleedBox.topRightX)+" "+w(z.bleedBox.topRightY)+"]"),z.trimBox!==null&&pe("/TrimBox ["+w(z.trimBox.bottomLeftX)+" "+w(z.trimBox.bottomLeftY)+" "+w(z.trimBox.topRightX)+" "+w(z.trimBox.topRightY)+"]"),z.artBox!==null&&pe("/ArtBox ["+w(z.artBox.bottomLeftX)+" "+w(z.artBox.bottomLeftY)+" "+w(z.artBox.topRightX)+" "+w(z.artBox.topRightY)+"]"),typeof z.userUnit=="number"&&z.userUnit!==1&&pe("/UserUnit "+z.userUnit),Kr.publish("putPage",{objId:Re,pageContext:Zt[ce],pageNumber:ce,page:Te}),pe("/Contents "+Ke+" 0 R"),pe(">>"),pe("endobj");var ut=Te.join(`
`);return S===_.ADVANCED&&(ut+=`
Q`),Ae(Ke,!0),st({data:ut,filters:We(),objectId:Ke}),pe("endobj"),Re},Je=p.__private__.putPages=function(){var z,ce,Te=[];for(z=1;z<=or;z++)Zt[z].objId=da(),Zt[z].contentsObjId=da();for(z=1;z<=or;z++)Te.push($e({number:z,data:Ie[z],objId:Zt[z].objId,contentsObjId:Zt[z].contentsObjId,mediaBox:Zt[z].mediaBox,cropBox:Zt[z].cropBox,bleedBox:Zt[z].bleedBox,trimBox:Zt[z].trimBox,artBox:Zt[z].artBox,userUnit:Zt[z].userUnit,rootDictionaryObjId:we,resourceDictionaryObjId:Ee}));Ae(we,!0),pe("<</Type /Pages");var Re="/Kids [";for(ce=0;ce<or;ce++)Re+=Te[ce]+" 0 R ";pe(Re+"]"),pe("/Count "+or),pe(">>"),pe("endobj"),Kr.publish("postPutPages")},tt=function(z){Kr.publish("putFont",{font:z,out:pe,newObject:ea,putStream:st}),z.isAlreadyPutted!==!0&&(z.objectNumber=ea(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+Qg(z.postScriptName)),pe("/Subtype /Type1"),typeof z.encoding=="string"&&pe("/Encoding /"+z.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},wt=function(){for(var z in Gt)Gt.hasOwnProperty(z)&&(f===!1||f===!0&&m.hasOwnProperty(z))&&tt(Gt[z])},Ot=function(z){z.objectNumber=ea();var ce=[];ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Form"}),ce.push({key:"BBox",value:"["+[w(z.x),w(z.y),w(z.x+z.width),w(z.y+z.height)].join(" ")+"]"}),ce.push({key:"Matrix",value:"["+z.matrix.toString()+"]"});var Te=z.pages[1].join(`
`);st({data:Te,additionalKeyValues:ce,objectId:z.objectNumber}),pe("endobj")},Vt=function(){for(var z in ua)ua.hasOwnProperty(z)&&Ot(ua[z])},jt=function(z,ce){var Te,Re=[],Ke=1/(ce-1);for(Te=0;Te<1;Te+=Ke)Re.push(Te);if(Re.push(1),z[0].offset!=0){var ut={offset:0,color:z[0].color};z.unshift(ut)}if(z[z.length-1].offset!=1){var kt={offset:1,color:z[z.length-1].color};z.push(kt)}for(var zt="",j=0,te=0;te<Re.length;te++){for(Te=Re[te];Te>z[j+1].offset;)j++;var se=z[j].offset,ve=(Te-se)/(z[j+1].offset-se),ze=z[j].color,rt=z[j+1].color;zt+=re(Math.round((1-ve)*ze[0]+ve*rt[0]).toString(16))+re(Math.round((1-ve)*ze[1]+ve*rt[1]).toString(16))+re(Math.round((1-ve)*ze[2]+ve*rt[2]).toString(16))}return zt.trim()},Lt=function(z,ce){ce||(ce=21);var Te=ea(),Re=jt(z.colors,ce),Ke=[];Ke.push({key:"FunctionType",value:"0"}),Ke.push({key:"Domain",value:"[0.0 1.0]"}),Ke.push({key:"Size",value:"["+ce+"]"}),Ke.push({key:"BitsPerSample",value:"8"}),Ke.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ke.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),st({data:Re,additionalKeyValues:Ke,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Te}),pe("endobj"),z.objectNumber=ea(),pe("<< /ShadingType "+z.type),pe("/ColorSpace /DeviceRGB");var ut="/Coords ["+w(parseFloat(z.coords[0]))+" "+w(parseFloat(z.coords[1]))+" ";z.type===2?ut+=w(parseFloat(z.coords[2]))+" "+w(parseFloat(z.coords[3])):ut+=w(parseFloat(z.coords[2]))+" "+w(parseFloat(z.coords[3]))+" "+w(parseFloat(z.coords[4]))+" "+w(parseFloat(z.coords[5])),pe(ut+="]"),z.matrix&&pe("/Matrix ["+z.matrix.toString()+"]"),pe("/Function "+Te+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},yr=function(z,ce){var Te=da(),Re=ea();ce.push({resourcesOid:Te,objectOid:Re}),z.objectNumber=Re;var Ke=[];Ke.push({key:"Type",value:"/Pattern"}),Ke.push({key:"PatternType",value:"1"}),Ke.push({key:"PaintType",value:"1"}),Ke.push({key:"TilingType",value:"1"}),Ke.push({key:"BBox",value:"["+z.boundingBox.map(w).join(" ")+"]"}),Ke.push({key:"XStep",value:w(z.xStep)}),Ke.push({key:"YStep",value:w(z.yStep)}),Ke.push({key:"Resources",value:Te+" 0 R"}),z.matrix&&Ke.push({key:"Matrix",value:"["+z.matrix.toString()+"]"}),st({data:z.stream,additionalKeyValues:Ke,objectId:z.objectNumber}),pe("endobj")},Wr=function(z){var ce;for(ce in dr)dr.hasOwnProperty(ce)&&(dr[ce]instanceof Bm?Lt(dr[ce]):dr[ce]instanceof Gg&&yr(dr[ce],z))},Xr=function(z){for(var ce in z.objectNumber=ea(),pe("<<"),z)switch(ce){case"opacity":pe("/ca "+R(z[ce]));break;case"stroke-opacity":pe("/CA "+R(z[ce]))}pe(">>"),pe("endobj")},en=function(){var z;for(z in Qr)Qr.hasOwnProperty(z)&&Xr(Qr[z])},ts=function(){for(var z in pe("/XObject <<"),ua)ua.hasOwnProperty(z)&&ua[z].objectNumber>=0&&pe("/"+z+" "+ua[z].objectNumber+" 0 R");Kr.publish("putXobjectDict"),pe(">>")},oo=function(){ta.oid=ea(),pe("<<"),pe("/Filter /Standard"),pe("/V "+ta.v),pe("/R "+ta.r),pe("/U <"+ta.toHexString(ta.U)+">"),pe("/O <"+ta.toHexString(ta.O)+">"),pe("/P "+ta.P),pe(">>"),pe("endobj")},rs=function(){for(var z in pe("/Font <<"),Gt)Gt.hasOwnProperty(z)&&(f===!1||f===!0&&m.hasOwnProperty(z))&&pe("/"+z+" "+Gt[z].objectNumber+" 0 R");pe(">>")},Us=function(){if(Object.keys(dr).length>0){for(var z in pe("/Shading <<"),dr)dr.hasOwnProperty(z)&&dr[z]instanceof Bm&&dr[z].objectNumber>=0&&pe("/"+z+" "+dr[z].objectNumber+" 0 R");Kr.publish("putShadingPatternDict"),pe(">>")}},ys=function(z){if(Object.keys(dr).length>0){for(var ce in pe("/Pattern <<"),dr)dr.hasOwnProperty(ce)&&dr[ce]instanceof p.TilingPattern&&dr[ce].objectNumber>=0&&dr[ce].objectNumber<z&&pe("/"+ce+" "+dr[ce].objectNumber+" 0 R");Kr.publish("putTilingPatternDict"),pe(">>")}},si=function(){if(Object.keys(Qr).length>0){var z;for(z in pe("/ExtGState <<"),Qr)Qr.hasOwnProperty(z)&&Qr[z].objectNumber>=0&&pe("/"+z+" "+Qr[z].objectNumber+" 0 R");Kr.publish("putGStateDict"),pe(">>")}},Aa=function(z){Ae(z.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),rs(),Us(),ys(z.objectOid),si(),ts(),pe(">>"),pe("endobj")},Ms=function(){var z=[];wt(),en(),Vt(),Wr(z),Kr.publish("putResources"),z.forEach(Aa),Aa({resourcesOid:Ee,objectOid:Number.MAX_SAFE_INTEGER}),Kr.publish("postPutResources")},Ad=function(){Kr.publish("putAdditionalObjects");for(var z=0;z<ye.length;z++){var ce=ye[z];Ae(ce.objId,!0),pe(ce.content),pe("endobj")}Kr.publish("postPutAdditionalObjects")},Xf=function(z){Rt[z.fontName]=Rt[z.fontName]||{},Rt[z.fontName][z.fontStyle]=z.id},Cc=function(z,ce,Te,Re,Ke){var ut={id:"F"+(Object.keys(Gt).length+1).toString(10),postScriptName:z,fontName:ce,fontStyle:Te,encoding:Re,isStandardFont:Ke||!1,metadata:{}};return Kr.publish("addFont",{font:ut,instance:this}),Gt[ut.id]=ut,Xf(ut),ut.id},_A=function(z){for(var ce=0,Te=Xe.length;ce<Te;ce++){var Re=Cc.call(this,z[ce][0],z[ce][1],z[ce][2],Xe[ce][3],!0);f===!1&&(m[Re]=!0);var Ke=z[ce][0].split("-");Xf({id:Re,fontName:Ke[0],fontStyle:Ke[1]||""})}Kr.publish("addFonts",{fonts:Gt,dictionary:Rt})},ii=function(z){return z.foo=function(){try{return z.apply(this,arguments)}catch(Re){var ce=Re.stack||"";~ce.indexOf(" at ")&&(ce=ce.split(" at ")[1]);var Te="Error in function "+ce.split(`
`)[0].split("<")[0]+": "+Re.message;if(!jr.console)throw new Error(Te);jr.console.error(Te,Re),jr.alert&&alert(Te)}},z.foo.bar=z,z.foo},fd=function(z,ce){var Te,Re,Ke,ut,kt,zt,j,te,se;if(Ke=(ce=ce||{}).sourceEncoding||"Unicode",kt=ce.outputEncoding,(ce.autoencode||kt)&&Gt[Pe].metadata&&Gt[Pe].metadata[Ke]&&Gt[Pe].metadata[Ke].encoding&&(ut=Gt[Pe].metadata[Ke].encoding,!kt&&Gt[Pe].encoding&&(kt=Gt[Pe].encoding),!kt&&ut.codePages&&(kt=ut.codePages[0]),typeof kt=="string"&&(kt=ut[kt]),kt)){for(j=!1,zt=[],Te=0,Re=z.length;Te<Re;Te++)(te=kt[z.charCodeAt(Te)])?zt.push(String.fromCharCode(te)):zt.push(z[Te]),zt[Te].charCodeAt(0)>>8&&(j=!0);z=zt.join("")}for(Te=z.length;j===void 0&&Te!==0;)z.charCodeAt(Te-1)>>8&&(j=!0),Te--;if(!j)return z;for(zt=ce.noBOM?[]:[254,255],Te=0,Re=z.length;Te<Re;Te++){if((se=(te=z.charCodeAt(Te))>>8)>>8)throw new Error("Character at position "+Te+" of string '"+z+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");zt.push(se),zt.push(te-(se<<8))}return String.fromCharCode.apply(void 0,zt)},En=p.__private__.pdfEscape=p.pdfEscape=function(z,ce){return fd(z,ce).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},oi=p.__private__.beginPage=function(z){Ie[++or]=[],Zt[or]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(z[0]),topRightY:Number(z[1])}},ll(or),ke(Ie[G])},_c=function(z,ce){var Te,Re,Ke;switch(r=ce||r,typeof z=="string"&&(Te=y(z.toLowerCase()),Array.isArray(Te)&&(Re=Te[0],Ke=Te[1])),Array.isArray(z)&&(Re=z[0]*Be,Ke=z[1]*Be),isNaN(Re)&&(Re=a[0],Ke=a[1]),(Re>14400||Ke>14400)&&(ya.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Re=Math.min(14400,Re),Ke=Math.min(14400,Ke)),a=[Re,Ke],r.substr(0,1)){case"l":Ke>Re&&(a=[Ke,Re]);break;case"p":Re>Ke&&(a=[Ke,Re])}oi(a),kA(kc),pe(li),TA!==0&&pe(TA+" J"),Cu!==0&&pe(Cu+" j"),Kr.publish("addPage",{pageNumber:or})},Sc=function(z){z>0&&z<=or&&(Ie.splice(z,1),Zt.splice(z,1),or--,G>or&&(G=or),this.setPage(G))},ll=function(z){z>0&&z<=or&&(G=z)},Fn=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ie.length-1},Nc=function(z,ce,Te){var Re,Ke=void 0;return Te=Te||{},z=z!==void 0?z:Gt[Pe].fontName,ce=ce!==void 0?ce:Gt[Pe].fontStyle,Re=z.toLowerCase(),Rt[Re]!==void 0&&Rt[Re][ce]!==void 0?Ke=Rt[Re][ce]:Rt[z]!==void 0&&Rt[z][ce]!==void 0?Ke=Rt[z][ce]:Te.disableWarning===!1&&ya.warn("Unable to look up font label for font '"+z+"', '"+ce+"'. Refer to getFontList() for available fonts."),Ke||Te.noFallback||(Ke=Rt.times[ce])==null&&(Ke=Rt.times.normal),Ke},lo=p.__private__.putInfo=function(){var z=ea(),ce=function(Re){return Re};for(var Te in d!==null&&(ce=ta.encryptor(z,0)),pe("<<"),pe("/Producer ("+En(ce("jsPDF "+mr.version))+")"),De)De.hasOwnProperty(Te)&&De[Te]&&pe("/"+Te.substr(0,1).toUpperCase()+Te.substr(1)+" ("+En(ce(De[Te]))+")");pe("/CreationDate ("+En(ce(ee))+")"),pe(">>"),pe("endobj")},Ll=p.__private__.putCatalog=function(z){var ce=(z=z||{}).rootDictionaryObjId||we;switch(ea(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+ce+" 0 R"),Et||(Et="fullwidth"),Et){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Te=""+Et;Te.substr(Te.length-1)==="%"&&(Et=parseInt(Et)/100),typeof Et=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+R(Et)+"]")}switch(Pt||(Pt="continuous"),Pt){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}Dt&&pe("/PageMode /"+Dt),Kr.publish("putCatalog"),pe(">>"),pe("endobj")},Yf=p.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(ie+1)),pe("/Root "+ie+" 0 R"),pe("/Info "+(ie-1)+" 0 R"),d!==null&&pe("/Encrypt "+ta.oid+" 0 R"),pe("/ID [ <"+W+"> <"+W+"> ]"),pe(">>")},SA=p.__private__.putHeader=function(){pe("%PDF-"+x),pe("%ºß¬à")},NA=p.__private__.putXRef=function(){var z="0000000000";pe("xref"),pe("0 "+(ie+1)),pe("0000000000 65535 f ");for(var ce=1;ce<=ie;ce++)typeof de[ce]=="function"?pe((z+de[ce]()).slice(-10)+" 00000 n "):de[ce]!==void 0?pe((z+de[ce]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},Ul=p.__private__.buildDocument=function(){Le(),ke(me),Kr.publish("buildDocument"),SA(),Je(),Ad(),Ms(),d!==null&&oo(),lo(),Ll();var z=ue;return NA(),Yf(),pe("startxref"),pe(""+z),pe("%%EOF"),ke(Ie[G]),me.join(`
`)},hd=p.__private__.getBlob=function(z){return new Blob([He(z)],{type:"application/pdf"})},Ml=p.output=p.__private__.output=ii(function(z,ce){switch(typeof(ce=ce||{})=="string"?ce={filename:ce}:ce.filename=ce.filename||"generated.pdf",z){case void 0:return Ul();case"save":p.save(ce.filename);break;case"arraybuffer":return He(Ul());case"blob":return hd(Ul());case"bloburi":case"bloburl":if(jr.URL!==void 0&&typeof jr.URL.createObjectURL=="function")return jr.URL&&jr.URL.createObjectURL(hd(Ul()))||void 0;ya.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Te="",Re=Ul();try{Te=bI(Re)}catch{Te=bI(unescape(encodeURIComponent(Re)))}return"data:application/pdf;filename="+ce.filename+";base64,"+Te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jr)==="[object Window]"){var Ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ut=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ce.pdfObjectUrl&&(Ke=ce.pdfObjectUrl,ut="");var kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ke+'"'+ut+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ce)+");<\/script></body></html>",zt=jr.open();return zt!==null&&zt.document.write(kt),zt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jr)==="[object Window]"){var j='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ce.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ce.filename+'" width="500px" height="400px" /></body></html>',te=jr.open();if(te!==null){te.document.write(j);var se=this;te.document.documentElement.querySelector("#pdfViewer").onload=function(){te.document.title=ce.filename,te.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(se.output("bloburl"))}}return te}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ce)+'"></iframe></body></html>',ze=jr.open();if(ze!==null&&(ze.document.write(ve),ze.document.title=ce.filename),ze||typeof safari>"u")return ze;break;case"datauri":case"dataurl":return jr.document.location.href=this.output("datauristring",ce);default:return null}}),cl=function(z){return Array.isArray(Ls)===!0&&Ls.indexOf(z)>-1};switch(n){case"pt":Be=1;break;case"mm":Be=72/25.4;break;case"cm":Be=72/2.54;break;case"in":Be=72;break;case"px":Be=cl("px_scaling")==1?.75:96/72;break;case"pc":case"em":Be=12;break;case"ex":Be=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Be=n}var ta=null;J(),V();var Ql=function(z){return d!==null?ta.encryptor(z,0):function(ce){return ce}},ul=p.__private__.getPageInfo=p.getPageInfo=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Zt[z].objId,pageNumber:z,pageContext:Zt[z]}},_r=p.__private__.getPageInfoByObjId=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ce in Zt)if(Zt[ce].objId===z)break;return ul(ce)},dl=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Zt[G].objId,pageNumber:G,pageContext:Zt[G]}};p.addPage=function(){return _c.apply(this,arguments),this},p.setPage=function(){return ll.apply(this,arguments),ke.call(this,Ie[G]),this},p.insertPage=function(z){return this.addPage(),this.movePage(G,z),this},p.movePage=function(z,ce){var Te,Re;if(z>ce){Te=Ie[z],Re=Zt[z];for(var Ke=z;Ke>ce;Ke--)Ie[Ke]=Ie[Ke-1],Zt[Ke]=Zt[Ke-1];Ie[ce]=Te,Zt[ce]=Re,this.setPage(ce)}else if(z<ce){Te=Ie[z],Re=Zt[z];for(var ut=z;ut<ce;ut++)Ie[ut]=Ie[ut+1],Zt[ut]=Zt[ut+1];Ie[ce]=Te,Zt[ce]=Re,this.setPage(ce)}return this},p.deletePage=function(){return Sc.apply(this,arguments),this},p.__private__.text=p.text=function(z,ce,Te,Re,Ke){var ut,kt,zt,j,te,se,ve,ze,rt,It=(Re=Re||{}).scope||this;if(typeof z=="number"&&typeof ce=="number"&&(typeof Te=="string"||Array.isArray(Te))){var Sr=Te;Te=ce,ce=z,z=Sr}if(arguments[3]instanceof qt?(C("The transform parameter of text() with a Matrix value"),rt=Ke):(zt=arguments[4],j=arguments[5],la(ve=arguments[3])==="object"&&ve!==null||(typeof zt=="string"&&(j=zt,zt=null),typeof ve=="string"&&(j=ve,ve=null),typeof ve=="number"&&(zt=ve,ve=null),Re={flags:ve,angle:zt,align:j})),isNaN(ce)||isNaN(Te)||z==null)throw new Error("Invalid arguments passed to jsPDF.text");if(z.length===0)return It;var on="",Lr=!1,On=typeof Re.lineHeightFactor=="number"?Re.lineHeightFactor:sn,Kn=It.internal.scaleFactor;function ml(rn){return rn=rn.split("	").join(Array(Re.TabLen||9).join(" ")),En(rn,ve)}function Va(rn){for(var nn,fa=rn.concat(),za=[],gl=fa.length;gl--;)typeof(nn=fa.shift())=="string"?za.push(nn):Array.isArray(rn)&&(nn.length===1||nn[1]===void 0&&nn[2]===void 0)?za.push(nn[0]):za.push([nn[0],nn[1],nn[2]]);return za}function fo(rn,nn){var fa;if(typeof rn=="string")fa=nn(rn)[0];else if(Array.isArray(rn)){for(var za,gl,Bd=rn.concat(),kd=[],Tu=Bd.length;Tu--;)typeof(za=Bd.shift())=="string"?kd.push(nn(za)[0]):Array.isArray(za)&&typeof za[0]=="string"&&(gl=nn(za[0],za[1],za[2]),kd.push([gl[0],gl[1],gl[2]]));fa=kd}return fa}var Dc=!1,xd=!0;if(typeof z=="string")Dc=!0;else if(Array.isArray(z)){var th=z.concat();kt=[];for(var IA,ws=th.length;ws--;)(typeof(IA=th.shift())!="string"||Array.isArray(IA)&&typeof IA[0]!="string")&&(xd=!1);Dc=xd}if(Dc===!1)throw new Error('Type of text must be string or Array. "'+z+'" is not recognized.');typeof z=="string"&&(z=z.match(/[\r?\n]/)?z.split(/\r\n|\r|\n/g):[z]);var bd=dt/It.internal.scaleFactor,jA=bd*(On-1);switch(Re.baseline){case"bottom":Te-=jA;break;case"top":Te+=bd-jA;break;case"hanging":Te+=bd-2*jA;break;case"middle":Te+=bd/2-jA}if((se=Re.maxWidth||0)>0&&(typeof z=="string"?z=It.splitTextToSize(z,se):Object.prototype.toString.call(z)==="[object Array]"&&(z=z.reduce(function(rn,nn){return rn.concat(It.splitTextToSize(nn,se))},[]))),ut={text:z,x:ce,y:Te,options:Re,mutex:{pdfEscape:En,activeFontKey:Pe,fonts:Gt,activeFontSize:dt}},Kr.publish("preProcessText",ut),z=ut.text,zt=(Re=ut.options).angle,!(rt instanceof qt)&&zt&&typeof zt=="number"){zt*=Math.PI/180,Re.rotationDirection===0&&(zt=-zt),S===_.ADVANCED&&(zt=-zt);var FA=Math.cos(zt),rh=Math.sin(zt);rt=new qt(FA,rh,-rh,FA,0,0)}else zt&&zt instanceof qt&&(rt=zt);S!==_.ADVANCED||rt||(rt=An),(te=Re.charSpace||Eu)!==void 0&&(on+=w(O(te))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ze=Re.horizontalScale)!==void 0&&(on+=w(100*ze)+` Tz
`),Re.lang;var ho=-1,Ox=Re.renderingMode!==void 0?Re.renderingMode:Re.stroke,X0=It.internal.getCurrentPageInfo().pageContext;switch(Ox){case 0:case!1:case"fill":ho=0;break;case 1:case!0:case"stroke":ho=1;break;case 2:case"fillThenStroke":ho=2;break;case 3:case"invisible":ho=3;break;case 4:case"fillAndAddForClipping":ho=4;break;case 5:case"strokeAndAddPathForClipping":ho=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ho=6;break;case 7:case"addToPathForClipping":ho=7}var Lp=X0.usedRenderingMode!==void 0?X0.usedRenderingMode:-1;ho!==-1?on+=ho+` Tr
`:Lp!==-1&&(on+=`0 Tr
`),ho!==-1&&(X0.usedRenderingMode=ho),j=Re.align||"left";var pl,Qs=dt*On,yd=It.internal.pageSize.getWidth(),Y0=Gt[Pe];te=Re.charSpace||Eu,se=Re.maxWidth||0,ve=Object.assign({autoencode:!0,noBOM:!0},Re.flags);var Bu=[],wd=function(rn){return It.getStringUnitWidth(rn,{font:Y0,charSpace:te,fontSize:dt,doKerning:!1})*dt/Kn};if(Object.prototype.toString.call(z)==="[object Array]"){var Vi;kt=Va(z),j!=="left"&&(pl=kt.map(wd));var ci,Ed=0;if(j==="right"){ce-=pl[0],z=[],ws=kt.length;for(var mo=0;mo<ws;mo++)mo===0?(ci=Ei(ce),Vi=as(Te)):(ci=O(Ed-pl[mo]),Vi=-Qs),z.push([kt[mo],ci,Vi]),Ed=pl[mo]}else if(j==="center"){ce-=pl[0]/2,z=[],ws=kt.length;for(var $l=0;$l<ws;$l++)$l===0?(ci=Ei(ce),Vi=as(Te)):(ci=O((Ed-pl[$l])/2),Vi=-Qs),z.push([kt[$l],ci,Vi]),Ed=pl[$l]}else if(j==="left"){z=[],ws=kt.length;for(var Pc=0;Pc<ws;Pc++)z.push(kt[Pc])}else if(j==="justify"&&Y0.encoding==="Identity-H"){z=[],ws=kt.length,se=se!==0?se:yd;for(var Kl=0,Pa=0;Pa<ws;Pa++)if(Vi=Pa===0?as(Te):-Qs,ci=Pa===0?Ei(ce):Kl,Pa<ws-1){var Gl=O((se-pl[Pa])/(kt[Pa].split(" ").length-1)),ss=kt[Pa].split(" ");z.push([ss[0]+" ",ci,Vi]),Kl=0;for(var po=1;po<ss.length;po++){var OA=(wd(ss[po-1]+" "+ss[po])-wd(ss[po]))*Kn+Gl;po==ss.length-1?z.push([ss[po],OA,0]):z.push([ss[po]+" ",OA,0]),Kl-=OA}}else z.push([kt[Pa],ci,Vi]);z.push(["",Kl,0])}else{if(j!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(z=[],ws=kt.length,se=se!==0?se:yd,Pa=0;Pa<ws;Pa++)Vi=Pa===0?as(Te):-Qs,ci=Pa===0?Ei(ce):0,Pa<ws-1?Bu.push(w(O((se-pl[Pa])/(kt[Pa].split(" ").length-1)))):Bu.push(0),z.push([kt[Pa],ci,Vi])}}var Rc=typeof Re.R2L=="boolean"?Re.R2L:Ct;Rc===!0&&(z=fo(z,function(rn,nn,fa){return[rn.split("").reverse().join(""),nn,fa]})),ut={text:z,x:ce,y:Te,options:Re,mutex:{pdfEscape:En,activeFontKey:Pe,fonts:Gt,activeFontSize:dt}},Kr.publish("postProcessText",ut),z=ut.text,Lr=ut.mutex.isHex||!1;var nh=Gt[Pe].encoding;nh!=="WinAnsiEncoding"&&nh!=="StandardEncoding"||(z=fo(z,function(rn,nn,fa){return[ml(rn),nn,fa]})),kt=Va(z),z=[];for(var Cd,_d,Sd,DA=0,ah=1,Nd=Array.isArray(kt[0])?ah:DA,ku="",PA=function(rn,nn,fa){var za="";return fa instanceof qt?(fa=typeof Re.angle=="number"?wn(fa,new qt(1,0,0,1,rn,nn)):wn(new qt(1,0,0,1,rn,nn),fa),S===_.ADVANCED&&(fa=wn(new qt(1,0,0,-1,0,0),fa)),za=fa.join(" ")+` Tm
`):za=w(rn)+" "+w(nn)+` Td
`,za},Ra=0;Ra<kt.length;Ra++){switch(ku="",Nd){case ah:Sd=(Lr?"<":"(")+kt[Ra][0]+(Lr?">":")"),Cd=parseFloat(kt[Ra][1]),_d=parseFloat(kt[Ra][2]);break;case DA:Sd=(Lr?"<":"(")+kt[Ra]+(Lr?">":")"),Cd=Ei(ce),_d=as(Te)}Bu!==void 0&&Bu[Ra]!==void 0&&(ku=Bu[Ra]+` Tw
`),Ra===0?z.push(ku+PA(Cd,_d,rt)+Sd):Nd===DA?z.push(ku+Sd):Nd===ah&&z.push(ku+PA(Cd,_d,rt)+Sd)}z=Nd===DA?z.join(` Tj
T* `):z.join(` Tj
`),z+=` Tj
`;var Ko=`BT
/`;return Ko+=Pe+" "+dt+` Tf
`,Ko+=w(dt*On)+` TL
`,Ko+=Vl+`
`,Ko+=on,Ko+=z,pe(Ko+="ET"),m[Pe]=!0,It};var Jf=p.__private__.clip=p.clip=function(z){return pe(z==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Jf("evenodd")},p.__private__.discardPath=p.discardPath=function(){return pe("n"),this};var yi=p.__private__.isValidStyle=function(z){var ce=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(z)!==-1&&(ce=!0),ce};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(z){return yi(z)&&(u=z),this};var co=p.__private__.getStyle=p.getStyle=function(z){var ce=u;switch(z){case"D":case"S":ce="S";break;case"F":ce="f";break;case"FD":case"DF":ce="B";break;case"f":case"f*":case"B":case"B*":ce=z}return ce},Hi=p.close=function(){return pe("h"),this};p.stroke=function(){return pe("S"),this},p.fill=function(z){return Al("f",z),this},p.fillEvenOdd=function(z){return Al("f*",z),this},p.fillStroke=function(z){return Al("B",z),this},p.fillStrokeEvenOdd=function(z){return Al("B*",z),this};var Al=function(z,ce){la(ce)==="object"?Hl(ce,z):pe(z)},uo=function(z){z===null||S===_.ADVANCED&&z===void 0||(z=co(z),pe(z))};function Bc(z,ce,Te,Re,Ke){var ut=new Gg(ce||this.boundingBox,Te||this.xStep,Re||this.yStep,this.gState,Ke||this.matrix);ut.stream=this.stream;var kt=z+"$$"+this.cloneIndex+++"$$";return Vn(kt,ut),ut}var Hl=function(z,ce){var Te=yn[z.key],Re=dr[Te];if(Re instanceof Bm)pe("q"),pe(BA(ce)),Re.gState&&p.setGState(Re.gState),pe(z.matrix.toString()+" cm"),pe("/"+Te+" sh"),pe("Q");else if(Re instanceof Gg){var Ke=new qt(1,0,0,-1,0,Ci());z.matrix&&(Ke=Ke.multiply(z.matrix||An),Te=Bc.call(Re,z.key,z.boundingBox,z.xStep,z.yStep,Ke).id),pe("q"),pe("/Pattern cs"),pe("/"+Te+" scn"),Re.gState&&p.setGState(Re.gState),pe(ce),pe("Q")}},BA=function(z){switch(z){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ao=p.moveTo=function(z,ce){return pe(w(O(z))+" "+w(Q(ce))+" m"),this},wi=p.lineTo=function(z,ce){return pe(w(O(z))+" "+w(Q(ce))+" l"),this},fl=p.curveTo=function(z,ce,Te,Re,Ke,ut){return pe([w(O(z)),w(Q(ce)),w(O(Te)),w(Q(Re)),w(O(Ke)),w(Q(ut)),"c"].join(" ")),this};p.__private__.line=p.line=function(z,ce,Te,Re,Ke){if(isNaN(z)||isNaN(ce)||isNaN(Te)||isNaN(Re)||!yi(Ke))throw new Error("Invalid arguments passed to jsPDF.line");return S===_.COMPAT?this.lines([[Te-z,Re-ce]],z,ce,[1,1],Ke||"S"):this.lines([[Te-z,Re-ce]],z,ce,[1,1]).stroke()},p.__private__.lines=p.lines=function(z,ce,Te,Re,Ke,ut){var kt,zt,j,te,se,ve,ze,rt,It,Sr,on,Lr;if(typeof z=="number"&&(Lr=Te,Te=ce,ce=z,z=Lr),Re=Re||[1,1],ut=ut||!1,isNaN(ce)||isNaN(Te)||!Array.isArray(z)||!Array.isArray(Re)||!yi(Ke)||typeof ut!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ao(ce,Te),kt=Re[0],zt=Re[1],te=z.length,Sr=ce,on=Te,j=0;j<te;j++)(se=z[j]).length===2?(Sr=se[0]*kt+Sr,on=se[1]*zt+on,wi(Sr,on)):(ve=se[0]*kt+Sr,ze=se[1]*zt+on,rt=se[2]*kt+Sr,It=se[3]*zt+on,Sr=se[4]*kt+Sr,on=se[5]*zt+on,fl(ve,ze,rt,It,Sr,on));return ut&&Hi(),uo(Ke),this},p.path=function(z){for(var ce=0;ce<z.length;ce++){var Te=z[ce],Re=Te.c;switch(Te.op){case"m":Ao(Re[0],Re[1]);break;case"l":wi(Re[0],Re[1]);break;case"c":fl.apply(this,Re);break;case"h":Hi()}}return this},p.__private__.rect=p.rect=function(z,ce,Te,Re,Ke){if(isNaN(z)||isNaN(ce)||isNaN(Te)||isNaN(Re)||!yi(Ke))throw new Error("Invalid arguments passed to jsPDF.rect");return S===_.COMPAT&&(Re=-Re),pe([w(O(z)),w(Q(ce)),w(O(Te)),w(O(Re)),"re"].join(" ")),uo(Ke),this},p.__private__.triangle=p.triangle=function(z,ce,Te,Re,Ke,ut,kt){if(isNaN(z)||isNaN(ce)||isNaN(Te)||isNaN(Re)||isNaN(Ke)||isNaN(ut)||!yi(kt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Te-z,Re-ce],[Ke-Te,ut-Re],[z-Ke,ce-ut]],z,ce,[1,1],kt,!0),this},p.__private__.roundedRect=p.roundedRect=function(z,ce,Te,Re,Ke,ut,kt){if(isNaN(z)||isNaN(ce)||isNaN(Te)||isNaN(Re)||isNaN(Ke)||isNaN(ut)||!yi(kt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var zt=4/3*(Math.SQRT2-1);return Ke=Math.min(Ke,.5*Te),ut=Math.min(ut,.5*Re),this.lines([[Te-2*Ke,0],[Ke*zt,0,Ke,ut-ut*zt,Ke,ut],[0,Re-2*ut],[0,ut*zt,-Ke*zt,ut,-Ke,ut],[2*Ke-Te,0],[-Ke*zt,0,-Ke,-ut*zt,-Ke,-ut],[0,2*ut-Re],[0,-ut*zt,Ke*zt,-ut,Ke,-ut]],z+Ke,ce,[1,1],kt,!0),this},p.__private__.ellipse=p.ellipse=function(z,ce,Te,Re,Ke){if(isNaN(z)||isNaN(ce)||isNaN(Te)||isNaN(Re)||!yi(Ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ut=4/3*(Math.SQRT2-1)*Te,kt=4/3*(Math.SQRT2-1)*Re;return Ao(z+Te,ce),fl(z+Te,ce-kt,z+ut,ce-Re,z,ce-Re),fl(z-ut,ce-Re,z-Te,ce-kt,z-Te,ce),fl(z-Te,ce+kt,z-ut,ce+Re,z,ce+Re),fl(z+ut,ce+Re,z+Te,ce+kt,z+Te,ce),uo(Ke),this},p.__private__.circle=p.circle=function(z,ce,Te,Re){if(isNaN(z)||isNaN(ce)||isNaN(Te)||!yi(Re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(z,ce,Te,Te,Re)},p.setFont=function(z,ce,Te){return Te&&(ce=F(ce,Te)),Pe=Nc(z,ce,{disableWarning:!1}),this};var ns=p.__private__.getFont=p.getFont=function(){return Gt[Nc.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var z,ce,Te={};for(z in Rt)if(Rt.hasOwnProperty(z))for(ce in Te[z]=[],Rt[z])Rt[z].hasOwnProperty(ce)&&Te[z].push(ce);return Te},p.addFont=function(z,ce,Te,Re,Ke){var ut=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ut.indexOf(arguments[3])!==-1?Ke=arguments[3]:arguments[3]&&ut.indexOf(arguments[3])==-1&&(Te=F(Te,Re)),Ke=Ke||"Identity-H",Cc.call(this,z,ce,Te,Ke)};var sn,kc=e.lineWidth||.200025,hl=p.__private__.getLineWidth=p.getLineWidth=function(){return kc},kA=p.__private__.setLineWidth=p.setLineWidth=function(z){return kc=z,pe(w(O(z))+" w"),this};p.__private__.setLineDash=mr.API.setLineDash=mr.API.setLineDashPattern=function(z,ce){if(z=z||[],ce=ce||0,isNaN(ce)||!Array.isArray(z))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return z=z.map(function(Te){return w(O(Te))}).join(" "),ce=w(O(ce)),pe("["+z+"] "+ce+" d"),this};var yu=p.__private__.getLineHeight=p.getLineHeight=function(){return dt*sn};p.__private__.getLineHeight=p.getLineHeight=function(){return dt*sn};var wu=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(z){return typeof(z=z||1.15)=="number"&&(sn=z),this},$o=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return sn};wu(e.lineHeight);var Ei=p.__private__.getHorizontalCoordinate=function(z){return O(z)},as=p.__private__.getVerticalCoordinate=function(z){return S===_.ADVANCED?z:Zt[G].mediaBox.topRightY-Zt[G].mediaBox.bottomLeftY-O(z)},Zf=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(z){return w(Ei(z))},Tc=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(z){return w(as(z))},li=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ce(li)},p.__private__.setStrokeColor=p.setDrawColor=function(z,ce,Te,Re){return li=Ne({ch1:z,ch2:ce,ch3:Te,ch4:Re,pdfColorType:"draw",precision:2}),pe(li),this};var Ic=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ce(Ic)},p.__private__.setFillColor=p.setFillColor=function(z,ce,Te,Re){return Ic=Ne({ch1:z,ch2:ce,ch3:Te,ch4:Re,pdfColorType:"fill",precision:2}),pe(Ic),this};var Vl=e.textColor||"0 g",md=p.__private__.getTextColor=p.getTextColor=function(){return Ce(Vl)};p.__private__.setTextColor=p.setTextColor=function(z,ce,Te,Re){return Vl=Ne({ch1:z,ch2:ce,ch3:Te,ch4:Re,pdfColorType:"text",precision:3}),this};var Eu=e.charSpace,pd=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Eu||0)};p.__private__.setCharSpace=p.setCharSpace=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Eu=z,this};var TA=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(z){var ce=p.CapJoinStyles[z];if(ce===void 0)throw new Error("Line cap style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return TA=ce,pe(ce+" J"),this};var Cu=0;p.__private__.setLineJoin=p.setLineJoin=function(z){var ce=p.CapJoinStyles[z];if(ce===void 0)throw new Error("Line join style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Cu=ce,pe(ce+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(z){if(z=z||0,isNaN(z))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(w(O(z))+" M"),this},p.GState=A_,p.setGState=function(z){(z=typeof z=="string"?Qr[kn[z]]:jc(null,z)).equals(Zn)||(pe("/"+z.id+" gs"),Zn=z)};var jc=function(z,ce){if(!z||!kn[z]){var Te=!1;for(var Re in Qr)if(Qr.hasOwnProperty(Re)&&Qr[Re].equals(ce)){Te=!0;break}if(Te)ce=Qr[Re];else{var Ke="GS"+(Object.keys(Qr).length+1).toString(10);Qr[Ke]=ce,ce.id=Ke}return z&&(kn[z]=ce.id),Kr.publish("addGState",ce),ce}};p.addGState=function(z,ce){return jc(z,ce),this},p.saveGraphicsState=function(){return pe("q"),Vr.push({key:Pe,size:dt,color:Vl}),this},p.restoreGraphicsState=function(){pe("Q");var z=Vr.pop();return Pe=z.key,dt=z.size,Vl=z.color,Zn=null,this},p.setCurrentTransformationMatrix=function(z){return pe(z.toString()+" cm"),this},p.comment=function(z){return pe("#"+z),this};var _u=function(z,ce){var Te=z||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Te},set:function(ut){isNaN(ut)||(Te=parseFloat(ut))}});var Re=ce||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Re},set:function(ut){isNaN(ut)||(Re=parseFloat(ut))}});var Ke="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ke},set:function(ut){Ke=ut.toString()}}),this},gd=function(z,ce,Te,Re){_u.call(this,z,ce),this.type="rect";var Ke=Te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ke},set:function(kt){isNaN(kt)||(Ke=parseFloat(kt))}});var ut=Re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ut},set:function(kt){isNaN(kt)||(ut=parseFloat(kt))}}),this},Su=function(){this.page=or,this.currentPage=G,this.pages=Ie.slice(0),this.pagesContext=Zt.slice(0),this.x=ot,this.y=vt,this.matrix=ur,this.width=Oc(G),this.height=Ci(G),this.outputDestination=Fe,this.id="",this.objectNumber=-1};Su.prototype.restore=function(){or=this.page,G=this.currentPage,Zt=this.pagesContext,Ie=this.pages,ot=this.x,vt=this.y,ur=this.matrix,Nu(G,this.width),vd(G,this.height),Fe=this.outputDestination};var Fc=function(z,ce,Te,Re,Ke){ai.push(new Su),or=G=0,Ie=[],ot=z,vt=ce,ur=Ke,oi([Te,Re])},eh=function(z){if(Ha[z])ai.pop().restore();else{var ce=new Su,Te="Xo"+(Object.keys(ua).length+1).toString(10);ce.id=Te,Ha[z]=Te,ua[Te]=ce,Kr.publish("addFormObject",ce),ai.pop().restore()}};for(var zl in p.beginFormObject=function(z,ce,Te,Re,Ke){return Fc(z,ce,Te,Re,Ke),this},p.endFormObject=function(z){return eh(z),this},p.doFormObject=function(z,ce){var Te=ua[Ha[z]];return pe("q"),pe(ce.toString()+" cm"),pe("/"+Te.id+" Do"),pe("Q"),this},p.getFormObject=function(z){var ce=ua[Ha[z]];return{x:ce.x,y:ce.y,width:ce.width,height:ce.height,matrix:ce.matrix}},p.save=function(z,ce){return z=z||"generated.pdf",(ce=ce||{}).returnPromise=ce.returnPromise||!1,ce.returnPromise===!1?(wm(hd(Ul()),z),typeof wm.unload=="function"&&jr.setTimeout&&setTimeout(wm.unload,911),this):new Promise(function(Te,Re){try{var Ke=wm(hd(Ul()),z);typeof wm.unload=="function"&&jr.setTimeout&&setTimeout(wm.unload,911),Te(Ke)}catch(ut){Re(ut.message)}})},mr.API)mr.API.hasOwnProperty(zl)&&(zl==="events"&&mr.API.events.length?function(z,ce){var Te,Re,Ke;for(Ke=ce.length-1;Ke!==-1;Ke--)Te=ce[Ke][0],Re=ce[Ke][1],z.subscribe.apply(z,[Te].concat(typeof Re=="function"?[Re]:Re))}(Kr,mr.API.events):p[zl]=mr.API[zl]);var Oc=p.getPageWidth=function(z){return(Zt[z=z||G].mediaBox.topRightX-Zt[z].mediaBox.bottomLeftX)/Be},Nu=p.setPageWidth=function(z,ce){Zt[z].mediaBox.topRightX=ce*Be+Zt[z].mediaBox.bottomLeftX},Ci=p.getPageHeight=function(z){return(Zt[z=z||G].mediaBox.topRightY-Zt[z].mediaBox.bottomLeftY)/Be},vd=p.setPageHeight=function(z,ce){Zt[z].mediaBox.topRightY=ce*Be+Zt[z].mediaBox.bottomLeftY};return p.internal={pdfEscape:En,getStyle:co,getFont:ns,getFontSize:Tt,getCharSpace:pd,getTextColor:md,getLineHeight:yu,getLineHeightFactor:$o,getLineWidth:hl,write:je,getHorizontalCoordinate:Ei,getVerticalCoordinate:as,getCoordinateString:Zf,getVerticalCoordinateString:Tc,collections:{},newObject:ea,newAdditionalObject:Se,newObjectDeferred:da,newObjectDeferredBegin:Ae,getFilters:We,putStream:st,events:Kr,scaleFactor:Be,pageSize:{getWidth:function(){return Oc(G)},setWidth:function(z){Nu(G,z)},getHeight:function(){return Ci(G)},setHeight:function(z){vd(G,z)}},encryptionOptions:d,encryption:ta,getEncryptor:Ql,output:Ml,getNumberOfPages:Fn,pages:Ie,out:pe,f2:R,f3:D,getPageInfo:ul,getPageInfoByObjId:_r,getCurrentPageInfo:dl,getPDFVersion:g,Point:_u,Rectangle:gd,Matrix:qt,hasHotfix:cl},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Oc(G)},set:function(z){Nu(G,z)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ci(G)},set:function(z){vd(G,z)},enumerable:!0,configurable:!0}),_A.call(p,Xe),Pe="F1",_c(a,r),Kr.publish("initialized"),p}Mg.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Mg.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Mg.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Mg.prototype.processOwnerPassword=function(e,t){return wI(yI(t).substr(0,5),e)},Mg.prototype.encryptor=function(e,t){var r=yI(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return wI(r,n)}},A_.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||la(e)!==la(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},mr.API={events:[]},mr.version="2.5.2";var ds=mr.API,H6=1,Np=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hg=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},zr=function(e){return e.toFixed(2)},jh=function(e){return e.toFixed(5)};ds.__acroform__={};var Pl=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},ZM=function(e){return e*H6},$d=function(e){var t=new MX,r=cr.internal.getHeight(e)||0,n=cr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(zr(n)),Number(zr(r))],t},dxe=ds.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Axe=ds.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},fxe=ds.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},js=ds.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fxe(e,t-1)},Fs=ds.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return dxe(e,t-1)},Os=ds.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Axe(e,t-1)},hxe=ds.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],s=e[1],i=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(a+i)||0,l.upperRight_Y=n(s)||0,[Number(zr(l.lowerLeft_X)),Number(zr(l.lowerLeft_Y)),Number(zr(l.upperRight_X)),Number(zr(l.upperRight_Y))]},mxe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=EI(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+zr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=$d(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},EI=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(D){return D.split(`
`)}):a.map(function(D){return[D]});var s=r,i=cr.internal.getHeight(e)||0;i=i<0?-i:i;var o=cr.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(D,O,M){if(D+1<a.length){var Q=O+" "+a[D+1][0];return M2(Q,e,M).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var u,d,f=M2("3",e,s).height,m=e.multiline?i-s:(i-f)/2,p=m+=2,x=0,g=0,b=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+M2(t,e,s=12).width+", FieldWidth:"+o+`
`;break}for(var y="",_=0,S=0;S<a.length;S++)if(a.hasOwnProperty(S)){var I=!1;if(a[S].length!==1&&b!==a[S].length-1){if((f+2)*(_+2)+2>i)continue e;y+=a[S][b],I=!0,g=S,S--}else{y=(y+=a[S][b]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var T=parseInt(S),F=l(T,y,s),w=S>=a.length-1;if(F&&!w){y+=" ",b=0;continue}if(F||w){if(w)g=T;else if(e.multiline&&(f+2)*(_+2)+2>i)continue e}else{if(!e.multiline||(f+2)*(_+2)+2>i)continue e;g=T}}for(var C="",N=x;N<=g;N++){var R=a[N];if(e.multiline){if(N===g){C+=R[b]+" ",b=(b+1)%R.length;continue}if(N===x){C+=R[R.length-1]+" ";continue}}C+=R[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,d=M2(C,e,s).width,e.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;case"left":default:u=2}t+=zr(u)+" "+zr(p)+` Td
`,t+="("+Np(C)+`) Tj
`,t+=-zr(u)+` 0 Td
`,p=-(s+2),d=0,x=I?g:g+1,_++,y=""}break}return n.text=t,n.fontSize=s,n},M2=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},pxe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gxe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},vxe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),la(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},xxe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(od.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(pxe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");H6=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new QX,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&gxe(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var i in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var o=n[i],l=[],u=o.Rect;if(o.Rect&&(o.Rect=hxe(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=cr.createDefaultAppearanceStream(o),la(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=mxe(o);l.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var m in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(m)){var p=o.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var i in p)if(p.hasOwnProperty(i)){var x=p[i];typeof x=="function"&&(x=x.call(a,o)),f+="/"+i+" "+x+" ",a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x)}}else typeof(x=p)=="function"&&(x=x.call(a,o)),f+="/"+i+" "+x,a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}s&&vxe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},UX=ds.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(i){return i};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),la(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Np(n(e[s].toString()))+")"):a+=e[s].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},OB=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Np(n(e))+")"},tA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};tA.prototype.toString=function(){return this.objId+" 0 R"},tA.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},tA.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:UX(a,this.objId,this.scope)}):a instanceof tA?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var MX=function(){tA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Pl(MX,tA);var QX=function(){tA.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Np(r(e))+")"}},set:function(r){e=r}})};Pl(QX,tA);var od=function e(){tA.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!js(t,3)},set:function(y){y?this.F=Fs(t,3):this.F=Os(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof f_)return;s="FieldObject"+e.FieldNum++}var y=function(_){return _};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Np(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(y){i=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/H6:u},set:function(y){u=y}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof f_||this instanceof $m))return OB(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Oi?m:OB(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=this instanceof Oi?y:y.substr(0,1)==="("?hg(y.substr(1,y.length-2)):hg(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oi?hg(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof Oi?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Oi?p:OB(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof Oi?y:y.substr(0,1)==="("?hg(y.substr(1,y.length-2)):hg(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oi?hg(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof Oi?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(y){y=!!y,g=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(y){x=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,1)},set:function(y){y?this.Ff=Fs(this.Ff,1):this.Ff=Os(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,2)},set:function(y){y?this.Ff=Fs(this.Ff,2):this.Ff=Os(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,3)},set:function(y){y?this.Ff=Fs(this.Ff,3):this.Ff=Os(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');b=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(b){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};Pl(od,tA);var lv=function(){od.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return UX(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(s,i,o){o||(o=1);for(var l,u=[];l=i.exec(s);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,18)},set:function(r){r?this.Ff=Fs(this.Ff,18):this.Ff=Os(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Fs(this.Ff,19):this.Ff=Os(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,20)},set:function(r){r?(this.Ff=Fs(this.Ff,20),t.sort()):this.Ff=Os(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,22)},set:function(r){r?this.Ff=Fs(this.Ff,22):this.Ff=Os(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,23)},set:function(r){r?this.Ff=Fs(this.Ff,23):this.Ff=Os(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,27)},set:function(r){r?this.Ff=Fs(this.Ff,27):this.Ff=Os(this.Ff,27)}}),this.hasAppearanceStream=!1};Pl(lv,od);var cv=function(){lv.call(this),this.fontName="helvetica",this.combo=!1};Pl(cv,lv);var uv=function(){cv.call(this),this.combo=!0};Pl(uv,cv);var mC=function(){uv.call(this),this.edit=!0};Pl(mC,uv);var Oi=function(){od.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,15)},set:function(r){r?this.Ff=Fs(this.Ff,15):this.Ff=Os(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,16)},set:function(r){r?this.Ff=Fs(this.Ff,16):this.Ff=Os(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,17)},set:function(r){r?this.Ff=Fs(this.Ff,17):this.Ff=Os(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,26)},set:function(r){r?this.Ff=Fs(this.Ff,26):this.Ff=Os(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Np(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){la(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Pl(Oi,od);var pC=function(){Oi.call(this),this.pushButton=!0};Pl(pC,Oi);var dv=function(){Oi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Pl(dv,Oi);var f_=function(){var e,t;od.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,i=[];for(s in i.push("<<"),n)i.push("/"+s+" ("+Np(a(n[s]))+")");return i.push(">>"),i.join(`
`)},set:function(a){la(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=cr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Pl(f_,od),dv.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},dv.prototype.createOption=function(e){var t=new f_;return t.Parent=this,t.optionName=e,this.Kids.push(t),bxe.call(this.scope,t),t};var gC=function(){Oi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=cr.CheckBox.createAppearanceStream()};Pl(gC,Oi);var $m=function(){od.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,13)},set:function(t){t?this.Ff=Fs(this.Ff,13):this.Ff=Os(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,21)},set:function(t){t?this.Ff=Fs(this.Ff,21):this.Ff=Os(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,23)},set:function(t){t?this.Ff=Fs(this.Ff,23):this.Ff=Os(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,24)},set:function(t){t?this.Ff=Fs(this.Ff,24):this.Ff=Os(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,25)},set:function(t){t?this.Ff=Fs(this.Ff,25):this.Ff=Os(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,26)},set:function(t){t?this.Ff=Fs(this.Ff,26):this.Ff=Os(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Pl($m,od);var vC=function(){$m.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,14)},set:function(e){e?this.Ff=Fs(this.Ff,14):this.Ff=Os(this.Ff,14)}}),this.password=!0};Pl(vC,$m);var cr={CheckBox:{createAppearanceStream:function(){return{N:{On:cr.CheckBox.YesNormal},D:{On:cr.CheckBox.YesPushDown,Off:cr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=$d(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=EI(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+zr(cr.internal.getWidth(e))+" "+zr(cr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+zr(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=$d(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=cr.internal.getHeight(e),i=cr.internal.getWidth(e),o=EI(e,e.caption);return a.push("1 g"),a.push("0 0 "+zr(i)+" "+zr(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+zr(i-1)+" "+zr(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+zr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=$d(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+zr(cr.internal.getWidth(e))+" "+zr(cr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:cr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=cr.RadioButton.Circle.YesNormal,t.D[e]=cr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=$d(e);t.scope=e.scope;var r=[],n=cr.internal.getWidth(e)<=cr.internal.getHeight(e)?cr.internal.getWidth(e)/4:cr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=cr.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+jh(cr.internal.getWidth(e)/2)+" "+jh(cr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=$d(e);t.scope=e.scope;var r=[],n=cr.internal.getWidth(e)<=cr.internal.getHeight(e)?cr.internal.getWidth(e)/4:cr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*cr.internal.Bezier_C).toFixed(5)),i=Number((n*cr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+jh(cr.internal.getWidth(e)/2)+" "+jh(cr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+jh(cr.internal.getWidth(e)/2)+" "+jh(cr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=$d(e);t.scope=e.scope;var r=[],n=cr.internal.getWidth(e)<=cr.internal.getHeight(e)?cr.internal.getWidth(e)/4:cr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*cr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+jh(cr.internal.getWidth(e)/2)+" "+jh(cr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:cr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=cr.RadioButton.Cross.YesNormal,t.D[e]=cr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=$d(e);t.scope=e.scope;var r=[],n=cr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+zr(cr.internal.getWidth(e)-2)+" "+zr(cr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(zr(n.x1.x)+" "+zr(n.x1.y)+" m"),r.push(zr(n.x2.x)+" "+zr(n.x2.y)+" l"),r.push(zr(n.x4.x)+" "+zr(n.x4.y)+" m"),r.push(zr(n.x3.x)+" "+zr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=$d(e);t.scope=e.scope;var r=cr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+zr(cr.internal.getWidth(e))+" "+zr(cr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+zr(cr.internal.getWidth(e)-2)+" "+zr(cr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(zr(r.x1.x)+" "+zr(r.x1.y)+" m"),n.push(zr(r.x2.x)+" "+zr(r.x2.y)+" l"),n.push(zr(r.x4.x)+" "+zr(r.x4.y)+" m"),n.push(zr(r.x3.x)+" "+zr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=$d(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+zr(cr.internal.getWidth(e))+" "+zr(cr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};cr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=cr.internal.getWidth(e),r=cr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},cr.internal.getWidth=function(e){var t=0;return la(e)==="object"&&(t=ZM(e.Rect[2])),t},cr.internal.getHeight=function(e){var t=0;return la(e)==="object"&&(t=ZM(e.Rect[3])),t};var bxe=ds.addField=function(e){if(xxe(this,e),!(e instanceof od))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ds.AcroFormChoiceField=lv,ds.AcroFormListBox=cv,ds.AcroFormComboBox=uv,ds.AcroFormEditBox=mC,ds.AcroFormButton=Oi,ds.AcroFormPushButton=pC,ds.AcroFormRadioButton=dv,ds.AcroFormCheckBox=gC,ds.AcroFormTextField=$m,ds.AcroFormPasswordField=vC,ds.AcroFormAppearance=cr,ds.AcroForm={ChoiceField:lv,ListBox:cv,ComboBox:uv,EditBox:mC,Button:Oi,PushButton:pC,RadioButton:dv,CheckBox:gC,TextField:$m,PasswordField:vC,Appearance:cr},mr.AcroForm={ChoiceField:lv,ListBox:cv,ComboBox:uv,EditBox:mC,Button:Oi,PushButton:pC,RadioButton:dv,CheckBox:gC,TextField:$m,PasswordField:vC,Appearance:cr};mr.AcroForm;function HX(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(D,O){var M,Q,ee,W,Z,V=t;if((O=O||t)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(F(D))for(Z in r)for(ee=r[Z],M=0;M<ee.length;M+=1){for(W=!0,Q=0;Q<ee[M].length;Q+=1)if(ee[M][Q]!==void 0&&ee[M][Q]!==D[Q]){W=!1;break}if(W===!0){V=Z;break}}else for(Z in r)for(ee=r[Z],M=0;M<ee.length;M+=1){for(W=!0,Q=0;Q<ee[M].length;Q+=1)if(ee[M][Q]!==void 0&&ee[M][Q]!==D.charCodeAt(Q)){W=!1;break}if(W===!0){V=Z;break}}return V===t&&O!==t&&(V=O),V},a=function D(O){for(var M=this.internal.write,Q=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:O.width}),W.push({key:"Height",value:O.height}),O.colorSpace===b.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===b.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var Z="",V=0,q=O.transparency.length;V<q;V++)Z+=O.transparency[V]+" "+O.transparency[V]+" ";W.push({key:"Mask",value:"["+Z+"]"})}O.sMask!==void 0&&W.push({key:"SMask",value:O.objectId+1+" 0 R"});var K=O.filter!==void 0?["/"+O.filter]:void 0;if(Q({data:O.data,additionalKeyValues:W,alreadyAppliedFilters:K,objectId:O.objectId}),M("endobj"),"sMask"in O&&O.sMask!==void 0){var J="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,P={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:J,data:O.sMask};"filter"in O&&(P.filter=O.filter),D.call(this,P)}if(O.colorSpace===b.INDEXED){var G=this.internal.newObject();Q({data:C(new Uint8Array(O.palette)),objectId:G}),M("endobj")}},s=function(){var D=this.internal.collections.addImage_images;for(var O in D)a.call(this,D[O])},i=function(){var D,O=this.internal.collections.addImage_images,M=this.internal.write;for(var Q in O)M("/I"+(D=O[Q]).index,D.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",i))},l=function(){var D=this.internal.collections.addImage_images;return o.call(this),D},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(D){return typeof e["process"+D.toUpperCase()]=="function"},f=function(D){return la(D)==="object"&&D.nodeType===1},m=function(D,O){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var M=""+D.getAttribute("src");if(M.indexOf("data:image/")===0)return bb(unescape(M).split("base64,").pop());var Q=e.loadFile(M,!0);if(Q!==void 0)return Q}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var ee;switch(O){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;case"JPEG":case"JPG":default:ee="image/jpeg"}return bb(D.toDataURL(ee,1).split("base64,").pop())}},p=function(D){var O=this.internal.collections.addImage_images;if(O){for(var M in O)if(D===O[M].alias)return O[M]}},x=function(D,O,M){return D||O||(D=-96,O=-96),D<0&&(D=-1*M.width*72/D/this.internal.scaleFactor),O<0&&(O=-1*M.height*72/O/this.internal.scaleFactor),D===0&&(D=O*M.width/M.height),O===0&&(O=D*M.height/M.width),[D,O]},g=function(D,O,M,Q,ee,W){var Z=x.call(this,M,Q,ee),V=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,K=l.call(this);if(M=Z[0],Q=Z[1],K[ee.index]=ee,W){W*=Math.PI/180;var J=Math.cos(W),P=Math.sin(W),G=function(re){return re.toFixed(4)},Y=[G(J),G(P),G(-1*P),G(J),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,V(D),q(O+Q),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([V(M),"0","0",V(Q),"0","0","cm"].join(" "))):this.internal.write([V(M),"0","0",V(Q),V(D),q(O+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},b=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(D){var O,M,Q=0;if(typeof D=="string")for(M=D.length,O=0;O<M;O++)Q=(Q<<5)-Q+D.charCodeAt(O),Q|=0;else if(F(D))for(M=D.byteLength/2,O=0;O<M;O++)Q=(Q<<5)-Q+D[O],Q|=0;return Q},S=e.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var O=!0;return D.length===0&&(O=!1),D.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(O=!1),O},I=e.__addimage__.extractImageFromDataUrl=function(D){var O=(D=D||"").split("base64,"),M=null;if(O.length===2){var Q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(O[0]);Array.isArray(Q)&&(M={mimeType:Q[1],charset:Q[2],data:O[1]})}return M},T=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(D){return T()&&D instanceof ArrayBuffer};var F=e.__addimage__.isArrayBufferView=function(D){return T()&&typeof Uint32Array<"u"&&(D instanceof Int8Array||D instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array)},w=e.__addimage__.binaryStringToUint8Array=function(D){for(var O=D.length,M=new Uint8Array(O),Q=0;Q<O;Q++)M[Q]=D.charCodeAt(Q);return M},C=e.__addimage__.arrayBufferToBinaryString=function(D){for(var O="",M=F(D)?D:new Uint8Array(D),Q=0;Q<M.length;Q+=8192)O+=String.fromCharCode.apply(null,M.subarray(Q,Q+8192));return O};e.addImage=function(){var D,O,M,Q,ee,W,Z,V,q;if(typeof arguments[1]=="number"?(O=t,M=arguments[1],Q=arguments[2],ee=arguments[3],W=arguments[4],Z=arguments[5],V=arguments[6],q=arguments[7]):(O=arguments[1],M=arguments[2],Q=arguments[3],ee=arguments[4],W=arguments[5],Z=arguments[6],V=arguments[7],q=arguments[8]),la(D=arguments[0])==="object"&&!f(D)&&"imageData"in D){var K=D;D=K.imageData,O=K.format||O||t,M=K.x||M||0,Q=K.y||Q||0,ee=K.w||K.width||ee,W=K.h||K.height||W,Z=K.alias||Z,V=K.compression||V,q=K.rotation||K.angle||q}var J=this.internal.getFilters();if(V===void 0&&J.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(M)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var P=N.call(this,D,O,Z,V);return g.call(this,M,Q,ee,W,P,q),this};var N=function(D,O,M,Q){var ee,W,Z;if(typeof D=="string"&&n(D)===t){D=unescape(D);var V=R(D,!1);(V!==""||(V=e.loadFile(D,!0))!==void 0)&&(D=V)}if(f(D)&&(D=m(D,O)),O=n(D,O),!d(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((Z=M)==null||Z.length===0)&&(M=function(q){return typeof q=="string"||F(q)?_(q):F(q.data)?_(q.data):null}(D)),(ee=p.call(this,M))||(T()&&(D instanceof Uint8Array||O==="RGBA"||(W=D,D=w(D))),ee=this["process"+O.toUpperCase()](D,u.call(this),M,function(q){return q&&typeof q=="string"&&(q=q.toUpperCase()),q in e.image_compression?q:y.NONE}(Q),W)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},R=e.__addimage__.convertBase64ToBinaryString=function(D,O){var M;O=typeof O!="boolean"||O;var Q,ee="";if(typeof D=="string"){Q=(M=I(D))!==null?M.data:D;try{ee=bb(Q)}catch(W){if(O)throw S(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};e.getImageProperties=function(D){var O,M,Q="";if(f(D)&&(D=m(D)),typeof D=="string"&&n(D)===t&&((Q=R(D,!1))===""&&(Q=e.loadFile(D)||""),D=Q),M=n(D),!d(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(!T()||D instanceof Uint8Array||(D=w(D)),!(O=this["process"+M.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=M,O}})(mr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};mr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,s,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var p=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(g.objId),_=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(y(n.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(y(_))+") >>",g.content=s;var S=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+i(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(g.objId,"0 R",b.objId,"0 R");break;case"freetext":a="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var I=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(x(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var T=this.annotations._nameMap[n.options.name];n.options.pageNumber=T.page,n.options.top=T.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var F=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+F+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,s,i){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+a),h:u(n+s)},options:i,type:"link"})},e.textWithLink=function(r,n,a,s){var i,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(r,o).length;i=Math.ceil(u*d)}else o=l,i=u;return this.text(r,n,a,s),a+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,a-u,o,i,s),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(mr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},i=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=e.__arabicParser__.isArabicEndLetter=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return i(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var b=0,y=r,_="",S=0;for(b=0;b<g.length;b+=1)y[g.charCodeAt(b)]!==void 0?(S++,typeof(y=y[g.charCodeAt(b)])=="number"&&(_+=String.fromCharCode(y),y=r,S=0),b===g.length-1&&(y=r,_+=g.charAt(b-(S-1)),b-=S-1,S=0)):(y=r,_+=g.charAt(b-S),b-=S,S=0);return _};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(g,b,y){return i(g)?s(g)===!1?-1:!u(g)||!i(b)&&!i(y)||!i(y)&&o(b)||o(g)&&!i(b)||o(g)&&l(b)||o(g)&&o(b)?0:d(g)&&i(b)&&!o(b)&&i(y)&&u(y)?3:o(g)||!i(y)?1:2:-1},p=function(g){var b=0,y=0,_=0,S="",I="",T="",F=(g=g||"").split("\\s+"),w=[];for(b=0;b<F.length;b+=1){for(w.push(""),y=0;y<F[b].length;y+=1)S=F[b][y],I=F[b][y-1],T=F[b][y+1],i(S)?(_=m(S,I,T),w[b]+=_!==-1?String.fromCharCode(t[S.charCodeAt(0)][_]):S):w[b]+=S;w[b]=f(w[b])}return w.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var g,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(b)){var _=0;for(y=[],_=0;_<b.length;_+=1)Array.isArray(b[_])?y.push([p(b[_][0]),b[_][1],b[_][2]]):y.push([p(b[_])]);g=y}else g=p(b);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",x])}(mr.API),mr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(mr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(g){x=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,p=0,x=0,g=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=u.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,I){return S.concat(b.splitTextToSize(I,y))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)p<(g=this.getStringUnitWidth(l[_],{font:f})*d)&&(p=g);return p!==0&&(x=l.length),{w:p/=m,h:Math.max((x*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,d,f,m){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,x,g,b,y=[],_=[],S=[],I={},T={},F=[],w=[],C=(m=m||{}).autoSize||!1,N=m.printHeaders!==!1,R=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,D=m.margins||Object.assign({width:this.getPageWidth()},t),O=typeof m.padding=="number"?m.padding:3,M=m.headerBackgroundColor||"#c8c8c8",Q=m.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=Q,this.setFontSize(R),f==null)_=y=Object.keys(d[0]),S=y.map(function(){return"left"});else if(Array.isArray(f)&&la(f[0])==="object")for(y=f.map(function(K){return K.name}),_=f.map(function(K){return K.prompt||K.name||""}),S=f.map(function(K){return K.align||"left"}),p=0;p<f.length;p+=1)T[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(_=y=f,S=y.map(function(){return"left"}));if(C||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<y.length;p+=1){for(I[b=y[p]]=d.map(function(K){return K[b]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(_[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=I[b],this.setFont(void 0,"normal"),g=0;g<x.length;g+=1)F.push(this.getTextDimensions(x[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);T[b]=Math.max.apply(null,F)+O+O,F=[]}if(N){var ee={};for(p=0;p<y.length;p+=1)ee[y[p]]={},ee[y[p]].text=_[p],ee[y[p]].align=S[p];var W=o.call(this,ee,T);w=y.map(function(K){return new s(l,u,T[K],W,ee[K].text,void 0,ee[K].align)}),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var Z=f.reduce(function(K,J){return K[J.name]=J.align,K},{});for(p=0;p<d.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:d[p]},this);var V=o.call(this,d[p],T);for(g=0;g<y.length;g+=1){var q=d[p][y[g]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:g,data:q},this),i.call(this,new s(l,u,T[y[g]],V,q,p+2,Z[y[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(p){var x=l[p];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/m+d+d},this).reduce(function(p,x){return Math.max(p,x)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=l;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,d),this.setTextColor(x)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(mr.API);var VX={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},zX=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],CI=HX(zX),$X=[100,200,300,400,500,600,700,800,900],yxe=HX($X);function _I(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return VX[s=s||"normal"]?s:"normal"}(e.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(s){return typeof CI[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function e7(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var wxe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},t7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function r7(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Exe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},wxe,r.genericFontFamilies||{}),s=null,i=null,o=0;o<t.length;++o)if(a[(s=_I(t[o])).family]&&(s.family=a[s.family]),e.hasOwnProperty(s.family)){i=e[s.family];break}if(!(i=i||e[n]))throw new Error("Could not find a font-family for the rule '"+r7(s)+"' and default family '"+n+"'.");if(i=function(l,u){if(u[l])return u[l];var d=CI[l],f=d<=CI.normal?-1:1,m=e7(u,zX,d,f);if(!m)throw new Error("Could not find a matching font-stretch value for "+l);return m}(s.stretch,i),i=function(l,u){if(u[l])return u[l];for(var d=VX[l],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+l)}(s.style,i),!(i=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var d=yxe[l],f=e7(u,$X,d,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(s.weight,i)))throw new Error("Failed to resolve a font for the rule '"+r7(s)+"'.");return i}function n7(e){return e.trimLeft()}function Cxe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function _xe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Q2,a7,s7,DB=["times"];(function(e){var t,r,n,a,s,i,o,l,u,d=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new l,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new i,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new i,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var f=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=P;Object.defineProperty(this,"pdf",{get:function(){return G}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(ke){Y=!!ke}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(ke){re=!!ke}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(ke){isNaN(ke)||(ie=ke)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(ke){isNaN(ke)||(de=ke)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ke){var pe;typeof ke=="number"?pe=[ke,ke,ke,ke]:((pe=new Array(4))[0]=ke[0],pe[1]=ke.length>=2?ke[1]:pe[0],pe[2]=ke.length>=3?ke[2]:pe[0],pe[3]=ke.length>=4?ke[3]:pe[1]),u.margin=pe}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(ke){me=ke}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(ke){ue=ke}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(ke){ye=ke}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ke){ke instanceof d&&(u=ke)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ke){u.path=ke}});var Ie=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ie},set:function(ke){Ie=ke}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ke){var pe;pe=m(ke),this.ctx.fillStyle=pe.style,this.ctx.isFillTransparent=pe.a===0,this.ctx.fillOpacity=pe.a,this.pdf.setFillColor(pe.r,pe.g,pe.b,{a:pe.a}),this.pdf.setTextColor(pe.r,pe.g,pe.b,{a:pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ke){var pe=m(ke);this.ctx.strokeStyle=pe.style,this.ctx.isStrokeTransparent=pe.a===0,this.ctx.strokeOpacity=pe.a,pe.a===0?this.pdf.setDrawColor(255,255,255):(pe.a,this.pdf.setDrawColor(pe.r,pe.g,pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ke){["butt","round","square"].indexOf(ke)!==-1&&(this.ctx.lineCap=ke,this.pdf.setLineCap(ke))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ke){isNaN(ke)||(this.ctx.lineWidth=ke,this.pdf.setLineWidth(ke))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ke){["bevel","round","miter"].indexOf(ke)!==-1&&(this.ctx.lineJoin=ke,this.pdf.setLineJoin(ke))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ke){isNaN(ke)||(this.ctx.miterLimit=ke,this.pdf.setMiterLimit(ke))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ke){this.ctx.textBaseline=ke}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ke){["right","end","center","left","start"].indexOf(ke)!==-1&&(this.ctx.textAlign=ke)}});var ne=null;function Fe(ke,pe){if(ne===null){var je=function(He){var Xe=[];return Object.keys(He).forEach(function(dt){He[dt].forEach(function(Et){var Tt=null;switch(Et){case"bold":Tt={family:dt,weight:"bold"};break;case"italic":Tt={family:dt,style:"italic"};break;case"bolditalic":Tt={family:dt,weight:"bold",style:"italic"};break;case"":case"normal":Tt={family:dt}}Tt!==null&&(Tt.ref={name:dt,style:Et},Xe.push(Tt))})}),Xe}(ke.getFontList());ne=function(He){for(var Xe={},dt=0;dt<He.length;++dt){var Et=_I(He[dt]),Tt=Et.family,Ct=Et.stretch,Dt=Et.style,Jt=Et.weight;Xe[Tt]=Xe[Tt]||{},Xe[Tt][Ct]=Xe[Tt][Ct]||{},Xe[Tt][Ct][Dt]=Xe[Tt][Ct][Dt]||{},Xe[Tt][Ct][Dt][Jt]=Et}return Xe}(je.concat(pe))}return ne}var Le=null;Object.defineProperty(this,"fontFaces",{get:function(){return Le},set:function(ke){ne=null,Le=ke}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ke){var pe;if(this.ctx.font=ke,(pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ke))!==null){var je=pe[1],He=(pe[2],pe[3]),Xe=pe[4],dt=(pe[5],pe[6]),Et=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Xe)[2];Xe=Math.floor(Et==="px"?parseFloat(Xe)*this.pdf.internal.scaleFactor:Et==="em"?parseFloat(Xe)*this.pdf.getFontSize():parseFloat(Xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Xe);var Tt=function(De){var Pe,Be,ot=[],vt=De.trim();if(vt==="")return DB;if(vt in t7)return[t7[vt]];for(;vt!=="";){switch(Be=null,Pe=(vt=n7(vt)).charAt(0)){case'"':case"'":Be=Cxe(vt.substring(1),Pe);break;default:Be=_xe(vt)}if(Be===null||(ot.push(Be[0]),(vt=n7(Be[1]))!==""&&vt.charAt(0)!==","))return DB;vt=vt.replace(/^,/,"")}return ot}(dt);if(this.fontFaces){var Ct=Exe(Fe(this.pdf,this.fontFaces),Tt.map(function(De){return{family:De,stretch:"normal",weight:He,style:je}}));this.pdf.setFont(Ct.ref.name,Ct.ref.style)}else{var Dt="";(He==="bold"||parseInt(He,10)>=700||je==="bold")&&(Dt="bold"),je==="italic"&&(Dt+="italic"),Dt.length===0&&(Dt="normal");for(var Jt="",Pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Mt=0;Mt<Tt.length;Mt++){if(this.pdf.internal.getFont(Tt[Mt],Dt,{noFallback:!0,disableWarning:!0})!==void 0){Jt=Tt[Mt];break}if(Dt==="bolditalic"&&this.pdf.internal.getFont(Tt[Mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Jt=Tt[Mt],Dt="bold";else if(this.pdf.internal.getFont(Tt[Mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Jt=Tt[Mt],Dt="normal";break}}if(Jt===""){for(var Wt=0;Wt<Tt.length;Wt++)if(Pt[Tt[Wt]]){Jt=Pt[Tt[Wt]];break}}Jt=Jt===""?"Times":Jt,this.pdf.setFont(Jt,Dt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ke){this.ctx.globalCompositeOperation=ke}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ke){this.ctx.globalAlpha=ke}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ke){this.ctx.lineDashOffset=ke,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ke){this.ctx.lineDash=ke,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ke){this.ctx.ignoreClearRect=!!ke}})};f.prototype.setLineDash=function(P){this.lineDash=P},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){I.call(this,"fill",!1)},f.prototype.stroke=function(){I.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(P,G){if(isNaN(P)||isNaN(G))throw ya.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new i(P,G));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new i(P,G)},f.prototype.closePath=function(){var P=new i(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&la(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){P=new i(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(P.x,P.y)},f.prototype.lineTo=function(P,G){if(isNaN(P)||isNaN(G))throw ya.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new i(P,G));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new i(Y.x,Y.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},f.prototype.quadraticCurveTo=function(P,G,Y,re){if(isNaN(Y)||isNaN(re)||isNaN(P)||isNaN(G))throw ya.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new i(Y,re)),de=this.ctx.transform.applyToPoint(new i(P,G));this.path.push({type:"qct",x1:de.x,y1:de.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new i(ie.x,ie.y)},f.prototype.bezierCurveTo=function(P,G,Y,re,ie,de){if(isNaN(ie)||isNaN(de)||isNaN(P)||isNaN(G)||isNaN(Y)||isNaN(re))throw ya.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new i(ie,de)),ue=this.ctx.transform.applyToPoint(new i(P,G)),ye=this.ctx.transform.applyToPoint(new i(Y,re));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:ye.x,y2:ye.y,x:me.x,y:me.y}),this.ctx.lastPoint=new i(me.x,me.y)},f.prototype.arc=function(P,G,Y,re,ie,de){if(isNaN(P)||isNaN(G)||isNaN(Y)||isNaN(re)||isNaN(ie))throw ya.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new i(P,G));P=me.x,G=me.y;var ue=this.ctx.transform.applyToPoint(new i(0,Y)),ye=this.ctx.transform.applyToPoint(new i(0,0));Y=Math.sqrt(Math.pow(ue.x-ye.x,2)+Math.pow(ue.y-ye.y,2))}Math.abs(ie-re)>=2*Math.PI&&(re=0,ie=2*Math.PI),this.path.push({type:"arc",x:P,y:G,radius:Y,startAngle:re,endAngle:ie,counterclockwise:de})},f.prototype.arcTo=function(P,G,Y,re,ie){throw new Error("arcTo not implemented.")},f.prototype.rect=function(P,G,Y,re){if(isNaN(P)||isNaN(G)||isNaN(Y)||isNaN(re))throw ya.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,G),this.lineTo(P+Y,G),this.lineTo(P+Y,G+re),this.lineTo(P,G+re),this.lineTo(P,G),this.lineTo(P+Y,G),this.lineTo(P,G)},f.prototype.fillRect=function(P,G,Y,re){if(isNaN(P)||isNaN(G)||isNaN(Y)||isNaN(re))throw ya.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,G,Y,re),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},f.prototype.strokeRect=function(P,G,Y,re){if(isNaN(P)||isNaN(G)||isNaN(Y)||isNaN(re))throw ya.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(P,G,Y,re),this.stroke())},f.prototype.clearRect=function(P,G,Y,re){if(isNaN(P)||isNaN(G)||isNaN(Y)||isNaN(re))throw ya.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,G,Y,re))},f.prototype.save=function(P){P=typeof P!="boolean"||P;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},f.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(G),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(P){var G,Y,re,ie;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))G=0,Y=0,re=0,ie=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(de!==null)G=parseInt(de[1]),Y=parseInt(de[2]),re=parseInt(de[3]),ie=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)G=parseInt(de[1]),Y=parseInt(de[2]),re=parseInt(de[3]),ie=parseFloat(de[4]);else{if(ie=1,typeof P=="string"&&P.charAt(0)!=="#"){var me=new PX(P);P=me.ok?me.toHex():"#000000"}P.length===4?(G=P.substring(1,2),G+=G,Y=P.substring(2,3),Y+=Y,re=P.substring(3,4),re+=re):(G=P.substring(1,3),Y=P.substring(3,5),re=P.substring(5,7)),G=parseInt(G,16),Y=parseInt(Y,16),re=parseInt(re,16)}}return{r:G,g:Y,b:re,a:ie,style:P}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(P,G,Y,re){if(isNaN(G)||isNaN(Y)||typeof P!="string")throw ya.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!p.call(this)){var ie=V(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;O.call(this,{text:P,x:G,y:Y,scale:de,angle:ie,align:this.textAlign,maxWidth:re})}},f.prototype.strokeText=function(P,G,Y,re){if(isNaN(G)||isNaN(Y)||typeof P!="string")throw ya.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){re=isNaN(re)?void 0:re;var ie=V(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;O.call(this,{text:P,x:G,y:Y,scale:de,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:re})}},f.prototype.measureText=function(P){if(typeof P!="string")throw ya.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,Y=this.pdf.internal.scaleFactor,re=G.internal.getFontSize(),ie=G.getStringUnitWidth(P)*re/G.internal.scaleFactor,de=function(me){var ue=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this};return new de({width:ie*=Math.round(96*Y/72*1e4)/1e4})},f.prototype.scale=function(P,G){if(isNaN(P)||isNaN(G))throw ya.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new l(P,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.rotate=function(P){if(isNaN(P))throw ya.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new l(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},f.prototype.translate=function(P,G){if(isNaN(P)||isNaN(G))throw ya.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new l(1,0,0,1,P,G);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.transform=function(P,G,Y,re,ie,de){if(isNaN(P)||isNaN(G)||isNaN(Y)||isNaN(re)||isNaN(ie)||isNaN(de))throw ya.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new l(P,G,Y,re,ie,de);this.ctx.transform=this.ctx.transform.multiply(me)},f.prototype.setTransform=function(P,G,Y,re,ie,de){P=isNaN(P)?1:P,G=isNaN(G)?0:G,Y=isNaN(Y)?0:Y,re=isNaN(re)?1:re,ie=isNaN(ie)?0:ie,de=isNaN(de)?0:de,this.ctx.transform=new l(P,G,Y,re,ie,de)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(P,G,Y,re,ie,de,me,ue,ye){var Ie=this.pdf.getImageProperties(P),ne=1,Fe=1,Le=1,ke=1;re!==void 0&&ue!==void 0&&(Le=ue/re,ke=ye/ie,ne=Ie.width/re*ue/re,Fe=Ie.height/ie*ye/ie),de===void 0&&(de=G,me=Y,G=0,Y=0),re!==void 0&&ue===void 0&&(ue=re,ye=ie),re===void 0&&ue===void 0&&(ue=Ie.width,ye=Ie.height);for(var pe,je=this.ctx.transform.decompose(),He=V(je.rotate.shx),Xe=new l,dt=(Xe=(Xe=(Xe=Xe.multiply(je.translate)).multiply(je.skew)).multiply(je.scale)).applyToRectangle(new o(de-G*Le,me-Y*ke,re*ne,ie*Fe)),Et=b.call(this,dt),Tt=[],Ct=0;Ct<Et.length;Ct+=1)Tt.indexOf(Et[Ct])===-1&&Tt.push(Et[Ct]);if(S(Tt),this.autoPaging)for(var Dt=Tt[0],Jt=Tt[Tt.length-1],Pt=Dt;Pt<Jt+1;Pt++){this.pdf.setPage(Pt);var Mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Wt=Pt===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=Pt===1?0:De+(Pt-2)*Pe;if(this.ctx.clip_path.length!==0){var ot=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(pe,this.posX+this.margin[3],-Be+Wt+this.ctx.prevPageLastElemOffset),T.call(this,"fill",!0),this.path=ot}var vt=JSON.parse(JSON.stringify(dt));vt=_([vt],this.posX+this.margin[3],-Be+Wt+this.ctx.prevPageLastElemOffset)[0];var ur=(Pt>Dt||Pt<Jt)&&g.call(this);ur&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,Pe,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,He),ur&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",dt.x,dt.y,dt.w,dt.h,null,null,He)};var b=function(P,G,Y){var re=[];G=G||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":re.push(Math.floor((P.y+ie)/Y)+1);break;case"arc":re.push(Math.floor((P.y+ie-P.radius)/Y)+1),re.push(Math.floor((P.y+ie+P.radius)/Y)+1);break;case"qct":var de=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);re.push(Math.floor((de.y+ie)/Y)+1),re.push(Math.floor((de.y+de.h+ie)/Y)+1);break;case"bct":var me=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);re.push(Math.floor((me.y+ie)/Y)+1),re.push(Math.floor((me.y+me.h+ie)/Y)+1);break;case"rect":re.push(Math.floor((P.y+ie)/Y)+1),re.push(Math.floor((P.y+P.h+ie)/Y)+1)}for(var ue=0;ue<re.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<re[ue];)y.call(this);return re},y=function(){var P=this.fillStyle,G=this.strokeStyle,Y=this.font,re=this.lineCap,ie=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=G,this.font=Y,this.lineCap=re,this.lineWidth=ie,this.lineJoin=de},_=function(P,G,Y){for(var re=0;re<P.length;re++)switch(P[re].type){case"bct":P[re].x2+=G,P[re].y2+=Y;case"qct":P[re].x1+=G,P[re].y1+=Y;case"mt":case"lt":case"arc":default:P[re].x+=G,P[re].y+=Y}return P},S=function(P){return P.sort(function(G,Y){return G-Y})},I=function(P,G){for(var Y,re,ie=this.fillStyle,de=this.strokeStyle,me=this.lineCap,ue=this.lineWidth,ye=Math.abs(ue*this.ctx.transform.scaleX),Ie=this.lineJoin,ne=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),Le=[],ke=0;ke<Fe.length;ke++)if(Fe[ke].x!==void 0)for(var pe=b.call(this,Fe[ke]),je=0;je<pe.length;je+=1)Le.indexOf(pe[je])===-1&&Le.push(pe[je]);for(var He=0;He<Le.length;He++)for(;this.pdf.internal.getNumberOfPages()<Le[He];)y.call(this);if(S(Le),this.autoPaging)for(var Xe=Le[0],dt=Le[Le.length-1],Et=Xe;Et<dt+1;Et++){this.pdf.setPage(Et),this.fillStyle=ie,this.strokeStyle=de,this.lineCap=me,this.lineWidth=ye,this.lineJoin=Ie;var Tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ct=Et===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pt=Et===1?0:Dt+(Et-2)*Jt;if(this.ctx.clip_path.length!==0){var Mt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Y,this.posX+this.margin[3],-Pt+Ct+this.ctx.prevPageLastElemOffset),T.call(this,P,!0),this.path=Mt}if(re=JSON.parse(JSON.stringify(ne)),this.path=_(re,this.posX+this.margin[3],-Pt+Ct+this.ctx.prevPageLastElemOffset),G===!1||Et===0){var Wt=(Et>Xe||Et<dt)&&g.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,Jt,null).clip().discardPath()),T.call(this,P,G),Wt&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}else this.lineWidth=ye,T.call(this,P,G),this.lineWidth=ue;this.path=ne},T=function(P,G){if((P!=="stroke"||G||!x.call(this))&&(P==="stroke"||G||!p.call(this))){for(var Y,re,ie=[],de=this.path,me=0;me<de.length;me++){var ue=de[me];switch(ue.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:ue,deltas:[],abs:[]});break;case"lt":var ye=ie.length;if(de[me-1]&&!isNaN(de[me-1].x)&&(Y=[ue.x-de[me-1].x,ue.y-de[me-1].y],ye>0)){for(;ye>=0;ye--)if(ie[ye-1].close!==!0&&ie[ye-1].begin!==!0){ie[ye-1].deltas.push(Y),ie[ye-1].abs.push(ue);break}}break;case"bct":Y=[ue.x1-de[me-1].x,ue.y1-de[me-1].y,ue.x2-de[me-1].x,ue.y2-de[me-1].y,ue.x-de[me-1].x,ue.y-de[me-1].y],ie[ie.length-1].deltas.push(Y);break;case"qct":var Ie=de[me-1].x+2/3*(ue.x1-de[me-1].x),ne=de[me-1].y+2/3*(ue.y1-de[me-1].y),Fe=ue.x+2/3*(ue.x1-ue.x),Le=ue.y+2/3*(ue.y1-ue.y),ke=ue.x,pe=ue.y;Y=[Ie-de[me-1].x,ne-de[me-1].y,Fe-de[me-1].x,Le-de[me-1].y,ke-de[me-1].x,pe-de[me-1].y],ie[ie.length-1].deltas.push(Y);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(ue)}}re=G?null:P==="stroke"?"stroke":"fill";for(var je=!1,He=0;He<ie.length;He++)if(ie[He].arc)for(var Xe=ie[He].abs,dt=0;dt<Xe.length;dt++){var Et=Xe[dt];Et.type==="arc"?C.call(this,Et.x,Et.y,Et.radius,Et.startAngle,Et.endAngle,Et.counterclockwise,void 0,G,!je):M.call(this,Et.x,Et.y),je=!0}else if(ie[He].close===!0)this.pdf.internal.out("h"),je=!1;else if(ie[He].begin!==!0){var Tt=ie[He].start.x,Ct=ie[He].start.y;Q.call(this,ie[He].deltas,Tt,Ct),je=!0}re&&N.call(this,re),G&&R.call(this)}},F=function(P){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-Y;case"top":return P+G-Y;case"hanging":return P+G-2*Y;case"middle":return P+G/2-Y;case"ideographic":return P;case"alphabetic":default:return P}},w=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(G,Y){this.colorStops.push([G,Y])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(P,G,Y,re,ie,de,me,ue,ye){for(var Ie=W.call(this,Y,re,ie,de),ne=0;ne<Ie.length;ne++){var Fe=Ie[ne];ne===0&&(ye?D.call(this,Fe.x1+P,Fe.y1+G):M.call(this,Fe.x1+P,Fe.y1+G)),ee.call(this,P,G,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}ue?R.call(this):N.call(this,me)},N=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(P,G){this.pdf.internal.out(r(P)+" "+n(G)+" m")},O=function(P){var G;switch(P.align){case"right":case"end":G="right";break;case"center":G="center";break;case"left":case"start":default:G="left"}var Y=this.pdf.getTextDimensions(P.text),re=F.call(this,P.y),ie=w.call(this,re)-Y.h,de=this.ctx.transform.applyToPoint(new i(P.x,re)),me=this.ctx.transform.decompose(),ue=new l;ue=(ue=(ue=ue.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var ye,Ie,ne,Fe=this.ctx.transform.applyToRectangle(new o(P.x,re,Y.w,Y.h)),Le=ue.applyToRectangle(new o(P.x,ie,Y.w,Y.h)),ke=b.call(this,Le),pe=[],je=0;je<ke.length;je+=1)pe.indexOf(ke[je])===-1&&pe.push(ke[je]);if(S(pe),this.autoPaging)for(var He=pe[0],Xe=pe[pe.length-1],dt=He;dt<Xe+1;dt++){this.pdf.setPage(dt);var Et=dt===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[2],Dt=Ct-this.margin[0],Jt=this.pdf.internal.pageSize.width-this.margin[1],Pt=Jt-this.margin[3],Mt=dt===1?0:Tt+(dt-2)*Dt;if(this.ctx.clip_path.length!==0){var Wt=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ye,this.posX+this.margin[3],-1*Mt+Et),T.call(this,"fill",!0),this.path=Wt}var De=_([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-Mt+Et+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ie*P.scale),ne=this.lineWidth,this.lineWidth=ne*P.scale);var Pe=this.autoPaging!=="text";if(Pe||De.y+De.h<=Ct){if(Pe||De.y>=Et&&De.x<=Jt){var Be=Pe?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Jt-De.x)[0],ot=_([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-Mt+Et+this.ctx.prevPageLastElemOffset)[0],vt=Pe&&(dt>He||dt<Xe)&&g.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,Dt,null).clip().discardPath()),this.pdf.text(Be,ot.x,ot.y,{angle:P.angle,align:G,renderingMode:P.renderingMode}),vt&&this.pdf.restoreGraphicsState()}}else De.y<Ct&&(this.ctx.prevPageLastElemOffset+=Ct-De.y);P.scale>=.01&&(this.pdf.setFontSize(Ie),this.lineWidth=ne)}else P.scale>=.01&&(Ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ie*P.scale),ne=this.lineWidth,this.lineWidth=ne*P.scale),this.pdf.text(P.text,de.x+this.posX,de.y+this.posY,{angle:P.angle,align:G,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Ie),this.lineWidth=ne)},M=function(P,G,Y,re){Y=Y||0,re=re||0,this.pdf.internal.out(r(P+Y)+" "+n(G+re)+" l")},Q=function(P,G,Y){return this.pdf.lines(P,G,Y,null,null)},ee=function(P,G,Y,re,ie,de,me,ue){this.pdf.internal.out([t(a(Y+P)),t(s(re+G)),t(a(ie+P)),t(s(de+G)),t(a(me+P)),t(s(ue+G)),"c"].join(" "))},W=function(P,G,Y,re){for(var ie=2*Math.PI,de=Math.PI/2;G>Y;)G-=ie;var me=Math.abs(Y-G);me<ie&&re&&(me=ie-me);for(var ue=[],ye=re?-1:1,Ie=G;me>1e-5;){var ne=Ie+ye*Math.min(me,de);ue.push(Z.call(this,P,Ie,ne)),me-=Math.abs(ne-Ie),Ie=ne}return ue},Z=function(P,G,Y){var re=(Y-G)/2,ie=P*Math.cos(re),de=P*Math.sin(re),me=ie,ue=-de,ye=me*me+ue*ue,Ie=ye+me*ie+ue*de,ne=4/3*(Math.sqrt(2*ye*Ie)-Ie)/(me*de-ue*ie),Fe=me-ne*ue,Le=ue+ne*me,ke=Fe,pe=-Le,je=re+G,He=Math.cos(je),Xe=Math.sin(je);return{x1:P*Math.cos(G),y1:P*Math.sin(G),x2:Fe*He-Le*Xe,y2:Fe*Xe+Le*He,x3:ke*He-pe*Xe,y3:ke*Xe+pe*He,x4:P*Math.cos(Y),y4:P*Math.sin(Y)}},V=function(P){return 180*P/Math.PI},q=function(P,G,Y,re,ie,de){var me=P+.5*(Y-P),ue=G+.5*(re-G),ye=ie+.5*(Y-ie),Ie=de+.5*(re-de),ne=Math.min(P,ie,me,ye),Fe=Math.max(P,ie,me,ye),Le=Math.min(G,de,ue,Ie),ke=Math.max(G,de,ue,Ie);return new o(ne,Le,Fe-ne,ke-Le)},K=function(P,G,Y,re,ie,de,me,ue){var ye,Ie,ne,Fe,Le,ke,pe,je,He,Xe,dt,Et,Tt,Ct,Dt=Y-P,Jt=re-G,Pt=ie-Y,Mt=de-re,Wt=me-ie,De=ue-de;for(Ie=0;Ie<41;Ie++)He=(pe=(ne=P+(ye=Ie/40)*Dt)+ye*((Le=Y+ye*Pt)-ne))+ye*(Le+ye*(ie+ye*Wt-Le)-pe),Xe=(je=(Fe=G+ye*Jt)+ye*((ke=re+ye*Mt)-Fe))+ye*(ke+ye*(de+ye*De-ke)-je),Ie==0?(dt=He,Et=Xe,Tt=He,Ct=Xe):(dt=Math.min(dt,He),Et=Math.min(Et,Xe),Tt=Math.max(Tt,He),Ct=Math.max(Ct,Xe));return new o(Math.round(dt),Math.round(Et),Math.round(Tt-dt),Math.round(Ct-Et))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,G,Y=(P=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:G}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(mr.API),function(e){var t=function(s){var i,o,l,u,d,f,m,p,x,g;for(o=[],l=0,u=(s+=i="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(d=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(d=((d=((d=((d=(d-(g=d%85))/85)-(x=d%85))/85)-(p=d%85))/85)-(m=d%85))/85)%85,o.push(f+33,m+33,p+33,x+33,g+33)):o.push(122);return function(b,y){for(var _=y;_>0;_--)b.pop()}(o,i.length),String.fromCharCode.apply(String,o)+"~>"},r=function(s){var i,o,l,u,d,f=String,m="length",p=255,x="charCodeAt",g="slice",b="replace";for(s[g](-2),s=s[g](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),l=[],u=0,d=(s+=i="uuuuu"[g](s[m]%5||5))[m];d>u;u+=5)o=52200625*(s[x](u)-33)+614125*(s[x](u+1)-33)+7225*(s[x](u+2)-33)+85*(s[x](u+3)-33)+(s[x](u+4)-33),l.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(y,_){for(var S=_;S>0;S--)y.pop()}(l,i[m]),f.fromCharCode.apply(f,l)},n=function(s){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),i.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},a=function(s){for(var i=new Uint8Array(s.length),o=s.length;o--;)i[o]=s.charCodeAt(o);return s=(i=xI(i)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};e.processDataByFilters=function(s,i){var o=0,l=s||"",u=[];for(typeof(i=i||[])=="string"&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(mr.API),function(e){e.loadFile=function(t,r,n){return function(a,s,i){s=s!==!1,i=typeof i=="function"?i:function(){};var o=void 0;try{o=function(l,u,d){var f=new XMLHttpRequest,m=0,p=function(x){var g=x.length,b=[],y=String.fromCharCode;for(m=0;m<g;m+=1)b.push(y(255&x.charCodeAt(m)));return b.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(a,s,i)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(mr.API),function(e){function t(){return(jr.html2canvas?Promise.resolve(jr.html2canvas):d_(()=>Promise.resolve().then(()=>ODe),void 0)).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function r(){return(jr.DOMPurify?Promise.resolve(jr.DOMPurify):d_(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var n=function(i){var o=la(i);return o==="undefined"?"undefined":o==="string"||i instanceof String?"string":o==="number"||i instanceof Number?"number":o==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(i,o){var l=document.createElement(i);for(var u in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[u]=o.style[u];return l},s=function i(o){var l=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),u=i.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,i,1,[i])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(i,o){return i.__proto__=o||s.prototype,i},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(i,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:i,dompurify:l})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},s.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(l(m,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var l=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var p=u[m],x=p.src.find(function(g){return g.format==="truetype"});x&&l.addFont(x.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(i,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(i,o):this.outputPdf(i,o)},s.prototype.outputPdf=function(i,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,o)})},s.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},s.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(i){if(n(i)!=="object")return this;var o=Object.keys(i||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=i[l]};switch(l){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[l]=i[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(i,o){return this.then(function(){var l=i in s.template.prop?this.prop[i]:this.opt[i];return o?o(l):l})},s.prototype.setMargin=function(i){return this.then(function(){switch(n(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},s.prototype.setPageSize=function(i){function o(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(i=i||mr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:o(i.inner.width,i.k),height:o(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},s.prototype.setProgress=function(i,o,l,u){return i!=null&&(this.progress.val=i),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(i,o,l,u){return this.setProgress(i?this.progress.val+i:null,o||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(i,o){var l=this;return this.thenCore(i,o,function(u,d){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,d).then(function(f){return l.updateProgress(1),f})})},s.prototype.thenCore=function(i,o,l){l=l||Promise.prototype.then,i&&(i=i.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=l.call(u,i,o);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(i,o){return Promise.prototype.then.call(this,i,o)},s.prototype.thenList=function(i){var o=this;return i.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(i){i&&(i=i.bind(this));var o=Promise.prototype.catch.call(this,i);return s.convert(o,this)},s.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},s.prototype.error=function(i){return this.then(function(){throw new Error(i)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,mr.getPageSize=function(i,o,l){if(la(i)==="object"){var u=i;i=u.orientation,o=u.unit||o,l=u.format||l}o=o||"mm",l=l||"a4",i=(""+(i||"P")).toLowerCase();var d,f=(""+l).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+o}var p,x=0,g=0;if(m.hasOwnProperty(f))x=m[f][1]/d,g=m[f][0]/d;else try{x=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(i==="p"||i==="portrait")i="p",g>x&&(p=g,g=x,x=p);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",x>g&&(p=g,g=x,x=p)}return{width:g,height:x,unit:o,k:d,orientation:i}},e.html=function(i,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(_I):null;var l=new s(o);return o.worker?l:l.from(i).doCallback()}}(mr.API),mr.API.addJS=function(e){return s7=e,this.internal.events.subscribe("postPutResources",function(){Q2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Q2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),a7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+s7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Q2!==void 0&&a7!==void 0&&this.internal.out("/Names <</JavaScript "+Q2+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var i=a[s],o=n.exec(i);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(i)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var f=r.internal.newObject();d.push(f);var m=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var i={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(i),i},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var i=n.children[s];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var l=r.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(mr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,s,i,o){var l,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=i||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var m,p=256*f.charCodeAt(4)+f.charCodeAt(5),x=f.length,g={width:0,height:0,numcomponents:1},b=4;b<x;b+=2){if(b+=p,t.indexOf(f.charCodeAt(b+1))!==-1){m=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),g={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:m,numcomponents:f.charCodeAt(b+9)};break}p=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(mr.API);var mg,H2,i7,o7,l7,Sxe=function(){var e,t,r;function n(s){var i,o,l,u,d,f,m,p,x,g,b,y,_,S;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(i=this.readUInt32(),x=(function(){var I,T;for(T=[],I=0;I<4;++I)T.push(String.fromCharCode(this.data[this.pos++]));return T}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,i-=4),s=(f!=null?f.data:void 0)||this.imgData,y=0;0<=i?y<i:y>i;0<=i?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(_=0;0<=g?_<g:_>g;0<=g?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":m=(b=this.read(i)).indexOf(0),p=String.fromCharCode.apply(String,b.slice(0,m)),this.text[p]=String.fromCharCode.apply(String,b.slice(m+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var i,o;for(o=[],i=0;0<=s?i<s:i>s;0<=s?++i:--i)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var i=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*i),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(f,m,p,x){var g,b,y,_,S,I,T,F,w,C,N,R,D,O,M,Q,ee,W,Z,V,q,K=Math.ceil((u.width-f)/p),J=Math.ceil((u.height-m)/x),P=u.width==K&&u.height==J;for(O=i*K,R=P?o:new Uint8Array(O*J),I=s.length,D=0,b=0;D<J&&l<I;){switch(s[l++]){case 0:for(_=ee=0;ee<O;_=ee+=1)R[b++]=s[l++];break;case 1:for(_=W=0;W<O;_=W+=1)g=s[l++],S=_<i?0:R[b-i],R[b++]=(g+S)%256;break;case 2:for(_=Z=0;Z<O;_=Z+=1)g=s[l++],y=(_-_%i)/i,M=D&&R[(D-1)*O+y*i+_%i],R[b++]=(M+g)%256;break;case 3:for(_=V=0;V<O;_=V+=1)g=s[l++],y=(_-_%i)/i,S=_<i?0:R[b-i],M=D&&R[(D-1)*O+y*i+_%i],R[b++]=(g+Math.floor((S+M)/2))%256;break;case 4:for(_=q=0;q<O;_=q+=1)g=s[l++],y=(_-_%i)/i,S=_<i?0:R[b-i],D===0?M=Q=0:(M=R[(D-1)*O+y*i+_%i],Q=y&&R[(D-1)*O+(y-1)*i+_%i]),T=S+M-Q,F=Math.abs(T-S),C=Math.abs(T-M),N=Math.abs(T-Q),w=F<=C&&F<=N?S:C<=N?M:Q,R[b++]=(g+w)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!P){var G=((m+D*x)*u.width+f)*i,Y=D*O;for(_=0;_<K;_+=1){for(var re=0;re<i;re+=1)o[G++]=R[Y++];G+=(p-1)*i}}D++}}return s=axe(s),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),o},n.prototype.decodePalette=function(){var s,i,o,l,u,d,f,m,p;for(o=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+o.length),l=0,s=0,i=f=0,m=o.length;f<m;i=f+=3)u[l++]=o[i],u[l++]=o[i+1],u[l++]=o[i+2],u[l++]=(p=d[s++])!=null?p:255;return u},n.prototype.copyToImageData=function(s,i){var o,l,u,d,f,m,p,x,g,b,y;if(l=this.colors,g=null,o=this.hasAlphaChannel,this.palette.length&&(g=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),x=(u=s.data||s).length,f=g||i,d=m=0,l===1)for(;d<x;)p=g?4*i[d/4]:m,b=f[p++],u[d++]=b,u[d++]=b,u[d++]=b,u[d++]=o?f[p++]:255,m=p;else for(;d<x;)p=g?4*i[d/4]:m,u[d++]=f[p++],u[d++]=f[p++],u[d++]=f[p++],u[d++]=o?f[p++]:255,m=p},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var a=function(){if(Object.prototype.toString.call(jr)==="[object Window]"){try{t=jr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(s){var i;if(a()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(i=new Image).src=t.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var i,o,l,u,d,f,m,p;if(this.animation){for(p=[],o=d=0,f=(m=this.animation.frames).length;d<f;o=++d)i=m[o],l=s.createImageData(i.width,i.height),u=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(l,u),i.imageData=l,p.push(i.image=e(l));return p}},n.prototype.renderFrame=function(s,i){var o,l,u;return o=(l=this.animation.frames)[i],u=l[i-1],i===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var i,o,l,u,d,f,m=this;return o=0,f=this.animation,u=f.numFrames,l=f.frames,d=f.numPlays,(i=function(){var p,x;if(p=o++%u,x=l[p],m.renderFrame(s,p),u>1&&o/u<d)return m.animation._timeout=setTimeout(i,x.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var i,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,i=s.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(o=i.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),i.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Nxe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,i=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;s&&(o=t,l=i,t+=3*i);var u=!0,d=[],f=0,m=null,p=0,x=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,m=e[t++],(1&g)==0&&(m=null),p=g>>2&7,t++;break;case 254:for(;;){if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,I=e[t++],T=I>>6&1,F=1<<(7&I)+1,w=o,C=l,N=!1;I>>7&&(N=!0,w=t,C=F,t+=3*F);var R=t;for(t++;;){var D;if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}d.push({x:b,y,width:_,height:S,has_local_palette:N,palette_offset:w,palette_size:C,data_offset:R,data_length:t-R,transparent_index:m,interlaced:!!T,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return x},this.frameInfo=function(O){if(O<0||O>=d.length)throw new Error("Frame index out of range.");return d[O]},this.decodeAndBlitFrameBGRA=function(O,M){var Q=this.frameInfo(O),ee=Q.width*Q.height,W=new Uint8Array(ee);c7(e,Q.data_offset,W,ee);var Z=Q.palette_offset,V=Q.transparent_index;V===null&&(V=256);var q=Q.width,K=r-q,J=q,P=4*(Q.y*r+Q.x),G=4*((Q.y+Q.height)*r+Q.x),Y=P,re=4*K;Q.interlaced===!0&&(re+=4*r*7);for(var ie=8,de=0,me=W.length;de<me;++de){var ue=W[de];if(J===0&&(J=q,(Y+=re)>=G&&(re=4*K+4*r*(ie-1),Y=P+(q+K)*(ie<<1),ie>>=1)),ue===V)Y+=4;else{var ye=e[Z+3*ue],Ie=e[Z+3*ue+1],ne=e[Z+3*ue+2];M[Y++]=ne,M[Y++]=Ie,M[Y++]=ye,M[Y++]=255}--J}},this.decodeAndBlitFrameRGBA=function(O,M){var Q=this.frameInfo(O),ee=Q.width*Q.height,W=new Uint8Array(ee);c7(e,Q.data_offset,W,ee);var Z=Q.palette_offset,V=Q.transparent_index;V===null&&(V=256);var q=Q.width,K=r-q,J=q,P=4*(Q.y*r+Q.x),G=4*((Q.y+Q.height)*r+Q.x),Y=P,re=4*K;Q.interlaced===!0&&(re+=4*r*7);for(var ie=8,de=0,me=W.length;de<me;++de){var ue=W[de];if(J===0&&(J=q,(Y+=re)>=G&&(re=4*K+4*r*(ie-1),Y=P+(q+K)*(ie<<1),ie>>=1)),ue===V)Y+=4;else{var ye=e[Z+3*ue],Ie=e[Z+3*ue+1],ne=e[Z+3*ue+2];M[Y++]=ye,M[Y++]=Ie,M[Y++]=ne,M[Y++]=255}--J}}}function c7(e,t,r,n){for(var a=e[t++],s=1<<a,i=s+1,o=i+1,l=a+1,u=(1<<l)-1,d=0,f=0,m=0,p=e[t++],x=new Int32Array(4096),g=null;;){for(;d<16&&p!==0;)f|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<l)break;var b=f&u;if(f>>=l,d-=l,b!==s){if(b===i)break;for(var y=b<o?b:g,_=0,S=y;S>s;)S=x[S]>>8,++_;var I=S;if(m+_+(y!==b?1:0)>n)return void ya.log("Warning, gif stream longer than expected.");r[m++]=I;var T=m+=_;for(y!==b&&(r[m++]=I),S=y;_--;)S=x[S],r[--T]=255&S,S>>=8;g!==null&&o<4096&&(x[o++]=g<<8|I,o>=u+1&&l<12&&(++l,u=u<<1|1)),g=b}else o=i+1,u=(1<<(l=a+1))-1,g=null}return m!==n&&ya.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function PB(e){var t,r,n,a,s,i=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),m=new Array(65535),p=new Array(64),x=new Array(64),g=[],b=0,y=7,_=new Array(64),S=new Array(64),I=new Array(64),T=new Array(256),F=new Array(2048),w=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(P,G){for(var Y=0,re=0,ie=new Array,de=1;de<=16;de++){for(var me=1;me<=P[de];me++)ie[G[re]]=[],ie[G[re]][0]=Y,ie[G[re]][1]=de,re++,Y++;Y*=2}return ie}function Z(P){for(var G=P[0],Y=P[1]-1;Y>=0;)G&1<<Y&&(b|=1<<y),Y--,--y<0&&(b==255?(V(255),V(0)):V(b),y=7,b=0)}function V(P){g.push(P)}function q(P){V(P>>8&255),V(255&P)}function K(P,G,Y,re,ie){for(var de,me=ie[0],ue=ie[240],ye=function(Xe,dt){var Et,Tt,Ct,Dt,Jt,Pt,Mt,Wt,De,Pe,Be=0;for(De=0;De<8;++De){Et=Xe[Be],Tt=Xe[Be+1],Ct=Xe[Be+2],Dt=Xe[Be+3],Jt=Xe[Be+4],Pt=Xe[Be+5],Mt=Xe[Be+6];var ot=Et+(Wt=Xe[Be+7]),vt=Et-Wt,ur=Tt+Mt,Gt=Tt-Mt,Rt=Ct+Pt,Vr=Ct-Pt,dr=Dt+Jt,yn=Dt-Jt,Qr=ot+dr,kn=ot-dr,Zn=ur+Rt,or=ur-Rt;Xe[Be]=Qr+Zn,Xe[Be+4]=Qr-Zn;var Zt=.707106781*(or+kn);Xe[Be+2]=kn+Zt,Xe[Be+6]=kn-Zt;var Kr=.382683433*((Qr=yn+Vr)-(or=Gt+vt)),Ls=.5411961*Qr+Kr,ua=1.306562965*or+Kr,Ha=.707106781*(Zn=Vr+Gt),ai=vt+Ha,qt=vt-Ha;Xe[Be+5]=qt+Ls,Xe[Be+3]=qt-Ls,Xe[Be+1]=ai+ua,Xe[Be+7]=ai-ua,Be+=8}for(Be=0,De=0;De<8;++De){Et=Xe[Be],Tt=Xe[Be+8],Ct=Xe[Be+16],Dt=Xe[Be+24],Jt=Xe[Be+32],Pt=Xe[Be+40],Mt=Xe[Be+48];var wn=Et+(Wt=Xe[Be+56]),An=Et-Wt,Vn=Tt+Mt,ea=Tt-Mt,da=Ct+Pt,Ae=Ct-Pt,Se=Dt+Jt,we=Dt-Jt,Ee=wn+Se,Ce=wn-Se,Ne=Vn+da,We=Vn-da;Xe[Be]=Ee+Ne,Xe[Be+32]=Ee-Ne;var st=.707106781*(We+Ce);Xe[Be+16]=Ce+st,Xe[Be+48]=Ce-st;var $e=.382683433*((Ee=we+Ae)-(We=ea+An)),Je=.5411961*Ee+$e,tt=1.306562965*We+$e,wt=.707106781*(Ne=Ae+ea),Ot=An+wt,Vt=An-wt;Xe[Be+40]=Vt+Je,Xe[Be+24]=Vt-Je,Xe[Be+8]=Ot+tt,Xe[Be+56]=Ot-tt,Be++}for(De=0;De<64;++De)Pe=Xe[De]*dt[De],p[De]=Pe>0?Pe+.5|0:Pe-.5|0;return p}(P,G),Ie=0;Ie<64;++Ie)x[w[Ie]]=ye[Ie];var ne=x[0]-Y;Y=x[0],ne==0?Z(re[0]):(Z(re[m[de=32767+ne]]),Z(f[de]));for(var Fe=63;Fe>0&&x[Fe]==0;)Fe--;if(Fe==0)return Z(me),Y;for(var Le,ke=1;ke<=Fe;){for(var pe=ke;x[ke]==0&&ke<=Fe;)++ke;var je=ke-pe;if(je>=16){Le=je>>4;for(var He=1;He<=Le;++He)Z(ue);je&=15}de=32767+x[ke],Z(ie[(je<<4)+m[de]]),Z(f[de]),ke++}return Fe!=63&&Z(me),Y}function J(P){P=Math.min(Math.max(P,1),100),s!=P&&(function(G){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var ie=i((Y[re]*G+50)/100);ie=Math.min(Math.max(ie,1),255),o[w[re]]=ie}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var ue=i((de[me]*G+50)/100);ue=Math.min(Math.max(ue,1),255),l[w[me]]=ue}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ie=0,ne=0;ne<8;ne++)for(var Fe=0;Fe<8;Fe++)u[Ie]=1/(o[w[Ie]]*ye[ne]*ye[Fe]*8),d[Ie]=1/(l[w[Ie]]*ye[ne]*ye[Fe]*8),Ie++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),s=P)}this.encode=function(P,G){G&&J(G),g=new Array,b=0,y=7,q(65496),q(65504),q(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),q(1),q(1),V(0),V(0),function(){q(65499),q(132),V(0);for(var Tt=0;Tt<64;Tt++)V(o[Tt]);V(1);for(var Ct=0;Ct<64;Ct++)V(l[Ct])}(),function(Tt,Ct){q(65472),q(17),V(8),q(Ct),q(Tt),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(P.width,P.height),function(){q(65476),q(418),V(0);for(var Tt=0;Tt<16;Tt++)V(C[Tt+1]);for(var Ct=0;Ct<=11;Ct++)V(N[Ct]);V(16);for(var Dt=0;Dt<16;Dt++)V(R[Dt+1]);for(var Jt=0;Jt<=161;Jt++)V(D[Jt]);V(1);for(var Pt=0;Pt<16;Pt++)V(O[Pt+1]);for(var Mt=0;Mt<=11;Mt++)V(M[Mt]);V(17);for(var Wt=0;Wt<16;Wt++)V(Q[Wt+1]);for(var De=0;De<=161;De++)V(ee[De])}(),q(65498),q(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var Y=0,re=0,ie=0;b=0,y=7,this.encode.displayName="_encode_";for(var de,me,ue,ye,Ie,ne,Fe,Le,ke,pe=P.data,je=P.width,He=P.height,Xe=4*je,dt=0;dt<He;){for(de=0;de<Xe;){for(Ie=Xe*dt+de,Fe=-1,Le=0,ke=0;ke<64;ke++)ne=Ie+(Le=ke>>3)*Xe+(Fe=4*(7&ke)),dt+Le>=He&&(ne-=Xe*(dt+1+Le-He)),de+Fe>=Xe&&(ne-=de+Fe-Xe+4),me=pe[ne++],ue=pe[ne++],ye=pe[ne++],_[ke]=(F[me]+F[ue+256>>0]+F[ye+512>>0]>>16)-128,S[ke]=(F[me+768>>0]+F[ue+1024>>0]+F[ye+1280>>0]>>16)-128,I[ke]=(F[me+1280>>0]+F[ue+1536>>0]+F[ye+1792>>0]>>16)-128;Y=K(_,u,Y,t,n),re=K(S,d,re,r,a),ie=K(I,d,ie,r,a),de+=32}dt+=8}if(y>=0){var Et=[];Et[1]=y+1,Et[0]=(1<<y+1)-1,Z(Et)}return q(65497),new Uint8Array(g)},e=e||50,function(){for(var P=String.fromCharCode,G=0;G<256;G++)T[G]=P(G)}(),t=W(C,N),r=W(O,M),n=W(R,D),a=W(Q,ee),function(){for(var P=1,G=2,Y=1;Y<=15;Y++){for(var re=P;re<G;re++)m[32767+re]=Y,f[32767+re]=[],f[32767+re][1]=Y,f[32767+re][0]=re;for(var ie=-(G-1);ie<=-P;ie++)m[32767+ie]=Y,f[32767+ie]=[],f[32767+ie][1]=Y,f[32767+ie][0]=G-1+ie;P<<=1,G<<=1}}(),function(){for(var P=0;P<256;P++)F[P]=19595*P,F[P+256>>0]=38470*P,F[P+512>>0]=7471*P+32768,F[P+768>>0]=-11059*P,F[P+1024>>0]=-21709*P,F[P+1280>>0]=32768*P+8421375,F[P+1536>>0]=-27439*P,F[P+1792>>0]=-5329*P}(),J(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function $u(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function u7(e){function t(C){if(!C)throw Error("assert :P")}function r(C,N,R){for(var D=0;4>D;D++)if(C[N+D]!=R.charCodeAt(D))return!0;return!1}function n(C,N,R,D,O){for(var M=0;M<O;M++)C[N+M]=R[D+M]}function a(C,N,R,D){for(var O=0;O<D;O++)C[N+O]=R}function s(C){return new Int32Array(C)}function i(C,N){for(var R=[],D=0;D<C;D++)R.push(new N);return R}function o(C,N){var R=[];return function D(O,M,Q){for(var ee=Q[M],W=0;W<ee&&(O.push(Q.length>M+1?[]:new N),!(Q.length<M+1));W++)D(O[W],M+1,Q)}(R,0,C),R}var l=function(){var C=this;function N(B,U){for(var X=1<<U-1>>>0;B&X;)X>>>=1;return X?(B&X-1)+X:B}function R(B,U,X,ae,le){t(!(ae%X));do B[U+(ae-=X)]=le;while(0<ae)}function D(B,U,X,ae,le){if(t(2328>=le),512>=le)var fe=s(512);else if((fe=s(le))==null)return 0;return function(he,ge,be,_e,Ue,et){var Ye,Ge,bt=ge,ct=1<<be,Me=s(16),Ve=s(16);for(t(Ue!=0),t(_e!=null),t(he!=null),t(0<be),Ge=0;Ge<Ue;++Ge){if(15<_e[Ge])return 0;++Me[_e[Ge]]}if(Me[0]==Ue)return 0;for(Ve[1]=0,Ye=1;15>Ye;++Ye){if(Me[Ye]>1<<Ye)return 0;Ve[Ye+1]=Ve[Ye]+Me[Ye]}for(Ge=0;Ge<Ue;++Ge)Ye=_e[Ge],0<_e[Ge]&&(et[Ve[Ye]++]=Ge);if(Ve[15]==1)return(_e=new O).g=0,_e.value=et[0],R(he,bt,1,ct,_e),ct;var ht,yt=-1,pt=ct-1,Yt=0,Ht=1,Ar=1,$t=1<<be;for(Ge=0,Ye=1,Ue=2;Ye<=be;++Ye,Ue<<=1){if(Ht+=Ar<<=1,0>(Ar-=Me[Ye]))return 0;for(;0<Me[Ye];--Me[Ye])(_e=new O).g=Ye,_e.value=et[Ge++],R(he,bt+Yt,Ue,$t,_e),Yt=N(Yt,Ye)}for(Ye=be+1,Ue=2;15>=Ye;++Ye,Ue<<=1){if(Ht+=Ar<<=1,0>(Ar-=Me[Ye]))return 0;for(;0<Me[Ye];--Me[Ye]){if(_e=new O,(Yt&pt)!=yt){for(bt+=$t,ht=1<<(yt=Ye)-be;15>yt&&!(0>=(ht-=Me[yt]));)++yt,ht<<=1;ct+=$t=1<<(ht=yt-be),he[ge+(yt=Yt&pt)].g=ht+be,he[ge+yt].value=bt-ge-yt}_e.g=Ye-be,_e.value=et[Ge++],R(he,bt+(Yt>>be),Ue,$t,_e),Yt=N(Yt,Ye)}}return Ht!=2*Ve[15]-1?0:ct}(B,U,X,ae,le,fe)}function O(){this.value=this.g=0}function M(){this.value=this.g=0}function Q(){this.G=i(5,O),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(ws,M)}function ee(B,U,X,ae){t(B!=null),t(U!=null),t(2147483648>ae),B.Ca=254,B.I=0,B.b=-8,B.Ka=0,B.oa=U,B.pa=X,B.Jd=U,B.Yc=X+ae,B.Zc=4<=ae?X+ae-4+1:X,de(B)}function W(B,U){for(var X=0;0<U--;)X|=ue(B,128)<<U;return X}function Z(B,U){var X=W(B,U);return me(B)?-X:X}function V(B,U,X,ae){var le,fe=0;for(t(B!=null),t(U!=null),t(4294967288>ae),B.Sb=ae,B.Ra=0,B.u=0,B.h=0,4<ae&&(ae=4),le=0;le<ae;++le)fe+=U[X+le]<<8*le;B.Ra=fe,B.bb=ae,B.oa=U,B.pa=X}function q(B){for(;8<=B.u&&B.bb<B.Sb;)B.Ra>>>=8,B.Ra+=B.oa[B.pa+B.bb]<<FA-8>>>0,++B.bb,B.u-=8;Y(B)&&(B.h=1,B.u=0)}function K(B,U){if(t(0<=U),!B.h&&U<=jA){var X=G(B)&bd[U];return B.u+=U,q(B),X}return B.h=1,B.u=0}function J(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(B){return B.Ra>>>(B.u&FA-1)>>>0}function Y(B){return t(B.bb<=B.Sb),B.h||B.bb==B.Sb&&B.u>FA}function re(B,U){B.u=U,B.h=Y(B)}function ie(B){B.u>=rh&&(t(B.u>=rh),q(B))}function de(B){t(B!=null&&B.oa!=null),B.pa<B.Zc?(B.I=(B.oa[B.pa++]|B.I<<8)>>>0,B.b+=8):(t(B!=null&&B.oa!=null),B.pa<B.Yc?(B.b+=8,B.I=B.oa[B.pa++]|B.I<<8):B.Ka?B.b=0:(B.I<<=8,B.b+=8,B.Ka=1))}function me(B){return W(B,1)}function ue(B,U){var X=B.Ca;0>B.b&&de(B);var ae=B.b,le=X*U>>>8,fe=(B.I>>>ae>le)+0;for(fe?(X-=le,B.I-=le+1<<ae>>>0):X=le+1,ae=X,le=0;256<=ae;)le+=8,ae>>=8;return ae=7^le+ho[ae],B.b-=ae,B.Ca=(X<<ae)-1,fe}function ye(B,U,X){B[U+0]=X>>24&255,B[U+1]=X>>16&255,B[U+2]=X>>8&255,B[U+3]=X>>0&255}function Ie(B,U){return B[U+0]<<0|B[U+1]<<8}function ne(B,U){return Ie(B,U)|B[U+2]<<16}function Fe(B,U){return Ie(B,U)|Ie(B,U+2)<<16}function Le(B,U){var X=1<<U;return t(B!=null),t(0<U),B.X=s(X),B.X==null?0:(B.Mb=32-U,B.Xa=U,1)}function ke(B,U){t(B!=null),t(U!=null),t(B.Xa==U.Xa),n(U.X,0,B.X,0,1<<U.Xa)}function pe(){this.X=[],this.Xa=this.Mb=0}function je(B,U,X,ae){t(X!=null),t(ae!=null);var le=X[0],fe=ae[0];return le==0&&(le=(B*fe+U/2)/U),fe==0&&(fe=(U*le+B/2)/B),0>=le||0>=fe?0:(X[0]=le,ae[0]=fe,1)}function He(B,U){return B+(1<<U)-1>>>U}function Xe(B,U){return((4278255360&B)+(4278255360&U)>>>0&4278255360)+((16711935&B)+(16711935&U)>>>0&16711935)>>>0}function dt(B,U){C[U]=function(X,ae,le,fe,he,ge,be){var _e;for(_e=0;_e<he;++_e){var Ue=C[B](ge[be+_e-1],le,fe+_e);ge[be+_e]=Xe(X[ae+_e],Ue)}}}function Et(){this.ud=this.hd=this.jd=0}function Tt(B,U){return((4278124286&(B^U))>>>1)+(B&U)>>>0}function Ct(B){return 0<=B&&256>B?B:0>B?0:255<B?255:void 0}function Dt(B,U){return Ct(B+(B-U+.5>>1))}function Jt(B,U,X){return Math.abs(U-X)-Math.abs(B-X)}function Pt(B,U,X,ae,le,fe,he){for(ae=fe[he-1],X=0;X<le;++X)fe[he+X]=ae=Xe(B[U+X],ae)}function Mt(B,U,X,ae,le){var fe;for(fe=0;fe<X;++fe){var he=B[U+fe],ge=he>>8&255,be=16711935&(be=(be=16711935&he)+((ge<<16)+ge));ae[le+fe]=(4278255360&he)+be>>>0}}function Wt(B,U){U.jd=B>>0&255,U.hd=B>>8&255,U.ud=B>>16&255}function De(B,U,X,ae,le,fe){var he;for(he=0;he<ae;++he){var ge=U[X+he],be=ge>>>8,_e=ge,Ue=255&(Ue=(Ue=ge>>>16)+((B.jd<<24>>24)*(be<<24>>24)>>>5));_e=255&(_e=(_e=_e+((B.hd<<24>>24)*(be<<24>>24)>>>5))+((B.ud<<24>>24)*(Ue<<24>>24)>>>5)),le[fe+he]=(4278255360&ge)+(Ue<<16)+_e}}function Pe(B,U,X,ae,le){C[U]=function(fe,he,ge,be,_e,Ue,et,Ye,Ge){for(be=et;be<Ye;++be)for(et=0;et<Ge;++et)_e[Ue++]=le(ge[ae(fe[he++])])},C[B]=function(fe,he,ge,be,_e,Ue,et){var Ye=8>>fe.b,Ge=fe.Ea,bt=fe.K[0],ct=fe.w;if(8>Ye)for(fe=(1<<fe.b)-1,ct=(1<<Ye)-1;he<ge;++he){var Me,Ve=0;for(Me=0;Me<Ge;++Me)Me&fe||(Ve=ae(be[_e++])),Ue[et++]=le(bt[Ve&ct]),Ve>>=Ye}else C["VP8LMapColor"+X](be,_e,bt,ct,Ue,et,he,ge,Ge)}}function Be(B,U,X,ae,le){for(X=U+X;U<X;){var fe=B[U++];ae[le++]=fe>>16&255,ae[le++]=fe>>8&255,ae[le++]=fe>>0&255}}function ot(B,U,X,ae,le){for(X=U+X;U<X;){var fe=B[U++];ae[le++]=fe>>16&255,ae[le++]=fe>>8&255,ae[le++]=fe>>0&255,ae[le++]=fe>>24&255}}function vt(B,U,X,ae,le){for(X=U+X;U<X;){var fe=(he=B[U++])>>16&240|he>>12&15,he=he>>0&240|he>>28&15;ae[le++]=fe,ae[le++]=he}}function ur(B,U,X,ae,le){for(X=U+X;U<X;){var fe=(he=B[U++])>>16&248|he>>13&7,he=he>>5&224|he>>3&31;ae[le++]=fe,ae[le++]=he}}function Gt(B,U,X,ae,le){for(X=U+X;U<X;){var fe=B[U++];ae[le++]=fe>>0&255,ae[le++]=fe>>8&255,ae[le++]=fe>>16&255}}function Rt(B,U,X,ae,le,fe){if(fe==0)for(X=U+X;U<X;)ye(ae,((fe=B[U++])[0]>>24|fe[1]>>8&65280|fe[2]<<8&16711680|fe[3]<<24)>>>0),le+=32;else n(ae,le,B,U,X)}function Vr(B,U){C[U][0]=C[B+"0"],C[U][1]=C[B+"1"],C[U][2]=C[B+"2"],C[U][3]=C[B+"3"],C[U][4]=C[B+"4"],C[U][5]=C[B+"5"],C[U][6]=C[B+"6"],C[U][7]=C[B+"7"],C[U][8]=C[B+"8"],C[U][9]=C[B+"9"],C[U][10]=C[B+"10"],C[U][11]=C[B+"11"],C[U][12]=C[B+"12"],C[U][13]=C[B+"13"],C[U][14]=C[B+"0"],C[U][15]=C[B+"0"]}function dr(B){return B==Z0||B==Td||B==ju||B==ih}function yn(){this.eb=[],this.size=this.A=this.fb=0}function Qr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function kn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new yn,this.f.kb=new Qr,this.sd=null}function Zn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function or(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Zt(B){return alert("todo:WebPSamplerProcessPlane"),B.T}function Kr(B,U){var X=B.T,ae=U.ba.f.RGBA,le=ae.eb,fe=ae.fb+B.ka*ae.A,he=Vs[U.ba.S],ge=B.y,be=B.O,_e=B.f,Ue=B.N,et=B.ea,Ye=B.W,Ge=U.cc,bt=U.dc,ct=U.Mc,Me=U.Nc,Ve=B.ka,ht=B.ka+B.T,yt=B.U,pt=yt+1>>1;for(Ve==0?he(ge,be,null,null,_e,Ue,et,Ye,_e,Ue,et,Ye,le,fe,null,null,yt):(he(U.ec,U.fc,ge,be,Ge,bt,ct,Me,_e,Ue,et,Ye,le,fe-ae.A,le,fe,yt),++X);Ve+2<ht;Ve+=2)Ge=_e,bt=Ue,ct=et,Me=Ye,Ue+=B.Rc,Ye+=B.Rc,fe+=2*ae.A,he(ge,(be+=2*B.fa)-B.fa,ge,be,Ge,bt,ct,Me,_e,Ue,et,Ye,le,fe-ae.A,le,fe,yt);return be+=B.fa,B.j+ht<B.o?(n(U.ec,U.fc,ge,be,yt),n(U.cc,U.dc,_e,Ue,pt),n(U.Mc,U.Nc,et,Ye,pt),X--):1&ht||he(ge,be,null,null,_e,Ue,et,Ye,_e,Ue,et,Ye,le,fe+ae.A,null,null,yt),X}function Ls(B,U,X){var ae=B.F,le=[B.J];if(ae!=null){var fe=B.U,he=U.ba.S,ge=he==LA||he==ju;U=U.ba.f.RGBA;var be=[0],_e=B.ka;be[0]=B.T,B.Kb&&(_e==0?--be[0]:(--_e,le[0]-=B.width),B.j+B.ka+B.T==B.o&&(be[0]=B.o-B.j-_e));var Ue=U.eb;_e=U.fb+_e*U.A,B=nn(ae,le[0],B.width,fe,be,Ue,_e+(ge?0:3),U.A),t(X==be),B&&dr(he)&&Ko(Ue,_e,ge,fe,be,U.A)}return 0}function ua(B){var U=B.ma,X=U.ba.S,ae=11>X,le=X==sh||X==J0||X==LA||X==Iu||X==12||dr(X);if(U.memory=null,U.Ib=null,U.Jb=null,U.Nd=null,!xd(U.Oa,B,le?11:12))return 0;if(le&&dr(X)&&kt(),B.da)alert("todo:use_scaling");else{if(ae){if(U.Ib=Zt,B.Kb){if(X=B.U+1>>1,U.memory=s(B.U+2*X),U.memory==null)return 0;U.ec=U.memory,U.fc=0,U.cc=U.ec,U.dc=U.fc+B.U,U.Mc=U.cc,U.Nc=U.dc+X,U.Ib=Kr,kt()}}else alert("todo:EmitYUV");le&&(U.Jb=Ls,ae&&Ke())}if(ae&&!Ow){for(B=0;256>B;++B)JN[B]=89858*(B-128)+Cs>>Hc,rm[B]=-22014*(B-128)+Cs,Px[B]=-45773*(B-128),_s[B]=113618*(B-128)+Cs>>Hc;for(B=Fd;B<$p;++B)U=76283*(B-16)+Cs>>Hc,nm[B-Fd]=On(U,255),Rx[B-Fd]=On(U+8>>4,15);Ow=1}return 1}function Ha(B){var U=B.ma,X=B.U,ae=B.T;return t(!(1&B.ka)),0>=X||0>=ae?0:(X=U.Ib(B,U),U.Jb!=null&&U.Jb(B,U,X),U.Dc+=X,1)}function ai(B){B.ma.memory=null}function qt(B,U,X,ae){return K(B,8)!=47?0:(U[0]=K(B,14)+1,X[0]=K(B,14)+1,ae[0]=K(B,1),K(B,3)!=0?0:!B.h)}function wn(B,U){if(4>B)return B+1;var X=B-2>>1;return(2+(1&B)<<X)+K(U,X)+1}function An(B,U){return 120<U?U-120:1<=(X=((X=Ou[U-1])>>4)*B+(8-(15&X)))?X:1;var X}function Vn(B,U,X){var ae=G(X),le=B[U+=255&ae].g-8;return 0<le&&(re(X,X.u+8),ae=G(X),U+=B[U].value,U+=ae&(1<<le)-1),re(X,X.u+B[U].g),B[U].value}function ea(B,U,X){return X.g+=B.g,X.value+=B.value<<U>>>0,t(8>=X.g),B.g}function da(B,U,X){var ae=B.xc;return t((U=ae==0?0:B.vc[B.md*(X>>ae)+(U>>ae)])<B.Wb),B.Ya[U]}function Ae(B,U,X,ae){var le=B.ab,fe=B.c*U,he=B.C;U=he+U;var ge=X,be=ae;for(ae=B.Ta,X=B.Ua;0<le--;){var _e=B.gc[le],Ue=he,et=U,Ye=ge,Ge=be,bt=(be=ae,ge=X,_e.Ea);switch(t(Ue<et),t(et<=_e.nc),_e.hc){case 2:Lp(Ye,Ge,(et-Ue)*bt,be,ge);break;case 0:var ct=Ue,Me=et,Ve=be,ht=ge,yt=($t=_e).Ea;ct==0&&(Ox(Ye,Ge,null,null,1,Ve,ht),Pt(Ye,Ge+1,0,0,yt-1,Ve,ht+1),Ge+=yt,ht+=yt,++ct);for(var pt=1<<$t.b,Yt=pt-1,Ht=He(yt,$t.b),Ar=$t.K,$t=$t.w+(ct>>$t.b)*Ht;ct<Me;){var _n=Ar,Dn=$t,tn=1;for(X0(Ye,Ge,Ve,ht-yt,1,Ve,ht);tn<yt;){var Yr=(tn&~Yt)+pt;Yr>yt&&(Yr=yt),(0,Bu[_n[Dn++]>>8&15])(Ye,Ge+ +tn,Ve,ht+tn-yt,Yr-tn,Ve,ht+tn),tn=Yr}Ge+=yt,ht+=yt,++ct&Yt||($t+=Ht)}et!=_e.nc&&n(be,ge-bt,be,ge+(et-Ue-1)*bt,bt);break;case 1:for(bt=Ye,Me=Ge,yt=(Ye=_e.Ea)-(ht=Ye&~(Ve=(Ge=1<<_e.b)-1)),ct=He(Ye,_e.b),pt=_e.K,_e=_e.w+(Ue>>_e.b)*ct;Ue<et;){for(Yt=pt,Ht=_e,Ar=new Et,$t=Me+ht,_n=Me+Ye;Me<$t;)Wt(Yt[Ht++],Ar),wd(Ar,bt,Me,Ge,be,ge),Me+=Ge,ge+=Ge;Me<_n&&(Wt(Yt[Ht++],Ar),wd(Ar,bt,Me,yt,be,ge),Me+=yt,ge+=yt),++Ue&Ve||(_e+=ct)}break;case 3:if(Ye==be&&Ge==ge&&0<_e.b){for(Me=be,Ye=bt=ge+(et-Ue)*bt-(ht=(et-Ue)*He(_e.Ea,_e.b)),Ge=be,Ve=ge,ct=[],ht=(yt=ht)-1;0<=ht;--ht)ct[ht]=Ge[Ve+ht];for(ht=yt-1;0<=ht;--ht)Me[Ye+ht]=ct[ht];pl(_e,Ue,et,be,bt,be,ge)}else pl(_e,Ue,et,Ye,Ge,be,ge)}ge=ae,be=X}be!=X&&n(ae,X,ge,be,fe)}function Se(B,U){var X=B.V,ae=B.Ba+B.c*B.C,le=U-B.C;if(t(U<=B.l.o),t(16>=le),0<le){var fe=B.l,he=B.Ta,ge=B.Ua,be=fe.width;if(Ae(B,le,X,ae),le=ge=[ge],t((X=B.C)<(ae=U)),t(fe.v<fe.va),ae>fe.o&&(ae=fe.o),X<fe.j){var _e=fe.j-X;X=fe.j,le[0]+=_e*be}if(X>=ae?X=0:(le[0]+=4*fe.v,fe.ka=X-fe.j,fe.U=fe.va-fe.v,fe.T=ae-X,X=1),X){if(ge=ge[0],11>(X=B.ca).S){var Ue=X.f.RGBA,et=(ae=X.S,le=fe.U,fe=fe.T,_e=Ue.eb,Ue.A),Ye=fe;for(Ue=Ue.fb+B.Ma*Ue.A;0<Ye--;){var Ge=he,bt=ge,ct=le,Me=_e,Ve=Ue;switch(ae){case _i:Vi(Ge,bt,ct,Me,Ve);break;case sh:ci(Ge,bt,ct,Me,Ve);break;case Z0:ci(Ge,bt,ct,Me,Ve),Ko(Me,Ve,0,ct,1,0);break;case Lc:$l(Ge,bt,ct,Me,Ve);break;case J0:Rt(Ge,bt,ct,Me,Ve,1);break;case Td:Rt(Ge,bt,ct,Me,Ve,1),Ko(Me,Ve,0,ct,1,0);break;case LA:Rt(Ge,bt,ct,Me,Ve,0);break;case ju:Rt(Ge,bt,ct,Me,Ve,0),Ko(Me,Ve,1,ct,1,0);break;case Iu:Ed(Ge,bt,ct,Me,Ve);break;case ih:Ed(Ge,bt,ct,Me,Ve),rn(Me,Ve,ct,1,0);break;case Mp:mo(Ge,bt,ct,Me,Ve);break;default:t(0)}ge+=be,Ue+=et}B.Ma+=fe}else alert("todo:EmitRescaledRowsYUVA");t(B.Ma<=X.height)}}B.C=U,t(B.C<=B.i)}function we(B){var U;if(0<B.ua)return 0;for(U=0;U<B.Wb;++U){var X=B.Ya[U].G,ae=B.Ya[U].H;if(0<X[1][ae[1]+0].g||0<X[2][ae[2]+0].g||0<X[3][ae[3]+0].g)return 0}return 1}function Ee(B,U,X,ae,le,fe){if(B.Z!=0){var he=B.qd,ge=B.rd;for(t(Mc[B.Z]!=null);U<X;++U)Mc[B.Z](he,ge,ae,le,ae,le,fe),he=ae,ge=le,le+=fe;B.qd=he,B.rd=ge}}function Ce(B,U){var X=B.l.ma,ae=X.Z==0||X.Z==1?B.l.j:B.C;if(ae=B.C<ae?ae:B.C,t(U<=B.l.o),U>ae){var le=B.l.width,fe=X.ca,he=X.tb+le*ae,ge=B.V,be=B.Ba+B.c*ae,_e=B.gc;t(B.ab==1),t(_e[0].hc==3),yd(_e[0],ae,U,ge,be,fe,he),Ee(X,ae,U,fe,he,le)}B.C=B.Ma=U}function Ne(B,U,X,ae,le,fe,he){var ge=B.$/ae,be=B.$%ae,_e=B.m,Ue=B.s,et=X+B.$,Ye=et;le=X+ae*le;var Ge=X+ae*fe,bt=280+Ue.ua,ct=B.Pb?ge:16777216,Me=0<Ue.ua?Ue.Wa:null,Ve=Ue.wc,ht=et<Ge?da(Ue,be,ge):null;t(B.C<fe),t(Ge<=le);var yt=!1;e:for(;;){for(;yt||et<Ge;){var pt=0;if(ge>=ct){var Yt=et-X;t((ct=B).Pb),ct.wd=ct.m,ct.xd=Yt,0<ct.s.ua&&ke(ct.s.Wa,ct.s.vb),ct=ge+Iw}if(be&Ve||(ht=da(Ue,be,ge)),t(ht!=null),ht.Qb&&(U[et]=ht.qb,yt=!0),!yt)if(ie(_e),ht.jc){pt=_e,Yt=U;var Ht=et,Ar=ht.pd[G(pt)&ws-1];t(ht.jc),256>Ar.g?(re(pt,pt.u+Ar.g),Yt[Ht]=Ar.value,pt=0):(re(pt,pt.u+Ar.g-256),t(256<=Ar.value),pt=Ar.value),pt==0&&(yt=!0)}else pt=Vn(ht.G[0],ht.H[0],_e);if(_e.h)break;if(yt||256>pt){if(!yt)if(ht.nd)U[et]=(ht.qb|pt<<8)>>>0;else{if(ie(_e),yt=Vn(ht.G[1],ht.H[1],_e),ie(_e),Yt=Vn(ht.G[2],ht.H[2],_e),Ht=Vn(ht.G[3],ht.H[3],_e),_e.h)break;U[et]=(Ht<<24|yt<<16|pt<<8|Yt)>>>0}if(yt=!1,++et,++be>=ae&&(be=0,++ge,he!=null&&ge<=fe&&!(ge%16)&&he(B,ge),Me!=null))for(;Ye<et;)pt=U[Ye++],Me.X[(506832829*pt&4294967295)>>>Me.Mb]=pt}else if(280>pt){if(pt=wn(pt-256,_e),Yt=Vn(ht.G[4],ht.H[4],_e),ie(_e),Yt=An(ae,Yt=wn(Yt,_e)),_e.h)break;if(et-X<Yt||le-et<pt)break e;for(Ht=0;Ht<pt;++Ht)U[et+Ht]=U[et+Ht-Yt];for(et+=pt,be+=pt;be>=ae;)be-=ae,++ge,he!=null&&ge<=fe&&!(ge%16)&&he(B,ge);if(t(et<=le),be&Ve&&(ht=da(Ue,be,ge)),Me!=null)for(;Ye<et;)pt=U[Ye++],Me.X[(506832829*pt&4294967295)>>>Me.Mb]=pt}else{if(!(pt<bt))break e;for(yt=pt-280,t(Me!=null);Ye<et;)pt=U[Ye++],Me.X[(506832829*pt&4294967295)>>>Me.Mb]=pt;pt=et,t(!(yt>>>(Yt=Me).Xa)),U[pt]=Yt.X[yt],yt=!0}yt||t(_e.h==Y(_e))}if(B.Pb&&_e.h&&et<le)t(B.m.h),B.a=5,B.m=B.wd,B.$=B.xd,0<B.s.ua&&ke(B.s.vb,B.s.Wa);else{if(_e.h)break e;he!=null&&he(B,ge>fe?fe:ge),B.a=0,B.$=et-X}return 1}return B.a=3,0}function We(B){t(B!=null),B.vc=null,B.yc=null,B.Ya=null;var U=B.Wa;U!=null&&(U.X=null),B.vb=null,t(B!=null)}function st(){var B=new eh;return B==null?null:(B.a=0,B.xb=oh,Vr("Predictor","VP8LPredictors"),Vr("Predictor","VP8LPredictors_C"),Vr("PredictorAdd","VP8LPredictorsAdd"),Vr("PredictorAdd","VP8LPredictorsAdd_C"),Lp=Mt,wd=De,Vi=Be,ci=ot,Ed=vt,mo=ur,$l=Gt,C.VP8LMapColor32b=Qs,C.VP8LMapColor8b=Y0,B)}function $e(B,U,X,ae,le){var fe=1,he=[B],ge=[U],be=ae.m,_e=ae.s,Ue=null,et=0;e:for(;;){if(X)for(;fe&&K(be,1);){var Ye=he,Ge=ge,bt=ae,ct=1,Me=bt.m,Ve=bt.gc[bt.ab],ht=K(Me,2);if(bt.Oc&1<<ht)fe=0;else{switch(bt.Oc|=1<<ht,Ve.hc=ht,Ve.Ea=Ye[0],Ve.nc=Ge[0],Ve.K=[null],++bt.ab,t(4>=bt.ab),ht){case 0:case 1:Ve.b=K(Me,3)+2,ct=$e(He(Ve.Ea,Ve.b),He(Ve.nc,Ve.b),0,bt,Ve.K),Ve.K=Ve.K[0];break;case 3:var yt,pt=K(Me,8)+1,Yt=16<pt?0:4<pt?1:2<pt?2:3;if(Ye[0]=He(Ve.Ea,Yt),Ve.b=Yt,yt=ct=$e(pt,1,0,bt,Ve.K)){var Ht,Ar=pt,$t=Ve,_n=1<<(8>>$t.b),Dn=s(_n);if(Dn==null)yt=0;else{var tn=$t.K[0],Yr=$t.w;for(Dn[0]=$t.K[0][0],Ht=1;Ht<1*Ar;++Ht)Dn[Ht]=Xe(tn[Yr+Ht],Dn[Ht-1]);for(;Ht<4*_n;++Ht)Dn[Ht]=0;$t.K[0]=null,$t.K[0]=Dn,yt=1}}ct=yt;break;case 2:break;default:t(0)}fe=ct}}if(he=he[0],ge=ge[0],fe&&K(be,1)&&!(fe=1<=(et=K(be,4))&&11>=et)){ae.a=3;break e}var Gn;if(Gn=fe)t:{var Pn,Ur,ra,wr=ae,Ir=he,Cn=ge,Sn=et,zs=X,Ss=wr.m,$a=wr.s,Ka=[null],is=1,bl=0,Rn=MA[Sn];r:for(;;){if(zs&&K(Ss,1)){var os=K(Ss,3)+2,ql=He(Ir,os),Od=He(Cn,os),VA=ql*Od;if(!$e(ql,Od,0,wr,Ka))break r;for(Ka=Ka[0],$a.xc=os,Pn=0;Pn<VA;++Pn){var Dd=Ka[Pn]>>8&65535;Ka[Pn]=Dd,Dd>=is&&(is=Dd+1)}}if(Ss.h)break r;for(Ur=0;5>Ur;++Ur){var Ca=Go[Ur];!Ur&&0<Sn&&(Ca+=1<<Sn),bl<Ca&&(bl=Ca)}var am=i(is*Rn,O),Kp=is,$i=i(Kp,Q);if($i==null)var Ta=null;else t(65536>=Kp),Ta=$i;var zA=s(bl);if(Ta==null||zA==null||am==null){wr.a=1;break r}var Pd=am;for(Pn=ra=0;Pn<is;++Pn){var go=Ta[Pn],Rd=go.G,vo=go.H,sm=0,ch=1,Gp=0;for(Ur=0;5>Ur;++Ur){Ca=Go[Ur],Rd[Ur]=Pd,vo[Ur]=ra,!Ur&&0<Sn&&(Ca+=1<<Sn);a:{var im,qp=Ca,om=wr,uh=zA,Rw=Pd,Lw=ra,lm=0,Lu=om.m,e4=K(Lu,1);if(a(uh,0,0,qp),e4){var Uw=K(Lu,1)+1,Mw=K(Lu,1),Lx=K(Lu,Mw==0?1:8);uh[Lx]=1,Uw==2&&(uh[Lx=K(Lu,8)]=1);var dh=1}else{var Ux=s(19),Mx=K(Lu,4)+4;if(19<Mx){om.a=3;var cm=0;break a}for(im=0;im<Mx;++im)Ux[Fu[im]]=K(Lu,3);var Wp=void 0,Ah=void 0,Qw=om,Hw=Ux,Uu=qp,um=uh,Xp=0,Wl=Qw.m,fh=8,Qx=i(128,O);n:for(;D(Qx,0,7,Hw,19);){if(K(Wl,1)){var Vw=2+2*K(Wl,3);if((Wp=2+K(Wl,Vw))>Uu)break n}else Wp=Uu;for(Ah=0;Ah<Uu&&Wp--;){ie(Wl);var Hx=Qx[0+(127&G(Wl))];re(Wl,Wl.u+Hx.g);var $A=Hx.value;if(16>$A)um[Ah++]=$A,$A!=0&&(fh=$A);else{var zw=$A==16,Vx=$A-16,zx=xl[Vx],$x=K(Wl,Qp[Vx])+zx;if(Ah+$x>Uu)break n;for(var $w=zw?fh:0;0<$x--;)um[Ah++]=$w}}Xp=1;break n}Xp||(Qw.a=3),dh=Xp}(dh=dh&&!Lu.h)&&(lm=D(Rw,Lw,8,uh,qp)),dh&&lm!=0?cm=lm:(om.a=3,cm=0)}if(cm==0)break r;if(ch&&UA[Ur]==1&&(ch=Pd[ra].g==0),sm+=Pd[ra].g,ra+=cm,3>=Ur){var KA,Yp=zA[0];for(KA=1;KA<Ca;++KA)zA[KA]>Yp&&(Yp=zA[KA]);Gp+=Yp}}if(go.nd=ch,go.Qb=0,ch&&(go.qb=(Rd[3][vo[3]+0].value<<24|Rd[1][vo[1]+0].value<<16|Rd[2][vo[2]+0].value)>>>0,sm==0&&256>Rd[0][vo[0]+0].value&&(go.Qb=1,go.qb+=Rd[0][vo[0]+0].value<<8)),go.jc=!go.Qb&&6>Gp,go.jc){var dm,Mu=go;for(dm=0;dm<ws;++dm){var Vc=dm,Qu=Mu.pd[Vc],Am=Mu.G[0][Mu.H[0]+Vc];256<=Am.value?(Qu.g=Am.g+256,Qu.value=Am.value):(Qu.g=0,Qu.value=0,Vc>>=ea(Am,8,Qu),Vc>>=ea(Mu.G[1][Mu.H[1]+Vc],16,Qu),Vc>>=ea(Mu.G[2][Mu.H[2]+Vc],0,Qu),ea(Mu.G[3][Mu.H[3]+Vc],24,Qu))}}}$a.vc=Ka,$a.Wb=is,$a.Ya=Ta,$a.yc=am,Gn=1;break t}Gn=0}if(!(fe=Gn)){ae.a=3;break e}if(0<et){if(_e.ua=1<<et,!Le(_e.Wa,et)){ae.a=1,fe=0;break e}}else _e.ua=0;var fm=ae,Kx=he,Kw=ge,Gx=fm.s,qx=Gx.xc;if(fm.c=Kx,fm.i=Kw,Gx.md=He(Kx,qx),Gx.wc=qx==0?-1:(1<<qx)-1,X){ae.xb=Fw;break e}if((Ue=s(he*ge))==null){ae.a=1,fe=0;break e}fe=(fe=Ne(ae,Ue,0,he,ge,ge,null))&&!be.h;break e}return fe?(le!=null?le[0]=Ue:(t(Ue==null),t(X)),ae.$=0,X||We(_e)):We(_e),fe}function Je(B,U){var X=B.c*B.i,ae=X+U+16*U;return t(B.c<=U),B.V=s(ae),B.V==null?(B.Ta=null,B.Ua=0,B.a=1,0):(B.Ta=B.V,B.Ua=B.Ba+X+U,1)}function tt(B,U){var X=B.C,ae=U-X,le=B.V,fe=B.Ba+B.c*X;for(t(U<=B.l.o);0<ae;){var he=16<ae?16:ae,ge=B.l.ma,be=B.l.width,_e=be*he,Ue=ge.ca,et=ge.tb+be*X,Ye=B.Ta,Ge=B.Ua;Ae(B,he,le,fe),fa(Ye,Ge,Ue,et,_e),Ee(ge,X,X+he,Ue,et,be),ae-=he,le+=he*B.c,X+=he}t(X==U),B.C=B.Ma=U}function wt(){this.ub=this.yd=this.td=this.Rb=0}function Ot(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Vt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function jt(){this.Yb=function(){var B=[];return function U(X,ae,le){for(var fe=le[ae],he=0;he<fe&&(X.push(le.length>ae+1?[]:0),!(le.length<ae+1));he++)U(X[he],ae+1,le)}(B,0,[3,11]),B}()}function Lt(){this.jb=s(3),this.Wc=o([4,8],jt),this.Xc=o([4,17],jt)}function yr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Wr(){this.ld=this.La=this.dd=this.tc=0}function Xr(){this.Na=this.la=0}function en(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ts(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function oo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Wr),this.Y=0,this.ya=Array(new ts),this.aa=0,this.l=new ys}function rs(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Us(){this.cb=this.a=0,this.sc="",this.m=new J,this.Od=new wt,this.Kc=new Ot,this.ed=new yr,this.Qa=new Vt,this.Ic=this.$c=this.Aa=0,this.D=new oo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,J),this.ia=0,this.pb=i(4,en),this.Pa=new Lt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rs),this.Hd=0,this.rb=Array(new Xr),this.sb=0,this.wa=Array(new Wr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ts),this.L=this.aa=0,this.gd=o([4,2],Wr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ys(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function si(){var B=new Us;return B!=null&&(B.a=0,B.sc="OK",B.cb=0,B.Xb=0,Es||(Es=Xf)),B}function Aa(B,U,X){return B.a==0&&(B.a=U,B.sc=X,B.cb=0),0}function Ms(B,U,X){return 3<=X&&B[U+0]==157&&B[U+1]==1&&B[U+2]==42}function Ad(B,U){if(B==null)return 0;if(B.a=0,B.sc="OK",U==null)return Aa(B,2,"null VP8Io passed to VP8GetHeaders()");var X=U.data,ae=U.w,le=U.ha;if(4>le)return Aa(B,7,"Truncated header.");var fe=X[ae+0]|X[ae+1]<<8|X[ae+2]<<16,he=B.Od;if(he.Rb=!(1&fe),he.td=fe>>1&7,he.yd=fe>>4&1,he.ub=fe>>5,3<he.td)return Aa(B,3,"Incorrect keyframe parameters.");if(!he.yd)return Aa(B,4,"Frame not displayable.");ae+=3,le-=3;var ge=B.Kc;if(he.Rb){if(7>le)return Aa(B,7,"cannot parse picture header");if(!Ms(X,ae,le))return Aa(B,3,"Bad code word");ge.c=16383&(X[ae+4]<<8|X[ae+3]),ge.Td=X[ae+4]>>6,ge.i=16383&(X[ae+6]<<8|X[ae+5]),ge.Ud=X[ae+6]>>6,ae+=7,le-=7,B.za=ge.c+15>>4,B.Ub=ge.i+15>>4,U.width=ge.c,U.height=ge.i,U.Da=0,U.j=0,U.v=0,U.va=U.width,U.o=U.height,U.da=0,U.ib=U.width,U.hb=U.height,U.U=U.width,U.T=U.height,a((fe=B.Pa).jb,0,255,fe.jb.length),t((fe=B.Qa)!=null),fe.Cb=0,fe.Bb=0,fe.Fb=1,a(fe.Zb,0,0,fe.Zb.length),a(fe.Lb,0,0,fe.Lb)}if(he.ub>le)return Aa(B,7,"bad partition length");ee(fe=B.m,X,ae,he.ub),ae+=he.ub,le-=he.ub,he.Rb&&(ge.Ld=me(fe),ge.Kd=me(fe)),ge=B.Qa;var be,_e=B.Pa;if(t(fe!=null),t(ge!=null),ge.Cb=me(fe),ge.Cb){if(ge.Bb=me(fe),me(fe)){for(ge.Fb=me(fe),be=0;4>be;++be)ge.Zb[be]=me(fe)?Z(fe,7):0;for(be=0;4>be;++be)ge.Lb[be]=me(fe)?Z(fe,6):0}if(ge.Bb)for(be=0;3>be;++be)_e.jb[be]=me(fe)?W(fe,8):255}else ge.Bb=0;if(fe.Ka)return Aa(B,3,"cannot parse segment header");if((ge=B.ed).zd=me(fe),ge.Tb=W(fe,6),ge.wb=W(fe,3),ge.Pc=me(fe),ge.Pc&&me(fe)){for(_e=0;4>_e;++_e)me(fe)&&(ge.vd[_e]=Z(fe,6));for(_e=0;4>_e;++_e)me(fe)&&(ge.od[_e]=Z(fe,6))}if(B.L=ge.Tb==0?0:ge.zd?1:2,fe.Ka)return Aa(B,3,"cannot parse filter header");var Ue=le;if(le=be=ae,ae=be+Ue,ge=Ue,B.Xb=(1<<W(B.m,2))-1,Ue<3*(_e=B.Xb))X=7;else{for(be+=3*_e,ge-=3*_e,Ue=0;Ue<_e;++Ue){var et=X[le+0]|X[le+1]<<8|X[le+2]<<16;et>ge&&(et=ge),ee(B.Jc[+Ue],X,be,et),be+=et,ge-=et,le+=3}ee(B.Jc[+_e],X,be,ge),X=be<ae?0:5}if(X!=0)return Aa(B,X,"cannot parse partitions");for(X=W(be=B.m,7),le=me(be)?Z(be,4):0,ae=me(be)?Z(be,4):0,ge=me(be)?Z(be,4):0,_e=me(be)?Z(be,4):0,be=me(be)?Z(be,4):0,Ue=B.Qa,et=0;4>et;++et){if(Ue.Cb){var Ye=Ue.Zb[et];Ue.Fb||(Ye+=X)}else{if(0<et){B.pb[et]=B.pb[0];continue}Ye=X}var Ge=B.pb[et];Ge.Sc[0]=em[On(Ye+le,127)],Ge.Sc[1]=tm[On(Ye+0,127)],Ge.Eb[0]=2*em[On(Ye+ae,127)],Ge.Eb[1]=101581*tm[On(Ye+ge,127)]>>16,8>Ge.Eb[1]&&(Ge.Eb[1]=8),Ge.Qc[0]=em[On(Ye+_e,117)],Ge.Qc[1]=tm[On(Ye+be,127)],Ge.lc=Ye+be}if(!he.Rb)return Aa(B,4,"Not a key frame.");for(me(fe),he=B.Pa,X=0;4>X;++X){for(le=0;8>le;++le)for(ae=0;3>ae;++ae)for(ge=0;11>ge;++ge)_e=ue(fe,QA[X][le][ae][ge])?W(fe,8):Uc[X][le][ae][ge],he.Wc[X][le].Yb[ae][ge]=_e;for(le=0;17>le;++le)he.Xc[X][le]=he.Wc[X][jw[le]]}return B.kc=me(fe),B.kc&&(B.Bd=W(fe,8)),B.cb=1}function Xf(B,U,X,ae,le,fe,he){var ge=U[le].Yb[X];for(X=0;16>le;++le){if(!ue(B,ge[X+0]))return le;for(;!ue(B,ge[X+1]);)if(ge=U[++le].Yb[0],X=0,le==16)return 16;var be=U[le+1].Yb;if(ue(B,ge[X+2])){var _e=B,Ue=0;if(ue(_e,(Ye=ge)[(et=X)+3]))if(ue(_e,Ye[et+6])){for(ge=0,et=2*(Ue=ue(_e,Ye[et+8]))+(Ye=ue(_e,Ye[et+9+Ue])),Ue=0,Ye=La[et];Ye[ge];++ge)Ue+=Ue+ue(_e,Ye[ge]);Ue+=3+(8<<et)}else ue(_e,Ye[et+7])?(Ue=7+2*ue(_e,165),Ue+=ue(_e,145)):Ue=5+ue(_e,159);else Ue=ue(_e,Ye[et+4])?3+ue(_e,Ye[et+5]):2;ge=be[2]}else Ue=1,ge=be[1];be=he+Tn[le],0>(_e=B).b&&de(_e);var et,Ye=_e.b,Ge=(et=_e.Ca>>1)-(_e.I>>Ye)>>31;--_e.b,_e.Ca+=Ge,_e.Ca|=1,_e.I-=(et+1&Ge)<<Ye,fe[be]=((Ue^Ge)-Ge)*ae[(0<le)+0]}return 16}function Cc(B){var U=B.rb[B.sb-1];U.la=0,U.Na=0,a(B.zc,0,0,B.zc.length),B.ja=0}function _A(B,U){if(B==null)return 0;if(U==null)return Aa(B,2,"NULL VP8Io parameter in VP8Decode().");if(!B.cb&&!Ad(B,U))return 0;if(t(B.cb),U.ac==null||U.ac(U)){U.ob&&(B.L=0);var X=Ru[B.L];if(B.L==2?(B.yb=0,B.zb=0):(B.yb=U.v-X>>4,B.zb=U.j-X>>4,0>B.yb&&(B.yb=0),0>B.zb&&(B.zb=0)),B.Va=U.o+15+X>>4,B.Hb=U.va+15+X>>4,B.Hb>B.za&&(B.Hb=B.za),B.Va>B.Ub&&(B.Va=B.Ub),0<B.L){var ae=B.ed;for(X=0;4>X;++X){var le;if(B.Qa.Cb){var fe=B.Qa.Lb[X];B.Qa.Fb||(fe+=ae.Tb)}else fe=ae.Tb;for(le=0;1>=le;++le){var he=B.gd[X][le],ge=fe;if(ae.Pc&&(ge+=ae.vd[0],le&&(ge+=ae.od[0])),0<(ge=0>ge?0:63<ge?63:ge)){var be=ge;0<ae.wb&&(be=4<ae.wb?be>>2:be>>1)>9-ae.wb&&(be=9-ae.wb),1>be&&(be=1),he.dd=be,he.tc=2*ge+be,he.ld=40<=ge?2:15<=ge?1:0}else he.tc=0;he.La=le}}}X=0}else Aa(B,6,"Frame setup failed"),X=B.a;if(X=X==0){if(X){B.$c=0,0<B.Aa||(B.Ic=Dw);e:{X=B.Ic,ae=4*(be=B.za);var _e=32*be,Ue=be+1,et=0<B.L?be*(0<B.Aa?2:1):0,Ye=(B.Aa==2?2:1)*be;if((he=ae+832+(le=3*(16*X+Ru[B.L])/2*_e)+(fe=B.Fa!=null&&0<B.Fa.length?B.Kc.c*B.Kc.i:0))!=he)X=0;else{if(he>B.Vb){if(B.Vb=0,B.Ec=s(he),B.Fc=0,B.Ec==null){X=Aa(B,1,"no memory during frame initialization.");break e}B.Vb=he}he=B.Ec,ge=B.Fc,B.Ac=he,B.Bc=ge,ge+=ae,B.Gd=i(_e,rs),B.Hd=0,B.rb=i(Ue+1,Xr),B.sb=1,B.wa=et?i(et,Wr):null,B.Y=0,B.D.Nb=0,B.D.wa=B.wa,B.D.Y=B.Y,0<B.Aa&&(B.D.Y+=be),t(!0),B.oc=he,B.pc=ge,ge+=832,B.ya=i(Ye,ts),B.aa=0,B.D.ya=B.ya,B.D.aa=B.aa,B.Aa==2&&(B.D.aa+=be),B.R=16*be,B.B=8*be,be=(_e=Ru[B.L])*B.R,_e=_e/2*B.B,B.sa=he,B.ta=ge+be,B.qa=B.sa,B.ra=B.ta+16*X*B.R+_e,B.Ha=B.qa,B.Ia=B.ra+8*X*B.B+_e,B.$c=0,ge+=le,B.mb=fe?he:null,B.nb=fe?ge:null,t(ge+fe<=B.Fc+B.Vb),Cc(B),a(B.Ac,B.Bc,0,ae),X=1}}if(X){if(U.ka=0,U.y=B.sa,U.O=B.ta,U.f=B.qa,U.N=B.ra,U.ea=B.Ha,U.Vd=B.Ia,U.fa=B.R,U.Rc=B.B,U.F=null,U.J=0,!Tu){for(X=-255;255>=X;++X)za[255+X]=0>X?-X:X;for(X=-1020;1020>=X;++X)gl[1020+X]=-128>X?-128:127<X?127:X;for(X=-112;112>=X;++X)Bd[112+X]=-16>X?-16:15<X?15:X;for(X=-255;510>=X;++X)kd[255+X]=0>X?0:255<X?255:X;Tu=1}Pc=lo,Kl=Sc,Gl=ll,ss=Fn,po=Nc,Pa=_c,OA=Ic,Rc=Vl,nh=pd,Cd=TA,_d=md,Sd=Eu,DA=Cu,ah=jc,Nd=$o,ku=Ei,PA=as,Ra=Zf,zi[0]=yi,zi[1]=Yf,zi[2]=dl,zi[3]=Jf,zi[4]=co,zi[5]=Al,zi[6]=Hi,zi[7]=uo,zi[8]=Hl,zi[9]=Bc,Du[0]=cl,Du[1]=NA,Du[2]=Ul,Du[3]=hd,Du[4]=ta,Du[5]=Ql,Du[6]=ul,qo[0]=fl,qo[1]=SA,qo[2]=BA,qo[3]=Ao,qo[4]=sn,qo[5]=ns,qo[6]=kc,X=1}else X=0}X&&(X=function(Ge,bt){for(Ge.M=0;Ge.M<Ge.Va;++Ge.M){var ct,Me=Ge.Jc[Ge.M&Ge.Xb],Ve=Ge.m,ht=Ge;for(ct=0;ct<ht.za;++ct){var yt=Ve,pt=ht,Yt=pt.Ac,Ht=pt.Bc+4*ct,Ar=pt.zc,$t=pt.ya[pt.aa+ct];if(pt.Qa.Bb?$t.$b=ue(yt,pt.Pa.jb[0])?2+ue(yt,pt.Pa.jb[2]):ue(yt,pt.Pa.jb[1]):$t.$b=0,pt.kc&&($t.Ad=ue(yt,pt.Bd)),$t.Za=!ue(yt,145)+0,$t.Za){var _n=$t.Ob,Dn=0;for(pt=0;4>pt;++pt){var tn,Yr=Ar[0+pt];for(tn=0;4>tn;++tn){Yr=Dx[Yt[Ht+tn]][Yr];for(var Gn=Id[ue(yt,Yr[0])];0<Gn;)Gn=Id[2*Gn+ue(yt,Yr[Gn])];Yr=-Gn,Yt[Ht+tn]=Yr}n(_n,Dn,Yt,Ht,4),Dn+=4,Ar[0+pt]=Yr}}else Yr=ue(yt,156)?ue(yt,128)?1:3:ue(yt,163)?2:0,$t.Ob[0]=Yr,a(Yt,Ht,Yr,4),a(Ar,0,Yr,4);$t.Dd=ue(yt,142)?ue(yt,114)?ue(yt,183)?1:3:2:0}if(ht.m.Ka)return Aa(Ge,7,"Premature end-of-partition0 encountered.");for(;Ge.ja<Ge.za;++Ge.ja){if(ht=Me,yt=(Ve=Ge).rb[Ve.sb-1],Yt=Ve.rb[Ve.sb+Ve.ja],ct=Ve.ya[Ve.aa+Ve.ja],Ht=Ve.kc?ct.Ad:0)yt.la=Yt.la=0,ct.Za||(yt.Na=Yt.Na=0),ct.Hc=0,ct.Gc=0,ct.ia=0;else{var Pn,Ur;if(yt=Yt,Yt=ht,Ht=Ve.Pa.Xc,Ar=Ve.ya[Ve.aa+Ve.ja],$t=Ve.pb[Ar.$b],pt=Ar.ad,_n=0,Dn=Ve.rb[Ve.sb-1],Yr=tn=0,a(pt,_n,0,384),Ar.Za)var ra=0,wr=Ht[3];else{Gn=s(16);var Ir=yt.Na+Dn.Na;if(Ir=Es(Yt,Ht[1],Ir,$t.Eb,0,Gn,0),yt.Na=Dn.Na=(0<Ir)+0,1<Ir)Pc(Gn,0,pt,_n);else{var Cn=Gn[0]+3>>3;for(Gn=0;256>Gn;Gn+=16)pt[_n+Gn]=Cn}ra=1,wr=Ht[0]}var Sn=15&yt.la,zs=15&Dn.la;for(Gn=0;4>Gn;++Gn){var Ss=1&zs;for(Cn=Ur=0;4>Cn;++Cn)Sn=Sn>>1|(Ss=(Ir=Es(Yt,wr,Ir=Ss+(1&Sn),$t.Sc,ra,pt,_n))>ra)<<7,Ur=Ur<<2|(3<Ir?3:1<Ir?2:pt[_n+0]!=0),_n+=16;Sn>>=4,zs=zs>>1|Ss<<7,tn=(tn<<8|Ur)>>>0}for(wr=Sn,ra=zs>>4,Pn=0;4>Pn;Pn+=2){for(Ur=0,Sn=yt.la>>4+Pn,zs=Dn.la>>4+Pn,Gn=0;2>Gn;++Gn){for(Ss=1&zs,Cn=0;2>Cn;++Cn)Ir=Ss+(1&Sn),Sn=Sn>>1|(Ss=0<(Ir=Es(Yt,Ht[2],Ir,$t.Qc,0,pt,_n)))<<3,Ur=Ur<<2|(3<Ir?3:1<Ir?2:pt[_n+0]!=0),_n+=16;Sn>>=2,zs=zs>>1|Ss<<5}Yr|=Ur<<4*Pn,wr|=Sn<<4<<Pn,ra|=(240&zs)<<Pn}yt.la=wr,Dn.la=ra,Ar.Hc=tn,Ar.Gc=Yr,Ar.ia=43690&Yr?0:$t.ia,Ht=!(tn|Yr)}if(0<Ve.L&&(Ve.wa[Ve.Y+Ve.ja]=Ve.gd[ct.$b][ct.Za],Ve.wa[Ve.Y+Ve.ja].La|=!Ht),ht.Ka)return Aa(Ge,7,"Premature end-of-file encountered.")}if(Cc(Ge),Ve=bt,ht=1,ct=(Me=Ge).D,yt=0<Me.L&&Me.M>=Me.zb&&Me.M<=Me.Va,Me.Aa==0)e:{if(ct.M=Me.M,ct.uc=yt,fo(Me,ct),ht=1,ct=(Ur=Me.D).Nb,yt=(Yr=Ru[Me.L])*Me.R,Yt=Yr/2*Me.B,Gn=16*ct*Me.R,Cn=8*ct*Me.B,Ht=Me.sa,Ar=Me.ta-yt+Gn,$t=Me.qa,pt=Me.ra-Yt+Cn,_n=Me.Ha,Dn=Me.Ia-Yt+Cn,zs=(Sn=Ur.M)==0,tn=Sn>=Me.Va-1,Me.Aa==2&&fo(Me,Ur),Ur.uc)for(Ss=(Ir=Me).D.M,t(Ir.D.uc),Ur=Ir.yb;Ur<Ir.Hb;++Ur){ra=Ur,wr=Ss;var $a=(Ka=(Ca=Ir).D).Nb;Pn=Ca.R;var Ka=Ka.wa[Ka.Y+ra],is=Ca.sa,bl=Ca.ta+16*$a*Pn+16*ra,Rn=Ka.dd,os=Ka.tc;if(os!=0)if(t(3<=os),Ca.L==1)0<ra&&ku(is,bl,Pn,os+4),Ka.La&&Ra(is,bl,Pn,os),0<wr&&Nd(is,bl,Pn,os+4),Ka.La&&PA(is,bl,Pn,os);else{var ql=Ca.B,Od=Ca.qa,VA=Ca.ra+8*$a*ql+8*ra,Dd=Ca.Ha,Ca=Ca.Ia+8*$a*ql+8*ra;$a=Ka.ld,0<ra&&(Rc(is,bl,Pn,os+4,Rn,$a),Cd(Od,VA,Dd,Ca,ql,os+4,Rn,$a)),Ka.La&&(Sd(is,bl,Pn,os,Rn,$a),ah(Od,VA,Dd,Ca,ql,os,Rn,$a)),0<wr&&(OA(is,bl,Pn,os+4,Rn,$a),nh(Od,VA,Dd,Ca,ql,os+4,Rn,$a)),Ka.La&&(_d(is,bl,Pn,os,Rn,$a),DA(Od,VA,Dd,Ca,ql,os,Rn,$a))}}if(Me.ia&&alert("todo:DitherRow"),Ve.put!=null){if(Ur=16*Sn,Sn=16*(Sn+1),zs?(Ve.y=Me.sa,Ve.O=Me.ta+Gn,Ve.f=Me.qa,Ve.N=Me.ra+Cn,Ve.ea=Me.Ha,Ve.W=Me.Ia+Cn):(Ur-=Yr,Ve.y=Ht,Ve.O=Ar,Ve.f=$t,Ve.N=pt,Ve.ea=_n,Ve.W=Dn),tn||(Sn-=Yr),Sn>Ve.o&&(Sn=Ve.o),Ve.F=null,Ve.J=null,Me.Fa!=null&&0<Me.Fa.length&&Ur<Sn&&(Ve.J=vd(Me,Ve,Ur,Sn-Ur),Ve.F=Me.mb,Ve.F==null&&Ve.F.length==0)){ht=Aa(Me,3,"Could not decode alpha data.");break e}Ur<Ve.j&&(Yr=Ve.j-Ur,Ur=Ve.j,t(!(1&Yr)),Ve.O+=Me.R*Yr,Ve.N+=Me.B*(Yr>>1),Ve.W+=Me.B*(Yr>>1),Ve.F!=null&&(Ve.J+=Ve.width*Yr)),Ur<Sn&&(Ve.O+=Ve.v,Ve.N+=Ve.v>>1,Ve.W+=Ve.v>>1,Ve.F!=null&&(Ve.J+=Ve.v),Ve.ka=Ur-Ve.j,Ve.U=Ve.va-Ve.v,Ve.T=Sn-Ur,ht=Ve.put(Ve))}ct+1!=Me.Ic||tn||(n(Me.sa,Me.ta-yt,Ht,Ar+16*Me.R,yt),n(Me.qa,Me.ra-Yt,$t,pt+8*Me.B,Yt),n(Me.Ha,Me.Ia-Yt,_n,Dn+8*Me.B,Yt))}if(!ht)return Aa(Ge,6,"Output aborted.")}return 1}(B,U)),U.bc!=null&&U.bc(U),X&=1}return X?(B.cb=0,X):0}function ii(B,U,X,ae,le){le=B[U+X+32*ae]+(le>>3),B[U+X+32*ae]=-256&le?0>le?0:255:le}function fd(B,U,X,ae,le,fe){ii(B,U,0,X,ae+le),ii(B,U,1,X,ae+fe),ii(B,U,2,X,ae-fe),ii(B,U,3,X,ae-le)}function En(B){return(20091*B>>16)+B}function oi(B,U,X,ae){var le,fe=0,he=s(16);for(le=0;4>le;++le){var ge=B[U+0]+B[U+8],be=B[U+0]-B[U+8],_e=(35468*B[U+4]>>16)-En(B[U+12]),Ue=En(B[U+4])+(35468*B[U+12]>>16);he[fe+0]=ge+Ue,he[fe+1]=be+_e,he[fe+2]=be-_e,he[fe+3]=ge-Ue,fe+=4,U++}for(le=fe=0;4>le;++le)ge=(B=he[fe+0]+4)+he[fe+8],be=B-he[fe+8],_e=(35468*he[fe+4]>>16)-En(he[fe+12]),ii(X,ae,0,0,ge+(Ue=En(he[fe+4])+(35468*he[fe+12]>>16))),ii(X,ae,1,0,be+_e),ii(X,ae,2,0,be-_e),ii(X,ae,3,0,ge-Ue),fe++,ae+=32}function _c(B,U,X,ae){var le=B[U+0]+4,fe=35468*B[U+4]>>16,he=En(B[U+4]),ge=35468*B[U+1]>>16;fd(X,ae,0,le+he,B=En(B[U+1]),ge),fd(X,ae,1,le+fe,B,ge),fd(X,ae,2,le-fe,B,ge),fd(X,ae,3,le-he,B,ge)}function Sc(B,U,X,ae,le){oi(B,U,X,ae),le&&oi(B,U+16,X,ae+4)}function ll(B,U,X,ae){Kl(B,U+0,X,ae,1),Kl(B,U+32,X,ae+128,1)}function Fn(B,U,X,ae){var le;for(B=B[U+0]+4,le=0;4>le;++le)for(U=0;4>U;++U)ii(X,ae,U,le,B)}function Nc(B,U,X,ae){B[U+0]&&ss(B,U+0,X,ae),B[U+16]&&ss(B,U+16,X,ae+4),B[U+32]&&ss(B,U+32,X,ae+128),B[U+48]&&ss(B,U+48,X,ae+128+4)}function lo(B,U,X,ae){var le,fe=s(16);for(le=0;4>le;++le){var he=B[U+0+le]+B[U+12+le],ge=B[U+4+le]+B[U+8+le],be=B[U+4+le]-B[U+8+le],_e=B[U+0+le]-B[U+12+le];fe[0+le]=he+ge,fe[8+le]=he-ge,fe[4+le]=_e+be,fe[12+le]=_e-be}for(le=0;4>le;++le)he=(B=fe[0+4*le]+3)+fe[3+4*le],ge=fe[1+4*le]+fe[2+4*le],be=fe[1+4*le]-fe[2+4*le],_e=B-fe[3+4*le],X[ae+0]=he+ge>>3,X[ae+16]=_e+be>>3,X[ae+32]=he-ge>>3,X[ae+48]=_e-be>>3,ae+=64}function Ll(B,U,X){var ae,le=U-32,fe=Hs,he=255-B[le-1];for(ae=0;ae<X;++ae){var ge,be=fe,_e=he+B[U-1];for(ge=0;ge<X;++ge)B[U+ge]=be[_e+B[le+ge]];U+=32}}function Yf(B,U){Ll(B,U,4)}function SA(B,U){Ll(B,U,8)}function NA(B,U){Ll(B,U,16)}function Ul(B,U){var X;for(X=0;16>X;++X)n(B,U+32*X,B,U-32,16)}function hd(B,U){var X;for(X=16;0<X;--X)a(B,U,B[U-1],16),U+=32}function Ml(B,U,X){var ae;for(ae=0;16>ae;++ae)a(U,X+32*ae,B,16)}function cl(B,U){var X,ae=16;for(X=0;16>X;++X)ae+=B[U-1+32*X]+B[U+X-32];Ml(ae>>5,B,U)}function ta(B,U){var X,ae=8;for(X=0;16>X;++X)ae+=B[U-1+32*X];Ml(ae>>4,B,U)}function Ql(B,U){var X,ae=8;for(X=0;16>X;++X)ae+=B[U+X-32];Ml(ae>>4,B,U)}function ul(B,U){Ml(128,B,U)}function _r(B,U,X){return B+2*U+X+2>>2}function dl(B,U){var X,ae=U-32;for(ae=new Uint8Array([_r(B[ae-1],B[ae+0],B[ae+1]),_r(B[ae+0],B[ae+1],B[ae+2]),_r(B[ae+1],B[ae+2],B[ae+3]),_r(B[ae+2],B[ae+3],B[ae+4])]),X=0;4>X;++X)n(B,U+32*X,ae,0,ae.length)}function Jf(B,U){var X=B[U-1],ae=B[U-1+32],le=B[U-1+64],fe=B[U-1+96];ye(B,U+0,16843009*_r(B[U-1-32],X,ae)),ye(B,U+32,16843009*_r(X,ae,le)),ye(B,U+64,16843009*_r(ae,le,fe)),ye(B,U+96,16843009*_r(le,fe,fe))}function yi(B,U){var X,ae=4;for(X=0;4>X;++X)ae+=B[U+X-32]+B[U-1+32*X];for(ae>>=3,X=0;4>X;++X)a(B,U+32*X,ae,4)}function co(B,U){var X=B[U-1+0],ae=B[U-1+32],le=B[U-1+64],fe=B[U-1-32],he=B[U+0-32],ge=B[U+1-32],be=B[U+2-32],_e=B[U+3-32];B[U+0+96]=_r(ae,le,B[U-1+96]),B[U+1+96]=B[U+0+64]=_r(X,ae,le),B[U+2+96]=B[U+1+64]=B[U+0+32]=_r(fe,X,ae),B[U+3+96]=B[U+2+64]=B[U+1+32]=B[U+0+0]=_r(he,fe,X),B[U+3+64]=B[U+2+32]=B[U+1+0]=_r(ge,he,fe),B[U+3+32]=B[U+2+0]=_r(be,ge,he),B[U+3+0]=_r(_e,be,ge)}function Hi(B,U){var X=B[U+1-32],ae=B[U+2-32],le=B[U+3-32],fe=B[U+4-32],he=B[U+5-32],ge=B[U+6-32],be=B[U+7-32];B[U+0+0]=_r(B[U+0-32],X,ae),B[U+1+0]=B[U+0+32]=_r(X,ae,le),B[U+2+0]=B[U+1+32]=B[U+0+64]=_r(ae,le,fe),B[U+3+0]=B[U+2+32]=B[U+1+64]=B[U+0+96]=_r(le,fe,he),B[U+3+32]=B[U+2+64]=B[U+1+96]=_r(fe,he,ge),B[U+3+64]=B[U+2+96]=_r(he,ge,be),B[U+3+96]=_r(ge,be,be)}function Al(B,U){var X=B[U-1+0],ae=B[U-1+32],le=B[U-1+64],fe=B[U-1-32],he=B[U+0-32],ge=B[U+1-32],be=B[U+2-32],_e=B[U+3-32];B[U+0+0]=B[U+1+64]=fe+he+1>>1,B[U+1+0]=B[U+2+64]=he+ge+1>>1,B[U+2+0]=B[U+3+64]=ge+be+1>>1,B[U+3+0]=be+_e+1>>1,B[U+0+96]=_r(le,ae,X),B[U+0+64]=_r(ae,X,fe),B[U+0+32]=B[U+1+96]=_r(X,fe,he),B[U+1+32]=B[U+2+96]=_r(fe,he,ge),B[U+2+32]=B[U+3+96]=_r(he,ge,be),B[U+3+32]=_r(ge,be,_e)}function uo(B,U){var X=B[U+0-32],ae=B[U+1-32],le=B[U+2-32],fe=B[U+3-32],he=B[U+4-32],ge=B[U+5-32],be=B[U+6-32],_e=B[U+7-32];B[U+0+0]=X+ae+1>>1,B[U+1+0]=B[U+0+64]=ae+le+1>>1,B[U+2+0]=B[U+1+64]=le+fe+1>>1,B[U+3+0]=B[U+2+64]=fe+he+1>>1,B[U+0+32]=_r(X,ae,le),B[U+1+32]=B[U+0+96]=_r(ae,le,fe),B[U+2+32]=B[U+1+96]=_r(le,fe,he),B[U+3+32]=B[U+2+96]=_r(fe,he,ge),B[U+3+64]=_r(he,ge,be),B[U+3+96]=_r(ge,be,_e)}function Bc(B,U){var X=B[U-1+0],ae=B[U-1+32],le=B[U-1+64],fe=B[U-1+96];B[U+0+0]=X+ae+1>>1,B[U+2+0]=B[U+0+32]=ae+le+1>>1,B[U+2+32]=B[U+0+64]=le+fe+1>>1,B[U+1+0]=_r(X,ae,le),B[U+3+0]=B[U+1+32]=_r(ae,le,fe),B[U+3+32]=B[U+1+64]=_r(le,fe,fe),B[U+3+64]=B[U+2+64]=B[U+0+96]=B[U+1+96]=B[U+2+96]=B[U+3+96]=fe}function Hl(B,U){var X=B[U-1+0],ae=B[U-1+32],le=B[U-1+64],fe=B[U-1+96],he=B[U-1-32],ge=B[U+0-32],be=B[U+1-32],_e=B[U+2-32];B[U+0+0]=B[U+2+32]=X+he+1>>1,B[U+0+32]=B[U+2+64]=ae+X+1>>1,B[U+0+64]=B[U+2+96]=le+ae+1>>1,B[U+0+96]=fe+le+1>>1,B[U+3+0]=_r(ge,be,_e),B[U+2+0]=_r(he,ge,be),B[U+1+0]=B[U+3+32]=_r(X,he,ge),B[U+1+32]=B[U+3+64]=_r(ae,X,he),B[U+1+64]=B[U+3+96]=_r(le,ae,X),B[U+1+96]=_r(fe,le,ae)}function BA(B,U){var X;for(X=0;8>X;++X)n(B,U+32*X,B,U-32,8)}function Ao(B,U){var X;for(X=0;8>X;++X)a(B,U,B[U-1],8),U+=32}function wi(B,U,X){var ae;for(ae=0;8>ae;++ae)a(U,X+32*ae,B,8)}function fl(B,U){var X,ae=8;for(X=0;8>X;++X)ae+=B[U+X-32]+B[U-1+32*X];wi(ae>>4,B,U)}function ns(B,U){var X,ae=4;for(X=0;8>X;++X)ae+=B[U+X-32];wi(ae>>3,B,U)}function sn(B,U){var X,ae=4;for(X=0;8>X;++X)ae+=B[U-1+32*X];wi(ae>>3,B,U)}function kc(B,U){wi(128,B,U)}function hl(B,U,X){var ae=B[U-X],le=B[U+0],fe=3*(le-ae)+Up[1020+B[U-2*X]-B[U+X]],he=RA[112+(fe+4>>3)];B[U-X]=Hs[255+ae+RA[112+(fe+3>>3)]],B[U+0]=Hs[255+le-he]}function kA(B,U,X,ae){var le=B[U+0],fe=B[U+X];return vl[255+B[U-2*X]-B[U-X]]>ae||vl[255+fe-le]>ae}function yu(B,U,X,ae){return 4*vl[255+B[U-X]-B[U+0]]+vl[255+B[U-2*X]-B[U+X]]<=ae}function wu(B,U,X,ae,le){var fe=B[U-3*X],he=B[U-2*X],ge=B[U-X],be=B[U+0],_e=B[U+X],Ue=B[U+2*X],et=B[U+3*X];return 4*vl[255+ge-be]+vl[255+he-_e]>ae?0:vl[255+B[U-4*X]-fe]<=le&&vl[255+fe-he]<=le&&vl[255+he-ge]<=le&&vl[255+et-Ue]<=le&&vl[255+Ue-_e]<=le&&vl[255+_e-be]<=le}function $o(B,U,X,ae){var le=2*ae+1;for(ae=0;16>ae;++ae)yu(B,U+ae,X,le)&&hl(B,U+ae,X)}function Ei(B,U,X,ae){var le=2*ae+1;for(ae=0;16>ae;++ae)yu(B,U+ae*X,1,le)&&hl(B,U+ae*X,1)}function as(B,U,X,ae){var le;for(le=3;0<le;--le)$o(B,U+=4*X,X,ae)}function Zf(B,U,X,ae){var le;for(le=3;0<le;--le)Ei(B,U+=4,X,ae)}function Tc(B,U,X,ae,le,fe,he,ge){for(fe=2*fe+1;0<le--;){if(wu(B,U,X,fe,he))if(kA(B,U,X,ge))hl(B,U,X);else{var be=B,_e=U,Ue=X,et=be[_e-2*Ue],Ye=be[_e-Ue],Ge=be[_e+0],bt=be[_e+Ue],ct=be[_e+2*Ue],Me=27*(ht=Up[1020+3*(Ge-Ye)+Up[1020+et-bt]])+63>>7,Ve=18*ht+63>>7,ht=9*ht+63>>7;be[_e-3*Ue]=Hs[255+be[_e-3*Ue]+ht],be[_e-2*Ue]=Hs[255+et+Ve],be[_e-Ue]=Hs[255+Ye+Me],be[_e+0]=Hs[255+Ge-Me],be[_e+Ue]=Hs[255+bt-Ve],be[_e+2*Ue]=Hs[255+ct-ht]}U+=ae}}function li(B,U,X,ae,le,fe,he,ge){for(fe=2*fe+1;0<le--;){if(wu(B,U,X,fe,he))if(kA(B,U,X,ge))hl(B,U,X);else{var be=B,_e=U,Ue=X,et=be[_e-Ue],Ye=be[_e+0],Ge=be[_e+Ue],bt=RA[112+((ct=3*(Ye-et))+4>>3)],ct=RA[112+(ct+3>>3)],Me=bt+1>>1;be[_e-2*Ue]=Hs[255+be[_e-2*Ue]+Me],be[_e-Ue]=Hs[255+et+ct],be[_e+0]=Hs[255+Ye-bt],be[_e+Ue]=Hs[255+Ge-Me]}U+=ae}}function Ic(B,U,X,ae,le,fe){Tc(B,U,X,1,16,ae,le,fe)}function Vl(B,U,X,ae,le,fe){Tc(B,U,1,X,16,ae,le,fe)}function md(B,U,X,ae,le,fe){var he;for(he=3;0<he;--he)li(B,U+=4*X,X,1,16,ae,le,fe)}function Eu(B,U,X,ae,le,fe){var he;for(he=3;0<he;--he)li(B,U+=4,1,X,16,ae,le,fe)}function pd(B,U,X,ae,le,fe,he,ge){Tc(B,U,le,1,8,fe,he,ge),Tc(X,ae,le,1,8,fe,he,ge)}function TA(B,U,X,ae,le,fe,he,ge){Tc(B,U,1,le,8,fe,he,ge),Tc(X,ae,1,le,8,fe,he,ge)}function Cu(B,U,X,ae,le,fe,he,ge){li(B,U+4*le,le,1,8,fe,he,ge),li(X,ae+4*le,le,1,8,fe,he,ge)}function jc(B,U,X,ae,le,fe,he,ge){li(B,U+4,1,le,8,fe,he,ge),li(X,ae+4,1,le,8,fe,he,ge)}function _u(){this.ba=new kn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new or,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function gd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Su(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Fc(){this.ua=0,this.Wa=new pe,this.vb=new pe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new O}function eh(){this.xb=this.a=0,this.l=new ys,this.ca=new kn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Fc,this.ab=0,this.gc=i(4,Su),this.Oc=0}function zl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ys,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Oc(B,U,X,ae,le,fe,he){for(B=B==null?0:B[U+0],U=0;U<he;++U)le[fe+U]=B+X[ae+U]&255,B=le[fe+U]}function Nu(B,U,X,ae,le,fe,he){var ge;if(B==null)Oc(null,null,X,ae,le,fe,he);else for(ge=0;ge<he;++ge)le[fe+ge]=B[U+ge]+X[ae+ge]&255}function Ci(B,U,X,ae,le,fe,he){if(B==null)Oc(null,null,X,ae,le,fe,he);else{var ge,be=B[U+0],_e=be,Ue=be;for(ge=0;ge<he;++ge)_e=Ue+(be=B[U+ge])-_e,Ue=X[ae+ge]+(-256&_e?0>_e?0:255:_e)&255,_e=be,le[fe+ge]=Ue}}function vd(B,U,X,ae){var le=U.width,fe=U.o;if(t(B!=null&&U!=null),0>X||0>=ae||X+ae>fe)return null;if(!B.Cc){if(B.ga==null){var he;if(B.ga=new zl,(he=B.ga==null)||(he=U.width*U.o,t(B.Gb.length==0),B.Gb=s(he),B.Uc=0,B.Gb==null?he=0:(B.mb=B.Gb,B.nb=B.Uc,B.rc=null,he=1),he=!he),!he){he=B.ga;var ge=B.Fa,be=B.P,_e=B.qc,Ue=B.mb,et=B.nb,Ye=be+1,Ge=_e-1,bt=he.l;if(t(ge!=null&&Ue!=null&&U!=null),Mc[0]=null,Mc[1]=Oc,Mc[2]=Nu,Mc[3]=Ci,he.ca=Ue,he.tb=et,he.c=U.width,he.i=U.height,t(0<he.c&&0<he.i),1>=_e)U=0;else if(he.$a=ge[be+0]>>0&3,he.Z=ge[be+0]>>2&3,he.Lc=ge[be+0]>>4&3,be=ge[be+0]>>6&3,0>he.$a||1<he.$a||4<=he.Z||1<he.Lc||be)U=0;else if(bt.put=Ha,bt.ac=ua,bt.bc=ai,bt.ma=he,bt.width=U.width,bt.height=U.height,bt.Da=U.Da,bt.v=U.v,bt.va=U.va,bt.j=U.j,bt.o=U.o,he.$a)e:{t(he.$a==1),U=st();t:for(;;){if(U==null){U=0;break e}if(t(he!=null),he.mc=U,U.c=he.c,U.i=he.i,U.l=he.l,U.l.ma=he,U.l.width=he.c,U.l.height=he.i,U.a=0,V(U.m,ge,Ye,Ge),!$e(he.c,he.i,1,U,null)||(U.ab==1&&U.gc[0].hc==3&&we(U.s)?(he.ic=1,ge=U.c*U.i,U.Ta=null,U.Ua=0,U.V=s(ge),U.Ba=0,U.V==null?(U.a=1,U=0):U=1):(he.ic=0,U=Je(U,he.c)),!U))break t;U=1;break e}he.mc=null,U=0}else U=Ge>=he.c*he.i;he=!U}if(he)return null;B.ga.Lc!=1?B.Ga=0:ae=fe-X}t(B.ga!=null),t(X+ae<=fe);e:{if(U=(ge=B.ga).c,fe=ge.l.o,ge.$a==0){if(Ye=B.rc,Ge=B.Vc,bt=B.Fa,be=B.P+1+X*U,_e=B.mb,Ue=B.nb+X*U,t(be<=B.P+B.qc),ge.Z!=0)for(t(Mc[ge.Z]!=null),he=0;he<ae;++he)Mc[ge.Z](Ye,Ge,bt,be,_e,Ue,U),Ye=_e,Ge=Ue,Ue+=U,be+=U;else for(he=0;he<ae;++he)n(_e,Ue,bt,be,U),Ye=_e,Ge=Ue,Ue+=U,be+=U;B.rc=Ye,B.Vc=Ge}else{if(t(ge.mc!=null),U=X+ae,t((he=ge.mc)!=null),t(U<=he.i),he.C>=U)U=1;else if(ge.ic||Ke(),ge.ic){ge=he.V,Ye=he.Ba,Ge=he.c;var ct=he.i,Me=(bt=1,be=he.$/Ge,_e=he.$%Ge,Ue=he.m,et=he.s,he.$),Ve=Ge*ct,ht=Ge*U,yt=et.wc,pt=Me<ht?da(et,_e,be):null;t(Me<=Ve),t(U<=ct),t(we(et));t:for(;;){for(;!Ue.h&&Me<ht;){if(_e&yt||(pt=da(et,_e,be)),t(pt!=null),ie(Ue),256>(ct=Vn(pt.G[0],pt.H[0],Ue)))ge[Ye+Me]=ct,++Me,++_e>=Ge&&(_e=0,++be<=U&&!(be%16)&&Ce(he,be));else{if(!(280>ct)){bt=0;break t}ct=wn(ct-256,Ue);var Yt,Ht=Vn(pt.G[4],pt.H[4],Ue);if(ie(Ue),!(Me>=(Ht=An(Ge,Ht=wn(Ht,Ue)))&&Ve-Me>=ct)){bt=0;break t}for(Yt=0;Yt<ct;++Yt)ge[Ye+Me+Yt]=ge[Ye+Me+Yt-Ht];for(Me+=ct,_e+=ct;_e>=Ge;)_e-=Ge,++be<=U&&!(be%16)&&Ce(he,be);Me<ht&&_e&yt&&(pt=da(et,_e,be))}t(Ue.h==Y(Ue))}Ce(he,be>U?U:be);break t}!bt||Ue.h&&Me<Ve?(bt=0,he.a=Ue.h?5:3):he.$=Me,U=bt}else U=Ne(he,he.V,he.Ba,he.c,he.i,U,tt);if(!U){ae=0;break e}}X+ae>=fe&&(B.Cc=1),ae=1}if(!ae)return null;if(B.Cc&&((ae=B.ga)!=null&&(ae.mc=null),B.ga=null,0<B.Ga))return alert("todo:WebPDequantizeLevels"),null}return B.nb+X*le}function z(B,U,X,ae,le,fe){for(;0<le--;){var he,ge=B,be=U+(X?1:0),_e=B,Ue=U+(X?0:3);for(he=0;he<ae;++he){var et=_e[Ue+4*he];et!=255&&(et*=32897,ge[be+4*he+0]=ge[be+4*he+0]*et>>23,ge[be+4*he+1]=ge[be+4*he+1]*et>>23,ge[be+4*he+2]=ge[be+4*he+2]*et>>23)}U+=fe}}function ce(B,U,X,ae,le){for(;0<ae--;){var fe;for(fe=0;fe<X;++fe){var he=B[U+2*fe+0],ge=15&(_e=B[U+2*fe+1]),be=4369*ge,_e=(240&_e|_e>>4)*be>>16;B[U+2*fe+0]=(240&he|he>>4)*be>>16&240|(15&he|he<<4)*be>>16>>4&15,B[U+2*fe+1]=240&_e|ge}U+=le}}function Te(B,U,X,ae,le,fe,he,ge){var be,_e,Ue=255;for(_e=0;_e<le;++_e){for(be=0;be<ae;++be){var et=B[U+be];fe[he+4*be]=et,Ue&=et}U+=X,he+=ge}return Ue!=255}function Re(B,U,X,ae,le){var fe;for(fe=0;fe<le;++fe)X[ae+fe]=B[U+fe]>>8}function Ke(){Ko=z,rn=ce,nn=Te,fa=Re}function ut(B,U,X){C[B]=function(ae,le,fe,he,ge,be,_e,Ue,et,Ye,Ge,bt,ct,Me,Ve,ht,yt){var pt,Yt=yt-1>>1,Ht=ge[be+0]|_e[Ue+0]<<16,Ar=et[Ye+0]|Ge[bt+0]<<16;t(ae!=null);var $t=3*Ht+Ar+131074>>2;for(U(ae[le+0],255&$t,$t>>16,ct,Me),fe!=null&&($t=3*Ar+Ht+131074>>2,U(fe[he+0],255&$t,$t>>16,Ve,ht)),pt=1;pt<=Yt;++pt){var _n=ge[be+pt]|_e[Ue+pt]<<16,Dn=et[Ye+pt]|Ge[bt+pt]<<16,tn=Ht+_n+Ar+Dn+524296,Yr=tn+2*(_n+Ar)>>3;$t=Yr+Ht>>1,Ht=(tn=tn+2*(Ht+Dn)>>3)+_n>>1,U(ae[le+2*pt-1],255&$t,$t>>16,ct,Me+(2*pt-1)*X),U(ae[le+2*pt-0],255&Ht,Ht>>16,ct,Me+(2*pt-0)*X),fe!=null&&($t=tn+Ar>>1,Ht=Yr+Dn>>1,U(fe[he+2*pt-1],255&$t,$t>>16,Ve,ht+(2*pt-1)*X),U(fe[he+2*pt+0],255&Ht,Ht>>16,Ve,ht+(2*pt+0)*X)),Ht=_n,Ar=Dn}1&yt||($t=3*Ht+Ar+131074>>2,U(ae[le+yt-1],255&$t,$t>>16,ct,Me+(yt-1)*X),fe!=null&&($t=3*Ar+Ht+131074>>2,U(fe[he+yt-1],255&$t,$t>>16,Ve,ht+(yt-1)*X)))}}function kt(){Vs[_i]=Pu,Vs[sh]=Qc,Vs[Lc]=jd,Vs[J0]=Hp,Vs[LA]=Vp,Vs[Iu]=lh,Vs[Mp]=zp,Vs[Z0]=Qc,Vs[Td]=Hp,Vs[ju]=Vp,Vs[ih]=lh}function zt(B){return B&-16384?0>B?0:255:B>>YN}function j(B,U){return zt((19077*B>>8)+(26149*U>>8)-14234)}function te(B,U,X){return zt((19077*B>>8)-(6419*U>>8)-(13320*X>>8)+8708)}function se(B,U){return zt((19077*B>>8)+(33050*U>>8)-17685)}function ve(B,U,X,ae,le){ae[le+0]=j(B,X),ae[le+1]=te(B,U,X),ae[le+2]=se(B,U)}function ze(B,U,X,ae,le){ae[le+0]=se(B,U),ae[le+1]=te(B,U,X),ae[le+2]=j(B,X)}function rt(B,U,X,ae,le){var fe=te(B,U,X);U=fe<<3&224|se(B,U)>>3,ae[le+0]=248&j(B,X)|fe>>5,ae[le+1]=U}function It(B,U,X,ae,le){var fe=240&se(B,U)|15;ae[le+0]=240&j(B,X)|te(B,U,X)>>4,ae[le+1]=fe}function Sr(B,U,X,ae,le){ae[le+0]=255,ve(B,U,X,ae,le+1)}function on(B,U,X,ae,le){ze(B,U,X,ae,le),ae[le+3]=255}function Lr(B,U,X,ae,le){ve(B,U,X,ae,le),ae[le+3]=255}function On(B,U){return 0>B?0:B>U?U:B}function Kn(B,U,X){C[B]=function(ae,le,fe,he,ge,be,_e,Ue,et){for(var Ye=Ue+(-2&et)*X;Ue!=Ye;)U(ae[le+0],fe[he+0],ge[be+0],_e,Ue),U(ae[le+1],fe[he+0],ge[be+0],_e,Ue+X),le+=2,++he,++be,Ue+=2*X;1&et&&U(ae[le+0],fe[he+0],ge[be+0],_e,Ue)}}function ml(B,U,X){return X==0?B==0?U==0?6:5:U==0?4:0:X}function Va(B,U,X,ae,le){switch(B>>>30){case 3:Kl(U,X,ae,le,0);break;case 2:Pa(U,X,ae,le);break;case 1:ss(U,X,ae,le)}}function fo(B,U){var X,ae,le=U.M,fe=U.Nb,he=B.oc,ge=B.pc+40,be=B.oc,_e=B.pc+584,Ue=B.oc,et=B.pc+600;for(X=0;16>X;++X)he[ge+32*X-1]=129;for(X=0;8>X;++X)be[_e+32*X-1]=129,Ue[et+32*X-1]=129;for(0<le?he[ge-1-32]=be[_e-1-32]=Ue[et-1-32]=129:(a(he,ge-32-1,127,21),a(be,_e-32-1,127,9),a(Ue,et-32-1,127,9)),ae=0;ae<B.za;++ae){var Ye=U.ya[U.aa+ae];if(0<ae){for(X=-1;16>X;++X)n(he,ge+32*X-4,he,ge+32*X+12,4);for(X=-1;8>X;++X)n(be,_e+32*X-4,be,_e+32*X+4,4),n(Ue,et+32*X-4,Ue,et+32*X+4,4)}var Ge=B.Gd,bt=B.Hd+ae,ct=Ye.ad,Me=Ye.Hc;if(0<le&&(n(he,ge-32,Ge[bt].y,0,16),n(be,_e-32,Ge[bt].f,0,8),n(Ue,et-32,Ge[bt].ea,0,8)),Ye.Za){var Ve=he,ht=ge-32+16;for(0<le&&(ae>=B.za-1?a(Ve,ht,Ge[bt].y[15],4):n(Ve,ht,Ge[bt+1].y,0,4)),X=0;4>X;X++)Ve[ht+128+X]=Ve[ht+256+X]=Ve[ht+384+X]=Ve[ht+0+X];for(X=0;16>X;++X,Me<<=2)Ve=he,ht=ge+HA[X],zi[Ye.Ob[X]](Ve,ht),Va(Me,ct,16*+X,Ve,ht)}else if(Ve=ml(ae,le,Ye.Ob[0]),Du[Ve](he,ge),Me!=0)for(X=0;16>X;++X,Me<<=2)Va(Me,ct,16*+X,he,ge+HA[X]);for(X=Ye.Gc,Ve=ml(ae,le,Ye.Dd),qo[Ve](be,_e),qo[Ve](Ue,et),Me=ct,Ve=be,ht=_e,255&(Ye=X>>0)&&(170&Ye?Gl(Me,256,Ve,ht):po(Me,256,Ve,ht)),Ye=Ue,Me=et,255&(X>>=8)&&(170&X?Gl(ct,320,Ye,Me):po(ct,320,Ye,Me)),le<B.Ub-1&&(n(Ge[bt].y,0,he,ge+480,16),n(Ge[bt].f,0,be,_e+224,8),n(Ge[bt].ea,0,Ue,et+224,8)),X=8*fe*B.B,Ge=B.sa,bt=B.ta+16*ae+16*fe*B.R,ct=B.qa,Ye=B.ra+8*ae+X,Me=B.Ha,Ve=B.Ia+8*ae+X,X=0;16>X;++X)n(Ge,bt+X*B.R,he,ge+32*X,16);for(X=0;8>X;++X)n(ct,Ye+X*B.B,be,_e+32*X,8),n(Me,Ve+X*B.B,Ue,et+32*X,8)}}function Dc(B,U,X,ae,le,fe,he,ge,be){var _e=[0],Ue=[0],et=0,Ye=be!=null?be.kd:0,Ge=be??new gd;if(B==null||12>X)return 7;Ge.data=B,Ge.w=U,Ge.ha=X,U=[U],X=[X],Ge.gb=[Ge.gb];e:{var bt=U,ct=X,Me=Ge.gb;if(t(B!=null),t(ct!=null),t(Me!=null),Me[0]=0,12<=ct[0]&&!r(B,bt[0],"RIFF")){if(r(B,bt[0]+8,"WEBP")){Me=3;break e}var Ve=Fe(B,bt[0]+4);if(12>Ve||4294967286<Ve){Me=3;break e}if(Ye&&Ve>ct[0]-8){Me=7;break e}Me[0]=Ve,bt[0]+=12,ct[0]-=12}Me=0}if(Me!=0)return Me;for(Ve=0<Ge.gb[0],X=X[0];;){e:{var ht=B;ct=U,Me=X;var yt=_e,pt=Ue,Yt=bt=[0];if(($t=et=[et])[0]=0,8>Me[0])Me=7;else{if(!r(ht,ct[0],"VP8X")){if(Fe(ht,ct[0]+4)!=10){Me=3;break e}if(18>Me[0]){Me=7;break e}var Ht=Fe(ht,ct[0]+8),Ar=1+ne(ht,ct[0]+12);if(2147483648<=Ar*(ht=1+ne(ht,ct[0]+15))){Me=3;break e}Yt!=null&&(Yt[0]=Ht),yt!=null&&(yt[0]=Ar),pt!=null&&(pt[0]=ht),ct[0]+=18,Me[0]-=18,$t[0]=1}Me=0}}if(et=et[0],bt=bt[0],Me!=0)return Me;if(ct=!!(2&bt),!Ve&&et)return 3;if(fe!=null&&(fe[0]=!!(16&bt)),he!=null&&(he[0]=ct),ge!=null&&(ge[0]=0),he=_e[0],bt=Ue[0],et&&ct&&be==null){Me=0;break}if(4>X){Me=7;break}if(Ve&&et||!Ve&&!et&&!r(B,U[0],"ALPH")){X=[X],Ge.na=[Ge.na],Ge.P=[Ge.P],Ge.Sa=[Ge.Sa];e:{Ht=B,Me=U,Ve=X;var $t=Ge.gb;yt=Ge.na,pt=Ge.P,Yt=Ge.Sa,Ar=22,t(Ht!=null),t(Ve!=null),ht=Me[0];var _n=Ve[0];for(t(yt!=null),t(Yt!=null),yt[0]=null,pt[0]=null,Yt[0]=0;;){if(Me[0]=ht,Ve[0]=_n,8>_n){Me=7;break e}var Dn=Fe(Ht,ht+4);if(4294967286<Dn){Me=3;break e}var tn=8+Dn+1&-2;if(Ar+=tn,0<$t&&Ar>$t){Me=3;break e}if(!r(Ht,ht,"VP8 ")||!r(Ht,ht,"VP8L")){Me=0;break e}if(_n[0]<tn){Me=7;break e}r(Ht,ht,"ALPH")||(yt[0]=Ht,pt[0]=ht+8,Yt[0]=Dn),ht+=tn,_n-=tn}}if(X=X[0],Ge.na=Ge.na[0],Ge.P=Ge.P[0],Ge.Sa=Ge.Sa[0],Me!=0)break}X=[X],Ge.Ja=[Ge.Ja],Ge.xa=[Ge.xa];e:if($t=B,Me=U,Ve=X,yt=Ge.gb[0],pt=Ge.Ja,Yt=Ge.xa,Ht=Me[0],ht=!r($t,Ht,"VP8 "),Ar=!r($t,Ht,"VP8L"),t($t!=null),t(Ve!=null),t(pt!=null),t(Yt!=null),8>Ve[0])Me=7;else{if(ht||Ar){if($t=Fe($t,Ht+4),12<=yt&&$t>yt-12){Me=3;break e}if(Ye&&$t>Ve[0]-8){Me=7;break e}pt[0]=$t,Me[0]+=8,Ve[0]-=8,Yt[0]=Ar}else Yt[0]=5<=Ve[0]&&$t[Ht+0]==47&&!($t[Ht+4]>>5),pt[0]=Ve[0];Me=0}if(X=X[0],Ge.Ja=Ge.Ja[0],Ge.xa=Ge.xa[0],U=U[0],Me!=0)break;if(4294967286<Ge.Ja)return 3;if(ge==null||ct||(ge[0]=Ge.xa?2:1),he=[he],bt=[bt],Ge.xa){if(5>X){Me=7;break}ge=he,Ye=bt,ct=fe,B==null||5>X?B=0:5<=X&&B[U+0]==47&&!(B[U+4]>>5)?(Ve=[0],$t=[0],yt=[0],V(pt=new P,B,U,X),qt(pt,Ve,$t,yt)?(ge!=null&&(ge[0]=Ve[0]),Ye!=null&&(Ye[0]=$t[0]),ct!=null&&(ct[0]=yt[0]),B=1):B=0):B=0}else{if(10>X){Me=7;break}ge=bt,B==null||10>X||!Ms(B,U+3,X-3)?B=0:(Ye=B[U+0]|B[U+1]<<8|B[U+2]<<16,ct=16383&(B[U+7]<<8|B[U+6]),B=16383&(B[U+9]<<8|B[U+8]),1&Ye||3<(Ye>>1&7)||!(Ye>>4&1)||Ye>>5>=Ge.Ja||!ct||!B?B=0:(he&&(he[0]=ct),ge&&(ge[0]=B),B=1))}if(!B||(he=he[0],bt=bt[0],et&&(_e[0]!=he||Ue[0]!=bt)))return 3;be!=null&&(be[0]=Ge,be.offset=U-be.w,t(4294967286>U-be.w),t(be.offset==be.ha-X));break}return Me==0||Me==7&&et&&be==null?(fe!=null&&(fe[0]|=Ge.na!=null&&0<Ge.na.length),ae!=null&&(ae[0]=he),le!=null&&(le[0]=bt),0):Me}function xd(B,U,X){var ae=U.width,le=U.height,fe=0,he=0,ge=ae,be=le;if(U.Da=B!=null&&0<B.Da,U.Da&&(ge=B.cd,be=B.bd,fe=B.v,he=B.j,11>X||(fe&=-2,he&=-2),0>fe||0>he||0>=ge||0>=be||fe+ge>ae||he+be>le))return 0;if(U.v=fe,U.j=he,U.va=fe+ge,U.o=he+be,U.U=ge,U.T=be,U.da=B!=null&&0<B.da,U.da){if(!je(ge,be,X=[B.ib],fe=[B.hb]))return 0;U.ib=X[0],U.hb=fe[0]}return U.ob=B!=null&&B.ob,U.Kb=B==null||!B.Sd,U.da&&(U.ob=U.ib<3*ae/4&&U.hb<3*le/4,U.Kb=0),1}function th(B){if(B==null)return 2;if(11>B.S){var U=B.f.RGBA;U.fb+=(B.height-1)*U.A,U.A=-U.A}else U=B.f.kb,B=B.height,U.O+=(B-1)*U.fa,U.fa=-U.fa,U.N+=(B-1>>1)*U.Ab,U.Ab=-U.Ab,U.W+=(B-1>>1)*U.Db,U.Db=-U.Db,U.F!=null&&(U.J+=(B-1)*U.lb,U.lb=-U.lb);return 0}function IA(B,U,X,ae){if(ae==null||0>=B||0>=U)return 2;if(X!=null){if(X.Da){var le=X.cd,fe=X.bd,he=-2&X.v,ge=-2&X.j;if(0>he||0>ge||0>=le||0>=fe||he+le>B||ge+fe>U)return 2;B=le,U=fe}if(X.da){if(!je(B,U,le=[X.ib],fe=[X.hb]))return 2;B=le[0],U=fe[0]}}ae.width=B,ae.height=U;e:{var be=ae.width,_e=ae.height;if(B=ae.S,0>=be||0>=_e||!(B>=_i&&13>B))B=2;else{if(0>=ae.Rd&&ae.sd==null){he=fe=le=U=0;var Ue=(ge=be*Pw[B])*_e;if(11>B||(fe=(_e+1)/2*(U=(be+1)/2),B==12&&(he=(le=be)*_e)),(_e=s(Ue+2*fe+he))==null){B=1;break e}ae.sd=_e,11>B?((be=ae.f.RGBA).eb=_e,be.fb=0,be.A=ge,be.size=Ue):((be=ae.f.kb).y=_e,be.O=0,be.fa=ge,be.Fd=Ue,be.f=_e,be.N=0+Ue,be.Ab=U,be.Cd=fe,be.ea=_e,be.W=0+Ue+fe,be.Db=U,be.Ed=fe,B==12&&(be.F=_e,be.J=0+Ue+2*fe),be.Tc=he,be.lb=le)}if(U=1,le=ae.S,fe=ae.width,he=ae.height,le>=_i&&13>le)if(11>le)B=ae.f.RGBA,U&=(ge=Math.abs(B.A))*(he-1)+fe<=B.size,U&=ge>=fe*Pw[le],U&=B.eb!=null;else{B=ae.f.kb,ge=(fe+1)/2,Ue=(he+1)/2,be=Math.abs(B.fa),_e=Math.abs(B.Ab);var et=Math.abs(B.Db),Ye=Math.abs(B.lb),Ge=Ye*(he-1)+fe;U&=be*(he-1)+fe<=B.Fd,U&=_e*(Ue-1)+ge<=B.Cd,U=(U&=et*(Ue-1)+ge<=B.Ed)&be>=fe&_e>=ge&et>=ge,U&=B.y!=null,U&=B.f!=null,U&=B.ea!=null,le==12&&(U&=Ye>=fe,U&=Ge<=B.Tc,U&=B.F!=null)}else U=0;B=U?0:2}}return B!=0||X!=null&&X.fd&&(B=th(ae)),B}var ws=64,bd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],jA=24,FA=32,rh=8,ho=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];dt("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(B){return B},C.Predictor2=function(B,U,X){return U[X+0]},C.Predictor3=function(B,U,X){return U[X+1]},C.Predictor4=function(B,U,X){return U[X-1]},C.Predictor5=function(B,U,X){return Tt(Tt(B,U[X+1]),U[X+0])},C.Predictor6=function(B,U,X){return Tt(B,U[X-1])},C.Predictor7=function(B,U,X){return Tt(B,U[X+0])},C.Predictor8=function(B,U,X){return Tt(U[X-1],U[X+0])},C.Predictor9=function(B,U,X){return Tt(U[X+0],U[X+1])},C.Predictor10=function(B,U,X){return Tt(Tt(B,U[X-1]),Tt(U[X+0],U[X+1]))},C.Predictor11=function(B,U,X){var ae=U[X+0];return 0>=Jt(ae>>24&255,B>>24&255,(U=U[X-1])>>24&255)+Jt(ae>>16&255,B>>16&255,U>>16&255)+Jt(ae>>8&255,B>>8&255,U>>8&255)+Jt(255&ae,255&B,255&U)?ae:B},C.Predictor12=function(B,U,X){var ae=U[X+0];return(Ct((B>>24&255)+(ae>>24&255)-((U=U[X-1])>>24&255))<<24|Ct((B>>16&255)+(ae>>16&255)-(U>>16&255))<<16|Ct((B>>8&255)+(ae>>8&255)-(U>>8&255))<<8|Ct((255&B)+(255&ae)-(255&U)))>>>0},C.Predictor13=function(B,U,X){var ae=U[X-1];return(Dt((B=Tt(B,U[X+0]))>>24&255,ae>>24&255)<<24|Dt(B>>16&255,ae>>16&255)<<16|Dt(B>>8&255,ae>>8&255)<<8|Dt(B>>0&255,ae>>0&255))>>>0};var Ox=C.PredictorAdd0;C.PredictorAdd1=Pt,dt("Predictor2","PredictorAdd2"),dt("Predictor3","PredictorAdd3"),dt("Predictor4","PredictorAdd4"),dt("Predictor5","PredictorAdd5"),dt("Predictor6","PredictorAdd6"),dt("Predictor7","PredictorAdd7"),dt("Predictor8","PredictorAdd8"),dt("Predictor9","PredictorAdd9"),dt("Predictor10","PredictorAdd10"),dt("Predictor11","PredictorAdd11"),dt("Predictor12","PredictorAdd12"),dt("Predictor13","PredictorAdd13");var X0=C.PredictorAdd2;Pe("ColorIndexInverseTransform","MapARGB","32b",function(B){return B>>8&255},function(B){return B}),Pe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(B){return B},function(B){return B>>8&255});var Lp,pl=C.ColorIndexInverseTransform,Qs=C.MapARGB,yd=C.VP8LColorIndexInverseTransformAlpha,Y0=C.MapAlpha,Bu=C.VP8LPredictorsAdd=[];Bu.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var wd,Vi,ci,Ed,mo,$l,Pc,Kl,Pa,Gl,ss,po,OA,Rc,nh,Cd,_d,Sd,DA,ah,Nd,ku,PA,Ra,Ko,rn,nn,fa,za=s(511),gl=s(2041),Bd=s(225),kd=s(767),Tu=0,Up=gl,RA=Bd,Hs=kd,vl=za,_i=0,sh=1,Lc=2,J0=3,LA=4,Iu=5,Mp=6,Z0=7,Td=8,ju=9,ih=10,Qp=[2,3,7],xl=[3,3,11],Go=[280,256,256,256,40],UA=[0,1,1,1,0],Fu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ou=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],MA=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Iw=8,em=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],tm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Es=null,La=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Tn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Id=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Uc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Dx=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],QA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],jw=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Du=[],zi=[],qo=[],Fw=1,oh=2,Mc=[],Vs=[];ut("UpsampleRgbLinePair",ve,3),ut("UpsampleBgrLinePair",ze,3),ut("UpsampleRgbaLinePair",Lr,4),ut("UpsampleBgraLinePair",on,4),ut("UpsampleArgbLinePair",Sr,4),ut("UpsampleRgba4444LinePair",It,2),ut("UpsampleRgb565LinePair",rt,2);var Pu=C.UpsampleRgbLinePair,jd=C.UpsampleBgrLinePair,Qc=C.UpsampleRgbaLinePair,Hp=C.UpsampleBgraLinePair,Vp=C.UpsampleArgbLinePair,lh=C.UpsampleRgba4444LinePair,zp=C.UpsampleRgb565LinePair,Hc=16,Cs=1<<Hc-1,Fd=-227,$p=482,YN=6,Ow=0,JN=s(256),_s=s(256),Px=s(256),rm=s(256),nm=s($p-Fd),Rx=s($p-Fd);Kn("YuvToRgbRow",ve,3),Kn("YuvToBgrRow",ze,3),Kn("YuvToRgbaRow",Lr,4),Kn("YuvToBgraRow",on,4),Kn("YuvToArgbRow",Sr,4),Kn("YuvToRgba4444Row",It,2),Kn("YuvToRgb565Row",rt,2);var HA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ru=[0,2,8],ZN=[8,7,6,4,4,2,2,2,1,1,1,1],Dw=1;this.WebPDecodeRGBA=function(B,U,X,ae,le){var fe=sh,he=new _u,ge=new kn;he.ba=ge,ge.S=fe,ge.width=[ge.width],ge.height=[ge.height];var be=ge.width,_e=ge.height,Ue=new Zn;if(Ue==null||B==null)var et=2;else t(Ue!=null),et=Dc(B,U,X,Ue.width,Ue.height,Ue.Pd,Ue.Qd,Ue.format,null);if(et!=0?be=0:(be!=null&&(be[0]=Ue.width[0]),_e!=null&&(_e[0]=Ue.height[0]),be=1),be){ge.width=ge.width[0],ge.height=ge.height[0],ae!=null&&(ae[0]=ge.width),le!=null&&(le[0]=ge.height);e:{if(ae=new ys,(le=new gd).data=B,le.w=U,le.ha=X,le.kd=1,U=[0],t(le!=null),((B=Dc(le.data,le.w,le.ha,null,null,null,U,null,le))==0||B==7)&&U[0]&&(B=4),(U=B)==0){if(t(he!=null),ae.data=le.data,ae.w=le.w+le.offset,ae.ha=le.ha-le.offset,ae.put=Ha,ae.ac=ua,ae.bc=ai,ae.ma=he,le.xa){if((B=st())==null){he=1;break e}if(function(Ye,Ge){var bt=[0],ct=[0],Me=[0];t:for(;;){if(Ye==null)return 0;if(Ge==null)return Ye.a=2,0;if(Ye.l=Ge,Ye.a=0,V(Ye.m,Ge.data,Ge.w,Ge.ha),!qt(Ye.m,bt,ct,Me)){Ye.a=3;break t}if(Ye.xb=oh,Ge.width=bt[0],Ge.height=ct[0],!$e(bt[0],ct[0],1,Ye,null))break t;return 1}return t(Ye.a!=0),0}(B,ae)){if(ae=(U=IA(ae.width,ae.height,he.Oa,he.ba))==0){t:{ae=B;r:for(;;){if(ae==null){ae=0;break t}if(t(ae.s.yc!=null),t(ae.s.Ya!=null),t(0<ae.s.Wb),t((X=ae.l)!=null),t((le=X.ma)!=null),ae.xb!=0){if(ae.ca=le.ba,ae.tb=le.tb,t(ae.ca!=null),!xd(le.Oa,X,J0)){ae.a=2;break r}if(!Je(ae,X.width)||X.da)break r;if((X.da||dr(ae.ca.S))&&Ke(),11>ae.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ae.ca.f.kb.F!=null&&Ke()),ae.Pb&&0<ae.s.ua&&ae.s.vb.X==null&&!Le(ae.s.vb,ae.s.Wa.Xa)){ae.a=1;break r}ae.xb=0}if(!Ne(ae,ae.V,ae.Ba,ae.c,ae.i,X.o,Se))break r;le.Dc=ae.Ma,ae=1;break t}t(ae.a!=0),ae=0}ae=!ae}ae&&(U=B.a)}else U=B.a}else{if((B=new si)==null){he=1;break e}if(B.Fa=le.na,B.P=le.P,B.qc=le.Sa,Ad(B,ae)){if((U=IA(ae.width,ae.height,he.Oa,he.ba))==0){if(B.Aa=0,X=he.Oa,t((le=B)!=null),X!=null){if(0<(be=0>(be=X.Md)?0:100<be?255:255*be/100)){for(_e=Ue=0;4>_e;++_e)12>(et=le.pb[_e]).lc&&(et.ia=be*ZN[0>et.lc?0:et.lc]>>3),Ue|=et.ia;Ue&&(alert("todo:VP8InitRandom"),le.ia=1)}le.Ga=X.Id,100<le.Ga?le.Ga=100:0>le.Ga&&(le.Ga=0)}_A(B,ae)||(U=B.a)}}else U=B.a}U==0&&he.Oa!=null&&he.Oa.fd&&(U=th(he.ba))}he=U}fe=he!=0?null:11>fe?ge.f.RGBA.eb:ge.f.kb.y}else fe=null;return fe};var Pw=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(C,N){for(var R="",D=0;D<4;D++)R+=String.fromCharCode(C[N++]);return R}function d(C,N){return(C[N+0]<<0|C[N+1]<<8|C[N+2]<<16)>>>0}function f(C,N){return(C[N+0]<<0|C[N+1]<<8|C[N+2]<<16|C[N+3]<<24)>>>0}new l;var m=[0],p=[0],x=[],g=new l,b=e,y=function(C,N){var R={},D=0,O=!1,M=0,Q=0;if(R.frames=[],!function(G,Y,re,ie){for(var de=0;de<ie;de++)if(G[Y+de]!=re.charCodeAt(de))return!0;return!1}(C,N,"RIFF",4)){var ee,W;for(f(C,N+=4),N+=8;N<C.length;){var Z=u(C,N),V=f(C,N+=4);N+=4;var q=V+(1&V);switch(Z){case"VP8 ":case"VP8L":R.frames[D]===void 0&&(R.frames[D]={}),(P=R.frames[D]).src_off=O?Q:N-8,P.src_size=M+V+8,D++,O&&(O=!1,M=0,Q=0);break;case"VP8X":(P=R.header={}).feature_flags=C[N];var K=N+4;P.canvas_width=1+d(C,K),K+=3,P.canvas_height=1+d(C,K),K+=3;break;case"ALPH":O=!0,M=q+8,Q=N-8;break;case"ANIM":(P=R.header).bgcolor=f(C,N),K=N+4,P.loop_count=(ee=C)[(W=K)+0]<<0|ee[W+1]<<8,K+=2;break;case"ANMF":var J,P;(P=R.frames[D]={}).offset_x=2*d(C,N),N+=3,P.offset_y=2*d(C,N),N+=3,P.width=1+d(C,N),N+=3,P.height=1+d(C,N),N+=3,P.duration=d(C,N),N+=3,J=C[N++],P.dispose=1&J,P.blend=J>>1&1}Z!="ANMF"&&(N+=q)}return R}}(b,0);y.response=b,y.rgbaoutput=!0,y.dataurl=!1;var _=y.header?y.header:null,S=y.frames?y.frames:null;if(_){_.loop_counter=_.loop_count,m=[_.canvas_height],p=[_.canvas_width];for(var I=0;I<S.length&&S[I].blend!=0;I++);}var T=S[0],F=g.WebPDecodeRGBA(b,T.src_off,T.src_size,p,m);T.rgba=F,T.imgwidth=p[0],T.imgheight=m[0];for(var w=0;w<p[0]*m[0]*4;w++)x[w]=F[w];return this.width=p,this.height=m,this.data=x,this}(function(e){var t=function(){return typeof xI=="function"},r=function(m,p,x,g){var b=4,y=i;switch(g){case e.image_compression.FAST:b=1,y=s;break;case e.image_compression.MEDIUM:b=6,y=o;break;case e.image_compression.SLOW:b=9,y=l}m=n(m,p,x,y);var _=xI(m,{level:b});return e.__addimage__.arrayBufferToBinaryString(_)},n=function(m,p,x,g){for(var b,y,_,S=m.length/p,I=new Uint8Array(m.length+S),T=d(),F=0;F<S;F+=1){if(_=F*p,b=m.subarray(_,_+p),g)I.set(g(b,x,y),_+F);else{for(var w,C=T.length,N=[];w<C;w+=1)N[w]=T[w](b,x,y);var R=f(N.concat());I.set(N[R],_+F)}y=b}return I},a=function(m){var p=Array.apply([],m);return p.unshift(0),p},s=function(m,p){var x,g=[],b=m.length;g[0]=1;for(var y=0;y<b;y+=1)x=m[y-p]||0,g[y+1]=m[y]-x+256&255;return g},i=function(m,p,x){var g,b=[],y=m.length;b[0]=2;for(var _=0;_<y;_+=1)g=x&&x[_]||0,b[_+1]=m[_]-g+256&255;return b},o=function(m,p,x){var g,b,y=[],_=m.length;y[0]=3;for(var S=0;S<_;S+=1)g=m[S-p]||0,b=x&&x[S]||0,y[S+1]=m[S]+256-(g+b>>>1)&255;return y},l=function(m,p,x){var g,b,y,_,S=[],I=m.length;S[0]=4;for(var T=0;T<I;T+=1)g=m[T-p]||0,b=x&&x[T]||0,y=x&&x[T-p]||0,_=u(g,b,y),S[T+1]=m[T]-_+256&255;return S},u=function(m,p,x){if(m===p&&p===x)return m;var g=Math.abs(p-x),b=Math.abs(m-x),y=Math.abs(m+p-x-x);return g<=b&&g<=y?m:b<=y?p:x},d=function(){return[a,s,i,o,l]},f=function(m){var p=m.map(function(x){return x.reduce(function(g,b){return g+Math.abs(b)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(m,p,x,g){var b,y,_,S,I,T,F,w,C,N,R,D,O,M,Q,ee=this.decode.FLATE_DECODE,W="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(_=new Sxe(m)).imgData,y=_.bits,b=_.colorSpace,I=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){C=(w=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,R=new Uint8Array(C*_.colors),N=new Uint8Array(C);var Z,V=_.pixelBitlength-_.bits;for(M=0,Q=0;M<C;M++){for(O=w[M],Z=0;Z<V;)R[Q++]=O>>>Z&255,Z+=_.bits;N[M]=O>>>Z&255}}if(_.bits===16){C=(w=new Uint32Array(_.decodePixels().buffer)).length,R=new Uint8Array(C*(32/_.pixelBitlength)*_.colors),N=new Uint8Array(C*(32/_.pixelBitlength)),D=_.colors>1,M=0,Q=0;for(var q=0;M<C;)O=w[M++],R[Q++]=O>>>0&255,D&&(R[Q++]=O>>>16&255,O=w[M++],R[Q++]=O>>>0&255),N[q++]=O>>>16&255;y=8}g!==e.image_compression.NONE&&t()?(m=r(R,_.width*_.colors,_.colors,g),F=r(N,_.width,1,g)):(m=R,F=N,ee=void 0)}if(_.colorType===3&&(b=this.color_spaces.INDEXED,T=_.palette,_.transparency.indexed)){var K=_.transparency.indexed,J=0;for(M=0,C=K.length;M<C;++M)J+=K[M];if((J/=255)===C-1&&K.indexOf(0)!==-1)S=[K.indexOf(0)];else if(J!==C){for(w=_.decodePixels(),N=new Uint8Array(w.length),M=0,C=w.length;M<C;M++)N[M]=K[w[M]];F=r(N,_.width,1)}}var P=function(G){var Y;switch(G){case e.image_compression.FAST:Y=11;break;case e.image_compression.MEDIUM:Y=13;break;case e.image_compression.SLOW:Y=14;break;default:Y=12}return Y}(g);return ee===this.decode.FLATE_DECODE&&(W="/Predictor "+P+" "),W+="/Colors "+I+" /BitsPerComponent "+y+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(F&&this.__addimage__.isArrayBuffer(F)||this.__addimage__.isArrayBufferView(F))&&(F=this.__addimage__.arrayBufferToBinaryString(F)),{alias:x,data:m,index:p,filter:ee,decodeParameters:W,transparency:S,palette:T,sMask:F,predictor:P,width:_.width,height:_.height,bitsPerComponent:y,colorSpace:b}}}})(mr.API),function(e){e.processGIF89A=function(t,r,n,a){var s=new Nxe(t),i=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:i,height:o},d=new PB(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(mr.API),$u.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},$u.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){ya.log("bit decode error:"+r)}},$u.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[i+4*o]=l.blue,this.data[i+4*o+1]=l.green,this.data[i+4*o+2]=l.red,this.data[i+4*o+3]=255}r!==0&&(this.pos+=4-r)}},$u.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*a*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[i]=u.blue,this.data[i+1]=u.green,this.data[i+2]=u.red,this.data[i+3]=255,2*a+1>=this.width)break;u=this.palette[l],this.data[i+4]=u.blue,this.data[i+4+1]=u.green,this.data[i+4+2]=u.red,this.data[i+4+3]=255}t!==0&&(this.pos+=4-t)}},$u.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var i=this.palette[a];this.data[s]=i.red,this.data[s+1]=i.green,this.data[s+2]=i.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},$u.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,u=s>>15?255:0,d=n*this.width*4+4*a;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=i,this.data[d+3]=u}this.pos+=e}},$u.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&r)/r*255|0,u=(i>>11)/t*255|0,d=a*this.width*4+4*s;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},$u.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;this.data[i]=s,this.data[i+1]=a,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},$u.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=i}},$u.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var s=new $u(t,!1),i=s.width,o=s.height,l={data:s.getData(),width:i,height:o},u=new PB(100).encode(l,100);return e.processJPEG.call(this,u,r,n,a)}}(mr.API),u7.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var s=new u7(t),i=s.width,o=s.height,l={data:s.getData(),width:i,height:o},u=new PB(100).encode(l,100);return e.processJPEG.call(this,u,r,n,a)}}(mr.API),mr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),i=new Uint8Array(a/4),o=0,l=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],m=n[u+2],p=n[u+3];s[o++]=d,s[o++]=f,s[o++]=m,i[l++]=p}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:x,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},mr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},mg=mr.API,H2=mg.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,m=0,p=e.length,x=0,g=o[0]||l,b=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?b.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+i*(1e3/s)||0)/1e3):(m=f&&la(u[n])==="object"&&!isNaN(parseInt(u[n][x],10))?u[n][x]/d:0,b.push((o[n]||g)/l+m)),x=n;return b},i7=mg.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return mg.processArabic&&(e=mg.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:H2.apply(this,arguments).reduce(function(s,i){return s+i},0)},o7=function(e,t,r,n){for(var a=[],s=0,i=e.length,o=0;s!==i&&o+t[s]<r;)o+=t[s],s++;a.push(e.slice(0,s));var l=s;for(o=0;s!==i;)o+t[s]>n&&(a.push(e.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&a.push(e.slice(l,s)),a},l7=function(e,t,r){r||(r={});var n,a,s,i,o,l,u,d=[],f=[d],m=r.textIndent||0,p=0,x=0,g=e.split(" "),b=H2.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),_=[];g.map(function(I){(I=I.split(/\s*\n/)).length>1?_=_.concat(I.map(function(T,F){return(F&&T.length?`
`:"")+T})):_.push(I[0])}),g=_,l=i7.apply(this,[y,r])}for(s=0,i=g.length;s<i;s++){var S=0;if(n=g[s],l&&n[0]==`
`&&(n=n.substr(1),S=1),m+p+(x=(a=H2.apply(this,[n,r])).reduce(function(I,T){return I+T},0))>t||S){if(x>t){for(o=o7.apply(this,[n,a,t-(m+p),t]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);x=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(I,T){return I+T},0)}else d=[n];f.push(d),m=x+l,p=b}else d.push(n),m+=p+x,p=b}return u=l?function(I,T){return(T?y:"")+I.join(" ")}:function(I){return I.join(" ")},f.map(u)},mg.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(l7.apply(this,[n[o],i,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var s=function(f){return"0x"+parseInt(f,10).toString(16)},i=e.__fontmetrics__.compress=function(f){var m,p,x,g,b=["{"];for(var y in f){if(m=f[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=s(y).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof m=="number")m<0?(x=s(m).slice(3),g="-"):(x=s(m).slice(2),g=""),x=g+x.slice(0,-1)+n[x.slice(-1)];else{if(la(m)!=="object")throw new Error("Don't know what to do with value type "+la(m)+".");x=i(m)}b.push(p+x)}return b.push("}"),b.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,p,x,g,b={},y=1,_=b,S=[],I="",T="",F=f.length-1,w=1;w<F;w+=1)(g=f[w])=="'"?m?(x=m.join(""),m=void 0):m=[]:m?m.push(g):g=="{"?(S.push([_,x]),_={},x=void 0):g=="}"?((p=S.pop())[0][p[1]]=_,x=void 0,_=p[0]):g=="-"?y=-1:x===void 0?r.hasOwnProperty(g)?(I+=r[g],x=parseInt(I,16)*y,y=1,I=""):I+=g:r.hasOwnProperty(g)?(T+=r[g],_[x]=parseInt(T,16)*y,y=1,x=void 0,T=""):T+=g;return b},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var m=f.font,p=d.Unicode[m.postScriptName];p&&(m.metadata.Unicode={},m.metadata.Unicode.widths=p.widths,m.metadata.Unicode.kerning=p.kerning);var x=u.Unicode[m.postScriptName];x&&(m.metadata.Unicode.encoding=x,m.encoding=x.codePages[0])}])}(mr.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(i,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(bb(o)),i.metadata=e.API.TTFFont.open(o),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(a,n)}}])}(mr),function(e){function t(){return(jr.canvg?Promise.resolve(jr.canvg):d_(()=>import("./index.es-B1Bqfrf2.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}mr.API.addSvgAsImage=function(r,n,a,s,i,o,l,u){if(isNaN(n)||isNaN(a))throw ya.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(i))throw ya.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=i;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(x){return x.fromString(f,r,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(m)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,a,s,i,l,u)})}}(),mr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},mr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,s,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),l=[],u=0,d=0,f=0;function m(x,g){var b,y=!1;for(b=0;b<x.length;b+=1)x[b]===g&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(f=0;f<p;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(la(e)==="object"){for(a in e)if(s=e[a],m(o,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&m(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,g=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?g.push("/"+x+" /"+r[x].value):g.push("/"+x+" "+r[x].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+i.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+s+i+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(mr.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,i){for(var o,l=i.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,m=s.length;f<m;++f){if(o=i.metadata.characterToGlyph(s.charCodeAt(f)),i.metadata.glyIdsUsed.push(o),i.metadata.toUnicode[o]=s.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(i.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(s){var i,o,l,u,d,f,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,m=(o=Object.keys(s).sort(function(p,x){return p-x})).length;f<m;f++)i=o[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[i]!==void 0&&s[i]!==null&&typeof s[i].toString=="function"&&(u=("0000"+s[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),l.push("<"+i+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(i){var o=i.font,l=i.out,u=i.newObject,d=i.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,m=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",x=0;x<m.length;x++)p+=String.fromCharCode(m[x]);var g=u();d({data:p,addLength1:!0,objectId:g}),l("endobj");var b=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var y=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Qg(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var _=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Qg(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+Qg(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(i){var o=i.font,l=i.out,u=i.newObject,d=i.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,m="",p=0;p<f.length;p++)m+=String.fromCharCode(f[p]);var x=u();d({data:m,addLength1:!0,objectId:x}),l("endobj");var g=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var b=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+x+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Qg(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Qg(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var a=function(s){var i,o=s.text||"",l=s.x,u=s.y,d=s.options||{},f=s.mutex||{},m=f.pdfEscape,p=f.activeFontKey,x=f.fonts,g=p,b="",y=0,_="",S=x[g].encoding;if(x[g].encoding!=="Identity-H")return{text:o,x:l,y:u,options:d,mutex:f};for(_=o,g=p,Array.isArray(o)&&(_=o[0]),y=0;y<_.length;y+=1)x[g].metadata.hasOwnProperty("cmap")&&(i=x[g].metadata.cmap.unicode.codeMap[_[y].charCodeAt(0)]),i||_[y].charCodeAt(0)<256&&x[g].metadata.hasOwnProperty("Unicode")?b+=_[y]:b+="";var I="";return parseInt(g.slice(1))<14||S==="WinAnsiEncoding"?I=m(b,g).split("").map(function(T){return T.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(I=r(b,x[g])),f.isHex=!0,{text:I,x:l,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(s){var i=s.text||"",o=[],l={text:i,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(i)){var u=0;for(u=0;u<i.length;u+=1)Array.isArray(i[u])&&i[u].length===3?o.push([a(Object.assign({},l,{text:i[u][0]})).text,i[u][1],i[u][2]]):o.push(a(Object.assign({},l,{text:i[u]})).text);s.text=o}else s.text=a(Object.assign({},l,{text:i})).text}])}(mr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(mr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,s,i,o,l,u,d,f=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,S=0;this.__bidiEngine__={};var I=function(D){var O=D.charCodeAt(),M=O>>8,Q=g[M];return Q!==void 0?f[256*Q+(255&O)]:M===252||M===253?"AL":y.test(M)?"L":M===8?"R":"N"},T=function(D){for(var O,M=0;M<D.length;M++){if((O=I(D.charAt(M)))==="L")return!1;if(O==="R")return!0}return!1},F=function(D,O,M,Q){var ee,W,Z,V,q=O[Q];switch(q){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(q="AN");break;case"AL":_=!0,q="R";break;case"WS":q="N";break;case"CS":Q<1||Q+1>=O.length||(ee=M[Q-1])!=="EN"&&ee!=="AN"||(W=O[Q+1])!=="EN"&&W!=="AN"?q="N":_&&(W="AN"),q=W===ee?W:"N";break;case"ES":q=(ee=Q>0?M[Q-1]:"B")==="EN"&&Q+1<O.length&&O[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&M[Q-1]==="EN"){q="EN";break}if(_){q="N";break}for(Z=Q+1,V=O.length;Z<V&&O[Z]==="ET";)Z++;q=Z<V&&O[Z]==="EN"?"EN":"N";break;case"NSM":if(i&&!o){for(V=O.length,Z=Q+1;Z<V&&O[Z]==="NSM";)Z++;if(Z<V){var K=D[Q],J=K>=1425&&K<=2303||K===64286;if(ee=O[Z],J&&(ee==="R"||ee==="AL")){q="R";break}}}q=Q<1||(ee=O[Q-1])==="B"?"N":M[Q-1];break;case"B":_=!1,a=!0,q=S;break;case"S":s=!0,q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":q="N"}return q},w=function(D,O,M){var Q=D.split("");return M&&C(Q,M,{hiLevel:S}),Q.reverse(),O&&O.reverse(),Q.join("")},C=function(D,O,M){var Q,ee,W,Z,V,q=-1,K=D.length,J=0,P=[],G=S?p:m,Y=[];for(_=!1,a=!1,s=!1,ee=0;ee<K;ee++)Y[ee]=I(D[ee]);for(W=0;W<K;W++){if(V=J,P[W]=F(D,Y,P,W),Q=240&(J=G[V][x[P[W]]]),J&=15,O[W]=Z=G[J][5],Q>0)if(Q===16){for(ee=q;ee<W;ee++)O[ee]=1;q=-1}else q=-1;if(G[J][6])q===-1&&(q=W);else if(q>-1){for(ee=q;ee<W;ee++)O[ee]=Z;q=-1}Y[W]==="B"&&(O[W]=0),M.hiLevel|=Z}s&&function(re,ie,de){for(var me=0;me<de;me++)if(re[me]==="S"){ie[me]=S;for(var ue=me-1;ue>=0&&re[ue]==="WS";ue--)ie[ue]=S}}(Y,O,K)},N=function(D,O,M,Q,ee){if(!(ee.hiLevel<D)){if(D===1&&S===1&&!a)return O.reverse(),void(M&&M.reverse());for(var W,Z,V,q,K=O.length,J=0;J<K;){if(Q[J]>=D){for(V=J+1;V<K&&Q[V]>=D;)V++;for(q=J,Z=V-1;q<Z;q++,Z--)W=O[q],O[q]=O[Z],O[Z]=W,M&&(W=M[q],M[q]=M[Z],M[Z]=W);J=V}J++}}},R=function(D,O,M){var Q=D.split(""),ee={hiLevel:S};return M||(M=[]),C(Q,M,ee),function(W,Z,V){if(V.hiLevel!==0&&d)for(var q,K=0;K<W.length;K++)Z[K]===1&&(q=b.indexOf(W[K]))>=0&&(W[K]=b[q+1])}(Q,M,ee),N(2,Q,O,M,ee),N(1,Q,O,M,ee),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(D,O,M){if(function(ee,W){if(W)for(var Z=0;Z<ee.length;Z++)W[Z]=Z;o===void 0&&(o=T(ee)),u===void 0&&(u=T(ee))}(D,O),i||!l||u)if(i&&l&&o^u)S=o?1:0,D=w(D,O,M);else if(!i&&l&&u)S=o?1:0,D=R(D,O,M),D=w(D,O);else if(!i||o||l||u){if(i&&!l&&o^u)D=w(D,O),o?(S=0,D=R(D,O,M)):(S=1,D=R(D,O,M),D=w(D,O));else if(i&&o&&!l&&u)S=1,D=R(D,O,M),D=w(D,O);else if(!i&&!l&&o^u){var Q=d;o?(S=1,D=R(D,O,M),S=0,d=!1,D=R(D,O,M),d=Q):(S=0,D=R(D,O,M),D=w(D,O),S=1,d=!1,D=R(D,O,M),d=Q,D=w(D,O))}}else S=0,D=R(D,O,M);else S=o?1:0,D=R(D,O,M);return D},this.__bidiEngine__.setOptions=function(D){D&&(i=D.isInputVisual,l=D.isOutputVisual,o=D.isInputRtl,u=D.isOutputRtl,d=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,s=(n.x,n.y,n.options||{}),i=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(i=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?i.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):i.push([r.doBidiReorder(a[o])]);n.text=i}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(mr),mr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new k0(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Hxe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Bxe(this.contents),this.head=new Txe(this),this.name=new Dxe(this),this.cmap=new KX(this),this.toUnicode={},this.hhea=new Ixe(this),this.maxp=new Pxe(this),this.hmtx=new Rxe(this),this.post=new Fxe(this),this.os2=new jxe(this),this.loca=new Qxe(this),this.glyf=new Lxe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,o,l,u;for(u=[],i=0,o=(l=this.bbox).length;i<o;i++)t=l[i],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,s,i,o;for(i=0,s=0,o=(t=""+t).length;0<=o?s<o:s>o;s=0<=o?++s:--s)a=t.charCodeAt(s),i+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return i*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ld,k0=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,s,i,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^i)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*i+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,s;for(s=[],n=0,a=t.length;n<a;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),Bxe=function(){var e;function t(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,s,i,o,l,u,d,f,m,p,x,g;for(g in p=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),i=Math.floor(f/l),d=16*p-f,(a=new k0).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(i),a.writeShort(d),s=16*p,u=a.pos+s,o=null,x=[],r)for(m=r[g],a.writeString(g),a.writeInt(e(m)),a.writeInt(u),a.writeInt(m.length),x=x.concat(m),g==="head"&&(o=u),u+=m.length;u%4;)x.push(0),u++;return a.write(x),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,s,i;for(r=GX.call(r);r.length%4;)r.push(0);for(s=new k0(r),a=0,n=0,i=r.length;n<i;n=n+=4)a+=s.readUInt32();return 4294967295&a},t}(),kxe={}.hasOwnProperty,xA=function(e,t){for(var r in t)kxe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ld=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Txe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xA(t,ld),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new k0).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),d7=function(){function e(t,r){var n,a,s,i,o,l,u,d,f,m,p,x,g,b,y,_,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),m=p/2,t.pos+=6,s=function(){var I,T;for(T=[],l=I=0;0<=m?I<m:I>m;l=0<=m?++I:--I)T.push(t.readUInt16());return T}(),t.pos+=2,g=function(){var I,T;for(T=[],l=I=0;0<=m?I<m:I>m;l=0<=m?++I:--I)T.push(t.readUInt16());return T}(),u=function(){var I,T;for(T=[],l=I=0;0<=m?I<m:I>m;l=0<=m?++I:--I)T.push(t.readUInt16());return T}(),d=function(){var I,T;for(T=[],l=I=0;0<=m?I<m:I>m;l=0<=m?++I:--I)T.push(t.readUInt16());return T}(),a=(this.length-t.pos+this.offset)/2,o=function(){var I,T;for(T=[],l=I=0;0<=a?I<a:I>a;l=0<=a?++I:--I)T.push(t.readUInt16());return T}(),l=y=0,S=s.length;y<S;l=++y)for(b=s[l],n=_=x=g[l];x<=b?_<=b:_>=b;n=x<=b?++_:--_)d[l]===0?i=n+u[l]:(i=o[d[l]/2+(n-x)-(m-l)]||0)!==0&&(i+=u[l]),this.codeMap[n]=65535&i}t.pos=f}return e.encode=function(t,r){var n,a,s,i,o,l,u,d,f,m,p,x,g,b,y,_,S,I,T,F,w,C,N,R,D,O,M,Q,ee,W,Z,V,q,K,J,P,G,Y,re,ie,de,me,ue,ye,Ie,ne;switch(Q=new k0,i=Object.keys(t).sort(function(Fe,Le){return Fe-Le}),r){case"macroman":for(g=0,b=function(){var Fe=[];for(x=0;x<256;++x)Fe.push(0);return Fe}(),_={0:0},s={},ee=0,q=i.length;ee<q;ee++)_[ue=t[a=i[ee]]]==null&&(_[ue]=++g),s[a]={old:t[a],new:_[t[a]]},b[a]=_[t[a]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(b),{charMap:s,subtable:Q.data,maxGlyphID:g+1};case"unicode":for(O=[],f=[],S=0,_={},n={},y=u=null,W=0,K=i.length;W<K;W++)_[T=t[a=i[W]]]==null&&(_[T]=++S),n[a]={old:T,new:_[T]},o=_[T]-a,y!=null&&o===u||(y&&f.push(y),O.push(a),u=o),y=a;for(y&&f.push(y),f.push(65535),O.push(65535),R=2*(N=O.length),C=2*Math.pow(Math.log(N)/Math.LN2,2),m=Math.log(C/2)/Math.LN2,w=2*N-C,l=[],F=[],p=[],x=Z=0,J=O.length;Z<J;x=++Z){if(D=O[x],d=f[x],D===65535){l.push(0),F.push(0);break}if(D-(M=n[D].new)>=32768)for(l.push(0),F.push(2*(p.length+N-x)),a=V=D;D<=d?V<=d:V>=d;a=D<=d?++V:--V)p.push(n[a].new);else l.push(M-D),F.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*N+2*p.length),Q.writeUInt16(0),Q.writeUInt16(R),Q.writeUInt16(C),Q.writeUInt16(m),Q.writeUInt16(w),de=0,P=f.length;de<P;de++)a=f[de],Q.writeUInt16(a);for(Q.writeUInt16(0),me=0,G=O.length;me<G;me++)a=O[me],Q.writeUInt16(a);for(ye=0,Y=l.length;ye<Y;ye++)o=l[ye],Q.writeUInt16(o);for(Ie=0,re=F.length;Ie<re;Ie++)I=F[Ie],Q.writeUInt16(I);for(ne=0,ie=p.length;ne<ie;ne++)g=p[ne],Q.writeUInt16(g);return{charMap:n,subtable:Q.data,maxGlyphID:S+1}}},e}(),KX=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xA(t,ld),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new d7(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,s;return n==null&&(n="macroman"),a=d7.encode(r,n),(s=new k0).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},t}(),Ixe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xA(t,ld),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),jxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xA(t,ld),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Fxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xA(t,ld),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var i;for(a=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,u;for(u=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)u.push(r.readUInt32());return u}).call(this)}},t}(),Oxe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Dxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xA(t,ld),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,s,i,o,l,u,d,f,m,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(u={},i=f=0,m=a.length;f<m;i=++f)s=a[i],r.pos=s.offset,d=r.readString(s.length),o=new Oxe(d,s),u[p=s.nameID]==null&&(u[p]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),Pxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xA(t,ld),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),Rxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xA(t,ld),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,s,i,o,l,u;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=s?d<s:d>s;n=0<=s?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,m,p;for(p=[],d=0,f=(m=this.metrics).length;d<f;d++)i=m[d],p.push(i.advance);return p}).call(this),a=this.widths[this.widths.length-1],u=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),GX=[].slice,Lxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xA(t,ld),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,s,i,o,l,u,d,f,m;return r in this.cache?this.cache[r]:(i=this.file.loca,n=this.file.contents,a=i.indexOf(r),(s=i.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new k0(n.read(s))).readShort(),d=l.readShort(),m=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new Mxe(l,d,m,u,f):new Uxe(l,o,d,m,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var s,i,o,l,u;for(o=[],i=[],l=0,u=n.length;l<u;l++)s=r[n[l]],i.push(o.length),s&&(o=o.concat(s.encode(a)));return i.push(o.length),{table:o,offsets:i}},t}(),Uxe=function(){function e(t,r,n,a,s,i){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Mxe=function(){function e(t,r,n,a,s){var i,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;o=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&o;)i.pos+=1&o?4:2,128&o?i.pos+=8:64&o?i.pos+=4:8&o&&(i.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new k0(GX.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Qxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xA(t,ld),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(r.readUInt32());return i}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<a.length;++o)if(a[o]=s,i<n.length&&n[i]==o){++i,a[o]=s;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(s+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),Hxe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,s,i,o,l;for(a={},i=0,o=t.length;i<o;i++)a[s=t[i]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],a[s]=n;return a},e.prototype.encode=function(t,r){var n,a,s,i,o,l,u,d,f,m,p,x,g,b,y;for(a in n=KX.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(t),p={0:0},y=n.charMap)p[(l=y[a]).old]=l.new;for(x in m=n.maxGlyphID,i)x in p||(p[x]=m++);return d=function(_){var S,I;for(S in I={},_)I[_[S]]=S;return I}(p),f=Object.keys(d).sort(function(_,S){return _-S}),g=function(){var _,S,I;for(I=[],_=0,S=f.length;_<S;_++)o=f[_],I.push(d[o]);return I}(),s=this.font.glyf.encode(i,g,p),u=this.font.loca.encode(s.offsets,g),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e}();mr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,s,i;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)i=r[a],s.push("/"+a+" "+t.convert(i));return s.push(">>"),s.join(`
`)}return""+r},t}();function qX(e,t,r,n,a){n=n||{};var s=1.15,i=a.internal.scaleFactor,o=a.internal.getFontSize()/i,l=a.getLineHeightFactor?a.getLineHeightFactor():s,u=o*l,d=/\r\n|\r|\n/g,f="",m=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(d):e,m=f.length||1),r+=o*(2-s),n.valign==="middle"?r-=m/2*u:n.valign==="bottom"&&(r-=m*u),n.halign==="center"||n.halign==="right"){var p=o;if(n.halign==="center"&&(p*=.5),f&&m>=1){for(var x=0;x<f.length;x++)a.text(f[x],t-a.getStringUnitWidth(f[x])*p,r),r+=u;return a}t-=a.getStringUnitWidth(e)*p}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var A7={},Av=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:A7=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,s;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var i=this.jsPDFDocument.internal.getFont(),o=i.fontStyle,l=i.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(a=this.jsPDFDocument).setTextColor.apply(a,d),d=e.unifyColor(t.lineColor),d&&(s=this.jsPDFDocument).setDrawColor.apply(s,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,s){return this.jsPDFDocument.rect(t,r,n,a,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return A7||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),SI=function(e,t){return SI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},SI(e,t)};function WX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");SI(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var XX=function(e){WX(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function Vxe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function zxe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function h_(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,i){return Math.max(s,i)},0);return a}function YX(e,t,r,n){var a=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:s});var i=JX(a,!1);i&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,i)}function JX(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function _5(e,t){var r,n,a,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function ZX(e,t){var r=_5(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function $xe(e,t,r,n,a){var s={},i=1.3333333333333333,o=RB(t,function(S){return a.getComputedStyle(S).backgroundColor});o!=null&&(s.fillColor=o);var l=RB(t,function(S){return a.getComputedStyle(S).color});l!=null&&(s.textColor=l);var u=Gxe(n,r);u&&(s.cellPadding=u);var d="borderTopColor",f=i*r,m=n.borderTopWidth;if(n.borderBottomWidth===m&&n.borderRightWidth===m&&n.borderLeftWidth===m){var p=(parseFloat(m)||0)/f;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},s.lineWidth.top||(s.lineWidth.right?d="borderRightColor":s.lineWidth.bottom?d="borderBottomColor":s.lineWidth.left&&(d="borderLeftColor"));var x=RB(t,function(S){return a.getComputedStyle(S)[d]});x!=null&&(s.lineColor=x);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var b=parseInt(n.fontSize||"");isNaN(b)||(s.fontSize=b/i);var y=Kxe(n);y&&(s.fontStyle=y);var _=(n.fontFamily||"").toLowerCase();return e.indexOf(_)!==-1&&(s.font=_),s}function Kxe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function RB(e,t){var r=eY(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function eY(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:eY(e.parentElement,t):r}function Gxe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=r.map(function(o){return parseInt(o||"0")/n}),i=_5(s,0);return a>i.top&&(i.top=a),a>i.bottom&&(i.bottom=a),i}function tY(e,t,r,n,a){var s,i;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],f=[],m=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:d,body:f,foot:m};for(var p=0;p<o.rows.length;p++){var x=o.rows[p],g=(i=(s=x==null?void 0:x.parentElement)===null||s===void 0?void 0:s.tagName)===null||i===void 0?void 0:i.toLowerCase(),b=qxe(l,u,r,x,n,a);b&&(g==="thead"?d.push(b):g==="tfoot"?m.push(b):f.push(b))}return{head:d,body:f,foot:m}}function qxe(e,t,r,n,a,s){for(var i=new XX(n),o=0;o<n.cells.length;o++){var l=n.cells[o],u=r.getComputedStyle(l);if(a||u.display!=="none"){var d=void 0;s&&(d=$xe(e,l,t,u,r)),i.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:Wxe(l)})}}var f=r.getComputedStyle(n);if(i.length>0&&(a||f.display!=="none"))return i}function Wxe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function Xxe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var s=a[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function cf(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function rY(e,t){var r=new Av(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();Xxe(a,n,t);var s=cf({},a,n,t),i;typeof window<"u"&&(i=window);var o=Yxe(a,n,t),l=Jxe(a,n,t),u=Zxe(r,s),d=t1e(r,s,i);return{id:t.tableId,content:d,hooks:l,styles:o,settings:u}}function Yxe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var u=e[l],d=t[l],f=r[l];n.columnStyles=cf({},u,d,f)}else{var m=[e,t,r],p=m.map(function(x){return x[l]||{}});n[l]=cf({},p[0],p[1],p[2])}},s=0,i=Object.keys(n);s<i.length;s++){var o=i[s];a(o)}return n}function Jxe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,i=n;s<i.length;s++){var o=i[s];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function Zxe(e,t){var r,n,a,s,i,o,l,u,d,f,m,p,x=_5(t.margin,40/e.scaleFactor()),g=(r=e1e(e,t.startY))!==null&&r!==void 0?r:x.top,b;t.showFoot===!0?b="everyPage":t.showFoot===!1?b="never":b=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var _=(s=t.useCss)!==null&&s!==void 0?s:!1,S=t.theme||(_?"plain":"striped"),I=!!t.horizontalPageBreak,T=(i=t.horizontalPageBreakRepeat)!==null&&i!==void 0?i:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:_,theme:S,startY:g,margin:x,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:y,showFoot:b,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(m=t.tableLineColor)!==null&&m!==void 0?m:200,horizontalPageBreak:I,horizontalPageBreakRepeat:T,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function e1e(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),s=!1;if(r&&r.startPageNumber){var i=r.startPageNumber+r.pageNumber-1;s=i===a}return typeof t=="number"?t:(t==null||t===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function t1e(e,t,r){var n=t.head||[],a=t.body||[],s=t.foot||[];if(t.html){var i=t.includeHiddenHtml;if(r){var o=tY(e,t.html,r,i,t.useCss)||{};n=o.head||n,a=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||r1e(n,a,s);return{columns:l,head:n,body:a,foot:s}}function r1e(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var i=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(i=(o==null?void 0:o.colSpan)||1);for(var l=0;l<i;l++){var u=void 0;Array.isArray(n)?u=a.length:u=s+(l>0?"_".concat(l):"");var d={dataKey:u};a.push(d)}}),a}var NI=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),n1e=function(e){WX(t,e);function t(r,n,a,s,i,o){var l=e.call(this,r,n,o)||this;return l.cell=a,l.row=s,l.column=i,l.section=s.section,l}return t}(NI),a1e=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,s,i){for(var o=0,l=r;o<l.length;o++){var u=l[o],d=new n1e(t,this,n,a,s,i),f=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var s=a[n];s(new NI(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var s=a[n];s(new NI(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,s){return a+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),nY=function(){function e(t,r,n,a,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof XX&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var s;return Math.max(n,((s=r.cells[a.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,s){var i=n.cells[s.index];if(!i)return 0;var o=r.getLineHeight(i.styles.fontSize),l=i.padding("vertical"),u=l+o;return u>a?u:a},0)},e}(),aY=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var i=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=i.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,s=n*a+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=_5(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),s1e=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var s=a[n],i=s.cells[this.index];i&&typeof i.styles.cellWidth=="number"&&(r=Math.max(r,i.styles.cellWidth))}return r},e}();function i1e(e,t){o1e(e,t);var r=[],n=0;t.columns.forEach(function(s){var i=s.getMaxCustomCellWidth(t);i?s.width=i:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=BI(r,a,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),a&&(a=BI(r,a,function(s){return s.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),c1e(t),u1e(t,e),l1e(t)}function o1e(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=ZX(e,t);t.allRows().forEach(function(s){for(var i=0,o=t.columns;i<o.length;i++){var l=o[i],u=s.cells[l.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,s,l,null);var f=u.padding("horizontal");u.contentWidth=h_(u.text,u.styles,e)+f;var m=h_(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=m+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/r;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(s){for(var i=0,o=t.columns;i<o.length;i++){var l=o[i],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function BI(e,t,r){for(var n=t,a=e.reduce(function(p,x){return p+x.wrappedWidth},0),s=0;s<e.length;s++){var i=e[s],o=i.wrappedWidth/a,l=n*o,u=i.width+l,d=r(i),f=u<d?d:u;t-=f-i.width,i.width=f}if(t=Math.round(t*1e10)/1e10,t){var m=e.filter(function(p){return t<0?p.width>r(p):!0});m.length&&(t=BI(m,t,r))}return t}function l1e(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var s=n[a],i=0,o=e.columns;i<o.length;i++){var l=o[i],u=t[l.index];if(r>1)r--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete t[l.index];else{var d=s.cells[l.index];if(!d)continue;if(d.height=s.height,d.rowSpan>1){var f=n.length-a,m=d.rowSpan>f?f:d.rowSpan;t[l.index]={cell:d,left:m,row:s}}}}}function c1e(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,s=0,i=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(i-=1,i>1&&e.columns[o+1])s+=l.width,delete n.cells[l.index];else if(a){var u=a;delete n.cells[l.index],a=null,u.width=l.width+s}else{var u=n.cells[l.index];if(!u)continue;if(i=u.colSpan,s=0,u.colSpan>1){a=u,s+=l.width;continue}u.width=l.width+s}}}function u1e(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var s=a[n],i=0,o=e.columns;i<o.length;i++){var l=o[i],u=s.cells[l.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=f7(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=f7(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,d);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var m=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<m*u.rowSpan?r={height:m,count:u.rowSpan}:r&&r.count>0&&r.height>m&&(m=r.height),m>s.height&&(s.height=m)}}r.count--}}function f7(e,t,r,n,a){return e.map(function(s){return d1e(s,t,r,n,a)})}function d1e(e,t,r,n,a){var s=1e4*n.scaleFactor();if(t=Math.ceil(t*s)/s,t>=h_(e,r,n))return e;for(;t<h_(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function sY(e,t){var r=new Av(e),n=A1e(t,r.scaleFactor()),a=new a1e(t,n);return i1e(r,a),r.applyStyles(r.userStyles),a}function A1e(e,t){var r=e.content,n=h1e(r.columns);if(r.head.length===0){var a=h7(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=h7(n,"foot");a&&r.foot.push(a)}var s=e.settings.theme,i=e.styles;return{columns:n,head:LB("head",r.head,n,i,s,t),body:LB("body",r.body,n,i,s,t),foot:LB("foot",r.foot,n,i,s,t)}}function LB(e,t,r,n,a,s){var i={},o=t.map(function(l,u){for(var d=0,f={},m=0,p=0,x=0,g=r;x<g.length;x++){var b=g[x];if(i[b.index]==null||i[b.index].left===0)if(p===0){var y=void 0;Array.isArray(l)?y=l[b.index-m-d]:y=l[b.dataKey];var _={};typeof y=="object"&&!Array.isArray(y)&&(_=(y==null?void 0:y.styles)||{});var S=m1e(e,b,u,a,n,s,_),I=new aY(y,S,e);f[b.dataKey]=I,f[b.index]=I,p=I.colSpan-1,i[b.index]={left:I.rowSpan-1,times:p}}else p--,m++;else i[b.index].left--,p=i[b.index].times,d++}return new nY(l,u,e,f)});return o}function h7(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=f1e(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function f1e(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function h1e(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new s1e(a,t,r)})}function m1e(e,t,r,n,a,s,i){var o=zxe(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var u=cf({},o.table,o[e],a.styles,l),d=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?d:{},m=e==="body"&&r%2===0?cf({},o.alternateRow,a.alternateRowStyles):{},p=Vxe(s),x=cf({},p,u,m,f);return cf(x,i)}function p1e(e,t,r){var n;r===void 0&&(r={});var a=ZX(e,t),s=new Map,i=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(m){var p=t.columns.find(function(x){return x.dataKey===m||x.index===m});p&&!s.has(p.index)&&(s.set(p.index,!0),i.push(p.index),o.push(t.columns[p.index]),a-=p.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(s.has(d)){d++;continue}var f=t.columns[d].wrappedWidth;if(u||a>=f)u=!1,i.push(d),o.push(t.columns[d]),a-=f;else break;d++}return{colIndexes:i,columns:o,lastIndex:d-1}}function g1e(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=p1e(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function iY(e,t){var r=t.settings,n=r.startY,a=r.margin,s={x:a.left,y:n},i=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+i;if(r.pageBreak==="avoid"){var l=t.body,u=l.reduce(function(m,p){return m+p.height},0);o+=u}var d=new Av(e);(r.pageBreak==="always"||r.startY!=null&&o>d.pageSize().height)&&(lY(d),s.y=a.top),t.callWillDrawPageHooks(d,s);var f=cf({},s);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?v1e(d,t,f,s):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(m){return Nf(d,t,m,s,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(m,p){var x=p===t.body.length-1;m_(d,t,m,x,f,s,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(m){return Nf(d,t,m,s,t.columns)})),YX(d,t,f,s),t.callEndPageHooks(d,s),t.finalY=s.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function v1e(e,t,r,n){var a=g1e(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?yb(e,t,r,n,u.columns,!0):m7(e,t,n,u.columns),x1e(e,t,r,n,u.columns),UB(e,t,n,u.columns)});else for(var i=-1,o=a[0],l=function(){var u=i;if(o){e.applyStyles(e.userStyles);var d=o.columns;i>=0?yb(e,t,r,n,d,!0):m7(e,t,n,d),u=p7(e,t,i+1,n,d),UB(e,t,n,d)}var f=u-i;a.slice(1).forEach(function(m){e.applyStyles(e.userStyles),yb(e,t,r,n,m.columns,!0),p7(e,t,i+1,n,m.columns,f),UB(e,t,n,m.columns)}),i=u};i<t.body.length-1;)l()}function m7(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(s){return Nf(e,t,s,r,n)})}function x1e(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(s,i){var o=i===t.body.length-1;m_(e,t,s,o,r,n,a)})}function p7(e,t,r,n,a,s){e.applyStyles(e.userStyles),s=s??t.body.length;var i=Math.min(r+s,t.body.length),o=-1;return t.body.slice(r,i).forEach(function(l,u){var d=r+u===t.body.length-1,f=oY(e,t,d,n);l.canEntireRowFit(f,a)&&(Nf(e,t,l,n,a),o=r+u)}),o}function UB(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(s){return Nf(e,t,s,r,n)})}function b1e(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),s=Math.floor((t-a)/n);return Math.max(0,s)}function y1e(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var s=0,i=0,o=r.columns;i<o.length;i++){var l=o[i],u=e.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new aY(u.raw,u.styles,u.section);d=cf(d,u),d.text=[];var f=b1e(u,t,n);u.text.length>f&&(d.text=u.text.splice(f,u.text.length));var m=n.scaleFactor(),p=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(m,p),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(m,p),d.contentHeight>s&&(s=d.contentHeight),a[l.index]=d}}var x=new nY(e.raw,-1,e.section,a,!0);x.height=s;for(var g=0,b=r.columns;g<b.length;g++){var l=b[g],d=x.cells[l.index];d&&(d.height=x.height);var u=e.cells[l.index];u&&(u.height=e.height)}return x}function w1e(e,t,r,n){var a=e.pageSize().height,s=n.settings.margin,i=s.top+s.bottom,o=a-i;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),u=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>o;return f?(d&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function m_(e,t,r,n,a,s,i){var o=oY(e,t,n,s);if(r.canEntireRowFit(o,i))Nf(e,t,r,s,i);else if(w1e(e,r,o,t)){var l=y1e(r,o,t,e);Nf(e,t,r,s,i),yb(e,t,a,s,i),m_(e,t,l,n,a,s,i)}else yb(e,t,a,s,i),m_(e,t,r,n,a,s,i)}function Nf(e,t,r,n,a){n.x=t.settings.margin.left;for(var s=0,i=a;s<i.length;s++){var o=i[s],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(u===!1){n.x+=o.width;continue}E1e(e,l,n);var d=l.getTextPos();qX(l.text,d.x,d.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function E1e(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=JX(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),C1e(e,t,r,n.lineWidth))}function C1e(e,t,r,n){var a,s,i,o;n.top&&(a=r.x,s=r.y,i=r.x+t.width,o=r.y,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,s,i,o)),n.bottom&&(a=r.x,s=r.y+t.height,i=r.x+t.width,o=r.y+t.height,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,s,i,o)),n.left&&(a=r.x,s=r.y,i=r.x,o=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,s,i,o)),n.right&&(a=r.x+t.width,s=r.y,i=r.x+t.width,o=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,s,i,o));function l(u,d,f,m,p){e.getDocument().setLineWidth(u),e.getDocument().line(d,f,m,p,"S")}}function oY(e,t,r,n){var a=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function yb(e,t,r,n,a,s){a===void 0&&(a=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(o){return Nf(e,t,o,n,a)}),t.callEndPageHooks(e,n);var i=t.settings.margin;YX(e,t,r,n),lY(e),t.pageNumber++,n.x=i.left,n.y=i.top,r.y=i.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return Nf(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function lY(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function _1e(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=rY(this,n),s=sY(this,a);return iY(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){qX(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return Av.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Av.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Av(this),s=tY(a,t,window,r,!1),i=s.head,o=s.body,l=((n=i[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:l,rows:o,data:o}}}var MB;function nl(e,t){var r=rY(e,t),n=sY(e,r);iY(e,n)}try{if(typeof window<"u"&&window){var g7=window,v7=g7.jsPDF||((MB=g7.jspdf)===null||MB===void 0?void 0:MB.jsPDF);v7&&_1e(v7)}}catch(e){console.error("Could not apply autoTable plugin",e)}const V6="evaluaciones_pruebas",z6="evaluaciones_rubricas_estaticas",$6="evaluaciones_rubricas_interactivas",S1e="usuarios",S5=e=>{var r,n;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion}},N1e=e=>{const t=tr(Ft(Bt,V6),qr("fechaCreacion","desc"));return br(t,n=>{e(n.docs.map(a=>S5(a)))},n=>{console.error("Error al suscribirse a las pruebas:",n),e([])})},B1e=async e=>{try{const{id:t,...r}=e,n=Er(Bt,V6,t);await io(n,{...r,fechaCreacion:fr.fromDate(new Date(r.fechaCreacion))})}catch(t){throw console.error("Error al guardar la prueba:",t),new Error("No se pudo guardar la prueba.")}},k1e=async e=>{try{await pi(Er(Bt,V6,e))}catch(t){throw console.error("Error al eliminar la prueba:",t),new Error("No se pudo eliminar la prueba.")}},T1e=e=>{const t=tr(Ft(Bt,z6),qr("fechaCreacion","desc"));return br(t,n=>{e(n.docs.map(a=>S5(a)))},n=>{console.error("Error al suscribirse a las rúbricas estáticas:",n),e([])})},I1e=async e=>{try{const{id:t,...r}=e,n=Er(Bt,z6,t);await io(n,{...r,fechaCreacion:fr.fromDate(new Date(r.fechaCreacion))})}catch(t){throw console.error("Error al guardar la rúbrica estática:",t),new Error("No se pudo guardar la rúbrica.")}},j1e=async e=>{try{await pi(Er(Bt,z6,e))}catch(t){throw console.error("Error al eliminar la rúbrica estática:",t),new Error("No se pudo eliminar la rúbrica.")}},F1e=e=>{const t=tr(Ft(Bt,$6));return br(t,n=>{e(n.docs.map(a=>S5(a)))},n=>{console.error("Error al suscribirse a las rúbricas interactivas:",n),e([])})},O1e=async e=>{try{const{id:t,...r}=e,n=Er(Bt,$6,t);await io(n,r)}catch(t){throw console.error("Error al guardar la rúbrica interactiva:",t),new Error("No se pudo guardar la rúbrica interactiva.")}},D1e=async e=>{try{return(await xa(Ft(Bt,$6),e)).id}catch(t){throw console.error("Error al crear la rúbrica interactiva:",t),new Error("No se pudo crear la rúbrica interactiva.")}},P1e=e=>{const t=tr(Ft(Bt,S1e));return br(t,n=>{e(n.docs.map(a=>S5(a)))},n=>{console.error("Error al suscribirse a los usuarios:",n),e([])})},R1e=["Selección múltiple","Verdadero o Falso","Desarrollo","Términos pareados","Comprensión de lectura"],x7={"Selección múltiple":[5,10,15],"Verdadero o Falso":[5,10,15],"Términos pareados":[5,10,15],Desarrollo:[1,2,3],"Comprensión de lectura":[1,2,3]},xC=e=>{if(!e)return"";let t=e.trim().toLowerCase();return t=t.replace(/°/g,"º"),t=t.replace(/\s+(medio|básico|basico)/g,""),t=t.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1º"),t=t.replace(/^(\d)(?![º])/,"$1º"),t=t.replace(/\s+/g,"").toUpperCase(),t},L1e=({open:e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e?c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59"}):c.jsxs(c.Fragment,{children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),U1e=({item:e,index:t,showAnswers:r})=>{const n=k.useMemo(()=>e.tipo==="Términos pareados"?[...e.pares.map(a=>a.definicion)].sort(()=>Math.random()-.5):[],[e]);return c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("p",{className:"font-semibold flex-grow pr-4",children:[t+1,". ",e.pregunta," (",e.puntaje," pts)"]}),e.habilidadBloom&&c.jsx("span",{className:"flex-shrink-0 text-xs font-semibold bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:e.habilidadBloom})]}),e.tipo==="Selección múltiple"&&c.jsx("div",{className:"ml-4 mt-2 space-y-2",children:e.opciones.map((a,s)=>{const i=r&&s===e.respuestaCorrecta;return c.jsxs("div",{className:`flex items-center gap-2 p-1 rounded ${i?"bg-green-100 dark:bg-green-900/50":""}`,children:[c.jsx("div",{className:"w-5 h-5 border rounded-full"}),c.jsxs("span",{children:[String.fromCharCode(65+s),") ",a]})]},s)})}),e.tipo==="Desarrollo"&&c.jsx("div",{className:"mt-2 p-2 border rounded-md min-h-[96px] bg-slate-50 dark:bg-slate-700/50"}),e.tipo==="Verdadero o Falso"&&c.jsxs("div",{className:"mt-2 ml-4 flex items-center gap-4",children:[c.jsx("span",{children:"V ___ F ___"}),r&&c.jsxs("span",{className:"font-bold p-1 rounded bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300",children:["Respuesta: ",e.respuestaCorrecta?"VERDADERO":"FALSO"]})]}),e.tipo==="Términos pareados"&&c.jsxs("div",{className:"mt-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-center mb-2",children:"Columna A: Concepto"}),c.jsx("div",{className:"space-y-2",children:e.pares.map((a,s)=>c.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 p-3 rounded-lg min-h-[50px] flex items-center",children:[s+1,". ",a.concepto]},s))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-center mb-2",children:"Columna B: Definición"}),c.jsx("div",{className:"space-y-2",children:n.map((a,s)=>c.jsx("div",{className:"bg-sky-100 dark:bg-sky-900/50 p-3 rounded-lg min-h-[50px] flex items-center",children:a},s))})]})]}),r&&c.jsxs("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/30 rounded-lg border border-green-200 dark:border-green-700",children:[c.jsx("h4",{className:"font-bold text-green-800 dark:text-green-200",children:"Respuestas Correctas:"}),c.jsx("ul",{className:"list-disc list-inside mt-2 text-sm text-slate-700 dark:text-slate-300",children:e.pares.map((a,s)=>c.jsxs("li",{children:[c.jsx("strong",{children:a.concepto})," → ",a.definicion]},s))})]})]}),e.tipo==="Comprensión de lectura"&&c.jsxs("div",{className:"ml-4 mt-2 space-y-4",children:[c.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-700/50 rounded-md whitespace-pre-wrap",children:e.texto}),e.preguntas.map((a,s)=>{if(a.tipo==="Selección múltiple"){const i=a;return c.jsxs("div",{className:"pt-2",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("p",{className:"font-semibold flex-grow pr-4",children:[s+1,". ",i.pregunta," (",i.puntaje," pts)"]}),i.habilidadBloom&&c.jsx("span",{className:"flex-shrink-0 text-xs font-semibold bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:i.habilidadBloom})]}),c.jsx("div",{className:"ml-4 mt-2 space-y-2",children:i.opciones.map((o,l)=>{const u=r&&l===i.respuestaCorrecta;return c.jsxs("div",{className:`flex items-center gap-2 p-1 rounded ${u?"bg-green-100 dark:bg-green-900/50":""}`,children:[c.jsx("div",{className:"w-5 h-5 border rounded-full"}),c.jsxs("span",{children:[String.fromCharCode(65+l),") ",o]})]},l)})})]},a.id)}if(a.tipo==="Desarrollo"){const i=a;return c.jsxs("div",{className:"pt-2",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("p",{className:"font-semibold flex-grow pr-4",children:[s+1,". ",i.pregunta," (",i.puntaje," pts)"]}),i.habilidadBloom&&c.jsx("span",{className:"flex-shrink-0 text-xs font-semibold bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:i.habilidadBloom})]}),c.jsx("div",{className:"mt-2 p-2 border rounded-md min-h-[96px] bg-slate-50 dark:bg-slate-700/50"})]},a.id)}return null})]})]},e.id)},M1e=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(null),[a,s]=k.useState(!1),[i,o]=k.useState(!1),[l,u]=k.useState(null),[d,f]=k.useState(!1),m={nombre:"",asignatura:Pi[0],nivel:Kg[0],contenido:"",tiposActividad:{},dificultad:"Intermedio",isNee:!1,selectedNee:[]},[p,x]=k.useState(m);k.useEffect(()=>{const w=N1e(t);return()=>w()},[]);const g=w=>{const{name:C,value:N}=w.target;x(R=>({...R,[C]:N}))},b=w=>{x(C=>{const N={...C.tiposActividad};return N[w]?delete N[w]:N[w]=x7[w][0],{...C,tiposActividad:N}})},y=(w,C)=>{x(N=>({...N,tiposActividad:{...N.tiposActividad,[w]:C}}))},_=w=>{x(C=>{const N=C.selectedNee.includes(w)?C.selectedNee.filter(R=>R!==w):[...C.selectedNee,w];return{...C,selectedNee:N}})},S=async w=>{if(w.preventDefault(),!p.nombre.trim()||!p.contenido.trim()||Object.keys(p.tiposActividad).length===0){u("Nombre, Contenido y al menos un tipo de actividad son obligatorios.");return}s(!0),u(null);const C=Object.entries(p.tiposActividad).map(([D,O])=>`- ${O} ítem(s) de tipo '${D}'`).join(`
`),N=p.isNee&&p.selectedNee.length>0?`
            **Adaptación CRÍTICA para Necesidades Educativas Especiales (NEE):**
            Adapta esta prueba para estudiantes con las siguientes características: ${p.selectedNee.join(", ")}.
            Esto implica las siguientes modificaciones OBLIGATORIAS:
            - Usa un lenguaje claro, simple y directo en todas las preguntas e instrucciones.
            - Evita preguntas con doble negación o estructuras gramaticales complejas.
            - En preguntas de desarrollo, desglosa la pregunta en partes más pequeñas si es posible.
            - Para 'Comprensión de Lectura', usa textos más cortos (100-150 palabras) y con vocabulario accesible.
            - Para 'Selección Múltiple', asegúrate de que los distractores sean claramente incorrectos y no ambiguos.`:"",R=`
            Eres un experto en evaluación educativa para la educación media en Chile.
            Genera una prueba o guía de trabajo completa en formato JSON estructurado.
            
            Información base:
            - Nombre de la prueba: ${p.nombre}
            - Asignatura: ${p.asignatura}
            - Nivel: ${p.nivel}
            - Contenido a evaluar: "${p.contenido}"
            - Tipos y cantidad de ítems solicitados:
              ${C}
            - Nivel de Dificultad General: ${p.dificultad}. 'Fácil' implica preguntas directas y de recuerdo. 'Intermedio' incluye aplicación y análisis simple. 'Avanzado' requiere síntesis, evaluación y resolución de problemas complejos.
            
            ${N}

            Tu respuesta DEBE ser un único objeto JSON válido sin texto introductorio, explicaciones, ni el bloque \`\`\`json. El objeto debe contener:
            1. 'objetivo': Un objetivo de aprendizaje claro para la evaluación.
            2. 'instruccionesGenerales': Instrucciones claras para el estudiante.
            3. 'actividades': Un array de objetos, donde cada objeto es una actividad por cada tipo de ítem solicitado. Cada actividad debe tener:
               - 'id': Un UUID generado por ti.
               - 'titulo': Un título descriptivo (ej: "Actividad 1: Selección Múltiple").
               - 'instrucciones': Instrucciones para esa actividad específica.
               - 'items': Un array de preguntas con la cantidad exacta solicitada. Cada pregunta (item) debe tener:
                   - 'id': Un UUID generado por ti.
                   - 'tipo': El tipo de ítem.
                   - 'pregunta': El enunciado de la pregunta.
                   - 'puntaje': Un puntaje numérico.
                   - 'habilidadBloom': La habilidad principal de la Taxonomía de Bloom que se trabaja (ej: Analizar, Crear, Evaluar).
                   - Campos adicionales según el tipo:
                       - Para 'Selección múltiple': 'opciones' (array de EXACTAMENTE 4 strings sin la letra de la alternativa) y 'respuestaCorrecta' (índice numérico de la respuesta correcta, de 0 a 3).
                       - Para 'Verdadero o Falso': 'respuestaCorrecta' (booleano).
                       - Para 'Términos pareados': 'pares' (array de objetos con 'concepto' y 'definicion').
                       - Para 'Comprensión de lectura': 'texto' (un string que DEBE contener un texto original y coherente de 150 a 250 palabras, generado por ti, sobre el contenido a evaluar) y 'preguntas' (un array de sub-preguntas basadas en el texto que acabas de generar, las cuales pueden ser 'Selección múltiple' o 'Desarrollo', y cada una debe tener su propia 'id', 'pregunta', 'puntaje', 'habilidadBloom', etc.).
                       - Para 'Desarrollo': no necesita campos adicionales.
        `;try{jv("Evaluación - Pruebas");const D="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",Z=(await(await new ti(D).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(R)).response).text().replace(/^```json\s*|```\s*$/g,""),V=JSON.parse(Z);let q=0;V.actividades.forEach(J=>{J.items.forEach(P=>{q+=P.puntaje||0,P.tipo==="Comprensión de lectura"&&P.preguntas&&P.preguntas.forEach(G=>{q+=G.puntaje||0})})});const K={id:crypto.randomUUID(),fechaCreacion:new Date().toISOString(),nombre:p.nombre,asignatura:p.asignatura,nivel:p.nivel,contenidoOriginal:p.contenido,tiposActividadOriginal:p.tiposActividad,objetivo:V.objetivo,instruccionesGenerales:V.instruccionesGenerales,puntajeIdeal:q,actividades:V.actividades,dificultad:p.dificultad,...p.isNee&&{adaptacionNEE:p.selectedNee}};n(K),f(!1)}catch(D){console.error(D),u("Error al generar la prueba con IA. Revisa la consola para más detalles.")}finally{s(!1)}},I=async()=>{if(r)try{await B1e(r),alert("Prueba guardada con éxito.")}catch(w){console.error(w),alert("No se pudo guardar la prueba.")}},T=async w=>{if(window.confirm("¿Eliminar esta prueba?"))try{await k1e(w),(r==null?void 0:r.id)===w&&n(null)}catch(C){console.error(C),alert("No se pudo eliminar la prueba.")}},F=async w=>{o(!0);const C=new mr("p","mm","a4"),N=20,R=C.internal.pageSize.getHeight(),D=C.internal.pageSize.getWidth(),O=D-N*2;let M=N;const Q=Z=>{Z.setFillColor(230,230,230),Z.rect(0,0,D,25,"F"),Z.setFontSize(9),Z.setTextColor(0,0,0),Z.text("LICEO INDUSTRIAL DE RECOLETA",N,15,{align:"left"}),Z.text("SUBDIRECCIÓN DE GESTIÓN PEDAGÓGICA",D-N,15,{align:"right"})};Q(C),M=30,C.setTextColor(0,0,0),C.setFont("helvetica","bold"),C.setFontSize(16),C.text(w.nombre,D/2,M,{align:"center"}),M+=10,nl(C,{startY:M,body:[[{content:"Asignatura:",styles:{fontStyle:"bold"}},w.asignatura,{content:"Puntaje Ideal:",styles:{fontStyle:"bold"}},w.puntajeIdeal.toString()],[{content:"Nivel:",styles:{fontStyle:"bold"}},w.nivel,"",""],[{content:"OA:",styles:{fontStyle:"bold",valign:"top"}},{content:w.objetivo,colSpan:3}],[{content:"Instrucciones:",styles:{fontStyle:"bold",valign:"top"}},{content:w.instruccionesGenerales,colSpan:3}]],theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0],lineColor:[0,0,0],lineWidth:.1},columnStyles:{0:{cellWidth:30},2:{cellWidth:30}},didDrawPage:Z=>{Q(C)}}),M=C.lastAutoTable.finalY+10;const ee=Z=>{M+Z>R-N&&(C.addPage(),Q(C),M=N+15,C.setTextColor(0,0,0))},W=(Z,V)=>{C.setFont("helvetica",V.isBold?"bold":"normal"),C.setFontSize(V.fontSize);const q=Array.isArray(Z)?Z.join(`
`):Z;return C.getTextDimensions(q,{maxWidth:V.width}).h};for(const Z of w.actividades){let V=W(Z.titulo,{fontSize:12,width:O,isBold:!0})+W(Z.instrucciones,{fontSize:10,width:O})+12;ee(V),C.setFont("helvetica","bold"),C.setFontSize(12),C.setTextColor(0,0,0),C.text(Z.titulo,N,M),M+=8,C.setFont("helvetica","normal"),C.setFontSize(10);const q=C.splitTextToSize(Z.instrucciones,O);C.text(q,N,M),M+=q.length*(10*.35*1.15)+4;for(const[K,J]of Z.items.entries()){let P=0;const G=`${K+1}. ${J.pregunta} (${J.puntaje} pts)`;switch(P+=W(G,{fontSize:10,width:O,isBold:!0}),J.tipo){case"Selección múltiple":J.opciones.forEach(ie=>{P+=W(ie,{fontSize:10,width:O-5})+3}),P+=7;break;case"Verdadero o Falso":P+=10;break;case"Desarrollo":P+=30;break;case"Términos pareados":P+=J.pares.length*12+20;break;case"Comprensión de lectura":const re=J;P+=W(re.texto,{fontSize:10,width:O-10})+10,re.preguntas.forEach(ie=>{const de=`${ie.pregunta} (${ie.puntaje} pts)`;P+=W(de,{fontSize:10,width:O-5,isBold:!0}),ie.tipo==="Selección múltiple"?(ie.opciones.forEach(me=>{P+=W(me,{fontSize:10,width:O-10})+3}),P+=7):ie.tipo==="Desarrollo"&&(P+=30),P+=5}),P+=15;break}ee(P),C.setFont("helvetica","bold"),C.setFontSize(10),C.setTextColor(0,0,0);const Y=C.splitTextToSize(G,O);if(C.text(Y,N,M),M+=Y.length*5+4,C.setFont("helvetica","normal"),J.tipo==="Selección múltiple")J.opciones.forEach((re,ie)=>{C.text(`${String.fromCharCode(65+ie)}) ${re}`,N+5,M),M+=7});else if(J.tipo==="Verdadero o Falso")C.text("V ______    F ______",N+5,M),M+=10;else if(J.tipo==="Desarrollo")C.setDrawColor(200,200,200),C.setFillColor(245,245,245),C.rect(N,M,O,25,"FD"),M+=30;else if(J.tipo==="Términos pareados"){const re=[...J.pares.map(de=>de.definicion)].sort(()=>Math.random()-.5),ie=J.pares.map((de,me)=>[`${me+1}. ${de.concepto}`,`(   ) ${re[me]}`]);nl(C,{startY:M,head:[["Columna A: Concepto","Columna B: Definición"]],body:ie,theme:"grid",styles:{fontSize:9,textColor:[0,0,0],lineColor:[0,0,0],lineWidth:.1},headStyles:{fontStyle:"bold",fillColor:[230,230,230],textColor:[0,0,0]},didDrawPage:de=>Q(C)}),M=C.lastAutoTable.finalY+10}else if(J.tipo==="Comprensión de lectura"){const re=J;C.setFillColor(240,240,240),C.setDrawColor(200,200,200);const ie=C.splitTextToSize(re.texto,O-10),de=ie.length*(10*.35*1.15)+8;C.rect(N,M,O,de,"FD"),M+=4,C.setFont("helvetica","normal"),C.setFontSize(10),C.setTextColor(0,0,0),C.text(ie,N+5,M),M+=de;for(const[me,ue]of re.preguntas.entries()){const ye=`${me+1}. ${ue.pregunta} (${ue.puntaje} pts)`;C.setFont("helvetica","bold");const Ie=C.splitTextToSize(ye,O-5);C.text(Ie,N+5,M),M+=Ie.length*5+4,C.setFont("helvetica","normal"),ue.tipo==="Selección múltiple"?ue.opciones.forEach((ne,Fe)=>{C.text(`${String.fromCharCode(65+Fe)}) ${ne}`,N+10,M),M+=7}):ue.tipo==="Desarrollo"&&(C.setDrawColor(200,200,200),C.setFillColor(245,245,245),C.rect(N+5,M,O-5,25,"FD"),M+=30)}}M+=5}}C.save(`${w.nombre.replace(/\s/g,"_")}.pdf`),o(!1)};return r?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("button",{onClick:()=>n(null),className:"text-sm font-semibold text-slate-500 hover:underline",children:"← Volver"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>f(!d),className:"bg-slate-100 text-slate-700 font-bold py-2 px-4 rounded-lg flex items-center gap-2 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600",children:[c.jsx(L1e,{open:!d})," ",c.jsxs("span",{children:[d?"Ocultar":"Mostrar"," Respuestas"]})]}),c.jsx("button",{onClick:I,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg",children:"Guardar Prueba"}),c.jsxs("button",{onClick:()=>F(r),disabled:i,className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2",children:[i?"...":c.jsx(dX,{})," PDF"]})]})]}),c.jsxs("div",{className:"border rounded-lg p-8 bg-slate-50 dark:bg-slate-900/50",children:[c.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-600 dark:text-slate-400",children:[c.jsx("span",{children:"LICEO INDUSTRIAL DE RECOLETA"}),c.jsx("span",{children:"SUBDIRECCIÓN DE GESTIÓN PEDAGÓGICA"})]}),c.jsx("h2",{className:"text-center text-2xl font-bold my-4 text-slate-800 dark:text-slate-200",children:r.nombre}),c.jsxs("div",{className:"space-y-4 text-sm text-slate-700 dark:text-slate-300 border p-4 rounded-lg bg-white dark:bg-slate-800",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-x-8",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Asignatura:"})," ",r.asignatura]}),c.jsxs("p",{className:"text-right",children:[c.jsx("strong",{children:"Puntaje Ideal:"})," ",r.puntajeIdeal]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Nivel:"})," ",r.nivel]})]}),c.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 pt-2",children:[c.jsxs("span",{className:"font-semibold bg-slate-200 text-slate-800 dark:bg-slate-700 dark:text-slate-200 px-2 py-1 rounded-full text-xs",children:["Dificultad: ",r.dificultad||"Intermedio"]}),r.adaptacionNEE&&r.adaptacionNEE.length>0&&c.jsxs("span",{className:"font-semibold bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 px-2 py-1 rounded-full text-xs",children:["Adaptado para NEE: ",r.adaptacionNEE.join(", ")]})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Objetivo de Aprendizaje:"})," ",r.objetivo]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Instrucciones Generales:"})," ",r.instruccionesGenerales]})]}),r.actividades.map(w=>c.jsxs("div",{className:"mt-8 bg-white dark:bg-slate-800 p-6 rounded-lg border dark:border-slate-700",children:[c.jsx("h3",{className:"text-lg font-bold border-b pb-2 mb-4 dark:border-slate-600",children:w.titulo}),c.jsx("p",{className:"italic text-sm mb-4",children:w.instrucciones}),c.jsx("div",{className:"space-y-6",children:w.items.map((C,N)=>c.jsx(U1e,{item:C,index:N,showAnswers:d},C.id))})]},w.id))]})]}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Generar Nueva Prueba o Guía"}),c.jsxs("form",{onSubmit:S,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 mb-1 block",children:["Nombre de la Prueba/Guía ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"nombre",value:p.nombre,onChange:g,placeholder:"Ej: Guía N°1 - La Célula",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",required:!0})]}),c.jsx("div",{}),c.jsx("select",{name:"asignatura",value:p.asignatura,onChange:g,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:Pi.map(w=>c.jsx("option",{children:w},w))}),c.jsx("select",{name:"nivel",value:p.nivel,onChange:g,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:Kg.map(w=>c.jsx("option",{children:w},w))})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t dark:border-slate-700",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 mb-2 block",children:"Dificultad de la Prueba"}),c.jsx("div",{className:"flex rounded-lg shadow-sm",children:["Fácil","Intermedio","Avanzado"].map((w,C)=>c.jsx("button",{type:"button",onClick:()=>x(N=>({...N,dificultad:w})),className:`w-1/3 px-4 py-2 text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-opacity-50
                                            ${C===0?"rounded-l-lg":""} ${C===2?"rounded-r-lg":""}
                                            ${p.dificultad===w?"bg-amber-500 text-white z-10":"bg-slate-200 hover:bg-slate-300 text-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200"}`,children:w},w))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:p.isNee,onChange:w=>x(C=>({...C,isNee:w.target.checked,selectedNee:w.target.checked?C.selectedNee:[]})),className:"h-5 w-5 rounded text-amber-500 focus:ring-amber-400 border-slate-300 dark:bg-slate-600 dark:border-slate-500"}),c.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:"Adaptar para Necesidades Educativas Especiales (NEE)"})]}),p.isNee&&c.jsxs("div",{className:"p-3 border rounded-lg bg-slate-50 dark:bg-slate-700/50 dark:border-slate-600 animate-fade-in",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Seleccione Dificultades de Aprendizaje"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:u_.map(w=>c.jsxs("label",{className:"flex items-center gap-2 p-1.5 rounded hover:bg-slate-100 dark:hover:bg-slate-600 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:p.selectedNee.includes(w),onChange:()=>_(w),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),c.jsx("span",{className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:w})]},w))})]})]})]}),c.jsx("textarea",{name:"contenido",value:p.contenido,onChange:g,placeholder:"Contenido a evaluar...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("div",{className:"space-y-3",children:R1e.map(w=>c.jsxs("div",{className:"p-3 border rounded-lg has-[:checked]:bg-amber-50 has-[:checked]:border-amber-300 dark:border-slate-700 dark:has-[:checked]:bg-amber-900/20 dark:has-[:checked]:border-amber-700",children:[c.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:!!p.tiposActividad[w],onChange:()=>b(w),className:"h-5 w-5 rounded text-amber-500 focus:ring-amber-400 bg-slate-200 dark:bg-slate-600 border-slate-300 dark:border-slate-500"}),c.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 flex-grow",children:w})]}),p.tiposActividad[w]&&c.jsxs("div",{className:"mt-3 pl-8 flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Cantidad:"}),x7[w].map(C=>c.jsx("button",{type:"button",onClick:()=>y(w,C),className:`px-3 py-1 rounded-full font-semibold text-xs transition-colors ${p.tiposActividad[w]===C?"bg-amber-500 text-white":"bg-slate-200 hover:bg-slate-300 dark:bg-slate-600 dark:hover:bg-slate-500"}`,children:C},C))]})]},w))}),l&&c.jsx("p",{className:"text-red-500 text-sm",children:l}),c.jsx("div",{className:"text-right",children:c.jsx("button",{type:"submit",disabled:a,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:a?"Generando...":"Generar Prueba"})})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Pruebas Guardadas"}),c.jsx("div",{className:"space-y-2",children:e.length>0?e.map(w=>c.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:w.nombre}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[w.asignatura," - ",w.nivel," (",new Date(w.fechaCreacion).toLocaleDateString(),")"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>n(w),className:"text-sm font-semibold text-blue-600 hover:underline",children:"Ver"}),c.jsx("button",{onClick:()=>T(w.id),className:"text-sm font-semibold text-red-600 hover:underline",children:"Eliminar"})]})]},w.id)):c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm text-center py-4",children:"No hay pruebas guardadas."})})]})]})},Q1e=({rubricas:e,onSave:t,onDelete:r,onCreate:n})=>{const[a,s]=k.useState(null),[i,o]=k.useState("list"),[l,u]=k.useState(!1),[d,f]=k.useState(""),m=async(T,F)=>{if(!T.trim()||!F.trim()){alert("El título y la descripción son obligatorios.");return}u(!0);const w=`Crea una rúbrica de evaluación detallada sobre "${T}" con el propósito de "${F}". Genera entre 3 y 5 dimensiones de evaluación. Para cada dimensión, crea un descriptor para 4 niveles: Insuficiente, Suficiente, Competente, y Avanzado. Tu respuesta DEBE ser un único objeto JSON válido sin texto introductorio, explicaciones, ni el bloque \`\`\`json.`,C={type:"ARRAY",items:{type:"OBJECT",properties:{dimension:{type:"STRING"},insuficiente:{type:"STRING"},suficiente:{type:"STRING"},competente:{type:"STRING"},avanzado:{type:"STRING"}},required:["dimension","insuficiente","suficiente","competente","avanzado"]}};try{jv("Evaluación - Rúbricas");const N="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",Q=(await(await new ti(N).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent({contents:[{parts:[{text:w}]}],generationConfig:{responseMimeType:"application/json",responseSchema:C}})).response).text(),ee=JSON.parse(Q),W={id:crypto.randomUUID(),titulo:T,descripcion:F,fechaCreacion:new Date().toISOString(),dimensiones:ee.map(Z=>({id:crypto.randomUUID(),nombre:Z.dimension,niveles:{insuficiente:Z.insuficiente,suficiente:Z.suficiente,competente:Z.competente,avanzado:Z.avanzado}}))};s(W)}catch(N){console.error(N),alert("Error al generar la rúbrica con IA.")}finally{u(!1)}},p=async()=>{if(!d.trim()||!a)return;const T=crypto.randomUUID(),F={id:T,nombre:d,niveles:{insuficiente:"",suficiente:"",competente:"",avanzado:""},isLoading:!0};s(N=>N?{...N,dimensiones:[...N.dimensiones,F]}:null),f("");const w=`Para una rúbrica sobre "${a.titulo}", genera los descriptores para los 4 niveles de logro (Insuficiente, Suficiente, Competente, Avanzado) para la nueva dimensión: "${d}". Considera las dimensiones existentes como contexto: ${a.dimensiones.map(N=>N.nombre).join(", ")}. Tu respuesta DEBE ser un único objeto JSON válido sin texto introductorio, explicaciones, ni el bloque \`\`\`json.`,C={type:"OBJECT",properties:{insuficiente:{type:"STRING"},suficiente:{type:"STRING"},competente:{type:"STRING"},avanzado:{type:"STRING"}},required:["insuficiente","suficiente","competente","avanzado"]};try{jv("Evaluación - Rúbricas (Añadir Dimensión)");const N="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",Q=(await(await new ti(N).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent({contents:[{parts:[{text:w}]}],generationConfig:{responseMimeType:"application/json",responseSchema:C}})).response).text(),ee=JSON.parse(Q);s(W=>W?{...W,dimensiones:W.dimensiones.map(Z=>Z.id===T?{...Z,niveles:ee,isLoading:!1}:Z)}:null)}catch(N){console.error("Error generating dimension descriptors:",N),alert("No se pudieron generar los descriptores."),s(R=>R?{...R,dimensiones:R.dimensiones.filter(D=>D.id!==T)}:null)}},x=()=>{if(!a)return;e.some(F=>F.id===a.id)?t(a):n(a),o("list"),s(null)},g=T=>{s(T),o("form")},b=()=>{s({id:crypto.randomUUID(),titulo:"",descripcion:"",fechaCreacion:new Date().toISOString(),dimensiones:[]}),o("form")},y=(T,F,w)=>{a&&s(C=>C?{...C,dimensiones:C.dimensiones.map(N=>N.id!==T?N:F==="nombre"?{...N,nombre:w}:{...N,niveles:{...N.niveles,[F]:w}})}:null)},_=(T,F)=>{s(w=>w?{...w,[T]:F}:null)},S=T=>{a&&s(F=>F?{...F,dimensiones:F.dimensiones.filter(w=>w.id!==T)}:null)},I=()=>{if(!a)return null;const T="w-full p-2 border border-slate-300 rounded-lg shadow-sm focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-700 dark:border-slate-600",F=`${T} resize-none text-sm`;return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Crear Rúbrica de Aprendizaje"}),c.jsx("button",{onClick:()=>o("list"),className:"text-sm font-semibold text-slate-500 hover:underline",children:"← Volver"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Título de la Rúbrica"}),c.jsx("input",{value:a.titulo,onChange:w=>_("titulo",w.target.value),placeholder:"Ej. Rúbrica de Presentaciones Orales",className:`${T} mt-1`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Descripción de la Rúbrica"}),c.jsx("textarea",{value:a.descripcion,onChange:w=>_("descripcion",w.target.value),placeholder:"Describe el propósito y los criterios de evaluación de esta rúbrica.",rows:3,className:`${T} mt-1`})]})]}),a.dimensiones.length===0&&c.jsx("div",{className:"text-center py-4",children:c.jsx("button",{onClick:()=>m(a.titulo,a.descripcion),disabled:l||!a.titulo||!a.descripcion,className:"bg-sky-500 text-white font-semibold py-2 px-5 rounded-lg disabled:bg-slate-400 flex items-center gap-2 mx-auto",children:l?"Generando...":"✨ Generar Rúbrica con IA"})}),a.dimensiones.length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:"Dimensiones a Evaluar"}),c.jsx("div",{className:"overflow-x-auto border border-slate-200 dark:border-slate-700 rounded-lg",children:c.jsxs("table",{className:"min-w-full text-sm",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:c.jsx("tr",{children:["Dimensión","Insuficiente","Suficiente","Competente","Avanzado",""].map(w=>c.jsx("th",{className:"p-3 text-left font-semibold text-slate-600 dark:text-slate-300",children:w},w))})}),c.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:a.dimensiones.map(w=>c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 w-1/5",children:c.jsx("textarea",{value:w.nombre,onChange:C=>y(w.id,"nombre",C.target.value),rows:4,className:F})}),Object.keys(w.niveles).map(C=>c.jsx("td",{className:"p-2 w-1/5",children:w.isLoading?c.jsx("div",{className:"flex justify-center items-center h-full",children:c.jsx("div",{className:"w-5 h-5 border-2 border-slate-300 border-t-amber-500 rounded-full animate-spin"})}):c.jsx("textarea",{value:w.niveles[C],onChange:N=>y(w.id,C,N.target.value),rows:4,className:F})},C)),c.jsx("td",{className:"p-2 w-[5%] text-center align-middle",children:c.jsx("button",{onClick:()=>S(w.id),className:"text-red-500 hover:text-red-700 p-1 rounded-full text-lg",children:"🗑️"})})]},w.id))})]})}),c.jsxs("div",{className:"flex items-end gap-2 pt-2",children:[c.jsxs("div",{className:"flex-grow",children:[c.jsx("label",{className:"text-sm font-medium",children:"Añadir Dimensión"}),c.jsx("input",{value:d,onChange:w=>f(w.target.value),placeholder:"Escribe el nombre de la nueva dimensión...",className:`${T} mt-1`})]}),c.jsx("button",{onClick:p,disabled:!d.trim(),className:"bg-slate-200 dark:bg-slate-600 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300 h-10 disabled:opacity-50",children:"Generar con IA"})]})]}),c.jsx("div",{className:"flex justify-end pt-6 border-t dark:border-slate-700",children:c.jsx("button",{onClick:x,className:"bg-amber-500 text-white font-bold py-2.5 px-6 rounded-lg hover:bg-amber-600",children:"Guardar Rúbrica"})})]})};return i==="list"?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Mis Rúbricas"}),c.jsx("button",{onClick:b,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900",children:"Crear Nueva"})]}),e.length>0?e.map(T=>c.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:T.titulo}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate max-w-lg",children:T.descripcion})]}),c.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[c.jsx("button",{onClick:()=>g(T),className:"text-sm font-semibold text-blue-600 hover:underline",children:"Editar"}),c.jsx("button",{onClick:()=>r(T.id),className:"text-sm font-semibold text-red-600 hover:underline",children:"Eliminar"})]})]},T.id)):c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No hay rúbricas guardadas."})]}):I()},H1e=({allUsers:e,rubricasEstaticas:t})=>{const[r,n]=k.useState([]),[a,s]=k.useState(null),[i,o]=k.useState(null),[l,u]=k.useState({rubricaEstaticaId:"",curso:""}),[d,f]=k.useState(null);k.useEffect(()=>{const _=F1e(n);return()=>_()},[]);const m=async _=>{_.preventDefault();const S=t.find(T=>T.id===l.rubricaEstaticaId);if(!S||!l.curso){alert("Debe seleccionar una rúbrica y un curso.");return}const I={nombre:S.titulo,curso:l.curso,asignatura:"N/A",rubricaEstaticaId:S.id,resultados:{}};try{await D1e(I),u({rubricaEstaticaId:"",curso:""})}catch(T){console.error(T),alert("No se pudo crear la evaluación con rúbrica.")}},p=_=>{s(_),o(JSON.parse(JSON.stringify(_)))},x=(_,S,I)=>{i&&o(T=>{if(!T)return null;const F=JSON.parse(JSON.stringify(T));return F.resultados[_]||(F.resultados[_]={puntajes:{},feedback:""}),F.resultados[_].puntajes[S]=I,F})},g=async()=>{if(i)try{await O1e(i),s(i),alert("Cambios guardados.")}catch(_){console.error(_),alert("No se pudieron guardar los cambios.")}},b=k.useCallback(_=>{const S=i,I=t.find(R=>R.id===(S==null?void 0:S.rubricaEstaticaId));if(!S||!I)return{score:0,maxScore:0,grade:"N/A"};const T=I.dimensiones.length*4,F=S.resultados[_];if(!F)return{score:0,maxScore:T,grade:"1.0"};const w=Object.values(F.puntajes).reduce((R,D)=>R+D,0),C=1+6*(w/T),N=T>0?C.toFixed(1):"1.0";return{score:w,maxScore:T,grade:N}},[i,t]),y=async _=>{if(!i)return;const S=t.find(w=>w.id===i.rubricaEstaticaId),I=i.resultados[_];if(!S||!I||Object.keys(I.puntajes).length===0){alert("El estudiante no tiene puntajes para generar feedback.");return}f(_);const F=`Genera una retroalimentación constructiva para un estudiante basada en estos puntajes de rúbrica (de 1 a 4): ${S.dimensiones.map(w=>`${w.nombre}: ${I.puntajes[w.id]||"N/A"}/4`).join("; ")}. El nombre de la evaluación es "${S.titulo}". Destaca fortalezas y sugiere 1-2 áreas de mejora concretas. Sé breve y motivador.`;try{jv("Evaluación - Rúbricas Interactivas (Feedback)");const w="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",O=(await(await new ti(w).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(F)).response).text();o(M=>{if(!M)return null;const Q=JSON.parse(JSON.stringify(M));return Q.resultados[_].feedback=O.replace(/(\*\*|\*)/g,""),Q})}catch(w){console.error(w),alert("Error al generar feedback.")}finally{f(null)}};if(a&&i){const _=t.find(I=>I.id===a.rubricaEstaticaId),S=e.filter(I=>I.profile===Kt.ESTUDIANTE&&xC(I.curso||"")===a.curso).map(I=>I.nombreCompleto).sort();return _?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:a.nombre}),c.jsx("p",{className:"text-slate-500",children:a.curso})]}),c.jsx("button",{onClick:()=>s(null),className:"font-semibold text-slate-600",children:"← Volver"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full border-collapse",children:[c.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-2 border dark:border-slate-600 sticky left-0 bg-slate-100 dark:bg-slate-700 z-10 w-48",children:"Estudiante"}),_.dimensiones.map(I=>c.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm",children:I.nombre},I.id)),c.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm",children:"Puntaje"}),c.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm",children:"Nota"}),c.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm w-64",children:"Retroalimentación"})]})}),c.jsx("tbody",{children:S.map(I=>{var C;const{score:T,maxScore:F,grade:w}=b(I);return c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[c.jsx("td",{className:"p-2 border dark:border-slate-600 font-semibold sticky left-0 bg-white dark:bg-slate-800 w-48",children:I}),_.dimensiones.map(N=>c.jsx("td",{className:"p-2 border dark:border-slate-600 text-center",children:c.jsx("div",{className:"flex justify-center gap-1",children:[1,2,3,4].map(R=>{var D;return c.jsx("button",{onClick:()=>x(I,N.id,R),className:`w-7 h-7 rounded-md font-semibold transition-colors ${((D=i.resultados[I])==null?void 0:D.puntajes[N.id])===R?"bg-amber-400 text-white":"bg-slate-200 dark:bg-slate-600 hover:bg-slate-300"}`,children:R},R)})})},N.id)),c.jsxs("td",{className:"p-2 border dark:border-slate-600 text-center font-bold",children:[T,"/",F]}),c.jsx("td",{className:"p-2 border dark:border-slate-600 text-center font-bold",children:w}),c.jsx("td",{className:"p-2 border dark:border-slate-600 text-sm",children:c.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[c.jsx("p",{className:"text-xs w-full",children:((C=i.resultados[I])==null?void 0:C.feedback)||"Sin generar"}),c.jsx("button",{onClick:()=>y(I),disabled:d===I,className:"text-xs bg-sky-100 text-sky-700 font-semibold px-2 py-1 rounded-md w-full disabled:opacity-50",children:d===I?"...":"Generar IA"})]})})]},I)})})]})}),c.jsx("div",{className:"mt-6 flex justify-end",children:c.jsx("button",{onClick:g,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar Cambios"})})]}):c.jsxs("div",{children:["Error: Rúbrica base no encontrada. ",c.jsx("button",{onClick:()=>s(null),children:"Volver"})]})}return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Crear Evaluación con Rúbrica"}),c.jsxs("form",{onSubmit:m,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[c.jsxs("select",{value:l.rubricaEstaticaId,onChange:_=>u({...l,rubricaEstaticaId:_.target.value}),className:"w-full border-slate-300 rounded-md dark:bg-slate-700",required:!0,children:[c.jsx("option",{value:"",children:"Seleccione una Rúbrica Guardada"}),t.map(_=>c.jsx("option",{value:_.id,children:_.titulo},_.id))]}),c.jsxs("select",{value:l.curso,onChange:_=>u({...l,curso:_.target.value}),className:"w-full border-slate-300 rounded-md dark:bg-slate-700",required:!0,children:[c.jsx("option",{value:"",children:"Seleccione un Curso"}),qa.map(_=>c.jsx("option",{value:_,children:_},_))]}),c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 h-10",children:"Crear Evaluación"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Evaluaciones Creadas"}),c.jsx("div",{className:"space-y-2",children:r.map(_=>c.jsxs("button",{onClick:()=>p(_),className:"w-full text-left p-3 rounded-md bg-slate-50 dark:bg-slate-700 hover:bg-slate-100 dark:hover:bg-slate-600",children:[c.jsx("p",{className:"font-semibold",children:_.nombre}),c.jsx("p",{className:"text-sm text-slate-500",children:_.curso})]},_.id))})]})]})},V1e=({allUsers:e})=>{const[t,r]=k.useState(""),n=k.useMemo(()=>Array.from(new Set(e.filter(s=>s.profile===Kt.ESTUDIANTE&&s.curso).map(s=>xC(s.curso)))).sort(),[e]),a=k.useMemo(()=>{const s=e.filter(i=>i.profile===Kt.ESTUDIANTE);return t?s.filter(i=>xC(i.curso||"")===t).sort((i,o)=>i.nombreCompleto.localeCompare(o.nombreCompleto)):s.sort((i,o)=>i.nombreCompleto.localeCompare(o.nombreCompleto))},[e,t]);return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Nóminas de Cursos"}),c.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:["Este es un visor de las nóminas de estudiantes. Para agregar, editar o eliminar estudiantes, utilice el módulo de ",c.jsx("strong",{className:"font-semibold",children:"Administración"}),"."]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"curso-filter",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filtrar por Curso"}),c.jsxs("select",{id:"curso-filter",value:t,onChange:s=>r(s.target.value),className:"w-full max-w-xs border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Mostrar Todos los Estudiantes"}),n.map(s=>c.jsx("option",{value:s,children:s},s))]})]}),c.jsx("div",{className:"overflow-x-auto border rounded-lg dark:border-slate-700 max-h-[60vh]",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Nombre Completo"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Curso"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Email"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:a.length>0?a.map(s=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:s.nombreCompleto}),c.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:xC(s.curso||"")}),c.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:s.email})]},s.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"px-6 py-10 text-center text-slate-500 dark:text-slate-400",children:"No hay estudiantes que coincidan con el filtro."})})})]})})]})},z1e=()=>{const[e,t]=k.useState("pruebas"),[r,n]=k.useState([]),[a,s]=k.useState([]),[i,o]=k.useState(!0);k.useEffect(()=>{o(!0);const f=P1e(n),m=T1e(p=>{s(p),o(!1)});return()=>{f(),m()}},[]);const l=async f=>{try{await I1e(f)}catch(m){console.error(m),alert("No se pudo guardar la rúbrica.")}},u=async f=>{try{await j1e(f)}catch(m){console.error(m),alert("No se pudo eliminar la rúbrica.")}},d=({tabName:f,label:m})=>c.jsx("button",{onClick:()=>t(f),className:`${e===f?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-3 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:m});return i?c.jsx("div",{className:"text-center py-10",children:"Cargando módulo de evaluaciones..."}):c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Evaluación de Aprendizajes"}),c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:c.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[c.jsx(d,{tabName:"pruebas",label:"Pruebas y Guías"}),c.jsx(d,{tabName:"rubricas",label:"Generador de Rúbricas"}),c.jsx(d,{tabName:"rubricasInteractivas",label:"Rúbricas Interactivas"}),c.jsx(d,{tabName:"nominas",label:"Gestión de Nóminas"})]})}),c.jsxs("div",{className:"mt-6",children:[e==="pruebas"&&c.jsx(M1e,{}),e==="rubricas"&&c.jsx(Q1e,{rubricas:a,onSave:l,onDelete:u,onCreate:l}),e==="rubricasInteractivas"&&c.jsx(H1e,{allUsers:r,rubricasEstaticas:a}),e==="nominas"&&c.jsx(V1e,{allUsers:r})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var p_={};p_.version="0.18.5";var cY=1252,$1e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],K6={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},G6=function(e){$1e.indexOf(e)!=-1&&(cY=K6[0]=e)};function K1e(){G6(1252)}var Zu=function(e){G6(e)};function q6(){Zu(1200),K1e()}function b7(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function G1e(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function uY(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Y1=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?G1e(e.slice(2)):t==254&&r==255?uY(e.slice(2)):t==65279?e.slice(1):e},V2=function(t){return String.fromCharCode(t)},y7=function(t){return String.fromCharCode(t)},ey,t0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ty(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0,l=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),i=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=t0.charAt(s)+t0.charAt(i)+t0.charAt(o)+t0.charAt(l);return t}function gc(e){var t="",r=0,n=0,a=0,s=0,i=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=t0.indexOf(e.charAt(u++)),i=t0.indexOf(e.charAt(u++)),r=s<<2|i>>4,t+=String.fromCharCode(r),o=t0.indexOf(e.charAt(u++)),n=(i&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=t0.indexOf(e.charAt(u++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var an=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Hf=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function T0(e){return an?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function w7(e){return an?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var cc=function(t){return an?Hf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function N5(e){if(typeof ArrayBuffer>"u")return cc(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function M0(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function q1e(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function W6(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return W6(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Di=an?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Hf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function W1e(e){for(var t=[],r=0,n=e.length+250,a=T0(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|o>>6&15|(i&3)<<4,a[r++]=128|o&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=T0(65535),n=65530)}return t.push(a.slice(0,r)),Di(t)}var al=/\u0000/g,J1=/[\u0001-\u0006]/g;function fv(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function ed(e,t){var r=""+e;return r.length>=t?r:As("0",t-r.length)+r}function X6(e,t){var r=""+e;return r.length>=t?r:As(" ",t-r.length)+r}function g_(e,t){var r=""+e;return r.length>=t?r:r+As(" ",t-r.length)}function X1e(e,t){var r=""+Math.round(e);return r.length>=t?r:As("0",t-r.length)+r}function Y1e(e,t){var r=""+e;return r.length>=t?r:As("0",t-r.length)+r}var E7=Math.pow(2,32);function pg(e,t){if(e>E7||e<-E7)return X1e(e,t);var r=Math.round(e);return Y1e(r,t)}function v_(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var C7=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],QB=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function J1e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Tr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},_7={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Z1e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function x_(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,o=0,l=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),o=f*i+s,d=f*u+l,!(a-f<5e-8));)a=1/(a-f),s=i,i=o,l=u,u=d;if(d>t&&(u>t?(d=l,o=s):(d=u,o=i)),!r)return[0,n*o,d];var m=Math.floor(n*o/d);return[m,n*o-m*d,d]}function Om(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),i=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=sbe(l,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=s,o}var dY=new Date(1899,11,31,0,0,0),ebe=dY.getTime(),tbe=new Date(1900,2,1,0,0,0);function AY(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=tbe&&(r+=1440*60*1e3),(r-(ebe+(e.getTimezoneOffset()-dY.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Y6(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function rbe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function nbe(e){var t=e<0?12:11,r=Y6(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function abe(e){var t=Y6(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function ry(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=nbe(e):t===10?r=e.toFixed(10).substr(0,12):r=abe(e),Y6(rbe(r.toUpperCase()))}function up(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):ry(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return mu(14,AY(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function sbe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function ibe(e,t,r,n){var a="",s=0,i=0,o=r.y,l,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,u=t.length;break;case 3:return QB[r.m-1][1];case 5:return QB[r.m-1][0];default:return QB[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,u=t.length;break;case 3:return C7[r.q][0];default:return C7[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?ed(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=ed(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=o,u=1;break}var d=u>0?ed(l,u):"";return d}function r0(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var fY=/%/g;function obe(e,t,r){var n=t.replace(fY,""),a=t.length-n.length;return mf(e,n,r*Math.pow(10,2*a))+As("%",a)}function lbe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return mf(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function hY(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+hY(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var mY=/# (\?+)( ?)\/( ?)(\d+)/;function cbe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,o=n;return r+(s===0?"":""+s)+" "+(i===0?As(" ",e[1].length+1+e[4].length):X6(i,e[1].length)+e[2]+"/"+e[3]+ed(o,e[4].length))}function ube(e,t,r){return r+(t===0?"":""+t)+As(" ",e[1].length+2+e[4].length)}var pY=/^#*0*\.([0#]+)/,gY=/\).*[0#]/,vY=/\(###\) ###\\?-####/;function Yo(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function S7(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function N7(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function dbe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Abe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Yc(e,t,r){if(e.charCodeAt(0)===40&&!t.match(gY)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Yc("n",n,r):"("+Yc("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return lbe(e,t,r);if(t.indexOf("%")!==-1)return obe(e,t,r);if(t.indexOf("E")!==-1)return hY(t,r);if(t.charCodeAt(0)===36)return"$"+Yc(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+pg(l,t.length);if(t.match(/^[#?]+$/))return a=pg(r,0),a==="0"&&(a=""),a.length>t.length?a:Yo(t.substr(0,t.length-a.length))+a;if(s=t.match(mY))return cbe(s,l,u);if(t.match(/^#+0+$/))return u+pg(l,t.length-t.indexOf("0"));if(s=t.match(pY))return a=S7(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Yo(s[1])).replace(/\.$/,"."+Yo(s[1])).replace(/\.(\d*)$/,function(x,g){return"."+g+As("0",Yo(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+S7(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+r0(pg(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Yc(e,t,-r):r0(""+(Math.floor(r)+dbe(r,s[1].length)))+"."+ed(N7(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Yc(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=fv(Yc(e,t.replace(/[\\-]/g,""),r)),i=0,fv(fv(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return i<a.length?a.charAt(i++):x==="0"?"0":""}));if(t.match(vY))return a=Yc(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=x_(l,Math.pow(10,i)-1,!1),a=""+u,d=mf("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=g_(o[2],i),d.length<s[4].length&&(d=Yo(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=x_(l,Math.pow(10,i)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?X6(o[1],i)+s[2]+"/"+s[3]+g_(o[2],i):As(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=pg(r,0),t.length<=a.length?a:Yo(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,m=t.length-a.length-f;return Yo(t.substr(0,f)+a+t.substr(t.length-m))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=N7(r,s[1].length),r<0?"-"+Yc(e,t,-r):r0(Abe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?ed(0,3-x.length):"")+x})+"."+ed(i,s[1].length);switch(t){case"###,##0.00":return Yc(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=r0(pg(l,0));return p!=="0"?u+p:"";case"###,###.00":return Yc(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Yc(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function fbe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return mf(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function hbe(e,t,r){var n=t.replace(fY,""),a=t.length-n.length;return mf(e,n,r*Math.pow(10,2*a))+As("%",a)}function xY(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+xY(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Kd(e,t,r){if(e.charCodeAt(0)===40&&!t.match(gY)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Kd("n",n,r):"("+Kd("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return fbe(e,t,r);if(t.indexOf("%")!==-1)return hbe(e,t,r);if(t.indexOf("E")!==-1)return xY(t,r);if(t.charCodeAt(0)===36)return"$"+Kd(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+ed(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Yo(t.substr(0,t.length-a.length))+a;if(s=t.match(mY))return ube(s,l,u);if(t.match(/^#+0+$/))return u+ed(l,t.length-t.indexOf("0"));if(s=t.match(pY))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Yo(s[1])).replace(/\.$/,"."+Yo(s[1])),a=a.replace(/\.(\d*)$/,function(x,g){return"."+g+As("0",Yo(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+r0(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Kd(e,t,-r):r0(""+r)+"."+As("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Kd(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=fv(Kd(e,t.replace(/[\\-]/g,""),r)),i=0,fv(fv(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return i<a.length?a.charAt(i++):x==="0"?"0":""}));if(t.match(vY))return a=Kd(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=x_(l,Math.pow(10,i)-1,!1),a=""+u,d=mf("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=g_(o[2],i),d.length<s[4].length&&(d=Yo(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=x_(l,Math.pow(10,i)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?X6(o[1],i)+s[2]+"/"+s[3]+g_(o[2],i):As(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Yo(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,m=t.length-a.length-f;return Yo(t.substr(0,f)+a+t.substr(t.length-m))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Kd(e,t,-r):r0(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?ed(0,3-x.length):"")+x})+"."+ed(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=r0(""+l);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return Kd(e,t.slice(0,t.lastIndexOf(".")),r)+Yo(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function mf(e,t,r){return(r|0)===r?Kd(e,t,r):Yc(e,t,r)}function mbe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var bY=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function dx(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":v_(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(bY))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function pbe(e,t,r,n){for(var a=[],s="",i=0,o="",l="t",u,d,f,m="H";i<e.length;)switch(o=e.charAt(i)){case"G":if(!v_(e,i))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(f=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++i;break;case"\\":var p=e.charAt(++i),x=p==="("||p===")"?p:"t";a[a.length]={t:x,v:p},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(u==null&&(u=Om(t,r,e.charAt(i+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},l=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Om(t,r),u==null))return"";for(s=o;++i<e.length&&e.charAt(i).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=m),a[a.length]={t:o,v:s},l=o;break;case"A":case"a":case"上":var g={t:o,v:o};if(u==null&&(u=Om(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",m="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",i+=5,m="h"):e.substr(i,5).toUpperCase()==="上午/下午"?(u!=null&&(g.v=u.H>=12?"下午":"上午"),g.t="T",i+=5,m="h"):(g.t="t",++i),u==null&&g.t==="T")return"";a[a.length]=g,l=o;break;case"[":for(s=o;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(bY)){if(u==null&&(u=Om(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",dx(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++i<e.length&&(o=e.charAt(i))==="0";)s+=o;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++i<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(i))>-1;)s+=o;a[a.length]={t:"n",v:s};break;case"?":for(s=o;e.charAt(++i)===o;)s+=o;a[a.length]={t:o,v:s},l=o;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:o,v:o},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++i;break}var b=0,y=0,_;for(i=a.length-1,l="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=m,l="h",b<1&&(b=1);break;case"s":(_=a[i].v.match(/\.0+$/))&&(y=Math.max(y,_[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":l=a[i].t;break;case"m":l==="s"&&(a[i].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&a[i].v.match(/[Hh]/)&&(b=1),b<2&&a[i].v.match(/[Mm]/)&&(b=2),b<3&&a[i].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var S="",I;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=ibe(a[i].t.charCodeAt(0),a[i].v,u,y),a[i].t="t";break;case"n":case"?":for(I=i+1;a[I]!=null&&((o=a[I].t)==="?"||o==="D"||(o===" "||o==="t")&&a[I+1]!=null&&(a[I+1].t==="?"||a[I+1].t==="t"&&a[I+1].v==="/")||a[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[I].v==="/"||a[I].v===" "&&a[I+1]!=null&&a[I+1].t=="?"));)a[i].v+=a[I].v,a[I]={v:"",t:";"},++I;S+=a[i].v,i=I-1;break;case"G":a[i].t="t",a[i].v=up(t,r);break}var T="",F,w;if(S.length>0){S.charCodeAt(0)==40?(F=t<0&&S.charCodeAt(0)===45?-t:t,w=mf("n",S,F)):(F=t<0&&n>1?-t:t,w=mf("n",S,F),F<0&&a[0]&&a[0].t=="t"&&(w=w.substr(1),a[0].v="-"+a[0].v)),I=w.length-1;var C=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){C=i;break}var N=a.length;if(C===a.length&&w.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(I>=a[i].v.length-1?(I-=a[i].v.length,a[i].v=w.substr(I+1,a[i].v.length)):I<0?a[i].v="":(a[i].v=w.substr(0,I+1),I=-1),a[i].t="t",N=i);I>=0&&N<a.length&&(a[N].v=w.substr(0,I+1)+a[N].v)}else if(C!==a.length&&w.indexOf("E")===-1){for(I=w.indexOf(".")-1,i=C;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(d=a[i].v.indexOf(".")>-1&&i===C?a[i].v.indexOf(".")-1:a[i].v.length-1,T=a[i].v.substr(d+1);d>=0;--d)I>=0&&(a[i].v.charAt(d)==="0"||a[i].v.charAt(d)==="#")&&(T=w.charAt(I--)+T);a[i].v=T,a[i].t="t",N=i}for(I>=0&&N<a.length&&(a[N].v=w.substr(0,I+1)+a[N].v),I=w.indexOf(".")+1,i=C;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==C)){for(d=a[i].v.indexOf(".")>-1&&i===C?a[i].v.indexOf(".")+1:0,T=a[i].v.substr(0,d);d<a[i].v.length;++d)I<w.length&&(T+=w.charAt(I++));a[i].v=T,a[i].t="t",N=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(F=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=mf(a[i].t,a[i].v,F),a[i].t="t");var R="";for(i=0;i!==a.length;++i)a[i]!=null&&(R+=a[i].v);return R}var B7=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function k7(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function gbe(e,t){var r=mbe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(B7),o=r[1].match(B7);return k7(t,i)?[n,r[0]]:k7(t,o)?[n,r[1]]:[n,r[i!=null&&o!=null?2:1]]}return[n,s]}function mu(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Tr)[e],n==null&&(n=r.table&&r.table[_7[e]]||Tr[_7[e]]),n==null&&(n=Z1e[e]||"General");break}if(v_(n,0))return up(t,r);t instanceof Date&&(t=AY(t,r.date1904));var a=gbe(n,t);if(v_(a[1]))return up(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return pbe(a[1],t,r,a[0])}function pf(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Tr[r]==null){t<0&&(t=r);continue}if(Tr[r]==e){t=r;break}}t<0&&(t=391)}return Tr[t]=e,t}function B5(e){for(var t=0;t!=392;++t)e[t]!==void 0&&pf(e[t],t)}function Ax(){Tr=J1e()}var vbe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},yY=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function xbe(e){var t=typeof e=="number"?Tr[e]:e;return t=t.replace(yY,"(\\d+)"),new RegExp("^"+t+"$")}function bbe(e,t,r){var n=-1,a=-1,s=-1,i=-1,o=-1,l=-1;(t.match(yY)||[]).forEach(function(f,m){var p=parseInt(r[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":s=p;break;case"h":i=p;break;case"s":l=p;break;case"m":i>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return i==-1&&o==-1&&l==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var ybe=function(){var e={};e.version="1.2.0";function t(){for(var w=0,C=new Array(256),N=0;N!=256;++N)w=N,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,C[N]=w;return typeof Int32Array<"u"?new Int32Array(C):C}var r=t();function n(w){var C=0,N=0,R=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)D[R]=w[R];for(R=0;R!=256;++R)for(N=w[R],C=256+R;C<4096;C+=256)N=D[C]=N>>>8^w[N&255];var O=[];for(R=1;R!=16;++R)O[R-1]=typeof Int32Array<"u"?D.subarray(R*256,R*256+256):D.slice(R*256,R*256+256);return O}var a=n(r),s=a[0],i=a[1],o=a[2],l=a[3],u=a[4],d=a[5],f=a[6],m=a[7],p=a[8],x=a[9],g=a[10],b=a[11],y=a[12],_=a[13],S=a[14];function I(w,C){for(var N=C^-1,R=0,D=w.length;R<D;)N=N>>>8^r[(N^w.charCodeAt(R++))&255];return~N}function T(w,C){for(var N=C^-1,R=w.length-15,D=0;D<R;)N=S[w[D++]^N&255]^_[w[D++]^N>>8&255]^y[w[D++]^N>>16&255]^b[w[D++]^N>>>24]^g[w[D++]]^x[w[D++]]^p[w[D++]]^m[w[D++]]^f[w[D++]]^d[w[D++]]^u[w[D++]]^l[w[D++]]^o[w[D++]]^i[w[D++]]^s[w[D++]]^r[w[D++]];for(R+=15;D<R;)N=N>>>8^r[(N^w[D++])&255];return~N}function F(w,C){for(var N=C^-1,R=0,D=w.length,O=0,M=0;R<D;)O=w.charCodeAt(R++),O<128?N=N>>>8^r[(N^O)&255]:O<2048?(N=N>>>8^r[(N^(192|O>>6&31))&255],N=N>>>8^r[(N^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,M=w.charCodeAt(R++)&1023,N=N>>>8^r[(N^(240|O>>8&7))&255],N=N>>>8^r[(N^(128|O>>2&63))&255],N=N>>>8^r[(N^(128|M>>6&15|(O&3)<<4))&255],N=N>>>8^r[(N^(128|M&63))&255]):(N=N>>>8^r[(N^(224|O>>12&15))&255],N=N>>>8^r[(N^(128|O>>6&63))&255],N=N>>>8^r[(N^(128|O&63))&255]);return~N}return e.table=r,e.bstr=I,e.buf=T,e.str=F,e}(),vr=function(){var t={};t.version="1.2.1";function r(Ae,Se){for(var we=Ae.split("/"),Ee=Se.split("/"),Ce=0,Ne=0,We=Math.min(we.length,Ee.length);Ce<We;++Ce){if(Ne=we[Ce].length-Ee[Ce].length)return Ne;if(we[Ce]!=Ee[Ce])return we[Ce]<Ee[Ce]?-1:1}return we.length-Ee.length}function n(Ae){if(Ae.charAt(Ae.length-1)=="/")return Ae.slice(0,-1).indexOf("/")===-1?Ae:n(Ae.slice(0,-1));var Se=Ae.lastIndexOf("/");return Se===-1?Ae:Ae.slice(0,Se+1)}function a(Ae){if(Ae.charAt(Ae.length-1)=="/")return a(Ae.slice(0,-1));var Se=Ae.lastIndexOf("/");return Se===-1?Ae:Ae.slice(Se+1)}function s(Ae,Se){typeof Se=="string"&&(Se=new Date(Se));var we=Se.getHours();we=we<<6|Se.getMinutes(),we=we<<5|Se.getSeconds()>>>1,Ae.write_shift(2,we);var Ee=Se.getFullYear()-1980;Ee=Ee<<4|Se.getMonth()+1,Ee=Ee<<5|Se.getDate(),Ae.write_shift(2,Ee)}function i(Ae){var Se=Ae.read_shift(2)&65535,we=Ae.read_shift(2)&65535,Ee=new Date,Ce=we&31;we>>>=5;var Ne=we&15;we>>>=4,Ee.setMilliseconds(0),Ee.setFullYear(we+1980),Ee.setMonth(Ne-1),Ee.setDate(Ce);var We=Se&31;Se>>>=5;var st=Se&63;return Se>>>=6,Ee.setHours(Se),Ee.setMinutes(st),Ee.setSeconds(We<<1),Ee}function o(Ae){to(Ae,0);for(var Se={},we=0;Ae.l<=Ae.length-4;){var Ee=Ae.read_shift(2),Ce=Ae.read_shift(2),Ne=Ae.l+Ce,We={};switch(Ee){case 21589:we=Ae.read_shift(1),we&1&&(We.mtime=Ae.read_shift(4)),Ce>5&&(we&2&&(We.atime=Ae.read_shift(4)),we&4&&(We.ctime=Ae.read_shift(4))),We.mtime&&(We.mt=new Date(We.mtime*1e3));break}Ae.l=Ne,Se[Ee]=We}return Se}var l;function u(){return l||(l={})}function d(Ae,Se){if(Ae[0]==80&&Ae[1]==75)return Qr(Ae,Se);if((Ae[0]|32)==109&&(Ae[1]|32)==105)return ai(Ae,Se);if(Ae.length<512)throw new Error("CFB file size "+Ae.length+" < 512");var we=3,Ee=512,Ce=0,Ne=0,We=0,st=0,$e=0,Je=[],tt=Ae.slice(0,512);to(tt,0);var wt=f(tt);switch(we=wt[0],we){case 3:Ee=512;break;case 4:Ee=4096;break;case 0:if(wt[1]==0)return Qr(Ae,Se);default:throw new Error("Major Version: Expected 3 or 4 saw "+we)}Ee!==512&&(tt=Ae.slice(0,Ee),to(tt,28));var Ot=Ae.slice(0,Ee);m(tt,we);var Vt=tt.read_shift(4,"i");if(we===3&&Vt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Vt);tt.l+=4,We=tt.read_shift(4,"i"),tt.l+=4,tt.chk("00100000","Mini Stream Cutoff Size: "),st=tt.read_shift(4,"i"),Ce=tt.read_shift(4,"i"),$e=tt.read_shift(4,"i"),Ne=tt.read_shift(4,"i");for(var jt=-1,Lt=0;Lt<109&&(jt=tt.read_shift(4,"i"),!(jt<0));++Lt)Je[Lt]=jt;var yr=p(Ae,Ee);b($e,Ne,yr,Ee,Je);var Wr=_(yr,We,Je,Ee);Wr[We].name="!Directory",Ce>0&&st!==M&&(Wr[st].name="!MiniFAT"),Wr[Je[0]].name="!FAT",Wr.fat_addrs=Je,Wr.ssz=Ee;var Xr={},en=[],ts=[],oo=[];S(We,Wr,yr,en,Ce,Xr,ts,st),x(ts,oo,en),en.shift();var rs={FileIndex:ts,FullPaths:oo};return Se&&Se.raw&&(rs.raw={header:Ot,sectors:yr}),rs}function f(Ae){if(Ae[Ae.l]==80&&Ae[Ae.l+1]==75)return[0,0];Ae.chk(Q,"Header Signature: "),Ae.l+=16;var Se=Ae.read_shift(2,"u");return[Ae.read_shift(2,"u"),Se]}function m(Ae,Se){var we=9;switch(Ae.l+=2,we=Ae.read_shift(2)){case 9:if(Se!=3)throw new Error("Sector Shift: Expected 9 saw "+we);break;case 12:if(Se!=4)throw new Error("Sector Shift: Expected 12 saw "+we);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+we)}Ae.chk("0600","Mini Sector Shift: "),Ae.chk("000000000000","Reserved: ")}function p(Ae,Se){for(var we=Math.ceil(Ae.length/Se)-1,Ee=[],Ce=1;Ce<we;++Ce)Ee[Ce-1]=Ae.slice(Ce*Se,(Ce+1)*Se);return Ee[we-1]=Ae.slice(we*Se),Ee}function x(Ae,Se,we){for(var Ee=0,Ce=0,Ne=0,We=0,st=0,$e=we.length,Je=[],tt=[];Ee<$e;++Ee)Je[Ee]=tt[Ee]=Ee,Se[Ee]=we[Ee];for(;st<tt.length;++st)Ee=tt[st],Ce=Ae[Ee].L,Ne=Ae[Ee].R,We=Ae[Ee].C,Je[Ee]===Ee&&(Ce!==-1&&Je[Ce]!==Ce&&(Je[Ee]=Je[Ce]),Ne!==-1&&Je[Ne]!==Ne&&(Je[Ee]=Je[Ne])),We!==-1&&(Je[We]=Ee),Ce!==-1&&Ee!=Je[Ee]&&(Je[Ce]=Je[Ee],tt.lastIndexOf(Ce)<st&&tt.push(Ce)),Ne!==-1&&Ee!=Je[Ee]&&(Je[Ne]=Je[Ee],tt.lastIndexOf(Ne)<st&&tt.push(Ne));for(Ee=1;Ee<$e;++Ee)Je[Ee]===Ee&&(Ne!==-1&&Je[Ne]!==Ne?Je[Ee]=Je[Ne]:Ce!==-1&&Je[Ce]!==Ce&&(Je[Ee]=Je[Ce]));for(Ee=1;Ee<$e;++Ee)if(Ae[Ee].type!==0){if(st=Ee,st!=Je[st])do st=Je[st],Se[Ee]=Se[st]+"/"+Se[Ee];while(st!==0&&Je[st]!==-1&&st!=Je[st]);Je[Ee]=-1}for(Se[0]+="/",Ee=1;Ee<$e;++Ee)Ae[Ee].type!==2&&(Se[Ee]+="/")}function g(Ae,Se,we){for(var Ee=Ae.start,Ce=Ae.size,Ne=[],We=Ee;we&&Ce>0&&We>=0;)Ne.push(Se.slice(We*O,We*O+O)),Ce-=O,We=km(we,We*4);return Ne.length===0?At(0):Di(Ne).slice(0,Ae.size)}function b(Ae,Se,we,Ee,Ce){var Ne=M;if(Ae===M){if(Se!==0)throw new Error("DIFAT chain shorter than expected")}else if(Ae!==-1){var We=we[Ae],st=(Ee>>>2)-1;if(!We)return;for(var $e=0;$e<st&&(Ne=km(We,$e*4))!==M;++$e)Ce.push(Ne);b(km(We,Ee-4),Se-1,we,Ee,Ce)}}function y(Ae,Se,we,Ee,Ce){var Ne=[],We=[];Ce||(Ce=[]);var st=Ee-1,$e=0,Je=0;for($e=Se;$e>=0;){Ce[$e]=!0,Ne[Ne.length]=$e,We.push(Ae[$e]);var tt=we[Math.floor($e*4/Ee)];if(Je=$e*4&st,Ee<4+Je)throw new Error("FAT boundary crossed: "+$e+" 4 "+Ee);if(!Ae[tt])break;$e=km(Ae[tt],Je)}return{nodes:Ne,data:Q7([We])}}function _(Ae,Se,we,Ee){var Ce=Ae.length,Ne=[],We=[],st=[],$e=[],Je=Ee-1,tt=0,wt=0,Ot=0,Vt=0;for(tt=0;tt<Ce;++tt)if(st=[],Ot=tt+Se,Ot>=Ce&&(Ot-=Ce),!We[Ot]){$e=[];var jt=[];for(wt=Ot;wt>=0;){jt[wt]=!0,We[wt]=!0,st[st.length]=wt,$e.push(Ae[wt]);var Lt=we[Math.floor(wt*4/Ee)];if(Vt=wt*4&Je,Ee<4+Vt)throw new Error("FAT boundary crossed: "+wt+" 4 "+Ee);if(!Ae[Lt]||(wt=km(Ae[Lt],Vt),jt[wt]))break}Ne[Ot]={nodes:st,data:Q7([$e])}}return Ne}function S(Ae,Se,we,Ee,Ce,Ne,We,st){for(var $e=0,Je=Ee.length?2:0,tt=Se[Ae].data,wt=0,Ot=0,Vt;wt<tt.length;wt+=128){var jt=tt.slice(wt,wt+128);to(jt,64),Ot=jt.read_shift(2),Vt=aO(jt,0,Ot-Je),Ee.push(Vt);var Lt={name:Vt,type:jt.read_shift(1),color:jt.read_shift(1),L:jt.read_shift(4,"i"),R:jt.read_shift(4,"i"),C:jt.read_shift(4,"i"),clsid:jt.read_shift(16),state:jt.read_shift(4,"i"),start:0,size:0},yr=jt.read_shift(2)+jt.read_shift(2)+jt.read_shift(2)+jt.read_shift(2);yr!==0&&(Lt.ct=I(jt,jt.l-8));var Wr=jt.read_shift(2)+jt.read_shift(2)+jt.read_shift(2)+jt.read_shift(2);Wr!==0&&(Lt.mt=I(jt,jt.l-8)),Lt.start=jt.read_shift(4,"i"),Lt.size=jt.read_shift(4,"i"),Lt.size<0&&Lt.start<0&&(Lt.size=Lt.type=0,Lt.start=M,Lt.name=""),Lt.type===5?($e=Lt.start,Ce>0&&$e!==M&&(Se[$e].name="!StreamData")):Lt.size>=4096?(Lt.storage="fat",Se[Lt.start]===void 0&&(Se[Lt.start]=y(we,Lt.start,Se.fat_addrs,Se.ssz)),Se[Lt.start].name=Lt.name,Lt.content=Se[Lt.start].data.slice(0,Lt.size)):(Lt.storage="minifat",Lt.size<0?Lt.size=0:$e!==M&&Lt.start!==M&&Se[$e]&&(Lt.content=g(Lt,Se[$e].data,(Se[st]||{}).data))),Lt.content&&to(Lt.content,0),Ne[Vt]=Lt,We.push(Lt)}}function I(Ae,Se){return new Date((oc(Ae,Se+4)/1e7*Math.pow(2,32)+oc(Ae,Se)/1e7-11644473600)*1e3)}function T(Ae,Se){return u(),d(l.readFileSync(Ae),Se)}function F(Ae,Se){var we=Se&&Se.type;switch(we||an&&Buffer.isBuffer(Ae)&&(we="buffer"),we||"base64"){case"file":return T(Ae,Se);case"base64":return d(cc(gc(Ae)),Se);case"binary":return d(cc(Ae),Se)}return d(Ae,Se)}function w(Ae,Se){var we=Se||{},Ee=we.root||"Root Entry";if(Ae.FullPaths||(Ae.FullPaths=[]),Ae.FileIndex||(Ae.FileIndex=[]),Ae.FullPaths.length!==Ae.FileIndex.length)throw new Error("inconsistent CFB structure");Ae.FullPaths.length===0&&(Ae.FullPaths[0]=Ee+"/",Ae.FileIndex[0]={name:Ee,type:5}),we.CLSID&&(Ae.FileIndex[0].clsid=we.CLSID),C(Ae)}function C(Ae){var Se="Sh33tJ5";if(!vr.find(Ae,"/"+Se)){var we=At(4);we[0]=55,we[1]=we[3]=50,we[2]=54,Ae.FileIndex.push({name:Se,type:2,content:we,size:4,L:69,R:69,C:69}),Ae.FullPaths.push(Ae.FullPaths[0]+Se),N(Ae)}}function N(Ae,Se){w(Ae);for(var we=!1,Ee=!1,Ce=Ae.FullPaths.length-1;Ce>=0;--Ce){var Ne=Ae.FileIndex[Ce];switch(Ne.type){case 0:Ee?we=!0:(Ae.FileIndex.pop(),Ae.FullPaths.pop());break;case 1:case 2:case 5:Ee=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(we=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(we=!0);break;default:we=!0;break}}if(!(!we&&!Se)){var We=new Date(1987,1,19),st=0,$e=Object.create?Object.create(null):{},Je=[];for(Ce=0;Ce<Ae.FullPaths.length;++Ce)$e[Ae.FullPaths[Ce]]=!0,Ae.FileIndex[Ce].type!==0&&Je.push([Ae.FullPaths[Ce],Ae.FileIndex[Ce]]);for(Ce=0;Ce<Je.length;++Ce){var tt=n(Je[Ce][0]);Ee=$e[tt],Ee||(Je.push([tt,{name:a(tt).replace("/",""),type:1,clsid:W,ct:We,mt:We,content:null}]),$e[tt]=!0)}for(Je.sort(function(Vt,jt){return r(Vt[0],jt[0])}),Ae.FullPaths=[],Ae.FileIndex=[],Ce=0;Ce<Je.length;++Ce)Ae.FullPaths[Ce]=Je[Ce][0],Ae.FileIndex[Ce]=Je[Ce][1];for(Ce=0;Ce<Je.length;++Ce){var wt=Ae.FileIndex[Ce],Ot=Ae.FullPaths[Ce];if(wt.name=a(Ot).replace("/",""),wt.L=wt.R=wt.C=-(wt.color=1),wt.size=wt.content?wt.content.length:0,wt.start=0,wt.clsid=wt.clsid||W,Ce===0)wt.C=Je.length>1?1:-1,wt.size=0,wt.type=5;else if(Ot.slice(-1)=="/"){for(st=Ce+1;st<Je.length&&n(Ae.FullPaths[st])!=Ot;++st);for(wt.C=st>=Je.length?-1:st,st=Ce+1;st<Je.length&&n(Ae.FullPaths[st])!=n(Ot);++st);wt.R=st>=Je.length?-1:st,wt.type=1}else n(Ae.FullPaths[Ce+1]||"")==n(Ot)&&(wt.R=Ce+1),wt.type=2}}}function R(Ae,Se){var we=Se||{};if(we.fileType=="mad")return qt(Ae,we);switch(N(Ae),we.fileType){case"zip":return Zn(Ae,we)}var Ee=function(Vt){for(var jt=0,Lt=0,yr=0;yr<Vt.FileIndex.length;++yr){var Wr=Vt.FileIndex[yr];if(Wr.content){var Xr=Wr.content.length;Xr>0&&(Xr<4096?jt+=Xr+63>>6:Lt+=Xr+511>>9)}}for(var en=Vt.FullPaths.length+3>>2,ts=jt+7>>3,oo=jt+127>>7,rs=ts+Lt+en+oo,Us=rs+127>>7,ys=Us<=109?0:Math.ceil((Us-109)/127);rs+Us+ys+127>>7>Us;)ys=++Us<=109?0:Math.ceil((Us-109)/127);var si=[1,ys,Us,oo,en,Lt,jt,0];return Vt.FileIndex[0].size=jt<<6,si[7]=(Vt.FileIndex[0].start=si[0]+si[1]+si[2]+si[3]+si[4]+si[5])+(si[6]+7>>3),si}(Ae),Ce=At(Ee[7]<<9),Ne=0,We=0;{for(Ne=0;Ne<8;++Ne)Ce.write_shift(1,ee[Ne]);for(Ne=0;Ne<8;++Ne)Ce.write_shift(2,0);for(Ce.write_shift(2,62),Ce.write_shift(2,3),Ce.write_shift(2,65534),Ce.write_shift(2,9),Ce.write_shift(2,6),Ne=0;Ne<3;++Ne)Ce.write_shift(2,0);for(Ce.write_shift(4,0),Ce.write_shift(4,Ee[2]),Ce.write_shift(4,Ee[0]+Ee[1]+Ee[2]+Ee[3]-1),Ce.write_shift(4,0),Ce.write_shift(4,4096),Ce.write_shift(4,Ee[3]?Ee[0]+Ee[1]+Ee[2]-1:M),Ce.write_shift(4,Ee[3]),Ce.write_shift(-4,Ee[1]?Ee[0]-1:M),Ce.write_shift(4,Ee[1]),Ne=0;Ne<109;++Ne)Ce.write_shift(-4,Ne<Ee[2]?Ee[1]+Ne:-1)}if(Ee[1])for(We=0;We<Ee[1];++We){for(;Ne<236+We*127;++Ne)Ce.write_shift(-4,Ne<Ee[2]?Ee[1]+Ne:-1);Ce.write_shift(-4,We===Ee[1]-1?M:We+1)}var st=function(Vt){for(We+=Vt;Ne<We-1;++Ne)Ce.write_shift(-4,Ne+1);Vt&&(++Ne,Ce.write_shift(-4,M))};for(We=Ne=0,We+=Ee[1];Ne<We;++Ne)Ce.write_shift(-4,Z.DIFSECT);for(We+=Ee[2];Ne<We;++Ne)Ce.write_shift(-4,Z.FATSECT);st(Ee[3]),st(Ee[4]);for(var $e=0,Je=0,tt=Ae.FileIndex[0];$e<Ae.FileIndex.length;++$e)tt=Ae.FileIndex[$e],tt.content&&(Je=tt.content.length,!(Je<4096)&&(tt.start=We,st(Je+511>>9)));for(st(Ee[6]+7>>3);Ce.l&511;)Ce.write_shift(-4,Z.ENDOFCHAIN);for(We=Ne=0,$e=0;$e<Ae.FileIndex.length;++$e)tt=Ae.FileIndex[$e],tt.content&&(Je=tt.content.length,!(!Je||Je>=4096)&&(tt.start=We,st(Je+63>>6)));for(;Ce.l&511;)Ce.write_shift(-4,Z.ENDOFCHAIN);for(Ne=0;Ne<Ee[4]<<2;++Ne){var wt=Ae.FullPaths[Ne];if(!wt||wt.length===0){for($e=0;$e<17;++$e)Ce.write_shift(4,0);for($e=0;$e<3;++$e)Ce.write_shift(4,-1);for($e=0;$e<12;++$e)Ce.write_shift(4,0);continue}tt=Ae.FileIndex[Ne],Ne===0&&(tt.start=tt.size?tt.start-1:M);var Ot=Ne===0&&we.root||tt.name;if(Je=2*(Ot.length+1),Ce.write_shift(64,Ot,"utf16le"),Ce.write_shift(2,Je),Ce.write_shift(1,tt.type),Ce.write_shift(1,tt.color),Ce.write_shift(-4,tt.L),Ce.write_shift(-4,tt.R),Ce.write_shift(-4,tt.C),tt.clsid)Ce.write_shift(16,tt.clsid,"hex");else for($e=0;$e<4;++$e)Ce.write_shift(4,0);Ce.write_shift(4,tt.state||0),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce.write_shift(4,tt.start),Ce.write_shift(4,tt.size),Ce.write_shift(4,0)}for(Ne=1;Ne<Ae.FileIndex.length;++Ne)if(tt=Ae.FileIndex[Ne],tt.size>=4096)if(Ce.l=tt.start+1<<9,an&&Buffer.isBuffer(tt.content))tt.content.copy(Ce,Ce.l,0,tt.size),Ce.l+=tt.size+511&-512;else{for($e=0;$e<tt.size;++$e)Ce.write_shift(1,tt.content[$e]);for(;$e&511;++$e)Ce.write_shift(1,0)}for(Ne=1;Ne<Ae.FileIndex.length;++Ne)if(tt=Ae.FileIndex[Ne],tt.size>0&&tt.size<4096)if(an&&Buffer.isBuffer(tt.content))tt.content.copy(Ce,Ce.l,0,tt.size),Ce.l+=tt.size+63&-64;else{for($e=0;$e<tt.size;++$e)Ce.write_shift(1,tt.content[$e]);for(;$e&63;++$e)Ce.write_shift(1,0)}if(an)Ce.l=Ce.length;else for(;Ce.l<Ce.length;)Ce.write_shift(1,0);return Ce}function D(Ae,Se){var we=Ae.FullPaths.map(function($e){return $e.toUpperCase()}),Ee=we.map(function($e){var Je=$e.split("/");return Je[Je.length-($e.slice(-1)=="/"?2:1)]}),Ce=!1;Se.charCodeAt(0)===47?(Ce=!0,Se=we[0].slice(0,-1)+Se):Ce=Se.indexOf("/")!==-1;var Ne=Se.toUpperCase(),We=Ce===!0?we.indexOf(Ne):Ee.indexOf(Ne);if(We!==-1)return Ae.FileIndex[We];var st=!Ne.match(J1);for(Ne=Ne.replace(al,""),st&&(Ne=Ne.replace(J1,"!")),We=0;We<we.length;++We)if((st?we[We].replace(J1,"!"):we[We]).replace(al,"")==Ne||(st?Ee[We].replace(J1,"!"):Ee[We]).replace(al,"")==Ne)return Ae.FileIndex[We];return null}var O=64,M=-2,Q="d0cf11e0a1b11ae1",ee=[208,207,17,224,161,177,26,225],W="00000000000000000000000000000000",Z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:Q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:W,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function V(Ae,Se,we){u();var Ee=R(Ae,we);l.writeFileSync(Se,Ee)}function q(Ae){for(var Se=new Array(Ae.length),we=0;we<Ae.length;++we)Se[we]=String.fromCharCode(Ae[we]);return Se.join("")}function K(Ae,Se){var we=R(Ae,Se);switch(Se&&Se.type||"buffer"){case"file":return u(),l.writeFileSync(Se.filename,we),we;case"binary":return typeof we=="string"?we:q(we);case"base64":return ty(typeof we=="string"?we:q(we));case"buffer":if(an)return Buffer.isBuffer(we)?we:Hf(we);case"array":return typeof we=="string"?cc(we):we}return we}var J;function P(Ae){try{var Se=Ae.InflateRaw,we=new Se;if(we._processChunk(new Uint8Array([3,0]),we._finishFlushFlag),we.bytesRead)J=Ae;else throw new Error("zlib does not expose bytesRead")}catch(Ee){console.error("cannot use native zlib: "+(Ee.message||Ee))}}function G(Ae,Se){if(!J)return dr(Ae,Se);var we=J.InflateRaw,Ee=new we,Ce=Ee._processChunk(Ae.slice(Ae.l),Ee._finishFlushFlag);return Ae.l+=Ee.bytesRead,Ce}function Y(Ae){return J?J.deflateRawSync(Ae):Pe(Ae)}var re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],de=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function me(Ae){var Se=(Ae<<1|Ae<<11)&139536|(Ae<<5|Ae<<15)&558144;return(Se>>16|Se>>8|Se)&255}for(var ue=typeof Uint8Array<"u",ye=ue?new Uint8Array(256):[],Ie=0;Ie<256;++Ie)ye[Ie]=me(Ie);function ne(Ae,Se){var we=ye[Ae&255];return Se<=8?we>>>8-Se:(we=we<<8|ye[Ae>>8&255],Se<=16?we>>>16-Se:(we=we<<8|ye[Ae>>16&255],we>>>24-Se))}function Fe(Ae,Se){var we=Se&7,Ee=Se>>>3;return(Ae[Ee]|(we<=6?0:Ae[Ee+1]<<8))>>>we&3}function Le(Ae,Se){var we=Se&7,Ee=Se>>>3;return(Ae[Ee]|(we<=5?0:Ae[Ee+1]<<8))>>>we&7}function ke(Ae,Se){var we=Se&7,Ee=Se>>>3;return(Ae[Ee]|(we<=4?0:Ae[Ee+1]<<8))>>>we&15}function pe(Ae,Se){var we=Se&7,Ee=Se>>>3;return(Ae[Ee]|(we<=3?0:Ae[Ee+1]<<8))>>>we&31}function je(Ae,Se){var we=Se&7,Ee=Se>>>3;return(Ae[Ee]|(we<=1?0:Ae[Ee+1]<<8))>>>we&127}function He(Ae,Se,we){var Ee=Se&7,Ce=Se>>>3,Ne=(1<<we)-1,We=Ae[Ce]>>>Ee;return we<8-Ee||(We|=Ae[Ce+1]<<8-Ee,we<16-Ee)||(We|=Ae[Ce+2]<<16-Ee,we<24-Ee)||(We|=Ae[Ce+3]<<24-Ee),We&Ne}function Xe(Ae,Se,we){var Ee=Se&7,Ce=Se>>>3;return Ee<=5?Ae[Ce]|=(we&7)<<Ee:(Ae[Ce]|=we<<Ee&255,Ae[Ce+1]=(we&7)>>8-Ee),Se+3}function dt(Ae,Se,we){var Ee=Se&7,Ce=Se>>>3;return we=(we&1)<<Ee,Ae[Ce]|=we,Se+1}function Et(Ae,Se,we){var Ee=Se&7,Ce=Se>>>3;return we<<=Ee,Ae[Ce]|=we&255,we>>>=8,Ae[Ce+1]=we,Se+8}function Tt(Ae,Se,we){var Ee=Se&7,Ce=Se>>>3;return we<<=Ee,Ae[Ce]|=we&255,we>>>=8,Ae[Ce+1]=we&255,Ae[Ce+2]=we>>>8,Se+16}function Ct(Ae,Se){var we=Ae.length,Ee=2*we>Se?2*we:Se+5,Ce=0;if(we>=Se)return Ae;if(an){var Ne=w7(Ee);if(Ae.copy)Ae.copy(Ne);else for(;Ce<Ae.length;++Ce)Ne[Ce]=Ae[Ce];return Ne}else if(ue){var We=new Uint8Array(Ee);if(We.set)We.set(Ae);else for(;Ce<we;++Ce)We[Ce]=Ae[Ce];return We}return Ae.length=Ee,Ae}function Dt(Ae){for(var Se=new Array(Ae),we=0;we<Ae;++we)Se[we]=0;return Se}function Jt(Ae,Se,we){var Ee=1,Ce=0,Ne=0,We=0,st=0,$e=Ae.length,Je=ue?new Uint16Array(32):Dt(32);for(Ne=0;Ne<32;++Ne)Je[Ne]=0;for(Ne=$e;Ne<we;++Ne)Ae[Ne]=0;$e=Ae.length;var tt=ue?new Uint16Array($e):Dt($e);for(Ne=0;Ne<$e;++Ne)Je[Ce=Ae[Ne]]++,Ee<Ce&&(Ee=Ce),tt[Ne]=0;for(Je[0]=0,Ne=1;Ne<=Ee;++Ne)Je[Ne+16]=st=st+Je[Ne-1]<<1;for(Ne=0;Ne<$e;++Ne)st=Ae[Ne],st!=0&&(tt[Ne]=Je[st+16]++);var wt=0;for(Ne=0;Ne<$e;++Ne)if(wt=Ae[Ne],wt!=0)for(st=ne(tt[Ne],Ee)>>Ee-wt,We=(1<<Ee+4-wt)-1;We>=0;--We)Se[st|We<<wt]=wt&15|Ne<<4;return Ee}var Pt=ue?new Uint16Array(512):Dt(512),Mt=ue?new Uint16Array(32):Dt(32);if(!ue){for(var Wt=0;Wt<512;++Wt)Pt[Wt]=0;for(Wt=0;Wt<32;++Wt)Mt[Wt]=0}(function(){for(var Ae=[],Se=0;Se<32;Se++)Ae.push(5);Jt(Ae,Mt,32);var we=[];for(Se=0;Se<=143;Se++)we.push(8);for(;Se<=255;Se++)we.push(9);for(;Se<=279;Se++)we.push(7);for(;Se<=287;Se++)we.push(8);Jt(we,Pt,288)})();var De=function(){for(var Se=ue?new Uint8Array(32768):[],we=0,Ee=0;we<de.length-1;++we)for(;Ee<de[we+1];++Ee)Se[Ee]=we;for(;Ee<32768;++Ee)Se[Ee]=29;var Ce=ue?new Uint8Array(259):[];for(we=0,Ee=0;we<ie.length-1;++we)for(;Ee<ie[we+1];++Ee)Ce[Ee]=we;function Ne(st,$e){for(var Je=0;Je<st.length;){var tt=Math.min(65535,st.length-Je),wt=Je+tt==st.length;for($e.write_shift(1,+wt),$e.write_shift(2,tt),$e.write_shift(2,~tt&65535);tt-- >0;)$e[$e.l++]=st[Je++]}return $e.l}function We(st,$e){for(var Je=0,tt=0,wt=ue?new Uint16Array(32768):[];tt<st.length;){var Ot=Math.min(65535,st.length-tt);if(Ot<10){for(Je=Xe($e,Je,+(tt+Ot==st.length)),Je&7&&(Je+=8-(Je&7)),$e.l=Je/8|0,$e.write_shift(2,Ot),$e.write_shift(2,~Ot&65535);Ot-- >0;)$e[$e.l++]=st[tt++];Je=$e.l*8;continue}Je=Xe($e,Je,+(tt+Ot==st.length)+2);for(var Vt=0;Ot-- >0;){var jt=st[tt];Vt=(Vt<<5^jt)&32767;var Lt=-1,yr=0;if((Lt=wt[Vt])&&(Lt|=tt&-32768,Lt>tt&&(Lt-=32768),Lt<tt))for(;st[Lt+yr]==st[tt+yr]&&yr<250;)++yr;if(yr>2){jt=Ce[yr],jt<=22?Je=Et($e,Je,ye[jt+1]>>1)-1:(Et($e,Je,3),Je+=5,Et($e,Je,ye[jt-23]>>5),Je+=3);var Wr=jt<8?0:jt-4>>2;Wr>0&&(Tt($e,Je,yr-ie[jt]),Je+=Wr),jt=Se[tt-Lt],Je=Et($e,Je,ye[jt]>>3),Je-=3;var Xr=jt<4?0:jt-2>>1;Xr>0&&(Tt($e,Je,tt-Lt-de[jt]),Je+=Xr);for(var en=0;en<yr;++en)wt[Vt]=tt&32767,Vt=(Vt<<5^st[tt])&32767,++tt;Ot-=yr-1}else jt<=143?jt=jt+48:Je=dt($e,Je,1),Je=Et($e,Je,ye[jt]),wt[Vt]=tt&32767,++tt}Je=Et($e,Je,0)-1}return $e.l=(Je+7)/8|0,$e.l}return function($e,Je){return $e.length<8?Ne($e,Je):We($e,Je)}}();function Pe(Ae){var Se=At(50+Math.floor(Ae.length*1.1)),we=De(Ae,Se);return Se.slice(0,we)}var Be=ue?new Uint16Array(32768):Dt(32768),ot=ue?new Uint16Array(32768):Dt(32768),vt=ue?new Uint16Array(128):Dt(128),ur=1,Gt=1;function Rt(Ae,Se){var we=pe(Ae,Se)+257;Se+=5;var Ee=pe(Ae,Se)+1;Se+=5;var Ce=ke(Ae,Se)+4;Se+=4;for(var Ne=0,We=ue?new Uint8Array(19):Dt(19),st=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],$e=1,Je=ue?new Uint8Array(8):Dt(8),tt=ue?new Uint8Array(8):Dt(8),wt=We.length,Ot=0;Ot<Ce;++Ot)We[re[Ot]]=Ne=Le(Ae,Se),$e<Ne&&($e=Ne),Je[Ne]++,Se+=3;var Vt=0;for(Je[0]=0,Ot=1;Ot<=$e;++Ot)tt[Ot]=Vt=Vt+Je[Ot-1]<<1;for(Ot=0;Ot<wt;++Ot)(Vt=We[Ot])!=0&&(st[Ot]=tt[Vt]++);var jt=0;for(Ot=0;Ot<wt;++Ot)if(jt=We[Ot],jt!=0){Vt=ye[st[Ot]]>>8-jt;for(var Lt=(1<<7-jt)-1;Lt>=0;--Lt)vt[Vt|Lt<<jt]=jt&7|Ot<<3}var yr=[];for($e=1;yr.length<we+Ee;)switch(Vt=vt[je(Ae,Se)],Se+=Vt&7,Vt>>>=3){case 16:for(Ne=3+Fe(Ae,Se),Se+=2,Vt=yr[yr.length-1];Ne-- >0;)yr.push(Vt);break;case 17:for(Ne=3+Le(Ae,Se),Se+=3;Ne-- >0;)yr.push(0);break;case 18:for(Ne=11+je(Ae,Se),Se+=7;Ne-- >0;)yr.push(0);break;default:yr.push(Vt),$e<Vt&&($e=Vt);break}var Wr=yr.slice(0,we),Xr=yr.slice(we);for(Ot=we;Ot<286;++Ot)Wr[Ot]=0;for(Ot=Ee;Ot<30;++Ot)Xr[Ot]=0;return ur=Jt(Wr,Be,286),Gt=Jt(Xr,ot,30),Se}function Vr(Ae,Se){if(Ae[0]==3&&!(Ae[1]&3))return[T0(Se),2];for(var we=0,Ee=0,Ce=w7(Se||1<<18),Ne=0,We=Ce.length>>>0,st=0,$e=0;(Ee&1)==0;){if(Ee=Le(Ae,we),we+=3,Ee>>>1)Ee>>1==1?(st=9,$e=5):(we=Rt(Ae,we),st=ur,$e=Gt);else{we&7&&(we+=8-(we&7));var Je=Ae[we>>>3]|Ae[(we>>>3)+1]<<8;if(we+=32,Je>0)for(!Se&&We<Ne+Je&&(Ce=Ct(Ce,Ne+Je),We=Ce.length);Je-- >0;)Ce[Ne++]=Ae[we>>>3],we+=8;continue}for(;;){!Se&&We<Ne+32767&&(Ce=Ct(Ce,Ne+32767),We=Ce.length);var tt=He(Ae,we,st),wt=Ee>>>1==1?Pt[tt]:Be[tt];if(we+=wt&15,wt>>>=4,(wt>>>8&255)===0)Ce[Ne++]=wt;else{if(wt==256)break;wt-=257;var Ot=wt<8?0:wt-4>>2;Ot>5&&(Ot=0);var Vt=Ne+ie[wt];Ot>0&&(Vt+=He(Ae,we,Ot),we+=Ot),tt=He(Ae,we,$e),wt=Ee>>>1==1?Mt[tt]:ot[tt],we+=wt&15,wt>>>=4;var jt=wt<4?0:wt-2>>1,Lt=de[wt];for(jt>0&&(Lt+=He(Ae,we,jt),we+=jt),!Se&&We<Vt&&(Ce=Ct(Ce,Vt+100),We=Ce.length);Ne<Vt;)Ce[Ne]=Ce[Ne-Lt],++Ne}}}return Se?[Ce,we+7>>>3]:[Ce.slice(0,Ne),we+7>>>3]}function dr(Ae,Se){var we=Ae.slice(Ae.l||0),Ee=Vr(we,Se);return Ae.l+=Ee[1],Ee[0]}function yn(Ae,Se){if(Ae)typeof console<"u"&&console.error(Se);else throw new Error(Se)}function Qr(Ae,Se){var we=Ae;to(we,0);var Ee=[],Ce=[],Ne={FileIndex:Ee,FullPaths:Ce};w(Ne,{root:Se.root});for(var We=we.length-4;(we[We]!=80||we[We+1]!=75||we[We+2]!=5||we[We+3]!=6)&&We>=0;)--We;we.l=We+4,we.l+=4;var st=we.read_shift(2);we.l+=6;var $e=we.read_shift(4);for(we.l=$e,We=0;We<st;++We){we.l+=20;var Je=we.read_shift(4),tt=we.read_shift(4),wt=we.read_shift(2),Ot=we.read_shift(2),Vt=we.read_shift(2);we.l+=8;var jt=we.read_shift(4),Lt=o(we.slice(we.l+wt,we.l+wt+Ot));we.l+=wt+Ot+Vt;var yr=we.l;we.l=jt+4,kn(we,Je,tt,Ne,Lt),we.l=yr}return Ne}function kn(Ae,Se,we,Ee,Ce){Ae.l+=2;var Ne=Ae.read_shift(2),We=Ae.read_shift(2),st=i(Ae);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var $e=Ae.read_shift(4),Je=Ae.read_shift(4),tt=Ae.read_shift(4),wt=Ae.read_shift(2),Ot=Ae.read_shift(2),Vt="",jt=0;jt<wt;++jt)Vt+=String.fromCharCode(Ae[Ae.l++]);if(Ot){var Lt=o(Ae.slice(Ae.l,Ae.l+Ot));(Lt[21589]||{}).mt&&(st=Lt[21589].mt),((Ce||{})[21589]||{}).mt&&(st=Ce[21589].mt)}Ae.l+=Ot;var yr=Ae.slice(Ae.l,Ae.l+Je);switch(We){case 8:yr=G(Ae,tt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+We)}var Wr=!1;Ne&8&&($e=Ae.read_shift(4),$e==134695760&&($e=Ae.read_shift(4),Wr=!0),Je=Ae.read_shift(4),tt=Ae.read_shift(4)),Je!=Se&&yn(Wr,"Bad compressed size: "+Se+" != "+Je),tt!=we&&yn(Wr,"Bad uncompressed size: "+we+" != "+tt),An(Ee,Vt,yr,{unsafe:!0,mt:st})}function Zn(Ae,Se){var we=Se||{},Ee=[],Ce=[],Ne=At(1),We=we.compression?8:0,st=0,$e=0,Je=0,tt=0,wt=0,Ot=Ae.FullPaths[0],Vt=Ot,jt=Ae.FileIndex[0],Lt=[],yr=0;for($e=1;$e<Ae.FullPaths.length;++$e)if(Vt=Ae.FullPaths[$e].slice(Ot.length),jt=Ae.FileIndex[$e],!(!jt.size||!jt.content||Vt=="Sh33tJ5")){var Wr=tt,Xr=At(Vt.length);for(Je=0;Je<Vt.length;++Je)Xr.write_shift(1,Vt.charCodeAt(Je)&127);Xr=Xr.slice(0,Xr.l),Lt[wt]=ybe.buf(jt.content,0);var en=jt.content;We==8&&(en=Y(en)),Ne=At(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,st),Ne.write_shift(2,We),jt.mt?s(Ne,jt.mt):Ne.write_shift(4,0),Ne.write_shift(-4,Lt[wt]),Ne.write_shift(4,en.length),Ne.write_shift(4,jt.content.length),Ne.write_shift(2,Xr.length),Ne.write_shift(2,0),tt+=Ne.length,Ee.push(Ne),tt+=Xr.length,Ee.push(Xr),tt+=en.length,Ee.push(en),Ne=At(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,st),Ne.write_shift(2,We),Ne.write_shift(4,0),Ne.write_shift(-4,Lt[wt]),Ne.write_shift(4,en.length),Ne.write_shift(4,jt.content.length),Ne.write_shift(2,Xr.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,Wr),yr+=Ne.l,Ce.push(Ne),yr+=Xr.length,Ce.push(Xr),++wt}return Ne=At(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,wt),Ne.write_shift(2,wt),Ne.write_shift(4,yr),Ne.write_shift(4,tt),Ne.write_shift(2,0),Di([Di(Ee),Di(Ce),Ne])}var or={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Zt(Ae,Se){if(Ae.ctype)return Ae.ctype;var we=Ae.name||"",Ee=we.match(/\.([^\.]+)$/);return Ee&&or[Ee[1]]||Se&&(Ee=(we=Se).match(/[\.\\]([^\.\\])+$/),Ee&&or[Ee[1]])?or[Ee[1]]:"application/octet-stream"}function Kr(Ae){for(var Se=ty(Ae),we=[],Ee=0;Ee<Se.length;Ee+=76)we.push(Se.slice(Ee,Ee+76));return we.join(`\r
`)+`\r
`}function Ls(Ae){var Se=Ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Je){var tt=Je.charCodeAt(0).toString(16).toUpperCase();return"="+(tt.length==1?"0"+tt:tt)});Se=Se.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Se.charAt(0)==`
`&&(Se="=0D"+Se.slice(1)),Se=Se.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var we=[],Ee=Se.split(`\r
`),Ce=0;Ce<Ee.length;++Ce){var Ne=Ee[Ce];if(Ne.length==0){we.push("");continue}for(var We=0;We<Ne.length;){var st=76,$e=Ne.slice(We,We+st);$e.charAt(st-1)=="="?st--:$e.charAt(st-2)=="="?st-=2:$e.charAt(st-3)=="="&&(st-=3),$e=Ne.slice(We,We+st),We+=st,We<Ne.length&&($e+="="),we.push($e)}}return we.join(`\r
`)}function ua(Ae){for(var Se=[],we=0;we<Ae.length;++we){for(var Ee=Ae[we];we<=Ae.length&&Ee.charAt(Ee.length-1)=="=";)Ee=Ee.slice(0,Ee.length-1)+Ae[++we];Se.push(Ee)}for(var Ce=0;Ce<Se.length;++Ce)Se[Ce]=Se[Ce].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return cc(Se.join(`\r
`))}function Ha(Ae,Se,we){for(var Ee="",Ce="",Ne="",We,st=0;st<10;++st){var $e=Se[st];if(!$e||$e.match(/^\s*$/))break;var Je=$e.match(/^(.*?):\s*([^\s].*)$/);if(Je)switch(Je[1].toLowerCase()){case"content-location":Ee=Je[2].trim();break;case"content-type":Ne=Je[2].trim();break;case"content-transfer-encoding":Ce=Je[2].trim();break}}switch(++st,Ce.toLowerCase()){case"base64":We=cc(gc(Se.slice(st).join("")));break;case"quoted-printable":We=ua(Se.slice(st));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ce)}var tt=An(Ae,Ee.slice(we.length),We,{unsafe:!0});Ne&&(tt.ctype=Ne)}function ai(Ae,Se){if(q(Ae.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var we=Se&&Se.root||"",Ee=(an&&Buffer.isBuffer(Ae)?Ae.toString("binary"):q(Ae)).split(`\r
`),Ce=0,Ne="";for(Ce=0;Ce<Ee.length;++Ce)if(Ne=Ee[Ce],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),we||(we=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,we.length)!=we))for(;we.length>0&&(we=we.slice(0,we.length-1),we=we.slice(0,we.lastIndexOf("/")+1),Ne.slice(0,we.length)!=we););var We=(Ee[1]||"").match(/boundary="(.*?)"/);if(!We)throw new Error("MAD cannot find boundary");var st="--"+(We[1]||""),$e=[],Je=[],tt={FileIndex:$e,FullPaths:Je};w(tt);var wt,Ot=0;for(Ce=0;Ce<Ee.length;++Ce){var Vt=Ee[Ce];Vt!==st&&Vt!==st+"--"||(Ot++&&Ha(tt,Ee.slice(wt,Ce),we),wt=Ce)}return tt}function qt(Ae,Se){var we=Se||{},Ee=we.boundary||"SheetJS";Ee="------="+Ee;for(var Ce=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ee.slice(2)+'"',"","",""],Ne=Ae.FullPaths[0],We=Ne,st=Ae.FileIndex[0],$e=1;$e<Ae.FullPaths.length;++$e)if(We=Ae.FullPaths[$e].slice(Ne.length),st=Ae.FileIndex[$e],!(!st.size||!st.content||We=="Sh33tJ5")){We=We.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(yr){return"_x"+yr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(yr){return"_u"+yr.charCodeAt(0).toString(16)+"_"});for(var Je=st.content,tt=an&&Buffer.isBuffer(Je)?Je.toString("binary"):q(Je),wt=0,Ot=Math.min(1024,tt.length),Vt=0,jt=0;jt<=Ot;++jt)(Vt=tt.charCodeAt(jt))>=32&&Vt<128&&++wt;var Lt=wt>=Ot*4/5;Ce.push(Ee),Ce.push("Content-Location: "+(we.root||"file:///C:/SheetJS/")+We),Ce.push("Content-Transfer-Encoding: "+(Lt?"quoted-printable":"base64")),Ce.push("Content-Type: "+Zt(st,We)),Ce.push(""),Ce.push(Lt?Ls(tt):Kr(tt))}return Ce.push(Ee+`--\r
`),Ce.join(`\r
`)}function wn(Ae){var Se={};return w(Se,Ae),Se}function An(Ae,Se,we,Ee){var Ce=Ee&&Ee.unsafe;Ce||w(Ae);var Ne=!Ce&&vr.find(Ae,Se);if(!Ne){var We=Ae.FullPaths[0];Se.slice(0,We.length)==We?We=Se:(We.slice(-1)!="/"&&(We+="/"),We=(We+Se).replace("//","/")),Ne={name:a(Se),type:2},Ae.FileIndex.push(Ne),Ae.FullPaths.push(We),Ce||vr.utils.cfb_gc(Ae)}return Ne.content=we,Ne.size=we?we.length:0,Ee&&(Ee.CLSID&&(Ne.clsid=Ee.CLSID),Ee.mt&&(Ne.mt=Ee.mt),Ee.ct&&(Ne.ct=Ee.ct)),Ne}function Vn(Ae,Se){w(Ae);var we=vr.find(Ae,Se);if(we){for(var Ee=0;Ee<Ae.FileIndex.length;++Ee)if(Ae.FileIndex[Ee]==we)return Ae.FileIndex.splice(Ee,1),Ae.FullPaths.splice(Ee,1),!0}return!1}function ea(Ae,Se,we){w(Ae);var Ee=vr.find(Ae,Se);if(Ee){for(var Ce=0;Ce<Ae.FileIndex.length;++Ce)if(Ae.FileIndex[Ce]==Ee)return Ae.FileIndex[Ce].name=a(we),Ae.FullPaths[Ce]=we,!0}return!1}function da(Ae){N(Ae,!0)}return t.find=D,t.read=F,t.parse=d,t.write=K,t.writeFile=V,t.utils={cfb_new:wn,cfb_add:An,cfb_del:Vn,cfb_mov:ea,cfb_gc:da,ReadShift:wb,CheckField:VY,prep_blob:to,bconcat:Di,use_zlib:P,_deflateRaw:Pe,_inflateRaw:dr,consts:Z},t}();function wbe(e){return typeof e=="string"?N5(e):Array.isArray(e)?q1e(e):e}function tw(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=N5(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?rA(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([wbe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=e,i.href=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=M0(t)),o.write(t),o.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function Ebe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function vs(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function T7(e,t){for(var r=[],n=vs(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function k5(e){for(var t=[],r=vs(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function T5(e){for(var t=[],r=vs(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function Cbe(e){for(var t=[],r=vs(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var b_=new Date(1899,11,30,0,0,0);function mi(e,t){var r=e.getTime(),n=b_.getTime()+(e.getTimezoneOffset()-b_.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var wY=new Date,_be=b_.getTime()+(wY.getTimezoneOffset()-b_.getTimezoneOffset())*6e4,I7=wY.getTimezoneOffset();function I5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+_be),t.getTimezoneOffset()!==I7&&t.setTime(t.getTime()+(t.getTimezoneOffset()-I7)*6e4),t}function Sbe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var j7=new Date("2017-02-19T19:06:09.000Z"),EY=isNaN(j7.getFullYear())?new Date("2/19/17"):j7,Nbe=EY.getFullYear()==2017;function Oa(e,t){var r=new Date(e);if(Nbe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(EY.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function dp(e,t){if(an&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return rA(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return rA(uY(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return rA(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return rA(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Da(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Da(e[r]));return t}function As(e,t){for(var r="";r.length<t;)r+=e;return r}function td(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var Bbe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Fv(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&Bbe.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var kbe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),i=[s[0]],o=1;o<s.length;++o)i.push(a),i.push(s[o]);return i}}();function CY(e){return e?e.content&&e.type?dp(e.content,!0):e.data?Y1(e.data):e.asNodeBuffer&&an?Y1(e.asNodeBuffer().toString("binary")):e.asBinary?Y1(e.asBinary()):e._data&&e._data.getContent?Y1(dp(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function _Y(e){if(!e)return null;if(e.data)return b7(e.data);if(e.asNodeBuffer&&an)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?b7(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Tbe(e){return e&&e.name.slice(-4)===".bin"?_Y(e):CY(e)}function tu(e,t){for(var r=e.FullPaths||vs(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function J6(e,t){var r=tu(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Gs(e,t,r){if(!r)return Tbe(J6(e,t));if(!t)return null;try{return Gs(e,t)}catch{return null}}function uc(e,t,r){if(!r)return CY(J6(e,t));if(!t)return null;try{return uc(e,t)}catch{return null}}function Ibe(e,t,r){return _Y(J6(e,t))}function F7(e){for(var t=e.FullPaths||vs(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Zr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return an?n=Hf(r):n=W1e(r),vr.utils.cfb_add(e,t,n)}vr.utils.cfb_add(e,t,r)}else e.file(t,r)}function Z6(){return vr.utils.cfb_new()}function SY(e,t){switch(t.type){case"base64":return vr.read(e,{type:"base64"});case"binary":return vr.read(e,{type:"binary"});case"buffer":case"array":return vr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Z1(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Ps=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,jbe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,O7=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Fbe=/<[^>]*>/g,Vo=Ps.match(O7)?O7:Fbe,Obe=/<\w*:/,Dbe=/<(\/?)\w+:/;function Rr(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(jbe),o=0,l="",u=0,d="",f="",m=1;if(i)for(u=0;u!=i.length;++u){for(f=i[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(m=(a=f.charCodeAt(s+1))==34||a==39?1:0,l=f.slice(s+1+m,f.length-m),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=l,n[d.toLowerCase()]=l;else{var p=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[p]&&d.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function bA(e){return e.replace(Dbe,"<$1")}var NY={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},eO=k5(NY),In=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(o,l){return NY[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}}(),tO=/[&<>'"]/g,Pbe=/[\u0000-\u0008\u000b-\u001f]/g;function ca(e){var t=e+"";return t.replace(tO,function(r){return eO[r]}).replace(Pbe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function D7(e){return ca(e).replace(/ /g,"_x0020_")}var BY=/[\u0000-\u001f]/g;function rO(e){var t=e+"";return t.replace(tO,function(r){return eO[r]}).replace(/\n/g,"<br/>").replace(BY,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Rbe(e){var t=e+"";return t.replace(tO,function(r){return eO[r]}).replace(BY,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var P7=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Lbe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function ja(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function HB(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function R7(e){var t=T0(2*e.length),r,n,a=1,s=0,i=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function L7(e){return Hf(e,"binary").toString("utf8")}var z2="foo bar bazâð£",ga=an&&(L7(z2)==HB(z2)&&L7||R7(z2)==HB(z2)&&R7)||HB,rA=an?function(e){return Hf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},ny=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),kY=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Ube=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Mbe=/<\/?(?:vt:)?variant>/g,Qbe=/<(?:vt:)([^>]*)>([\s\S]*)</;function U7(e,t){var r=Rr(e),n=e.match(Ube(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var i=s.replace(Mbe,"").match(Qbe);i&&a.push({v:ga(i[2]),t:i[1]})}),a}var TY=/(^\s|\s$|\n)/;function no(e,t){return"<"+e+(t.match(TY)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function ay(e){return vs(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ut(e,t,r){return"<"+e+(r!=null?ay(r):"")+(t!=null?(t.match(TY)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function kI(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Hbe(e,t){switch(typeof e){case"string":var r=Ut("vt:lpwstr",ca(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ut((e|0)==e?"vt:i4":"vt:r8",ca(String(e)));case"boolean":return Ut("vt:bool",e?"true":"false")}if(e instanceof Date)return Ut("vt:filetime",kI(e));throw new Error("Unable to serialize "+e)}function nO(e){if(an&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return ga(M0(W6(e)));throw new Error("Bad input format: expected Buffer or string")}var sy=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,fi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Bp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ic={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Vbe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function zbe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[r+o]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var M7=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},Q7=an?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Hf(t)})):M7(e)}:M7,H7=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(uf(e,a)));return n.join("").replace(al,"")},aO=an?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(al,""):H7(e,t,r)}:H7,V7=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},IY=an?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):V7(e,t,r)}:V7,z7=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Hg(e,a)));return n.join("")},rw=an?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):z7(t,r,n)}:z7,jY=function(e,t){var r=oc(e,t);return r>0?rw(e,t+4,t+4+r-1):""},FY=jY,OY=function(e,t){var r=oc(e,t);return r>0?rw(e,t+4,t+4+r-1):""},DY=OY,PY=function(e,t){var r=2*oc(e,t);return r>0?rw(e,t+4,t+4+r-1):""},RY=PY,LY=function(t,r){var n=oc(t,r);return n>0?aO(t,r+4,r+4+n):""},UY=LY,MY=function(e,t){var r=oc(e,t);return r>0?rw(e,t+4,t+4+r):""},QY=MY,HY=function(e,t){return Vbe(e,t)},y_=HY,sO=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};an&&(FY=function(t,r){if(!Buffer.isBuffer(t))return jY(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},DY=function(t,r){if(!Buffer.isBuffer(t))return OY(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},RY=function(t,r){if(!Buffer.isBuffer(t))return PY(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},UY=function(t,r){if(!Buffer.isBuffer(t))return LY(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},QY=function(t,r){if(!Buffer.isBuffer(t))return MY(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},y_=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):HY(t,r)},sO=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Hg=function(e,t){return e[t]},uf=function(e,t){return e[t+1]*256+e[t]},$be=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},oc=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},km=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Kbe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function wb(e,t){var r="",n,a,s=[],i,o,l,u;switch(t){case"dbcs":if(u=this.l,an&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(uf(this,u)),u+=2;e*=2;break;case"utf8":r=rw(this,this.l,this.l+e);break;case"utf16le":e*=2,r=aO(this,this.l,this.l+e);break;case"wstr":return wb.call(this,e,"dbcs");case"lpstr-ansi":r=FY(this,this.l),e=4+oc(this,this.l);break;case"lpstr-cp":r=DY(this,this.l),e=4+oc(this,this.l);break;case"lpwstr":r=RY(this,this.l),e=4+2*oc(this,this.l);break;case"lpp4":e=4+oc(this,this.l),r=UY(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+oc(this,this.l),r=QY(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=Hg(this,this.l+e++))!==0;)s.push(V2(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=uf(this,this.l+e))!==0;)s.push(V2(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return i=Hg(this,u),this.l=u+1,o=wb.call(this,e-l,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(V2(uf(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return i=Hg(this,u),this.l=u+1,o=wb.call(this,e-l,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(V2(Hg(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=Hg(this,this.l),this.l++,n;case 2:return n=(t==="i"?$be:uf)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?km:Kbe)(this,this.l),this.l+=4,n):(a=oc(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=y_(this,this.l):a=y_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=IY(this,this.l,e);break}}return this.l+=e,r}var Gbe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},qbe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Wbe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Xbe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Wbe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Gbe(this,t,this.l);break;case 8:if(n=8,r==="f"){zbe(this,t,this.l);break}case 16:break;case-4:n=4,qbe(this,t,this.l);break}return this.l+=n,this}function VY(e,t){var r=IY(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function to(e,t){e.l=t,e.read_shift=wb,e.chk=VY,e.write_shift=Xbe}function Qo(e,t){e.l+=t}function At(e){var t=T0(e);return to(t,0),t}function Vf(e,t,r){if(e){var n,a,s;to(e,e.l||0);for(var i=e.length,o=0,l=0;e.l<i;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=dy[o]||dy[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;l=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=l,t(d,u,o))return}}}function jl(){var e=[],t=an?256:2048,r=function(u){var d=At(u);return to(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},i=function(){return a(),Di(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:o,end:i,_bufs:e}}function Nt(e,t,r,n){var a=+t,s;if(!isNaN(a)){n||(n=dy[a].p||(r||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var i=e.next(s);a<=127?i.write_shift(1,a):(i.write_shift(1,(a&127)+128),i.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)i.write_shift(1,(n&127)+128),n>>=7;else{i.write_shift(1,n);break}n>0&&sO(r)&&e.push(r)}}function Eb(e,t,r){var n=Da(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function $7(e,t,r){var n=Da(e);return n.s=Eb(n.s,t.s,r),n.e=Eb(n.e,t.s,r),n}function Cb(e,t){if(e.cRel&&e.c<0)for(e=Da(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Da(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Fr(e);return!e.cRel&&e.cRel!=null&&(r=Zbe(r)),!e.rRel&&e.rRel!=null&&(r=Ybe(r)),r}function VB(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Wa(e.s.c)+":"+(e.e.cRel?"":"$")+Wa(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ds(e.s.r)+":"+(e.e.rRel?"":"$")+Ds(e.e.r):Cb(e.s,t.biff)+":"+Cb(e.e,t.biff)}function iO(e){return parseInt(Jbe(e),10)-1}function Ds(e){return""+(e+1)}function Ybe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Jbe(e){return e.replace(/\$(\d+)$/,"$1")}function oO(e){for(var t=eye(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Wa(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Zbe(e){return e.replace(/^([A-Z])/,"$$$1")}function eye(e){return e.replace(/^\$([A-Z])/,"$1")}function tye(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Xa(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Fr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ol(e){var t=e.indexOf(":");return t==-1?{s:Xa(e),e:Xa(e)}:{s:Xa(e.slice(0,t)),e:Xa(e.slice(t+1))}}function Gr(e,t){return typeof t>"u"||typeof t=="number"?Gr(e.s,e.e):(typeof e!="string"&&(e=Fr(e)),typeof t!="string"&&(t=Fr(t)),e==t?e:e+":"+t)}function jn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function K7(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=mu(e.z,r?mi(t):t)}catch{}try{return e.w=mu((e.XF||{}).numFmtId||(r?14:0),r?mi(t):t)}catch{return""+t}}function Bf(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?zf[e.v]||e.v:t==null?K7(e,e.v):K7(e,t))}function Q0(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function zY(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?Xa(n.origin):n.origin;i=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=jn(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),i==-1&&(u.e.r=i=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[f].length;++m)if(!(typeof t[f][m]>"u")){var p={v:t[f][m]},x=i+f,g=o+m;if(u.s.r>x&&(u.s.r=x),u.s.c>g&&(u.s.c=g),u.e.r<x&&(u.e.r=x),u.e.c<g&&(u.e.c=g),t[f][m]&&typeof t[f][m]=="object"&&!Array.isArray(t[f][m])&&!(t[f][m]instanceof Date))p=t[f][m];else if(Array.isArray(p.v)&&(p.f=t[f][m][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Tr[14],n.cellDates?(p.t="d",p.w=mu(p.z,mi(p.v))):(p.t="n",p.v=mi(p.v),p.w=mu(p.z,p.v))):p.t="s";if(a)s[x]||(s[x]=[]),s[x][g]&&s[x][g].z&&(p.z=s[x][g].z),s[x][g]=p;else{var b=Fr({c:g,r:x});s[b]&&s[b].z&&(p.z=s[b].z),s[b]=p}}}return u.s.c<1e7&&(s["!ref"]=Gr(u)),s}function fx(e,t){return zY(null,e,t)}function rye(e){return e.read_shift(4,"i")}function rd(e,t){return t||(t=At(4)),t.write_shift(4,e),t}function Uo(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ri(e,t){var r=!1;return t==null&&(r=!0,t=At(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function nye(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function aye(e,t){return t||(t=At(4)),t.write_shift(2,0),t.write_shift(2,0),t}function lO(e,t){var r=e.l,n=e.read_shift(1),a=Uo(e),s=[],i={t:a,h:a};if((n&1)!==0){for(var o=e.read_shift(4),l=0;l!=o;++l)s.push(nye(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}function sye(e,t){var r=!1;return t==null&&(r=!0,t=At(15+4*e.t.length)),t.write_shift(1,0),Ri(e.t,t),r?t.slice(0,t.l):t}var iye=lO;function oye(e,t){var r=!1;return t==null&&(r=!0,t=At(23+4*e.t.length)),t.write_shift(1,1),Ri(e.t,t),t.write_shift(4,1),aye({},t),r?t.slice(0,t.l):t}function vu(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function kp(e,t){return t==null&&(t=At(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Tp(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Ip(e,t){return t==null&&(t=At(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var lye=Uo,$Y=Ri;function cO(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function w_(e,t){var r=!1;return t==null&&(r=!0,t=At(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var cye=Uo,TI=cO,uO=w_;function dO(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?y_([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):km(t,0)>>2;return r?a/100:a}function KY(e,t){t==null&&(t=At(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function GY(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function uye(e,t){return t||(t=At(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var jp=GY,hx=uye;function Lo(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Ap(e,t){return(t||At(8)).write_shift(8,e,"f")}function dye(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Km[a];u&&(t.rgb=oy(u));break;case 2:t.rgb=oy([i,o,l]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function E_(e,t){if(t||(t=At(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function Aye(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function fye(e,t){t||(t=At(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function qY(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function hye(e){return qY(e,1)}function mye(e){return qY(e,2)}var AO=2,El=3,$2=11,G7=12,C_=19,K2=64,pye=65,gye=71,vye=4108,xye=4126,ji=80,WY=81,bye=[ji,WY],II={1:{n:"CodePage",t:AO},2:{n:"Category",t:ji},3:{n:"PresentationFormat",t:ji},4:{n:"ByteCount",t:El},5:{n:"LineCount",t:El},6:{n:"ParagraphCount",t:El},7:{n:"SlideCount",t:El},8:{n:"NoteCount",t:El},9:{n:"HiddenCount",t:El},10:{n:"MultimediaClipCount",t:El},11:{n:"ScaleCrop",t:$2},12:{n:"HeadingPairs",t:vye},13:{n:"TitlesOfParts",t:xye},14:{n:"Manager",t:ji},15:{n:"Company",t:ji},16:{n:"LinksUpToDate",t:$2},17:{n:"CharacterCount",t:El},19:{n:"SharedDoc",t:$2},22:{n:"HyperlinksChanged",t:$2},23:{n:"AppVersion",t:El,p:"version"},24:{n:"DigSig",t:pye},26:{n:"ContentType",t:ji},27:{n:"ContentStatus",t:ji},28:{n:"Language",t:ji},29:{n:"Version",t:ji},255:{},2147483648:{n:"Locale",t:C_},2147483651:{n:"Behavior",t:C_},1919054434:{}},jI={1:{n:"CodePage",t:AO},2:{n:"Title",t:ji},3:{n:"Subject",t:ji},4:{n:"Author",t:ji},5:{n:"Keywords",t:ji},6:{n:"Comments",t:ji},7:{n:"Template",t:ji},8:{n:"LastAuthor",t:ji},9:{n:"RevNumber",t:ji},10:{n:"EditTime",t:K2},11:{n:"LastPrinted",t:K2},12:{n:"CreatedDate",t:K2},13:{n:"ModifiedDate",t:K2},14:{n:"PageCount",t:El},15:{n:"WordCount",t:El},16:{n:"CharCount",t:El},17:{n:"Thumbnail",t:gye},18:{n:"Application",t:ji},19:{n:"DocSecurity",t:El},255:{},2147483648:{n:"Locale",t:C_},2147483651:{n:"Behavior",t:C_},1919054434:{}},q7={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},yye=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function wye(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Eye=wye([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Km=Da(Eye),zf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},XY={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},FI={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},G2={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function fO(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Cye(e){var t=fO();if(!e||!e.match)return t;var r={};if((e.match(Vo)||[]).forEach(function(n){var a=Rr(n);switch(a[0].replace(Obe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[FI[a.ContentType]]!==void 0&&t[FI[a.ContentType]].push(a.PartName);break}}),t.xmlns!==fi.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function YY(e,t){var r=Cbe(FI),n=[],a;n[n.length]=Ps,n[n.length]=Ut("Types",null,{xmlns:fi.CT,"xmlns:xsd":fi.xsd,"xmlns:xsi":fi.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Ut("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){e[l]&&e[l].length>0&&(a=e[l][0],n[n.length]=Ut("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:G2[l][t.bookType]||G2[l].xlsx}))},i=function(l){(e[l]||[]).forEach(function(u){n[n.length]=Ut("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:G2[l][t.bookType]||G2[l].xlsx})})},o=function(l){(e[l]||[]).forEach(function(u){n[n.length]=Ut("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return s("workbooks"),i("sheets"),i("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),i("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var un={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function iy(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function _b(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Vo)||[]).forEach(function(a){var s=Rr(a);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=s.Target,i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:Z1(s.Target,t);r[o]=i,n[s.Id]=i}}),r["!id"]=n,r}function hv(e){var t=[Ps,Ut("Relationships",null,{xmlns:fi.RELS})];return vs(e["!id"]).forEach(function(r){t[t.length]=Ut("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function ia(e,t,r,n,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[un.HLINK,un.XPATH,un.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var _ye="application/vnd.oasis.opendocument.spreadsheet";function Sye(e,t){for(var r=nO(e),n,a;n=sy.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Rr(n[0],!1),a.path=="/"&&a.type!==_ye)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function Nye(e){var t=[Ps];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function W7(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Bye(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function kye(e){var t=[Ps];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(W7(e[r][0],e[r][1])),t.push(Bye("",e[r][0]));return t.push(W7("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function JY(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+p_.version+"</meta:generator></office:meta></office:document-meta>"}var hu=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Tye=function(){for(var e=new Array(hu.length),t=0;t<hu.length;++t){var r=hu[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function ZY(e){var t={};e=ga(e);for(var r=0;r<hu.length;++r){var n=hu[r],a=e.match(Tye[r]);a!=null&&a.length>0&&(t[n[1]]=In(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Oa(t[n[1]]))}return t}function zB(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=ca(t),n[n.length]=r?Ut(e,t,r):no(e,t))}function eJ(e,t){var r=t||{},n=[Ps,Ut("cp:coreProperties",null,{"xmlns:cp":fi.CORE_PROPS,"xmlns:dc":fi.dc,"xmlns:dcterms":fi.dcterms,"xmlns:dcmitype":fi.dcmitype,"xmlns:xsi":fi.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&zB("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:kI(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&zB("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:kI(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=hu.length;++s){var i=hu[s],o=r.Props&&r.Props[i[1]]!=null?r.Props[i[1]]:e?e[i[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&zB(i[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Gm=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],tJ=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function rJ(e,t,r,n){var a=[];if(typeof e=="string")a=U7(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var i=typeof t=="string"?U7(t,n).map(function(d){return d.v}):t,o=0,l=0;if(i.length>0)for(var u=0;u!==a.length;u+=2){switch(l=+a[u+1].v,a[u].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=i.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=i.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=i.slice(o,o+l);break}o+=l}}function Iye(e,t,r){var n={};return t||(t={}),e=ga(e),Gm.forEach(function(a){var s=(e.match(ny(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=In(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var i=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));i&&i.length>0&&(n[a[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&rJ(n.HeadingPairs,n.TitlesOfParts,t,r),t}function nJ(e){var t=[],r=Ut;return e||(e={}),e.Application="SheetJS",t[t.length]=Ps,t[t.length]=Ut("Properties",null,{xmlns:fi.EXT_PROPS,"xmlns:vt":fi.vt}),Gm.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=ca(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+ca(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var jye=/<[^>]+>[^<]*/g;function Fye(e,t){var r={},n="",a=e.match(jye);if(a)for(var s=0;s!=a.length;++s){var i=a[s],o=Rr(i);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=In(o.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var l=i.split(">"),u=l[0].slice(4),d=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=In(d);break;case"bool":r[n]=ja(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Oa(d);break;case"cy":case"error":r[n]=In(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,u,l)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}function aJ(e){var t=[Ps,Ut("Properties",null,{xmlns:fi.CUST_PROPS,"xmlns:vt":fi.vt})];if(!e)return t.join("");var r=1;return vs(e).forEach(function(a){++r,t[t.length]=Ut("property",Hbe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:ca(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var OI={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},$B;function Oye(e,t,r){$B||($B=k5(OI)),t=$B[t]||t,e[t]=r}function Dye(e,t){var r=[];return vs(OI).map(function(n){for(var a=0;a<hu.length;++a)if(hu[a][1]==n)return hu[a];for(a=0;a<Gm.length;++a)if(Gm[a][1]==n)return Gm[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(no(OI[n[1]]||n[1],a))}}),Ut("DocumentProperties",r.join(""),{xmlns:ic.o})}function Pye(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&vs(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var i=0;i<hu.length;++i)if(s==hu[i][1])return;for(i=0;i<Gm.length;++i)if(s==Gm[i][1])return;for(i=0;i<r.length;++i)if(s==r[i])return;var o=e[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),a.push(Ut(D7(s),o,{"dt:dt":l}))}}),t&&vs(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var i=t[s],o="string";typeof i=="number"?(o="float",i=String(i)):i===!0||i===!1?(o="boolean",i=i?"1":"0"):i instanceof Date?(o="dateTime.tz",i=i.toISOString()):i=String(i),a.push(Ut(D7(s),i,{"dt:dt":o}))}}),"<"+n+' xmlns="'+ic.o+'">'+a.join("")+"</"+n+">"}function hO(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Rye(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var i=At(8);return i.write_shift(4,n),i.write_shift(4,a),i}function sJ(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function iJ(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function oJ(e,t,r){return t===31?iJ(e):sJ(e,t,r)}function DI(e,t,r){return oJ(e,t,r===!1?0:4)}function Lye(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return oJ(e,t,0)}function Uye(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(al,""),e.l-a&2&&(e.l+=2)}return r}function Mye(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(al,"");return r}function Qye(e){var t=e.l,r=__(e,WY);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=__(e,El);return[r,n]}function Hye(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Qye(e));return r}function X7(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(al,"").replace(J1,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function lJ(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Vye(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function __(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==G7&&n!==t&&bye.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===G7?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return sJ(e,n,4).replace(al,"");case 31:return iJ(e);case 64:return hO(e);case 65:return lJ(e);case 71:return Vye(e);case 80:return DI(e,n,!s.raw).replace(al,"");case 81:return Lye(e,n).replace(al,"");case 4108:return Hye(e);case 4126:case 4127:return n==4127?Uye(e):Mye(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function Y7(e,t){var r=At(4),n=At(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=At(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Rye(t);break;case 31:case 80:for(n=At(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Di([r,n])}function J7(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,o=0,l=-1,u={};for(i=0;i!=a;++i){var d=e.read_shift(4),f=e.read_shift(4);s[i]=[d,f+r]}s.sort(function(_,S){return _[1]-S[1]});var m={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var p=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,p=!1);break;case 80:e.l<=s[i][1]&&(e.l=s[i][1],p=!1);break;case 4108:e.l<=s[i][1]&&(e.l=s[i][1],p=!1);break}if((!t||i==0)&&e.l<=s[i][1]&&(p=!1,e.l=s[i][1]),p)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var x=t[s[i][0]];if(m[x.n]=__(e,x.t,{raw:!0}),x.p==="version"&&(m[x.n]=String(m[x.n]>>16)+"."+("0000"+String(m[x.n]&65535)).slice(-4)),x.n=="CodePage")switch(m[x.n]){case 0:m[x.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Zu(o=m[x.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[x.n])}}else if(s[i][0]===1){if(o=m.CodePage=__(e,AO),Zu(o),l!==-1){var g=e.l;e.l=s[l][1],u=X7(e,o),e.l=g}}else if(s[i][0]===0){if(o===0){l=i,e.l=s[i+1][1];continue}u=X7(e,o)}else{var b=u[s[i][0]],y;switch(e[e.l]){case 65:e.l+=4,y=lJ(e);break;case 30:e.l+=4,y=DI(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=DI(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=ks(e,4);break;case 64:e.l+=4,y=Oa(hO(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[b]=y}}return e.l=r+n,m}var cJ=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function zye(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function Z7(e,t,r){var n=At(8),a=[],s=[],i=8,o=0,l=At(8),u=At(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),s.push(l),a.push(u),i+=8+l.length,!t){u=At(8),u.write_shift(4,0),a.unshift(u);var d=[At(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(l=At(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=Di(d),s.unshift(l),i+=8+l.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(cJ.indexOf(e[o][0])>-1||tJ.indexOf(e[o][0])>-1)&&e[o][1]!=null){var m=e[o][1],p=0;if(t){p=+t[e[o][0]];var x=r[p];if(x.p=="version"&&typeof m=="string"){var g=m.split(".");m=(+g[0]<<16)+(+g[1]||0)}l=Y7(x.t,m)}else{var b=zye(m);b==-1&&(b=31,m=String(m)),l=Y7(b,m)}s.push(l),u=At(8),u.write_shift(4,t?p:2+o),a.push(u),i+=8+l.length}var y=8*(s.length+1);for(o=0;o<s.length;++o)a[o].write_shift(4,y),y+=s[o].length;return n.write_shift(4,i),n.write_shift(4,s.length),Di([n].concat(a).concat(s))}function e9(e,t,r){var n=e.content;if(!n)return{};to(n,0);var a,s,i,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==vr.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(i=n.read_shift(16),l=n.read_shift(4));var f=J7(n,t),m={SystemIdentifier:u};for(var p in f)m[p]=f[p];if(m.FMTID=s,a===1)return m;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var x;try{x=J7(n,null)}catch{}for(p in x)m[p]=x[p];return m.FMTID=[s,i],m}function t9(e,t,r,n,a,s){var i=At(a?68:48),o=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,vr.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,a?2:1),i.write_shift(16,t,"hex"),i.write_shift(4,a?68:48);var l=Z7(e,r,n);if(o.push(l),a){var u=Z7(a,null,null);i.write_shift(16,s,"hex"),i.write_shift(4,68+l.length),o.push(u)}return Di(o)}function Fh(e,t){return e.read_shift(t),null}function $ye(e,t){t||(t=At(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Kye(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function ks(e,t){return e.read_shift(t)===1}function Jo(e,t){return t||(t=At(2)),t.write_shift(2,+!!e),t}function qs(e){return e.read_shift(2,"u")}function nu(e,t){return t||(t=At(2)),t.write_shift(2,e),t}function uJ(e,t){return Kye(e,t,qs)}function Gye(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function dJ(e,t,r){return r||(r=At(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function nw(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function qye(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),i=0,o,l={};a&&(i=e.read_shift(2)),n&&(o=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*i),n&&(e.l+=o),l.t=d,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Wye(e){var t=e.t||"",r=At(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=At(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Di(a)}function fp(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function aw(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):fp(e,n,r)}function Fp(e,t,r){if(r.biff>5)return aw(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function AJ(e,t,r){return r||(r=At(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function Xye(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Yye(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(al,"");return n&&(e.l+=24),a}function Jye(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(s>>1,"utf16le").replace(al,"");return r+i}function Zye(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Yye(e);case"0303000000000000c000000000000046":return Jye(e);default:throw new Error("Unsupported Moniker "+r)}}function q2(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(al,""):"";return r}function r9(e,t){t||(t=At(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function ewe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,o,l,u="",d,f;a&16&&(s=q2(e,r-e.l)),a&128&&(i=q2(e,r-e.l)),(a&257)===257&&(o=q2(e,r-e.l)),(a&257)===1&&(l=Zye(e,r-e.l)),a&8&&(u=q2(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=hO(e)),e.l=r;var m=i||o||l||"";m&&u&&(m+="#"+u),m||(m="#"+u),a&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var p={Target:m};return d&&(p.guid=d),f&&(p.time=f),s&&(p.Tooltip=s),p}function twe(e){var t=At(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var i=[8,6815827,6619237,4849780,83];for(r=0;r<i.length;++r)t.write_shift(4,i[r]);if(s==28)n=n.slice(1),r9(n,t);else if(s&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),s&8&&r9(a>-1?n.slice(a+1):"",t)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function fJ(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function hJ(e,t){var r=fJ(e);return r[3]=0,r}function yA(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function hp(e,t,r,n){return n||(n=At(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function rwe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function nwe(e,t,r){return t===0?"":Fp(e,t,r)}function awe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function mJ(e){var t=e.read_shift(2),r=dO(e);return[t,r]}function swe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=nw(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function j5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function pJ(e,t){return t||(t=At(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function gJ(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var iwe=gJ;function vJ(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function owe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function lwe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function _o(e){e.l+=2,e.l+=e.read_shift(2)}var cwe={0:_o,4:_o,5:_o,6:_o,7:lwe,8:_o,9:_o,10:_o,11:_o,12:_o,13:owe,14:_o,15:_o,16:_o,17:_o,18:_o,19:_o,20:_o,21:vJ};function uwe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(cwe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function W2(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function mO(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=At(a);return s.write_shift(2,n),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function dwe(e,t){return t===0||e.read_shift(2),1200}function Awe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Fp(e,0,r);return e.read_shift(t+n-e.l),a}function fwe(e,t){var r=!t||t.biff==8,n=At(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function hwe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function mwe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var i=nw(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}function pwe(e,t){var r=!t||t.biff>=8?2:1,n=At(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function gwe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(qye(e));return s.Count=n,s.Unique=a,s}function vwe(e,t){var r=At(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=Wye(e[a]);var s=Di([r].concat(n));return s.parts=[r.length].concat(n.map(function(i){return i.length})),s}function xwe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function bwe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function ywe(e){var t=rwe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function wwe(e){return e.read_shift(2),e.read_shift(4)}function n9(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function Ewe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:i,FirstTab:o,Selected:l,TabRatio:u}}function Cwe(){var e=At(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function _we(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Swe(e){var t=At(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Nwe(){}function Bwe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=nw(e,0,r),n}function kwe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,s=At(a);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function Twe(e){var t=yA(e);return t.isst=e.read_shift(4),t}function Iwe(e,t,r,n){var a=At(10);return hp(e,t,n,a),a.write_shift(4,r),a}function jwe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=yA(e);r.biff==2&&e.l++;var s=aw(e,n-e.l,r);return a.val=s,a}function Fwe(e,t,r,n,a){var s=!a||a.biff==8,i=At(8+ +s+(1+s)*r.length);return hp(e,t,n,i),i.write_shift(2,r.length),s&&i.write_shift(1,1),i.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),i}function Owe(e,t,r){var n=e.read_shift(2),a=Fp(e,0,r);return[n,a]}function Dwe(e,t,r,n){var a=r&&r.biff==5;n||(n=At(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}var Pwe=Fp;function a9(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:s,c:o},e:{r:i,c:l}}}function Rwe(e,t){var r=t.biff==8||!t.biff?4:2,n=At(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function Lwe(e){var t=e.read_shift(2),r=e.read_shift(2),n=mJ(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Uwe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(mJ(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}function Mwe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}function Qwe(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=yye[o>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=i&15,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function Hwe(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Qwe(e,t,n.fStyle,r),n}function s9(e,t,r,n){var a=r&&r.biff==5;n||(n=At(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function Vwe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function zwe(e){var t=At(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function i9(e,t,r){var n=yA(e);(r.biff==2||t==9)&&++e.l;var a=Gye(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function $we(e,t,r,n,a,s){var i=At(8);return hp(e,t,n,i),dJ(r,s,i),i}function Kwe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=yA(e),a=Lo(e);return n.val=a,n}function Gwe(e,t,r,n){var a=At(14);return hp(e,t,n,a),Ap(r,a),a}var o9=nwe;function qwe(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=fp(e,s),o=[];n>e.l;)o.push(aw(e));return[s,a,i,o]}function l9(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=swe(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var Wwe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function c9(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=fp(e,i,r);a&32&&(u=Wwe[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||o===0||!(d>0)?[]:uSe(e,d,r,o);return{chKey:s,Name:u,itab:l,rgce:f}}function xJ(e,t,r){if(r.biff<8)return Xwe(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(awe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Xwe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=nw(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Ywe(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=fp(e,n,r),i=fp(e,a,r);return[s,i]}function Jwe(e,t,r){var n=gJ(e);e.l++;var a=e.read_shift(1);return t-=8,[dSe(e,t,r),a,n]}function u9(e,t,r){var n=iwe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,lSe(e,t,r)]}function Zwe(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function e2e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=Fp(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,i,s]}}function t2e(e,t,r){return e2e(e,t,r)}function r2e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(j5(e));return r}function n2e(e){var t=At(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)pJ(e[r],t);return t}function a2e(e,t,r){if(r&&r.biff<8)return i2e(e,t,r);var n=vJ(e),a=uwe(e,t-22,n[1]);return{cmo:n,ft:a}}var s2e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function i2e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((s2e[n]||Qo)(e,t,r)),{cmo:[a,n,s],ft:i}}function o2e(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:i=Xye(e,6,r);var o=e.read_shift(2);e.read_shift(2),qs(e,2);var l=e.read_shift(2);e.l+=l;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=fp(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function l2e(e,t){var r=j5(e);e.l+=16;var n=ewe(e,t-24);return[r,n]}function c2e(e){var t=At(24),r=Xa(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Di([t,twe(e[1])])}function u2e(e,t){e.read_shift(2);var r=j5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(al,""),[r,n]}function d2e(e){var t=e[1].Tooltip,r=At(10+2*(t.length+1));r.write_shift(2,2048);var n=Xa(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function A2e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=q7[r]||r,r=e.read_shift(2),t[1]=q7[r]||r,t}function f2e(e){return e||(e=At(4)),e.write_shift(2,1),e.write_shift(2,1),e}function h2e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(hJ(e));return r}function m2e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(hJ(e));return r}function p2e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function bJ(e,t,r){if(!r.cellStyles)return Qo(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:i,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function g2e(e,t){var r=At(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function v2e(e,t){var r={};return t<32||(e.l+=16,r.header=Lo(e),r.footer=Lo(e),e.l+=2),r}function x2e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function b2e(e){for(var t=At(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var y2e=yA,w2e=uJ,E2e=aw;function C2e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function _2e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=yA(e);++e.l;var a=Fp(e,t-7,r);return n.t="str",n.val=a,n}function S2e(e){var t=yA(e);++e.l;var r=Lo(e);return t.t="n",t.val=r,t}function N2e(e,t,r){var n=At(15);return lw(n,e,t),n.write_shift(8,r,"f"),n}function B2e(e){var t=yA(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function k2e(e,t,r){var n=At(9);return lw(n,e,t),n.write_shift(2,r),n}function T2e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function I2e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function j2e(e,t,r){var n=e.l+t,a=yA(e),s=e.read_shift(2),i=fp(e,s,r);return e.l=n,a.t="str",a.val=i,a}var F2e=[2,3,48,49,131,139,140,245],PI=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=k5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var u=[],d=T0(1);switch(l.type){case"base64":d=cc(gc(o));break;case"binary":d=cc(o);break;case"buffer":case"array":d=o;break}to(d,0);var f=d.read_shift(1),m=!!(f&136),p=!1,x=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,m=!0;break;case 49:p=!0,m=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,b=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(b=d.read_shift(2));var y=d.read_shift(2),_=l.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(_=e[d[d.l]]),d.l+=1,d.l+=2),x&&(d.l+=36);for(var S=[],I={},T=Math.min(d.length,f==2?521:b-10-(p?264:0)),F=x?32:11;d.l<T&&d[d.l]!=13;)switch(I={},I.name=ey.utils.decode(_,d.slice(d.l,d.l+F)).replace(/[\u0000\r\n].*$/g,""),d.l+=F,I.type=String.fromCharCode(d.read_shift(1)),f!=2&&!x&&(I.offset=d.read_shift(4)),I.len=d.read_shift(1),f==2&&(I.offset=d.read_shift(2)),I.dec=d.read_shift(1),I.name.length&&S.push(I),f!=2&&(d.l+=x?13:14),I.type){case"B":(!p||I.len!=8)&&l.WTF&&console.log("Skipping "+I.name+":"+I.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+I.name+":"+I.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+I.type)}if(d[d.l]!==13&&(d.l=b-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=b;var w=0,C=0;for(u[0]=[],C=0;C!=S.length;++C)u[0][C]=S[C].name;for(;g-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++w]=[],C=0,C=0;C!=S.length;++C){var N=d.slice(d.l,d.l+S[C].len);d.l+=S[C].len,to(N,0);var R=ey.utils.decode(_,N);switch(S[C].type){case"C":R.trim().length&&(u[w][C]=R.replace(/\s+$/,""));break;case"D":R.length===8?u[w][C]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):u[w][C]=R;break;case"F":u[w][C]=parseFloat(R.trim());break;case"+":case"I":u[w][C]=x?N.read_shift(-4,"i")^2147483648:N.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":u[w][C]=!0;break;case"N":case"F":u[w][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[w][C]="##MEMO##"+(x?parseInt(R.trim(),10):N.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(u[w][C]=+R||0);break;case"@":u[w][C]=new Date(N.read_shift(-8,"f")-621356832e5);break;case"T":u[w][C]=new Date((N.read_shift(4)-2440588)*864e5+N.read_shift(4));break;case"Y":u[w][C]=N.read_shift(4,"i")/1e4+N.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[w][C]=-N.read_shift(-8,"f");break;case"B":if(p&&S[C].len==8){u[w][C]=N.read_shift(8,"f");break}case"G":case"P":N.l+=S[C].len;break;case"0":if(S[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[C].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=S,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var d=fx(r(o,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(o,l){try{return Q0(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,l){var u=l||{};if(+u.codepage>=0&&Zu(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=jl(),f=B_(o,{header:1,raw:!0,cellDates:!0}),m=f[0],p=f.slice(1),x=o["!cols"]||[],g=0,b=0,y=0,_=1;for(g=0;g<m.length;++g){if(((x[g]||{}).DBF||{}).name){m[g]=x[g].DBF.name,++y;continue}if(m[g]!=null){if(++y,typeof m[g]=="number"&&(m[g]=m[g].toString(10)),typeof m[g]!="string")throw new Error("DBF Invalid column name "+m[g]+" |"+typeof m[g]+"|");if(m.indexOf(m[g])!==g){for(b=0;b<1024;++b)if(m.indexOf(m[g]+"_"+b)==-1){m[g]+="_"+b;break}}}}var S=jn(o["!ref"]),I=[],T=[],F=[];for(g=0;g<=S.e.c-S.s.c;++g){var w="",C="",N=0,R=[];for(b=0;b<p.length;++b)p[b][g]!=null&&R.push(p[b][g]);if(R.length==0||m[g]==null){I[g]="?";continue}for(b=0;b<R.length;++b){switch(typeof R[b]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=R[b]instanceof Date?"D":"C";break;default:C="C"}N=Math.max(N,String(R[b]).length),w=w&&w!=C?"C":C}N>250&&(N=250),C=((x[g]||{}).DBF||{}).type,C=="C"&&x[g].DBF.len>N&&(N=x[g].DBF.len),w=="B"&&C=="N"&&(w="N",F[g]=x[g].DBF.dec,N=x[g].DBF.len),T[g]=w=="C"||C=="N"?N:s[w]||0,_+=T[g],I[g]=w}var D=d.next(32);for(D.write_shift(4,318902576),D.write_shift(4,p.length),D.write_shift(2,296+32*y),D.write_shift(2,_),g=0;g<4;++g)D.write_shift(4,0);for(D.write_shift(4,0|(+t[cY]||3)<<8),g=0,b=0;g<m.length;++g)if(m[g]!=null){var O=d.next(32),M=(m[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,M,"sbcs"),O.write_shift(1,I[g]=="?"?"C":I[g],"sbcs"),O.write_shift(4,b),O.write_shift(1,T[g]||s[I[g]]||0),O.write_shift(1,F[g]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),b+=T[g]||s[I[g]]||0}var Q=d.next(264);for(Q.write_shift(4,13),g=0;g<65;++g)Q.write_shift(4,0);for(g=0;g<p.length;++g){var ee=d.next(_);for(ee.write_shift(1,0),b=0;b<m.length;++b)if(m[b]!=null)switch(I[b]){case"L":ee.write_shift(1,p[g][b]==null?63:p[g][b]?84:70);break;case"B":ee.write_shift(8,p[g][b]||0,"f");break;case"N":var W="0";for(typeof p[g][b]=="number"&&(W=p[g][b].toFixed(F[b]||0)),y=0;y<T[b]-W.length;++y)ee.write_shift(1,32);ee.write_shift(1,W,"sbcs");break;case"D":p[g][b]?(ee.write_shift(4,("0000"+p[g][b].getFullYear()).slice(-4),"sbcs"),ee.write_shift(2,("00"+(p[g][b].getMonth()+1)).slice(-2),"sbcs"),ee.write_shift(2,("00"+p[g][b].getDate()).slice(-2),"sbcs")):ee.write_shift(8,"00000000","sbcs");break;case"C":var Z=String(p[g][b]!=null?p[g][b]:"").slice(0,T[b]);for(ee.write_shift(1,Z,"sbcs"),y=0;y<T[b]-Z.length;++y)ee.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),yJ=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+vs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,p){var x=e[p];return typeof x=="number"?y7(x):x},n=function(m,p,x){var g=p.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return g==59?m:y7(g)};e["|"]=254;function a(m,p){switch(p.type){case"base64":return s(gc(m),p);case"binary":return s(m,p);case"buffer":return s(an&&Buffer.isBuffer(m)?m.toString("binary"):M0(m),p);case"array":return s(dp(m),p)}throw new Error("Unrecognized type "+p.type)}function s(m,p){var x=m.split(/[\n\r]+/),g=-1,b=-1,y=0,_=0,S=[],I=[],T=null,F={},w=[],C=[],N=[],R=0,D;for(+p.codepage>=0&&Zu(+p.codepage);y!==x.length;++y){R=0;var O=x[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),M=O.replace(/;;/g,"\0").split(";").map(function(re){return re.replace(/\u0000/g,";")}),Q=M[0],ee;if(O.length>0)switch(Q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":M[1].charAt(0)=="P"&&I.push(O.slice(3).replace(/;;/g,";"));break;case"C":var W=!1,Z=!1,V=!1,q=!1,K=-1,J=-1;for(_=1;_<M.length;++_)switch(M[_].charAt(0)){case"A":break;case"X":b=parseInt(M[_].slice(1))-1,Z=!0;break;case"Y":for(g=parseInt(M[_].slice(1))-1,Z||(b=0),D=S.length;D<=g;++D)S[D]=[];break;case"K":ee=M[_].slice(1),ee.charAt(0)==='"'?ee=ee.slice(1,ee.length-1):ee==="TRUE"?ee=!0:ee==="FALSE"?ee=!1:isNaN(td(ee))?isNaN(Fv(ee).getDate())||(ee=Oa(ee)):(ee=td(ee),T!==null&&dx(T)&&(ee=I5(ee))),W=!0;break;case"E":q=!0;var P=mv(M[_].slice(1),{r:g,c:b});S[g][b]=[S[g][b],P];break;case"S":V=!0,S[g][b]=[S[g][b],"S5S"];break;case"G":break;case"R":K=parseInt(M[_].slice(1))-1;break;case"C":J=parseInt(M[_].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+O)}if(W&&(S[g][b]&&S[g][b].length==2?S[g][b][0]=ee:S[g][b]=ee,T=null),V){if(q)throw new Error("SYLK shared formula cannot have own formula");var G=K>-1&&S[K][J];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");S[g][b][1]=UJ(G[1],{r:g-K,c:b-J})}break;case"F":var Y=0;for(_=1;_<M.length;++_)switch(M[_].charAt(0)){case"X":b=parseInt(M[_].slice(1))-1,++Y;break;case"Y":for(g=parseInt(M[_].slice(1))-1,D=S.length;D<=g;++D)S[D]=[];break;case"M":R=parseInt(M[_].slice(1))/20;break;case"F":break;case"G":break;case"P":T=I[parseInt(M[_].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(N=M[_].slice(1).split(" "),D=parseInt(N[0],10);D<=parseInt(N[1],10);++D)R=parseInt(N[2],10),C[D-1]=R===0?{hidden:!0}:{wch:R},I0(C[D-1]);break;case"C":b=parseInt(M[_].slice(1))-1,C[b]||(C[b]={});break;case"R":g=parseInt(M[_].slice(1))-1,w[g]||(w[g]={}),R>0?(w[g].hpt=R,w[g].hpx=Dv(R)):R===0&&(w[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+O)}Y<1&&(T=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+O)}}return w.length>0&&(F["!rows"]=w),C.length>0&&(F["!cols"]=C),p&&p.sheetRows&&(S=S.slice(0,p.sheetRows)),[S,F]}function i(m,p){var x=a(m,p),g=x[0],b=x[1],y=fx(g,p);return vs(b).forEach(function(_){y[_]=b[_]}),y}function o(m,p){return Q0(i(m,p),p)}function l(m,p,x,g){var b="C;Y"+(x+1)+";X"+(g+1)+";K";switch(m.t){case"n":b+=m.v||0,m.f&&!m.F&&(b+=";E"+yO(m.f,{r:x,c:g}));break;case"b":b+=m.v?"TRUE":"FALSE";break;case"e":b+=m.w||m.v;break;case"d":b+='"'+(m.w||m.v)+'"';break;case"s":b+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function u(m,p){p.forEach(function(x,g){var b="F;W"+(g+1)+" "+(g+1)+" ";x.hidden?b+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=ly(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=cy(x.wpx)),typeof x.wch=="number"&&(b+=Math.round(x.wch))),b.charAt(b.length-1)!=" "&&m.push(b)})}function d(m,p){p.forEach(function(x,g){var b="F;";x.hidden?b+="M0;":x.hpt?b+="M"+20*x.hpt+";":x.hpx&&(b+="M"+20*uy(x.hpx)+";"),b.length>2&&m.push(b+"R"+(g+1))})}function f(m,p){var x=["ID;PWXL;N;E"],g=[],b=jn(m["!ref"]),y,_=Array.isArray(m),S=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),m["!cols"]&&u(x,m["!cols"]),m["!rows"]&&d(x,m["!rows"]),x.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var I=b.s.r;I<=b.e.r;++I)for(var T=b.s.c;T<=b.e.c;++T){var F=Fr({r:I,c:T});y=_?(m[I]||[])[T]:m[F],!(!y||y.v==null&&(!y.f||y.F))&&g.push(l(y,m,I,T))}return x.join(S)+S+g.join(S)+S+"E"+S}return{to_workbook:o,to_sheet:i,from_sheet:f}}(),wJ=function(){function e(s,i){switch(i.type){case"base64":return t(gc(s),i);case"binary":return t(s,i);case"buffer":return t(an&&Buffer.isBuffer(s)?s.toString("binary"):M0(s),i);case"array":return t(dp(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var o=s.split(`
`),l=-1,u=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var m=o[d].trim().split(","),p=m[0],x=m[1];++d;for(var g=o[d]||"";(g.match(/["]/g)||[]).length&1&&d<o.length-1;)g+=`
`+o[++d];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++l]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][u]=!0:g==="FALSE"?f[l][u]=!1:isNaN(td(x))?isNaN(Fv(x).getDate())?f[l][u]=x:f[l][u]=Oa(x):f[l][u]=td(x),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][u++]=g!==""?g:null;break}if(g==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(s,i){return fx(e(s,i),i)}function n(s,i){return Q0(r(s,i),i)}var a=function(){var s=function(l,u,d,f,m){l.push(u),l.push(d+","+f),l.push('"'+m.replace(/"/g,'""')+'"')},i=function(l,u,d,f){l.push(u+","+d),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],d=jn(l["!ref"]),f,m=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){i(u,-1,0,"BOT");for(var x=d.s.c;x<=d.e.c;++x){var g=Fr({r:p,c:x});if(f=m?(l[p]||[])[x]:l[g],!f){i(u,1,0,"");continue}switch(f.t){case"n":var b=f.w;!b&&f.v!=null&&(b=f.v),b==null?f.f&&!f.F?i(u,1,0,"="+f.f):i(u,1,0,""):i(u,0,b,"V");break;case"b":i(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=mu(f.z||Tr[14],mi(Oa(f.v)))),i(u,0,f.w,"V");break;default:i(u,1,0,"")}}}i(u,-1,0,"EOD");var y=`\r
`,_=u.join(y);return _}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),EJ=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,m){for(var p=f.split(`
`),x=-1,g=-1,b=0,y=[];b!==p.length;++b){var _=p[b].trim().split(":");if(_[0]==="cell"){var S=Xa(_[1]);if(y.length<=S.r)for(x=y.length;x<=S.r;++x)y[x]||(y[x]=[]);switch(x=S.r,g=S.c,_[2]){case"t":y[x][g]=e(_[3]);break;case"v":y[x][g]=+_[3];break;case"vtf":var I=_[_.length-1];case"vtc":switch(_[3]){case"nl":y[x][g]=!!+_[4];break;default:y[x][g]=+_[4];break}_[2]=="vtf"&&(y[x][g]=[y[x][g],I])}}}return m&&m.sheetRows&&(y=y.slice(0,m.sheetRows)),y}function n(f,m){return fx(r(f,m),m)}function a(f,m){return Q0(n(f,m),m)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var m=[],p=[],x,g="",b=Ol(f["!ref"]),y=Array.isArray(f),_=b.s.r;_<=b.e.r;++_)for(var S=b.s.c;S<=b.e.c;++S)if(g=Fr({r:_,c:S}),x=y?(f[_]||[])[S]:f[g],!(!x||x.v==null||x.t==="z")){switch(p=["cell",g,"t"],x.t){case"s":case"str":p.push(t(x.v));break;case"n":x.f?(p[2]="vtf",p[3]="n",p[4]=x.v,p[5]=t(x.f)):(p[2]="v",p[3]=x.v);break;case"b":p[2]="vt"+(x.f?"f":"c"),p[3]="nl",p[4]=x.v?"1":"0",p[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var I=mi(Oa(x.v));p[2]="vtc",p[3]="nd",p[4]=""+I,p[5]=x.w||mu(x.z||Tr[14],I);break;case"e":continue}m.push(p.join(":"))}return m.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function d(f){return[s,i,o,i,u(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),Ov=function(){function e(d,f,m,p,x){x.raw?f[m][p]=d:d===""||(d==="TRUE"?f[m][p]=!0:d==="FALSE"?f[m][p]=!1:isNaN(td(d))?isNaN(Fv(d).getDate())?f[m][p]=d:f[m][p]=Oa(d):f[m][p]=td(d))}function t(d,f){var m=f||{},p=[];if(!d||d.length===0)return p;for(var x=d.split(/[\r\n]/),g=x.length-1;g>=0&&x[g].length===0;)--g;for(var b=10,y=0,_=0;_<=g;++_)y=x[_].indexOf(" "),y==-1?y=x[_].length:y++,b=Math.max(b,y);for(_=0;_<=g;++_){p[_]=[];var S=0;for(e(x[_].slice(0,b).trim(),p,_,S,m),S=1;S<=(x[_].length-b)/10+1;++S)e(x[_].slice(b+(S-1)*10,b+S*10).trim(),p,_,S,m)}return m.sheetRows&&(p=p.slice(0,m.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},m=!1,p=0,x=0;p<d.length;++p)(x=d.charCodeAt(p))==34?m=!m:!m&&x in r&&(f[x]=(f[x]||0)+1);x=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&x.push([f[p],p]);if(!x.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&x.push([f[p],p])}return x.sort(function(g,b){return g[0]-b[0]||n[g[1]]-n[b[1]]}),r[x.pop()[1]]||44}function s(d,f){var m=f||{},p="",x=m.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):m&&m.FS?p=m.FS:p=a(d.slice(0,1024));var b=0,y=0,_=0,S=0,I=0,T=p.charCodeAt(0),F=!1,w=0,C=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var N=m.dateNF!=null?xbe(m.dateNF):null;function R(){var D=d.slice(S,I),O={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)O.t="z";else if(m.raw)O.t="s",O.v=D;else if(D.trim().length===0)O.t="s",O.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(O.t="s",O.v=D.slice(2,-1).replace(/""/g,'"')):qCe(D)?(O.t="n",O.f=D.slice(1)):(O.t="s",O.v=D);else if(D=="TRUE")O.t="b",O.v=!0;else if(D=="FALSE")O.t="b",O.v=!1;else if(!isNaN(_=td(D)))O.t="n",m.cellText!==!1&&(O.w=D),O.v=_;else if(!isNaN(Fv(D).getDate())||N&&D.match(N)){O.z=m.dateNF||Tr[14];var M=0;N&&D.match(N)&&(D=bbe(D,m.dateNF,D.match(N)||[]),M=1),m.cellDates?(O.t="d",O.v=Oa(D,M)):(O.t="n",O.v=mi(Oa(D,M))),m.cellText!==!1&&(O.w=mu(O.z,O.v instanceof Date?mi(O.v):O.v)),m.cellNF||delete O.z}else O.t="s",O.v=D;if(O.t=="z"||(m.dense?(x[b]||(x[b]=[]),x[b][y]=O):x[Fr({c:y,r:b})]=O),S=I+1,C=d.charCodeAt(S),g.e.c<y&&(g.e.c=y),g.e.r<b&&(g.e.r=b),w==T)++y;else if(y=0,++b,m.sheetRows&&m.sheetRows<=b)return!0}e:for(;I<d.length;++I)switch(w=d.charCodeAt(I)){case 34:C===34&&(F=!F);break;case T:case 10:case 13:if(!F&&R())break e;break}return I-S>0&&R(),x["!ref"]=Gr(g),x}function i(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):fx(t(d,f),f)}function o(d,f){var m="",p=f.type=="string"?[0,0,0,0]:kO(d,f);switch(f.type){case"base64":m=gc(d);break;case"binary":m=d;break;case"buffer":f.codepage==65001?m=d.toString("utf8"):f.codepage&&typeof ey<"u"||(m=an&&Buffer.isBuffer(d)?d.toString("binary"):M0(d));break;case"array":m=dp(d);break;case"string":m=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?m=ga(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=ga(m):f.type=="binary"&&typeof ey<"u",m.slice(0,19)=="socialcalc:version:"?EJ.to_sheet(f.type=="string"?m:ga(m),f):i(m,f)}function l(d,f){return Q0(o(d,f),f)}function u(d){for(var f=[],m=jn(d["!ref"]),p,x=Array.isArray(d),g=m.s.r;g<=m.e.r;++g){for(var b=[],y=m.s.c;y<=m.e.c;++y){var _=Fr({r:g,c:y});if(p=x?(d[g]||[])[y]:d[_],!p||p.v==null){b.push("          ");continue}for(var S=(p.w||(Bf(p),p.w)||"").slice(0,10);S.length<10;)S+=" ";b.push(S+(y===0?" ":""))}f.push(b.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}();function O2e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=yJ.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return Ov.to_workbook(e,t)}}var qm=function(){function e(P,G,Y){if(P){to(P,P.l||0);for(var re=Y.Enum||K;P.l<P.length;){var ie=P.read_shift(2),de=re[ie]||re[65535],me=P.read_shift(2),ue=P.l+me,ye=de.f&&de.f(P,me,Y);if(P.l=ue,G(ye,de,ie))return}}}function t(P,G){switch(G.type){case"base64":return r(cc(gc(P)),G);case"binary":return r(cc(P),G);case"buffer":case"array":return r(P,G)}throw"Unsupported type "+G.type}function r(P,G){if(!P)return P;var Y=G||{},re=Y.dense?[]:{},ie="Sheet1",de="",me=0,ue={},ye=[],Ie=[],ne={s:{r:0,c:0},e:{r:0,c:0}},Fe=Y.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)Y.Enum=K,e(P,function(je,He,Xe){switch(Xe){case 0:Y.vers=je,je>=4096&&(Y.qpro=!0);break;case 6:ne=je;break;case 204:je&&(de=je);break;case 222:de=je;break;case 15:case 51:Y.qpro||(je[1].v=je[1].v.slice(1));case 13:case 14:case 16:Xe==14&&(je[2]&112)==112&&(je[2]&15)>1&&(je[2]&15)<15&&(je[1].z=Y.dateNF||Tr[14],Y.cellDates&&(je[1].t="d",je[1].v=I5(je[1].v))),Y.qpro&&je[3]>me&&(re["!ref"]=Gr(ne),ue[ie]=re,ye.push(ie),re=Y.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},me=je[3],ie=de||"Sheet"+(me+1),de="");var dt=Y.dense?(re[je[0].r]||[])[je[0].c]:re[Fr(je[0])];if(dt){dt.t=je[1].t,dt.v=je[1].v,je[1].z!=null&&(dt.z=je[1].z),je[1].f!=null&&(dt.f=je[1].f);break}Y.dense?(re[je[0].r]||(re[je[0].r]=[]),re[je[0].r][je[0].c]=je[1]):re[Fr(je[0])]=je[1];break}},Y);else if(P[2]==26||P[2]==14)Y.Enum=J,P[2]==14&&(Y.qpro=!0,P.l=0),e(P,function(je,He,Xe){switch(Xe){case 204:ie=je;break;case 22:je[1].v=je[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(je[3]>me&&(re["!ref"]=Gr(ne),ue[ie]=re,ye.push(ie),re=Y.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},me=je[3],ie="Sheet"+(me+1)),Fe>0&&je[0].r>=Fe)break;Y.dense?(re[je[0].r]||(re[je[0].r]=[]),re[je[0].r][je[0].c]=je[1]):re[Fr(je[0])]=je[1],ne.e.c<je[0].c&&(ne.e.c=je[0].c),ne.e.r<je[0].r&&(ne.e.r=je[0].r);break;case 27:je[14e3]&&(Ie[je[14e3][0]]=je[14e3][1]);break;case 1537:Ie[je[0]]=je[1],je[0]==me&&(ie=je[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(re["!ref"]=Gr(ne),ue[de||ie]=re,ye.push(de||ie),!Ie.length)return{SheetNames:ye,Sheets:ue};for(var Le={},ke=[],pe=0;pe<Ie.length;++pe)ue[ye[pe]]?(ke.push(Ie[pe]||ye[pe]),Le[Ie[pe]]=ue[Ie[pe]]||ue[ye[pe]]):(ke.push(Ie[pe]),Le[Ie[pe]]={"!ref":"A1"});return{SheetNames:ke,Sheets:Le}}function n(P,G){var Y=G||{};if(+Y.codepage>=0&&Zu(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var re=jl(),ie=jn(P["!ref"]),de=Array.isArray(P),me=[];Qt(re,0,s(1030)),Qt(re,6,l(ie));for(var ue=Math.min(ie.e.r,8191),ye=ie.s.r;ye<=ue;++ye)for(var Ie=Ds(ye),ne=ie.s.c;ne<=ie.e.c;++ne){ye===ie.s.r&&(me[ne]=Wa(ne));var Fe=me[ne]+Ie,Le=de?(P[ye]||[])[ne]:P[Fe];if(!(!Le||Le.t=="z"))if(Le.t=="n")(Le.v|0)==Le.v&&Le.v>=-32768&&Le.v<=32767?Qt(re,13,p(ye,ne,Le.v)):Qt(re,14,g(ye,ne,Le.v));else{var ke=Bf(Le);Qt(re,15,f(ye,ne,ke.slice(0,239)))}}return Qt(re,1),re.end()}function a(P,G){var Y=G||{};if(+Y.codepage>=0&&Zu(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var re=jl();Qt(re,0,i(P));for(var ie=0,de=0;ie<P.SheetNames.length;++ie)(P.Sheets[P.SheetNames[ie]]||{})["!ref"]&&Qt(re,27,q(P.SheetNames[ie],de++));var me=0;for(ie=0;ie<P.SheetNames.length;++ie){var ue=P.Sheets[P.SheetNames[ie]];if(!(!ue||!ue["!ref"])){for(var ye=jn(ue["!ref"]),Ie=Array.isArray(ue),ne=[],Fe=Math.min(ye.e.r,8191),Le=ye.s.r;Le<=Fe;++Le)for(var ke=Ds(Le),pe=ye.s.c;pe<=ye.e.c;++pe){Le===ye.s.r&&(ne[pe]=Wa(pe));var je=ne[pe]+ke,He=Ie?(ue[Le]||[])[pe]:ue[je];if(!(!He||He.t=="z"))if(He.t=="n")Qt(re,23,R(Le,pe,me,He.v));else{var Xe=Bf(He);Qt(re,22,w(Le,pe,me,Xe.slice(0,239)))}}++me}}return Qt(re,1),re.end()}function s(P){var G=At(2);return G.write_shift(2,P),G}function i(P){var G=At(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var Y=0,re=0,ie=0,de=0;de<P.SheetNames.length;++de){var me=P.SheetNames[de],ue=P.Sheets[me];if(!(!ue||!ue["!ref"])){++ie;var ye=Ol(ue["!ref"]);Y<ye.e.r&&(Y=ye.e.r),re<ye.e.c&&(re=ye.e.c)}}return Y>8191&&(Y=8191),G.write_shift(2,Y),G.write_shift(1,ie),G.write_shift(1,re),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function o(P,G,Y){var re={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&Y.qpro?(re.s.c=P.read_shift(1),P.l++,re.s.r=P.read_shift(2),re.e.c=P.read_shift(1),P.l++,re.e.r=P.read_shift(2),re):(re.s.c=P.read_shift(2),re.s.r=P.read_shift(2),G==12&&Y.qpro&&(P.l+=2),re.e.c=P.read_shift(2),re.e.r=P.read_shift(2),G==12&&Y.qpro&&(P.l+=2),re.s.c==65535&&(re.s.c=re.e.c=re.s.r=re.e.r=0),re)}function l(P){var G=At(8);return G.write_shift(2,P.s.c),G.write_shift(2,P.s.r),G.write_shift(2,P.e.c),G.write_shift(2,P.e.r),G}function u(P,G,Y){var re=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(re[0].c=P.read_shift(1),re[3]=P.read_shift(1),re[0].r=P.read_shift(2),P.l+=2):(re[2]=P.read_shift(1),re[0].c=P.read_shift(2),re[0].r=P.read_shift(2)),re}function d(P,G,Y){var re=P.l+G,ie=u(P,G,Y);if(ie[1].t="s",Y.vers==20768){P.l++;var de=P.read_shift(1);return ie[1].v=P.read_shift(de,"utf8"),ie}return Y.qpro&&P.l++,ie[1].v=P.read_shift(re-P.l,"cstr"),ie}function f(P,G,Y){var re=At(7+Y.length);re.write_shift(1,255),re.write_shift(2,G),re.write_shift(2,P),re.write_shift(1,39);for(var ie=0;ie<re.length;++ie){var de=Y.charCodeAt(ie);re.write_shift(1,de>=128?95:de)}return re.write_shift(1,0),re}function m(P,G,Y){var re=u(P,G,Y);return re[1].v=P.read_shift(2,"i"),re}function p(P,G,Y){var re=At(7);return re.write_shift(1,255),re.write_shift(2,G),re.write_shift(2,P),re.write_shift(2,Y,"i"),re}function x(P,G,Y){var re=u(P,G,Y);return re[1].v=P.read_shift(8,"f"),re}function g(P,G,Y){var re=At(13);return re.write_shift(1,255),re.write_shift(2,G),re.write_shift(2,P),re.write_shift(8,Y,"f"),re}function b(P,G,Y){var re=P.l+G,ie=u(P,G,Y);if(ie[1].v=P.read_shift(8,"f"),Y.qpro)P.l=re;else{var de=P.read_shift(2);I(P.slice(P.l,P.l+de),ie),P.l+=de}return ie}function y(P,G,Y){var re=G&32768;return G&=-32769,G=(re?P:0)+(G>=8192?G-16384:G),(re?"":"$")+(Y?Wa(G):Ds(G))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function I(P,G){to(P,0);for(var Y=[],re=0,ie="",de="",me="",ue="";P.l<P.length;){var ye=P[P.l++];switch(ye){case 0:Y.push(P.read_shift(8,"f"));break;case 1:de=y(G[0].c,P.read_shift(2),!0),ie=y(G[0].r,P.read_shift(2),!1),Y.push(de+ie);break;case 2:{var Ie=y(G[0].c,P.read_shift(2),!0),ne=y(G[0].r,P.read_shift(2),!1);de=y(G[0].c,P.read_shift(2),!0),ie=y(G[0].r,P.read_shift(2),!1),Y.push(Ie+ne+":"+de+ie)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(P.read_shift(2));break;case 6:{for(var Fe="";ye=P[P.l++];)Fe+=String.fromCharCode(ye);Y.push('"'+Fe.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:ue=Y.pop(),me=Y.pop(),Y.push(["AND","OR"][ye-20]+"("+me+","+ue+")");break;default:if(ye<32&&S[ye])ue=Y.pop(),me=Y.pop(),Y.push(me+S[ye]+ue);else if(_[ye]){if(re=_[ye][1],re==69&&(re=P[P.l++]),re>Y.length){console.error("WK1 bad formula parse 0x"+ye.toString(16)+":|"+Y.join("|")+"|");return}var Le=Y.slice(-re);Y.length-=re,Y.push(_[ye][0]+"("+Le.join(",")+")")}else return ye<=7?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=24?console.error("WK1 unsupported op "+ye.toString(16)):ye<=30?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=115?console.error("WK1 unsupported function opcode "+ye.toString(16)):console.error("WK1 unrecognized opcode "+ye.toString(16))}}Y.length==1?G[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function T(P){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=P.read_shift(2),G[3]=P[P.l++],G[0].c=P[P.l++],G}function F(P,G){var Y=T(P);return Y[1].t="s",Y[1].v=P.read_shift(G-4,"cstr"),Y}function w(P,G,Y,re){var ie=At(6+re.length);ie.write_shift(2,P),ie.write_shift(1,Y),ie.write_shift(1,G),ie.write_shift(1,39);for(var de=0;de<re.length;++de){var me=re.charCodeAt(de);ie.write_shift(1,me>=128?95:me)}return ie.write_shift(1,0),ie}function C(P,G){var Y=T(P);Y[1].v=P.read_shift(2);var re=Y[1].v>>1;if(Y[1].v&1)switch(re&7){case 0:re=(re>>3)*5e3;break;case 1:re=(re>>3)*500;break;case 2:re=(re>>3)/20;break;case 3:re=(re>>3)/200;break;case 4:re=(re>>3)/2e3;break;case 5:re=(re>>3)/2e4;break;case 6:re=(re>>3)/16;break;case 7:re=(re>>3)/64;break}return Y[1].v=re,Y}function N(P,G){var Y=T(P),re=P.read_shift(4),ie=P.read_shift(4),de=P.read_shift(2);if(de==65535)return re===0&&ie===3221225472?(Y[1].t="e",Y[1].v=15):re===0&&ie===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var me=de&32768;return de=(de&32767)-16446,Y[1].v=(1-me*2)*(ie*Math.pow(2,de+32)+re*Math.pow(2,de)),Y}function R(P,G,Y,re){var ie=At(14);if(ie.write_shift(2,P),ie.write_shift(1,Y),ie.write_shift(1,G),re==0)return ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(2,65535),ie;var de=0,me=0,ue=0,ye=0;return re<0&&(de=1,re=-re),me=Math.log2(re)|0,re/=Math.pow(2,me-31),ye=re>>>0,(ye&2147483648)==0&&(re/=2,++me,ye=re>>>0),re-=ye,ye|=2147483648,ye>>>=0,re*=Math.pow(2,32),ue=re>>>0,ie.write_shift(4,ue),ie.write_shift(4,ye),me+=16383+(de?32768:0),ie.write_shift(2,me),ie}function D(P,G){var Y=N(P);return P.l+=G-14,Y}function O(P,G){var Y=T(P),re=P.read_shift(4);return Y[1].v=re>>6,Y}function M(P,G){var Y=T(P),re=P.read_shift(8,"f");return Y[1].v=re,Y}function Q(P,G){var Y=M(P);return P.l+=G-10,Y}function ee(P,G){return P[P.l+G-1]==0?P.read_shift(G,"cstr"):""}function W(P,G){var Y=P[P.l++];Y>G-1&&(Y=G-1);for(var re="";re.length<Y;)re+=String.fromCharCode(P[P.l++]);return re}function Z(P,G,Y){if(!(!Y.qpro||G<21)){var re=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var ie=P.read_shift(G-21,"cstr");return[re,ie]}}function V(P,G){for(var Y={},re=P.l+G;P.l<re;){var ie=P.read_shift(2);if(ie==14e3){for(Y[ie]=[0,""],Y[ie][0]=P.read_shift(2);P[P.l];)Y[ie][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return Y}function q(P,G){var Y=At(5+P.length);Y.write_shift(2,14e3),Y.write_shift(2,G);for(var re=0;re<P.length;++re){var ie=P.charCodeAt(re);Y[Y.l++]=ie>127?95:ie}return Y[Y.l++]=0,Y}var K={0:{n:"BOF",f:qs},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ee},222:{n:"SHEETNAMELP",f:W},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:F},23:{n:"NUMBER17",f:N},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:V},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:M},40:{n:"FORMULA28",f:Q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function D2e(e){var t={},r=e.match(Vo),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=Rr(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=K6[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var P2e=function(){var e=ny("t"),t=ny("rPr");function r(s){var i=s.match(e);if(!i)return{t:"s",v:""};var o={t:"s",v:In(i[1])},l=s.match(t);return l&&(o.s=D2e(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),R2e=function(){var t=/(\r\n|\n)/g;function r(a,s,i){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),a.b&&(s.push("<b>"),i.push("</b>")),a.i&&(s.push("<i>"),i.push("</i>")),a.strike&&(s.push("<s>"),i.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),i.push("</"+l+">")),i.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),L2e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,U2e=/<(?:\w+:)?r>/,M2e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function pO(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=In(ga(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=ga(e),r&&(n.h=rO(n.t))):e.match(U2e)&&(n.r=ga(e),n.t=In(ga((e.replace(M2e,"").match(L2e)||[]).join("").replace(Vo,""))),r&&(n.h=R2e(P2e(n.r)))),n):{t:""}}var Q2e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,H2e=/<(?:\w+:)?(?:si|sstItem)>/g,V2e=/<\/(?:\w+:)?(?:si|sstItem)>/;function z2e(e,t){var r=[],n="";if(!e)return r;var a=e.match(Q2e);if(a){n=a[2].replace(H2e,"").split(V2e);for(var s=0;s!=n.length;++s){var i=pO(n[s].trim(),t);i!=null&&(r[r.length]=i)}a=Rr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var $2e=/^\s|\s$|[\t\n\r]/;function CJ(e,t){if(!t.bookSST)return"";var r=[Ps];r[r.length]=Ut("sst",null,{xmlns:Bp[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match($2e)&&(s+=' xml:space="preserve"'),s+=">"+ca(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function K2e(e){return[e.read_shift(4),e.read_shift(4)]}function G2e(e,t){var r=[],n=!1;return Vf(e,function(s,i,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function q2e(e,t){return t||(t=At(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var W2e=sye;function X2e(e){var t=jl();Nt(t,159,q2e(e));for(var r=0;r<e.length;++r)Nt(t,19,W2e(e[r]));return Nt(t,160),t.end()}function _J(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function gf(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Y2e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=gf(e,4),t.U=gf(e,4),t.W=gf(e,4),t}function J2e(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function Z2e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(J2e(e));return t}function eEe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function tEe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=gf(e,4),t.U=gf(e,4),t.W=gf(e,4),t}function rEe(e){var t=tEe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function SJ(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function NJ(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function nEe(e){var t=gf(e);switch(t.Minor){case 2:return[t.Minor,aEe(e)];case 3:return[t.Minor,sEe()];case 4:return[t.Minor,iEe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function aEe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=SJ(e,r),a=NJ(e,e.length-e.l);return{t:"Std",h:n,v:a}}function sEe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function iEe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Vo,function(s){var i=Rr(s);switch(bA(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=i[o]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function oEe(e,t){var r={},n=r.EncryptionVersionInfo=gf(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=SJ(e,a),t-=a,r.EncryptionVerifier=NJ(e,t),r}function lEe(e){var t={},r=t.EncryptionVersionInfo=gf(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function gO(e){var t=0,r,n=_J(e),a=n.length+1,s,i,o,l,u;for(r=T0(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],o=(t&16384)===0?0:1,l=t<<1&32767,u=o|l,t=u^i;return t^52811}var BJ=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},a=function(i,o){return n(i^o)},s=function(i){for(var o=t[i.length-1],l=104,u=i.length-1;u>=0;--u)for(var d=i[u],f=0;f!=7;++f)d&64&&(o^=r[l]),d*=2,--l;return o};return function(i){for(var o=_J(i),l=s(o),u=o.length,d=T0(16),f=0;f!=16;++f)d[f]=0;var m,p,x;for((u&1)===1&&(m=l>>8,d[u]=a(e[0],m),--u,m=l&255,p=o[o.length-1],d[u]=a(p,m));u>0;)--u,m=l>>8,d[u]=a(o[u],m),--u,m=l&255,d[u]=a(o[u],m);for(u=15,x=15-o.length;x>0;)m=l>>8,d[u]=a(e[x],m),--u,--x,m=l&255,d[u]=a(o[u],m),--u,--x;return d}}(),cEe=function(e,t,r,n,a){a||(a=t),n||(n=BJ(e));var s,i;for(s=0;s!=t.length;++s)i=t[s],i^=n[r],i=(i>>5|i<<3)&255,a[s]=i,++r;return[a,r,n]},uEe=function(e){var t=0,r=BJ(e);return function(n){var a=cEe("",n,t,r);return t=a[1],a[0]}};function dEe(e,t,r,n){var a={key:qs(e),verificationBytes:qs(e)};return r.password&&(a.verifier=gO(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=uEe(r.password)),a}function AEe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=lEe(e):n.Data=oEe(e,t),n}function fEe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?AEe(e,t-2,n):dEe(e,r.biff>=8?t:t-2,r,n),n}var kJ=function(){function e(a,s){switch(s.type){case"base64":return t(gc(a),s);case"binary":return t(a,s);case"buffer":return t(an&&Buffer.isBuffer(a)?a.toString("binary"):M0(a),s);case"array":return t(dp(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},o=i.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var m=/\\\w+\b/g,p=0,x,g=-1;x=m.exec(d);){switch(x[0]){case"\\cell":var b=d.slice(p,m.lastIndex-x[0].length);if(b[0]==" "&&(b=b.slice(1)),++g,b.length){var y={v:b,t:"s"};Array.isArray(o)?o[f][g]=y:o[Fr({r:f,c:g})]=y}break}p=m.lastIndex}g>u.e.c&&(u.e.c=g)}),o["!ref"]=Gr(u),o}function r(a,s){return Q0(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=jn(a["!ref"]),o,l=Array.isArray(a),u=i.s.r;u<=i.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var f=Fr({r:u,c:d});o=l?(a[u]||[])[d]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Bf(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function hEe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function oy(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function mEe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(i===0)return[0,0,t];var o=0,l=0,u=a+s;switch(l=i/(u>1?2-u:u),a){case t:o=((r-n)/i+6)%6;break;case r:o=(n-t)/i+2;break;case n:o=(t-r)/i+4;break}return[o/6,l,u/2]}function pEe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,i=[s,s,s],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,i[0]+=a,i[1]+=l;break;case 1:l=a*(2-o),i[0]+=l,i[1]+=a;break;case 2:l=a*(o-2),i[1]+=a,i[2]+=l;break;case 3:l=a*(4-o),i[1]+=l,i[2]+=a;break;case 4:l=a*(o-4),i[2]+=a,i[0]+=l;break;case 5:l=a*(6-o),i[2]+=l,i[0]+=a;break}for(var u=0;u!=3;++u)i[u]=Math.round(i[u]*255);return i}function S_(e,t){if(t===0)return e;var r=mEe(hEe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),oy(pEe(r))}var TJ=6,gEe=15,vEe=1,Fo=TJ;function ly(e){return Math.floor((e+Math.round(128/Fo)/256)*Fo)}function cy(e){return Math.floor((e-5)/Fo*100+.5)/100}function N_(e){return Math.round((e*Fo+5)/Fo*256)/256}function KB(e){return N_(cy(ly(e)))}function vO(e){var t=Math.abs(e-KB(e)),r=Fo;if(t>.005)for(Fo=vEe;Fo<gEe;++Fo)Math.abs(e-KB(e))<=t&&(t=Math.abs(e-KB(e)),r=Fo);Fo=r}function I0(e){e.width?(e.wpx=ly(e.width),e.wch=cy(e.wpx),e.MDW=Fo):e.wpx?(e.wch=cy(e.wpx),e.width=N_(e.wch),e.MDW=Fo):typeof e.wch=="number"&&(e.width=N_(e.wch),e.wpx=ly(e.width),e.MDW=Fo),e.customWidth&&delete e.customWidth}var xEe=96,IJ=xEe;function uy(e){return e*96/IJ}function Dv(e){return e*IJ/96}var bEe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function yEe(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Vo)||[]).forEach(function(i){var o=Rr(i);switch(bA(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=ja(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=ja(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function wEe(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Vo)||[]).forEach(function(i){var o=Rr(i);switch(bA(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function EEe(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Vo)||[]).forEach(function(i){var o=Rr(i);switch(bA(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=ga(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?ja(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?ja(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?ja(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?ja(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?ja(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?ja(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?ja(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=K6[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=ja(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Km[a.color.index];a.color.index==81&&(l=Km[1]),l||(l=Km[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=S_(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function CEe(e,t,r){t.NumberFmt=[];for(var n=vs(Tr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Tr[n[a]];var s=e[0].match(Vo);if(s)for(a=0;a<s.length;++a){var i=Rr(s[a]);switch(bA(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=In(ga(i.formatCode)),l=parseInt(i.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}pf(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}function _Ee(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Ut("numFmt",null,{numFmtId:n,formatCode:ca(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ut("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var X2=["numFmtId","fillId","fontId","borderId","xfId"],Y2=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function SEe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Vo)||[]).forEach(function(s){var i=Rr(s),o=0;switch(bA(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],o=0;o<X2.length;++o)n[X2[o]]&&(n[X2[o]]=parseInt(n[X2[o]],10));for(o=0;o<Y2.length;++o)n[Y2[o]]&&(n[Y2[o]]=ja(n[Y2[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};i.vertical&&(l.vertical=i.vertical),i.horizontal&&(l.horizontal=i.horizontal),i.textRotation!=null&&(l.textRotation=i.textRotation),i.indent&&(l.indent=i.indent),i.wrapText&&(l.wrapText=ja(i.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}function NEe(e){var t=[];return t[t.length]=Ut("cellXfs",null),e.forEach(function(r){t[t.length]=Ut("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ut("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var BEe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&CEe(f,d,u),(f=o.match(a))&&EEe(f,d,l,u),(f=o.match(n))&&wEe(f,d,l,u),(f=o.match(s))&&yEe(f,d,l,u),(f=o.match(r))&&SEe(f,d,u),d}}();function jJ(e,t){var r=[Ps,Ut("styleSheet",null,{xmlns:Bp[0],"xmlns:vt":fi.vt})],n;return e.SSF&&(n=_Ee(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=NEe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function kEe(e,t){var r=e.read_shift(2),n=Uo(e);return[r,n]}function TEe(e,t,r){r||(r=At(6+4*t.length)),r.write_shift(2,e),Ri(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function IEe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Aye(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=dye(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Uo(e),n}function jEe(e,t){t||(t=At(153)),t.write_shift(2,e.sz*20),fye(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),E_(e.color,t);var n=0;return n=2,t.write_shift(1,n),Ri(e.name,t),t.length>t.l?t.slice(0,t.l):t}var FEe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],GB,OEe=Qo;function d9(e,t){t||(t=At(84)),GB||(GB=k5(FEe));var r=GB[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(E_({auto:1},t),E_({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function DEe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function FJ(e,t,r){r||(r=At(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function w1(e,t){return t||(t=At(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var PEe=Qo;function REe(e,t){return t||(t=At(51)),t.write_shift(1,0),w1(null,t),w1(null,t),w1(null,t),w1(null,t),w1(null,t),t.length>t.l?t.slice(0,t.l):t}function LEe(e,t){return t||(t=At(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),w_(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function UEe(e,t,r){var n=At(2052);return n.write_shift(4,e),w_(t,n),w_(r,n),n.length>n.l?n.slice(0,n.l):n}function MEe(e,t,r){var n={};n.NumberFmt=[];for(var a in Tr)n.NumberFmt[a]=Tr[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return Vf(e,function(l,u,d){switch(d){case 44:n.NumberFmt[l[0]]=l[1],pf(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=S_(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(d),i=!0;break;case 38:s.pop(),i=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!i||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function QEe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Nt(e,615,rd(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Nt(e,44,TEe(a,t[a]))}),Nt(e,616))}}function HEe(e){var t=1;Nt(e,611,rd(t)),Nt(e,43,jEe({sz:12,color:{theme:1},name:"Calibri",family:2})),Nt(e,612)}function VEe(e){var t=2;Nt(e,603,rd(t)),Nt(e,45,d9({patternType:"none"})),Nt(e,45,d9({patternType:"gray125"})),Nt(e,604)}function zEe(e){var t=1;Nt(e,613,rd(t)),Nt(e,46,REe()),Nt(e,614)}function $Ee(e){var t=1;Nt(e,626,rd(t)),Nt(e,47,FJ({numFmtId:0},65535)),Nt(e,627)}function KEe(e,t){Nt(e,617,rd(t.length)),t.forEach(function(r){Nt(e,47,FJ(r,0))}),Nt(e,618)}function GEe(e){var t=1;Nt(e,619,rd(t)),Nt(e,48,LEe({xfId:0,name:"Normal"})),Nt(e,620)}function qEe(e){var t=0;Nt(e,505,rd(t)),Nt(e,506)}function WEe(e){var t=0;Nt(e,508,UEe(t,"TableStyleMedium9","PivotStyleMedium4")),Nt(e,509)}function XEe(e,t){var r=jl();return Nt(r,278),QEe(r,e.SSF),HEe(r),VEe(r),zEe(r),$Ee(r),KEe(r,t.cellXfs),GEe(r),qEe(r),WEe(r),Nt(r,279),r.end()}var YEe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function JEe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Vo)||[]).forEach(function(a){var s=Rr(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[YEe.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function ZEe(){}function eCe(){}var tCe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,rCe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,nCe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function aCe(e,t,r){t.themeElements={};var n;[["clrScheme",tCe,JEe],["fontScheme",rCe,ZEe],["fmtScheme",nCe,eCe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var sCe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function OJ(e,t){(!e||e.length===0)&&(e=xO());var r,n={};if(!(r=e.match(sCe)))throw new Error("themeElements not found in theme");return aCe(r[0],n,t),n.raw=e,n}function xO(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Ps];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function iCe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var i;try{i=SY(s,{type:"array"})}catch{return}var o=uc(i,"theme/theme/theme1.xml",!0);if(o)return OJ(o,r)}}function oCe(e){return e.read_shift(4)}function lCe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=cCe(e,4);break;case 2:t.xclrValue=fJ(e);break;case 3:t.xclrValue=oCe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function cCe(e,t){return Qo(e,t)}function uCe(e,t){return Qo(e,t)}function dCe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=lCe(e);break;case 6:n[1]=uCe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function ACe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(dCe(e,r-e.l));return{ixfe:n,ext:s}}function fCe(e,t){t.forEach(function(r){r[0]})}function hCe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Uo(e)}}function mCe(e){var t=At(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ri(e.name,t),t.slice(0,t.l)}function pCe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function gCe(e){var t=At(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function vCe(e,t){var r=At(8+2*t.length);return r.write_shift(4,e),Ri(t,r),r.slice(0,r.l)}function xCe(e){return e.l+=4,e.read_shift(4)!=0}function bCe(e,t){var r=At(8);return r.write_shift(4,e),r.write_shift(4,1),r}function yCe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,o=2;return Vf(e,function(l,u,d){switch(d){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(d),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!u.T){if(!i||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function wCe(){var e=jl();return Nt(e,332),Nt(e,334,rd(1)),Nt(e,335,mCe({name:"XLDAPR",version:12e4,flags:3496657072})),Nt(e,336),Nt(e,339,vCe(1,"XLDAPR")),Nt(e,52),Nt(e,35,rd(514)),Nt(e,4096,rd(0)),Nt(e,4097,nu(1)),Nt(e,36),Nt(e,53),Nt(e,340),Nt(e,337,bCe(1)),Nt(e,51,gCe([[1,0]])),Nt(e,338),Nt(e,333),e.end()}function ECe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,i;return e.replace(Vo,function(o){var l=Rr(o);switch(bA(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==l.name&&(i=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):s==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function DJ(){var e=[Ps];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function CCe(e){var t=[];if(!e)return t;var r=1;return(e.match(Vo)||[]).forEach(function(n){var a=Rr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function _Ce(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Fr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function SCe(e,t,r){var n=[];return Vf(e,function(s,i,o){switch(o){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function NCe(e,t,r,n){if(!e)return e;var a=n||{},s=!1;Vf(e,function(o,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function BCe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var qg=1024;function PJ(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Ut("xml",null,{"xmlns:v":ic.v,"xmlns:o":ic.o,"xmlns:x":ic.x,"xmlns:mv":ic.mv}).replace(/\/>/,">"),Ut("o:shapelayout",Ut("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ut("v:shapetype",[Ut("v:stroke",null,{joinstyle:"miter"}),Ut("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];qg<e*1e3;)qg+=1e3;return t.forEach(function(s){var i=Xa(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?Ut("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Ut("v:fill",l,o),d={on:"t",obscured:"t"};++qg,a=a.concat(["<v:shape"+ay({id:"_x0000_s"+qg,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Ut("v:shadow",null,d),Ut("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",no("x:Anchor",[i.c+1,0,i.r+1,0,i.c+3,20,i.r+5,20].join(",")),no("x:AutoFill","False"),no("x:Row",String(i.r)),no("x:Column",String(i.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function A9(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(i){var o=Xa(i.ref);if(a?(e[o.r]||(e[o.r]=[]),s=e[o.r][o.c]):s=e[i.ref],!s){s={t:"z"},a?e[o.r][o.c]=s:e[i.ref]=s;var l=jn(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var u=Gr(l);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:i.author,t:i.t,r:i.r,T:r};i.h&&(d.h=i.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function kCe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Rr(o[0]),u={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=Xa(l.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!f&&!!f[1]&&pO(f[1])||{r:"",t:"",h:""};u.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),u.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=m.h),n.push(u)}}}}),n}function RJ(e){var t=[Ps,Ut("comments",null,{xmlns:Bp[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var s=ca(a.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(a=r.indexOf(ca(l.a))),s.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)t.push(no("t",ca(s[0]||"")));else{for(var i=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)i+=`Reply:
    `+s[o]+`
`;t.push(no("t",ca(i)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function TCe(e,t){var r=[],n=!1,a={},s=0;return e.replace(Vo,function(o,l){var u=Rr(o);switch(bA(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":a.t=e.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function ICe(e,t,r){var n=[Ps,Ut("ThreadedComments",null,{xmlns:fi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var s="";(a[1]||[]).forEach(function(i,o){if(!i.T){delete i.ID;return}i.a&&t.indexOf(i.a)==-1&&t.push(i.a);var l={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,i.ID=l.id,i.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(i.a)).slice(-12)+"}"),n.push(Ut("threadedComment",no("text",i.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function jCe(e,t){var r=[],n=!1;return e.replace(Vo,function(s){var i=Rr(s);switch(bA(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),r}function FCe(e){var t=[Ps,Ut("personList",null,{xmlns:fi.TCMNT,"xmlns:x":Bp[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Ut("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function OCe(e){var t={};t.iauthor=e.read_shift(4);var r=jp(e);return t.rfx=r.s,t.ref=Fr(r.s),e.l+=16,t}function DCe(e,t){return t==null&&(t=At(36)),t.write_shift(4,e[1].iauthor),hx(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var PCe=Uo;function RCe(e){return Ri(e.slice(0,54))}function LCe(e,t){var r=[],n=[],a={},s=!1;return Vf(e,function(o,l,u){switch(u){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function UCe(e){var t=jl(),r=[];return Nt(t,628),Nt(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Nt(t,632,RCe(a.a)))})}),Nt(t,631),Nt(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var s={s:Xa(n[0]),e:Xa(n[0])};Nt(t,635,DCe([s,a])),a.t&&a.t.length>0&&Nt(t,637,oye(a)),Nt(t,636),delete a.iauthor})}),Nt(t,634),Nt(t,629),t.end()}var MCe="application/vnd.ms-office.vbaProject";function QCe(e){var t=vr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");vr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),vr.write(t)}function HCe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&vr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var LJ=["xlsb","xlsm","xlam","biff8","xla"];function VCe(){return{"!type":"dialog"}}function zCe(){return{"!type":"dialog"}}function $Ce(){return{"!type":"macro"}}function KCe(){return{"!type":"macro"}}var mv=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return o?d+=t.c:--d,l?u+=t.r:--u,a+(o?"":"$")+Wa(d)+(l?"":"$")+Ds(u)}return function(a,s){return t=s,a.replace(e,r)}}(),bO=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,yO=function(){return function(t,r){return t.replace(bO,function(n,a,s,i,o,l){var u=oO(i)-(s?0:r.c),d=iO(l)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",m=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+m})}}();function UJ(e,t){return e.replace(bO,function(r,n,a,s,i,o){return n+(a=="$"?a+s:Wa(oO(s)+t.c))+(i=="$"?i+o:Ds(iO(o)+t.r))})}function GCe(e,t,r){var n=Ol(t),a=n.s,s=Xa(r),i={r:s.r-a.r,c:s.c-a.c};return UJ(e,i)}function qCe(e){return e.length!=1}function f9(e){return e.replace(/_xlfn\./g,"")}function $s(e){e.l+=1}function j0(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function MJ(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return QJ(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=j0(e),o=j0(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function QJ(e){var t=j0(e),r=j0(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function WCe(e,t,r){if(r.biff<8)return QJ(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=j0(e),i=j0(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function HJ(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return XCe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=j0(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function XCe(e){var t=j0(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function YCe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function JCe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return ZCe(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:o}}function ZCe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function e_e(e,t,r){var n=(e[e.l++]&96)>>5,a=MJ(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function t_e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=MJ(e,s,r);return[n,a,i]}function r_e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function n_e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function a_e(e,t,r){var n=(e[e.l++]&96)>>5,a=WCe(e,t-1,r);return[n,a]}function s_e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function h9(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function i_e(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function o_e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function l_e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function c_e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function u_e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function VJ(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function d_e(e){return e.read_shift(2),VJ(e)}function A_e(e){return e.read_shift(2),VJ(e)}function f_e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=HJ(e,0,r);return[n,a]}function h_e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=JCe(e,0,r);return[n,a]}function m_e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=HJ(e,0,r);return[n,a,s]}function p_e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[xSe[a],KJ[a],n]}function g_e(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:v_e(e);return[a,(s[0]===0?KJ:vSe)[s[1]]]}function v_e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function x_e(e,t,r){e.l+=r&&r.biff==2?3:4}function b_e(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function y_e(e){return e.l++,zf[e.read_shift(1)]}function w_e(e){return e.l++,e.read_shift(2)}function E_e(e){return e.l++,e.read_shift(1)!==0}function C_e(e){return e.l++,Lo(e)}function __e(e,t,r){return e.l++,nw(e,t-1,r)}function S_e(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ks(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=zf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Lo(e);break;case 2:r[1]=Fp(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function N_e(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?jp:j5)(e));return a}function B_e(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var o=0;o!=a;++o)i[s][o]=S_e(e,r.biff);return i}function k_e(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function T_e(e,t,r){if(r.biff==5)return I_e(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function I_e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function j_e(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function F_e(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function O_e(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function D_e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var P_e=Qo,R_e=Qo,L_e=Qo;function sw(e,t,r){return e.l+=2,[YCe(e)]}function wO(e){return e.l+=6,[]}var U_e=sw,M_e=wO,Q_e=wO,H_e=sw;function zJ(e){return e.l+=2,[qs(e),e.read_shift(2)&1]}var V_e=sw,z_e=zJ,$_e=wO,K_e=sw,G_e=sw,q_e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function W_e(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=q_e[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function X_e(e){return e.l+=2,[e.read_shift(4)]}function Y_e(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function J_e(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Z_e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function eSe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function tSe(e){return e.l+=4,[0,0]}var m9={1:{n:"PtgExp",f:b_e},2:{n:"PtgTbl",f:L_e},3:{n:"PtgAdd",f:$s},4:{n:"PtgSub",f:$s},5:{n:"PtgMul",f:$s},6:{n:"PtgDiv",f:$s},7:{n:"PtgPower",f:$s},8:{n:"PtgConcat",f:$s},9:{n:"PtgLt",f:$s},10:{n:"PtgLe",f:$s},11:{n:"PtgEq",f:$s},12:{n:"PtgGe",f:$s},13:{n:"PtgGt",f:$s},14:{n:"PtgNe",f:$s},15:{n:"PtgIsect",f:$s},16:{n:"PtgUnion",f:$s},17:{n:"PtgRange",f:$s},18:{n:"PtgUplus",f:$s},19:{n:"PtgUminus",f:$s},20:{n:"PtgPercent",f:$s},21:{n:"PtgParen",f:$s},22:{n:"PtgMissArg",f:$s},23:{n:"PtgStr",f:__e},26:{n:"PtgSheet",f:Y_e},27:{n:"PtgEndSheet",f:J_e},28:{n:"PtgErr",f:y_e},29:{n:"PtgBool",f:E_e},30:{n:"PtgInt",f:w_e},31:{n:"PtgNum",f:C_e},32:{n:"PtgArray",f:s_e},33:{n:"PtgFunc",f:p_e},34:{n:"PtgFuncVar",f:g_e},35:{n:"PtgName",f:k_e},36:{n:"PtgRef",f:f_e},37:{n:"PtgArea",f:e_e},38:{n:"PtgMemArea",f:j_e},39:{n:"PtgMemErr",f:P_e},40:{n:"PtgMemNoMem",f:R_e},41:{n:"PtgMemFunc",f:F_e},42:{n:"PtgRefErr",f:O_e},43:{n:"PtgAreaErr",f:r_e},44:{n:"PtgRefN",f:h_e},45:{n:"PtgAreaN",f:a_e},46:{n:"PtgMemAreaN",f:Z_e},47:{n:"PtgMemNoMemN",f:eSe},57:{n:"PtgNameX",f:T_e},58:{n:"PtgRef3d",f:m_e},59:{n:"PtgArea3d",f:t_e},60:{n:"PtgRefErr3d",f:D_e},61:{n:"PtgAreaErr3d",f:n_e},255:{}},rSe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},nSe={1:{n:"PtgElfLel",f:zJ},2:{n:"PtgElfRw",f:K_e},3:{n:"PtgElfCol",f:U_e},6:{n:"PtgElfRwV",f:G_e},7:{n:"PtgElfColV",f:H_e},10:{n:"PtgElfRadical",f:V_e},11:{n:"PtgElfRadicalS",f:$_e},13:{n:"PtgElfColS",f:M_e},15:{n:"PtgElfColSV",f:Q_e},16:{n:"PtgElfRadicalLel",f:z_e},25:{n:"PtgList",f:W_e},29:{n:"PtgSxName",f:X_e},255:{}},aSe={0:{n:"PtgAttrNoop",f:tSe},1:{n:"PtgAttrSemi",f:u_e},2:{n:"PtgAttrIf",f:l_e},4:{n:"PtgAttrChoose",f:i_e},8:{n:"PtgAttrGoto",f:o_e},16:{n:"PtgAttrSum",f:x_e},32:{n:"PtgAttrBaxcel",f:h9},33:{n:"PtgAttrBaxcel",f:h9},64:{n:"PtgAttrSpace",f:d_e},65:{n:"PtgAttrSpaceSemi",f:A_e},128:{n:"PtgAttrIfError",f:c_e},255:{}};function iw(e,t,r,n){if(n.biff<8)return Qo(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=B_e(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=N_e(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push(Qo(e,t)),s}function ow(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=m9[s]||m9[rSe[s]],(s===24||s===25)&&(a=(s===24?nSe:aSe)[e[e.l+1]]),!a||!a.f?Qo(e,t):i.push([a.n,a.f(e,t,r)]);return i}function sSe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var iSe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function oSe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function $J(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function p9(e,t,r){var n=$J(e,t,r);return n=="#REF"?n:oSe(n,r)}function To(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0}},o=[],l,u,d,f=0,m=0,p,x="";if(!e[0]||!e[0][0])return"";for(var g=-1,b="",y=0,_=e[0].length;y<_;++y){var S=e[0][y];switch(S[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),g>=0){switch(e[0][g][1][0]){case 0:b=As(" ",e[0][g][1][1]);break;case 1:b=As("\r",e[0][g][1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+b,g=-1}o.push(u+iSe[S[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Eb(S[1][1],i,a),o.push(Cb(d,s));break;case"PtgRefN":d=r?Eb(S[1][1],r,a):S[1][1],o.push(Cb(d,s));break;case"PtgRef3d":f=S[1][1],d=Eb(S[1][2],i,a),x=p9(n,f,a),o.push(x+"!"+Cb(d,s));break;case"PtgFunc":case"PtgFuncVar":var I=S[1][0],T=S[1][1];I||(I=0),I&=127;var F=I==0?[]:o.slice(-I);o.length-=I,T==="User"&&(T=F.shift()),o.push(T+"("+F.join(",")+")");break;case"PtgBool":o.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(S[1]);break;case"PtgNum":o.push(String(S[1]));break;case"PtgStr":o.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(S[1]);break;case"PtgAreaN":p=$7(S[1][1],r?{s:r}:i,a),o.push(VB(p,a));break;case"PtgArea":p=$7(S[1][1],i,a),o.push(VB(p,a));break;case"PtgArea3d":f=S[1][1],p=S[1][2],x=p9(n,f,a),o.push(x+"!"+VB(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=S[1][2];var w=(n.names||[])[m-1]||(n[0]||[])[m],C=w?w.Name:"SH33TJSNAME"+String(m);C&&C.slice(0,6)=="_xlfn."&&!a.xlfn&&(C=C.slice(6)),o.push(C);break;case"PtgNameX":var N=S[1][1];m=S[1][2];var R;if(a.biff<=5)N<0&&(N=-N),n[N]&&(R=n[N][m]);else{var D="";if(((n[N]||[])[0]||[])[0]==14849||(((n[N]||[])[0]||[])[0]==1025?n[N][m]&&n[N][m].itab>0&&(D=n.SheetNames[n[N][m].itab-1]+"!"):D=n.SheetNames[m-1]+"!"),n[N]&&n[N][m])D+=n[N][m].Name;else if(n[0]&&n[0][m])D+=n[0][m].Name;else{var O=($J(n,N,a)||"").split(";;");O[m-1]?D=O[m-1]:D+="SH33TJSERRX"}o.push(D);break}R||(R={Name:"SH33TJSERRY"}),o.push(R.Name);break;case"PtgParen":var M="(",Q=")";if(g>=0){switch(b="",e[0][g][1][0]){case 2:M=As(" ",e[0][g][1][1])+M;break;case 3:M=As("\r",e[0][g][1][1])+M;break;case 4:Q=As(" ",e[0][g][1][1])+Q;break;case 5:Q=As("\r",e[0][g][1][1])+Q;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}o.push(M+o.pop()+Q);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:S[1][1],r:S[1][0]};var ee={c:r.c,r:r.r};if(n.sharedf[Fr(d)]){var W=n.sharedf[Fr(d)];o.push(To(W,i,ee,n,a))}else{var Z=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(To(u[1],i,ee,n,a)),Z=!0;break}Z||o.push(S[1])}break;case"PtgArray":o.push("{"+sSe(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var V=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&V.indexOf(e[0][y][0])==-1){S=e[0][g];var q=!0;switch(S[1][0]){case 4:q=!1;case 0:b=As(" ",S[1][1]);break;case 5:q=!1;case 1:b=As("\r",S[1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}o.push((q?b:"")+o.pop()+(q?"":b)),g=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function lSe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],Qo(e,t-2)];var o=ow(e,i,r);return t!==i+a&&(s=iw(e,t-i-a,o,r)),e.l=n,[o,s]}function cSe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],Qo(e,t-2)];var o=ow(e,i,r);return t!==i+a&&(s=iw(e,t-i-a,o,r)),e.l=n,[o,s]}function uSe(e,t,r,n){var a=e.l+t,s=ow(e,n,r),i;return a!==e.l&&(i=iw(e,a-e.l,s,r)),[s,i]}function dSe(e,t,r){var n=e.l+t,a,s=e.read_shift(2),i=ow(e,s,r);return s==65535?[[],Qo(e,t-2)]:(t!==s+2&&(a=iw(e,n-s-2,i,r)),[i,a])}function ASe(e){var t;if(uf(e,e.l+6)!==65535)return[Lo(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function fSe(e){if(e==null){var t=At(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Ap(e);return Ap(0)}function qB(e,t,r){var n=e.l+t,a=yA(e);r.biff==2&&++e.l;var s=ASe(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=cSe(e,n-e.l,r);return{cell:a,val:s[0],formula:o,shared:i>>3&1,tt:s[1]}}function hSe(e,t,r,n,a){var s=hp(t,r,a),i=fSe(e.v),o=At(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=At(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=Di([s,i,o,u]);return f}function F5(e,t,r){var n=e.read_shift(4),a=ow(e,n,r),s=e.read_shift(4),i=s>0?iw(e,s,a,r):null;return[a,i]}var mSe=F5,O5=F5,pSe=F5,gSe=F5,vSe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},KJ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},xSe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function g9(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function bSe(e){var t="of:="+e.replace(bO,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function WB(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function ySe(e){return e.replace(/\./,"!")}var Sb={},pv={},Nb=typeof Map<"u";function EO(e,t,r){var n=0,a=e.length;if(r){if(Nb?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=Nb?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Nb?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function D5(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Fo=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=cy(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=N_(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Wm(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function H0(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,s=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){pf(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function GJ(e,t,r,n,a,s){try{n.cellNF&&(e.z=Tr[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Oa(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Tr[t]==null&&pf(vbe[t]||"General",t),e.t==="e")e.w=e.w||zf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ry(e.v);else if(e.t==="d"){var i=mi(e.v);(i|0)===i?e.w=i.toString(10):e.w=ry(i)}else{if(e.v===void 0)return"";e.w=up(e.v,pv)}else e.t==="d"?e.w=mu(t,mi(e.v),pv):e.w=mu(t,e.v,pv)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=S_(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=S_(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function wSe(e,t,r){if(e&&e["!ref"]){var n=jn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function ESe(e,t){var r=jn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Gr(r))}var CSe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,_Se=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,SSe=/<(?:\w:)?hyperlink [^>]*>/mg,NSe=/"(\w*:\w*)"/,BSe=/<(?:\w:)?col\b[^>]*[\/]?>/g,kSe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,TSe=/<(?:\w:)?pageMargins[^>]*\/>/g,qJ=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,ISe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,jSe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function FSe(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(_Se);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var m=u.match(qJ);m?CO(m[0],o,a,r):(m=u.match(ISe))&&DSe(m[0],m[1]||"",o,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var x=u.slice(p,p+50).match(NSe);x&&ESe(o,x[1])}var g=u.match(jSe);g&&g[1]&&qSe(g[1],a);var b=[];if(t.cellStyles){var y=u.match(BSe);y&&VSe(b,y)}f&&YSe(f[1],o,t,l,s,i);var _=d.match(kSe);_&&(o["!autofilter"]=$Se(_[0]));var S=[],I=d.match(CSe);if(I)for(p=0;p!=I.length;++p)S[p]=jn(I[p].slice(I[p].indexOf('"')+1));var T=d.match(SSe);T&&MSe(o,T,n);var F=d.match(TSe);if(F&&(o["!margins"]=QSe(Rr(F[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Gr(l)),t.sheetRows>0&&o["!ref"]){var w=jn(o["!ref"]);t.sheetRows<=+w.e.r&&(w.e.r=t.sheetRows-1,w.e.r>l.e.r&&(w.e.r=l.e.r),w.e.r<w.s.r&&(w.s.r=w.e.r),w.e.c>l.e.c&&(w.e.c=l.e.c),w.e.c<w.s.c&&(w.s.c=w.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Gr(w))}return b.length>0&&(o["!cols"]=b),S.length>0&&(o["!merges"]=S),o}function OSe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Gr(e[r])+'"/>';return t+"</mergeCells>"}function CO(e,t,r,n){var a=Rr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=In(ga(a.codeName)))}function DSe(e,t,r,n,a){CO(e.slice(0,e.indexOf(">")),r,n,a)}function PSe(e,t,r,n,a){var s=!1,i={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,i.codeName=rA(ca(l))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+Ut("outlinePr",null,u)}!s&&!o||(a[a.length]=Ut("sheetPr",o,i))}var RSe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],LSe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function USe(e){var t={sheet:1};return RSe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),LSe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=gO(e.password).toString(16).toUpperCase()),Ut("sheetProtection",null,t)}function MSe(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=Rr(ga(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+In(s.location))):(s.Target="#"+In(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=jn(s.ref),l=o.s.r;l<=o.e.r;++l)for(var u=o.s.c;u<=o.e.c;++u){var d=Fr({c:u,r:l});n?(e[l]||(e[l]=[]),e[l][u]||(e[l][u]={t:"z",v:void 0}),e[l][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function QSe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function HSe(e){return Wm(e),Ut("pageMargins",null,e)}function VSe(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Rr(t[n],!0);a.hidden&&(a.hidden=ja(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,vO(a.width)),I0(a);s<=i;)e[s++]=Da(a)}}function zSe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Ut("col",null,D5(a,n)));return r[r.length]="</cols>",r.join("")}function $Se(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function KSe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Gr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,i=Ol(a);i.s.r==i.e.r&&(i.e.r=Ol(t["!ref"]).e.r,a=Gr(i));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Ut("autoFilter",null,{ref:a})}var GSe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function qSe(e,t){t.Views||(t.Views=[{}]),(e.match(GSe)||[]).forEach(function(r,n){var a=Rr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),ja(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function WSe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ut("sheetViews",Ut("sheetView",null,a),{})}function XSe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",s=e.t,i=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=zf[e.v];break;case"d":n&&n.cellDates?a=Oa(e.v,-1).toISOString():(e=Da(e),e.t="n",a=""+(e.v=mi(Oa(e.v)))),typeof e.z>"u"&&(e.z=Tr[14]);break;default:a=e.v;break}var o=no("v",ca(a)),l={r:t},u=H0(n.cellXfs,e,n);switch(u!==0&&(l.s=u),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=no("v",""+EO(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=s&&(e.t=s,e.v=i),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Ut("f",ca(e.f),d)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),Ut("c",o,l)}var YSe=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=ny("v"),i=ny("f");return function(l,u,d,f,m,p){for(var x=0,g="",b=[],y=[],_=0,S=0,I=0,T="",F,w,C=0,N=0,R,D,O=0,M=0,Q=Array.isArray(p.CellXf),ee,W=[],Z=[],V=Array.isArray(u),q=[],K={},J=!1,P=!!d.sheetStubs,G=l.split(t),Y=0,re=G.length;Y!=re;++Y){g=G[Y].trim();var ie=g.length;if(ie!==0){var de=0;e:for(x=0;x<ie;++x)switch(g[x]){case">":if(g[x-1]!="/"){++x;break e}if(d&&d.cellStyles){if(w=Rr(g.slice(de,x),!0),C=w.r!=null?parseInt(w.r,10):C+1,N=-1,d.sheetRows&&d.sheetRows<C)continue;K={},J=!1,w.ht&&(J=!0,K.hpt=parseFloat(w.ht),K.hpx=Dv(K.hpt)),w.hidden=="1"&&(J=!0,K.hidden=!0),w.outlineLevel!=null&&(J=!0,K.level=+w.outlineLevel),J&&(q[C-1]=K)}break;case"<":de=x;break}if(de>=x)break;if(w=Rr(g.slice(de,x),!0),C=w.r!=null?parseInt(w.r,10):C+1,N=-1,!(d.sheetRows&&d.sheetRows<C)){f.s.r>C-1&&(f.s.r=C-1),f.e.r<C-1&&(f.e.r=C-1),d&&d.cellStyles&&(K={},J=!1,w.ht&&(J=!0,K.hpt=parseFloat(w.ht),K.hpx=Dv(K.hpt)),w.hidden=="1"&&(J=!0,K.hidden=!0),w.outlineLevel!=null&&(J=!0,K.level=+w.outlineLevel),J&&(q[C-1]=K)),b=g.slice(x).split(e);for(var me=0;me!=b.length&&b[me].trim().charAt(0)=="<";++me);for(b=b.slice(me),x=0;x!=b.length;++x)if(g=b[x].trim(),g.length!==0){if(y=g.match(r),_=x,S=0,I=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,y!=null&&y.length===2){for(_=0,T=y[1],S=0;S!=T.length&&!((I=T.charCodeAt(S)-64)<1||I>26);++S)_=26*_+I;--_,N=_}else++N;for(S=0;S!=g.length&&g.charCodeAt(S)!==62;++S);if(++S,w=Rr(g.slice(0,S),!0),w.r||(w.r=Fr({r:C-1,c:N})),T=g.slice(S),F={t:""},(y=T.match(s))!=null&&y[1]!==""&&(F.v=In(y[1])),d.cellFormula){if((y=T.match(i))!=null&&y[1]!==""){if(F.f=In(ga(y[1])).replace(/\r\n/g,`
`),d.xlfn||(F.f=f9(F.f)),y[0].indexOf('t="array"')>-1)F.F=(T.match(a)||[])[1],F.F.indexOf(":")>-1&&W.push([jn(F.F),F.F]);else if(y[0].indexOf('t="shared"')>-1){D=Rr(y[0]);var ue=In(ga(y[1]));d.xlfn||(ue=f9(ue)),Z[parseInt(D.si,10)]=[D,ue,w.r]}}else(y=T.match(/<f[^>]*\/>/))&&(D=Rr(y[0]),Z[D.si]&&(F.f=GCe(Z[D.si][1],Z[D.si][2],w.r)));var ye=Xa(w.r);for(S=0;S<W.length;++S)ye.r>=W[S][0].s.r&&ye.r<=W[S][0].e.r&&ye.c>=W[S][0].s.c&&ye.c<=W[S][0].e.c&&(F.F=W[S][1])}if(w.t==null&&F.v===void 0)if(F.f||F.F)F.v=0,F.t="n";else if(P)F.t="z";else continue;else F.t=w.t||"n";switch(f.s.c>N&&(f.s.c=N),f.e.c<N&&(f.e.c=N),F.t){case"n":if(F.v==""||F.v==null){if(!P)continue;F.t="z"}else F.v=parseFloat(F.v);break;case"s":if(typeof F.v>"u"){if(!P)continue;F.t="z"}else R=Sb[parseInt(F.v,10)],F.v=R.t,F.r=R.r,d.cellHTML&&(F.h=R.h);break;case"str":F.t="s",F.v=F.v!=null?ga(F.v):"",d.cellHTML&&(F.h=rO(F.v));break;case"inlineStr":y=T.match(n),F.t="s",y!=null&&(R=pO(y[1]))?(F.v=R.t,d.cellHTML&&(F.h=R.h)):F.v="";break;case"b":F.v=ja(F.v);break;case"d":d.cellDates?F.v=Oa(F.v,1):(F.v=mi(Oa(F.v,1)),F.t="n");break;case"e":(!d||d.cellText!==!1)&&(F.w=F.v),F.v=XY[F.v];break}if(O=M=0,ee=null,Q&&w.s!==void 0&&(ee=p.CellXf[w.s],ee!=null&&(ee.numFmtId!=null&&(O=ee.numFmtId),d.cellStyles&&ee.fillId!=null&&(M=ee.fillId))),GJ(F,O,M,d,m,p),d.cellDates&&Q&&F.t=="n"&&dx(Tr[O])&&(F.t="d",F.v=I5(F.v)),w.cm&&d.xlmeta){var Ie=(d.xlmeta.Cell||[])[+w.cm-1];Ie&&Ie.type=="XLDAPR"&&(F.D=!0)}if(V){var ne=Xa(w.r);u[ne.r]||(u[ne.r]=[]),u[ne.r][ne.c]=F}else u[w.r]=F}}}}q.length>0&&(u["!rows"]=q)}}();function JSe(e,t,r,n){var a=[],s=[],i=jn(e["!ref"]),o="",l,u="",d=[],f=0,m=0,p=e["!rows"],x=Array.isArray(e),g={r:u},b,y=-1;for(m=i.s.c;m<=i.e.c;++m)d[m]=Wa(m);for(f=i.s.r;f<=i.e.r;++f){for(s=[],u=Ds(f),m=i.s.c;m<=i.e.c;++m){l=d[m]+u;var _=x?(e[f]||[])[m]:e[l];_!==void 0&&(o=XSe(_,l,e,t))!=null&&s.push(o)}(s.length>0||p&&p[f])&&(g={r:u},p&&p[f]&&(b=p[f],b.hidden&&(g.hidden=1),y=-1,b.hpx?y=uy(b.hpx):b.hpt&&(y=b.hpt),y>-1&&(g.ht=y,g.customHeight=1),b.level&&(g.outlineLevel=b.level)),a[a.length]=Ut("row",s.join(""),g))}if(p)for(;f<p.length;++f)p&&p[f]&&(g={r:f+1},b=p[f],b.hidden&&(g.hidden=1),y=-1,b.hpx?y=uy(b.hpx):b.hpt&&(y=b.hpt),y>-1&&(g.ht=y,g.customHeight=1),b.level&&(g.outlineLevel=b.level),a[a.length]=Ut("row","",g));return a.join("")}function WJ(e,t,r,n){var a=[Ps,Ut("worksheet",null,{xmlns:Bp[0],"xmlns:r":fi.r})],s=r.SheetNames[e],i=0,o="",l=r.Sheets[s];l==null&&(l={});var u=l["!ref"]||"A1",d=jn(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Gr(d)}n||(n={}),l["!comments"]=[];var f=[];PSe(l,r,e,t,a),a[a.length]=Ut("dimension",null,{ref:u}),a[a.length]=WSe(l,t,e,r),t.sheetFormat&&(a[a.length]=Ut("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(a[a.length]=zSe(l,l["!cols"])),a[i=a.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=JSe(l,t),o.length>0&&(a[a.length]=o)),a.length>i+1&&(a[a.length]="</sheetData>",a[i]=a[i].replace("/>",">")),l["!protect"]&&(a[a.length]=USe(l["!protect"])),l["!autofilter"]!=null&&(a[a.length]=KSe(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(a[a.length]=OSe(l["!merges"]));var m=-1,p,x=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(p={ref:g[0]},g[1].Target.charAt(0)!="#"&&(x=ia(n,-1,ca(g[1].Target).replace(/#.*$/,""),un.HLINK),p["r:id"]="rId"+x),(m=g[1].Target.indexOf("#"))>-1&&(p.location=ca(g[1].Target.slice(m+1))),g[1].Tooltip&&(p.tooltip=ca(g[1].Tooltip)),a[a.length]=Ut("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(a[a.length]=HSe(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=no("ignoredErrors",Ut("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(x=ia(n,-1,"../drawings/drawing"+(e+1)+".xml",un.DRAW),a[a.length]=Ut("drawing",null,{"r:id":"rId"+x}),l["!drawing"]=f),l["!comments"].length>0&&(x=ia(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",un.VML),a[a.length]=Ut("legacyDrawing",null,{"r:id":"rId"+x}),l["!legacy"]=x),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function ZSe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}function e5e(e,t,r){var n=At(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;a.hpx?s=uy(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var i=0;a.level&&(i|=a.level),a.hidden&&(i|=16),(a.hpx||a.hpt)&&(i|=32),n.write_shift(1,i),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,m=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var x=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Fr(u)];x&&(f<0&&(f=p),m=p)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,m))}var g=n.l;return n.l=l,n.write_shift(4,o),n.l=g,n.length>n.l?n.slice(0,n.l):n}function t5e(e,t,r,n){var a=e5e(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Nt(e,0,a)}var r5e=jp,n5e=hx;function a5e(){}function s5e(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=lye(e),r}function i5e(e,t,r){r==null&&(r=At(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return E_({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),$Y(e,r),r.slice(0,r.l)}function o5e(e){var t=vu(e);return[t]}function l5e(e,t,r){return r==null&&(r=At(8)),kp(t,r)}function c5e(e){var t=Tp(e);return[t]}function u5e(e,t,r){return r==null&&(r=At(4)),Ip(t,r)}function d5e(e){var t=vu(e),r=e.read_shift(1);return[t,r,"b"]}function A5e(e,t,r){return r==null&&(r=At(9)),kp(t,r),r.write_shift(1,e.v?1:0),r}function f5e(e){var t=Tp(e),r=e.read_shift(1);return[t,r,"b"]}function h5e(e,t,r){return r==null&&(r=At(5)),Ip(t,r),r.write_shift(1,e.v?1:0),r}function m5e(e){var t=vu(e),r=e.read_shift(1);return[t,r,"e"]}function p5e(e,t,r){return r==null&&(r=At(9)),kp(t,r),r.write_shift(1,e.v),r}function g5e(e){var t=Tp(e),r=e.read_shift(1);return[t,r,"e"]}function v5e(e,t,r){return r==null&&(r=At(8)),Ip(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function x5e(e){var t=vu(e),r=e.read_shift(4);return[t,r,"s"]}function b5e(e,t,r){return r==null&&(r=At(12)),kp(t,r),r.write_shift(4,t.v),r}function y5e(e){var t=Tp(e),r=e.read_shift(4);return[t,r,"s"]}function w5e(e,t,r){return r==null&&(r=At(8)),Ip(t,r),r.write_shift(4,t.v),r}function E5e(e){var t=vu(e),r=Lo(e);return[t,r,"n"]}function C5e(e,t,r){return r==null&&(r=At(16)),kp(t,r),Ap(e.v,r),r}function XJ(e){var t=Tp(e),r=Lo(e);return[t,r,"n"]}function _5e(e,t,r){return r==null&&(r=At(12)),Ip(t,r),Ap(e.v,r),r}function S5e(e){var t=vu(e),r=dO(e);return[t,r,"n"]}function N5e(e,t,r){return r==null&&(r=At(12)),kp(t,r),KY(e.v,r),r}function B5e(e){var t=Tp(e),r=dO(e);return[t,r,"n"]}function k5e(e,t,r){return r==null&&(r=At(8)),Ip(t,r),KY(e.v,r),r}function T5e(e){var t=vu(e),r=lO(e);return[t,r,"is"]}function I5e(e){var t=vu(e),r=Uo(e);return[t,r,"str"]}function j5e(e,t,r){return r==null&&(r=At(12+4*e.v.length)),kp(t,r),Ri(e.v,r),r.length>r.l?r.slice(0,r.l):r}function F5e(e){var t=Tp(e),r=Uo(e);return[t,r,"str"]}function O5e(e,t,r){return r==null&&(r=At(8+4*e.v.length)),Ip(t,r),Ri(e.v,r),r.length>r.l?r.slice(0,r.l):r}function D5e(e,t,r){var n=e.l+t,a=vu(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var o=O5(e,n-e.l,r);i[3]=To(o,null,a,r.supbooks,r)}else e.l=n;return i}function P5e(e,t,r){var n=e.l+t,a=vu(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var o=O5(e,n-e.l,r);i[3]=To(o,null,a,r.supbooks,r)}else e.l=n;return i}function R5e(e,t,r){var n=e.l+t,a=vu(e);a.r=r["!row"];var s=Lo(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var o=O5(e,n-e.l,r);i[3]=To(o,null,a,r.supbooks,r)}else e.l=n;return i}function L5e(e,t,r){var n=e.l+t,a=vu(e);a.r=r["!row"];var s=Uo(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var o=O5(e,n-e.l,r);i[3]=To(o,null,a,r.supbooks,r)}else e.l=n;return i}var U5e=jp,M5e=hx;function Q5e(e,t){return t==null&&(t=At(4)),t.write_shift(4,e),t}function H5e(e,t){var r=e.l+t,n=jp(e),a=cO(e),s=Uo(e),i=Uo(e),o=Uo(e);e.l=r;var l={rfx:n,relId:a,loc:s,display:o};return i&&(l.Tooltip=i),l}function V5e(e,t){var r=At(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));hx({s:Xa(e[0]),e:Xa(e[0])},r),uO("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Ri(a||"",r),Ri(e[1].Tooltip||"",r),Ri("",r),r.slice(0,r.l)}function z5e(){}function $5e(e,t,r){var n=e.l+t,a=GY(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var o=mSe(e,n-e.l,r);i[1]=o}else e.l=n;return i}function K5e(e,t,r){var n=e.l+t,a=jp(e),s=[a];if(r.cellFormula){var i=gSe(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}function G5e(e,t,r){r==null&&(r=At(18));var n=D5(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var YJ=["left","right","top","bottom","header","footer"];function q5e(e){var t={};return YJ.forEach(function(r){t[r]=Lo(e)}),t}function W5e(e,t){return t==null&&(t=At(48)),Wm(e),YJ.forEach(function(r){Ap(e[r],t)}),t}function X5e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Y5e(e,t,r){r==null&&(r=At(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function J5e(e){var t=At(24);return t.write_shift(4,4),t.write_shift(4,1),hx(e,t),t}function Z5e(e,t){return t==null&&(t=At(66)),t.write_shift(2,e.password?gO(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function eNe(){}function tNe(){}function rNe(e,t,r,n,a,s,i){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,m=!1,p,x,g,b,y,_,S,I,T,F=[];o.biff=12,o["!row"]=0;var w=0,C=!1,N=[],R={},D=o.supbooks||a.supbooks||[[]];if(D.sharedf=R,D.arrayf=N,D.SheetNames=a.SheetNames||a.Sheets.map(function(V){return V.name}),!o.supbooks&&(o.supbooks=D,a.Names))for(var O=0;O<a.Names.length;++O)D[0][O+1]=a.Names[O];var M=[],Q=[],ee=!1;dy[16]={n:"BrtShortReal",f:XJ};var W;if(Vf(e,function(q,K,J){if(!m)switch(J){case 148:u=q;break;case 0:p=q,o.sheetRows&&o.sheetRows<=p.r&&(m=!0),I=Ds(b=p.r),o["!row"]=p.r,(q.hidden||q.hpt||q.level!=null)&&(q.hpt&&(q.hpx=Dv(q.hpt)),Q[q.r]=q);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(x={t:q[2]},q[2]){case"n":x.v=q[1];break;case"s":S=Sb[q[1]],x.v=S.t,x.r=S.r;break;case"b":x.v=!!q[1];break;case"e":x.v=q[1],o.cellText!==!1&&(x.w=zf[x.v]);break;case"str":x.t="s",x.v=q[1];break;case"is":x.t="s",x.v=q[1].t;break}if((g=i.CellXf[q[0].iStyleRef])&&GJ(x,g.numFmtId,null,o,s,i),y=q[0].c==-1?y+1:q[0].c,o.dense?(l[b]||(l[b]=[]),l[b][y]=x):l[Wa(y)+I]=x,o.cellFormula){for(C=!1,w=0;w<N.length;++w){var P=N[w];p.r>=P[0].s.r&&p.r<=P[0].e.r&&y>=P[0].s.c&&y<=P[0].e.c&&(x.F=Gr(P[0]),C=!0)}!C&&q.length>3&&(x.f=q[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>y&&(d.s.c=y),d.e.r<p.r&&(d.e.r=p.r),d.e.c<y&&(d.e.c=y),o.cellDates&&g&&x.t=="n"&&dx(Tr[g.numFmtId])){var G=Om(x.v);G&&(x.t="d",x.v=new Date(G.y,G.m-1,G.d,G.H,G.M,G.S,G.u))}W&&(W.type=="XLDAPR"&&(x.D=!0),W=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;x={t:"z",v:void 0},y=q[0].c==-1?y+1:q[0].c,o.dense?(l[b]||(l[b]=[]),l[b][y]=x):l[Wa(y)+I]=x,d.s.r>p.r&&(d.s.r=p.r),d.s.c>y&&(d.s.c=y),d.e.r<p.r&&(d.e.r=p.r),d.e.c<y&&(d.e.c=y),W&&(W.type=="XLDAPR"&&(x.D=!0),W=void 0);break;case 176:F.push(q);break;case 49:W=((o.xlmeta||{}).Cell||[])[q-1];break;case 494:var Y=n["!id"][q.relId];for(Y?(q.Target=Y.Target,q.loc&&(q.Target+="#"+q.loc),q.Rel=Y):q.relId==""&&(q.Target="#"+q.loc),b=q.rfx.s.r;b<=q.rfx.e.r;++b)for(y=q.rfx.s.c;y<=q.rfx.e.c;++y)o.dense?(l[b]||(l[b]=[]),l[b][y]||(l[b][y]={t:"z",v:void 0}),l[b][y].l=q):(_=Fr({c:y,r:b}),l[_]||(l[_]={t:"z",v:void 0}),l[_].l=q);break;case 426:if(!o.cellFormula)break;N.push(q),T=o.dense?l[b][y]:l[Wa(y)+I],T.f=To(q[1],d,{r:p.r,c:y},D,o),T.F=Gr(q[0]);break;case 427:if(!o.cellFormula)break;R[Fr(q[0].s)]=q[1],T=o.dense?l[b][y]:l[Wa(y)+I],T.f=To(q[1],d,{r:p.r,c:y},D,o);break;case 60:if(!o.cellStyles)break;for(;q.e>=q.s;)M[q.e--]={width:q.w/256,hidden:!!(q.flags&1),level:q.level},ee||(ee=!0,vO(q.w/256)),I0(M[q.e+1]);break;case 161:l["!autofilter"]={ref:Gr(q)};break;case 476:l["!margins"]=q;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),q.name&&(a.Sheets[r].CodeName=q.name),(q.above||q.left)&&(l["!outline"]={above:q.above,left:q.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),q.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!K.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+J.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=Gr(u||d)),o.sheetRows&&l["!ref"]){var Z=jn(l["!ref"]);o.sheetRows<=+Z.e.r&&(Z.e.r=o.sheetRows-1,Z.e.r>d.e.r&&(Z.e.r=d.e.r),Z.e.r<Z.s.r&&(Z.s.r=Z.e.r),Z.e.c>d.e.c&&(Z.e.c=d.e.c),Z.e.c<Z.s.c&&(Z.s.c=Z.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Gr(Z))}return F.length>0&&(l["!merges"]=F),M.length>0&&(l["!cols"]=M),Q.length>0&&(l["!rows"]=Q),l}function nNe(e,t,r,n,a,s,i){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Da(t),t.z=t.z||Tr[14],t.v=mi(Oa(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var l={r,c:n};switch(l.s=H0(a.cellXfs,t,a),t.l&&s["!links"].push([Fr(l),t.l]),t.c&&s["!comments"].push([Fr(l),t.c]),t.t){case"s":case"str":return a.bookSST?(o=EO(a.Strings,t.v,a.revStrings),l.t="s",l.v=o,i?Nt(e,18,w5e(t,l)):Nt(e,7,b5e(t,l))):(l.t="str",i?Nt(e,17,O5e(t,l)):Nt(e,6,j5e(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?i?Nt(e,13,k5e(t,l)):Nt(e,2,N5e(t,l)):i?Nt(e,16,_5e(t,l)):Nt(e,5,C5e(t,l)),!0;case"b":return l.t="b",i?Nt(e,15,h5e(t,l)):Nt(e,4,A5e(t,l)),!0;case"e":return l.t="e",i?Nt(e,14,v5e(t,l)):Nt(e,3,p5e(t,l)),!0}return i?Nt(e,12,u5e(t,l)):Nt(e,1,l5e(t,l)),!0}function aNe(e,t,r,n){var a=jn(t["!ref"]||"A1"),s,i="",o=[];Nt(e,145);var l=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){i=Ds(d),t5e(e,t,a,d);var f=!1;if(d<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){d===a.s.r&&(o[m]=Wa(m)),s=o[m]+i;var p=l?(t[d]||[])[m]:t[s];if(!p){f=!1;continue}f=nNe(e,p,d,m,n,t,f)}}Nt(e,146)}function sNe(e,t){!t||!t["!merges"]||(Nt(e,177,Q5e(t["!merges"].length)),t["!merges"].forEach(function(r){Nt(e,176,M5e(r))}),Nt(e,178))}function iNe(e,t){!t||!t["!cols"]||(Nt(e,390),t["!cols"].forEach(function(r,n){r&&Nt(e,60,G5e(n,r))}),Nt(e,391))}function oNe(e,t){!t||!t["!ref"]||(Nt(e,648),Nt(e,649,J5e(jn(t["!ref"]))),Nt(e,650))}function lNe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=ia(r,-1,n[1].Target.replace(/#.*$/,""),un.HLINK);Nt(e,494,V5e(n,a))}}),delete t["!links"]}function cNe(e,t,r,n){if(t["!comments"].length>0){var a=ia(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",un.VML);Nt(e,551,uO("rId"+a)),t["!legacy"]=a}}function uNe(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],s=typeof a.ref=="string"?a.ref:Gr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Ol(s);o.s.r==o.e.r&&(o.e.r=Ol(t["!ref"]).e.r,s=Gr(o));for(var l=0;l<i.length;++l){var u=i[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Nt(e,161,hx(jn(s))),Nt(e,162)}}function dNe(e,t,r){Nt(e,133),Nt(e,137,Y5e(t,r)),Nt(e,138),Nt(e,134)}function ANe(e,t){t["!protect"]&&Nt(e,535,Z5e(t["!protect"]))}function fNe(e,t,r,n){var a=jl(),s=r.SheetNames[e],i=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var l=jn(i["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],Nt(a,129),(r.vbaraw||i["!outline"])&&Nt(a,147,i5e(o,i["!outline"])),Nt(a,148,n5e(l)),dNe(a,i,r.Workbook),iNe(a,i),aNe(a,i,e,t),ANe(a,i),uNe(a,i,r,e),sNe(a,i),lNe(a,i,n),i["!margins"]&&Nt(a,476,W5e(i["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&oNe(a,i),cNe(a,i,e,n),Nt(a,130),a.end()}function hNe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var a=In((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function mNe(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var o=0,l=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var m=hNe(f);d.s.r=d.s.c=0,d.e.c=o,u=Wa(o),m[0].forEach(function(p,x){i[u+Ds(x)]={t:"n",v:p,z:m[1]},l=x}),d.e.r<l&&(d.e.r=l),++o}),o>0&&(i["!ref"]=Gr(d)),i}function pNe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,o=e.match(qJ);return o&&CO(o[0],s,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function gNe(e,t){e.l+=10;var r=Uo(e);return{name:r}}function vNe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return Vf(e,function(l,u,d){switch(d){case 550:s["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var _O=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],xNe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],bNe=[],yNe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function v9(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=ja(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function x9(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=ja(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function JJ(e){x9(e.WBProps,_O),x9(e.CalcPr,yNe),v9(e.WBView,xNe),v9(e.Sheets,bNe),pv.date1904=ja(e.WBProps.date1904)}function wNe(e){return!e.Workbook||!e.Workbook.WBProps?"false":ja(e.Workbook.WBProps.date1904)?"true":"false"}var ENe="][*?/\\".split("");function ZJ(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return ENe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function CNe(e,t,r){e.forEach(function(n,a){ZJ(n);for(var s=0;s<a;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var i=t&&t[a]&&t[a].CodeName||n;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function _Ne(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];CNe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)wSe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var SNe=/<\w+:workbook/;function NNe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace(Vo,function(l,u){var d=Rr(l);switch(bA(d[0])){case"<?xml":break;case"<workbook":l.match(SNe)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":_O.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=ja(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=ga(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=In(ga(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=ga(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),ja(d.hidden||"0")&&(s.Hidden=!0),i=u+l.length;break;case"</definedName>":s.Ref=In(ga(e.slice(i,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),Bp.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return JJ(r),r}function eZ(e){var t=[Ps];t[t.length]=Ut("workbook",null,{xmlns:Bp[0],"xmlns:r":fi.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(_O.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Ut("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var i={name:ca(e.SheetNames[s].slice(0,31))};if(i.sheetId=""+(s+1),i["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}t[t.length]=Ut("sheet",null,i)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(t[t.length]=Ut("definedName",ca(o.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function BNe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=TI(e),r.name=Uo(e),r}function kNe(e,t){return t||(t=At(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),uO(e.strRelID,t),Ri(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function TNe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Uo(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function INe(e,t){t||(t=At(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),$Y(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function jNe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function FNe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=cye(e),i=pSe(e,0,r),o=cO(e);e.l=n;var l={Name:s,Ptg:i};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function ONe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],dy[16]={n:"BrtFRTArchID$",f:jNe},Vf(e,function(l,u,d){switch(d){case 156:i.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=To(l.Ptg,null,null,i,t),delete t.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([d,l]):i[0]=[d,l],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(l),i.XTI=i.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),JJ(r),r.Names=s,r.supbooks=i,r}function DNe(e,t){Nt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Nt(e,156,kNe(a))}Nt(e,144)}function PNe(e,t){t||(t=At(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Ri("SheetJS",t),Ri(p_.version,t),Ri(p_.version,t),Ri("7262",t),t.length>t.l?t.slice(0,t.l):t}function RNe(e,t){t||(t=At(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function LNe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&s==-1&&(s=n);s>a||(Nt(e,135),Nt(e,158,RNe(a)),Nt(e,136))}}function UNe(e,t){var r=jl();return Nt(r,131),Nt(r,128,PNe()),Nt(r,153,INe(e.Workbook&&e.Workbook.WBProps||null)),LNe(r,e),DNe(r,e),Nt(r,132),r.end()}function MNe(e,t,r){return t.slice(-4)===".bin"?ONe(e,r):NNe(e,r)}function QNe(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?rNe(e,n,r,a,s,i,o):FSe(e,n,r,a,s,i,o)}function HNe(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?vNe(e,n,r,a,s):pNe(e,n,r,a,s)}function VNe(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?$Ce():KCe()}function zNe(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?VCe():zCe()}function $Ne(e,t,r,n){return t.slice(-4)===".bin"?MEe(e,r,n):BEe(e,r,n)}function KNe(e,t,r){return OJ(e,r)}function GNe(e,t,r){return t.slice(-4)===".bin"?G2e(e,r):z2e(e,r)}function qNe(e,t,r){return t.slice(-4)===".bin"?LCe(e,r):kCe(e,r)}function WNe(e,t,r){return t.slice(-4)===".bin"?SCe(e):CCe(e)}function XNe(e,t,r,n){return r.slice(-4)===".bin"?NCe(e,t,r,n):void 0}function YNe(e,t,r){return t.slice(-4)===".bin"?yCe(e,t,r):ECe(e,t,r)}function JNe(e,t,r){return(t.slice(-4)===".bin"?UNe:eZ)(e)}function ZNe(e,t,r,n,a){return(t.slice(-4)===".bin"?fNe:WJ)(e,r,n,a)}function e4e(e,t,r){return(t.slice(-4)===".bin"?XEe:jJ)(e,r)}function t4e(e,t,r){return(t.slice(-4)===".bin"?X2e:CJ)(e,r)}function r4e(e,t,r){return(t.slice(-4)===".bin"?UCe:RJ)(e)}function n4e(e){return(e.slice(-4)===".bin"?wCe:DJ)()}var tZ=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,rZ=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ku(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(tZ),s,i,o,l;if(a)for(l=0;l!=a.length;++l)s=a[l].match(rZ),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),n[o]=s[2].slice(1,s[2].length-1));return n}function a4e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(tZ),a,s,i,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(rZ),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?i="xmlns"+a[1].slice(6):i=a[1].slice(s+1),r[i]=a[2].slice(1,a[2].length-1));return r}var Bb;function s4e(e,t){var r=Bb[e]||In(e);return r==="General"?up(t):mu(r,t)}function i4e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=ja(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Oa(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[In(t)]=a}function o4e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||zf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ry(e.v):e.w=up(e.v):e.w=s4e(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=Bb[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&dx(n)){var a=Om(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function l4e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=bEe[n.Pattern]||n.Pattern)}e[t.ID]=t}function c4e(e,t,r,n,a,s,i,o,l,u){var d="General",f=n.StyleID,m={};u=u||{};var p=[],x=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&i&&(f=i.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&p.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=ja(e);break;case"String":n.t="s",n.r=P7(In(e)),n.v=e.indexOf("<")>-1?In(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Oa(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=In(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=XY[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=P7(t||e));break}if(o4e(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=In(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=mv(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=mv("RC:RC",a):n.ArrayRange&&(n.F=mv(n.ArrayRange,a),l.push([jn(n.F),n.F]))}else for(x=0;x<l.length;++x)a.r>=l[x][0].s.r&&a.r<=l[x][0].e.r&&a.c>=l[x][0].s.c&&a.c<=l[x][0].e.c&&(n.F=l[x][1]);u.cellStyles&&(p.forEach(function(b){!m.patternType&&b.patternType&&(m.patternType=b.patternType)}),n.s=m),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function u4e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function XB(e,t){var r=t||{};Ax();var n=Y1(nO(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=ga(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var i=Da(r);return i.type="string",Ov.to_workbook(n,i)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(He){a.indexOf("<"+He)>=0&&(s=!0)}),s)return W4e(n,r);Bb={"General Number":"General","General Date":Tr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Tr[15],"Short Date":Tr[14],"Long Time":Tr[19],"Medium Time":Tr[18],"Short Time":Tr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Tr[2],Standard:Tr[4],Percent:Tr[10],Scientific:Tr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],u,d={},f=[],m=r.dense?[]:{},p="",x={},g={},b=Ku('<Data ss:Type="String">'),y=0,_=0,S=0,I={s:{r:2e6,c:2e6},e:{r:0,c:0}},T={},F={},w="",C=0,N=[],R={},D={},O=0,M=[],Q=[],ee={},W=[],Z,V=!1,q=[],K=[],J={},P=0,G=0,Y={Sheets:[],WBProps:{date1904:!1}},re={};sy.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ie="";o=sy.exec(n);)switch(o[3]=(ie=o[3]).toLowerCase()){case"data":if(ie=="data"){if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?c4e(n.slice(y,o.index),w,b,l[l.length-1][0]=="comment"?ee:x,{c:_,r:S},T,W[_],g,q,r):(w="",b=Ku(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(Q.length>0&&(x.c=Q),(!r.sheetRows||r.sheetRows>S)&&x.v!==void 0&&(r.dense?(m[S]||(m[S]=[]),m[S][_]=x):m[Wa(_)+Ds(S)]=x),x.HRef&&(x.l={Target:In(x.HRef)},x.HRefScreenTip&&(x.l.Tooltip=x.HRefScreenTip),delete x.HRef,delete x.HRefScreenTip),(x.MergeAcross||x.MergeDown)&&(P=_+(parseInt(x.MergeAcross,10)|0),G=S+(parseInt(x.MergeDown,10)|0),N.push({s:{c:_,r:S},e:{c:P,r:G}})),!r.sheetStubs)x.MergeAcross?_=P+1:++_;else if(x.MergeAcross||x.MergeDown){for(var de=_;de<=P;++de)for(var me=S;me<=G;++me)(de>_||me>S)&&(r.dense?(m[me]||(m[me]=[]),m[me][de]={t:"z"}):m[Wa(de)+Ds(me)]={t:"z"});_=P+1}else++_;else x=a4e(o[0]),x.Index&&(_=+x.Index-1),_<I.s.c&&(I.s.c=_),_>I.e.c&&(I.e.c=_),o[0].slice(-2)==="/>"&&++_,Q=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(S<I.s.r&&(I.s.r=S),S>I.e.r&&(I.e.r=S),o[0].slice(-2)==="/>"&&(g=Ku(o[0]),g.Index&&(S=+g.Index-1)),_=0,++S):(g=Ku(o[0]),g.Index&&(S=+g.Index-1),J={},(g.AutoFitHeight=="0"||g.Height)&&(J.hpx=parseInt(g.Height,10),J.hpt=uy(J.hpx),K[S]=J),g.Hidden=="1"&&(J.hidden=!0,K[S]=J));break;case"worksheet":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));f.push(p),I.s.r<=I.e.r&&I.s.c<=I.e.c&&(m["!ref"]=Gr(I),r.sheetRows&&r.sheetRows<=I.e.r&&(m["!fullref"]=m["!ref"],I.e.r=r.sheetRows-1,m["!ref"]=Gr(I))),N.length&&(m["!merges"]=N),W.length>0&&(m["!cols"]=W),K.length>0&&(m["!rows"]=K),d[p]=m}else I={s:{r:2e6,c:2e6},e:{r:0,c:0}},S=_=0,l.push([o[3],!1]),u=Ku(o[0]),p=In(u.Name),m=r.dense?[]:{},N=[],q=[],K=[],re={name:p,Hidden:0},Y.Sheets.push(re);break;case"table":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),W=[],V=!1}break;case"style":o[1]==="/"?l4e(T,F,r):F=Ku(o[0]);break;case"numberformat":F.nf=In(Ku(o[0]).Format||"General"),Bb[F.nf]&&(F.nf=Bb[F.nf]);for(var ue=0;ue!=392&&Tr[ue]!=F.nf;++ue);if(ue==392){for(ue=57;ue!=392;++ue)if(Tr[ue]==null){pf(F.nf,ue);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(Z=Ku(o[0]),Z.Hidden&&(Z.hidden=!0,delete Z.Hidden),Z.Width&&(Z.wpx=parseInt(Z.Width,10)),!V&&Z.wpx>10){V=!0,Fo=TJ;for(var ye=0;ye<W.length;++ye)W[ye]&&I0(W[ye])}V&&I0(Z),W[Z.Index-1||W.length]=Z;for(var Ie=0;Ie<+Z.Span;++Ie)W[W.length]=Da(Z);break;case"namedrange":if(o[1]==="/")break;Y.Names||(Y.Names=[]);var ne=Rr(o[0]),Fe={Name:ne.Name,Ref:mv(ne.RefersTo.slice(1),{r:0,c:0})};Y.Sheets.length>0&&(Fe.Sheet=Y.Sheets.length-1),Y.Names.push(Fe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?w+=n.slice(C,o.index):C=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;F.Interior=Ku(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Oye(R,ie,n.slice(O,o.index)):O=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));u4e(ee),Q.push(ee)}else l.push([o[3],!1]),u=Ku(o[0]),ee={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Le=Ku(o[0]);m["!autofilter"]={ref:mv(Le.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return C9(n,r);var ke=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ke=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ke=!1}break;case"excelworkbook":switch(o[3]){case"date1904":Y.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ke=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ke=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(O,o.index)){case"SheetHidden":re.Hidden=1;break;case"SheetVeryHidden":re.Hidden=2;break}else O=o.index+o[0].length;break;case"header":m["!margins"]||Wm(m["!margins"]={},"xlml"),isNaN(+Rr(o[0]).Margin)||(m["!margins"].header=+Rr(o[0]).Margin);break;case"footer":m["!margins"]||Wm(m["!margins"]={},"xlml"),isNaN(+Rr(o[0]).Margin)||(m["!margins"].footer=+Rr(o[0]).Margin);break;case"pagemargins":var pe=Rr(o[0]);m["!margins"]||Wm(m["!margins"]={},"xlml"),isNaN(+pe.Top)||(m["!margins"].top=+pe.Top),isNaN(+pe.Left)||(m["!margins"].left=+pe.Left),isNaN(+pe.Right)||(m["!margins"].right=+pe.Right),isNaN(+pe.Bottom)||(m["!margins"].bottom=+pe.Bottom);break;case"displayrighttoleft":Y.Views||(Y.Views=[]),Y.Views[0]||(Y.Views[0]={}),Y.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ke=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ke=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ke=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ke=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ke=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ke=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ke=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ke=!1}break;case"smarttags":break;default:ke=!1;break}if(ke||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?i4e(D,ie,M,n.slice(O,o.index)):(M=o,O=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var je={};return!r.bookSheets&&!r.bookProps&&(je.Sheets=d),je.SheetNames=f,je.Workbook=Y,je.SSF=Da(Tr),je.Props=R,je.Custprops=D,je}function RI(e,t){switch(NO(t=t||{}),t.type||"base64"){case"base64":return XB(gc(e),t);case"binary":case"buffer":case"file":return XB(e,t);case"array":return XB(M0(e),t)}}function d4e(e,t){var r=[];return e.Props&&r.push(Dye(e.Props,t)),e.Custprops&&r.push(Pye(e.Props,e.Custprops)),r.join("")}function A4e(){return""}function f4e(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var s=[];s.push(Ut("NumberFormat",null,{"ss:Format":ca(Tr[n.numFmtId])}));var i={"ss:ID":"s"+(21+a)};r.push(Ut("Style",s.join(""),i))}),Ut("Styles",r.join(""))}function nZ(e){return Ut("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+yO(e.Ref,{r:0,c:0})})}function h4e(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(nZ(a)))}return Ut("Names",r.join(""))}function m4e(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],i=0;i<a.length;++i){var o=a[i];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(nZ(o)))}return s.join("")}function p4e(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Ut("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Ut("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Ut("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Ut("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(no("ProtectContents","True")),e["!protect"].objects&&a.push(no("ProtectObjects","True")),e["!protect"].scenarios&&a.push(no("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(no("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(no("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){e["!protect"][i[0]]&&a.push("<"+i[1]+"/>")})),a.length==0?"":Ut("WorksheetOptions",a.join(""),{xmlns:ic.x})}function g4e(e){return e.map(function(t){var r=Lbe(t.t||""),n=Ut("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ut("Comment",n,{"ss:Author":t.a})}).join("")}function v4e(e,t,r,n,a,s,i){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+ca(yO(e.f,i))),e.F&&e.F.slice(0,t.length)==t){var l=Xa(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==i.r?"":"["+(l.r-i.r)+"]")+"C"+(l.c==i.c?"":"["+(l.c-i.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=ca(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=ca(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=i.c||u[d].s.r!=i.r||(u[d].e.c>u[d].s.c&&(o["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(o["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",m="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",m=String(e.v);break;case"b":f="Boolean",m=e.v?"1":"0";break;case"e":f="Error",m=zf[e.v];break;case"d":f="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Tr[14]);break;case"s":f="String",m=Rbe(e.v||"");break}var p=H0(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=i.c+1;var x=e.v!=null?m:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+x+"</Data>";return(e.c||[]).length>0&&(g+=g4e(e.c)),Ut("Cell",g,o)}function x4e(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Dv(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function b4e(e,t,r,n){if(!e["!ref"])return"";var a=jn(e["!ref"]),s=e["!merges"]||[],i=0,o=[];e["!cols"]&&e["!cols"].forEach(function(b,y){I0(b);var _=!!b.width,S=D5(y,b),I={"ss:Index":y+1};_&&(I["ss:Width"]=ly(S.width)),b.hidden&&(I["ss:Hidden"]="1"),o.push(Ut("Column",null,I))});for(var l=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[x4e(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var m=!1;for(i=0;i!=s.length;++i)if(!(s[i].s.c>f)&&!(s[i].s.r>u)&&!(s[i].e.c<f)&&!(s[i].e.r<u)){(s[i].s.c!=f||s[i].s.r!=u)&&(m=!0);break}if(!m){var p={r:u,c:f},x=Fr(p),g=l?(e[u]||[])[f]:e[x];d.push(v4e(g,x,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function y4e(e,t,r){var n=[],a=r.SheetNames[e],s=r.Sheets[a],i=s?m4e(s,t,e,r):"";return i.length>0&&n.push("<Names>"+i+"</Names>"),i=s?b4e(s,t,e,r):"",i.length>0&&n.push("<Table>"+i+"</Table>"),n.push(p4e(s,t,e,r)),n.join("")}function w4e(e,t){t||(t={}),e.SSF||(e.SSF=Da(Tr)),e.SSF&&(Ax(),B5(e.SSF),t.revssf=T5(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],H0(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(d4e(e,t)),r.push(A4e()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Ut("Worksheet",y4e(n,t,e),{"ss:Name":ca(e.SheetNames[n])}));return r[2]=f4e(e,t),r[3]=h4e(e),Ps+Ut("Workbook",r.join(""),{xmlns:ic.ss,"xmlns:o":ic.o,"xmlns:x":ic.x,"xmlns:ss":ic.ss,"xmlns:dt":ic.dt,"xmlns:html":ic.html})}function E4e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=hye(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=mye(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var C4e=[60,1084,2066,2165,2175];function _4e(e,t,r,n,a){var s=n,i=[],o=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}i.push(o),r.l+=s;for(var l=uf(r,r.l),u=LI[l],d=0;u!=null&&C4e.indexOf(l)>-1;)s=uf(r,r.l+2),d=r.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),o=r.slice(d,r.l+4+s),i.push(o),r.l+=4+s,u=LI[l=uf(r,r.l)];var f=Di(i);to(f,0);var m=0;f.lens=[];for(var p=0;p<i.length;++p)f.lens.push(m),m+=i[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Vd(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Tr[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||zf[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ry(e.v):e.w=up(e.v):e.w=mu(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&dx(Tr[n]||String(n))){var a=Om(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function J2(e,t,r){return{v:e,ixfe:t,t:r}}function S4e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},i={},o=null,l=[],u="",d={},f,m="",p,x,g,b,y={},_=[],S,I,T=[],F=[],w={Sheets:[],WBProps:{date1904:!1},Views:[{}]},C={},N=function(Pe){return Pe<8?Km[Pe]:Pe<64&&F[Pe-8]||Km[Pe]},R=function(Pe,Be,ot){var vt=Be.XF.data;if(!(!vt||!vt.patternType||!ot||!ot.cellStyles)){Be.s={},Be.s.patternType=vt.patternType;var ur;(ur=oy(N(vt.icvFore)))&&(Be.s.fgColor={rgb:ur}),(ur=oy(N(vt.icvBack)))&&(Be.s.bgColor={rgb:ur})}},D=function(Pe,Be,ot){if(!(J>1)&&!(ot.sheetRows&&Pe.r>=ot.sheetRows)){if(ot.cellStyles&&Be.XF&&Be.XF.data&&R(Pe,Be,ot),delete Be.ixfe,delete Be.XF,f=Pe,m=Fr(Pe),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),Pe.r<i.s.r&&(i.s.r=Pe.r),Pe.c<i.s.c&&(i.s.c=Pe.c),Pe.r+1>i.e.r&&(i.e.r=Pe.r+1),Pe.c+1>i.e.c&&(i.e.c=Pe.c+1),ot.cellFormula&&Be.f){for(var vt=0;vt<_.length;++vt)if(!(_[vt][0].s.c>Pe.c||_[vt][0].s.r>Pe.r)&&!(_[vt][0].e.c<Pe.c||_[vt][0].e.r<Pe.r)){Be.F=Gr(_[vt][0]),(_[vt][0].s.c!=Pe.c||_[vt][0].s.r!=Pe.r)&&delete Be.f,Be.f&&(Be.f=""+To(_[vt][1],i,Pe,q,O));break}}ot.dense?(a[Pe.r]||(a[Pe.r]=[]),a[Pe.r][Pe.c]=Be):a[m]=Be}},O={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:_,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(O.password=t.password);var M,Q=[],ee=[],W=[],Z=[],V=!1,q=[];q.SheetNames=O.snames,q.sharedf=O.sharedf,q.arrayf=O.arrayf,q.names=[],q.XTI=[];var K=0,J=0,P=0,G=[],Y=[],re;O.codepage=1200,Zu(1200);for(var ie=!1;e.l<e.length-1;){var de=e.l,me=e.read_shift(2);if(me===0&&K===10)break;var ue=e.l===e.length?0:e.read_shift(2),ye=LI[me];if(ye&&ye.f){if(t.bookSheets&&K===133&&me!==133)break;if(K=me,ye.r===2||ye.r==12){var Ie=e.read_shift(2);if(ue-=2,!O.enc&&Ie!==me&&((Ie&255)<<8|Ie>>8)!==me)throw new Error("rt mismatch: "+Ie+"!="+me);ye.r==12&&(e.l+=10,ue-=10)}var ne={};if(me===10?ne=ye.f(e,ue,O):ne=_4e(me,ye,e,ue,O),J==0&&[9,521,1033,2057].indexOf(K)===-1)continue;switch(me){case 34:r.opts.Date1904=w.WBProps.date1904=ne;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(O.enc||(e.l=0),O.enc=ne,!t.password)throw new Error("File is password-protected");if(ne.valid==null)throw new Error("Encryption scheme unsupported");if(!ne.valid)throw new Error("Password is incorrect");break;case 92:O.lastuser=ne;break;case 66:var Fe=Number(ne);switch(Fe){case 21010:Fe=1200;break;case 32768:Fe=1e4;break;case 32769:Fe=1252;break}Zu(O.codepage=Fe),ie=!0;break;case 317:O.rrtabid=ne;break;case 25:O.winlocked=ne;break;case 439:r.opts.RefreshAll=ne;break;case 12:r.opts.CalcCount=ne;break;case 16:r.opts.CalcDelta=ne;break;case 17:r.opts.CalcIter=ne;break;case 13:r.opts.CalcMode=ne;break;case 14:r.opts.CalcPrecision=ne;break;case 95:r.opts.CalcSaveRecalc=ne;break;case 15:O.CalcRefMode=ne;break;case 2211:r.opts.FullCalc=ne;break;case 129:ne.fDialog&&(a["!type"]="dialog"),ne.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),ne.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:T.push(ne);break;case 430:q.push([ne]),q[q.length-1].XTI=[];break;case 35:case 547:q[q.length-1].push(ne);break;case 24:case 536:re={Name:ne.Name,Ref:To(ne.rgce,i,null,q,O)},ne.itab>0&&(re.Sheet=ne.itab-1),q.names.push(re),q[0]||(q[0]=[],q[0].XTI=[]),q[q.length-1].push(ne),ne.Name=="_xlnm._FilterDatabase"&&ne.itab>0&&ne.rgce&&ne.rgce[0]&&ne.rgce[0][0]&&ne.rgce[0][0][0]=="PtgArea3d"&&(Y[ne.itab-1]={ref:Gr(ne.rgce[0][0][1][2])});break;case 22:O.ExternCount=ne;break;case 23:q.length==0&&(q[0]=[],q[0].XTI=[]),q[q.length-1].XTI=q[q.length-1].XTI.concat(ne),q.XTI=q.XTI.concat(ne);break;case 2196:if(O.biff<8)break;re!=null&&(re.Comment=ne[1]);break;case 18:a["!protect"]=ne;break;case 19:ne!==0&&O.WTF&&console.error("Password verifier: "+ne);break;case 133:s[ne.pos]=ne,O.snames.push(ne.name);break;case 10:{if(--J)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,a["!ref"]=Gr(i),t.sheetRows&&t.sheetRows<=i.e.r){var Le=i.e.r;i.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Gr(i),i.e.r=Le}i.e.r++,i.e.c++}Q.length>0&&(a["!merges"]=Q),ee.length>0&&(a["!objects"]=ee),W.length>0&&(a["!cols"]=W),Z.length>0&&(a["!rows"]=Z),w.Sheets.push(C)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(O.biff===8&&(O.biff={9:2,521:3,1033:4}[me]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ne.BIFFVer]||8),O.biffguess=ne.BIFFVer==0,ne.BIFFVer==0&&ne.dt==4096&&(O.biff=5,ie=!0,Zu(O.codepage=28591)),O.biff==8&&ne.BIFFVer==0&&ne.dt==16&&(O.biff=2),J++)break;if(a=t.dense?[]:{},O.biff<8&&!ie&&(ie=!0,Zu(O.codepage=t.codepage||1252)),O.biff<5||ne.BIFFVer==0&&ne.dt==4096){u===""&&(u="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var ke={pos:e.l-ue,name:u};s[ke.pos]=ke,O.snames.push(u)}else u=(s[de]||{name:""}).name;ne.dt==32&&(a["!type"]="chart"),ne.dt==64&&(a["!type"]="macro"),Q=[],ee=[],O.arrayf=_=[],W=[],Z=[],V=!1,C={Hidden:(s[de]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[ne.r]||[])[ne.c]:a[Fr({c:ne.c,r:ne.r})])&&++ne.c,S={ixfe:ne.ixfe,XF:T[ne.ixfe]||{},v:ne.val,t:"n"},P>0&&(S.z=G[S.ixfe>>8&63]),Vd(S,t,r.opts.Date1904),D({c:ne.c,r:ne.r},S,t);break;case 5:case 517:S={ixfe:ne.ixfe,XF:T[ne.ixfe],v:ne.val,t:ne.t},P>0&&(S.z=G[S.ixfe>>8&63]),Vd(S,t,r.opts.Date1904),D({c:ne.c,r:ne.r},S,t);break;case 638:S={ixfe:ne.ixfe,XF:T[ne.ixfe],v:ne.rknum,t:"n"},P>0&&(S.z=G[S.ixfe>>8&63]),Vd(S,t,r.opts.Date1904),D({c:ne.c,r:ne.r},S,t);break;case 189:for(var pe=ne.c;pe<=ne.C;++pe){var je=ne.rkrec[pe-ne.c][0];S={ixfe:je,XF:T[je],v:ne.rkrec[pe-ne.c][1],t:"n"},P>0&&(S.z=G[S.ixfe>>8&63]),Vd(S,t,r.opts.Date1904),D({c:pe,r:ne.r},S,t)}break;case 6:case 518:case 1030:{if(ne.val=="String"){o=ne;break}if(S=J2(ne.val,ne.cell.ixfe,ne.tt),S.XF=T[S.ixfe],t.cellFormula){var He=ne.formula;if(He&&He[0]&&He[0][0]&&He[0][0][0]=="PtgExp"){var Xe=He[0][0][1][0],dt=He[0][0][1][1],Et=Fr({r:Xe,c:dt});y[Et]?S.f=""+To(ne.formula,i,ne.cell,q,O):S.F=((t.dense?(a[Xe]||[])[dt]:a[Et])||{}).F}else S.f=""+To(ne.formula,i,ne.cell,q,O)}P>0&&(S.z=G[S.ixfe>>8&63]),Vd(S,t,r.opts.Date1904),D(ne.cell,S,t),o=ne}break;case 7:case 519:if(o)o.val=ne,S=J2(ne,o.cell.ixfe,"s"),S.XF=T[S.ixfe],t.cellFormula&&(S.f=""+To(o.formula,i,o.cell,q,O)),P>0&&(S.z=G[S.ixfe>>8&63]),Vd(S,t,r.opts.Date1904),D(o.cell,S,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{_.push(ne);var Tt=Fr(ne[0].s);if(p=t.dense?(a[ne[0].s.r]||[])[ne[0].s.c]:a[Tt],t.cellFormula&&p){if(!o||!Tt||!p)break;p.f=""+To(ne[1],i,ne[0],q,O),p.F=Gr(ne[0])}}break;case 1212:{if(!t.cellFormula)break;if(m){if(!o)break;y[Fr(o.cell)]=ne[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Fr(o.cell)],(p||{}).f=""+To(ne[0],i,f,q,O)}}break;case 253:S=J2(l[ne.isst].t,ne.ixfe,"s"),l[ne.isst].h&&(S.h=l[ne.isst].h),S.XF=T[S.ixfe],P>0&&(S.z=G[S.ixfe>>8&63]),Vd(S,t,r.opts.Date1904),D({c:ne.c,r:ne.r},S,t);break;case 513:t.sheetStubs&&(S={ixfe:ne.ixfe,XF:T[ne.ixfe],t:"z"},P>0&&(S.z=G[S.ixfe>>8&63]),Vd(S,t,r.opts.Date1904),D({c:ne.c,r:ne.r},S,t));break;case 190:if(t.sheetStubs)for(var Ct=ne.c;Ct<=ne.C;++Ct){var Dt=ne.ixfe[Ct-ne.c];S={ixfe:Dt,XF:T[Dt],t:"z"},P>0&&(S.z=G[S.ixfe>>8&63]),Vd(S,t,r.opts.Date1904),D({c:Ct,r:ne.r},S,t)}break;case 214:case 516:case 4:S=J2(ne.val,ne.ixfe,"s"),S.XF=T[S.ixfe],P>0&&(S.z=G[S.ixfe>>8&63]),Vd(S,t,r.opts.Date1904),D({c:ne.c,r:ne.r},S,t);break;case 0:case 512:J===1&&(i=ne);break;case 252:l=ne;break;case 1054:if(O.biff==4){G[P++]=ne[1];for(var Jt=0;Jt<P+163&&Tr[Jt]!=ne[1];++Jt);Jt>=163&&pf(ne[1],P+163)}else pf(ne[1],ne[0]);break;case 30:{G[P++]=ne;for(var Pt=0;Pt<P+163&&Tr[Pt]!=ne;++Pt);Pt>=163&&pf(ne,P+163)}break;case 229:Q=Q.concat(ne);break;case 93:ee[ne.cmo[0]]=O.lastobj=ne;break;case 438:O.lastobj.TxO=ne;break;case 127:O.lastobj.ImData=ne;break;case 440:for(b=ne[0].s.r;b<=ne[0].e.r;++b)for(g=ne[0].s.c;g<=ne[0].e.c;++g)p=t.dense?(a[b]||[])[g]:a[Fr({c:g,r:b})],p&&(p.l=ne[1]);break;case 2048:for(b=ne[0].s.r;b<=ne[0].e.r;++b)for(g=ne[0].s.c;g<=ne[0].e.c;++g)p=t.dense?(a[b]||[])[g]:a[Fr({c:g,r:b})],p&&p.l&&(p.l.Tooltip=ne[1]);break;case 28:{if(O.biff<=5&&O.biff>=2)break;p=t.dense?(a[ne[0].r]||[])[ne[0].c]:a[Fr(ne[0])];var Mt=ee[ne[2]];p||(t.dense?(a[ne[0].r]||(a[ne[0].r]=[]),p=a[ne[0].r][ne[0].c]={t:"z"}):p=a[Fr(ne[0])]={t:"z"},i.e.r=Math.max(i.e.r,ne[0].r),i.s.r=Math.min(i.s.r,ne[0].r),i.e.c=Math.max(i.e.c,ne[0].c),i.s.c=Math.min(i.s.c,ne[0].c)),p.c||(p.c=[]),x={a:ne[1],t:Mt.TxO.t},p.c.push(x)}break;case 2173:fCe(T[ne.ixfe],ne.ext);break;case 125:{if(!O.cellStyles)break;for(;ne.e>=ne.s;)W[ne.e--]={width:ne.w/256,level:ne.level||0,hidden:!!(ne.flags&1)},V||(V=!0,vO(ne.w/256)),I0(W[ne.e+1])}break;case 520:{var Wt={};ne.level!=null&&(Z[ne.r]=Wt,Wt.level=ne.level),ne.hidden&&(Z[ne.r]=Wt,Wt.hidden=!0),ne.hpt&&(Z[ne.r]=Wt,Wt.hpt=ne.hpt,Wt.hpx=Dv(ne.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Wm(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[me]]=ne;break;case 161:a["!margins"]||Wm(a["!margins"]={}),a["!margins"].header=ne.header,a["!margins"].footer=ne.footer;break;case 574:ne.RTL&&(w.Views[0].RTL=!0);break;case 146:F=ne;break;case 2198:M=ne;break;case 140:I=ne;break;case 442:u?C.CodeName=ne||C.name:w.WBProps.CodeName=ne||"ThisWorkbook";break}}else ye||console.error("Missing Info for XLS Record 0x"+me.toString(16)),e.l+=ue}return r.SheetNames=vs(s).sort(function(De,Pe){return Number(De)-Number(Pe)}).map(function(De){return s[De].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&Y.forEach(function(De,Pe){r.Sheets[r.SheetNames[Pe]]["!autofilter"]=De}),r.Strings=l,r.SSF=Da(Tr),O.enc&&(r.Encryption=O.enc),M&&(r.Themes=M),r.Metadata={},I!==void 0&&(r.Metadata.Country=I),q.names.length>0&&(w.Names=q.names),r.Workbook=w,r}var kb={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function N4e(e,t,r){var n=vr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=e9(n,II,kb.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var i=vr.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var o=e9(i,jI,kb.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(rJ(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function B4e(e,t){var r=[],n=[],a=[],s=0,i,o=T7(II,"n"),l=T7(jI,"n");if(e.Props)for(i=vs(e.Props),s=0;s<i.length;++s)(Object.prototype.hasOwnProperty.call(o,i[s])?r:Object.prototype.hasOwnProperty.call(l,i[s])?n:a).push([i[s],e.Props[i[s]]]);if(e.Custprops)for(i=vs(e.Custprops),s=0;s<i.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},i[s])||(Object.prototype.hasOwnProperty.call(o,i[s])?r:Object.prototype.hasOwnProperty.call(l,i[s])?n:a).push([i[s],e.Custprops[i[s]]]);var u=[];for(s=0;s<a.length;++s)cJ.indexOf(a[s][0])>-1||tJ.indexOf(a[s][0])>-1||a[s][1]!=null&&u.push(a[s]);n.length&&vr.utils.cfb_add(t,"/SummaryInformation",t9(n,kb.SI,l,jI)),(r.length||u.length)&&vr.utils.cfb_add(t,"/DocumentSummaryInformation",t9(r,kb.DSI,o,II,u.length?u:null,kb.UDI))}function aZ(e,t){t||(t={}),NO(t),q6(),t.codepage&&G6(t.codepage);var r,n;if(e.FullPaths){if(vr.find(e,"/encryption"))throw new Error("File is password-protected");r=vr.find(e,"!CompObj"),n=vr.find(e,"/Workbook")||vr.find(e,"/Book")}else{switch(t.type){case"base64":e=cc(gc(e));break;case"binary":e=cc(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}to(e,0),n={content:e}}var a,s;if(r&&E4e(r),t.bookProps&&!t.bookSheets)a={};else{var i=an?"buffer":"array";if(n&&n.content)a=S4e(n.content,t);else if((s=vr.find(e,"PerfectOffice_MAIN"))&&s.content)a=qm.to_workbook(s.content,(t.type=i,t));else if((s=vr.find(e,"NativeContent_MAIN"))&&s.content)a=qm.to_workbook(s.content,(t.type=i,t));else throw(s=vr.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&vr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=QCe(e))}var o={};return e.FullPaths&&N4e(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function k4e(e,t){var r=t||{},n=vr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return vr.utils.cfb_add(n,a,sZ(e,r)),r.biff==8&&(e.Props||e.Custprops)&&B4e(e,n),r.biff==8&&e.vbaraw&&HCe(n,vr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var dy={0:{f:ZSe},1:{f:o5e},2:{f:S5e},3:{f:m5e},4:{f:d5e},5:{f:E5e},6:{f:I5e},7:{f:x5e},8:{f:L5e},9:{f:R5e},10:{f:D5e},11:{f:P5e},12:{f:c5e},13:{f:B5e},14:{f:g5e},15:{f:f5e},16:{f:XJ},17:{f:F5e},18:{f:y5e},19:{f:lO},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:FNe},40:{},42:{},43:{f:IEe},44:{f:kEe},45:{f:OEe},46:{f:PEe},47:{f:DEe},48:{},49:{f:rye},50:{},51:{f:pCe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:bJ},62:{f:T5e},63:{f:_Ce},64:{f:eNe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Qo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:X5e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:s5e},148:{f:r5e,p:16},151:{f:z5e},152:{},153:{f:TNe},154:{},155:{},156:{f:BNe},157:{},158:{},159:{T:1,f:K2e},160:{T:-1},161:{T:1,f:jp},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:U5e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:hCe},336:{T:-1},337:{f:xCe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:TI},357:{},358:{},359:{},360:{T:1},361:{},362:{f:xJ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:$5e},427:{f:K5e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:q5e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:a5e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:H5e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:TI},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:PCe},633:{T:1},634:{T:-1},635:{T:1,f:OCe},636:{T:-1},637:{f:iye},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:gNe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:tNe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},LI={6:{f:qB},10:{f:Fh},12:{f:qs},13:{f:qs},14:{f:ks},15:{f:ks},16:{f:Lo},17:{f:ks},18:{f:ks},19:{f:qs},20:{f:o9},21:{f:o9},23:{f:xJ},24:{f:c9},25:{f:ks},26:{},27:{},28:{f:t2e},29:{},34:{f:ks},35:{f:l9},38:{f:Lo},39:{f:Lo},40:{f:Lo},41:{f:Lo},42:{f:ks},43:{f:ks},47:{f:fEe},49:{f:Bwe},51:{f:qs},60:{},61:{f:Ewe},64:{f:ks},65:{f:Nwe},66:{f:qs},77:{},80:{},81:{},82:{},85:{f:qs},89:{},90:{},91:{},92:{f:Awe},93:{f:a2e},94:{},95:{f:ks},96:{},97:{},99:{f:ks},125:{f:bJ},128:{f:Vwe},129:{f:hwe},130:{f:qs},131:{f:ks},132:{f:ks},133:{f:mwe},134:{},140:{f:A2e},141:{f:qs},144:{},146:{f:m2e},151:{},152:{},153:{},154:{},155:{},156:{f:qs},157:{},158:{},160:{f:w2e},161:{f:v2e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Uwe},190:{f:Mwe},193:{f:Fh},197:{},198:{},199:{},200:{},201:{},202:{f:ks},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:qs},220:{},221:{f:ks},222:{},224:{f:Hwe},225:{f:dwe},226:{f:Fh},227:{},229:{f:r2e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:gwe},253:{f:Twe},255:{f:xwe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:uJ},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ks},353:{f:Fh},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:qwe},431:{f:ks},432:{},433:{},434:{},437:{},438:{f:o2e},439:{f:ks},440:{f:l2e},441:{},442:{f:aw},443:{},444:{f:qs},445:{},446:{},448:{f:Fh},449:{f:wwe,r:2},450:{f:Fh},512:{f:a9},513:{f:y2e},515:{f:Kwe},516:{f:jwe},517:{f:i9},519:{f:E2e},520:{f:bwe},523:{},545:{f:u9},549:{f:n9},566:{},574:{f:_we},638:{f:Lwe},659:{},1048:{},1054:{f:Owe},1084:{},1212:{f:Jwe},2048:{f:u2e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:W2},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Fh},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:p2e,r:12},2173:{f:ACe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ks,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Ywe,r:12},2197:{},2198:{f:iCe,r:12},2199:{},2200:{},2201:{},2202:{f:Zwe,r:12},2203:{f:Fh},2204:{},2205:{},2206:{},2207:{},2211:{f:ywe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:qs},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:x2e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:h2e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:a9},1:{},2:{f:B2e},3:{f:S2e},4:{f:_2e},5:{f:i9},7:{f:T2e},8:{},9:{f:W2},11:{},22:{f:qs},30:{f:Pwe},31:{},32:{},33:{f:u9},36:{},37:{f:n9},50:{f:I2e},62:{},52:{},67:{},68:{f:qs},69:{},86:{},126:{},127:{f:C2e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:j2e},223:{},234:{},354:{},421:{},518:{f:qB},521:{f:W2},536:{f:c9},547:{f:l9},561:{},579:{},1030:{f:qB},1033:{f:W2},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Qt(e,t,r,n){var a=t;if(!isNaN(a)){var s=n||(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&sO(r)&&e.push(r)}}function T4e(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Qt(e,t,r,a);var s=t;if(!isNaN(s)){for(var i=r.parts||[],o=0,l=0,u=0;u+(i[o]||8224)<=8224;)u+=i[o]||8224,o++;var d=e.next(4);for(d.write_shift(2,s),d.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u;l<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(i[o]||8224)<=8224;)u+=i[o]||8224,o++;d.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u}}}function lw(e,t,r){return e||(e=At(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function I4e(e,t,r,n){var a=At(9);return lw(a,e,t),dJ(r,n||"b",a),a}function j4e(e,t,r){var n=At(8+2*r.length);return lw(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function F4e(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?mi(Oa(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Qt(e,2,k2e(r,n,a)):Qt(e,3,N2e(r,n,a));return;case"b":case"e":Qt(e,5,I4e(r,n,t.v,t.t));return;case"s":case"str":Qt(e,4,j4e(r,n,(t.v||"").slice(0,255)));return}Qt(e,1,lw(null,r,n))}function O4e(e,t,r,n){var a=Array.isArray(t),s=jn(t["!ref"]||"A1"),i,o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),i=Gr(s)}for(var u=s.s.r;u<=s.e.r;++u){o=Ds(u);for(var d=s.s.c;d<=s.e.c;++d){u===s.s.r&&(l[d]=Wa(d)),i=l[d]+o;var f=a?(t[u]||[])[d]:t[i];f&&F4e(e,f,u,d)}}}function D4e(e,t){for(var r=t||{},n=jl(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(a=s);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Qt(n,r.biff==4?1033:r.biff==3?521:9,mO(e,16,r)),O4e(n,e.Sheets[e.SheetNames[a]],a,r),Qt(n,10),n.end()}function P4e(e,t,r){Qt(e,49,kwe({sz:12,name:"Arial"},r))}function R4e(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Qt(e,1054,Dwe(a,t[a],r))})}function L4e(e,t){var r=At(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Qt(e,2151,r),r=At(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),pJ(jn(t["!ref"]||"A1"),r),r.write_shift(4,4),Qt(e,2152,r)}function U4e(e,t){for(var r=0;r<16;++r)Qt(e,224,s9({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Qt(e,224,s9(n,0,t))})}function M4e(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Qt(e,440,c2e(n)),n[1].Tooltip&&Qt(e,2048,d2e(n))}delete t["!links"]}function Q4e(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Qt(e,125,g2e(D5(a,n),a))})}}function H4e(e,t,r,n,a){var s=16+H0(a.cellXfs,t,a);if(t.v==null&&!t.bf){Qt(e,513,hp(r,n,s));return}if(t.bf)Qt(e,6,hSe(t,r,n,a,s));else switch(t.t){case"d":case"n":var i=t.t=="d"?mi(Oa(t.v)):t.v;Qt(e,515,Gwe(r,n,i,s));break;case"b":case"e":Qt(e,517,$we(r,n,t.v,s,a,t.t));break;case"s":case"str":if(a.bookSST){var o=EO(a.Strings,t.v,a.revStrings);Qt(e,253,Iwe(r,n,o,s))}else Qt(e,516,Fwe(r,n,(t.v||"").slice(0,255),s,a));break;default:Qt(e,513,hp(r,n,s))}}function V4e(e,t,r){var n=jl(),a=r.SheetNames[e],s=r.Sheets[a]||{},i=(r||{}).Workbook||{},o=(i.Sheets||[])[e]||{},l=Array.isArray(s),u=t.biff==8,d,f="",m=[],p=jn(s["!ref"]||"A1"),x=u?65536:16384;if(p.e.c>255||p.e.r>=x){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,x-1)}Qt(n,2057,mO(r,16,t)),Qt(n,13,nu(1)),Qt(n,12,nu(100)),Qt(n,15,Jo(!0)),Qt(n,17,Jo(!1)),Qt(n,16,Ap(.001)),Qt(n,95,Jo(!0)),Qt(n,42,Jo(!1)),Qt(n,43,Jo(!1)),Qt(n,130,nu(1)),Qt(n,128,zwe()),Qt(n,131,Jo(!1)),Qt(n,132,Jo(!1)),u&&Q4e(n,s["!cols"]),Qt(n,512,Rwe(p,t)),u&&(s["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=Ds(g);for(var b=p.s.c;b<=p.e.c;++b){g===p.s.r&&(m[b]=Wa(b)),d=m[b]+f;var y=l?(s[g]||[])[b]:s[d];y&&(H4e(n,y,g,b,t),u&&y.l&&s["!links"].push([d,y.l]))}}var _=o.CodeName||o.name||a;return u&&Qt(n,574,Swe((i.Views||[])[0])),u&&(s["!merges"]||[]).length&&Qt(n,229,n2e(s["!merges"])),u&&M4e(n,s),Qt(n,442,AJ(_)),u&&L4e(n,s),Qt(n,10),n.end()}function z4e(e,t,r){var n=jl(),a=(e||{}).Workbook||{},s=a.Sheets||[],i=a.WBProps||{},o=r.biff==8,l=r.biff==5;if(Qt(n,2057,mO(e,5,r)),r.bookType=="xla"&&Qt(n,135),Qt(n,225,o?nu(1200):null),Qt(n,193,$ye(2)),l&&Qt(n,191),l&&Qt(n,192),Qt(n,226),Qt(n,92,fwe("SheetJS",r)),Qt(n,66,nu(o?1200:1252)),o&&Qt(n,353,nu(0)),o&&Qt(n,448),Qt(n,317,b2e(e.SheetNames.length)),o&&e.vbaraw&&Qt(n,211),o&&e.vbaraw){var u=i.CodeName||"ThisWorkbook";Qt(n,442,AJ(u))}Qt(n,156,nu(17)),Qt(n,25,Jo(!1)),Qt(n,18,Jo(!1)),Qt(n,19,nu(0)),o&&Qt(n,431,Jo(!1)),o&&Qt(n,444,nu(0)),Qt(n,61,Cwe()),Qt(n,64,Jo(!1)),Qt(n,141,nu(0)),Qt(n,34,Jo(wNe(e)=="true")),Qt(n,14,Jo(!0)),o&&Qt(n,439,Jo(!1)),Qt(n,218,nu(0)),P4e(n,e,r),R4e(n,e.SSF,r),U4e(n,r),o&&Qt(n,352,Jo(!1));var d=n.end(),f=jl();o&&Qt(f,140,f2e()),o&&r.Strings&&T4e(f,252,vwe(r.Strings)),Qt(f,10);var m=f.end(),p=jl(),x=0,g=0;for(g=0;g<e.SheetNames.length;++g)x+=(o?12:11)+(o?2:1)*e.SheetNames[g].length;var b=d.length+x+m.length;for(g=0;g<e.SheetNames.length;++g){var y=s[g]||{};Qt(p,133,pwe({pos:b,hs:y.Hidden||0,dt:0,name:e.SheetNames[g]},r)),b+=t[g].length}var _=p.end();if(x!=_.length)throw new Error("BS8 "+x+" != "+_.length);var S=[];return d.length&&S.push(d),_.length&&S.push(_),m.length&&S.push(m),Di(S)}function $4e(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Da(Tr)),e&&e.SSF&&(Ax(),B5(e.SSF),r.revssf=T5(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,BO(r),r.cellXfs=[],H0(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=V4e(a,r,e);return n.unshift(z4e(e,n,r)),Di(n)}function sZ(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Ol(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return $4e(e,t);case 4:case 3:case 2:return D4e(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function b9(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,o=s&&s.index||e.length,l=kbe(e.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,m=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},x=[];for(i=0;i<l.length;++i){var g=l[i].trim(),b=g.slice(0,3).toLowerCase();if(b=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(b!="<td"&&b!="<th")){var y=g.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var _=y[o].trim();if(_.match(/<t[dh]/i)){for(var S=_,I=0;S.charAt(0)=="<"&&(I=S.indexOf(">"))>-1;)S=S.slice(I+1);for(var T=0;T<x.length;++T){var F=x[T];F.s.c==d&&F.s.r<u&&u<=F.e.r&&(d=F.e.c+1,T=-1)}var w=Rr(_.slice(0,_.indexOf(">")));m=w.colspan?+w.colspan:1,((f=+w.rowspan)>1||m>1)&&x.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+m-1}});var C=w.t||w["data-t"]||"";if(!S.length){d+=m;continue}if(S=kY(S),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!S.length){d+=m;continue}var N={t:"s",v:S};r.raw||!S.trim().length||C=="s"||(S==="TRUE"?N={t:"b",v:!0}:S==="FALSE"?N={t:"b",v:!1}:isNaN(td(S))?isNaN(Fv(S).getDate())||(N={t:"d",v:Oa(S)},r.cellDates||(N={t:"n",v:mi(N.v)}),N.z=r.dateNF||Tr[14]):N={t:"n",v:td(S)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=N):n[Fr({r:u,c:d})]=N,d+=m}}}}return n["!ref"]=Gr(p),x.length&&(n["!merges"]=x),n}function K4e(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,l=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>i)&&!(a[u].e.r<r||a[u].e.c<i)){if(a[u].s.r<r||a[u].s.c<i){o=-1;break}o=a[u].e.r-a[u].s.r+1,l=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var d=Fr({r,c:i}),f=n.dense?(e[r]||[])[i]:e[d],m=f&&f.v!=null&&(f.h||rO(f.w||(Bf(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?m='<span contenteditable="true">'+m+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),p.id=(n.id||"sjs")+"-"+d,s.push(Ut("td",m,p))}}var x="<tr>";return x+s.join("")+"</tr>"}var G4e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',q4e="</body></html>";function W4e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Q0(b9(r[0],t),t);var n=jO();return r.forEach(function(a,s){FO(n,b9(a,t),"Sheet"+(s+1))}),n}function X4e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function iZ(e,t){var r=t||{},n=r.header!=null?r.header:G4e,a=r.footer!=null?r.footer:q4e,s=[n],i=Ol(e["!ref"]);r.dense=Array.isArray(e),s.push(X4e(e,i,r));for(var o=i.s.r;o<=i.e.r;++o)s.push(K4e(e,i,o,r));return s.push("</table>"+a),s.join("")}function oZ(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?Xa(n.origin):n.origin;a=i.r,s=i.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=Ol(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],m=0,p=e["!rows"]||(e["!rows"]=[]),x=0,g=0,b=0,y=0,_=0,S=0;for(e["!cols"]||(e["!cols"]=[]);x<o.length&&g<l;++x){var I=o[x];if(y9(I)){if(n.display)continue;p[g]={hidden:!0}}var T=I.children;for(b=y=0;b<T.length;++b){var F=T[b];if(!(n.display&&y9(F))){var w=F.hasAttribute("data-v")?F.getAttribute("data-v"):F.hasAttribute("v")?F.getAttribute("v"):kY(F.innerHTML),C=F.getAttribute("data-z")||F.getAttribute("z");for(m=0;m<f.length;++m){var N=f[m];N.s.c==y+s&&N.s.r<g+a&&g+a<=N.e.r&&(y=N.e.c+1-s,m=-1)}S=+F.getAttribute("colspan")||1,((_=+F.getAttribute("rowspan")||1)>1||S>1)&&f.push({s:{r:g+a,c:y+s},e:{r:g+a+(_||1)-1,c:y+s+(S||1)-1}});var R={t:"s",v:w},D=F.getAttribute("data-t")||F.getAttribute("t")||"";w!=null&&(w.length==0?R.t=D||"z":n.raw||w.trim().length==0||D=="s"||(w==="TRUE"?R={t:"b",v:!0}:w==="FALSE"?R={t:"b",v:!1}:isNaN(td(w))?isNaN(Fv(w).getDate())||(R={t:"d",v:Oa(w)},n.cellDates||(R={t:"n",v:mi(R.v)}),R.z=n.dateNF||Tr[14]):R={t:"n",v:td(w)})),R.z===void 0&&C!=null&&(R.z=C);var O="",M=F.getElementsByTagName("A");if(M&&M.length)for(var Q=0;Q<M.length&&!(M[Q].hasAttribute("href")&&(O=M[Q].getAttribute("href"),O.charAt(0)!="#"));++Q);O&&O.charAt(0)!="#"&&(R.l={Target:O}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][y+s]=R):e[Fr({c:y+s,r:g+a})]=R,u.e.c<y+s&&(u.e.c=y+s),y+=S}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=Gr(u),g>=l&&(e["!fullref"]=Gr((u.e.r=o.length-x+g-1+a,u))),e}function lZ(e,t){var r=t||{},n=r.dense?[]:{};return oZ(n,e,t)}function Y4e(e,t){return Q0(lZ(e,t),t)}function y9(e){var t="",r=J4e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function J4e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Z4e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=In(t.replace(/<[^>]*>/g,""));return[r]}var w9={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function cZ(e,t){var r=t||{},n=nO(e),a=[],s,i,o={name:""},l="",u=0,d,f,m={},p=[],x=r.dense?[]:{},g,b,y={value:""},_="",S=0,I=[],T=-1,F=-1,w={s:{r:1e6,c:1e7},e:{r:0,c:0}},C=0,N={},R=[],D={},O=0,M=0,Q=[],ee=1,W=1,Z=[],V={Names:[]},q={},K=["",""],J=[],P={},G="",Y=0,re=!1,ie=!1,de=0;for(sy.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=sy.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"工作表":g[1]==="/"?(w.e.c>=w.s.c&&w.e.r>=w.s.r?x["!ref"]=Gr(w):x["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=w.e.r&&(x["!fullref"]=x["!ref"],w.e.r=r.sheetRows-1,x["!ref"]=Gr(w)),R.length&&(x["!merges"]=R),Q.length&&(x["!rows"]=Q),d.name=d.名称||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),m[d.name]=x,ie=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=Rr(g[0],!1),T=F=-1,w.s.r=w.s.c=1e7,w.e.r=w.e.c=0,x=r.dense?[]:{},R=[],Q=[],ie=!0);break;case"table-row-group":g[1]==="/"?--C:++C;break;case"table-row":case"行":if(g[1]==="/"){T+=ee,ee=1;break}if(f=Rr(g[0],!1),f.行号?T=f.行号-1:T==-1&&(T=0),ee=+f["number-rows-repeated"]||1,ee<10)for(de=0;de<ee;++de)C>0&&(Q[T+de]={level:C});F=-1;break;case"covered-table-cell":g[1]!=="/"&&++F,r.sheetStubs&&(r.dense?(x[T]||(x[T]=[]),x[T][F]={t:"z"}):x[Fr({r:T,c:F})]={t:"z"}),_="",I=[];break;case"table-cell":case"数据":if(g[0].charAt(g[0].length-2)==="/")++F,y=Rr(g[0],!1),W=parseInt(y["number-columns-repeated"]||"1",10),b={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(b.f=g9(In(y.formula))),(y.数据类型||y["value-type"])=="string"&&(b.t="s",b.v=In(y["string-value"]||""),r.dense?(x[T]||(x[T]=[]),x[T][F]=b):x[Fr({r:T,c:F})]=b),F+=W-1;else if(g[1]!=="/"){++F,_="",S=0,I=[],W=1;var me=ee?T+ee-1:T;if(F>w.e.c&&(w.e.c=F),F<w.s.c&&(w.s.c=F),T<w.s.r&&(w.s.r=T),me>w.e.r&&(w.e.r=me),y=Rr(g[0],!1),J=[],P={},b={t:y.数据类型||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=In(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(O=parseInt(y["number-matrix-rows-spanned"],10)||0,M=parseInt(y["number-matrix-columns-spanned"],10)||0,D={s:{r:T,c:F},e:{r:T+O-1,c:F+M-1}},b.F=Gr(D),Z.push([D,b.F])),y.formula)b.f=g9(y.formula);else for(de=0;de<Z.length;++de)T>=Z[de][0].s.r&&T<=Z[de][0].e.r&&F>=Z[de][0].s.c&&F<=Z[de][0].e.c&&(b.F=Z[de][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(O=parseInt(y["number-rows-spanned"],10)||0,M=parseInt(y["number-columns-spanned"],10)||0,D={s:{r:T,c:F},e:{r:T+O-1,c:F+M-1}},R.push(D)),y["number-columns-repeated"]&&(W=parseInt(y["number-columns-repeated"],10)),b.t){case"boolean":b.t="b",b.v=ja(y["boolean-value"]);break;case"float":b.t="n",b.v=parseFloat(y.value);break;case"percentage":b.t="n",b.v=parseFloat(y.value);break;case"currency":b.t="n",b.v=parseFloat(y.value);break;case"date":b.t="d",b.v=Oa(y["date-value"]),r.cellDates||(b.t="n",b.v=mi(b.v)),b.z="m/d/yy";break;case"time":b.t="n",b.v=Sbe(y["time-value"])/86400,r.cellDates&&(b.t="d",b.v=I5(b.v)),b.z="HH:MM:SS";break;case"number":b.t="n",b.v=parseFloat(y.数据数值);break;default:if(b.t==="string"||b.t==="text"||!b.t)b.t="s",y["string-value"]!=null&&(_=In(y["string-value"]),I=[]);else throw new Error("Unsupported value type "+b.t)}}else{if(re=!1,b.t==="s"&&(b.v=_||"",I.length&&(b.R=I),re=S==0),q.Target&&(b.l=q),J.length>0&&(b.c=J,J=[]),_&&r.cellText!==!1&&(b.w=_),re&&(b.t="z",delete b.v),(!re||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=T))for(var ue=0;ue<ee;++ue){if(W=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(x[T+ue]||(x[T+ue]=[]),x[T+ue][F]=ue==0?b:Da(b);--W>0;)x[T+ue][F+W]=Da(b);else for(x[Fr({r:T+ue,c:F})]=b;--W>0;)x[Fr({r:T+ue,c:F+W})]=Da(b);w.e.c<=F&&(w.e.c=F)}W=parseInt(y["number-columns-repeated"]||"1",10),F+=W-1,W=0,b={},_="",I=[]}q={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s;P.t=_,I.length&&(P.R=I),P.a=G,J.push(P)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);G="",Y=0,_="",S=0,I=[];break;case"creator":g[1]==="/"?G=n.slice(Y,g.index):Y=g.index+g[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);_="",S=0,I=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(N[o.name]=l,(s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&(l="",o=Rr(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Rr(g[0],!1),l+=w9[g[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Rr(g[0],!1),l+=w9[g[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":i=Rr(g[0],!1),K=WB(i["cell-range-address"]);var ye={Name:i.name,Ref:K[0]+"!"+K[1]};ie&&(ye.Sheet=p.length),V.Names.push(ye);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!y||!y["string-value"])){var Ie=Z4e(n.slice(S,g.index));_=(_.length>0?_+`
`:"")+Ie[0]}else Rr(g[0],!1),S=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{K=WB(Rr(g[0])["target-range-address"]),m[K[0]]["!autofilter"]={ref:K[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(q=Rr(g[0],!1),!q.href)break;q.Target=In(q.href),delete q.href,q.Target.charAt(0)=="#"&&q.Target.indexOf(".")>-1?(K=WB(q.Target.slice(1)),q.Target="#"+K[0]+"!"+K[1]):q.Target.match(/^\.\.[\\\/]/)&&(q.Target=q.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(g)}}var ne={Sheets:m,SheetNames:p,Workbook:V};return r.bookSheets&&delete ne.Sheets,ne}function E9(e,t){t=t||{},tu(e,"META-INF/manifest.xml")&&Sye(Gs(e,"META-INF/manifest.xml"),t);var r=uc(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=cZ(ga(r),t);return tu(e,"meta.xml")&&(n.Props=ZY(Gs(e,"meta.xml"))),n}function C9(e,t){return cZ(e,t)}var eBe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+ay({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ps+t}}(),_9=function(){var e=function(s){return ca(s).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,i,o){var l=[];l.push('      <table:table table:name="'+ca(i.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,d=0,f=Ol(s["!ref"]||"A1"),m=s["!merges"]||[],p=0,x=Array.isArray(s);if(s["!cols"])for(d=0;d<=f.e.c;++d)l.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",b=s["!rows"]||[];for(u=0;u<f.s.r;++u)g=b[u]?' table:style-name="ro'+b[u].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=b[u]?' table:style-name="ro'+b[u].ods+'"':"",l.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)l.push(t);for(;d<=f.e.c;++d){var y=!1,_={},S="";for(p=0;p!=m.length;++p)if(!(m[p].s.c>d)&&!(m[p].s.r>u)&&!(m[p].e.c<d)&&!(m[p].e.r<u)){(m[p].s.c!=d||m[p].s.r!=u)&&(y=!0),_["table:number-columns-spanned"]=m[p].e.c-m[p].s.c+1,_["table:number-rows-spanned"]=m[p].e.r-m[p].s.r+1;break}if(y){l.push(r);continue}var I=Fr({r:u,c:d}),T=x?(s[u]||[])[d]:s[I];if(T&&T.f&&(_["table:formula"]=ca(bSe(T.f)),T.F&&T.F.slice(0,I.length)==I)){var F=Ol(T.F);_["table:number-matrix-columns-spanned"]=F.e.c-F.s.c+1,_["table:number-matrix-rows-spanned"]=F.e.r-F.s.r+1}if(!T){l.push(t);continue}switch(T.t){case"b":S=T.v?"TRUE":"FALSE",_["office:value-type"]="boolean",_["office:boolean-value"]=T.v?"true":"false";break;case"n":S=T.w||String(T.v||0),_["office:value-type"]="float",_["office:value"]=T.v||0;break;case"s":case"str":S=T.v==null?"":T.v,_["office:value-type"]="string";break;case"d":S=T.w||Oa(T.v).toISOString(),_["office:value-type"]="date",_["office:date-value"]=Oa(T.v).toISOString(),_["table:style-name"]="ce1";break;default:l.push(t);continue}var w=e(S);if(T.l&&T.l.Target){var C=T.l.Target;C=C.charAt(0)=="#"?"#"+ySe(C.slice(1)):C,C.charAt(0)!="#"&&!C.match(/^\w+:/)&&(C="../"+C),w=Ut("text:a",w,{"xlink:href":C.replace(/&/g,"&amp;")})}l.push("          "+Ut("table:table-cell",Ut("text:p",w,{}),_)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},a=function(s,i){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;I0(f),f.ods=o;var m=u["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=l;var f=u["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(i,o){var l=[Ps],u=ay({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=ay({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+d+`>
`),l.push(JY().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),a(l,i),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=i.SheetNames.length;++f)l.push(n(i.Sheets[i.SheetNames[f]],i,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function uZ(e,t){if(t.bookType=="fods")return _9(e,t);var r=Z6(),n="",a=[],s=[];return n="mimetype",Zr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Zr(r,n,_9(e,t)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Zr(r,n,eBe(e,t)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Zr(r,n,Ps+JY()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Zr(r,n,kye(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Zr(r,n,Nye(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function mp(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function UI(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):ga(M0(e))}function tBe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):cc(rA(e))}function rBe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function F0(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function S9(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function nBe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function aBe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=a&255;e[t+15]|=r>=0?0:128}function Ay(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function sa(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function ps(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Un(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Ay(e,r),s=a&7;a=Math.floor(a/8);var i=0,o;if(a==0)break;switch(s){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:i=4,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=Ay(e,r),o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Wi(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(sa(n*8+a.type)),a.type==2&&t.push(sa(a.data.length)),t.push(a.data))})}),F0(t)}function SO(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Jc(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Ay(e,n),s=Un(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:ps(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Un(o.data),u=ps(l[3][0].data);i.messages.push({meta:l,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(i.merge=ps(s[3][0].data)>>>0>0),r.push(i)}return r}function gg(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:sa(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:sa(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(i){a.push(i.data),i.meta[3]=[{type:0,data:sa(i.data.length)}],n[2].push({data:Wi(i.meta),type:2})});var s=Wi(n);t.push(sa(s.length)),t.push(s),a.forEach(function(i){return t.push(i)})}),F0(t)}function sBe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Ay(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var o=i-59;i=t[r[0]],o>1&&(i|=t[r[0]+1]<<8),o>2&&(i|=t[r[0]+2]<<16),o>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=o}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var l=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[F0(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(a.push(a[0].slice(-l)),u-=l;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-l,-l+u))}}var d=F0(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Zc(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(sBe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return F0(t)}function vg(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var s=sa(n),i=s.length;t.push(s),n<=60?(i++,t.push(new Uint8Array([n-1<<2]))):n<=256?(i+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(i+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(i+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(i+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),i+=n,a[0]=0,a[1]=i&255,a[2]=i>>8&255,a[3]=i>>16&255,r+=n}return F0(t)}function iBe(e,t,r,n){var a=mp(e),s=a.getUint32(4,!0),i=(n>1?12:8)+S9(s&(n>1?3470:398))*4,o=-1,l=-1,u=NaN,d=new Date(2001,0,1);s&512&&(o=a.getUint32(i,!0),i+=4),i+=S9(s&(n>1?12288:4096))*4,s&16&&(l=a.getUint32(i,!0),i+=4),s&32&&(u=a.getFloat64(i,!0),i+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(i,!0)*1e3),i+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function oBe(e,t,r){var n=mp(e),a=n.getUint32(8,!0),s=12,i=-1,o=-1,l=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(l=nBe(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(o=n.getUint32(s,!0),s+=4),a&16&&(i=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function YB(e,t){var r=new Uint8Array(32),n=mp(r),a=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,aBe(r,a,e.v),s|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,a)}function JB(e,t){var r=new Uint8Array(32),n=mp(r),a=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,a)}function lBe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return iBe(e,t,r,e[0]);case 5:return oBe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ko(e){var t=Un(e);return Ay(t[1][0].data)}function N9(e,t){var r=Un(t.data),n=ps(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(i){var o=Un(i.data),l=ps(o[1][0].data)>>>0;switch(n){case 1:s[l]=UI(o[3][0].data);break;case 8:{var u=e[ko(o[9][0].data)][0],d=Un(u.data),f=e[ko(d[1][0].data)][0],m=ps(f.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var p=Un(f.data);s[l]=p[3].map(function(x){return UI(x.data)}).join("")}break}}),s}function cBe(e,t){var r,n,a,s,i,o,l,u,d,f,m,p,x,g,b=Un(e),y=ps(b[1][0].data)>>>0,_=ps(b[2][0].data)>>>0,S=((n=(r=b[8])==null?void 0:r[0])==null?void 0:n.data)&&ps(b[8][0].data)>0||!1,I,T;if((s=(a=b[7])==null?void 0:a[0])!=null&&s.data&&t!=0)I=(o=(i=b[7])==null?void 0:i[0])==null?void 0:o.data,T=(u=(l=b[6])==null?void 0:l[0])==null?void 0:u.data;else if((f=(d=b[4])==null?void 0:d[0])!=null&&f.data&&t!=1)I=(p=(m=b[4])==null?void 0:m[0])==null?void 0:p.data,T=(g=(x=b[3])==null?void 0:x[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var F=S?4:1,w=mp(I),C=[],N=0;N<I.length/2;++N){var R=w.getUint16(N*2,!0);R<65535&&C.push([N,R])}if(C.length!=_)throw"Expected ".concat(_," cells, found ").concat(C.length);var D=[];for(N=0;N<C.length-1;++N)D[C[N][0]]=T.subarray(C[N][1]*F,C[N+1][1]*F);return C.length>=1&&(D[C[C.length-1][0]]=T.subarray(C[C.length-1][1]*F)),{R:y,cells:D}}function uBe(e,t){var r,n=Un(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?ps(n[7][0].data)>>>0>0?1:0:-1,s=SO(n[5],function(i){return cBe(i,a)});return{nrows:ps(n[4][0].data)>>>0,data:s.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(l,u){if(i[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));i[o.R][u]=l}),i},[])}}function dBe(e,t,r){var n,a=Un(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(ps(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(ps(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Gr(s);var i=Un(a[4][0].data),o=N9(e,e[ko(i[4][0].data)][0]),l=(n=i[17])!=null&&n[0]?N9(e,e[ko(i[17][0].data)][0]):[],u=Un(i[3][0].data),d=0;u[1].forEach(function(f){var m=Un(f.data),p=e[ko(m[2][0].data)][0],x=ps(p.meta[1][0].data);if(x!=6002)throw new Error("6001 unexpected reference to ".concat(x));var g=uBe(e,p);g.data.forEach(function(b,y){b.forEach(function(_,S){var I=Fr({r:d+y,c:S}),T=lBe(_,o,l);T&&(r[I]=T)})}),d+=g.nrows})}function ABe(e,t){var r=Un(t.data),n={"!ref":"A1"},a=e[ko(r[2][0].data)],s=ps(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return dBe(e,a[0],n),n}function fBe(e,t){var r,n=Un(t.data),a={name:(r=n[1])!=null&&r[0]?UI(n[1][0].data):"",sheets:[]},s=SO(n[2],ko);return s.forEach(function(i){e[i].forEach(function(o){var l=ps(o.meta[1][0].data);l==6e3&&a.sheets.push(ABe(e,o))})}),a}function hBe(e,t){var r=jO(),n=Un(t.data),a=SO(n[1],ko);if(a.forEach(function(s){e[s].forEach(function(i){var o=ps(i.meta[1][0].data);if(o==2){var l=fBe(e,i);l.sheets.forEach(function(u,d){FO(r,u,d==0?l.name:l.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function ZB(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=Zc(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var d;try{d=Jc(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,i.push(f.id)})}}),!i.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&ps(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||i.forEach(function(l){s[l].forEach(function(u){var d=ps(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return hBe(s,o)}function mBe(e,t,r){var n,a,s,i;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((i=(s=e[8])==null?void 0:s[0])==null?void 0:i.data)&&ps(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=mp(e[7][0].data),d=0,f=[],m=mp(e[4][0].data),p=0,x=[],g=0;g<t.length;++g){if(t[g]==null){u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),m.setUint16(g*2,p,!0);var b,y;switch(typeof t[g]){case"string":b=YB({t:"s",v:t[g]},r),y=JB({t:"s",v:t[g]},r);break;case"number":b=YB({t:"n",v:t[g]},r),y=JB({t:"n",v:t[g]},r);break;case"boolean":b=YB({t:"b",v:t[g]},r),y=JB({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(b),d+=b.length,x.push(y),p+=y.length,++l}for(e[2][0].data=sa(l);g<e[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535,!0);return e[6][0].data=F0(f),e[3][0].data=F0(x),l}function pBe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ol(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Gr(n)));var s=B_(r,{range:n,header:1}),i=["~Sh33tJ5~"];s.forEach(function(G){return G.forEach(function(Y){typeof Y=="string"&&i.push(Y)})});var o={},l=[],u=vr.read(t.numbers,{type:"base64"});u.FileIndex.map(function(G,Y){return[G,u.FullPaths[Y]]}).forEach(function(G){var Y=G[0],re=G[1];if(Y.type==2&&Y.name.match(/\.iwa/)){var ie=Y.content,de=Zc(ie),me=Jc(de);me.forEach(function(ue){l.push(ue.id),o[ue.id]={deps:[],location:re,type:ps(ue.messages[0].meta[1][0].data)}})}}),l.sort(function(G,Y){return G-Y});var d=l.filter(function(G){return G>1}).map(function(G){return[G,sa(G)]});u.FileIndex.map(function(G,Y){return[G,u.FullPaths[Y]]}).forEach(function(G){var Y=G[0];if(G[1],!!Y.name.match(/\.iwa/)){var re=Jc(Zc(Y.content));re.forEach(function(ie){ie.messages.forEach(function(de){d.forEach(function(me){ie.messages.some(function(ue){return ps(ue.meta[1][0].data)!=11006&&rBe(ue.data,me[1])})&&o[me[0]].deps.push(ie.id)})})})}});for(var f=vr.find(u,o[1].location),m=Jc(Zc(f.content)),p,x=0;x<m.length;++x){var g=m[x];g.id==1&&(p=g)}var b=ko(Un(p.messages[0].data)[1][0].data);for(f=vr.find(u,o[b].location),m=Jc(Zc(f.content)),x=0;x<m.length;++x)g=m[x],g.id==b&&(p=g);for(b=ko(Un(p.messages[0].data)[2][0].data),f=vr.find(u,o[b].location),m=Jc(Zc(f.content)),x=0;x<m.length;++x)g=m[x],g.id==b&&(p=g);for(b=ko(Un(p.messages[0].data)[2][0].data),f=vr.find(u,o[b].location),m=Jc(Zc(f.content)),x=0;x<m.length;++x)g=m[x],g.id==b&&(p=g);var y=Un(p.messages[0].data);{y[6][0].data=sa(n.e.r+1),y[7][0].data=sa(n.e.c+1);var _=ko(y[46][0].data),S=vr.find(u,o[_].location),I=Jc(Zc(S.content));{for(var T=0;T<I.length&&I[T].id!=_;++T);if(I[T].id!=_)throw"Bad ColumnRowUIDMapArchive";var F=Un(I[T].messages[0].data);F[1]=[],F[2]=[],F[3]=[];for(var w=0;w<=n.e.c;++w){var C=[];C[1]=C[2]=[{type:0,data:sa(w+420690)}],F[1].push({type:2,data:Wi(C)}),F[2].push({type:0,data:sa(w)}),F[3].push({type:0,data:sa(w)})}F[4]=[],F[5]=[],F[6]=[];for(var N=0;N<=n.e.r;++N)C=[],C[1]=C[2]=[{type:0,data:sa(N+726270)}],F[4].push({type:2,data:Wi(C)}),F[5].push({type:0,data:sa(N)}),F[6].push({type:0,data:sa(N)});I[T].messages[0].data=Wi(F)}S.content=vg(gg(I)),S.size=S.content.length,delete y[46];var R=Un(y[4][0].data);{R[7][0].data=sa(n.e.r+1);var D=Un(R[1][0].data),O=ko(D[2][0].data);S=vr.find(u,o[O].location),I=Jc(Zc(S.content));{if(I[0].id!=O)throw"Bad HeaderStorageBucket";var M=Un(I[0].messages[0].data);for(N=0;N<s.length;++N){var Q=Un(M[2][0].data);Q[1][0].data=sa(N),Q[4][0].data=sa(s[N].length),M[2][N]={type:M[2][0].type,data:Wi(Q)}}I[0].messages[0].data=Wi(M)}S.content=vg(gg(I)),S.size=S.content.length;var ee=ko(R[2][0].data);S=vr.find(u,o[ee].location),I=Jc(Zc(S.content));{if(I[0].id!=ee)throw"Bad HeaderStorageBucket";for(M=Un(I[0].messages[0].data),w=0;w<=n.e.c;++w)Q=Un(M[2][0].data),Q[1][0].data=sa(w),Q[4][0].data=sa(n.e.r+1),M[2][w]={type:M[2][0].type,data:Wi(Q)};I[0].messages[0].data=Wi(M)}S.content=vg(gg(I)),S.size=S.content.length;var W=ko(R[4][0].data);(function(){for(var G=vr.find(u,o[W].location),Y=Jc(Zc(G.content)),re,ie=0;ie<Y.length;++ie){var de=Y[ie];de.id==W&&(re=de)}var me=Un(re.messages[0].data);{me[3]=[];var ue=[];i.forEach(function(ne,Fe){ue[1]=[{type:0,data:sa(Fe)}],ue[2]=[{type:0,data:sa(1)}],ue[3]=[{type:2,data:tBe(ne)}],me[3].push({type:2,data:Wi(ue)})})}re.messages[0].data=Wi(me);var ye=gg(Y),Ie=vg(ye);G.content=Ie,G.size=G.content.length})();var Z=Un(R[3][0].data);{var V=Z[1][0];delete Z[2];var q=Un(V.data);{var K=ko(q[2][0].data);(function(){for(var G=vr.find(u,o[K].location),Y=Jc(Zc(G.content)),re,ie=0;ie<Y.length;++ie){var de=Y[ie];de.id==K&&(re=de)}var me=Un(re.messages[0].data);{delete me[6],delete Z[7];var ue=new Uint8Array(me[5][0].data);me[5]=[];for(var ye=0,Ie=0;Ie<=n.e.r;++Ie){var ne=Un(ue);ye+=mBe(ne,s[Ie],i),ne[1][0].data=sa(Ie),me[5].push({data:Wi(ne),type:2})}me[1]=[{type:0,data:sa(n.e.c+1)}],me[2]=[{type:0,data:sa(n.e.r+1)}],me[3]=[{type:0,data:sa(ye)}],me[4]=[{type:0,data:sa(n.e.r+1)}]}re.messages[0].data=Wi(me);var Fe=gg(Y),Le=vg(Fe);G.content=Le,G.size=G.content.length})()}V.data=Wi(q)}R[3][0].data=Wi(Z)}y[4][0].data=Wi(R)}p.messages[0].data=Wi(y);var J=gg(m),P=vg(J);return f.content=P,f.size=f.content.length,u}function dZ(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function NO(e){dZ([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function BO(e){dZ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function gBe(e){return un.WS.indexOf(e)>-1?"sheet":e==un.CS?"chart":e==un.DS?"dialog":e==un.MS?"macro":e&&e.length?e:"sheet"}function vBe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,gBe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function xBe(e,t,r,n,a,s,i,o,l,u,d,f){try{s[n]=_b(uc(e,r,!0),t);var m=Gs(e,t),p;switch(o){case"sheet":p=QNe(m,t,a,l,s[n],u,d,f);break;case"chart":if(p=HNe(m,t,a,l,s[n],u,d,f),!p||!p["!drawel"])break;var x=Z1(p["!drawel"].Target,t),g=iy(x),b=BCe(uc(e,x,!0),_b(uc(e,g,!0),x)),y=Z1(b,x),_=iy(y);p=mNe(uc(e,y,!0),y,l,_b(uc(e,_,!0),y),u,p);break;case"macro":p=VNe(m,t,a,l,s[n],u,d,f);break;case"dialog":p=zNe(m,t,a,l,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+o)}i[n]=p;var S=[];s&&s[n]&&vs(s[n]).forEach(function(I){var T="";if(s[n][I].Type==un.CMNT){T=Z1(s[n][I].Target,t);var F=qNe(Gs(e,T,!0),T,l);if(!F||!F.length)return;A9(p,F,!1)}s[n][I].Type==un.TCMNT&&(T=Z1(s[n][I].Target,t),S=S.concat(TCe(Gs(e,T,!0),l)))}),S&&S.length&&A9(p,S,!0,l.people||[])}catch(I){if(l.WTF)throw I}}function Gc(e){return e.charAt(0)=="/"?e.slice(1):e}function bBe(e,t){if(Ax(),t=t||{},NO(t),tu(e,"META-INF/manifest.xml")||tu(e,"objectdata.xml"))return E9(e,t);if(tu(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof ZB<"u"){if(e.FileIndex)return ZB(e);var r=vr.utils.cfb_new();return F7(e).forEach(function(Q){Zr(r,Q,Ibe(e,Q))}),ZB(r)}throw new Error("Unsupported NUMBERS file")}if(!tu(e,"[Content_Types].xml"))throw tu(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):tu(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=F7(e),a=Cye(uc(e,"[Content_Types].xml")),s=!1,i,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",Gs(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!Gs(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},u={};if(!t.bookSheets&&!t.bookProps){if(Sb=[],a.sst)try{Sb=GNe(Gs(e,Gc(a.sst)),a.sst,t)}catch(Q){if(t.WTF)throw Q}t.cellStyles&&a.themes.length&&(l=KNe(uc(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=$Ne(Gs(e,Gc(a.style)),a.style,l,t))}a.links.map(function(Q){try{var ee=_b(uc(e,iy(Gc(Q))),Q);return XNe(Gs(e,Gc(Q)),ee,Q,t)}catch{}});var d=MNe(Gs(e,Gc(a.workbooks[0])),a.workbooks[0],t),f={},m="";a.coreprops.length&&(m=Gs(e,Gc(a.coreprops[0]),!0),m&&(f=ZY(m)),a.extprops.length!==0&&(m=Gs(e,Gc(a.extprops[0]),!0),m&&Iye(m,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(m=uc(e,Gc(a.custprops[0]),!0),m&&(p=Fye(m,t)));var x={};if((t.bookSheets||t.bookProps)&&(d.Sheets?i=d.Sheets.map(function(ee){return ee.name}):f.Worksheets&&f.SheetNames.length>0&&(i=f.SheetNames),t.bookProps&&(x.Props=f,x.Custprops=p),t.bookSheets&&typeof i<"u"&&(x.SheetNames=i),t.bookSheets?x.SheetNames:t.bookProps))return x;i={};var g={};t.bookDeps&&a.calcchain&&(g=WNe(Gs(e,Gc(a.calcchain)),a.calcchain));var b=0,y={},_,S;{var I=d.Sheets;f.Worksheets=I.length,f.SheetNames=[];for(var T=0;T!=I.length;++T)f.SheetNames[T]=I[T].name}var F=s?"bin":"xml",w=a.workbooks[0].lastIndexOf("/"),C=(a.workbooks[0].slice(0,w+1)+"_rels/"+a.workbooks[0].slice(w+1)+".rels").replace(/^\//,"");tu(e,C)||(C="xl/_rels/workbook."+F+".rels");var N=_b(uc(e,C,!0),C.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=YNe(Gs(e,Gc(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=jCe(Gs(e,Gc(a.people[0])),t)),N&&(N=vBe(N,d.Sheets));var R=Gs(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=f.Worksheets;++b){var D="sheet";if(N&&N[b]?(_="xl/"+N[b][1].replace(/[\/]?xl\//,""),tu(e,_)||(_=N[b][1]),tu(e,_)||(_=C.replace(/_rels\/.*$/,"")+N[b][1]),D=N[b][2]):(_="xl/worksheets/sheet"+(b+1-R)+"."+F,_=_.replace(/sheet0\./,"sheet.")),S=_.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(b!=t.sheets)continue e;break;case"string":if(f.SheetNames[b].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var O=!1,M=0;M!=t.sheets.length;++M)typeof t.sheets[M]=="number"&&t.sheets[M]==b&&(O=1),typeof t.sheets[M]=="string"&&t.sheets[M].toLowerCase()==f.SheetNames[b].toLowerCase()&&(O=1);if(!O)continue e}}xBe(e,_,S,f.SheetNames[b],b,y,i,D,t,d,l,u)}return x={Directory:a,Workbook:d,Props:f,Custprops:p,Deps:g,Sheets:i,SheetNames:f.SheetNames,Strings:Sb,Styles:u,Themes:l,SSF:Da(Tr)},t&&t.bookFiles&&(e.files?(x.keys=n,x.files=e.files):(x.keys=[],x.files={},e.FullPaths.forEach(function(Q,ee){Q=Q.replace(/^Root Entry[\/]/,""),x.keys.push(Q),x.files[Q]=e.FileIndex[ee]}))),t&&t.bookVBA&&(a.vba.length>0?x.vbaraw=Gs(e,Gc(a.vba[0]),!0):a.defaults&&a.defaults.bin===MCe&&(x.vbaraw=Gs(e,"xl/vbaProject.bin",!0))),x}function yBe(e,t){var r=t||{},n="Workbook",a=vr.find(e,n);try{if(n="/!DataSpaces/Version",a=vr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Y2e(a.content),n="/!DataSpaces/DataSpaceMap",a=vr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=Z2e(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=vr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=eEe(a.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=vr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);rEe(a.content)}catch{}if(n="/EncryptionInfo",a=vr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=nEe(a.content);if(n="/EncryptedPackage",a=vr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function wBe(e,t){return t.bookType=="ods"?uZ(e,t):t.bookType=="numbers"?pBe(e,t):t.bookType=="xlsb"?EBe(e,t):CBe(e,t)}function EBe(e,t){qg=1024,e&&!e.SSF&&(e.SSF=Da(Tr)),e&&e.SSF&&(Ax(),B5(e.SSF),t.revssf=T5(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Nb?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=LJ.indexOf(t.bookType)>-1,a=fO();BO(t=t||{});var s=Z6(),i="",o=0;if(t.cellXfs=[],H0(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",Zr(s,i,eJ(e.Props,t)),a.coreprops.push(i),ia(t.rels,2,i,un.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,Zr(s,i,nJ(e.Props)),a.extprops.push(i),ia(t.rels,3,i,un.EXT_PROPS),e.Custprops!==e.Props&&vs(e.Custprops||{}).length>0&&(i="docProps/custom.xml",Zr(s,i,aJ(e.Custprops)),a.custprops.push(i),ia(t.rels,4,i,un.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:i="xl/worksheets/sheet"+o+"."+r,Zr(s,i,ZNe(o-1,i,t,e,d)),a.sheets.push(i),ia(t.wbrels,-1,"worksheets/sheet"+o+"."+r,un.WS[0])}if(f){var p=f["!comments"],x=!1,g="";p&&p.length>0&&(g="xl/comments"+o+"."+r,Zr(s,g,r4e(p,g)),a.comments.push(g),ia(d,-1,"../comments"+o+"."+r,un.CMNT),x=!0),f["!legacy"]&&x&&Zr(s,"xl/drawings/vmlDrawing"+o+".vml",PJ(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Zr(s,iy(i),hv(d))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,Zr(s,i,t4e(t.Strings,i,t)),a.strs.push(i),ia(t.wbrels,-1,"sharedStrings."+r,un.SST)),i="xl/workbook."+r,Zr(s,i,JNe(e,i)),a.workbooks.push(i),ia(t.rels,1,i,un.WB),i="xl/theme/theme1.xml",Zr(s,i,xO(e.Themes,t)),a.themes.push(i),ia(t.wbrels,-1,"theme/theme1.xml",un.THEME),i="xl/styles."+r,Zr(s,i,e4e(e,i,t)),a.styles.push(i),ia(t.wbrels,-1,"styles."+r,un.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",Zr(s,i,e.vbaraw),a.vba.push(i),ia(t.wbrels,-1,"vbaProject.bin",un.VBA)),i="xl/metadata."+r,Zr(s,i,n4e(i)),a.metadata.push(i),ia(t.wbrels,-1,"metadata."+r,un.XLMETA),Zr(s,"[Content_Types].xml",YY(a,t)),Zr(s,"_rels/.rels",hv(t.rels)),Zr(s,"xl/_rels/workbook."+r+".rels",hv(t.wbrels)),delete t.revssf,delete t.ssf,s}function CBe(e,t){qg=1024,e&&!e.SSF&&(e.SSF=Da(Tr)),e&&e.SSF&&(Ax(),B5(e.SSF),t.revssf=T5(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Nb?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=LJ.indexOf(t.bookType)>-1,a=fO();BO(t=t||{});var s=Z6(),i="",o=0;if(t.cellXfs=[],H0(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",Zr(s,i,eJ(e.Props,t)),a.coreprops.push(i),ia(t.rels,2,i,un.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,Zr(s,i,nJ(e.Props)),a.extprops.push(i),ia(t.rels,3,i,un.EXT_PROPS),e.Custprops!==e.Props&&vs(e.Custprops||{}).length>0&&(i="docProps/custom.xml",Zr(s,i,aJ(e.Custprops)),a.custprops.push(i),ia(t.rels,4,i,un.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},m=e.Sheets[e.SheetNames[o-1]],p=(m||{})["!type"]||"sheet";switch(p){case"chart":default:i="xl/worksheets/sheet"+o+"."+r,Zr(s,i,WJ(o-1,t,e,f)),a.sheets.push(i),ia(t.wbrels,-1,"worksheets/sheet"+o+"."+r,un.WS[0])}if(m){var x=m["!comments"],g=!1,b="";if(x&&x.length>0){var y=!1;x.forEach(function(_){_[1].forEach(function(S){S.T==!0&&(y=!0)})}),y&&(b="xl/threadedComments/threadedComment"+o+"."+r,Zr(s,b,ICe(x,d,t)),a.threadedcomments.push(b),ia(f,-1,"../threadedComments/threadedComment"+o+"."+r,un.TCMNT)),b="xl/comments"+o+"."+r,Zr(s,b,RJ(x)),a.comments.push(b),ia(f,-1,"../comments"+o+"."+r,un.CMNT),g=!0}m["!legacy"]&&g&&Zr(s,"xl/drawings/vmlDrawing"+o+".vml",PJ(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&Zr(s,iy(i),hv(f))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,Zr(s,i,CJ(t.Strings,t)),a.strs.push(i),ia(t.wbrels,-1,"sharedStrings."+r,un.SST)),i="xl/workbook."+r,Zr(s,i,eZ(e)),a.workbooks.push(i),ia(t.rels,1,i,un.WB),i="xl/theme/theme1.xml",Zr(s,i,xO(e.Themes,t)),a.themes.push(i),ia(t.wbrels,-1,"theme/theme1.xml",un.THEME),i="xl/styles."+r,Zr(s,i,jJ(e,t)),a.styles.push(i),ia(t.wbrels,-1,"styles."+r,un.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",Zr(s,i,e.vbaraw),a.vba.push(i),ia(t.wbrels,-1,"vbaProject.bin",un.VBA)),i="xl/metadata."+r,Zr(s,i,DJ()),a.metadata.push(i),ia(t.wbrels,-1,"metadata."+r,un.XLMETA),d.length>1&&(i="xl/persons/person.xml",Zr(s,i,FCe(d)),a.people.push(i),ia(t.wbrels,-1,"persons/person.xml",un.PEOPLE)),Zr(s,"[Content_Types].xml",YY(a,t)),Zr(s,"_rels/.rels",hv(t.rels)),Zr(s,"xl/_rels/workbook."+r+".rels",hv(t.wbrels)),delete t.revssf,delete t.ssf,s}function kO(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=gc(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function _Be(e,t){return vr.find(e,"EncryptedPackage")?yBe(e,t):aZ(e,t)}function SBe(e,t){var r,n=e,a=t||{};return a.type||(a.type=an&&Buffer.isBuffer(e)?"buffer":"base64"),r=SY(n,a),bBe(r,a)}function AZ(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return RI(e.slice(r),t);default:break e}return Ov.to_workbook(e,t)}function NBe(e,t){var r="",n=kO(e,t);switch(t.type){case"base64":r=gc(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=dp(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=ga(r)),t.type="binary",AZ(r,t)}function BBe(e,t){var r=e;return t.type=="base64"&&(r=gc(r)),r=ey.utils.decode(1200,r.slice(2),"str"),t.type="binary",AZ(r,t)}function kBe(e){return e.match(/[^\x00-\x7F]/)?rA(e):e}function ek(e,t,r,n){return n?(r.type="string",Ov.to_workbook(e,r)):Ov.to_workbook(t,r)}function fy(e,t){q6();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return fy(new Uint8Array(e),(r=Da(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),pv={},r.dateNF&&(pv.dateNF=r.dateNF),r.type||(r.type=an&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=an?"buffer":"binary",n=Ebe(e),typeof Uint8Array<"u"&&!an&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=kBe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return r=Da(r),r.type="array",fy(W6(n),r)}switch((a=kO(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return _Be(vr.read(n,r),r);break;case 9:if(a[1]<=8)return aZ(n,r);break;case 60:return RI(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return O2e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return wJ.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?SBe(n,r):ek(e,n,r,s);case 239:return a[3]===60?RI(n,r):ek(e,n,r,s);case 255:if(a[1]===254)return BBe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return qm.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return qm.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return PI.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return kJ.to_workbook(n,r);break;case 10:case 13:case 32:return NBe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return F2e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?PI.to_workbook(n,r):ek(e,n,r,s)}function fZ(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return tw(t.file,vr.write(e,{type:an?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return vr.write(e,t)}function TBe(e,t){var r=Da(t||{}),n=wBe(e,r);return IBe(n,r)}function IBe(e,t){var r={},n=an?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?vr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(N5(a))}return t.password&&typeof encrypt_agile<"u"?fZ(encrypt_agile(a,t.password),t):t.type==="file"?tw(t.file,a):t.type=="string"?ga(a):a}function jBe(e,t){var r=t||{},n=k4e(e,r);return fZ(n,r)}function Gd(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return ty(rA(n));case"binary":return rA(n);case"string":return e;case"file":return tw(t.file,n,"utf8");case"buffer":return an?Hf(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Gd(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function FBe(e,t){switch(t.type){case"base64":return ty(e);case"binary":return e;case"string":return e;case"file":return tw(t.file,e,"binary");case"buffer":return an?Hf(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Z2(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?ty(r):t.type=="string"?ga(r):r;case"file":return tw(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function hZ(e,t){q6(),_Ne(e);var r=Da(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=hZ(e,r);return r.type="array",N5(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Gd(w4e(e,r),r);case"slk":case"sylk":return Gd(yJ.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Gd(iZ(e.Sheets[e.SheetNames[a]],r),r);case"txt":return FBe(mZ(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Gd(IO(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Gd(wJ.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Z2(PI.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Gd(Ov.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Gd(kJ.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Gd(EJ.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Gd(uZ(e,r),r);case"wk1":return Z2(qm.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Z2(qm.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Z2(sZ(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),jBe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return TBe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function OBe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function TO(e,t,r){var n={};return n.type="file",n.file=t,OBe(n),hZ(e,n)}function DBe(e,t,r,n,a,s,i,o){var l=Ds(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!i||e[r])for(var p=t.s.c;p<=t.e.c;++p){var x=i?e[r][p]:e[n[p]+l];if(x===void 0||x.t===void 0){if(u===void 0)continue;s[p]!=null&&(m[s[p]]=u);continue}var g=x.v;switch(x.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(s[p]!=null){if(g==null)if(x.t=="e"&&g===null)m[s[p]]=null;else if(u!==void 0)m[s[p]]=u;else if(d&&g===null)m[s[p]]=null;else continue;else m[s[p]]=d&&(x.t!=="n"||x.t==="n"&&o.rawNumbers!==!1)?g:Bf(x,g,o);g!=null&&(f=!1)}}return{row:m,isempty:f}}function B_(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":l=jn(d);break;case"number":l=jn(e["!ref"]),l.s.r=d;break;default:l=d}n>0&&(a=0);var f=Ds(l.s.r),m=[],p=[],x=0,g=0,b=Array.isArray(e),y=l.s.r,_=0,S={};b&&!e[y]&&(e[y]=[]);var I=u.skipHidden&&e["!cols"]||[],T=u.skipHidden&&e["!rows"]||[];for(_=l.s.c;_<=l.e.c;++_)if(!(I[_]||{}).hidden)switch(m[_]=Wa(_),r=b?e[y][_]:e[m[_]+f],n){case 1:s[_]=_-l.s.c;break;case 2:s[_]=m[_];break;case 3:s[_]=u.header[_-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=i=Bf(r,null,u),g=S[i]||0,!g)S[i]=1;else{do o=i+"_"+g++;while(S[o]);S[i]=g,S[o]=1}s[_]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(T[y]||{}).hidden){var F=DBe(e,l,y,m,n,s,b,u);(F.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[x++]=F.row)}return p.length=x,p}var B9=/"/g;function PBe(e,t,r,n,a,s,i,o){for(var l=!0,u=[],d="",f=Ds(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var p=o.dense?(e[r]||[])[m]:e[n[m]+f];if(p==null)d="";else if(p.v!=null){l=!1,d=""+(o.rawNumbers&&p.t=="n"?p.v:Bf(p,null,o));for(var x=0,g=0;x!==d.length;++x)if((g=d.charCodeAt(x))===a||g===s||g===34||o.forceQuotes){d='"'+d.replace(B9,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(l=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(B9,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&l?null:u.join(i)}function IO(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=jn(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(m[x]||{}).hidden||(f[x]=Wa(x));for(var g=0,b=a.s.r;b<=a.e.r;++b)(p[b]||{}).hidden||(d=PBe(e,a,b,f,i,l,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?o:"")+d)));return delete n.dense,r.join("")}function mZ(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=IO(e,t);return r}function RBe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=jn(e["!ref"]),s="",i=[],o,l=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)i[o]=Wa(o);for(var d=a.s.r;d<=a.e.r;++d)for(s=Ds(d),o=a.s.c;o<=a.e.c;++o)if(t=i[o]+s,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function pZ(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?Xa(n.origin):n.origin;i=l.r,o=l.c}var u,d={s:{c:0,r:0},e:{c:o,r:i+t.length-1+a}};if(s["!ref"]){var f=jn(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),i==-1&&(i=f.e.r+1,d.e.r=i+t.length-1+a)}else i==-1&&(i=0,d.e.r=t.length-1+a);var m=n.header||[],p=0;t.forEach(function(g,b){vs(g).forEach(function(y){(p=m.indexOf(y))==-1&&(m[p=m.length]=y);var _=g[y],S="z",I="",T=Fr({c:o+p,r:i+b+a});u=hy(s,T),_&&typeof _=="object"&&!(_ instanceof Date)?s[T]=_:(typeof _=="number"?S="n":typeof _=="boolean"?S="b":typeof _=="string"?S="s":_ instanceof Date?(S="d",n.cellDates||(S="n",_=mi(_)),I=n.dateNF||Tr[14]):_===null&&n.nullError&&(S="e",_=0),u?(u.t=S,u.v=_,delete u.w,delete u.R,I&&(u.z=I)):s[T]=u={t:S,v:_},I&&(u.z=I))})}),d.e.c=Math.max(d.e.c,o+m.length-1);var x=Ds(i);if(a)for(p=0;p<m.length;++p)s[Wa(p+o)+x]={t:"s",v:m[p]};return s["!ref"]=Gr(d),s}function LBe(e,t){return pZ(null,e,t)}function hy(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Xa(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?hy(e,Fr(t)):hy(e,Fr({r:t,c:r||0}))}function UBe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function jO(){return{SheetNames:[],Sheets:{}}}function FO(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(ZJ(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function MBe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=UBe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function QBe(e,t){return e.z=t,e}function gZ(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function HBe(e,t,r){return gZ(e,"#"+t,r)}function VBe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function zBe(e,t,r,n){for(var a=typeof t!="string"?t:jn(t),s=typeof t=="string"?t:Gr(t),i=a.s.r;i<=a.e.r;++i)for(var o=a.s.c;o<=a.e.c;++o){var l=hy(e,i,o);l.t="n",l.F=s,delete l.v,i==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var lu={encode_col:Wa,encode_row:Ds,encode_cell:Fr,encode_range:Gr,decode_col:oO,decode_row:iO,split_cell:tye,decode_cell:Xa,decode_range:Ol,format_cell:Bf,sheet_add_aoa:zY,sheet_add_json:pZ,sheet_add_dom:oZ,aoa_to_sheet:fx,json_to_sheet:LBe,table_to_sheet:lZ,table_to_book:Y4e,sheet_to_csv:IO,sheet_to_txt:mZ,sheet_to_json:B_,sheet_to_html:iZ,sheet_to_formulae:RBe,sheet_to_row_object_array:B_,sheet_get_cell:hy,book_new:jO,book_append_sheet:FO,book_set_sheet_visibility:MBe,cell_set_number_format:QBe,cell_set_hyperlink:gZ,cell_set_internal_link:HBe,cell_add_comment:VBe,sheet_set_array_formula:zBe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const $Be=async()=>{try{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=["usuarios","acompanamientos","anuncios","acciones","analisis","apiLogs"];let n=0,a=0;const s=[];for(const l of r)try{const u=Ft(Mr,l),d=await Zs(u),f=d.size;n+=f,s.push({label:l.charAt(0).toUpperCase()+l.slice(1),value:f});let m=0;d.docs.forEach(p=>{const x=p.data();x.createdAt&&new Date(x.createdAt)>=t&&m++}),a+=m}catch(u){console.warn(`Error accediendo a colección ${l}:`,u),s.push({label:l.charAt(0).toUpperCase()+l.slice(1),value:0})}const i=[];try{const l=Ft(Mr,"apiLogs"),u=new Date(e.getTime()-10080*60*1e3),d=tr(l,Mn("timestamp",">=",u.toISOString()),qr("timestamp","desc")),f=await Zs(d),m={};f.docs.forEach(p=>{const x=p.data(),g=new Date(x.timestamp).toLocaleDateString("es-CL");m[g]=(m[g]||0)+1}),Object.entries(m).sort(([p],[x])=>new Date(p).getTime()-new Date(x).getTime()).forEach(([p,x])=>{i.push({label:p,value:x})})}catch(l){console.warn("Error calculando actividad diaria:",l)}const o=Math.floor(a*2.5);return{documentsCreatedToday:a,readsToday:o,writesToday:a,totalDocuments:n,collectionsActivity:s.sort((l,u)=>u.value-l.value),dailyActivity:i}}catch(e){return console.error("Error al obtener estadísticas de Firestore:",e),{documentsCreatedToday:0,readsToday:0,writesToday:0,totalDocuments:0,collectionsActivity:[],dailyActivity:[]}}},k9=500,xg=({title:e,value:t,description:r,alert:n})=>c.jsxs("div",{className:`p-5 rounded-xl border ${n?"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-700":"bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700"}`,children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),c.jsx("p",{className:`text-3xl font-bold mt-2 ${n?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-200"}`,children:t}),r&&c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:r})]}),tk=({title:e,data:t,colorClass:r})=>{const n=k.useMemo(()=>Math.max(...t.map(a=>a.value),1),[t]);return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md h-full",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:e}),c.jsx("div",{className:"space-y-4",children:t.length>0?t.map(a=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[c.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:a.label}),c.jsx("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:a.value})]}),c.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:c.jsx("div",{className:`${r} h-3 rounded-full transition-all duration-500 ease-out`,style:{width:`${a.value/n*100}%`}})})]},a.label)):c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm text-center py-8",children:"No hay datos para mostrar."})})]})},KBe=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0),[a,s]=k.useState(null),[i,o]=k.useState({documentsCreatedToday:0,readsToday:0,writesToday:0,totalDocuments:0,collectionsActivity:[],dailyActivity:[]});k.useEffect(()=>{n(!0);const f=Rve(x=>{t(x),n(!1)}),m=async()=>{try{const x=await $Be();o(x)}catch(x){console.error("Error al cargar estadísticas de Firestore:",x)}};m();const p=setInterval(m,300*1e3);return()=>{f(),clearInterval(p)}},[]);const{stats:l,userStats:u,moduleStats:d}=k.useMemo(()=>{const f=new Date,m=new Date(f.getFullYear(),f.getMonth(),f.getDate()).getTime(),p=m-f.getDay()*24*60*60*1e3,x=new Date(f.getFullYear(),f.getMonth(),1).getTime(),g={today:0,week:0,month:0},b={},y={};e.forEach(I=>{const T=new Date(I.timestamp).getTime();T>=m&&g.today++,T>=p&&g.week++,T>=x&&g.month++;const F=I.userEmail||"Desconocido";b[F]||(b[F]={email:F,today:0,month:0,total:0}),b[F].total++,T>=m&&b[F].today++,T>=x&&b[F].month++,y[I.module]=(y[I.module]||0)+1});const _=Object.values(b).sort((I,T)=>T.total-I.total),S=Object.entries(y).map(([I,T])=>({label:I,value:T})).sort((I,T)=>T.value-I.value);return{stats:g,userStats:_,moduleStats:S}},[e]);return c.jsxs("div",{className:"space-y-8",children:[a&&c.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:a}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Monitor de Llamadas a la API de IA"}),r&&c.jsx("div",{className:"text-center text-amber-600 py-4",children:"Cargando estadísticas..."}),!r&&e.length===0&&c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 p-4 rounded-lg mb-6",children:"No hay registros de llamadas a la API en la nube."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsx(xg,{title:"Llamadas Hoy",value:r?"--":l.today,description:`Límite recomendado: ${k9}`,alert:l.today>k9}),c.jsx(xg,{title:"Llamadas esta Semana",value:r?"--":l.week}),c.jsx(xg,{title:"Llamadas este Mes",value:r?"--":l.month})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8",children:[c.jsx(tk,{title:"Uso por Módulo",data:d,colorClass:"bg-sky-500"}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Uso por Usuario"}),c.jsx("div",{className:"overflow-x-auto max-h-96",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Usuario"}),c.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Hoy"}),c.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Mes"}),c.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Total"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:!r&&u.length>0?u.map(f=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:f.email}),c.jsx("td",{className:"px-4 py-2 text-center text-sm",children:f.today}),c.jsx("td",{className:"px-4 py-2 text-center text-sm",children:f.month}),c.jsx("td",{className:"px-4 py-2 text-center text-sm font-bold",children:f.total})]},f.email)):c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"text-center py-6 text-slate-500",children:r?"Cargando...":"No hay registros."})})})]})})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Monitor de Almacenamiento Firestore"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Estadísticas de uso de Firestore (simuladas)."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(xg,{title:"Documentos Creados (Hoy)",value:i.documentsCreatedToday,description:"Nuevos documentos"}),c.jsx(xg,{title:"Lecturas de Firestore (Hoy)",value:i.readsToday,description:"Operaciones de lectura"}),c.jsx(xg,{title:"Total de Documentos",value:i.totalDocuments,description:"En todas las colecciones"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8",children:[c.jsx(tk,{title:"Actividad por Colección",data:i.collectionsActivity,colorClass:"bg-green-500"}),c.jsx(tk,{title:"Actividad Diaria (Últimos 7 días)",data:i.dailyActivity,colorClass:"bg-purple-500"})]})]})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GBe="type.googleapis.com/google.protobuf.Int64Value",qBe="type.googleapis.com/google.protobuf.UInt64Value";function vZ(e,t){const r={};for(const n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n]));return r}function k_(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>k_(t));if(typeof e=="function"||typeof e=="object")return vZ(e,t=>k_(t));throw new Error("Data cannot be encoded in JSON: "+e)}function Pv(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case GBe:case qBe:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>Pv(t)):typeof e=="function"||typeof e=="object"?vZ(e,t=>Pv(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tl extends id{constructor(t,r,n){super(`${OO}/${t}`,r||""),this.details=n,Object.setPrototypeOf(this,Tl.prototype)}}function WBe(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function T_(e,t){let r=WBe(e),n=r,a;try{const s=t&&t.error;if(s){const i=s.status;if(typeof i=="string"){if(!T9[i])return new Tl("internal","internal");r=T9[i],n=i}const o=s.message;typeof o=="string"&&(n=o),a=s.details,a!==void 0&&(a=Pv(a))}}catch{}return r==="ok"?null:new Tl(r,n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XBe{constructor(t,r,n,a){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,lc(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=r.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||r.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||a==null||a.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const r=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(t){const r=await this.getAuthToken(),n=await this.getMessagingToken(),a=await this.getAppCheckToken(t);return{authToken:r,messagingToken:n,appCheckToken:a}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="us-central1",YBe=/^data: (.*?)(?:\n|$)/;function JBe(e){let t=null;return{promise:new Promise((r,n)=>{t=setTimeout(()=>{n(new Tl("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class ZBe{constructor(t,r,n,a,s=MI,i=(...o)=>fetch(...o)){this.app=t,this.fetchImpl=i,this.emulatorOrigin=null,this.contextProvider=new XBe(t,r,n,a),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(s);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=MI}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(t){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${r}.cloudfunctions.net/${t}`}}function eke(e,t,r){const n=Uf(t);e.emulatorOrigin=`http${n?"s":""}://${t}:${r}`,n&&($S(e.emulatorOrigin),KS("Functions",!0))}function tke(e,t,r){const n=a=>nke(e,t,a,{});return n.stream=(a,s)=>ske(e,t,a,s),n}async function rke(e,t,r,n){r["Content-Type"]="application/json";let a;try{a=await n(e,{method:"POST",body:JSON.stringify(t),headers:r})}catch{return{status:0,json:null}}let s=null;try{s=await a.json()}catch{}return{status:a.status,json:s}}async function xZ(e,t){const r={},n=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return n.authToken&&(r.Authorization="Bearer "+n.authToken),n.messagingToken&&(r["Firebase-Instance-ID-Token"]=n.messagingToken),n.appCheckToken!==null&&(r["X-Firebase-AppCheck"]=n.appCheckToken),r}function nke(e,t,r,n){const a=e._url(t);return ake(e,a,r,n)}async function ake(e,t,r,n){r=k_(r);const a={data:r},s=await xZ(e,n),i=n.timeout||7e4,o=JBe(i),l=await Promise.race([rke(t,a,s,e.fetchImpl),o.promise,e.cancelAllRequests]);if(o.cancel(),!l)throw new Tl("cancelled","Firebase Functions instance was deleted.");const u=T_(l.status,l.json);if(u)throw u;if(!l.json)throw new Tl("internal","Response is not valid JSON object.");let d=l.json.data;if(typeof d>"u"&&(d=l.json.result),typeof d>"u")throw new Tl("internal","Response is missing data field.");return{data:Pv(d)}}function ske(e,t,r,n){const a=e._url(t);return ike(e,a,r,n||{})}async function ike(e,t,r,n){var m;r=k_(r);const a={data:r},s=await xZ(e,n);s["Content-Type"]="application/json",s.Accept="text/event-stream";let i;try{i=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(a),headers:s,signal:n==null?void 0:n.signal})}catch(p){if(p instanceof Error&&p.name==="AbortError"){const g=new Tl("cancelled","Request was cancelled.");return{data:Promise.reject(g),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(g)}}}}}}const x=T_(0,null);return{data:Promise.reject(x),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(x)}}}}}}let o,l;const u=new Promise((p,x)=>{o=p,l=x});(m=n==null?void 0:n.signal)==null||m.addEventListener("abort",()=>{const p=new Tl("cancelled","Request was cancelled.");l(p)});const d=i.body.getReader(),f=oke(d,o,l,n==null?void 0:n.signal);return{stream:{[Symbol.asyncIterator](){const p=f.getReader();return{async next(){const{value:x,done:g}=await p.read();return{value:x,done:g}},async return(){return await p.cancel(),{done:!0,value:void 0}}}}},data:u}}function oke(e,t,r,n){const a=(i,o)=>{const l=i.match(YBe);if(!l)return;const u=l[1];try{const d=JSON.parse(u);if("result"in d){t(Pv(d.result));return}if("message"in d){o.enqueue(Pv(d.message));return}if("error"in d){const f=T_(0,d);o.error(f),r(f);return}}catch(d){if(d instanceof Tl){o.error(d),r(d);return}}},s=new TextDecoder;return new ReadableStream({start(i){let o="";return l();async function l(){if(n!=null&&n.aborted){const u=new Tl("cancelled","Request was cancelled");return i.error(u),r(u),Promise.resolve()}try{const{value:u,done:d}=await e.read();if(d){o.trim()&&a(o.trim(),i),i.close();return}if(n!=null&&n.aborted){const m=new Tl("cancelled","Request was cancelled");i.error(m),r(m),await e.cancel();return}o+=s.decode(u,{stream:!0});const f=o.split(`
`);o=f.pop()||"";for(const m of f)m.trim()&&a(m.trim(),i);return l()}catch(u){const d=u instanceof Tl?u:T_(0,null);i.error(d),r(d)}}},cancel(){return e.cancel()}})}const I9="@firebase/functions",j9="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lke="auth-internal",cke="app-check-internal",uke="messaging-internal";function dke(e){const t=(r,{instanceIdentifier:n})=>{const a=r.getProvider("app").getImmediate(),s=r.getProvider(lke),i=r.getProvider(uke),o=r.getProvider(cke);return new ZBe(a,s,i,o,n)};y0(new wf(OO,t,"PUBLIC").setMultipleInstances(!0)),fu(I9,j9,e),fu(I9,j9,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(e=GS(),t=MI){const n=Ry(va(e),OO).getImmediate({identifier:t}),a=DF("functions");return a&&Ake(n,...a),n}function Ake(e,t,r){eke(va(e),t,r)}function Qh(e,t,r){return tke(va(e),t)}dke();const F9=Ft(Mr,"usuarios");async function bZ(){try{console.log("🔍 [DEBUG] Obteniendo usuarios de Firestore..."),console.log("🔍 [DEBUG] Collection ref:",F9);const e=await Zs(F9);if(console.log(`📊 [DEBUG] Encontrados ${e.docs.length} documentos en la colección usuarios`),e.empty)return console.log("⚠️  [DEBUG] La colección usuarios está vacía"),[];const t=e.docs.map(r=>{const n=r.data();return console.log("👤 [DEBUG] Usuario encontrado:",{id:r.id,...n}),{id:r.id,...n}});return console.log("✅ [DEBUG] Usuarios procesados correctamente:",t.length),console.log("✅ [DEBUG] Lista completa de usuarios:",t),t}catch(e){throw console.error("❌ [DEBUG] Error al obtener usuarios:",e),console.error("❌ [DEBUG] Error details:",{code:e.code,message:e.message,stack:e.stack}),e}}const O9=Object.values(Kt),rk=e=>e?e.trim().toLowerCase().replace(/°/g,"º").replace(/\s+(medio|básico|basico)/g,"").replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1º").replace(/^(\d)(?![º])/,"$1º").replace(/\s+/g,"").toUpperCase():"",fke=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!1),[a,s]=k.useState("Usuarios"),[i,o]=k.useState({nombreCompleto:"",email:"",rut:"",profile:Kt.PROFESORADO,password:"",curso:"",cursos:[],asignaturas:[]}),[l,u]=k.useState(null),[d,f]=k.useState(""),[m,p]=k.useState(""),[x,g]=k.useState(""),[b,y]=k.useState(null),[_,S]=k.useState(null),[I,T]=k.useState(null),F=k.useCallback(async()=>{n(!0);try{const V=await bZ();t(V)}catch(V){console.error("Error al cargar usuarios",V),y("No se pudieron cargar los usuarios.")}finally{n(!1)}},[]);k.useEffect(()=>{F()},[F]);const w=k.useCallback(V=>{const{name:q,value:K}=V.target;o(J=>({...J,[q]:K,curso:q==="profile"&&K!==Kt.ESTUDIANTE?"":J.curso,cursos:q==="profile"&&K!==Kt.PROFESORADO?[]:J.cursos,asignaturas:q==="profile"&&K!==Kt.PROFESORADO?[]:J.asignaturas}))},[]),C=k.useCallback((V,q)=>{o(K=>{const J=K[V]||[],P=J.includes(q)?J.filter(G=>G!==q):[...J,q];return{...K,[V]:P}})},[]),N=k.useCallback(()=>{o({nombreCompleto:"",email:"",rut:"",profile:Kt.PROFESORADO,password:"",curso:"",cursos:[],asignaturas:[]}),u(null),y(null)},[]),R=k.useCallback(async V=>{V.preventDefault(),y(null);const{nombreCompleto:q,email:K,profile:J,curso:P,password:G}=i;if(!q.trim()||!K.trim()){y("Nombre Completo y Email son obligatorios.");return}if(J===Kt.ESTUDIANTE&&!P){y('El campo "Curso" es obligatorio para Estudiantes.');return}if(!l&&!(G!=null&&G.trim())){y("La contraseña es obligatoria al crear un nuevo usuario.");return}const Y=Tm();try{if(l){const re=Qh(Y,"updateUser"),ie={...i,password:(G==null?void 0:G.trim())||void 0,curso:J===Kt.ESTUDIANTE?rk(P||""):void 0};await re(ie)}else{const re=Qh(Y,"createUser"),ie={...i,curso:J===Kt.ESTUDIANTE?rk(P||""):void 0};await re(ie)}await F(),N()}catch(re){console.error("Error al guardar usuario:",re),y(re.message||"Error al guardar el usuario.")}},[i,l,F,N]),D=k.useCallback(V=>{u(V.email),o({nombreCompleto:V.nombreCompleto,email:V.email,rut:V.rut||"",profile:V.profile,password:"",curso:V.curso||"",cursos:V.cursos||[],asignaturas:V.asignaturas||[]}),setTimeout(()=>{const q=document.querySelector("form");q&&q.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)},[]),O=k.useCallback(async V=>{if(window.confirm(`¿Está seguro de que desea eliminar al usuario ${V}? Esta acción es irreversible.`))try{const q=Tm();await Qh(q,"deleteUser")({email:V}),await F()}catch(q){console.error("Error al eliminar usuario:",q),y(q.message||"No se pudo borrar el usuario.")}},[F]),M=async V=>{var G;const q=(G=V.target.files)==null?void 0:G[0];if(!q)return;S({message:"Procesando archivo...",isError:!1});const K=Tm(),J=Qh(K,"createUser"),P=new FileReader;P.onload=async Y=>{var re;try{const ie=new Uint8Array((re=Y.target)==null?void 0:re.result),de=fy(ie,{type:"array"}),me=de.Sheets[de.SheetNames[0]],ue=lu.sheet_to_json(me);if(ue.length===0){S({message:"El archivo está vacío o no tiene el formato correcto.",isError:!0});return}const ye=ue.map(ke=>{const pe=ke.Nombre||ke.nombre,je=ke.Correo||ke.correo||ke.Email||ke.email,He=ke.Curso||ke.curso,Xe=ke.RUT||ke.rut;return!pe||!je||!He?Promise.resolve({email:je||"Sin email",error:"Datos incompletos"}):J({nombreCompleto:String(pe).trim(),email:String(je).trim(),profile:Kt.ESTUDIANTE,curso:rk(String(He).trim()),rut:Xe?String(Xe).trim():"",password:"recoleta"}).catch(dt=>({email:je,error:dt.message}))}),Ie=await Promise.all(ye),ne=Ie.filter(ke=>!ke.error).length,Fe=Ie.filter(ke=>ke.error);let Le=`Carga completada. ${ne} estudiantes agregados.`;Fe.length>0&&(Le+=` ${Fe.length} fallaron.`,console.error("Errores en carga masiva:",Fe)),S({message:Le,isError:Fe.length>0}),await F()}catch(ie){S({message:`Error: ${ie.message}`,isError:!0})}},P.readAsArrayBuffer(q),V.target.value=""},Q=async V=>{var G;const q=(G=V.target.files)==null?void 0:G[0];if(!q)return;T({message:"Procesando archivo...",isError:!1});const K=Tm(),J=Qh(K,"createUser"),P=new FileReader;P.onload=async Y=>{var re;try{const ie=new Uint8Array((re=Y.target)==null?void 0:re.result),de=fy(ie,{type:"array"}),me=de.Sheets[de.SheetNames[0]],ue=lu.sheet_to_json(me);if(ue.length===0){T({message:"El archivo está vacío o no tiene el formato correcto.",isError:!0});return}const ye=ue.map(ke=>{const pe=ke.Nombre||ke.nombre,je=ke.Correo||ke.correo||ke.Email||ke.email,He=ke.Perfil||ke.perfil||ke.Profile||ke.profile,Xe=ke.RUT||ke.rut;return!pe||!je||!He?Promise.resolve({email:je||"Sin email",error:"Datos incompletos"}):J({nombreCompleto:String(pe).trim(),email:String(je).trim(),profile:He,rut:Xe?String(Xe).trim():"",password:"recoleta"}).catch(dt=>({email:je,error:dt.message}))}),Ie=await Promise.all(ye),ne=Ie.filter(ke=>!ke.error).length,Fe=Ie.filter(ke=>ke.error);let Le=`Carga completada. ${ne} usuarios agregados.`;Fe.length>0&&(Le+=` ${Fe.length} fallaron.`,console.error("Errores en carga masiva:",Fe)),T({message:Le,isError:Fe.length>0}),await F()}catch(ie){T({message:`Error: ${ie.message}`,isError:!0})}},P.readAsArrayBuffer(q),V.target.value=""},ee="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",W=k.useMemo(()=>Array.from(new Set(e.filter(V=>V.profile===Kt.ESTUDIANTE&&V.curso).map(V=>V.curso))).sort(),[e]),Z=k.useMemo(()=>e.filter(V=>(d===""||V.nombreCompleto.toLowerCase().includes(d.toLowerCase())||V.email.toLowerCase().includes(d.toLowerCase()))&&(m===""||V.profile===m)&&(x===""||V.curso===x)),[e,d,m,x]);return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Administración"}),c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:c.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[c.jsx("button",{onClick:()=>s("Usuarios"),className:`${a==="Usuarios"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none`,children:"Gestión de Usuarios"}),c.jsx("button",{onClick:()=>s("Monitor de Uso"),className:`${a==="Monitor de Uso"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none`,children:"Monitor de Uso"})]})}),a==="Usuarios"&&c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Carga Masiva"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Cargar Estudiantes (Excel)"}),c.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:M,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100 dark:file:bg-amber-900 dark:file:text-amber-300"}),c.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Columnas requeridas: Nombre, Correo, Curso"}),_&&c.jsx("p",{className:`text-sm mt-2 ${_.isError?"text-red-600":"text-green-600"}`,children:_.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Cargar Personal (Excel)"}),c.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:Q,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100 dark:file:bg-amber-900 dark:file:text-amber-300"}),c.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Columnas requeridas: Nombre, Correo, Perfil"}),I&&c.jsx("p",{className:`text-sm mt-2 ${I.isError?"text-red-600":"text-green-600"}`,children:I.message})]})]})]}),c.jsxs("div",{id:"formulario-usuario",className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:l?"Editando usuario":"Agregar nuevo usuario"}),c.jsxs("form",{onSubmit:R,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Completo"}),c.jsx("input",{type:"text",name:"nombreCompleto",value:i.nombreCompleto,onChange:w,className:ee,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Email"}),c.jsx("input",{type:"email",name:"email",value:i.email,onChange:w,className:ee,required:!0,readOnly:!!l})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Contraseña"}),c.jsx("input",{type:"password",name:"password",value:i.password||"",onChange:w,placeholder:l?"Dejar en blanco para no cambiar":"Contraseña temporal",className:ee})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"RUT (Opcional)"}),c.jsx("input",{type:"text",name:"rut",value:i.rut||"",onChange:w,placeholder:"12.345.678-9",className:ee})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Perfil de Usuario"}),c.jsx("select",{name:"profile",value:i.profile,onChange:w,className:ee,required:!0,children:O9.map(V=>c.jsx("option",{value:V,children:V},V))})]}),i.profile===Kt.ESTUDIANTE&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),c.jsxs("select",{name:"curso",value:i.curso,onChange:w,className:ee,required:!0,children:[c.jsx("option",{value:"",children:"Seleccione un curso"}),qa.map(V=>c.jsx("option",{value:V,children:V},V))]})]})]}),i.profile===Kt.PROFESORADO&&c.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border-l-4 border-blue-400",children:[c.jsxs("h3",{className:"text-lg font-medium text-slate-800 dark:text-slate-200 mb-4 flex items-center",children:[c.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-sm mr-2",children:"📚"}),"Asignación de Cursos"]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:qa.map(V=>{var q;return c.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer bg-white dark:bg-slate-700 p-2 rounded border hover:bg-blue-50 dark:hover:bg-blue-800/20",children:[c.jsx("input",{type:"checkbox",checked:((q=i.cursos)==null?void 0:q.includes(V))||!1,onChange:()=>C("cursos",V),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),c.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300 font-medium",children:V})]},V)})})]}),i.profile===Kt.PROFESORADO&&c.jsxs("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border-l-4 border-green-400",children:[c.jsxs("h3",{className:"text-lg font-medium text-slate-800 dark:text-slate-200 mb-4 flex items-center",children:[c.jsx("span",{className:"bg-green-500 text-white px-2 py-1 rounded text-sm mr-2",children:"📖"}),"Asignación de Asignaturas"]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Pi.map(V=>{var q;return c.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer bg-white dark:bg-slate-700 p-2 rounded border hover:bg-green-50 dark:hover:bg-green-800/20",children:[c.jsx("input",{type:"checkbox",checked:((q=i.asignaturas)==null?void 0:q.includes(V))||!1,onChange:()=>C("asignaturas",V),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500"}),c.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300 font-medium",children:V})]},V)})})]}),b&&c.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md mt-4",children:b}),c.jsxs("div",{className:"pt-4 flex justify-end items-center gap-4 flex-wrap",children:[l&&c.jsx("button",{type:"button",onClick:N,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Cancelar"}),c.jsx("button",{type:"button",onClick:async()=>{try{console.log("🔧 Agregando custom claim...");const V=Tm(),K=await Qh(V,"addCustomClaim")({email:"fernando.sagredo@industrialderecoleta.cl",profile:"SUBDIRECCION"});console.log("✅ Custom claim agregado:",K),y("✅ Custom claim agregado exitosamente")}catch(V){console.error("❌ Error al agregar custom claim:",V),y(`Error: ${V.message}`)}},className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600 text-sm",children:"🔧 Claim"}),c.jsx("button",{type:"button",onClick:async()=>{var V,q,K,J,P;try{const{auth:G}=await d_(async()=>{const{auth:ie}=await Promise.resolve().then(()=>Dme);return{auth:ie}},void 0);console.log("🔍 Usuario actual:",(V=G.currentUser)==null?void 0:V.email);const Y=await((q=G.currentUser)==null?void 0:q.getIdToken(!0));console.log("🔑 Token refreshed:",!!Y);const re=await((K=G.currentUser)==null?void 0:K.getIdTokenResult());console.log("📋 Claims completos:",re==null?void 0:re.claims),console.log("👤 Profile claim:",(J=re==null?void 0:re.claims)==null?void 0:J.profile),((P=re==null?void 0:re.claims)==null?void 0:P.profile)==="SUBDIRECCION"?y("✅ Custom claim FUNCIONANDO - Ya puedes crear/editar usuarios"):y(`❌ Custom claim faltante. Claims: ${JSON.stringify(re==null?void 0:re.claims)}`)}catch(G){console.error("❌ Error verificando token:",G),y(`Error verificando token: ${G.message}`)}},className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 text-sm",children:"🔍 Token"}),c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:l?"Actualizar Usuario":"Agregar Usuario"})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Listado de Usuarios"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsx("div",{children:c.jsx("input",{type:"text",placeholder:"Buscar por nombre o email...",value:d,onChange:V=>f(V.target.value),className:ee})}),c.jsx("div",{children:c.jsxs("select",{value:m,onChange:V=>p(V.target.value),className:ee,children:[c.jsx("option",{value:"",children:"Todos los perfiles"}),O9.map(V=>c.jsx("option",{value:V,children:V},V))]})}),c.jsx("div",{children:c.jsxs("select",{value:x,onChange:V=>g(V.target.value),className:ee,children:[c.jsx("option",{value:"",children:"Todos los cursos"}),W.map(V=>c.jsx("option",{value:V,children:V},V))]})})]}),r?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-slate-500",children:"Cargando usuarios..."})}):c.jsxs("div",{className:"overflow-x-auto",children:[c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Nombre"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Email"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Perfil"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Curso/Asignaciones"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:Z.map(V=>c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-100",children:V.nombreCompleto}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-300",children:V.email}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-300",children:c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${V.profile===Kt.ESTUDIANTE?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":V.profile===Kt.PROFESORADO?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"}`,children:V.profile})}),c.jsxs("td",{className:"px-4 py-4 text-sm text-slate-500 dark:text-slate-300",children:[V.profile===Kt.ESTUDIANTE&&c.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-slate-100 text-slate-700 rounded dark:bg-slate-600 dark:text-slate-300",children:V.curso||"Sin curso"}),V.profile===Kt.PROFESORADO&&c.jsxs("div",{className:"space-y-1",children:[V.cursos&&V.cursos.length>0&&c.jsxs("div",{children:[c.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Cursos:"}),c.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[V.cursos.slice(0,3).map(q=>c.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded dark:bg-blue-900 dark:text-blue-300",children:q},q)),V.cursos.length>3&&c.jsxs("span",{className:"inline-flex px-2 py-1 text-xs bg-slate-100 text-slate-600 rounded dark:bg-slate-600 dark:text-slate-400",children:["+",V.cursos.length-3]})]})]}),V.asignaturas&&V.asignaturas.length>0&&c.jsxs("div",{children:[c.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Asignaturas:"}),c.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[V.asignaturas.slice(0,2).map(q=>c.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-green-100 text-green-700 rounded dark:bg-green-900 dark:text-green-300",children:q},q)),V.asignaturas.length>2&&c.jsxs("span",{className:"inline-flex px-2 py-1 text-xs bg-slate-100 text-slate-600 rounded dark:bg-slate-600 dark:text-slate-400",children:["+",V.asignaturas.length-2]})]})]}),(!V.cursos||V.cursos.length===0)&&(!V.asignaturas||V.asignaturas.length===0)&&c.jsx("span",{className:"text-xs text-slate-400 italic",children:"Sin asignaciones"})]}),V.profile!==Kt.ESTUDIANTE&&V.profile!==Kt.PROFESORADO&&c.jsx("span",{className:"text-xs text-slate-400",children:"-"})]}),c.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-center space-x-2",children:[c.jsx("button",{onClick:()=>D(V),title:"Editar",className:"text-yellow-600 hover:text-yellow-800 p-1 rounded-full hover:bg-yellow-100 dark:hover:bg-yellow-900/40",children:"✏️"}),c.jsx("button",{onClick:()=>O(V.email),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:"🗑️"})]})]},V.email))})]}),Z.length===0&&c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:e.length===0?"No hay usuarios registrados.":"No se encontraron usuarios con los filtros aplicados."})})]})]})]}),a==="Monitor de Uso"&&c.jsx(KBe,{})]})},Rv="seguimiento_dual_records",hke=e=>{const t=e.data(),r=n=>n&&typeof n.toDate=="function"?n.toDate().toISOString().split("T")[0]:n;return{id:e.id,...t,fechaDesvinculacion:r(t.fechaDesvinculacion),fecha1raSupervision1erSemestre:r(t.fecha1raSupervision1erSemestre),fecha2daSupervision1erSemestre:r(t.fecha2daSupervision1erSemestre),fecha1raSupervision2doSemestre:r(t.fecha1raSupervision2doSemestre),fecha2daSupervision2doSemestre:r(t.fecha2daSupervision2doSemestre),fechaSupervisionExcepcional:r(t.fechaSupervisionExcepcional)}},mke=e=>{const t=tr(Ft(Bt,Rv),qr("nombreEstudiante","asc"));return br(t,n=>{const a=n.docs.map(s=>hke(s));e(a)},n=>{console.error("Error al suscribirse a los registros de seguimiento:",n),e([])})},I_=e=>{const t={...e};return["fechaDesvinculacion","fecha1raSupervision1erSemestre","fecha2daSupervision1erSemestre","fecha1raSupervision2doSemestre","fecha2daSupervision2doSemestre","fechaSupervisionExcepcional"].forEach(n=>{t[n]&&typeof t[n]=="string"&&(t[n]=fr.fromDate(new Date(t[n]+"T00:00:00")))}),t},pke=async e=>{try{const t=I_(e);return(await xa(Ft(Bt,Rv),t)).id}catch(t){throw console.error("Error al crear el registro:",t),new Error("No se pudo crear el registro de seguimiento.")}},D9=async(e,t)=>{try{const r=Er(Bt,Rv,e),n=I_(t);await io(r,n,{merge:!0})}catch(r){throw console.error("Error al actualizar el registro:",r),new Error("No se pudo actualizar el registro.")}},gke=async e=>{try{const t=Er(Bt,Rv,e);await pi(t)}catch(t){throw console.error("Error al eliminar el registro:",t),new Error("No se pudo eliminar el registro.")}},vke=async e=>{const t=F6(Bt),r=Ft(Bt,Rv);let n=0,a=0;for(const s of e){const i=tr(r,Mn("rutEstudiante","==",s.rutEstudiante)),o=await Zs(i);if(o.empty){const l=Er(r);t.set(l,I_(s)),a++}else{const l=o.docs[0].id,u=Er(Bt,Rv,l);t.set(u,I_(s),{merge:!0}),n++}}return await t.commit(),{updated:n,created:a}},xke={Vinculado:"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300",Desvinculado:"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300","En proceso":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300",Empresa:"bg-purple-100 text-purple-800 dark:bg-purple-900/40 dark:text-purple-300"},bke=e=>{if(!e||e===""||e==="N/A"||e==="Pendiente")return null;try{if(typeof e=="number"){const t=new Date(1900,0,1),r=new Date(t.getTime()+(e-2)*24*60*60*1e3);return isNaN(r.getTime())?null:r.toISOString().split("T")[0]}if(e instanceof Date)return isNaN(e.getTime())?null:e.toISOString().split("T")[0];if(typeof e=="string"){const t=e.trim();if(t==="")return null;const r=new Date(t);return isNaN(r.getTime())?null:r.toISOString().split("T")[0]}return null}catch(t){return console.warn("Error parsing date:",e,t),null}},yke=e=>{if(typeof e=="boolean")return e;if(typeof e=="string"){const t=e.toLowerCase().trim();return["true","verdadero","sí","si","yes","1","x"].includes(t)}return typeof e=="number"?e===1:!1},wke=({record:e,onSave:t,onClose:r})=>{const[n,a]=k.useState(e),s="w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600 dark:text-white",i=l=>{const{name:u,value:d,type:f,checked:m}=l.target;a(p=>({...p,[u]:f==="checkbox"?m:d}))},o=()=>{t(n)};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center p-4",onClick:r,children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl animate-fade-in-up",onClick:l=>l.stopPropagation(),children:[c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("img",{src:"https://res.cloudinary.com/dwncmu1wu/image/upload/v1754320187/ChatGPT_Image_4_ago_2025_11_09_32_a.m._nb456n.png",alt:"Logo LIR",className:"w-12 h-12 object-contain"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Seguimiento de Supervisión"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:e.nombreEstudiante})]})]}),c.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-4 text-slate-700 dark:text-slate-300",children:[c.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[c.jsx("legend",{className:"font-semibold text-lg px-2",children:"1er Semestre"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mt-2",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{htmlFor:`f1s1-${e.id}`,className:"text-sm font-medium",children:"Fecha 1ra Supervisión"}),c.jsx("input",{id:`f1s1-${e.id}`,type:"date",name:"fecha1raSupervision1erSemestre",value:n.fecha1raSupervision1erSemestre||"",onChange:i,className:s})]}),c.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[c.jsx("input",{type:"checkbox",name:"realizada1raSupervision1erSemestre",checked:!!n.realizada1raSupervision1erSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),c.jsx("span",{children:"Realizada"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{htmlFor:`f2s1-${e.id}`,className:"text-sm font-medium",children:"Fecha 2da Supervisión"}),c.jsx("input",{id:`f2s1-${e.id}`,type:"date",name:"fecha2daSupervision1erSemestre",value:n.fecha2daSupervision1erSemestre||"",onChange:i,className:s})]}),c.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[c.jsx("input",{type:"checkbox",name:"realizada2daSupervision1erSemestre",checked:!!n.realizada2daSupervision1erSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),c.jsx("span",{children:"Realizada"})]})]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[c.jsx("legend",{className:"font-semibold text-lg px-2",children:"2do Semestre"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mt-2",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{htmlFor:`f1s2-${e.id}`,className:"text-sm font-medium",children:"Fecha 1ra Supervisión"}),c.jsx("input",{id:`f1s2-${e.id}`,type:"date",name:"fecha1raSupervision2doSemestre",value:n.fecha1raSupervision2doSemestre||"",onChange:i,className:s})]}),c.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[c.jsx("input",{type:"checkbox",name:"realizada1raSupervision2doSemestre",checked:!!n.realizada1raSupervision2doSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),c.jsx("span",{children:"Realizada"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{htmlFor:`f2s2-${e.id}`,className:"text-sm font-medium",children:"Fecha 2da Supervisión"}),c.jsx("input",{id:`f2s2-${e.id}`,type:"date",name:"fecha2daSupervision2doSemestre",value:n.fecha2daSupervision2doSemestre||"",onChange:i,className:s})]}),c.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[c.jsx("input",{type:"checkbox",name:"realizada2daSupervision2doSemestre",checked:!!n.realizada2daSupervision2doSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),c.jsx("span",{children:"Realizada"})]})]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[c.jsx("legend",{className:"font-semibold text-lg px-2",children:"Supervisión Excepcional"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mt-2",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{htmlFor:`fex-${e.id}`,className:"text-sm font-medium",children:"Fecha Supervisión"}),c.jsx("input",{id:`fex-${e.id}`,type:"date",name:"fechaSupervisionExcepcional",value:n.fechaSupervisionExcepcional||"",onChange:i,className:s})]}),c.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[c.jsx("input",{type:"checkbox",name:"realizadaSupervisionExcepcional",checked:!!n.realizadaSupervisionExcepcional,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),c.jsx("span",{children:"Realizada"})]})]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[c.jsx("legend",{className:"font-semibold text-lg px-2",children:"Maestro Guía (Empresa)"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:`mg-nombre-${e.id}`,className:"text-sm font-medium",children:"Nombre Maestro Guía"}),c.jsx("input",{id:`mg-nombre-${e.id}`,type:"text",name:"nombreMaestroGuia",value:n.nombreMaestroGuia||"",onChange:i,className:s+" mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:`mg-contacto-${e.id}`,className:"text-sm font-medium",children:"Contacto (Email/Teléfono)"}),c.jsx("input",{id:`mg-contacto-${e.id}`,type:"text",name:"contactoMaestroGuia",value:n.contactoMaestroGuia||"",onChange:i,className:s+" mt-1"})]})]})]})]})]}),c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:r,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Cerrar"}),c.jsx("button",{type:"button",onClick:o,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Guardar Cambios"})]})]})})},Eke=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0),a=k.useMemo(()=>({nombreEstudiante:"",rutEstudiante:"",curso:zm[0],profesorTutorEmpresa:"",rutEmpresa:"",nombreEmpresa:"",direccionEmpresa:"",comuna:"",estado:NB[0],fechaDesvinculacion:"",motivoDesvinculacion:""}),[]),[s,i]=k.useState(a),[o,l]=k.useState(null),[u,d]=k.useState(""),[f,m]=k.useState({curso:"",empresa:"",estado:"",comuna:"",profesor:""}),[p,x]=k.useState(null),[g,b]=k.useState(null),[y,_]=k.useState(!1),[S,I]=k.useState(null);k.useEffect(()=>{n(!0);const V=mke(q=>{t(q),n(!1)});return()=>V()},[]);const T=k.useCallback(V=>{const{name:q,value:K}=V.target;i(J=>({...J,[q]:K}))},[]),F=k.useCallback(V=>{const{name:q,value:K}=V.target;m(J=>({...J,[q]:K}))},[]),w=k.useCallback(()=>{i(a),l(null),x(null)},[a]),C=async V=>{V.preventDefault(),x(null);const K=["nombreEstudiante","rutEstudiante","nombreEmpresa"].find(J=>{var P;return!((P=s[J])!=null&&P.trim())});if(K){x(`El campo '${K}' es obligatorio.`);return}try{o?await D9(o,s):await pke(s),w()}catch(J){console.error(J),x("No se pudo guardar el registro.")}},N=k.useCallback(V=>{window.scrollTo({top:0,behavior:"smooth"}),l(V.id),i(V)},[]),R=async V=>{if(window.confirm("¿Está seguro de que desea eliminar este registro?"))try{await gke(V)}catch(q){console.error(q),x("No se pudo eliminar el registro.")}},D=V=>{I(V),_(!0)},O=()=>{I(null),_(!1)},M=async V=>{try{await D9(V.id,V),O()}catch(q){console.error(q),alert("No se pudieron guardar los cambios de supervisión.")}},Q=()=>{const V=["Nombre","RUT","Curso 2025","Profesor Tutor","1° Visita 1° Semestre","Realizada 1° Visita S1","2° Visita 1° Semestre","Realizada 2° Visita S1","Visita Emergencia 1° Semestre","3° Visita","Realizada 3° Visita S2","4° Visita","Realizada 4° Visita S2","Empresa","RUT-Empresa","Dirección","Comuna","Estado","Fecha de Desvinculación","Motivo Desvinculación","Maestro Guía","Correo maestro guía"],q=lu.aoa_to_sheet([V]),K=lu.book_new();lu.book_append_sheet(K,q,"Plantilla"),TO(K,"Plantilla_Seguimiento_Dual.xlsx")},ee=V=>{var J;const q=(J=V.target.files)==null?void 0:J[0];if(!q)return;b({message:"Procesando archivo...",isError:!1});const K=new FileReader;K.onload=async P=>{var G;try{const Y=new Uint8Array((G=P.target)==null?void 0:G.result),re=fy(Y,{type:"array",cellDates:!0,dateNF:"yyyy-mm-dd"}),ie=re.SheetNames[0],de=re.Sheets[ie],me=lu.sheet_to_json(de,{raw:!1,dateNF:"yyyy-mm-dd"});if(me.length===0)throw new Error("El archivo está vacío.");const ue={nombre:"nombreEstudiante",rut:"rutEstudiante","curso 2025":"curso","profesor tutor":"profesorTutorEmpresa","1° visita 1° semestre":"fecha1raSupervision1erSemestre","realizada 1° visita s1":"realizada1raSupervision1erSemestre","2° visita 1° semestre":"fecha2daSupervision1erSemestre","realizada 2° visita s1":"realizada2daSupervision1erSemestre","visita emergencia 1° semestre":"fechaSupervisionExcepcional","3° visita":"fecha1raSupervision2doSemestre","realizada 3° visita s2":"realizada1raSupervision2doSemestre","4° visita":"fecha2daSupervision2doSemestre","realizada 4° visita s2":"realizada2daSupervision2doSemestre",empresa:"nombreEmpresa","rut-empresa":"rutEmpresa",dirección:"direccionEmpresa",comuna:"comuna",estado:"estado","fecha de desvinculación":"fechaDesvinculacion","motivo desvinculación":"motivoDesvinculacion","maestro guía":"nombreMaestroGuia","correo maestro guía":"contactoMaestroGuia"},ye=Object.keys(me[0]).map(Le=>Le.trim().toLowerCase()),ne=["nombre","rut","curso 2025","empresa","estado"].find(Le=>!ye.includes(Le));if(ne)throw new Error(`Falta la columna requerida: '${ne}'`);const Fe=me.map((Le,ke)=>{try{const pe={};for(const je in Le){const He=ue[je.trim().toLowerCase()];if(He){let Xe=Le[je];["fecha1raSupervision1erSemestre","fecha2daSupervision1erSemestre","fechaSupervisionExcepcional","fecha1raSupervision2doSemestre","fecha2daSupervision2doSemestre","fechaDesvinculacion"].includes(He)?(Xe=bke(Xe),Xe&&(pe[He]=Xe)):He.includes("realizada")?pe[He]=yke(Xe):Xe!=null&&Xe!==""&&(pe[He]=String(Xe).trim())}}return!pe.nombreEstudiante||!pe.rutEstudiante?(console.warn(`Fila ${ke+2}: Faltan campos requeridos`),null):pe}catch(pe){return console.error(`Error procesando fila ${ke+2}:`,pe),null}}).filter(Le=>Le!==null);if(console.log("Registros procesados:",Fe),Fe.length>0){const{updated:Le,created:ke}=await vke(Fe);b({message:`Carga exitosa. ${ke} registros creados, ${Le} actualizados.`,isError:!1})}else b({message:"No se encontraron registros válidos para procesar. Verifique el formato del archivo.",isError:!0})}catch(Y){console.error("Error completo:",Y),b({message:`Error al procesar el archivo: ${Y.message}. Verifique que las fechas estén en formato correcto.`,isError:!0})}},K.readAsArrayBuffer(q)},W="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",Z=k.useMemo(()=>e.filter(V=>(u===""||V.nombreEstudiante.toLowerCase().includes(u.toLowerCase())||V.nombreEmpresa.toLowerCase().includes(u.toLowerCase())||V.rutEstudiante.includes(u))&&(f.curso===""||V.curso===f.curso)&&(f.empresa===""||V.nombreEmpresa===f.empresa)&&(f.estado===""||V.estado===f.estado)&&(f.comuna===""||V.comuna===f.comuna)&&(f.profesor===""||V.profesorTutorEmpresa===f.profesor)).sort((V,q)=>V.nombreEstudiante.localeCompare(q.nombreEstudiante)),[e,u,f]);return k.useMemo(()=>{const V=new Set,q=new Set;return e.forEach(K=>{K.nombreEmpresa&&V.add(K.nombreEmpresa),K.comuna&&q.add(K.comuna)}),{empresas:Array.from(V).sort(),comunas:Array.from(q).sort()}},[e]),r?c.jsx("div",{className:"text-center py-10",children:"Cargando registros..."}):c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("img",{src:"https://res.cloudinary.com/dwncmu1wu/image/upload/v1754320187/ChatGPT_Image_4_ago_2025_11_09_32_a.m._nb456n.png",alt:"Logo Gestión Pedagógica LIR",className:"w-12 h-12 object-contain"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Seguimiento de Práctica Dual"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:o?"Editando registro existente.":"Registre un nuevo estudiante en práctica."})]})]}),c.jsxs("form",{onSubmit:C,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Estudiante"}),c.jsx("input",{type:"text",name:"nombreEstudiante",value:s.nombreEstudiante,onChange:T,className:W,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"RUT Estudiante"}),c.jsx("input",{type:"text",name:"rutEstudiante",value:s.rutEstudiante,onChange:T,className:W,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),c.jsx("select",{name:"curso",value:s.curso,onChange:T,className:W,required:!0,children:zm.map(V=>c.jsx("option",{value:V,children:V},V))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Profesor Tutor"}),c.jsxs("select",{name:"profesorTutorEmpresa",value:s.profesorTutorEmpresa,onChange:T,className:W,children:[c.jsx("option",{value:"",children:"Seleccione un profesor"}),dI.map(V=>c.jsx("option",{value:V,children:V},V))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Empresa"}),c.jsx("input",{type:"text",name:"nombreEmpresa",value:s.nombreEmpresa,onChange:T,className:W,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"RUT Empresa"}),c.jsx("input",{type:"text",name:"rutEmpresa",value:s.rutEmpresa,onChange:T,className:W})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Dirección Empresa"}),c.jsx("input",{type:"text",name:"direccionEmpresa",value:s.direccionEmpresa,onChange:T,className:W})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Comuna"}),c.jsx("input",{type:"text",name:"comuna",value:s.comuna,onChange:T,className:W})]}),c.jsxs("div",{className:"lg:col-span-4",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estado"}),c.jsx("select",{name:"estado",value:s.estado,onChange:T,className:W,children:NB.map(V=>c.jsx("option",{value:V,children:V},V))})]})]}),s.estado==="Desvinculado"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 border border-red-200 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-red-700 dark:text-red-300 mb-1",children:"Fecha de Desvinculación"}),c.jsx("input",{type:"date",name:"fechaDesvinculacion",value:s.fechaDesvinculacion||"",onChange:T,className:`${W} border-red-300`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-red-700 dark:text-red-300 mb-1",children:"Motivo de Desvinculación"}),c.jsx("input",{type:"text",name:"motivoDesvinculacion",value:s.motivoDesvinculacion||"",onChange:T,className:`${W} border-red-300`})]})]}),p&&c.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md",children:p}),c.jsxs("div",{className:"flex justify-end items-center gap-4",children:[o&&c.jsx("button",{type:"button",onClick:w,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900",children:o?"Actualizar":"Agregar"})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("img",{src:"https://res.cloudinary.com/dwncmu1wu/image/upload/v1754320187/ChatGPT_Image_4_ago_2025_11_09_32_a.m._nb456n.png",alt:"Logo LIR",className:"w-8 h-8 object-contain"}),c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Carga Masiva"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[c.jsx("button",{onClick:Q,className:"bg-green-100 text-green-700 font-semibold py-2 px-4 rounded-lg hover:bg-green-200",children:"Descargar Plantilla Excel"}),c.jsx("input",{type:"file",onChange:ee,accept:".xlsx, .xls",className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100"})]}),g&&c.jsx("p",{className:`text-sm p-2 rounded-md mt-4 ${g.isError?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:g.message})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("img",{src:"https://res.cloudinary.com/dwncmu1wu/image/upload/v1754320187/ChatGPT_Image_4_ago_2025_11_09_32_a.m._nb456n.png",alt:"Logo LIR",className:"w-8 h-8 object-contain"}),c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Registros de Estudiantes"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-4",children:[c.jsx("input",{type:"text",placeholder:"Buscar por estudiante, empresa o RUT...",value:u,onChange:V=>d(V.target.value),className:`${W} md:col-span-2 lg:col-span-1`}),c.jsxs("select",{name:"curso",value:f.curso,onChange:F,className:W,children:[c.jsx("option",{value:"",children:"Todos los Cursos"}),zm.map(V=>c.jsx("option",{children:V},V))]}),c.jsxs("select",{name:"estado",value:f.estado,onChange:F,className:W,children:[c.jsx("option",{value:"",children:"Todos los Estados"}),NB.map(V=>c.jsx("option",{children:V},V))]}),c.jsxs("select",{name:"profesor",value:f.profesor,onChange:F,className:W,children:[c.jsx("option",{value:"",children:"Todos los Profesores"}),dI.map(V=>c.jsx("option",{children:V},V))]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Estudiante"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Empresa"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Profesor Tutor"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Estado"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:Z.map(V=>c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[c.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[c.jsx("div",{className:"font-medium text-slate-800 dark:text-slate-200",children:V.nombreEstudiante}),c.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:V.curso})]}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:V.nombreEmpresa}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:V.profesorTutorEmpresa}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${xke[V.estado]}`,children:V.estado})}),c.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm space-x-2",children:[c.jsx("button",{onClick:()=>D(V),className:"text-blue-600 hover:underline",children:"Supervisión"}),c.jsx("button",{onClick:()=>N(V),className:"text-yellow-600 hover:underline",children:"Editar"}),c.jsx("button",{onClick:()=>R(V.id),className:"text-red-600 hover:underline",children:"Eliminar"})]})]},V.id))})]})})]}),y&&S&&c.jsx(wke,{record:S,onClose:O,onSave:M})]})},yZ="actividades_remotas",Cke="respuestas_actividades",wZ="pruebas_estandarizadas",_ke="usuarios",DO=e=>{var r,n,a,s,i,o;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion,plazoEntrega:((s=(a=t.plazoEntrega)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString().split("T")[0])||t.plazoEntrega,fechaCompletado:((o=(i=t.fechaCompletado)==null?void 0:i.toDate)==null?void 0:o.call(i).toISOString())||t.fechaCompletado}},Ske=e=>{var r,n,a,s;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion,plazoEntrega:((s=(a=t.plazoEntrega)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString().split("T")[0])||t.plazoEntrega}},Nke=e=>{const t=tr(Ft(Bt,yZ),qr("fechaCreacion","desc"));return br(t,n=>{const a=n.docs.map(s=>DO(s));e(a)},n=>{console.error("Error al suscribirse a las actividades:",n),e([])})},Bke=async e=>{try{const t={...e,fechaCreacion:fr.fromDate(new Date),plazoEntrega:fr.fromDate(new Date(e.plazoEntrega+"T00:00:00"))};return(await xa(Ft(Bt,yZ),t)).id}catch(t){throw console.error("Error al crear la actividad:",t),new Error("No se pudo crear la actividad.")}},kke=e=>{const t=tr(Ft(Bt,wZ),qr("fechaCreacion","desc"));return br(t,n=>{const a=n.docs.map(s=>Ske(s));e(a)},n=>{console.error("Error al suscribirse a las pruebas estandarizadas:",n),e([])})},Tke=async e=>{try{const t={...e,fechaCreacion:fr.fromDate(new Date),plazoEntrega:fr.fromDate(new Date(e.plazoEntrega+"T00:00:00"))};return(await xa(Ft(Bt,wZ),t)).id}catch(t){throw console.error("Error al crear la prueba estandarizada:",t),new Error("No se pudo crear la prueba estandarizada.")}},Ike=e=>{const t=tr(Ft(Bt,Cke));return br(t,n=>{const a=n.docs.map(s=>DO(s));e(a)},n=>{console.error("Error al suscribirse a las respuestas:",n),e([])})},jke=e=>{const t=tr(Ft(Bt,_ke));return br(t,n=>{const a=n.docs.map(s=>DO(s));e(a)},n=>{console.error("Error al suscribirse a todos los usuarios:",n),e([])})},nk={Quiz:[5,10,15],"Términos Pareados":[5,10,15],Desarrollo:[1,2,3],"Comprensión de Lectura":[1,2,3]},ak=["Localizar información","Interpretar y relacionar","Reflexionar","Extraer información explícita","Realizar inferencias","Interpretar el sentido global del texto","Evaluar contenido y forma"],Fke=e=>new Promise((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(n.result),n.onerror=a=>r(a)}),Oke=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState([]),[i,o]=k.useState([]),[l,u]=k.useState(null),[d,f]=k.useState(null),[m,p]=k.useState(!1),[x,g]=k.useState(!1),[b,y]=k.useState(!1),[_,S]=k.useState(!0),[I,T]=k.useState(null),[F,w]=k.useState(""),[C,N]=k.useState(null),[R,D]=k.useState(null),[O,M]=k.useState([]),[Q,ee]=k.useState("actividades"),W={asignatura:Pi[0],nivel:Kg[0],contenido:"",plazoEntrega:new Date().toISOString().split("T")[0],tipos:[],cantidadPreguntas:{},cursosDestino:[],estudiantesDestino:[],recursos:{instrucciones:"",enlaces:"",archivos:[]}},Z={asignatura:Pi[0],nivel:Kg[0],contenido:"",objetivosAprendizaje:"",plazoEntrega:new Date().toISOString().split("T")[0],cursosDestino:[],estudiantesDestino:[],duracionMinutos:90},[V,q]=k.useState(W),[K,J]=k.useState(Z);k.useEffect(()=>{S(!0);const De=Nke(t),Pe=kke(n),Be=Ike(s),ot=jke(vt=>{o(vt),S(!1)});return()=>{De(),Pe(),Be(),ot()}},[]);const P=De=>{q(Pe=>({...Pe,[De.target.name]:De.target.value}))},G=De=>{J(Pe=>({...Pe,[De.target.name]:De.target.value}))},Y=De=>{q(Pe=>({...Pe,recursos:{...Pe.recursos,[De.target.name]:De.target.value}}))},re=De=>{De.target.files&&M(Array.from(De.target.files))},ie=De=>{q(Pe=>{const Be=Pe.tipos.includes(De)?Pe.tipos.filter(vt=>vt!==De):[...Pe.tipos,De],ot={...Pe.cantidadPreguntas};return Be.includes(De)?ot[De]||(ot[De]=nk[De][0]):delete ot[De],{...Pe,tipos:Be,cantidadPreguntas:ot}})},de=(De,Pe)=>{q(Be=>({...Be,cantidadPreguntas:{...Be.cantidadPreguntas,[De]:Pe}}))},me=(De,Pe=!1)=>{(Pe?J:q)(ot=>{const vt=ot.cursosDestino||[],ur=vt.includes(De)?vt.filter(Gt=>Gt!==De):[...vt,De];return{...ot,cursosDestino:ur}})},ue=(De,Pe=!1)=>{(Pe?J:q)(ot=>{const vt=ot.estudiantesDestino||[],ur=vt.includes(De)?vt.filter(Gt=>Gt!==De):[...vt,De];return{...ot,estudiantesDestino:ur}})},ye=()=>{const{tipos:De,contenido:Pe,asignatura:Be,nivel:ot,cantidadPreguntas:vt}=V;let ur=`Eres un experto diseñador de actividades pedagógicas. Genera un objeto JSON que se ajuste al esquema, sin texto adicional.

Contenido base: "${Pe}"
Asignatura: ${Be}
Nivel: ${ot}

Genera los siguientes elementos:
- **introduccion**: Una breve introducción motivadora para el estudiante sobre el tema: "${Pe}".
- **actividades**: Un objeto que contiene las actividades. Cada actividad es una propiedad con su nombre como clave:
`;return De.forEach(Gt=>{const Rt=vt[Gt]||nk[Gt][0];switch(Gt){case"Quiz":ur+=`- **Quiz**: Un array de ${Rt} objetos. Cada objeto debe tener: "pregunta" (string), "opciones" (array de 4 strings), "respuestaCorrecta" (string), y "puntaje" (number, usualmente 1).
`;break;case"Comprensión de Lectura":ur+=`- **Comprensión de Lectura**: Un objeto que debe tener "texto" (string de 150-200 palabras) y "preguntas" (un array de ${Rt} objetos, cada uno con "pregunta", "opciones", "respuestaCorrecta" y "puntaje").
`;break;case"Términos Pareados":ur+=`- **Términos Pareados**: Un array de ${Rt} objetos. Cada objeto debe tener "concepto" (string) y "definicion" (string).
`;break;case"Desarrollo":ur+=`- **Desarrollo**: Un array de ${Rt} objetos. Cada objeto debe tener una clave "pregunta" (string con la pregunta) y una clave "rubrica" (string con la rúbrica de evaluación).
`;break}}),ur},Ie=()=>{const{contenido:De,objetivosAprendizaje:Pe,asignatura:Be,nivel:ot}=K;return`Eres un experto en evaluación educativa y diseño de pruebas SIMCE. 

IMPORTANTE: Responde ÚNICAMENTE con un objeto JSON válido, sin comentarios, sin texto adicional, sin explicaciones.

INFORMACIÓN DE LA PRUEBA:
- Asignatura: ${Be}
- Nivel: ${ot}
- Contenido: ${De}
- Objetivos: ${Pe}

RESPONDE SOLO CON ESTE JSON (sin comentarios, sin texto extra):
{
  "titulo": "Título descriptivo de la prueba",
  "instrucciones": "Instrucciones claras para el estudiante",
  "textos": [
    {
      "id": 1,
      "titulo": "Título del texto",
      "contenido": "Texto completo de 200-300 palabras",
      "tipo": "narrativo",
      "palabras": 250
    }
  ],
  "preguntas": [
    {
      "numero": 1,
      "pregunta": "Texto de la pregunta",
      "opciones": ["Opción A completa", "Opción B completa", "Opción C completa", "Opción D completa"],
      "respuestaCorrecta": "A",
      "habilidad": "Localizar información",
      "justificacion": "Explicación breve de por qué es correcta",
      "textoId": 1
    }
  ]
}

REGLAS OBLIGATORIAS:
- ${Be==="Lenguaje y Comunicación"||Be==="Lengua y Literatura"?"3-4 textos de lectura de diferentes tipos":"2-3 textos informativos"}
- Exactamente 30 preguntas numeradas del 1 al 30
- Cada pregunta con exactamente 4 opciones completas y específicas
- Respuesta correcta: solo "A", "B", "C" o "D"
- Habilidades: ${ak.join(", ")}
- Para preguntas basadas en textos: incluir "textoId"
- Sin comentarios en el JSON
- Texto tipo debe ser: "narrativo", "informativo", "argumentativo" o "poetico"

JSON válido sin comentarios:`};function ne(De,Pe){if(De==="Desarrollo"){if(Array.isArray(Pe))return Pe.map(Be=>{if(typeof Be=="string"){const ot=Be.match(/^(.*?)(?:R[úu]brica:|RUBRICA:|Rubrica:)(.*)$/is);return ot?{pregunta:ot[1].trim(),rubrica:ot[2].trim()}:{pregunta:Be.trim(),rubrica:""}}return Be&&typeof Be=="object"?{pregunta:Be.pregunta||Be.Pregunta||Be.texto||"",rubrica:Be.rubrica||Be.Rubrica||Be.rúbrica||Be.Rúbrica||""}:{pregunta:String(Be),rubrica:""}});if(typeof Pe=="string")return Pe.split(/\n\n|\n- |\d+\. /).map(Be=>{const ot=Be.match(/^(.*?)(?:R[úu]brica:|RUBRICA:|Rubrica:)(.*)$/is);return ot?{pregunta:ot[1].trim(),rubrica:ot[2].trim()}:{pregunta:Be.trim(),rubrica:""}}).filter(Be=>Be.pregunta)}if(De==="Términos Pareados"){if(Array.isArray(Pe))return Pe.map((Be,ot)=>{if(typeof Be=="string"){const vt=Be.match(/^(.+?)[\s:-–]+(.+)$/);return vt?{id:ot,concepto:vt[1].trim(),definicion:vt[2].trim()}:{id:ot,concepto:Be.trim(),definicion:""}}return Be&&typeof Be=="object"?{id:ot,concepto:Be.concepto||Be.termino||"",definicion:Be.definicion||Be.significado||""}:{id:ot,concepto:String(Be),definicion:""}});if(typeof Pe=="object"&&Pe!==null)return Object.entries(Pe).map(([Be,ot],vt)=>({id:vt,concepto:Be,definicion:String(ot)}));if(typeof Pe=="string")return Pe.split(/\n|;/).map((Be,ot)=>{const vt=Be.match(/^(.+?)[\s:-–]+(.+)$/);return vt?{id:ot,concepto:vt[1].trim(),definicion:vt[2].trim()}:{id:ot,concepto:Be.trim(),definicion:""}}).filter(Be=>Be.concepto)}if(De==="Comprensión de Lectura"){if(Pe&&typeof Pe=="object"&&Array.isArray(Pe.preguntas))return{texto:Pe.texto||"",preguntas:Pe.preguntas.map(Be=>({pregunta:Be.pregunta||Be.Pregunta||"",opciones:Be.opciones||Be.Opciones||[],respuestaCorrecta:Be.respuestaCorrecta||Be.respuesta||"",puntaje:Be.puntaje||1}))};if(Array.isArray(Pe)){const Be=Pe.find(ot=>ot&&typeof ot=="object"&&"texto"in ot&&"preguntas"in ot);return Be?{texto:Be.texto||"",preguntas:(Be.preguntas||[]).map(ot=>({pregunta:ot.pregunta||ot.Pregunta||"",opciones:ot.opciones||ot.Opciones||[],respuestaCorrecta:ot.respuestaCorrecta||ot.respuesta||"",puntaje:ot.puntaje||1}))}:{texto:Pe.map(ot=>typeof ot=="string"?ot:JSON.stringify(ot)).join(`
`),preguntas:[]}}if(typeof Pe=="string"){const[Be,ot]=Pe.split(/Preguntas:|\nPreguntas:/i);let vt=[];return ot&&(vt=ot.split(/\n- |\n\d+\. /).filter(Boolean).map(ur=>{const Gt=ur.split(/Opciones:|\nOpciones:/i),Rt=Gt[0].trim();let Vr=[],dr="";Gt[1]&&(Vr=Gt[1].split(/;|\n|,/).map(Qr=>Qr.trim()).filter(Boolean));const yn=ur.match(/Respuesta\s*correcta\s*:?\s*(.*)/i);return yn&&(dr=yn[1].trim()),{pregunta:Rt,opciones:Vr,respuestaCorrecta:dr,puntaje:1}})),{texto:(Be==null?void 0:Be.trim())||Pe,preguntas:vt}}}return De==="Quiz"&&Array.isArray(Pe)?Pe.map(Be=>({...Be,puntaje:Be.puntaje||1})):Pe}const Fe=async De=>{var Pe;if(De.preventDefault(),!V.contenido.trim()||V.tipos.length===0){T("Contenido y al menos un tipo de actividad son obligatorios.");return}y(!0),T(null);try{const Be=await Promise.all(O.map(async Zt=>({nombre:Zt.name,url:await Fke(Zt)}))),ot="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",ur=new ti(ot).getGenerativeModel({model:"gemini-1.5-flash-latest"}),Gt=ye();let dr=await(await(await ur.generateContent(Gt)).response).text();console.log("Respuesta cruda de la IA (actividad):",dr),dr=dr.replace(/```json\s*/gi,"").replace(/```\s*$/g,"");const yn=dr.match(/\{[\s\S]*\}/);if(!yn)throw new Error("No se encontró un objeto JSON válido en la respuesta de la IA");const Qr=yn[0];console.log("JSON extraído (actividad):",Qr);const kn=JSON.parse(Qr),Zn={};for(const Zt of V.tipos)Zn[Zt]=ne(Zt,(Pe=kn.actividades)==null?void 0:Pe[Zt]);const or={id:"",fechaCreacion:new Date().toISOString(),...V,recursos:{...V.recursos,archivos:Be},introduccion:kn.introduccion||"Actividad generada para reforzar el aprendizaje.",generatedContent:Zn};N(or)}catch(Be){console.error("Error al generar actividad con IA",Be);const ot=Be instanceof Error?Be.message:"Error desconocido";T(`Error al generar la actividad: ${ot}. Por favor, inténtelo de nuevo.`)}finally{y(!1)}},Le=async De=>{if(De.preventDefault(),!K.contenido.trim()||!K.objetivosAprendizaje.trim()){T("Contenido y objetivos de aprendizaje son obligatorios.");return}y(!0),T(null);try{const Pe="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",ot=new ti(Pe).getGenerativeModel({model:"gemini-1.5-flash-latest"}),vt=Ie();let Rt=await(await(await ot.generateContent(vt)).response).text();console.log("Respuesta cruda de la IA:",Rt),Rt=Rt.replace(/```json\s*/gi,"").replace(/```\s*$/g,""),Rt=Rt.replace(/\/\/.*$/gm,""),Rt=Rt.replace(/\/\*[\s\S]*?\*\//g,""),Rt=Rt.trim();const Vr=Rt.match(/\{[\s\S]*\}/);if(!Vr)throw new Error("No se encontró un objeto JSON válido en la respuesta de la IA");let dr=Vr[0];console.log("JSON extraído:",dr),dr=dr.replace(/,(\s*[}\]])/g,"$1"),console.log("JSON limpio:",dr);const yn=JSON.parse(dr);if(!yn.preguntas||!Array.isArray(yn.preguntas))throw new Error("La respuesta de la IA no contiene un array de preguntas válido");yn.preguntas.length!==30&&console.warn(`Se esperaban 30 preguntas, pero se recibieron ${yn.preguntas.length}`);const Qr=(yn.textos||[]).map((or,Zt)=>{var Kr;return{id:or.id||Zt+1,titulo:or.titulo||`Texto ${Zt+1}`,contenido:or.contenido||"Contenido del texto no disponible",tipo:["narrativo","informativo","argumentativo","poetico"].includes(or.tipo)?or.tipo:"informativo",palabras:or.palabras||((Kr=or.contenido)==null?void 0:Kr.split(" ").length)||0}}),kn=yn.preguntas.slice(0,30).map((or,Zt)=>({numero:or.numero||Zt+1,pregunta:or.pregunta||`Pregunta ${Zt+1}`,opciones:Array.isArray(or.opciones)&&or.opciones.length>=4?or.opciones.slice(0,4):["Opción A","Opción B","Opción C","Opción D"],respuestaCorrecta:["A","B","C","D"].includes(or.respuestaCorrecta)?or.respuestaCorrecta:"A",habilidad:ak.includes(or.habilidad)?or.habilidad:ak[0],justificacion:or.justificacion||"Justificación no disponible",...or.textoId&&typeof or.textoId=="number"?{textoId:or.textoId}:{}}));console.log("Textos procesados:",Qr),console.log("Preguntas procesadas:",kn.slice(0,2));const Zn={id:"",fechaCreacion:new Date().toISOString(),...K,titulo:yn.titulo||`Prueba ${K.asignatura} - ${K.nivel}`,instrucciones:yn.instrucciones||"Lee cada pregunta cuidadosamente y selecciona la mejor respuesta.",textos:Qr,preguntas:kn};D(Zn)}catch(Pe){console.error("Error al generar prueba con IA",Pe);const Be=Pe instanceof Error?Pe.message:"Error desconocido";Be.includes("JSON")?T("Error al procesar la respuesta de la IA. El formato de respuesta no es válido. Inténtalo de nuevo."):T(`Error al generar la prueba estandarizada: ${Be}. Por favor, inténtelo de nuevo.`)}finally{y(!1)}},ke=async()=>{if(C)try{await Bke(C),q(W),M([]),p(!1),N(null)}catch(De){console.error("Error al guardar la actividad:",De),T("No se pudo guardar la actividad en la base de datos.")}},pe=async()=>{if(R)try{const De={...R,cursosDestino:R.cursosDestino||[],estudiantesDestino:R.estudiantesDestino||[],textos:R.textos||[],preguntas:R.preguntas.map(Pe=>({...Pe,textoId:Pe.textoId||null}))};await Tke(De),J(Z),g(!1),D(null)}catch(De){console.error("Error al guardar la prueba:",De),T("No se pudo guardar la prueba en la base de datos.")}},je=k.useMemo(()=>{var Be,ot,vt,ur;const De=l||d;if(!De||!i.length)return[];const Pe=new Map;if(!((Be=De.cursosDestino)!=null&&Be.length)&&!((ot=De.estudiantesDestino)!=null&&ot.length)){const Gt=De.nivel.charAt(0);i.filter(Rt=>{var Vr;return Rt.profile===Kt.ESTUDIANTE&&((Vr=Rt.curso)==null?void 0:Vr.startsWith(Gt))}).forEach(Rt=>Pe.set(Rt.id,Rt))}else(vt=De.cursosDestino)!=null&&vt.length&&i.filter(Rt=>Rt.profile===Kt.ESTUDIANTE&&De.cursosDestino.includes(Rt.curso||"")).forEach(Rt=>Pe.set(Rt.id,Rt)),(ur=De.estudiantesDestino)!=null&&ur.length&&i.filter(Rt=>Rt.profile===Kt.ESTUDIANTE&&De.estudiantesDestino.includes(Rt.nombreCompleto)).forEach(Rt=>Pe.set(Rt.id,Rt));return Array.from(Pe.values()).sort((Gt,Rt)=>Gt.nombreCompleto.localeCompare(Rt.nombreCompleto))},[l,d,i]),He=k.useMemo(()=>{const De=(l==null?void 0:l.id)||(d==null?void 0:d.id);return a.filter(Pe=>Pe.actividadId===De)},[a,l,d]),Xe=k.useMemo(()=>i.filter(De=>De.profile===Kt.ESTUDIANTE).sort((De,Pe)=>De.nombreCompleto.localeCompare(Pe.nombreCompleto)),[i]),dt=k.useMemo(()=>F.trim()?Xe.filter(De=>De.nombreCompleto.toLowerCase().includes(F.toLowerCase())):Xe,[Xe,F]),Et=()=>c.jsxs("div",{className:"flex space-x-1 mb-6",children:[c.jsx("button",{onClick:()=>ee("actividades"),className:`px-4 py-2 rounded-lg font-semibold ${Q==="actividades"?"bg-amber-500 text-white":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:"Actividades Remotas"}),c.jsx("button",{onClick:()=>ee("pruebas"),className:`px-4 py-2 rounded-lg font-semibold ${Q==="pruebas"?"bg-amber-500 text-white":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:"Pruebas Estandarizadas"})]}),Tt=()=>c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Nueva Prueba Estandarizada SIMCE"}),c.jsx("button",{onClick:()=>g(!1),className:"text-slate-600 hover:text-slate-900 font-semibold",children:"← Volver al listado"})]}),c.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"La IA generará una prueba de 30 preguntas con estándar SIMCE, indicando qué habilidad se mide en cada pregunta."}),c.jsxs("form",{onSubmit:Le,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Asignatura"}),c.jsx("select",{name:"asignatura",value:K.asignatura,onChange:G,className:"w-full border-slate-300 rounded-md shadow-sm",children:Pi.map(De=>c.jsx("option",{value:De,children:De},De))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Nivel"}),c.jsx("select",{name:"nivel",value:K.nivel,onChange:G,className:"w-full border-slate-300 rounded-md shadow-sm",children:Kg.map(De=>c.jsx("option",{value:De,children:De},De))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"duracionMinutos",className:"block text-sm font-medium text-slate-600 mb-1",children:"Duración (minutos)"}),c.jsx("input",{type:"number",name:"duracionMinutos",value:K.duracionMinutos,onChange:G,min:"30",max:"180",className:"w-full border-slate-300 rounded-md shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"plazoEntrega",className:"block text-sm font-medium text-slate-600 mb-1",children:"Fecha límite"}),c.jsx("input",{type:"date",name:"plazoEntrega",value:K.plazoEntrega,onChange:G,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),c.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg space-y-4 bg-slate-50 dark:bg-slate-700/50",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:"Destinatarios"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Seleccione cursos o estudiantes. Si no selecciona ninguno, la prueba será visible para todo el nivel."}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Cursos"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 max-h-40 overflow-y-auto p-2 bg-white rounded",children:qa.map(De=>{var Pe;return c.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:(Pe=K.cursosDestino)==null?void 0:Pe.includes(De),onChange:()=>me(De,!0),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),c.jsx("span",{className:"text-sm font-medium text-slate-700",children:De})]},De)})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Estudiantes"}),c.jsx("input",{type:"text",placeholder:"Buscar...",value:F,onChange:De=>w(De.target.value),className:"w-full border-slate-300 rounded-md shadow-sm mb-2"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 max-h-40 overflow-y-auto p-2 bg-white rounded",children:dt.map(De=>{var Pe;return c.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:(Pe=K.estudiantesDestino)==null?void 0:Pe.includes(De.nombreCompleto),onChange:()=>ue(De.nombreCompleto,!0),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),c.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",title:De.nombreCompleto,children:De.nombreCompleto})]},De.id)})})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsxs("label",{htmlFor:"contenido",className:"block text-sm font-medium text-slate-600 mb-1",children:["Contenido a evaluar ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{name:"contenido",value:K.contenido,onChange:G,required:!0,rows:4,placeholder:"Describa los contenidos que se evaluarán en la prueba...",className:"w-full border-slate-300 rounded-md shadow-sm"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsxs("label",{htmlFor:"objetivosAprendizaje",className:"block text-sm font-medium text-slate-600 mb-1",children:["Objetivos de Aprendizaje ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{name:"objetivosAprendizaje",value:K.objetivosAprendizaje,onChange:G,required:!0,rows:4,placeholder:"Liste los objetivos de aprendizaje que se evaluarán...",className:"w-full border-slate-300 rounded-md shadow-sm"})]})]}),I&&c.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md mt-4",children:I}),c.jsx("div",{className:"pt-4 text-right",children:c.jsx("button",{type:"submit",disabled:b,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center min-w-[180px]",children:b?c.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Generar y Previsualizar"})})]})]}),Ct=()=>{var De,Pe;return c.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Previsualización de la Prueba Estandarizada"}),c.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"Revisa las preguntas generadas. Si todo está correcto, confirma para asignar la prueba."}),c.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto p-4 bg-slate-50 rounded-lg border",children:[c.jsxs("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-400 rounded-r-lg",children:[c.jsx("h3",{className:"font-bold text-blue-800 mb-2",children:R==null?void 0:R.titulo}),c.jsxs("p",{className:"text-slate-700 mb-2",children:[c.jsx("strong",{children:"Duración:"})," ",R==null?void 0:R.duracionMinutos," minutos"]}),c.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:R==null?void 0:R.instrucciones})]}),(R==null?void 0:R.textos)&&R.textos.length>0&&c.jsxs("div",{className:"p-4 bg-emerald-50 border-l-4 border-emerald-400 rounded-r-lg",children:[c.jsxs("h3",{className:"font-bold text-emerald-800 mb-4",children:["Textos de Lectura (",R.textos.length,")"]}),c.jsx("div",{className:"space-y-4",children:R.textos.map(Be=>c.jsxs("div",{className:"bg-white p-4 rounded-lg border border-emerald-200",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("h4",{className:"font-semibold text-slate-800",children:["Texto ",Be.id,": ",Be.titulo]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("span",{className:"text-xs bg-emerald-100 text-emerald-700 px-2 py-1 rounded-full",children:Be.tipo}),c.jsxs("span",{className:"text-xs bg-slate-100 text-slate-700 px-2 py-1 rounded-full",children:[Be.palabras," palabras"]})]})]}),c.jsx("div",{className:"text-sm text-slate-700 leading-relaxed whitespace-pre-wrap bg-slate-50 p-3 rounded border",children:Be.contenido})]},Be.id))})]}),c.jsxs("div",{className:"p-4 border rounded-lg bg-white",children:[c.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Preguntas (",((De=R==null?void 0:R.preguntas)==null?void 0:De.length)||0,"/30)"]}),c.jsx("div",{className:"space-y-6",children:(Pe=R==null?void 0:R.preguntas)==null?void 0:Pe.map((Be,ot)=>{var vt;return c.jsxs("div",{className:"border-t pt-4 first:border-t-0 first:pt-0",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("p",{className:"font-semibold text-slate-800",children:[Be.numero,". ",Be.pregunta,Be.textoId&&c.jsxs("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:["Basada en Texto ",Be.textoId]})]}),c.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium",children:Be.habilidad})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-3 mb-3",children:(vt=Be.opciones)==null?void 0:vt.map((ur,Gt)=>{const Rt=String.fromCharCode(65+Gt),Vr=Be.respuestaCorrecta===Rt;return c.jsxs("div",{className:`p-2 rounded border ${Vr?"bg-green-50 border-green-300 text-green-800":"bg-slate-50 border-slate-200"}`,children:[c.jsxs("strong",{children:[Rt,"."]})," ",ur,Vr&&c.jsx("span",{className:"ml-2 text-xs",children:"✓"})]},Gt)})}),Be.justificacion&&c.jsxs("p",{className:"text-xs text-slate-600 bg-slate-100 p-2 rounded mt-2",children:[c.jsx("strong",{children:"Justificación:"})," ",Be.justificacion]})]},ot)})})]})]}),c.jsxs("div",{className:"pt-6 flex justify-end gap-4",children:[c.jsx("button",{onClick:()=>D(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300",children:"Cancelar"}),c.jsx("button",{onClick:pe,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700",children:"Confirmar y Asignar Prueba"})]})]})},Dt=()=>c.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Pruebas Estandarizadas"}),c.jsx("button",{onClick:()=>g(!0),className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Crear Nueva Prueba"})]}),c.jsx("div",{className:"space-y-4",children:r.length>0?r.map(De=>{var ot,vt,ur;const Pe=[];(ot=De.cursosDestino)!=null&&ot.length&&Pe.push(`Cursos: ${De.cursosDestino.join(", ")}`),(vt=De.estudiantesDestino)!=null&&vt.length&&Pe.push(`Estudiantes: ${De.estudiantesDestino.length}`);const Be=Pe.length?Pe.join(" | "):`Todo ${De.nivel}`;return c.jsx("div",{className:"p-4 border rounded-lg bg-slate-50 hover:bg-slate-100 transition-colors",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-slate-800",children:De.titulo||`${De.asignatura} - Prueba SIMCE`}),c.jsxs("p",{className:"text-sm text-slate-500",children:[De.nivel," | ",De.duracionMinutos," min | Destino: ",Be]}),c.jsxs("p",{className:"text-xs text-slate-400",children:["Creado: ",new Date(De.fechaCreacion).toLocaleDateString("es-CL")," | Preguntas: ",((ur=De.preguntas)==null?void 0:ur.length)||0]})]}),c.jsx("button",{onClick:()=>f(De),className:"text-blue-600 hover:text-blue-800 font-semibold text-sm",children:"Ver Resultados"})]})},De.id)}):c.jsx("p",{className:"text-slate-500 text-center py-6",children:'No hay pruebas estandarizadas creadas. Haga clic en "Crear Nueva Prueba" para comenzar.'})})]}),Jt=()=>c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:l?`${l.asignatura} - ${l.tipos.join(", ")}`:`${(d==null?void 0:d.titulo)||"Prueba Estandarizada"}`}),c.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["Nivel: ",(l==null?void 0:l.nivel)||(d==null?void 0:d.nivel)," | Plazo: ",(l==null?void 0:l.plazoEntrega)||(d==null?void 0:d.plazoEntrega),d&&` | Duración: ${d.duracionMinutos} min`]})]}),c.jsx("button",{onClick:()=>{u(null),f(null)},className:"text-slate-600 hover:text-slate-900 font-semibold",children:"← Volver al listado"})]}),c.jsxs("div",{className:"mt-6 border-t dark:border-slate-700 pt-6",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 mb-4",children:"Resultados de Estudiantes"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Estudiante"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Estado"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Puntaje"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Nota"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Fecha Completado"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:je.map(De=>{const Pe=He.find(Be=>Be.estudianteId===De.id);return c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:De.nombreCompleto}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:Pe?c.jsx("span",{className:"px-2 py-1 font-semibold text-xs rounded-full bg-green-100 text-green-800",children:"Completado"}):c.jsx("span",{className:"px-2 py-1 font-semibold text-xs rounded-full bg-yellow-100 text-yellow-800",children:"Pendiente"})}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:Pe?`${Pe.puntaje}/${Pe.puntajeMaximo}`:"-"}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-bold text-slate-600",children:Pe?c.jsx("span",{className:parseFloat(Pe.nota)>=4?"text-green-600":"text-red-600",children:Pe.nota}):"-"}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:Pe?new Date(Pe.fechaCompletado).toLocaleString("es-CL"):"-"})]},De.id)})})]})})]})]}),Pt=()=>{var De,Pe;return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Nueva Actividad Remota"}),c.jsx("button",{onClick:()=>p(!1),className:"text-slate-600 hover:text-slate-900 font-semibold",children:"← Volver al listado"})]}),c.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"Complete el formulario y la IA generará una actividad interactiva para sus estudiantes."}),c.jsxs("form",{onSubmit:Fe,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Asignatura"}),c.jsx("select",{name:"asignatura",value:V.asignatura,onChange:P,className:"w-full border-slate-300 rounded-md shadow-sm",children:Pi.map(Be=>c.jsx("option",{value:Be,children:Be},Be))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Nivel"}),c.jsx("select",{name:"nivel",value:V.nivel,onChange:P,className:"w-full border-slate-300 rounded-md shadow-sm",children:Kg.map(Be=>c.jsx("option",{value:Be,children:Be},Be))})]}),c.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg space-y-4 bg-slate-50 dark:bg-slate-700/50",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:"Recursos de Aprendizaje (Opcional)"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Instrucciones de estudio"}),c.jsx("textarea",{name:"instrucciones",value:(De=V.recursos)==null?void 0:De.instrucciones,onChange:Y,placeholder:"Ej: Lee el siguiente texto y luego responde...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Enlaces (videos, documentos, etc.)"}),c.jsx("textarea",{name:"enlaces",value:(Pe=V.recursos)==null?void 0:Pe.enlaces,onChange:Y,placeholder:"Pega un enlace por línea...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Adjuntar archivos (PDF, imágenes, etc.)"}),c.jsx("input",{type:"file",multiple:!0,onChange:re,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100"})]})]}),c.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg space-y-4 bg-slate-50 dark:bg-slate-700/50",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:"Destinatarios"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Seleccione cursos o estudiantes. Si no selecciona ninguno, la actividad será visible para todo el nivel."}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Cursos"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 max-h-40 overflow-y-auto p-2 bg-white rounded",children:qa.map(Be=>{var ot;return c.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:(ot=V.cursosDestino)==null?void 0:ot.includes(Be),onChange:()=>me(Be),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),c.jsx("span",{className:"text-sm font-medium text-slate-700",children:Be})]},Be)})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Estudiantes"}),c.jsx("input",{type:"text",placeholder:"Buscar...",value:F,onChange:Be=>w(Be.target.value),className:"w-full border-slate-300 rounded-md shadow-sm mb-2"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 max-h-40 overflow-y-auto p-2 bg-white rounded",children:dt.map(Be=>{var ot;return c.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:(ot=V.estudiantesDestino)==null?void 0:ot.includes(Be.nombreCompleto),onChange:()=>ue(Be.nombreCompleto),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),c.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",title:Be.nombreCompleto,children:Be.nombreCompleto})]},Be.id)})})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Tipos de Actividad"}),c.jsx("div",{className:"space-y-3",children:ape.map(Be=>c.jsxs("div",{className:"p-3 border rounded-lg has-[:checked]:bg-amber-50 has-[:checked]:border-amber-300",children:[c.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:V.tipos.includes(Be),onChange:()=>ie(Be),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),c.jsx("span",{className:"text-sm font-medium text-slate-700 flex-grow",children:Be})]}),V.tipos.includes(Be)&&c.jsxs("div",{className:"mt-3 pl-8 flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-slate-500",children:"Cantidad:"}),nk[Be].map(ot=>c.jsx("button",{type:"button",onClick:()=>de(Be,ot),className:`px-3 py-1 rounded-full font-semibold text-xs ${V.cantidadPreguntas[Be]===ot?"bg-amber-500 text-white":"bg-slate-200"}`,children:ot},ot))]})]},Be))})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsxs("label",{htmlFor:"contenido",className:"block text-sm font-medium text-slate-600 mb-1",children:["Contenido ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{name:"contenido",value:V.contenido,onChange:P,required:!0,rows:4,placeholder:"Ingrese los temas, conceptos clave o el texto base...",className:"w-full border-slate-300 rounded-md shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"plazoEntrega",className:"block text-sm font-medium text-slate-600 mb-1",children:"Plazo de Entrega"}),c.jsx("input",{type:"date",name:"plazoEntrega",value:V.plazoEntrega,onChange:P,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm"})]})]}),I&&c.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md mt-4",children:I}),c.jsx("div",{className:"pt-4 text-right",children:c.jsx("button",{type:"submit",disabled:b,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center min-w-[180px]",children:b?c.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Generar y Previsualizar"})})]})]})},Mt=()=>{var De;return c.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Previsualización de la Actividad"}),c.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"Revisa el contenido generado. Si todo está correcto, confirma para asignar la actividad."}),c.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto p-4 bg-slate-50 rounded-lg border",children:[c.jsxs("div",{className:"p-4 bg-sky-50 border-l-4 border-sky-400 rounded-r-lg",children:[c.jsx("h3",{className:"font-bold text-sky-800 mb-2",children:"Introducción para el Estudiante"}),c.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:C==null?void 0:C.introduccion})]}),(C==null?void 0:C.recursos)&&(C.recursos.instrucciones||C.recursos.enlaces||((De=C.recursos.archivos)==null?void 0:De.length))&&c.jsxs("div",{className:"p-4 bg-indigo-50 border-l-4 border-indigo-400 rounded-r-lg",children:[c.jsx("h3",{className:"font-bold text-indigo-800 mb-2",children:"Recursos de Aprendizaje"}),c.jsxs("div",{className:"space-y-3",children:[C.recursos.instrucciones&&c.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:C.recursos.instrucciones}),C.recursos.enlaces&&c.jsx("div",{children:C.recursos.enlaces.split(`
`).map((Pe,Be)=>Pe.trim()&&c.jsx("a",{href:Pe,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-600 hover:underline truncate",children:Pe},Be))}),C.recursos.archivos&&C.recursos.archivos.length>0&&c.jsx("ul",{className:"list-disc list-inside",children:C.recursos.archivos.map(Pe=>c.jsx("li",{className:"text-slate-700",children:Pe.nombre},Pe.nombre))})]})]}),C==null?void 0:C.tipos.map(Pe=>{const Be=C.generatedContent[Pe];return Be?c.jsxs("div",{className:"p-4 border rounded-lg bg-white",children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:Pe}),c.jsxs("div",{className:"space-y-4 text-sm",children:[Pe==="Quiz"&&Array.isArray(Be)&&Be.map((ot,vt)=>c.jsxs("div",{className:"border-t pt-3 first:border-t-0",children:[c.jsxs("p",{className:"font-semibold",children:[vt+1,". ",ot.pregunta]}),c.jsx("ul",{className:"list-none pl-5 mt-2 space-y-1",children:ot.opciones.map((ur,Gt)=>c.jsxs("li",{children:[c.jsxs("strong",{children:[String.fromCharCode(65+Gt),"."]})," ",ur]},Gt))}),c.jsxs("p",{className:"text-xs text-green-600 font-semibold mt-2 p-1 bg-green-50 rounded inline-block",children:["R: ",ot.respuestaCorrecta]})]},vt)),Pe==="Comprensión de Lectura"&&Be&&typeof Be=="object"&&"preguntas"in Be&&Array.isArray(Be.preguntas)&&c.jsxs("div",{children:[c.jsx("p",{className:"whitespace-pre-wrap bg-slate-100 p-3 rounded-md mb-4",children:Be.texto}),Be.preguntas.map((ot,vt)=>c.jsxs("div",{className:"border-t pt-3 first:border-t-0",children:[c.jsxs("p",{className:"font-semibold",children:[vt+1,". ",ot.pregunta]}),c.jsx("ul",{className:"list-none pl-5 mt-2 space-y-1",children:ot.opciones.map((ur,Gt)=>c.jsxs("li",{children:[c.jsxs("strong",{children:[String.fromCharCode(65+Gt),"."]})," ",ur]},Gt))}),c.jsxs("p",{className:"text-xs text-green-600 font-semibold mt-2 p-1 bg-green-50 rounded inline-block",children:["R: ",ot.respuestaCorrecta]})]},vt))]}),Pe==="Términos Pareados"&&Array.isArray(Be)&&c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full border border-slate-200",children:[c.jsx("thead",{className:"bg-slate-100",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left font-semibold p-2 border-b",children:"Concepto"}),c.jsx("th",{className:"text-left font-semibold p-2 border-b",children:"Definición"})]})}),c.jsx("tbody",{children:Be.map(ot=>c.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-slate-50",children:[c.jsx("td",{className:"p-2 align-top font-semibold text-slate-800",children:ot.concepto}),c.jsx("td",{className:"p-2 align-top text-slate-700",children:ot.definicion})]},ot.id))})]})}),Pe==="Desarrollo"&&Array.isArray(Be)&&Be.map((ot,vt)=>c.jsxs("div",{className:"border-t pt-3 first:border-t-0",children:[c.jsxs("p",{className:"font-semibold",children:[vt+1,". ",ot.pregunta]}),c.jsxs("p",{className:"text-sm text-slate-600 mt-2 p-2 bg-slate-100 rounded-md",children:[c.jsx("strong",{className:"font-semibold",children:"Rúbrica:"})," ",ot.rubrica]})]},vt)),(Pe==="Quiz"||Pe==="Términos Pareados"||Pe==="Desarrollo")&&!Array.isArray(Be)&&c.jsxs("div",{className:"text-red-600 text-sm p-3 bg-red-50 border border-red-200 rounded-md",children:['El contenido generado para "',c.jsx("strong",{children:Pe}),'" no tiene el formato de array esperado. La IA pudo haber devuelto una respuesta en un formato no válido.']}),Pe==="Comprensión de Lectura"&&(!Be||typeof Be!="object"||!Array.isArray(Be.preguntas))&&c.jsxs("div",{className:"text-red-600 text-sm p-3 bg-red-50 border border-red-200 rounded-md",children:['El contenido generado para "',c.jsx("strong",{children:"Comprensión de Lectura"}),'" no tiene el formato de objeto con preguntas esperado.']})]})]},Pe):null})]}),c.jsxs("div",{className:"pt-6 flex justify-end gap-4",children:[c.jsx("button",{onClick:()=>N(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300",children:"Cancelar"}),c.jsx("button",{onClick:ke,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700",children:"Confirmar y Asignar"})]})]})},Wt=()=>c.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Actividades Remotas"}),c.jsx("button",{onClick:()=>p(!0),className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Crear Nueva"})]}),c.jsx("div",{className:"space-y-4",children:e.length>0?e.map(De=>{var ot,vt;const Pe=[];(ot=De.cursosDestino)!=null&&ot.length&&Pe.push(`Cursos: ${De.cursosDestino.join(", ")}`),(vt=De.estudiantesDestino)!=null&&vt.length&&Pe.push(`Estudiantes: ${De.estudiantesDestino.length}`);const Be=Pe.length?Pe.join(" | "):`Todo ${De.nivel}`;return c.jsx("div",{className:"p-4 border rounded-lg bg-slate-50 hover:bg-slate-100 transition-colors",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-bold text-slate-800",children:[De.asignatura," - ",De.tipos.join(", ")]}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Destino: ",Be," | Creado: ",new Date(De.fechaCreacion).toLocaleDateString("es-CL")]})]}),c.jsx("button",{onClick:()=>u(De),className:"text-blue-600 hover:text-blue-800 font-semibold text-sm",children:"Ver Resultados"})]})},De.id)}):c.jsx("p",{className:"text-slate-500 text-center py-6",children:'No hay actividades creadas. Haga clic en "Crear Nueva" para comenzar.'})})]});return _?c.jsx("div",{className:"text-center py-10",children:"Cargando datos..."}):c.jsxs("div",{className:"animate-fade-in",children:[Et(),R?Ct():C?Mt():l||d?Jt():Q==="pruebas"?x?Tt():Dt():m?Pt():Wt()]})},Dke="actividades_remotas",Pke="respuestas_actividades",Rke=e=>{var r,n,a,s,i,o;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion,plazoEntrega:((s=(a=t.plazoEntrega)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString().split("T")[0])||t.plazoEntrega,fechaCompletado:((o=(i=t.fechaCompletado)==null?void 0:i.toDate)==null?void 0:o.call(i).toISOString())||t.fechaCompletado}},Lke=(e,t)=>{const r=tr(Ft(Bt,Dke),qr("fechaCreacion","desc"));return br(r,a=>{const i=a.docs.map(o=>Rke(o)).filter(o=>{var l,u,d,f,m;if(!((l=o.cursosDestino)!=null&&l.length)&&!((u=o.estudiantesDestino)!=null&&u.length)){const p=o.nivel.charAt(0);return(d=e.curso)==null?void 0:d.startsWith(p)}return!!((f=o.cursosDestino)!=null&&f.includes(e.curso||"")||(m=o.estudiantesDestino)!=null&&m.includes(e.nombreCompleto))});t(i)},a=>{console.error("Error al suscribirse a las actividades disponibles:",a),t([])})},Uke=async e=>{try{const t={...e,fechaCompletado:fr.fromDate(new Date(e.fechaCompletado))};return(await xa(Ft(Bt,Pke),t)).id}catch(t){throw console.error("Error al guardar la respuesta de actividad:",t),new Error("No se pudo guardar la respuesta de la actividad.")}},Mke=(e,t)=>{if(t===0)return"1.0";const n=t*.6;let a=1;return e>=n?a=4+(e-n)*3/(t-n):a=1+e*3/n,a=Math.max(1,Math.min(7,a)),a.toFixed(1)},QI=()=>c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Qke=({actividad:e,onComplete:t,currentUser:r})=>{const[n,a]=k.useState({}),[s,i]=k.useState(!1),[o,l]=k.useState(!1),[u,d]=k.useState(!1),f=`progress-${r.id}-${e.id}`;k.useEffect(()=>{const g=localStorage.getItem(f);g&&a(JSON.parse(g))},[f]);const m=(g,b)=>{a(y=>{const _={...y,[g]:b};return localStorage.setItem(f,JSON.stringify(_)),_})},p=()=>{l(!0),localStorage.setItem(f,JSON.stringify(n)),setTimeout(()=>{l(!1),d(!0),setTimeout(()=>d(!1),2e3)},1e3)},x=async()=>{i(!0);let g=0,b=0;const y={items:[]};e.tipos.forEach(S=>{const I=e.generatedContent[S],T=n[S];(S==="Quiz"||S==="Comprensión de Lectura")&&(S==="Quiz"?I:I.preguntas).forEach((w,C)=>{const N=T==null?void 0:T[C],R=N===w.respuestaCorrecta,D=R?w.puntaje||1:0;g+=D,b+=w.puntaje||1,y.items.push({pregunta:w.pregunta,respuestaUsuario:N||"No respondida",respuestaCorrecta:w.respuestaCorrecta,esCorrecta:R,puntajeObtenido:D,tipo:S})})});const _={puntaje:g,puntajeMaximo:b,respuestas:n,nota:Mke(g,b)};localStorage.removeItem(f),t(_,y)};return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"p-4 bg-sky-50 border-l-4 border-sky-400 rounded-r-lg",children:[c.jsx("h2",{className:"text-2xl font-bold text-sky-800 mb-2",children:e.asignatura}),c.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:e.introduccion})]}),e.tipos.map(g=>{const b=e.generatedContent[g];if(!b)return null;switch(g){case"Quiz":case"Comprensión de Lectura":{const y=g==="Quiz",_=y?b:b.preguntas;return c.jsxs("div",{className:"p-6 border rounded-lg bg-white shadow-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-700",children:g}),!y&&c.jsx("div",{className:"mb-6 p-4 rounded bg-slate-50 border whitespace-pre-wrap text-slate-800 leading-relaxed",children:b.texto}),c.jsx("div",{className:"space-y-6",children:_.map((S,I)=>c.jsxs("div",{className:"border-t pt-4 first:border-t-0 first:pt-0",children:[c.jsx("p",{className:"font-semibold text-slate-800",children:`${I+1}. ${S.pregunta}`}),c.jsx("div",{className:"mt-2 space-y-2",children:S.opciones.map((T,F)=>{var w;return c.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-amber-50 cursor-pointer transition-colors has-[:checked]:bg-amber-100 has-[:checked]:font-semibold",children:[c.jsx("input",{type:"radio",name:`q-${g}-${I}`,value:T,checked:((w=n[g])==null?void 0:w[I])===T,onChange:()=>m(g,{...n[g]||{},[I]:T}),className:"h-5 w-5 text-amber-500 focus:ring-amber-400 border-slate-300"}),c.jsx("span",{children:T})]},F)})})]},I))})]},g)}default:return null}}),c.jsxs("div",{className:"text-right mt-8 flex justify-end gap-4",children:[c.jsx("button",{onClick:p,disabled:s||o||u,className:"bg-sky-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-sky-700 disabled:bg-slate-400 flex items-center justify-center min-w-[180px] transition-all",children:o?c.jsxs(c.Fragment,{children:[c.jsx(QI,{})," Guardando..."]}):u?"✓ Guardado":"Guardar Progreso"}),c.jsx("button",{onClick:x,disabled:s||o,className:"bg-slate-800 text-white font-bold py-3 px-8 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center min-w-[180px]",children:s?c.jsxs(c.Fragment,{children:[c.jsx(QI,{})," Evaluando..."]}):"Entregar Actividad"})]})]})},Hke=({currentUser:e})=>{const[t,r]=k.useState(!0),[n,a]=k.useState("list"),[s,i]=k.useState([]),[o,l]=k.useState(null),[u,d]=k.useState(null),[f,m]=k.useState(null);k.useEffect(()=>{r(!0);const g=Lke(e,b=>{i(b),r(!1)});return()=>g()},[e]);const p=g=>{l(g),a("activity")},x=k.useCallback(async(g,b)=>{if(!o)return;const y={actividadId:o.id,estudianteId:e.id,fechaCompletado:new Date().toISOString(),...g,retroalimentacionDetallada:b};try{await Uke(y),d({id:"",...y}),a("result")}catch(_){console.error("Error al guardar la respuesta:",_),m("Hubo un problema al guardar tu actividad. Por favor, inténtalo de nuevo.")}},[o,e.id]);if(t)return c.jsxs("div",{className:"flex justify-center items-center h-64",children:[c.jsx(QI,{})," ",c.jsx("span",{className:"ml-2",children:"Cargando actividades..."})]});if(n==="activity"&&o)return c.jsx(Qke,{actividad:o,onComplete:x,currentUser:e});if(n==="result"&&u){const g=u.nota;return c.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Resultados de la Actividad"}),c.jsxs("div",{className:"flex items-baseline gap-4 mb-6 p-4 bg-slate-50 rounded-lg border",children:[c.jsxs("p",{className:"text-lg text-slate-600",children:["Puntaje: ",c.jsxs("span",{className:"font-bold text-2xl text-slate-800",children:[u.puntaje," / ",u.puntajeMaximo]})]}),c.jsxs("p",{className:"text-lg text-slate-600",children:["Nota: ",c.jsx("span",{className:`font-bold text-2xl ${parseFloat(g)>=4?"text-green-600":"text-red-600"}`,children:g})]})]}),u.retroalimentacionDetallada&&u.retroalimentacionDetallada.items.length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-2xl font-semibold text-slate-700 mt-6 mb-4",children:"Revisión de Respuestas"}),u.retroalimentacionDetallada.items.map((b,y)=>c.jsxs("div",{className:`p-4 border-l-4 rounded-r-lg ${b.esCorrecta?"border-green-500 bg-green-50":"border-red-500 bg-red-50"}`,children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("p",{className:"font-semibold text-slate-800 flex-1 pr-4",children:[y+1,". ",b.pregunta]}),c.jsx("span",{className:"font-bold text-lg",children:b.esCorrecta?"✅":"❌"})]}),c.jsxs("div",{className:"mt-2 text-sm pl-4",children:[c.jsxs("p",{className:"text-slate-700",children:["Tu respuesta: ",c.jsx("span",{className:"font-medium",children:b.respuestaUsuario})]}),!b.esCorrecta&&c.jsxs("p",{className:"text-slate-700",children:["Respuesta correcta: ",c.jsx("span",{className:"font-medium text-green-700",children:b.respuestaCorrecta})]})]})]},y))]}),c.jsx("button",{onClick:()=>{a("list"),l(null),d(null)},className:"mt-8 w-full bg-slate-800 text-white font-bold py-3 rounded-lg hover:bg-slate-700 transition-colors",children:"Volver a la Lista de Actividades"})]})}return c.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Auto-aprendizaje"}),c.jsx("p",{className:"text-slate-500 mb-6",children:"Completa las actividades asignadas por tus profesores."}),f&&c.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:f}),c.jsx("div",{className:"space-y-4",children:s.length>0?s.map(g=>c.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 flex flex-col sm:flex-row justify-between sm:items-center gap-4 hover:bg-slate-100 transition-colors",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-bold text-slate-800",children:[g.asignatura," - ",g.tipos.join(", ")]}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Plazo: ",g.plazoEntrega]})]}),c.jsx("button",{onClick:()=>p(g),className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 w-full sm:w-auto",children:"Comenzar"})]},g.id)):c.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[c.jsx("div",{className:"text-6xl mb-4",children:"📚"}),c.jsx("h3",{className:"text-xl font-semibold text-slate-700",children:"¡Todo al día!"}),c.jsx("p",{className:"text-slate-500 mt-1",children:"No hay actividades nuevas disponibles en este momento."})]})})]})},P5="estudiantes_inclusion",Vke="usuarios",EZ=e=>{const t=e.data();return{id:e.id,...t}},zke=e=>{const t=tr(Ft(Bt,P5));return br(t,n=>{const a=n.docs.map(s=>EZ(s));e(a)},n=>{console.error("Error al suscribirse a estudiantes de inclusión:",n),e([])})},$ke=e=>{const t=tr(Ft(Bt,Vke));return br(t,n=>{const a=n.docs.map(s=>EZ(s));e(a)},n=>{console.error("Error al suscribirse a todos los usuarios:",n),e([])})},Kke=async e=>{try{return(await xa(Ft(Bt,P5),e)).id}catch(t){throw console.error("Error al agregar estudiante a inclusión:",t),new Error("No se pudo agregar al estudiante.")}},Gke=async(e,t)=>{try{const{id:r,...n}=t,a=Er(Bt,P5,e);await io(a,n)}catch(r){throw console.error("Error al actualizar estudiante de inclusión:",r),new Error("No se pudo actualizar la ficha del estudiante.")}},qke=async e=>{try{const t=Er(Bt,P5,e);await pi(t)}catch(t){throw console.error("Error al eliminar estudiante de inclusión:",t),new Error("No se pudo eliminar al estudiante.")}},Wke=({estudiantes:e})=>{const t=k.useMemo(()=>{const o=e.reduce((l,u)=>(l[u.curso]=(l[u.curso]||0)+1,l),{});return Object.entries(o).map(([l,u])=>({curso:l,cantidad:u})).sort((l,u)=>l.curso.localeCompare(u.curso))},[e]),r=k.useMemo(()=>{const o=e.reduce((l,u)=>{var f;const d=((f=u.curso.match(/\d+/))==null?void 0:f[0])||"Sin nivel";return l[d]=(l[d]||0)+1,l},{});return Object.entries(o).map(([l,u])=>({nivel:l,cantidad:u})).sort((l,u)=>l.nivel==="Sin nivel"?1:u.nivel==="Sin nivel"?-1:parseInt(l.nivel)-parseInt(u.nivel))},[e]),n=k.useMemo(()=>{const o=e.reduce((l,u)=>(l[u.dificultad]=(l[u.dificultad]||0)+1,l),{});return Object.entries(o).map(([l,u])=>({diagnostico:l,cantidad:u})).sort((l,u)=>u.cantidad-l.cantidad)},[e]),a=k.useMemo(()=>{const o=e.reduce((u,d)=>{var f;return u+(((f=d.intervenciones)==null?void 0:f.length)||0)},0),l=e.length>0?(o/e.length).toFixed(1):"0";return{total:o,promedio:l}},[e]),s=k.useMemo(()=>e.reduce((o,l)=>o+(l.alertas||[]).filter(u=>!u.resuelta).length,0),[e]),i=Math.max(0,...t.map(o=>o.cantidad),...r.map(o=>o.cantidad),...n.map(o=>o.cantidad));return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Dashboard PIE"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:e.length}),c.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:"Total Estudiantes"})]}),c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:a.total}),c.jsx("div",{className:"text-sm text-green-800 dark:text-green-300",children:"Intervenciones"})]}),c.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:s}),c.jsx("div",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"Alertas Pendientes"})]}),c.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:a.promedio}),c.jsx("div",{className:"text-sm text-purple-800 dark:text-purple-300",children:"Promedio Intervenciones"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-3",children:"Por Curso"}),c.jsx("div",{className:"space-y-2",children:t.map(({curso:o,cantidad:l})=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-300 w-12",children:o}),c.jsx("div",{className:"flex-1 bg-slate-200 dark:bg-slate-700 rounded-full h-4 overflow-hidden",children:c.jsx("div",{className:"bg-blue-500 h-full transition-all duration-500",style:{width:`${i?l/i*100:0}%`}})}),c.jsx("div",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 w-6",children:l})]},o))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-3",children:"Por Nivel"}),c.jsx("div",{className:"space-y-2",children:r.map(({nivel:o,cantidad:l})=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300 w-12",children:[o,"°"]}),c.jsx("div",{className:"flex-1 bg-slate-200 dark:bg-slate-700 rounded-full h-4 overflow-hidden",children:c.jsx("div",{className:"bg-green-500 h-full transition-all duration-500",style:{width:`${i?l/i*100:0}%`}})}),c.jsx("div",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 w-6",children:l})]},o))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-3",children:"Por Diagnóstico"}),c.jsx("div",{className:"space-y-2",children:n.map(({diagnostico:o,cantidad:l})=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-300 w-16 text-right truncate",title:o,children:o}),c.jsx("div",{className:"flex-1 bg-slate-200 dark:bg-slate-700 rounded-full h-4 overflow-hidden",children:c.jsx("div",{className:"bg-purple-500 h-full transition-all duration-500",style:{width:`${i?l/i*100:0}%`}})}),c.jsx("div",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 w-6",children:l})]},o))})]})]})]})},P9=({estudiantesDisponibles:e,onSelect:t})=>{const[r,n]=k.useState(""),[a,s]=k.useState(""),[i,o]=k.useState(!1),l=k.useMemo(()=>e.filter(f=>{const m=f.nombreCompleto.toLowerCase().includes(r.toLowerCase()),p=a===""||f.curso===a;return m&&p}).sort((f,m)=>f.nombreCompleto.localeCompare(m.nombreCompleto)),[e,r,a]),u=k.useMemo(()=>[...new Set(e.map(m=>m.curso).filter(Boolean))].sort(),[e]),d=f=>{t(f),n(""),s(""),o(!1)};return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Agregar Estudiante al PIE"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Buscar por nombre"}),c.jsx("input",{type:"text",placeholder:"Escriba el nombre del estudiante...",value:r,onChange:f=>{n(f.target.value),o(f.target.value.length>0||a!=="")},onFocus:()=>o(r.length>0||a!==""),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filtrar por curso"}),c.jsxs("select",{value:a,onChange:f=>{s(f.target.value),o(r.length>0||f.target.value!=="")},className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Todos los cursos"}),u.map(f=>c.jsx("option",{value:f,children:f},f))]})]})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-600 dark:text-slate-400",children:[c.jsxs("span",{children:["Estudiantes disponibles: ",e.length]}),c.jsxs("span",{children:["Resultados filtrados: ",l.length]})]}),c.jsx("button",{onClick:()=>o(!i),className:"w-full bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200 py-2 px-4 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:i?"Ocultar resultados":`Ver ${l.length} estudiantes disponibles`}),i&&c.jsx("div",{className:"border dark:border-slate-600 rounded-lg max-h-80 overflow-y-auto",children:l.length===0?c.jsx("div",{className:"p-4 text-center text-slate-500 dark:text-slate-400",children:r||a?"No se encontraron estudiantes con los criterios de búsqueda.":"No hay estudiantes disponibles."}):c.jsx("div",{className:"divide-y dark:divide-slate-600",children:l.map(f=>c.jsx("div",{className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition-colors",onClick:()=>d(f),children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:f.nombreCompleto}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:f.curso})]}),c.jsx("button",{className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 text-xl",children:"➕"})]})},f.id))})}),r&&l.length===1&&c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[c.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 mb-2",children:"💡 ¡Solo hay un resultado! Haga clic para agregarlo directamente:"}),c.jsxs("button",{onClick:()=>d(l[0]),className:"text-sm bg-blue-500 text-white px-3 py-1.5 rounded-md hover:bg-blue-600 transition-colors",children:["Agregar a ",l[0].nombreCompleto]})]})]})]})},Xke=({student:e,onClose:t,onConfirm:r})=>{const[n,a]=k.useState(u_[0]),s=()=>r(e,n);return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg p-6 animate-fade-in-up",onClick:i=>i.stopPropagation(),children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:["Agregar a ",e.nombreCompleto," al PIE"]}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Por favor, seleccione la dificultad de aprendizaje principal para este estudiante."}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"dificultad",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Dificultad de Aprendizaje"}),c.jsx("select",{id:"dificultad",value:n,onChange:i=>a(i.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:u_.map(i=>c.jsx("option",{value:i,children:i},i))})]}),c.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:t,className:"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:"Cancelar"}),c.jsx("button",{type:"button",onClick:s,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 transition-colors",children:"Confirmar e Ingresar"})]})]})})},Yke=({student:e,onClose:t,onSave:r,profesores:n,getDocenteEmail:a})=>{const[s,i]=k.useState("intervenciones"),[o,l]=k.useState(e);k.useEffect(()=>l(e),[e]);const[u,d]=k.useState(null),f={responsable:"",accion:"",observaciones:""},[m,p]=k.useState(f),[x,g]=k.useState({trimestre:"T1",meta:""}),[b,y]=k.useState({titulo:"",fecha:new Date().toISOString().split("T")[0]}),[_,S]=k.useState(null),[I,T]=k.useState(!1),F={motivo:"",acuerdos:"",asistentes:""},[w,C]=k.useState(F),N=()=>{r(o),t()},R=async()=>{var ke;if(!m.responsable||!m.accion){alert("Responsable y Acción son campos obligatorios.");return}let ne,Fe=!1;u?ne=(o.intervenciones||[]).map(pe=>pe.id===u.id?{...pe,...m}:pe):(Fe=!0,ne=[{id:crypto.randomUUID(),fecha:new Date().toISOString(),...m},...o.intervenciones||[]]);const Le=ne.sort((pe,je)=>new Date(je.fecha).getTime()-new Date(pe.fecha).getTime());if(l(pe=>({...pe,intervenciones:Le})),Fe)try{await Wpe({docenteNombre:m.responsable,docenteEmail:a?a(m.responsable):void 0,docenteEmailLower:(ke=a?a(m.responsable):void 0)==null?void 0:ke.toLowerCase(),tipo:"nueva_intervencion",titulo:"📋 Nueva Intervención Asignada",mensaje:`Se te ha asignado una nueva intervención para el estudiante ${o.nombre}. Acción: ${m.accion}`,estudianteNombre:o.nombre,estudianteId:o.id,accionRequerida:m.accion}),alert(`✅ Intervención registrada y notificación enviada a ${m.responsable}`)}catch(pe){console.error("Error al crear notificación:",pe),alert("⚠️ Intervención guardada, pero no se pudo enviar la notificación al docente.")}p(f),d(null)},D=ne=>{d(ne),p({responsable:ne.responsable,accion:ne.accion,observaciones:ne.observaciones})},O=ne=>{window.confirm("¿Eliminar esta intervención?")&&l(Fe=>({...Fe,intervenciones:(Fe.intervenciones||[]).filter(Le=>Le.id!==ne)}))},M=ne=>{const{name:Fe,value:Le}=ne.target;l(ke=>({...ke,[Fe]:Le,fechaActualizacionApoyos:new Date().toISOString()}))},Q=()=>{if(!x.meta.trim())return;const ne={...x,id:crypto.randomUUID(),cumplida:!1};l(Fe=>({...Fe,metasProgreso:[...Fe.metasProgreso||[],ne]})),g({trimestre:"T1",meta:""})},ee=ne=>{l(Fe=>({...Fe,metasProgreso:(Fe.metasProgreso||[]).map(Le=>Le.id===ne?{...Le,cumplida:!Le.cumplida}:Le)}))},W=ne=>{l(Fe=>({...Fe,metasProgreso:(Fe.metasProgreso||[]).filter(Le=>Le.id!==ne)}))},Z=k.useMemo(()=>{const ne=o.metasProgreso||[];if(ne.length===0)return{percent:0,color:"bg-slate-300"};const Fe=ne.filter(pe=>pe.cumplida).length,Le=Math.round(Fe/ne.length*100),ke=Le<40?"bg-red-500":Le<75?"bg-yellow-500":"bg-green-500";return{percent:Le,color:ke}},[o.metasProgreso]),V=k.useMemo(()=>{if(!o.fechaActualizacionApoyos)return!0;const ne=new Date(o.fechaActualizacionApoyos),Fe=new Date;return Fe.setMonth(Fe.getMonth()-3),ne<Fe},[o.fechaActualizacionApoyos]),q=()=>{if(!b.titulo.trim()||!b.fecha)return;const ne={...b,id:crypto.randomUUID(),resuelta:!1};l(Fe=>({...Fe,alertas:[...Fe.alertas||[],ne].sort((Le,ke)=>new Date(Le.fecha).getTime()-new Date(ke.fecha).getTime())})),y({titulo:"",fecha:new Date().toISOString()})},K=ne=>{l(Fe=>({...Fe,alertas:(Fe.alertas||[]).map(Le=>Le.id===ne?{...Le,resuelta:!Le.resuelta}:Le)}))},J=ne=>{l(Fe=>({...Fe,alertas:(Fe.alertas||[]).filter(Le=>Le.id!==ne)}))},P=ne=>{ne.target.files&&ne.target.files[0]&&S(ne.target.files[0])},G=()=>{if(!_)return;T(!0);const ne=new FileReader;ne.readAsDataURL(_),ne.onloadend=()=>{const Fe={id:crypto.randomUUID(),nombre:_.name,url:ne.result,fechaSubida:new Date().toISOString()};l(Le=>({...Le,archivos:[Fe,...Le.archivos||[]]})),S(null),T(!1)},ne.onerror=()=>{alert("Error al leer el archivo."),T(!1)}},Y=ne=>{window.confirm("¿Eliminar este archivo?")&&l(Fe=>({...Fe,archivos:(Fe.archivos||[]).filter(Le=>Le.id!==ne)}))},re=()=>{if(!w.motivo.trim()||!w.asistentes.trim()){alert("Motivo y asistentes son obligatorios.");return}const ne={...w,id:crypto.randomUUID(),fecha:new Date().toISOString()};l(Fe=>({...Fe,reuniones:[ne,...Fe.reuniones||[]].sort((Le,ke)=>new Date(ke.fecha).getTime()-new Date(Le.fecha).getTime())})),C(F)},ie=ne=>{window.confirm("¿Eliminar este registro de reunión?")&&l(Fe=>({...Fe,reuniones:(Fe.reuniones||[]).filter(Le=>Le.id!==ne)}))},de=()=>{var dt,Et,Tt;const ne=new mr("p","mm","a4"),Fe=20,Le=ne.internal.pageSize.getWidth(),ke=ne.internal.pageSize.getHeight();let pe=Fe;const je=Ct=>{Ct.setFontSize(10),Ct.setTextColor(100),Ct.text("Ficha de Seguimiento - Módulo Inclusión",Fe,15)};je(ne),ne.setFontSize(18),ne.setFont("helvetica","bold"),ne.setTextColor(40),ne.text(o.nombre,Fe,pe+10),pe+=15,ne.setFontSize(11),ne.setFont("helvetica","normal"),ne.setTextColor(80),ne.text(`Curso: ${o.curso}`,Fe,pe),ne.text(`Dificultad: ${o.dificultad}`,Fe,pe+6),pe+=15;const He=Ct=>{pe+Ct>ke-Fe&&(ne.addPage(),je(ne),pe=Fe)},Xe=Ct=>{He(15),ne.setFontSize(14),ne.setFont("helvetica","bold"),ne.text(Ct,Fe,pe),pe+=10};if((dt=o.intervenciones)!=null&&dt.length&&(Xe("Historial de Intervenciones"),nl(ne,{startY:pe,head:[["Fecha","Responsable","Acción","Observaciones"]],body:o.intervenciones.map(Ct=>[new Date(Ct.fecha).toLocaleDateString("es-CL"),Ct.responsable,Ct.accion,Ct.observaciones||""]),theme:"grid",didDrawPage:()=>je(ne)}),pe=ne.lastAutoTable.finalY+10),o.adaptacionesCurriculares||o.apoyosRecibidos){He(30),Xe("Seguimiento y Apoyos"),ne.setFontSize(11),ne.setFont("helvetica","normal");const Ct=`Adaptaciones: ${o.adaptacionesCurriculares||"No registradas."}
Apoyos: ${o.apoyosRecibidos||"No registrados."}`,Dt=ne.splitTextToSize(Ct,Le-Fe*2);ne.text(Dt,Fe,pe),pe+=Dt.length*5+10}(Et=o.metasProgreso)!=null&&Et.length&&(He(30),Xe("Metas de Progreso"),nl(ne,{startY:pe,head:[["Trimestre","Meta","Estado"]],body:o.metasProgreso.map(Ct=>[Ct.trimestre,Ct.meta,Ct.cumplida?"Cumplida":"Pendiente"]),theme:"grid",didDrawPage:()=>je(ne)}),pe=ne.lastAutoTable.finalY+10),(Tt=o.reuniones)!=null&&Tt.length&&(Xe("Reuniones con Apoderados"),nl(ne,{startY:pe,head:[["Fecha","Motivo","Acuerdos","Asistentes"]],body:o.reuniones.map(Ct=>[new Date(Ct.fecha).toLocaleDateString("es-CL"),Ct.motivo,Ct.acuerdos||"",Ct.asistentes]),theme:"grid",didDrawPage:()=>je(ne)})),ne.save(`Ficha_Inclusion_${o.nombre.replace(/\s/g,"_")}.pdf`)},me=()=>c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:u?"Editando Intervención":"Registrar Nueva Intervención"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Responsable ",!u&&"(Se enviará notificación automática)"]}),c.jsxs("select",{value:m.responsable,onChange:ne=>p(Fe=>({...Fe,responsable:ne.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Seleccione Responsable..."}),n.map(ne=>c.jsx("option",{value:ne,children:ne},ne))]}),m.responsable&&!u&&c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-2 rounded text-sm text-blue-800 dark:text-blue-200",children:["🔔 Se enviará una notificación a ",m.responsable," cuando se guarde la intervención"]})]}),c.jsx("textarea",{value:m.accion,onChange:ne=>p(Fe=>({...Fe,accion:ne.target.value})),placeholder:"Acción realizada...",rows:2,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("textarea",{value:m.observaciones,onChange:ne=>p(Fe=>({...Fe,observaciones:ne.target.value})),placeholder:"Observaciones adicionales...",rows:2,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsxs("div",{className:"flex justify-end gap-2",children:[u&&c.jsx("button",{onClick:()=>{d(null),p(f)},className:"text-sm bg-slate-200 dark:bg-slate-600 px-3 py-1 rounded-md hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:"Cancelar Edición"}),c.jsx("button",{onClick:R,className:"text-sm bg-amber-500 text-white font-semibold px-3 py-1 rounded-md hover:bg-amber-600 transition-colors",disabled:!m.responsable||!m.accion,children:u?"Actualizar":"Guardar y Notificar"})]})]}),c.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[(o.intervenciones||[]).map(ne=>c.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-grow",children:[c.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:ne.accion}),ne.observaciones&&c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:ne.observaciones}),c.jsxs("div",{className:"flex items-center justify-between mt-2",children:[c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[new Date(ne.fecha).toLocaleString("es-CL")," - ",ne.responsable]}),c.jsx("span",{className:"text-xs bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300 px-2 py-1 rounded-full",children:"✓ Notificado"})]})]}),c.jsxs("div",{className:"flex-shrink-0 ml-4 flex gap-2",children:[c.jsx("button",{onClick:()=>D(ne),className:"text-blue-500 hover:text-blue-700 p-1 rounded transition-colors",title:"Editar intervención",children:"✏️"}),c.jsx("button",{onClick:()=>O(ne.id),className:"text-red-500 hover:text-red-700 p-1 rounded transition-colors",title:"Eliminar intervención",children:"🗑️"})]})]})},ne.id)),(!o.intervenciones||o.intervenciones.length===0)&&c.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[c.jsx("div",{className:"text-4xl mb-2",children:"📋"}),c.jsx("p",{children:"No hay intervenciones registradas"}),c.jsx("p",{className:"text-sm",children:"Registra la primera intervención arriba"})]})]})]}),ue=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg border dark:border-slate-600 space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Adaptaciones y Apoyos"}),V&&c.jsx("span",{title:"Información no actualizada en los últimos 3 meses",className:"text-yellow-500 text-xl cursor-help",children:"⚠️"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Adaptaciones Curriculares Implementadas"}),c.jsx("textarea",{name:"adaptacionesCurriculares",value:o.adaptacionesCurriculares||"",onChange:M,rows:3,className:"w-full mt-1 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",placeholder:"Describe las adaptaciones curriculares implementadas..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Apoyos Recibidos (PIE, dupla, etc.)"}),c.jsx("textarea",{name:"apoyosRecibidos",value:o.apoyosRecibidos||"",onChange:M,rows:3,className:"w-full mt-1 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",placeholder:"Describe los apoyos que recibe el estudiante..."})]})]}),c.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg border dark:border-slate-600 space-y-3",children:[c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Indicadores de Progreso"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Progreso Anual de Metas: ",Z.percent,"%"]}),c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-4 dark:bg-slate-700",children:c.jsx("div",{className:`${Z.color} h-4 rounded-full transition-all duration-500`,style:{width:`${Z.percent}%`}})})]}),c.jsxs("div",{className:"flex gap-2 items-end pt-2",children:[c.jsxs("select",{value:x.trimestre,onChange:ne=>g(Fe=>({...Fe,trimestre:ne.target.value})),className:"border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"T1",children:"T1"}),c.jsx("option",{value:"T2",children:"T2"}),c.jsx("option",{value:"T3",children:"T3"})]}),c.jsx("input",{value:x.meta,onChange:ne=>g(Fe=>({...Fe,meta:ne.target.value})),placeholder:"Definir nueva meta trimestral...",className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("button",{onClick:Q,className:"bg-slate-200 dark:bg-slate-600 px-3 py-2 rounded-md font-semibold text-sm hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",disabled:!x.meta.trim(),children:"Agregar"})]}),c.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[(o.metasProgreso||[]).map(ne=>c.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 dark:bg-slate-700/50 rounded",children:[c.jsx("input",{type:"checkbox",checked:ne.cumplida,onChange:()=>ee(ne.id),className:"h-5 w-5 rounded text-amber-500"}),c.jsxs("span",{className:`flex-grow text-sm ${ne.cumplida?"line-through text-slate-500":"text-slate-800 dark:text-slate-200"}`,children:[c.jsxs("strong",{children:[ne.trimestre,":"]})," ",ne.meta]}),c.jsx("button",{onClick:()=>W(ne.id),className:"text-red-500 text-sm hover:text-red-700 p-1 rounded transition-colors",title:"Eliminar meta",children:"🗑️"})]},ne.id)),(!o.metasProgreso||o.metasProgreso.length===0)&&c.jsxs("div",{className:"text-center py-6 text-slate-500 dark:text-slate-400",children:[c.jsx("div",{className:"text-3xl mb-2",children:"🎯"}),c.jsx("p",{children:"No hay metas definidas"}),c.jsx("p",{className:"text-sm",children:"Agrega la primera meta trimestral"})]})]})]})]}),ye=()=>c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Alertas y Recordatorios"}),c.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[c.jsx("h5",{className:"font-medium",children:"Agendar Nueva Alerta"}),c.jsx("input",{type:"text",value:b.titulo,onChange:ne=>y(Fe=>({...Fe,titulo:ne.target.value})),placeholder:"Título de la alerta",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700"}),c.jsx("input",{type:"date",value:new Date(b.fecha).toISOString().slice(0,10),onChange:ne=>y(Fe=>({...Fe,fecha:ne.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700"}),c.jsx("button",{onClick:q,className:"w-full text-sm bg-amber-500 text-white font-semibold px-3 py-1.5 rounded-md hover:bg-amber-600 transition-colors",disabled:!b.titulo.trim()||!b.fecha,children:"Agendar"})]}),c.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[(o.alertas||[]).map(ne=>c.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-slate-800 rounded border dark:border-slate-600",children:[c.jsx("input",{type:"checkbox",checked:ne.resuelta,onChange:()=>K(ne.id),className:"h-5 w-5 rounded text-amber-500"}),c.jsxs("span",{className:`flex-grow text-sm ${ne.resuelta?"line-through text-slate-500":"text-slate-800 dark:text-slate-200"}`,children:[ne.titulo," (",new Date(ne.fecha+"T12:00:00").toLocaleDateString("es-CL"),")"]}),c.jsx("button",{onClick:()=>J(ne.id),className:"text-red-500 text-sm hover:text-red-700 p-1 rounded transition-colors",title:"Eliminar alerta",children:"🗑️"})]},ne.id)),(!o.alertas||o.alertas.length===0)&&c.jsxs("div",{className:"text-center py-6 text-slate-500 dark:text-slate-400",children:[c.jsx("div",{className:"text-3xl mb-2",children:"🔔"}),c.jsx("p",{children:"No hay alertas programadas"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Archivos Adjuntos"}),c.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[c.jsx("h5",{className:"font-medium",children:"Subir Nuevo Archivo"}),c.jsx("input",{type:"file",onChange:P,className:"w-full text-sm",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt"}),c.jsx("button",{onClick:G,disabled:!_||I,className:"w-full text-sm bg-blue-500 text-white font-semibold px-3 py-1.5 rounded-md disabled:bg-slate-400 hover:bg-blue-600 transition-colors",children:I?"Subiendo...":"Subir"}),_&&c.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:["Archivo seleccionado: ",_.name]})]}),c.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[(o.archivos||[]).map(ne=>c.jsxs("div",{className:"flex justify-between items-center p-2 bg-white dark:bg-slate-800 rounded border dark:border-slate-600",children:[c.jsxs("a",{href:ne.url,download:ne.nombre,className:"text-sm text-blue-600 hover:underline truncate flex-grow",title:ne.nombre,children:["📎 ",ne.nombre]}),c.jsx("button",{onClick:()=>Y(ne.id),className:"text-red-500 text-sm ml-2 hover:text-red-700 p-1 rounded transition-colors",title:"Eliminar archivo",children:"🗑️"})]},ne.id)),(!o.archivos||o.archivos.length===0)&&c.jsxs("div",{className:"text-center py-6 text-slate-500 dark:text-slate-400",children:[c.jsx("div",{className:"text-3xl mb-2",children:"📁"}),c.jsx("p",{children:"No hay archivos adjuntos"})]})]})]})]}),Ie=()=>c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Registrar Nueva Reunión"}),c.jsx("input",{value:w.motivo,onChange:ne=>C(Fe=>({...Fe,motivo:ne.target.value})),placeholder:"Motivo de la reunión...",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("textarea",{value:w.acuerdos,onChange:ne=>C(Fe=>({...Fe,acuerdos:ne.target.value})),placeholder:"Acuerdos tomados en la reunión...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("input",{value:w.asistentes,onChange:ne=>C(Fe=>({...Fe,asistentes:ne.target.value})),placeholder:"Asistentes (separados por coma)...",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("div",{className:"text-right",children:c.jsx("button",{onClick:re,className:"text-sm bg-amber-500 text-white font-semibold px-3 py-1 rounded-md hover:bg-amber-600 transition-colors",disabled:!w.motivo.trim()||!w.asistentes.trim(),children:"Guardar Reunión"})})]}),c.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[(o.reuniones||[]).map(ne=>c.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-grow",children:[c.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:ne.motivo}),ne.acuerdos&&c.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:[c.jsx("strong",{children:"Acuerdos:"})," ",ne.acuerdos]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:[new Date(ne.fecha).toLocaleString("es-CL")," - Asistentes: ",ne.asistentes]})]}),c.jsx("button",{onClick:()=>ie(ne.id),className:"text-red-500 flex-shrink-0 ml-4 hover:text-red-700 p-1 rounded transition-colors",title:"Eliminar reunión",children:"🗑️"})]})},ne.id)),(!o.reuniones||o.reuniones.length===0)&&c.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[c.jsx("div",{className:"text-4xl mb-2",children:"👥"}),c.jsx("p",{children:"No hay reuniones registradas"}),c.jsx("p",{className:"text-sm",children:"Registra la primera reunión con apoderados"})]})]})]});return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col animate-fade-in-up",onClick:ne=>ne.stopPropagation(),children:[c.jsxs("div",{className:"p-6 border-b dark:border-slate-700 flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:["Ficha de Seguimiento: ",e.nombre]}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[e.curso," - ",e.dificultad]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:de,className:"text-sm bg-red-100 text-red-700 font-semibold px-3 py-1.5 rounded-md hover:bg-red-200 transition-colors",children:"📄 Exportar PDF"}),c.jsx("button",{onClick:t,className:"text-2xl text-slate-500 hover:text-slate-800 dark:hover:text-slate-200 transition-colors",children:"×"})]})]}),c.jsx("div",{className:"border-b dark:border-slate-700 px-4",children:c.jsx("nav",{className:"-mb-px flex space-x-6",children:["intervenciones","seguimiento","reuniones","alertas"].map(ne=>c.jsx("button",{onClick:()=>i(ne),className:`${s===ne?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700"} whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm capitalize transition-colors`,children:ne==="alertas"?"Alertas y Archivos":ne==="seguimiento"?"Seguimiento y Metas":ne},ne))})}),c.jsxs("div",{className:"p-6 overflow-y-auto flex-grow bg-slate-50 dark:bg-slate-900/50",children:[s==="intervenciones"&&me(),s==="seguimiento"&&ue(),s==="reuniones"&&Ie(),s==="alertas"&&ye()]}),c.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end gap-3 mt-auto",children:[c.jsx("button",{onClick:t,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500 transition-colors",children:"Cerrar"}),c.jsx("button",{onClick:N,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 transition-colors",children:"Guardar Cambios y Cerrar"})]})]})})},R9=({currentUser:e})=>{const[t,r]=k.useState([]),[n,a]=k.useState([]),[s,i]=k.useState(!0),[o,l]=k.useState(null),[u,d]=k.useState(null),[f,m]=k.useState(""),[p,x]=k.useState(""),[g,b]=k.useState(""),[y,_]=k.useState("dashboard");k.useEffect(()=>{i(!0);const R=zke(O=>{r(O),i(!1)}),D=$ke(O=>a(O));return()=>{R(),D()}},[]);const S=async(R,D)=>{if(t.some(M=>M.nombre===R.nombreCompleto)){alert("Este estudiante ya está en el programa de inclusión.");return}const O={nombre:R.nombreCompleto,curso:R.curso||"",dificultad:D,intervenciones:[],metasProgreso:[],alertas:[],archivos:[],reuniones:[],adaptacionesCurriculares:"",apoyosRecibidos:"",fechaActualizacionApoyos:new Date().toISOString()};try{await Kke(O),alert(`✅ ${R.nombreCompleto} ha sido agregado exitosamente al programa PIE`)}catch(M){console.error("Error al agregar estudiante:",M),alert("Hubo un error al agregar al estudiante al programa.")}},I=async R=>{try{await Gke(R.id,R)}catch(D){console.error("Error al actualizar la ficha:",D),alert("Hubo un error al guardar los cambios en la ficha.")}},T=async R=>{if(window.confirm("¿Está seguro de que desea eliminar a este estudiante del programa de inclusión? Esta acción es irreversible."))try{await qke(R),(o==null?void 0:o.id)===R&&l(null),alert("✅ Estudiante eliminado del programa PIE")}catch(D){console.error("Error al eliminar estudiante:",D),alert("Hubo un error al eliminar al estudiante.")}},F=R=>{const D=C;if(D.length===0){alert("No hay datos para exportar.");return}const O=D.map(M=>{var Q;return{Nombre:M.nombre,Curso:M.curso,Dificultad:M.dificultad,"N° Intervenciones":((Q=M.intervenciones)==null?void 0:Q.length)||0,"Alertas Pendientes":(M.alertas||[]).filter(ee=>!ee.resuelta).length,"Metas Cumplidas":(M.metasProgreso||[]).filter(ee=>ee.cumplida).length,"Total Metas":(M.metasProgreso||[]).length,"Última Actualización":M.fechaActualizacionApoyos?new Date(M.fechaActualizacionApoyos).toLocaleDateString("es-CL"):"No registrada"}});if(R==="xlsx"){const M=lu.json_to_sheet(O),Q=lu.book_new();lu.book_append_sheet(Q,M,"Estudiantes_Inclusion"),TO(Q,"Estudiantes_Inclusion.xlsx"),alert("✅ Archivo Excel exportado exitosamente")}else{const M=new mr;M.text("Listado de Estudiantes - Programa de Inclusión",14,15),nl(M,{startY:20,head:[Object.keys(O[0])],body:O.map(Object.values)}),M.save("Estudiantes_Inclusion.pdf"),alert("✅ Archivo PDF exportado exitosamente")}},w=k.useMemo(()=>n.filter(R=>{var D;return R.profile===Kt.ESTUDIANTE&&(((D=e.cursos)==null?void 0:D.includes(R.curso||""))||e.profile===Kt.SUBDIRECCION)}).filter(R=>!t.some(D=>D.nombre===R.nombreCompleto)),[n,t,e]),C=k.useMemo(()=>t.filter(R=>R.nombre.toLowerCase().includes(f.toLowerCase())&&(p===""||R.curso===p)&&(g===""||R.dificultad===g)).sort((R,D)=>R.nombre.localeCompare(D.nombre)),[t,f,p,g]),N=k.useMemo(()=>n.filter(R=>R.profile===Kt.PROFESORADO).map(R=>R.nombreCompleto).sort(),[n]);return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Programa de Inclusión Escolar (PIE)"}),c.jsxs("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-700 p-1 rounded-lg",children:[c.jsx("button",{onClick:()=>_("dashboard"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${y==="dashboard"?"bg-white dark:bg-slate-600 text-slate-800 dark:text-slate-200 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"}`,children:"📊 Dashboard"}),c.jsx("button",{onClick:()=>_("lista"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${y==="lista"?"bg-white dark:bg-slate-600 text-slate-800 dark:text-slate-200 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"}`,children:"📋 Lista de Estudiantes"})]})]}),s?c.jsxs("div",{className:"text-center py-10",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-amber-500"}),c.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:"Cargando datos del programa..."})]}):c.jsxs(c.Fragment,{children:[y==="dashboard"&&c.jsxs("div",{className:"space-y-8",children:[c.jsx(Wke,{estudiantes:t}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:["Estudiantes Recientes (",Math.min(5,t.length),")"]}),c.jsx("button",{onClick:()=>_("lista"),className:"text-sm text-blue-600 hover:text-blue-800 font-semibold transition-colors",children:"Ver todos →"})]}),c.jsxs("div",{className:"space-y-3",children:[t.slice(0,5).map(R=>c.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md border dark:border-slate-700 flex justify-between items-center hover:shadow-sm transition-shadow",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:R.nombre}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[R.curso," - ",R.dificultad]})]}),c.jsx("button",{onClick:()=>l(R),className:"text-blue-600 hover:text-blue-800 font-semibold text-sm transition-colors",children:"Ver Ficha"})]},R.id)),t.length===0&&c.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[c.jsx("div",{className:"text-6xl mb-4",children:"📚"}),c.jsx("p",{className:"text-lg font-medium mb-2",children:"No hay estudiantes en el programa PIE"}),c.jsx("p",{className:"text-sm",children:"Comienza agregando estudiantes desde la nómina"})]})]})]}),c.jsx(P9,{estudiantesDisponibles:w,onSelect:R=>d(R)})]})]}),y==="lista"&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-4",children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:["Estudiantes en PIE (",C.length,")"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>F("xlsx"),className:"text-sm bg-green-100 text-green-700 font-semibold py-1 px-3 rounded-lg hover:bg-green-200 transition-colors",children:"📊 Excel"}),c.jsx("button",{onClick:()=>F("pdf"),className:"text-sm bg-red-100 text-red-700 font-semibold py-1 px-3 rounded-lg hover:bg-red-200 transition-colors",children:"📄 PDF"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Buscar estudiante"}),c.jsx("input",{type:"text",placeholder:"Nombre del estudiante...",value:f,onChange:R=>m(R.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filtrar por curso"}),c.jsxs("select",{value:p,onChange:R=>x(R.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Todos los Cursos"}),qa.map(R=>c.jsx("option",{value:R,children:R},R))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filtrar por diagnóstico"}),c.jsxs("select",{value:g,onChange:R=>b(R.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Todas las Dificultades"}),u_.map(R=>c.jsx("option",{value:R,children:R},R))]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-4 text-xs",children:[c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-2 rounded text-center",children:[c.jsx("div",{className:"font-bold text-blue-600",children:C.length}),c.jsx("div",{className:"text-blue-800 dark:text-blue-300",children:"Mostrando"})]}),c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-2 rounded text-center",children:[c.jsx("div",{className:"font-bold text-green-600",children:t.length}),c.jsx("div",{className:"text-green-800 dark:text-green-300",children:"Total"})]}),c.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded text-center",children:[c.jsx("div",{className:"font-bold text-yellow-600",children:t.reduce((R,D)=>R+(D.alertas||[]).filter(O=>!O.resuelta).length,0)}),c.jsx("div",{className:"text-yellow-800 dark:text-yellow-300",children:"Alertas"})]}),c.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-2 rounded text-center",children:[c.jsx("div",{className:"font-bold text-purple-600",children:new Set(t.map(R=>R.curso)).size}),c.jsx("div",{className:"text-purple-800 dark:text-purple-300",children:"Cursos"})]})]}),c.jsxs("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:[C.map(R=>{var D;return c.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-md border dark:border-slate-700 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-grow",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:R.nombre}),(R.alertas||[]).filter(O=>!O.resuelta).length>0&&c.jsxs("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:[(R.alertas||[]).filter(O=>!O.resuelta).length," alertas"]})]}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:[R.curso," - ",R.dificultad]}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-600 dark:text-slate-300",children:[c.jsxs("span",{children:[((D=R.intervenciones)==null?void 0:D.length)||0," intervenciones"]}),c.jsxs("span",{children:[(R.metasProgreso||[]).filter(O=>O.cumplida).length," metas cumplidas"]}),R.fechaActualizacionApoyos&&c.jsxs("span",{children:["Últ. actualización: ",new Date(R.fechaActualizacionApoyos).toLocaleDateString("es-CL")]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[c.jsx("button",{onClick:()=>l(R),className:"text-blue-600 hover:text-blue-800 font-semibold text-sm px-3 py-1 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:"Ver Ficha"}),c.jsx("button",{onClick:()=>T(R.id),title:"Eliminar del programa",className:"text-red-600 hover:text-red-800 p-2 rounded-lg hover:bg-red-50 transition-colors",children:"🗑️"})]})]})},R.id)}),C.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),c.jsx("p",{className:"text-lg font-medium text-slate-600 dark:text-slate-400 mb-2",children:f||p||g?"No se encontraron estudiantes con esos criterios":"No hay estudiantes en el programa PIE"}),(f||p||g)&&c.jsx("button",{onClick:()=>{m(""),x(""),b("")},className:"text-blue-600 hover:text-blue-800 font-semibold transition-colors",children:"Limpiar filtros"})]})]})]}),c.jsx(P9,{estudiantesDisponibles:w,onSelect:R=>d(R)})]})]}),u&&c.jsx(Xke,{student:u,onClose:()=>d(null),onConfirm:(R,D)=>{S(R,D),d(null)}}),o&&c.jsx(Yke,{student:o,onClose:()=>l(null),onSave:I,profesores:N})]})},CZ="asistencia_dual",Jke=e=>{var r,n;const t=e.data();return{id:e.id,...t,fechaHora:((n=(r=t.fechaHora)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaHora}},Zke=(e,t)=>{const r=tr(Ft(Bt,CZ),Mn("emailEstudiante","==",e),qr("fechaHora","desc"));return br(r,a=>{const s=a.docs.map(i=>Jke(i));t(s)},a=>{console.error("Error subscribing to personal attendance:",a),t([])})},eTe=async e=>{try{const t={...e,fechaHora:fr.fromDate(new Date(e.fechaHora))};await xa(Ft(Bt,CZ),t)}catch(t){throw console.error("Error adding attendance record:",t),new Error("Could not save the attendance record.")}},tTe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z",clipRule:"evenodd"})}),rTe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm-3.707-4.293a1 1 0 001.414 1.414L10 12.414l2.293 2.293a1 1 0 001.414-1.414L11.414 11l2.293-2.293a1 1 0 00-1.414-1.414L10 9.586 7.707 7.293a1 1 0 00-1.414 1.414L8.586 11 6.293 13.293a1 1 0 000 1.414z",clipRule:"evenodd"})}),nTe=({currentUser:e})=>{const[t,r]=k.useState(e.curso||""),[n,a]=k.useState([]),[s,i]=k.useState(!1),[o,l]=k.useState(!0),[u,d]=k.useState(null);k.useEffect(()=>{if(!e.email){l(!1);return}l(!0);const m=Zke(e.email,p=>{a(p),l(!1)});return()=>m()},[e.email]);const f=m=>{if(!t){d({text:"Por favor, seleccione su curso antes de marcar.",type:"error"});return}i(!0),d(null),navigator.geolocation.getCurrentPosition(async p=>{const x={nombreEstudiante:e.nombreCompleto,emailEstudiante:e.email,curso:t,tipo:m,fechaHora:new Date().toISOString(),ubicacion:{latitud:p.coords.latitude,longitud:p.coords.longitude}};try{await eTe(x),d({text:`¡Marca de ${m} registrada con éxito!`,type:"success"})}catch(g){console.error("Error saving record to Firestore:",g),d({text:"No se pudo guardar el registro en la nube.",type:"error"})}finally{i(!1)}},p=>{console.error("Geolocation error:",p);let x="No se pudo obtener la ubicación.";switch(p.code){case p.PERMISSION_DENIED:x="Permiso de ubicación denegado. Por favor, habilite la ubicación en su navegador y dispositivo.";break;case p.POSITION_UNAVAILABLE:x="La información de ubicación no está disponible en este momento. Verifique su conexión y GPS.";break;case p.TIMEOUT:x="La solicitud de ubicación ha tardado demasiado. Inténtelo de nuevo en un lugar con mejor señal.";break;default:x=`Ocurrió un error desconocido al obtener la ubicación (código: ${p.code}).`;break}d({text:x,type:"error"}),i(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Asistencia a Empresa"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Registre su entrada y salida de la empresa de práctica."}),c.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Seleccione su curso"}),c.jsxs("select",{id:"curso",value:t,onChange:m=>r(m.target.value),className:"w-full border-slate-300 rounded-md shadow-sm text-lg p-2 dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"-- Mi curso --"}),zm.map(m=>c.jsx("option",{value:m,children:m},m))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[c.jsx("button",{onClick:()=>f("Entrada"),disabled:s||!t,className:"bg-green-600 text-white font-bold py-4 px-6 rounded-lg hover:bg-green-700 disabled:bg-slate-400 flex items-center justify-center text-xl transition-all",children:"Entrada"}),c.jsx("button",{onClick:()=>f("Salida"),disabled:s||!t,className:"bg-red-600 text-white font-bold py-4 px-6 rounded-lg hover:bg-red-700 disabled:bg-slate-400 flex items-center justify-center text-xl transition-all",children:"Salida"})]}),s&&c.jsxs("div",{className:"text-center text-slate-600 dark:text-slate-400 pt-4 flex items-center justify-center gap-2",children:[c.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{children:"Obteniendo ubicación..."})]}),u&&c.jsx("div",{className:`text-center p-3 rounded-md mt-4 ${u.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.text})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Mi Historial de Asistencia"}),c.jsx("div",{className:"overflow-x-auto max-h-96",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Fecha y Hora"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Tipo"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Curso"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:o?c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"px-6 py-10 text-center text-slate-500",children:"Cargando historial..."})}):n.length>0?n.map(m=>c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:new Date(m.fechaHora).toLocaleString("es-CL")}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:c.jsxs("span",{className:`px-3 py-1 inline-flex items-center gap-1.5 text-xs leading-5 font-semibold rounded-full ${m.tipo==="Entrada"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[m.tipo==="Entrada"?c.jsx(tTe,{}):c.jsx(rTe,{}),m.tipo]})}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:m.curso})]},m.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"px-6 py-10 text-center text-slate-500",children:"No tienes marcas de asistencia registradas."})})})]})})]})]})},aTe=async()=>{try{console.log("🔍 Debugging users collection...");const e=Ft(Mr,"users"),t=tr(e,d0(10)),r=await Zs(t),n={exists:!0,totalDocs:r.size,sampleDocs:[],fieldAnalysis:{}},a=new Set;return r.forEach((s,i)=>{const o=s.data(),l={id:s.id,data:o,fields:Object.keys(o)};n.sampleDocs.push(l),Object.keys(o).forEach(u=>a.add(u))}),n.fieldAnalysis={allFields:Array.from(a),commonFields:Array.from(a).filter(s=>n.sampleDocs.filter(o=>s in o.data).length>n.sampleDocs.length*.5)},console.log("Users collection debug result:",n),n}catch(e){return console.error("Error debugging users collection:",e),{exists:!1,error:e instanceof Error?e.message:"Unknown error"}}},sTe=async(e,t)=>{var l,u,d;const r=new Date(e,t,1),n=new Date(e,t+1,0,23,59,59,999),a=fr.fromDate(r),s=fr.fromDate(n),i=["asistenciaDual","asistenciaEmpresa","asistencia","attendance","checkins"],o={};for(const f of i)try{const m=Ft(Mr,f);try{const p=tr(m,Mn("fechaHora",">=",a),Mn("fechaHora","<=",s)),x=await Zs(p);o[f]={exists:!0,hasDateField:!0,count:x.size,sampleDoc:((l=x.docs[0])==null?void 0:l.data())||null}}catch{const x=["fecha","timestamp","createdAt"];let g=!1;for(const b of x)try{const y=tr(m,Mn(b,">=",a),Mn(b,"<=",s)),_=await Zs(y);o[f]={exists:!0,hasDateField:b,count:_.size,sampleDoc:((u=_.docs[0])==null?void 0:u.data())||null},g=!0;break}catch{continue}if(!g){const b=tr(m,qr("__name__"),d0(5)),y=await Zs(b);o[f]={exists:!0,hasDateField:!1,count:y.size,sampleDoc:((d=y.docs[0])==null?void 0:d.data())||null,note:"No date field found for filtering"}}}}catch(m){o[f]={exists:!1,error:m instanceof Error?m.message:"Unknown error"}}return console.log("Debug Asistencia Collections:",o),o},iTe=(e,t,r,n)=>{try{const a=new Date(e,t,1);a.setHours(0,0,0,0);const s=new Date(e,t+1,0);s.setHours(23,59,59,999),console.log(`🔍 Buscando registros entre: ${a.toISOString()} y ${s.toISOString()}`),console.log(`📅 Mes actual: ${e}-${(t+1).toString().padStart(2,"0")}`);const i=fr.fromDate(a),o=fr.fromDate(s),l=[],u=new Map,d=()=>{const m=Array.from(u.values());console.log(`📊 Total registros encontrados: ${m.length}`),m.length>0&&console.log("📅 Registros por día:",m.reduce((p,x)=>{let g;x.fechaHora instanceof Date?g=x.fechaHora:typeof x.fechaHora=="string"?g=new Date(x.fechaHora):g=new Date;const b=g.getDate();return p[b]=(p[b]||0)+1,p},{})),r(m)};return["asistencia_dual","asistenciaEmpresa","asistencia_empresa","asistenciaDual","asistencia"].forEach(m=>{try{console.log(`🔍 Configurando suscripción para: ${m}`);const p=Ft(Mr,m),x=tr(p,Mn("fechaHora",">=",i),Mn("fechaHora","<=",o),qr("fechaHora","desc")),g=br(x,b=>{console.log(`📋 ${m}: ${b.size} documentos encontrados con filtro`),b.size>0?(console.log(`✅ Registros encontrados en ${m}:`),Array.from(u.keys()).filter(_=>_.startsWith(`${m}_`)).forEach(_=>u.delete(_)),b.docs.forEach((_,S)=>{var I;if(S<5){const T=_.data();let F;(I=T.fechaHora)!=null&&I.toDate?F=T.fechaHora.toDate():typeof T.fechaHora=="string"?F=new Date(T.fechaHora):F=new Date,console.log(`   ${S+1}. ${T.emailEstudiante} - ${F.toLocaleString()} - ${T.tipo}`),console.log(`      📅 Fecha original: ${T.fechaHora} (tipo: ${typeof T.fechaHora})`)}}),b.forEach(_=>{var w;const S=_.data();let I;(w=S.fechaHora)!=null&&w.toDate?I=S.fechaHora.toDate():typeof S.fechaHora=="string"?I=new Date(S.fechaHora):S.fechaHora instanceof Date?I=S.fechaHora:S.fechaHora?I=new Date(S.fechaHora):I=new Date;const T={id:_.id,emailEstudiante:S.emailEstudiante||S.email||"",nombreEstudiante:S.nombreEstudiante||S.nombre||"",curso:S.curso||"",fechaHora:I,tipo:S.tipo,ubicacion:S.ubicacion||null,observaciones:S.observaciones||"",...S},F=`${m}_${_.id}`;u.set(F,T)}),d()):console.log(`⚪ ${m}: vacía, manteniendo datos existentes`)},b=>{console.warn(`⚠️ Error con filtro en ${m}:`,b),console.log(`🔄 Intentando estrategia alternativa en ${m}...`);const y=tr(p,d0(200)),_=br(y,I=>{if(console.log(`📋 ${m} (sin filtro): ${I.size} documentos`),I.size>0){const F=I.docs[0].data();console.log(`📄 Estructura en ${m}:`,Object.keys(F)),console.log("📄 Primer documento:",F)}const T=I.docs.filter(F=>{var N;const w=F.data();if(!w.fechaHora)return!1;let C;return(N=w.fechaHora)!=null&&N.toDate?C=w.fechaHora.toDate():typeof w.fechaHora=="string"?C=new Date(w.fechaHora):w.fechaHora instanceof Date?C=w.fechaHora:C=new Date(w.fechaHora),C>=a&&C<=s});console.log(`📅 ${m}: ${T.length} registros después de filtro manual`),T.length>0&&(Array.from(u.keys()).filter(w=>w.startsWith(`${m}_`)).forEach(w=>u.delete(w)),T.forEach(w=>{var O;const C=w.data();let N;(O=C.fechaHora)!=null&&O.toDate?N=C.fechaHora.toDate():typeof C.fechaHora=="string"?N=new Date(C.fechaHora):C.fechaHora instanceof Date?N=C.fechaHora:N=new Date(C.fechaHora);const R={id:w.id,emailEstudiante:C.emailEstudiante||C.email||"",nombreEstudiante:C.nombreEstudiante||C.nombre||"",curso:C.curso||"",fechaHora:N,tipo:C.tipo,ubicacion:C.ubicacion||null,observaciones:C.observaciones||"",...C},D=`${m}_${w.id}`;u.set(D,R)}),d())}),S=l.findIndex(I=>I===g);S>=0?l[S]=_:l.push(_)});l.push(g)}catch(p){console.warn(`❌ Error configurando ${m}:`,p)}}),()=>{l.forEach(m=>{try{m()}catch(p){console.warn("Error unsubscribing:",p)}})}}catch(a){return console.error("Error setting up subscribeToAsistenciaByMonth:",a),n&&n(new Error(`Error al configurar suscripción: ${a instanceof Error?a.message:"Error desconocido"}`)),()=>{}}},oTe=(e,t)=>{try{console.log("🔍 Buscando usuarios en múltiples colecciones...");const r=["usuarios","users"],n=[],a=new Map,s=()=>{const o=Array.from(a.values());console.log(`📊 Total usuarios encontrados: ${o.length}`);const l=o.reduce((d,f)=>(d[f.profile]=(d[f.profile]||0)+1,d),{});console.log("👥 Usuarios por perfil:",l);const u=o.filter(d=>d.profile===Kt.ESTUDIANTE);console.log(`🎓 Estudiantes encontrados: ${u.length}`),u.forEach(d=>{console.log(`   - ${d.nombreCompleto} (${d.curso}) - ${d.email}`)}),e(o)};let i=!1;return r.forEach(o=>{try{const l=Ft(Mr,o),u=tr(l),d=br(u,f=>{f.size>0?(console.log(`✅ Encontrados ${f.size} usuarios en colección: ${o}`),i=!0,Array.from(a.keys()).filter(p=>p.startsWith(`${o}_`)).forEach(p=>a.delete(p)),f.forEach(p=>{var x,g,b,y;try{const _=p.data(),S=_.email||_.userEmail||_.mail||_.correo||"",I=_.nombreCompleto||_.displayName||_.name||_.nombre||_.fullName||"",T=_.curso||_.course||_.class||_.grade||"";let F=_.profile||_.role||_.tipo||_.userType||Kt.ESTUDIANTE;if(typeof F=="string"){const N=F.toLowerCase();N.includes("estudiante")||N.includes("student")||N.includes("alumno")?F=Kt.ESTUDIANTE:N.includes("coordinador")||N.includes("coordinator")?F=Kt.COORDINADOR_TP:N.includes("profesor")||N.includes("teacher")||N.includes("docente")?F=Kt.PROFESOR:(N.includes("subdireccion")||N.includes("subdir"))&&(F=Kt.COORDINADOR_TP)}const w={id:p.id,email:S,nombreCompleto:I,curso:T,profile:F,activo:_.activo!==!1,fechaCreacion:((g=(x=_.fechaCreacion)==null?void 0:x.toDate)==null?void 0:g.call(x))||new Date(_.fechaCreacion)||new Date,ultimaActividad:((y=(b=_.ultimaActividad)==null?void 0:b.toDate)==null?void 0:y.call(b))||new Date(_.ultimaActividad)||new Date,..._},C=`${o}_${p.id}`;a.set(C,w)}catch(_){console.warn(`Error procesando documento ${p.id} en ${o}:`,_)}}),s()):console.log(`⚪ Colección ${o}: vacía`)},f=>{console.warn(`⚠️ Error en colección ${o}:`,f)});n.push(d)}catch(l){console.warn(`❌ Error configurando ${o}:`,l)}}),setTimeout(()=>{i||(console.error("❌ No se encontraron usuarios en ninguna colección"),t&&t(new Error("No se encontraron colecciones de usuarios con datos")))},3e3),()=>{n.forEach(o=>{try{o()}catch(l){console.warn("Error unsubscribing:",l)}})}}catch(r){return console.error("Error setting up multi-collection users subscription:",r),t&&t(new Error(`Error al configurar suscripción multi-colección: ${r instanceof Error?r.message:"Error desconocido"}`)),()=>{}}},lTe=(e,t)=>{try{console.log("Setting up users subscription...");const r=Ft(Mr,"users"),n=tr(r);return br(n,s=>{console.log(`Raw users snapshot size: ${s.size}`);const i=[];s.forEach(d=>{var f,m,p,x;try{const g=d.data();console.log(`Processing user doc ${d.id}:`,g);const b=g.email||g.userEmail||g.mail||"",y=g.nombreCompleto||g.displayName||g.name||g.nombre||"",_=g.curso||g.course||g.class||"";let S=g.profile||g.role||g.tipo||Kt.ESTUDIANTE;if(typeof S=="string"){const T=S.toLowerCase();T.includes("estudiante")||T.includes("student")||T.includes("alumno")?S=Kt.ESTUDIANTE:T.includes("coordinador")||T.includes("coordinator")?S=Kt.COORDINADOR_TP:T.includes("profesor")||T.includes("teacher")||T.includes("docente")?S=Kt.PROFESOR:(T.includes("subdireccion")||T.includes("subdir"))&&(S=Kt.COORDINADOR_TP)}const I={id:d.id,email:b,nombreCompleto:y,curso:_,profile:S,activo:g.activo!==!1,fechaCreacion:((m=(f=g.fechaCreacion)==null?void 0:f.toDate)==null?void 0:m.call(f))||new Date(g.fechaCreacion)||new Date,ultimaActividad:((x=(p=g.ultimaActividad)==null?void 0:p.toDate)==null?void 0:x.call(p))||new Date(g.ultimaActividad)||new Date,...g};i.push(I)}catch(g){console.warn(`Error processing user document ${d.id}:`,g)}}),i.sort((d,f)=>d.nombreCompleto.localeCompare(f.nombreCompleto)),console.log(`Processed ${i.length} users successfully`);const o=i.reduce((d,f)=>(d[f.profile]=(d[f.profile]||0)+1,d),{});console.log("Users by profile:",o);const l=i.filter(d=>d.profile===Kt.ESTUDIANTE);console.log(`Estudiantes: ${l.length}`);const u=l.filter(d=>d.curso);console.log(`Estudiantes con curso: ${u.length}`),e(i)},s=>{console.error("Error in subscribeToAllUsers:",s),t&&t(new Error(`Error al cargar usuarios: ${s.message}`))})}catch(r){return console.error("Error setting up subscribeToAllUsers:",r),t&&t(new Error(`Error al configurar suscripción de usuarios: ${r instanceof Error?r.message:"Error desconocido"}`)),()=>{}}},eE=e=>{if(!e)return"";let t=e.trim().toLowerCase();return t=t.replace(/°/g,"º"),t=t.replace(/\s+(medio|básico|basico)/g,""),t=t.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1º"),t=t.replace(/^(\d)(?![º])/,"$1º"),t=t.replace(/\s+/g,"").toUpperCase(),t},cTe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),uTe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H9.5l3.5 3.5L11.59 18 6 12.41 11.59 7 13 8.41 9.5 11H17v2z"})}),dTe=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState(!0),[i,o]=k.useState(null),[l,u]=k.useState(new Date),[d,f]=k.useState("todos"),[m,p]=k.useState("");k.useEffect(()=>{s(!0),o(null);const F=l.getFullYear(),w=l.getMonth();console.log("=== INICIANDO CARGA DE DATOS ==="),console.log("Año:",F,"Mes:",w);let C=!1,N=!1;const R=()=>{C&&N&&(console.log("=== CARGA COMPLETA ==="),s(!1))};(async()=>{console.log("🧪 INICIANDO PRUEBA DIRECTA SIMPLE...");try{const O=Ft(Mr,"asistencia_dual"),M=tr(O,d0(5)),Q=await Zs(M);if(console.log(`✅ asistencia_dual - Documentos encontrados: ${Q.size}`),Q.size>0)Q.docs.forEach((ee,W)=>{const Z=ee.data();console.log(`   ${W+1}. ${ee.id.slice(0,8)} - ${Z.emailEstudiante} - ${Z.tipo}`),console.log("      Fecha original:",Z.fechaHora),console.log("      Todos los campos:",Object.keys(Z))});else{console.log("❌ No se encontraron documentos en asistencia_dual");const ee=["asistenciaEmpresa","asistencia_empresa"];for(const W of ee)try{const Z=Ft(Mr,W),V=tr(Z,d0(3)),q=await Zs(V);if(console.log(`📋 ${W}: ${q.size} documentos`),q.size>0){const K=q.docs[0].data();console.log("   Estructura:",Object.keys(K)),console.log("   Email:",K.emailEstudiante||K.email),console.log("   Fecha:",K.fechaHora||K.fecha)}}catch(Z){console.log(`❌ ${W}: ${Z instanceof Error?Z.message:"Error"}`)}}}catch(O){console.error("❌ Error en prueba directa:",O),O.code==="permission-denied"?(console.log("🔒 PROBLEMA: Permisos de Firestore denegados"),console.log("💡 Ve a Firebase Console → Firestore → Rules y verifica los permisos")):O.code==="failed-precondition"&&(console.log("📊 PROBLEMA: Faltan índices en Firestore"),console.log("💡 Ve a Firebase Console → Firestore → Indexes"))}})(),sTe(F,w).then(O=>{console.log("🔍 Debug info for collections:",O),Object.entries(O).forEach(([M,Q])=>{if(Q.exists&&Q.totalDocs>0){if(console.log(`
📋 COLECCIÓN ${M.toUpperCase()}:`),console.log(`   📊 Total documentos: ${Q.totalDocs}`),console.log(`   📅 Documentos del período: ${Q.count}`),console.log(`   🔑 Campo de fecha: ${Q.hasDateField}`),Q.sampleDoc){console.log("   📄 Documento ejemplo:",Q.sampleDoc);const ee=Q.sampleDoc,W=ee.emailEstudiante||ee.email||ee.userEmail||ee.correo||"NO ENCONTRADO",Z=ee.tipo||ee.type||ee.action||ee.tipoRegistro||"NO ENCONTRADO",V=ee.fechaHora||ee.fecha||ee.timestamp||ee.createdAt||"NO ENCONTRADO";console.log(`   📧 Email estudiante: ${W}`),console.log(`   📝 Tipo registro: ${Z}`),console.log(`   📅 Fecha: ${V}`),console.log("   🗂️ Todos los campos:",Object.keys(ee))}Q.filteredDocs&&Q.filteredDocs.length>0&&(console.log("   📋 Registros del período encontrados:",Q.filteredDocs.length),Q.filteredDocs.forEach((ee,W)=>{W<3&&console.log(`      ${W+1}. ID: ${ee.id}`,ee.data)}))}else Q.exists?console.log(`⚪ Colección ${M}: vacía`):console.log(`❌ Colección ${M}: no existe`)})}).catch(O=>{console.error("Debug error:",O)}),aTe().then(O=>{console.log("🔍 Debug info for users:",O),(!O.exists||O.totalDocs===0)&&(console.log('⚠️ Colección "users" vacía o no existe. Buscando alternativas...'),["usuarios","estudiantes","profiles","accounts","members"].forEach(async Q=>{var ee;try{const W=Ft(Mr,Q),Z=tr(W,d0(5)),V=await Zs(Z);V.size>0?(console.log(`✅ Encontrada colección alternativa: ${Q} con ${V.size} documentos`),console.log("Documento muestra:",(ee=V.docs[0])==null?void 0:ee.data())):console.log(`❌ Colección ${Q}: vacía`)}catch{console.log(`❌ Colección ${Q}: no existe`)}}))}).catch(O=>{console.error("Users debug error:",O)});try{console.log("Configurando suscripción a asistencia...");const O=iTe(F,w,Q=>{if(console.log("✅ Received registros:",Q.length),Q.length>0){console.log("📋 ANÁLISIS DE REGISTROS RECIBIDOS:"),console.log("Sample registro:",Q[0]);const ee=[...new Set(Q.map(J=>J.emailEstudiante).filter(Boolean))];console.log("📧 Emails de estudiantes en registros:",ee);const W=[...new Set(Q.map(J=>J.tipo).filter(Boolean))];console.log("📝 Tipos de registro encontrados:",W);const Z=Q.reduce((J,P)=>{const G=new Date(P.fechaHora).getDate();return J[G]||(J[G]=[]),J[G].push(P),J},{});console.log("📅 Registros por día del mes:",Object.keys(Z).map(J=>({dia:parseInt(J),cantidad:Z[parseInt(J)].length})));const V=r.map(J=>J.email).filter(Boolean);console.log("👥 Emails de estudiantes cargados:",V);const q=ee.filter(J=>V.includes(J)),K=ee.filter(J=>!V.includes(J));console.log("✅ Emails que coinciden:",q),console.log("❌ Emails que NO coinciden:",K)}else console.log("⚠️ No se encontraron registros de asistencia para el período");t(Q),C=!0,R()},Q=>{console.error("❌ Error fetching asistencia:",Q),o("Error al cargar datos de asistencia: "+Q.message),C=!0,R()});console.log("Configurando suscripción a usuarios...");const M=oTe(Q=>{if(console.log("✅ Received users (multi-collection):",Q.length),Q.length>0){console.log("Sample user:",Q[0]);const ee=Q.filter(W=>W.profile===Kt.ESTUDIANTE&&W.curso);console.log("Dual students found:",ee.length),ee.forEach(W=>{console.log(`- ${W.nombreCompleto} (${W.curso}) - ${W.email}`)})}n(Q),N=!0,R()},Q=>{console.error("❌ Error fetching users (multi-collection):",Q),console.log("🔄 Intentando con función original de usuarios...");const ee=lTe(W=>{console.log("✅ Received users (fallback):",W.length),n(W),N=!0,R()},W=>{console.error("❌ Error en fallback también:",W),o("Error al cargar estudiantes: "+Q.message),N=!0,R()})});return()=>{console.log("Limpiando suscripciones..."),O&&O(),M&&M()}}catch(O){console.error("❌ Error setting up subscriptions:",O),o("Error al inicializar conexiones: "+(O instanceof Error?O.message:"Error desconocido")),s(!1)}},[l]);const{monthDays:x,monthName:g,year:b}=k.useMemo(()=>{const F=l.getFullYear(),w=l.getMonth();return{monthDays:new Date(F,w+1,0).getDate(),monthName:l.toLocaleString("es-CL",{month:"long"}),year:F}},[l]),y=k.useMemo(()=>{let F=r.filter(w=>w.profile===Kt.ESTUDIANTE&&w.curso&&zm.includes(eE(w.curso)));if(d!=="todos"&&(F=F.filter(w=>eE(w.curso||"")===d)),m&&(F=F.filter(w=>w.nombreCompleto.toLowerCase().includes(m.toLowerCase()))),e.length>0){const w=[...new Set(e.map(R=>R.emailEstudiante).filter(Boolean))],C=F.map(R=>R.email),N=w.filter(R=>!C.includes(R));if(N.length>0){console.log("📝 Agregando estudiantes faltantes con registros:",N);const D=N.map(O=>{const M=e.find(Q=>Q.emailEstudiante===O);return{id:O,email:O,nombreCompleto:(M==null?void 0:M.nombreEstudiante)||O.split("@")[0],curso:(M==null?void 0:M.curso)||"3ºC",profile:Kt.ESTUDIANTE,activo:!0,fechaCreacion:new Date,ultimaActividad:new Date}}).filter(O=>{const M=d==="todos"||eE(O.curso)===d,Q=!m||O.nombreCompleto.toLowerCase().includes(m.toLowerCase());return M&&Q&&zm.includes(eE(O.curso))});F=[...F,...D]}}return console.log(`👥 Estudiantes filtrados para mostrar: ${F.length}`),F.forEach(w=>{console.log(`   - ${w.nombreCompleto} (${w.curso}) - ${w.email}`)}),F.sort((w,C)=>w.nombreCompleto.localeCompare(C.nombreCompleto))},[r,d,m,e]),_=k.useMemo(()=>{console.log("🔄 Procesando datos de asistencia para la tabla..."),console.log(`📊 Total registros a procesar: ${e.length}`),console.log(`👥 Estudiantes disponibles: ${y.length}`);const F=new Map;return e.length===0?(console.log("⚠️ No hay registros para procesar aún"),F):(e.forEach((w,C)=>{const N=w.emailEstudiante;if(!N)return;let R;if(w.fechaHora instanceof Date)R=w.fechaHora;else if(w.fechaHora&&typeof w.fechaHora=="object"&&"toDate"in w.fechaHora)R=w.fechaHora.toDate();else if(typeof w.fechaHora=="string")R=new Date(w.fechaHora);else{console.warn("Fecha no válida en registro:",w);return}const D=R.getDate(),O=R.getMonth(),M=R.getFullYear();C<3&&console.log(`📅 Registro ${C+1}:`,{email:N,tipo:w.tipo,fechaOriginal:w.fechaHora,fechaProcesada:R.toLocaleString(),año:M,mes:O,día:D}),F.has(N)||F.set(N,new Map);const Q=F.get(N);Q.has(D)||Q.set(D,{});const ee=Q.get(D);w.tipo==="Entrada"?(!ee.entrada||R<new Date(ee.entrada.fechaHora))&&(ee.entrada=w):w.tipo==="Salida"&&(!ee.salida||R>new Date(ee.salida.fechaHora))&&(ee.salida=w)}),console.log("📋 Datos de asistencia procesados:",{estudiantesConRegistros:F.size,estudiantes:Array.from(F.keys()),registrosPorEstudiante:Array.from(F.entries()).map(([w,C])=>({email:w,dias:Array.from(C.keys()),totalRegistros:Array.from(C.values()).reduce((N,R)=>N+(R.entrada?1:0)+(R.salida?1:0),0)}))}),F)},[e]),S=F=>{u(w=>{const C=new Date(w);return C.setMonth(C.getMonth()+F),C})},I=F=>{F!=null&&F.latitud&&(F!=null&&F.longitud)&&window.open(`https://www.google.com/maps?q=${F.latitud},${F.longitud}`,"_blank")},T=["D","L","M","M","J","V","S"];return i?c.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:c.jsx("div",{className:"text-red-600 bg-red-100 dark:bg-red-900/30 p-4 rounded-md",children:i})}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6 animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Asistencia Dual Mensual"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[c.jsx("button",{onClick:()=>S(-1),disabled:a,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Mes anterior",children:"←"}),c.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 capitalize w-48 text-center",children:`${g} ${b}`}),c.jsx("button",{onClick:()=>S(1),disabled:a,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Mes siguiente",children:"→"})]}),c.jsxs("select",{value:d,onChange:F=>f(F.target.value),disabled:a,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 disabled:opacity-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"todos",children:"Todos los Cursos"}),zm.map(F=>c.jsx("option",{value:F,children:F},F))]}),c.jsx("input",{type:"text",placeholder:"Buscar estudiante...",value:m,onChange:F=>p(F.target.value),disabled:a,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 disabled:opacity-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a?c.jsxs("div",{className:"text-center text-amber-600 py-10",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mb-4"}),c.jsx("div",{children:"Cargando datos de asistencia..."})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full border-collapse border border-slate-200 dark:border-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"sticky left-0 bg-slate-100 dark:bg-slate-800 z-10 p-2 border-r border-b border-slate-200 dark:border-slate-600 text-sm font-semibold w-48",children:"Estudiante"}),Array.from({length:x},(F,w)=>{const N=new Date(b,l.getMonth(),w+1).getDay(),R=N===0||N===6;return c.jsxs("th",{className:`p-1 border-r border-b border-slate-200 dark:border-slate-600 text-xs w-16 ${R?"bg-slate-100 dark:bg-slate-700/50":""}`,children:[c.jsx("div",{className:"font-semibold",children:T[N]}),c.jsx("div",{children:w+1})]},w)})]})}),c.jsx("tbody",{children:y.length>0?y.map(F=>c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[c.jsx("td",{className:"sticky left-0 bg-white dark:bg-slate-800 z-10 p-2 border-r border-b border-slate-200 dark:border-slate-600 text-sm font-medium whitespace-nowrap",children:F.nombreCompleto}),Array.from({length:x},(w,C)=>{var M;const N=C+1,R=(M=_.get(F.email))==null?void 0:M.get(N),D=new Date(b,l.getMonth(),C+1),O=D.getDay()===0||D.getDay()===6;return F.email==="alexis.robles@industrialderecoleta.cl"&&N===2&&console.log("🔍 Verificando día 2 para Alexis:",{email:F.email,day:N,hasDataForStudent:_.has(F.email),studentDayRecords:R,allAttendanceKeys:Array.from(_.keys()),daysForStudent:_.get(F.email)?Array.from(_.get(F.email).keys()):[]}),c.jsx("td",{className:`p-1 border-r border-b border-slate-200 dark:border-slate-600 text-center align-middle ${O?"bg-slate-100 dark:bg-slate-700/50":""}`,children:c.jsxs("div",{className:"flex justify-center items-center gap-1.5 h-full",children:[(R==null?void 0:R.entrada)&&c.jsxs("div",{className:"group relative cursor-pointer",onClick:()=>{var Q;return I((Q=R.entrada)==null?void 0:Q.ubicacion)},children:[c.jsx(cTe,{}),c.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 w-max px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-20",children:new Date(R.entrada.fechaHora).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})})]}),(R==null?void 0:R.salida)&&c.jsxs("div",{className:"group relative cursor-pointer",onClick:()=>{var Q;return I((Q=R.salida)==null?void 0:Q.ubicacion)},children:[c.jsx(uTe,{}),c.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 w-max px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-20",children:new Date(R.salida.fechaHora).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})})]})]})},N)})]},F.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:x+1,className:"text-center p-8 text-slate-500",children:"No hay estudiantes en el curso seleccionado o que coincidan con la búsqueda."})})})]})})]})},R5="evaluaciones_formativas",L5="calificaciones_formativas",PO="trabajos_grupales_formativos",ATe="usuarios",RO=e=>{var r,n,a,s;const t=e.data();return{id:e.id,...t,fecha:((n=(r=t.fecha)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString().split("T")[0])||t.fecha,fechaPresentacion:((s=(a=t.fechaPresentacion)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString().split("T")[0])||t.fechaPresentacion}},fTe=(e,t,r)=>{const n=tr(Ft(Bt,R5),Mn("curso","==",e),Mn("asignatura","==",t),qr("fecha","asc"));return br(n,a=>{r(a.docs.map(s=>RO(s)))},a=>{console.error("Error al suscribirse a evaluaciones:",a),r([])})},hTe=async(e,t)=>{const r=F6(Bt),n=Er(Ft(Bt,R5));r.set(n,{...e,fecha:fr.fromDate(new Date(e.fecha+"T00:00:00"))});const a=Er(Bt,L5,n.id);return r.set(a,t),await r.commit(),n.id},mTe=async(e,t)=>{const r=Er(Bt,R5,e);await io(r,t,{merge:!0})},pTe=async e=>{const t=F6(Bt);t.delete(Er(Bt,R5,e)),t.delete(Er(Bt,L5,e)),await t.commit()},gTe=(e,t)=>{if(e.length===0)return t({}),()=>{};const r=e.map(n=>{const a=Er(Bt,L5,n);return br(a,s=>{s.exists()&&t({[n]:s.data()})})});return()=>r.forEach(n=>n())},vTe=async(e,t)=>{const r=Er(Bt,L5,e);await io(r,t,{merge:!0})},xTe=(e,t,r)=>{const n=tr(Ft(Bt,PO),Mn("curso","==",e),Mn("asignatura","==",t),qr("fechaPresentacion","desc"));return br(n,a=>{r(a.docs.map(s=>RO(s)))},a=>{console.error("Error al suscribirse a trabajos grupales:",a),r([])})},bTe=async e=>{const t={...e,fechaPresentacion:fr.fromDate(new Date(e.fechaPresentacion+"T00:00:00"))};await xa(Ft(Bt,PO),t)},yTe=async(e,t)=>{const r=Er(Bt,PO,e);await io(r,t,{merge:!0})},wTe=e=>{const t=tr(Ft(Bt,ATe));return br(t,r=>{e(r.docs.map(n=>RO(n)))},r=>{console.error("Error al suscribirse a usuarios:",r),e([])})},_Z=e=>{if(!e)return"";let t=e.trim().toLowerCase();return t=t.replace(/°/g,"º"),t=t.replace(/\s+(medio|básico|basico)/g,""),t=t.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1º"),t=t.replace(/^(\d)(?![º])/,"$1º"),t=t.replace(/\s+/g,"").toUpperCase(),t},Wg={"Lengua y Literatura":"📚",Matemática:"➗",Inglés:"🇬🇧",Filosofía:"🤔","Historia y Geografía":"🌍","Educación Ciudadana":"🏛️",Ciencias:"🔬","Ciencias para la Ciudadanía":"💡",Artes:"🎨",Música:"🎵","Educación Física":"🏃‍♂️",Orientación:"🧭","Mecánica Industrial":"⚙️","Mecánica Automotriz":"🚗",Emprendimiento:"💼",Tecnología:"💻","Pensamiento Lógico":"🧠","Competencia Lectora":"📖",Default:"✏️"},SZ=e=>e.startsWith("1º")?{bg:"bg-blue-500",text:"text-white",border:"border-blue-700",spine:"bg-blue-800"}:e.startsWith("2º")?{bg:"bg-green-500",text:"text-white",border:"border-green-700",spine:"bg-green-800"}:e.startsWith("3º")?{bg:"bg-yellow-400",text:"text-yellow-900",border:"border-yellow-600",spine:"bg-yellow-700"}:e.startsWith("4º")?{bg:"bg-red-500",text:"text-white",border:"border-red-700",spine:"bg-red-800"}:{bg:"bg-slate-500",text:"text-white",border:"border-slate-700",spine:"bg-slate-800"},ETe=({cursos:e,onSelect:t})=>c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seleccione un Libro de Clases"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Cada libro representa un curso y contiene sus evaluaciones formativas."}),e.length>0?c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:e.map(r=>{const n=SZ(r);return c.jsxs("div",{className:"space-y-2 text-center",children:[c.jsxs("button",{onClick:()=>t(r),className:`relative w-full h-48 rounded-md shadow-lg ${n.bg} ${n.border} border-b-4 transform hover:-translate-y-2 transition-transform duration-300 group`,children:[c.jsx("div",{className:`absolute top-0 left-0 w-6 h-full ${n.spine} rounded-l-md`}),c.jsxs("div",{className:`flex flex-col items-center justify-center h-full p-2 ${n.text}`,children:[c.jsx("span",{className:"font-bold text-2xl drop-shadow-sm",children:r.slice(0,2)}),c.jsx("span",{className:"font-black text-5xl drop-shadow-md",children:r.slice(2)})]})]}),c.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:r})]},r)})}):c.jsxs("div",{className:"text-center py-10 bg-slate-100 rounded-lg",children:[c.jsx("p",{className:"text-slate-500",children:"No tiene cursos asignados."}),c.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Contacte a un administrador para que le asigne cursos a su perfil."})]})]}),CTe=({curso:e,asignaturas:t,onSelect:r,onBack:n})=>{const a=SZ(e);return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[c.jsx("button",{onClick:n,className:"text-slate-500 hover:text-slate-800 dark:hover:text-slate-200",children:"← Volver a Cursos"}),c.jsxs("div",{className:`p-2 rounded-md ${a.bg} ${a.text} font-bold`,children:["Libro de Clases: ",e]})]}),c.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seleccione una Asignatura"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Elija la asignatura para ver o agregar calificaciones."}),t.length>0?c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:t.map(s=>c.jsxs("button",{onClick:()=>r(s),className:"flex items-center gap-3 p-4 rounded-lg bg-slate-100 hover:bg-amber-100 dark:bg-slate-700 dark:hover:bg-amber-900/50 transition-colors",children:[c.jsx("span",{className:"text-2xl",children:Wg[s]||Wg.Default}),c.jsx("span",{className:"font-semibold text-slate-800 dark:text-slate-200 text-left",children:s})]},s))}):c.jsxs("div",{className:"text-center py-10 bg-slate-100 rounded-lg",children:[c.jsx("p",{className:"text-slate-500",children:"No tiene asignaturas asignadas."}),c.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Contacte a un administrador."})]})]})},_Te=({curso:e,asignatura:t,allUsers:r,onBack:n})=>{const[a,s]=k.useState([]),[i,o]=k.useState({}),[l,u]=k.useState({fecha:new Date().toISOString().split("T")[0],nombreActividad:""}),[d,f]=k.useState(null),[m,p]=k.useState(null),[x,g]=k.useState(!0),b=k.useMemo(()=>r.filter(C=>C.profile===Kt.ESTUDIANTE&&_Z(C.curso||"")===e).map(C=>C.nombreCompleto).sort((C,N)=>C.localeCompare(N)),[r,e]);k.useEffect(()=>{g(!0);const C=fTe(e,t,N=>{s(N);const R=N.map(O=>O.id),D=gTe(R,O=>{o(M=>({...M,...O}))});return g(!1),()=>D()});return()=>C()},[e,t]);const y=C=>{const{name:N,value:R}=C.target;d?f(D=>D?{...D,[N]:R}:null):u(D=>({...D,[N]:R}))},_=async C=>{if(C.preventDefault(),p(null),!l.nombreActividad.trim()){p("El nombre de la actividad es obligatorio.");return}const N={asignatura:t,curso:e,...l},R=b.reduce((D,O)=>(D[O]="trabajado",D),{});try{await hTe(N,R),u({fecha:new Date().toISOString().split("T")[0],nombreActividad:""})}catch(D){console.error(D),p("No se pudo crear la evaluación.")}},S=(C,N)=>{var M;const R=((M=i[C])==null?void 0:M[N])||"trabajado";let D;R==="trabajado"?D="no trabajado":R==="no trabajado"?D="ausente":D="trabajado";const O={...i,[C]:{...i[C]||{},[N]:D}};o(O),vTe(C,{[N]:D}).catch(Q=>{console.error("Error updating grade:",Q)})},I=C=>f(C),T=async()=>{if(d)try{await mTe(d.id,{nombreActividad:d.nombreActividad,fecha:d.fecha}),f(null)}catch(C){console.error(C),p("No se pudo guardar la edición.")}},F=async C=>{if(window.confirm("¿Eliminar esta evaluación y todas sus calificaciones?"))try{await pTe(C)}catch(N){console.error(N),p("No se pudo eliminar la evaluación.")}},w=k.useCallback(C=>{if(a.length===0)return"-";let N=0,R=0;return a.forEach(D=>{var M;const O=(M=i[D.id])==null?void 0:M[C];O==="trabajado"?(N+=7,R++):O==="no trabajado"&&(N+=2,R++)}),R===0?"-":(N/R).toFixed(1)},[i,a]);return x?c.jsx("div",{className:"text-center py-10",children:"Cargando calificaciones..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:n,className:"text-slate-500 hover:text-slate-800",children:"← Volver a Asignaturas"}),c.jsxs("div",{className:"bg-slate-100 p-2 rounded-md font-bold text-slate-800",children:[e," / ",t]})]}),c.jsxs("form",{onSubmit:_,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[c.jsx("h3",{className:"text-lg font-semibold col-span-full text-slate-700 dark:text-slate-200",children:"Crear Nueva Evaluación"}),c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"nombreActividad",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Actividad"}),c.jsx("input",{id:"nombreActividad",type:"text",name:"nombreActividad",value:l.nombreActividad,onChange:y,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"fecha",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Fecha"}),c.jsx("input",{id:"fecha",type:"date",name:"fecha",value:l.fecha,onChange:y,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),c.jsx("div",{className:"w-full",children:c.jsx("button",{type:"submit",className:"w-full bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 h-10",children:"Crear"})}),m&&c.jsx("p",{className:"text-red-500 text-sm col-span-full",children:m})]}),c.jsx("div",{className:"overflow-x-auto border border-slate-200 dark:border-slate-700 rounded-lg",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"sticky left-0 bg-slate-100 dark:bg-slate-800 px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase z-10 w-48",children:"Estudiante"}),a.map(C=>c.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-xs font-medium text-slate-600 dark:text-slate-300 uppercase w-36",children:(d==null?void 0:d.id)===C.id?c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("input",{type:"text",name:"nombreActividad",value:d.nombreActividad,onChange:y,className:"text-xs p-1 w-full dark:bg-slate-600"}),c.jsx("input",{type:"date",name:"fecha",value:d.fecha,onChange:y,className:"text-xs p-1 w-full dark:bg-slate-600"}),c.jsx("button",{onClick:T,className:"text-xs bg-green-200 text-green-800 rounded px-1",children:"✓"})]}):c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"font-semibold",children:C.nombreActividad}),c.jsx("span",{className:"font-normal text-slate-500",children:C.fecha}),c.jsxs("div",{className:"flex gap-2 mt-1",children:[c.jsx("button",{onClick:()=>I(C),className:"text-blue-500 hover:text-blue-700",children:"✏️"}),c.jsx("button",{onClick:()=>F(C.id),className:"text-red-500 hover:text-red-700",children:"🗑️"})]})]})},C.id)),c.jsx("th",{scope:"col",className:"sticky right-0 bg-slate-100 dark:bg-slate-800 px-4 py-3 text-center text-xs font-medium text-slate-600 dark:text-slate-300 uppercase z-10 w-24",children:"Promedio"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-900 divide-y divide-slate-200 dark:divide-slate-700",children:b.map(C=>c.jsxs("tr",{children:[c.jsx("td",{className:"sticky left-0 bg-white dark:bg-slate-900 px-4 py-2 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200 w-48",children:C}),a.map(N=>{var O;const R=(O=i[N.id])==null?void 0:O[C];let D;return R==="trabajado"?D=Wg[t]||Wg.Default:R==="no trabajado"?D="❌":R==="ausente"?D="A":D=Wg[t]||Wg.Default,c.jsx("td",{className:"px-2 py-1 whitespace-nowrap w-36 text-center",children:c.jsx("button",{onClick:()=>S(N.id,C),className:`text-3xl transition-opacity duration-200 ${R==="trabajado"?"opacity-100":R==="no trabajado"?"opacity-40":R==="ausente"?"opacity-100 text-red-500 font-bold":"opacity-100"}`,children:D})},N.id)}),c.jsx("td",{className:"sticky right-0 bg-white dark:bg-slate-900 px-4 py-2 whitespace-nowrap text-sm font-bold text-slate-800 dark:text-slate-200 w-24 text-center",children:w(C)})]},C))})]})})]})},STe=({curso:e,asignatura:t,allUsers:r,onBack:n})=>{const[a,s]=k.useState([]),[i,o]=k.useState(null),[l,u]=k.useState({nombre:"",fecha:new Date().toISOString().split("T")[0]}),[d,f]=k.useState({}),[m,p]=k.useState(2),x=k.useMemo(()=>r.filter(I=>I.profile===Kt.ESTUDIANTE&&_Z(I.curso||"")===e).sort((I,T)=>I.nombreCompleto.localeCompare(T.nombreCompleto)),[r,e]);k.useEffect(()=>{const I=xTe(e,t,s);return()=>I()},[e,t]),k.useEffect(()=>{if(i){const I={};i.grupos.forEach(T=>{T.integrantes.forEach(F=>{I[F.nombre]={groupNumber:String(T.numero),role:F.rol||""}})}),f(I)}else f({})},[i]);const g=async I=>{if(I.preventDefault(),!l.nombre.trim())return;const T={curso:e,asignatura:t,nombreActividad:l.nombre,fechaPresentacion:l.fecha,grupos:[]};try{await bTe(T),u({nombre:"",fecha:new Date().toISOString().split("T")[0]})}catch(F){console.error(F),alert("No se pudo crear la actividad grupal.")}},b=async()=>{if(!i)return;const I=new Map;for(const F of x){const w=d[F.nombreCompleto];if(w&&w.groupNumber){const C=parseInt(w.groupNumber,10);isNaN(C)||(I.has(C)||I.set(C,[]),I.get(C).push({nombre:F.nombreCompleto,rol:w.role||""}))}}const T=Array.from(I.entries()).map(([F,w])=>({numero:F,integrantes:w})).sort((F,w)=>F.numero-w.numero);try{await yTe(i.id,{grupos:T}),alert("Grupos guardados con éxito.")}catch(F){console.error(F),alert("No se pudieron guardar los grupos.")}},y=()=>{if(m<2){alert("Debe haber al menos 2 grupos.");return}const I=[...x].sort(()=>Math.random()-.5),T={};I.forEach((F,w)=>{var C;T[F.nombreCompleto]={groupNumber:String(w%m+1),role:((C=d[F.nombreCompleto])==null?void 0:C.role)||""}}),f(T)},_=(I,T,F)=>{f(w=>({...w,[I]:{...w[I]||{groupNumber:"",role:""},[T]:F}}))},S=k.useMemo(()=>{const I=new Map;return Object.entries(d).forEach(([T,F])=>{F.groupNumber&&(I.has(F.groupNumber)||I.set(F.groupNumber,[]),I.get(F.groupNumber).push({nombre:T,rol:F.role}))}),Array.from(I.entries()).sort((T,F)=>parseInt(T[0])-parseInt(F[0]))},[d]);return i?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("button",{onClick:()=>o(null),className:"text-sm font-semibold text-slate-500 hover:underline mb-2",children:"← Volver a Actividades"}),c.jsx("h2",{className:"text-2xl font-bold",children:i.nombreActividad})]}),c.jsx("button",{onClick:b,className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Guardar Grupos"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-1 space-y-4",children:[c.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Auto-asignación"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",value:m,onChange:I=>p(parseInt(I.target.value,10)),min:"2",className:"w-20 border-slate-300 rounded"}),c.jsx("button",{onClick:y,className:"flex-1 bg-slate-200 font-semibold py-2 px-3 rounded",children:"Asignar"})]})]}),c.jsxs("div",{className:"p-4 border rounded-lg h-[60vh] overflow-y-auto",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Nómina del Curso"}),c.jsx("table",{className:"w-full text-sm",children:c.jsx("tbody",{children:x.map(I=>{var T;return c.jsxs("tr",{children:[c.jsx("td",{className:"py-1 pr-2",children:I.nombreCompleto}),c.jsx("td",{className:"py-1",children:c.jsx("input",{type:"number",value:((T=d[I.nombreCompleto])==null?void 0:T.groupNumber)||"",onChange:F=>_(I.nombreCompleto,"groupNumber",F.target.value),className:"w-16 p-1 border rounded text-center",placeholder:"N°"})})]},I.id)})})})]})]}),c.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg h-[70vh] overflow-y-auto",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Grupos Formados"}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:S.map(([I,T])=>c.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[c.jsxs("h4",{className:"font-bold border-b pb-1 mb-2",children:["Grupo ",I]}),c.jsx("ul",{className:"space-y-2",children:T.map(F=>c.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[c.jsx("span",{className:"flex-1 truncate",children:F.nombre}),c.jsxs("select",{value:F.rol||"",onChange:w=>_(F.nombre,"role",w.target.value),className:"p-1 border rounded text-xs w-32",children:[c.jsx("option",{value:"",children:"-- Asignar Rol --"}),AX.map(w=>c.jsx("option",{value:w,children:w},w))]})]},F.nombre))})]},I))})]})]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:n,className:"text-slate-500 hover:text-slate-800",children:"← Volver a Asignaturas"}),c.jsxs("div",{className:"bg-slate-100 p-2 rounded-md font-bold text-slate-800",children:[e," / ",t]})]}),c.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Crear Actividad Grupal"}),c.jsxs("form",{onSubmit:g,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[c.jsx("input",{value:l.nombre,onChange:I=>u({...l,nombre:I.target.value}),placeholder:"Nombre de la actividad",className:"w-full border-slate-300 rounded-md",required:!0}),c.jsx("input",{type:"date",value:l.fecha,onChange:I=>u({...l,fecha:I.target.value}),className:"w-full border-slate-300 rounded-md",required:!0}),c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg",children:"Crear"})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Actividades Creadas"}),a.map(I=>c.jsxs("button",{onClick:()=>o(I),className:"w-full text-left p-3 bg-white dark:bg-slate-700 hover:bg-slate-100 rounded-md border",children:[c.jsx("p",{className:"font-bold",children:I.nombreActividad}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Fecha: ",I.fechaPresentacion]})]},I.id))]})]})},NTe=({currentUser:e})=>{const[t,r]=k.useState("calificaciones"),[n,a]=k.useState(null),[s,i]=k.useState(null),[o,l]=k.useState([]),[u,d]=k.useState(!0);k.useEffect(()=>{d(!0);const g=wTe(b=>{l(b),d(!1)});return()=>g()},[]);const f=k.useMemo(()=>e.cursos||[],[e.cursos]),m=k.useMemo(()=>e.asignaturas||[],[e.asignaturas]),p=({tab:g,label:b})=>c.jsx("button",{onClick:()=>r(g),className:`${t===g?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-3 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:b}),x=()=>{if(u)return c.jsx("div",{className:"text-center py-10",children:"Cargando datos de usuario..."});if(!n)return c.jsx(ETe,{cursos:f,onSelect:a});if(!s)return c.jsx(CTe,{curso:n,asignaturas:m,onSelect:i,onBack:()=>a(null)});if(t==="calificaciones")return c.jsx(_Te,{curso:n,asignatura:s,allUsers:o,onBack:()=>i(null)});if(t==="grupos")return c.jsx(STe,{curso:n,asignatura:s,allUsers:o,onBack:()=>i(null)})};return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Evaluaciones Formativas"}),c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:c.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[c.jsx(p,{tab:"calificaciones",label:"Calificaciones"}),c.jsx(p,{tab:"grupos",label:"Trabajos Grupales"})]})}),c.jsx("div",{className:"mt-6",children:x()})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NZ="firebasestorage.googleapis.com",BZ="storageBucket",BTe=120*1e3,kTe=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends id{constructor(t,r,n=0){super(sk(t),`Firebase Storage: ${r} (${sk(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bs.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return sk(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xs;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xs||(xs={}));function sk(e){return"storage/"+e}function LO(){const e="An unknown error occurred, please check the error payload for server response.";return new bs(xs.UNKNOWN,e)}function TTe(e){return new bs(xs.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function ITe(e){return new bs(xs.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jTe(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new bs(xs.UNAUTHENTICATED,e)}function FTe(){return new bs(xs.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function OTe(e){return new bs(xs.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function DTe(){return new bs(xs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function PTe(){return new bs(xs.CANCELED,"User canceled the upload/download.")}function RTe(e){return new bs(xs.INVALID_URL,"Invalid URL '"+e+"'.")}function LTe(e){return new bs(xs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function UTe(){return new bs(xs.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+BZ+"' property when initializing the app?")}function MTe(){return new bs(xs.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function QTe(){return new bs(xs.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function HTe(e){return new bs(xs.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function HI(e){return new bs(xs.INVALID_ARGUMENT,e)}function kZ(){return new bs(xs.APP_DELETED,"The Firebase app was deleted.")}function VTe(e){return new bs(xs.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tb(e,t){return new bs(xs.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function E1(e){throw new bs(xs.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=hc.makeFromUrl(t,r)}catch{return new hc(t,"")}if(n.path==="")return n;throw LTe(t)}static makeFromUrl(t,r){let n=null;const a="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const i="(/(.*))?$",o=new RegExp("^gs://"+a+i,"i"),l={bucket:1,path:3};function u(I){I.path_=decodeURIComponent(I.path)}const d="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${d}/b/${a}/o${m}`,"i"),x={bucket:1,path:3},g=r===NZ?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",y=new RegExp(`^https?://${g}/${a}/${b}`,"i"),S=[{regex:o,indices:l,postModify:s},{regex:p,indices:x,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<S.length;I++){const T=S[I],F=T.regex.exec(t);if(F){const w=F[T.indices.bucket];let C=F[T.indices.path];C||(C=""),n=new hc(w,C),T.postModify(n);break}}if(n==null)throw RTe(t);return n}}class zTe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Te(e,t,r){let n=1,a=null,s=null,i=!1,o=0;function l(){return o===2}let u=!1;function d(...b){u||(u=!0,t.apply(null,b))}function f(b){a=setTimeout(()=>{a=null,e(p,l())},b)}function m(){s&&clearTimeout(s)}function p(b,...y){if(u){m();return}if(b){m(),d.call(null,b,...y);return}if(l()||i){m(),d.call(null,b,...y);return}n<64&&(n*=2);let S;o===1?(o=2,S=0):S=(n+Math.random())*1e3,f(S)}let x=!1;function g(b){x||(x=!0,m(),!u&&(a!==null?(b||(o=2),clearTimeout(a),f(0)):b||(o=1)))}return f(0),s=setTimeout(()=>{i=!0,g(!0)},r),g}function KTe(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GTe(e){return e!==void 0}function qTe(e){return typeof e=="object"&&!Array.isArray(e)}function UO(e){return typeof e=="string"||e instanceof String}function L9(e){return MO()&&e instanceof Blob}function MO(){return typeof Blob<"u"}function U9(e,t,r,n){if(n<t)throw HI(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw HI(`Invalid value for '${e}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(e,t,r){let n=t;return r==null&&(n=`https://${t}`),`${r}://${n}/v0${e}`}function TZ(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const a=t(n)+"="+t(e[n]);r=r+a+"&"}return r=r.slice(0,-1),r}var Xm;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Xm||(Xm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WTe(e,t){const r=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return r||a||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XTe{constructor(t,r,n,a,s,i,o,l,u,d,f,m=!0,p=!1){this.url_=t,this.method_=r,this.headers_=n,this.body_=a,this.successCodes_=s,this.additionalRetryCodes_=i,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,g)=>{this.resolve_=x,this.reject_=g,this.start_()})}start_(){const t=(n,a)=>{if(a){n(!1,new tE(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const i=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(i),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(i),this.pendingConnection_=null;const o=s.getErrorCode()===Xm.NO_ERROR,l=s.getStatus();if(!o||WTe(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Xm.ABORT;n(!1,new tE(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;n(!0,new tE(u,s))})},r=(n,a)=>{const s=this.resolve_,i=this.reject_,o=a.connection;if(a.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());GTe(l)?s(l):s()}catch(l){i(l)}else if(o!==null){const l=LO();l.serverResponse=o.getErrorText(),this.errorCallback_?i(this.errorCallback_(o,l)):i(l)}else if(a.canceled){const l=this.appDelete_?kZ():PTe();i(l)}else{const l=DTe();i(l)}};this.canceled_?r(!1,new tE(!1,null,!0)):this.backoffId_=$Te(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&KTe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class tE{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function YTe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function JTe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function ZTe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function e3e(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function t3e(e,t,r,n,a,s,i=!0,o=!1){const l=TZ(e.urlParams),u=e.url+l,d=Object.assign({},e.headers);return ZTe(d,t),YTe(d,r),JTe(d,s),e3e(d,n),new XTe(u,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3e(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function n3e(...e){const t=r3e();if(t!==void 0){const r=new t;for(let n=0;n<e.length;n++)r.append(e[n]);return r.getBlob()}else{if(MO())return new Blob(e);throw new bs(xs.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function a3e(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.mozSlice?e.mozSlice(t,r):e.slice?e.slice(t,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3e(e){if(typeof atob>"u")throw HTe("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ik{constructor(t,r){this.data=t,this.contentType=r||null}}function i3e(e,t){switch(e){case nA.RAW:return new ik(IZ(t));case nA.BASE64:case nA.BASE64URL:return new ik(jZ(e,t));case nA.DATA_URL:return new ik(l3e(t),c3e(t))}throw LO()}function IZ(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<e.length-1&&(e.charCodeAt(r+1)&64512)===56320))t.push(239,191,189);else{const s=n,i=e.charCodeAt(++r);n=65536|(s&1023)<<10|i&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function o3e(e){let t;try{t=decodeURIComponent(e)}catch{throw Tb(nA.DATA_URL,"Malformed data URL.")}return IZ(t)}function jZ(e,t){switch(e){case nA.BASE64:{const a=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(a||s)throw Tb(e,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case nA.BASE64URL:{const a=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(a||s)throw Tb(e,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=s3e(t)}catch(a){throw a.message.includes("polyfill")?a:Tb(e,"Invalid character found")}const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}class FZ{constructor(t){this.base64=!1,this.contentType=null;const r=t.match(/^data:([^,]+)?,/);if(r===null)throw Tb(nA.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=u3e(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}function l3e(e){const t=new FZ(e);return t.base64?jZ(nA.BASE64,t.rest):o3e(t.rest)}function c3e(e){return new FZ(e).contentType}function u3e(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t,r){let n=0,a="";L9(t)?(this.data_=t,n=t.size,a=t.type):t instanceof ArrayBuffer?(r?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(r?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,r){if(L9(this.data_)){const n=this.data_,a=a3e(n,t,r);return a===null?null:new Xh(a)}else{const n=new Uint8Array(this.data_.buffer,t,r-t);return new Xh(n,!0)}}static getBlob(...t){if(MO()){const r=t.map(n=>n instanceof Xh?n.data_:n);return new Xh(n3e.apply(null,r))}else{const r=t.map(i=>UO(i)?i3e(nA.RAW,i).data:i.data_);let n=0;r.forEach(i=>{n+=i.byteLength});const a=new Uint8Array(n);let s=0;return r.forEach(i=>{for(let o=0;o<i.length;o++)a[s++]=i[o]}),new Xh(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OZ(e){let t;try{t=JSON.parse(e)}catch{return null}return qTe(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3e(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function A3e(e,t){const r=t.split("/").filter(n=>n.length>0).join("/");return e.length===0?r:e+"/"+r}function DZ(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3e(e,t){return t}class Wo{constructor(t,r,n,a){this.server=t,this.local=r||t,this.writable=!!n,this.xform=a||f3e}}let rE=null;function h3e(e){return!UO(e)||e.length<2?e:DZ(e)}function PZ(){if(rE)return rE;const e=[];e.push(new Wo("bucket")),e.push(new Wo("generation")),e.push(new Wo("metageneration")),e.push(new Wo("name","fullPath",!0));function t(s,i){return h3e(i)}const r=new Wo("name");r.xform=t,e.push(r);function n(s,i){return i!==void 0?Number(i):i}const a=new Wo("size");return a.xform=n,e.push(a),e.push(new Wo("timeCreated")),e.push(new Wo("updated")),e.push(new Wo("md5Hash",null,!0)),e.push(new Wo("cacheControl",null,!0)),e.push(new Wo("contentDisposition",null,!0)),e.push(new Wo("contentEncoding",null,!0)),e.push(new Wo("contentLanguage",null,!0)),e.push(new Wo("contentType",null,!0)),e.push(new Wo("metadata","customMetadata",!0)),rE=e,rE}function m3e(e,t){function r(){const n=e.bucket,a=e.fullPath,s=new hc(n,a);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:r})}function p3e(e,t,r){const n={};n.type="file";const a=r.length;for(let s=0;s<a;s++){const i=r[s];n[i.local]=i.xform(n,t[i.server])}return m3e(n,e),n}function RZ(e,t,r){const n=OZ(t);return n===null?null:p3e(e,n,r)}function g3e(e,t,r,n){const a=OZ(t);if(a===null||!UO(a.downloadTokens))return null;const s=a.downloadTokens;if(s.length===0)return null;const i=encodeURIComponent;return s.split(",").map(u=>{const d=e.bucket,f=e.fullPath,m="/b/"+i(d)+"/o/"+i(f),p=QO(m,r,n),x=TZ({alt:"media",token:u});return p+x})[0]}function v3e(e,t){const r={},n=t.length;for(let a=0;a<n;a++){const s=t[a];s.writable&&(r[s.server]=e[s.local])}return JSON.stringify(r)}class LZ{constructor(t,r,n,a){this.url=t,this.method=r,this.handler=n,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UZ(e){if(!e)throw LO()}function x3e(e,t){function r(n,a){const s=RZ(e,a,t);return UZ(s!==null),s}return r}function b3e(e,t){function r(n,a){const s=RZ(e,a,t);return UZ(s!==null),g3e(s,a,e.host,e._protocol)}return r}function MZ(e){function t(r,n){let a;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?a=FTe():a=jTe():r.getStatus()===402?a=ITe(e.bucket):r.getStatus()===403?a=OTe(e.path):a=n,a.status=r.getStatus(),a.serverResponse=n.serverResponse,a}return t}function y3e(e){const t=MZ(e);function r(n,a){let s=t(n,a);return n.getStatus()===404&&(s=TTe(e.path)),s.serverResponse=a.serverResponse,s}return r}function w3e(e,t,r){const n=t.fullServerUrl(),a=QO(n,e.host,e._protocol),s="GET",i=e.maxOperationRetryTime,o=new LZ(a,s,b3e(e,r),i);return o.errorHandler=y3e(t),o}function E3e(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function C3e(e,t,r){const n=Object.assign({},r);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=E3e(null,t)),n}function _3e(e,t,r,n,a){const s=t.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};function o(){let S="";for(let I=0;I<2;I++)S=S+Math.random().toString().slice(2);return S}const l=o();i["Content-Type"]="multipart/related; boundary="+l;const u=C3e(t,n,a),d=v3e(u,r),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+l+"--",p=Xh.getBlob(f,n,m);if(p===null)throw MTe();const x={name:u.fullPath},g=QO(s,e.host,e._protocol),b="POST",y=e.maxUploadRetryTime,_=new LZ(g,b,x3e(e,r),y);return _.urlParams=x,_.headers=i,_.body=p.uploadData(),_.errorHandler=MZ(t),_}class S3e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xm.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xm.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xm.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,r,n,a,s){if(this.sent_)throw E1("cannot .send() more than once");if(Uf(t)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,t,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw E1("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw E1("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw E1("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw E1("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class N3e extends S3e{initXhr(){this.xhr_.responseType="text"}}function QZ(){return new N3e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(t,r){this._service=t,r instanceof hc?this._location=r:this._location=hc.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new pp(t,r)}get root(){const t=new hc(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DZ(this._location.path)}get storage(){return this._service}get parent(){const t=d3e(this._location.path);if(t===null)return null;const r=new hc(this._location.bucket,t);return new pp(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw VTe(t)}}function B3e(e,t,r){e._throwIfRoot("uploadBytes");const n=_3e(e.storage,e._location,PZ(),new Xh(t,!0),r);return e.storage.makeRequestWithTokens(n,QZ).then(a=>({metadata:a,ref:e}))}function k3e(e){e._throwIfRoot("getDownloadURL");const t=w3e(e.storage,e._location,PZ());return e.storage.makeRequestWithTokens(t,QZ).then(r=>{if(r===null)throw QTe();return r})}function T3e(e,t){const r=A3e(e._location.path,t),n=new hc(e._location.bucket,r);return new pp(e.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3e(e){return/^[A-Za-z]+:\/\//.test(e)}function j3e(e,t){return new pp(e,t)}function HZ(e,t){if(e instanceof HO){const r=e;if(r._bucket==null)throw UTe();const n=new pp(r,r._bucket);return t!=null?HZ(n,t):n}else return t!==void 0?T3e(e,t):e}function F3e(e,t){if(t&&I3e(t)){if(e instanceof HO)return j3e(e,t);throw HI("To use ref(service, url), the first argument must be a Storage instance.")}else return HZ(e,t)}function M9(e,t){const r=t==null?void 0:t[BZ];return r==null?null:hc.makeFromBucketSpec(r,e)}function O3e(e,t,r,n={}){e.host=`${t}:${r}`;const a=Uf(t);a&&($S(`https://${e.host}/b`),KS("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:s}=n;s&&(e._overrideAuthToken=typeof s=="string"?s:$G(s,e.app.options.projectId))}class HO{constructor(t,r,n,a,s,i=!1){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=a,this._firebaseVersion=s,this._isUsingEmulator=i,this._bucket=null,this._host=NZ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BTe,this._maxUploadRetryTime=kTe,this._requests=new Set,a!=null?this._bucket=hc.makeFromBucketSpec(a,this._host):this._bucket=M9(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=hc.makeFromBucketSpec(this._url,t):this._bucket=M9(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){U9("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){U9("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(lc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new pp(this,t)}_makeRequest(t,r,n,a,s=!0){if(this._deleted)return new zTe(kZ());{const i=t3e(t,this._appId,n,a,r,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(t,r){const[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,a).getPromise()}}const Q9="@firebase/storage",H9="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VZ="storage";function D3e(e,t,r){return e=va(e),B3e(e,t,r)}function P3e(e){return e=va(e),k3e(e)}function R3e(e,t){return e=va(e),F3e(e,t)}function L3e(e=GS(),t){e=va(e);const n=Ry(e,VZ).getImmediate({identifier:t}),a=DF("storage");return a&&U3e(n,...a),n}function U3e(e,t,r,n={}){O3e(e,t,r,n)}function M3e(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new HO(r,n,a,t,Ep)}function Q3e(){y0(new wf(VZ,M3e,"PUBLIC").setMultipleInstances(!0)),fu(Q9,H9,""),fu(Q9,H9,"esm2020")}Q3e();const mx="acompanamientos",H3e="ciclosOPR",V3e="configuracion",z3e=async()=>{try{const e=tr(Ft(Mr,mx),qr("fecha","desc"));return(await Zs(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error al obtener acompañamientos:",e),new Error("No se pudieron cargar los registros de acompañamiento")}},$3e=async e=>{try{return{id:(await xa(Ft(Mr,mx),{...e,fecha:e.fecha||new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id,...e}}catch(t){throw console.error("Error al crear acompañamiento:",t),new Error("No se pudo crear el registro de acompañamiento")}},K3e=async(e,t)=>{try{const r=Er(Mr,mx,e);await ux(r,{...t,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error al actualizar acompañamiento:",r,"ID:",e),new Error("No se pudo actualizar el registro de acompañamiento")}},G3e=async e=>{try{const t=Er(Mr,mx,e);await pi(t)}catch(t){throw console.error("Error al eliminar acompañamiento:",t,"ID:",e),new Error("No se pudo eliminar el registro de acompañamiento")}},q3e=async(e,t)=>{try{const r=Ft(Mr,mx,e,H3e);return{id:(await xa(r,{...t,createdAt:new Date().toISOString()})).id,...t}}catch(r){throw console.error(`Error al crear ciclo OPR para ${e}:`,r),new Error("No se pudo crear el ciclo OPR")}},W3e=async(e,t)=>{try{const r=L3e(),n=R3e(r,t),a=await D3e(n,e);return await P3e(a.ref)}catch(r){throw console.error(`Error al subir archivo a ${t}:`,r),new Error("No se pudo subir el archivo")}},X3e=async e=>{try{const t=tr(Ft(Mr,mx),Mn("docente","==",e),qr("fecha","desc"));return(await Zs(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error al obtener acompañamientos por docente:",t),new Error("No se pudieron cargar los acompañamientos del docente")}},Y3e=async()=>{try{const e=Er(Mr,V3e,"rubricaAcompanamiento"),t=await Xy(e);return t.exists()?t.data().rubrica:null}catch(e){return console.error("Error al obtener rúbrica personalizada:",e),null}},J3e=async()=>await bZ(),Z3e=({label:e,onFileChange:t,uploadedUrl:r,onRemove:n,isUploading:a,accept:s="video/mp4,video/quicktime"})=>{const i=`file-upload-${e.replace(/\s+/g,"-")}`;return c.jsxs("div",{className:"w-full",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:e}),r?c.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-md bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-700",children:[c.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-green-700 dark:text-green-300 hover:underline truncate",children:"Ver video cargado"}),c.jsx("button",{type:"button",onClick:n,className:"text-red-500 hover:text-red-700 ml-auto",children:c.jsx(D6,{className:"w-4 h-4"})})]}):c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{id:i,type:"file",onChange:o=>o.target.files&&t(o.target.files[0]),className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100",disabled:a,accept:s}),a&&c.jsx("div",{className:"text-sm text-amber-600",children:"Cargando..."})]})]})},eIe=({acompanamiento:e,cicloToEdit:t,onSave:r,onCancel:n,profesores:a})=>{const[s,i]=k.useState(!1),[o,l]=k.useState({docente:e.docente||"",curso:e.curso||"",asignatura:e.asignatura||""}),u=async(C,N)=>{var M;if(!N||!N.trim())return N;const R=Tm(),D=Qh(R,"callGeminiAI"),O=`Mejora la redacción del siguiente texto con un tono técnico-pedagógico propio de informes educativos. Mantén el sentido original y NO agregues información nueva ni ejemplos inventados. Devuélvelo como un texto breve, claro y directo. Texto (${C}):

"""${N}"""`;try{const Q=await D({prompt:O,module:"CicloOPR"});return((M=Q==null?void 0:Q.data)==null?void 0:M.response)||N}catch(Q){return console.error(`Error improving text for ${C}:`,Q),N}},d=k.useMemo(()=>({registroN:1,nombreCiclo:"",fecha:new Date().toISOString().split("T")[0],horaInicio:"",horaTermino:"",videoObservacionUrl:"",detallesObservacion:[{id:`row_${Date.now()}`,minuto:"0-5",accionesDocente:"",accionesEstudiantes:"",actividades:""}],retroalimentacion:{exito:"",modelo:"",videoModeloUrl:"",foco:"",elementosIdentificar:"",brecha:{videoUrl:"",minutoInicial:"",minutoFinal:"",preguntas:"",indicadores:""}},planificacion:{preparacion:"",objetivo:"",actividad:"",tiempo:""},seguimiento:{fecha:"",curso:o.curso||"",profesor:o.docente||"",firma:""},acompanamientoId:e.id&&!e.id.startsWith("temp-")?e.id:null}),[e,o]),[f,m]=k.useState(t||d),[p,x]=k.useState({}),g=C=>{const{name:N,value:R}=C.target,D=N.split(".");D.length>1?m(O=>{const M=JSON.parse(JSON.stringify(O));let Q=M;for(let ee=0;ee<D.length-1;ee++)Q=Q[D[ee]];return Q[D[D.length-1]]=R,M}):m(O=>({...O,[N]:R}))},b=(C,N,R)=>{m(D=>({...D,detallesObservacion:D.detallesObservacion.map(O=>O.id===C?{...O,[N]:R}:O)}))},y=()=>{const C=f.detallesObservacion[f.detallesObservacion.length-1],N=C&&parseInt(C.minuto.split("-")[1],10)||0,R=`${N+1}-${N+5}`;m(D=>({...D,detallesObservacion:[...D.detallesObservacion,{id:`row_${Date.now()}`,minuto:R,accionesDocente:"",accionesEstudiantes:"",actividades:""}]}))},_=C=>{m(N=>({...N,detallesObservacion:N.detallesObservacion.filter(R=>R.id!==C)}))},S=async(C,N)=>{x(R=>({...R,[C]:!0}));try{const R=`${Date.now()}-${N.name}`,D=e.id||"independent",O=f.id||"temp",M=`videos_opr/${D}/${O}/${R}`,Q=await W3e(N,M),ee=C.split(".");ee.length>1?m(W=>{const Z=JSON.parse(JSON.stringify(W));let V=Z;for(let q=0;q<ee.length-1;q++)V=V[ee[q]];return V[ee[ee.length-1]]=Q,Z}):m(W=>({...W,[C]:Q}))}catch(R){console.error("Error al subir archivo:",R),alert("No se pudo subir el archivo. Inténtelo de nuevo.")}finally{x(R=>({...R,[C]:!1}))}},I=C=>{const N=C.split(".");N.length>1?m(R=>{const D=JSON.parse(JSON.stringify(R));let O=D;for(let M=0;M<N.length-1;M++)O=O[N[M]];return O[N[N.length-1]]="",D}):m(R=>({...R,[C]:""}))},T=async()=>{var C,N;i(!0);try{const R=f.retroalimentacion,D=f.planificacion,[O,M,Q,ee,W,Z,V,q,K,J]=await Promise.all([u("Éxito",R.exito),u("Modelo",R.modelo),u("Foco",R.foco),u("Elementos a identificar",R.elementosIdentificar),u("Brecha - Preguntas",((C=R.brecha)==null?void 0:C.preguntas)||""),u("Brecha - Indicadores",((N=R.brecha)==null?void 0:N.indicadores)||""),u("Planificación - Preparación",D.preparacion),u("Planificación - Objetivo",D.objetivo),u("Planificación - Actividad",D.actividad),u("Planificación - Tiempo",D.tiempo)]);m(P=>({...P,retroalimentacion:{...P.retroalimentacion,exito:O,modelo:M,foco:Q,elementosIdentificar:ee,brecha:{...P.retroalimentacion.brecha,preguntas:W,indicadores:Z}},planificacion:{...P.planificacion,preparacion:V,objetivo:q,actividad:K,tiempo:J}}))}catch(R){console.error(R),alert("No se pudo mejorar la redacción. Intenta nuevamente.")}i(!1)},F=()=>{const C=new mr,N=C.internal.pageSize.getWidth(),R=15,D=N-R*2;let O=20;const M=Z=>{O>260&&(C.addPage(),O=20),C.setFontSize(14),C.setFont("helvetica","bold"),C.text(Z,R,O),O+=10},Q=(Z,V="")=>{if(!Z)return;O>270&&(C.addPage(),O=20),C.setFontSize(10),C.setFont("helvetica","bold"),C.text(V,R,O),C.setFont("helvetica","normal");const q=C.splitTextToSize(Z,D-(V?15:0));C.text(q,R+(V?15:0),O),O+=q.length*5+4};C.setFontSize(18),C.setFont("helvetica","bold"),C.text("Informe de Ciclo OPR",N/2,O,{align:"center"}),O+=15,M("1. Datos Generales");const ee=[["Docente:",o.docente],["Curso:",o.curso],["Asignatura:",o.asignatura],["Fecha:",new Date(f.fecha).toLocaleDateString("es-CL")],["Hora:",`${f.horaInicio} - ${f.horaTermino}`],["Ciclo:",f.nombreCiclo]];nl(C,{body:ee,startY:O,theme:"plain",styles:{fontSize:10},columnStyles:{0:{fontStyle:"bold"}}}),O=C.lastAutoTable.finalY+10,M("2. Registro Detallado de Observación");const W=f.detallesObservacion.map(Z=>[Z.minuto,Z.accionesDocente,Z.accionesEstudiantes,Z.actividades]);nl(C,{head:[["Minuto","Acciones del Docente","Acciones de Estudiantes","Actividades"]],body:W,startY:O,theme:"grid",headStyles:{fillColor:[41,128,185],textColor:255},styles:{fontSize:9,cellPadding:2},didDrawPage:Z=>{var V;O=((V=Z.cursor)==null?void 0:V.y)||20}}),O=C.lastAutoTable.finalY+10,M("3. Retroalimentación Docente"),Q(f.retroalimentacion.exito,"Éxito:"),Q(f.retroalimentacion.modelo,"Modelo:"),Q(f.retroalimentacion.foco,"Foco:"),Q(f.retroalimentacion.elementosIdentificar,"Elementos a Identificar:"),O+=5,C.setFontSize(11),C.setFont("helvetica","bold"),C.text("Análisis de Brecha",R,O),O+=7,Q(`${f.retroalimentacion.brecha.minutoInicial} a ${f.retroalimentacion.brecha.minutoFinal}`,"Minutos:"),Q(f.retroalimentacion.brecha.preguntas,"Preguntas:"),Q(f.retroalimentacion.brecha.indicadores,"Indicadores:"),M("4. Planificación de Práctica"),Q(f.planificacion.preparacion,"Preparación:"),Q(f.planificacion.objetivo,"Objetivo:"),Q(f.planificacion.actividad,"Actividad:"),Q(f.planificacion.tiempo,"Tiempo:"),M("5. Seguimiento"),Q(new Date(f.seguimiento.fecha).toLocaleDateString("es-CL"),"Fecha:"),Q(f.seguimiento.firma,"Firma (Registrado por):"),C.save(`Informe_OPR_${o.docente}_${f.fecha}.pdf`)},w=async C=>{C.preventDefault();const N={...f,docenteInfo:o.docente,cursoInfo:o.curso,asignaturaInfo:o.asignatura,seguimiento:{...f.seguimiento,profesor:o.docente,curso:o.curso}};await r(N)};return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-lg animate-fade-in",children:[(!e.id||e.id.startsWith("temp-"))&&c.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-slate-50 dark:bg-slate-900/30",children:[c.jsx("h4",{className:"text-lg font-semibold mb-3 text-slate-700 dark:text-slate-300",children:"Datos Básicos del Ciclo OPR"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Docente"}),c.jsxs("select",{value:o.docente,onChange:C=>l(N=>({...N,docente:C.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Seleccione un docente"}),a.map(C=>c.jsx("option",{value:C,children:C},C))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),c.jsxs("select",{value:o.curso,onChange:C=>l(N=>({...N,curso:C.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Seleccione un curso"}),qa.map(C=>c.jsx("option",{value:C,children:C},C))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),c.jsxs("select",{value:o.asignatura,onChange:C=>l(N=>({...N,asignatura:C.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Seleccione una asignatura"}),Pi.map(C=>c.jsx("option",{value:C,children:C},C))]})]})]})]}),c.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-blue-50 dark:bg-blue-900/30",children:[c.jsx("h4",{className:"text-lg font-semibold mb-2 text-blue-700 dark:text-blue-300",children:"Asistente IA del Ciclo OPR"}),c.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[c.jsxs("button",{type:"button",onClick:T,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md flex items-center gap-2",disabled:s,children:[c.jsx(Dpe,{className:"w-4 h-4"}),s?"Mejorando redacción...":"Mejorar Redacción del Ciclo"]}),c.jsxs("button",{type:"button",onClick:F,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md flex items-center gap-2",children:[c.jsx(hX,{className:"w-4 h-4"}),"Descargar Informe PDF"]})]}),c.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-2",children:"Usa la IA para mejorar la redacción de los textos ya escritos. Luego, descarga el informe completo en PDF."})]}),c.jsxs("form",{onSubmit:w,className:"space-y-8",children:[c.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:[t?"Editando":"Nuevo"," Ciclo OPR"]}),c.jsxs("fieldset",{className:"shadow-md rounded-lg p-4 border dark:border-slate-700 space-y-4",children:[c.jsxs("legend",{className:"flex items-center gap-2 text-lg font-semibold px-2 text-slate-700 dark:text-slate-300",children:[c.jsx(Kpe,{className:"w-5 h-5 text-amber-500"})," Datos Generales"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx("input",{type:"text",name:"nombreCiclo",value:f.nombreCiclo,onChange:g,placeholder:"Nombre o N° del Ciclo",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("input",{type:"date",name:"fecha",value:f.fecha,onChange:g,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("input",{type:"number",name:"registroN",value:f.registroN,onChange:g,placeholder:"Registro de Observación N°",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("input",{type:"time",name:"horaInicio",value:f.horaInicio,onChange:g,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("input",{type:"time",name:"horaTermino",value:f.horaTermino,onChange:g,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),c.jsx(Z3e,{label:"Subir video de observación de clase",onFileChange:C=>S("videoObservacionUrl",C),uploadedUrl:f.videoObservacionUrl,onRemove:()=>I("videoObservacionUrl"),isUploading:!!p.videoObservacionUrl})]}),c.jsxs("fieldset",{className:"shadow-md rounded-lg p-4 border dark:border-slate-700 space-y-4",children:[c.jsxs("legend",{className:"flex items-center gap-2 text-lg font-semibold px-2 text-slate-700 dark:text-slate-300",children:[c.jsx(wpe,{className:"w-5 h-5 text-blue-500"})," Registro Detallado de Observación"]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b dark:border-slate-600",children:[c.jsx("th",{className:"text-left p-2 text-sm font-medium text-slate-600 dark:text-slate-300",children:"Minuto"}),c.jsx("th",{className:"text-left p-2 text-sm font-medium text-slate-600 dark:text-slate-300",children:"Acciones del Docente"}),c.jsx("th",{className:"text-left p-2 text-sm font-medium text-slate-600 dark:text-slate-300",children:"Acciones de Estudiantes"}),c.jsx("th",{className:"text-left p-2 text-sm font-medium text-slate-600 dark:text-slate-300",children:"Actividades"}),c.jsx("th",{className:"p-2"})]})}),c.jsx("tbody",{children:f.detallesObservacion.map(C=>c.jsxs("tr",{className:"border-b dark:border-slate-700",children:[c.jsx("td",{children:c.jsx("input",{type:"text",value:C.minuto,onChange:N=>b(C.id,"minuto",N.target.value),className:"w-24 border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})}),c.jsx("td",{children:c.jsx("textarea",{value:C.accionesDocente,onChange:N=>b(C.id,"accionesDocente",N.target.value),rows:2,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})}),c.jsx("td",{children:c.jsx("textarea",{value:C.accionesEstudiantes,onChange:N=>b(C.id,"accionesEstudiantes",N.target.value),rows:2,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})}),c.jsx("td",{children:c.jsx("textarea",{value:C.actividades,onChange:N=>b(C.id,"actividades",N.target.value),rows:2,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})}),c.jsx("td",{children:f.detallesObservacion.length>1&&c.jsx("button",{type:"button",onClick:()=>_(C.id),className:"text-red-500 p-1",children:c.jsx(D6,{className:"w-4 h-4"})})})]},C.id))})]})}),c.jsxs("button",{type:"button",onClick:y,className:"text-sm bg-slate-200 dark:bg-slate-600 px-3 py-1 rounded-md hover:bg-slate-300 dark:hover:bg-slate-500 flex items-center gap-1",children:[c.jsx(fI,{className:"w-4 h-4"})," Agregar Fila"]})]}),c.jsxs("fieldset",{className:"shadow-md rounded-lg p-4 border dark:border-slate-700 space-y-4",children:[c.jsxs("legend",{className:"flex items-center gap-2 text-lg font-semibold px-2 text-slate-700 dark:text-slate-300",children:[c.jsx(Fpe,{className:"w-5 h-5 text-green-600"})," Retroalimentación Docente"]}),c.jsx("textarea",{name:"retroalimentacion.exito",value:f.retroalimentacion.exito,onChange:g,placeholder:"Éxito",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsx("textarea",{name:"retroalimentacion.modelo",value:f.retroalimentacion.modelo,onChange:g,placeholder:"Modelo",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsx("textarea",{name:"retroalimentacion.foco",value:f.retroalimentacion.foco,onChange:g,placeholder:"Foco",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsx("textarea",{name:"retroalimentacion.elementosIdentificar",value:f.retroalimentacion.elementosIdentificar,onChange:g,placeholder:"Elementos a Identificar",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsxs("div",{className:"p-3 border rounded-md dark:border-slate-600 space-y-3",children:[c.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Brecha"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("input",{type:"text",name:"retroalimentacion.brecha.minutoInicial",value:f.retroalimentacion.brecha.minutoInicial,onChange:g,placeholder:"Minuto inicial",className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsx("input",{type:"text",name:"retroalimentacion.brecha.minutoFinal",value:f.retroalimentacion.brecha.minutoFinal,onChange:g,placeholder:"Minuto final",className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),c.jsx("textarea",{name:"retroalimentacion.brecha.preguntas",value:f.retroalimentacion.brecha.preguntas,onChange:g,placeholder:"Preguntas",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsx("textarea",{name:"retroalimentacion.brecha.indicadores",value:f.retroalimentacion.brecha.indicadores,onChange:g,placeholder:"Indicadores",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})]})]}),c.jsxs("fieldset",{className:"shadow-md rounded-lg p-4 border dark:border-slate-700 space-y-4",children:[c.jsxs("legend",{className:"flex items-center gap-2 text-lg font-semibold px-2 text-slate-700 dark:text-slate-300",children:[c.jsx(vpe,{className:"w-5 h-5 text-purple-600"})," Planificación de Práctica y Seguimiento"]}),c.jsx("textarea",{name:"planificacion.preparacion",value:f.planificacion.preparacion,onChange:g,placeholder:"Preparación",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsx("textarea",{name:"planificacion.objetivo",value:f.planificacion.objetivo,onChange:g,placeholder:"Objetivo",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsx("textarea",{name:"planificacion.actividad",value:f.planificacion.actividad,onChange:g,placeholder:"Actividad",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsx("input",{type:"text",name:"planificacion.tiempo",value:f.planificacion.tiempo,onChange:g,placeholder:"Tiempo",className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsxs("div",{className:"p-3 border rounded-md dark:border-slate-600 space-y-3",children:[c.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Seguimiento"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx("input",{type:"date",name:"seguimiento.fecha",value:f.seguimiento.fecha,onChange:g,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsx("input",{type:"text",name:"seguimiento.firma",value:f.seguimiento.firma,onChange:g,placeholder:"Firma (Nombre de quien registra)",className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})]})]})]}),c.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[c.jsx("button",{type:"button",onClick:n,className:"bg-slate-200 dark:bg-slate-600 text-slate-800 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar Ciclo OPR"})]})]})]})},tIe=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState(!0),[i,o]=k.useState(!0),[l,u]=k.useState(null),[d,f]=k.useState("list"),[m,p]=k.useState(null),[x,g]=k.useState("general"),[b,y]=k.useState(!1),[_,S]=k.useState(""),I=vb,T=k.useMemo(()=>({fecha:new Date().toISOString(),docente:"",curso:"",asignatura:"",bloques:"",rubricaResultados:{},observacionesGenerales:"",retroalimentacionConsolidada:""}),[]),[F,w]=k.useState(T),C=k.useCallback(async()=>{s(!0);try{const K=await z3e();t(K)}catch(K){u("No se pudieron cargar los registros."),console.error(K)}finally{s(!1)}},[]),N=k.useCallback(async()=>{o(!0);try{const J=(await J3e()).filter(P=>P.profile==="PROFESORADO").map(P=>P.nombreCompleto).sort();n(J)}catch(K){u("No se pudo cargar la lista de profesores."),console.error(K)}finally{o(!1)}},[]);k.useEffect(()=>{C(),N()},[C,N]);const R=async()=>{var K;if(!F.docente||!F.curso||!F.asignatura){alert("Por favor complete los datos básicos (docente, curso, asignatura) antes de generar el informe.");return}y(!0);try{const J=Tm(),P=Qh(J,"callGeminiAI"),G=Object.entries(F.rubricaResultados||{}).map(([me,ue])=>`${me}: Nivel ${ue}`).join(`
`),Y={docente:F.docente,curso:F.curso,asignatura:F.asignatura,fecha:new Date(F.fecha).toLocaleDateString("es-CL"),bloques:F.bloques||"No especificado",rubricaResultados:G||"Sin evaluación de rúbrica",observacionesGenerales:F.observacionesGenerales||"Sin observaciones adicionales"},re=`Genera una retroalimentación pedagógica detallada y un resumen de observaciones basado en estos datos del acompañamiento docente:

DATOS DEL ACOMPAÑAMIENTO:
- Docente: ${Y.docente}
- Curso: ${Y.curso}
- Asignatura: ${Y.asignatura}
- Fecha: ${Y.fecha}
- Bloques horarios: ${Y.bloques}

RESULTADOS DE RÚBRICA:
${Y.rubricaResultados}

OBSERVACIONES GENERALES:
${Y.observacionesGenerales}

Por favor genera una retroalimentación con tono técnico pedagógico, clara y constructiva, con la siguiente estructura:
1. INTRODUCCIÓN: Contextualización del acompañamiento
2. FORTALEZAS OBSERVADAS: Aspectos destacados del desempeño docente
3. OPORTUNIDADES DE MEJORA: Áreas a desarrollar
4. RECOMENDACIONES ESPECÍFICAS: Estrategias concretas para implementar
5. CONCLUSIÓN: Síntesis y próximos pasos

La retroalimentación debe ser profesional, constructiva y orientada al desarrollo profesional docente.`,ie=await P({prompt:re,module:"AcompanamientoGeneral"}),de=((K=ie==null?void 0:ie.data)==null?void 0:K.response)||"No se pudo generar la retroalimentación.";S(de),w(me=>({...me,retroalimentacionConsolidada:de})),D(de)}catch(J){console.error("Error al generar retroalimentación:",J),alert("No se pudo generar la retroalimentación. Intente nuevamente.")}finally{y(!1)}},D=K=>{const J=new mr,P=J.internal.pageSize.getWidth(),G=15,Y=P-G*2;let re=20;J.setFontSize(18),J.setFont("helvetica","bold"),J.text("INFORME DE ACOMPAÑAMIENTO DOCENTE",P/2,re,{align:"center"}),re+=5,J.setLineWidth(.5),J.line(G,re,P-G,re),re+=10;const ie=[["Docente:",F.docente],["Curso:",F.curso],["Asignatura:",F.asignatura],["Fecha:",new Date(F.fecha).toLocaleDateString("es-CL")],["Bloques horarios:",F.bloques||"No especificado"]];if(nl(J,{body:ie,startY:re,theme:"plain",styles:{fontSize:10},columnStyles:{0:{fontStyle:"bold"}}}),re=J.lastAutoTable.finalY+10,Object.keys(F.rubricaResultados||{}).length>0){J.setFontSize(12),J.setFont("helvetica","bold"),J.text("RESULTADOS DE EVALUACIÓN",G,re),re+=8;const ue=Object.entries(F.rubricaResultados).map(([ye,Ie])=>[ye,`Nivel ${Ie}`,Ie===1?"Débil":Ie===2?"Incipiente":Ie===3?"Satisfactorio":"Avanzado"]);nl(J,{startY:re,head:[["Criterio","Nivel","Descripción"]],body:ue,theme:"grid",headStyles:{fillColor:[245,158,11],textColor:255},margin:{left:G,right:G},styles:{fontSize:9}}),re=J.lastAutoTable.finalY+10}const de=(ue,ye)=>{if(!ye)return;re>250&&(J.addPage(),re=20),J.setFontSize(12),J.setFont("helvetica","bold"),J.text(ue,G,re),re+=8,J.setFontSize(10),J.setFont("helvetica","normal");const Ie=J.splitTextToSize(ye,Y);J.text(Ie,G,re),re+=Ie.length*5+10};de("OBSERVACIONES GENERALES",F.observacionesGenerales),de("RETROALIMENTACIÓN PEDAGÓGICA (IA)",K);const me=J.getNumberOfPages();for(let ue=1;ue<=me;ue++)J.setPage(ue),J.setFontSize(8),J.setFont("helvetica","italic"),J.text(`Generado el ${new Date().toLocaleDateString("es-CL")} - Página ${ue} de ${me}`,P/2,J.internal.pageSize.getHeight()-10,{align:"center"});J.save(`Informe_Acompañamiento_${F.docente}_${F.curso}_${new Date().toISOString().split("T")[0]}.pdf`)},O=K=>{w(J=>({...J,[K.target.name]:K.target.value}))},M=(K,J)=>{w(P=>({...P,rubricaResultados:{...P.rubricaResultados,[K]:J}}))},Q=async K=>{if(K.preventDefault(),!F.docente||!F.curso||!F.asignatura){alert("Docente, curso y asignatura son campos obligatorios.");return}try{if(m)await K3e(m,F),alert("¡Actualizado correctamente!");else{const J=await $3e(F);p(J.id),w(P=>({...P,id:J.id})),alert("¡Guardado correctamente! Ahora puedes agregar Ciclos OPR.")}await C()}catch(J){u("Error al guardar el registro."),console.error(J)}},ee=()=>{w(T),p(null),f("form"),g("general"),u(null),S("")},W=K=>{w(K),p(K.id),f("form"),g("general"),u(null),S(K.retroalimentacionConsolidada||"")},Z=async K=>{if(window.confirm("¿Está seguro de que desea eliminar este registro? Esto no eliminará los ciclos OPR asociados."))try{await G3e(K),await C()}catch(J){u("No se pudo eliminar el registro."),console.error(J)}},V=()=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Módulo de Acompañamiento Docente"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>{ee(),g("general")},className:"bg-green-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-600 flex items-center gap-2",children:[c.jsx(fI,{className:"w-5 h-5"})," Acompañamiento"]}),c.jsxs("button",{onClick:()=>{w(T),p(null),f("form"),g("opr"),u(null),S("")},className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 flex items-center gap-2",children:[c.jsx(fI,{className:"w-5 h-5"})," Ciclo OPR"]})]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-xl font-semibold text-slate-700 dark:text-slate-300 mb-3",children:[c.jsx(bpe,{className:"w-6 h-6 text-amber-500"})," Acompañamientos Generales"]}),c.jsxs("div",{className:"space-y-3",children:[a&&c.jsx("p",{children:"Cargando..."}),!a&&e.filter(K=>K.id).length>0?e.filter(K=>K.id).map(K=>c.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 shadow-sm flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:K.docente}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[K.curso," - ",K.asignatura]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Fecha: ",new Date(K.fecha).toLocaleDateString("es-CL")]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{W(K),g("general")},className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 font-semibold text-sm",children:"Ver/Editar"}),c.jsx("button",{onClick:()=>{W(K),g("opr")},className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm",children:"Agregar OPR"}),c.jsx("button",{onClick:()=>Z(K.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:c.jsx(D6,{className:"w-4 h-4"})})]})]},K.id)):!a&&c.jsx("p",{className:"text-slate-500 italic p-4 bg-slate-100 dark:bg-slate-800 rounded-md",children:"No hay acompañamientos generales registrados."})]})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center gap-2 text-xl font-semibold text-slate-700 dark:text-slate-300 mb-3",children:[c.jsx(qpe,{className:"w-6 h-6 text-blue-500"})," Ciclos OPR Independientes"]}),c.jsx("div",{className:"space-y-3",children:c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 italic p-4 bg-slate-100 dark:bg-slate-800 rounded-md",children:'Los ciclos OPR se pueden crear de forma independiente o asociados a un acompañamiento general. Para ver los ciclos asociados, edita un acompañamiento y ve a la pestaña "Ciclo OPR".'})})]})]}),q=()=>{const K=m?e.find(P=>P.id===m):null,J={id:"temp-"+Date.now(),fecha:new Date().toISOString(),docente:F.docente||"",curso:F.curso||"",asignatura:F.asignatura||"",bloques:F.bloques||"",rubricaResultados:{},observacionesGenerales:"",retroalimentacionConsolidada:""};return c.jsxs("div",{className:"animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:x==="general"?m?"Editando Acompañamiento":"Nuevo Acompañamiento":"Gestión de Ciclo OPR"}),c.jsx("button",{type:"button",onClick:()=>f("list"),className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white font-semibold",children:"← Volver al listado"})]}),c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 mb-6",children:c.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[c.jsx("button",{onClick:()=>g("general"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${x==="general"?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Acompañamiento General"}),c.jsx("button",{onClick:()=>g("opr"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${x==="opr"?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Ciclo OPR"})]})}),l&&c.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:l}),x==="general"&&c.jsxs("form",{onSubmit:Q,className:"space-y-8",children:[c.jsxs("div",{className:"p-4 border rounded-lg bg-green-50 dark:bg-green-900/30",children:[c.jsx("h4",{className:"text-lg font-semibold mb-2 text-green-700 dark:text-green-300",children:"Asistente IA - Informe General"}),c.jsxs("button",{type:"button",onClick:R,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md mb-2 flex items-center gap-2",disabled:b,children:[c.jsx(hX,{className:"w-4 h-4"}),b?"Generando...":"Generar Retroalimentación e Informe PDF"]}),c.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Genera automáticamente retroalimentación pedagógica e informe PDF basándose en los datos ingresados."}),_&&c.jsxs("div",{className:"mt-4 p-3 bg-white dark:bg-slate-800 rounded-md shadow",children:[c.jsx("h5",{className:"font-semibold text-sm mb-2",children:"Retroalimentación Consolidada (guardada):"}),c.jsx("textarea",{readOnly:!0,rows:8,value:_,className:"w-full text-sm text-slate-700 dark:text-slate-300 whitespace-pre-wrap bg-transparent border-none p-0 focus:ring-0"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 border rounded-lg bg-slate-50 dark:bg-slate-800/50 dark:border-slate-700",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"docente",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Docente"}),c.jsxs("select",{name:"docente",value:F.docente,onChange:O,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",disabled:i,children:[c.jsx("option",{value:"",children:i?"Cargando...":"Seleccione"}),r.map(P=>c.jsx("option",{value:P,children:P},P))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),c.jsxs("select",{name:"curso",value:F.curso,onChange:O,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Seleccione"}),qa.map(P=>c.jsx("option",{value:P,children:P},P))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),c.jsxs("select",{name:"asignatura",value:F.asignatura,onChange:O,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Seleccione"}),Pi.map(P=>c.jsx("option",{value:P,children:P},P))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"bloques",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Bloques Horarios"}),c.jsx("input",{type:"text",name:"bloques",value:F.bloques,onChange:O,placeholder:"Ej: 3-4",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"observacionesGenerales",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Observaciones Generales"}),c.jsx("textarea",{name:"observacionesGenerales",value:F.observacionesGenerales,onChange:O,rows:4,placeholder:"Ingrese sus observaciones sobre la clase...",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),c.jsx("div",{className:"overflow-x-auto border border-slate-200 dark:border-slate-700 rounded-lg",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-1/12",children:"Dominio"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-3/12",children:"Criterio"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Débil (1)"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Incipiente (2)"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Satisfactorio (3)"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Avanzado (4)"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:I.map(P=>c.jsx(ft.Fragment,{children:P.criteria.map((G,Y)=>c.jsxs("tr",{children:[Y===0&&c.jsx("td",{rowSpan:P.criteria.length,className:"px-3 py-4 align-top text-sm font-semibold text-slate-800 dark:text-slate-200 border-r dark:border-slate-600",children:P.domain}),c.jsx("td",{className:"px-3 py-4 align-top text-sm font-medium text-slate-700 dark:text-slate-300 border-r dark:border-slate-600",children:G.name}),G.levels.map((re,ie)=>{const de=ie+1,me=F.rubricaResultados[G.name]===de;return c.jsx("td",{onClick:()=>M(G.name,de),className:`px-3 py-4 align-top text-sm text-slate-600 dark:text-slate-300 border-r dark:border-slate-600 cursor-pointer transition-colors ${me?"bg-amber-100 dark:bg-amber-900/30":"hover:bg-amber-50 dark:hover:bg-slate-700"}`,children:re},de)})]},G.name))},P.domain))})]})}),c.jsx("div",{className:"flex justify-end gap-4",children:c.jsxs("button",{type:"submit",className:"bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-md",children:[m?"Actualizar":"Guardar"," Acompañamiento"]})})]}),x==="opr"&&c.jsx(eIe,{acompanamiento:K||J,cicloToEdit:null,profesores:r,onSave:async P=>{try{const G={...P,acompanamientoId:(K==null?void 0:K.id)||null};await q3e(G),alert("Ciclo OPR guardado exitosamente"),f("list")}catch(G){console.error("Error al guardar ciclo OPR:",G),alert("Error al guardar el ciclo OPR")}},onCancel:()=>f("list")})]})};return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 py-8",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d==="list"?V():q()})})},VO="mensajes_internos",rIe="usuarios",zZ="mensajes_read_status",$Z=e=>{var r,n;const t=e.data();return{id:e.id,...t,fecha:((n=(r=t.fecha)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fecha}},nIe=(e,t)=>{const r=tr(Ft(Bt,VO),Mn("participants","array-contains",e),qr("fecha","desc"));return br(r,a=>{const s=a.docs.map(i=>$Z(i));t(s)},a=>{console.error("Error al suscribirse a los mensajes:",a),t([])})},aIe=async e=>{try{const t={...e,participants:[e.de,e.para],fecha:fr.fromDate(new Date)};await xa(Ft(Bt,VO),t)}catch(t){throw console.error("Error al enviar el mensaje:",t),new Error("No se pudo enviar el mensaje.")}},sIe=async e=>{try{const t=Er(Bt,VO,e);await pi(t)}catch(t){throw console.error("Error al eliminar el mensaje:",t),new Error("No se pudo eliminar el mensaje.")}},iIe=(e,t)=>{const r=Er(Bt,zZ,e);return br(r,a=>{a.exists()?t(a.data()):t({announcements:[],messages:[]})},a=>{console.error("Error al suscribirse al estado de lectura:",a),t({announcements:[],messages:[]})})},oIe=async(e,t)=>{try{const r=Er(Bt,zZ,e);await io(r,{messages:Fme(t)},{merge:!0})}catch(r){throw console.error("Error al marcar mensaje como leído:",r),new Error("No se pudo actualizar el estado de lectura.")}},lIe=e=>{const t=tr(Ft(Bt,rIe),qr("nombreCompleto","asc"));return br(t,n=>{const a=n.docs.map(s=>$Z(s));e(a)},n=>{console.error("Error al suscribirse a todos los usuarios:",n),e([])})},cIe=({currentUser:e,refreshUnreadCount:t})=>{const[r,n]=k.useState("inbox"),[a,s]=k.useState([]),[i,o]=k.useState([]),[l,u]=k.useState(null),[d,f]=k.useState({announcements:[],messages:[]}),[m,p]=k.useState(!0),x={para:"",asunto:"",cuerpo:""},[g,b]=k.useState(x);k.useEffect(()=>{if(!e.id||!e.email){p(!1);return}p(!0);const w=nIe(e.email,R=>{s(R),p(!1)}),C=lIe(o),N=iIe(e.id,R=>{f(R),t()});return()=>{w(),C(),N()}},[e.id,e.email,t]);const y=w=>{u(w),r==="inbox"&&!d.messages.includes(w.id)&&oIe(e.id,w.id).catch(C=>{console.error("Failed to mark message as read:",C)})},_=async w=>{if(w.preventDefault(),!g.para||!g.asunto.trim()||!g.cuerpo.trim()){alert("Destinatario, asunto y cuerpo son obligatorios.");return}const C={de:e.email,para:g.para,asunto:g.asunto,cuerpo:g.cuerpo};try{await aIe(C),b(x),n("sent")}catch(N){console.error("Error sending message:",N),alert("No se pudo enviar el mensaje. Inténtelo de nuevo.")}},S=async w=>{if(window.confirm("¿Está seguro de que desea eliminar este mensaje? Esta acción es irreversible."))try{await sIe(w),u(null)}catch(C){console.error("Error deleting message:",C),alert("No se pudo eliminar el mensaje.")}},I=w=>{b({para:w.de,asunto:`Re: ${w.asunto}`,cuerpo:`

--- Mensaje Original ---
De: ${w.de}
Fecha: ${new Date(w.fecha).toLocaleString("es-CL")}

${w.cuerpo}`}),n("compose")},T=k.useMemo(()=>a.filter(w=>w.para===e.email),[a,e.email]),F=k.useMemo(()=>a.filter(w=>w.de===e.email),[a,e.email]);return m?c.jsx("div",{className:"flex items-center justify-center h-full",children:"Cargando mensajería..."}):c.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-md flex overflow-hidden min-h-[75vh]",children:[c.jsxs("aside",{className:"w-1/4 md:w-1/5 border-r bg-slate-50 dark:bg-slate-800 flex flex-col",children:[c.jsx("div",{className:"p-4 border-b dark:border-slate-700",children:c.jsx("button",{onClick:()=>{n("compose"),u(null),b(x)},className:"w-full bg-slate-800 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Redactar"})}),c.jsxs("nav",{className:"p-2 space-y-1",children:[c.jsx("button",{onClick:()=>{n("inbox"),u(null)},className:`w-full text-left px-4 py-2 rounded-md font-semibold ${r==="inbox"?"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:"Recibidos"}),c.jsx("button",{onClick:()=>{n("sent"),u(null)},className:`w-full text-left px-4 py-2 rounded-md font-semibold ${r==="sent"?"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:"Enviados"})]})]}),r!=="compose"&&c.jsx("div",{className:"w-1/3 md:w-2/5 border-r dark:border-slate-700 overflow-y-auto",children:(r==="inbox"?T:F).map(w=>{const C=r==="inbox"&&!d.messages.includes(w.id);return c.jsxs("div",{onClick:()=>y(w),className:`p-4 border-b dark:border-slate-700 cursor-pointer ${(l==null?void 0:l.id)===w.id?"bg-amber-50 dark:bg-amber-900/20":"hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("p",{className:`font-bold truncate ${C?"text-slate-800 dark:text-slate-200":"text-slate-600 dark:text-slate-400"}`,children:r==="inbox"?w.de:`Para: ${w.para}`}),C&&c.jsx("span",{className:"h-2.5 w-2.5 bg-blue-500 rounded-full flex-shrink-0 ml-2 mt-1"})]}),c.jsx("p",{className:`truncate text-sm ${C?"text-slate-700 dark:text-slate-300 font-semibold":"text-slate-500 dark:text-slate-400"}`,children:w.asunto}),c.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:new Date(w.fecha).toLocaleString("es-CL")})]},w.id)})}),c.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:r==="compose"?c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Nuevo Mensaje"}),c.jsxs("form",{onSubmit:_,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"para",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Para:"}),c.jsxs("select",{id:"para",value:g.para,onChange:w=>b({...g,para:w.target.value}),required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Seleccione un destinatario..."}),i.filter(w=>w.email!==e.email).map(w=>c.jsxs("option",{value:w.email,children:[w.nombreCompleto," (",w.email,")"]},w.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"asunto",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asunto:"}),c.jsx("input",{type:"text",id:"asunto",value:g.asunto,onChange:w=>b({...g,asunto:w.target.value}),required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"cuerpo",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cuerpo del Mensaje:"}),c.jsx("textarea",{id:"cuerpo",value:g.cuerpo,onChange:w=>b({...g,cuerpo:w.target.value}),required:!0,rows:12,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),c.jsx("div",{className:"text-right",children:c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-5 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Enviar Mensaje"})})]})]}):l?c.jsxs("div",{children:[c.jsxs("div",{className:"border-b dark:border-slate-700 pb-4 mb-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:l.asunto}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:[c.jsx("strong",{children:"De:"})," ",l.de," ",c.jsx("br",{}),c.jsx("strong",{children:"Para:"})," ",l.para," ",c.jsx("br",{}),c.jsx("strong",{children:"Fecha:"})," ",new Date(l.fecha).toLocaleString("es-CL")]})]}),c.jsx("div",{className:"whitespace-pre-wrap text-slate-700 dark:text-slate-300",children:l.cuerpo}),c.jsxs("div",{className:"mt-8 pt-4 border-t dark:border-slate-700 flex gap-2",children:[r==="inbox"&&c.jsx("button",{onClick:()=>I(l),className:"bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Responder"}),c.jsx("button",{onClick:()=>S(l.id),className:"bg-red-100 text-red-700 font-semibold py-2 px-4 rounded-lg hover:bg-red-200 dark:bg-red-900/40 dark:text-red-300 dark:hover:bg-red-900/60",children:"Eliminar"})]})]}):c.jsx("div",{className:"flex items-center justify-center h-full text-center text-slate-500 dark:text-slate-400",children:c.jsx("p",{children:"Seleccione un mensaje para leerlo."})})})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var VI=function(e,t){return VI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},VI(e,t)};function cd(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");VI(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var zI=function(){return zI=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},zI.apply(this,arguments)};function Xo(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(o,l)}u((n=n.apply(e,[])).next())})}function So(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function nE(e,t,r){if(arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||t)}var kf=function(){function e(t,r,n,a){this.left=t,this.top=r,this.width=n,this.height=a}return e.prototype.add=function(t,r,n,a){return new e(this.left+t,this.top+r,this.width+n,this.height+a)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),U5=function(e,t){return kf.fromClientRect(e,t.getBoundingClientRect())},uIe=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),a=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new kf(0,0,n,a)},M5=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var s=e.charCodeAt(r++);(s&64512)===56320?t.push(((a&1023)<<10)+(s&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},Ts=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,s="";++a<r;){var i=e[a];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(a+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},V9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dIe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var aE=0;aE<V9.length;aE++)dIe[V9.charCodeAt(aE)]=aE;var z9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eb=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var sE=0;sE<z9.length;sE++)eb[z9.charCodeAt(sE)]=sE;var AIe=function(e){var t=e.length*.75,r=e.length,n,a=0,s,i,o,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)s=eb[e.charCodeAt(n)],i=eb[e.charCodeAt(n+1)],o=eb[e.charCodeAt(n+2)],l=eb[e.charCodeAt(n+3)],d[a++]=s<<2|i>>4,d[a++]=(i&15)<<4|o>>2,d[a++]=(o&3)<<6|l&63;return u},fIe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},hIe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Ym=5,zO=11,ok=2,mIe=zO-Ym,KZ=65536>>Ym,pIe=1<<Ym,lk=pIe-1,gIe=1024>>Ym,vIe=KZ+gIe,xIe=vIe,bIe=32,yIe=xIe+bIe,wIe=65536>>zO,EIe=1<<mIe,CIe=EIe-1,$9=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},_Ie=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},SIe=function(e,t){var r=AIe(e),n=Array.isArray(r)?hIe(r):new Uint32Array(r),a=Array.isArray(r)?fIe(r):new Uint16Array(r),s=24,i=$9(a,s/2,n[4]/2),o=n[5]===2?$9(a,(s+n[4])/2):_Ie(n,Math.ceil((s+n[4])/4));return new NIe(n[0],n[1],n[2],n[3],i,o)},NIe=function(){function e(t,r,n,a,s,i){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=i}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Ym],r=(r<<ok)+(t&lk),this.data[r];if(t<=65535)return r=this.index[KZ+(t-55296>>Ym)],r=(r<<ok)+(t&lk),this.data[r];if(t<this.highStart)return r=yIe-wIe+(t>>zO),r=this.index[r],r+=t>>Ym&CIe,r=this.index[r],r=(r<<ok)+(t&lk),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),K9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",BIe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var iE=0;iE<K9.length;iE++)BIe[K9.charCodeAt(iE)]=iE;var kIe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",G9=50,TIe=1,GZ=2,qZ=3,IIe=4,jIe=5,q9=7,WZ=8,W9=9,n0=10,$I=11,X9=12,KI=13,FIe=14,tb=15,GI=16,oE=17,C1=18,OIe=19,Y9=20,qI=21,_1=22,ck=23,bg=24,rc=25,rb=26,nb=27,yg=28,DIe=29,Im=30,PIe=31,lE=32,cE=33,WI=34,XI=35,YI=36,my=37,JI=38,bC=39,yC=40,uk=41,XZ=42,RIe=43,LIe=[9001,65288],YZ="!",pn="×",uE="÷",ZI=SIe(kIe),tf=[Im,YI],ej=[TIe,GZ,qZ,jIe],JZ=[n0,WZ],J9=[nb,rb],UIe=ej.concat(JZ),Z9=[JI,bC,yC,WI,XI],MIe=[tb,KI],QIe=function(e,t){t===void 0&&(t="strict");var r=[],n=[],a=[];return e.forEach(function(s,i){var o=ZI.get(s);if(o>G9?(a.push(!0),o-=G9):a.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(i),r.push(GI);if(o===IIe||o===$I){if(i===0)return n.push(i),r.push(Im);var l=r[i-1];return UIe.indexOf(l)===-1?(n.push(n[i-1]),r.push(l)):(n.push(i),r.push(Im))}if(n.push(i),o===PIe)return r.push(t==="strict"?qI:my);if(o===XZ||o===DIe)return r.push(Im);if(o===RIe)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(my):r.push(Im);r.push(o)}),[n,r,a]},dk=function(e,t,r,n){var a=n[r];if(Array.isArray(e)?e.indexOf(a)!==-1:e===a)for(var s=r;s<=n.length;){s++;var i=n[s];if(i===t)return!0;if(i!==n0)break}if(a===n0)for(var s=r;s>0;){s--;var o=n[s];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var l=r;l<=n.length;){l++;var i=n[l];if(i===t)return!0;if(i!==n0)break}if(o!==n0)break}return!1},eQ=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===n0)r--;else return n}return 0},HIe=function(e,t,r,n,a){if(r[n]===0)return pn;var s=n-1;if(Array.isArray(a)&&a[s]===!0)return pn;var i=s-1,o=s+1,l=t[s],u=i>=0?t[i]:0,d=t[o];if(l===GZ&&d===qZ)return pn;if(ej.indexOf(l)!==-1)return YZ;if(ej.indexOf(d)!==-1||JZ.indexOf(d)!==-1)return pn;if(eQ(s,t)===WZ)return uE;if(ZI.get(e[s])===$I||(l===lE||l===cE)&&ZI.get(e[o])===$I||l===q9||d===q9||l===W9||[n0,KI,tb].indexOf(l)===-1&&d===W9||[oE,C1,OIe,bg,yg].indexOf(d)!==-1||eQ(s,t)===_1||dk(ck,_1,s,t)||dk([oE,C1],qI,s,t)||dk(X9,X9,s,t))return pn;if(l===n0)return uE;if(l===ck||d===ck)return pn;if(d===GI||l===GI)return uE;if([KI,tb,qI].indexOf(d)!==-1||l===FIe||u===YI&&MIe.indexOf(l)!==-1||l===yg&&d===YI||d===Y9||tf.indexOf(d)!==-1&&l===rc||tf.indexOf(l)!==-1&&d===rc||l===nb&&[my,lE,cE].indexOf(d)!==-1||[my,lE,cE].indexOf(l)!==-1&&d===rb||tf.indexOf(l)!==-1&&J9.indexOf(d)!==-1||J9.indexOf(l)!==-1&&tf.indexOf(d)!==-1||[nb,rb].indexOf(l)!==-1&&(d===rc||[_1,tb].indexOf(d)!==-1&&t[o+1]===rc)||[_1,tb].indexOf(l)!==-1&&d===rc||l===rc&&[rc,yg,bg].indexOf(d)!==-1)return pn;if([rc,yg,bg,oE,C1].indexOf(d)!==-1)for(var f=s;f>=0;){var m=t[f];if(m===rc)return pn;if([yg,bg].indexOf(m)!==-1)f--;else break}if([nb,rb].indexOf(d)!==-1)for(var f=[oE,C1].indexOf(l)!==-1?i:s;f>=0;){var m=t[f];if(m===rc)return pn;if([yg,bg].indexOf(m)!==-1)f--;else break}if(JI===l&&[JI,bC,WI,XI].indexOf(d)!==-1||[bC,WI].indexOf(l)!==-1&&[bC,yC].indexOf(d)!==-1||[yC,XI].indexOf(l)!==-1&&d===yC||Z9.indexOf(l)!==-1&&[Y9,rb].indexOf(d)!==-1||Z9.indexOf(d)!==-1&&l===nb||tf.indexOf(l)!==-1&&tf.indexOf(d)!==-1||l===bg&&tf.indexOf(d)!==-1||tf.concat(rc).indexOf(l)!==-1&&d===_1&&LIe.indexOf(e[o])===-1||tf.concat(rc).indexOf(d)!==-1&&l===C1)return pn;if(l===uk&&d===uk){for(var p=r[s],x=1;p>0&&(p--,t[p]===uk);)x++;if(x%2!==0)return pn}return l===lE&&d===cE?pn:uE},VIe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=QIe(e,t.lineBreak),n=r[0],a=r[1],s=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(a=a.map(function(o){return[rc,Im,XZ].indexOf(o)!==-1?my:o}));var i=t.wordBreak==="keep-all"?s.map(function(o,l){return o&&e[l]>=19968&&e[l]<=40959}):void 0;return[n,a,i]},zIe=function(){function e(t,r,n,a){this.codePoints=t,this.required=r===YZ,this.start=n,this.end=a}return e.prototype.slice=function(){return Ts.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),$Ie=function(e,t){var r=M5(e),n=VIe(r,t),a=n[0],s=n[1],i=n[2],o=r.length,l=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var d=pn;u<o&&(d=HIe(r,s,a,++u,i))===pn;);if(d!==pn||u===o){var f=new zIe(r,d,l,u);return l=u,{value:f,done:!1}}return{done:!0,value:null}}}},KIe=1,GIe=2,cw=4,tQ=8,j_=10,rQ=47,Ib=92,qIe=9,WIe=32,dE=34,S1=61,XIe=35,YIe=36,JIe=37,AE=39,fE=40,N1=41,ZIe=95,Sl=45,eje=33,tje=60,rje=62,nje=64,aje=91,sje=93,ije=61,oje=123,hE=63,lje=125,nQ=124,cje=126,uje=128,aQ=65533,Ak=42,Dm=43,dje=44,Aje=58,fje=59,py=46,hje=0,mje=8,pje=11,gje=14,vje=31,xje=127,zd=-1,ZZ=48,eee=97,tee=101,bje=102,yje=117,wje=122,ree=65,nee=69,aee=70,Eje=85,Cje=90,Io=function(e){return e>=ZZ&&e<=57},_je=function(e){return e>=55296&&e<=57343},wg=function(e){return Io(e)||e>=ree&&e<=aee||e>=eee&&e<=bje},Sje=function(e){return e>=eee&&e<=wje},Nje=function(e){return e>=ree&&e<=Cje},Bje=function(e){return Sje(e)||Nje(e)},kje=function(e){return e>=uje},mE=function(e){return e===j_||e===qIe||e===WIe},F_=function(e){return Bje(e)||kje(e)||e===ZIe},sQ=function(e){return F_(e)||Io(e)||e===Sl},Tje=function(e){return e>=hje&&e<=mje||e===pje||e>=gje&&e<=vje||e===xje},Hh=function(e,t){return e!==Ib?!1:t!==j_},pE=function(e,t,r){return e===Sl?F_(t)||Hh(t,r):F_(e)?!0:!!(e===Ib&&Hh(e,t))},fk=function(e,t,r){return e===Dm||e===Sl?Io(t)?!0:t===py&&Io(r):Io(e===py?t:e)},Ije=function(e){var t=0,r=1;(e[t]===Dm||e[t]===Sl)&&(e[t]===Sl&&(r=-1),t++);for(var n=[];Io(e[t]);)n.push(e[t++]);var a=n.length?parseInt(Ts.apply(void 0,n),10):0;e[t]===py&&t++;for(var s=[];Io(e[t]);)s.push(e[t++]);var i=s.length,o=i?parseInt(Ts.apply(void 0,s),10):0;(e[t]===nee||e[t]===tee)&&t++;var l=1;(e[t]===Dm||e[t]===Sl)&&(e[t]===Sl&&(l=-1),t++);for(var u=[];Io(e[t]);)u.push(e[t++]);var d=u.length?parseInt(Ts.apply(void 0,u),10):0;return r*(a+o*Math.pow(10,-i))*Math.pow(10,l*d)},jje={type:2},Fje={type:3},Oje={type:4},Dje={type:13},Pje={type:8},Rje={type:21},Lje={type:9},Uje={type:10},Mje={type:11},Qje={type:12},Hje={type:14},gE={type:23},Vje={type:1},zje={type:25},$je={type:24},Kje={type:26},Gje={type:27},qje={type:28},Wje={type:29},Xje={type:31},tj={type:32},see=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(M5(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==tj;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case dE:return this.consumeStringToken(dE);case XIe:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(sQ(r)||Hh(n,a)){var s=pE(r,n,a)?GIe:KIe,i=this.consumeName();return{type:5,value:i,flags:s}}break;case YIe:if(this.peekCodePoint(0)===S1)return this.consumeCodePoint(),Dje;break;case AE:return this.consumeStringToken(AE);case fE:return jje;case N1:return Fje;case Ak:if(this.peekCodePoint(0)===S1)return this.consumeCodePoint(),Hje;break;case Dm:if(fk(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case dje:return Oje;case Sl:var o=t,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(fk(o,l,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(pE(o,l,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===Sl&&u===rje)return this.consumeCodePoint(),this.consumeCodePoint(),$je;break;case py:if(fk(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case rQ:if(this.peekCodePoint(0)===Ak)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===Ak&&(d=this.consumeCodePoint(),d===rQ))return this.consumeToken();if(d===zd)return this.consumeToken()}break;case Aje:return Kje;case fje:return Gje;case tje:if(this.peekCodePoint(0)===eje&&this.peekCodePoint(1)===Sl&&this.peekCodePoint(2)===Sl)return this.consumeCodePoint(),this.consumeCodePoint(),zje;break;case nje:var f=this.peekCodePoint(0),m=this.peekCodePoint(1),p=this.peekCodePoint(2);if(pE(f,m,p)){var i=this.consumeName();return{type:7,value:i}}break;case aje:return qje;case Ib:if(Hh(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case sje:return Wje;case ije:if(this.peekCodePoint(0)===S1)return this.consumeCodePoint(),Pje;break;case oje:return Mje;case lje:return Qje;case yje:case Eje:var x=this.peekCodePoint(0),g=this.peekCodePoint(1);return x===Dm&&(wg(g)||g===hE)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case nQ:if(this.peekCodePoint(0)===S1)return this.consumeCodePoint(),Lje;if(this.peekCodePoint(0)===nQ)return this.consumeCodePoint(),Rje;break;case cje:if(this.peekCodePoint(0)===S1)return this.consumeCodePoint(),Uje;break;case zd:return tj}return mE(t)?(this.consumeWhiteSpace(),Xje):Io(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):F_(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Ts(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();wg(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===hE&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(Ts.apply(void 0,t.map(function(l){return l===hE?ZZ:l})),16),s=parseInt(Ts.apply(void 0,t.map(function(l){return l===hE?aee:l})),16);return{type:30,start:a,end:s}}var i=parseInt(Ts.apply(void 0,t),16);if(this.peekCodePoint(0)===Sl&&wg(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];wg(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var s=parseInt(Ts.apply(void 0,o),16);return{type:30,start:i,end:s}}else return{type:30,start:i,end:i}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===fE?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===fE?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===zd)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===AE||r===dE){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===zd||this.peekCodePoint(0)===N1)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),gE)}for(;;){var a=this.consumeCodePoint();if(a===zd||a===N1)return{type:22,value:Ts.apply(void 0,t)};if(mE(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===zd||this.peekCodePoint(0)===N1?(this.consumeCodePoint(),{type:22,value:Ts.apply(void 0,t)}):(this.consumeBadUrlRemnants(),gE);if(a===dE||a===AE||a===fE||Tje(a))return this.consumeBadUrlRemnants(),gE;if(a===Ib)if(Hh(a,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),gE;else t.push(a)}},e.prototype.consumeWhiteSpace=function(){for(;mE(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===N1||t===zd)return;Hh(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var a=Math.min(r,t);n+=Ts.apply(void 0,this._value.splice(0,a)),t-=a}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var a=this._value[n];if(a===zd||a===void 0||a===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===j_)return this._value.splice(0,n),Vje;if(a===Ib){var s=this._value[n+1];s!==zd&&s!==void 0&&(s===j_?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Hh(a,s)&&(r+=this.consumeStringSlice(n),r+=Ts(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=cw,n=this.peekCodePoint(0);for((n===Dm||n===Sl)&&t.push(this.consumeCodePoint());Io(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===py&&Io(a))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=tQ;Io(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===nee||n===tee)&&((a===Dm||a===Sl)&&Io(s)||Io(a)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=tQ;Io(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[Ije(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],a=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);if(pE(a,s,i)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return a===JIe?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(wg(t)){for(var r=Ts(t);wg(this.peekCodePoint(0))&&r.length<6;)r+=Ts(this.consumeCodePoint());mE(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||_je(n)||n>1114111?aQ:n}return t===zd?aQ:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(sQ(r))t+=Ts(r);else if(Hh(r,this.peekCodePoint(0)))t+=Ts(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),iee=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new see;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||Jje(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?tj:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),uw=function(e){return e.type===15},px=function(e){return e.type===17},pa=function(e){return e.type===20},Yje=function(e){return e.type===0},rj=function(e,t){return pa(e)&&e.value===t},oee=function(e){return e.type!==31},Lv=function(e){return e.type!==31&&e.type!==4},wA=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},Jje=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},O0=function(e){return e.type===17||e.type===15},Ws=function(e){return e.type===16||O0(e)},lee=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},ao={type:17,number:0,flags:cw},$O={type:16,number:50,flags:cw},a0={type:16,number:100,flags:cw},ab=function(e,t,r){var n=e[0],a=e[1];return[Ba(n,t),Ba(typeof a<"u"?a:n,r)]},Ba=function(e,t){if(e.type===16)return e.number/100*t;if(uw(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},cee="deg",uee="grad",dee="rad",Aee="turn",Q5={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case cee:return Math.PI*t.number/180;case uee:return Math.PI/200*t.number;case dee:return t.number;case Aee:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},fee=function(e){return e.type===15&&(e.unit===cee||e.unit===uee||e.unit===dee||e.unit===Aee)},hee=function(e){var t=e.filter(pa).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ao,ao];case"to top":case"bottom":return cu(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ao,a0];case"to right":case"left":return cu(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[a0,a0];case"to bottom":case"top":return cu(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[a0,ao];case"to left":case"right":return cu(270)}return 0},cu=function(e){return Math.PI*e/180},f0={name:"color",parse:function(e,t){if(t.type===18){var r=Zje[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),a=t.value.substring(1,2),s=t.value.substring(2,3);return s0(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),a=t.value.substring(1,2),s=t.value.substring(2,3),i=t.value.substring(3,4);return s0(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),a=t.value.substring(2,4),s=t.value.substring(4,6);return s0(parseInt(n,16),parseInt(a,16),parseInt(s,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),a=t.value.substring(2,4),s=t.value.substring(4,6),i=t.value.substring(6,8);return s0(parseInt(n,16),parseInt(a,16),parseInt(s,16),parseInt(i,16)/255)}}if(t.type===20){var o=vf[t.value.toUpperCase()];if(typeof o<"u")return o}return vf.TRANSPARENT}},h0=function(e){return(255&e)===0},ki=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,a=255&e>>24;return t<255?"rgba("+a+","+n+","+r+","+t/255+")":"rgb("+a+","+n+","+r+")"},s0=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},iQ=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},oQ=function(e,t){var r=t.filter(Lv);if(r.length===3){var n=r.map(iQ),a=n[0],s=n[1],i=n[2];return s0(a,s,i,1)}if(r.length===4){var o=r.map(iQ),a=o[0],s=o[1],i=o[2],l=o[3];return s0(a,s,i,l)}return 0};function hk(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var lQ=function(e,t){var r=t.filter(Lv),n=r[0],a=r[1],s=r[2],i=r[3],o=(n.type===17?cu(n.number):Q5.parse(e,n))/(Math.PI*2),l=Ws(a)?a.number/100:0,u=Ws(s)?s.number/100:0,d=typeof i<"u"&&Ws(i)?Ba(i,1):1;if(l===0)return s0(u*255,u*255,u*255,1);var f=u<=.5?u*(l+1):u+l-u*l,m=u*2-f,p=hk(m,f,o+1/3),x=hk(m,f,o),g=hk(m,f,o-1/3);return s0(p*255,x*255,g*255,d)},Zje={hsl:lQ,hsla:lQ,rgb:oQ,rgba:oQ},jb=function(e,t){return f0.parse(e,iee.create(t).parseComponentValue())},vf={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},eFe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(pa(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},tFe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},H5=function(e,t){var r=f0.parse(e,t[0]),n=t[1];return n&&Ws(n)?{color:r,stop:n}:{color:r,stop:null}},cQ=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=ao),n.stop===null&&(n.stop=a0);for(var a=[],s=0,i=0;i<e.length;i++){var o=e[i].stop;if(o!==null){var l=Ba(o,t);l>s?a.push(l):a.push(s),s=l}else a.push(null)}for(var u=null,i=0;i<a.length;i++){var d=a[i];if(d===null)u===null&&(u=i);else if(u!==null){for(var f=i-u,m=a[u-1],p=(d-m)/(f+1),x=1;x<=f;x++)a[u+x-1]=p*x;u=null}}return e.map(function(g,b){var y=g.color;return{color:y,stop:Math.max(Math.min(1,a[b]/t),0)}})},rFe=function(e,t,r){var n=t/2,a=r/2,s=Ba(e[0],t)-n,i=a-Ba(e[1],r);return(Math.atan2(i,s)+Math.PI*2)%(Math.PI*2)},nFe=function(e,t,r){var n=typeof e=="number"?e:rFe(e,t,r),a=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),s=t/2,i=r/2,o=a/2,l=Math.sin(n-Math.PI/2)*o,u=Math.cos(n-Math.PI/2)*o;return[a,s-u,s+u,i-l,i+l]},Gu=function(e,t){return Math.sqrt(e*e+t*t)},uQ=function(e,t,r,n,a){var s=[[0,0],[0,t],[e,0],[e,t]];return s.reduce(function(i,o){var l=o[0],u=o[1],d=Gu(r-l,n-u);return(a?d<i.optimumDistance:d>i.optimumDistance)?{optimumCorner:o,optimumDistance:d}:i},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},aFe=function(e,t,r,n,a){var s=0,i=0;switch(e.size){case 0:e.shape===0?s=i=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(s=Math.min(Math.abs(t),Math.abs(t-n)),i=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(e.shape===0)s=i=Math.min(Gu(t,r),Gu(t,r-a),Gu(t-n,r),Gu(t-n,r-a));else if(e.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(t),Math.abs(t-n)),l=uQ(n,a,t,r,!0),u=l[0],d=l[1];s=Gu(u-t,(d-r)/o),i=o*s}break;case 1:e.shape===0?s=i=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(s=Math.max(Math.abs(t),Math.abs(t-n)),i=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(e.shape===0)s=i=Math.max(Gu(t,r),Gu(t,r-a),Gu(t-n,r),Gu(t-n,r-a));else if(e.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(t),Math.abs(t-n)),f=uQ(n,a,t,r,!1),u=f[0],d=f[1];s=Gu(u-t,(d-r)/o),i=o*s}break}return Array.isArray(e.size)&&(s=Ba(e.size[0],n),i=e.size.length===2?Ba(e.size[1],a):s),[s,i]},sFe=function(e,t){var r=cu(180),n=[];return wA(t).forEach(function(a,s){if(s===0){var i=a[0];if(i.type===20&&i.value==="to"){r=hee(a);return}else if(fee(i)){r=Q5.parse(e,i);return}}var o=H5(e,a);n.push(o)}),{angle:r,stops:n,type:1}},vE=function(e,t){var r=cu(180),n=[];return wA(t).forEach(function(a,s){if(s===0){var i=a[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){r=hee(a);return}else if(fee(i)){r=(Q5.parse(e,i)+cu(270))%cu(360);return}}var o=H5(e,a);n.push(o)}),{angle:r,stops:n,type:1}},iFe=function(e,t){var r=cu(180),n=[],a=1,s=0,i=3,o=[];return wA(t).forEach(function(l,u){var d=l[0];if(u===0){if(pa(d)&&d.value==="linear"){a=1;return}else if(pa(d)&&d.value==="radial"){a=2;return}}if(d.type===18){if(d.name==="from"){var f=f0.parse(e,d.values[0]);n.push({stop:ao,color:f})}else if(d.name==="to"){var f=f0.parse(e,d.values[0]);n.push({stop:a0,color:f})}else if(d.name==="color-stop"){var m=d.values.filter(Lv);if(m.length===2){var f=f0.parse(e,m[1]),p=m[0];px(p)&&n.push({stop:{type:16,number:p.number*100,flags:p.flags},color:f})}}}}),a===1?{angle:(r+cu(180))%cu(360),stops:n,type:a}:{size:i,shape:s,stops:n,position:o,type:a}},mee="closest-side",pee="farthest-side",gee="closest-corner",vee="farthest-corner",xee="circle",bee="ellipse",yee="cover",wee="contain",oFe=function(e,t){var r=0,n=3,a=[],s=[];return wA(t).forEach(function(i,o){var l=!0;if(o===0){var u=!1;l=i.reduce(function(f,m){if(u)if(pa(m))switch(m.value){case"center":return s.push($O),f;case"top":case"left":return s.push(ao),f;case"right":case"bottom":return s.push(a0),f}else(Ws(m)||O0(m))&&s.push(m);else if(pa(m))switch(m.value){case xee:return r=0,!1;case bee:return r=1,!1;case"at":return u=!0,!1;case mee:return n=0,!1;case yee:case pee:return n=1,!1;case wee:case gee:return n=2,!1;case vee:return n=3,!1}else if(O0(m)||Ws(m))return Array.isArray(n)||(n=[]),n.push(m),!1;return f},l)}if(l){var d=H5(e,i);a.push(d)}}),{size:n,shape:r,stops:a,position:s,type:2}},xE=function(e,t){var r=0,n=3,a=[],s=[];return wA(t).forEach(function(i,o){var l=!0;if(o===0?l=i.reduce(function(d,f){if(pa(f))switch(f.value){case"center":return s.push($O),!1;case"top":case"left":return s.push(ao),!1;case"right":case"bottom":return s.push(a0),!1}else if(Ws(f)||O0(f))return s.push(f),!1;return d},l):o===1&&(l=i.reduce(function(d,f){if(pa(f))switch(f.value){case xee:return r=0,!1;case bee:return r=1,!1;case wee:case mee:return n=0,!1;case pee:return n=1,!1;case gee:return n=2,!1;case yee:case vee:return n=3,!1}else if(O0(f)||Ws(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return d},l)),l){var u=H5(e,i);a.push(u)}}),{size:n,shape:r,stops:a,position:s,type:2}},lFe=function(e){return e.type===1},cFe=function(e){return e.type===2},KO={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=Eee[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function uFe(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!Eee[e.name])}var Eee={"linear-gradient":sFe,"-moz-linear-gradient":vE,"-ms-linear-gradient":vE,"-o-linear-gradient":vE,"-webkit-linear-gradient":vE,"radial-gradient":oFe,"-moz-radial-gradient":xE,"-ms-radial-gradient":xE,"-o-radial-gradient":xE,"-webkit-radial-gradient":xE,"-webkit-gradient":iFe},dFe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return Lv(n)&&uFe(n)}).map(function(n){return KO.parse(e,n)})}},AFe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(pa(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fFe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return wA(t).map(function(r){return r.filter(Ws)}).map(lee)}},hFe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return wA(t).map(function(r){return r.filter(pa).map(function(n){return n.value}).join(" ")}).map(mFe)}},mFe=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},gv;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(gv||(gv={}));var pFe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return wA(t).map(function(r){return r.filter(gFe)})}},gFe=function(e){return pa(e)||Ws(e)},V5=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},vFe=V5("top"),xFe=V5("right"),bFe=V5("bottom"),yFe=V5("left"),z5=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return lee(r.filter(Ws))}}},wFe=z5("top-left"),EFe=z5("top-right"),CFe=z5("bottom-right"),_Fe=z5("bottom-left"),$5=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},SFe=$5("top"),NFe=$5("right"),BFe=$5("bottom"),kFe=$5("left"),K5=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return uw(r)?r.number:0}}},TFe=K5("top"),IFe=K5("right"),jFe=K5("bottom"),FFe=K5("left"),OFe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},DFe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},PFe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(pa).reduce(function(r,n){return r|RFe(n.value)},0)}},RFe=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},LFe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},UFe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},O_;(function(e){e.NORMAL="normal",e.STRICT="strict"})(O_||(O_={}));var MFe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return O_.STRICT;case"normal":default:return O_.NORMAL}}},QFe={name:"line-height",initialValue:"normal",prefix:!1,type:4},dQ=function(e,t){return pa(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Ws(e)?Ba(e,t):t},HFe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:KO.parse(e,t)}},VFe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},nj={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},G5=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},zFe=G5("top"),$Fe=G5("right"),KFe=G5("bottom"),GFe=G5("left"),qFe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(pa).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},WFe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},q5=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},XFe=q5("top"),YFe=q5("right"),JFe=q5("bottom"),ZFe=q5("left"),e6e={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},t6e={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},r6e={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&rj(t[0],"none")?[]:wA(t).map(function(r){for(var n={color:vf.TRANSPARENT,offsetX:ao,offsetY:ao,blur:ao},a=0,s=0;s<r.length;s++){var i=r[s];O0(i)?(a===0?n.offsetX=i:a===1?n.offsetY=i:n.blur=i,a++):n.color=f0.parse(e,i)}return n})}},n6e={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},a6e={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=o6e[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},s6e=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},i6e=function(e){var t=e.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=t[0],n=t[1];t[2],t[3];var a=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var i=t[12],o=t[13];return t[14],t[15],t.length===16?[r,n,a,s,i,o]:null},o6e={matrix:s6e,matrix3d:i6e},AQ={type:16,number:50,flags:cw},l6e=[AQ,AQ],c6e={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Ws);return r.length!==2?l6e:[r[0],r[1]]}},u6e={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Fb;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Fb||(Fb={}));var d6e={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Fb.BREAK_ALL;case"keep-all":return Fb.KEEP_ALL;case"normal":default:return Fb.NORMAL}}},A6e={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(px(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Cee={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},f6e={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return px(t)?t.number:1}},h6e={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},m6e={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(pa).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},p6e={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},g6e={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},v6e={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(px(t))return t.number;if(pa(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},x6e={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(pa).map(function(r){return r.value})}},b6e={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ai=function(e,t){return(e&t)!==0},y6e={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},w6e={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=t.filter(oee),s=0;s<a.length;s++){var i=a[s],o=a[s+1];if(i.type===20){var l=o&&px(o)?o.number:1;n.push({counter:i.value,increment:l})}}return n}},E6e={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(oee),a=0;a<n.length;a++){var s=n[a],i=n[a+1];if(pa(s)&&s.value!=="none"){var o=i&&px(i)?i.number:0;r.push({counter:s.value,reset:o})}}return r}},C6e={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(uw).map(function(r){return Cee.parse(e,r)})}},_6e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],a=t.filter(Yje);if(a.length%2!==0)return null;for(var s=0;s<a.length;s+=2){var i=a[s].value,o=a[s+1].value;n.push({open:i,close:o})}return n}},fQ=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},S6e={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&rj(t[0],"none")?[]:wA(t).map(function(r){for(var n={color:255,offsetX:ao,offsetY:ao,blur:ao,spread:ao,inset:!1},a=0,s=0;s<r.length;s++){var i=r[s];rj(i,"inset")?n.inset=!0:O0(i)?(a===0?n.offsetX=i:a===1?n.offsetY=i:a===2?n.blur=i:n.spread=i,a++):n.color=f0.parse(e,i)}return n})}},N6e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(pa).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},B6e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},k6e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return uw(t)?t.number:0}},T6e=function(){function e(t,r){var n,a;this.animationDuration=rr(t,C6e,r.animationDuration),this.backgroundClip=rr(t,eFe,r.backgroundClip),this.backgroundColor=rr(t,tFe,r.backgroundColor),this.backgroundImage=rr(t,dFe,r.backgroundImage),this.backgroundOrigin=rr(t,AFe,r.backgroundOrigin),this.backgroundPosition=rr(t,fFe,r.backgroundPosition),this.backgroundRepeat=rr(t,hFe,r.backgroundRepeat),this.backgroundSize=rr(t,pFe,r.backgroundSize),this.borderTopColor=rr(t,vFe,r.borderTopColor),this.borderRightColor=rr(t,xFe,r.borderRightColor),this.borderBottomColor=rr(t,bFe,r.borderBottomColor),this.borderLeftColor=rr(t,yFe,r.borderLeftColor),this.borderTopLeftRadius=rr(t,wFe,r.borderTopLeftRadius),this.borderTopRightRadius=rr(t,EFe,r.borderTopRightRadius),this.borderBottomRightRadius=rr(t,CFe,r.borderBottomRightRadius),this.borderBottomLeftRadius=rr(t,_Fe,r.borderBottomLeftRadius),this.borderTopStyle=rr(t,SFe,r.borderTopStyle),this.borderRightStyle=rr(t,NFe,r.borderRightStyle),this.borderBottomStyle=rr(t,BFe,r.borderBottomStyle),this.borderLeftStyle=rr(t,kFe,r.borderLeftStyle),this.borderTopWidth=rr(t,TFe,r.borderTopWidth),this.borderRightWidth=rr(t,IFe,r.borderRightWidth),this.borderBottomWidth=rr(t,jFe,r.borderBottomWidth),this.borderLeftWidth=rr(t,FFe,r.borderLeftWidth),this.boxShadow=rr(t,S6e,r.boxShadow),this.color=rr(t,OFe,r.color),this.direction=rr(t,DFe,r.direction),this.display=rr(t,PFe,r.display),this.float=rr(t,LFe,r.cssFloat),this.fontFamily=rr(t,p6e,r.fontFamily),this.fontSize=rr(t,g6e,r.fontSize),this.fontStyle=rr(t,b6e,r.fontStyle),this.fontVariant=rr(t,x6e,r.fontVariant),this.fontWeight=rr(t,v6e,r.fontWeight),this.letterSpacing=rr(t,UFe,r.letterSpacing),this.lineBreak=rr(t,MFe,r.lineBreak),this.lineHeight=rr(t,QFe,r.lineHeight),this.listStyleImage=rr(t,HFe,r.listStyleImage),this.listStylePosition=rr(t,VFe,r.listStylePosition),this.listStyleType=rr(t,nj,r.listStyleType),this.marginTop=rr(t,zFe,r.marginTop),this.marginRight=rr(t,$Fe,r.marginRight),this.marginBottom=rr(t,KFe,r.marginBottom),this.marginLeft=rr(t,GFe,r.marginLeft),this.opacity=rr(t,f6e,r.opacity);var s=rr(t,qFe,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=rr(t,WFe,r.overflowWrap),this.paddingTop=rr(t,XFe,r.paddingTop),this.paddingRight=rr(t,YFe,r.paddingRight),this.paddingBottom=rr(t,JFe,r.paddingBottom),this.paddingLeft=rr(t,ZFe,r.paddingLeft),this.paintOrder=rr(t,N6e,r.paintOrder),this.position=rr(t,t6e,r.position),this.textAlign=rr(t,e6e,r.textAlign),this.textDecorationColor=rr(t,h6e,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=rr(t,m6e,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=rr(t,r6e,r.textShadow),this.textTransform=rr(t,n6e,r.textTransform),this.transform=rr(t,a6e,r.transform),this.transformOrigin=rr(t,c6e,r.transformOrigin),this.visibility=rr(t,u6e,r.visibility),this.webkitTextStrokeColor=rr(t,B6e,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=rr(t,k6e,r.webkitTextStrokeWidth),this.wordBreak=rr(t,d6e,r.wordBreak),this.zIndex=rr(t,A6e,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return h0(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Ai(this.display,4)||Ai(this.display,33554432)||Ai(this.display,268435456)||Ai(this.display,536870912)||Ai(this.display,67108864)||Ai(this.display,134217728)},e}(),I6e=function(){function e(t,r){this.content=rr(t,y6e,r.content),this.quotes=rr(t,_6e,r.quotes)}return e}(),hQ=function(){function e(t,r){this.counterIncrement=rr(t,w6e,r.counterIncrement),this.counterReset=rr(t,E6e,r.counterReset)}return e}(),rr=function(e,t,r){var n=new see,a=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(a);var s=new iee(n.read());switch(t.type){case 2:var i=s.parseComponentValue();return t.parse(e,pa(i)?i.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return Q5.parse(e,s.parseComponentValue());case"color":return f0.parse(e,s.parseComponentValue());case"image":return KO.parse(e,s.parseComponentValue());case"length":var o=s.parseComponentValue();return O0(o)?o:ao;case"length-percentage":var l=s.parseComponentValue();return Ws(l)?l:ao;case"time":return Cee.parse(e,s.parseComponentValue())}break}},j6e="data-html2canvas-debug",F6e=function(e){var t=e.getAttribute(j6e);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},aj=function(e,t){var r=F6e(e);return r===1||t===r},EA=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,aj(r,3))debugger;this.styles=new T6e(t,window.getComputedStyle(r,null)),oj(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=U5(this.context,r),aj(r,4)&&(this.flags|=16)}return e}(),O6e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",mQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sb=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var bE=0;bE<mQ.length;bE++)sb[mQ.charCodeAt(bE)]=bE;var D6e=function(e){var t=e.length*.75,r=e.length,n,a=0,s,i,o,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)s=sb[e.charCodeAt(n)],i=sb[e.charCodeAt(n+1)],o=sb[e.charCodeAt(n+2)],l=sb[e.charCodeAt(n+3)],d[a++]=s<<2|i>>4,d[a++]=(i&15)<<4|o>>2,d[a++]=(o&3)<<6|l&63;return u},P6e=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},R6e=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Jm=5,GO=11,mk=2,L6e=GO-Jm,_ee=65536>>Jm,U6e=1<<Jm,pk=U6e-1,M6e=1024>>Jm,Q6e=_ee+M6e,H6e=Q6e,V6e=32,z6e=H6e+V6e,$6e=65536>>GO,K6e=1<<L6e,G6e=K6e-1,pQ=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},q6e=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},W6e=function(e,t){var r=D6e(e),n=Array.isArray(r)?R6e(r):new Uint32Array(r),a=Array.isArray(r)?P6e(r):new Uint16Array(r),s=24,i=pQ(a,s/2,n[4]/2),o=n[5]===2?pQ(a,(s+n[4])/2):q6e(n,Math.ceil((s+n[4])/4));return new X6e(n[0],n[1],n[2],n[3],i,o)},X6e=function(){function e(t,r,n,a,s,i){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=i}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Jm],r=(r<<mk)+(t&pk),this.data[r];if(t<=65535)return r=this.index[_ee+(t-55296>>Jm)],r=(r<<mk)+(t&pk),this.data[r];if(t<this.highStart)return r=z6e-$6e+(t>>GO),r=this.index[r],r+=t>>Jm&G6e,r=this.index[r],r=(r<<mk)+(t&pk),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),gQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y6e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var yE=0;yE<gQ.length;yE++)Y6e[gQ.charCodeAt(yE)]=yE;var J6e=1,gk=2,vk=3,vQ=4,xQ=5,Z6e=7,bQ=8,xk=9,bk=10,yQ=11,wQ=12,EQ=13,CQ=14,yk=15,eOe=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var s=e.charCodeAt(r++);(s&64512)===56320?t.push(((a&1023)<<10)+(s&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},tOe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,s="";++a<r;){var i=e[a];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(a+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},rOe=W6e(O6e),ru="×",wk="÷",nOe=function(e){return rOe.get(e)},aOe=function(e,t,r){var n=r-2,a=t[n],s=t[r-1],i=t[r];if(s===gk&&i===vk)return ru;if(s===gk||s===vk||s===vQ||i===gk||i===vk||i===vQ)return wk;if(s===bQ&&[bQ,xk,yQ,wQ].indexOf(i)!==-1||(s===yQ||s===xk)&&(i===xk||i===bk)||(s===wQ||s===bk)&&i===bk||i===EQ||i===xQ||i===Z6e||s===J6e)return ru;if(s===EQ&&i===CQ){for(;a===xQ;)a=t[--n];if(a===CQ)return ru}if(s===yk&&i===yk){for(var o=0;a===yk;)o++,a=t[--n];if(o%2===0)return ru}return wk},sOe=function(e){var t=eOe(e),r=t.length,n=0,a=0,s=t.map(nOe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var i=ru;n<r&&(i=aOe(t,s,++n))===ru;);if(i!==ru||n===r){var o=tOe.apply(null,t.slice(a,n));return a=n,{value:o,done:!1}}return{done:!0,value:null}}}},iOe=function(e){for(var t=sOe(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},oOe=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),s=Math.round(a.height);if(e.body.removeChild(n),s===t)return!0}}return!1},lOe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,a=M5(n.data).map(function(l){return Ts(l)}),s=0,i={},o=a.every(function(l,u){r.setStart(n,s),r.setEnd(n,s+l.length);var d=r.getBoundingClientRect();s+=l.length;var f=d.x>i.x||d.y>i.y;return i=d,u===0?!0:f});return e.body.removeChild(t),o},cOe=function(){return typeof new Image().crossOrigin<"u"},uOe=function(){return typeof new XMLHttpRequest().responseType=="string"},dOe=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},_Q=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},AOe=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,s=t.toDataURL();a.src=s;var i=sj(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),SQ(i).then(function(o){n.drawImage(o,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=e.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=r+"px",_Q(l)?SQ(sj(r,r,0,0,u)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),_Q(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},sj=function(e,t,r,n,a){var s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return i.setAttributeNS(null,"width",e.toString()),i.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(a),i},SQ=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Ji={get SUPPORT_RANGE_BOUNDS(){var e=oOe(document);return Object.defineProperty(Ji,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ji.SUPPORT_RANGE_BOUNDS&&lOe(document);return Object.defineProperty(Ji,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=dOe(document);return Object.defineProperty(Ji,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?AOe(document):Promise.resolve(!1);return Object.defineProperty(Ji,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=cOe();return Object.defineProperty(Ji,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=uOe();return Object.defineProperty(Ji,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ji,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ji,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Ob=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),fOe=function(e,t,r,n){var a=pOe(t,r),s=[],i=0;return a.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(Ji.SUPPORT_RANGE_BOUNDS){var l=NQ(n,i,o.length).getClientRects();if(l.length>1){var u=qO(o),d=0;u.forEach(function(m){s.push(new Ob(m,kf.fromDOMRectList(e,NQ(n,d+i,m.length).getClientRects()))),d+=m.length})}else s.push(new Ob(o,kf.fromDOMRectList(e,l)))}else{var f=n.splitText(o.length);s.push(new Ob(o,hOe(e,n))),n=f}else Ji.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));i+=o.length}),s},hOe=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(n,t);var s=U5(e,n);return n.firstChild&&a.replaceChild(n.firstChild,n),s}}return kf.EMPTY},NQ=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(e,t),a.setEnd(e,t+r),a},qO=function(e){if(Ji.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return iOe(e)},mOe=function(e,t){if(Ji.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return vOe(e,t)},pOe=function(e,t){return t.letterSpacing!==0?qO(e):mOe(e,t)},gOe=[32,160,4961,65792,65793,4153,4241],vOe=function(e,t){for(var r=$Ie(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],a,s=function(){if(a.value){var i=a.value.slice(),o=M5(i),l="";o.forEach(function(u){gOe.indexOf(u)===-1?l+=Ts(u):(l.length&&n.push(l),n.push(Ts(u)),l="")}),l.length&&n.push(l)}};!(a=r.next()).done;)s();return n},xOe=function(){function e(t,r,n){this.text=bOe(r.data,n.textTransform),this.textBounds=fOe(t,this.text,n,r)}return e}(),bOe=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(yOe,wOe);case 2:return e.toUpperCase();default:return e}},yOe=/(^|\s|:|-|\(|\))([a-z])/g,wOe=function(e,t,r){return e.length>0?t+r.toUpperCase():e},See=function(e){cd(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return t}(EA),Nee=function(e){cd(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return t}(EA),Bee=function(e){cd(t,e);function t(r,n){var a=e.call(this,r,n)||this,s=new XMLSerializer,i=U5(r,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t}(EA),kee=function(e){cd(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(EA),ij=function(e){cd(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return t}(EA),EOe=[{type:15,flags:0,unit:"px",number:3}],COe=[{type:16,flags:0,number:50}],_Oe=function(e){return e.width>e.height?new kf(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new kf(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},SOe=function(e){var t=e.type===NOe?new Array(e.value.length+1).join("•"):e.value;return t.length===0?e.placeholder||"":t},D_="checkbox",P_="radio",NOe="password",BQ=707406591,WO=function(e){cd(t,e);function t(r,n){var a=e.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=SOe(n),(a.type===D_||a.type===P_)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=_Oe(a.bounds)),a.type){case D_:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=EOe;break;case P_:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=COe;break}return a}return t}(EA),Tee=function(e){cd(t,e);function t(r,n){var a=e.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return a.value=s&&s.text||"",a}return t}(EA),Iee=function(e){cd(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(EA),jee=function(e){cd(t,e);function t(r,n){var a=e.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=Oee(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?jb(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):vf.TRANSPARENT,i=n.contentWindow.document.body?jb(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):vf.TRANSPARENT;a.backgroundColor=h0(s)?h0(i)?a.styles.backgroundColor:i:s}}catch{}return a}return t}(EA),BOe=["OL","UL","MENU"],wC=function(e,t,r,n){for(var a=t.firstChild,s=void 0;a;a=s)if(s=a.nextSibling,Dee(a)&&a.data.trim().length>0)r.textNodes.push(new xOe(e,a,r.styles));else if(Xg(a))if(Uee(a)&&a.assignedNodes)a.assignedNodes().forEach(function(o){return wC(e,o,r,n)});else{var i=Fee(e,a);i.styles.isVisible()&&(kOe(a,i,n)?i.flags|=4:TOe(i.styles)&&(i.flags|=2),BOe.indexOf(a.tagName)!==-1&&(i.flags|=8),r.elements.push(i),a.slot,a.shadowRoot?wC(e,a.shadowRoot,i,n):!R_(a)&&!Pee(a)&&!L_(a)&&wC(e,a,i,n))}},Fee=function(e,t){return lj(t)?new See(e,t):Ree(t)?new Nee(e,t):Pee(t)?new Bee(e,t):IOe(t)?new kee(e,t):jOe(t)?new ij(e,t):FOe(t)?new WO(e,t):L_(t)?new Tee(e,t):R_(t)?new Iee(e,t):Lee(t)?new jee(e,t):new EA(e,t)},Oee=function(e,t){var r=Fee(e,t);return r.flags|=4,wC(e,t,r,r),r},kOe=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||XO(e)&&r.styles.isTransparent()},TOe=function(e){return e.isPositioned()||e.isFloating()},Dee=function(e){return e.nodeType===Node.TEXT_NODE},Xg=function(e){return e.nodeType===Node.ELEMENT_NODE},oj=function(e){return Xg(e)&&typeof e.style<"u"&&!EC(e)},EC=function(e){return typeof e.className=="object"},IOe=function(e){return e.tagName==="LI"},jOe=function(e){return e.tagName==="OL"},FOe=function(e){return e.tagName==="INPUT"},OOe=function(e){return e.tagName==="HTML"},Pee=function(e){return e.tagName==="svg"},XO=function(e){return e.tagName==="BODY"},Ree=function(e){return e.tagName==="CANVAS"},kQ=function(e){return e.tagName==="VIDEO"},lj=function(e){return e.tagName==="IMG"},Lee=function(e){return e.tagName==="IFRAME"},TQ=function(e){return e.tagName==="STYLE"},DOe=function(e){return e.tagName==="SCRIPT"},R_=function(e){return e.tagName==="TEXTAREA"},L_=function(e){return e.tagName==="SELECT"},Uee=function(e){return e.tagName==="SLOT"},IQ=function(e){return e.tagName.indexOf("-")>0},POe=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,a=t.counterReset,s=!0;n!==null&&n.forEach(function(o){var l=r.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var i=[];return s&&a.forEach(function(o){var l=r.counters[o.counter];i.push(o.counter),l||(l=r.counters[o.counter]=[]),l.push(o.reset)}),i},e}(),jQ={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},FQ={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},ROe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},LOe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Eg=function(e,t,r,n,a,s){return e<t||e>r?gy(e,a,s.length>0):n.integers.reduce(function(i,o,l){for(;e>=o;)e-=o,i+=n.values[l];return i},"")+s},Mee=function(e,t,r,n){var a="";do r||e--,a=n(e)+a,e/=t;while(e*t>=t);return a},Bs=function(e,t,r,n,a){var s=r-t+1;return(e<0?"-":"")+(Mee(Math.abs(e),s,n,function(i){return Ts(Math.floor(i%s)+t)})+a)},bm=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return Mee(Math.abs(e),n,!1,function(a){return t[Math.floor(a%n)]})+r},Vg=1,Lh=2,Uh=4,ib=8,rf=function(e,t,r,n,a,s){if(e<-9999||e>9999)return gy(e,4,a.length>0);var i=Math.abs(e),o=a;if(i===0)return t[0]+o;for(var l=0;i>0&&l<=4;l++){var u=i%10;u===0&&Ai(s,Vg)&&o!==""?o=t[u]+o:u>1||u===1&&l===0||u===1&&l===1&&Ai(s,Lh)||u===1&&l===1&&Ai(s,Uh)&&e>100||u===1&&l>1&&Ai(s,ib)?o=t[u]+(l>0?r[l-1]:"")+o:u===1&&l>0&&(o=r[l-1]+o),i=Math.floor(i/10)}return(e<0?n:"")+o},OQ="十百千萬",DQ="拾佰仟萬",PQ="マイナス",Ek="마이너스",gy=function(e,t,r){var n=r?". ":"",a=r?"、":"",s=r?", ":"",i=r?" ":"";switch(t){case 0:return"•"+i;case 1:return"◦"+i;case 2:return"◾"+i;case 5:var o=Bs(e,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return bm(e,"〇一二三四五六七八九",a);case 6:return Eg(e,1,3999,jQ,3,n).toLowerCase();case 7:return Eg(e,1,3999,jQ,3,n);case 8:return Bs(e,945,969,!1,n);case 9:return Bs(e,97,122,!1,n);case 10:return Bs(e,65,90,!1,n);case 11:return Bs(e,1632,1641,!0,n);case 12:case 49:return Eg(e,1,9999,FQ,3,n);case 35:return Eg(e,1,9999,FQ,3,n).toLowerCase();case 13:return Bs(e,2534,2543,!0,n);case 14:case 30:return Bs(e,6112,6121,!0,n);case 15:return bm(e,"子丑寅卯辰巳午未申酉戌亥",a);case 16:return bm(e,"甲乙丙丁戊己庚辛壬癸",a);case 17:case 48:return rf(e,"零一二三四五六七八九",OQ,"負",a,Lh|Uh|ib);case 47:return rf(e,"零壹貳參肆伍陸柒捌玖",DQ,"負",a,Vg|Lh|Uh|ib);case 42:return rf(e,"零一二三四五六七八九",OQ,"负",a,Lh|Uh|ib);case 41:return rf(e,"零壹贰叁肆伍陆柒捌玖",DQ,"负",a,Vg|Lh|Uh|ib);case 26:return rf(e,"〇一二三四五六七八九","十百千万",PQ,a,0);case 25:return rf(e,"零壱弐参四伍六七八九","拾百千万",PQ,a,Vg|Lh|Uh);case 31:return rf(e,"영일이삼사오육칠팔구","십백천만",Ek,s,Vg|Lh|Uh);case 33:return rf(e,"零一二三四五六七八九","十百千萬",Ek,s,0);case 32:return rf(e,"零壹貳參四五六七八九","拾百千",Ek,s,Vg|Lh|Uh);case 18:return Bs(e,2406,2415,!0,n);case 20:return Eg(e,1,19999,LOe,3,n);case 21:return Bs(e,2790,2799,!0,n);case 22:return Bs(e,2662,2671,!0,n);case 22:return Eg(e,1,10999,ROe,3,n);case 23:return bm(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return bm(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Bs(e,3302,3311,!0,n);case 28:return bm(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",a);case 29:return bm(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",a);case 34:return Bs(e,3792,3801,!0,n);case 37:return Bs(e,6160,6169,!0,n);case 38:return Bs(e,4160,4169,!0,n);case 39:return Bs(e,2918,2927,!0,n);case 40:return Bs(e,1776,1785,!0,n);case 43:return Bs(e,3046,3055,!0,n);case 44:return Bs(e,3174,3183,!0,n);case 45:return Bs(e,3664,3673,!0,n);case 46:return Bs(e,3872,3881,!0,n);case 3:default:return Bs(e,48,57,!0,n)}},Qee="data-html2canvas-ignore",RQ=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new POe,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,a=UOe(t,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var s=t.defaultView.pageXOffset,i=t.defaultView.pageYOffset,o=a.contentWindow,l=o.document,u=HOe(a).then(function(){return Xo(n,void 0,void 0,function(){var d,f;return So(this,function(m){switch(m.label){case 0:return this.scrolledElements.forEach(KOe),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),d=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:m.sent(),m.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,QOe(l)]:[3,4];case 3:m.sent(),m.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,f)}).then(function(){return a})]:[2,a]}})})});return l.open(),l.write(zOe(document.doctype)+"<html></html>"),$Oe(this.referenceElement.ownerDocument,s,i),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},e.prototype.createElementClone=function(t){if(aj(t,2))debugger;if(Ree(t))return this.createCanvasClone(t);if(kQ(t))return this.createVideoClone(t);if(TQ(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return lj(r)&&(lj(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),IQ(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return Ck(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,i){return i&&typeof i.cssText=="string"?s+i.cssText:s},""),a=t.cloneNode(!1);return a.textContent=n,a}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var a=t.cloneNode(!1);try{a.width=t.width,a.height=t.height;var s=t.getContext("2d"),i=a.getContext("2d");if(i)if(!this.options.allowTaint&&s)i.putImageData(s.getImageData(0,0,t.width,t.height),0,0);else{var o=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}i.drawImage(t,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return a},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var a=t.ownerDocument.createElement("canvas");return a.width=t.offsetWidth,a.height=t.offsetHeight,a},e.prototype.appendChildNode=function(t,r,n){(!Xg(r)||!DOe(r)&&!r.hasAttribute(Qee)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Xg(r)||!TQ(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var a=this,s=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;s;s=s.nextSibling)if(Xg(s)&&Uee(s)&&typeof s.assignedNodes=="function"){var i=s.assignedNodes();i.length&&i.forEach(function(o){return a.appendChildNode(r,o,n)})}else this.appendChildNode(r,s,n)},e.prototype.cloneNode=function(t,r){if(Dee(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&Xg(t)&&(oj(t)||EC(t))){var a=this.createElementClone(t);a.style.transitionProperty="none";var s=n.getComputedStyle(t),i=n.getComputedStyle(t,":before"),o=n.getComputedStyle(t,":after");this.referenceElement===t&&oj(a)&&(this.clonedReferenceElement=a),XO(a)&&WOe(a);var l=this.counters.parse(new hQ(this.context,s)),u=this.resolvePseudoContent(t,a,i,Db.BEFORE);IQ(t)&&(r=!0),kQ(t)||this.cloneChildNodes(t,a,r),u&&a.insertBefore(u,a.firstChild);var d=this.resolvePseudoContent(t,a,o,Db.AFTER);return d&&a.appendChild(d),this.counters.pop(l),(s&&(this.options.copyStyles||EC(t))&&!Lee(t)||r)&&Ck(s,a),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([a,t.scrollLeft,t.scrollTop]),(R_(t)||L_(t))&&(R_(a)||L_(a))&&(a.value=t.value),a}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,a){var s=this;if(n){var i=n.content,o=r.ownerDocument;if(!(!o||!i||i==="none"||i==="-moz-alt-content"||n.display==="none")){this.counters.parse(new hQ(this.context,n));var l=new I6e(this.context,n),u=o.createElement("html2canvaspseudoelement");Ck(n,u),l.content.forEach(function(f){if(f.type===0)u.appendChild(o.createTextNode(f.value));else if(f.type===22){var m=o.createElement("img");m.src=f.value,m.style.opacity="1",u.appendChild(m)}else if(f.type===18){if(f.name==="attr"){var p=f.values.filter(pa);p.length&&u.appendChild(o.createTextNode(t.getAttribute(p[0].value)||""))}else if(f.name==="counter"){var x=f.values.filter(Lv),g=x[0],b=x[1];if(g&&pa(g)){var y=s.counters.getCounterValue(g.value),_=b&&pa(b)?nj.parse(s.context,b.value):3;u.appendChild(o.createTextNode(gy(y,_,!1)))}}else if(f.name==="counters"){var S=f.values.filter(Lv),g=S[0],I=S[1],b=S[2];if(g&&pa(g)){var T=s.counters.getCounterValues(g.value),F=b&&pa(b)?nj.parse(s.context,b.value):3,w=I&&I.type===0?I.value:"",C=T.map(function(D){return gy(D,F,!1)}).join(w);u.appendChild(o.createTextNode(C))}}}else if(f.type===20)switch(f.value){case"open-quote":u.appendChild(o.createTextNode(fQ(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(fQ(l.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(f.value))}}),u.className=cj+" "+uj;var d=a===Db.BEFORE?" "+cj:" "+uj;return EC(r)?r.className.baseValue+=d:r.className+=d,u}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Db;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Db||(Db={}));var UOe=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(Qee,"true"),e.body.appendChild(r),r},MOe=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},QOe=function(e){return Promise.all([].slice.call(e.images,0).map(MOe))},HOe=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var s=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(s),t(e))},50)}})},VOe=["all","d","content"],Ck=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);VOe.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},zOe=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},$Oe=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},KOe=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},GOe=":before",qOe=":after",cj="___html2canvas___pseudoelement_before",uj="___html2canvas___pseudoelement_after",LQ=`{
    content: "" !important;
    display: none !important;
}`,WOe=function(e){XOe(e,"."+cj+GOe+LQ+`
         .`+uj+qOe+LQ)},XOe=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},Hee=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),YOe=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(Sk(t)||tDe(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return Xo(this,void 0,void 0,function(){var r,n,a,s,i=this;return So(this,function(o){switch(o.label){case 0:return r=Hee.isSameOrigin(t),n=!_k(t)&&this._options.useCORS===!0&&Ji.SUPPORT_CORS_IMAGES&&!r,a=!_k(t)&&!r&&!Sk(t)&&typeof this._options.proxy=="string"&&Ji.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!_k(t)&&!Sk(t)&&!a&&!n?[2]:(s=t,a?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,u){var d=new Image;d.onload=function(){return l(d)},d.onerror=u,(rDe(s)||n)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return l(d)},500),i._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=t.substring(0,256);return new Promise(function(s,i){var o=Ji.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var f=new FileReader;f.addEventListener("load",function(){return s(f.result)},!1),f.addEventListener("error",function(m){return i(m)},!1),f.readAsDataURL(l.response)}else i("Failed to proxy resource "+a+" with status code "+l.status)},l.onerror=i;var u=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+u+"url="+encodeURIComponent(t)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),r._options.imageTimeout){var d=r._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return i("Timed out ("+d+"ms) proxying "+a)}}l.send()})},e}(),JOe=/^data:image\/svg\+xml/i,ZOe=/^data:image\/.*;base64,/i,eDe=/^data:image\/.*/i,tDe=function(e){return Ji.SUPPORT_SVG_DRAWING||!nDe(e)},_k=function(e){return eDe.test(e)},rDe=function(e){return ZOe.test(e)},Sk=function(e){return e.substr(0,4)==="blob"},nDe=function(e){return e.substr(-3).toLowerCase()==="svg"||JOe.test(e)},er=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),Cg=function(e,t,r){return new er(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},wE=function(){function e(t,r,n,a){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=a}return e.prototype.subdivide=function(t,r){var n=Cg(this.start,this.startControl,t),a=Cg(this.startControl,this.endControl,t),s=Cg(this.endControl,this.end,t),i=Cg(n,a,t),o=Cg(a,s,t),l=Cg(i,o,t);return r?new e(this.start,n,i,l):new e(l,o,s,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),au=function(e){return e.type===1},aDe=function(){function e(t){var r=t.styles,n=t.bounds,a=ab(r.borderTopLeftRadius,n.width,n.height),s=a[0],i=a[1],o=ab(r.borderTopRightRadius,n.width,n.height),l=o[0],u=o[1],d=ab(r.borderBottomRightRadius,n.width,n.height),f=d[0],m=d[1],p=ab(r.borderBottomLeftRadius,n.width,n.height),x=p[0],g=p[1],b=[];b.push((s+l)/n.width),b.push((x+f)/n.width),b.push((i+g)/n.height),b.push((u+m)/n.height);var y=Math.max.apply(Math,b);y>1&&(s/=y,i/=y,l/=y,u/=y,f/=y,m/=y,x/=y,g/=y);var _=n.width-l,S=n.height-m,I=n.width-f,T=n.height-g,F=r.borderTopWidth,w=r.borderRightWidth,C=r.borderBottomWidth,N=r.borderLeftWidth,R=Ba(r.paddingTop,t.bounds.width),D=Ba(r.paddingRight,t.bounds.width),O=Ba(r.paddingBottom,t.bounds.width),M=Ba(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||i>0?Ma(n.left+N/3,n.top+F/3,s-N/3,i-F/3,Wn.TOP_LEFT):new er(n.left+N/3,n.top+F/3),this.topRightBorderDoubleOuterBox=s>0||i>0?Ma(n.left+_,n.top+F/3,l-w/3,u-F/3,Wn.TOP_RIGHT):new er(n.left+n.width-w/3,n.top+F/3),this.bottomRightBorderDoubleOuterBox=f>0||m>0?Ma(n.left+I,n.top+S,f-w/3,m-C/3,Wn.BOTTOM_RIGHT):new er(n.left+n.width-w/3,n.top+n.height-C/3),this.bottomLeftBorderDoubleOuterBox=x>0||g>0?Ma(n.left+N/3,n.top+T,x-N/3,g-C/3,Wn.BOTTOM_LEFT):new er(n.left+N/3,n.top+n.height-C/3),this.topLeftBorderDoubleInnerBox=s>0||i>0?Ma(n.left+N*2/3,n.top+F*2/3,s-N*2/3,i-F*2/3,Wn.TOP_LEFT):new er(n.left+N*2/3,n.top+F*2/3),this.topRightBorderDoubleInnerBox=s>0||i>0?Ma(n.left+_,n.top+F*2/3,l-w*2/3,u-F*2/3,Wn.TOP_RIGHT):new er(n.left+n.width-w*2/3,n.top+F*2/3),this.bottomRightBorderDoubleInnerBox=f>0||m>0?Ma(n.left+I,n.top+S,f-w*2/3,m-C*2/3,Wn.BOTTOM_RIGHT):new er(n.left+n.width-w*2/3,n.top+n.height-C*2/3),this.bottomLeftBorderDoubleInnerBox=x>0||g>0?Ma(n.left+N*2/3,n.top+T,x-N*2/3,g-C*2/3,Wn.BOTTOM_LEFT):new er(n.left+N*2/3,n.top+n.height-C*2/3),this.topLeftBorderStroke=s>0||i>0?Ma(n.left+N/2,n.top+F/2,s-N/2,i-F/2,Wn.TOP_LEFT):new er(n.left+N/2,n.top+F/2),this.topRightBorderStroke=s>0||i>0?Ma(n.left+_,n.top+F/2,l-w/2,u-F/2,Wn.TOP_RIGHT):new er(n.left+n.width-w/2,n.top+F/2),this.bottomRightBorderStroke=f>0||m>0?Ma(n.left+I,n.top+S,f-w/2,m-C/2,Wn.BOTTOM_RIGHT):new er(n.left+n.width-w/2,n.top+n.height-C/2),this.bottomLeftBorderStroke=x>0||g>0?Ma(n.left+N/2,n.top+T,x-N/2,g-C/2,Wn.BOTTOM_LEFT):new er(n.left+N/2,n.top+n.height-C/2),this.topLeftBorderBox=s>0||i>0?Ma(n.left,n.top,s,i,Wn.TOP_LEFT):new er(n.left,n.top),this.topRightBorderBox=l>0||u>0?Ma(n.left+_,n.top,l,u,Wn.TOP_RIGHT):new er(n.left+n.width,n.top),this.bottomRightBorderBox=f>0||m>0?Ma(n.left+I,n.top+S,f,m,Wn.BOTTOM_RIGHT):new er(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=x>0||g>0?Ma(n.left,n.top+T,x,g,Wn.BOTTOM_LEFT):new er(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||i>0?Ma(n.left+N,n.top+F,Math.max(0,s-N),Math.max(0,i-F),Wn.TOP_LEFT):new er(n.left+N,n.top+F),this.topRightPaddingBox=l>0||u>0?Ma(n.left+Math.min(_,n.width-w),n.top+F,_>n.width+w?0:Math.max(0,l-w),Math.max(0,u-F),Wn.TOP_RIGHT):new er(n.left+n.width-w,n.top+F),this.bottomRightPaddingBox=f>0||m>0?Ma(n.left+Math.min(I,n.width-N),n.top+Math.min(S,n.height-C),Math.max(0,f-w),Math.max(0,m-C),Wn.BOTTOM_RIGHT):new er(n.left+n.width-w,n.top+n.height-C),this.bottomLeftPaddingBox=x>0||g>0?Ma(n.left+N,n.top+Math.min(T,n.height-C),Math.max(0,x-N),Math.max(0,g-C),Wn.BOTTOM_LEFT):new er(n.left+N,n.top+n.height-C),this.topLeftContentBox=s>0||i>0?Ma(n.left+N+M,n.top+F+R,Math.max(0,s-(N+M)),Math.max(0,i-(F+R)),Wn.TOP_LEFT):new er(n.left+N+M,n.top+F+R),this.topRightContentBox=l>0||u>0?Ma(n.left+Math.min(_,n.width+N+M),n.top+F+R,_>n.width+N+M?0:l-N+M,u-(F+R),Wn.TOP_RIGHT):new er(n.left+n.width-(w+D),n.top+F+R),this.bottomRightContentBox=f>0||m>0?Ma(n.left+Math.min(I,n.width-(N+M)),n.top+Math.min(S,n.height+F+R),Math.max(0,f-(w+D)),m-(C+O),Wn.BOTTOM_RIGHT):new er(n.left+n.width-(w+D),n.top+n.height-(C+O)),this.bottomLeftContentBox=x>0||g>0?Ma(n.left+N+M,n.top+T,Math.max(0,x-(N+M)),g-(C+O),Wn.BOTTOM_LEFT):new er(n.left+N+M,n.top+n.height-(C+O))}return e}(),Wn;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Wn||(Wn={}));var Ma=function(e,t,r,n,a){var s=4*((Math.sqrt(2)-1)/3),i=r*s,o=n*s,l=e+r,u=t+n;switch(a){case Wn.TOP_LEFT:return new wE(new er(e,u),new er(e,u-o),new er(l-i,t),new er(l,t));case Wn.TOP_RIGHT:return new wE(new er(e,t),new er(e+i,t),new er(l,u-o),new er(l,u));case Wn.BOTTOM_RIGHT:return new wE(new er(l,t),new er(l,t+o),new er(e+i,u),new er(e,u));case Wn.BOTTOM_LEFT:default:return new wE(new er(l,u),new er(l-i,u),new er(e,t+o),new er(e,t))}},U_=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},sDe=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},M_=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},iDe=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),EE=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),oDe=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),lDe=function(e){return e.type===0},Vee=function(e){return e.type===1},cDe=function(e){return e.type===2},UQ=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},uDe=function(e,t,r,n,a){return e.map(function(s,i){switch(i){case 0:return s.add(t,r);case 1:return s.add(t+n,r);case 2:return s.add(t+n,r+a);case 3:return s.add(t,r+a)}return s})},zee=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),$ee=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new aDe(this.container),this.container.styles.opacity<1&&this.effects.push(new oDe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new iDe(n,a,s))}if(this.container.styles.overflowX!==0){var i=U_(this.curves),o=M_(this.curves);UQ(i,o)?this.effects.push(new EE(i,6)):(this.effects.push(new EE(i,2)),this.effects.push(new EE(o,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var s=n.effects.filter(function(l){return!Vee(l)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var i=U_(n.curves),o=M_(n.curves);UQ(i,o)||a.unshift(new EE(o,6))}}else a.unshift.apply(a,s);n=n.parent}return a.filter(function(l){return Ai(l.target,t)})},e}(),dj=function(e,t,r,n){e.container.elements.forEach(function(a){var s=Ai(a.flags,4),i=Ai(a.flags,2),o=new $ee(a,e);Ai(a.styles.display,2048)&&n.push(o);var l=Ai(a.flags,8)?[]:n;if(s||i){var u=s||a.styles.isPositioned()?r:t,d=new zee(o);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var f=a.styles.zIndex.order;if(f<0){var m=0;u.negativeZIndex.some(function(x,g){return f>x.element.container.styles.zIndex.order?(m=g,!1):m>0}),u.negativeZIndex.splice(m,0,d)}else if(f>0){var p=0;u.positiveZIndex.some(function(x,g){return f>=x.element.container.styles.zIndex.order?(p=g+1,!1):p>0}),u.positiveZIndex.splice(p,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else a.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);dj(o,d,s?d:r,l)}else a.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),dj(o,t,r,l);Ai(a.flags,8)&&Kee(a,l)})},Kee=function(e,t){for(var r=e instanceof ij?e.start:1,n=e instanceof ij?e.reversed:!1,a=0;a<t.length;a++){var s=t[a];s.container instanceof kee&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=gy(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},dDe=function(e){var t=new $ee(e,null),r=new zee(t),n=[];return dj(t,r,r,n),Kee(t.container,n),r},MQ=function(e,t){switch(t){case 0:return uu(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return uu(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return uu(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return uu(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},ADe=function(e,t){switch(t){case 0:return uu(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return uu(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return uu(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return uu(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},fDe=function(e,t){switch(t){case 0:return uu(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return uu(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return uu(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return uu(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},hDe=function(e,t){switch(t){case 0:return CE(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return CE(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return CE(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return CE(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},CE=function(e,t){var r=[];return au(e)?r.push(e.subdivide(.5,!1)):r.push(e),au(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},uu=function(e,t,r,n){var a=[];return au(e)?a.push(e.subdivide(.5,!1)):a.push(e),au(r)?a.push(r.subdivide(.5,!0)):a.push(r),au(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),au(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},Gee=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Q_=function(e){var t=e.styles,r=e.bounds,n=Ba(t.paddingLeft,r.width),a=Ba(t.paddingRight,r.width),s=Ba(t.paddingTop,r.width),i=Ba(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+a),-(t.borderTopWidth+t.borderBottomWidth+s+i))},mDe=function(e,t){return e===0?t.bounds:e===2?Q_(t):Gee(t)},pDe=function(e,t){return e===0?t.bounds:e===2?Q_(t):Gee(t)},Nk=function(e,t,r){var n=mDe(zg(e.styles.backgroundOrigin,t),e),a=pDe(zg(e.styles.backgroundClip,t),e),s=gDe(zg(e.styles.backgroundSize,t),r,n),i=s[0],o=s[1],l=ab(zg(e.styles.backgroundPosition,t),n.width-i,n.height-o),u=vDe(zg(e.styles.backgroundRepeat,t),l,s,n,a),d=Math.round(n.left+l[0]),f=Math.round(n.top+l[1]);return[u,d,f,i,o]},_g=function(e){return pa(e)&&e.value===gv.AUTO},_E=function(e){return typeof e=="number"},gDe=function(e,t,r){var n=t[0],a=t[1],s=t[2],i=e[0],o=e[1];if(!i)return[0,0];if(Ws(i)&&o&&Ws(o))return[Ba(i,r.width),Ba(o,r.height)];var l=_E(s);if(pa(i)&&(i.value===gv.CONTAIN||i.value===gv.COVER)){if(_E(s)){var u=r.width/r.height;return u<s!=(i.value===gv.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var d=_E(n),f=_E(a),m=d||f;if(_g(i)&&(!o||_g(o))){if(d&&f)return[n,a];if(!l&&!m)return[r.width,r.height];if(m&&l){var p=d?n:a*s,x=f?a:n/s;return[p,x]}var g=d?n:r.width,b=f?a:r.height;return[g,b]}if(l){var y=0,_=0;return Ws(i)?y=Ba(i,r.width):Ws(o)&&(_=Ba(o,r.height)),_g(i)?y=_*s:(!o||_g(o))&&(_=y/s),[y,_]}var S=null,I=null;if(Ws(i)?S=Ba(i,r.width):o&&Ws(o)&&(I=Ba(o,r.height)),S!==null&&(!o||_g(o))&&(I=d&&f?S/n*a:r.height),I!==null&&_g(i)&&(S=d&&f?I/a*n:r.width),S!==null&&I!==null)return[S,I];throw new Error("Unable to calculate background-size for element")},zg=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},vDe=function(e,t,r,n,a){var s=t[0],i=t[1],o=r[0],l=r[1];switch(e){case 2:return[new er(Math.round(n.left),Math.round(n.top+i)),new er(Math.round(n.left+n.width),Math.round(n.top+i)),new er(Math.round(n.left+n.width),Math.round(l+n.top+i)),new er(Math.round(n.left),Math.round(l+n.top+i))];case 3:return[new er(Math.round(n.left+s),Math.round(n.top)),new er(Math.round(n.left+s+o),Math.round(n.top)),new er(Math.round(n.left+s+o),Math.round(n.height+n.top)),new er(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new er(Math.round(n.left+s),Math.round(n.top+i)),new er(Math.round(n.left+s+o),Math.round(n.top+i)),new er(Math.round(n.left+s+o),Math.round(n.top+i+l)),new er(Math.round(n.left+s),Math.round(n.top+i+l))];default:return[new er(Math.round(a.left),Math.round(a.top)),new er(Math.round(a.left+a.width),Math.round(a.top)),new er(Math.round(a.left+a.width),Math.round(a.height+a.top)),new er(Math.round(a.left),Math.round(a.height+a.top))]}},xDe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",QQ="Hidden Text",bDe=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),s=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),a.src=xDe,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",s.style.fontFamily=t,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(QQ)),n.appendChild(s),n.appendChild(a);var o=a.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(QQ)),n.style.lineHeight="normal",a.style.verticalAlign="super";var l=a.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:o,middle:l}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),qee=function(){function e(t,r){this.context=t,this.options=r}return e}(),yDe=1e4,wDe=function(e){cd(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new bDe(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},t.prototype.applyEffect=function(r){this.ctx.save(),cDe(r)&&(this.ctx.globalAlpha=r.opacity),lDe(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),Vee(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return Xo(this,void 0,void 0,function(){var n;return So(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return Xo(this,void 0,void 0,function(){return So(this,function(n){switch(n.label){case 0:if(Ai(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,a){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var i=qO(r.text);i.reduce(function(o,l){return s.ctx.fillText(l,o,r.bounds.top+a),o+s.ctx.measureText(l).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),a=NDe(r.fontFamily).join(", "),s=uw(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,a].join(" "),a,s]},t.prototype.renderTextNode=function(r,n){return Xo(this,void 0,void 0,function(){var a,s,i,o,l,u,d,f,m=this;return So(this,function(p){return a=this.createFontStyle(n),s=a[0],i=a[1],o=a[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(i,o),u=l.baseline,d=l.middle,f=n.paintOrder,r.textBounds.forEach(function(x){f.forEach(function(g){switch(g){case 0:m.ctx.fillStyle=ki(n.color),m.renderTextWithLetterSpacing(x,n.letterSpacing,u);var b=n.textShadow;b.length&&x.text.trim().length&&(b.slice(0).reverse().forEach(function(y){m.ctx.shadowColor=ki(y.color),m.ctx.shadowOffsetX=y.offsetX.number*m.options.scale,m.ctx.shadowOffsetY=y.offsetY.number*m.options.scale,m.ctx.shadowBlur=y.blur.number,m.renderTextWithLetterSpacing(x,n.letterSpacing,u)}),m.ctx.shadowColor="",m.ctx.shadowOffsetX=0,m.ctx.shadowOffsetY=0,m.ctx.shadowBlur=0),n.textDecorationLine.length&&(m.ctx.fillStyle=ki(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:m.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top+u),x.bounds.width,1);break;case 2:m.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top),x.bounds.width,1);break;case 3:m.ctx.fillRect(x.bounds.left,Math.ceil(x.bounds.top+d),x.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&x.text.trim().length&&(m.ctx.strokeStyle=ki(n.webkitTextStrokeColor),m.ctx.lineWidth=n.webkitTextStrokeWidth,m.ctx.lineJoin=window.chrome?"miter":"round",m.ctx.strokeText(x.text,x.bounds.left,x.bounds.top+u)),m.ctx.strokeStyle="",m.ctx.lineWidth=0,m.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=Q_(r),i=M_(n);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return Xo(this,void 0,void 0,function(){var n,a,s,i,o,l,_,_,u,d,f,m,I,p,x,T,g,b,y,_,S,I,T;return So(this,function(F){switch(F.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,s=n.styles,i=0,o=n.textNodes,F.label=1;case 1:return i<o.length?(l=o[i],[4,this.renderTextNode(l,s)]):[3,4];case 2:F.sent(),F.label=3;case 3:return i++,[3,1];case 4:if(!(n instanceof See))return[3,8];F.label=5;case 5:return F.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return _=F.sent(),this.renderReplacedElement(n,a,_),[3,8];case 7:return F.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Nee&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof Bee))return[3,12];F.label=9;case 9:return F.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return _=F.sent(),this.renderReplacedElement(n,a,_),[3,12];case 11:return F.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof jee&&n.tree?(u=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:d=F.sent(),n.width&&n.height&&this.ctx.drawImage(d,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),F.label=14;case 14:if(n instanceof WO&&(f=Math.min(n.bounds.width,n.bounds.height),n.type===D_?n.checked&&(this.ctx.save(),this.path([new er(n.bounds.left+f*.39363,n.bounds.top+f*.79),new er(n.bounds.left+f*.16,n.bounds.top+f*.5549),new er(n.bounds.left+f*.27347,n.bounds.top+f*.44071),new er(n.bounds.left+f*.39694,n.bounds.top+f*.5649),new er(n.bounds.left+f*.72983,n.bounds.top+f*.23),new er(n.bounds.left+f*.84,n.bounds.top+f*.34085),new er(n.bounds.left+f*.39363,n.bounds.top+f*.79)]),this.ctx.fillStyle=ki(BQ),this.ctx.fill(),this.ctx.restore()):n.type===P_&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+f/2,n.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=ki(BQ),this.ctx.fill(),this.ctx.restore())),EDe(n)&&n.value.length){switch(m=this.createFontStyle(s),I=m[0],p=m[1],x=this.fontMetrics.getMetrics(I,p).baseline,this.ctx.font=I,this.ctx.fillStyle=ki(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=_De(n.styles.textAlign),T=Q_(n),g=0,n.styles.textAlign){case 1:g+=T.width/2;break;case 2:g+=T.width;break}b=T.add(g,0,0,-T.height/2+1),this.ctx.save(),this.path([new er(T.left,T.top),new er(T.left+T.width,T.top),new er(T.left+T.width,T.top+T.height),new er(T.left,T.top+T.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ob(n.value,b),s.letterSpacing,x),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ai(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];_=void 0,S=y.url,F.label=15;case 15:return F.trys.push([15,17,,18]),[4,this.context.cache.match(S)];case 16:return _=F.sent(),this.ctx.drawImage(_,n.bounds.left-(_.width+10),n.bounds.top),[3,18];case 17:return F.sent(),this.context.logger.error("Error loading list-style-image "+S),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(I=this.createFontStyle(s)[0],this.ctx.font=I,this.ctx.fillStyle=ki(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",T=new kf(n.bounds.left,n.bounds.top+Ba(n.styles.paddingTop,n.bounds.width),n.bounds.width,dQ(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ob(r.listValue,T),s.letterSpacing,dQ(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),F.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return Xo(this,void 0,void 0,function(){var n,a,y,s,i,y,o,l,y,u,d,y,f,m,y,p,x,y,g,b,y;return So(this,function(_){switch(_.label){case 0:if(Ai(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:_.sent(),n=0,a=r.negativeZIndex,_.label=2;case 2:return n<a.length?(y=a[n],[4,this.renderStack(y)]):[3,5];case 3:_.sent(),_.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:_.sent(),s=0,i=r.nonInlineLevel,_.label=7;case 7:return s<i.length?(y=i[s],[4,this.renderNode(y)]):[3,10];case 8:_.sent(),_.label=9;case 9:return s++,[3,7];case 10:o=0,l=r.nonPositionedFloats,_.label=11;case 11:return o<l.length?(y=l[o],[4,this.renderStack(y)]):[3,14];case 12:_.sent(),_.label=13;case 13:return o++,[3,11];case 14:u=0,d=r.nonPositionedInlineLevel,_.label=15;case 15:return u<d.length?(y=d[u],[4,this.renderStack(y)]):[3,18];case 16:_.sent(),_.label=17;case 17:return u++,[3,15];case 18:f=0,m=r.inlineLevel,_.label=19;case 19:return f<m.length?(y=m[f],[4,this.renderNode(y)]):[3,22];case 20:_.sent(),_.label=21;case 21:return f++,[3,19];case 22:p=0,x=r.zeroOrAutoZIndexOrTransformedOrOpacity,_.label=23;case 23:return p<x.length?(y=x[p],[4,this.renderStack(y)]):[3,26];case 24:_.sent(),_.label=25;case 25:return p++,[3,23];case 26:g=0,b=r.positiveZIndex,_.label=27;case 27:return g<b.length?(y=b[g],[4,this.renderStack(y)]):[3,30];case 28:_.sent(),_.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(a,s){var i=au(a)?a.start:a;s===0?n.ctx.moveTo(i.x,i.y):n.ctx.lineTo(i.x,i.y),au(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},t.prototype.renderRepeat=function(r,n,a,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,s),this.ctx.fill(),this.ctx.translate(-a,-s)},t.prototype.resizeImage=function(r,n,a){var s;if(r.width===n&&r.height===a)return r;var i=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=i.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,a);var l=o.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,a),o},t.prototype.renderBackgroundImage=function(r){return Xo(this,void 0,void 0,function(){var n,a,s,i,o,l;return So(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,a=function(d){var f,m,p,R,W,Z,M,Q,C,x,R,W,Z,M,Q,g,b,y,_,S,I,T,F,w,C,N,R,D,O,M,Q,ee,W,Z,V,q,K,J,P,G,Y,re;return So(this,function(ie){switch(ie.label){case 0:if(d.type!==0)return[3,5];f=void 0,m=d.url,ie.label=1;case 1:return ie.trys.push([1,3,,4]),[4,s.context.cache.match(m)];case 2:return f=ie.sent(),[3,4];case 3:return ie.sent(),s.context.logger.error("Error loading background-image "+m),[3,4];case 4:return f&&(p=Nk(r,n,[f.width,f.height,f.width/f.height]),R=p[0],W=p[1],Z=p[2],M=p[3],Q=p[4],C=s.ctx.createPattern(s.resizeImage(f,M,Q),"repeat"),s.renderRepeat(R,C,W,Z)),[3,6];case 5:lFe(d)?(x=Nk(r,n,[null,null,null]),R=x[0],W=x[1],Z=x[2],M=x[3],Q=x[4],g=nFe(d.angle,M,Q),b=g[0],y=g[1],_=g[2],S=g[3],I=g[4],T=document.createElement("canvas"),T.width=M,T.height=Q,F=T.getContext("2d"),w=F.createLinearGradient(y,S,_,I),cQ(d.stops,b).forEach(function(de){return w.addColorStop(de.stop,ki(de.color))}),F.fillStyle=w,F.fillRect(0,0,M,Q),M>0&&Q>0&&(C=s.ctx.createPattern(T,"repeat"),s.renderRepeat(R,C,W,Z))):cFe(d)&&(N=Nk(r,n,[null,null,null]),R=N[0],D=N[1],O=N[2],M=N[3],Q=N[4],ee=d.position.length===0?[$O]:d.position,W=Ba(ee[0],M),Z=Ba(ee[ee.length-1],Q),V=aFe(d,W,Z,M,Q),q=V[0],K=V[1],q>0&&K>0&&(J=s.ctx.createRadialGradient(D+W,O+Z,0,D+W,O+Z,q),cQ(d.stops,q*2).forEach(function(de){return J.addColorStop(de.stop,ki(de.color))}),s.path(R),s.ctx.fillStyle=J,q!==K?(P=r.bounds.left+.5*r.bounds.width,G=r.bounds.top+.5*r.bounds.height,Y=K/q,re=1/Y,s.ctx.save(),s.ctx.translate(P,G),s.ctx.transform(1,0,0,Y,0,0),s.ctx.translate(-P,-G),s.ctx.fillRect(D,re*(O-G)+G,M,Q*re),s.ctx.restore()):s.ctx.fill())),ie.label=6;case 6:return n--,[2]}})},s=this,i=0,o=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return i<o.length?(l=o[i],[5,a(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,a){return Xo(this,void 0,void 0,function(){return So(this,function(s){return this.path(MQ(a,n)),this.ctx.fillStyle=ki(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,a,s){return Xo(this,void 0,void 0,function(){var i,o;return So(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,s)]:[3,2];case 1:return l.sent(),[2];case 2:return i=ADe(s,a),this.path(i),this.ctx.fillStyle=ki(r),this.ctx.fill(),o=fDe(s,a),this.path(o),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return Xo(this,void 0,void 0,function(){var n,a,s,i,o,l,u,d,f=this;return So(this,function(m){switch(m.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!h0(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],i=CDe(zg(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),h0(n.backgroundColor)||(this.ctx.fillStyle=ki(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:m.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(p){f.ctx.save();var x=U_(r.curves),g=p.inset?0:yDe,b=uDe(x,-g+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(f.path(x),f.ctx.clip(),f.mask(b)):(f.mask(x),f.ctx.clip(),f.path(b)),f.ctx.shadowOffsetX=p.offsetX.number+g,f.ctx.shadowOffsetY=p.offsetY.number,f.ctx.shadowColor=ki(p.color),f.ctx.shadowBlur=p.blur.number,f.ctx.fillStyle=p.inset?ki(p.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),m.label=2;case 2:o=0,l=0,u=s,m.label=3;case 3:return l<u.length?(d=u[l],d.style!==0&&!h0(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return m.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,r.curves,3)];case 6:return m.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,r.curves)];case 8:return m.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,r.curves)];case 10:m.sent(),m.label=11;case 11:o++,m.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,a,s,i){return Xo(this,void 0,void 0,function(){var o,l,u,d,f,m,p,x,g,b,y,_,S,I,T,F,T,F;return So(this,function(w){return this.ctx.save(),o=hDe(s,a),l=MQ(s,a),i===2&&(this.path(l),this.ctx.clip()),au(l[0])?(u=l[0].start.x,d=l[0].start.y):(u=l[0].x,d=l[0].y),au(l[1])?(f=l[1].end.x,m=l[1].end.y):(f=l[1].x,m=l[1].y),a===0||a===2?p=Math.abs(u-f):p=Math.abs(d-m),this.ctx.beginPath(),i===3?this.formatPath(o):this.formatPath(l.slice(0,2)),x=n<3?n*3:n*2,g=n<3?n*2:n,i===3&&(x=n,g=n),b=!0,p<=x*2?b=!1:p<=x*2+g?(y=p/(2*x+g),x*=y,g*=y):(_=Math.floor((p+g)/(x+g)),S=(p-_*x)/(_-1),I=(p-(_+1)*x)/_,g=I<=0||Math.abs(g-S)<Math.abs(g-I)?S:I),b&&(i===3?this.ctx.setLineDash([0,x+g]):this.ctx.setLineDash([x,g])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=ki(r),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(au(l[0])&&(T=l[3],F=l[0],this.ctx.beginPath(),this.formatPath([new er(T.end.x,T.end.y),new er(F.start.x,F.start.y)]),this.ctx.stroke()),au(l[1])&&(T=l[1],F=l[2],this.ctx.beginPath(),this.formatPath([new er(T.end.x,T.end.y),new er(F.start.x,F.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return Xo(this,void 0,void 0,function(){var n;return So(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ki(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=dDe(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(qee),EDe=function(e){return e instanceof Iee||e instanceof Tee?!0:e instanceof WO&&e.type!==P_&&e.type!==D_},CDe=function(e,t){switch(e){case 0:return U_(t);case 2:return sDe(t);case 1:default:return M_(t)}},_De=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},SDe=["-apple-system","system-ui"],NDe=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return SDe.indexOf(t)===-1}):e},BDe=function(e){cd(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return t.prototype.render=function(r){return Xo(this,void 0,void 0,function(){var n,a;return So(this,function(s){switch(s.label){case 0:return n=sj(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,kDe(n)];case 1:return a=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ki(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(qee),kDe=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},TDe=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,nE([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,nE([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,nE([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,nE([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),IDe=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new TDe({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new YOe(this,t)}return e.instanceCount=1,e}(),Wee=function(e,t){return t===void 0&&(t={}),jDe(e,t)};typeof window<"u"&&Hee.setContext(window);var jDe=function(e,t){return Xo(void 0,void 0,void 0,function(){var r,n,a,s,i,o,l,u,d,f,m,p,x,g,b,y,_,S,I,T,w,F,w,C,N,R,D,O,M,Q,ee,W,Z,V,q,K,J,P,G,Y;return So(this,function(re){switch(re.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(C=t.allowTaint)!==null&&C!==void 0?C:!1,imageTimeout:(N=t.imageTimeout)!==null&&N!==void 0?N:15e3,proxy:t.proxy,useCORS:(R=t.useCORS)!==null&&R!==void 0?R:!1},s=zI({logging:(D=t.logging)!==null&&D!==void 0?D:!0,cache:t.cache},a),i={windowWidth:(O=t.windowWidth)!==null&&O!==void 0?O:n.innerWidth,windowHeight:(M=t.windowHeight)!==null&&M!==void 0?M:n.innerHeight,scrollX:(Q=t.scrollX)!==null&&Q!==void 0?Q:n.pageXOffset,scrollY:(ee=t.scrollY)!==null&&ee!==void 0?ee:n.pageYOffset},o=new kf(i.scrollX,i.scrollY,i.windowWidth,i.windowHeight),l=new IDe(s,o),u=(W=t.foreignObjectRendering)!==null&&W!==void 0?W:!1,d={allowTaint:(Z=t.allowTaint)!==null&&Z!==void 0?Z:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),f=new RQ(l,e,d),m=f.clonedReferenceElement,m?[4,f.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=re.sent(),x=XO(m)||OOe(m)?uIe(m.ownerDocument):U5(l,m),g=x.width,b=x.height,y=x.left,_=x.top,S=FDe(l,m,t.backgroundColor),I={canvas:t.canvas,backgroundColor:S,scale:(q=(V=t.scale)!==null&&V!==void 0?V:n.devicePixelRatio)!==null&&q!==void 0?q:1,x:((K=t.x)!==null&&K!==void 0?K:0)+y,y:((J=t.y)!==null&&J!==void 0?J:0)+_,width:(P=t.width)!==null&&P!==void 0?P:Math.ceil(g),height:(G=t.height)!==null&&G!==void 0?G:Math.ceil(b)},u?(l.logger.debug("Document cloned, using foreign object rendering"),w=new BDe(l,I),[4,w.render(m)]):[3,3];case 2:return T=re.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+y+","+_+" with size "+g+"x"+b+" using computed rendering"),l.logger.debug("Starting DOM parsing"),F=Oee(l,m),S===F.styles.backgroundColor&&(F.styles.backgroundColor=vf.TRANSPARENT),l.logger.debug("Starting renderer for element at "+I.x+","+I.y+" with size "+I.width+"x"+I.height),w=new wDe(l,I),[4,w.render(F)];case 4:T=re.sent(),re.label=5;case 5:return(!((Y=t.removeContainer)!==null&&Y!==void 0)||Y)&&(RQ.destroy(p)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,T]}})})},FDe=function(e,t,r){var n=t.ownerDocument,a=n.documentElement?jb(e,getComputedStyle(n.documentElement).backgroundColor):vf.TRANSPARENT,s=n.body?jb(e,getComputedStyle(n.body).backgroundColor):vf.TRANSPARENT,i=typeof r=="string"?jb(e,r):r===null?vf.TRANSPARENT:4294967295;return t===n.documentElement?h0(a)?h0(s)?i:s:a:i};const ODe=Object.freeze(Object.defineProperty({__proto__:null,default:Wee},Symbol.toStringTag,{value:"Module"})),W5="proyectos_interdisciplinarios",Xee="entregas_interdisciplinarias",DDe="usuarios",YO=e=>{const t=e.data();return{id:e.id,...t}},PDe=e=>{const t=tr(Ft(Bt,W5),qr("nombreProyecto","asc"));return br(t,n=>{const a=n.docs.map(s=>YO(s));e(a)},n=>{console.error("Error al suscribirse a las planificaciones:",n),e([])})},RDe=async e=>{try{return(await xa(Ft(Bt,W5),e)).id}catch(t){throw console.error("Error al crear la planificación:",t),new Error("No se pudo crear la planificación.")}},HQ=async(e,t)=>{try{const{id:r,...n}=t,a=Er(Bt,W5,e);await io(a,n)}catch(r){throw console.error("Error al actualizar la planificación:",r),new Error("No se pudo actualizar la planificación.")}},LDe=async e=>{try{const t=Er(Bt,W5,e);await pi(t)}catch(t){throw console.error("Error al eliminar la planificación:",t),new Error("No se pudo eliminar la planificación.")}},UDe=(e,t)=>{const r=tr(Ft(Bt,Xee),Mn("planificacionId","==",e));return br(r,a=>{const s=a.docs.map(i=>YO(i));t(s)},a=>{console.error("Error al suscribirse a las entregas:",a),t([])})},VQ=async(e,t)=>{try{const r=Er(Bt,Xee,e);await io(r,{feedbackProfesor:t,fechaFeedback:fr.fromDate(new Date)},{merge:!0})}catch(r){throw console.error("Error al guardar la retroalimentación:",r),new Error("No se pudo guardar la retroalimentación.")}},MDe=e=>{const t=tr(Ft(Bt,DDe));return br(t,n=>{const a=n.docs.map(s=>YO(s));e(a)},n=>{console.error("Error al suscribirse a todos los usuarios:",n),e([])})},QDe=({planificaciones:e,onActivityUpdate:t})=>{const[r,n]=k.useState(null),a=k.useMemo(()=>{const l=[];return e.forEach(u=>{(u.actividades||[]).forEach(d=>l.push({...d,planId:u.id,type:"activity"})),(u.fechasClave||[]).forEach(d=>l.push({id:d.id,planId:u.id,type:"keyDate",nombre:d.nombre,fechaInicio:d.fecha,fechaFin:d.fecha,responsables:u.docentesResponsables,asignaturaPrincipal:"Milestone"}))}),l.sort((u,d)=>new Date(u.fechaInicio).getTime()-new Date(d.fechaInicio).getTime())},[e]),s=k.useCallback(l=>{if(l.type==="keyDate")return{text:"Fecha Clave",color:"bg-slate-200 text-slate-800 dark:bg-slate-700 dark:text-slate-300"};const u=new Date;u.setHours(0,0,0,0);const d=new Date(`${l.fechaInicio}T00:00:00`),f=new Date(`${l.fechaFin}T00:00:00`);return f<u?{text:"Completado",color:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"}:d<=u&&f>=u?{text:"En Progreso",color:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"}:{text:"Planificado",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"}},[]),i=({name:l})=>{const u=(l||"").split(" ").map(p=>p[0]).join("").toUpperCase(),d=p=>{let x=0;for(let g=0;g<p.length;g++)x=p.charCodeAt(g)+((x<<5)-x);return x},f=["bg-pink-100 text-pink-800 dark:bg-pink-900/50 dark:text-pink-300","bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300","bg-teal-100 text-teal-800 dark:bg-teal-900/50 dark:text-teal-300","bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300","bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300","bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300","bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"],m=Math.abs(d(l))%f.length;return c.jsx("div",{className:`w-9 h-9 rounded-full ${f[m]} flex items-center justify-center font-bold text-sm ring-2 ring-white dark:ring-slate-800`,children:u.slice(0,2)})},o=({data:l,onClose:u,onSave:d})=>{const[f,m]=k.useState(l.activity),p=g=>{m({...f,[g.target.name]:g.target.value})},x=()=>{d(l.planId,f),u()};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-lg p-6 animate-fade-in-up",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:"Editar Actividad"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Nombre"}),c.jsx("input",{name:"nombre",value:f.nombre,onChange:p,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Responsables"}),c.jsx("input",{name:"responsables",value:f.responsables,onChange:p,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Fecha Inicio"}),c.jsx("input",{type:"date",name:"fechaInicio",value:f.fechaInicio,onChange:p,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Fecha Fin"}),c.jsx("input",{type:"date",name:"fechaFin",value:f.fechaFin,onChange:p,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]})]})]}),c.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[c.jsx("button",{onClick:u,className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 rounded-md font-semibold",children:"Cancelar"}),c.jsx("button",{onClick:x,className:"px-4 py-2 bg-amber-500 text-white rounded-md font-semibold",children:"Guardar"})]})]})})};return a.length===0?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Cronograma del Proyecto"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Visualice el progreso y las dependencias del proyecto."}),c.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:"No hay actividades para mostrar. Cree una planificación primero."})]}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[c.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-slate-200",children:"Cronograma del Proyecto"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 mb-6",children:"Visualice el progreso y las dependencias del proyecto."}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Tarea"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Estado"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Fecha de Inicio"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Fecha de Fin"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Asignado"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:a.map(l=>{const u=s(l),d=l.type==="activity";return c.jsxs("tr",{className:`${d?"hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer":""}`,onClick:()=>d&&n({planId:l.planId,activity:l}),children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base font-medium text-slate-900 dark:text-slate-200",children:l.nombre}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full ${u.color}`,children:u.text})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-slate-600 dark:text-slate-400",children:l.fechaInicio}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-slate-600 dark:text-slate-400",children:l.fechaFin}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx(i,{name:l.responsables||"N/A"})})]},l.id)})})]})}),r&&c.jsx(o,{data:r,onClose:()=>n(null),onSave:t})]})},HDe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),VDe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197M15 21a6 6 0 006-5.197M15 12a4 4 0 110-8 4 4 0 010 8z"})}),zDe=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),c.jsx("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5zm0 0v6"})]}),$De=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),KDe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),GDe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6H8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})}),qDe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),WDe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Aj=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),Oh=({icon:e,label:t,children:r,aiButton:n})=>c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-3 text-slate-500 dark:text-slate-400 font-medium",children:[e,c.jsx("span",{children:t})]}),n]}),r]}),XDe=({initialPlan:e,onSave:t,onCancel:r})=>{const[n,a]=k.useState(e||{id:"",nombreProyecto:"",descripcionProyecto:"",asignaturas:[],cursos:[],docentesResponsables:"",objetivos:"",actividades:[],fechasClave:[],indicadoresLogro:"",tareas:[]}),[s,i]=k.useState({nombre:"",fechaInicio:"",fechaFin:"",responsables:"",asignaturaPrincipal:""}),[o,l]=k.useState({nombre:"",fecha:""}),[u,d]=k.useState({instrucciones:"",fechaEntrega:"",recursoUrl:""}),[f,m]=k.useState(!1),[p,x]=k.useState(!1),[g,b]=k.useState(!1);k.useEffect(()=>{a(e||{id:"",nombreProyecto:"",descripcionProyecto:"",asignaturas:[],cursos:[],docentesResponsables:"",objetivos:"",actividades:[],fechasClave:[],indicadoresLogro:"",tareas:[]})},[e]);const y=async C=>{if(!n.descripcionProyecto.trim()){alert("Por favor, ingrese una descripción del proyecto para usar la IA.");return}C==="objetivos"?m(!0):x(!0);const N="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE";let R="";C==="objetivos"?R=`Basado en la siguiente descripción de un proyecto escolar interdisciplinario, genera 3 a 5 objetivos de aprendizaje claros, medibles y concisos. La respuesta debe ser solo el texto de los objetivos, formateado en una lista con guiones.
            Descripción del Proyecto: "${n.descripcionProyecto}"`:R=`Basado en la siguiente descripción y objetivos de un proyecto escolar interdisciplinario, genera una lista de 5 a 7 indicadores de logro concretos y observables que permitan evaluar el cumplimiento de los objetivos. La respuesta debe ser solo el texto de los indicadores, formateado en una lista con guiones.
            Descripción del Proyecto: "${n.descripcionProyecto}"
            Objetivos (si existen): "${n.objetivos||"Aún no definidos, genéralos a partir de la descripción."}"`;try{const ee=(await(await new ti(N).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(R)).response).text();a(W=>({...W,[C]:ee.replace(/(\*\*|\*)/g,"")}))}catch(D){console.error(`Error al generar ${C}`,D),alert(`Hubo un error al generar los ${C}. Inténtelo de nuevo.`)}finally{C==="objetivos"?m(!1):x(!1)}},_=async()=>{if(!n.descripcionProyecto.trim()){alert("Por favor, ingrese una descripción del proyecto para usar la IA.");return}b(!0);const C="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",N=`
            Basado en la descripción de un proyecto escolar, genera una estructura completa. La respuesta DEBE ser un único objeto JSON válido sin texto adicional ni bloques \`\`\`json.
            Descripción del proyecto: "${n.descripcionProyecto}"
            Docentes responsables: "${n.docentesResponsables}"
            Asignaturas involucradas: "${n.asignaturas.join(", ")}"

            El JSON debe tener tres claves: 'actividades', 'fechasClave', y 'tareas'.
            1. 'actividades': Un array de 3 a 5 objetos. Cada objeto debe tener: "nombre" (string), "fechaInicio" (string "YYYY-MM-DD"), "fechaFin" (string "YYYY-MM-DD"), y "responsables" (string, uno de los docentes).
            2. 'fechasClave': Un array de 2 a 3 objetos (hitos importantes). Cada objeto debe tener: "nombre" (string) y "fecha" (string "YYYY-MM-DD").
            3. 'tareas': Un array de 2 a 3 objetos (tareas para estudiantes). Cada objeto debe tener: "instrucciones" (string detallado) y "fechaEntrega" (string "YYYY-MM-DD").
            Las fechas deben ser lógicas y secuenciales. Asume que el proyecto comienza hoy.
        `;try{const ee=(await(await new ti(C).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(N)).response).text().replace(/^```json\s*|```\s*$/g,""),W=JSON.parse(ee);a(Z=>{var V,q,K;return{...Z,actividades:((V=W.actividades)==null?void 0:V.map(J=>({...J,id:crypto.randomUUID()})))||Z.actividades,fechasClave:((q=W.fechasClave)==null?void 0:q.map(J=>({...J,id:crypto.randomUUID()})))||Z.fechasClave,tareas:((K=W.tareas)==null?void 0:K.map((J,P)=>({...J,id:crypto.randomUUID(),numero:P+1})))||Z.tareas}})}catch(R){console.error("Error al generar la estructura del proyecto:",R),alert("No se pudo generar la estructura del proyecto. Intente de nuevo.")}finally{b(!1)}},S=C=>{a(N=>({...N,[C.target.name]:C.target.value}))},I=(C,N)=>{a(R=>{const D=R[C],O=D.includes(N)?D.filter(M=>M!==N):[...D,N];return{...R,[C]:O}})},T=()=>{if(!s.nombre||!s.fechaInicio||!s.fechaFin){alert("Nombre y fechas son obligatorios para la actividad.");return}a(C=>({...C,actividades:[...C.actividades||[],{...s,id:crypto.randomUUID()}]})),i({nombre:"",fechaInicio:"",fechaFin:"",responsables:"",asignaturaPrincipal:""})},F=()=>{!o.nombre||!o.fecha||(a(C=>({...C,fechasClave:[...C.fechasClave||[],{...o,id:crypto.randomUUID()}]})),l({nombre:"",fecha:""}))},w=()=>{var N;if(!u.instrucciones||!u.fechaEntrega){alert("Instrucciones y fecha son obligatorios para la tarea.");return}const C={id:crypto.randomUUID(),numero:(((N=n.tareas)==null?void 0:N.length)||0)+1,...u};a(R=>({...R,tareas:[...R.tareas||[],C]})),d({instrucciones:"",fechaEntrega:"",recursoUrl:""})};return c.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[c.jsx("div",{className:"text-center mb-12",children:c.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-800 dark:text-slate-200",children:e?"Editando Proyecto":"Nuevo Proyecto Interdisciplinario"})}),c.jsxs("div",{className:"space-y-6",children:[c.jsx(Oh,{icon:c.jsx(HDe,{}),label:"Nombre del Proyecto",children:c.jsx("input",{name:"nombreProyecto",value:n.nombreProyecto,onChange:S,placeholder:"Ingrese el nombre del proyecto...",className:"w-full mt-1 bg-transparent text-lg font-semibold focus:ring-0 border-none p-0 dark:text-slate-200 placeholder:text-slate-400"})}),c.jsx(Oh,{icon:c.jsx(VDe,{}),label:"Profesores",children:c.jsx("input",{name:"docentesResponsables",value:n.docentesResponsables,onChange:S,placeholder:"Ingrese nombres separados por comas...",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 dark:text-slate-200 placeholder:text-slate-400"})}),c.jsx(Oh,{icon:c.jsx(zDe,{}),label:"Cursos",children:c.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 mt-2",children:qa.map(C=>c.jsx("button",{type:"button",onClick:()=>I("cursos",C),className:`w-full text-center p-2 rounded-md text-sm transition-colors ${n.cursos.includes(C)?"bg-amber-500 text-white font-semibold":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600"}`,children:C},C))})}),c.jsx(Oh,{icon:c.jsx($De,{}),label:"Asignaturas",children:c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 mt-2",children:Pi.map(C=>c.jsx("button",{type:"button",onClick:()=>I("asignaturas",C),className:`w-full text-left p-2 rounded-md text-sm transition-colors ${n.asignaturas.includes(C)?"bg-amber-500 text-white font-semibold":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600"}`,children:C},C))})}),c.jsx(Oh,{icon:c.jsx(KDe,{}),label:"Descripción del Proyecto",children:c.jsx("textarea",{name:"descripcionProyecto",value:n.descripcionProyecto,onChange:S,placeholder:"Detalle aquí la metodología, el producto final esperado y el propósito del proyecto. Esta información es clave para la IA.",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 min-h-[100px] resize-none dark:text-slate-200 placeholder:text-slate-400"})}),c.jsx(Oh,{icon:c.jsx(GDe,{}),label:"Objetivos",aiButton:c.jsx("button",{type:"button",onClick:()=>y("objetivos"),disabled:!n.descripcionProyecto.trim()||f,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50",title:"Generar con IA",children:c.jsx(Aj,{})}),children:f?c.jsx("div",{className:"p-4 text-center",children:"Generando..."}):c.jsx("textarea",{name:"objetivos",value:n.objetivos,onChange:S,placeholder:"Liste los objetivos de aprendizaje...",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 min-h-[80px] resize-none dark:text-slate-200 placeholder:text-slate-400"})}),c.jsx(Oh,{icon:c.jsx(qDe,{}),label:"Indicadores de Éxito",aiButton:c.jsx("button",{type:"button",onClick:()=>y("indicadoresLogro"),disabled:!n.descripcionProyecto.trim()||p,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50",title:"Generar con IA",children:c.jsx(Aj,{})}),children:p?c.jsx("div",{className:"p-4 text-center",children:"Generando..."}):c.jsx("textarea",{name:"indicadoresLogro",value:n.indicadoresLogro,onChange:S,placeholder:"Liste los indicadores de logro o evaluación...",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 min-h-[80px] resize-none dark:text-slate-200 placeholder:text-slate-400"})}),c.jsx(Oh,{icon:c.jsx(WDe,{}),label:"Carta Gantt",children:c.jsxs("div",{className:"space-y-4 mt-2",children:[c.jsx("div",{className:"text-center border-b pb-4 mb-4 dark:border-slate-700",children:c.jsx("button",{type:"button",onClick:_,disabled:g||!n.descripcionProyecto,className:"bg-sky-500 text-white font-semibold py-2 px-5 rounded-lg disabled:bg-slate-400 flex items-center gap-2 mx-auto",children:g?"Generando...":"✨ Sugerir Estructura con IA"})}),c.jsxs("div",{className:"space-y-2 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-semibold",children:"Actividades"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 items-end",children:[c.jsx("input",{value:s.nombre,onChange:C=>i({...s,nombre:C.target.value}),placeholder:"Nombre",className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600 md:col-span-2"}),c.jsx("input",{type:"date",value:s.fechaInicio,onChange:C=>i({...s,fechaInicio:C.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),c.jsx("input",{type:"date",value:s.fechaFin,onChange:C=>i({...s,fechaFin:C.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),c.jsx("button",{onClick:T,className:"bg-slate-200 dark:bg-slate-600 p-2 rounded h-8 text-sm font-semibold",children:"Agregar"})]}),c.jsx("ul",{className:"text-xs",children:n.actividades.map(C=>c.jsx("li",{children:C.nombre},C.id))})]}),c.jsxs("div",{className:"space-y-2 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-semibold",children:"Fechas Clave (Hitos)"}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 items-end",children:[c.jsx("input",{value:o.nombre,onChange:C=>l({...o,nombre:C.target.value}),placeholder:"Hito",className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600 col-span-1"}),c.jsx("input",{type:"date",value:o.fecha,onChange:C=>l({...o,fecha:C.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),c.jsx("button",{onClick:F,className:"bg-slate-200 dark:bg-slate-600 p-2 rounded h-8 text-sm font-semibold",children:"Agregar"})]}),c.jsx("ul",{className:"text-xs",children:n.fechasClave.map(C=>c.jsxs("li",{children:[C.nombre," (",C.fecha,")"]},C.id))})]}),c.jsxs("div",{className:"space-y-2 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-semibold",children:"Tareas para Estudiantes"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 items-end",children:[c.jsx("input",{value:u.instrucciones,onChange:C=>d({...u,instrucciones:C.target.value}),placeholder:"Instrucciones",className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600 md:col-span-2"}),c.jsx("input",{type:"date",value:u.fechaEntrega,onChange:C=>d({...u,fechaEntrega:C.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),c.jsx("button",{type:"button",onClick:w,className:"bg-slate-200 dark:bg-slate-600 p-2 rounded h-8 text-sm font-semibold",children:"Agregar"})]}),c.jsx("ul",{className:"text-xs",children:(n.tareas||[]).map(C=>c.jsxs("li",{children:[C.numero,". ",C.instrucciones]},C.id))})]})]})}),c.jsxs("div",{className:"flex justify-end gap-4 pt-6",children:[c.jsx("button",{onClick:r,className:"px-8 py-3 bg-slate-200 text-slate-700 rounded-lg font-semibold hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Cancelar"}),c.jsx("button",{onClick:()=>t(n),className:"px-8 py-3 bg-slate-800 text-white rounded-lg font-semibold hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:e?"Guardar Cambios":"Guardar Proyecto"})]})]})]})},zQ=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0),[a,s]=k.useState("list"),[i,o]=k.useState(null),[l,u]=k.useState(null),[d,f]=k.useState(null);k.useEffect(()=>{n(!0);const S=PDe(I=>{t(I),n(!1)});return()=>S()},[]);const m=k.useCallback(async(S,I)=>{const T=e.find(F=>F.id===S);if(T){const F={...T,actividades:(T.actividades||[]).map(w=>w.id===I.id?I:w)};await HQ(S,F)}},[e]),p=async S=>{try{"id"in S&&S.id?await HQ(S.id,S):await RDe(S),s("list"),o(null)}catch(I){console.error("Error al guardar la planificación:",I),alert("No se pudo guardar la planificación.")}},x=S=>{o(S),s("form")},g=async S=>{if(console.log("ID recibido por handleDelete:",S),!S){console.error("handleDelete fue llamado con un ID inválido:",S),alert("Error: No se puede eliminar un proyecto sin un ID válido.");return}if(window.confirm("¿Está seguro de eliminar esta planificación?"))try{await LDe(S)}catch(I){console.error("Error al eliminar la planificación:",I),alert("No se pudo eliminar la planificación.")}},b=()=>{o(null),s("form")},y=async S=>{u(S.id);const I=new mr("p","mm","a4"),T=15,F=I.internal.pageSize.getWidth(),w=I.internal.pageSize.getHeight(),C=F-T*2;let N=T;const R=22,D=14,O=11,M=()=>{I.setFont("helvetica","normal"),I.setFontSize(9),I.setTextColor(150),I.text("Proyecto Interdisciplinario",T,12),I.text("Liceo Industrial de Recoleta",F-T,12,{align:"right"}),I.setDrawColor(220),I.line(T,15,F-T,15)},Q=q=>{N+q>w-T&&(I.addPage(),M(),N=T+15)},ee=(q,K)=>{if(!K||Array.isArray(K)&&K.length===0||typeof K=="string"&&!K.trim())return;const J=10;I.setFontSize(O);const P=Array.isArray(K)?K.join(", "):String(K),G=I.splitTextToSize(P,C),Y=G.length*(O*.35*1.15);Q(J+Y+12),I.setFont("helvetica","bold"),I.setFontSize(D),I.setTextColor(40),I.text(q,T,N),N+=6,I.setDrawColor(200),I.line(T,N,T+30,N),N+=8,I.setFont("helvetica","normal"),I.setFontSize(O),I.setTextColor(80),I.text(G,T,N),N+=Y+12};M(),N=T+20,I.setFont("helvetica","bold"),I.setFontSize(R),I.setTextColor(0);const W=I.splitTextToSize(S.nombreProyecto,C);if(I.text(W,T,N),N+=W.length*(R*.4)+10,nl(I,{startY:N,body:[[{content:"Docentes Responsables:",styles:{fontStyle:"bold"}},S.docentesResponsables],[{content:"Cursos Involucrados:",styles:{fontStyle:"bold"}},S.cursos.join(", ")],[{content:"Asignaturas:",styles:{fontStyle:"bold"}},S.asignaturas.join(", ")]],theme:"grid",styles:{fontSize:O,cellPadding:3,lineColor:[220,220,220]},columnStyles:{0:{cellWidth:50,fontStyle:"bold"}}}),N=I.lastAutoTable.finalY+15,ee("Descripción del Proyecto",S.descripcionProyecto),ee("Objetivos de Aprendizaje",S.objetivos),ee("Indicadores de Logro",S.indicadoresLogro),S.tareas&&S.tareas.length>0){const q=S.tareas.map(J=>[J.numero.toString(),J.instrucciones,J.fechaEntrega]),K=(q.length+1)*10+15;Q(K+15),I.setFont("helvetica","bold"),I.setFontSize(D),I.setTextColor(40),I.text("Tareas para Estudiantes",T,N),N+=10,nl(I,{startY:N,head:[["#","Instrucciones","Fecha de Entrega"]],body:q,theme:"striped",headStyles:{fillColor:[52,73,94]}}),N=I.lastAutoTable.finalY+15}const Z=document.getElementById("gantt-container-vertical");if(Z)try{const K=(await Wee(Z,{scale:2,backgroundColor:"#ffffff"})).toDataURL("image/png");I.addPage(),M(),N=T+15,I.setFont("helvetica","bold"),I.setFontSize(D),I.setTextColor(40),I.text("Cronograma del Proyecto",T,N),N+=10;const J=I.getImageProperties(K),P=C,G=J.height*P/J.width;I.addImage(K,"PNG",T,N,P,G)}catch(q){console.error("Error generating timeline image:",q)}const V=I.internal.pages.length-1;for(let q=1;q<=V;q++)I.setPage(q),I.setFont("helvetica","normal"),I.setFontSize(9),I.setTextColor(150),I.text(`Página ${q} de ${V}`,F-T,I.internal.pageSize.getHeight()-10,{align:"right"});I.save(`Proyecto_${S.nombreProyecto.replace(/\s/g,"_")}.pdf`),u(null)},_=({plan:S,onBack:I})=>{var ee,W;const[T,F]=k.useState([]),[w,C]=k.useState([]),[N,R]=k.useState(((ee=S.tareas)==null?void 0:ee[0])||null),[D,O]=k.useState(null);k.useEffect(()=>{const Z=MDe(F),V=UDe(S.id,C);return()=>{Z(),V()}},[S.id]);const M=k.useMemo(()=>T.filter(Z=>Z.profile===Kt.ESTUDIANTE&&S.cursos.includes(Z.curso||"")).sort((Z,V)=>Z.nombreCompleto.localeCompare(V.nombreCompleto)),[T,S.cursos]),Q=async Z=>{var K;O(Z.id);const V="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",q=`
                Eres un profesor asistente. Genera una retroalimentación constructiva para la entrega de un estudiante.
                - Instrucciones de la tarea: "${N==null?void 0:N.instrucciones}"
                - Comentario del estudiante: "${Z.observacionesEstudiante||"No dejó comentarios."}"
                - Enlace entregado: "${Z.enlaceUrl||"No aplica"}"
                - Archivo entregado: "${((K=Z.archivoAdjunto)==null?void 0:K.nombre)||"No aplica"}"
                
                La retroalimentación debe ser breve (2-3 frases), motivadora, y enfocada en cómo podría mejorar.
            `;try{const re=(await(await new ti(V).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(q)).response).text().replace(/(\*\*|\*)/g,"");await VQ(Z.id,re)}catch(J){console.error("Error al generar feedback con IA:",J),alert("No se pudo generar la retroalimentación.")}finally{O(null)}};return N?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:["Entregas de Tareas: ",S.nombreProyecto]}),c.jsx("button",{onClick:I,className:"font-semibold",children:"← Volver a Proyectos"})]}),c.jsx("select",{value:N.id,onChange:Z=>{var V;return R(((V=S.tareas)==null?void 0:V.find(q=>q.id===Z.target.value))||null)},className:"mb-4 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600",children:(W=S.tareas)==null?void 0:W.map(Z=>c.jsxs("option",{value:Z.id,children:["Tarea ",Z.numero,": ",Z.instrucciones]},Z.id))}),c.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:M.map(Z=>{const V=w.find(q=>q.tareaId===N.id&&q.estudianteId===Z.id);return c.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[c.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[Z.nombreCompleto," - ",V!=null&&V.completada?c.jsx("span",{className:"text-green-600",children:"Entregado"}):c.jsx("span",{className:"text-red-600",children:"Pendiente"})]}),V?c.jsxs("div",{className:"text-sm mt-2 space-y-2",children:[V.observacionesEstudiante&&c.jsxs("p",{children:[c.jsx("strong",{children:"Comentario:"})," ",V.observacionesEstudiante]}),V.enlaceUrl&&c.jsxs("p",{children:[c.jsx("strong",{children:"Enlace:"})," ",c.jsx("a",{href:V.enlaceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:V.enlaceUrl})]}),V.archivoAdjunto&&c.jsxs("p",{children:[c.jsx("strong",{children:"Archivo:"})," ",c.jsx("a",{href:V.archivoAdjunto.url,download:V.archivoAdjunto.nombre,className:"text-blue-500 hover:underline",children:V.archivoAdjunto.nombre})]}),c.jsxs("div",{className:"flex items-end gap-2",children:[c.jsx("textarea",{placeholder:"Escribir retroalimentación...",defaultValue:V.feedbackProfesor||"",onBlur:q=>VQ(V.id,q.target.value),rows:2,className:"w-full mt-2 p-1 border rounded-md dark:bg-slate-700 dark:border-slate-600 flex-grow"},V.id),c.jsx("button",{onClick:()=>Q(V),disabled:D===V.id,className:"p-2 rounded-md hover:bg-slate-200 dark:hover:bg-slate-600 disabled:opacity-50",title:"Generar Feedback con IA",children:D===V.id?"...":c.jsx(Aj,{})})]})]}):c.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"El estudiante aún no ha realizado la entrega."})]},Z.id)})})]}):c.jsx("div",{className:"text-center p-8",children:"Este proyecto no tiene tareas asignadas."})};return r?c.jsx("div",{className:"text-center py-10",children:"Cargando proyectos..."}):d?c.jsx(_,{plan:d,onBack:()=>f(null)}):c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[a==="list"?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Proyectos Interdisciplinarios"}),c.jsx("button",{onClick:b,className:"bg-slate-800 text-white font-bold py-2 px-5 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Crear Nuevo"})]}),c.jsx("div",{className:"space-y-4",children:e.map(S=>(console.log("Inspeccionando objeto plan:",S),c.jsx("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:S.nombreProyecto}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Cursos: ",(S.cursos||[]).join(", ")]})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx("button",{onClick:()=>f(S),className:"text-green-600 hover:text-green-800 dark:text-green-400 font-semibold text-sm",children:"Ver Entregas"}),c.jsx("button",{onClick:()=>y(S),disabled:l===S.id,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 font-semibold text-sm disabled:opacity-50",children:l===S.id?"Exportando...":"Exportar PDF"}),c.jsx("button",{onClick:()=>x(S),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm",children:"Editar"}),c.jsx("button",{onClick:()=>g(S.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:"🗑️"})]})]})},S.id)))})]}):c.jsx(XDe,{initialPlan:i,onSave:p,onCancel:()=>{s("list"),o(null)}}),e.length>0&&c.jsx("div",{id:"gantt-container-vertical",children:c.jsx(QDe,{planificaciones:e,onActivityUpdate:m})})]})},Bk="pañolMaquinas",$Q="pañolRegistros",YDe=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),a={fecha:new Date().toISOString().split("T")[0],curso:"",profesorResponsable:"",maquinaId:"",totalHoras:0,observaciones:""},[s,i]=k.useState(a),[o,l]=k.useState(null),u={nombre:"",especialidad:"Industrial"},[d,f]=k.useState(u),[m,p]=k.useState(null),[x,g]=k.useState({maquinaId:"",curso:"",profesor:"",fecha:""});k.useEffect(()=>{try{const O=localStorage.getItem(Bk);if(O&&JSON.parse(O).length>0)t(JSON.parse(O));else{const Q=[{id:crypto.randomUUID(),nombre:"Torno",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Fresadora",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Rectificadora",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Soldadora MIG",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Soldadora TIG",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Torno CNC",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Elevador",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Compresor",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Rectificadora",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Maqueta de motor",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Maqueta hidráulica",especialidad:"Automotriz"}];t(Q),localStorage.setItem(Bk,JSON.stringify(Q))}const M=localStorage.getItem($Q);M&&n(JSON.parse(M))}catch(O){console.error("Error al cargar datos de Pañol desde localStorage",O)}},[]);const b=k.useCallback(O=>{t(O),localStorage.setItem(Bk,JSON.stringify(O))},[]),y=k.useCallback(O=>{n(O),localStorage.setItem($Q,JSON.stringify(O))},[]),_=O=>{O.preventDefault(),d.nombre.trim()&&(b(m?e.map(M=>M.id===m.id?{...m,...d}:M):[{...d,id:crypto.randomUUID()},...e]),f(u),p(null))},S=k.useCallback(O=>{if(r.some(M=>M.maquinaId===O)){alert("No se puede eliminar una máquina con registros de uso. Elimine los registros primero.");return}window.confirm("¿Eliminar esta máquina?")&&b(e.filter(M=>M.id!==O))},[e,r,b]),I=O=>{O.preventDefault();const M=o||s;if(!M.curso||!M.profesorResponsable.trim()||!M.maquinaId||M.totalHoras<=0){alert("Curso, Profesor, Máquina y un Total de Horas mayor a cero son obligatorios.");return}y(o?r.map(Q=>Q.id===o.id?o:Q):[{...s,id:crypto.randomUUID()},...r]),i(a),l(null)},T=k.useCallback(O=>{window.confirm("¿Eliminar este registro de uso?")&&y(r.filter(M=>M.id!==O))},[r,y]),F=k.useMemo(()=>r.filter(O=>(x.maquinaId===""||O.maquinaId===x.maquinaId)&&(x.curso===""||O.curso===x.curso)&&(x.profesor===""||O.profesorResponsable.toLowerCase().includes(x.profesor.toLowerCase()))&&(x.fecha===""||O.fecha===x.fecha)).sort((O,M)=>new Date(M.fecha).getTime()-new Date(O.fecha).getTime()),[r,x]),w=k.useMemo(()=>new Map(e.map(O=>[O.id,O])),[e]),C=()=>{const O=F.map(ee=>{var W,Z;return{Fecha:ee.fecha,Curso:ee.curso,Profesor:ee.profesorResponsable,Máquina:((W=w.get(ee.maquinaId))==null?void 0:W.nombre)||"N/A",Especialidad:((Z=w.get(ee.maquinaId))==null?void 0:Z.especialidad)||"N/A","Total Horas":ee.totalHoras,Observaciones:ee.observaciones}}),M=lu.json_to_sheet(O),Q=lu.book_new();lu.book_append_sheet(Q,M,"RegistrosPañol"),TO(Q,"Registros_Pañol.xlsx")},N=()=>{const O=new mr;nl(O,{head:[["Fecha","Curso","Profesor","Máquina","Especialidad","Total Horas","Observaciones"]],body:F.map(M=>{var Q,ee;return[M.fecha,M.curso,M.profesorResponsable,((Q=w.get(M.maquinaId))==null?void 0:Q.nombre)||"N/A",((ee=w.get(M.maquinaId))==null?void 0:ee.especialidad)||"N/A",M.totalHoras,M.observaciones]}),margin:{top:20,right:10,bottom:20,left:10},didDrawPage:M=>{O.setFontSize(10),O.setFont("helvetica","bold"),O.text("LICEO INDUSTRIAL DE RECOLETA",M.settings.margin.left,15)}}),O.save("Registros_Pañol.pdf")},R="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",D=()=>{const O=o||s,M=o?l:i;return c.jsxs("form",{onSubmit:I,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Fecha"}),c.jsx("input",{name:"fecha",type:"date",value:O.fecha,onChange:Q=>M({...O,fecha:Q.target.value}),className:R,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Curso"}),c.jsxs("select",{name:"curso",value:O.curso,onChange:Q=>M({...O,curso:Q.target.value}),className:R,required:!0,children:[c.jsx("option",{value:"",children:"Curso"}),qa.map(Q=>c.jsx("option",{children:Q},Q))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Profesor"}),c.jsxs("select",{name:"profesorResponsable",value:O.profesorResponsable,onChange:Q=>M({...O,profesorResponsable:Q.target.value}),className:R,required:!0,children:[c.jsx("option",{value:"",children:"Profesor Responsable"}),dI.map(Q=>c.jsx("option",{value:Q,children:Q},Q))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Máquina"}),c.jsxs("select",{name:"maquinaId",value:O.maquinaId,onChange:Q=>M({...O,maquinaId:Q.target.value}),className:R,required:!0,children:[c.jsx("option",{value:"",children:"Máquina"}),e.map(Q=>c.jsx("option",{value:Q.id,children:Q.nombre},Q.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Total de Horas"}),c.jsx("input",{name:"totalHoras",type:"number",value:O.totalHoras,onChange:Q=>M({...O,totalHoras:Number(Q.target.value)}),className:R,required:!0,min:"0.5",step:"0.5"})]}),c.jsxs("div",{className:"lg:col-span-3",children:[c.jsx("label",{className:"text-sm font-medium",children:"Observaciones"}),c.jsx("textarea",{name:"observaciones",value:O.observaciones,onChange:Q=>M({...O,observaciones:Q.target.value}),placeholder:"Observaciones...",className:`${R}`,rows:1})]})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[o&&c.jsx("button",{type:"button",onClick:()=>l(null),className:"bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700",children:o?"Actualizar":"Registrar"})]})]})};return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Pañol: Registro de Uso de Máquinas"}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:o?`Editando Registro #${o.id.substring(0,4)}`:"Nuevo Registro de Uso"}),D()]}),c.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Administrar Máquinas"}),c.jsxs("form",{onSubmit:_,className:"flex gap-2 mb-4",children:[c.jsx("input",{value:d.nombre,onChange:O=>f({...d,nombre:O.target.value}),placeholder:"Nombre máquina",className:R}),c.jsxs("select",{value:d.especialidad,onChange:O=>f({...d,especialidad:O.target.value}),className:R,children:[c.jsx("option",{value:"Industrial",children:"Industrial"}),c.jsx("option",{value:"Automotriz",children:"Automotriz"})]}),c.jsx("button",{type:"submit",className:"bg-slate-200 p-2 rounded-lg font-bold",children:m?"✓":"+"})]}),c.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto",children:e.map(O=>c.jsxs("li",{className:"flex justify-between items-center bg-slate-50 dark:bg-slate-700 p-2 rounded",children:[c.jsxs("span",{children:[O.nombre," ",c.jsxs("span",{className:"text-xs text-slate-500",children:["(",O.especialidad,")"]})]}),c.jsxs("div",{className:"space-x-2",children:[c.jsx("button",{onClick:()=>{p(O),f(O)},className:"text-blue-500",children:"✏️"}),c.jsx("button",{onClick:()=>S(O.id),className:"text-red-500",children:"🗑️"})]})]},O.id))})]}),c.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-4",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Historial de Uso"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:C,className:"text-sm bg-green-100 text-green-700 font-semibold py-1 px-3 rounded-lg",children:"Excel"}),c.jsx("button",{onClick:N,className:"text-sm bg-red-100 text-red-700 font-semibold py-1 px-3 rounded-lg",children:"PDF"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-4",children:[c.jsx("input",{type:"date",value:x.fecha,onChange:O=>g({...x,fecha:O.target.value}),className:R}),c.jsxs("select",{value:x.curso,onChange:O=>g({...x,curso:O.target.value}),className:R,children:[c.jsx("option",{value:"",children:"Todos los Cursos"}),qa.map(O=>c.jsx("option",{children:O},O))]}),c.jsxs("select",{value:x.maquinaId,onChange:O=>g({...x,maquinaId:O.target.value}),className:R,children:[c.jsx("option",{value:"",children:"Todas las Máquinas"}),e.map(O=>c.jsx("option",{value:O.id,children:O.nombre},O.id))]}),c.jsx("input",{value:x.profesor,onChange:O=>g({...x,profesor:O.target.value}),placeholder:"Buscar profesor...",className:R})]}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Fecha"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Máquina"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Profesor"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Total Horas"}),c.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-slate-500 uppercase",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:F.map(O=>{var M;return c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:O.fecha}),c.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium",children:((M=w.get(O.maquinaId))==null?void 0:M.nombre)||"N/A"}),c.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:[O.profesorResponsable," (",O.curso,")"]}),c.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:O.totalHoras}),c.jsxs("td",{className:"px-3 py-2 text-center",children:[c.jsx("button",{onClick:()=>l(O),className:"text-blue-500",children:"✏️"}),c.jsx("button",{onClick:()=>T(O.id),className:"text-red-500 ml-2",children:"🗑️"})]})]},O.id)})})]})})]})]})]})};function ol(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=ol(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var kk={exports:{}},Tk={},Ik={exports:{}},jk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KQ;function JDe(){if(KQ)return jk;KQ=1;var e=rx();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,i=e.useDebugValue;function o(f,m){var p=m(),x=n({inst:{value:p,getSnapshot:m}}),g=x[0].inst,b=x[1];return s(function(){g.value=p,g.getSnapshot=m,l(g)&&b({inst:g})},[f,p,m]),a(function(){return l(g)&&b({inst:g}),f(function(){l(g)&&b({inst:g})})},[f]),i(p),p}function l(f){var m=f.getSnapshot;f=f.value;try{var p=m();return!r(f,p)}catch{return!0}}function u(f,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return jk.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,jk}var GQ;function ZDe(){return GQ||(GQ=1,Ik.exports=JDe()),Ik.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qQ;function ePe(){if(qQ)return Tk;qQ=1;var e=rx(),t=ZDe();function r(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,i=e.useEffect,o=e.useMemo,l=e.useDebugValue;return Tk.useSyncExternalStoreWithSelector=function(u,d,f,m,p){var x=s(null);if(x.current===null){var g={hasValue:!1,value:null};x.current=g}else g=x.current;x=o(function(){function y(F){if(!_){if(_=!0,S=F,F=m(F),p!==void 0&&g.hasValue){var w=g.value;if(p(w,F))return I=w}return I=F}if(w=I,n(S,F))return w;var C=m(F);return p!==void 0&&p(w,C)?(S=F,w):(S=F,I=C)}var _=!1,S,I,T=f===void 0?null:f;return[function(){return y(d())},T===null?void 0:function(){return y(T())}]},[d,f,m,p]);var b=a(u,x[0],x[1]);return i(function(){g.hasValue=!0,g.value=b},[b]),l(b),b},Tk}var WQ;function tPe(){return WQ||(WQ=1,kk.exports=ePe()),kk.exports}var Yee=tPe();const rPe=il(Yee),nPe={},XQ=e=>{let t;const r=new Set,n=(d,f)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const p=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(x=>x(t,p))}},a=()=>t,l={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(nPe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,l);return l},aPe=e=>e?XQ(e):XQ,{useDebugValue:sPe}=ft,{useSyncExternalStoreWithSelector:iPe}=rPe,oPe=e=>e;function Jee(e,t=oPe,r){const n=iPe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return sPe(n),n}const YQ=(e,t)=>{const r=aPe(e),n=(a,s=t)=>Jee(r,a,s);return Object.assign(n,r),n},lPe=(e,t)=>e?YQ(e,t):YQ;function Ho(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}var cPe={value:()=>{}};function X5(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new CC(r)}function CC(e){this._=e}function uPe(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}CC.prototype=X5.prototype={constructor:CC,on:function(e,t){var r=this._,n=uPe(e+"",r),a,s=-1,i=n.length;if(arguments.length<2){for(;++s<i;)if((a=(e=n[s]).type)&&(a=dPe(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(a=(e=n[s]).type)r[a]=JQ(r[a],e.name,t);else if(t==null)for(a in r)r[a]=JQ(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new CC(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};function dPe(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function JQ(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=cPe,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var fj="http://www.w3.org/1999/xhtml";const ZQ={svg:"http://www.w3.org/2000/svg",xhtml:fj,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Y5(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),ZQ.hasOwnProperty(t)?{space:ZQ[t],local:e}:e}function APe(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===fj&&t.documentElement.namespaceURI===fj?t.createElement(e):t.createElementNS(r,e)}}function fPe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Zee(e){var t=Y5(e);return(t.local?fPe:APe)(t)}function hPe(){}function JO(e){return e==null?hPe:function(){return this.querySelector(e)}}function mPe(e){typeof e!="function"&&(e=JO(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,o=n[a]=new Array(i),l,u,d=0;d<i;++d)(l=s[d])&&(u=e.call(l,l.__data__,d,s))&&("__data__"in l&&(u.__data__=l.__data__),o[d]=u);return new vc(n,this._parents)}function pPe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function gPe(){return[]}function ete(e){return e==null?gPe:function(){return this.querySelectorAll(e)}}function vPe(e){return function(){return pPe(e.apply(this,arguments))}}function xPe(e){typeof e=="function"?e=vPe(e):e=ete(e);for(var t=this._groups,r=t.length,n=[],a=[],s=0;s<r;++s)for(var i=t[s],o=i.length,l,u=0;u<o;++u)(l=i[u])&&(n.push(e.call(l,l.__data__,u,i)),a.push(l));return new vc(n,a)}function tte(e){return function(){return this.matches(e)}}function rte(e){return function(t){return t.matches(e)}}var bPe=Array.prototype.find;function yPe(e){return function(){return bPe.call(this.children,e)}}function wPe(){return this.firstElementChild}function EPe(e){return this.select(e==null?wPe:yPe(typeof e=="function"?e:rte(e)))}var CPe=Array.prototype.filter;function _Pe(){return Array.from(this.children)}function SPe(e){return function(){return CPe.call(this.children,e)}}function NPe(e){return this.selectAll(e==null?_Pe:SPe(typeof e=="function"?e:rte(e)))}function BPe(e){typeof e!="function"&&(e=tte(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,o=n[a]=[],l,u=0;u<i;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&o.push(l);return new vc(n,this._parents)}function nte(e){return new Array(e.length)}function kPe(){return new vc(this._enter||this._groups.map(nte),this._parents)}function H_(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}H_.prototype={constructor:H_,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function TPe(e){return function(){return e}}function IPe(e,t,r,n,a,s){for(var i=0,o,l=t.length,u=s.length;i<u;++i)(o=t[i])?(o.__data__=s[i],n[i]=o):r[i]=new H_(e,s[i]);for(;i<l;++i)(o=t[i])&&(a[i]=o)}function jPe(e,t,r,n,a,s,i){var o,l,u=new Map,d=t.length,f=s.length,m=new Array(d),p;for(o=0;o<d;++o)(l=t[o])&&(m[o]=p=i.call(l,l.__data__,o,t)+"",u.has(p)?a[o]=l:u.set(p,l));for(o=0;o<f;++o)p=i.call(e,s[o],o,s)+"",(l=u.get(p))?(n[o]=l,l.__data__=s[o],u.delete(p)):r[o]=new H_(e,s[o]);for(o=0;o<d;++o)(l=t[o])&&u.get(m[o])===l&&(a[o]=l)}function FPe(e){return e.__data__}function OPe(e,t){if(!arguments.length)return Array.from(this,FPe);var r=t?jPe:IPe,n=this._parents,a=this._groups;typeof e!="function"&&(e=TPe(e));for(var s=a.length,i=new Array(s),o=new Array(s),l=new Array(s),u=0;u<s;++u){var d=n[u],f=a[u],m=f.length,p=DPe(e.call(d,d&&d.__data__,u,n)),x=p.length,g=o[u]=new Array(x),b=i[u]=new Array(x),y=l[u]=new Array(m);r(d,f,g,b,y,p,t);for(var _=0,S=0,I,T;_<x;++_)if(I=g[_]){for(_>=S&&(S=_+1);!(T=b[S])&&++S<x;);I._next=T||null}}return i=new vc(i,n),i._enter=o,i._exit=l,i}function DPe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function PPe(){return new vc(this._exit||this._groups.map(nte),this._parents)}function RPe(e,t,r){var n=this.enter(),a=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?s.remove():r(s),n&&a?n.merge(a).order():a}function LPe(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,s=n.length,i=Math.min(a,s),o=new Array(a),l=0;l<i;++l)for(var u=r[l],d=n[l],f=u.length,m=o[l]=new Array(f),p,x=0;x<f;++x)(p=u[x]||d[x])&&(m[x]=p);for(;l<a;++l)o[l]=r[l];return new vc(o,this._parents)}function UPe(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,s=n[a],i;--a>=0;)(i=n[a])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function MPe(e){e||(e=QPe);function t(f,m){return f&&m?e(f.__data__,m.__data__):!f-!m}for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s){for(var i=r[s],o=i.length,l=a[s]=new Array(o),u,d=0;d<o;++d)(u=i[d])&&(l[d]=u);l.sort(t)}return new vc(a,this._parents).order()}function QPe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function HPe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function VPe(){return Array.from(this)}function zPe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var i=n[a];if(i)return i}return null}function $Pe(){let e=0;for(const t of this)++e;return e}function KPe(){return!this.node()}function GPe(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],s=0,i=a.length,o;s<i;++s)(o=a[s])&&e.call(o,o.__data__,s,a);return this}function qPe(e){return function(){this.removeAttribute(e)}}function WPe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function XPe(e,t){return function(){this.setAttribute(e,t)}}function YPe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function JPe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function ZPe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function eRe(e,t){var r=Y5(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?WPe:qPe:typeof t=="function"?r.local?ZPe:JPe:r.local?YPe:XPe)(r,t))}function ate(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function tRe(e){return function(){this.style.removeProperty(e)}}function rRe(e,t,r){return function(){this.style.setProperty(e,t,r)}}function nRe(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function aRe(e,t,r){return arguments.length>1?this.each((t==null?tRe:typeof t=="function"?nRe:rRe)(e,t,r??"")):Uv(this.node(),e)}function Uv(e,t){return e.style.getPropertyValue(t)||ate(e).getComputedStyle(e,null).getPropertyValue(t)}function sRe(e){return function(){delete this[e]}}function iRe(e,t){return function(){this[e]=t}}function oRe(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function lRe(e,t){return arguments.length>1?this.each((t==null?sRe:typeof t=="function"?oRe:iRe)(e,t)):this.node()[e]}function ste(e){return e.trim().split(/^|\s+/)}function ZO(e){return e.classList||new ite(e)}function ite(e){this._node=e,this._names=ste(e.getAttribute("class")||"")}ite.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ote(e,t){for(var r=ZO(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function lte(e,t){for(var r=ZO(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function cRe(e){return function(){ote(this,e)}}function uRe(e){return function(){lte(this,e)}}function dRe(e,t){return function(){(t.apply(this,arguments)?ote:lte)(this,e)}}function ARe(e,t){var r=ste(e+"");if(arguments.length<2){for(var n=ZO(this.node()),a=-1,s=r.length;++a<s;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?dRe:t?cRe:uRe)(r,t))}function fRe(){this.textContent=""}function hRe(e){return function(){this.textContent=e}}function mRe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function pRe(e){return arguments.length?this.each(e==null?fRe:(typeof e=="function"?mRe:hRe)(e)):this.node().textContent}function gRe(){this.innerHTML=""}function vRe(e){return function(){this.innerHTML=e}}function xRe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function bRe(e){return arguments.length?this.each(e==null?gRe:(typeof e=="function"?xRe:vRe)(e)):this.node().innerHTML}function yRe(){this.nextSibling&&this.parentNode.appendChild(this)}function wRe(){return this.each(yRe)}function ERe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function CRe(){return this.each(ERe)}function _Re(e){var t=typeof e=="function"?e:Zee(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function SRe(){return null}function NRe(e,t){var r=typeof e=="function"?e:Zee(e),n=t==null?SRe:typeof t=="function"?t:JO(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function BRe(){var e=this.parentNode;e&&e.removeChild(this)}function kRe(){return this.each(BRe)}function TRe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function IRe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jRe(e){return this.select(e?IRe:TRe)}function FRe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ORe(e){return function(t){e.call(this,t,this.__data__)}}function DRe(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function PRe(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,s;r<a;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function RRe(e,t,r){return function(){var n=this.__on,a,s=ORe(t);if(n){for(var i=0,o=n.length;i<o;++i)if((a=n[i]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=r),a.value=t;return}}this.addEventListener(e.type,s,r),a={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(a):this.__on=[a]}}function LRe(e,t,r){var n=DRe(e+""),a,s=n.length,i;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,d;l<u;++l)for(a=0,d=o[l];a<s;++a)if((i=n[a]).type===d.type&&i.name===d.name)return d.value}return}for(o=t?RRe:PRe,a=0;a<s;++a)this.each(o(n[a],t,r));return this}function cte(e,t,r){var n=ate(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function URe(e,t){return function(){return cte(this,e,t)}}function MRe(e,t){return function(){return cte(this,e,t.apply(this,arguments))}}function QRe(e,t){return this.each((typeof t=="function"?MRe:URe)(e,t))}function*HRe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length,i;a<s;++a)(i=n[a])&&(yield i)}var ute=[null];function vc(e,t){this._groups=e,this._parents=t}function dw(){return new vc([[document.documentElement]],ute)}function VRe(){return this}vc.prototype=dw.prototype={constructor:vc,select:mPe,selectAll:xPe,selectChild:EPe,selectChildren:NPe,filter:BPe,data:OPe,enter:kPe,exit:PPe,join:RPe,merge:LPe,selection:VRe,order:UPe,sort:MPe,call:HPe,nodes:VPe,node:zPe,size:$Pe,empty:KPe,each:GPe,attr:eRe,style:aRe,property:lRe,classed:ARe,text:pRe,html:bRe,raise:wRe,lower:CRe,append:_Re,insert:NRe,remove:kRe,clone:jRe,datum:FRe,on:LRe,dispatch:QRe,[Symbol.iterator]:HRe};function ou(e){return typeof e=="string"?new vc([[document.querySelector(e)]],[document.documentElement]):new vc([[e]],ute)}function zRe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Wd(e,t){if(e=zRe(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const $Re={passive:!1},vy={capture:!0,passive:!1};function Fk(e){e.stopImmediatePropagation()}function vv(e){e.preventDefault(),e.stopImmediatePropagation()}function dte(e){var t=e.document.documentElement,r=ou(e).on("dragstart.drag",vv,vy);"onselectstart"in t?r.on("selectstart.drag",vv,vy):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ate(e,t){var r=e.document.documentElement,n=ou(e).on("dragstart.drag",null);t&&(n.on("click.drag",vv,vy),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const SE=e=>()=>e;function hj(e,{sourceEvent:t,subject:r,target:n,identifier:a,active:s,x:i,y:o,dx:l,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}hj.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function KRe(e){return!e.ctrlKey&&!e.button}function GRe(){return this.parentNode}function qRe(e,t){return t??{x:e.x,y:e.y}}function WRe(){return navigator.maxTouchPoints||"ontouchstart"in this}function XRe(){var e=KRe,t=GRe,r=qRe,n=WRe,a={},s=X5("start","drag","end"),i=0,o,l,u,d,f=0;function m(I){I.on("mousedown.drag",p).filter(n).on("touchstart.drag",b).on("touchmove.drag",y,$Re).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(I,T){if(!(d||!e.call(this,I,T))){var F=S(this,t.call(this,I,T),I,T,"mouse");F&&(ou(I.view).on("mousemove.drag",x,vy).on("mouseup.drag",g,vy),dte(I.view),Fk(I),u=!1,o=I.clientX,l=I.clientY,F("start",I))}}function x(I){if(vv(I),!u){var T=I.clientX-o,F=I.clientY-l;u=T*T+F*F>f}a.mouse("drag",I)}function g(I){ou(I.view).on("mousemove.drag mouseup.drag",null),Ate(I.view,u),vv(I),a.mouse("end",I)}function b(I,T){if(e.call(this,I,T)){var F=I.changedTouches,w=t.call(this,I,T),C=F.length,N,R;for(N=0;N<C;++N)(R=S(this,w,I,T,F[N].identifier,F[N]))&&(Fk(I),R("start",I,F[N]))}}function y(I){var T=I.changedTouches,F=T.length,w,C;for(w=0;w<F;++w)(C=a[T[w].identifier])&&(vv(I),C("drag",I,T[w]))}function _(I){var T=I.changedTouches,F=T.length,w,C;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),w=0;w<F;++w)(C=a[T[w].identifier])&&(Fk(I),C("end",I,T[w]))}function S(I,T,F,w,C,N){var R=s.copy(),D=Wd(N||F,T),O,M,Q;if((Q=r.call(I,new hj("beforestart",{sourceEvent:F,target:m,identifier:C,active:i,x:D[0],y:D[1],dx:0,dy:0,dispatch:R}),w))!=null)return O=Q.x-D[0]||0,M=Q.y-D[1]||0,function ee(W,Z,V){var q=D,K;switch(W){case"start":a[C]=ee,K=i++;break;case"end":delete a[C],--i;case"drag":D=Wd(V||Z,T),K=i;break}R.call(W,I,new hj(W,{sourceEvent:Z,subject:Q,target:m,identifier:C,active:K,x:D[0]+O,y:D[1]+M,dx:D[0]-q[0],dy:D[1]-q[1],dispatch:R}),w)}}return m.filter=function(I){return arguments.length?(e=typeof I=="function"?I:SE(!!I),m):e},m.container=function(I){return arguments.length?(t=typeof I=="function"?I:SE(I),m):t},m.subject=function(I){return arguments.length?(r=typeof I=="function"?I:SE(I),m):r},m.touchable=function(I){return arguments.length?(n=typeof I=="function"?I:SE(!!I),m):n},m.on=function(){var I=s.on.apply(s,arguments);return I===s?m:I},m.clickDistance=function(I){return arguments.length?(f=(I=+I)*I,m):Math.sqrt(f)},m}function eD(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function fte(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Aw(){}var xy=.7,V_=1/xy,xv="\\s*([+-]?\\d+)\\s*",by="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YRe=/^#([0-9a-f]{3,8})$/,JRe=new RegExp(`^rgb\\(${xv},${xv},${xv}\\)$`),ZRe=new RegExp(`^rgb\\(${fA},${fA},${fA}\\)$`),eLe=new RegExp(`^rgba\\(${xv},${xv},${xv},${by}\\)$`),tLe=new RegExp(`^rgba\\(${fA},${fA},${fA},${by}\\)$`),rLe=new RegExp(`^hsl\\(${by},${fA},${fA}\\)$`),nLe=new RegExp(`^hsla\\(${by},${fA},${fA},${by}\\)$`),eH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eD(Aw,gp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tH,formatHex:tH,formatHex8:aLe,formatHsl:sLe,formatRgb:rH,toString:rH});function tH(){return this.rgb().formatHex()}function aLe(){return this.rgb().formatHex8()}function sLe(){return hte(this).formatHsl()}function rH(){return this.rgb().formatRgb()}function gp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=YRe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?nH(t):r===3?new Il(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?NE(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?NE(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=JRe.exec(e))?new Il(t[1],t[2],t[3],1):(t=ZRe.exec(e))?new Il(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=eLe.exec(e))?NE(t[1],t[2],t[3],t[4]):(t=tLe.exec(e))?NE(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=rLe.exec(e))?iH(t[1],t[2]/100,t[3]/100,1):(t=nLe.exec(e))?iH(t[1],t[2]/100,t[3]/100,t[4]):eH.hasOwnProperty(e)?nH(eH[e]):e==="transparent"?new Il(NaN,NaN,NaN,0):null}function nH(e){return new Il(e>>16&255,e>>8&255,e&255,1)}function NE(e,t,r,n){return n<=0&&(e=t=r=NaN),new Il(e,t,r,n)}function iLe(e){return e instanceof Aw||(e=gp(e)),e?(e=e.rgb(),new Il(e.r,e.g,e.b,e.opacity)):new Il}function mj(e,t,r,n){return arguments.length===1?iLe(e):new Il(e,t,r,n??1)}function Il(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}eD(Il,mj,fte(Aw,{brighter(e){return e=e==null?V_:Math.pow(V_,e),new Il(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xy:Math.pow(xy,e),new Il(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Il(Zm(this.r),Zm(this.g),Zm(this.b),z_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aH,formatHex:aH,formatHex8:oLe,formatRgb:sH,toString:sH}));function aH(){return`#${Pm(this.r)}${Pm(this.g)}${Pm(this.b)}`}function oLe(){return`#${Pm(this.r)}${Pm(this.g)}${Pm(this.b)}${Pm((isNaN(this.opacity)?1:this.opacity)*255)}`}function sH(){const e=z_(this.opacity);return`${e===1?"rgb(":"rgba("}${Zm(this.r)}, ${Zm(this.g)}, ${Zm(this.b)}${e===1?")":`, ${e})`}`}function z_(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Zm(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pm(e){return e=Zm(e),(e<16?"0":"")+e.toString(16)}function iH(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Xu(e,t,r,n)}function hte(e){if(e instanceof Xu)return new Xu(e.h,e.s,e.l,e.opacity);if(e instanceof Aw||(e=gp(e)),!e)return new Xu;if(e instanceof Xu)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,o=s-a,l=(s+a)/2;return o?(t===s?i=(r-n)/o+(r<n)*6:r===s?i=(n-t)/o+2:i=(t-r)/o+4,o/=l<.5?s+a:2-s-a,i*=60):o=l>0&&l<1?0:i,new Xu(i,o,l,e.opacity)}function lLe(e,t,r,n){return arguments.length===1?hte(e):new Xu(e,t,r,n??1)}function Xu(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}eD(Xu,lLe,fte(Aw,{brighter(e){return e=e==null?V_:Math.pow(V_,e),new Xu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xy:Math.pow(xy,e),new Xu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Il(Ok(e>=240?e-240:e+120,a,n),Ok(e,a,n),Ok(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Xu(oH(this.h),BE(this.s),BE(this.l),z_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=z_(this.opacity);return`${e===1?"hsl(":"hsla("}${oH(this.h)}, ${BE(this.s)*100}%, ${BE(this.l)*100}%${e===1?")":`, ${e})`}`}}));function oH(e){return e=(e||0)%360,e<0?e+360:e}function BE(e){return Math.max(0,Math.min(1,e||0))}function Ok(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const tD=e=>()=>e;function cLe(e,t){return function(r){return e+r*t}}function uLe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function dLe(e){return(e=+e)==1?mte:function(t,r){return r-t?uLe(t,r,e):tD(isNaN(t)?r:t)}}function mte(e,t){var r=t-e;return r?cLe(e,r):tD(isNaN(e)?t:e)}const $_=function e(t){var r=dLe(t);function n(a,s){var i=r((a=mj(a)).r,(s=mj(s)).r),o=r(a.g,s.g),l=r(a.b,s.b),u=mte(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=o(d),a.b=l(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function ALe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function fLe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hLe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=gx(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(o){for(i=0;i<n;++i)s[i]=a[i](o);return s}}function mLe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Wu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function pLe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=gx(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var pj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dk=new RegExp(pj.source,"g");function gLe(e){return function(){return e}}function vLe(e){return function(t){return e(t)+""}}function pte(e,t){var r=pj.lastIndex=Dk.lastIndex=0,n,a,s,i=-1,o=[],l=[];for(e=e+"",t=t+"";(n=pj.exec(e))&&(a=Dk.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),o[i]?o[i]+=s:o[++i]=s),(n=n[0])===(a=a[0])?o[i]?o[i]+=a:o[++i]=a:(o[++i]=null,l.push({i,x:Wu(n,a)})),r=Dk.lastIndex;return r<t.length&&(s=t.slice(r),o[i]?o[i]+=s:o[++i]=s),o.length<2?l[0]?vLe(l[0].x):gLe(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function gx(e,t){var r=typeof t,n;return t==null||r==="boolean"?tD(t):(r==="number"?Wu:r==="string"?(n=gp(t))?(t=n,$_):pte:t instanceof gp?$_:t instanceof Date?mLe:fLe(t)?ALe:Array.isArray(t)?hLe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pLe:Wu)(e,t)}function rD(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var lH=180/Math.PI,gj={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gte(e,t,r,n,a,s){var i,o,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,l/=o),e*n<t*r&&(e=-e,t=-t,l=-l,i=-i),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*lH,skewX:Math.atan(l)*lH,scaleX:i,scaleY:o}}var kE;function xLe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?gj:gte(t.a,t.b,t.c,t.d,t.e,t.f)}function bLe(e){return e==null||(kE||(kE=document.createElementNS("http://www.w3.org/2000/svg","g")),kE.setAttribute("transform",e),!(e=kE.transform.baseVal.consolidate()))?gj:(e=e.matrix,gte(e.a,e.b,e.c,e.d,e.e,e.f))}function vte(e,t,r,n){function a(u){return u.length?u.pop()+" ":""}function s(u,d,f,m,p,x){if(u!==f||d!==m){var g=p.push("translate(",null,t,null,r);x.push({i:g-4,x:Wu(u,f)},{i:g-2,x:Wu(d,m)})}else(f||m)&&p.push("translate("+f+t+m+r)}function i(u,d,f,m){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),m.push({i:f.push(a(f)+"rotate(",null,n)-2,x:Wu(u,d)})):d&&f.push(a(f)+"rotate("+d+n)}function o(u,d,f,m){u!==d?m.push({i:f.push(a(f)+"skewX(",null,n)-2,x:Wu(u,d)}):d&&f.push(a(f)+"skewX("+d+n)}function l(u,d,f,m,p,x){if(u!==f||d!==m){var g=p.push(a(p)+"scale(",null,",",null,")");x.push({i:g-4,x:Wu(u,f)},{i:g-2,x:Wu(d,m)})}else(f!==1||m!==1)&&p.push(a(p)+"scale("+f+","+m+")")}return function(u,d){var f=[],m=[];return u=e(u),d=e(d),s(u.translateX,u.translateY,d.translateX,d.translateY,f,m),i(u.rotate,d.rotate,f,m),o(u.skewX,d.skewX,f,m),l(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,m),u=d=null,function(p){for(var x=-1,g=m.length,b;++x<g;)f[(b=m[x]).i]=b.x(p);return f.join("")}}}var yLe=vte(xLe,"px, ","px)","deg)"),wLe=vte(bLe,", ",")",")"),ELe=1e-12;function cH(e){return((e=Math.exp(e))+1/e)/2}function CLe(e){return((e=Math.exp(e))-1/e)/2}function _Le(e){return((e=Math.exp(2*e))-1)/(e+1)}const SLe=function e(t,r,n){function a(s,i){var o=s[0],l=s[1],u=s[2],d=i[0],f=i[1],m=i[2],p=d-o,x=f-l,g=p*p+x*x,b,y;if(g<ELe)y=Math.log(m/u)/t,b=function(w){return[o+w*p,l+w*x,u*Math.exp(t*w*y)]};else{var _=Math.sqrt(g),S=(m*m-u*u+n*g)/(2*u*r*_),I=(m*m-u*u-n*g)/(2*m*r*_),T=Math.log(Math.sqrt(S*S+1)-S),F=Math.log(Math.sqrt(I*I+1)-I);y=(F-T)/t,b=function(w){var C=w*y,N=cH(T),R=u/(r*_)*(N*_Le(t*C+T)-CLe(T));return[o+R*p,l+R*x,u*N/cH(t*C+T)]}}return b.duration=y*1e3*t/Math.SQRT2,b}return a.rho=function(s){var i=Math.max(.001,+s),o=i*i,l=o*o;return e(i,o,l)},a}(Math.SQRT2,2,4);function NLe(e,t){t===void 0&&(t=e,e=gx);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var o=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[o](i-o)}}var Mv=0,ob=0,B1=0,xte=1e3,K_,lb,G_=0,vp=0,J5=0,yy=typeof performance=="object"&&performance.now?performance:Date,bte=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function nD(){return vp||(bte(BLe),vp=yy.now()+J5)}function BLe(){vp=0}function q_(){this._call=this._time=this._next=null}q_.prototype=yte.prototype={constructor:q_,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?nD():+r)+(t==null?0:+t),!this._next&&lb!==this&&(lb?lb._next=this:K_=this,lb=this),this._call=e,this._time=r,vj()},stop:function(){this._call&&(this._call=null,this._time=1/0,vj())}};function yte(e,t,r){var n=new q_;return n.restart(e,t,r),n}function kLe(){nD(),++Mv;for(var e=K_,t;e;)(t=vp-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Mv}function uH(){vp=(G_=yy.now())+J5,Mv=ob=0;try{kLe()}finally{Mv=0,ILe(),vp=0}}function TLe(){var e=yy.now(),t=e-G_;t>xte&&(J5-=t,G_=e)}function ILe(){for(var e,t=K_,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:K_=r);lb=e,vj(n)}function vj(e){if(!Mv){ob&&(ob=clearTimeout(ob));var t=e-vp;t>24?(e<1/0&&(ob=setTimeout(uH,e-yy.now()-J5)),B1&&(B1=clearInterval(B1))):(B1||(G_=yy.now(),B1=setInterval(TLe,xte)),Mv=1,bte(uH))}}function dH(e,t,r){var n=new q_;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var jLe=X5("start","end","cancel","interrupt"),FLe=[],wte=0,AH=1,xj=2,_C=3,fH=4,bj=5,SC=6;function Z5(e,t,r,n,a,s){var i=e.__transition;if(!i)e.__transition={};else if(r in i)return;OLe(e,r,{name:t,index:n,group:a,on:jLe,tween:FLe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:wte})}function aD(e,t){var r=ud(e,t);if(r.state>wte)throw new Error("too late; already scheduled");return r}function CA(e,t){var r=ud(e,t);if(r.state>_C)throw new Error("too late; already running");return r}function ud(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function OLe(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=yte(s,0,r.time);function s(u){r.state=AH,r.timer.restart(i,r.delay,r.time),r.delay<=u&&i(u-r.delay)}function i(u){var d,f,m,p;if(r.state!==AH)return l();for(d in n)if(p=n[d],p.name===r.name){if(p.state===_C)return dH(i);p.state===fH?(p.state=SC,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[d]):+d<t&&(p.state=SC,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[d])}if(dH(function(){r.state===_C&&(r.state=fH,r.timer.restart(o,r.delay,r.time),o(u))}),r.state=xj,r.on.call("start",e,e.__data__,r.index,r.group),r.state===xj){for(r.state=_C,a=new Array(m=r.tween.length),d=0,f=-1;d<m;++d)(p=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(a[++f]=p);a.length=f+1}}function o(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=bj,1),f=-1,m=a.length;++f<m;)a[f].call(e,d);r.state===bj&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=SC,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function NC(e,t){var r=e.__transition,n,a,s=!0,i;if(r){t=t==null?null:t+"";for(i in r){if((n=r[i]).name!==t){s=!1;continue}a=n.state>xj&&n.state<bj,n.state=SC,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]}s&&delete e.__transition}}function DLe(e){return this.each(function(){NC(this,e)})}function PLe(e,t){var r,n;return function(){var a=CA(this,e),s=a.tween;if(s!==r){n=r=s;for(var i=0,o=n.length;i<o;++i)if(n[i].name===t){n=n.slice(),n.splice(i,1);break}}a.tween=n}}function RLe(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var s=CA(this,e),i=s.tween;if(i!==n){a=(n=i).slice();for(var o={name:t,value:r},l=0,u=a.length;l<u;++l)if(a[l].name===t){a[l]=o;break}l===u&&a.push(o)}s.tween=a}}function LLe(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=ud(this.node(),r).tween,a=0,s=n.length,i;a<s;++a)if((i=n[a]).name===e)return i.value;return null}return this.each((t==null?PLe:RLe)(r,e,t))}function sD(e,t,r){var n=e._id;return e.each(function(){var a=CA(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return ud(a,n).value[t]}}function Ete(e,t){var r;return(typeof t=="number"?Wu:t instanceof gp?$_:(r=gp(t))?(t=r,$_):pte)(e,t)}function ULe(e){return function(){this.removeAttribute(e)}}function MLe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function QLe(e,t,r){var n,a=r+"",s;return function(){var i=this.getAttribute(e);return i===a?null:i===n?s:s=t(n=i,r)}}function HLe(e,t,r){var n,a=r+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===n?s:s=t(n=i,r)}}function VLe(e,t,r){var n,a,s;return function(){var i,o=r(this),l;return o==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=o+"",i===l?null:i===n&&l===a?s:(a=l,s=t(n=i,o)))}}function zLe(e,t,r){var n,a,s;return function(){var i,o=r(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=o+"",i===l?null:i===n&&l===a?s:(a=l,s=t(n=i,o)))}}function $Le(e,t){var r=Y5(e),n=r==="transform"?wLe:Ete;return this.attrTween(e,typeof t=="function"?(r.local?zLe:VLe)(r,n,sD(this,"attr."+e,t)):t==null?(r.local?MLe:ULe)(r):(r.local?HLe:QLe)(r,n,t))}function KLe(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function GLe(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function qLe(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&GLe(e,s)),r}return a._value=t,a}function WLe(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&KLe(e,s)),r}return a._value=t,a}function XLe(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Y5(e);return this.tween(r,(n.local?qLe:WLe)(n,t))}function YLe(e,t){return function(){aD(this,e).delay=+t.apply(this,arguments)}}function JLe(e,t){return t=+t,function(){aD(this,e).delay=t}}function ZLe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?YLe:JLe)(t,e)):ud(this.node(),t).delay}function e8e(e,t){return function(){CA(this,e).duration=+t.apply(this,arguments)}}function t8e(e,t){return t=+t,function(){CA(this,e).duration=t}}function r8e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?e8e:t8e)(t,e)):ud(this.node(),t).duration}function n8e(e,t){if(typeof t!="function")throw new Error;return function(){CA(this,e).ease=t}}function a8e(e){var t=this._id;return arguments.length?this.each(n8e(t,e)):ud(this.node(),t).ease}function s8e(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;CA(this,e).ease=r}}function i8e(e){if(typeof e!="function")throw new Error;return this.each(s8e(this._id,e))}function o8e(e){typeof e!="function"&&(e=tte(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,o=n[a]=[],l,u=0;u<i;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&o.push(l);return new Tf(n,this._parents,this._name,this._id)}function l8e(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),i=new Array(n),o=0;o<s;++o)for(var l=t[o],u=r[o],d=l.length,f=i[o]=new Array(d),m,p=0;p<d;++p)(m=l[p]||u[p])&&(f[p]=m);for(;o<n;++o)i[o]=t[o];return new Tf(i,this._parents,this._name,this._id)}function c8e(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function u8e(e,t,r){var n,a,s=c8e(t)?aD:CA;return function(){var i=s(this,e),o=i.on;o!==n&&(a=(n=o).copy()).on(t,r),i.on=a}}function d8e(e,t){var r=this._id;return arguments.length<2?ud(this.node(),r).on.on(e):this.each(u8e(r,e,t))}function A8e(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function f8e(){return this.on("end.remove",A8e(this._id))}function h8e(e){var t=this._name,r=this._id;typeof e!="function"&&(e=JO(e));for(var n=this._groups,a=n.length,s=new Array(a),i=0;i<a;++i)for(var o=n[i],l=o.length,u=s[i]=new Array(l),d,f,m=0;m<l;++m)(d=o[m])&&(f=e.call(d,d.__data__,m,o))&&("__data__"in d&&(f.__data__=d.__data__),u[m]=f,Z5(u[m],t,r,m,u,ud(d,r)));return new Tf(s,this._parents,t,r)}function m8e(e){var t=this._name,r=this._id;typeof e!="function"&&(e=ete(e));for(var n=this._groups,a=n.length,s=[],i=[],o=0;o<a;++o)for(var l=n[o],u=l.length,d,f=0;f<u;++f)if(d=l[f]){for(var m=e.call(d,d.__data__,f,l),p,x=ud(d,r),g=0,b=m.length;g<b;++g)(p=m[g])&&Z5(p,t,r,g,m,x);s.push(m),i.push(d)}return new Tf(s,i,t,r)}var p8e=dw.prototype.constructor;function g8e(){return new p8e(this._groups,this._parents)}function v8e(e,t){var r,n,a;return function(){var s=Uv(this,e),i=(this.style.removeProperty(e),Uv(this,e));return s===i?null:s===r&&i===n?a:a=t(r=s,n=i)}}function Cte(e){return function(){this.style.removeProperty(e)}}function x8e(e,t,r){var n,a=r+"",s;return function(){var i=Uv(this,e);return i===a?null:i===n?s:s=t(n=i,r)}}function b8e(e,t,r){var n,a,s;return function(){var i=Uv(this,e),o=r(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),Uv(this,e))),i===l?null:i===n&&l===a?s:(a=l,s=t(n=i,o))}}function y8e(e,t){var r,n,a,s="style."+t,i="end."+s,o;return function(){var l=CA(this,e),u=l.on,d=l.value[s]==null?o||(o=Cte(t)):void 0;(u!==r||a!==d)&&(n=(r=u).copy()).on(i,a=d),l.on=n}}function w8e(e,t,r){var n=(e+="")=="transform"?yLe:Ete;return t==null?this.styleTween(e,v8e(e,n)).on("end.style."+e,Cte(e)):typeof t=="function"?this.styleTween(e,b8e(e,n,sD(this,"style."+e,t))).each(y8e(this._id,e)):this.styleTween(e,x8e(e,n,t),r).on("end.style."+e,null)}function E8e(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function C8e(e,t,r){var n,a;function s(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&E8e(e,i,r)),n}return s._value=t,s}function _8e(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,C8e(e,t,r??""))}function S8e(e){return function(){this.textContent=e}}function N8e(e){return function(){var t=e(this);this.textContent=t??""}}function B8e(e){return this.tween("text",typeof e=="function"?N8e(sD(this,"text",e)):S8e(e==null?"":e+""))}function k8e(e){return function(t){this.textContent=e.call(this,t)}}function T8e(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&k8e(a)),t}return n._value=e,n}function I8e(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,T8e(e))}function j8e(){for(var e=this._name,t=this._id,r=_te(),n=this._groups,a=n.length,s=0;s<a;++s)for(var i=n[s],o=i.length,l,u=0;u<o;++u)if(l=i[u]){var d=ud(l,t);Z5(l,e,r,u,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Tf(n,this._parents,e,r)}function F8e(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(s,i){var o={value:i},l={value:function(){--a===0&&s()}};r.each(function(){var u=CA(this,n),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),u.on=t}),a===0&&s()})}var O8e=0;function Tf(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function _te(){return++O8e}var nf=dw.prototype;Tf.prototype={constructor:Tf,select:h8e,selectAll:m8e,selectChild:nf.selectChild,selectChildren:nf.selectChildren,filter:o8e,merge:l8e,selection:g8e,transition:j8e,call:nf.call,nodes:nf.nodes,node:nf.node,size:nf.size,empty:nf.empty,each:nf.each,on:d8e,attr:$Le,attrTween:XLe,style:w8e,styleTween:_8e,text:B8e,textTween:I8e,remove:f8e,tween:LLe,delay:ZLe,duration:r8e,ease:a8e,easeVarying:i8e,end:F8e,[Symbol.iterator]:nf[Symbol.iterator]};function D8e(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var P8e={time:null,delay:0,duration:250,ease:D8e};function R8e(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function L8e(e){var t,r;e instanceof Tf?(t=e._id,e=e._name):(t=_te(),(r=P8e).time=nD(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,s=0;s<a;++s)for(var i=n[s],o=i.length,l,u=0;u<o;++u)(l=i[u])&&Z5(l,e,t,u,i,r||R8e(l,t));return new Tf(n,this._parents,e,t)}dw.prototype.interrupt=DLe;dw.prototype.transition=L8e;const TE=e=>()=>e;function U8e(e,{sourceEvent:t,target:r,transform:n,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}function df(e,t,r){this.k=e,this.x=t,this.y=r}df.prototype={constructor:df,scale:function(e){return e===1?this:new df(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new df(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var m0=new df(1,0,0);df.prototype;function Pk(e){e.stopImmediatePropagation()}function k1(e){e.preventDefault(),e.stopImmediatePropagation()}function M8e(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Q8e(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function hH(){return this.__zoom||m0}function H8e(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function V8e(){return navigator.maxTouchPoints||"ontouchstart"in this}function z8e(e,t,r){var n=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],s=e.invertY(t[0][1])-r[0][1],i=e.invertY(t[1][1])-r[1][1];return e.translate(a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function $8e(){var e=M8e,t=Q8e,r=z8e,n=H8e,a=V8e,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],o=250,l=SLe,u=X5("start","zoom","end"),d,f,m,p=500,x=150,g=0,b=10;function y(Q){Q.property("__zoom",hH).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",R).filter(a).on("touchstart.zoom",D).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(Q,ee,W,Z){var V=Q.selection?Q.selection():Q;V.property("__zoom",hH),Q!==V?T(Q,ee,W,Z):V.interrupt().each(function(){F(this,arguments).event(Z).start().zoom(null,typeof ee=="function"?ee.apply(this,arguments):ee).end()})},y.scaleBy=function(Q,ee,W,Z){y.scaleTo(Q,function(){var V=this.__zoom.k,q=typeof ee=="function"?ee.apply(this,arguments):ee;return V*q},W,Z)},y.scaleTo=function(Q,ee,W,Z){y.transform(Q,function(){var V=t.apply(this,arguments),q=this.__zoom,K=W==null?I(V):typeof W=="function"?W.apply(this,arguments):W,J=q.invert(K),P=typeof ee=="function"?ee.apply(this,arguments):ee;return r(S(_(q,P),K,J),V,i)},W,Z)},y.translateBy=function(Q,ee,W,Z){y.transform(Q,function(){return r(this.__zoom.translate(typeof ee=="function"?ee.apply(this,arguments):ee,typeof W=="function"?W.apply(this,arguments):W),t.apply(this,arguments),i)},null,Z)},y.translateTo=function(Q,ee,W,Z,V){y.transform(Q,function(){var q=t.apply(this,arguments),K=this.__zoom,J=Z==null?I(q):typeof Z=="function"?Z.apply(this,arguments):Z;return r(m0.translate(J[0],J[1]).scale(K.k).translate(typeof ee=="function"?-ee.apply(this,arguments):-ee,typeof W=="function"?-W.apply(this,arguments):-W),q,i)},Z,V)};function _(Q,ee){return ee=Math.max(s[0],Math.min(s[1],ee)),ee===Q.k?Q:new df(ee,Q.x,Q.y)}function S(Q,ee,W){var Z=ee[0]-W[0]*Q.k,V=ee[1]-W[1]*Q.k;return Z===Q.x&&V===Q.y?Q:new df(Q.k,Z,V)}function I(Q){return[(+Q[0][0]+ +Q[1][0])/2,(+Q[0][1]+ +Q[1][1])/2]}function T(Q,ee,W,Z){Q.on("start.zoom",function(){F(this,arguments).event(Z).start()}).on("interrupt.zoom end.zoom",function(){F(this,arguments).event(Z).end()}).tween("zoom",function(){var V=this,q=arguments,K=F(V,q).event(Z),J=t.apply(V,q),P=W==null?I(J):typeof W=="function"?W.apply(V,q):W,G=Math.max(J[1][0]-J[0][0],J[1][1]-J[0][1]),Y=V.__zoom,re=typeof ee=="function"?ee.apply(V,q):ee,ie=l(Y.invert(P).concat(G/Y.k),re.invert(P).concat(G/re.k));return function(de){if(de===1)de=re;else{var me=ie(de),ue=G/me[2];de=new df(ue,P[0]-me[0]*ue,P[1]-me[1]*ue)}K.zoom(null,de)}})}function F(Q,ee,W){return!W&&Q.__zooming||new w(Q,ee)}function w(Q,ee){this.that=Q,this.args=ee,this.active=0,this.sourceEvent=null,this.extent=t.apply(Q,ee),this.taps=0}w.prototype={event:function(Q){return Q&&(this.sourceEvent=Q),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Q,ee){return this.mouse&&Q!=="mouse"&&(this.mouse[1]=ee.invert(this.mouse[0])),this.touch0&&Q!=="touch"&&(this.touch0[1]=ee.invert(this.touch0[0])),this.touch1&&Q!=="touch"&&(this.touch1[1]=ee.invert(this.touch1[0])),this.that.__zoom=ee,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Q){var ee=ou(this.that).datum();u.call(Q,this.that,new U8e(Q,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:u}),ee)}};function C(Q,...ee){if(!e.apply(this,arguments))return;var W=F(this,ee).event(Q),Z=this.__zoom,V=Math.max(s[0],Math.min(s[1],Z.k*Math.pow(2,n.apply(this,arguments)))),q=Wd(Q);if(W.wheel)(W.mouse[0][0]!==q[0]||W.mouse[0][1]!==q[1])&&(W.mouse[1]=Z.invert(W.mouse[0]=q)),clearTimeout(W.wheel);else{if(Z.k===V)return;W.mouse=[q,Z.invert(q)],NC(this),W.start()}k1(Q),W.wheel=setTimeout(K,x),W.zoom("mouse",r(S(_(Z,V),W.mouse[0],W.mouse[1]),W.extent,i));function K(){W.wheel=null,W.end()}}function N(Q,...ee){if(m||!e.apply(this,arguments))return;var W=Q.currentTarget,Z=F(this,ee,!0).event(Q),V=ou(Q.view).on("mousemove.zoom",P,!0).on("mouseup.zoom",G,!0),q=Wd(Q,W),K=Q.clientX,J=Q.clientY;dte(Q.view),Pk(Q),Z.mouse=[q,this.__zoom.invert(q)],NC(this),Z.start();function P(Y){if(k1(Y),!Z.moved){var re=Y.clientX-K,ie=Y.clientY-J;Z.moved=re*re+ie*ie>g}Z.event(Y).zoom("mouse",r(S(Z.that.__zoom,Z.mouse[0]=Wd(Y,W),Z.mouse[1]),Z.extent,i))}function G(Y){V.on("mousemove.zoom mouseup.zoom",null),Ate(Y.view,Z.moved),k1(Y),Z.event(Y).end()}}function R(Q,...ee){if(e.apply(this,arguments)){var W=this.__zoom,Z=Wd(Q.changedTouches?Q.changedTouches[0]:Q,this),V=W.invert(Z),q=W.k*(Q.shiftKey?.5:2),K=r(S(_(W,q),Z,V),t.apply(this,ee),i);k1(Q),o>0?ou(this).transition().duration(o).call(T,K,Z,Q):ou(this).call(y.transform,K,Z,Q)}}function D(Q,...ee){if(e.apply(this,arguments)){var W=Q.touches,Z=W.length,V=F(this,ee,Q.changedTouches.length===Z).event(Q),q,K,J,P;for(Pk(Q),K=0;K<Z;++K)J=W[K],P=Wd(J,this),P=[P,this.__zoom.invert(P),J.identifier],V.touch0?!V.touch1&&V.touch0[2]!==P[2]&&(V.touch1=P,V.taps=0):(V.touch0=P,q=!0,V.taps=1+!!d);d&&(d=clearTimeout(d)),q&&(V.taps<2&&(f=P[0],d=setTimeout(function(){d=null},p)),NC(this),V.start())}}function O(Q,...ee){if(this.__zooming){var W=F(this,ee).event(Q),Z=Q.changedTouches,V=Z.length,q,K,J,P;for(k1(Q),q=0;q<V;++q)K=Z[q],J=Wd(K,this),W.touch0&&W.touch0[2]===K.identifier?W.touch0[0]=J:W.touch1&&W.touch1[2]===K.identifier&&(W.touch1[0]=J);if(K=W.that.__zoom,W.touch1){var G=W.touch0[0],Y=W.touch0[1],re=W.touch1[0],ie=W.touch1[1],de=(de=re[0]-G[0])*de+(de=re[1]-G[1])*de,me=(me=ie[0]-Y[0])*me+(me=ie[1]-Y[1])*me;K=_(K,Math.sqrt(de/me)),J=[(G[0]+re[0])/2,(G[1]+re[1])/2],P=[(Y[0]+ie[0])/2,(Y[1]+ie[1])/2]}else if(W.touch0)J=W.touch0[0],P=W.touch0[1];else return;W.zoom("touch",r(S(K,J,P),W.extent,i))}}function M(Q,...ee){if(this.__zooming){var W=F(this,ee).event(Q),Z=Q.changedTouches,V=Z.length,q,K;for(Pk(Q),m&&clearTimeout(m),m=setTimeout(function(){m=null},p),q=0;q<V;++q)K=Z[q],W.touch0&&W.touch0[2]===K.identifier?delete W.touch0:W.touch1&&W.touch1[2]===K.identifier&&delete W.touch1;if(W.touch1&&!W.touch0&&(W.touch0=W.touch1,delete W.touch1),W.touch0)W.touch0[1]=this.__zoom.invert(W.touch0[0]);else if(W.end(),W.taps===2&&(K=Wd(K,this),Math.hypot(f[0]-K[0],f[1]-K[1])<b)){var J=ou(this).on("dblclick.zoom");J&&J.apply(this,arguments)}}}return y.wheelDelta=function(Q){return arguments.length?(n=typeof Q=="function"?Q:TE(+Q),y):n},y.filter=function(Q){return arguments.length?(e=typeof Q=="function"?Q:TE(!!Q),y):e},y.touchable=function(Q){return arguments.length?(a=typeof Q=="function"?Q:TE(!!Q),y):a},y.extent=function(Q){return arguments.length?(t=typeof Q=="function"?Q:TE([[+Q[0][0],+Q[0][1]],[+Q[1][0],+Q[1][1]]]),y):t},y.scaleExtent=function(Q){return arguments.length?(s[0]=+Q[0],s[1]=+Q[1],y):[s[0],s[1]]},y.translateExtent=function(Q){return arguments.length?(i[0][0]=+Q[0][0],i[1][0]=+Q[1][0],i[0][1]=+Q[0][1],i[1][1]=+Q[1][1],y):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},y.constrain=function(Q){return arguments.length?(r=Q,y):r},y.duration=function(Q){return arguments.length?(o=+Q,y):o},y.interpolate=function(Q){return arguments.length?(l=Q,y):l},y.on=function(){var Q=u.on.apply(u,arguments);return Q===u?y:Q},y.clickDistance=function(Q){return arguments.length?(g=(Q=+Q)*Q,y):Math.sqrt(g)},y.tapDistance=function(Q){return arguments.length?(b=+Q,y):b},y}var Ste=LG();const eN=k.createContext(null),K8e=eN.Provider,If={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Nte=If.error001();function Ja(e,t){const r=k.useContext(eN);if(r===null)throw new Error(Nte);return Jee(r,e,t)}const Ui=()=>{const e=k.useContext(eN);if(e===null)throw new Error(Nte);return k.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},G8e=e=>e.userSelectionActive?"none":"all";function Bte({position:e,children:t,className:r,style:n,...a}){const s=Ja(G8e),i=`${e}`.split("-");return ft.createElement("div",{className:ol(["react-flow__panel",r,...i]),style:{...n,pointerEvents:s},...a},t)}function q8e({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:ft.createElement(Bte,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ft.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const W8e=({x:e,y:t,label:r,labelStyle:n={},labelShowBg:a=!0,labelBgStyle:s={},labelBgPadding:i=[2,4],labelBgBorderRadius:o=2,children:l,className:u,...d})=>{const f=k.useRef(null),[m,p]=k.useState({x:0,y:0,width:0,height:0}),x=ol(["react-flow__edge-textwrapper",u]);return k.useEffect(()=>{if(f.current){const g=f.current.getBBox();p({x:g.x,y:g.y,width:g.width,height:g.height})}},[r]),typeof r>"u"||!r?null:ft.createElement("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:x,visibility:m.width?"visible":"hidden",...d},a&&ft.createElement("rect",{width:m.width+2*i[0],x:-i[0],y:-i[1],height:m.height+2*i[1],className:"react-flow__edge-textbg",style:s,rx:o,ry:o}),ft.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:f,style:n},r),l)};var X8e=k.memo(W8e);const iD=e=>({width:e.offsetWidth,height:e.offsetHeight}),Qv=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),oD=(e={x:0,y:0},t)=>({x:Qv(e.x,t[0][0],t[1][0]),y:Qv(e.y,t[0][1],t[1][1])}),mH=(e,t,r)=>e<t?Qv(Math.abs(e-t),1,50)/50:e>r?-Qv(Math.abs(e-r),1,50)/50:0,kte=(e,t)=>{const r=mH(e.x,35,t.width-35)*20,n=mH(e.y,35,t.height-35)*20;return[r,n]},Tte=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Y8e=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),lD=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),J8e=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),pH=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),yj=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},Z8e=e=>du(e.width)&&du(e.height)&&du(e.x)&&du(e.y),du=e=>!isNaN(e)&&isFinite(e),ms=Symbol.for("internals"),Ite=["Enter"," ","Escape"],eUe=(e,t)=>{},tUe=e=>"nativeEvent"in e;function wj(e){var a,s;const t=tUe(e)?e.nativeEvent:e,r=((s=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(r==null?void 0:r.nodeName)||(r==null?void 0:r.hasAttribute("contenteditable"))||!!(r!=null&&r.closest(".nokey"))}const jte=e=>"clientX"in e,p0=(e,t)=>{var s,i;const r=jte(e),n=r?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,a=r?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},W_=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},fw=({id:e,path:t,labelX:r,labelY:n,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:p=20})=>ft.createElement(ft.Fragment,null,ft.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:m}),p&&ft.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),a&&du(r)&&du(n)?ft.createElement(X8e,{x:r,y:n,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u}):null);fw.displayName="BaseEdge";function T1(e,t,r){return r===void 0?r:n=>{const a=t().edges.find(s=>s.id===e);a&&r(n,{...a})}}function Fte({sourceX:e,sourceY:t,targetX:r,targetY:n}){const a=Math.abs(r-e)/2,s=r<e?r+a:r-a,i=Math.abs(n-t)/2,o=n<t?n+i:n-i;return[s,o,a,i]}function Ote({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:a,sourceControlY:s,targetControlX:i,targetControlY:o}){const l=e*.125+a*.375+i*.375+r*.125,u=t*.125+s*.375+o*.375+n*.125,d=Math.abs(l-e),f=Math.abs(u-t);return[l,u,d,f]}var xp;(function(e){e.Strict="strict",e.Loose="loose"})(xp||(xp={}));var Rm;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Rm||(Rm={}));var wy;(function(e){e.Partial="partial",e.Full="full"})(wy||(wy={}));var Yh;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Yh||(Yh={}));var X_;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(X_||(X_={}));var gr;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(gr||(gr={}));function gH({pos:e,x1:t,y1:r,x2:n,y2:a}){return e===gr.Left||e===gr.Right?[.5*(t+n),r]:[t,.5*(r+a)]}function Dte({sourceX:e,sourceY:t,sourcePosition:r=gr.Bottom,targetX:n,targetY:a,targetPosition:s=gr.Top}){const[i,o]=gH({pos:r,x1:e,y1:t,x2:n,y2:a}),[l,u]=gH({pos:s,x1:n,y1:a,x2:e,y2:t}),[d,f,m,p]=Ote({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:i,sourceControlY:o,targetControlX:l,targetControlY:u});return[`M${e},${t} C${i},${o} ${l},${u} ${n},${a}`,d,f,m,p]}const cD=k.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:a=gr.Bottom,targetPosition:s=gr.Top,label:i,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:p,markerStart:x,interactionWidth:g})=>{const[b,y,_]=Dte({sourceX:e,sourceY:t,sourcePosition:a,targetX:r,targetY:n,targetPosition:s});return ft.createElement(fw,{path:b,labelX:y,labelY:_,label:i,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:p,markerStart:x,interactionWidth:g})});cD.displayName="SimpleBezierEdge";const vH={[gr.Left]:{x:-1,y:0},[gr.Right]:{x:1,y:0},[gr.Top]:{x:0,y:-1},[gr.Bottom]:{x:0,y:1}},rUe=({source:e,sourcePosition:t=gr.Bottom,target:r})=>t===gr.Left||t===gr.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},xH=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function nUe({source:e,sourcePosition:t=gr.Bottom,target:r,targetPosition:n=gr.Top,center:a,offset:s}){const i=vH[t],o=vH[n],l={x:e.x+i.x*s,y:e.y+i.y*s},u={x:r.x+o.x*s,y:r.y+o.y*s},d=rUe({source:l,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",m=d[f];let p=[],x,g;const b={x:0,y:0},y={x:0,y:0},[_,S,I,T]=Fte({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(i[f]*o[f]===-1){x=a.x??_,g=a.y??S;const w=[{x,y:l.y},{x,y:u.y}],C=[{x:l.x,y:g},{x:u.x,y:g}];i[f]===m?p=f==="x"?w:C:p=f==="x"?C:w}else{const w=[{x:l.x,y:u.y}],C=[{x:u.x,y:l.y}];if(f==="x"?p=i.x===m?C:w:p=i.y===m?w:C,t===n){const M=Math.abs(e[f]-r[f]);if(M<=s){const Q=Math.min(s-1,s-M);i[f]===m?b[f]=(l[f]>e[f]?-1:1)*Q:y[f]=(u[f]>r[f]?-1:1)*Q}}if(t!==n){const M=f==="x"?"y":"x",Q=i[f]===o[M],ee=l[M]>u[M],W=l[M]<u[M];(i[f]===1&&(!Q&&ee||Q&&W)||i[f]!==1&&(!Q&&W||Q&&ee))&&(p=f==="x"?w:C)}const N={x:l.x+b.x,y:l.y+b.y},R={x:u.x+y.x,y:u.y+y.y},D=Math.max(Math.abs(N.x-p[0].x),Math.abs(R.x-p[0].x)),O=Math.max(Math.abs(N.y-p[0].y),Math.abs(R.y-p[0].y));D>=O?(x=(N.x+R.x)/2,g=p[0].y):(x=p[0].x,g=(N.y+R.y)/2)}return[[e,{x:l.x+b.x,y:l.y+b.y},...p,{x:u.x+y.x,y:u.y+y.y},r],x,g,I,T]}function aUe(e,t,r,n){const a=Math.min(xH(e,t)/2,xH(t,r)/2,n),{x:s,y:i}=t;if(e.x===s&&s===r.x||e.y===i&&i===r.y)return`L${s} ${i}`;if(e.y===i){const u=e.x<r.x?-1:1,d=e.y<r.y?1:-1;return`L ${s+a*u},${i}Q ${s},${i} ${s},${i+a*d}`}const o=e.x<r.x?1:-1,l=e.y<r.y?-1:1;return`L ${s},${i+a*l}Q ${s},${i} ${s+a*o},${i}`}function Ej({sourceX:e,sourceY:t,sourcePosition:r=gr.Bottom,targetX:n,targetY:a,targetPosition:s=gr.Top,borderRadius:i=5,centerX:o,centerY:l,offset:u=20}){const[d,f,m,p,x]=nUe({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:a},targetPosition:s,center:{x:o,y:l},offset:u});return[d.reduce((b,y,_)=>{let S="";return _>0&&_<d.length-1?S=aUe(d[_-1],y,d[_+1],i):S=`${_===0?"M":"L"}${y.x} ${y.y}`,b+=S,b},""),f,m,p,x]}const tN=k.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,sourcePosition:f=gr.Bottom,targetPosition:m=gr.Top,markerEnd:p,markerStart:x,pathOptions:g,interactionWidth:b})=>{const[y,_,S]=Ej({sourceX:e,sourceY:t,sourcePosition:f,targetX:r,targetY:n,targetPosition:m,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return ft.createElement(fw,{path:y,labelX:_,labelY:S,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:p,markerStart:x,interactionWidth:b})});tN.displayName="SmoothStepEdge";const uD=k.memo(e=>{var t;return ft.createElement(tN,{...e,pathOptions:k.useMemo(()=>{var r;return{borderRadius:0,offset:(r=e.pathOptions)==null?void 0:r.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});uD.displayName="StepEdge";function sUe({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[a,s,i,o]=Fte({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,a,s,i,o]}const dD=k.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:p})=>{const[x,g,b]=sUe({sourceX:e,sourceY:t,targetX:r,targetY:n});return ft.createElement(fw,{path:x,labelX:g,labelY:b,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:p})});dD.displayName="StraightEdge";function IE(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function bH({pos:e,x1:t,y1:r,x2:n,y2:a,c:s}){switch(e){case gr.Left:return[t-IE(t-n,s),r];case gr.Right:return[t+IE(n-t,s),r];case gr.Top:return[t,r-IE(r-a,s)];case gr.Bottom:return[t,r+IE(a-r,s)]}}function Pte({sourceX:e,sourceY:t,sourcePosition:r=gr.Bottom,targetX:n,targetY:a,targetPosition:s=gr.Top,curvature:i=.25}){const[o,l]=bH({pos:r,x1:e,y1:t,x2:n,y2:a,c:i}),[u,d]=bH({pos:s,x1:n,y1:a,x2:e,y2:t,c:i}),[f,m,p,x]=Ote({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:o,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${e},${t} C${o},${l} ${u},${d} ${n},${a}`,f,m,p,x]}const Y_=k.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:a=gr.Bottom,targetPosition:s=gr.Top,label:i,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:p,markerStart:x,pathOptions:g,interactionWidth:b})=>{const[y,_,S]=Pte({sourceX:e,sourceY:t,sourcePosition:a,targetX:r,targetY:n,targetPosition:s,curvature:g==null?void 0:g.curvature});return ft.createElement(fw,{path:y,labelX:_,labelY:S,label:i,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:p,markerStart:x,interactionWidth:b})});Y_.displayName="BezierEdge";const AD=k.createContext(null),iUe=AD.Provider;AD.Consumer;const oUe=()=>k.useContext(AD),lUe=e=>"id"in e&&"source"in e&&"target"in e,cUe=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`reactflow__edge-${e}${t||""}-${r}${n||""}`,Cj=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`,uUe=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),dUe=(e,t)=>{if(!e.source||!e.target)return t;let r;return lUe(e)?r={...e}:r={...e,id:cUe(e)},uUe(r,t)?t:t.concat(r)},_j=({x:e,y:t},[r,n,a],s,[i,o])=>{const l={x:(e-r)/a,y:(t-n)/a};return s?{x:i*Math.round(l.x/i),y:o*Math.round(l.y/o)}:l},Rte=({x:e,y:t},[r,n,a])=>({x:e*a+r,y:t*a+n}),bv=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(e.width??0)*t[0],n=(e.height??0)*t[1],a={x:e.position.x-r,y:e.position.y-n};return{...a,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-n}:a}},fD=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,a)=>{const{x:s,y:i}=bv(a,t).positionAbsolute;return Y8e(n,lD({x:s,y:i,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return J8e(r)},Lte=(e,t,[r,n,a]=[0,0,1],s=!1,i=!1,o=[0,0])=>{const l={x:(t.x-r)/a,y:(t.y-n)/a,width:t.width/a,height:t.height/a},u=[];return e.forEach(d=>{const{width:f,height:m,selectable:p=!0,hidden:x=!1}=d;if(i&&!p||x)return!1;const{positionAbsolute:g}=bv(d,o),b={x:g.x,y:g.y,width:f||0,height:m||0},y=yj(l,b),_=typeof f>"u"||typeof m>"u"||f===null||m===null,S=s&&y>0,I=(f||0)*(m||0);(_||S||y>=I||d.dragging)&&u.push(d)}),u},Ute=(e,t)=>{const r=e.map(n=>n.id);return t.filter(n=>r.includes(n.source)||r.includes(n.target))},Mte=(e,t,r,n,a,s=.1)=>{const i=t/(e.width*(1+s)),o=r/(e.height*(1+s)),l=Math.min(i,o),u=Qv(l,n,a),d=e.x+e.width/2,f=e.y+e.height/2,m=t/2-d*u,p=r/2-f*u;return{x:m,y:p,zoom:u}},Em=(e,t=0)=>e.transition().duration(t);function yH(e,t,r,n){return(t[r]||[]).reduce((a,s)=>{var i,o;return`${e.id}-${s.id}-${r}`!==n&&a.push({id:s.id||null,type:r,nodeId:e.id,x:(((i=e.positionAbsolute)==null?void 0:i.x)??0)+s.x+s.width/2,y:(((o=e.positionAbsolute)==null?void 0:o.y)??0)+s.y+s.height/2}),a},[])}function AUe(e,t,r,n,a,s){const{x:i,y:o}=p0(e),u=t.elementsFromPoint(i,o).find(x=>x.classList.contains("react-flow__handle"));if(u){const x=u.getAttribute("data-nodeid");if(x){const g=hD(void 0,u),b=u.getAttribute("data-handleid"),y=s({nodeId:x,id:b,type:g});if(y){const _=a.find(S=>S.nodeId===x&&S.type===g&&S.id===b);return{handle:{id:b,type:g,nodeId:x,x:(_==null?void 0:_.x)||r.x,y:(_==null?void 0:_.y)||r.y},validHandleResult:y}}}}let d=[],f=1/0;if(a.forEach(x=>{const g=Math.sqrt((x.x-r.x)**2+(x.y-r.y)**2);if(g<=n){const b=s(x);g<=f&&(g<f?d=[{handle:x,validHandleResult:b}]:g===f&&d.push({handle:x,validHandleResult:b}),f=g)}}),!d.length)return{handle:null,validHandleResult:Qte()};if(d.length===1)return d[0];const m=d.some(({validHandleResult:x})=>x.isValid),p=d.some(({handle:x})=>x.type==="target");return d.find(({handle:x,validHandleResult:g})=>p?x.type==="target":m?g.isValid:!0)||d[0]}const fUe={source:null,target:null,sourceHandle:null,targetHandle:null},Qte=()=>({handleDomNode:null,isValid:!1,connection:fUe,endHandle:null});function Hte(e,t,r,n,a,s,i){const o=a==="target",l=i.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...Qte(),handleDomNode:l};if(l){const d=hD(void 0,l),f=l.getAttribute("data-nodeid"),m=l.getAttribute("data-handleid"),p=l.classList.contains("connectable"),x=l.classList.contains("connectableend"),g={source:o?f:r,sourceHandle:o?m:n,target:o?r:f,targetHandle:o?n:m};u.connection=g,p&&x&&(t===xp.Strict?o&&d==="source"||!o&&d==="target":f!==r||m!==n)&&(u.endHandle={nodeId:f,handleId:m,type:d},u.isValid=s(g))}return u}function hUe({nodes:e,nodeId:t,handleId:r,handleType:n}){return e.reduce((a,s)=>{if(s[ms]){const{handleBounds:i}=s[ms];let o=[],l=[];i&&(o=yH(s,i,"source",`${t}-${r}-${n}`),l=yH(s,i,"target",`${t}-${r}-${n}`)),a.push(...o,...l)}return a},[])}function hD(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Rk(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function mUe(e,t){let r=null;return t?r="valid":e&&!t&&(r="invalid"),r}function Vte({event:e,handleId:t,nodeId:r,onConnect:n,isTarget:a,getState:s,setState:i,isValidConnection:o,edgeUpdaterType:l,onReconnectEnd:u}){const d=Tte(e.target),{connectionMode:f,domNode:m,autoPanOnConnect:p,connectionRadius:x,onConnectStart:g,panBy:b,getNodes:y,cancelConnection:_}=s();let S=0,I;const{x:T,y:F}=p0(e),w=d==null?void 0:d.elementFromPoint(T,F),C=hD(l,w),N=m==null?void 0:m.getBoundingClientRect();if(!N||!C)return;let R,D=p0(e,N),O=!1,M=null,Q=!1,ee=null;const W=hUe({nodes:y(),nodeId:r,handleId:t,handleType:C}),Z=()=>{if(!p)return;const[K,J]=kte(D,N);b({x:K,y:J}),S=requestAnimationFrame(Z)};i({connectionPosition:D,connectionStatus:null,connectionNodeId:r,connectionHandleId:t,connectionHandleType:C,connectionStartHandle:{nodeId:r,handleId:t,type:C},connectionEndHandle:null}),g==null||g(e,{nodeId:r,handleId:t,handleType:C});function V(K){const{transform:J}=s();D=p0(K,N);const{handle:P,validHandleResult:G}=AUe(K,d,_j(D,J,!1,[1,1]),x,W,Y=>Hte(Y,f,r,t,a?"target":"source",o,d));if(I=P,O||(Z(),O=!0),ee=G.handleDomNode,M=G.connection,Q=G.isValid,i({connectionPosition:I&&Q?Rte({x:I.x,y:I.y},J):D,connectionStatus:mUe(!!I,Q),connectionEndHandle:G.endHandle}),!I&&!Q&&!ee)return Rk(R);M.source!==M.target&&ee&&(Rk(R),R=ee,ee.classList.add("connecting","react-flow__handle-connecting"),ee.classList.toggle("valid",Q),ee.classList.toggle("react-flow__handle-valid",Q))}function q(K){var J,P;(I||ee)&&M&&Q&&(n==null||n(M)),(P=(J=s()).onConnectEnd)==null||P.call(J,K),l&&(u==null||u(K)),Rk(R),_(),cancelAnimationFrame(S),O=!1,Q=!1,M=null,ee=null,d.removeEventListener("mousemove",V),d.removeEventListener("mouseup",q),d.removeEventListener("touchmove",V),d.removeEventListener("touchend",q)}d.addEventListener("mousemove",V),d.addEventListener("mouseup",q),d.addEventListener("touchmove",V),d.addEventListener("touchend",q)}const wH=()=>!0,pUe=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),gUe=(e,t,r)=>n=>{const{connectionStartHandle:a,connectionEndHandle:s,connectionClickStartHandle:i}=n;return{connecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===r||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===r,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===r}},zte=k.forwardRef(({type:e="source",position:t=gr.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:a=!0,isConnectableEnd:s=!0,id:i,onConnect:o,children:l,className:u,onMouseDown:d,onTouchStart:f,...m},p)=>{var N,R;const x=i||null,g=e==="target",b=Ui(),y=oUe(),{connectOnClick:_,noPanClassName:S}=Ja(pUe,Ho),{connecting:I,clickConnecting:T}=Ja(gUe(y,x,e),Ho);y||(R=(N=b.getState()).onError)==null||R.call(N,"010",If.error010());const F=D=>{const{defaultEdgeOptions:O,onConnect:M,hasDefaultEdges:Q}=b.getState(),ee={...O,...D};if(Q){const{edges:W,setEdges:Z}=b.getState();Z(dUe(ee,W))}M==null||M(ee),o==null||o(ee)},w=D=>{if(!y)return;const O=jte(D);a&&(O&&D.button===0||!O)&&Vte({event:D,handleId:x,nodeId:y,onConnect:F,isTarget:g,getState:b.getState,setState:b.setState,isValidConnection:r||b.getState().isValidConnection||wH}),O?d==null||d(D):f==null||f(D)},C=D=>{const{onClickConnectStart:O,onClickConnectEnd:M,connectionClickStartHandle:Q,connectionMode:ee,isValidConnection:W}=b.getState();if(!y||!Q&&!a)return;if(!Q){O==null||O(D,{nodeId:y,handleId:x,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:y,type:e,handleId:x}});return}const Z=Tte(D.target),V=r||W||wH,{connection:q,isValid:K}=Hte({nodeId:y,id:x,type:e},ee,Q.nodeId,Q.handleId||null,Q.type,V,Z);K&&F(q),M==null||M(D),b.setState({connectionClickStartHandle:null})};return ft.createElement("div",{"data-handleid":x,"data-nodeid":y,"data-handlepos":t,"data-id":`${y}-${x}-${e}`,className:ol(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",S,u,{source:!g,target:g,connectable:n,connectablestart:a,connectableend:s,connecting:T,connectionindicator:n&&(a&&!I||s&&I)}]),onMouseDown:w,onTouchStart:w,onClick:_?C:void 0,ref:p,...m},l)});zte.displayName="Handle";var Hv=k.memo(zte);const $te=({data:e,isConnectable:t,targetPosition:r=gr.Top,sourcePosition:n=gr.Bottom})=>ft.createElement(ft.Fragment,null,ft.createElement(Hv,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,ft.createElement(Hv,{type:"source",position:n,isConnectable:t}));$te.displayName="DefaultNode";var Sj=k.memo($te);const Kte=({data:e,isConnectable:t,sourcePosition:r=gr.Bottom})=>ft.createElement(ft.Fragment,null,e==null?void 0:e.label,ft.createElement(Hv,{type:"source",position:r,isConnectable:t}));Kte.displayName="InputNode";var Gte=k.memo(Kte);const qte=({data:e,isConnectable:t,targetPosition:r=gr.Top})=>ft.createElement(ft.Fragment,null,ft.createElement(Hv,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label);qte.displayName="OutputNode";var Wte=k.memo(qte);const mD=()=>null;mD.displayName="GroupNode";const vUe=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),jE=e=>e.id;function xUe(e,t){return Ho(e.selectedNodes.map(jE),t.selectedNodes.map(jE))&&Ho(e.selectedEdges.map(jE),t.selectedEdges.map(jE))}const Xte=k.memo(({onSelectionChange:e})=>{const t=Ui(),{selectedNodes:r,selectedEdges:n}=Ja(vUe,xUe);return k.useEffect(()=>{const a={nodes:r,edges:n};e==null||e(a),t.getState().onSelectionChange.forEach(s=>s(a))},[r,n,e]),null});Xte.displayName="SelectionListener";const bUe=e=>!!e.onSelectionChange;function yUe({onSelectionChange:e}){const t=Ja(bUe);return e||t?ft.createElement(Xte,{onSelectionChange:e}):null}const wUe=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Sg(e,t){k.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function cn(e,t,r){k.useEffect(()=>{typeof t<"u"&&r({[e]:t})},[t])}const EUe=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:a,onConnectStart:s,onConnectEnd:i,onClickConnectStart:o,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:m,edgesUpdatable:p,elevateNodesOnSelect:x,minZoom:g,maxZoom:b,nodeExtent:y,onNodesChange:_,onEdgesChange:S,elementsSelectable:I,connectionMode:T,snapGrid:F,snapToGrid:w,translateExtent:C,connectOnClick:N,defaultEdgeOptions:R,fitView:D,fitViewOptions:O,onNodesDelete:M,onEdgesDelete:Q,onNodeDrag:ee,onNodeDragStart:W,onNodeDragStop:Z,onSelectionDrag:V,onSelectionDragStart:q,onSelectionDragStop:K,noPanClassName:J,nodeOrigin:P,rfId:G,autoPanOnConnect:Y,autoPanOnNodeDrag:re,onError:ie,connectionRadius:de,isValidConnection:me,nodeDragThreshold:ue})=>{const{setNodes:ye,setEdges:Ie,setDefaultNodesAndEdges:ne,setMinZoom:Fe,setMaxZoom:Le,setTranslateExtent:ke,setNodeExtent:pe,reset:je}=Ja(wUe,Ho),He=Ui();return k.useEffect(()=>{const Xe=n==null?void 0:n.map(dt=>({...dt,...R}));return ne(r,Xe),()=>{je()}},[]),cn("defaultEdgeOptions",R,He.setState),cn("connectionMode",T,He.setState),cn("onConnect",a,He.setState),cn("onConnectStart",s,He.setState),cn("onConnectEnd",i,He.setState),cn("onClickConnectStart",o,He.setState),cn("onClickConnectEnd",l,He.setState),cn("nodesDraggable",u,He.setState),cn("nodesConnectable",d,He.setState),cn("nodesFocusable",f,He.setState),cn("edgesFocusable",m,He.setState),cn("edgesUpdatable",p,He.setState),cn("elementsSelectable",I,He.setState),cn("elevateNodesOnSelect",x,He.setState),cn("snapToGrid",w,He.setState),cn("snapGrid",F,He.setState),cn("onNodesChange",_,He.setState),cn("onEdgesChange",S,He.setState),cn("connectOnClick",N,He.setState),cn("fitViewOnInit",D,He.setState),cn("fitViewOnInitOptions",O,He.setState),cn("onNodesDelete",M,He.setState),cn("onEdgesDelete",Q,He.setState),cn("onNodeDrag",ee,He.setState),cn("onNodeDragStart",W,He.setState),cn("onNodeDragStop",Z,He.setState),cn("onSelectionDrag",V,He.setState),cn("onSelectionDragStart",q,He.setState),cn("onSelectionDragStop",K,He.setState),cn("noPanClassName",J,He.setState),cn("nodeOrigin",P,He.setState),cn("rfId",G,He.setState),cn("autoPanOnConnect",Y,He.setState),cn("autoPanOnNodeDrag",re,He.setState),cn("onError",ie,He.setState),cn("connectionRadius",de,He.setState),cn("isValidConnection",me,He.setState),cn("nodeDragThreshold",ue,He.setState),Sg(e,ye),Sg(t,Ie),Sg(g,Fe),Sg(b,Le),Sg(C,ke),Sg(y,pe),null},EH={display:"none"},CUe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Yte="react-flow__node-desc",Jte="react-flow__edge-desc",_Ue="react-flow__aria-live",SUe=e=>e.ariaLiveMessage;function NUe({rfId:e}){const t=Ja(SUe);return ft.createElement("div",{id:`${_Ue}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:CUe},t)}function BUe({rfId:e,disableKeyboardA11y:t}){return ft.createElement(ft.Fragment,null,ft.createElement("div",{id:`${Yte}-${e}`,style:EH},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ft.createElement("div",{id:`${Jte}-${e}`,style:EH},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&ft.createElement(NUe,{rfId:e}))}var Ey=(e=null,t={actInsideInputWithModifier:!0})=>{const[r,n]=k.useState(!1),a=k.useRef(!1),s=k.useRef(new Set([])),[i,o]=k.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,m)=>f.concat(...m),[]);return[u,d]}return[[],[]]},[e]);return k.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const d=p=>{if(a.current=p.ctrlKey||p.metaKey||p.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&wj(p))return!1;const g=_H(p.code,o);s.current.add(p[g]),CH(i,s.current,!1)&&(p.preventDefault(),n(!0))},f=p=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&wj(p))return!1;const g=_H(p.code,o);CH(i,s.current,!0)?(n(!1),s.current.clear()):s.current.delete(p[g]),p.key==="Meta"&&s.current.clear(),a.current=!1},m=()=>{s.current.clear(),n(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",m),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",m)}}},[e,n]),r};function CH(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(a=>t.has(a)))}function _H(e,t){return t.includes(e)?"code":"key"}function Zte(e,t,r,n){var o,l;const a=e.parentNode||e.parentId;if(!a)return r;const s=t.get(a),i=bv(s,n);return Zte(s,t,{x:(r.x??0)+i.x,y:(r.y??0)+i.y,z:(((o=s[ms])==null?void 0:o.z)??0)>(r.z??0)?((l=s[ms])==null?void 0:l.z)??0:r.z??0},n)}function ere(e,t,r){e.forEach(n=>{var s;const a=n.parentNode||n.parentId;if(a&&!e.has(a))throw new Error(`Parent node ${a} not found`);if(a||r!=null&&r[n.id]){const{x:i,y:o,z:l}=Zte(n,e,{...n.position,z:((s=n[ms])==null?void 0:s.z)??0},t);n.positionAbsolute={x:i,y:o},n[ms].z=l,r!=null&&r[n.id]&&(n[ms].isParent=!0)}})}function Lk(e,t,r,n){const a=new Map,s={},i=n?1e3:0;return e.forEach(o=>{var p;const l=(du(o.zIndex)?o.zIndex:0)+(o.selected?i:0),u=t.get(o.id),d={...o,positionAbsolute:{x:o.position.x,y:o.position.y}},f=o.parentNode||o.parentId;f&&(s[f]=!0);const m=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==o.type;Object.defineProperty(d,ms,{enumerable:!1,value:{handleBounds:m||(p=u==null?void 0:u[ms])==null?void 0:p.handleBounds,z:l}}),a.set(o.id,d)}),ere(a,r,s),a}function tre(e,t={}){const{getNodes:r,width:n,height:a,minZoom:s,maxZoom:i,d3Zoom:o,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=e(),m=t.initial&&!u&&d;if(o&&l&&(m||!t.initial)){const x=r().filter(b=>{var _;const y=t.includeHiddenNodes?b.width&&b.height:!b.hidden;return(_=t.nodes)!=null&&_.length?y&&t.nodes.some(S=>S.id===b.id):y}),g=x.every(b=>b.width&&b.height);if(x.length>0&&g){const b=fD(x,f),{x:y,y:_,zoom:S}=Mte(b,n,a,t.minZoom??s,t.maxZoom??i,t.padding??.1),I=m0.translate(y,_).scale(S);return typeof t.duration=="number"&&t.duration>0?o.transform(Em(l,t.duration),I):o.transform(l,I),!0}}return!1}function kUe(e,t){return e.forEach(r=>{const n=t.get(r.id);n&&t.set(n.id,{...n,[ms]:n[ms],selected:r.selected})}),new Map(t)}function TUe(e,t){return t.map(r=>{const n=e.find(a=>a.id===r.id);return n&&(r.selected=n.selected),r})}function FE({changedNodes:e,changedEdges:t,get:r,set:n}){const{nodeInternals:a,edges:s,onNodesChange:i,onEdgesChange:o,hasDefaultNodes:l,hasDefaultEdges:u}=r();e!=null&&e.length&&(l&&n({nodeInternals:kUe(e,a)}),i==null||i(e)),t!=null&&t.length&&(u&&n({edges:TUe(t,s)}),o==null||o(t))}const Ng=()=>{},IUe={zoomIn:Ng,zoomOut:Ng,zoomTo:Ng,getZoom:()=>1,setViewport:Ng,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Ng,fitBounds:Ng,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},jUe=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),FUe=()=>{const e=Ui(),{d3Zoom:t,d3Selection:r}=Ja(jUe,Ho);return k.useMemo(()=>r&&t?{zoomIn:a=>t.scaleBy(Em(r,a==null?void 0:a.duration),1.2),zoomOut:a=>t.scaleBy(Em(r,a==null?void 0:a.duration),1/1.2),zoomTo:(a,s)=>t.scaleTo(Em(r,s==null?void 0:s.duration),a),getZoom:()=>e.getState().transform[2],setViewport:(a,s)=>{const[i,o,l]=e.getState().transform,u=m0.translate(a.x??i,a.y??o).scale(a.zoom??l);t.transform(Em(r,s==null?void 0:s.duration),u)},getViewport:()=>{const[a,s,i]=e.getState().transform;return{x:a,y:s,zoom:i}},fitView:a=>tre(e.getState,a),setCenter:(a,s,i)=>{const{width:o,height:l,maxZoom:u}=e.getState(),d=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:u,f=o/2-a*d,m=l/2-s*d,p=m0.translate(f,m).scale(d);t.transform(Em(r,i==null?void 0:i.duration),p)},fitBounds:(a,s)=>{const{width:i,height:o,minZoom:l,maxZoom:u}=e.getState(),{x:d,y:f,zoom:m}=Mte(a,i,o,l,u,(s==null?void 0:s.padding)??.1),p=m0.translate(d,f).scale(m);t.transform(Em(r,s==null?void 0:s.duration),p)},project:a=>{const{transform:s,snapToGrid:i,snapGrid:o}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),_j(a,s,i,o)},screenToFlowPosition:a=>{const{transform:s,snapToGrid:i,snapGrid:o,domNode:l}=e.getState();if(!l)return a;const{x:u,y:d}=l.getBoundingClientRect(),f={x:a.x-u,y:a.y-d};return _j(f,s,i,o)},flowToScreenPosition:a=>{const{transform:s,domNode:i}=e.getState();if(!i)return a;const{x:o,y:l}=i.getBoundingClientRect(),u=Rte(a,s);return{x:u.x+o,y:u.y+l}},viewportInitialized:!0}:IUe,[t,r])};function rN(){const e=FUe(),t=Ui(),r=k.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),n=k.useCallback(g=>t.getState().nodeInternals.get(g),[]),a=k.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(b=>({...b}))},[]),s=k.useCallback(g=>{const{edges:b=[]}=t.getState();return b.find(y=>y.id===g)},[]),i=k.useCallback(g=>{const{getNodes:b,setNodes:y,hasDefaultNodes:_,onNodesChange:S}=t.getState(),I=b(),T=typeof g=="function"?g(I):g;if(_)y(T);else if(S){const F=T.length===0?I.map(w=>({type:"remove",id:w.id})):T.map(w=>({item:w,type:"reset"}));S(F)}},[]),o=k.useCallback(g=>{const{edges:b=[],setEdges:y,hasDefaultEdges:_,onEdgesChange:S}=t.getState(),I=typeof g=="function"?g(b):g;if(_)y(I);else if(S){const T=I.length===0?b.map(F=>({type:"remove",id:F.id})):I.map(F=>({item:F,type:"reset"}));S(T)}},[]),l=k.useCallback(g=>{const b=Array.isArray(g)?g:[g],{getNodes:y,setNodes:_,hasDefaultNodes:S,onNodesChange:I}=t.getState();if(S){const F=[...y(),...b];_(F)}else if(I){const T=b.map(F=>({item:F,type:"add"}));I(T)}},[]),u=k.useCallback(g=>{const b=Array.isArray(g)?g:[g],{edges:y=[],setEdges:_,hasDefaultEdges:S,onEdgesChange:I}=t.getState();if(S)_([...y,...b]);else if(I){const T=b.map(F=>({item:F,type:"add"}));I(T)}},[]),d=k.useCallback(()=>{const{getNodes:g,edges:b=[],transform:y}=t.getState(),[_,S,I]=y;return{nodes:g().map(T=>({...T})),edges:b.map(T=>({...T})),viewport:{x:_,y:S,zoom:I}}},[]),f=k.useCallback(({nodes:g,edges:b})=>{const{nodeInternals:y,getNodes:_,edges:S,hasDefaultNodes:I,hasDefaultEdges:T,onNodesDelete:F,onEdgesDelete:w,onNodesChange:C,onEdgesChange:N}=t.getState(),R=(g||[]).map(ee=>ee.id),D=(b||[]).map(ee=>ee.id),O=_().reduce((ee,W)=>{const Z=W.parentNode||W.parentId,V=!R.includes(W.id)&&Z&&ee.find(K=>K.id===Z);return(typeof W.deletable=="boolean"?W.deletable:!0)&&(R.includes(W.id)||V)&&ee.push(W),ee},[]),M=S.filter(ee=>typeof ee.deletable=="boolean"?ee.deletable:!0),Q=M.filter(ee=>D.includes(ee.id));if(O||Q){const ee=Ute(O,M),W=[...Q,...ee],Z=W.reduce((V,q)=>(V.includes(q.id)||V.push(q.id),V),[]);if((T||I)&&(T&&t.setState({edges:S.filter(V=>!Z.includes(V.id))}),I&&(O.forEach(V=>{y.delete(V.id)}),t.setState({nodeInternals:new Map(y)}))),Z.length>0&&(w==null||w(W),N&&N(Z.map(V=>({id:V,type:"remove"})))),O.length>0&&(F==null||F(O),C)){const V=O.map(q=>({id:q.id,type:"remove"}));C(V)}}},[]),m=k.useCallback(g=>{const b=Z8e(g),y=b?null:t.getState().nodeInternals.get(g.id);return!b&&!y?[null,null,b]:[b?g:pH(y),y,b]},[]),p=k.useCallback((g,b=!0,y)=>{const[_,S,I]=m(g);return _?(y||t.getState().getNodes()).filter(T=>{if(!I&&(T.id===S.id||!T.positionAbsolute))return!1;const F=pH(T),w=yj(F,_);return b&&w>0||w>=_.width*_.height}):[]},[]),x=k.useCallback((g,b,y=!0)=>{const[_]=m(g);if(!_)return!1;const S=yj(_,b);return y&&S>0||S>=_.width*_.height},[]);return k.useMemo(()=>({...e,getNodes:r,getNode:n,getEdges:a,getEdge:s,setNodes:i,setEdges:o,addNodes:l,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:x}),[e,r,n,a,s,i,o,l,u,d,f,p,x])}const OUe={actInsideInputWithModifier:!1};var DUe=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const r=Ui(),{deleteElements:n}=rN(),a=Ey(e,OUe),s=Ey(t);k.useEffect(()=>{if(a){const{edges:i,getNodes:o}=r.getState(),l=o().filter(d=>d.selected),u=i.filter(d=>d.selected);n({nodes:l,edges:u}),r.setState({nodesSelectionActive:!1})}},[a]),k.useEffect(()=>{r.setState({multiSelectionActive:s})},[s])};function PUe(e){const t=Ui();k.useEffect(()=>{let r;const n=()=>{var s,i;if(!e.current)return;const a=iD(e.current);(a.height===0||a.width===0)&&((i=(s=t.getState()).onError)==null||i.call(s,"004",If.error004())),t.setState({width:a.width||500,height:a.height||500})};return n(),window.addEventListener("resize",n),e.current&&(r=new ResizeObserver(()=>n()),r.observe(e.current)),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}},[])}const pD={position:"absolute",width:"100%",height:"100%",top:0,left:0},RUe=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,OE=e=>({x:e.x,y:e.y,zoom:e.k}),Bg=(e,t)=>e.target.closest(`.${t}`),SH=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),NH=e=>{const t=e.ctrlKey&&W_()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},LUe=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),UUe=({onMove:e,onMoveStart:t,onMoveEnd:r,onPaneContextMenu:n,zoomOnScroll:a=!0,zoomOnPinch:s=!0,panOnScroll:i=!1,panOnScrollSpeed:o=.5,panOnScrollMode:l=Rm.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:m,translateExtent:p,minZoom:x,maxZoom:g,zoomActivationKeyCode:b,preventScrolling:y=!0,children:_,noWheelClassName:S,noPanClassName:I})=>{const T=k.useRef(),F=Ui(),w=k.useRef(!1),C=k.useRef(!1),N=k.useRef(null),R=k.useRef({x:0,y:0,zoom:0}),{d3Zoom:D,d3Selection:O,d3ZoomHandler:M,userSelectionActive:Q}=Ja(LUe,Ho),ee=Ey(b),W=k.useRef(0),Z=k.useRef(!1),V=k.useRef();return PUe(N),k.useEffect(()=>{if(N.current){const q=N.current.getBoundingClientRect(),K=$8e().scaleExtent([x,g]).translateExtent(p),J=ou(N.current).call(K),P=m0.translate(m.x,m.y).scale(Qv(m.zoom,x,g)),G=[[0,0],[q.width,q.height]],Y=K.constrain()(P,G,p);K.transform(J,Y),K.wheelDelta(NH),F.setState({d3Zoom:K,d3Selection:J,d3ZoomHandler:J.on("wheel.zoom"),transform:[Y.x,Y.y,Y.k],domNode:N.current.closest(".react-flow")})}},[]),k.useEffect(()=>{O&&D&&(i&&!ee&&!Q?O.on("wheel.zoom",q=>{if(Bg(q,S))return!1;q.preventDefault(),q.stopImmediatePropagation();const K=O.property("__zoom").k||1;if(q.ctrlKey&&s){const me=Wd(q),ue=NH(q),ye=K*Math.pow(2,ue);D.scaleTo(O,ye,me,q);return}const J=q.deltaMode===1?20:1;let P=l===Rm.Vertical?0:q.deltaX*J,G=l===Rm.Horizontal?0:q.deltaY*J;!W_()&&q.shiftKey&&l!==Rm.Vertical&&(P=q.deltaY*J,G=0),D.translateBy(O,-(P/K)*o,-(G/K)*o,{internal:!0});const Y=OE(O.property("__zoom")),{onViewportChangeStart:re,onViewportChange:ie,onViewportChangeEnd:de}=F.getState();clearTimeout(V.current),Z.current||(Z.current=!0,t==null||t(q,Y),re==null||re(Y)),Z.current&&(e==null||e(q,Y),ie==null||ie(Y),V.current=setTimeout(()=>{r==null||r(q,Y),de==null||de(Y),Z.current=!1},150))},{passive:!1}):typeof M<"u"&&O.on("wheel.zoom",function(q,K){if(!y&&q.type==="wheel"&&!q.ctrlKey||Bg(q,S))return null;q.preventDefault(),M.call(this,q,K)},{passive:!1}))},[Q,i,l,O,D,M,ee,s,y,S,t,e,r]),k.useEffect(()=>{D&&D.on("start",q=>{var P,G;if(!q.sourceEvent||q.sourceEvent.internal)return null;W.current=(P=q.sourceEvent)==null?void 0:P.button;const{onViewportChangeStart:K}=F.getState(),J=OE(q.transform);w.current=!0,R.current=J,((G=q.sourceEvent)==null?void 0:G.type)==="mousedown"&&F.setState({paneDragging:!0}),K==null||K(J),t==null||t(q.sourceEvent,J)})},[D,t]),k.useEffect(()=>{D&&(Q&&!w.current?D.on("zoom",null):Q||D.on("zoom",q=>{var J;const{onViewportChange:K}=F.getState();if(F.setState({transform:[q.transform.x,q.transform.y,q.transform.k]}),C.current=!!(n&&SH(f,W.current??0)),(e||K)&&!((J=q.sourceEvent)!=null&&J.internal)){const P=OE(q.transform);K==null||K(P),e==null||e(q.sourceEvent,P)}}))},[Q,D,e,f,n]),k.useEffect(()=>{D&&D.on("end",q=>{if(!q.sourceEvent||q.sourceEvent.internal)return null;const{onViewportChangeEnd:K}=F.getState();if(w.current=!1,F.setState({paneDragging:!1}),n&&SH(f,W.current??0)&&!C.current&&n(q.sourceEvent),C.current=!1,(r||K)&&RUe(R.current,q.transform)){const J=OE(q.transform);R.current=J,clearTimeout(T.current),T.current=setTimeout(()=>{K==null||K(J),r==null||r(q.sourceEvent,J)},i?150:0)}})},[D,i,f,r,n]),k.useEffect(()=>{D&&D.filter(q=>{const K=ee||a,J=s&&q.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&q.button===1&&q.type==="mousedown"&&(Bg(q,"react-flow__node")||Bg(q,"react-flow__edge")))return!0;if(!f&&!K&&!i&&!u&&!s||Q||!u&&q.type==="dblclick"||Bg(q,S)&&q.type==="wheel"||Bg(q,I)&&(q.type!=="wheel"||i&&q.type==="wheel"&&!ee)||!s&&q.ctrlKey&&q.type==="wheel"||!K&&!i&&!J&&q.type==="wheel"||!f&&(q.type==="mousedown"||q.type==="touchstart")||Array.isArray(f)&&!f.includes(q.button)&&q.type==="mousedown")return!1;const P=Array.isArray(f)&&f.includes(q.button)||!q.button||q.button<=1;return(!q.ctrlKey||q.type==="wheel")&&P})},[Q,D,a,s,i,u,f,d,ee]),ft.createElement("div",{className:"react-flow__renderer",ref:N,style:pD},_)},MUe=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function QUe(){const{userSelectionActive:e,userSelectionRect:t}=Ja(MUe,Ho);return e&&t?ft.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function BH(e,t){const r=t.parentNode||t.parentId,n=e.find(a=>a.id===r);if(n){const a=t.position.x+t.width-n.width,s=t.position.y+t.height-n.height;if(a>0||s>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,a>0&&(n.style.width+=a),s>0&&(n.style.height+=s),t.position.x<0){const i=Math.abs(t.position.x);n.position.x=n.position.x-i,n.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);n.position.y=n.position.y-i,n.style.height+=i,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function rre(e,t){if(e.some(n=>n.type==="reset"))return e.filter(n=>n.type==="reset").map(n=>n.item);const r=e.filter(n=>n.type==="add").map(n=>n.item);return t.reduce((n,a)=>{const s=e.filter(o=>o.id===a.id);if(s.length===0)return n.push(a),n;const i={...a};for(const o of s)if(o)switch(o.type){case"select":{i.selected=o.selected;break}case"position":{typeof o.position<"u"&&(i.position=o.position),typeof o.positionAbsolute<"u"&&(i.positionAbsolute=o.positionAbsolute),typeof o.dragging<"u"&&(i.dragging=o.dragging),i.expandParent&&BH(n,i);break}case"dimensions":{typeof o.dimensions<"u"&&(i.width=o.dimensions.width,i.height=o.dimensions.height),typeof o.updateStyle<"u"&&(i.style={...i.style||{},...o.dimensions}),typeof o.resizing=="boolean"&&(i.resizing=o.resizing),i.expandParent&&BH(n,i);break}case"remove":return n}return n.push(i),n},r)}function nre(e,t){return rre(e,t)}function HUe(e,t){return rre(e,t)}const Vh=(e,t)=>({id:e,type:"select",selected:t});function Yg(e,t){return e.reduce((r,n)=>{const a=t.includes(n.id);return!n.selected&&a?(n.selected=!0,r.push(Vh(n.id,!0))):n.selected&&!a&&(n.selected=!1,r.push(Vh(n.id,!1))),r},[])}const Uk=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},VUe=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),are=k.memo(({isSelecting:e,selectionMode:t=wy.Full,panOnDrag:r,onSelectionStart:n,onSelectionEnd:a,onPaneClick:s,onPaneContextMenu:i,onPaneScroll:o,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const m=k.useRef(null),p=Ui(),x=k.useRef(0),g=k.useRef(0),b=k.useRef(),{userSelectionActive:y,elementsSelectable:_,dragging:S}=Ja(VUe,Ho),I=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),x.current=0,g.current=0},T=M=>{s==null||s(M),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},F=M=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){M.preventDefault();return}i==null||i(M)},w=o?M=>o(M):void 0,C=M=>{const{resetSelectedElements:Q,domNode:ee}=p.getState();if(b.current=ee==null?void 0:ee.getBoundingClientRect(),!_||!e||M.button!==0||M.target!==m.current||!b.current)return;const{x:W,y:Z}=p0(M,b.current);Q(),p.setState({userSelectionRect:{width:0,height:0,startX:W,startY:Z,x:W,y:Z}}),n==null||n(M)},N=M=>{const{userSelectionRect:Q,nodeInternals:ee,edges:W,transform:Z,onNodesChange:V,onEdgesChange:q,nodeOrigin:K,getNodes:J}=p.getState();if(!e||!b.current||!Q)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const P=p0(M,b.current),G=Q.startX??0,Y=Q.startY??0,re={...Q,x:P.x<G?P.x:G,y:P.y<Y?P.y:Y,width:Math.abs(P.x-G),height:Math.abs(P.y-Y)},ie=J(),de=Lte(ee,re,Z,t===wy.Partial,!0,K),me=Ute(de,W).map(ye=>ye.id),ue=de.map(ye=>ye.id);if(x.current!==ue.length){x.current=ue.length;const ye=Yg(ie,ue);ye.length&&(V==null||V(ye))}if(g.current!==me.length){g.current=me.length;const ye=Yg(W,me);ye.length&&(q==null||q(ye))}p.setState({userSelectionRect:re})},R=M=>{if(M.button!==0)return;const{userSelectionRect:Q}=p.getState();!y&&Q&&M.target===m.current&&(T==null||T(M)),p.setState({nodesSelectionActive:x.current>0}),I(),a==null||a(M)},D=M=>{y&&(p.setState({nodesSelectionActive:x.current>0}),a==null||a(M)),I()},O=_&&(e||y);return ft.createElement("div",{className:ol(["react-flow__pane",{dragging:S,selection:e}]),onClick:O?void 0:Uk(T,m),onContextMenu:Uk(F,m),onWheel:Uk(w,m),onMouseEnter:O?void 0:l,onMouseDown:O?C:void 0,onMouseMove:O?N:u,onMouseUp:O?R:void 0,onMouseLeave:O?D:d,ref:m,style:pD},f,ft.createElement(QUe,null))});are.displayName="Pane";function sre(e,t){const r=e.parentNode||e.parentId;if(!r)return!1;const n=t.get(r);return n?n.selected?!0:sre(n,t):!1}function kH(e,t,r){let n=e;do{if(n!=null&&n.matches(t))return!0;if(n===r.current)return!1;n=n.parentElement}while(n);return!1}function zUe(e,t,r,n){return Array.from(e.values()).filter(a=>(a.selected||a.id===n)&&(!a.parentNode||a.parentId||!sre(a,e))&&(a.draggable||t&&typeof a.draggable>"u")).map(a=>{var s,i;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:r.x-(((s=a.positionAbsolute)==null?void 0:s.x)??0),y:r.y-(((i=a.positionAbsolute)==null?void 0:i.y)??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}})}function $Ue(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function ire(e,t,r,n,a=[0,0],s){const i=$Ue(e,e.extent||n);let o=i;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const f=r.get(l),{x:m,y:p}=bv(f,a).positionAbsolute;o=f&&du(m)&&du(p)&&du(f.width)&&du(f.height)?[[m+e.width*a[0],p+e.height*a[1]],[m+f.width-e.width+e.width*a[0],p+f.height-e.height+e.height*a[1]]]:o}else s==null||s("005",If.error005()),o=i;else if(e.extent&&l&&e.extent!=="parent"){const f=r.get(l),{x:m,y:p}=bv(f,a).positionAbsolute;o=[[e.extent[0][0]+m,e.extent[0][1]+p],[e.extent[1][0]+m,e.extent[1][1]+p]]}let u={x:0,y:0};if(l){const f=r.get(l);u=bv(f,a).positionAbsolute}const d=o&&o!=="parent"?oD(t,o):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function Mk({nodeId:e,dragItems:t,nodeInternals:r}){const n=t.map(a=>({...r.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[e?n.find(a=>a.id===e):n[0],n]}const TH=(e,t,r,n)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const s=Array.from(a),i=t.getBoundingClientRect(),o={x:i.width*n[0],y:i.height*n[1]};return s.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-i.left-o.x)/r,y:(u.top-i.top-o.y)/r,...iD(l)}})};function I1(e,t,r){return r===void 0?r:n=>{const a=t().nodeInternals.get(e);a&&r(n,{...a})}}function Nj({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:a,unselectNodesAndEdges:s,multiSelectionActive:i,nodeInternals:o,onError:l}=t.getState(),u=o.get(e);if(!u){l==null||l("012",If.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&i)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=n==null?void 0:n.current)==null?void 0:d.blur()})):a([e])}function KUe(){const e=Ui();return k.useCallback(({sourceEvent:r})=>{const{transform:n,snapGrid:a,snapToGrid:s}=e.getState(),i=r.touches?r.touches[0].clientX:r.clientX,o=r.touches?r.touches[0].clientY:r.clientY,l={x:(i-n[0])/n[2],y:(o-n[1])/n[2]};return{xSnapped:s?a[0]*Math.round(l.x/a[0]):l.x,ySnapped:s?a[1]*Math.round(l.y/a[1]):l.y,...l}},[])}function Qk(e){return(t,r,n)=>e==null?void 0:e(t,n)}function ore({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:a,isSelectable:s,selectNodesOnDrag:i}){const o=Ui(),[l,u]=k.useState(!1),d=k.useRef([]),f=k.useRef({x:null,y:null}),m=k.useRef(0),p=k.useRef(null),x=k.useRef({x:0,y:0}),g=k.useRef(null),b=k.useRef(!1),y=k.useRef(!1),_=k.useRef(!1),S=KUe();return k.useEffect(()=>{if(e!=null&&e.current){const I=ou(e.current),T=({x:C,y:N})=>{const{nodeInternals:R,onNodeDrag:D,onSelectionDrag:O,updateNodePositions:M,nodeExtent:Q,snapGrid:ee,snapToGrid:W,nodeOrigin:Z,onError:V}=o.getState();f.current={x:C,y:N};let q=!1,K={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&Q){const P=fD(d.current,Z);K=lD(P)}if(d.current=d.current.map(P=>{const G={x:C-P.distance.x,y:N-P.distance.y};W&&(G.x=ee[0]*Math.round(G.x/ee[0]),G.y=ee[1]*Math.round(G.y/ee[1]));const Y=[[Q[0][0],Q[0][1]],[Q[1][0],Q[1][1]]];d.current.length>1&&Q&&!P.extent&&(Y[0][0]=P.positionAbsolute.x-K.x+Q[0][0],Y[1][0]=P.positionAbsolute.x+(P.width??0)-K.x2+Q[1][0],Y[0][1]=P.positionAbsolute.y-K.y+Q[0][1],Y[1][1]=P.positionAbsolute.y+(P.height??0)-K.y2+Q[1][1]);const re=ire(P,G,R,Y,Z,V);return q=q||P.position.x!==re.position.x||P.position.y!==re.position.y,P.position=re.position,P.positionAbsolute=re.positionAbsolute,P}),!q)return;M(d.current,!0,!0),u(!0);const J=a?D:Qk(O);if(J&&g.current){const[P,G]=Mk({nodeId:a,dragItems:d.current,nodeInternals:R});J(g.current,P,G)}},F=()=>{if(!p.current)return;const[C,N]=kte(x.current,p.current);if(C!==0||N!==0){const{transform:R,panBy:D}=o.getState();f.current.x=(f.current.x??0)-C/R[2],f.current.y=(f.current.y??0)-N/R[2],D({x:C,y:N})&&T(f.current)}m.current=requestAnimationFrame(F)},w=C=>{var Z;const{nodeInternals:N,multiSelectionActive:R,nodesDraggable:D,unselectNodesAndEdges:O,onNodeDragStart:M,onSelectionDragStart:Q}=o.getState();y.current=!0;const ee=a?M:Qk(Q);(!i||!s)&&!R&&a&&((Z=N.get(a))!=null&&Z.selected||O()),a&&s&&i&&Nj({id:a,store:o,nodeRef:e});const W=S(C);if(f.current=W,d.current=zUe(N,D,W,a),ee&&d.current){const[V,q]=Mk({nodeId:a,dragItems:d.current,nodeInternals:N});ee(C.sourceEvent,V,q)}};if(t)I.on(".drag",null);else{const C=XRe().on("start",N=>{const{domNode:R,nodeDragThreshold:D}=o.getState();D===0&&w(N),_.current=!1;const O=S(N);f.current=O,p.current=(R==null?void 0:R.getBoundingClientRect())||null,x.current=p0(N.sourceEvent,p.current)}).on("drag",N=>{var M,Q;const R=S(N),{autoPanOnNodeDrag:D,nodeDragThreshold:O}=o.getState();if(N.sourceEvent.type==="touchmove"&&N.sourceEvent.touches.length>1&&(_.current=!0),!_.current){if(!b.current&&y.current&&D&&(b.current=!0,F()),!y.current){const ee=R.xSnapped-(((M=f==null?void 0:f.current)==null?void 0:M.x)??0),W=R.ySnapped-(((Q=f==null?void 0:f.current)==null?void 0:Q.y)??0);Math.sqrt(ee*ee+W*W)>O&&w(N)}(f.current.x!==R.xSnapped||f.current.y!==R.ySnapped)&&d.current&&y.current&&(g.current=N.sourceEvent,x.current=p0(N.sourceEvent,p.current),T(R))}}).on("end",N=>{if(!(!y.current||_.current)&&(u(!1),b.current=!1,y.current=!1,cancelAnimationFrame(m.current),d.current)){const{updateNodePositions:R,nodeInternals:D,onNodeDragStop:O,onSelectionDragStop:M}=o.getState(),Q=a?O:Qk(M);if(R(d.current,!1,!1),Q){const[ee,W]=Mk({nodeId:a,dragItems:d.current,nodeInternals:D});Q(N.sourceEvent,ee,W)}}}).filter(N=>{const R=N.target;return!N.button&&(!r||!kH(R,`.${r}`,e))&&(!n||kH(R,n,e))});return I.call(C),()=>{I.on(".drag",null)}}}},[e,t,r,n,s,o,a,i,S]),l}function lre(){const e=Ui();return k.useCallback(r=>{const{nodeInternals:n,nodeExtent:a,updateNodePositions:s,getNodes:i,snapToGrid:o,snapGrid:l,onError:u,nodesDraggable:d}=e.getState(),f=i().filter(_=>_.selected&&(_.draggable||d&&typeof _.draggable>"u")),m=o?l[0]:5,p=o?l[1]:5,x=r.isShiftPressed?4:1,g=r.x*m*x,b=r.y*p*x,y=f.map(_=>{if(_.positionAbsolute){const S={x:_.positionAbsolute.x+g,y:_.positionAbsolute.y+b};o&&(S.x=l[0]*Math.round(S.x/l[0]),S.y=l[1]*Math.round(S.y/l[1]));const{positionAbsolute:I,position:T}=ire(_,S,n,a,void 0,u);_.position=T,_.positionAbsolute=I}return _});s(y,!0,!1)},[])}const yv={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var j1=e=>{const t=({id:r,type:n,data:a,xPos:s,yPos:i,xPosOrigin:o,yPosOrigin:l,selected:u,onClick:d,onMouseEnter:f,onMouseMove:m,onMouseLeave:p,onContextMenu:x,onDoubleClick:g,style:b,className:y,isDraggable:_,isSelectable:S,isConnectable:I,isFocusable:T,selectNodesOnDrag:F,sourcePosition:w,targetPosition:C,hidden:N,resizeObserver:R,dragHandle:D,zIndex:O,isParent:M,noDragClassName:Q,noPanClassName:ee,initialized:W,disableKeyboardA11y:Z,ariaLabel:V,rfId:q,hasHandleBounds:K})=>{const J=Ui(),P=k.useRef(null),G=k.useRef(null),Y=k.useRef(w),re=k.useRef(C),ie=k.useRef(n),de=S||_||d||f||m||p,me=lre(),ue=I1(r,J.getState,f),ye=I1(r,J.getState,m),Ie=I1(r,J.getState,p),ne=I1(r,J.getState,x),Fe=I1(r,J.getState,g),Le=je=>{const{nodeDragThreshold:He}=J.getState();if(S&&(!F||!_||He>0)&&Nj({id:r,store:J,nodeRef:P}),d){const Xe=J.getState().nodeInternals.get(r);Xe&&d(je,{...Xe})}},ke=je=>{if(!wj(je)&&!Z)if(Ite.includes(je.key)&&S){const He=je.key==="Escape";Nj({id:r,store:J,unselect:He,nodeRef:P})}else _&&u&&Object.prototype.hasOwnProperty.call(yv,je.key)&&(J.setState({ariaLiveMessage:`Moved selected node ${je.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~i}`}),me({x:yv[je.key].x,y:yv[je.key].y,isShiftPressed:je.shiftKey}))};k.useEffect(()=>()=>{G.current&&(R==null||R.unobserve(G.current),G.current=null)},[]),k.useEffect(()=>{if(P.current&&!N){const je=P.current;(!W||!K||G.current!==je)&&(G.current&&(R==null||R.unobserve(G.current)),R==null||R.observe(je),G.current=je)}},[N,W,K]),k.useEffect(()=>{const je=ie.current!==n,He=Y.current!==w,Xe=re.current!==C;P.current&&(je||He||Xe)&&(je&&(ie.current=n),He&&(Y.current=w),Xe&&(re.current=C),J.getState().updateNodeDimensions([{id:r,nodeElement:P.current,forceUpdate:!0}]))},[r,n,w,C]);const pe=ore({nodeRef:P,disabled:N||!_,noDragClassName:Q,handleSelector:D,nodeId:r,isSelectable:S,selectNodesOnDrag:F});return N?null:ft.createElement("div",{className:ol(["react-flow__node",`react-flow__node-${n}`,{[ee]:_},y,{selected:u,selectable:S,parent:M,dragging:pe}]),ref:P,style:{zIndex:O,transform:`translate(${o}px,${l}px)`,pointerEvents:de?"all":"none",visibility:W?"visible":"hidden",...b},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:ue,onMouseMove:ye,onMouseLeave:Ie,onContextMenu:ne,onClick:Le,onDoubleClick:Fe,onKeyDown:T?ke:void 0,tabIndex:T?0:void 0,role:T?"button":void 0,"aria-describedby":Z?void 0:`${Yte}-${q}`,"aria-label":V},ft.createElement(iUe,{value:r},ft.createElement(e,{id:r,data:a,type:n,xPos:s,yPos:i,selected:u,isConnectable:I,sourcePosition:w,targetPosition:C,dragging:pe,dragHandle:D,zIndex:O})))};return t.displayName="NodeWrapper",k.memo(t)};const GUe=e=>{const t=e.getNodes().filter(r=>r.selected);return{...fD(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function qUe({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=Ui(),{width:a,height:s,x:i,y:o,transformString:l,userSelectionActive:u}=Ja(GUe,Ho),d=lre(),f=k.useRef(null);if(k.useEffect(()=>{var x;r||(x=f.current)==null||x.focus({preventScroll:!0})},[r]),ore({nodeRef:f}),u||!a||!s)return null;const m=e?x=>{const g=n.getState().getNodes().filter(b=>b.selected);e(x,g)}:void 0,p=x=>{Object.prototype.hasOwnProperty.call(yv,x.key)&&d({x:yv[x.key].x,y:yv[x.key].y,isShiftPressed:x.shiftKey})};return ft.createElement("div",{className:ol(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},ft.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:r?void 0:-1,onKeyDown:r?void 0:p,style:{width:a,height:s,top:o,left:i}}))}var WUe=k.memo(qUe);const XUe=e=>e.nodesSelectionActive,cre=({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:i,deleteKeyCode:o,onMove:l,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:m,selectionMode:p,onSelectionStart:x,onSelectionEnd:g,multiSelectionKeyCode:b,panActivationKeyCode:y,zoomActivationKeyCode:_,elementsSelectable:S,zoomOnScroll:I,zoomOnPinch:T,panOnScroll:F,panOnScrollSpeed:w,panOnScrollMode:C,zoomOnDoubleClick:N,panOnDrag:R,defaultViewport:D,translateExtent:O,minZoom:M,maxZoom:Q,preventScrolling:ee,onSelectionContextMenu:W,noWheelClassName:Z,noPanClassName:V,disableKeyboardA11y:q})=>{const K=Ja(XUe),J=Ey(f),P=Ey(y),G=P||R,Y=P||F,re=J||m&&G!==!0;return DUe({deleteKeyCode:o,multiSelectionKeyCode:b}),ft.createElement(UUe,{onMove:l,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:s,elementsSelectable:S,zoomOnScroll:I,zoomOnPinch:T,panOnScroll:Y,panOnScrollSpeed:w,panOnScrollMode:C,zoomOnDoubleClick:N,panOnDrag:!J&&G,defaultViewport:D,translateExtent:O,minZoom:M,maxZoom:Q,zoomActivationKeyCode:_,preventScrolling:ee,noWheelClassName:Z,noPanClassName:V},ft.createElement(are,{onSelectionStart:x,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:i,panOnDrag:G,isSelecting:!!re,selectionMode:p},e,K&&ft.createElement(WUe,{onSelectionContextMenu:W,noPanClassName:V,disableKeyboardA11y:q})))};cre.displayName="FlowRenderer";var YUe=k.memo(cre);function JUe(e){return Ja(k.useCallback(r=>e?Lte(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}function ZUe(e){const t={input:j1(e.input||Gte),default:j1(e.default||Sj),output:j1(e.output||Wte),group:j1(e.group||mD)},r={},n=Object.keys(e).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,s)=>(a[s]=j1(e[s]||Sj),a),r);return{...t,...n}}const eMe=({x:e,y:t,width:r,height:n,origin:a})=>!r||!n?{x:e,y:t}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:e,y:t}:{x:e-r*a[0],y:t-n*a[1]},tMe=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),ure=e=>{const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,updateNodeDimensions:s,onError:i}=Ja(tMe,Ho),o=JUe(e.onlyRenderVisibleElements),l=k.useRef(),u=k.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const m=f.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));s(m)});return l.current=d,d},[]);return k.useEffect(()=>()=>{var d;(d=l==null?void 0:l.current)==null||d.disconnect()},[]),ft.createElement("div",{className:"react-flow__nodes",style:pD},o.map(d=>{var T,F,w;let f=d.type||"default";e.nodeTypes[f]||(i==null||i("003",If.error003(f)),f="default");const m=e.nodeTypes[f]||e.nodeTypes.default,p=!!(d.draggable||t&&typeof d.draggable>"u"),x=!!(d.selectable||a&&typeof d.selectable>"u"),g=!!(d.connectable||r&&typeof d.connectable>"u"),b=!!(d.focusable||n&&typeof d.focusable>"u"),y=e.nodeExtent?oD(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,_=(y==null?void 0:y.x)??0,S=(y==null?void 0:y.y)??0,I=eMe({x:_,y:S,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return ft.createElement(m,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||gr.Bottom,targetPosition:d.targetPosition||gr.Top,hidden:d.hidden,xPos:_,yPos:S,xPosOrigin:I.x,yPosOrigin:I.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:p,isSelectable:x,isConnectable:g,isFocusable:b,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((T=d[ms])==null?void 0:T.z)??0,isParent:!!((F=d[ms])!=null&&F.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((w=d[ms])!=null&&w.handleBounds)})}))};ure.displayName="NodeRenderer";var rMe=k.memo(ure);const nMe=(e,t,r)=>r===gr.Left?e-t:r===gr.Right?e+t:e,aMe=(e,t,r)=>r===gr.Top?e-t:r===gr.Bottom?e+t:e,IH="react-flow__edgeupdater",jH=({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:a,onMouseEnter:s,onMouseOut:i,type:o})=>ft.createElement("circle",{onMouseDown:a,onMouseEnter:s,onMouseOut:i,className:ol([IH,`${IH}-${o}`]),cx:nMe(t,n,e),cy:aMe(r,n,e),r:n,stroke:"transparent",fill:"transparent"}),sMe=()=>!0;var kg=e=>{const t=({id:r,className:n,type:a,data:s,onClick:i,onEdgeDoubleClick:o,selected:l,animated:u,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:x,labelBgBorderRadius:g,style:b,source:y,target:_,sourceX:S,sourceY:I,targetX:T,targetY:F,sourcePosition:w,targetPosition:C,elementsSelectable:N,hidden:R,sourceHandleId:D,targetHandleId:O,onContextMenu:M,onMouseEnter:Q,onMouseMove:ee,onMouseLeave:W,reconnectRadius:Z,onReconnect:V,onReconnectStart:q,onReconnectEnd:K,markerEnd:J,markerStart:P,rfId:G,ariaLabel:Y,isFocusable:re,isReconnectable:ie,pathOptions:de,interactionWidth:me,disableKeyboardA11y:ue})=>{const ye=k.useRef(null),[Ie,ne]=k.useState(!1),[Fe,Le]=k.useState(!1),ke=Ui(),pe=k.useMemo(()=>`url('#${Cj(P,G)}')`,[P,G]),je=k.useMemo(()=>`url('#${Cj(J,G)}')`,[J,G]);if(R)return null;const He=Be=>{var Vr;const{edges:ot,addSelectedEdges:vt,unselectNodesAndEdges:ur,multiSelectionActive:Gt}=ke.getState(),Rt=ot.find(dr=>dr.id===r);Rt&&(N&&(ke.setState({nodesSelectionActive:!1}),Rt.selected&&Gt?(ur({nodes:[],edges:[Rt]}),(Vr=ye.current)==null||Vr.blur()):vt([r])),i&&i(Be,Rt))},Xe=T1(r,ke.getState,o),dt=T1(r,ke.getState,M),Et=T1(r,ke.getState,Q),Tt=T1(r,ke.getState,ee),Ct=T1(r,ke.getState,W),Dt=(Be,ot)=>{if(Be.button!==0)return;const{edges:vt,isValidConnection:ur}=ke.getState(),Gt=ot?_:y,Rt=(ot?O:D)||null,Vr=ot?"target":"source",dr=ur||sMe,yn=ot,Qr=vt.find(or=>or.id===r);Le(!0),q==null||q(Be,Qr,Vr);const kn=or=>{Le(!1),K==null||K(or,Qr,Vr)};Vte({event:Be,handleId:Rt,nodeId:Gt,onConnect:or=>V==null?void 0:V(Qr,or),isTarget:yn,getState:ke.getState,setState:ke.setState,isValidConnection:dr,edgeUpdaterType:Vr,onReconnectEnd:kn})},Jt=Be=>Dt(Be,!0),Pt=Be=>Dt(Be,!1),Mt=()=>ne(!0),Wt=()=>ne(!1),De=!N&&!i,Pe=Be=>{var ot;if(!ue&&Ite.includes(Be.key)&&N){const{unselectNodesAndEdges:vt,addSelectedEdges:ur,edges:Gt}=ke.getState();Be.key==="Escape"?((ot=ye.current)==null||ot.blur(),vt({edges:[Gt.find(Vr=>Vr.id===r)]})):ur([r])}};return ft.createElement("g",{className:ol(["react-flow__edge",`react-flow__edge-${a}`,n,{selected:l,animated:u,inactive:De,updating:Ie}]),onClick:He,onDoubleClick:Xe,onContextMenu:dt,onMouseEnter:Et,onMouseMove:Tt,onMouseLeave:Ct,onKeyDown:re?Pe:void 0,tabIndex:re?0:void 0,role:re?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":Y===null?void 0:Y||`Edge from ${y} to ${_}`,"aria-describedby":re?`${Jte}-${G}`:void 0,ref:ye},!Fe&&ft.createElement(e,{id:r,source:y,target:_,selected:l,animated:u,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:x,labelBgBorderRadius:g,data:s,style:b,sourceX:S,sourceY:I,targetX:T,targetY:F,sourcePosition:w,targetPosition:C,sourceHandleId:D,targetHandleId:O,markerStart:pe,markerEnd:je,pathOptions:de,interactionWidth:me}),ie&&ft.createElement(ft.Fragment,null,(ie==="source"||ie===!0)&&ft.createElement(jH,{position:w,centerX:S,centerY:I,radius:Z,onMouseDown:Jt,onMouseEnter:Mt,onMouseOut:Wt,type:"source"}),(ie==="target"||ie===!0)&&ft.createElement(jH,{position:C,centerX:T,centerY:F,radius:Z,onMouseDown:Pt,onMouseEnter:Mt,onMouseOut:Wt,type:"target"})))};return t.displayName="EdgeWrapper",k.memo(t)};function iMe(e){const t={default:kg(e.default||Y_),straight:kg(e.bezier||dD),step:kg(e.step||uD),smoothstep:kg(e.step||tN),simplebezier:kg(e.simplebezier||cD)},r={},n=Object.keys(e).filter(a=>!["default","bezier"].includes(a)).reduce((a,s)=>(a[s]=kg(e[s]||Y_),a),r);return{...t,...n}}function FH(e,t,r=null){const n=((r==null?void 0:r.x)||0)+t.x,a=((r==null?void 0:r.y)||0)+t.y,s=(r==null?void 0:r.width)||t.width,i=(r==null?void 0:r.height)||t.height;switch(e){case gr.Top:return{x:n+s/2,y:a};case gr.Right:return{x:n+s,y:a+i/2};case gr.Bottom:return{x:n+s/2,y:a+i};case gr.Left:return{x:n,y:a+i/2}}}function OH(e,t){return e?e.length===1||!t?e[0]:t&&e.find(r=>r.id===t)||null:null}const oMe=(e,t,r,n,a,s)=>{const i=FH(r,e,t),o=FH(s,n,a);return{sourceX:i.x,sourceY:i.y,targetX:o.x,targetY:o.y}};function lMe({sourcePos:e,targetPos:t,sourceWidth:r,sourceHeight:n,targetWidth:a,targetHeight:s,width:i,height:o,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+r,t.x+a),y2:Math.max(e.y+n,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=lD({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:i/l[2],height:o/l[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),m=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*m)>0}function DH(e){var n,a,s,i,o;const t=((n=e==null?void 0:e[ms])==null?void 0:n.handleBounds)||null,r=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)||0,y:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!r]}const cMe=[{level:0,isMaxLevel:!0,edges:[]}];function uMe(e,t,r=!1){let n=-1;const a=e.reduce((i,o)=>{var d,f;const l=du(o.zIndex);let u=l?o.zIndex:0;if(r){const m=t.get(o.target),p=t.get(o.source),x=o.selected||(m==null?void 0:m.selected)||(p==null?void 0:p.selected),g=Math.max(((d=p==null?void 0:p[ms])==null?void 0:d.z)||0,((f=m==null?void 0:m[ms])==null?void 0:f.z)||0,1e3);u=(l?o.zIndex:0)+(x?g:0)}return i[u]?i[u].push(o):i[u]=[o],n=u>n?u:n,i},{}),s=Object.entries(a).map(([i,o])=>{const l=+i;return{edges:o,level:l,isMaxLevel:l===n}});return s.length===0?cMe:s}function dMe(e,t,r){const n=Ja(k.useCallback(a=>e?a.edges.filter(s=>{const i=t.get(s.source),o=t.get(s.target);return(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&lMe({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:o.width,targetHeight:o.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[e,t]));return uMe(n,t,r)}const AMe=({color:e="none",strokeWidth:t=1})=>ft.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),fMe=({color:e="none",strokeWidth:t=1})=>ft.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),PH={[X_.Arrow]:AMe,[X_.ArrowClosed]:fMe};function hMe(e){const t=Ui();return k.useMemo(()=>{var a,s;return Object.prototype.hasOwnProperty.call(PH,e)?PH[e]:((s=(a=t.getState()).onError)==null||s.call(a,"009",If.error009(e)),null)},[e])}const mMe=({id:e,type:t,color:r,width:n=12.5,height:a=12.5,markerUnits:s="strokeWidth",strokeWidth:i,orient:o="auto-start-reverse"})=>{const l=hMe(t);return l?ft.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:o,refX:"0",refY:"0"},ft.createElement(l,{color:r,strokeWidth:i})):null},pMe=({defaultColor:e,rfId:t})=>r=>{const n=[];return r.edges.reduce((a,s)=>([s.markerStart,s.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const o=Cj(i,t);n.includes(o)||(a.push({id:o,color:i.color||e,...i}),n.push(o))}}),a),[]).sort((a,s)=>a.id.localeCompare(s.id))},dre=({defaultColor:e,rfId:t})=>{const r=Ja(k.useCallback(pMe({defaultColor:e,rfId:t}),[e,t]),(n,a)=>!(n.length!==a.length||n.some((s,i)=>s.id!==a[i].id)));return ft.createElement("defs",null,r.map(n=>ft.createElement(mMe,{id:n.id,key:n.id,type:n.type,color:n.color,width:n.width,height:n.height,markerUnits:n.markerUnits,strokeWidth:n.strokeWidth,orient:n.orient})))};dre.displayName="MarkerDefinitions";var gMe=k.memo(dre);const vMe=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Are=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:r,rfId:n,edgeTypes:a,noPanClassName:s,onEdgeContextMenu:i,onEdgeMouseEnter:o,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:m,onReconnectStart:p,onReconnectEnd:x,reconnectRadius:g,children:b,disableKeyboardA11y:y})=>{const{edgesFocusable:_,edgesUpdatable:S,elementsSelectable:I,width:T,height:F,connectionMode:w,nodeInternals:C,onError:N}=Ja(vMe,Ho),R=dMe(t,C,r);return T?ft.createElement(ft.Fragment,null,R.map(({level:D,edges:O,isMaxLevel:M})=>ft.createElement("svg",{key:D,style:{zIndex:D},width:T,height:F,className:"react-flow__edges react-flow__container"},M&&ft.createElement(gMe,{defaultColor:e,rfId:n}),ft.createElement("g",null,O.map(Q=>{const[ee,W,Z]=DH(C.get(Q.source)),[V,q,K]=DH(C.get(Q.target));if(!Z||!K)return null;let J=Q.type||"default";a[J]||(N==null||N("011",If.error011(J)),J="default");const P=a[J]||a.default,G=w===xp.Strict?q.target:(q.target??[]).concat(q.source??[]),Y=OH(W.source,Q.sourceHandle),re=OH(G,Q.targetHandle),ie=(Y==null?void 0:Y.position)||gr.Bottom,de=(re==null?void 0:re.position)||gr.Top,me=!!(Q.focusable||_&&typeof Q.focusable>"u"),ue=Q.reconnectable||Q.updatable,ye=typeof m<"u"&&(ue||S&&typeof ue>"u");if(!Y||!re)return N==null||N("008",If.error008(Y,Q)),null;const{sourceX:Ie,sourceY:ne,targetX:Fe,targetY:Le}=oMe(ee,Y,ie,V,re,de);return ft.createElement(P,{key:Q.id,id:Q.id,className:ol([Q.className,s]),type:J,data:Q.data,selected:!!Q.selected,animated:!!Q.animated,hidden:!!Q.hidden,label:Q.label,labelStyle:Q.labelStyle,labelShowBg:Q.labelShowBg,labelBgStyle:Q.labelBgStyle,labelBgPadding:Q.labelBgPadding,labelBgBorderRadius:Q.labelBgBorderRadius,style:Q.style,source:Q.source,target:Q.target,sourceHandleId:Q.sourceHandle,targetHandleId:Q.targetHandle,markerEnd:Q.markerEnd,markerStart:Q.markerStart,sourceX:Ie,sourceY:ne,targetX:Fe,targetY:Le,sourcePosition:ie,targetPosition:de,elementsSelectable:I,onContextMenu:i,onMouseEnter:o,onMouseMove:l,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:m,onReconnectStart:p,onReconnectEnd:x,reconnectRadius:g,rfId:n,ariaLabel:Q.ariaLabel,isFocusable:me,isReconnectable:ye,pathOptions:"pathOptions"in Q?Q.pathOptions:void 0,interactionWidth:Q.interactionWidth,disableKeyboardA11y:y})})))),b):null};Are.displayName="EdgeRenderer";var xMe=k.memo(Are);const bMe=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function yMe({children:e}){const t=Ja(bMe);return ft.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function wMe(e){const t=rN(),r=k.useRef(!1);k.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const EMe={[gr.Left]:gr.Right,[gr.Right]:gr.Left,[gr.Top]:gr.Bottom,[gr.Bottom]:gr.Top},fre=({nodeId:e,handleType:t,style:r,type:n=Yh.Bezier,CustomComponent:a,connectionStatus:s})=>{var F,w,C;const{fromNode:i,handleId:o,toX:l,toY:u,connectionMode:d}=Ja(k.useCallback(N=>({fromNode:N.nodeInternals.get(e),handleId:N.connectionHandleId,toX:(N.connectionPosition.x-N.transform[0])/N.transform[2],toY:(N.connectionPosition.y-N.transform[1])/N.transform[2],connectionMode:N.connectionMode}),[e]),Ho),f=(F=i==null?void 0:i[ms])==null?void 0:F.handleBounds;let m=f==null?void 0:f[t];if(d===xp.Loose&&(m=m||(f==null?void 0:f[t==="source"?"target":"source"])),!i||!m)return null;const p=o?m.find(N=>N.id===o):m[0],x=p?p.x+p.width/2:(i.width??0)/2,g=p?p.y+p.height/2:i.height??0,b=(((w=i.positionAbsolute)==null?void 0:w.x)??0)+x,y=(((C=i.positionAbsolute)==null?void 0:C.y)??0)+g,_=p==null?void 0:p.position,S=_?EMe[_]:null;if(!_||!S)return null;if(a)return ft.createElement(a,{connectionLineType:n,connectionLineStyle:r,fromNode:i,fromHandle:p,fromX:b,fromY:y,toX:l,toY:u,fromPosition:_,toPosition:S,connectionStatus:s});let I="";const T={sourceX:b,sourceY:y,sourcePosition:_,targetX:l,targetY:u,targetPosition:S};return n===Yh.Bezier?[I]=Pte(T):n===Yh.Step?[I]=Ej({...T,borderRadius:0}):n===Yh.SmoothStep?[I]=Ej(T):n===Yh.SimpleBezier?[I]=Dte(T):I=`M${b},${y} ${l},${u}`,ft.createElement("path",{d:I,fill:"none",className:"react-flow__connection-path",style:r})};fre.displayName="ConnectionLine";const CMe=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function _Me({containerStyle:e,style:t,type:r,component:n}){const{nodeId:a,handleType:s,nodesConnectable:i,width:o,height:l,connectionStatus:u}=Ja(CMe,Ho);return!(a&&s&&o&&i)?null:ft.createElement("svg",{style:e,width:o,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},ft.createElement("g",{className:ol(["react-flow__connection",u])},ft.createElement(fre,{nodeId:a,handleType:s,style:t,type:r,CustomComponent:n,connectionStatus:u})))}function RH(e,t){return k.useRef(null),Ui(),k.useMemo(()=>t(e),[e])}const hre=({nodeTypes:e,edgeTypes:t,onMove:r,onMoveStart:n,onMoveEnd:a,onInit:s,onNodeClick:i,onEdgeClick:o,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:m,onNodeContextMenu:p,onSelectionContextMenu:x,onSelectionStart:g,onSelectionEnd:b,connectionLineType:y,connectionLineStyle:_,connectionLineComponent:S,connectionLineContainerStyle:I,selectionKeyCode:T,selectionOnDrag:F,selectionMode:w,multiSelectionKeyCode:C,panActivationKeyCode:N,zoomActivationKeyCode:R,deleteKeyCode:D,onlyRenderVisibleElements:O,elementsSelectable:M,selectNodesOnDrag:Q,defaultViewport:ee,translateExtent:W,minZoom:Z,maxZoom:V,preventScrolling:q,defaultMarkerColor:K,zoomOnScroll:J,zoomOnPinch:P,panOnScroll:G,panOnScrollSpeed:Y,panOnScrollMode:re,zoomOnDoubleClick:ie,panOnDrag:de,onPaneClick:me,onPaneMouseEnter:ue,onPaneMouseMove:ye,onPaneMouseLeave:Ie,onPaneScroll:ne,onPaneContextMenu:Fe,onEdgeContextMenu:Le,onEdgeMouseEnter:ke,onEdgeMouseMove:pe,onEdgeMouseLeave:je,onReconnect:He,onReconnectStart:Xe,onReconnectEnd:dt,reconnectRadius:Et,noDragClassName:Tt,noWheelClassName:Ct,noPanClassName:Dt,elevateEdgesOnSelect:Jt,disableKeyboardA11y:Pt,nodeOrigin:Mt,nodeExtent:Wt,rfId:De})=>{const Pe=RH(e,ZUe),Be=RH(t,iMe);return wMe(s),ft.createElement(YUe,{onPaneClick:me,onPaneMouseEnter:ue,onPaneMouseMove:ye,onPaneMouseLeave:Ie,onPaneContextMenu:Fe,onPaneScroll:ne,deleteKeyCode:D,selectionKeyCode:T,selectionOnDrag:F,selectionMode:w,onSelectionStart:g,onSelectionEnd:b,multiSelectionKeyCode:C,panActivationKeyCode:N,zoomActivationKeyCode:R,elementsSelectable:M,onMove:r,onMoveStart:n,onMoveEnd:a,zoomOnScroll:J,zoomOnPinch:P,zoomOnDoubleClick:ie,panOnScroll:G,panOnScrollSpeed:Y,panOnScrollMode:re,panOnDrag:de,defaultViewport:ee,translateExtent:W,minZoom:Z,maxZoom:V,onSelectionContextMenu:x,preventScrolling:q,noDragClassName:Tt,noWheelClassName:Ct,noPanClassName:Dt,disableKeyboardA11y:Pt},ft.createElement(yMe,null,ft.createElement(xMe,{edgeTypes:Be,onEdgeClick:o,onEdgeDoubleClick:u,onlyRenderVisibleElements:O,onEdgeContextMenu:Le,onEdgeMouseEnter:ke,onEdgeMouseMove:pe,onEdgeMouseLeave:je,onReconnect:He,onReconnectStart:Xe,onReconnectEnd:dt,reconnectRadius:Et,defaultMarkerColor:K,noPanClassName:Dt,elevateEdgesOnSelect:!!Jt,disableKeyboardA11y:Pt,rfId:De},ft.createElement(_Me,{style:_,type:y,component:S,containerStyle:I})),ft.createElement("div",{className:"react-flow__edgelabel-renderer"}),ft.createElement(rMe,{nodeTypes:Pe,onNodeClick:i,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:m,onNodeContextMenu:p,selectNodesOnDrag:Q,onlyRenderVisibleElements:O,noPanClassName:Dt,noDragClassName:Tt,disableKeyboardA11y:Pt,nodeOrigin:Mt,nodeExtent:Wt,rfId:De})))};hre.displayName="GraphView";var SMe=k.memo(hre);const Bj=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Dh={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Bj,nodeExtent:Bj,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:xp.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:eUe,isValidConnection:void 0},NMe=()=>lPe((e,t)=>({...Dh,setNodes:r=>{const{nodeInternals:n,nodeOrigin:a,elevateNodesOnSelect:s}=t();e({nodeInternals:Lk(r,n,a,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:n={}}=t();e({edges:r.map(a=>({...n,...a}))})},setDefaultNodesAndEdges:(r,n)=>{const a=typeof r<"u",s=typeof n<"u",i=a?Lk(r,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:s?n:[],hasDefaultNodes:a,hasDefaultEdges:s})},updateNodeDimensions:r=>{const{onNodesChange:n,nodeInternals:a,fitViewOnInit:s,fitViewOnInitDone:i,fitViewOnInitOptions:o,domNode:l,nodeOrigin:u}=t(),d=l==null?void 0:l.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:m}=new window.DOMMatrixReadOnly(f.transform),p=r.reduce((g,b)=>{const y=a.get(b.id);if(y!=null&&y.hidden)a.set(y.id,{...y,[ms]:{...y[ms],handleBounds:void 0}});else if(y){const _=iD(b.nodeElement);!!(_.width&&_.height&&(y.width!==_.width||y.height!==_.height||b.forceUpdate))&&(a.set(y.id,{...y,[ms]:{...y[ms],handleBounds:{source:TH(".source",b.nodeElement,m,u),target:TH(".target",b.nodeElement,m,u)}},..._}),g.push({id:y.id,type:"dimensions",dimensions:_}))}return g},[]);ere(a,u);const x=i||s&&!i&&tre(t,{initial:!0,...o});e({nodeInternals:new Map(a),fitViewOnInitDone:x}),(p==null?void 0:p.length)>0&&(n==null||n(p))},updateNodePositions:(r,n=!0,a=!1)=>{const{triggerNodeChanges:s}=t(),i=r.map(o=>{const l={id:o.id,type:"position",dragging:a};return n&&(l.positionAbsolute=o.positionAbsolute,l.position=o.position),l});s(i)},triggerNodeChanges:r=>{const{onNodesChange:n,nodeInternals:a,hasDefaultNodes:s,nodeOrigin:i,getNodes:o,elevateNodesOnSelect:l}=t();if(r!=null&&r.length){if(s){const u=nre(r,o()),d=Lk(u,a,i,l);e({nodeInternals:d})}n==null||n(r)}},addSelectedNodes:r=>{const{multiSelectionActive:n,edges:a,getNodes:s}=t();let i,o=null;n?i=r.map(l=>Vh(l,!0)):(i=Yg(s(),r),o=Yg(a,[])),FE({changedNodes:i,changedEdges:o,get:t,set:e})},addSelectedEdges:r=>{const{multiSelectionActive:n,edges:a,getNodes:s}=t();let i,o=null;n?i=r.map(l=>Vh(l,!0)):(i=Yg(a,r),o=Yg(s(),[])),FE({changedNodes:o,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:({nodes:r,edges:n}={})=>{const{edges:a,getNodes:s}=t(),i=r||s(),o=n||a,l=i.map(d=>(d.selected=!1,Vh(d.id,!1))),u=o.map(d=>Vh(d.id,!1));FE({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:r=>{const{d3Zoom:n,maxZoom:a}=t();n==null||n.scaleExtent([r,a]),e({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:n,minZoom:a}=t();n==null||n.scaleExtent([a,r]),e({maxZoom:r})},setTranslateExtent:r=>{var n;(n=t().d3Zoom)==null||n.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:n}=t(),s=n().filter(o=>o.selected).map(o=>Vh(o.id,!1)),i=r.filter(o=>o.selected).map(o=>Vh(o.id,!1));FE({changedNodes:s,changedEdges:i,get:t,set:e})},setNodeExtent:r=>{const{nodeInternals:n}=t();n.forEach(a=>{a.positionAbsolute=oD(a.position,r)}),e({nodeExtent:r,nodeInternals:new Map(n)})},panBy:r=>{const{transform:n,width:a,height:s,d3Zoom:i,d3Selection:o,translateExtent:l}=t();if(!i||!o||!r.x&&!r.y)return!1;const u=m0.translate(n[0]+r.x,n[1]+r.y).scale(n[2]),d=[[0,0],[a,s]],f=i==null?void 0:i.constrain()(u,d,l);return i.transform(o,f),n[0]!==f.x||n[1]!==f.y||n[2]!==f.k},cancelConnection:()=>e({connectionNodeId:Dh.connectionNodeId,connectionHandleId:Dh.connectionHandleId,connectionHandleType:Dh.connectionHandleType,connectionStatus:Dh.connectionStatus,connectionStartHandle:Dh.connectionStartHandle,connectionEndHandle:Dh.connectionEndHandle}),reset:()=>e({...Dh})}),Object.is),gD=({children:e})=>{const t=k.useRef(null);return t.current||(t.current=NMe()),ft.createElement(K8e,{value:t.current},e)};gD.displayName="ReactFlowProvider";const mre=({children:e})=>k.useContext(eN)?ft.createElement(ft.Fragment,null,e):ft.createElement(gD,null,e);mre.displayName="ReactFlowWrapper";const BMe={input:Gte,default:Sj,output:Wte,group:mD},kMe={default:Y_,straight:dD,step:uD,smoothstep:tN,simplebezier:cD},TMe=[0,0],IMe=[15,15],jMe={x:0,y:0,zoom:1},FMe={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},pre=k.forwardRef(({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:a,nodeTypes:s=BMe,edgeTypes:i=kMe,onNodeClick:o,onEdgeClick:l,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:m,onConnect:p,onConnectStart:x,onConnectEnd:g,onClickConnectStart:b,onClickConnectEnd:y,onNodeMouseEnter:_,onNodeMouseMove:S,onNodeMouseLeave:I,onNodeContextMenu:T,onNodeDoubleClick:F,onNodeDragStart:w,onNodeDrag:C,onNodeDragStop:N,onNodesDelete:R,onEdgesDelete:D,onSelectionChange:O,onSelectionDragStart:M,onSelectionDrag:Q,onSelectionDragStop:ee,onSelectionContextMenu:W,onSelectionStart:Z,onSelectionEnd:V,connectionMode:q=xp.Strict,connectionLineType:K=Yh.Bezier,connectionLineStyle:J,connectionLineComponent:P,connectionLineContainerStyle:G,deleteKeyCode:Y="Backspace",selectionKeyCode:re="Shift",selectionOnDrag:ie=!1,selectionMode:de=wy.Full,panActivationKeyCode:me="Space",multiSelectionKeyCode:ue=W_()?"Meta":"Control",zoomActivationKeyCode:ye=W_()?"Meta":"Control",snapToGrid:Ie=!1,snapGrid:ne=IMe,onlyRenderVisibleElements:Fe=!1,selectNodesOnDrag:Le=!0,nodesDraggable:ke,nodesConnectable:pe,nodesFocusable:je,nodeOrigin:He=TMe,edgesFocusable:Xe,edgesUpdatable:dt,elementsSelectable:Et,defaultViewport:Tt=jMe,minZoom:Ct=.5,maxZoom:Dt=2,translateExtent:Jt=Bj,preventScrolling:Pt=!0,nodeExtent:Mt,defaultMarkerColor:Wt="#b1b1b7",zoomOnScroll:De=!0,zoomOnPinch:Pe=!0,panOnScroll:Be=!1,panOnScrollSpeed:ot=.5,panOnScrollMode:vt=Rm.Free,zoomOnDoubleClick:ur=!0,panOnDrag:Gt=!0,onPaneClick:Rt,onPaneMouseEnter:Vr,onPaneMouseMove:dr,onPaneMouseLeave:yn,onPaneScroll:Qr,onPaneContextMenu:kn,children:Zn,onEdgeContextMenu:or,onEdgeDoubleClick:Zt,onEdgeMouseEnter:Kr,onEdgeMouseMove:Ls,onEdgeMouseLeave:ua,onEdgeUpdate:Ha,onEdgeUpdateStart:ai,onEdgeUpdateEnd:qt,onReconnect:wn,onReconnectStart:An,onReconnectEnd:Vn,reconnectRadius:ea=10,edgeUpdaterRadius:da=10,onNodesChange:Ae,onEdgesChange:Se,noDragClassName:we="nodrag",noWheelClassName:Ee="nowheel",noPanClassName:Ce="nopan",fitView:Ne=!1,fitViewOptions:We,connectOnClick:st=!0,attributionPosition:$e,proOptions:Je,defaultEdgeOptions:tt,elevateNodesOnSelect:wt=!0,elevateEdgesOnSelect:Ot=!1,disableKeyboardA11y:Vt=!1,autoPanOnConnect:jt=!0,autoPanOnNodeDrag:Lt=!0,connectionRadius:yr=20,isValidConnection:Wr,onError:Xr,style:en,id:ts,nodeDragThreshold:oo,...rs},Us)=>{const ys=ts||"1";return ft.createElement("div",{...rs,style:{...en,...FMe},ref:Us,className:ol(["react-flow",a]),"data-testid":"rf__wrapper",id:ts},ft.createElement(mre,null,ft.createElement(SMe,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:m,onNodeClick:o,onEdgeClick:l,onNodeMouseEnter:_,onNodeMouseMove:S,onNodeMouseLeave:I,onNodeContextMenu:T,onNodeDoubleClick:F,nodeTypes:s,edgeTypes:i,connectionLineType:K,connectionLineStyle:J,connectionLineComponent:P,connectionLineContainerStyle:G,selectionKeyCode:re,selectionOnDrag:ie,selectionMode:de,deleteKeyCode:Y,multiSelectionKeyCode:ue,panActivationKeyCode:me,zoomActivationKeyCode:ye,onlyRenderVisibleElements:Fe,selectNodesOnDrag:Le,defaultViewport:Tt,translateExtent:Jt,minZoom:Ct,maxZoom:Dt,preventScrolling:Pt,zoomOnScroll:De,zoomOnPinch:Pe,zoomOnDoubleClick:ur,panOnScroll:Be,panOnScrollSpeed:ot,panOnScrollMode:vt,panOnDrag:Gt,onPaneClick:Rt,onPaneMouseEnter:Vr,onPaneMouseMove:dr,onPaneMouseLeave:yn,onPaneScroll:Qr,onPaneContextMenu:kn,onSelectionContextMenu:W,onSelectionStart:Z,onSelectionEnd:V,onEdgeContextMenu:or,onEdgeDoubleClick:Zt,onEdgeMouseEnter:Kr,onEdgeMouseMove:Ls,onEdgeMouseLeave:ua,onReconnect:wn??Ha,onReconnectStart:An??ai,onReconnectEnd:Vn??qt,reconnectRadius:ea??da,defaultMarkerColor:Wt,noDragClassName:we,noWheelClassName:Ee,noPanClassName:Ce,elevateEdgesOnSelect:Ot,rfId:ys,disableKeyboardA11y:Vt,nodeOrigin:He,nodeExtent:Mt}),ft.createElement(EUe,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:p,onConnectStart:x,onConnectEnd:g,onClickConnectStart:b,onClickConnectEnd:y,nodesDraggable:ke,nodesConnectable:pe,nodesFocusable:je,edgesFocusable:Xe,edgesUpdatable:dt,elementsSelectable:Et,elevateNodesOnSelect:wt,minZoom:Ct,maxZoom:Dt,nodeExtent:Mt,onNodesChange:Ae,onEdgesChange:Se,snapToGrid:Ie,snapGrid:ne,connectionMode:q,translateExtent:Jt,connectOnClick:st,defaultEdgeOptions:tt,fitView:Ne,fitViewOptions:We,onNodesDelete:R,onEdgesDelete:D,onNodeDragStart:w,onNodeDrag:C,onNodeDragStop:N,onSelectionDrag:Q,onSelectionDragStart:M,onSelectionDragStop:ee,noPanClassName:Ce,nodeOrigin:He,rfId:ys,autoPanOnConnect:jt,autoPanOnNodeDrag:Lt,onError:Xr,connectionRadius:yr,isValidConnection:Wr,nodeDragThreshold:oo}),ft.createElement(yUe,{onSelectionChange:O}),Zn,ft.createElement(q8e,{proOptions:Je,position:$e}),ft.createElement(BUe,{rfId:ys,disableKeyboardA11y:Vt})))});pre.displayName="ReactFlow";function gre(e){return t=>{const[r,n]=k.useState(t),a=k.useCallback(s=>n(i=>e(s,i)),[]);return[r,n,a]}}const OMe=gre(nre),DMe=gre(HUe);function PMe(){return ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ft.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function RMe(){return ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ft.createElement("path",{d:"M0 0h32v4.2H0z"}))}function LMe(){return ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ft.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function UMe(){return ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ft.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function MMe(){return ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ft.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const cb=({children:e,className:t,...r})=>ft.createElement("button",{type:"button",className:ol(["react-flow__controls-button",t]),...r},e);cb.displayName="ControlButton";const QMe=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),vre=({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:a,onZoomIn:s,onZoomOut:i,onFitView:o,onInteractiveChange:l,className:u,children:d,position:f="bottom-left"})=>{const m=Ui(),[p,x]=k.useState(!1),{isInteractive:g,minZoomReached:b,maxZoomReached:y}=Ja(QMe,Ho),{zoomIn:_,zoomOut:S,fitView:I}=rN();if(k.useEffect(()=>{x(!0)},[]),!p)return null;const T=()=>{_(),s==null||s()},F=()=>{S(),i==null||i()},w=()=>{I(a),o==null||o()},C=()=>{m.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l==null||l(!g)};return ft.createElement(Bte,{className:ol(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&ft.createElement(ft.Fragment,null,ft.createElement(cb,{onClick:T,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y},ft.createElement(PMe,null)),ft.createElement(cb,{onClick:F,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},ft.createElement(RMe,null))),r&&ft.createElement(cb,{className:"react-flow__controls-fitview",onClick:w,title:"fit view","aria-label":"fit view"},ft.createElement(LMe,null)),n&&ft.createElement(cb,{className:"react-flow__controls-interactive",onClick:C,title:"toggle interactivity","aria-label":"toggle interactivity"},g?ft.createElement(MMe,null):ft.createElement(UMe,null)),d)};vre.displayName="Controls";var HMe=k.memo(vre),nd;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(nd||(nd={}));function VMe({color:e,dimensions:t,lineWidth:r}){return ft.createElement("path",{stroke:e,strokeWidth:r,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function zMe({color:e,radius:t}){return ft.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const $Me={[nd.Dots]:"#91919a",[nd.Lines]:"#eee",[nd.Cross]:"#e2e2e2"},KMe={[nd.Dots]:1,[nd.Lines]:1,[nd.Cross]:6},GMe=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function xre({id:e,variant:t=nd.Dots,gap:r=20,size:n,lineWidth:a=1,offset:s=2,color:i,style:o,className:l}){const u=k.useRef(null),{transform:d,patternId:f}=Ja(GMe,Ho),m=i||$Me[t],p=n||KMe[t],x=t===nd.Dots,g=t===nd.Cross,b=Array.isArray(r)?r:[r,r],y=[b[0]*d[2]||1,b[1]*d[2]||1],_=p*d[2],S=g?[_,_]:y,I=x?[_/s,_/s]:[S[0]/s,S[1]/s];return ft.createElement("svg",{className:ol(["react-flow__background",l]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},ft.createElement("pattern",{id:f+e,x:d[0]%y[0],y:d[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${I[0]},-${I[1]})`},x?ft.createElement(zMe,{color:m,radius:_/s}):ft.createElement(VMe,{dimensions:S,color:m,lineWidth:a})),ft.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}xre.displayName="Background";var qMe=k.memo(xre);function WMe(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),a=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(a),t&&(n.href=t),a.href=e,a.href}const XMe=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function g0(e){const t=[];for(let r=0,n=e.length;r<n;r++)t.push(e[r]);return t}let Tg=null;function bre(e={}){return Tg||(e.includeStyleProperties?(Tg=e.includeStyleProperties,Tg):(Tg=g0(window.getComputedStyle(document.documentElement)),Tg))}function J_(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function YMe(e){const t=J_(e,"border-left-width"),r=J_(e,"border-right-width");return e.clientWidth+t+r}function JMe(e){const t=J_(e,"border-top-width"),r=J_(e,"border-bottom-width");return e.clientHeight+t+r}function yre(e,t={}){const r=t.width||YMe(e),n=t.height||JMe(e);return{width:r,height:n}}function ZMe(){let e,t;try{t=process}catch{}const r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const tc=16384;function e7e(e){(e.width>tc||e.height>tc)&&(e.width>tc&&e.height>tc?e.width>e.height?(e.height*=tc/e.width,e.width=tc):(e.width*=tc/e.height,e.height=tc):e.width>tc?(e.height*=tc/e.width,e.width=tc):(e.width*=tc/e.height,e.height=tc))}function Z_(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>t(n))})},n.onerror=r,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function t7e(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function r7e(e,t,r){const n="http://www.w3.org/2000/svg",a=document.createElementNS(n,"svg"),s=document.createElementNS(n,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${r}`),a.setAttribute("viewBox",`0 0 ${t} ${r}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),a.appendChild(s),s.appendChild(e),t7e(a)}const Fl=(e,t)=>{if(e instanceof t)return!0;const r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||Fl(r,t)};function n7e(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function a7e(e,t){return bre(t).map(r=>{const n=e.getPropertyValue(r),a=e.getPropertyPriority(r);return`${r}: ${n}${a?" !important":""};`}).join(" ")}function s7e(e,t,r,n){const a=`.${e}:${t}`,s=r.cssText?n7e(r):a7e(r,n);return document.createTextNode(`${a}{${s}}`)}function LH(e,t,r,n){const a=window.getComputedStyle(e,r),s=a.getPropertyValue("content");if(s===""||s==="none")return;const i=XMe();try{t.className=`${t.className} ${i}`}catch{return}const o=document.createElement("style");o.appendChild(s7e(i,r,a,n)),t.appendChild(o)}function i7e(e,t,r){LH(e,t,":before",r),LH(e,t,":after",r)}const UH="application/font-woff",MH="image/jpeg",o7e={woff:UH,woff2:UH,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:MH,jpeg:MH,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function l7e(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function vD(e){const t=l7e(e).toLowerCase();return o7e[t]||""}function c7e(e){return e.split(/,/)[1]}function kj(e){return e.search(/^(data:)/)!==-1}function u7e(e,t){return`data:${t};base64,${e}`}async function wre(e,t,r){const n=await fetch(e,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const a=await n.blob();return new Promise((s,i)=>{const o=new FileReader;o.onerror=i,o.onloadend=()=>{try{s(r({res:n,result:o.result}))}catch(l){i(l)}},o.readAsDataURL(a)})}const Hk={};function d7e(e,t,r){let n=e.replace(/\?.*/,"");return r&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function xD(e,t,r){const n=d7e(e,t,r.includeQueryParams);if(Hk[n]!=null)return Hk[n];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const s=await wre(e,r.fetchRequestInit,({res:i,result:o})=>(t||(t=i.headers.get("Content-Type")||""),c7e(o)));a=u7e(s,t)}catch(s){a=r.imagePlaceholder||"";let i=`Failed to fetch resource: ${e}`;s&&(i=typeof s=="string"?s:s.message),i&&console.warn(i)}return Hk[n]=a,a}async function A7e(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Z_(t)}async function f7e(e,t){if(e.currentSrc){const s=document.createElement("canvas"),i=s.getContext("2d");s.width=e.clientWidth,s.height=e.clientHeight,i==null||i.drawImage(e,0,0,s.width,s.height);const o=s.toDataURL();return Z_(o)}const r=e.poster,n=vD(r),a=await xD(r,n,t);return Z_(a)}async function h7e(e,t){var r;try{if(!((r=e==null?void 0:e.contentDocument)===null||r===void 0)&&r.body)return await nN(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function m7e(e,t){return Fl(e,HTMLCanvasElement)?A7e(e):Fl(e,HTMLVideoElement)?f7e(e,t):Fl(e,HTMLIFrameElement)?h7e(e,t):e.cloneNode(Ere(e))}const p7e=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Ere=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function g7e(e,t,r){var n,a;if(Ere(t))return t;let s=[];return p7e(e)&&e.assignedNodes?s=g0(e.assignedNodes()):Fl(e,HTMLIFrameElement)&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?s=g0(e.contentDocument.body.childNodes):s=g0(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),s.length===0||Fl(e,HTMLVideoElement)||await s.reduce((i,o)=>i.then(()=>nN(o,r)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function v7e(e,t,r){const n=t.style;if(!n)return;const a=window.getComputedStyle(e);a.cssText?(n.cssText=a.cssText,n.transformOrigin=a.transformOrigin):bre(r).forEach(s=>{let i=a.getPropertyValue(s);s==="font-size"&&i.endsWith("px")&&(i=`${Math.floor(parseFloat(i.substring(0,i.length-2)))-.1}px`),Fl(e,HTMLIFrameElement)&&s==="display"&&i==="inline"&&(i="block"),s==="d"&&t.getAttribute("d")&&(i=`path(${t.getAttribute("d")})`),n.setProperty(s,i,a.getPropertyPriority(s))})}function x7e(e,t){Fl(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Fl(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function b7e(e,t){if(Fl(e,HTMLSelectElement)){const r=t,n=Array.from(r.children).find(a=>e.value===a.getAttribute("value"));n&&n.setAttribute("selected","")}}function y7e(e,t,r){return Fl(t,Element)&&(v7e(e,t,r),i7e(e,t,r),x7e(e,t),b7e(e,t)),t}async function w7e(e,t){const r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;const n={};for(let s=0;s<r.length;s++){const o=r[s].getAttribute("xlink:href");if(o){const l=e.querySelector(o),u=document.querySelector(o);!l&&u&&!n[o]&&(n[o]=await nN(u,t,!0))}}const a=Object.values(n);if(a.length){const s="http://www.w3.org/1999/xhtml",i=document.createElementNS(s,"svg");i.setAttribute("xmlns",s),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";const o=document.createElementNS(s,"defs");i.appendChild(o);for(let l=0;l<a.length;l++)o.appendChild(a[l]);e.appendChild(i)}return e}async function nN(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>m7e(n,t)).then(n=>g7e(e,n,t)).then(n=>y7e(e,n,t)).then(n=>w7e(n,t))}const Cre=/url\((['"]?)([^'"]+?)\1\)/g,E7e=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,C7e=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function _7e(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function S7e(e){const t=[];return e.replace(Cre,(r,n,a)=>(t.push(a),r)),t.filter(r=>!kj(r))}async function N7e(e,t,r,n,a){try{const s=r?WMe(t,r):t,i=vD(t);let o;return a||(o=await xD(s,i,n)),e.replace(_7e(t),`$1${o}$3`)}catch{}return e}function B7e(e,{preferredFontFormat:t}){return t?e.replace(C7e,r=>{for(;;){const[n,,a]=E7e.exec(r)||[];if(!a)return"";if(a===t)return`src: ${n};`}}):e}function _re(e){return e.search(Cre)!==-1}async function Sre(e,t,r){if(!_re(e))return e;const n=B7e(e,r);return S7e(n).reduce((s,i)=>s.then(o=>N7e(o,i,t,r)),Promise.resolve(n))}async function Ig(e,t,r){var n;const a=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue(e);if(a){const s=await Sre(a,null,r);return t.style.setProperty(e,s,t.style.getPropertyPriority(e)),!0}return!1}async function k7e(e,t){await Ig("background",e,t)||await Ig("background-image",e,t),await Ig("mask",e,t)||await Ig("-webkit-mask",e,t)||await Ig("mask-image",e,t)||await Ig("-webkit-mask-image",e,t)}async function T7e(e,t){const r=Fl(e,HTMLImageElement);if(!(r&&!kj(e.src))&&!(Fl(e,SVGImageElement)&&!kj(e.href.baseVal)))return;const n=r?e.src:e.href.baseVal,a=await xD(n,vD(n),t);await new Promise((s,i)=>{e.onload=s,e.onerror=t.onImageErrorHandler?(...l)=>{try{s(t.onImageErrorHandler(...l))}catch(u){i(u)}}:i;const o=e;o.decode&&(o.decode=s),o.loading==="lazy"&&(o.loading="eager"),r?(e.srcset="",e.src=a):e.href.baseVal=a})}async function I7e(e,t){const n=g0(e.childNodes).map(a=>Nre(a,t));await Promise.all(n).then(()=>e)}async function Nre(e,t){Fl(e,Element)&&(await k7e(e,t),await T7e(e,t),await I7e(e,t))}function j7e(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const n=t.style;return n!=null&&Object.keys(n).forEach(a=>{r[a]=n[a]}),e}const QH={};async function HH(e){let t=QH[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},QH[e]=t,t}async function VH(e,t){let r=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,s=(r.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(n,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),wre(o,t.fetchRequestInit,({result:l})=>(r=r.replace(i,`url(${l})`),[i,l]))});return Promise.all(s).then(()=>r)}function zH(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=e.replace(r,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=a.exec(n);if(l===null)break;t.push(l[0])}n=n.replace(a,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(i,"gi");for(;;){let l=s.exec(n);if(l===null){if(l=o.exec(n),l===null)break;s.lastIndex=o.lastIndex}else o.lastIndex=s.lastIndex;t.push(l[0])}return t}async function F7e(e,t){const r=[],n=[];return e.forEach(a=>{if("cssRules"in a)try{g0(a.cssRules||[]).forEach((s,i)=>{if(s.type===CSSRule.IMPORT_RULE){let o=i+1;const l=s.href,u=HH(l).then(d=>VH(d,t)).then(d=>zH(d).forEach(f=>{try{a.insertRule(f,f.startsWith("@import")?o+=1:a.cssRules.length)}catch(m){console.error("Error inserting rule from remote css",{rule:f,error:m})}})).catch(d=>{console.error("Error loading remote css",d.toString())});n.push(u)}})}catch(s){const i=e.find(o=>o.href==null)||document.styleSheets[0];a.href!=null&&n.push(HH(a.href).then(o=>VH(o,t)).then(o=>zH(o).forEach(l=>{i.insertRule(l,i.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",s)}}),Promise.all(n).then(()=>(e.forEach(a=>{if("cssRules"in a)try{g0(a.cssRules||[]).forEach(s=>{r.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${a.href}`,s)}}),r))}function O7e(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>_re(t.style.getPropertyValue("src")))}async function D7e(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=g0(e.ownerDocument.styleSheets),n=await F7e(r,t);return O7e(n)}function Bre(e){return e.trim().replace(/["']/g,"")}function P7e(e){const t=new Set;function r(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(s=>{t.add(Bre(s))}),Array.from(n.children).forEach(s=>{s instanceof HTMLElement&&r(s)})}return r(e),t}async function R7e(e,t){const r=await D7e(e,t),n=P7e(e);return(await Promise.all(r.filter(s=>n.has(Bre(s.style.fontFamily))).map(s=>{const i=s.parentStyleSheet?s.parentStyleSheet.href:null;return Sre(s.cssText,i,t)}))).join(`
`)}async function L7e(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await R7e(e,t);if(r){const n=document.createElement("style"),a=document.createTextNode(r);n.appendChild(a),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function U7e(e,t={}){const{width:r,height:n}=yre(e,t),a=await nN(e,t,!0);return await L7e(a,t),await Nre(a,t),j7e(a,t),await r7e(a,r,n)}async function M7e(e,t={}){const{width:r,height:n}=yre(e,t),a=await U7e(e,t),s=await Z_(a),i=document.createElement("canvas"),o=i.getContext("2d"),l=t.pixelRatio||ZMe(),u=t.canvasWidth||r,d=t.canvasHeight||n;return i.width=u*l,i.height=d*l,t.skipAutoScale||e7e(i),i.style.width=`${u}`,i.style.height=`${d}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,i.width,i.height)),o.drawImage(s,0,0,i.width,i.height),i}async function aN(e,t={}){return(await M7e(e,t)).toDataURL()}const kre="recursos_crucigramas",sN="recursos_lineas_de_tiempo",iN="recursos_mapas_mentales",Tre="recursos_sopas_de_letras",oN=e=>{var r,n,a,s;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion,createdAt:((s=(a=t.createdAt)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString())||t.createdAt}},Q7e=e=>{const t=tr(Ft(Bt,kre),qr("fechaCreacion","desc"));return br(t,r=>{const n=r.docs.map(a=>oN(a));e(n)},r=>{console.error("Error al suscribirse a los crucigramas:",r),e([])})},H7e=async(e,t)=>{try{const r={...e,creadorId:t.id,creadorNombre:t.nombreCompleto,fechaCreacion:fr.fromDate(new Date)};return(await xa(Ft(Bt,kre),r)).id}catch(r){throw console.error("Error al guardar el crucigrama:",r),new Error("No se pudo guardar el crucigrama.")}},V7e=e=>{const t=tr(Ft(Bt,sN),qr("createdAt","desc"));return br(t,r=>{const n=r.docs.map(a=>oN(a));e(n)},r=>{console.error("Error al suscribirse a las líneas de tiempo:",r),e([])})},z7e=async(e,t)=>{try{const{id:r,...n}=e,a=Er(Bt,sN,r);await io(a,{...n,creadorId:t.id,creadorNombre:t.nombreCompleto,createdAt:fr.fromDate(new Date(n.createdAt||Date.now()))},{merge:!0})}catch(r){throw console.error("Error al guardar la línea de tiempo:",r),new Error("No se pudo guardar la línea de tiempo.")}},$7e=async(e,t)=>{try{const r={...e,creadorId:t.id,creadorNombre:t.nombreCompleto,createdAt:fr.fromDate(new Date)};return(await xa(Ft(Bt,sN),r)).id}catch(r){throw console.error("Error al crear la línea de tiempo:",r),new Error("No se pudo crear la línea de tiempo.")}},K7e=async e=>{try{const t=Er(Bt,sN,e);await pi(t)}catch(t){throw console.error("Error al eliminar la línea de tiempo:",t),new Error("No se pudo eliminar la línea de tiempo.")}},G7e=e=>{const t=tr(Ft(Bt,iN),qr("createdAt","desc"));return br(t,r=>{const n=r.docs.map(a=>oN(a));e(n)},r=>{console.error("Error al suscribirse a los mapas mentales:",r),e([])})},q7e=async(e,t)=>{try{const{id:r,...n}=e,a=Er(Bt,iN,r);await io(a,{...n,creadorId:t.id,creadorNombre:t.nombreCompleto,createdAt:fr.fromDate(new Date(n.createdAt||Date.now()))},{merge:!0})}catch(r){throw console.error("Error al guardar el mapa mental:",r),new Error("No se pudo guardar el mapa mental.")}},W7e=async(e,t)=>{try{const r={...e,creadorId:t.id,creadorNombre:t.nombreCompleto,createdAt:fr.fromDate(new Date)};return(await xa(Ft(Bt,iN),r)).id}catch(r){throw console.error("Error al crear el mapa mental:",r),new Error("No se pudo crear el mapa mental.")}},X7e=async e=>{try{const t=Er(Bt,iN,e);await pi(t)}catch(t){throw console.error("Error al eliminar el mapa mental:",t),new Error("No se pudo eliminar el mapa mental.")}},Y7e=e=>{const t=tr(Ft(Bt,Tre),qr("createdAt","desc"));return br(t,r=>{const n=r.docs.map(a=>oN(a));e(n)},r=>{console.error("Error al suscribirse a las sopas de letras:",r),e([])})},J7e=async(e,t)=>{try{const r={...e,creadorId:t.id,creadorNombre:t.nombreCompleto,createdAt:fr.fromDate(new Date)};return(await xa(Ft(Bt,Tre),r)).id}catch(r){throw console.error("Error al guardar la sopa de letras:",r),new Error("No se pudo guardar la sopa de letras.")}},Z7e=()=>c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e9e=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657l-4.243 4.243a1 1 0 01-1.414 0l-4.243-4.243a1 1 0 010-1.414l4.243-4.243a1 1 0 011.414 0l4.243 4.243a1 1 0 010 1.414z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6"})]}),t9e=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5l7 7-7 7"})]}),r9e=({data:e})=>{const t={"Concepto Clave":"bg-blue-100 border-blue-300 dark:bg-blue-900/30 dark:border-blue-700","Ejemplo Práctico":"bg-green-100 border-green-300 dark:bg-green-900/30 dark:border-green-700","Dato Interesante":"bg-yellow-100 border-yellow-300 dark:bg-yellow-900/30 dark:border-yellow-700","Pregunta Abierta":"bg-purple-100 border-purple-300 dark:bg-purple-900/30 dark:border-purple-700",default:"bg-white border-slate-300 dark:bg-slate-800 dark:border-slate-600"},r=t[e.type||"default"]||t.default;return c.jsxs("div",{className:`p-3 rounded-lg shadow-md border-2 ${r} flex items-center gap-3 min-w-[180px]`,children:[c.jsx(Hv,{type:"target",position:gr.Left,className:"w-2 h-2 !bg-slate-400"}),c.jsx("span",{className:"text-xl",children:e.icon||"🧠"}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200 text-sm",children:e.label}),e.type&&c.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:e.type})]}),c.jsx(Hv,{type:"source",position:gr.Right,className:"w-2 h-2 !bg-slate-400"})]})},Tj=(e,t)=>!e.children||e.children.length===0?t:e.children.reduce((r,n)=>r+Tj(n,t),0),Ij=(e,t="tree")=>{const r=[],n=[];if(t==="tree"){const i=(o,l,u)=>{r.push({id:o.id,position:{x:l*280,y:u},data:{label:o.label,icon:o.icon,type:o.type},type:"custom"});const d=Tj(o,100);let f=u-d/2+100/2;(o.children||[]).forEach(m=>{const p=Tj(m,100),x=f+p/2-100/2;n.push({id:`e-${o.id}-${m.id}`,source:o.id,target:m.id,type:"smoothstep",animated:!0}),i(m,l+1,x),f+=p})};i(e,0,0)}else{r.push({id:e.id,position:{x:0,y:0},data:{label:e.label,icon:e.icon,type:e.type},type:"custom"});const i=300,o=500;(e.children||[]).forEach((l,u)=>{const d=u/e.children.length*2*Math.PI;r.push({id:l.id,position:{x:i*Math.cos(d),y:i*Math.sin(d)},data:{label:l.label,icon:l.icon,type:l.type},type:"custom"}),n.push({id:`e-${e.id}-${l.id}`,source:e.id,target:l.id,type:"smoothstep"}),(l.children||[]).forEach((f,m)=>{const p=d+(m-(l.children.length-1)/2)*.25;r.push({id:f.id,position:{x:o*Math.cos(p),y:o*Math.sin(p)},data:{label:f.label,icon:f.icon,type:f.type},type:"custom"}),n.push({id:`e-${l.id}-${f.id}`,source:l.id,target:f.id,type:"smoothstep"})})})}return{nodes:r,edges:n}},Ire=({node:e,onUpdate:t,onAddChild:r,onDelete:n,level:a=0})=>{const s=["bg-blue-100/50 dark:bg-blue-900/20","bg-yellow-100/50 dark:bg-yellow-900/20","bg-green-100/50 dark:bg-green-900/20"],i=["border-blue-300 dark:border-blue-700","border-yellow-300 dark:border-yellow-700","border-green-300 dark:border-green-700"];return c.jsxs("div",{className:`pl-4 ${a>0?"border-l "+i[a-1%i.length]:""}`,children:[c.jsx("div",{className:`p-2 rounded-lg my-1 ${s[a%s.length]}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"text",value:e.label,onChange:o=>t(e.id,o.target.value),className:"w-full bg-transparent focus:bg-white dark:focus:bg-slate-700 p-1 rounded border border-transparent focus:border-slate-300 dark:focus:border-slate-600 outline-none transition-colors"}),c.jsx("button",{onClick:()=>r(e.id),className:"p-1.5 rounded-full hover:bg-slate-300/50 dark:hover:bg-slate-600/50 transition-colors",children:"➕"}),a>0&&c.jsx("button",{onClick:()=>n(e.id),className:"p-1.5 rounded-full hover:bg-slate-300/50 dark:hover:bg-slate-600/50 transition-colors",children:"🗑️"})]})}),(e.children||[]).map(o=>c.jsx(Ire,{node:o,onUpdate:t,onAddChild:r,onDelete:n,level:a+1},o.id))]})},n9e={custom:r9e},a9e=({mapData:e,onBack:t,onSave:r})=>{const[n,a]=k.useState(e.treeData),[s,i]=k.useState("tree"),[o,l]=k.useState(!1),[u,d,f]=OMe([]),[m,p,x]=DMe([]),{fitView:g}=rN();k.useEffect(()=>{const{nodes:T,edges:F}=Ij(n,s);d(T),p(F),setTimeout(()=>g({duration:300}),50)},[n,s,d,p,g]);const b=(T,F)=>{const w=JSON.parse(JSON.stringify(n)),C=N=>N.id===T?(N.label=F,!0):(N.children||[]).some(C);C(w),a(w)},y=T=>{const F=JSON.parse(JSON.stringify(n)),w=C=>C.id===T?(C.children||(C.children=[]),C.children.push({id:crypto.randomUUID(),label:"Nuevo Nodo",children:[]}),!0):(C.children||[]).some(w);w(F),a(F)},_=T=>{const F=JSON.parse(JSON.stringify(n)),w=C=>{const N=(C.children||[]).findIndex(R=>R.id===T);return N!==-1?(C.children.splice(N,1),!0):(C.children||[]).some(w)};w(F),a(F)},S=()=>{l(!0);const{nodes:T,edges:F}=Ij(n,s);r({...e,treeData:n,nodes:T,edges:F}),setTimeout(()=>l(!1),1e3)},I=async T=>{const F=document.querySelector(".react-flow");F&&aN(F,{backgroundColor:"#ffffff",cacheBust:!0,pixelRatio:2}).then(w=>{{const C=document.createElement("a");C.download=`${e.tema}.png`,C.href=w,C.click()}}).catch(w=>console.error("oops, something went wrong!",w))};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 truncate pr-4",children:e.tema}),c.jsx("button",{onClick:t,className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white font-semibold flex-shrink-0",children:"← Volver a la lista"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx("div",{className:"lg:col-span-2 w-full h-[70vh] rounded-lg border dark:border-slate-700 relative",children:c.jsxs(pre,{nodes:u,edges:m,onNodesChange:f,onEdgesChange:x,fitView:!0,nodeTypes:n9e,children:[c.jsx(HMe,{}),c.jsx(qMe,{})]})}),c.jsxs("div",{className:"w-full h-[70vh] flex flex-col bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg border dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Editar"}),c.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b dark:border-slate-700 pb-2",children:[c.jsxs("button",{onClick:()=>i("tree"),className:`px-3 py-1.5 text-sm font-semibold rounded-md flex items-center gap-2 transition-colors ${s==="tree"?"bg-blue-500 text-white":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[c.jsx(e9e,{})," Vista en árbol"]}),c.jsxs("button",{onClick:()=>i("central"),className:`px-3 py-1.5 text-sm font-semibold rounded-md flex items-center gap-2 transition-colors ${s==="central"?"bg-blue-500 text-white":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[c.jsx(t9e,{})," Vista central"]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:c.jsx(Ire,{node:n,onUpdate:b,onAddChild:y,onDelete:_})}),c.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700 flex justify-end gap-4",children:[c.jsx("button",{onClick:()=>I(),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Exportar PNG"}),c.jsx("button",{onClick:S,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 w-28",children:o?"Guardado!":"Guardar"})]})]})]})]})},s9e=({onBack:e,currentUser:t})=>{const[r,n]=k.useState("list"),[a,s]=k.useState([]),[i,o]=k.useState(null),[l,u]=k.useState(!1),[d,f]=k.useState(!0),[m,p]=k.useState(""),[x,g]=k.useState(""),[b,y]=k.useState("");k.useEffect(()=>{f(!0);const w=G7e(C=>{s(C),f(!1)});return()=>w()},[]);const _=async w=>{if(w.preventDefault(),!m.trim()){alert("El tema es obligatorio.");return}u(!0);const C="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",N=`
            Basado en el tema central "${m}", y considerando el contenido adicional "${b}", genera una estructura jerárquica para un mapa mental con al menos 3 niveles de profundidad.
            
            Tu respuesta DEBE ser un único objeto JSON válido sin texto adicional ni bloques \`\`\`json.
            
            La estructura del JSON debe ser un objeto raíz con las siguientes claves:
            - "label": El tema central ("${m}").
            - "icon": Un emoji que represente el tema.
            - "type": La categoría, que para el nodo raíz debe ser "Concepto Clave".
            - "children": Un array de 2 a 4 nodos hijos.

            Cada nodo hijo (y sus descendientes) debe tener esta misma estructura:
            - "label": El texto del subtema.
            - "icon": Un emoji representativo.
            - "type": Una categoría descriptiva (ej: "Concepto Clave", "Ejemplo Práctico", "Dato Interesante", "Pregunta Abierta").
            - "children": Un array de nodos hijos, o un array vacío si es un nodo final.
        `;try{const ee=(await(await new ti(C).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(N)).response).text().replace(/^```json\s*|```\s*$/g,""),W=JSON.parse(ee),Z=G=>({id:crypto.randomUUID(),label:G.label||"Sin etiqueta",icon:G.icon||"🧠",type:G.type||"default",children:(G.children||[]).map(Z)}),V=Z(W),{nodes:q,edges:K}=Ij(V),J={tema:m,nivel:x,treeData:V,nodes:q,edges:K},P=await W7e(J,t);o({...J,id:P,createdAt:new Date().toISOString()}),n("editor")}catch(R){console.error("AI Generation Error:",R),alert("Hubo un error al generar el mapa mental. La respuesta de la IA pudo tener un formato incorrecto. Inténtelo de nuevo.")}finally{u(!1)}},S=async w=>{try{await q7e(w,t)}catch(C){console.error("Error saving mind map:",C),alert("No se pudo guardar el mapa mental.")}},I=w=>{o(w),n("editor")},T=async w=>{if(window.confirm("¿Eliminar este mapa mental?"))try{await X7e(w)}catch(C){console.error("Error deleting mind map:",C),alert("No se pudo eliminar el mapa mental.")}},F=()=>{switch(r){case"editor":return i?c.jsx(gD,{children:c.jsx(a9e,{mapData:i,onBack:()=>n("list"),onSave:S})}):null;case"config":return c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Nuevo Mapa Mental con IA"}),c.jsx("button",{onClick:()=>n("list"),className:"text-slate-600 hover:text-slate-900 font-semibold",children:"← Volver"})]}),c.jsxs("form",{onSubmit:_,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"tema",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:["Tema Central ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",id:"tema",value:m,onChange:w=>p(w.target.value),required:!0,className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"contenido",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Contenido o ideas clave (Opcional)"}),c.jsx("textarea",{id:"contenido",value:b,onChange:w=>y(w.target.value),rows:4,placeholder:"Añade más detalles para guiar a la IA...",className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),c.jsx("div",{className:"flex justify-end pt-4",children:c.jsx("button",{type:"submit",disabled:l,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:bg-slate-400 flex items-center justify-center min-w-[200px]",children:l?c.jsx(Z7e,{}):"Generar Mapa con IA"})})]})]});case"list":default:return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Mis Mapas Mentales"}),c.jsx("button",{onClick:()=>n("config"),className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Crear Nuevo"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.length>0?a.map(w=>c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg shadow border dark:border-slate-700",children:[c.jsx("h3",{className:"font-bold text-lg truncate text-slate-800 dark:text-slate-200",children:w.tema}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creado: ",new Date(w.createdAt).toLocaleDateString("es-CL")]}),c.jsxs("div",{className:"mt-4 flex gap-2",children:[c.jsx("button",{onClick:()=>I(w),className:"flex-1 bg-slate-200 dark:bg-slate-600 font-semibold py-1.5 px-3 rounded-md text-sm",children:"Editar"}),c.jsx("button",{onClick:()=>T(w.id),className:"flex-1 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 font-semibold py-1.5 px-3 rounded-md text-sm",children:"Eliminar"})]})]},w.id)):c.jsx("p",{className:"col-span-full text-center text-slate-500 dark:text-slate-400 py-8",children:"No has creado ningún mapa mental todavía."})})]})}};return d?c.jsx("div",{className:"text-center py-10",children:"Cargando mapas mentales..."}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("span",{className:"text-4xl",children:"🧠"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Mapas Mentales"}),c.jsx("button",{onClick:e,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:"← Volver a Recursos"})]})]}),F()]})},i9e=()=>c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o9e=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),l9e=({onBack:e,currentUser:t})=>{const[r,n]=k.useState([]),[a,s]=k.useState("Media"),[i,o]=k.useState(10),[l,u]=k.useState(!1),[d,f]=k.useState(Array(10).fill("")),[m,p]=k.useState(""),[x,g]=k.useState(null),[b,y]=k.useState({ai:!1,puzzle:!1,data:!0}),_=k.useRef(null);k.useEffect(()=>{y(D=>({...D,data:!0}));const R=Y7e(D=>{n(D),y(O=>({...O,data:!1}))});return()=>R()},[]),k.useEffect(()=>{f(R=>{const D=Array(i).fill("");for(let O=0;O<Math.min(R.length,i);O++)D[O]=R[O];return D})},[i]);const S=(R,D)=>{const O=[...d];O[R]=D,f(O)},I=async()=>{if(m.trim()){y(R=>({...R,ai:!0}));try{const R="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",O=new ti(R).getGenerativeModel({model:"gemini-1.5-flash-latest"}),M=`
                Genera una lista de ${i} palabras clave en español, estrictamente relacionadas con el tema "${m}".
                Tu respuesta DEBE ser un único objeto JSON válido sin texto adicional ni bloques \`\`\`json.
                El objeto debe tener una sola clave: "palabras".
                El valor de "palabras" debe ser un array de ${i} strings.
                Cada string en el array debe ser una sola palabra, sin espacios ni caracteres especiales.
            `,Z=(await(await O.generateContent(M)).response).text().replace(/^```json\s*|```\s*$/g,""),V=JSON.parse(Z);if(!V.palabras||!Array.isArray(V.palabras))throw new Error("La respuesta de la IA no contiene el array 'palabras' esperado.");const K=[...V.palabras.map(J=>J.toUpperCase().replace(/[^A-ZÑ]/g,"")).slice(0,i)];for(;K.length<i;)K.push("");f(K)}catch(R){console.error("Error generating words with AI:",R),alert("No se pudieron generar las palabras. La respuesta de la IA pudo tener un formato incorrecto. Inténtelo de nuevo.")}finally{y(R=>({...R,ai:!1}))}}},T=(R,D,O,M,Q,ee)=>{for(let W=0;W<R.length;W++){const Z=O+W*Q.y,V=M+W*Q.x;if(Z<0||Z>=ee||V<0||V>=ee||D[Z][V]&&D[Z][V]!==R[W])return!1}return!0},F=(R,D,O,M,Q)=>{for(let ee=0;ee<R.length;ee++)D[O+ee*Q.y][M+ee*Q.x]=R[ee]},w=async()=>{y(Z=>({...Z,puzzle:!0})),g(null),await new Promise(Z=>setTimeout(Z,100));const R=d.map(Z=>Z.toUpperCase().replace(/[^A-ZÑ]/g,"")).filter(Boolean);if(R.length===0){alert("Por favor, ingrese al menos una palabra válida."),y(Z=>({...Z,puzzle:!1}));return}const D=Math.max(...R.map(Z=>Z.length));let O=Math.max(D,R.length)+2;a==="Media"&&(O+=3),a==="Difícil"&&(O+=5),O=Math.min(Math.max(O,10),25);const M=Array(O).fill(null).map(()=>Array(O).fill(null)),Q=[{x:1,y:0},{x:0,y:1},{x:1,y:1}];a!=="Fácil"&&Q.push({x:1,y:-1}),a==="Difícil"&&Q.push({x:-1,y:0},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:1});for(const Z of R.sort((V,q)=>q.length-V.length)){let V=!1;for(let q=0;q<100;q++){const K=Q[Math.floor(Math.random()*Q.length)],J=Math.floor(Math.random()*O),P=Math.floor(Math.random()*O);if(T(Z,M,J,P,K,O)){F(Z,M,J,P,K),V=!0;break}}V||console.warn(`No se pudo colocar la palabra: ${Z}`)}const ee=M.map(Z=>Z.map(V=>V||"ABCDEFGHIJKLMNOPQRSTUVWXYZÑ"[Math.floor(Math.random()*27)])),W={tema:m||"Personalizado",grid:ee.map(Z=>Z.join("")),words:R.sort()};try{const Z=await J7e(W,t);g({...W,id:Z,createdAt:new Date().toISOString()})}catch(Z){console.error("Error saving puzzle:",Z),alert("No se pudo guardar la sopa de letras.")}finally{y(Z=>({...Z,puzzle:!1}))}},C=()=>{_.current&&aN(_.current,{cacheBust:!0,backgroundColor:"white",quality:.95,pixelRatio:2}).then(R=>{const D=document.createElement("a");D.download="sopa-de-letras.png",D.href=R,D.click()}).catch(R=>{console.error("oops, something went wrong!",R),alert("No se pudo generar la imagen. Inténtelo de nuevo.")})},N=()=>{var O;if(!x)return null;const R=((O=x.grid[0])==null?void 0:O.length)||1,D=x.grid.join("").split("");return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{ref:_,className:"p-6 bg-white",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsx("div",{className:"grid border-2 border-slate-700",style:{gridTemplateColumns:`repeat(${R}, minmax(0, 1fr))`},children:D.map((M,Q)=>c.jsx("div",{className:"flex items-center justify-center aspect-square border border-slate-300 font-mono font-bold text-lg text-slate-800",children:M},Q))})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4 border-b-2 border-slate-700 pb-2",children:"PALABRAS A BUSCAR"}),c.jsx("ul",{className:"grid grid-cols-2 gap-x-4 gap-y-2 font-semibold text-slate-700",children:x.words.map(M=>c.jsx("li",{children:M},M))})]})]})}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx("button",{onClick:()=>g(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Crear otra"}),c.jsx("button",{onClick:C,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Descargar como PNG"})]})]})};return b.data?c.jsx("div",{className:"text-center py-10",children:"Cargando..."}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-4xl",children:"🅰️"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Sopa de Letras"}),c.jsx("button",{onClick:e,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:"← Volver a Recursos"})]})]}),!x&&c.jsxs("div",{className:"space-y-6 pt-4 border-t dark:border-slate-700",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Dificultad"}),c.jsxs("select",{value:a,onChange:R=>s(R.target.value),className:"w-full md:w-1/3 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{children:"Fácil"}),c.jsx("option",{children:"Media"}),c.jsx("option",{children:"Difícil"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Número de palabras"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[[5,10,15,20].map(R=>c.jsx("button",{onClick:()=>{o(R),u(!1)},className:`px-4 py-2 rounded-md font-semibold text-sm ${!l&&i===R?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:R},R)),c.jsx("button",{onClick:()=>u(!0),className:`px-4 py-2 rounded-md font-semibold text-sm ${l?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:"Personalizado"}),l&&c.jsx("input",{type:"number",value:i,onChange:R=>o(parseInt(R.target.value,10)),min:"1",max:"30",className:"w-24 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"ai-theme",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Completar palabras con IA (Opcional)"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{id:"ai-theme",type:"text",value:m,onChange:R=>p(R.target.value),placeholder:"Envía un tema...",className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("button",{onClick:I,disabled:b.ai,className:"bg-sky-500 text-white font-semibold px-4 py-2 rounded-md flex items-center justify-center min-w-[120px]",children:b.ai?c.jsx(i9e,{}):c.jsxs(c.Fragment,{children:[c.jsx(o9e,{}),c.jsx("span",{className:"ml-2",children:"Generar"})]})})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Palabras ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-3",children:d.map((R,D)=>c.jsx("input",{type:"text",value:R,onChange:O=>S(D,O.target.value),placeholder:`Palabra ${D+1}`,className:"border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"},D))})]}),c.jsx("div",{className:"text-right pt-4",children:c.jsx("button",{onClick:w,disabled:b.puzzle,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 min-w-[200px]",children:b.puzzle?"Generando...":"Generar Sopa de Letras"})})]}),x&&N()]})},c9e=()=>c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u9e=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),d9e=({timeline:e,onSave:t,onBack:r})=>{const[n,a]=k.useState(e),[s,i]=k.useState(null),o=k.useRef(null),l=(p,x,g)=>{a(b=>({...b,events:b.events.map(y=>y.id===p?{...y,[x]:g}:y)}))},u=()=>{const p={id:crypto.randomUUID(),date:new Date().getFullYear().toString(),description:"Nuevo hito",icon:"🗓️"},x=[...n.events,p].sort((g,b)=>parseInt(g.date)-parseInt(b.date));a(g=>({...g,events:x}))},d=p=>{a(x=>({...x,events:x.events.filter(g=>g.id!==p)}))},f=async p=>{if(!p.description.trim()){alert("Escribe al menos una idea en la descripción para que la IA la complete.");return}i(p.id);const x="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",g=`
            Para una línea de tiempo sobre "${n.tema}", toma la siguiente idea para un hito y mejórala.
            Idea del usuario: "${p.description}"

            Tu respuesta DEBE ser un único objeto JSON válido sin texto adicional, con tres claves:
            1. "date": El año o fecha más precisa y relevante para esta idea.
            2. "description": Una descripción concisa (máximo 15 palabras) para la línea de tiempo.
            3. "icon": Un único emoji que represente el hito.
        `;try{const T=(await(await new ti(x).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(g)).response).text().replace(/^```json\s*|```\s*$/g,""),F=JSON.parse(T);a(w=>({...w,events:w.events.map(C=>C.id===p.id?{...C,date:F.date,description:F.description,icon:F.icon}:C).sort((C,N)=>parseInt(C.date)-parseInt(N.date))}))}catch(b){console.error("Error al generar descripción del hito:",b),alert("No se pudo autocompletar el hito.")}finally{i(null)}},m=()=>{o.current&&aN(o.current,{cacheBust:!0,backgroundColor:"#f1f5f9",quality:.95,pixelRatio:2}).then(p=>{const x=document.createElement("a");x.download=`linea-tiempo-${n.tema.replace(/\s+/g,"_")}.png`,x.href=p,x.click()}).catch(p=>{console.error("Error al generar la imagen:",p),alert("No se pudo generar la imagen. Inténtelo de nuevo.")})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:n.tema}),c.jsx("button",{onClick:r,className:"text-sm font-semibold text-slate-500 hover:underline",children:"← Volver a la lista"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-2 bg-slate-100 dark:bg-slate-900 rounded-lg",children:c.jsxs("div",{ref:o,className:"relative p-10",children:[c.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1 h-full bg-slate-300 dark:bg-slate-600 rounded"}),c.jsx("div",{className:"relative",children:n.events.sort((p,x)=>parseInt(p.date)-parseInt(x.date)).map((p,x)=>{const g=x%2===0;return c.jsxs("div",{className:"mb-8 flex justify-between items-center w-full",children:[c.jsx("div",{className:"w-1/2",children:g&&c.jsx("div",{className:"text-right pr-8",children:c.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-lg border dark:border-slate-700 inline-block max-w-xs",children:[c.jsx("p",{className:"text-2xl mb-1 text-center w-full",children:p.icon}),c.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:p.date}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 break-words",children:p.description})]})})}),c.jsx("div",{className:"z-10 flex-shrink-0",children:c.jsx("div",{className:"w-5 h-5 bg-white dark:bg-slate-500 border-4 border-slate-400 dark:border-slate-300 rounded-full"})}),c.jsx("div",{className:"w-1/2",children:!g&&c.jsx("div",{className:"text-left pl-8",children:c.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-lg border dark:border-slate-700 inline-block max-w-xs",children:[c.jsx("p",{className:"text-2xl mb-1 text-center w-full",children:p.icon}),c.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:p.date}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 break-words",children:p.description})]})})})]},p.id)})})]})}),c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg border dark:border-slate-700 h-[70vh] flex flex-col",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Editar Hitos"}),c.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2",children:n.events.map(p=>c.jsxs("div",{className:"p-3 bg-white dark:bg-slate-700 rounded-md border dark:border-slate-600 space-y-2",children:[c.jsx("input",{type:"text",value:p.date,onChange:x=>l(p.id,"date",x.target.value),placeholder:"Año/Fecha",className:"w-full bg-transparent font-semibold dark:text-slate-200"}),c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("textarea",{value:p.description,onChange:x=>l(p.id,"description",x.target.value),placeholder:"Descripción",rows:2,className:"flex-grow w-full bg-transparent text-sm dark:text-slate-300"}),c.jsx("button",{onClick:()=>f(p),disabled:s===p.id,className:"p-2 rounded-md bg-slate-100 hover:bg-slate-200 dark:bg-slate-600 dark:hover:bg-slate-500 disabled:opacity-50",title:"Autocompletar con IA",children:s===p.id?c.jsx("div",{className:"w-4 h-4 border-2 border-slate-300 border-t-amber-500 rounded-full animate-spin"}):c.jsx(u9e,{})})]}),c.jsx("button",{onClick:()=>d(p.id),className:"text-xs text-red-500 hover:underline",children:"Eliminar"})]},p.id))}),c.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700 flex flex-col gap-2",children:[c.jsx("button",{onClick:u,className:"w-full bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Añadir Hito"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:m,className:"flex-1 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:"Descargar PNG"}),c.jsx("button",{onClick:()=>t(n),className:"flex-1 bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar"})]})]})]})]})]})},A9e=({onBack:e,currentUser:t})=>{const[r,n]=k.useState("list"),[a,s]=k.useState([]),[i,o]=k.useState(null),[l,u]=k.useState(!1),[d,f]=k.useState(!0),[m,p]=k.useState(""),[x,g]=k.useState(""),[b,y]=k.useState("");k.useEffect(()=>{f(!0);const T=V7e(F=>{s(F),f(!1)});return()=>T()},[]);const _=async T=>{if(T.preventDefault(),!m.trim()){alert("El tema es obligatorio.");return}u(!0);const F="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",w=x&&b?`entre ${x} y ${b}`:x?`a partir de ${x}`:b?`hasta ${b}`:"",C=`
            Genera una línea de tiempo sobre el tema "${m}" ${w}.
            Tu respuesta DEBE ser un único objeto JSON válido sin texto adicional ni bloques \`\`\`json.
            El objeto debe tener una clave "events", que es un array de 5 a 10 objetos.
            Cada objeto en el array "events" debe tener tres claves:
            1. "date": Un string con la fecha o el año del hito.
            2. "description": Un string con la descripción breve del hito (máximo 15 palabras).
            3. "icon": Un string con un único emoji que represente el hito.
            Ordena los eventos cronológicamente.
        `;try{const Q=(await(await new ti(F).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(C)).response).text().replace(/^```json\s*|```\s*$/g,""),ee=JSON.parse(Q);if(!ee.events||!Array.isArray(ee.events))throw new Error("La respuesta de la IA no tiene el formato de eventos esperado.");const W={tema:m,fechaInicio:x,fechaFin:b,events:ee.events.map(V=>({id:crypto.randomUUID(),date:V.date||"Sin fecha",description:V.description||"Sin descripción",icon:V.icon||"🗓️"}))},Z=await $7e(W,t);o({...W,id:Z,createdAt:new Date().toISOString()}),n("editor")}catch(N){console.error("AI Generation Error:",N),alert("Hubo un error al generar la línea de tiempo. Por favor, revisa el formato del tema o inténtalo de nuevo.")}finally{u(!1)}},S=async T=>{try{await z7e(T,t),n("list"),o(null)}catch(F){console.error("Error saving timeline:",F),alert("No se pudo guardar la línea de tiempo.")}},I=async T=>{if(window.confirm("¿Eliminar esta línea de tiempo?"))try{await K7e(T)}catch(F){console.error("Error deleting timeline:",F),alert("No se pudo eliminar la línea de tiempo.")}};return r==="editor"&&i?c.jsx(d9e,{timeline:i,onSave:S,onBack:()=>n("list")}):d?c.jsx("div",{className:"text-center py-10",children:"Cargando líneas de tiempo..."}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-4xl",children:"🕒"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Líneas de Tiempo"}),c.jsx("button",{onClick:e,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:"← Volver a Recursos"})]})]}),c.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-800/50",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Crear nueva Línea de Tiempo"}),c.jsxs("form",{onSubmit:_,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"tema",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Tema ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",id:"tema",value:m,onChange:T=>p(T.target.value),required:!0,className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"fechaInicio",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Fecha de Inicio (Opcional)"}),c.jsx("input",{type:"text",id:"fechaInicio",value:x,onChange:T=>g(T.target.value),placeholder:"Ej: 1947",className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"fechaFin",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Fecha de Término (Opcional)"}),c.jsx("input",{type:"text",id:"fechaFin",value:b,onChange:T=>y(T.target.value),placeholder:"Ej: 1991",className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]})]}),c.jsx("div",{className:"text-right",children:c.jsx("button",{type:"submit",disabled:l,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:bg-slate-400 flex items-center justify-center min-w-[180px]",children:l?c.jsx(c9e,{}):"Generar con IA"})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Líneas de Tiempo Guardadas"}),a.length>0?a.map(T=>c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg shadow-sm border dark:border-slate-700 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200",children:T.tema}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creada: ",new Date(T.createdAt).toLocaleDateString("es-CL")]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>{o(T),n("editor")},className:"text-sm font-semibold bg-slate-200 dark:bg-slate-600 py-1 px-3 rounded-md",children:"Editar"}),c.jsx("button",{onClick:()=>I(T.id),className:"text-sm font-semibold bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 py-1 px-3 rounded-md",children:"Eliminar"})]})]},T.id)):c.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-6",children:"No hay líneas de tiempo guardadas."})]})]})},f9e=()=>c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),$H=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),h9e=({onBack:e,currentUser:t})=>{const[r,n]=k.useState([]),[a,s]=k.useState(10),[i,o]=k.useState(!1),[l,u]=k.useState(Array(10).fill("")),[d,f]=k.useState(Array(10).fill("")),[m,p]=k.useState(""),[x,g]=k.useState(null),[b,y]=k.useState(!1),[_,S]=k.useState({ai:!1,puzzle:!1,data:!0}),[I,T]=k.useState(null),F=k.useRef(null);k.useEffect(()=>{S(ee=>({...ee,data:!0}));const Q=Q7e(ee=>{const W=ee.map(Z=>{const{grid_flat:V,grid_width:q,...K}=Z,J=[];if(V&&q>0)for(let P=0;P<V.length;P+=q)J.push(V.slice(P,P+q));return{...K,grid:J}});n(W),S(Z=>({...Z,data:!1}))});return()=>Q()},[]),k.useEffect(()=>{const Q=a;u(ee=>Array.from({length:Q},(W,Z)=>ee[Z]||"")),f(ee=>Array.from({length:Q},(W,Z)=>ee[Z]||""))},[a]);const w=(Q,ee)=>{const W=[...l];W[Q]=ee,u(W)},C=(Q,ee)=>{const W=[...d];W[Q]=ee,f(W)},N=async()=>{if(m.trim()){S(Q=>({...Q,ai:!0}));try{const Q="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",W=new ti(Q).getGenerativeModel({model:"gemini-1.5-flash-latest"}),Z=`
                Genera una lista de ${a} palabras y sus pistas correspondientes para un crucigrama, basado en el tema "${m}".
                Tu respuesta DEBE ser un único objeto JSON válido sin texto adicional ni bloques \`\`\`json.
                El objeto debe tener una clave "items", que es un array de ${a} objetos.
                Cada objeto en el array "items" debe tener dos claves:
                1. "word": Un string con la palabra (sin espacios y en mayúsculas).
                2. "clue": Un string con la pista para esa palabra.
            `;let J=(await(await W.generateContent(Z)).response).text().replace(/^```json\s*|```\s*$/g,"").trim();const P=J.indexOf("{"),G=J.lastIndexOf("}");P!==-1&&G!==-1&&(J=J.substring(P,G+1)),J=J.replace(/},\s*([\r\n\s]*){/g,"}__SPLIT__{"),J.includes("__SPLIT__")&&(J=J.replace(/("items"\s*:\s*\[)([\s\S]*?)(\])/m,(de,me,ue,ye)=>{const Ie=ue.split("__SPLIT__").map(ne=>ne.trim().replace(/,$/,""));return me+Ie.join(",")+ye})),J=J.replace(/,\s*]/g,"]");let Y;try{Y=JSON.parse(J)}catch{console.error("Respuesta IA no es JSON válido:",J),alert("La respuesta de la IA no es un JSON válido. Intenta de nuevo o ajusta el tema."),S(me=>({...me,ai:!1}));return}if(!Y.items||!Array.isArray(Y.items))throw new Error("La respuesta de la IA no contiene la lista de 'items' esperada.");const re=Y.items.map(de=>(de.word||"").toUpperCase().replace(/\s/g,"")),ie=Y.items.map(de=>de.clue||"");u(Array.from({length:a},(de,me)=>re[me]||"")),f(Array.from({length:a},(de,me)=>ie[me]||""))}catch(Q){console.error("Error generating words/clues with AI:",Q),alert("No se pudieron generar las palabras y pistas. Inténtelo de nuevo.")}finally{S(Q=>({...Q,ai:!1}))}}},R=async Q=>{const ee=l[Q];if(!ee||!ee.trim()){alert("Por favor, escribe una palabra antes de generar su pista.");return}T(Q);try{const W="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",V=new ti(W).getGenerativeModel({model:"gemini-1.5-flash-latest"}),q=`Para un crucigrama con el tema "${m||"general"}", genera una pista concisa y creativa para la palabra "${ee}". La respuesta debe ser un único objeto JSON válido sin texto adicional, con una sola clave: "clue".`,G=(await(await V.generateContent(q)).response).text().replace(/^```json\s*|```\s*$/g,""),Y=JSON.parse(G);Y.clue&&C(Q,Y.clue)}catch(W){console.error("Error generating clue with AI:",W),alert("No se pudo generar la pista.")}finally{T(null)}},D=k.useCallback(()=>{try{const Q=l.map((je,He)=>({word:je.toUpperCase().replace(/[^A-ZÑ]/g,""),clue:d[He]})).filter(je=>je.word.length>0);if(Q.length===0)return alert("Por favor, ingrese al menos una palabra válida."),null;Q.sort((je,He)=>He.word.length-je.word.length);const ee=Q[0].word.length,W=Math.max(ee,Q.length)*2;let Z=Array.from({length:W},()=>Array(W).fill(null));const V=[],q=Q.shift(),K=Math.floor(W/2),J=Math.floor((W-q.word.length)/2);for(let je=0;je<q.word.length;je++)Z[K][J+je]=q.word[je];V.push({word:q.word,clue:q.clue,direction:"across",row:K,col:J});for(const je of Q){let He={score:-1,row:-1,col:-1,direction:"across"};for(const Xe of V)for(let dt=0;dt<Xe.word.length;dt++)for(let Et=0;Et<je.word.length;Et++)if(Xe.word[dt]===je.word[Et]){let Tt=0,Ct,Dt,Jt;Xe.direction==="across"?(Jt="down",Ct=Xe.row-Et,Dt=Xe.col+dt):(Jt="across",Ct=Xe.row+dt,Dt=Xe.col-Et);let Pt=!0;for(let Mt=0;Mt<je.word.length;Mt++){const Wt=Ct+(Jt==="down"?Mt:0),De=Dt+(Jt==="across"?Mt:0);if(Wt<0||Wt>=W||De<0||De>=W){Pt=!1;break}const Pe=Z[Wt][De],Be=Wt===Xe.row+(Xe.direction==="down"?dt:0)&&De===Xe.col+(Xe.direction==="across"?dt:0);if(Pe&&!Be){Pt=!1;break}if(Pe&&Be&&Pe!==je.word[Et]){Pt=!1;break}if(!Be){if(Jt==="across"&&(Wt>0&&Z[Wt-1][De]||Wt<W-1&&Z[Wt+1][De])){Pt=!1;break}if(Jt==="down"&&(De>0&&Z[Wt][De-1]||De<W-1&&Z[Wt][De+1])){Pt=!1;break}}Pe&&Tt++}Pt&&Tt>He.score&&(He={score:Tt,row:Ct,col:Dt,direction:Jt})}if(He.score>-1){for(let Xe=0;Xe<je.word.length;Xe++){const dt=He.row+(He.direction==="down"?Xe:0),Et=He.col+(He.direction==="across"?Xe:0);Z[dt][Et]=je.word[Xe]}V.push({word:je.word,clue:je.clue,direction:He.direction,row:He.row,col:He.col})}}let P=W,G=-1,Y=W,re=-1;V.forEach(je=>{P=Math.min(P,je.row),G=Math.max(G,je.row+(je.direction==="down"?je.word.length-1:0)),Y=Math.min(Y,je.col),re=Math.max(re,je.col+(je.direction==="across"?je.word.length-1:0))}),G===-1&&(P=V[0].row,G=V[0].row,Y=V[0].col,re=V[0].col+V[0].word.length-1);const ie=1,de=Math.max(0,P-ie),me=Math.min(W,G+1+ie),ue=Math.max(0,Y-ie),ye=Math.min(W,re+1+ie),Ie=Z.slice(de,me).map(je=>je.slice(ue,ye)),ne=V.map(je=>({...je,row:je.row-de,col:je.col-ue})).sort((je,He)=>je.row-He.row||je.col-He.col);let Fe=1;const Le=[],ke=new Map;ne.forEach(je=>{const He=`${je.row},${je.col}`;ke.has(He)||ke.set(He,Fe++),Le.push({...je,number:ke.get(He)})});const pe=Ie.map(je=>je.map(He=>({char:He,number:null})));return Le.forEach(je=>{const He=`${je.row},${je.col}`;pe[je.row]&&pe[je.row][je.col]!==void 0&&(pe[je.row][je.col].number=ke.get(He))}),{grid:pe,clues:{across:Le.filter(je=>je.direction==="across").sort((je,He)=>je.number-He.number),down:Le.filter(je=>je.direction==="down").sort((je,He)=>je.number-He.number)}}}catch(Q){return console.error("Error generating crossword grid:",Q),alert("Ocurrió un error inesperado al generar el crucigrama. Intente con palabras diferentes."),null}},[l,d]),O=async()=>{var ee;S(W=>({...W,puzzle:!0})),g(null),await new Promise(W=>setTimeout(W,100));const Q=D();if(Q){const W={creadorId:t.id,creadorNombre:t.nombreCompleto,tema:m||"Personalizado",grid:Q.grid,clues:Q.clues},{grid:Z,...V}=W,q={...V,grid_flat:Z.flat().map(K=>K.char||""),grid_width:((ee=Z[0])==null?void 0:ee.length)||0};try{const K=await H7e(q,t);g({...W,id:K,fechaCreacion:new Date().toISOString()})}catch(K){console.error("Error saving puzzle:",K),alert("No se pudo guardar el crucigrama en la base de datos.")}}S(W=>({...W,puzzle:!1}))},M=()=>{F.current&&(y(!1),setTimeout(()=>{aN(F.current,{cacheBust:!0,backgroundColor:"#ffffff",pixelRatio:2}).then(Q=>{const ee=document.createElement("a");ee.download="crucigrama.png",ee.href=Q,ee.click()}).catch(Q=>console.error("Error generating image",Q))},100))};return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-4xl",children:"✏️"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Crucigramas"}),c.jsx("button",{onClick:e,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:"← Volver a Recursos"})]})]}),x?c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{ref:F,className:"p-6 bg-white dark:bg-slate-900 text-black dark:text-white",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsx("div",{children:c.jsx("div",{className:"border border-black dark:border-white",style:{display:"grid",gridTemplateColumns:`repeat(${x.grid[0].length}, 2rem)`},children:x.grid.flat().map((Q,ee)=>c.jsxs("div",{className:"relative w-8 h-8 border border-black dark:border-white flex items-center justify-center font-bold uppercase",style:{backgroundColor:Q.char?"white":"black"},children:[Q.number&&c.jsx("span",{className:"absolute top-0 left-0.5 text-[8px]",children:Q.number}),b&&Q.char&&c.jsx("span",{children:Q.char})]},ee))})}),c.jsxs("div",{className:"text-sm",children:[c.jsx("h3",{className:"font-bold text-lg mb-2",children:"HORIZONTALES"}),c.jsx("ul",{className:"space-y-1",children:x.clues.across.map(Q=>c.jsxs("li",{children:[c.jsxs("strong",{children:[Q.number,"."]})," ",Q.clue]},`${Q.word}-${Q.clue}`))}),c.jsx("h3",{className:"font-bold text-lg mt-4 mb-2",children:"VERTICALES"}),c.jsx("ul",{className:"space-y-1",children:x.clues.down.map(Q=>c.jsxs("li",{children:[c.jsxs("strong",{children:[Q.number,"."]})," ",Q.clue]},`${Q.word}-${Q.clue}`))})]})]})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:b,onChange:()=>y(!b),className:"h-5 w-5 rounded"}),c.jsx("span",{children:"Mostrar Solución"})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>g(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Crear otro"}),c.jsx("button",{onClick:M,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Descargar como PNG"})]})]})]}):c.jsxs("div",{className:"space-y-6 pt-4 border-t dark:border-slate-700",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Número de palabras"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[[5,10,15,20].map(Q=>c.jsx("button",{onClick:()=>{s(Q),o(!1)},className:`px-4 py-2 rounded-md font-semibold text-sm ${!i&&a===Q?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:Q},Q)),c.jsx("button",{onClick:()=>o(!0),className:`px-4 py-2 rounded-md font-semibold text-sm ${i?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:"Personalizado"}),i&&c.jsx("input",{type:"number",value:a,onChange:Q=>s(parseInt(Q.target.value,10)),min:"1",max:"30",className:"w-24 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"ai-theme",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Completar palabras y pistas con IA (Opcional)"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{id:"ai-theme",type:"text",value:m,onChange:Q=>p(Q.target.value),placeholder:"Envía un tema...",className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("button",{onClick:N,disabled:_.ai,className:"bg-sky-500 text-white font-semibold px-4 py-2 rounded-md flex items-center justify-center min-w-[120px]",children:_.ai?c.jsx(f9e,{}):c.jsxs(c.Fragment,{children:[c.jsx($H,{}),c.jsx("span",{className:"ml-2",children:"Generar"})]})})]})]}),c.jsx("div",{className:"space-y-3",children:Array.from({length:a}).map((Q,ee)=>c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[c.jsx("input",{type:"text",value:l[ee],onChange:W=>w(ee,W.target.value),placeholder:`Palabra ${ee+1}`,className:"border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsxs("div",{className:"md:col-span-2 flex items-center gap-2",children:[c.jsx("textarea",{value:d[ee],onChange:W=>C(ee,W.target.value),placeholder:`Pista ${ee+1}`,rows:1,className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("button",{onClick:()=>R(ee),disabled:I===ee,className:"p-2 bg-slate-200 dark:bg-slate-600 rounded-md hover:bg-slate-300 disabled:opacity-50",title:"Generar Pista con IA",children:I===ee?c.jsx("div",{className:"w-5 h-5 border-2 border-slate-400 border-t-amber-500 rounded-full animate-spin"}):c.jsx($H,{})})]})]},ee))}),c.jsx("div",{className:"text-right pt-4",children:c.jsx("button",{onClick:O,disabled:_.puzzle,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 min-w-[200px]",children:_.puzzle?"Generando...":"Generar Crucigrama"})})]})]})},m9e=()=>{const[e,t]=k.useState(null),[r,n]=k.useState(!0);return k.useEffect(()=>{const a=xq(rge,async s=>{if(s&&s.email)try{const i=await uX(s.email);t(i)}catch(i){console.error("Error al obtener el perfil del usuario:",i),t(null)}else t(null);n(!1)});return()=>a()},[]),{currentUser:e,loading:r}},p9e=[{id:"sopaDeLetras",icon:"🅰️",nombre:"Sopa de Letras",descripcion:"Crea y resuelve sopas de letras personalizadas para aprender palabras clave de cualquier asignatura."},{id:"mapasMentales",icon:"🧠",nombre:"Mapas Mentales",descripcion:"Organiza ideas y conceptos de forma visual para facilitar el estudio y la memoria."},{id:"crucigramas",icon:"✏️",nombre:"Crucigramas",descripcion:"Crea y resuelve crucigramas para reforzar vocabulario y conceptos clave."},{id:"lineasDeTiempo",icon:"🕒",nombre:"Líneas de Tiempo",descripcion:"Construye líneas de tiempo para comprender procesos, hechos históricos o secuencias."}],g9e=({recurso:e,onClick:t})=>c.jsxs("button",{onClick:t,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md hover:shadow-lg hover:-translate-y-1 transition-all duration-300 ease-in-out cursor-pointer flex flex-col items-center text-center h-full",children:[c.jsx("div",{className:"text-6xl mb-4",children:e.icon}),c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:e.nombre}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm flex-grow",children:e.descripcion})]}),v9e=()=>{const[e,t]=k.useState("menu"),{currentUser:r}=m9e(),n=()=>e!=="menu"&&!r?c.jsx("div",{className:"text-center p-8",children:"Cargando información de usuario..."}):e==="mapasMentales"?c.jsx(s9e,{onBack:()=>t("menu"),currentUser:r}):e==="sopaDeLetras"?c.jsx(l9e,{onBack:()=>t("menu"),currentUser:r}):e==="lineasDeTiempo"?c.jsx(A9e,{onBack:()=>t("menu"),currentUser:r}):e==="crucigramas"?c.jsx(h9e,{onBack:()=>t("menu"),currentUser:r}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Recursos de Aprendizaje"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Seleccione una herramienta para crear una nueva actividad educativa para sus estudiantes."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:p9e.map(a=>c.jsx(g9e,{recurso:a,onClick:()=>t(a.id)},a.id))})]});return c.jsx("div",{className:"animate-fade-in space-y-6",children:n()})},x9e="evaluaciones_formativas",b9e="calificaciones_formativas",jre="trabajos_grupales_formativos",Fre=e=>{var r,n,a,s;const t=e.data();return{id:e.id,...t,fecha:((n=(r=t.fecha)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString().split("T")[0])||t.fecha,fechaPresentacion:((s=(a=t.fechaPresentacion)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString().split("T")[0])||t.fechaPresentacion}},y9e=(e,t)=>{const r=tr(Ft(Bt,x9e),Mn("curso","==",e));return br(r,n=>{t(n.docs.map(a=>Fre(a)))},n=>{console.error("Error subscribing to student evaluations:",n),t([])})},w9e=e=>{const t=tr(Ft(Bt,b9e));return br(t,r=>{const n={};r.forEach(a=>{n[a.id]=a.data()}),e(n)},r=>{console.error("Error subscribing to grades:",r),e({})})},E9e=(e,t)=>{const r=tr(Ft(Bt,jre),Mn("curso","==",e));return br(r,n=>{t(n.docs.map(a=>Fre(a)))},n=>{console.error("Error subscribing to group projects:",n),t([])})},C9e=async e=>{try{const{id:t,...r}=e,n=Er(Bt,jre,t);await io(n,r)}catch(t){throw console.error("Error updating group project:",t),new Error("Could not update group project.")}},_9e=({currentUser:e})=>{const[t,r]=k.useState([]),[n,a]=k.useState({}),[s,i]=k.useState([]),[o,l]=k.useState(!0),[u,d]=k.useState(null),[f,m]=k.useState(!1),[p,x]=k.useState(null),g=k.useRef(null);k.useEffect(()=>{if(!e.curso){l(!1);return}l(!0);const I=y9e(e.curso,r),T=w9e(a),F=E9e(e.curso,w=>{i(w),l(!1)});return()=>{I(),T(),F()}},[e.curso]);const b=k.useMemo(()=>{if(!e.curso)return[];const T=t.filter(F=>F.curso===e.curso).reduce((F,w)=>((F[w.asignatura]=F[w.asignatura]||[]).push(w),F),{});return Object.entries(T).map(([F,w])=>{let C=0,N=0;const R=w.map(O=>{var ee;const M=(ee=n[O.id])==null?void 0:ee[e.nombreCompleto];let Q="No Trabajado";return M==="trabajado"?(C+=7,N++,Q="Trabajado"):M==="no trabajado"&&(C+=2,N++,Q="No Trabajado"),{id:O.id,nombreActividad:O.nombreActividad,fecha:O.fecha,estado:Q}}).filter(O=>{var M;return(M=n[O.id])==null?void 0:M[e.nombreCompleto]}),D=N>0?(C/N).toFixed(1):"N/A";return{asignatura:F,promedio:D,actividades:R.sort((O,M)=>new Date(M.fecha).getTime()-new Date(O.fecha).getTime())}}).filter(F=>F.actividades.length>0).sort((F,w)=>F.asignatura.localeCompare(w.asignatura))},[t,n,e]);k.useEffect(()=>{if(b.reduce((N,R)=>N+R.actividades.length,0)===0){d(null);return}const T=b.reduce((N,R)=>{const D=parseFloat(R.promedio);return isNaN(D)?N:N+D},0),F=b.length>0?T/b.length:0,w=R2.find(N=>F>=N.promedioMin&&F<=N.promedioMax)||null,C=R2.filter(N=>F>=N.promedioMin);if(d({puntajeTotal:0,promedio:F,rangoActual:w,insigniasGanadas:C}),g.current!==null){const N=R2.find(R=>g.current>=R.promedioMin&&g.current<=R.promedioMax)||null;w&&(!N||w.nombre!==N.nombre)&&x(w)}g.current=F},[b]);const y=k.useMemo(()=>e.curso?s.filter(I=>I.curso===e.curso).map(I=>{const T=I.grupos.find(F=>F.integrantes.some(w=>w.nombre===e.nombreCompleto));return T?{...I,miGrupo:T}:null}).filter(I=>I!==null).sort((I,T)=>new Date(T.fechaPresentacion).getTime()-new Date(I.fechaPresentacion).getTime()):[],[s,e]),_=async(I,T)=>{const F=s.find(C=>C.id===I);if(!F)return;const w={...F,grupos:F.grupos.map(C=>C.integrantes.some(R=>R.nombre===e.nombreCompleto)?{...C,integrantes:C.integrantes.map(R=>R.nombre===e.nombreCompleto?{...R,rol:T||void 0}:R)}:C)};try{await C9e(w)}catch(C){console.error("Error updating role:",C),alert("No se pudo actualizar el rol.")}},S=I=>{const T=parseFloat(I);return isNaN(T)?"bg-slate-400":T<4?"bg-red-500":T<5.5?"bg-yellow-500":"bg-green-500"};return o?c.jsx("div",{className:"text-center py-10",children:"Cargando tu rendimiento..."}):c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[p&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4",onClick:()=>x(null),children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md text-center p-8 animate-fade-in-up transform transition-all",onClick:I=>I.stopPropagation(),children:[c.jsx("div",{className:"text-8xl animate-bounce",children:p.emoji}),c.jsx("h2",{className:"text-3xl font-bold text-slate-800 mt-4",children:"¡Subiste de Rango!"}),c.jsx("p",{className:"text-2xl font-semibold text-amber-500 mt-2",children:p.nombre}),c.jsx("p",{className:"text-slate-600 mt-4",children:p.mensaje}),c.jsx("button",{onClick:()=>x(null),className:"mt-6 bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700",children:"¡Genial!"})]})}),f&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:()=>m(!1),children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg p-6 max-h-[80vh] flex flex-col",onClick:I=>I.stopPropagation(),children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Mis Logros"}),c.jsx("div",{className:"overflow-y-auto space-y-3",children:R2.map(I=>{const T=u==null?void 0:u.insigniasGanadas.some(F=>F.nombre===I.nombre);return c.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${T?"bg-amber-50 border-amber-200":"bg-slate-100 border-slate-200 opacity-60"}`,children:[c.jsx("div",{className:"text-5xl",children:I.emoji}),c.jsxs("div",{children:[c.jsx("h3",{className:`font-bold ${T?"text-amber-700":"text-slate-600"}`,children:I.nombre}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Requisito: Promedio entre ",I.promedioMin," y ",I.promedioMax]})]})]},I.nombre)})})]})}),c.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Mi Rendimiento Formativo"}),c.jsx("p",{className:"text-slate-500 mb-6",children:"Aquí puedes ver un resumen de tu trabajo en clases por cada asignatura."}),u&&u.rangoActual&&c.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-slate-700 text-white p-6 rounded-xl mb-8 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm opacity-80",children:"RANGO ACTUAL"}),c.jsx("h2",{className:"text-3xl font-bold",children:u.rangoActual.nombre}),c.jsx("button",{onClick:()=>m(!0),className:"mt-2 text-xs font-semibold bg-white/20 hover:bg-white/30 px-3 py-1 rounded-full",children:"Ver todos los logros"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-7xl",children:u.rangoActual.emoji}),c.jsx("p",{className:"font-bold text-2xl mt-2",children:u.promedio.toFixed(1)}),c.jsx("p",{className:"text-sm opacity-80",children:"Promedio General"})]})]}),b.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(I=>c.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-5 flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800",children:I.asignatura}),c.jsx("p",{className:"text-sm text-slate-500",children:"Promedio Formativo"})]}),c.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center text-white font-bold text-3xl ${S(I.promedio)}`,children:I.promedio})]}),c.jsxs("div",{className:"flex-grow space-y-2 pt-4 border-t border-slate-200",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-600 mb-2",children:"Detalle de Actividades:"}),I.actividades.map(T=>c.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-700",children:T.nombreActividad}),c.jsx("p",{className:"text-xs text-slate-500",children:new Date(T.fecha+"T12:00:00").toLocaleDateString("es-CL")})]}),c.jsx("span",{className:`font-semibold ${T.estado==="Trabajado"?"text-green-600":"text-red-600"}`,children:T.estado==="Trabajado"?"✅ Trabajado":"❌ No Trabajado"})]},T.id))]})]},I.asignatura))}):c.jsxs("div",{className:"text-center py-16 bg-slate-50 rounded-lg",children:[c.jsx("span",{className:"text-5xl",children:"📊"}),c.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-700",children:"Aún sin registros"}),c.jsx("p",{className:"text-slate-500 mt-2",children:"Todavía no tienes evaluaciones formativas registradas por tus profesores."})]})]}),y.length>0&&c.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Mis Trabajos Grupales"}),c.jsx("div",{className:"space-y-4",children:y.map(I=>{const T=I.miGrupo.integrantes.filter(w=>w.nombre!==e.nombreCompleto&&w.rol).map(w=>w.rol),F=AX.filter(w=>!T.includes(w));return c.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50",children:[c.jsx("h3",{className:"font-bold text-slate-800",children:I.nombreActividad}),c.jsxs("p",{className:"text-sm text-slate-500",children:[I.asignatura," - Presentación: ",new Date(I.fechaPresentacion+"T12:00:00").toLocaleDateString("es-CL")]}),c.jsxs("div",{className:"mt-3 pt-3 border-t",children:[c.jsxs("h4",{className:"font-semibold text-sm",children:["Grupo ",I.miGrupo.numero]}),c.jsx("ul",{className:"list-disc list-inside text-sm mt-2 space-y-2",children:I.miGrupo.integrantes.map(w=>c.jsxs("li",{className:"grid grid-cols-2 items-center",children:[c.jsx("span",{className:w.nombre===e.nombreCompleto?"font-bold":"",children:w.nombre}),w.nombre===e.nombreCompleto?c.jsxs("select",{value:w.rol||"",onChange:C=>_(I.id,C.target.value),className:"text-sm p-1 border rounded w-full",children:[c.jsx("option",{value:"",children:"-- Seleccionar rol --"}),w.rol&&!F.includes(w.rol)&&c.jsx("option",{value:w.rol,children:w.rol}),F.map(C=>c.jsx("option",{value:C,children:C},C))]}):c.jsx("span",{className:"text-xs italic bg-slate-200 px-2 py-1 rounded-full",children:w.rol||"Sin rol"})]},w.nombre))})]})]},I.id)})})]})]})},S9e="proyectos_interdisciplinarios",Ore="entregas_interdisciplinarias",Dre=e=>{var r,n,a,s;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion,fechaCompletado:((s=(a=t.fechaCompletado)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString())||t.fechaCompletado}},N9e=(e,t)=>{const r=tr(Ft(Bt,S9e),Mn("cursos","array-contains",e));return br(r,n=>{const a=n.docs.map(s=>Dre(s));t(a)},n=>{console.error("Error al suscribirse a los proyectos:",n),t([])})},B9e=(e,t)=>{const r=tr(Ft(Bt,Ore),Mn("estudianteId","==",e));return br(r,n=>{const a=n.docs.map(s=>Dre(s));t(a)},n=>{console.error("Error al suscribirse a las entregas:",n),t([])})},k9e=async e=>{try{const{id:t,...r}=e,n=Er(Bt,Ore,t),a={...r,fechaCompletado:fr.fromDate(new Date(r.fechaCompletado||Date.now()))};await io(n,a,{merge:!0})}catch(t){throw console.error("Error al actualizar la entrega:",t),new Error("No se pudo guardar la entrega.")}},T9e=({currentUser:e})=>{const[t,r]=k.useState([]),[n,a]=k.useState([]),[s,i]=k.useState(null),[o,l]=k.useState(!0);k.useEffect(()=>{if(!e.curso||!e.id){l(!1);return}l(!0);const f=N9e(e.curso,r),m=B9e(e.id,p=>{a(p),l(!1)});return()=>{f(),m()}},[e.curso,e.id]);const u=async f=>{try{await k9e(f)}catch(m){console.error("Failed to update submission:",m),alert("Hubo un error al guardar tu entrega.")}},d=({plan:f,tarea:m})=>{const p=k.useMemo(()=>{const T=n.find(F=>F.planificacionId===f.id&&F.tareaId===m.id);return T||{id:`${f.id}_${m.id}_${e.id}`,planificacionId:f.id,tareaId:m.id,estudianteId:e.id,estudianteNombre:e.nombreCompleto,completada:!1}},[f.id,m.id,n]),[x,g]=k.useState(!1),[b,y]=k.useState({observaciones:p.observacionesEstudiante||"",enlace:p.enlaceUrl||""}),_=T=>{var w;const F=(w=T.target.files)==null?void 0:w[0];F&&(alert(`Simulación: Archivo "${F.name}" listo para subir.`),u({...p,archivoAdjunto:{nombre:F.name,url:`simulated/path/${F.name}`},fechaCompletado:new Date().toISOString()}))},S=()=>{u({...p,observacionesEstudiante:b.observaciones,enlaceUrl:b.enlace,fechaCompletado:new Date().toISOString()})},I=()=>{u({...p,completada:!p.completada,fechaCompletado:new Date().toISOString()})};return c.jsxs("div",{className:"p-3 bg-white dark:bg-slate-700/50 rounded-lg border dark:border-slate-600",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("input",{type:"checkbox",checked:p.completada,onChange:I,className:"mt-1 h-5 w-5 rounded text-amber-500 focus:ring-amber-400"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("p",{className:`font-semibold ${p.completada?"line-through text-slate-500":"text-slate-800"}`,children:["Tarea ",m.numero,": ",m.instrucciones]}),c.jsxs("p",{className:"text-xs text-slate-500",children:["Fecha de entrega: ",m.fechaEntrega]}),m.recursoUrl&&c.jsx("a",{href:m.recursoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline",children:"Ver Recurso"})]}),c.jsx("button",{onClick:()=>g(!x),className:"text-sm font-semibold",children:x?"Ocultar":"Entregar"})]}),x&&c.jsxs("div",{className:"mt-3 pt-3 pl-8 border-t dark:border-slate-600 space-y-3 animate-fade-in-up",children:[c.jsx("textarea",{value:b.observaciones,onChange:T=>y({...b,observaciones:T.target.value}),onBlur:S,placeholder:"Añadir observaciones o comentarios...",rows:2,className:"w-full text-sm p-1 border rounded"}),c.jsx("input",{type:"url",value:b.enlace,onChange:T=>y({...b,enlace:T.target.value}),onBlur:S,placeholder:"Pegar un enlace (ej: Google Docs, video)...",className:"w-full text-sm p-1 border rounded"}),c.jsx("input",{type:"file",onChange:_,className:"text-sm"}),p.archivoAdjunto&&c.jsxs("p",{className:"text-xs text-green-600",children:["✓ Archivo subido: ",p.archivoAdjunto.nombre]})]}),p.feedbackProfesor&&c.jsxs("div",{className:"mt-3 pt-3 pl-8 border-t border-amber-300 bg-amber-50 dark:bg-amber-900/20 p-2 rounded",children:[c.jsx("p",{className:"text-sm font-semibold text-amber-800 dark:text-amber-200",children:"Retroalimentación del profesor:"}),c.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:p.feedbackProfesor})]})]})};return o?c.jsx("div",{className:"text-center py-10",children:"Cargando tus proyectos..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Mis Tareas Interdisciplinarias"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Revisa y completa las tareas de tus proyectos."})]}),t.length>0?t.map(f=>{const m=f.tareas||[],x=n.filter(b=>b.planificacionId===f.id).filter(b=>b.completada).length,g=m.length>0?x/m.length*100:0;return c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[c.jsxs("button",{onClick:()=>i(s===f.id?null:f.id),className:"w-full text-left",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:f.nombreProyecto}),c.jsxs("div",{className:"mt-2 space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-sm font-medium text-slate-500",children:[c.jsx("span",{children:"Progreso"}),c.jsxs("span",{children:[Math.round(g),"%"]})]}),c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:c.jsx("div",{className:"bg-amber-500 h-2.5 rounded-full",style:{width:`${g}%`}})})]})]}),s===f.id&&c.jsx("div",{className:"mt-4 pt-4 border-t space-y-3",children:m.length>0?m.map(b=>c.jsx(d,{plan:f,tarea:b},b.id)):c.jsx("p",{className:"text-slate-500 text-center",children:"Este proyecto aún no tiene tareas asignadas."})})]},f.id)}):c.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-md",children:[c.jsx("span",{className:"text-5xl",children:"🎉"}),c.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-700",children:"¡Todo al día!"}),c.jsx("p",{className:"text-slate-500 mt-2",children:"No tienes tareas de proyectos interdisciplinarios asignadas por el momento."})]})]})},I9e=({data:e})=>c.jsx("div",{className:"space-y-4",children:e.map((r,n)=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[c.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:r.label.replace("Dominio A: ","A: ").replace("Dominio B: ","B: ").replace("Dominio C: ","C: ")}),c.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:[r.value.toFixed(2)," / 4.00"]})]}),c.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:c.jsx("div",{className:"bg-sky-500 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${r.value/4*100}%`}})})]},r.label+n))}),j9e=({currentUser:e})=>{const[t,r]=k.useState([]),[n,a]=k.useState(!1),[s,i]=k.useState(null),[o,l]=k.useState(null),[u,d]=k.useState(vb),f=k.useCallback(async()=>{a(!0);try{const b=(await X3e(e.nombreCompleto)).sort((y,_)=>new Date(_.fecha).getTime()-new Date(y.fecha).getTime());r(b),i(null)}catch(g){console.error("Error al cargar acompañamientos desde Firestore",g),i("No se pudieron cargar tus acompañamientos desde la nube.")}finally{a(!1)}},[e.nombreCompleto]),m=k.useCallback(async()=>{try{const g=await Y3e();g&&d(g)}catch(g){console.error("Error al cargar rúbrica personalizada",g)}},[]);k.useEffect(()=>{f(),m()},[f,m]);const p=k.useMemo(()=>{if(!o)return[];const g={};return u.forEach(b=>{g[b.domain]={total:0,count:0},b.criteria.forEach(y=>{const _=o.rubricaResultados[y.name];_&&(g[b.domain].total+=_,g[b.domain].count++)})}),Object.entries(g).map(([b,y])=>({label:b,value:y.count>0?y.total/y.count:0}))},[o,u]),x=g=>{const b=new mr;b.setFont("helvetica","bold"),b.setFontSize(10),b.setTextColor(100),b.text("LICEO INDUSTRIAL DE RECOLETA",b.internal.pageSize.getWidth()/2,15,{align:"center"}),b.setFont("helvetica","bold"),b.setFontSize(16),b.setTextColor(40),b.text("Informe de Acompañamiento Docente",b.internal.pageSize.getWidth()/2,25,{align:"center"}),b.setFontSize(12),b.setFont("helvetica","normal"),nl(b,{startY:35,body:[["Docente:",g.docente],["Fecha:",new Date(g.fecha).toLocaleDateString("es-CL")],["Asignatura:",g.asignatura],["Curso:",g.curso],["Bloques:",g.bloques||"No especificado"]],theme:"plain",styles:{fontSize:11,cellPadding:2},columnStyles:{0:{cellWidth:35,fontStyle:"bold"}}});let y=b.lastAutoTable.finalY+15;if(Object.keys(g.rubricaResultados).length>0){const I=[],T=["Débil","Incipiente","Satisfactorio","Avanzado"];u.forEach(F=>{I.push([{content:F.domain,colSpan:2,styles:{fontStyle:"bold",fillColor:[220,220,220],textColor:[40,40,40]}}]),F.criteria.forEach(w=>{const C=g.rubricaResultados[w.name],N=C?T[C-1]:"No evaluado";I.push([w.name,N])})}),nl(b,{startY:y,head:[["Indicador","Nivel de Logro"]],body:I,theme:"grid",headStyles:{fillColor:[44,62,80],textColor:255},styles:{fontSize:10}}),y=b.lastAutoTable.finalY+15}const _=(I,T)=>{if(!T)return;y>250&&(b.addPage(),y=20,b.setFont("helvetica","bold"),b.setFontSize(10),b.setTextColor(100),b.text("LICEO INDUSTRIAL DE RECOLETA",b.internal.pageSize.getWidth()/2,15,{align:"center"}),y=25),b.setFont("helvetica","bold"),b.setFontSize(14),b.setTextColor(40),b.text(I,14,y),y+=8,b.setFont("helvetica","normal"),b.setFontSize(11),b.setTextColor(60);const F=b.splitTextToSize(T.replace(/## /g,"").replace(/(\*\*|\*)/g,""),180);b.text(F,14,y),y+=F.length*5+10};_("Observaciones Generales",g.observacionesGenerales),_("Retroalimentación Consolidada",g.retroalimentacionConsolidada);const S=b.getNumberOfPages();for(let I=1;I<=S;I++)b.setPage(I),b.setFontSize(8),b.setTextColor(128),b.text(`Página ${I} de ${S}`,b.internal.pageSize.getWidth()/2,b.internal.pageSize.getHeight()-10,{align:"center"});b.save(`Acompanamiento_${e.nombreCompleto.replace(/\s/g,"_")}_${new Date(g.fecha).toLocaleDateString("es-CL").replace(/\//g,"-")}.pdf`)};return o?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{children:[c.jsx("button",{onClick:()=>l(null),className:"text-sm font-semibold text-slate-500 hover:underline mb-2",children:"← Volver a mi historial"}),c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Detalle del Acompañamiento"}),c.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[new Date(o.fecha).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"})," | ",o.curso," - ",o.asignatura]})]}),c.jsxs("button",{onClick:()=>x(o),className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2 hover:bg-red-700",children:[c.jsx(dX,{})," Exportar PDF"]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-2 space-y-6",children:c.jsxs("div",{className:"prose dark:prose-invert max-w-none prose-slate",children:[c.jsx("h3",{children:"Retroalimentación Consolidada (IA)"}),c.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:c.jsx("p",{className:"whitespace-pre-wrap",children:o.retroalimentacionConsolidada||"No se ha generado retroalimentación."})}),c.jsx("h3",{children:"Observaciones Generales"}),c.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:c.jsx("p",{className:"whitespace-pre-wrap",children:o.observacionesGenerales||"Sin observaciones."})})]})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Desempeño por Dominio"}),c.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:c.jsx(I9e,{data:p})})]})]})]}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Mis Acompañamientos"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Aquí encontrarás el historial de tus observaciones de clase y la retroalimentación asociada."}),n&&c.jsx("div",{className:"text-center text-amber-600 py-4",children:"Cargando tus acompañamientos desde la nube..."}),s&&c.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:s}),!n&&t.length===0&&c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 p-4 rounded-lg mb-6",children:"No tienes acompañamientos registrados en la nube."}),c.jsx("div",{className:"space-y-4",children:!n&&t.length>0?t.map(g=>c.jsx("button",{onClick:()=>l(g),className:"w-full text-left p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50 hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-colors",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[g.curso," - ",g.asignatura]}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Fecha: ",new Date(g.fecha).toLocaleDateString("es-CL"),g.bloques&&` | Bloques: ${g.bloques}`]}),Object.keys(g.rubricaResultados).length>0&&c.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-1",children:["Evaluado en ",Object.keys(g.rubricaResultados).length," criterios"]})]}),c.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400 text-sm",children:"Ver Detalles"})]})},g.id)):!n&&c.jsxs("div",{className:"text-center py-16 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[c.jsx("span",{className:"text-5xl",children:"👍"}),c.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-700 dark:text-slate-300",children:"Sin Registros"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Aún no tienes acompañamientos de clase registrados."})]})})]})},F9e=e=>{console.log("🔄 Iniciando suscripción a todas las planificaciones...");try{const t=Ft(Mr,"planificaciones"),r=tr(t,qr("fechaCreacion","desc"));return br(r,a=>{const s=[];a.forEach(i=>{const o=i.data();s.push({id:i.id,...o})}),console.log("✅ Todas las planificaciones cargadas:",s.length),e(s)},a=>{throw console.error("❌ Error al cargar todas las planificaciones:",a),a})}catch(t){throw console.error("❌ Error al configurar suscripción a todas las planificaciones:",t),t}},O9e=(e,t)=>{if(console.log("🔄 Iniciando suscripción a planificaciones del usuario:",e),!e)throw console.error("❌ userId no proporcionado"),new Error("userId es requerido");try{const r=Ft(Mr,"planificaciones"),n=tr(r,Mn("userId","==",e),qr("fechaCreacion","desc"));return br(n,s=>{const i=[];s.forEach(o=>{const l=o.data();i.push({id:o.id,...l})}),console.log("✅ Planificaciones del usuario cargadas:",i.length),t(i)},s=>{throw console.error("❌ Error al cargar planificaciones del usuario:",s),s})}catch(r){throw console.error("❌ Error al configurar suscripción a planificaciones del usuario:",r),r}};function v0(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function D9e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bD(e){let t,r,n;e.length!==2?(t=v0,r=(o,l)=>v0(e(o),l),n=(o,l)=>e(o)-l):(t=e===v0||e===D9e?e:P9e,r=e,n=e);function a(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function i(o,l,u=0,d=o.length){const f=a(o,l,u,d-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:i,right:s}}function P9e(){return 0}function Pre(e){return e===null?NaN:+e}function*R9e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const L9e=bD(v0),hw=L9e.right;bD(Pre).center;class KH extends Map{constructor(t,r=Q9e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(GH(this,t))}has(t){return super.has(GH(this,t))}set(t,r){return super.set(U9e(this,t),r)}delete(t){return super.delete(M9e(this,t))}}function GH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function U9e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function M9e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Q9e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function H9e(e=v0){if(e===v0)return Rre;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Rre(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const V9e=Math.sqrt(50),z9e=Math.sqrt(10),$9e=Math.sqrt(2);function eS(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=V9e?10:s>=z9e?5:s>=$9e?2:1;let o,l,u;return a<0?(u=Math.pow(10,-a)/i,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*i,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?eS(e,t,r*2):[o,l,u]}function jj(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?eS(t,e,r):eS(e,t,r);if(!(s>=a))return[];const o=s-a+1,l=new Array(o);if(n)if(i<0)for(let u=0;u<o;++u)l[u]=(s-u)/-i;else for(let u=0;u<o;++u)l[u]=(s-u)*i;else if(i<0)for(let u=0;u<o;++u)l[u]=(a+u)/-i;else for(let u=0;u<o;++u)l[u]=(a+u)*i;return l}function Fj(e,t,r){return t=+t,e=+e,r=+r,eS(e,t,r)[2]}function Oj(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Fj(t,e,r):Fj(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function qH(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function WH(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Lre(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Rre:H9e(a);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/l+m)),x=Math.min(n,Math.floor(t+(l-u)*f/l+m));Lre(e,t,p,x,a)}const s=e[t];let i=r,o=n;for(F1(e,r,t),a(e[n],s)>0&&F1(e,r,n);i<o;){for(F1(e,i,o),++i,--o;a(e[i],s)<0;)++i;for(;a(e[o],s)>0;)--o}a(e[r],s)===0?F1(e,r,o):(++o,F1(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function F1(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function K9e(e,t,r){if(e=Float64Array.from(R9e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return WH(e);if(t>=1)return qH(e);var n,a=(n-1)*t,s=Math.floor(a),i=qH(Lre(e,s).subarray(0,s+1)),o=WH(e.subarray(s+1));return i+(o-i)*(a-s)}}function G9e(e,t,r=Pre){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),o=+r(e[s+1],s+1,e);return i+(o-i)*(a-s)}}function q9e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}const Dj=Math.PI,Pj=2*Dj,Cm=1e-6,W9e=Pj-Cm;function Ure(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function X9e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Ure;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Y9e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ure:X9e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,o=this._y1,l=n-t,u=a-r,d=i-t,f=o-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Cm)if(!(Math.abs(f*l-u*d)>Cm)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,x=a-o,g=l*l+u*u,b=p*p+x*x,y=Math.sqrt(g),_=Math.sqrt(m),S=s*Math.tan((Dj-Math.acos((g+m-b)/(2*y*_)))/2),I=S/_,T=S/y;Math.abs(I-1)>Cm&&this._append`L${t+I*d},${r+I*f}`,this._append`A${s},${s},0,0,${+(f*p>d*x)},${this._x1=t+T*l},${this._y1=r+T*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),u=t+o,d=r+l,f=1^i,m=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Cm||Math.abs(this._y1-d)>Cm)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%Pj+Pj),m>W9e?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>Cm&&this._append`A${n},${n},0,${+(m>=Dj)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function J9e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function tS(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Vv(e){return e=tS(Math.abs(e)),e?e[1]:NaN}function Z9e(e,t){return function(r,n){for(var a=r.length,s=[],i=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[i=(i+1)%e.length];return s.reverse().join(t)}}function eQe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var tQe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cy(e){if(!(t=tQe.exec(e)))throw new Error("invalid format: "+e);var t;return new yD({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Cy.prototype=yD.prototype;function yD(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}yD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rQe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Mre;function nQe(e,t){var r=tS(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(Mre=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+tS(e,Math.max(0,t+s-1))[0]}function XH(e,t){var r=tS(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const YH={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:J9e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>XH(e*100,t),r:XH,s:nQe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function JH(e){return e}var ZH=Array.prototype.map,eV=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function aQe(e){var t=e.grouping===void 0||e.thousands===void 0?JH:Z9e(ZH.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?JH:eQe(ZH.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Cy(f);var m=f.fill,p=f.align,x=f.sign,g=f.symbol,b=f.zero,y=f.width,_=f.comma,S=f.precision,I=f.trim,T=f.type;T==="n"?(_=!0,T="g"):YH[T]||(S===void 0&&(S=12),I=!0,T="g"),(b||m==="0"&&p==="=")&&(b=!0,m="0",p="=");var F=g==="$"?r:g==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",w=g==="$"?n:/[%p]/.test(T)?i:"",C=YH[T],N=/[defgprs%]/.test(T);S=S===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function R(D){var O=F,M=w,Q,ee,W;if(T==="c")M=C(D)+M,D="";else{D=+D;var Z=D<0||1/D<0;if(D=isNaN(D)?l:C(Math.abs(D),S),I&&(D=rQe(D)),Z&&+D==0&&x!=="+"&&(Z=!1),O=(Z?x==="("?x:o:x==="-"||x==="("?"":x)+O,M=(T==="s"?eV[8+Mre/3]:"")+M+(Z&&x==="("?")":""),N){for(Q=-1,ee=D.length;++Q<ee;)if(W=D.charCodeAt(Q),48>W||W>57){M=(W===46?a+D.slice(Q+1):D.slice(Q))+M,D=D.slice(0,Q);break}}}_&&!b&&(D=t(D,1/0));var V=O.length+D.length+M.length,q=V<y?new Array(y-V+1).join(m):"";switch(_&&b&&(D=t(q+D,q.length?y-M.length:1/0),q=""),p){case"<":D=O+D+M+q;break;case"=":D=O+q+D+M;break;case"^":D=q.slice(0,V=q.length>>1)+O+D+M+q.slice(V);break;default:D=q+O+D+M;break}return s(D)}return R.toString=function(){return f+""},R}function d(f,m){var p=u((f=Cy(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(Vv(m)/3)))*3,g=Math.pow(10,-x),b=eV[8+x/3];return function(y){return p(g*y)+b}}return{format:u,formatPrefix:d}}var DE,wD,Qre;sQe({thousands:",",grouping:[3],currency:["$",""]});function sQe(e){return DE=aQe(e),wD=DE.format,Qre=DE.formatPrefix,DE}function iQe(e){return Math.max(0,-Vv(Math.abs(e)))}function oQe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vv(t)/3)))*3-Vv(Math.abs(e)))}function lQe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vv(t)-Vv(e))+1}function xu(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function $f(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Rj=Symbol("implicit");function lN(){var e=new KH,t=[],r=[],n=Rj;function a(s){let i=e.get(s);if(i===void 0){if(n!==Rj)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new KH;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return lN(t,r).unknown(n)},xu.apply(a,arguments),a}function ED(){var e=lN().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,o=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,p=a<n,x=p?a:n,g=p?n:a;s=(g-x)/Math.max(1,m-l+u*2),o&&(s=Math.floor(s)),x+=(g-x-s*(m-l))*d,i=s*(1-l),o&&(x=Math.round(x),i=Math.round(i));var b=q9e(m).map(function(y){return x+s*y});return r(p?b.reverse():b)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(m){return arguments.length?(o=!!m,f()):o},e.padding=function(m){return arguments.length?(l=Math.min(1,u=+m),f()):l},e.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),f()):l},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return ED(t(),[n,a]).round(o).paddingInner(l).paddingOuter(u).align(d)},xu.apply(f(),arguments)}function Hre(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Hre(t())},e}function cQe(){return Hre(ED.apply(null,arguments).paddingInner(1))}function uQe(e){return function(){return e}}function rS(e){return+e}var tV=[0,1];function Zo(e){return e}function Lj(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:uQe(isNaN(t)?NaN:.5)}function dQe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function AQe(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=Lj(a,n),s=r(i,s)):(n=Lj(n,a),s=r(s,i)),function(o){return s(n(o))}}function fQe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Lj(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(o){var l=hw(e,o,1,n)-1;return s[l](a[l](o))}}function mw(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cN(){var e=tV,t=tV,r=gx,n,a,s,i=Zo,o,l,u;function d(){var m=Math.min(e.length,t.length);return i!==Zo&&(i=dQe(e[0],e[m-1])),o=m>2?fQe:AQe,l=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(l||(l=o(e.map(n),t,r)))(n(i(m)))}return f.invert=function(m){return i(a((u||(u=o(t,e.map(n),Wu)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,rS),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=rD,d()},f.clamp=function(m){return arguments.length?(i=m?!0:Zo,d()):i!==Zo},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,p){return n=m,a=p,d()}}function CD(){return cN()(Zo,Zo)}function Vre(e,t,r,n){var a=Oj(e,t,r),s;switch(n=Cy(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=oQe(a,i))&&(n.precision=s),Qre(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=lQe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=iQe(a))&&(n.precision=s-(n.type==="%")*2);break}}return wD(n)}function V0(e){var t=e.domain;return e.ticks=function(r){var n=t();return jj(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Vre(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],o=n[s],l,u,d=10;for(o<i&&(u=i,i=o,o=u,u=a,a=s,s=u);d-- >0;){if(u=Fj(i,o,r),u===l)return n[a]=i,n[s]=o,t(n);if(u>0)i=Math.floor(i/u)*u,o=Math.ceil(o/u)*u;else if(u<0)i=Math.ceil(i*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function zre(){var e=CD();return e.copy=function(){return mw(e,zre())},xu.apply(e,arguments),V0(e)}function $re(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,rS),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return $re(e).unknown(t)},e=arguments.length?Array.from(e,rS):[0,1],V0(r)}function Kre(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function rV(e){return Math.log(e)}function nV(e){return Math.exp(e)}function hQe(e){return-Math.log(-e)}function mQe(e){return-Math.exp(-e)}function pQe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function gQe(e){return e===10?pQe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function vQe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function aV(e){return(t,r)=>-e(-t,r)}function _D(e){const t=e(rV,nV),r=t.domain;let n=10,a,s;function i(){return a=vQe(n),s=gQe(n),r()[0]<0?(a=aV(a),s=aV(s),e(hQe,mQe)):e(rV,nV),t}return t.base=function(o){return arguments.length?(n=+o,i()):n},t.domain=function(o){return arguments.length?(r(o),i()):r()},t.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),p=a(d),x,g;const b=o==null?10:+o;let y=[];if(!(n%1)&&p-m<b){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(x=1;x<n;++x)if(g=m<0?x/s(-m):x*s(m),!(g<u)){if(g>d)break;y.push(g)}}else for(;m<=p;++m)for(x=n-1;x>=1;--x)if(g=m>0?x/s(-m):x*s(m),!(g<u)){if(g>d)break;y.push(g)}y.length*2<b&&(y=jj(u,d,b))}else y=jj(m,p,Math.min(p-m,b)).map(s);return f?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Cy(l)).precision==null&&(l.trim=!0),l=wD(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(Kre(r(),{floor:o=>s(Math.floor(a(o))),ceil:o=>s(Math.ceil(a(o)))})),t}function Gre(){const e=_D(cN()).domain([1,10]);return e.copy=()=>mw(e,Gre()).base(e.base()),xu.apply(e,arguments),e}function sV(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function iV(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function SD(e){var t=1,r=e(sV(t),iV(t));return r.constant=function(n){return arguments.length?e(sV(t=+n),iV(t)):t},V0(r)}function qre(){var e=SD(cN());return e.copy=function(){return mw(e,qre()).constant(e.constant())},xu.apply(e,arguments)}function oV(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xQe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bQe(e){return e<0?-e*e:e*e}function ND(e){var t=e(Zo,Zo),r=1;function n(){return r===1?e(Zo,Zo):r===.5?e(xQe,bQe):e(oV(r),oV(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},V0(t)}function BD(){var e=ND(cN());return e.copy=function(){return mw(e,BD()).exponent(e.exponent())},xu.apply(e,arguments),e}function yQe(){return BD.apply(null,arguments).exponent(.5)}function lV(e){return Math.sign(e)*e*e}function wQe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Wre(){var e=CD(),t=[0,1],r=!1,n;function a(s){var i=wQe(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(lV(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,rS)).map(lV)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Wre(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},xu.apply(a,arguments),V0(a)}function Xre(){var e=[],t=[],r=[],n;function a(){var i=0,o=Math.max(1,t.length);for(r=new Array(o-1);++i<o;)r[i-1]=G9e(e,i/o);return s}function s(i){return i==null||isNaN(i=+i)?n:t[hw(r,i)]}return s.invertExtent=function(i){var o=t.indexOf(i);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let o of i)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(v0),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return Xre().domain(e).range(t).unknown(n)},xu.apply(s,arguments)}function Yre(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(l){return l!=null&&l<=l?a[hw(n,l,0,r)]:s}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},i.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(l){return arguments.length&&(s=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return Yre().domain([e,t]).range(a).unknown(s)},xu.apply(V0(i),arguments)}function Jre(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[hw(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return Jre().domain(e).range(t).unknown(r)},xu.apply(a,arguments)}const Vk=new Date,zk=new Date;function gi(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),o=a.ceil(s);return s-i<o-s?i:o},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,o)=>{const l=[];if(s=a.ceil(s),o=o==null?1:Math.floor(o),!(s<i)||!(o>0))return l;let u;do l.push(u=new Date(+s)),t(s,o),e(s);while(u<s&&s<i);return l},a.filter=s=>gi(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,o)=>{if(i>=i)if(o<0)for(;++o<=0;)for(;t(i,-1),!s(i););else for(;--o>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(Vk.setTime(+s),zk.setTime(+i),e(Vk),e(zk),Math.floor(r(Vk,zk))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const nS=gi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);nS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?gi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):nS);nS.range;const Af=1e3,Au=Af*60,ff=Au*60,jf=ff*24,kD=jf*7,cV=jf*30,$k=jf*365,Lm=gi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Af)},(e,t)=>(t-e)/Af,e=>e.getUTCSeconds());Lm.range;const TD=gi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Af)},(e,t)=>{e.setTime(+e+t*Au)},(e,t)=>(t-e)/Au,e=>e.getMinutes());TD.range;const ID=gi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Au)},(e,t)=>(t-e)/Au,e=>e.getUTCMinutes());ID.range;const jD=gi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Af-e.getMinutes()*Au)},(e,t)=>{e.setTime(+e+t*ff)},(e,t)=>(t-e)/ff,e=>e.getHours());jD.range;const FD=gi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ff)},(e,t)=>(t-e)/ff,e=>e.getUTCHours());FD.range;const pw=gi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Au)/jf,e=>e.getDate()-1);pw.range;const uN=gi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jf,e=>e.getUTCDate()-1);uN.range;const Zre=gi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jf,e=>Math.floor(e/jf));Zre.range;function Op(e){return gi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Au)/kD)}const dN=Op(0),aS=Op(1),EQe=Op(2),CQe=Op(3),zv=Op(4),_Qe=Op(5),SQe=Op(6);dN.range;aS.range;EQe.range;CQe.range;zv.range;_Qe.range;SQe.range;function Dp(e){return gi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/kD)}const AN=Dp(0),sS=Dp(1),NQe=Dp(2),BQe=Dp(3),$v=Dp(4),kQe=Dp(5),TQe=Dp(6);AN.range;sS.range;NQe.range;BQe.range;$v.range;kQe.range;TQe.range;const OD=gi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());OD.range;const DD=gi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());DD.range;const Ff=gi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ff.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ff.range;const Of=gi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Of.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Of.range;function ene(e,t,r,n,a,s){const i=[[Lm,1,Af],[Lm,5,5*Af],[Lm,15,15*Af],[Lm,30,30*Af],[s,1,Au],[s,5,5*Au],[s,15,15*Au],[s,30,30*Au],[a,1,ff],[a,3,3*ff],[a,6,6*ff],[a,12,12*ff],[n,1,jf],[n,2,2*jf],[r,1,kD],[t,1,cV],[t,3,3*cV],[e,1,$k]];function o(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),x=p?p.range(u,+d+1):[];return m?x.reverse():x}function l(u,d,f){const m=Math.abs(d-u)/f,p=bD(([,,b])=>b).right(i,m);if(p===i.length)return e.every(Oj(u/$k,d/$k,f));if(p===0)return nS.every(Math.max(Oj(u,d,f),1));const[x,g]=i[m/i[p-1][2]<i[p][2]/m?p-1:p];return x.every(g)}return[o,l]}const[IQe,jQe]=ene(Of,DD,AN,Zre,FD,ID),[FQe,OQe]=ene(Ff,OD,dN,pw,jD,TD);function Kk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function O1(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function DQe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,u=D1(a),d=P1(a),f=D1(s),m=P1(s),p=D1(i),x=P1(i),g=D1(o),b=P1(o),y=D1(l),_=P1(l),S={a:Z,A:V,b:q,B:K,c:null,d:mV,e:mV,f:aHe,g:hHe,G:pHe,H:tHe,I:rHe,j:nHe,L:tne,m:sHe,M:iHe,p:J,q:P,Q:vV,s:xV,S:oHe,u:lHe,U:cHe,V:uHe,w:dHe,W:AHe,x:null,X:null,y:fHe,Y:mHe,Z:gHe,"%":gV},I={a:G,A:Y,b:re,B:ie,c:null,d:pV,e:pV,f:yHe,g:IHe,G:FHe,H:vHe,I:xHe,j:bHe,L:nne,m:wHe,M:EHe,p:de,q:me,Q:vV,s:xV,S:CHe,u:_He,U:SHe,V:NHe,w:BHe,W:kHe,x:null,X:null,y:THe,Y:jHe,Z:OHe,"%":gV},T={a:R,A:D,b:O,B:M,c:Q,d:fV,e:fV,f:YQe,g:AV,G:dV,H:hV,I:hV,j:GQe,L:XQe,m:KQe,M:qQe,p:N,q:$Qe,Q:ZQe,s:eHe,S:WQe,u:MQe,U:QQe,V:HQe,w:UQe,W:VQe,x:ee,X:W,y:AV,Y:dV,Z:zQe,"%":JQe};S.x=F(r,S),S.X=F(n,S),S.c=F(t,S),I.x=F(r,I),I.X=F(n,I),I.c=F(t,I);function F(ue,ye){return function(Ie){var ne=[],Fe=-1,Le=0,ke=ue.length,pe,je,He;for(Ie instanceof Date||(Ie=new Date(+Ie));++Fe<ke;)ue.charCodeAt(Fe)===37&&(ne.push(ue.slice(Le,Fe)),(je=uV[pe=ue.charAt(++Fe)])!=null?pe=ue.charAt(++Fe):je=pe==="e"?" ":"0",(He=ye[pe])&&(pe=He(Ie,je)),ne.push(pe),Le=Fe+1);return ne.push(ue.slice(Le,Fe)),ne.join("")}}function w(ue,ye){return function(Ie){var ne=O1(1900,void 0,1),Fe=C(ne,ue,Ie+="",0),Le,ke;if(Fe!=Ie.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(ye&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(Le=Gk(O1(ne.y,0,1)),ke=Le.getUTCDay(),Le=ke>4||ke===0?sS.ceil(Le):sS(Le),Le=uN.offset(Le,(ne.V-1)*7),ne.y=Le.getUTCFullYear(),ne.m=Le.getUTCMonth(),ne.d=Le.getUTCDate()+(ne.w+6)%7):(Le=Kk(O1(ne.y,0,1)),ke=Le.getDay(),Le=ke>4||ke===0?aS.ceil(Le):aS(Le),Le=pw.offset(Le,(ne.V-1)*7),ne.y=Le.getFullYear(),ne.m=Le.getMonth(),ne.d=Le.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),ke="Z"in ne?Gk(O1(ne.y,0,1)).getUTCDay():Kk(O1(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(ke+5)%7:ne.w+ne.U*7-(ke+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,Gk(ne)):Kk(ne)}}function C(ue,ye,Ie,ne){for(var Fe=0,Le=ye.length,ke=Ie.length,pe,je;Fe<Le;){if(ne>=ke)return-1;if(pe=ye.charCodeAt(Fe++),pe===37){if(pe=ye.charAt(Fe++),je=T[pe in uV?ye.charAt(Fe++):pe],!je||(ne=je(ue,Ie,ne))<0)return-1}else if(pe!=Ie.charCodeAt(ne++))return-1}return ne}function N(ue,ye,Ie){var ne=u.exec(ye.slice(Ie));return ne?(ue.p=d.get(ne[0].toLowerCase()),Ie+ne[0].length):-1}function R(ue,ye,Ie){var ne=p.exec(ye.slice(Ie));return ne?(ue.w=x.get(ne[0].toLowerCase()),Ie+ne[0].length):-1}function D(ue,ye,Ie){var ne=f.exec(ye.slice(Ie));return ne?(ue.w=m.get(ne[0].toLowerCase()),Ie+ne[0].length):-1}function O(ue,ye,Ie){var ne=y.exec(ye.slice(Ie));return ne?(ue.m=_.get(ne[0].toLowerCase()),Ie+ne[0].length):-1}function M(ue,ye,Ie){var ne=g.exec(ye.slice(Ie));return ne?(ue.m=b.get(ne[0].toLowerCase()),Ie+ne[0].length):-1}function Q(ue,ye,Ie){return C(ue,t,ye,Ie)}function ee(ue,ye,Ie){return C(ue,r,ye,Ie)}function W(ue,ye,Ie){return C(ue,n,ye,Ie)}function Z(ue){return i[ue.getDay()]}function V(ue){return s[ue.getDay()]}function q(ue){return l[ue.getMonth()]}function K(ue){return o[ue.getMonth()]}function J(ue){return a[+(ue.getHours()>=12)]}function P(ue){return 1+~~(ue.getMonth()/3)}function G(ue){return i[ue.getUTCDay()]}function Y(ue){return s[ue.getUTCDay()]}function re(ue){return l[ue.getUTCMonth()]}function ie(ue){return o[ue.getUTCMonth()]}function de(ue){return a[+(ue.getUTCHours()>=12)]}function me(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var ye=F(ue+="",S);return ye.toString=function(){return ue},ye},parse:function(ue){var ye=w(ue+="",!1);return ye.toString=function(){return ue},ye},utcFormat:function(ue){var ye=F(ue+="",I);return ye.toString=function(){return ue},ye},utcParse:function(ue){var ye=w(ue+="",!0);return ye.toString=function(){return ue},ye}}}var uV={"-":"",_:" ",0:"0"},Mi=/^\s*\d+/,PQe=/^%/,RQe=/[\\^$*+?|[\]().{}]/g;function Hn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function LQe(e){return e.replace(RQe,"\\$&")}function D1(e){return new RegExp("^(?:"+e.map(LQe).join("|")+")","i")}function P1(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function UQe(e,t,r){var n=Mi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function MQe(e,t,r){var n=Mi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function QQe(e,t,r){var n=Mi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function HQe(e,t,r){var n=Mi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function VQe(e,t,r){var n=Mi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function dV(e,t,r){var n=Mi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function AV(e,t,r){var n=Mi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function zQe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function $Qe(e,t,r){var n=Mi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function KQe(e,t,r){var n=Mi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function fV(e,t,r){var n=Mi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function GQe(e,t,r){var n=Mi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function hV(e,t,r){var n=Mi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function qQe(e,t,r){var n=Mi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function WQe(e,t,r){var n=Mi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function XQe(e,t,r){var n=Mi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function YQe(e,t,r){var n=Mi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function JQe(e,t,r){var n=PQe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ZQe(e,t,r){var n=Mi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function eHe(e,t,r){var n=Mi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function mV(e,t){return Hn(e.getDate(),t,2)}function tHe(e,t){return Hn(e.getHours(),t,2)}function rHe(e,t){return Hn(e.getHours()%12||12,t,2)}function nHe(e,t){return Hn(1+pw.count(Ff(e),e),t,3)}function tne(e,t){return Hn(e.getMilliseconds(),t,3)}function aHe(e,t){return tne(e,t)+"000"}function sHe(e,t){return Hn(e.getMonth()+1,t,2)}function iHe(e,t){return Hn(e.getMinutes(),t,2)}function oHe(e,t){return Hn(e.getSeconds(),t,2)}function lHe(e){var t=e.getDay();return t===0?7:t}function cHe(e,t){return Hn(dN.count(Ff(e)-1,e),t,2)}function rne(e){var t=e.getDay();return t>=4||t===0?zv(e):zv.ceil(e)}function uHe(e,t){return e=rne(e),Hn(zv.count(Ff(e),e)+(Ff(e).getDay()===4),t,2)}function dHe(e){return e.getDay()}function AHe(e,t){return Hn(aS.count(Ff(e)-1,e),t,2)}function fHe(e,t){return Hn(e.getFullYear()%100,t,2)}function hHe(e,t){return e=rne(e),Hn(e.getFullYear()%100,t,2)}function mHe(e,t){return Hn(e.getFullYear()%1e4,t,4)}function pHe(e,t){var r=e.getDay();return e=r>=4||r===0?zv(e):zv.ceil(e),Hn(e.getFullYear()%1e4,t,4)}function gHe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Hn(t/60|0,"0",2)+Hn(t%60,"0",2)}function pV(e,t){return Hn(e.getUTCDate(),t,2)}function vHe(e,t){return Hn(e.getUTCHours(),t,2)}function xHe(e,t){return Hn(e.getUTCHours()%12||12,t,2)}function bHe(e,t){return Hn(1+uN.count(Of(e),e),t,3)}function nne(e,t){return Hn(e.getUTCMilliseconds(),t,3)}function yHe(e,t){return nne(e,t)+"000"}function wHe(e,t){return Hn(e.getUTCMonth()+1,t,2)}function EHe(e,t){return Hn(e.getUTCMinutes(),t,2)}function CHe(e,t){return Hn(e.getUTCSeconds(),t,2)}function _He(e){var t=e.getUTCDay();return t===0?7:t}function SHe(e,t){return Hn(AN.count(Of(e)-1,e),t,2)}function ane(e){var t=e.getUTCDay();return t>=4||t===0?$v(e):$v.ceil(e)}function NHe(e,t){return e=ane(e),Hn($v.count(Of(e),e)+(Of(e).getUTCDay()===4),t,2)}function BHe(e){return e.getUTCDay()}function kHe(e,t){return Hn(sS.count(Of(e)-1,e),t,2)}function THe(e,t){return Hn(e.getUTCFullYear()%100,t,2)}function IHe(e,t){return e=ane(e),Hn(e.getUTCFullYear()%100,t,2)}function jHe(e,t){return Hn(e.getUTCFullYear()%1e4,t,4)}function FHe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?$v(e):$v.ceil(e),Hn(e.getUTCFullYear()%1e4,t,4)}function OHe(){return"+0000"}function gV(){return"%"}function vV(e){return+e}function xV(e){return Math.floor(+e/1e3)}var jg,sne,ine;DHe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function DHe(e){return jg=DQe(e),sne=jg.format,jg.parse,ine=jg.utcFormat,jg.utcParse,jg}function PHe(e){return new Date(e)}function RHe(e){return e instanceof Date?+e:+new Date(+e)}function PD(e,t,r,n,a,s,i,o,l,u){var d=CD(),f=d.invert,m=d.domain,p=u(".%L"),x=u(":%S"),g=u("%I:%M"),b=u("%I %p"),y=u("%a %d"),_=u("%b %d"),S=u("%B"),I=u("%Y");function T(F){return(l(F)<F?p:o(F)<F?x:i(F)<F?g:s(F)<F?b:n(F)<F?a(F)<F?y:_:r(F)<F?S:I)(F)}return d.invert=function(F){return new Date(f(F))},d.domain=function(F){return arguments.length?m(Array.from(F,RHe)):m().map(PHe)},d.ticks=function(F){var w=m();return e(w[0],w[w.length-1],F??10)},d.tickFormat=function(F,w){return w==null?T:u(w)},d.nice=function(F){var w=m();return(!F||typeof F.range!="function")&&(F=t(w[0],w[w.length-1],F??10)),F?m(Kre(w,F)):d},d.copy=function(){return mw(d,PD(e,t,r,n,a,s,i,o,l,u))},d}function LHe(){return xu.apply(PD(FQe,OQe,Ff,OD,dN,pw,jD,TD,Lm,sne).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function UHe(){return xu.apply(PD(IQe,jQe,Of,DD,AN,uN,FD,ID,Lm,ine).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fN(){var e=0,t=1,r,n,a,s,i=Zo,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:i(a===0?.5:(f=(s(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(m){var p,x;return arguments.length?([p,x]=m,i=f(p,x),u):[i(0),i(1)]}}return u.range=d(gx),u.rangeRound=d(rD),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function z0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function one(){var e=V0(fN()(Zo));return e.copy=function(){return z0(e,one())},$f.apply(e,arguments)}function lne(){var e=_D(fN()).domain([1,10]);return e.copy=function(){return z0(e,lne()).base(e.base())},$f.apply(e,arguments)}function cne(){var e=SD(fN());return e.copy=function(){return z0(e,cne()).constant(e.constant())},$f.apply(e,arguments)}function RD(){var e=ND(fN());return e.copy=function(){return z0(e,RD()).exponent(e.exponent())},$f.apply(e,arguments)}function MHe(){return RD.apply(null,arguments).exponent(.5)}function une(){var e=[],t=Zo;function r(n){if(n!=null&&!isNaN(n=+n))return t((hw(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(v0),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>K9e(e,s/n))},r.copy=function(){return une(t).domain(e)},$f.apply(r,arguments)}function hN(){var e=0,t=.5,r=1,n=1,a,s,i,o,l,u=Zo,d,f=!1,m;function p(g){return isNaN(g=+g)?m:(g=.5+((g=+d(g))-s)*(n*g<n*s?o:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),s=d(t=+t),i=d(r=+r),o=a===s?0:.5/(s-a),l=s===i?0:.5/(i-s),n=s<a?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function x(g){return function(b){var y,_,S;return arguments.length?([y,_,S]=b,u=NLe(g,[y,_,S]),p):[u(0),u(.5),u(1)]}}return p.range=x(gx),p.rangeRound=x(rD),p.unknown=function(g){return arguments.length?(m=g,p):m},function(g){return d=g,a=g(e),s=g(t),i=g(r),o=a===s?0:.5/(s-a),l=s===i?0:.5/(i-s),n=s<a?-1:1,p}}function dne(){var e=V0(hN()(Zo));return e.copy=function(){return z0(e,dne())},$f.apply(e,arguments)}function Ane(){var e=_D(hN()).domain([.1,1,10]);return e.copy=function(){return z0(e,Ane()).base(e.base())},$f.apply(e,arguments)}function fne(){var e=SD(hN());return e.copy=function(){return z0(e,fne()).constant(e.constant())},$f.apply(e,arguments)}function LD(){var e=ND(hN());return e.copy=function(){return z0(e,LD()).exponent(e.exponent())},$f.apply(e,arguments)}function QHe(){return LD.apply(null,arguments).exponent(.5)}function HHe(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const VHe=HHe("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Sa(e){return function(){return e}}const hne=Math.cos,iS=Math.sin,dd=Math.sqrt,oS=Math.PI,mN=2*oS;function UD(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Y9e(t)}function MD(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function mne(e){this._context=e}mne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function pN(e){return new mne(e)}function pne(e){return e[0]}function gne(e){return e[1]}function vne(e,t){var r=Sa(!0),n=null,a=pN,s=null,i=UD(o);e=typeof e=="function"?e:e===void 0?pne:Sa(e),t=typeof t=="function"?t:t===void 0?gne:Sa(t);function o(l){var u,d=(l=MD(l)).length,f,m=!1,p;for(n==null&&(s=a(p=i())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(f,u,l),+t(f,u,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Sa(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Sa(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Sa(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(s=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=s=null:s=a(n=l),o):n},o}function PE(e,t,r){var n=null,a=Sa(!0),s=null,i=pN,o=null,l=UD(u);e=typeof e=="function"?e:e===void 0?pne:Sa(+e),t=typeof t=="function"?t:Sa(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?gne:Sa(+r);function u(f){var m,p,x,g=(f=MD(f)).length,b,y=!1,_,S=new Array(g),I=new Array(g);for(s==null&&(o=i(_=l())),m=0;m<=g;++m){if(!(m<g&&a(b=f[m],m,f))===y)if(y=!y)p=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=m-1;x>=p;--x)o.point(S[x],I[x]);o.lineEnd(),o.areaEnd()}y&&(S[m]=+e(b,m,f),I[m]=+t(b,m,f),o.point(n?+n(b,m,f):S[m],r?+r(b,m,f):I[m]))}if(_)return o=null,_+""||null}function d(){return vne().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Sa(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Sa(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Sa(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Sa(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Sa(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Sa(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Sa(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(o=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=o=null:o=i(s=f),u):s},u}class xne{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function zHe(e){return new xne(e,!0)}function $He(e){return new xne(e,!1)}const QD={draw(e,t){const r=dd(t/oS);e.moveTo(r,0),e.arc(0,0,r,0,mN)}},KHe={draw(e,t){const r=dd(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},bne=dd(1/3),GHe=bne*2,qHe={draw(e,t){const r=dd(t/GHe),n=r*bne;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},WHe={draw(e,t){const r=dd(t),n=-r/2;e.rect(n,n,r,r)}},XHe=.8908130915292852,yne=iS(oS/10)/iS(7*oS/10),YHe=iS(mN/10)*yne,JHe=-hne(mN/10)*yne,ZHe={draw(e,t){const r=dd(t*XHe),n=YHe*r,a=JHe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=mN*s/5,o=hne(i),l=iS(i);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},qk=dd(3),eVe={draw(e,t){const r=-dd(t/(qk*3));e.moveTo(0,r*2),e.lineTo(-qk*r,-r),e.lineTo(qk*r,-r),e.closePath()}},qc=-.5,Wc=dd(3)/2,Uj=1/dd(12),tVe=(Uj/2+1)*3,rVe={draw(e,t){const r=dd(t/tVe),n=r/2,a=r*Uj,s=n,i=r*Uj+r,o=-s,l=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(o,l),e.lineTo(qc*n-Wc*a,Wc*n+qc*a),e.lineTo(qc*s-Wc*i,Wc*s+qc*i),e.lineTo(qc*o-Wc*l,Wc*o+qc*l),e.lineTo(qc*n+Wc*a,qc*a-Wc*n),e.lineTo(qc*s+Wc*i,qc*i-Wc*s),e.lineTo(qc*o+Wc*l,qc*l-Wc*o),e.closePath()}};function nVe(e,t){let r=null,n=UD(a);e=typeof e=="function"?e:Sa(e||QD),t=typeof t=="function"?t:Sa(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Sa(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Sa(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function lS(){}function cS(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function wne(e){this._context=e}wne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aVe(e){return new wne(e)}function Ene(e){this._context=e}Ene.prototype={areaStart:lS,areaEnd:lS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:cS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sVe(e){return new Ene(e)}function Cne(e){this._context=e}Cne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:cS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iVe(e){return new Cne(e)}function _ne(e){this._context=e}_ne.prototype={areaStart:lS,areaEnd:lS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function oVe(e){return new _ne(e)}function bV(e){return e<0?-1:1}function yV(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),o=(s*a+i*n)/(n+a);return(bV(s)+bV(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function wV(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Wk(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,a+o*t,s-o,i-o*r,s,i)}function uS(e){this._context=e}uS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wk(this,this._t0,wV(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Wk(this,wV(this,r=yV(this,e,t)),r);break;default:Wk(this,this._t0,r=yV(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Sne(e){this._context=new Nne(e)}(Sne.prototype=Object.create(uS.prototype)).point=function(e,t){uS.prototype.point.call(this,t,e)};function Nne(e){this._context=e}Nne.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function lVe(e){return new uS(e)}function cVe(e){return new Sne(e)}function Bne(e){this._context=e}Bne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=EV(e),a=EV(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function EV(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function uVe(e){return new Bne(e)}function gN(e,t){this._context=e,this._t=t}gN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function dVe(e){return new gN(e,.5)}function AVe(e){return new gN(e,0)}function fVe(e){return new gN(e,1)}function Kv(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,o=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Mj(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function hVe(e,t){return e[t]}function mVe(e){const t=[];return t.key=e,t}function pVe(){var e=Sa([]),t=Mj,r=Kv,n=hVe;function a(s){var i=Array.from(e.apply(this,arguments),mVe),o,l=i.length,u=-1,d;for(const f of s)for(o=0,++u;o<l;++o)(i[o][u]=[0,+n(f,i[o].key,u,s)]).data=f;for(o=0,d=MD(t(i));o<l;++o)i[d[o]].index=o;return r(i,d),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Sa(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Sa(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?Mj:typeof s=="function"?s:Sa(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Kv,a):r},a}function gVe(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Kv(e,t)}}function vVe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,o=0;i<a;++i)o+=e[i][r][1]||0;n[r][1]+=n[r][0]=-o/2}Kv(e,t)}}function xVe(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var o=0,l=0,u=0;o<i;++o){for(var d=e[t[o]],f=d[n][1]||0,m=d[n-1][1]||0,p=(f-m)/2,x=0;x<o;++x){var g=e[t[x]],b=g[n][1]||0,y=g[n-1][1]||0;p+=b-y}l+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,Kv(e,t)}}var bVe={value:function(){}};function kne(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new BC(r)}function BC(e){this._=e}function yVe(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}BC.prototype=kne.prototype={constructor:BC,on:function(e,t){var r=this._,n=yVe(e+"",r),a,s=-1,i=n.length;if(arguments.length<2){for(;++s<i;)if((a=(e=n[s]).type)&&(a=wVe(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(a=(e=n[s]).type)r[a]=CV(r[a],e.name,t);else if(t==null)for(a in r)r[a]=CV(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new BC(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};function wVe(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function CV(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=bVe,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}const EVe=Object.freeze(Object.defineProperty({__proto__:null,dispatch:kne},Symbol.toStringTag,{value:"Module"})),CVe=mce(EVe);var Xk,_V;function _Ve(){if(_V)return Xk;_V=1;const e=CVe.dispatch,t=Math.PI/180,r={archimedean:g,rectangular:b},n=64,a=2048;Xk=function(){var I=[256,256],T=s,F=i,w=l,C=o,N=o,R=u,D=d,O=g,M=[],Q=1/0,ee=e("word","end"),W=null,Z=Math.random,V={},q=_;V.canvas=function(P){return arguments.length?(q=S(P),V):q},V.start=function(){var P=K(q()),G=y((I[0]>>5)*I[1]),Y=null,re=M.length,ie=-1,de=[],me=M.map(function(ye,Ie){return ye.text=T.call(this,ye,Ie),ye.font=F.call(this,ye,Ie),ye.style=C.call(this,ye,Ie),ye.weight=N.call(this,ye,Ie),ye.rotate=R.call(this,ye,Ie),ye.size=~~w.call(this,ye,Ie),ye.padding=D.call(this,ye,Ie),ye}).sort(function(ye,Ie){return Ie.size-ye.size});return W&&clearInterval(W),W=setInterval(ue,0),ue(),V;function ue(){for(var ye=Date.now();Date.now()-ye<Q&&++ie<re&&W;){var Ie=me[ie];Ie.x=I[0]*(Z()+.5)>>1,Ie.y=I[1]*(Z()+.5)>>1,f(P,Ie,me,ie),Ie.hasText&&J(G,Ie,Y)&&(de.push(Ie),ee.call("word",V,Ie),Y?p(Y,Ie):Y=[{x:Ie.x+Ie.x0,y:Ie.y+Ie.y0},{x:Ie.x+Ie.x1,y:Ie.y+Ie.y1}],Ie.x-=I[0]>>1,Ie.y-=I[1]>>1)}ie>=re&&(V.stop(),ee.call("end",V,de,Y))}},V.stop=function(){W&&(clearInterval(W),W=null);for(const P of M)delete P.sprite;return V};function K(P){const G=P.getContext("2d",{willReadFrequently:!0});P.width=P.height=1;const Y=Math.sqrt(G.getImageData(0,0,1,1).data.length>>2);return P.width=(n<<5)/Y,P.height=a/Y,G.fillStyle=G.strokeStyle="red",{context:G,ratio:Y}}function J(P,G,Y){I[0],I[1];for(var re=G.x,ie=G.y,de=Math.sqrt(I[0]*I[0]+I[1]*I[1]),me=O(I),ue=Z()<.5?1:-1,ye=-ue,Ie,ne,Fe;(Ie=me(ye+=ue))&&(ne=~~Ie[0],Fe=~~Ie[1],!(Math.min(Math.abs(ne),Math.abs(Fe))>=de));)if(G.x=re+ne,G.y=ie+Fe,!(G.x+G.x0<0||G.y+G.y0<0||G.x+G.x1>I[0]||G.y+G.y1>I[1])&&(!Y||x(G,Y))&&!m(G,P,I[0])){for(var Le=G.sprite,ke=G.width>>5,pe=I[0]>>5,je=G.x-(ke<<4),He=je&127,Xe=32-He,dt=G.y1-G.y0,Et=(G.y+G.y0)*pe+(je>>5),Tt,Ct=0;Ct<dt;Ct++){Tt=0;for(var Dt=0;Dt<=ke;Dt++)P[Et+Dt]|=Tt<<Xe|(Dt<ke?(Tt=Le[Ct*ke+Dt])>>>He:0);Et+=pe}return!0}return!1}return V.timeInterval=function(P){return arguments.length?(Q=P??1/0,V):Q},V.words=function(P){return arguments.length?(M=P,V):M},V.size=function(P){return arguments.length?(I=[+P[0],+P[1]],V):I},V.font=function(P){return arguments.length?(F=S(P),V):F},V.fontStyle=function(P){return arguments.length?(C=S(P),V):C},V.fontWeight=function(P){return arguments.length?(N=S(P),V):N},V.rotate=function(P){return arguments.length?(R=S(P),V):R},V.text=function(P){return arguments.length?(T=S(P),V):T},V.spiral=function(P){return arguments.length?(O=r[P]||P,V):O},V.fontSize=function(P){return arguments.length?(w=S(P),V):w},V.padding=function(P){return arguments.length?(D=S(P),V):D},V.random=function(P){return arguments.length?(Z=P,V):Z},V.on=function(){var P=ee.on.apply(ee,arguments);return P===ee?V:P},V};function s(I){return I.text}function i(){return"serif"}function o(){return"normal"}function l(I){return Math.sqrt(I.value)}function u(){return(~~(random()*6)-3)*30}function d(){return 1}function f(I,T,F,w){if(!T.sprite){var C=I.context,N=I.ratio;C.clearRect(0,0,(n<<5)/N,a/N);var R=0,D=0,O=0,M=F.length;for(--w;++w<M;){T=F[w],C.save(),C.font=T.style+" "+T.weight+" "+~~((T.size+1)/N)+"px "+T.font;const Ie=C.measureText(T.text),ne=-Math.floor(Ie.width/2);let Fe=(Ie.width+1)*N,Le=T.size<<1;if(T.rotate){var Q=Math.sin(T.rotate*t),ee=Math.cos(T.rotate*t),W=Fe*ee,Z=Fe*Q,V=Le*ee,q=Le*Q;Fe=Math.max(Math.abs(W+q),Math.abs(W-q))+31>>5<<5,Le=~~Math.max(Math.abs(Z+V),Math.abs(Z-V))}else Fe=Fe+31>>5<<5;if(Le>O&&(O=Le),R+Fe>=n<<5&&(R=0,D+=O,O=0),D+Le>=a)break;C.translate((R+(Fe>>1))/N,(D+(Le>>1))/N),T.rotate&&C.rotate(T.rotate*t),C.fillText(T.text,ne,0),T.padding&&(C.lineWidth=2*T.padding,C.strokeText(T.text,ne,0)),C.restore(),T.width=Fe,T.height=Le,T.xoff=R,T.yoff=D,T.x1=Fe>>1,T.y1=Le>>1,T.x0=-T.x1,T.y0=-T.y1,T.hasText=!0,R+=Fe}for(var K=C.getImageData(0,0,(n<<5)/N,a/N).data,J=[];--w>=0;)if(T=F[w],!!T.hasText){for(var P=T.width,G=P>>5,Y=T.y1-T.y0,re=0;re<Y*G;re++)J[re]=0;if(R=T.xoff,R==null)return;D=T.yoff;for(var ie=0,de=-1,me=0;me<Y;me++){for(var re=0;re<P;re++){var ue=G*me+(re>>5),ye=K[(D+me)*(n<<5)+(R+re)<<2]?1<<31-re%32:0;J[ue]|=ye,ie|=ye}ie?de=me:(T.y0++,Y--,me--,D++)}T.y1=T.y0+de,T.sprite=J.slice(0,(T.y1-T.y0)*G)}}}function m(I,T,F){F>>=5;for(var w=I.sprite,C=I.width>>5,N=I.x-(C<<4),R=N&127,D=32-R,O=I.y1-I.y0,M=(I.y+I.y0)*F+(N>>5),Q,ee=0;ee<O;ee++){Q=0;for(var W=0;W<=C;W++)if((Q<<D|(W<C?(Q=w[ee*C+W])>>>R:0))&T[M+W])return!0;M+=F}return!1}function p(I,T){var F=I[0],w=I[1];T.x+T.x0<F.x&&(F.x=T.x+T.x0),T.y+T.y0<F.y&&(F.y=T.y+T.y0),T.x+T.x1>w.x&&(w.x=T.x+T.x1),T.y+T.y1>w.y&&(w.y=T.y+T.y1)}function x(I,T){return I.x+I.x1>T[0].x&&I.x+I.x0<T[1].x&&I.y+I.y1>T[0].y&&I.y+I.y0<T[1].y}function g(I){var T=I[0]/I[1];return function(F){return[T*(F*=.1)*Math.cos(F),F*Math.sin(F)]}}function b(I){var T=4,F=T*I[0]/I[1],w=0,C=0;return function(N){var R=N<0?-1:1;switch(Math.sqrt(1+4*R*N)-R&3){case 0:w+=F;break;case 1:C+=T;break;case 2:w-=F;break;default:C-=T;break}return[w,C]}}function y(I){for(var T=[],F=-1;++F<I;)T[F]=0;return T}function _(){return document.createElement("canvas")}function S(I){return typeof I=="function"?I:function(){return I}}return Xk}var SVe=_Ve();const NVe=il(SVe),BVe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}),kVe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),TVe=()=>c.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),IVe=e=>{const[t,r]=k.useState([]),[n,a]=k.useState(!0),[s,i]=k.useState(null),o=k.useMemo(()=>(e==null?void 0:e.profile)==="SUBDIRECCION",[e]);return k.useEffect(()=>{if(!(e!=null&&e.email)&&!(e!=null&&e.id)){i("Usuario no autenticado"),a(!1);return}try{let l;const u=d=>{r(d),a(!1),i(null)};if(o)l=F9e(u);else{const d=e.email||e.id||"";l=O9e(u,d)}return l}catch(l){i(l instanceof Error?l.message:"Error al conectar con la base de datos"),a(!1)}},[e,o]),{planificaciones:t,loading:n,error:s,canViewAllPlans:o}},jVe=({plan:e,onClose:t})=>c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",onClick:t,children:c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col animate-fade-in-up",onClick:r=>r.stopPropagation(),children:[c.jsxs("header",{className:"p-4 border-b dark:border-slate-700 flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:e.nombreUnidad}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[e.asignatura," | ",e.nivel," | Autor: ",e.autor||"N/A"]})]}),c.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700",children:c.jsx(kVe,{})})]}),c.jsxs("main",{className:"p-6 flex-1 overflow-y-auto space-y-6",children:[c.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-800 rounded-lg",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Objetivo de Aprendizaje:"})," ",e.objetivosAprendizaje]}),c.jsxs("p",{className:"mt-2",children:[c.jsx("strong",{children:"Indicadores de Evaluación:"})," ",e.indicadoresEvaluacion]}),c.jsx("div",{className:"mt-3",children:c.jsxs("span",{className:"inline-block bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 px-3 py-1 rounded-full text-sm font-semibold",children:["Avance de la Unidad: ",typeof e.progreso=="number"?`${e.progreso}%`:"No registrado"]})})]}),c.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 border-b pb-2",children:["Secuencia de Clases (",e.detallesLeccion.length,")"]}),c.jsx("div",{className:"space-y-3 max-h-[30vh] overflow-y-auto pr-2",children:e.detallesLeccion.map((r,n)=>c.jsxs("div",{className:"p-3 border dark:border-slate-700 rounded-md bg-white dark:bg-slate-800",children:[c.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-300",children:["Clase ",n+1,": ",r.actividades]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-1 mt-2 text-sm text-slate-600 dark:text-slate-400",children:[c.jsxs("span",{children:[c.jsx("strong",{children:"Objetivo:"})," ",r.objetivosAprendizaje]}),c.jsxs("span",{children:[c.jsx("strong",{children:"Contenidos:"})," ",r.contenidosConceptuales]})]})]},n))}),e.reflexionUnidad&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 border-b pb-2 mt-6",children:"Reflexión Docente"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-slate-100 dark:bg-slate-800 rounded-lg mt-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Habilidades Desarrolladas (Priorizadas)"}),e.reflexionUnidad.ordenHabilidades&&e.reflexionUnidad.ordenHabilidades.length>0?c.jsx("ul",{className:"space-y-2",children:e.reflexionUnidad.ordenHabilidades.map((r,n)=>c.jsxs("li",{className:"p-2 bg-white dark:bg-slate-700 rounded-md flex items-center gap-2 shadow-sm",children:[c.jsxs("span",{className:"font-bold text-amber-500",children:[n+1,"."]})," ",r]},r))}):c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No priorizadas."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Fortalezas"}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 p-2 bg-white dark:bg-slate-700 rounded-md",children:e.reflexionUnidad.fortalezas||"N/A"})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Mejoras"}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 p-2 bg-white dark:bg-slate-700 rounded-md",children:e.reflexionUnidad.mejoras||"N/A"})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Desafíos"}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 p-2 bg-white dark:bg-slate-700 rounded-md",children:e.reflexionUnidad.debilidades||"N/A"})]})]})]})]})]})]})}),SV=["Recordar","Comprender","Aplicar","Analizar","Evaluar","Crear"],FVe=["1º Medio","2º Medio","3º Medio","4º Medio"],OVe=({words:e})=>{const t=k.useRef(null);return k.useEffect(()=>{if(!e.length||!t.current)return;const r=ou(t.current);r.selectAll("*").remove();const n=NVe().size([500,350]).words(e.map(s=>({...s}))).padding(5).rotate(()=>(~~(Math.random()*6)-3)*15).font("Impact").fontSize(s=>Math.sqrt(s.value)*12).on("end",a);n.start();function a(s){r.attr("width",n.size()[0]).attr("height",n.size()[1]).append("g").attr("transform",`translate(${n.size()[0]/2},${n.size()[1]/2})`).selectAll("text").data(s).enter().append("text").style("font-size",i=>`${i.size}px`).style("font-family","Impact").style("fill",(i,o)=>lN(VHe)(o.toString())).attr("text-anchor","middle").attr("transform",i=>`translate(${[i.x,i.y]})rotate(${i.rotate})`).text(i=>i.text)}},[e]),c.jsx("svg",{ref:t})},DVe=({planificaciones:e})=>{const[t,r]=k.useState("todos"),[n,a]=k.useState("todos"),s=k.useMemo(()=>["todos",...Array.from(new Set(e.map(d=>d.asignatura)))],[e]),i=k.useMemo(()=>e.filter(d=>(t==="todos"||d.nivel===t)&&(n==="todos"||d.asignatura===n)&&d.reflexionUnidad),[e,t,n]),o=k.useMemo(()=>{const d=SV.reduce((f,m)=>({...f,[m]:0}),{});return i.forEach(f=>{var m,p;return(p=(m=f.reflexionUnidad)==null?void 0:m.ordenHabilidades)==null?void 0:p.forEach((x,g)=>{d[x]!==void 0&&(d[x]+=SV.length-g)})}),Object.entries(d).map(([f,m])=>({text:f,value:m})).sort((f,m)=>m.value-f.value)},[i]),l=k.useMemo(()=>{const d=new Set(["y","e","o","u","de","la","el","los","las","un","una","unos","unas","a","con","que","se","del","al","no","si","fue","es","son","muy","mas","lo","como","sus","para","por","este","esta","actividad","clase","alumnos","estudiantes"]),m=(i.map(p=>{var x,g;return`${((x=p.reflexionUnidad)==null?void 0:x.fortalezas)||""} ${((g=p.reflexionUnidad)==null?void 0:g.debilidades)||""}`}).join(" ").toLowerCase().match(/\b(\w{4,})\b/g)||[]).reduce((p,x)=>(d.has(x)||(p[x]=(p[x]||0)+1),p),{});return Object.entries(m).map(([p,x])=>({text:p,value:x})).sort((p,x)=>x.value-p.value).slice(0,50)},[i]),u="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600";return c.jsxs("div",{className:"animate-fade-in",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nivel"}),c.jsxs("select",{value:t,onChange:d=>r(d.target.value),className:u,children:[c.jsx("option",{value:"todos",children:"Todos los Niveles"}),FVe.map(d=>c.jsx("option",{value:d,children:d},d))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),c.jsx("select",{value:n,onChange:d=>a(d.target.value),className:u,children:s.map(d=>c.jsx("option",{value:d,children:d==="todos"?"Todas las Asignaturas":d},d))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"p-6 border dark:border-slate-700 rounded-lg",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Ranking de Habilidades"}),o.every(d=>d.value===0)?c.jsx("p",{className:"text-center py-10 text-slate-500",children:"No hay datos"}):c.jsx("ul",{className:"space-y-3",children:o.map((d,f)=>c.jsxs("li",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"font-bold text-lg text-amber-500 w-6 text-center",children:f+1}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:d.text}),c.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:c.jsx("div",{className:"bg-blue-500 h-2.5 rounded-full",style:{width:`${d.value/(o[0].value||1)*100}%`}})})]})]},d.text))})]}),c.jsxs("div",{className:"p-6 border dark:border-slate-700 rounded-lg flex flex-col items-center justify-center",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Nube de Contenidos"}),l.length>0?c.jsx(OVe,{words:l}):c.jsx("p",{className:"text-center py-10 text-slate-500",children:"No hay datos suficientes"})]})]})]})},PVe=({currentUser:e})=>{const{planificaciones:t,loading:r,error:n,canViewAllPlans:a}=IVe(e),[s,i]=k.useState("seguimiento"),[o,l]=k.useState("1º"),[u,d]=k.useState(null),[f,m]=k.useState(null),p=k.useMemo(()=>{const b={"1º":"1º Medio","2º":"2º Medio","3º":"3º Medio","4º":"4º Medio"};return t.filter(y=>y.nivel===b[o]&&y.tipo==="Unidad")},[t,o]),x=[{key:"1º",label:"1º Medio"},{key:"2º",label:"2º Medio"},{key:"3º",label:"3º Medio"},{key:"4º",label:"4º Medio"}];if(!(e!=null&&e.id))return c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{children:"Usuario no autenticado."})});if(r)return c.jsxs("div",{className:"text-center py-8 flex justify-center items-center gap-3",children:[c.jsx(TVe,{}),c.jsx("span",{children:"Cargando planificaciones..."})]});if(n)return c.jsx("div",{className:"text-center py-8",children:c.jsxs("p",{className:"text-red-500",children:["Error: ",n]})});const g=()=>c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 mb-6",children:c.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:x.map(b=>c.jsx("button",{onClick:()=>l(b.key),className:`${o===b.key?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg`,children:b.label},b.key))})}),p.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-slate-500",children:"No hay planificaciones de unidad para este nivel."})}):c.jsx("div",{className:"space-y-4",children:Pi.map(b=>{const y=p.filter(S=>S.asignatura===b);if(y.length===0)return null;const _=u===b;return c.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg",children:[c.jsxs("button",{onClick:()=>d(_?null:b),className:"w-full flex justify-between items-center p-4 text-left hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:b}),c.jsxs("span",{className:"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 px-2 py-1 rounded-full text-xs font-medium",children:[y.length," unidad",y.length>1?"es":""]})]}),c.jsx("span",{className:`transform transition-transform ${_?"rotate-180":""}`,children:c.jsx(BVe,{})})]}),_&&c.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700",children:c.jsx("ul",{className:"space-y-3",children:y.map(S=>c.jsx("li",{children:c.jsxs("button",{onClick:()=>m(S),className:"w-full text-left p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 group",children:[c.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200 group-hover:text-amber-600",children:S.nombreUnidad}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["Autor: ",S.autor||"N/A"]})]})},S.id))})})]},b)})})]});return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md animate-fade-in max-w-6xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Seguimiento Curricular"}),a&&c.jsx("div",{className:"text-sm text-amber-600 font-medium",children:"👑 Vista administrativa"})]}),c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 mb-6",children:c.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[c.jsx("button",{onClick:()=>i("seguimiento"),className:`${s==="seguimiento"?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700"} py-4 px-1 border-b-2 font-medium text-lg`,children:"Seguimiento por Nivel"}),c.jsx("button",{onClick:()=>i("analisis"),className:`${s==="analisis"?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700"} py-4 px-1 border-b-2 font-medium text-lg`,children:"Análisis de Reflexiones"})]})}),s==="seguimiento"&&g(),s==="analisis"&&c.jsx(DVe,{planificaciones:t.filter(b=>b.tipo==="Unidad")})]}),f&&c.jsx(jVe,{plan:f,onClose:()=>m(null)})]})},vN="analisisTaxonomicos",RVe=async()=>{try{const e=tr(Ft(Mr,vN),qr("uploadDate","desc"));return(await Zs(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error al obtener todos los análisis:",e),new Error("No se pudieron cargar los análisis taxonómicos")}},LVe=async e=>{if(!e)return[];try{const t=tr(Ft(Mr,vN),Mn("userId","==",e),qr("uploadDate","desc"));return(await Zs(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error al obtener análisis por usuario:",t),new Error("No se pudieron cargar los análisis del usuario")}},UVe=async e=>{try{return{id:(await xa(Ft(Mr,vN),e)).id,...e}}catch(t){throw console.error("Error al crear análisis:",t),new Error("No se pudo crear el análisis taxonómico")}},MVe=async e=>{try{const t=Er(Mr,vN,e);await pi(t)}catch(t){throw console.error("Error al eliminar análisis:",t,"ID:",e),new Error("No se pudo eliminar el análisis taxonómico")}},NV=["1º Medio","2º Medio","3º Medio","4º Medio"],af=["Recordar","Comprender","Aplicar","Analizar","Evaluar","Crear"],Fg={Recordar:"bg-sky-500",Comprender:"bg-blue-500",Aplicar:"bg-green-500",Analizar:"bg-yellow-500",Evaluar:"bg-orange-500",Crear:"bg-red-500"},QVe=()=>c.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),BV=({currentUser:e})=>{const[t,r]=k.useState([]),[n,a]=k.useState(!1),[s,i]=k.useState(null),[o,l]=k.useState(null),[u,d]=k.useState(""),[f,m]=k.useState(!1),[p,x]=k.useState(null),[g,b]=k.useState(null),[y,_]=k.useState(""),[S,I]=k.useState(""),[T,F]=k.useState(""),[w,C]=k.useState(""),[N,R]=k.useState("resumen"),D=k.useCallback(async()=>{if(e!=null&&e.id){a(!0);try{const q=e.profile==="SUBDIRECCION"?await RVe():await LVe(e.id);r(q),i(null)}catch(q){console.error("Error al cargar análisis:",q),i("No se pudieron cargar los análisis.")}finally{a(!1)}}},[e]);k.useEffect(()=>{D()},[D]);const O=async q=>{var J;const K=(J=q.target.files)==null?void 0:J[0];if(K){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(K.type)){i("Por favor, suba un archivo PDF o DOCX válido.");return}x(K),d(K.name),i(null);const G=new FileReader;G.onloadend=()=>{var re;const Y=(re=G.result)==null?void 0:re.split(",")[1];if(!Y){i("No se pudo procesar el archivo. Puede que esté vacío o corrupto."),b(null);return}b({mimeType:K.type,data:Y})},G.onerror=()=>i("Error al leer el archivo."),G.readAsDataURL(K)}},M=async()=>{if(!u.trim()||!g){i("Debe subir un documento y asignarle un nombre para analizar.");return}if(!y||!S){i("Seleccione Nivel y Asignatura antes de analizar.");return}m(!0),i(null);const q=`
            Eres un experto en pedagogía y en la Taxonomía de Bloom. Analiza el siguiente documento de una evaluación educativa.
            Tu tarea es:
            1. Identificar cada pregunta o ítem de evaluación en el documento.
            2. Clasificar cada pregunta en uno de los seis niveles de la Taxonomía de Bloom: Recordar, Comprender, Aplicar, Analizar, Evaluar, Crear.
            3. Devolver un objeto JSON estructurado con los resultados. El JSON debe ser válido.
        `,K={type:"object",properties:{analysisResults:{type:"array",items:{type:"object",properties:{question:{type:"string"},habilidadBloom:{type:"string",enum:af}},required:["question","habilidadBloom"]}},summary:{type:"object",properties:af.reduce((J,P)=>({...J,[P]:{type:"number"}}),{})}},required:["analysisResults","summary"]};try{jv("Análisis Taxonómico",e);const J="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",G=new ti(J).getGenerativeModel({model:"gemini-1.5-flash-latest",generationConfig:{responseMimeType:"application/json",responseSchema:K}}),Y={inlineData:{mimeType:g.mimeType,data:g.data}},ie=(await G.generateContent([q,Y])).response.text();let de;try{de=JSON.parse(ie)}catch(ye){throw console.error("Error al parsear JSON:",ye),console.error("Respuesta recibida (no es JSON válido):",ie),new Error("La respuesta de la IA no tuvo un formato válido. Intente de nuevo.")}const me={documentName:u,uploadDate:new Date().toISOString(),userId:e.id,analysisResults:de.analysisResults,summary:de.summary,nivel:y,asignatura:S},ue=await UVe(me);await D(),l(ue),d(""),x(null),b(null),_(""),I("")}catch(J){console.error(J);const P=J instanceof Error?J.message:"Hubo un error al analizar el documento.";i(P)}finally{m(!1)}},Q=async q=>{if(window.confirm("¿Está seguro de eliminar este análisis?"))try{await MVe(q),await D(),(o==null?void 0:o.id)===q&&l(null)}catch{i("No se pudo eliminar el análisis.")}},ee=k.useMemo(()=>t.filter(q=>{const K=T?q.nivel===T:!0,J=w?q.asignatura===w:!0;return K&&J}),[t,T,w]),W=k.useMemo(()=>{const q={Recordar:0,Comprender:0,Aplicar:0,Analizar:0,Evaluar:0,Crear:0};ee.forEach(J=>{af.forEach(P=>{var Y;const G=((Y=J.summary)==null?void 0:Y[P])||0;q[P]+=G})});const K=Object.values(q).reduce((J,P)=>J+P,0);return{acc:q,total:K}},[ee]),Z=k.useMemo(()=>{const q=new Map;ee.forEach(J=>{const P=J.asignatura||"Sin asignatura";q.has(P)||q.set(P,{Recordar:0,Comprender:0,Aplicar:0,Analizar:0,Evaluar:0,Crear:0});const G=q.get(P);af.forEach(Y=>{var re;G[Y]+=((re=J.summary)==null?void 0:re[Y])||0})});const K=Array.from(q.entries()).map(([J,P])=>({asignatura:J,counts:P,total:Object.values(P).reduce((G,Y)=>G+Y,0)}));return K.sort((J,P)=>P.total-J.total),K},[ee]),V=k.useMemo(()=>o?Object.values(o.summary).reduce((q,K)=>q+(K||0),0):0,[o]);return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Análisis Taxonómico de Evaluaciones"}),s&&c.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:s}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Analizar Nuevo Documento"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Subir Archivo (.pdf, .docx)"}),c.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-slate-300 border-dashed rounded-md",children:c.jsxs("div",{className:"space-y-1 text-center",children:[c.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:c.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),c.jsxs("div",{className:"flex text-sm text-slate-600 dark:text-slate-400",children:[c.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white dark:bg-slate-800 rounded-md font-medium text-amber-600 hover:text-amber-500",children:[c.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:O,accept:".pdf,.doc,.docx"}),c.jsx("span",{children:"Cargue un archivo"})]}),c.jsx("p",{className:"pl-1",children:"o arrástrelo aquí"})]}),c.jsx("p",{className:"text-xs text-slate-500",children:p?p.name:"PDF, DOCX hasta 10MB"})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nivel"}),c.jsxs("select",{value:y,onChange:q=>_(q.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Seleccione"}),NV.map(q=>c.jsx("option",{value:q,children:q},q))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),c.jsxs("select",{value:S,onChange:q=>I(q.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Seleccione"}),Pi.map(q=>c.jsx("option",{value:q,children:q},q))]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre del Documento"}),c.jsx("input",{type:"text",id:"documentName",value:u,onChange:q=>d(q.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),c.jsx("button",{onClick:M,disabled:f||!g,className:"w-full bg-slate-800 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center",children:f?c.jsx(QVe,{}):"Analizar con IA"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Análisis"}),n?c.jsx("p",{className:"text-sm text-slate-500",children:"Cargando..."}):t.length===0?c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 p-4 rounded-lg text-sm",children:"No hay análisis guardados."}):c.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:t.map(q=>c.jsxs("button",{onClick:()=>l(q),className:`w-full text-left p-3 rounded-md border ${(o==null?void 0:o.id)===q.id?"bg-amber-100 border-amber-300":"bg-slate-50 hover:bg-slate-100"}`,children:[c.jsx("p",{className:"font-semibold truncate",children:q.documentName}),c.jsx("p",{className:"text-xs text-slate-500",children:new Date(q.uploadDate).toLocaleString("es-CL")}),(q.nivel||q.asignatura)&&c.jsxs("p",{className:"text-xs text-slate-500",children:[q.nivel||"Nivel s/i"," • ",q.asignatura||"Asignatura s/i"]})]},q.id))})]})]}),c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md",children:c.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filtrar por Nivel"}),c.jsxs("select",{value:T,onChange:q=>F(q.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Todos"}),NV.map(q=>c.jsx("option",{value:q,children:q},q))]})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filtrar por Asignatura"}),c.jsxs("select",{value:w,onChange:q=>C(q.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Todas"}),Pi.map(q=>c.jsx("option",{value:q,children:q},q))]})]}),c.jsx("button",{type:"button",onClick:()=>{F(""),C("")},className:"px-4 py-2 rounded-md bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-800 dark:text-slate-200 font-semibold",children:"Limpiar filtros"})]})}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md",children:[c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 px-4",children:c.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[c.jsx("button",{onClick:()=>R("resumen"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${N==="resumen"?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Resumen Global"}),c.jsx("button",{onClick:()=>R("comparacion"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${N==="comparacion"?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Comparación por Asignatura"})]})}),N==="resumen"?c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Resumen Global de Habilidades"}),c.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[ee.length," análisis considerados"]})]}),c.jsx("div",{className:"space-y-3",children:af.map(q=>{const K=W.acc[q],J=W.total>0?K/W.total*100:0;return c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[c.jsx("span",{className:"font-medium text-slate-600 dark:text-slate-300",children:q}),c.jsxs("span",{className:"font-semibold text-slate-500 dark:text-slate-400",children:[K," (",J.toFixed(0),"%)"]})]}),c.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:c.jsx("div",{className:`${Fg[q]} h-4 rounded-full`,style:{width:`${J}%`}})})]},q)})}),c.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-3 gap-3",children:af.map(q=>c.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-lg border dark:border-slate-700",children:[c.jsx("span",{className:"text-sm",children:q}),c.jsx("span",{className:`text-xs font-bold text-white px-2 py-1 rounded ${Fg[q]}`,children:W.acc[q]})]},q))})]}):c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Comparación por Asignatura"}),c.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[Z.length," asignaturas comparadas"]})]}),Z.length===0?c.jsx("div",{className:"text-sm text-slate-500",children:"No hay datos con los filtros actuales."}):c.jsx("div",{className:"space-y-5",children:Z.map(q=>{const K=q.total||1;return c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[c.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:q.asignatura}),c.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:[q.total," ítems"]})]}),c.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-5 overflow-hidden flex",children:af.map(J=>{const P=q.counts[J]||0,G=P/K*100;return c.jsx("div",{className:`${Fg[J]} h-5`,style:{width:`${G}%`},title:`${J}: ${P} (${G.toFixed(0)}%)`},J)})}),c.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2",children:af.map(J=>c.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 dark:text-slate-300",children:[c.jsx("span",{className:`inline-block w-3 h-3 rounded ${Fg[J]}`}),c.jsx("span",{children:J})]},J))})]},q.asignatura)})})]})]}),c.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:o?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:o.documentName}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Analizado el ",new Date(o.uploadDate).toLocaleString("es-CL"),(o.nivel||o.asignatura)&&c.jsxs(c.Fragment,{children:[" ","• ",o.nivel||"Nivel s/i"," • ",o.asignatura||"Asignatura s/i"]})]})]}),c.jsx("button",{onClick:()=>Q(o.id),className:"text-red-500 hover:text-red-700 text-sm font-semibold",children:"Eliminar"})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300 mb-3",children:["Consolidado del Documento (",V," preguntas)"]}),c.jsx("div",{className:"space-y-3",children:af.map(q=>{const K=o.summary[q]||0,J=V>0?K/V*100:0;return c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[c.jsx("span",{className:"font-medium text-slate-600 dark:text-slate-300",children:q}),c.jsxs("span",{className:"font-semibold text-slate-500 dark:text-slate-400",children:[K," (",J.toFixed(0),"%)"]})]}),c.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:c.jsx("div",{className:`${Fg[q]} h-4 rounded-full`,style:{width:`${J}%`}})})]},q)})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300 mb-3",children:"Detalle del Análisis"}),c.jsx("div",{className:"overflow-x-auto max-h-96 border rounded-lg dark:border-slate-700",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase w-3/4",children:"Pregunta / Ítem"}),c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Habilidad (Bloom)"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:o.analysisResults.map((q,K)=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300",children:q.question}),c.jsx("td",{className:"px-4 py-3 text-sm",children:c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full text-white ${Fg[q.habilidadBloom]}`,children:q.habilidadBloom})})]},K))})]})})]})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-8",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300",children:"Resultados del Análisis"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mt-2",children:"Realice un nuevo análisis o seleccione uno del historial para ver los resultados aquí."})]})})]})]})]})},dS="empresas_practicas",HVe="usuarios",VVe="rutas_supervision",HD=e=>{const t=e.data();return{id:e.id,...t}};async function zVe(e){const r=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(e)}&key=AIzaSyBkpVIvmoJAoD1QlZOZBln0aM6bPpBuGy4&region=CL`;try{const a=await(await fetch(r)).json();return a.status==="OK"&&a.results[0]?a.results[0].geometry.location:null}catch(n){return console.error("Error en la llamada a la API de Geocodificación:",n),null}}const $Ve=e=>{const t=tr(Ft(Bt,dS),qr("nombre","asc"));return br(t,r=>{const n=r.docs.map(a=>HD(a));e(n)},r=>console.error("Error al suscribirse a empresas:",r))},KVe=async e=>{const t=e.calificaciones.reduce((n,a)=>n+(a.score||0),0),r={...e,puntajeTotal:t};if(e.direccion){const n=await zVe(e.direccion);n&&(r.coordenadas=n)}if("id"in e&&e.id){const{id:n,...a}=r,s=Er(Bt,dS,n);return await io(s,a,{merge:!0}),n}else return(await xa(Ft(Bt,dS),{...r,createdAt:lX()})).id},GVe=async e=>{const t=Er(Bt,dS,e);await pi(t)},qVe=e=>{const t=tr(Ft(Bt,HVe),Mn("profile","==","PROFESORADO"),qr("nombreCompleto","asc"));return br(t,r=>{const n=r.docs.map(a=>HD(a));e(n)},r=>console.error("Error al suscribirse a profesores:",r))},WVe=e=>{const t=tr(Ft(Bt,VVe),qr("createdAt","desc"));return br(t,r=>{const n=r.docs.map(a=>HD(a));e(n)},r=>console.error("Error al suscribirse a rutas guardadas:",r))};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ep=function(){return ep=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ep.apply(this,arguments)};function XVe(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(u){try{l(n.next(u))}catch(d){s(d)}}function o(u){try{l(n.throw(u))}catch(d){s(d)}}function l(u){var d;u.done?a(u.value):(d=u.value,d instanceof r?d:new r(function(f){f(d)})).then(i,o)}l((n=n.apply(e,[])).next())})}function YVe(e,t){var r,n,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(u){return function(d){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&d[0]?n.return:d[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,d[1])).done)return a;switch(n=0,a&&(d=[2&d[0],a.value]),d[0]){case 0:case 1:a=d;break;case 4:return i.label++,{value:d[1],done:!1};case 5:i.label++,n=d[1],d=[0];continue;case 7:d=i.ops.pop(),i.trys.pop();continue;default:if(a=i.trys,!((a=a.length>0&&a[a.length-1])||d[0]!==6&&d[0]!==2)){i=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){i.label=d[1];break}if(d[0]===6&&i.label<a[1]){i.label=a[1],a=d;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(d);break}a[2]&&i.ops.pop(),i.trys.pop();continue}d=t.call(e,i)}catch(f){d=[6,f],n=0}finally{r=a=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([l,u])}}}function kr(){return kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kr.apply(this,arguments)}function tp(e){return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function Tne(e){var t=function(r,n){if(tp(r)!=="object"||r===null)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,n);if(tp(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(e,"string");return tp(t)==="symbol"?t:String(t)}function Jg(e,t,r){return(t=Tne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kV(Object(r),!0).forEach(function(n){Jg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tne(n.key),n)}}function Qj(e,t){return Qj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Qj(e,t)}function AS(e){return AS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},AS(e)}function JVe(e,t){if(t&&(tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e)}function ZVe(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=AS(e);if(t){var a=AS(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return JVe(this,r)}}function Hj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ine(e,t){if(e){if(typeof e=="string")return Hj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hj(e,t):void 0}}function VD(e){return function(t){if(Array.isArray(t))return Hj(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Ine(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var eze=function(){function e(r){var n=this;this._insertTag=function(a){var s;s=n.tags.length===0?n.insertionPoint?n.insertionPoint.nextSibling:n.prepend?n.container.firstChild:n.before:n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(s){var i=document.createElement("style");return i.setAttribute("data-emotion",s.key),s.nonce!==void 0&&i.setAttribute("nonce",s.nonce),i.appendChild(document.createTextNode("")),i.setAttribute("data-s",""),i}(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var a=function(s){if(s.sheet)return s.sheet;for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].ownerNode===s)return document.styleSheets[i]}(n);try{a.insertRule(r,a.cssRules.length)}catch{}}else n.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Xc="-ms-",IV="-moz-",zn="-webkit-",zD="decl",jne="@keyframes",tze=Math.abs,xN=String.fromCharCode,rze=Object.assign;function Fne(e){return e.trim()}function Xn(e,t,r){return e.replace(t,r)}function Vj(e,t){return e.indexOf(t)}function Yi(e,t){return 0|e.charCodeAt(t)}function _y(e,t,r){return e.slice(t,r)}function Xd(e){return e.length}function $D(e){return e.length}function RE(e,t){return t.push(e),e}var bN=1,Gv=1,One=0,Dl=0,Xs=0,vx="";function yN(e,t,r,n,a,s,i){return{value:e,root:t,parent:r,type:n,props:a,children:s,line:bN,column:Gv,length:i,return:""}}function R1(e,t){return rze(yN("",null,null,"",null,null,0),e,{length:-e.length},t)}function mc(){return Xs=Dl<One?Yi(vx,Dl++):0,Gv++,Xs===10&&(Gv=1,bN++),Xs}function hA(){return Yi(vx,Dl)}function kC(){return Dl}function gw(e,t){return _y(vx,e,t)}function Sy(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Dne(e){return bN=Gv=1,One=Xd(vx=e),Dl=0,[]}function Pne(e){return vx="",e}function TC(e){return Fne(gw(Dl-1,zj(e===91?e+2:e===40?e+1:e)))}function nze(e){for(;(Xs=hA())&&Xs<33;)mc();return Sy(e)>2||Sy(Xs)>3?"":" "}function aze(e,t){for(;--t&&mc()&&!(Xs<48||Xs>102||Xs>57&&Xs<65||Xs>70&&Xs<97););return gw(e,kC()+(t<6&&hA()==32&&mc()==32))}function zj(e){for(;mc();)switch(Xs){case e:return Dl;case 34:case 39:e!==34&&e!==39&&zj(Xs);break;case 40:e===41&&zj(e);break;case 92:mc()}return Dl}function sze(e,t){for(;mc()&&e+Xs!==57&&(e+Xs!==84||hA()!==47););return"/*"+gw(t,Dl-1)+"*"+xN(e===47?e:mc())}function ize(e){for(;!Sy(hA());)mc();return gw(e,Dl)}function jV(e){return Pne(IC("",null,null,null,[""],e=Dne(e),0,[0],e))}function IC(e,t,r,n,a,s,i,o,l){for(var u=0,d=0,f=i,m=0,p=0,x=0,g=1,b=1,y=1,_=0,S="",I=a,T=s,F=n,w=S;b;)switch(x=_,_=mc()){case 40:if(x!=108&&Yi(w,f-1)==58){Vj(w+=Xn(TC(_),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:w+=TC(_);break;case 9:case 10:case 13:case 32:w+=nze(x);break;case 92:w+=aze(kC()-1,7);continue;case 47:switch(hA()){case 42:case 47:RE(oze(sze(mc(),kC()),t,r),l);break;default:w+="/"}break;case 123*g:o[u++]=Xd(w)*y;case 125*g:case 59:case 0:switch(_){case 0:case 125:b=0;case 59+d:p>0&&Xd(w)-f&&RE(p>32?OV(w+";",n,r,f-1):OV(Xn(w," ","")+";",n,r,f-2),l);break;case 59:w+=";";default:if(RE(F=FV(w,t,r,u,d,a,o,S,I=[],T=[],f),s),_===123)if(d===0)IC(w,t,F,F,I,s,f,o,T);else switch(m===99&&Yi(w,3)===110?100:m){case 100:case 109:case 115:IC(e,F,F,n&&RE(FV(e,F,F,0,0,a,o,S,a,I=[],f),T),a,T,f,o,n?I:T);break;default:IC(w,F,F,F,[""],T,0,o,T)}}u=d=p=0,g=y=1,S=w="",f=i;break;case 58:f=1+Xd(w),p=x;default:if(g<1){if(_==123)--g;else if(_==125&&g++==0&&(Xs=Dl>0?Yi(vx,--Dl):0,Gv--,Xs===10&&(Gv=1,bN--),Xs==125))continue}switch(w+=xN(_),_*g){case 38:y=d>0?1:(w+="\f",-1);break;case 44:o[u++]=(Xd(w)-1)*y,y=1;break;case 64:hA()===45&&(w+=TC(mc())),m=hA(),d=f=Xd(S=w+=ize(kC())),_++;break;case 45:x===45&&Xd(w)==2&&(g=0)}}return s}function FV(e,t,r,n,a,s,i,o,l,u,d){for(var f=a-1,m=a===0?s:[""],p=$D(m),x=0,g=0,b=0;x<n;++x)for(var y=0,_=_y(e,f+1,f=tze(g=i[x])),S=e;y<p;++y)(S=Fne(g>0?m[y]+" "+_:Xn(_,/&\f/g,m[y])))&&(l[b++]=S);return yN(e,t,r,a===0?"rule":o,l,u,d)}function oze(e,t,r){return yN(e,t,r,"comm",xN(Xs),_y(e,2,-2),0)}function OV(e,t,r,n){return yN(e,t,r,zD,_y(e,0,n),_y(e,n+1,-1),n)}function rp(e,t){for(var r="",n=$D(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function DV(e,t,r,n){switch(e.type){case"@import":case zD:return e.return=e.return||e.value;case"comm":return"";case jne:return e.return=e.value+"{"+rp(e.children,n)+"}";case"rule":e.value=e.props.join(",")}return Xd(r=rp(e.children,n))?e.return=e.value+"{"+r+"}":""}function PV(e){var t=$D(e);return function(r,n,a,s){for(var i="",o=0;o<t;o++)i+=e[o](r,n,a,s)||"";return i}}function lze(e){return function(t){t.root||(t=t.return)&&e(t)}}function Rne(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var cze=function(e,t,r){for(var n=0,a=0;n=a,a=hA(),n===38&&a===12&&(t[r]=1),!Sy(a);)mc();return gw(e,Dl)},uze=function(e,t){return Pne(function(r,n){var a=-1,s=44;do switch(Sy(s)){case 0:s===38&&hA()===12&&(n[a]=1),r[a]+=cze(Dl-1,n,a);break;case 2:r[a]+=TC(s);break;case 4:if(s===44){r[++a]=hA()===58?"&\f":"",n[a]=r[a].length;break}default:r[a]+=xN(s)}while(s=mc());return r}(Dne(e),t))},RV=new WeakMap,dze=function(e){if(e.type==="rule"&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(!(r=r.parent))return;if((e.props.length!==1||t.charCodeAt(0)===58||RV.get(r))&&!n){RV.set(e,!0);for(var a=[],s=uze(t,a),i=r.props,o=0,l=0;o<s.length;o++)for(var u=0;u<i.length;u++,l++)e.props[l]=a[o]?s[o].replace(/&\f/g,i[u]):i[u]+" "+s[o]}}},Aze=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Lne(e,t){switch(function(r,n){return 45^Yi(r,0)?(((n<<2^Yi(r,0))<<2^Yi(r,1))<<2^Yi(r,2))<<2^Yi(r,3):0}(e,t)){case 5103:return zn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return zn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return zn+e+IV+e+Xc+e+e;case 6828:case 4268:return zn+e+Xc+e+e;case 6165:return zn+e+Xc+"flex-"+e+e;case 5187:return zn+e+Xn(e,/(\w+).+(:[^]+)/,zn+"box-$1$2-ms-flex-$1$2")+e;case 5443:return zn+e+Xc+"flex-item-"+Xn(e,/flex-|-self/,"")+e;case 4675:return zn+e+Xc+"flex-line-pack"+Xn(e,/align-content|flex-|-self/,"")+e;case 5548:return zn+e+Xc+Xn(e,"shrink","negative")+e;case 5292:return zn+e+Xc+Xn(e,"basis","preferred-size")+e;case 6060:return zn+"box-"+Xn(e,"-grow","")+zn+e+Xc+Xn(e,"grow","positive")+e;case 4554:return zn+Xn(e,/([^-])(transform)/g,"$1"+zn+"$2")+e;case 6187:return Xn(Xn(Xn(e,/(zoom-|grab)/,zn+"$1"),/(image-set)/,zn+"$1"),e,"")+e;case 5495:case 3959:return Xn(e,/(image-set\([^]*)/,zn+"$1$`$1");case 4968:return Xn(Xn(e,/(.+:)(flex-)?(.*)/,zn+"box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+zn+e+e;case 4095:case 3583:case 4068:case 2532:return Xn(e,/(.+)-inline(.+)/,zn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Xd(e)-1-t>6)switch(Yi(e,t+1)){case 109:if(Yi(e,t+4)!==45)break;case 102:return Xn(e,/(.+:)(.+)-([^]+)/,"$1"+zn+"$2-$3$1"+IV+(Yi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Vj(e,"stretch")?Lne(Xn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Yi(e,t+1)!==115)break;case 6444:switch(Yi(e,Xd(e)-3-(~Vj(e,"!important")&&10))){case 107:return Xn(e,":",":"+zn)+e;case 101:return Xn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+zn+(Yi(e,14)===45?"inline-":"")+"box$3$1"+zn+"$2$3$1-ms-$2box$3")+e}break;case 5936:switch(Yi(e,t+11)){case 114:return zn+e+Xc+Xn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return zn+e+Xc+Xn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return zn+e+Xc+Xn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return zn+e+Xc+e+e}return e}var LV,LE,jC=typeof document<"u",fze=jC?void 0:(LV=function(){return Rne(function(){var e={};return function(t){return e[t]}})},LE=new WeakMap,function(e){if(LE.has(e))return LE.get(e);var t=LV(e);return LE.set(e,t),t}),hze=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case zD:e.return=Lne(e.value,e.length);break;case jne:return rp([R1(e,{value:Xn(e.value,"@","@"+zn)})],n);case"rule":if(e.length)return function(a,s){return a.map(s).join("")}(e.props,function(a){switch(function(s,i){return(s=i.exec(s))?s[0]:s}(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return rp([R1(e,{props:[Xn(a,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return rp([R1(e,{props:[Xn(a,/:(plac\w+)/,":"+zn+"input-$1")]}),R1(e,{props:[Xn(a,/:(plac\w+)/,":-moz-$1")]}),R1(e,{props:[Xn(a,/:(plac\w+)/,"-ms-input-$1")]})],n)}return""})}}],Une=function(e){var t=e.key;if(jC&&t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){y.getAttribute("data-emotion").indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var n=e.stylisPlugins||hze,a,s,i={},o=[];jC&&(a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(y){for(var _=y.getAttribute("data-emotion").split(" "),S=1;S<_.length;S++)i[_[S]]=!0;o.push(y)}));var l=[dze,Aze];if(jC){var u,d=[DV,lze(function(y){u.insert(y)})],f=PV(l.concat(n,d));s=function(y,_,S,I){u=S,rp(jV(y?y+"{"+_.styles+"}":_.styles),f),I&&(b.inserted[_.name]=!0)}}else{var m=[DV],p=PV(l.concat(n,m)),x=fze(n)(t),g=function(y,_){var S=_.name;return x[S]===void 0&&(x[S]=rp(jV(y?y+"{"+_.styles+"}":_.styles),p)),x[S]};s=function(y,_,S,I){var T=_.name,F=g(y,_);return b.compat===void 0?(I&&(b.inserted[T]=!0),F):I?void(b.inserted[T]=F):F}}var b={key:t,sheet:new eze({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:s};return b.sheet.hydrate(o),b};function Jn(e,t,r){return e(r={path:t,exports:{},require:function(n,a){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(a==null&&r.path)}},r.exports),r.exports}var Qi=typeof Symbol=="function"&&Symbol.for,$j=Qi?Symbol.for("react.element"):60103,Kj=Qi?Symbol.for("react.portal"):60106,FC=Qi?Symbol.for("react.fragment"):60107,OC=Qi?Symbol.for("react.strict_mode"):60108,DC=Qi?Symbol.for("react.profiler"):60114,PC=Qi?Symbol.for("react.provider"):60109,RC=Qi?Symbol.for("react.context"):60110,Gj=Qi?Symbol.for("react.async_mode"):60111,fS=Qi?Symbol.for("react.concurrent_mode"):60111,LC=Qi?Symbol.for("react.forward_ref"):60112,UC=Qi?Symbol.for("react.suspense"):60113,mze=Qi?Symbol.for("react.suspense_list"):60120,MC=Qi?Symbol.for("react.memo"):60115,QC=Qi?Symbol.for("react.lazy"):60116,pze=Qi?Symbol.for("react.block"):60121,gze=Qi?Symbol.for("react.fundamental"):60117,vze=Qi?Symbol.for("react.responder"):60118,xze=Qi?Symbol.for("react.scope"):60119;function nc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case $j:switch(e=e.type){case Gj:case fS:case FC:case DC:case OC:case UC:return e;default:switch(e=e&&e.$$typeof){case RC:case LC:case QC:case MC:case PC:return e;default:return t}}case Kj:return t}}}function UV(e){return nc(e)===fS}var bze={AsyncMode:Gj,ConcurrentMode:fS,ContextConsumer:RC,ContextProvider:PC,Element:$j,ForwardRef:LC,Fragment:FC,Lazy:QC,Memo:MC,Portal:Kj,Profiler:DC,StrictMode:OC,Suspense:UC,isAsyncMode:function(e){return UV(e)||nc(e)===Gj},isConcurrentMode:UV,isContextConsumer:function(e){return nc(e)===RC},isContextProvider:function(e){return nc(e)===PC},isElement:function(e){return typeof e=="object"&&e!==null&&e.$$typeof===$j},isForwardRef:function(e){return nc(e)===LC},isFragment:function(e){return nc(e)===FC},isLazy:function(e){return nc(e)===QC},isMemo:function(e){return nc(e)===MC},isPortal:function(e){return nc(e)===Kj},isProfiler:function(e){return nc(e)===DC},isStrictMode:function(e){return nc(e)===OC},isSuspense:function(e){return nc(e)===UC},isValidElementType:function(e){return typeof e=="string"||typeof e=="function"||e===FC||e===fS||e===DC||e===OC||e===UC||e===mze||typeof e=="object"&&e!==null&&(e.$$typeof===QC||e.$$typeof===MC||e.$$typeof===PC||e.$$typeof===RC||e.$$typeof===LC||e.$$typeof===gze||e.$$typeof===vze||e.$$typeof===xze||e.$$typeof===pze)},typeOf:nc};Jn(function(e,t){});var MV=Jn(function(e){e.exports=bze}),QV={};QV[MV.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},QV[MV.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var qj=typeof document<"u";function Mne(e,t,r){var n="";return r.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):n+=a+" "}),n}var KD=function(e,t,r){var n=e.key+"-"+t.name;(r===!1||qj===!1&&e.compat!==void 0)&&e.registered[n]===void 0&&(e.registered[n]=t.styles)},GD=function(e,t,r){KD(e,t,r);var n=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var a="",s=t;do{var i=e.insert(t===s?"."+n:"",s,e.sheet,!0);qj||i===void 0||(a+=i),s=s.next}while(s!==void 0);if(!qj&&a.length!==0)return a}},yze={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},wze=/[A-Z]|^ms/g,Eze=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Qne=function(e){return e.charCodeAt(1)===45},HV=function(e){return e!=null&&typeof e!="boolean"},Yk=Rne(function(e){return Qne(e)?e:e.replace(wze,"-$&").toLowerCase()}),VV=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Eze,function(r,n,a){return Yd={name:n,styles:a,next:Yd},n})}return yze[e]===1||Qne(e)||typeof t!="number"||t===0?t:t+"px"};function Pb(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":if(r.anim===1)return Yd={name:r.name,styles:r.styles,next:Yd},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Yd={name:n.name,styles:n.styles,next:Yd},n=n.next;var a=r.styles+";";return a}return function(l,u,d){var f="";if(Array.isArray(d))for(var m=0;m<d.length;m++)f+=Pb(l,u,d[m])+";";else for(var p in d){var x=d[p];if(typeof x!="object")u!=null&&u[x]!==void 0?f+=p+"{"+u[x]+"}":HV(x)&&(f+=Yk(p)+":"+VV(p,x)+";");else if(!Array.isArray(x)||typeof x[0]!="string"||u!=null&&u[x[0]]!==void 0){var g=Pb(l,u,x);switch(p){case"animation":case"animationName":f+=Yk(p)+":"+g+";";break;default:f+=p+"{"+g+"}"}}else for(var b=0;b<x.length;b++)HV(x[b])&&(f+=Yk(p)+":"+VV(p,x[b])+";")}return f}(e,t,r);case"function":if(e!==void 0){var s=Yd,i=r(e);return Yd=s,Pb(e,t,i)}break}if(t==null)return r;var o=t[r];return o!==void 0?o:r}var Yd,zV=/label:\s*([^\s;\n{]+)\s*(;|$)/g,wN=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,a="";Yd=void 0;var s=e[0];s==null||s.raw===void 0?(n=!1,a+=Pb(r,t,s)):a+=s[0];for(var i=1;i<e.length;i++)a+=Pb(r,t,e[i]),n&&(a+=s[i]);zV.lastIndex=0;for(var o,l="";(o=zV.exec(a))!==null;)l+="-"+o[1];var u=function(d){for(var f,m=0,p=0,x=d.length;x>=4;++p,x-=4)f=1540483477*(65535&(f=255&d.charCodeAt(p)|(255&d.charCodeAt(++p))<<8|(255&d.charCodeAt(++p))<<16|(255&d.charCodeAt(++p))<<24))+(59797*(f>>>16)<<16),m=1540483477*(65535&(f^=f>>>24))+(59797*(f>>>16)<<16)^1540483477*(65535&m)+(59797*(m>>>16)<<16);switch(x){case 3:m^=(255&d.charCodeAt(p+2))<<16;case 2:m^=(255&d.charCodeAt(p+1))<<8;case 1:m=1540483477*(65535&(m^=255&d.charCodeAt(p)))+(59797*(m>>>16)<<16)}return(((m=1540483477*(65535&(m^=m>>>13))+(59797*(m>>>16)<<16))^m>>>15)>>>0).toString(36)}(a)+l;return{name:u,styles:a,next:Yd}},Cze=typeof document<"u",_ze=function(e){return e()},Hne=!!k.useInsertionEffect&&k.useInsertionEffect,Vne=Cze&&Hne||_ze,$V=Hne||k.useLayoutEffect,wv=typeof document<"u",qD={}.hasOwnProperty,hS=k.createContext(typeof HTMLElement<"u"?Une({key:"css"}):null);hS.Provider;var EN=function(e){return k.forwardRef(function(t,r){var n=k.useContext(hS);return e(t,n,r)})};wv||(EN=function(e){return function(t){var r=k.useContext(hS);return r===null?(r=Une({key:"css"}),k.createElement(hS.Provider,{value:r},e(t,r))):e(t,r)}});var WD=k.createContext({}),Wj="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Sze=function(e,t){var r={};for(var n in t)qD.call(t,n)&&(r[n]=t[n]);return r[Wj]=e,r},Nze=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;KD(t,r,n);var a=Vne(function(){return GD(t,r,n)});if(!wv&&a!==void 0){for(var s,i=r.name,o=r.next;o!==void 0;)i+=" "+o.name,o=o.next;return k.createElement("style",((s={})["data-emotion"]=t.key+" "+i,s.dangerouslySetInnerHTML={__html:a},s.nonce=t.sheet.nonce,s))}return null},Bze=EN(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var a=e[Wj],s=[n],i="";typeof e.className=="string"?i=Mne(t.registered,s,e.className):e.className!=null&&(i=e.className+" ");var o=wN(s,void 0,k.useContext(WD));i+=t.key+"-"+o.name;var l={};for(var u in e)!qD.call(e,u)||u==="css"||u===Wj||(l[u]=e[u]);return l.ref=r,l.className=i,k.createElement(k.Fragment,null,k.createElement(Nze,{cache:t,serialized:o,isStringTag:typeof a=="string"}),k.createElement(a,l))});Jn(function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports});var Cr=function(e,t){var r=arguments;if(t==null||!qD.call(t,"css"))return k.createElement.apply(void 0,r);var n=r.length,a=new Array(n);a[0]=Bze,a[1]=Sze(e,t);for(var s=2;s<n;s++)a[s]=r[s];return k.createElement.apply(null,a)};EN(function(e,t){var r=e.styles,n=wN([r],void 0,k.useContext(WD));if(!wv){for(var a,s=n.name,i=n.styles,o=n.next;o!==void 0;)s+=" "+o.name,i+=o.styles,o=o.next;var l=t.compat===!0,u=t.insert("",{name:s,styles:i},t.sheet,l);return l?null:k.createElement("style",((a={})["data-emotion"]=t.key+"-global "+s,a.dangerouslySetInnerHTML={__html:u},a.nonce=t.sheet.nonce,a))}var d=k.useRef();return $V(function(){var f=t.key+"-global",m=new t.sheet.constructor({key:f,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),p=!1,x=document.querySelector('style[data-emotion="'+f+" "+n.name+'"]');return t.sheet.tags.length&&(m.before=t.sheet.tags[0]),x!==null&&(p=!0,x.setAttribute("data-emotion",f),m.hydrate([x])),d.current=[m,p],function(){m.flush()}},[t]),$V(function(){var f=d.current,m=f[0];if(f[1])f[1]=!1;else{if(n.next!==void 0&&GD(t,n.next,!0),m.tags.length){var p=m.tags[m.tags.length-1].nextElementSibling;m.before=p,m.flush()}t.insert("",n,m,!1)}},[t,n.name]),null});function XD(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return wN(t)}var kze=function e(t){for(var r=t.length,n=0,a="";n<r;n++){var s=t[n];if(s!=null){var i=void 0;switch(typeof s){case"boolean":break;case"object":if(Array.isArray(s))i=e(s);else for(var o in i="",s)s[o]&&o&&(i&&(i+=" "),i+=o);break;default:i=s}i&&(a&&(a+=" "),a+=i)}}return a};function Tze(e,t,r){var n=[],a=Mne(e,n,r);return n.length<2?r:a+t(n)}var Ize=function(e){var t,r=e.cache,n=e.serializedArr,a=Vne(function(){for(var s="",i=0;i<n.length;i++){var o=GD(r,n[i],!1);wv||o===void 0||(s+=o)}if(!wv)return s});return wv||a.length===0?null:k.createElement("style",((t={})["data-emotion"]=r.key+" "+n.map(function(s){return s.name}).join(" "),t.dangerouslySetInnerHTML={__html:a},t.nonce=r.sheet.nonce,t))};EN(function(e,t){var r=[],n=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];var u=wN(o,t.registered);return r.push(u),KD(t,u,!1),t.key+"-"+u.name},a={css:n,cx:function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return Tze(t.registered,n,kze(o))},theme:k.useContext(WD)},s=e.children(a);return k.createElement(k.Fragment,null,k.createElement(Ize,{cache:t,serializedArr:r}),s)});function Ti(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){var a=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(a!=null){var s,i,o,l,u=[],d=!0,f=!1;try{if(o=(a=a.call(r)).next,n===0){if(Object(a)!==a)return;d=!1}else for(;!(d=(s=o.call(a)).done)&&(u.push(s.value),u.length!==n);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&a.return!=null&&(l=a.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}(e,t)||Ine(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jd(e,t){if(e==null)return{};var r,n,a=function(i,o){if(i==null)return{};var l,u,d={},f=Object.keys(i);for(u=0;u<f.length;u++)l=f[u],o.indexOf(l)>=0||(d[l]=i[l]);return d}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xf(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function zne(e){return xf(e).getComputedStyle(e)}const UE=Math.round;function $ne(e){return Gne(e)?(e.nodeName||"").toLowerCase():""}let ME;function Kne(e){return e instanceof xf(e).HTMLElement}function HC(e){return e instanceof xf(e).Element}function Gne(e){return e instanceof xf(e).Node}function KV(e){return typeof ShadowRoot>"u"?!1:e instanceof xf(e).ShadowRoot||e instanceof ShadowRoot}function qne(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=zne(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function jze(){return/^((?!chrome|android).)*safari/i.test(function(){if(ME)return ME;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(ME=e.brands.map(t=>t.brand+"/"+t.version).join(" "),ME):navigator.userAgent}())}function Wne(e){return HC(e)?e:e.contextElement}const Xne={x:1,y:1};function GV(e){const t=Wne(e);if(!Kne(t))return Xne;const r=t.getBoundingClientRect(),{width:n,height:a,fallback:s}=function(l){const u=zne(l);let d=parseFloat(u.width),f=parseFloat(u.height);const m=l.offsetWidth,p=l.offsetHeight,x=UE(d)!==m||UE(f)!==p;return x&&(d=m,f=p),{width:d,height:f,fallback:x}}(t);let i=(s?UE(r.width):r.width)/n,o=(s?UE(r.height):r.height)/a;return i&&Number.isFinite(i)||(i=1),o&&Number.isFinite(o)||(o=1),{x:i,y:o}}function qV(e,t,r,n){var a,s;t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=Wne(e);let l=Xne;t&&(l=GV(e));const u=o?xf(o):window,d=jze()&&r;let f=(i.left+(d&&((a=u.visualViewport)==null?void 0:a.offsetLeft)||0))/l.x,m=(i.top+(d&&((s=u.visualViewport)==null?void 0:s.offsetTop)||0))/l.y,p=i.width/l.x,x=i.height/l.y;if(o){const g=xf(o),b=n;let y=g.frameElement;for(;y&&n&&b!==g;){const _=GV(y),S=y.getBoundingClientRect(),I=getComputedStyle(y);S.x+=(y.clientLeft+parseFloat(I.paddingLeft))*_.x,S.y+=(y.clientTop+parseFloat(I.paddingTop))*_.y,f*=_.x,m*=_.y,p*=_.x,x*=_.y,f+=S.x,m+=S.y,y=xf(y).frameElement}}return{width:p,height:x,top:m,right:f+p,bottom:m+x,left:f,x:f,y:m}}function Fze(e){if($ne(e)==="html")return e;const t=e.assignedSlot||e.parentNode||KV(e)&&e.host||function(r){return((Gne(r)?r.ownerDocument:r.document)||window.document).documentElement}(e);return KV(t)?t.host:t}function Yne(e){const t=Fze(e);return function(r){return["html","body","#document"].includes($ne(r))}(t)?t.ownerDocument.body:Kne(t)&&qne(t)?t:Yne(t)}function VC(e,t){var r;t===void 0&&(t=[]);const n=Yne(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),s=xf(n);return a?t.concat(s,s.visualViewport||[],qne(n)?n:[]):t.concat(n,VC(n))}var Xj=typeof document<"u"?k.useLayoutEffect:k.useEffect,Oze=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],mS=function(){};function Dze(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function Pze(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s=[].concat(n);if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&s.push("".concat(Dze(e,i)));return s.filter(function(o){return o}).map(function(o){return String(o).trim()}).join(" ")}var WV=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):tp(e)==="object"&&e!==null?[e]:[];var t},XV=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,pr({},Jd(e,Oze))},us=function(e,t,r){var n=e.cx,a=e.getStyles,s=e.getClassNames,i=e.className;return{css:a(t,e),className:n(r??{},s(t,e),i)}};function CN(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Jne(e){return CN(e)?window.pageYOffset:e.scrollTop}function pS(e,t){CN(e)?window.scrollTo(0,t):e.scrollTop=t}function Rze(e,t,r,n){return r*((e=e/n-1)*e*e+1)+t}function QE(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:mS,a=Jne(e),s=t-a,i=10,o=0;function l(){var u=Rze(o+=i,a,s,r);pS(e,u),o<r?window.requestAnimationFrame(l):n(e)}l()}function YV(e,t){var r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),a=t.offsetHeight/3;n.bottom+a>r.bottom?pS(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+a,e.scrollHeight)):n.top-a<r.top&&pS(e,Math.max(t.offsetTop-a,0))}function JV(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}var Zne=!1,Lze={get passive(){return Zne=!0}},HE=typeof window<"u"?window:{};HE.addEventListener&&HE.removeEventListener&&(HE.addEventListener("p",mS,Lze),HE.removeEventListener("p",mS,!1));var Uze=Zne;function Mze(e){return e!=null}function VE(e,t,r){return e?t:r}var Qze=["children","innerProps"],Hze=["children","innerProps"];function Vze(e){var t=e.maxHeight,r=e.menuEl,n=e.minHeight,a=e.placement,s=e.shouldScroll,i=e.isFixedPosition,o=e.controlHeight,l=function(ee){var W=getComputedStyle(ee),Z=W.position==="absolute",V=/(auto|scroll)/;if(W.position==="fixed")return document.documentElement;for(var q=ee;q=q.parentElement;)if(W=getComputedStyle(q),(!Z||W.position!=="static")&&V.test(W.overflow+W.overflowY+W.overflowX))return q;return document.documentElement}(r),u={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return u;var d,f=l.getBoundingClientRect().height,m=r.getBoundingClientRect(),p=m.bottom,x=m.height,g=m.top,b=r.offsetParent.getBoundingClientRect().top,y=i||CN(d=l)?window.innerHeight:d.clientHeight,_=Jne(l),S=parseInt(getComputedStyle(r).marginBottom,10),I=parseInt(getComputedStyle(r).marginTop,10),T=b-I,F=y-g,w=T+_,C=f-_-g,N=p-y+_+S,R=_+g-I,D=160;switch(a){case"auto":case"bottom":if(F>=x)return{placement:"bottom",maxHeight:t};if(C>=x&&!i)return s&&QE(l,N,D),{placement:"bottom",maxHeight:t};if(!i&&C>=n||i&&F>=n)return s&&QE(l,N,D),{placement:"bottom",maxHeight:i?F-S:C-S};if(a==="auto"||i){var O=t,M=i?T:w;return M>=n&&(O=Math.min(M-S-o,t)),{placement:"top",maxHeight:O}}if(a==="bottom")return s&&pS(l,N),{placement:"bottom",maxHeight:t};break;case"top":if(T>=x)return{placement:"top",maxHeight:t};if(w>=x&&!i)return s&&QE(l,R,D),{placement:"top",maxHeight:t};if(!i&&w>=n||i&&T>=n){var Q=t;return(!i&&w>=n||i&&T>=n)&&(Q=i?T-I:w-I),s&&QE(l,R,D),{placement:"top",maxHeight:Q}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}var ZV,eae=function(e){return e==="auto"?"bottom":e},tae=k.createContext(null),zze=function(e){var t=e.children,r=e.minMenuHeight,n=e.maxMenuHeight,a=e.menuPlacement,s=e.menuPosition,i=e.menuShouldScrollIntoView,o=e.theme,l=(k.useContext(tae)||{}).setPortalPlacement,u=k.useRef(null),d=Ti(k.useState(n),2),f=d[0],m=d[1],p=Ti(k.useState(null),2),x=p[0],g=p[1],b=o.spacing.controlHeight;return Xj(function(){var y=u.current;if(y){var _=s==="fixed",S=Vze({maxHeight:n,menuEl:y,minHeight:r,placement:a,shouldScroll:i&&!_,isFixedPosition:_,controlHeight:b});m(S.maxHeight),g(S.placement),l==null||l(S.placement)}},[n,a,s,i,r,l,b]),t({ref:u,placerProps:pr(pr({},e),{},{placement:x||eae(a),maxHeight:f})})},$ze=function(e){var t=e.children,r=e.innerRef,n=e.innerProps;return Cr("div",kr({},us(e,"menu",{menu:!0}),{ref:r},n),t)},rae=function(e,t){var r=e.theme,n=r.spacing.baseUnit,a=r.colors;return pr({textAlign:"center"},t?{}:{color:a.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px")})},Kze=rae,Gze=rae,qze=["size"],Wze=["innerProps","isRtl","size"],Jk,Zk,Xze={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},nae=function(e){var t=e.size,r=Jd(e,qze);return Cr("svg",kr({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Xze},r))},eT=function(e){return Cr(nae,kr({size:20},e),Cr("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},ez=function(e){return Cr(nae,kr({size:20},e),Cr("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},aae=function(e,t){var r=e.isFocused,n=e.theme,a=n.spacing.baseUnit,s=n.colors;return pr({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?s.neutral60:s.neutral20,padding:2*a,":hover":{color:r?s.neutral80:s.neutral40}})},Yze=aae,Jze=aae,Zze=function(){var e=XD.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(ZV||(Jk=[`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`],Zk||(Zk=Jk.slice(0)),ZV=Object.freeze(Object.defineProperties(Jk,{raw:{value:Object.freeze(Zk)}})))),tT=function(e){var t=e.delay,r=e.offset;return Cr("span",{css:XD({animation:"".concat(Zze," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},e$e=function(e){var t=e.children,r=e.isDisabled,n=e.isFocused,a=e.innerRef,s=e.innerProps,i=e.menuIsOpen;return Cr("div",kr({ref:a},us(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":n,"control--menu-is-open":i}),s,{"aria-disabled":r||void 0}),t)},t$e=["data"],r$e=function(e){var t=e.children,r=e.cx,n=e.getStyles,a=e.getClassNames,s=e.Heading,i=e.headingProps,o=e.innerProps,l=e.label,u=e.theme,d=e.selectProps;return Cr("div",kr({},us(e,"group",{group:!0}),o),Cr(s,kr({},i,{selectProps:d,theme:u,getStyles:n,getClassNames:a,cx:r}),l),Cr("div",null,t))},n$e=["innerRef","isDisabled","isHidden","inputClassName"],sae={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},a$e={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":pr({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},sae)},s$e=function(e){return pr({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},sae)},tz=function(e){var t=e.children,r=e.innerProps;return Cr("div",r,t)},i$e=function(e){var t=e.children,r=e.components,n=e.data,a=e.innerProps,s=e.isDisabled,i=e.removeProps,o=e.selectProps,l=r.Container,u=r.Label,d=r.Remove;return Cr(l,{data:n,innerProps:pr(pr({},us(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),a),selectProps:o},Cr(u,{data:n,innerProps:pr({},us(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:o},t),Cr(d,{data:n,innerProps:pr(pr({},us(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},i),selectProps:o}))},o$e={ClearIndicator:function(e){var t=e.children,r=e.innerProps;return Cr("div",kr({},us(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||Cr(eT,null))},Control:e$e,DropdownIndicator:function(e){var t=e.children,r=e.innerProps;return Cr("div",kr({},us(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||Cr(ez,null))},DownChevron:ez,CrossIcon:eT,Group:r$e,GroupHeading:function(e){var t=XV(e);t.data;var r=Jd(t,t$e);return Cr("div",kr({},us(e,"groupHeading",{"group-heading":!0}),r))},IndicatorsContainer:function(e){var t=e.children,r=e.innerProps;return Cr("div",kr({},us(e,"indicatorsContainer",{indicators:!0}),r),t)},IndicatorSeparator:function(e){var t=e.innerProps;return Cr("span",kr({},t,us(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,r=e.value,n=XV(e),a=n.innerRef,s=n.isDisabled,i=n.isHidden,o=n.inputClassName,l=Jd(n,n$e);return Cr("div",kr({},us(e,"input",{"input-container":!0}),{"data-value":r||""}),Cr("input",kr({className:t({input:!0},o),ref:a,style:s$e(i),disabled:s},l)))},LoadingIndicator:function(e){var t=e.innerProps,r=e.isRtl,n=e.size,a=n===void 0?4:n,s=Jd(e,Wze);return Cr("div",kr({},us(pr(pr({},s),{},{innerProps:t,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Cr(tT,{delay:0,offset:r}),Cr(tT,{delay:160,offset:!0}),Cr(tT,{delay:320,offset:!r}))},Menu:$ze,MenuList:function(e){var t=e.children,r=e.innerProps,n=e.innerRef,a=e.isMulti;return Cr("div",kr({},us(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:n},r),t)},MenuPortal:function(e){var t=e.appendTo,r=e.children,n=e.controlElement,a=e.innerProps,s=e.menuPlacement,i=e.menuPosition,o=k.useRef(null),l=k.useRef(null),u=Ti(k.useState(eae(s)),2),d=u[0],f=u[1],m=k.useMemo(function(){return{setPortalPlacement:f}},[]),p=Ti(k.useState(null),2),x=p[0],g=p[1],b=k.useCallback(function(){if(n){var I=function(w){var C=w.getBoundingClientRect();return{bottom:C.bottom,height:C.height,left:C.left,right:C.right,top:C.top,width:C.width}}(n),T=i==="fixed"?0:window.pageYOffset,F=I[d]+T;F===(x==null?void 0:x.offset)&&I.left===(x==null?void 0:x.rect.left)&&I.width===(x==null?void 0:x.rect.width)||g({offset:F,rect:I})}},[n,i,d,x==null?void 0:x.offset,x==null?void 0:x.rect.left,x==null?void 0:x.rect.width]);Xj(function(){b()},[b]);var y=k.useCallback(function(){typeof l.current=="function"&&(l.current(),l.current=null),n&&o.current&&(l.current=function(I,T,F,w){w===void 0&&(w={});const{ancestorScroll:C=!0,ancestorResize:N=!0,elementResize:R=!0,animationFrame:D=!1}=w,O=C&&!D,M=O||N?[...HC(I)?VC(I):I.contextElement?VC(I.contextElement):[],...VC(T)]:[];M.forEach(Z=>{O&&Z.addEventListener("scroll",F,{passive:!0}),N&&Z.addEventListener("resize",F)});let Q,ee=null;if(R){let Z=!0;ee=new ResizeObserver(()=>{Z||F(),Z=!1}),HC(I)&&!D&&ee.observe(I),HC(I)||!I.contextElement||D||ee.observe(I.contextElement),ee.observe(T)}let W=D?qV(I):null;return D&&function Z(){const V=qV(I);!W||V.x===W.x&&V.y===W.y&&V.width===W.width&&V.height===W.height||F(),W=V,Q=requestAnimationFrame(Z)}(),F(),()=>{var Z;M.forEach(V=>{O&&V.removeEventListener("scroll",F),N&&V.removeEventListener("resize",F)}),(Z=ee)==null||Z.disconnect(),ee=null,D&&cancelAnimationFrame(Q)}}(n,o.current,b,{elementResize:"ResizeObserver"in window}))},[n,b]);Xj(function(){y()},[y]);var _=k.useCallback(function(I){o.current=I,y()},[y]);if(!t&&i!=="fixed"||!x)return null;var S=Cr("div",kr({ref:_},us(pr(pr({},e),{},{offset:x.offset,position:i,rect:x.rect}),"menuPortal",{"menu-portal":!0}),a),r);return Cr(tae.Provider,{value:m},t?Ste.createPortal(S,t):S)},LoadingMessage:function(e){var t=e.children,r=t===void 0?"Loading...":t,n=e.innerProps,a=Jd(e,Hze);return Cr("div",kr({},us(pr(pr({},a),{},{children:r,innerProps:n}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),n),r)},NoOptionsMessage:function(e){var t=e.children,r=t===void 0?"No options":t,n=e.innerProps,a=Jd(e,Qze);return Cr("div",kr({},us(pr(pr({},a),{},{children:r,innerProps:n}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),n),r)},MultiValue:i$e,MultiValueContainer:tz,MultiValueLabel:tz,MultiValueRemove:function(e){var t=e.children,r=e.innerProps;return Cr("div",kr({role:"button"},r),t||Cr(eT,{size:14}))},Option:function(e){var t=e.children,r=e.isDisabled,n=e.isFocused,a=e.isSelected,s=e.innerRef,i=e.innerProps;return Cr("div",kr({},us(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":n,"option--is-selected":a}),{ref:s,"aria-disabled":r},i),t)},Placeholder:function(e){var t=e.children,r=e.innerProps;return Cr("div",kr({},us(e,"placeholder",{placeholder:!0}),r),t)},SelectContainer:function(e){var t=e.children,r=e.innerProps,n=e.isDisabled,a=e.isRtl;return Cr("div",kr({},us(e,"container",{"--is-disabled":n,"--is-rtl":a}),r),t)},SingleValue:function(e){var t=e.children,r=e.isDisabled,n=e.innerProps;return Cr("div",kr({},us(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),n),t)},ValueContainer:function(e){var t=e.children,r=e.innerProps,n=e.isMulti,a=e.hasValue;return Cr("div",kr({},us(e,"valueContainer",{"value-container":!0,"value-container--is-multi":n,"value-container--has-value":a}),r),t)}},rz=Number.isNaN||function(e){return typeof e=="number"&&e!=e};function l$e(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(n=e[r],a=t[r],!(n===a||rz(n)&&rz(a)))return!1;var n,a;return!0}for(var c$e={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},nz=function(e){return Cr("span",kr({css:c$e},e))},u$e={guidance:function(e){var t=e.isSearchable,r=e.isMulti,n=e.tabSelectsValue,a=e.context,s=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(n?", press Tab to select the option and exit the menu":"",".");case"input":return s?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,n=r===void 0?"":r,a=e.labels,s=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return"option ".concat(n,s?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,n=e.options,a=e.label,s=a===void 0?"":a,i=e.selectValue,o=e.isDisabled,l=e.isSelected,u=e.isAppleDevice,d=function(p,x){return p&&p.length?"".concat(p.indexOf(x)+1," of ").concat(p.length):""};if(t==="value"&&i)return"value ".concat(s," focused, ").concat(d(i,r),".");if(t==="menu"&&u){var f=o?" disabled":"",m="".concat(l?" selected":"").concat(f);return"".concat(s).concat(m,", ").concat(d(n,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},d$e=function(e){var t=e.ariaSelection,r=e.focusedOption,n=e.focusedValue,a=e.focusableOptions,s=e.isFocused,i=e.selectValue,o=e.selectProps,l=e.id,u=e.isAppleDevice,d=o.ariaLiveMessages,f=o.getOptionLabel,m=o.inputValue,p=o.isMulti,x=o.isOptionDisabled,g=o.isSearchable,b=o.menuIsOpen,y=o.options,_=o.screenReaderStatus,S=o.tabSelectsValue,I=o.isLoading,T=o["aria-label"],F=o["aria-live"],w=k.useMemo(function(){return pr(pr({},u$e),d||{})},[d]),C=k.useMemo(function(){var Q,ee="";if(t&&w.onChange){var W=t.option,Z=t.options,V=t.removedValue,q=t.removedValues,K=t.value,J=V||W||(Q=K,Array.isArray(Q)?null:Q),P=J?f(J):"",G=Z||q||void 0,Y=G?G.map(f):[],re=pr({isDisabled:J&&x(J,i),label:P,labels:Y},t);ee=w.onChange(re)}return ee},[t,w,x,i,f]),N=k.useMemo(function(){var Q="",ee=r||n,W=!!(r&&i&&i.includes(r));if(ee&&w.onFocus){var Z={focused:ee,label:f(ee),isDisabled:x(ee,i),isSelected:W,options:a,context:ee===r?"menu":"value",selectValue:i,isAppleDevice:u};Q=w.onFocus(Z)}return Q},[r,n,f,x,w,a,i,u]),R=k.useMemo(function(){var Q="";if(b&&y.length&&!I&&w.onFilter){var ee=_({count:a.length});Q=w.onFilter({inputValue:m,resultsMessage:ee})}return Q},[a,m,b,w,y,_,I]),D=(t==null?void 0:t.action)==="initial-input-focus",O=k.useMemo(function(){var Q="";if(w.guidance){var ee=n?"value":b?"menu":"input";Q=w.guidance({"aria-label":T,context:ee,isDisabled:r&&x(r,i),isMulti:p,isSearchable:g,tabSelectsValue:S,isInitialFocus:D})}return Q},[T,r,n,p,x,g,b,w,i,S,D]),M=Cr(k.Fragment,null,Cr("span",{id:"aria-selection"},C),Cr("span",{id:"aria-focused"},N),Cr("span",{id:"aria-results"},R),Cr("span",{id:"aria-guidance"},O));return Cr(k.Fragment,null,Cr(nz,{id:l},D&&M),Cr(nz,{"aria-live":F,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},s&&!D&&M))},rT=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],A$e=new RegExp("["+rT.map(function(e){return e.letters}).join("")+"]","g"),iae={},nT=0;nT<rT.length;nT++)for(var aT=rT[nT],sT=0;sT<aT.letters.length;sT++)iae[aT.letters[sT]]=aT.base;var oae=function(e){return e.replace(A$e,function(t){return iae[t]})},f$e=function(e,t){t===void 0&&(t=l$e);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var i=e.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}(oae),az=function(e){return e.replace(/^\s+|\s+$/g,"")},h$e=function(e){return"".concat(e.label," ").concat(e.value)},m$e=["innerRef"];function p$e(e){var t=e.innerRef,r=function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];var o=Object.entries(n).filter(function(l){var u=Ti(l,1)[0];return!s.includes(u)});return o.reduce(function(l,u){var d=Ti(u,2),f=d[0],m=d[1];return l[f]=m,l},{})}(Jd(e,m$e),"onExited","in","enter","exit","appear");return Cr("input",kr({ref:t},r,{css:XD({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var sz=["boxSizing","height","overflow","paddingRight","position"],iz={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function oz(e){e.preventDefault()}function lz(e){e.stopPropagation()}function cz(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function uz(){return"ontouchstart"in window||navigator.maxTouchPoints}var dz=!(typeof window>"u"||!window.document||!window.document.createElement),L1=0,Og={capture:!1,passive:!1},g$e=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},v$e={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function x$e(e){var t=e.children,r=e.lockEnabled,n=e.captureEnabled,a=function(i){var o=i.isEnabled,l=i.onBottomArrive,u=i.onBottomLeave,d=i.onTopArrive,f=i.onTopLeave,m=k.useRef(!1),p=k.useRef(!1),x=k.useRef(0),g=k.useRef(null),b=k.useCallback(function(F,w){if(g.current!==null){var C=g.current,N=C.scrollTop,R=C.scrollHeight,D=C.clientHeight,O=g.current,M=w>0,Q=R-D-N,ee=!1;Q>w&&m.current&&(u&&u(F),m.current=!1),M&&p.current&&(f&&f(F),p.current=!1),M&&w>Q?(l&&!m.current&&l(F),O.scrollTop=R,ee=!0,m.current=!0):!M&&-w>N&&(d&&!p.current&&d(F),O.scrollTop=0,ee=!0,p.current=!0),ee&&function(W){W.cancelable&&W.preventDefault(),W.stopPropagation()}(F)}},[l,u,d,f]),y=k.useCallback(function(F){b(F,F.deltaY)},[b]),_=k.useCallback(function(F){x.current=F.changedTouches[0].clientY},[]),S=k.useCallback(function(F){var w=x.current-F.changedTouches[0].clientY;b(F,w)},[b]),I=k.useCallback(function(F){if(F){var w=!!Uze&&{passive:!1};F.addEventListener("wheel",y,w),F.addEventListener("touchstart",_,w),F.addEventListener("touchmove",S,w)}},[S,_,y]),T=k.useCallback(function(F){F&&(F.removeEventListener("wheel",y,!1),F.removeEventListener("touchstart",_,!1),F.removeEventListener("touchmove",S,!1))},[S,_,y]);return k.useEffect(function(){if(o){var F=g.current;return I(F),function(){T(F)}}},[o,I,T]),function(F){g.current=F}}({isEnabled:n===void 0||n,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),s=function(i){var o=i.isEnabled,l=i.accountForScrollbars,u=l===void 0||l,d=k.useRef({}),f=k.useRef(null),m=k.useCallback(function(x){if(dz){var g=document.body,b=g&&g.style;if(u&&sz.forEach(function(I){var T=b&&b[I];d.current[I]=T}),u&&L1<1){var y=parseInt(d.current.paddingRight,10)||0,_=document.body?document.body.clientWidth:0,S=window.innerWidth-_+y||0;Object.keys(iz).forEach(function(I){var T=iz[I];b&&(b[I]=T)}),b&&(b.paddingRight="".concat(S,"px"))}g&&uz()&&(g.addEventListener("touchmove",oz,Og),x&&(x.addEventListener("touchstart",cz,Og),x.addEventListener("touchmove",lz,Og))),L1+=1}},[u]),p=k.useCallback(function(x){if(dz){var g=document.body,b=g&&g.style;L1=Math.max(L1-1,0),u&&L1<1&&sz.forEach(function(y){var _=d.current[y];b&&(b[y]=_)}),g&&uz()&&(g.removeEventListener("touchmove",oz,Og),x&&(x.removeEventListener("touchstart",cz,Og),x.removeEventListener("touchmove",lz,Og)))}},[u]);return k.useEffect(function(){if(o){var x=f.current;return m(x),function(){p(x)}}},[o,m,p]),function(x){f.current=x}}({isEnabled:r});return Cr(k.Fragment,null,r&&Cr("div",{onClick:g$e,css:v$e}),t(function(i){a(i),s(i)}))}var b$e={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},y$e=function(e){var t=e.name,r=e.onFocus;return Cr("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:b$e,value:"",onChange:function(){}})};function Yj(e){var t;return typeof window<"u"&&window.navigator!=null&&e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform)}function lae(){return Yj(/^Mac/i)}function w$e(){return Yj(/^iPhone/i)||Yj(/^iPad/i)||lae()&&navigator.maxTouchPoints>1}var E$e,C$e={clearIndicator:Jze,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var r=e.isDisabled,n=e.isFocused,a=e.theme,s=a.colors,i=a.borderRadius;return pr({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?s.neutral5:s.neutral0,borderColor:r?s.neutral10:n?s.primary:s.neutral20,borderRadius:i,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:n?s.primary:s.neutral30}})},dropdownIndicator:Yze,group:function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:2*r.baseUnit,paddingTop:2*r.baseUnit}},groupHeading:function(e,t){var r=e.theme,n=r.colors,a=r.spacing;return pr({label:"group",cursor:"default",display:"block"},t?{}:{color:n.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*a.baseUnit,paddingRight:3*a.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var r=e.isDisabled,n=e.theme,a=n.spacing.baseUnit,s=n.colors;return pr({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?s.neutral10:s.neutral20,marginBottom:2*a,marginTop:2*a})},input:function(e,t){var r=e.isDisabled,n=e.value,a=e.theme,s=a.spacing,i=a.colors;return pr(pr({visibility:r?"hidden":"visible",transform:n?"translateZ(0)":""},a$e),t?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:i.neutral80})},loadingIndicator:function(e,t){var r=e.isFocused,n=e.size,a=e.theme,s=a.colors,i=a.spacing.baseUnit;return pr({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?s.neutral60:s.neutral20,padding:2*i})},loadingMessage:Gze,menu:function(e,t){var r,n=e.placement,a=e.theme,s=a.borderRadius,i=a.spacing,o=a.colors;return pr((Jg(r={label:"menu"},function(l){return l?{bottom:"top",top:"bottom"}[l]:"bottom"}(n),"100%"),Jg(r,"position","absolute"),Jg(r,"width","100%"),Jg(r,"zIndex",1),r),t?{}:{backgroundColor:o.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:i.menuGutter,marginTop:i.menuGutter})},menuList:function(e,t){var r=e.maxHeight,n=e.theme.spacing.baseUnit;return pr({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:n,paddingTop:n})},menuPortal:function(e){var t=e.rect,r=e.offset,n=e.position;return{left:t.left,position:n,top:r,width:t.width,zIndex:1}},multiValue:function(e,t){var r=e.theme,n=r.spacing,a=r.borderRadius,s=r.colors;return pr({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:s.neutral10,borderRadius:a/2,margin:n.baseUnit/2})},multiValueLabel:function(e,t){var r=e.theme,n=r.borderRadius,a=r.colors,s=e.cropWithEllipsis;return pr({overflow:"hidden",textOverflow:s||s===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:n/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var r=e.theme,n=r.spacing,a=r.borderRadius,s=r.colors,i=e.isFocused;return pr({alignItems:"center",display:"flex"},t?{}:{borderRadius:a/2,backgroundColor:i?s.dangerLight:void 0,paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},noOptionsMessage:Kze,option:function(e,t){var r=e.isDisabled,n=e.isFocused,a=e.isSelected,s=e.theme,i=s.spacing,o=s.colors;return pr({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:a?o.primary:n?o.primary25:"transparent",color:r?o.neutral20:a?o.neutral0:"inherit",padding:"".concat(2*i.baseUnit,"px ").concat(3*i.baseUnit,"px"),":active":{backgroundColor:r?void 0:a?o.primary:o.primary50}})},placeholder:function(e,t){var r=e.theme,n=r.spacing,a=r.colors;return pr({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:a.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2})},singleValue:function(e,t){var r=e.isDisabled,n=e.theme,a=n.spacing,s=n.colors;return pr({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?s.neutral40:s.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},valueContainer:function(e,t){var r=e.theme.spacing,n=e.isMulti,a=e.hasValue,s=e.selectProps.controlShouldRenderValue;return pr({alignItems:"center",display:n&&a&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(2*r.baseUnit,"px")})}},iT={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},_$e={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:JV(),captureMenuScroll:!JV(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var r=pr({ignoreCase:!0,ignoreAccents:!0,stringify:h$e,trim:!0,matchFrom:"any"},E$e),n=r.ignoreCase,a=r.ignoreAccents,s=r.stringify,i=r.trim,o=r.matchFrom,l=i?az(t):t,u=i?az(s(e)):s(e);return n&&(l=l.toLowerCase(),u=u.toLowerCase()),a&&(l=f$e(l),u=oae(u)),o==="start"?u.substr(0,l.length)===l:u.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Az(e,t,r,n){return{type:"option",data:t,isDisabled:uae(e,t,r),isSelected:dae(e,t,r),label:cae(e,t),value:gS(e,t),index:n}}function zE(e,t){return e.options.map(function(r,n){if("options"in r){var a=r.options.map(function(i,o){return Az(e,i,t,o)}).filter(function(i){return mz(e,i)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var s=Az(e,r,t,n);return mz(e,s)?s:void 0}).filter(Mze)}function fz(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,VD(r.options.map(function(n){return n.data}))):t.push(r.data),t},[])}function hz(e,t){return e.reduce(function(r,n){return n.type==="group"?r.push.apply(r,VD(n.options.map(function(a){return{data:a.data,id:"".concat(t,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),r},[])}function mz(e,t){var r=e.inputValue,n=r===void 0?"":r,a=t.data,s=t.isSelected,i=t.label,o=t.value;return(!fae(e)||!s)&&Aae(e,{label:i,value:o,data:a},n)}var oT=function(e,t){var r;return((r=e.find(function(n){return n.data===t}))===null||r===void 0?void 0:r.id)||null},cae=function(e,t){return e.getOptionLabel(t)},gS=function(e,t){return e.getOptionValue(t)};function uae(e,t,r){return typeof e.isOptionDisabled=="function"&&e.isOptionDisabled(t,r)}function dae(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var n=gS(e,t);return r.some(function(a){return gS(e,a)===n})}function Aae(e,t,r){return!e.filterOption||e.filterOption(t,r)}var fae=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return t===void 0?r:t},S$e=1,hae=function(e){(function(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&Qj(i,o)})(s,k.Component);var t,r,n,a=ZVe(s);function s(i){var o;if(function(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}(this,s),(o=a.call(this,i)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},o.blockOptionHover=!1,o.isComposing=!1,o.commonProps=void 0,o.initialTouchX=0,o.initialTouchY=0,o.openAfterFocus=!1,o.scrollToFocusedOptionOnUpdate=!1,o.userIsDragging=void 0,o.isAppleDevice=lae()||w$e(),o.controlRef=null,o.getControlRef=function(f){o.controlRef=f},o.focusedOptionRef=null,o.getFocusedOptionRef=function(f){o.focusedOptionRef=f},o.menuListRef=null,o.getMenuListRef=function(f){o.menuListRef=f},o.inputRef=null,o.getInputRef=function(f){o.inputRef=f},o.focus=o.focusInput,o.blur=o.blurInput,o.onChange=function(f,m){var p=o.props,x=p.onChange,g=p.name;m.name=g,o.ariaOnChange(f,m),x(f,m)},o.setValue=function(f,m,p){var x=o.props,g=x.closeMenuOnSelect,b=x.isMulti,y=x.inputValue;o.onInputChange("",{action:"set-value",prevInputValue:y}),g&&(o.setState({inputIsHiddenAfterUpdate:!b}),o.onMenuClose()),o.setState({clearFocusValueOnUpdate:!0}),o.onChange(f,{action:m,option:p})},o.selectOption=function(f){var m=o.props,p=m.blurInputOnSelect,x=m.isMulti,g=m.name,b=o.state.selectValue,y=x&&o.isOptionSelected(f,b),_=o.isOptionDisabled(f,b);if(y){var S=o.getOptionValue(f);o.setValue(b.filter(function(I){return o.getOptionValue(I)!==S}),"deselect-option",f)}else{if(_)return void o.ariaOnChange(f,{action:"select-option",option:f,name:g});x?o.setValue([].concat(VD(b),[f]),"select-option",f):o.setValue(f,"select-option")}p&&o.blurInput()},o.removeValue=function(f){var m=o.props.isMulti,p=o.state.selectValue,x=o.getOptionValue(f),g=p.filter(function(y){return o.getOptionValue(y)!==x}),b=VE(m,g,g[0]||null);o.onChange(b,{action:"remove-value",removedValue:f}),o.focusInput()},o.clearValue=function(){var f=o.state.selectValue;o.onChange(VE(o.props.isMulti,[],null),{action:"clear",removedValues:f})},o.popValue=function(){var f=o.props.isMulti,m=o.state.selectValue,p=m[m.length-1],x=m.slice(0,m.length-1),g=VE(f,x,x[0]||null);o.onChange(g,{action:"pop-value",removedValue:p})},o.getFocusedOptionId=function(f){return oT(o.state.focusableOptionsWithIds,f)},o.getFocusableOptionsWithIds=function(){return hz(zE(o.props,o.state.selectValue),o.getElementId("option"))},o.getValue=function(){return o.state.selectValue},o.cx=function(){for(var f=arguments.length,m=new Array(f),p=0;p<f;p++)m[p]=arguments[p];return Pze.apply(void 0,[o.props.classNamePrefix].concat(m))},o.getOptionLabel=function(f){return cae(o.props,f)},o.getOptionValue=function(f){return gS(o.props,f)},o.getStyles=function(f,m){var p=o.props.unstyled,x=C$e[f](m,p);x.boxSizing="border-box";var g=o.props.styles[f];return g?g(x,m):x},o.getClassNames=function(f,m){var p,x;return(p=(x=o.props.classNames)[f])===null||p===void 0?void 0:p.call(x,m)},o.getElementId=function(f){return"".concat(o.state.instancePrefix,"-").concat(f)},o.getComponents=function(){return f=o.props,pr(pr({},o$e),f.components);var f},o.buildCategorizedOptions=function(){return zE(o.props,o.state.selectValue)},o.getCategorizedOptions=function(){return o.props.menuIsOpen?o.buildCategorizedOptions():[]},o.buildFocusableOptions=function(){return fz(o.buildCategorizedOptions())},o.getFocusableOptions=function(){return o.props.menuIsOpen?o.buildFocusableOptions():[]},o.ariaOnChange=function(f,m){o.setState({ariaSelection:pr({value:f},m)})},o.onMenuMouseDown=function(f){f.button===0&&(f.stopPropagation(),f.preventDefault(),o.focusInput())},o.onMenuMouseMove=function(f){o.blockOptionHover=!1},o.onControlMouseDown=function(f){if(!f.defaultPrevented){var m=o.props.openMenuOnClick;o.state.isFocused?o.props.menuIsOpen?f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&o.onMenuClose():m&&o.openMenu("first"):(m&&(o.openAfterFocus=!0),o.focusInput()),f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&f.preventDefault()}},o.onDropdownIndicatorMouseDown=function(f){if(!(f&&f.type==="mousedown"&&f.button!==0||o.props.isDisabled)){var m=o.props,p=m.isMulti,x=m.menuIsOpen;o.focusInput(),x?(o.setState({inputIsHiddenAfterUpdate:!p}),o.onMenuClose()):o.openMenu("first"),f.preventDefault()}},o.onClearIndicatorMouseDown=function(f){f&&f.type==="mousedown"&&f.button!==0||(o.clearValue(),f.preventDefault(),o.openAfterFocus=!1,f.type==="touchend"?o.focusInput():setTimeout(function(){return o.focusInput()}))},o.onScroll=function(f){typeof o.props.closeMenuOnScroll=="boolean"?f.target instanceof HTMLElement&&CN(f.target)&&o.props.onMenuClose():typeof o.props.closeMenuOnScroll=="function"&&o.props.closeMenuOnScroll(f)&&o.props.onMenuClose()},o.onCompositionStart=function(){o.isComposing=!0},o.onCompositionEnd=function(){o.isComposing=!1},o.onTouchStart=function(f){var m=f.touches,p=m&&m.item(0);p&&(o.initialTouchX=p.clientX,o.initialTouchY=p.clientY,o.userIsDragging=!1)},o.onTouchMove=function(f){var m=f.touches,p=m&&m.item(0);if(p){var x=Math.abs(p.clientX-o.initialTouchX),g=Math.abs(p.clientY-o.initialTouchY);o.userIsDragging=x>5||g>5}},o.onTouchEnd=function(f){o.userIsDragging||(o.controlRef&&!o.controlRef.contains(f.target)&&o.menuListRef&&!o.menuListRef.contains(f.target)&&o.blurInput(),o.initialTouchX=0,o.initialTouchY=0)},o.onControlTouchEnd=function(f){o.userIsDragging||o.onControlMouseDown(f)},o.onClearIndicatorTouchEnd=function(f){o.userIsDragging||o.onClearIndicatorMouseDown(f)},o.onDropdownIndicatorTouchEnd=function(f){o.userIsDragging||o.onDropdownIndicatorMouseDown(f)},o.handleInputChange=function(f){var m=o.props.inputValue,p=f.currentTarget.value;o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange(p,{action:"input-change",prevInputValue:m}),o.props.menuIsOpen||o.onMenuOpen()},o.onInputFocus=function(f){o.props.onFocus&&o.props.onFocus(f),o.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(o.openAfterFocus||o.props.openMenuOnFocus)&&o.openMenu("first"),o.openAfterFocus=!1},o.onInputBlur=function(f){var m=o.props.inputValue;o.menuListRef&&o.menuListRef.contains(document.activeElement)?o.inputRef.focus():(o.props.onBlur&&o.props.onBlur(f),o.onInputChange("",{action:"input-blur",prevInputValue:m}),o.onMenuClose(),o.setState({focusedValue:null,isFocused:!1}))},o.onOptionHover=function(f){if(!o.blockOptionHover&&o.state.focusedOption!==f){var m=o.getFocusableOptions().indexOf(f);o.setState({focusedOption:f,focusedOptionId:m>-1?o.getFocusedOptionId(f):null})}},o.shouldHideSelectedOptions=function(){return fae(o.props)},o.onValueInputFocus=function(f){f.preventDefault(),f.stopPropagation(),o.focus()},o.onKeyDown=function(f){var m=o.props,p=m.isMulti,x=m.backspaceRemovesValue,g=m.escapeClearsValue,b=m.inputValue,y=m.isClearable,_=m.isDisabled,S=m.menuIsOpen,I=m.onKeyDown,T=m.tabSelectsValue,F=m.openMenuOnFocus,w=o.state,C=w.focusedOption,N=w.focusedValue,R=w.selectValue;if(!(_||typeof I=="function"&&(I(f),f.defaultPrevented))){switch(o.blockOptionHover=!0,f.key){case"ArrowLeft":if(!p||b)return;o.focusValue("previous");break;case"ArrowRight":if(!p||b)return;o.focusValue("next");break;case"Delete":case"Backspace":if(b)return;if(N)o.removeValue(N);else{if(!x)return;p?o.popValue():y&&o.clearValue()}break;case"Tab":if(o.isComposing||f.shiftKey||!S||!T||!C||F&&o.isOptionSelected(C,R))return;o.selectOption(C);break;case"Enter":if(f.keyCode===229)break;if(S){if(!C||o.isComposing)return;o.selectOption(C);break}return;case"Escape":S?(o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange("",{action:"menu-close",prevInputValue:b}),o.onMenuClose()):y&&g&&o.clearValue();break;case" ":if(b)return;if(!S){o.openMenu("first");break}if(!C)return;o.selectOption(C);break;case"ArrowUp":S?o.focusOption("up"):o.openMenu("last");break;case"ArrowDown":S?o.focusOption("down"):o.openMenu("first");break;case"PageUp":if(!S)return;o.focusOption("pageup");break;case"PageDown":if(!S)return;o.focusOption("pagedown");break;case"Home":if(!S)return;o.focusOption("first");break;case"End":if(!S)return;o.focusOption("last");break;default:return}f.preventDefault()}},o.state.instancePrefix="react-select-"+(o.props.instanceId||++S$e),o.state.selectValue=WV(i.value),i.menuIsOpen&&o.state.selectValue.length){var l=o.getFocusableOptionsWithIds(),u=o.buildFocusableOptions(),d=u.indexOf(o.state.selectValue[0]);o.state.focusableOptionsWithIds=l,o.state.focusedOption=u[d],o.state.focusedOptionId=oT(l,u[d])}return o}return t=s,r=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&YV(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var o=this.props,l=o.isDisabled,u=o.menuIsOpen,d=this.state.isFocused;(d&&!l&&i.isDisabled||d&&u&&!i.menuIsOpen)&&this.focusInput(),d&&l&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):d||l||!i.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(YV(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,l=this.state,u=l.selectValue,d=l.isFocused,f=this.buildFocusableOptions(),m=i==="first"?0:f.length-1;if(!this.props.isMulti){var p=f.indexOf(u[0]);p>-1&&(m=p)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:f[m],focusedOptionId:this.getFocusedOptionId(f[m])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,l=o.selectValue,u=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=l.indexOf(u);u||(d=-1);var f=l.length-1,m=-1;if(l.length){switch(i){case"previous":m=d===0?0:d===-1?f:d-1;break;case"next":d>-1&&d<f&&(m=d+1)}this.setState({inputIsHidden:m!==-1,focusedValue:l[m]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,l=this.state.focusedOption,u=this.getFocusableOptions();if(u.length){var d=0,f=u.indexOf(l);l||(f=-1),i==="up"?d=f>0?f-1:u.length-1:i==="down"?d=(f+1)%u.length:i==="pageup"?(d=f-o)<0&&(d=0):i==="pagedown"?(d=f+o)>u.length-1&&(d=u.length-1):i==="last"&&(d=u.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:u[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(u[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(iT):pr(pr({},iT),this.props.theme):iT}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,l=this.getStyles,u=this.getClassNames,d=this.getValue,f=this.selectOption,m=this.setValue,p=this.props,x=p.isMulti,g=p.isRtl,b=p.options;return{clearValue:i,cx:o,getStyles:l,getClassNames:u,getValue:d,hasValue:this.hasValue(),isMulti:x,isRtl:g,options:b,selectOption:f,selectProps:p,setValue:m,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,l=i.isMulti;return o===void 0?l:o}},{key:"isOptionDisabled",value:function(i,o){return uae(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return dae(this.props,i,o)}},{key:"filterOption",value:function(i,o){return Aae(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var l=this.props.inputValue,u=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:l,selectValue:u})}return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,l=i.isSearchable,u=i.inputId,d=i.inputValue,f=i.tabIndex,m=i.form,p=i.menuIsOpen,x=i.required,g=this.getComponents().Input,b=this.state,y=b.inputIsHidden,_=b.ariaSelection,S=this.commonProps,I=u||this.getElementId("input"),T=pr(pr(pr({"aria-autocomplete":"list","aria-expanded":p,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":x,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},p&&{"aria-controls":this.getElementId("listbox")}),!l&&{"aria-readonly":!0}),this.hasValue()?(_==null?void 0:_.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return l?k.createElement(g,kr({},S,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:I,innerRef:this.getInputRef,isDisabled:o,isHidden:y,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:f,form:m,type:"text",value:d},T)):k.createElement(p$e,kr({id:I,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:mS,onFocus:this.onInputFocus,disabled:o,tabIndex:f,inputMode:"none",form:m,value:""},T))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),l=o.MultiValue,u=o.MultiValueContainer,d=o.MultiValueLabel,f=o.MultiValueRemove,m=o.SingleValue,p=o.Placeholder,x=this.commonProps,g=this.props,b=g.controlShouldRenderValue,y=g.isDisabled,_=g.isMulti,S=g.inputValue,I=g.placeholder,T=this.state,F=T.selectValue,w=T.focusedValue,C=T.isFocused;if(!this.hasValue()||!b)return S?null:k.createElement(p,kr({},x,{key:"placeholder",isDisabled:y,isFocused:C,innerProps:{id:this.getElementId("placeholder")}}),I);if(_)return F.map(function(R,D){var O=R===w,M="".concat(i.getOptionLabel(R),"-").concat(i.getOptionValue(R));return k.createElement(l,kr({},x,{components:{Container:u,Label:d,Remove:f},isFocused:O,isDisabled:y,key:M,index:D,removeProps:{onClick:function(){return i.removeValue(R)},onTouchEnd:function(){return i.removeValue(R)},onMouseDown:function(Q){Q.preventDefault()}},data:R}),i.formatOptionLabel(R,"value"))});if(S)return null;var N=F[0];return k.createElement(m,kr({},x,{data:N,isDisabled:y}),this.formatOptionLabel(N,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents().ClearIndicator,o=this.commonProps,l=this.props,u=l.isDisabled,d=l.isLoading,f=this.state.isFocused;if(!this.isClearable()||!i||u||!this.hasValue()||d)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return k.createElement(i,kr({},o,{innerProps:m,isFocused:f}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents().LoadingIndicator,o=this.commonProps,l=this.props,u=l.isDisabled,d=l.isLoading,f=this.state.isFocused;return i&&d?k.createElement(i,kr({},o,{innerProps:{"aria-hidden":"true"},isDisabled:u,isFocused:f})):null}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,l=i.IndicatorSeparator;if(!o||!l)return null;var u=this.commonProps,d=this.props.isDisabled,f=this.state.isFocused;return k.createElement(l,kr({},u,{isDisabled:d,isFocused:f}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents().DropdownIndicator;if(!i)return null;var o=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return k.createElement(i,kr({},o,{innerProps:d,isDisabled:l,isFocused:u}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),l=o.Group,u=o.GroupHeading,d=o.Menu,f=o.MenuList,m=o.MenuPortal,p=o.LoadingMessage,x=o.NoOptionsMessage,g=o.Option,b=this.commonProps,y=this.state.focusedOption,_=this.props,S=_.captureMenuScroll,I=_.inputValue,T=_.isLoading,F=_.loadingMessage,w=_.minMenuHeight,C=_.maxMenuHeight,N=_.menuIsOpen,R=_.menuPlacement,D=_.menuPosition,O=_.menuPortalTarget,M=_.menuShouldBlockScroll,Q=_.menuShouldScrollIntoView,ee=_.noOptionsMessage,W=_.onMenuScrollToTop,Z=_.onMenuScrollToBottom;if(!N)return null;var V,q=function(Y,re){var ie=Y.type,de=Y.data,me=Y.isDisabled,ue=Y.isSelected,ye=Y.label,Ie=Y.value,ne=y===de,Fe=me?void 0:function(){return i.onOptionHover(de)},Le=me?void 0:function(){return i.selectOption(de)},ke="".concat(i.getElementId("option"),"-").concat(re),pe={id:ke,onClick:Le,onMouseMove:Fe,onMouseOver:Fe,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:ue};return k.createElement(g,kr({},b,{innerProps:pe,data:de,isDisabled:me,isSelected:ue,key:ke,label:ye,type:ie,value:Ie,isFocused:ne,innerRef:ne?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(Y.data,"menu"))};if(this.hasOptions())V=this.getCategorizedOptions().map(function(Y){if(Y.type==="group"){var re=Y.data,ie=Y.options,de=Y.index,me="".concat(i.getElementId("group"),"-").concat(de),ue="".concat(me,"-heading");return k.createElement(l,kr({},b,{key:me,data:re,options:ie,Heading:u,headingProps:{id:ue,data:Y.data},label:i.formatGroupLabel(Y.data)}),Y.options.map(function(ye){return q(ye,"".concat(de,"-").concat(ye.index))}))}if(Y.type==="option")return q(Y,"".concat(Y.index))});else if(T){var K=F({inputValue:I});if(K===null)return null;V=k.createElement(p,b,K)}else{var J=ee({inputValue:I});if(J===null)return null;V=k.createElement(x,b,J)}var P={minMenuHeight:w,maxMenuHeight:C,menuPlacement:R,menuPosition:D,menuShouldScrollIntoView:Q},G=k.createElement(zze,kr({},b,P),function(Y){var re=Y.ref,ie=Y.placerProps,de=ie.placement,me=ie.maxHeight;return k.createElement(d,kr({},b,P,{innerRef:re,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:T,placement:de}),k.createElement(x$e,{captureEnabled:S,onTopArrive:W,onBottomArrive:Z,lockEnabled:M},function(ue){return k.createElement(f,kr({},b,{innerRef:function(ye){i.getMenuListRef(ye),ue(ye)},innerProps:{role:"listbox","aria-multiselectable":b.isMulti,id:i.getElementId("listbox")},isLoading:T,maxHeight:me,focusedOption:y}),V)}))});return O||D==="fixed"?k.createElement(m,kr({},b,{appendTo:O,controlElement:this.controlRef,menuPlacement:R,menuPosition:D}),G):G}},{key:"renderFormField",value:function(){var i=this,o=this.props,l=o.delimiter,u=o.isDisabled,d=o.isMulti,f=o.name,m=o.required,p=this.state.selectValue;if(m&&!this.hasValue()&&!u)return k.createElement(y$e,{name:f,onFocus:this.onValueInputFocus});if(f&&!u){if(d){if(l){var x=p.map(function(y){return i.getOptionValue(y)}).join(l);return k.createElement("input",{name:f,type:"hidden",value:x})}var g=p.length>0?p.map(function(y,_){return k.createElement("input",{key:"i-".concat(_),name:f,type:"hidden",value:i.getOptionValue(y)})}):k.createElement("input",{name:f,type:"hidden",value:""});return k.createElement("div",null,g)}var b=p[0]?this.getOptionValue(p[0]):"";return k.createElement("input",{name:f,type:"hidden",value:b})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,l=o.ariaSelection,u=o.focusedOption,d=o.focusedValue,f=o.isFocused,m=o.selectValue,p=this.getFocusableOptions();return k.createElement(d$e,kr({},i,{id:this.getElementId("live-region"),ariaSelection:l,focusedOption:u,focusedValue:d,isFocused:f,selectValue:m,focusableOptions:p,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,l=i.IndicatorsContainer,u=i.SelectContainer,d=i.ValueContainer,f=this.props,m=f.className,p=f.id,x=f.isDisabled,g=f.menuIsOpen,b=this.state.isFocused,y=this.commonProps=this.getCommonProps();return k.createElement(u,kr({},y,{className:m,innerProps:{id:p,onKeyDown:this.onKeyDown},isDisabled:x,isFocused:b}),this.renderLiveRegion(),k.createElement(o,kr({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:x,isFocused:b,menuIsOpen:g}),k.createElement(d,kr({},y,{isDisabled:x}),this.renderPlaceholderOrValue(),this.renderInput()),k.createElement(l,kr({},y,{isDisabled:x}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],n=[{key:"getDerivedStateFromProps",value:function(i,o){var l=o.prevProps,u=o.clearFocusValueOnUpdate,d=o.inputIsHiddenAfterUpdate,f=o.ariaSelection,m=o.isFocused,p=o.prevWasFocused,x=o.instancePrefix,g=i.options,b=i.value,y=i.menuIsOpen,_=i.inputValue,S=i.isMulti,I=WV(b),T={};if(l&&(b!==l.value||g!==l.options||y!==l.menuIsOpen||_!==l.inputValue)){var F=y?function(M,Q){return fz(zE(M,Q))}(i,I):[],w=y?hz(zE(i,I),"".concat(x,"-option")):[],C=u?function(M,Q){var ee=M.focusedValue,W=M.selectValue.indexOf(ee);if(W>-1){if(Q.indexOf(ee)>-1)return ee;if(W<Q.length)return Q[W]}return null}(o,I):null,N=function(M,Q){var ee=M.focusedOption;return ee&&Q.indexOf(ee)>-1?ee:Q[0]}(o,F);T={selectValue:I,focusedOption:N,focusedOptionId:oT(w,N),focusableOptionsWithIds:w,focusedValue:C,clearFocusValueOnUpdate:!1}}var R=d!=null&&i!==l?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},D=f,O=m&&p;return m&&!O&&(D={value:VE(S,I,I[0]||null),options:I,action:"initial-input-focus"},O=!p),(f==null?void 0:f.action)==="initial-input-focus"&&(D=null),pr(pr(pr({},T),R),{},{prevProps:i,ariaSelection:D,prevWasFocused:O})}}],r&&TV(t.prototype,r),n&&TV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),s}();hae.defaultProps=_$e;var N$e=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"],B$e=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"],YD=Jn(function(e){function t(r){return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),k$e=Jn(function(e){var t=YD.default;e.exports=function(r,n){if(t(r)!=="object"||r===null)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,n||"default");if(t(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)},e.exports.__esModule=!0,e.exports.default=e.exports}),mae=Jn(function(e){var t=YD.default;e.exports=function(r){var n=k$e(r,"string");return t(n)==="symbol"?n:String(n)},e.exports.__esModule=!0,e.exports.default=e.exports}),T$e=Jn(function(e){e.exports=function(t,r,n){return(r=mae(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t},e.exports.__esModule=!0,e.exports.default=e.exports});Jn(function(e){function t(r,n){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);n&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),a.push.apply(a,s)}return a}e.exports=function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?t(Object(a),!0).forEach(function(s){T$e(r,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(a,s))})}return r},e.exports.__esModule=!0,e.exports.default=e.exports}),Jn(function(e){e.exports=function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}),Jn(function(e){function t(r,n){for(var a=0;a<n.length;a++){var s=n[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,mae(s.key),s)}}e.exports=function(r,n,a){return n&&t(r.prototype,n),a&&t(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r},e.exports.__esModule=!0,e.exports.default=e.exports});var I$e=Jn(function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports});Jn(function(e){e.exports=function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&I$e(t,r)},e.exports.__esModule=!0,e.exports.default=e.exports});var pz=Jn(function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),j$e=Jn(function(e){e.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}},e.exports.__esModule=!0,e.exports.default=e.exports}),F$e=Jn(function(e){e.exports=function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},e.exports.__esModule=!0,e.exports.default=e.exports}),O$e=Jn(function(e){var t=YD.default;e.exports=function(r,n){if(n&&(t(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F$e(r)},e.exports.__esModule=!0,e.exports.default=e.exports});Jn(function(e){e.exports=function(t){var r=j$e();return function(){var n,a=pz(t);if(r){var s=pz(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return O$e(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports});var Jj=Jn(function(e){e.exports=function(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a},e.exports.__esModule=!0,e.exports.default=e.exports}),D$e=Jn(function(e){e.exports=function(t){if(Array.isArray(t))return Jj(t)},e.exports.__esModule=!0,e.exports.default=e.exports}),P$e=Jn(function(e){e.exports=function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)},e.exports.__esModule=!0,e.exports.default=e.exports}),pae=Jn(function(e){e.exports=function(t,r){if(t){if(typeof t=="string")return Jj(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jj(t,r):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}),R$e=Jn(function(e){e.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},e.exports.__esModule=!0,e.exports.default=e.exports});Jn(function(e){e.exports=function(t){return D$e(t)||P$e(t)||pae(t)||R$e()},e.exports.__esModule=!0,e.exports.default=e.exports});var L$e=Jn(function(e){e.exports=function(t){if(Array.isArray(t))return t},e.exports.__esModule=!0,e.exports.default=e.exports}),U$e=Jn(function(e){e.exports=function(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,i,o,l=[],u=!0,d=!1;try{if(i=(n=n.call(t)).next,r===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=i.call(n)).done)&&(l.push(a.value),l.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}},e.exports.__esModule=!0,e.exports.default=e.exports}),M$e=Jn(function(e){e.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},e.exports.__esModule=!0,e.exports.default=e.exports});Jn(function(e){e.exports=function(t,r){return L$e(t)||U$e(t,r)||pae(t,r)||M$e()},e.exports.__esModule=!0,e.exports.default=e.exports});var Q$e=Jn(function(e){e.exports=function(t,r){if(t==null)return{};var n,a,s={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)>=0||(s[n]=t[n]);return s},e.exports.__esModule=!0,e.exports.default=e.exports});Jn(function(e){e.exports=function(t,r){if(t==null)return{};var n,a,s=Q$e(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s},e.exports.__esModule=!0,e.exports.default=e.exports}),Jn(function(e){e.exports=function(t,r){return r||(r=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(r)}}))},e.exports.__esModule=!0,e.exports.default=e.exports});var H$e=k.forwardRef(function(e,t){var r=function(a){var s=a.defaultOptions,i=s!==void 0&&s,o=a.cacheOptions,l=o!==void 0&&o,u=a.loadOptions;a.options;var d=a.isLoading,f=d!==void 0&&d,m=a.onInputChange,p=a.filterOption,x=p===void 0?null:p,g=Jd(a,B$e),b=g.inputValue,y=k.useRef(void 0),_=k.useRef(!1),S=Ti(k.useState(Array.isArray(i)?i:void 0),2),I=S[0],T=S[1],F=Ti(k.useState(b!==void 0?b:""),2),w=F[0],C=F[1],N=Ti(k.useState(i===!0),2),R=N[0],D=N[1],O=Ti(k.useState(void 0),2),M=O[0],Q=O[1],ee=Ti(k.useState([]),2),W=ee[0],Z=ee[1],V=Ti(k.useState(!1),2),q=V[0],K=V[1],J=Ti(k.useState({}),2),P=J[0],G=J[1],Y=Ti(k.useState(void 0),2),re=Y[0],ie=Y[1],de=Ti(k.useState(void 0),2),me=de[0],ue=de[1];l!==me&&(G({}),ue(l)),i!==re&&(T(Array.isArray(i)?i:void 0),ie(i)),k.useEffect(function(){return _.current=!0,function(){_.current=!1}},[]);var ye=k.useCallback(function(Fe,Le){if(!u)return Le();var ke=u(Fe,Le);ke&&typeof ke.then=="function"&&ke.then(Le,function(){return Le()})},[u]);k.useEffect(function(){i===!0&&ye(w,function(Fe){_.current&&(T(Fe||[]),D(!!y.current))})},[]);var Ie=k.useCallback(function(Fe,Le){var ke=function(je,He,Xe){if(Xe){var dt=Xe(je,He);if(typeof dt=="string")return dt}return je}(Fe,Le,m);if(!ke)return y.current=void 0,C(""),Q(""),Z([]),D(!1),void K(!1);if(l&&P[ke])C(ke),Q(ke),Z(P[ke]),D(!1),K(!1);else{var pe=y.current={};C(ke),D(!0),K(!M),ye(ke,function(je){_&&pe===y.current&&(y.current=void 0,D(!1),Q(ke),Z(je||[]),K(!1),G(je?pr(pr({},P),{},Jg({},ke,je)):P))})}},[l,ye,M,P,m]),ne=q?[]:w&&M?W:I||[];return pr(pr({},g),{},{options:ne,isLoading:R||f,onInputChange:Ie,filterOption:x})}(e),n=function(a){var s=a.defaultInputValue,i=s===void 0?"":s,o=a.defaultMenuIsOpen,l=o!==void 0&&o,u=a.defaultValue,d=u===void 0?null:u,f=a.inputValue,m=a.menuIsOpen,p=a.onChange,x=a.onInputChange,g=a.onMenuClose,b=a.onMenuOpen,y=a.value,_=Jd(a,N$e),S=Ti(k.useState(f!==void 0?f:i),2),I=S[0],T=S[1],F=Ti(k.useState(m!==void 0?m:l),2),w=F[0],C=F[1],N=Ti(k.useState(y!==void 0?y:d),2),R=N[0],D=N[1],O=k.useCallback(function(q,K){typeof p=="function"&&p(q,K),D(q)},[p]),M=k.useCallback(function(q,K){var J;typeof x=="function"&&(J=x(q,K)),T(J!==void 0?J:q)},[x]),Q=k.useCallback(function(){typeof b=="function"&&b(),C(!0)},[b]),ee=k.useCallback(function(){typeof g=="function"&&g(),C(!1)},[g]),W=f!==void 0?f:I,Z=m!==void 0?m:w,V=y!==void 0?y:R;return pr(pr({},_),{},{inputValue:W,menuIsOpen:Z,onChange:O,onInputChange:M,onMenuClose:ee,onMenuOpen:Q,value:V})}(r);return k.createElement(hae,kr({ref:t},n))}),V$e=H$e,z$e=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(a=n;a--!=0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(s=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(a=n;a--!=0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!=0;){var i=s[a];if(!e(t[i],r[i]))return!1}return!0}return t!=t&&r!=r},Zg;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(Zg||(Zg={}));class jm{constructor({apiKey:t,authReferrerPolicy:r,channel:n,client:a,id:s="__googleMapsScriptId",language:i,libraries:o=[],mapIds:l,nonce:u,region:d,retries:f=3,url:m="https://maps.googleapis.com/maps/api/js",version:p}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=r,this.channel=n,this.client=a,this.id=s||"__googleMapsScriptId",this.language=i,this.libraries=o,this.mapIds=l,this.nonce=u,this.region=d,this.retries=f,this.url=m,this.version=p,jm.instance){if(!z$e(this.options,jm.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(jm.instance.options)}`);return jm.instance}jm.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Zg.FAILURE:this.done?Zg.SUCCESS:this.loading?Zg.LOADING:Zg.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+=`?callback=${this.CALLBACK}`,this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,r)=>{this.loadCallback(n=>{n?r(n.error):t(window.google)})})}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){if(document.getElementById(this.id))return void this.callback();const t=this.createUrl(),r=document.createElement("script");r.id=this.id,r.type="text/javascript",r.src=t,r.onerror=this.loadErrorCallback.bind(this),r.defer=!0,r.async=!0,this.nonce&&(r.nonce=this.nonce),document.head.appendChild(r)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const r=this.errors.length*Math.pow(2,this.errors.length);console.log(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=t,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}var $$e=function(e,t,r){var n,a=e.bounds,s=e.location,i=function(l,u){var d={};for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&u.indexOf(f)<0&&(d[f]=l[f]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function"){var m=0;for(f=Object.getOwnPropertySymbols(l);m<f.length;m++)u.indexOf(f[m])<0&&Object.prototype.propertyIsEnumerable.call(l,f[m])&&(d[f[m]]=l[f[m]])}return d}(e,["bounds","location"]),o=ep({input:t},i);return r&&(o.sessionToken=r),a&&(o.bounds=new((n=google.maps.LatLngBounds).bind.apply(n,function(){for(var l=0,u=0,d=arguments.length;u<d;u++)l+=arguments[u].length;var f=Array(l),m=0;for(u=0;u<d;u++)for(var p=arguments[u],x=0,g=p.length;x<g;x++,m++)f[m]=p[x];return f}([void 0],a)))),s&&(o.location=new google.maps.LatLng(s)),o},K$e=function(e){var t=e.autocompletionRequest,r=e.debounce,n=e.minLengthAutocomplete,a=e.placesService,s=e.sessionToken,i=e.withSessionToken,o=function(l,u,d){d===void 0&&(d={});var f=d.maxWait,m=k.useRef(null),p=k.useRef([]),x=d.leading,g=d.trailing===void 0||d.trailing,b=k.useRef(!1),y=k.useRef(null),_=k.useRef(!1),S=k.useRef(l);S.current=l;var I=k.useCallback(function(){clearTimeout(y.current),clearTimeout(m.current),m.current=null,p.current=[],y.current=null,b.current=!1},[]);k.useEffect(function(){return _.current=!1,function(){_.current=!0}},[]);var T=k.useCallback(function(){for(var w=[],C=0;C<arguments.length;C++)w[C]=arguments[C];p.current=w,clearTimeout(y.current),b.current&&(b.current=!1),y.current||!x||b.current||(S.current.apply(S,w),b.current=!0),y.current=setTimeout(function(){var N=!0;x&&b.current&&(N=!1),I(),!_.current&&g&&N&&S.current.apply(S,w)},u),f&&!m.current&&g&&(m.current=setTimeout(function(){var N=p.current;I(),_.current||S.current.apply(null,N)},f))},[f,u,I,x,g]),F=k.useCallback(function(){y.current&&(S.current.apply(null,p.current),I())},[I]);return[T,I,F]}(function(l,u){if(!a)return u([]);if(l.length<n)return u([]);var d=ep({},t);a.getPlacePredictions($$e(d,l,i&&s),function(f){u((f||[]).map(function(m){return{label:m.description,value:m}}))})},r)[0];return o},G$e=k.forwardRef(function(e,t){var r,n,a,s,i,o,l,u,d=function(g){var b=g.apiKey,y=g.apiOptions,_=g.onLoadFailed,S=k.useState(void 0),I=S[0],T=S[1],F=k.useState(void 0),w=F[0],C=F[1],N=function(){if(!window.google)throw new Error("[react-google-places-autocomplete]: Google script not loaded");if(!window.google.maps)throw new Error("[react-google-places-autocomplete]: Google maps script not loaded");if(!window.google.maps.places)throw new Error("[react-google-places-autocomplete]: Google maps places script not loaded");T(new window.google.maps.places.AutocompleteService),C(new google.maps.places.AutocompleteSessionToken)};return k.useEffect(function(){b?XVe(void 0,void 0,void 0,function(){var R;return YVe(this,function(D){switch(D.label){case 0:if(!b)return[2];D.label=1;case 1:return D.trys.push([1,4,,5]),window.google&&window.google.maps&&window.google.maps.places?[3,3]:[4,new jm(ep({apiKey:b},ep({libraries:["places"]},y))).load()];case 2:D.sent(),D.label=3;case 3:return N(),[3,5];case 4:return R=D.sent(),typeof _=="function"&&_(R),[3,5];case 5:return[2]}})}):N()},[]),{placesService:I,sessionToken:w,setSessionToken:C}}({apiKey:(r=e.apiKey)!==null&&r!==void 0?r:"",apiOptions:(n=e.apiOptions)!==null&&n!==void 0?n:{},onLoadFailed:(a=e.onLoadFailed)!==null&&a!==void 0?a:console.error}),f=d.placesService,m=d.sessionToken,p=d.setSessionToken,x=K$e({autocompletionRequest:(s=e.autocompletionRequest)!==null&&s!==void 0?s:{},debounce:(i=e.debounce)!==null&&i!==void 0?i:300,minLengthAutocomplete:(o=e.minLengthAutocomplete)!==null&&o!==void 0?o:0,placesService:f,sessionToken:m,withSessionToken:(l=e.withSessionToken)!==null&&l!==void 0&&l});return k.useImperativeHandle(t,function(){return{getSessionToken:function(){return m},refreshSessionToken:function(){p(new google.maps.places.AutocompleteSessionToken)}}},[m]),ft.createElement(V$e,ep({},(u=e.selectProps)!==null&&u!==void 0?u:{},{loadOptions:x,getOptionValue:function(g){return g.value.place_id}}))});function gae(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=gae(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function dn(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=gae(e))&&(n&&(n+=" "),n+=t);return n}var lT={},cT={},gz;function q$e(){return gz||(gz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t}(cT)),cT}var uT={},vz;function vae(){return vz||(vz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t}(uT)),uT}var dT={},xz;function xae(){return xz||(xz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t}(dT)),dT}var AT={},bz;function JD(){return bz||(bz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let s=0,i="",o="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<a;){const u=r[s];o?u==="\\"&&s+1<a?(s++,i+=r[s]):u===o?o="":i+=u:l?u==='"'||u==="'"?o=u:u==="]"?(l=!1,n.push(i),i=""):i+=u:u==="["?(l=!0,i&&(n.push(i),i="")):u==="."?i&&(n.push(i),i=""):i+=u,s++}return i&&n.push(i),n}e.toPath=t}(AT)),AT}var yz;function ZD(){return yz||(yz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q$e(),r=vae(),n=xae(),a=JD();function s(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?r.isDeepKey(l)?s(o,a.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return i(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function i(o,l,u){if(l.length===0)return u;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return u;d=d[l[f]]}return d===void 0?u:d}e.get=s}(lT)),lT}var fT,wz;function W$e(){return wz||(wz=1,fT=ZD().get),fT}var X$e=W$e();const D0=il(X$e);var hT={exports:{}},qn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ez;function Y$e(){if(Ez)return qn;Ez=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,m=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,b=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,_=e?Symbol.for("react.scope"):60119;function S(T){if(typeof T=="object"&&T!==null){var F=T.$$typeof;switch(F){case t:switch(T=T.type,T){case l:case u:case n:case s:case a:case f:return T;default:switch(T=T&&T.$$typeof,T){case o:case d:case x:case p:case i:return T;default:return F}}case r:return F}}}function I(T){return S(T)===u}return qn.AsyncMode=l,qn.ConcurrentMode=u,qn.ContextConsumer=o,qn.ContextProvider=i,qn.Element=t,qn.ForwardRef=d,qn.Fragment=n,qn.Lazy=x,qn.Memo=p,qn.Portal=r,qn.Profiler=s,qn.StrictMode=a,qn.Suspense=f,qn.isAsyncMode=function(T){return I(T)||S(T)===l},qn.isConcurrentMode=I,qn.isContextConsumer=function(T){return S(T)===o},qn.isContextProvider=function(T){return S(T)===i},qn.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},qn.isForwardRef=function(T){return S(T)===d},qn.isFragment=function(T){return S(T)===n},qn.isLazy=function(T){return S(T)===x},qn.isMemo=function(T){return S(T)===p},qn.isPortal=function(T){return S(T)===r},qn.isProfiler=function(T){return S(T)===s},qn.isStrictMode=function(T){return S(T)===a},qn.isSuspense=function(T){return S(T)===f},qn.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===u||T===s||T===a||T===f||T===m||typeof T=="object"&&T!==null&&(T.$$typeof===x||T.$$typeof===p||T.$$typeof===i||T.$$typeof===o||T.$$typeof===d||T.$$typeof===b||T.$$typeof===y||T.$$typeof===_||T.$$typeof===g)},qn.typeOf=S,qn}var Cz;function J$e(){return Cz||(Cz=1,hT.exports=Y$e()),hT.exports}var Z$e=J$e(),Li=e=>e===0?0:e>0?1:-1,xc=e=>typeof e=="number"&&e!=+e,Um=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,sr=e=>(typeof e=="number"||e instanceof Number)&&!xc(e),gA=e=>sr(e)||typeof e=="string",eKe=0,Ny=e=>{var t=++eKe;return"".concat(e||"").concat(t)},sl=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!sr(t)&&typeof t!="string")return n;var s;if(Um(t)){if(r==null)return n;var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return xc(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},bae=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},ev=(e,t)=>sr(e)&&sr(t)?r=>e+r*(t-e):()=>t;function Dg(e,t,r){return sr(e)&&sr(t)?e+r*(t-e):t}function tKe(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):D0(n,t))===r)}var gs=e=>e===null||typeof e>"u",vw=e=>gs(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),rKe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function eP(e){if(typeof e!="string")return!1;var t=rKe;return t.includes(e)}var nKe=["viewBox","children"],_z=["points","pathLength"],mT={svg:nKe,polygon:_z,polyline:_z},tP=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(k.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{eP(a)&&(n[a]=s=>r[a](r,s))}),n},aKe=(e,t,r)=>n=>(e(t,r,n),null),xx=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];eP(a)&&typeof s=="function"&&(n||(n={}),n[a]=aKe(s,t,r))}),n},sKe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function yae(e){if(typeof e!="string")return!1;var t=sKe;return t.includes(e)}function zo(e){var t=Object.entries(e).filter(r=>{var[n]=r;return yae(n)});return Object.fromEntries(t)}var Sz=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Nz=null,pT=null,wae=e=>{if(e===Nz&&Array.isArray(pT))return pT;var t=[];return k.Children.forEach(e,r=>{gs(r)||(Z$e.isFragment(r)?t=t.concat(wae(r.props.children)):t.push(r))}),pT=t,Nz=e,t};function xw(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Sz(a)):n=[Sz(t)],wae(e).forEach(a=>{var s=D0(a,"type.displayName")||D0(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}var iKe=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(a=n&&(mT==null?void 0:mT[n]))!==null&&a!==void 0?a:[],i=t.startsWith("data-"),o=typeof e!="function"&&(!!n&&s.includes(t)||yae(t)),l=!!r&&eP(t);return i||o||l},Qn=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(k.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(s=>{var i;iKe((i=n)===null||i===void 0?void 0:i[s],s,t,r)&&(a[s]=n[s])}),a},oKe=["children","width","height","viewBox","className","style","title","desc"];function Zj(){return Zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zj.apply(null,arguments)}function lKe(e,t){if(e==null)return{};var r,n,a=cKe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cKe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Eae=k.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:i,style:o,title:l,desc:u}=e,d=lKe(e,oKe),f=s||{width:n,height:a,x:0,y:0},m=dn("recharts-surface",i);return k.createElement("svg",Zj({},Qn(d,!0,"svg"),{className:m,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),k.createElement("title",null,l),k.createElement("desc",null,u),r)}),uKe=["children","className"];function eF(){return eF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eF.apply(null,arguments)}function dKe(e,t){if(e==null)return{};var r,n,a=AKe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AKe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Za=k.forwardRef((e,t)=>{var{children:r,className:n}=e,a=dKe(e,uKe),s=dn("recharts-layer",n);return k.createElement("g",eF({className:s},Qn(a,!0),{ref:t}),r)}),fKe=k.createContext(null),hKe=["type","size","sizeType"];function tF(){return tF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tF.apply(null,arguments)}function Bz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bz(Object(r),!0).forEach(function(n){mKe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mKe(e,t,r){return(t=pKe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pKe(e){var t=gKe(e,"string");return typeof t=="symbol"?t:t+""}function gKe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vKe(e,t){if(e==null)return{};var r,n,a=xKe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xKe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cae={symbolCircle:QD,symbolCross:KHe,symbolDiamond:qHe,symbolSquare:WHe,symbolStar:ZHe,symbolTriangle:eVe,symbolWye:rVe},bKe=Math.PI/180,yKe=e=>{var t="symbol".concat(vw(e));return Cae[t]||QD},wKe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*bKe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},EKe=(e,t)=>{Cae["symbol".concat(vw(e))]=t},_ae=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=vKe(e,hKe),s=kz(kz({},a),{},{type:t,size:r,sizeType:n}),i=()=>{var f=yKe(t),m=nVe().type(f).size(wKe(r,n,t));return m()},{className:o,cx:l,cy:u}=s,d=Qn(s,!0);return l===+l&&u===+u&&r===+r?k.createElement("path",tF({},d,{className:dn("recharts-symbols",o),transform:"translate(".concat(l,", ").concat(u,")"),d:i()})):null};_ae.registerSymbol=EKe;var gT={},vT={},Tz;function CKe(){return Tz||(Tz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const i=r[s],o=n(i);a.has(o)||a.set(o,i)}return Array.from(a.values())}e.uniqBy=t}(vT)),vT}var xT={},Iz;function _N(){return Iz||(Iz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t}(xT)),xT}var bT={},yT={},wT={},jz;function _Ke(){return jz||(jz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t}(wT)),wT}var Fz;function rP(){return Fz||(Fz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_Ke();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r}(yT)),yT}var ET={},Oz;function SKe(){return Oz||(Oz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t}(ET)),ET}var Dz;function NKe(){return Dz||(Dz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rP(),r=SKe();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n}(bT)),bT}var CT={},_T={},Pz;function BKe(){return Pz||(Pz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZD();function r(n){return function(a){return t.get(a,n)}}e.property=r}(_T)),_T}var ST={},NT={},BT={},kT={},Rz;function Sae(){return Rz||(Rz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t}(kT)),kT}var TT={},Lz;function Nae(){return Lz||(Lz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t}(TT)),TT}var IT={},Uz;function nP(){return Uz||(Uz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t}(IT)),IT}var Mz;function kKe(){return Mz||(Mz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aP(),r=Sae(),n=Nae(),a=nP();function s(f,m,p){return typeof p!="function"?t.isMatch(f,m):i(f,m,function x(g,b,y,_,S,I){const T=p(g,b,y,_,S,I);return T!==void 0?!!T:i(g,b,x,I)},new Map)}function i(f,m,p,x){if(m===f)return!0;switch(typeof m){case"object":return o(f,m,p,x);case"function":return Object.keys(m).length>0?i(f,{...m},p,x):a.eq(f,m);default:return r.isObject(f)?typeof m=="string"?m==="":!0:a.eq(f,m)}}function o(f,m,p,x){if(m==null)return!0;if(Array.isArray(m))return u(f,m,p,x);if(m instanceof Map)return l(f,m,p,x);if(m instanceof Set)return d(f,m,p,x);const g=Object.keys(m);if(f==null)return g.length===0;if(g.length===0)return!0;if(x&&x.has(m))return x.get(m)===f;x&&x.set(m,f);try{for(let b=0;b<g.length;b++){const y=g[b];if(!n.isPrimitive(f)&&!(y in f)||m[y]===void 0&&f[y]!==void 0||m[y]===null&&f[y]!==null||!p(f[y],m[y],y,f,m,x))return!1}return!0}finally{x&&x.delete(m)}}function l(f,m,p,x){if(m.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,b]of m.entries()){const y=f.get(g);if(p(y,b,g,f,m,x)===!1)return!1}return!0}function u(f,m,p,x){if(m.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let b=0;b<m.length;b++){const y=m[b];let _=!1;for(let S=0;S<f.length;S++){if(g.has(S))continue;const I=f[S];let T=!1;if(p(I,y,b,f,m,x)&&(T=!0),T){g.add(S),_=!0;break}}if(!_)return!1}return!0}function d(f,m,p,x){return m.size===0?!0:f instanceof Set?u([...f],[...m],p,x):!1}e.isMatchWith=s,e.isSetMatch=d}(BT)),BT}var Qz;function aP(){return Qz||(Qz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kKe();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(NT)),NT}var jT={},FT={},OT={},Hz;function Bae(){return Hz||(Hz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t}(OT)),OT}var DT={},Vz;function sP(){return Vz||(Vz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t}(DT)),DT}var PT={},zz;function iP(){return zz||(zz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",i="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",m="[object ArrayBuffer]",p="[object Object]",x="[object Error]",g="[object DataView]",b="[object Uint8Array]",y="[object Uint8ClampedArray]",_="[object Uint16Array]",S="[object Uint32Array]",I="[object BigUint64Array]",T="[object Int8Array]",F="[object Int16Array]",w="[object Int32Array]",C="[object BigInt64Array]",N="[object Float32Array]",R="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=I,e.booleanTag=a,e.dataViewTag=g,e.dateTag=o,e.errorTag=x,e.float32ArrayTag=N,e.float64ArrayTag=R,e.functionTag=f,e.int16ArrayTag=F,e.int32ArrayTag=w,e.int8ArrayTag=T,e.mapTag=l,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=i,e.uint16ArrayTag=_,e.uint32ArrayTag=S,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=y}(PT)),PT}var RT={},$z;function TKe(){return $z||($z=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t}(RT)),RT}var Kz;function kae(){return Kz||(Kz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bae(),r=sP(),n=iP(),a=Nae(),s=TKe();function i(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,m,p=new Map,x=void 0){const g=x==null?void 0:x(d,f,m,p);if(g!=null)return g;if(a.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const b=new Array(d.length);p.set(d,b);for(let y=0;y<d.length;y++)b[y]=o(d[y],y,m,p,x);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;p.set(d,b);for(const[y,_]of d)b.set(y,o(_,y,m,p,x));return b}if(d instanceof Set){const b=new Set;p.set(d,b);for(const y of d)b.add(o(y,void 0,m,p,x));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,b);for(let y=0;y<d.length;y++)b[y]=o(d[y],y,m,p,x);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,b),l(b,d,m,p,x),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return p.set(d,b),l(b,d,m,p,x),b}if(d instanceof Blob){const b=new Blob([d],{type:d.type});return p.set(d,b),l(b,d,m,p,x),b}if(d instanceof Error){const b=new d.constructor;return p.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,l(b,d,m,p,x),b}if(typeof d=="object"&&u(d)){const b=Object.create(Object.getPrototypeOf(d));return p.set(d,b),l(b,d,m,p,x),b}return d}function l(d,f,m=d,p,x){const g=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<g.length;b++){const y=g[b],_=Object.getOwnPropertyDescriptor(d,y);(_==null||_.writable)&&(d[y]=o(f[y],y,m,p,x))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=i,e.cloneDeepWithImpl=o,e.copyProperties=l}(FT)),FT}var Gz;function IKe(){return Gz||(Gz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kae();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r}(jT)),jT}var qz;function jKe(){return qz||(qz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aP(),r=IKe();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n}(ST)),ST}var LT={},UT={},MT={},Wz;function FKe(){return Wz||(Wz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kae(),r=iP();function n(a,s){return t.cloneDeepWith(a,(i,o,l,u)=>{const d=s==null?void 0:s(i,o,l,u);if(d!=null)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n}(MT)),MT}var Xz;function OKe(){return Xz||(Xz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FKe();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r}(UT)),UT}var QT={},HT={},Yz;function Tae(){return Yz||(Yz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r}(HT)),HT}var VT={},Jz;function DKe(){return Jz||(Jz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sP();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r}(VT)),VT}var Zz;function PKe(){return Zz||(Zz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vae(),r=Tae(),n=DKe(),a=JD();function s(i,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(i==null?void 0:i[o])==null?l=a.toPath(o):l=[o],l.length===0)return!1;let u=i;for(let d=0;d<l.length;d++){const f=l[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s}(QT)),QT}var e$;function RKe(){return e$||(e$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aP(),r=xae(),n=OKe(),a=ZD(),s=PKe();function i(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(u){const d=a.get(u,o);return d===void 0?s.has(u,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=i}(LT)),LT}var t$;function oP(){return t$||(t$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_N(),r=BKe(),n=jKe(),a=RKe();function s(i){if(i==null)return t.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?a.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return r.property(i)}}e.iteratee=s}(CT)),CT}var r$;function LKe(){return r$||(r$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CKe(),r=_N(),n=NKe(),a=oP();function s(i,o=r.identity){return n.isArrayLikeObject(i)?t.uniqBy(Array.from(i),a.iteratee(o)):[]}e.uniqBy=s}(gT)),gT}var zT,n$;function UKe(){return n$||(n$=1,zT=LKe().uniqBy),zT}var MKe=UKe();const a$=il(MKe);function QKe(e,t,r){return t===!0?a$(e,r):typeof t=="function"?a$(e,t):e}var lP=k.createContext(null),HKe=e=>e,es=()=>{var e=k.useContext(lP);return e?e.store.dispatch:HKe},zC=()=>{},VKe=()=>zC,zKe=(e,t)=>e===t;function nr(e){var t=k.useContext(lP);return Yee.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:VKe,t?t.store.getState:zC,t?t.store.getState:zC,t?e:zC,zKe)}function $Ke(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function KKe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function GKe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var s$=e=>Array.isArray(e)?e:[e];function qKe(e){const t=Array.isArray(e[0])?e[0]:e;return GKe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function WKe(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var XKe=class{constructor(e){this.value=e}deref(){return this.value}},YKe=typeof WeakRef<"u"?WeakRef:XKe,JKe=0,i$=1;function $E(){return{s:JKe,v:void 0,o:null,p:null}}function Iae(e,t={}){let r=$E();const{resultEqualityCheck:n}=t;let a,s=0;function i(){var f;let o=r;const{length:l}=arguments;for(let m=0,p=l;m<p;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const b=g.get(x);b===void 0?(o=$E(),g.set(x,o)):o=b}else{let g=o.p;g===null&&(o.p=g=new Map);const b=g.get(x);b===void 0?(o=$E(),g.set(x,o)):o=b}}const u=o;let d;if(o.s===i$)d=o.v;else if(d=e.apply(null,arguments),s++,n){const m=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;m!=null&&n(m,d)&&(d=m,s!==0&&s--),a=typeof d=="object"&&d!==null||typeof d=="function"?new YKe(d):d}return u.s=i$,u.v=d,d}return i.clearCache=()=>{r=$E(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function ZKe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,i=0,o,l={},u=a.pop();typeof u=="object"&&(l=u,u=a.pop()),$Ke(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...l},{memoize:f,memoizeOptions:m=[],argsMemoize:p=Iae,argsMemoizeOptions:x=[]}=d,g=s$(m),b=s$(x),y=qKe(a),_=f(function(){return s++,u.apply(null,arguments)},...g),S=p(function(){i++;const T=WKe(y,arguments);return o=_.apply(null,T),o},...b);return Object.assign(S,{resultFunc:u,memoizedResultFunc:_,dependencies:y,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var at=ZKe(Iae),eGe=Object.assign((e,t=at)=>{KKe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((i,o,l)=>(i[r[l]]=o,i),{}))},{withTypes:()=>eGe}),$T={},KT={},GT={},o$;function tGe(){return o$||(o$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const i=t(n),o=t(a);if(i===o&&i===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?o-i:i-o}return 0};e.compareValues=r}(GT)),GT}var qT={},WT={},l$;function jae(){return l$||(l$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t}(WT)),WT}var c$;function rGe(){return c$||(c$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jae(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,i){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||i!=null&&Object.hasOwn(i,s)}e.isKey=a}(qT)),qT}var u$;function nGe(){return u$||(u$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tGe(),r=rGe(),n=JD();function a(s,i,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const u=(p,x)=>{let g=p;for(let b=0;b<x.length&&g!=null;++b)g=g[x[b]];return g},d=(p,x)=>x==null||p==null?x:typeof p=="object"&&"key"in p?Object.hasOwn(x,p.key)?x[p.key]:u(x,p.path):typeof p=="function"?p(x):Array.isArray(p)?u(x,p):typeof x=="object"?x[p]:x,f=i.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return s.map(p=>({original:p,criteria:f.map(x=>d(x,p))})).slice().sort((p,x)=>{for(let g=0;g<f.length;g++){const b=t.compareValues(p.criteria[g],x.criteria[g],o[g]);if(b!==0)return b}return 0}).map(p=>p.original)}e.orderBy=a}(KT)),KT}var XT={},d$;function aGe(){return d$||(d$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),i=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<s?i(d,l+1):a.push(d)}};return i(r,0),a}e.flatten=t}(XT)),XT}var YT={},A$;function Fae(){return A$||(A$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tae(),r=rP(),n=Sae(),a=nP();function s(i,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?a.eq(l[o],i):!1}e.isIterateeCall=s}(YT)),YT}var f$;function sGe(){return f$||(f$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nGe(),r=aGe(),n=Fae();function a(s,...i){const o=i.length;return o>1&&n.isIterateeCall(s,i[0],i[1])?i=[]:o>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(s,r.flatten(i),["asc"])}e.sortBy=a}($T)),$T}var JT,h$;function iGe(){return h$||(h$=1,JT=sGe().sortBy),JT}var oGe=iGe();const SN=il(oGe);var Oae=e=>e.legend.settings,lGe=e=>e.legend.size,cGe=e=>e.legend.payload;at([cGe,Oae],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?SN(n,r):n});var KE=1;function uGe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=k.useState({height:0,left:0,top:0,width:0}),n=k.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),i={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(i.height-t.height)>KE||Math.abs(i.left-t.left)>KE||Math.abs(i.top-t.top)>KE||Math.abs(i.width-t.width)>KE)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Xi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var dGe=typeof Symbol=="function"&&Symbol.observable||"@@observable",m$=dGe,ZT=()=>Math.random().toString(36).substring(7).split("").join("."),AGe={INIT:`@@redux/INIT${ZT()}`,REPLACE:`@@redux/REPLACE${ZT()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ZT()}`},vS=AGe;function cP(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Dae(e,t,r){if(typeof e!="function")throw new Error(Xi(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Xi(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Xi(1));return r(Dae)(e,t)}let n=e,a=t,s=new Map,i=s,o=0,l=!1;function u(){i===s&&(i=new Map,s.forEach((b,y)=>{i.set(y,b)}))}function d(){if(l)throw new Error(Xi(3));return a}function f(b){if(typeof b!="function")throw new Error(Xi(4));if(l)throw new Error(Xi(5));let y=!0;u();const _=o++;return i.set(_,b),function(){if(y){if(l)throw new Error(Xi(6));y=!1,u(),i.delete(_),s=null}}}function m(b){if(!cP(b))throw new Error(Xi(7));if(typeof b.type>"u")throw new Error(Xi(8));if(typeof b.type!="string")throw new Error(Xi(17));if(l)throw new Error(Xi(9));try{l=!0,a=n(a,b)}finally{l=!1}return(s=i).forEach(_=>{_()}),b}function p(b){if(typeof b!="function")throw new Error(Xi(10));n=b,m({type:vS.REPLACE})}function x(){const b=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Xi(11));function _(){const I=y;I.next&&I.next(d())}return _(),{unsubscribe:b(_)}},[m$](){return this}}}return m({type:vS.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:p,[m$]:x}}function fGe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:vS.INIT})>"u")throw new Error(Xi(12));if(typeof r(void 0,{type:vS.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xi(13))})}function Pae(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const i=t[s];typeof e[i]=="function"&&(r[i]=e[i])}const n=Object.keys(r);let a;try{fGe(r)}catch(s){a=s}return function(i={},o){if(a)throw a;let l=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],p=i[f],x=m(p,o);if(typeof x>"u")throw o&&o.type,new Error(Xi(14));u[f]=x,l=l||x!==p}return l=l||n.length!==Object.keys(i).length,l?u:i}}function xS(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function hGe(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(Xi(15))};const i={getState:a.getState,dispatch:(l,...u)=>s(l,...u)},o=e.map(l=>l(i));return s=xS(...o)(a.dispatch),{...a,dispatch:s}}}function Rae(e){return cP(e)&&"type"in e&&typeof e.type=="string"}var Lae=Symbol.for("immer-nothing"),p$=Symbol.for("immer-draftable"),bc=Symbol.for("immer-state");function Yu(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var qv=Object.getPrototypeOf;function bp(e){return!!e&&!!e[bc]}function Df(e){var t;return e?Uae(e)||Array.isArray(e)||!!e[p$]||!!((t=e.constructor)!=null&&t[p$])||BN(e)||kN(e):!1}var mGe=Object.prototype.constructor.toString();function Uae(e){if(!e||typeof e!="object")return!1;const t=qv(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===mGe}function bS(e,t){NN(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function NN(e){const t=e[bc];return t?t.type_:Array.isArray(e)?1:BN(e)?2:kN(e)?3:0}function rF(e,t){return NN(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Mae(e,t,r){const n=NN(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function pGe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function BN(e){return e instanceof Map}function kN(e){return e instanceof Set}function _m(e){return e.copy_||e.base_}function nF(e,t){if(BN(e))return new Map(e);if(kN(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Uae(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[bc];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],o=n[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(qv(e),n)}else{const n=qv(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function uP(e,t=!1){return TN(e)||bp(e)||!Df(e)||(NN(e)>1&&(e.set=e.add=e.clear=e.delete=gGe),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>uP(n,!0))),e}function gGe(){Yu(2)}function TN(e){return Object.isFrozen(e)}var vGe={};function yp(e){const t=vGe[e];return t||Yu(0,e),t}var By;function Qae(){return By}function xGe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function g$(e,t){t&&(yp("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function aF(e){sF(e),e.drafts_.forEach(bGe),e.drafts_=null}function sF(e){e===By&&(By=e.parent_)}function v$(e){return By=xGe(By,e)}function bGe(e){const t=e[bc];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function x$(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[bc].modified_&&(aF(t),Yu(4)),Df(e)&&(e=yS(t,e),t.parent_||wS(t,e)),t.patches_&&yp("Patches").generateReplacementPatches_(r[bc].base_,e,t.patches_,t.inversePatches_)):e=yS(t,r,[]),aF(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Lae?e:void 0}function yS(e,t,r){if(TN(t))return t;const n=t[bc];if(!n)return bS(t,(a,s)=>b$(e,n,t,a,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return wS(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),bS(s,(o,l)=>b$(e,n,a,o,l,r,i)),wS(e,a,!1),r&&e.patches_&&yp("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function b$(e,t,r,n,a,s,i){if(bp(a)){const o=s&&t&&t.type_!==3&&!rF(t.assigned_,n)?s.concat(n):void 0,l=yS(e,a,o);if(Mae(r,n,l),bp(l))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if(Df(a)&&!TN(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;yS(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&wS(e,a)}}function wS(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&uP(t,r)}function yGe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Qae(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=dP;r&&(a=[n],s=ky);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,o}var dP={get(e,t){if(t===bc)return e;const r=_m(e);if(!rF(r,t))return wGe(e,r,t);const n=r[t];return e.finalized_||!Df(n)?n:n===e3(e.base_,t)?(t3(e),e.copy_[t]=oF(n,e)):n},has(e,t){return t in _m(e)},ownKeys(e){return Reflect.ownKeys(_m(e))},set(e,t,r){const n=Hae(_m(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=e3(_m(e),t),s=a==null?void 0:a[bc];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(pGe(r,a)&&(r!==void 0||rF(e.base_,t)))return!0;t3(e),iF(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return e3(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,t3(e),iF(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=_m(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Yu(11)},getPrototypeOf(e){return qv(e.base_)},setPrototypeOf(){Yu(12)}},ky={};bS(dP,(e,t)=>{ky[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ky.deleteProperty=function(e,t){return ky.set.call(this,e,t,void 0)};ky.set=function(e,t,r){return dP.set.call(this,e[0],t,r,e[0])};function e3(e,t){const r=e[bc];return(r?_m(r):e)[t]}function wGe(e,t,r){var a;const n=Hae(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function Hae(e,t){if(!(t in e))return;let r=qv(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=qv(r)}}function iF(e){e.modified_||(e.modified_=!0,e.parent_&&iF(e.parent_))}function t3(e){e.copy_||(e.copy_=nF(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var EGe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const i=this;return function(l=s,...u){return i.produce(l,d=>r.call(this,d,...u))}}typeof r!="function"&&Yu(6),n!==void 0&&typeof n!="function"&&Yu(7);let a;if(Df(t)){const s=v$(this),i=oF(t,void 0);let o=!0;try{a=r(i),o=!1}finally{o?aF(s):sF(s)}return g$(s,n),x$(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===Lae&&(a=void 0),this.autoFreeze_&&uP(a,!0),n){const s=[],i=[];yp("Patches").generateReplacementPatches_(t,a,s,i),n(s,i)}return a}else Yu(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,l=>t(l,...o));let n,a;return[this.produce(t,r,(i,o)=>{n=i,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Df(e)||Yu(8),bp(e)&&(e=bf(e));const t=v$(this),r=oF(e,void 0);return r[bc].isManual_=!0,sF(t),r}finishDraft(e,t){const r=e&&e[bc];(!r||!r.isManual_)&&Yu(9);const{scope_:n}=r;return g$(n,t),x$(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=yp("Patches").applyPatches_;return bp(e)?n(e,t):this.produce(e,a=>n(a,t))}};function oF(e,t){const r=BN(e)?yp("MapSet").proxyMap_(e,t):kN(e)?yp("MapSet").proxySet_(e,t):yGe(e,t);return(t?t.scope_:Qae()).drafts_.push(r),r}function bf(e){return bp(e)||Yu(10,e),Vae(e)}function Vae(e){if(!Df(e)||TN(e))return e;const t=e[bc];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=nF(e,t.scope_.immer_.useStrictShallowCopy_)}else r=nF(e,!0);return bS(r,(n,a)=>{Mae(r,n,Vae(a))}),t&&(t.finalized_=!1),r}var yc=new EGe,zae=yc.produce;yc.produceWithPatches.bind(yc);yc.setAutoFreeze.bind(yc);yc.setUseStrictShallowCopy.bind(yc);yc.applyPatches.bind(yc);yc.createDraft.bind(yc);yc.finishDraft.bind(yc);function $ae(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var CGe=$ae(),_Ge=$ae,SGe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?xS:xS.apply(null,arguments)};function pu(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(pc(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>Rae(n)&&n.type===e,r}var Kae=class ub extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ub.prototype)}static get[Symbol.species](){return ub}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ub(...t[0].concat(this)):new ub(...t.concat(this))}};function y$(e){return Df(e)?zae(e,()=>{}):e}function GE(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function NGe(e){return typeof e=="boolean"}var BGe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let i=new Kae;return r&&(NGe(r)?i.push(CGe):i.push(_Ge(r.extraArgument))),i},kGe="RTK_autoBatch",w$=e=>t=>{setTimeout(t,e)},TGe=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,i=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:w$(10):e.type==="callback"?e.queueNotification:w$(e.timeout),u=()=>{i=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return o.add(d),()=>{m(),o.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[kGe]),s=!a,s&&(i||(i=!0,l(u))),n.dispatch(d)}finally{a=!0}}})},IGe=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new Kae(e);return n&&a.push(TGe(typeof n=="object"?n:void 0)),a};function jGe(e){const t=BGe(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(cP(r))o=Pae(r);else throw new Error(pc(1));let l;typeof n=="function"?l=n(t):l=t();let u=xS;a&&(u=SGe({trace:!1,...typeof a=="object"&&a}));const d=hGe(...l),f=IGe(d);let m=typeof i=="function"?i(f):f();const p=u(...m);return Dae(o,s,p)}function Gae(e){const t={},r=[];let n;const a={addCase(s,i){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(pc(28));if(o in t)throw new Error(pc(29));return t[o]=i,a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function FGe(e){return typeof e=="function"}function OGe(e,t){let[r,n,a]=Gae(t),s;if(FGe(e))s=()=>y$(e());else{const o=y$(e);s=()=>o}function i(o=s(),l){let u=[r[l.type],...n.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(bp(d)){const p=f(d,l);return p===void 0?d:p}else{if(Df(d))return zae(d,m=>f(m,l));{const m=f(d,l);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},o)}return i.getInitialState=s,i}var DGe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",PGe=(e=21)=>{let t="",r=e;for(;r--;)t+=DGe[Math.random()*64|0];return t},RGe=Symbol.for("rtk-slice-createasyncthunk");function LGe(e,t){return`${e}/${t}`}function UGe({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[RGe];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(pc(11));const o=(typeof a.reducers=="function"?a.reducers(QGe()):a.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(I,T){const F=typeof I=="string"?I:I.type;if(!F)throw new Error(pc(12));if(F in u.sliceCaseReducersByType)throw new Error(pc(13));return u.sliceCaseReducersByType[F]=T,d},addMatcher(I,T){return u.sliceMatchers.push({matcher:I,reducer:T}),d},exposeAction(I,T){return u.actionCreators[I]=T,d},exposeCaseReducer(I,T){return u.sliceCaseReducersByName[I]=T,d}};l.forEach(I=>{const T=o[I],F={reducerName:I,type:LGe(s,I),createNotation:typeof a.reducers=="function"};VGe(T)?$Ge(F,T,d,t):HGe(F,T,d)});function f(){const[I={},T=[],F=void 0]=typeof a.extraReducers=="function"?Gae(a.extraReducers):[a.extraReducers],w={...I,...u.sliceCaseReducersByType};return OGe(a.initialState,C=>{for(let N in w)C.addCase(N,w[N]);for(let N of u.sliceMatchers)C.addMatcher(N.matcher,N.reducer);for(let N of T)C.addMatcher(N.matcher,N.reducer);F&&C.addDefaultCase(F)})}const m=I=>I,p=new Map,x=new WeakMap;let g;function b(I,T){return g||(g=f()),g(I,T)}function y(){return g||(g=f()),g.getInitialState()}function _(I,T=!1){function F(C){let N=C[I];return typeof N>"u"&&T&&(N=GE(x,F,y)),N}function w(C=m){const N=GE(p,T,()=>new WeakMap);return GE(N,C,()=>{const R={};for(const[D,O]of Object.entries(a.selectors??{}))R[D]=MGe(O,C,()=>GE(x,C,y),T);return R})}return{reducerPath:I,getSelectors:w,get selectors(){return w(F)},selectSlice:F}}const S={name:s,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,..._(i),injectInto(I,{reducerPath:T,...F}={}){const w=T??i;return I.inject({reducerPath:w,reducer:b},F),{...S,..._(w,!0)}}};return S}}function MGe(e,t,r,n){function a(s,...i){let o=t(s);return typeof o>"u"&&n&&(o=r()),e(o,...i)}return a.unwrapped=e,a}var Ec=UGe();function QGe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function HGe({type:e,reducerName:t,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!zGe(n))throw new Error(pc(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,i?pu(e,i):pu(e))}function VGe(e){return e._reducerDefinitionType==="asyncThunk"}function zGe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $Ge({type:e,reducerName:t},r,n,a){if(!a)throw new Error(pc(18));const{payloadCreator:s,fulfilled:i,pending:o,rejected:l,settled:u,options:d}=r,f=a(e,s,d);n.exposeAction(t,f),i&&n.addCase(f.fulfilled,i),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:i||qE,pending:o||qE,rejected:l||qE,settled:u||qE})}function qE(){}var KGe="task",qae="listener",Wae="completed",AP="cancelled",GGe=`task-${AP}`,qGe=`task-${Wae}`,lF=`${qae}-${AP}`,WGe=`${qae}-${Wae}`,IN=class{constructor(e){rB(this,"name","TaskAbortError");rB(this,"message");this.code=e,this.message=`${KGe} ${AP} (reason: ${e})`}},fP=(e,t)=>{if(typeof e!="function")throw new TypeError(pc(32))},ES=()=>{},Xae=(e,t=ES)=>(e.catch(t),e),Yae=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),np=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ap=e=>{if(e.aborted){const{reason:t}=e;throw new IN(t)}};function Jae(e,t){let r=ES;return new Promise((n,a)=>{const s=()=>a(new IN(e.reason));if(e.aborted){s();return}r=Yae(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=ES})}var XGe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof IN?"cancelled":"rejected",error:r}}finally{t==null||t()}},CS=e=>t=>Xae(Jae(e,t).then(r=>(ap(e),r))),Zae=e=>{const t=CS(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ev}=Object,E$={},jN="listenerMiddleware",YGe=(e,t)=>{const r=n=>Yae(e,()=>np(n,e.reason));return(n,a)=>{fP(n);const s=new AbortController;r(s);const i=XGe(async()=>{ap(e),ap(s.signal);const o=await n({pause:CS(s.signal),delay:Zae(s.signal),signal:s.signal});return ap(s.signal),o},()=>np(s,qGe));return a!=null&&a.autoJoin&&t.push(i.catch(ES)),{result:CS(e)(i),cancel(){np(s,GGe)}}}},JGe=(e,t)=>{const r=async(n,a)=>{ap(t);let s=()=>{};const o=[new Promise((l,u)=>{let d=e({predicate:n,effect:(f,m)=>{m.unsubscribe(),l([f,m.getState(),m.getOriginalState()])}});s=()=>{d(),u()}})];a!=null&&o.push(new Promise(l=>setTimeout(l,a,null)));try{const l=await Jae(t,Promise.race(o));return ap(t),l}finally{s()}};return(n,a)=>Xae(r(n,a))},ese=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=pu(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(pc(21));return fP(s),{predicate:a,type:t,effect:s}},tse=Ev(e=>{const{type:t,predicate:r,effect:n}=ese(e);return{id:PGe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(pc(22))}}},{withTypes:()=>tse}),C$=(e,t)=>{const{type:r,effect:n,predicate:a}=ese(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},cF=e=>{e.pending.forEach(t=>{np(t,lF)})},ZGe=e=>()=>{e.forEach(cF),e.clear()},_$=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},rse=Ev(pu(`${jN}/add`),{withTypes:()=>rse}),eqe=pu(`${jN}/removeAll`),nse=Ev(pu(`${jN}/remove`),{withTypes:()=>nse}),tqe=(...e)=>{console.error(`${jN}/error`,...e)},bw=(e={})=>{const t=new Map,{extra:r,onError:n=tqe}=e;fP(n);const a=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&cF(d)}),s=d=>{const f=C$(t,d)??tse(d);return a(f)};Ev(s,{withTypes:()=>s});const i=d=>{const f=C$(t,d);return f&&(f.unsubscribe(),d.cancelActive&&cF(f)),!!f};Ev(i,{withTypes:()=>i});const o=async(d,f,m,p)=>{const x=new AbortController,g=JGe(s,x.signal),b=[];try{d.pending.add(x),await Promise.resolve(d.effect(f,Ev({},m,{getOriginalState:p,condition:(y,_)=>g(y,_).then(Boolean),take:g,delay:Zae(x.signal),pause:CS(x.signal),extra:r,signal:x.signal,fork:YGe(x.signal,b),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((y,_,S)=>{y!==x&&(np(y,lF),S.delete(y))})},cancel:()=>{np(x,lF),d.pending.delete(x)},throwIfCancelled:()=>{ap(x.signal)}})))}catch(y){y instanceof IN||_$(n,y,{raisedBy:"effect"})}finally{await Promise.all(b),np(x,WGe),d.pending.delete(x)}},l=ZGe(t);return{middleware:d=>f=>m=>{if(!Rae(m))return f(m);if(rse.match(m))return s(m.payload);if(eqe.match(m)){l();return}if(nse.match(m))return i(m.payload);let p=d.getState();const x=()=>{if(p===E$)throw new Error(pc(23));return p};let g;try{if(g=f(m),t.size>0){const b=d.getState(),y=Array.from(t.values());for(const _ of y){let S=!1;try{S=_.predicate(m,b,p)}catch(I){S=!1,_$(n,I,{raisedBy:"predicate"})}S&&o(_,m,d,x)}}}finally{p=E$}return g},startListening:s,stopListening:i,clearListeners:l}};function pc(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var rqe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},ase=Ec({name:"chartLayout",initialState:rqe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:nqe,setLayout:aqe,setChartSize:sqe,setScale:iqe}=ase.actions,oqe=ase.reducer;function S$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S$(Object(r),!0).forEach(function(n){lqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lqe(e,t,r){return(t=cqe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cqe(e){var t=uqe(e,"string");return typeof t=="symbol"?t:t+""}function uqe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _S=Math.PI/180,dqe=e=>e*180/Math.PI,$n=(e,t,r,n)=>({x:e+Math.cos(-_S*n)*r,y:t+Math.sin(-_S*n)*r}),sse=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Aqe=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},fqe=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,i=Aqe({x:r,y:n},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var o=(r-a)/i,l=Math.acos(o);return n>s&&(l=2*Math.PI-l),{radius:i,angle:dqe(l),angleInRadian:l}},hqe=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},mqe=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return e+i*360},pqe=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:s}=fqe({x:r,y:n},t),{innerRadius:i,outerRadius:o}=t;if(a<i||a>o||a===0)return null;var{startAngle:l,endAngle:u}=hqe(t),d=s,f;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}return f?N$(N$({},t),{},{radius:a,angle:mqe(d,t)}):null},ise=e=>!k.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function ose(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function B$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function su(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B$(Object(r),!0).forEach(function(n){gqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gqe(e,t,r){return(t=vqe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vqe(e){var t=xqe(e,"string");return typeof t=="symbol"?t:t+""}function xqe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ka(e,t,r){return gs(e)||gs(t)?r:gA(t)?D0(e,t,r):typeof t=="function"?t(e):r}var bqe=(e,t,r,n,a)=>{var s,i=-1,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?r[l-1].coordinate:r[o-1].coordinate,d=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,m=void 0;if(Li(d-u)!==Li(f-d)){var p=[];if(Li(f-d)===Li(a[1]-a[0])){m=f;var x=d+a[1]-a[0];p[0]=Math.min(x,(x+u)/2),p[1]=Math.max(x,(x+u)/2)}else{m=u;var g=f+a[1]-a[0];p[0]=Math.min(d,(g+d)/2),p[1]=Math.max(d,(g+d)/2)}var b=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>b[0]&&e<=b[1]||e>=p[0]&&e<=p[1]){({index:i}=r[l]);break}}else{var y=Math.min(u,f),_=Math.max(u,f);if(e>(y+d)/2&&e<=(_+d)/2){({index:i}=r[l]);break}}}else if(t){for(var S=0;S<o;S++)if(S===0&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S>0&&S<o-1&&e>(t[S].coordinate+t[S-1].coordinate)/2&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S===o-1&&e>(t[S].coordinate+t[S-1].coordinate)/2){({index:i}=t[S]);break}}return i},yqe=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:i,layout:o}=t;if((o==="vertical"||o==="horizontal"&&i==="middle")&&s!=="center"&&sr(e[s]))return su(su({},e),{},{[s]:e[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&i!=="middle"&&sr(e[i]))return su(su({},e),{},{[i]:e[i]+(a||0)})}return e},$0=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",lse=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,s,i=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(s=!0),o.coordinate));return a||i.push(t),s||i.push(r),i},cse=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:m,axisType:p}=e;if(!i)return null;var x=o==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,g=a==="category"&&i.bandwidth?i.bandwidth()/x:0;if(g=p==="angleAxis"&&s&&s.length>=2?Li(s[0]-s[1])*2*g:g,f||m){var b=(f||m||[]).map((y,_)=>{var S=n?n.indexOf(y):y;return{coordinate:i(S)+g,value:y,offset:g,index:_}});return b.filter(y=>!xc(y.coordinate))}return l&&u?u.map((y,_)=>({coordinate:i(y)+g,value:y,index:_,offset:g})):i.ticks&&d!=null?i.ticks(d).map((y,_)=>({coordinate:i(y)+g,value:y,offset:g,index:_})):i.domain().map((y,_)=>({coordinate:i(y)+g,value:n?n[y]:y,index:_,offset:g}))},k$=1e-4,wqe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-k$,s=Math.max(n[0],n[1])+k$,i=e(t[0]),o=e(t[r-1]);(i<a||i>s||o<a||o>s)&&e.domain([t[0],t[r-1]])}},Eqe=(e,t)=>{if(!t||t.length!==2||!sr(t[0])||!sr(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!sr(e[0])||e[0]<r)&&(a[0]=r),(!sr(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},Cqe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,i=0;i<t;++i){var o=xc(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1])}},_qe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var i=xc(e[s][r][1])?e[s][r][0]:e[s][r][1];i>=0?(e[s][r][0]=a,e[s][r][1]=a+i,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Sqe={sign:Cqe,expand:gVe,none:Kv,silhouette:vVe,wiggle:xVe,positive:_qe},Nqe=(e,t,r)=>{var n=Sqe[r],a=pVe().keys(t).value((s,i)=>+ka(s,i,0)).order(Mj).offset(n);return a(e)};function Bqe(e){return e==null?void 0:String(e)}var T$=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:i}=e;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var o=ka(s,t.dataKey,t.scale.domain()[i]);return gs(o)?null:t.scale(o)-a/2+n},kqe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Tqe=e=>{var t=e.flat(2).filter(sr);return[Math.min(...t),Math.max(...t)]},Iqe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],jqe=(e,t,r)=>{if(e!=null)return Iqe(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:i}=s,o=i.reduce((l,u)=>{var d=ose(u,t,r),f=Tqe(d);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},I$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,j$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ty=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=SN(t,d=>d.coordinate),s=1/0,i=1,o=a.length;i<o;i++){var l=a[i],u=a[i-1];s=Math.min((l.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function F$(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return su(su({},t),{},{dataKey:r,payload:n,value:a,name:s})}function bx(e,t){if(e)return String(e);if(typeof t=="string")return t}function Fqe(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var s=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return s?{x:e,y:t}:null}return n?pqe({x:e,y:t},n):null}var Oqe=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,{radius:i}=n;return su(su(su({},n),$n(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var o=a.coordinate,{angle:l}=n;return su(su(su({},n),$n(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}},Dqe=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Kf=e=>e.layout.width,Gf=e=>e.layout.height,Pqe=e=>e.layout.scale,use=e=>e.layout.margin,hP=at(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),mP=at(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),dse="data-recharts-item-index",Ase="data-recharts-item-data-key",FN=60;function O$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O$(Object(r),!0).forEach(function(n){Rqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rqe(e,t,r){return(t=Lqe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lqe(e){var t=Uqe(e,"string");return typeof t=="symbol"?t:t+""}function Uqe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mqe=e=>e.brush.height,vi=at([Kf,Gf,use,Mqe,hP,mP,Oae,lGe],(e,t,r,n,a,s,i,o)=>{var l=s.reduce((x,g)=>{var{orientation:b}=g;if(!g.mirror&&!g.hide){var y=typeof g.width=="number"?g.width:FN;return Ph(Ph({},x),{},{[b]:x[b]+y})}return x},{left:r.left||0,right:r.right||0}),u=a.reduce((x,g)=>{var{orientation:b}=g;return!g.mirror&&!g.hide?Ph(Ph({},x),{},{[b]:D0(x,"".concat(b))+g.height}):x},{top:r.top||0,bottom:r.bottom||0}),d=Ph(Ph({},u),l),f=d.bottom;d.bottom+=n,d=yqe(d,i,o);var m=e-d.left-d.right,p=t-d.top-d.bottom;return Ph(Ph({brushBottom:f},d),{},{width:Math.max(m,0),height:Math.max(p,0)})}),Qqe=at(vi,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),fse=at(Kf,Gf,(e,t)=>({x:0,y:0,width:e,height:t})),Hqe=k.createContext(null),Rl=()=>k.useContext(Hqe)!=null,ON=e=>e.brush,DN=at([ON,vi,use],(e,t,r)=>({height:e.height,x:sr(e.x)?e.x:t.left,y:sr(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:sr(e.width)?e.width:t.width})),pP=()=>{var e,t=Rl(),r=nr(Qqe),n=nr(DN),a=(e=nr(ON))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Vqe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},hse=()=>{var e;return(e=nr(vi))!==null&&e!==void 0?e:Vqe},mse=()=>nr(Kf),pse=()=>nr(Gf),bn=e=>e.layout.layoutType,gP=()=>nr(bn),zqe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},gse=Ec({name:"legend",initialState:zqe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=bf(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:Jit,setLegendSettings:Zit,addLegendPayload:vse,removeLegendPayload:xse}=gse.actions,$qe=gse.reducer;function uF(){return uF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uF.apply(null,arguments)}function D$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D$(Object(r),!0).forEach(function(n){Kqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kqe(e,t,r){return(t=Gqe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gqe(e){var t=qqe(e,"string");return typeof t=="symbol"?t:t+""}function qqe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wqe(e){return Array.isArray(e)&&gA(e[0])&&gA(e[1])?e.join(" ~ "):e}var Xqe=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:i,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:m=!1}=e,p=()=>{if(s&&s.length){var T={padding:0,margin:0},F=(o?SN(s,o):s).map((w,C)=>{if(w.type==="none")return null;var N=w.formatter||i||Wqe,{value:R,name:D}=w,O=R,M=D;if(N){var Q=N(R,D,w,C,s);if(Array.isArray(Q))[O,M]=Q;else if(Q!=null)O=Q;else return null}var ee=r3({display:"block",paddingTop:4,paddingBottom:4,color:w.color||"#000"},n);return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:ee},gA(M)?k.createElement("span",{className:"recharts-tooltip-item-name"},M):null,gA(M)?k.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,k.createElement("span",{className:"recharts-tooltip-item-value"},O),k.createElement("span",{className:"recharts-tooltip-item-unit"},w.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:T},F)}return null},x=r3({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=r3({margin:0},a),b=!gs(d),y=b?d:"",_=dn("recharts-default-tooltip",l),S=dn("recharts-tooltip-label",u);b&&f&&s!==void 0&&s!==null&&(y=f(d,s));var I=m?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",uF({className:_,style:x},I),k.createElement("p",{className:S,style:g},k.isValidElement(y)?y:"".concat(y)),p())},U1="recharts-tooltip-wrapper",Yqe={visibility:"hidden"};function Jqe(e){var{coordinate:t,translateX:r,translateY:n}=e;return dn(U1,{["".concat(U1,"-right")]:sr(r)&&t&&sr(t.x)&&r>=t.x,["".concat(U1,"-left")]:sr(r)&&t&&sr(t.x)&&r<t.x,["".concat(U1,"-bottom")]:sr(n)&&t&&sr(t.y)&&n>=t.y,["".concat(U1,"-top")]:sr(n)&&t&&sr(t.y)&&n<t.y})}function P$(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(s&&sr(s[n]))return s[n];var d=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return i[n]?d:f;var m=l[n];if(m==null)return 0;if(i[n]){var p=d,x=m;return p<x?Math.max(f,m):Math.max(d,m)}if(u==null)return 0;var g=f+o,b=m+u;return g>b?Math.max(d,m):Math.max(f,m)}function Zqe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function eWe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:i,useTranslate3d:o,viewBox:l}=e,u,d,f;return i.height>0&&i.width>0&&r?(d=P$({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),f=P$({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),u=Zqe({translateX:d,translateY:f,useTranslate3d:o})):u=Yqe,{cssProperties:u,cssClasses:Jqe({translateX:d,translateY:f,coordinate:r})}}function R$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R$(Object(r),!0).forEach(function(n){dF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dF(e,t,r){return(t=tWe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tWe(e){var t=rWe(e,"string");return typeof t=="symbol"?t:t+""}function rWe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class nWe extends k.PureComponent{constructor(){super(...arguments),dF(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),dF(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:i,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:f,useTranslate3d:m,viewBox:p,wrapperStyle:x,lastBoundingBox:g,innerRef:b,hasPortalFromProps:y}=this.props,{cssClasses:_,cssProperties:S}=eWe({allowEscapeViewBox:r,coordinate:i,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:m,viewBox:p}),I=y?{}:WE(WE({transition:l&&t?"transform ".concat(n,"ms ").concat(a):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),T=WE(WE({},I),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},x);return k.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:T,ref:b},s)}}var aWe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Pp={isSsr:aWe()},bse=()=>nr(e=>e.rootProps.accessibilityLayer);function wc(e){return Number.isFinite(e)}function Wv(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function AF(){return AF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AF.apply(null,arguments)}function L$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L$(Object(r),!0).forEach(function(n){sWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sWe(e,t,r){return(t=iWe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iWe(e){var t=oWe(e,"string");return typeof t=="symbol"?t:t+""}function oWe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M$={curveBasisClosed:sVe,curveBasisOpen:iVe,curveBasis:aVe,curveBumpX:zHe,curveBumpY:$He,curveLinearClosed:oVe,curveLinear:pN,curveMonotoneX:lVe,curveMonotoneY:cVe,curveNatural:uVe,curveStep:dVe,curveStepAfter:fVe,curveStepBefore:AVe},XE=e=>wc(e.x)&&wc(e.y),M1=e=>e.x,Q1=e=>e.y,lWe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(vw(e));return(r==="curveMonotone"||r==="curveBump")&&t?M$["".concat(r).concat(t==="vertical"?"Y":"X")]:M$[r]||pN},cWe=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,i=lWe(t,a),o=s?r.filter(XE):r,l;if(Array.isArray(n)){var u=s?n.filter(f=>XE(f)):n,d=o.map((f,m)=>U$(U$({},f),{},{base:u[m]}));return a==="vertical"?l=PE().y(Q1).x1(M1).x0(f=>f.base.x):l=PE().x(M1).y1(Q1).y0(f=>f.base.y),l.defined(XE).curve(i),l(d)}return a==="vertical"&&sr(n)?l=PE().y(Q1).x1(M1).x0(n):sr(n)?l=PE().x(M1).y1(Q1).y0(n):l=vne().x(M1).y(Q1),l.defined(XE).curve(i),l(o)},yse=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?cWe(e):n;return k.createElement("path",AF({},zo(e),tP(e),{className:dn("recharts-curve",t),d:s===null?void 0:s,ref:a}))},uWe=["x","y","top","left","width","height","className"];function fF(){return fF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fF.apply(null,arguments)}function Q$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dWe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q$(Object(r),!0).forEach(function(n){AWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AWe(e,t,r){return(t=fWe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fWe(e){var t=hWe(e,"string");return typeof t=="symbol"?t:t+""}function hWe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mWe(e,t){if(e==null)return{};var r,n,a=pWe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pWe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gWe=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),vWe=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:i=0,className:o}=e,l=mWe(e,uWe),u=dWe({x:t,y:r,top:n,left:a,width:s,height:i},l);return!sr(t)||!sr(r)||!sr(s)||!sr(i)||!sr(n)||!sr(a)?null:k.createElement("path",fF({},Qn(u,!0),{className:dn("recharts-cross",o),d:gWe(t,r,s,i,n,a)}))};function xWe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function H$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bWe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H$(Object(r),!0).forEach(function(n){yWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yWe(e,t,r){return(t=wWe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wWe(e){var t=EWe(e,"string");return typeof t=="symbol"?t:t+""}function EWe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bu(e,t){var r=bWe({},e),n=t,a=Object.keys(t),s=a.reduce((i,o)=>(i[o]===void 0&&n[o]!==void 0&&(i[o]=n[o]),i),r);return s}var n3={},a3={},s3={},V$;function CWe(){return V$||(V$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t}(s3)),s3}var z$;function _We(){return z$||(z$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CWe(),r=Bae(),n=sP(),a=iP(),s=nP();function i(u,d,f){return o(u,d,void 0,void 0,void 0,void 0,f)}function o(u,d,f,m,p,x,g){const b=g(u,d,f,m,p,x);if(b!==void 0)return b;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return l(u,d,x,g)}return l(u,d,x,g)}function l(u,d,f,m){if(Object.is(u,d))return!0;let p=n.getTag(u),x=n.getTag(d);if(p===a.argumentsTag&&(p=a.objectTag),x===a.argumentsTag&&(x=a.objectTag),p!==x)return!1;switch(p){case a.stringTag:return u.toString()===d.toString();case a.numberTag:{const y=u.valueOf(),_=d.valueOf();return s.eq(y,_)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(u.valueOf(),d.valueOf());case a.regexpTag:return u.source===d.source&&u.flags===d.flags;case a.functionTag:return u===d}f=f??new Map;const g=f.get(u),b=f.get(d);if(g!=null&&b!=null)return g===d;f.set(u,d),f.set(d,u);try{switch(p){case a.mapTag:{if(u.size!==d.size)return!1;for(const[y,_]of u.entries())if(!d.has(y)||!o(_,d.get(y),y,u,d,f,m))return!1;return!0}case a.setTag:{if(u.size!==d.size)return!1;const y=Array.from(u.values()),_=Array.from(d.values());for(let S=0;S<y.length;S++){const I=y[S],T=_.findIndex(F=>o(I,F,void 0,u,d,f,m));if(T===-1)return!1;_.splice(T,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let y=0;y<u.length;y++)if(!o(u[y],d[y],y,u,d,f,m))return!1;return!0}case a.arrayBufferTag:return u.byteLength!==d.byteLength?!1:l(new Uint8Array(u),new Uint8Array(d),f,m);case a.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:l(new Uint8Array(u),new Uint8Array(d),f,m);case a.errorTag:return u.name===d.name&&u.message===d.message;case a.objectTag:{if(!(l(u.constructor,d.constructor,f,m)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const _=[...Object.keys(u),...r.getSymbols(u)],S=[...Object.keys(d),...r.getSymbols(d)];if(_.length!==S.length)return!1;for(let I=0;I<_.length;I++){const T=_[I],F=u[T];if(!Object.hasOwn(d,T))return!1;const w=d[T];if(!o(F,w,T,u,d,f,m))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}e.isEqualWith=i}(a3)),a3}var i3={},$$;function SWe(){return $$||($$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(i3)),i3}var K$;function NWe(){return K$||(K$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_We(),r=SWe();function n(a,s){return t.isEqualWith(a,s,r.noop)}e.isEqual=n}(n3)),n3}var o3,G$;function BWe(){return G$||(G$=1,o3=NWe().isEqual),o3}var kWe=BWe();const TWe=il(kWe);var SS=1e-4,wse=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Ese=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),q$=(e,t)=>r=>{var n=wse(e,t);return Ese(n,r)},IWe=(e,t)=>r=>{var n=wse(e,t),a=[...n.map((s,i)=>s*i).slice(1),0];return Ese(a,r)},W$=function(){for(var t,r,n,a,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];if(i.length===1)switch(i[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var l=i[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,n,r,a]=l[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else i.length===4&&([t,n,r,a]=i);var u=q$(t,r),d=q$(n,a),f=IWe(t,r),m=x=>x>1?1:x<0?0:x,p=x=>{for(var g=x>1?1:x,b=g,y=0;y<8;++y){var _=u(b)-g,S=f(b);if(Math.abs(_-g)<SS||S<SS)return d(b);b=m(b-_/S)}return d(b)};return p.isStepper=!1,p},jWe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(i,o,l)=>{var u=-(i-o)*r,d=l*n,f=l+(u-d)*a/1e3,m=l*a/1e3+i;return Math.abs(m-o)<SS&&Math.abs(f)<SS?[o,0]:[m,f]};return s.isStepper=!0,s.dt=a,s},Cse=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return W$(e);case"spring":return jWe();default:if(e.split("(")[0]==="cubic-bezier")return W$(e)}return typeof e=="function"?e:null};function X$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X$(Object(r),!0).forEach(function(n){FWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FWe(e,t,r){return(t=OWe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OWe(e){var t=DWe(e,"string");return typeof t=="symbol"?t:t+""}function DWe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PWe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),RWe=(e,t,r)=>e.map(n=>"".concat(PWe(n)," ").concat(t,"ms ").concat(r)).join(","),LWe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Iy=(e,t)=>Object.keys(t).reduce((r,n)=>Y$(Y$({},r),{},{[n]:e(n,t[n])}),{});function J$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J$(Object(r),!0).forEach(function(n){UWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UWe(e,t,r){return(t=MWe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MWe(e){var t=QWe(e,"string");return typeof t=="symbol"?t:t+""}function QWe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NS=(e,t,r)=>e+(t-e)*r,hF=e=>{var{from:t,to:r}=e;return t!==r},_se=(e,t,r)=>{var n=Iy((a,s)=>{if(hF(s)){var[i,o]=e(s.from,s.to,s.velocity);return eo(eo({},s),{},{from:i,velocity:o})}return s},t);return r<1?Iy((a,s)=>hF(s)?eo(eo({},s),{},{velocity:NS(s.velocity,n[a].velocity,r),from:NS(s.from,n[a].from,r)}):s,t):_se(e,n,r-1)};function HWe(e,t,r,n,a,s){var i,o=n.reduce((m,p)=>eo(eo({},m),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>Iy((m,p)=>p.from,o),u=()=>!Object.values(o).filter(hF).length,d=null,f=m=>{i||(i=m);var p=m-i,x=p/r.dt;o=_se(r,o,x),a(eo(eo(eo({},e),t),l())),i=m,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{d()})}function VWe(e,t,r,n,a,s,i){var o=null,l=a.reduce((f,m)=>eo(eo({},f),{},{[m]:[e[m],t[m]]}),{}),u,d=f=>{u||(u=f);var m=(f-u)/n,p=Iy((g,b)=>NS(...b,r(m)),l);if(s(eo(eo(eo({},e),t),p)),m<1)o=i.setTimeout(d);else{var x=Iy((g,b)=>NS(...b,r(1)),l);s(eo(eo(eo({},e),t),x))}};return()=>(o=i.setTimeout(d),()=>{o()})}const Sse=(e,t,r,n,a,s)=>{var i=LWe(e,t);return r.isStepper===!0?HWe(e,t,r,i,a,s):VWe(e,t,r,n,i,a,s)};function zWe(e){var t,r=()=>null,n=!1,a=null,s=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,[l,...u]=o;if(typeof l=="number"){a=e.setTimeout(s.bind(null,u),l);return}s(l),a=e.setTimeout(s.bind(null,u));return}typeof i=="string"&&(t=i,r(t)),typeof i=="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,a&&(a(),a=null),s(i)},subscribe:i=>(r=i,()=>{r=()=>null}),getTimeoutController:()=>e}}class $We{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=i=>{i-n>=r?t(i):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{cancelAnimationFrame(a)}}}function KWe(){return zWe(new $We)}var GWe=k.createContext(KWe);function Nse(e,t){var r=k.useContext(GWe);return k.useMemo(()=>t??r(e),[e,t,r])}var qWe=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function mF(){return mF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mF.apply(null,arguments)}function WWe(e,t){if(e==null)return{};var r,n,a=XWe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XWe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Z$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z$(Object(r),!0).forEach(function(n){Mm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mm(e,t,r){return(t=YWe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YWe(e){var t=JWe(e,"string");return typeof t=="symbol"?t:t+""}function JWe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class vP extends k.PureComponent{constructor(t,r){super(t,r),Mm(this,"mounted",!1),Mm(this,"manager",void 0),Mm(this,"stopJSAnimation",null),Mm(this,"unSubscribe",null);var{isActive:n,attributeName:a,from:s,to:i,children:o,duration:l,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||l<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:i});return}if(s){if(typeof o=="function"){this.state={style:s};return}this.state={style:a?{[a]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:a,shouldReAnimate:s,to:i,from:o}=this.props,{style:l}=this.state;if(n){if(!r){var u={style:a?{[a]:i}:i};this.state&&l&&(a&&l[a]!==i||!a&&l!==i)&&this.setState(u);return}if(!(TWe(t.to,i)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||s?o:t.to;if(this.state&&l){var m={style:a?{[a]:f}:f};(a&&l[a]!==f||!a&&l!==f)&&this.setState(m)}this.runAnimation(Rh(Rh({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:a,easing:s,begin:i,onAnimationEnd:o,onAnimationStart:l}=t,u=Sse(r,n,Cse(s),a,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([l,i,d,a,o])}runAnimation(t){var{begin:r,duration:n,attributeName:a,to:s,easing:i,onAnimationStart:o,onAnimationEnd:l,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof i=="function"||typeof u=="function"||i==="spring"){this.runJSAnimation(t);return}var d=a?{[a]:s}:s,f=RWe(Object.keys(d),n,i);this.manager.start([o,r,Rh(Rh({},d),{},{transition:f}),n,l])}render(){var t=this.props,{children:r,begin:n,duration:a,attributeName:s,easing:i,isActive:o,from:l,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:m,onAnimationReStart:p,animationManager:x}=t,g=WWe(t,qWe),b=k.Children.count(r),y=this.state.style;if(typeof r=="function")return r(y);if(!o||b===0||a<=0)return r;var _=S=>{var{style:I={},className:T}=S.props,F=k.cloneElement(S,Rh(Rh({},g),{},{style:Rh(Rh({},I),y),className:T}));return F};return b===1?_(k.Children.only(r)):k.createElement("div",null,k.Children.map(r,S=>_(S)))}}Mm(vP,"displayName","Animate");Mm(vP,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function BS(e){var t,r=Nse((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return k.createElement(vP,mF({},e,{animationManager:r}))}function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kS.apply(null,arguments)}var eK=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,m=4;f<m;f++)d[f]=a[f]>s?s:a[f];u="M".concat(e,",").concat(t+i*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+i*d[1])),u+="L ".concat(e+r,",").concat(t+n-i*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),u+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-i*d[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var p=Math.min(s,a);u="M ".concat(e,",").concat(t+i*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+r-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r,",").concat(t+i*p,`
            L `).concat(e+r,",").concat(t+n-i*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r-o*p,",").concat(t+n,`
            L `).concat(e+o*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+n-i*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},ZWe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bse=e=>{var t=bu(e,ZWe),r=k.useRef(null),[n,a]=k.useState(-1);k.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&a(y)}catch{}},[]);var{x:s,y:i,width:o,height:l,radius:u,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:p,isAnimationActive:x,isUpdateAnimationActive:g}=t;if(s!==+s||i!==+i||o!==+o||l!==+l||o===0||l===0)return null;var b=dn("recharts-rectangle",d);return g?k.createElement(BS,{canBegin:n>0,from:{width:o,height:l,x:s,y:i},to:{width:o,height:l,x:s,y:i},duration:m,animationEasing:f,isActive:g},y=>{var{width:_,height:S,x:I,y:T}=y;return k.createElement(BS,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:m,isActive:x,easing:f},k.createElement("path",kS({},Qn(t,!0),{className:b,d:eK(I,T,_,S,u),ref:r})))}):k.createElement("path",kS({},Qn(t,!0),{className:b,d:eK(s,i,o,l,u)}))};function kse(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,i=$n(t,r,n,a),o=$n(t,r,n,s);return{points:[i,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function pF(){return pF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pF.apply(null,arguments)}var eXe=(e,t)=>{var r=Li(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},YE=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:o,cornerIsExternal:l}=e,u=o*(i?1:-1)+n,d=Math.asin(o/u)/_S,f=l?a:a+s*d,m=$n(t,r,u,f),p=$n(t,r,n,f),x=l?a-s*d:a,g=$n(t,r,u*Math.cos(d*_S),x);return{center:m,circleTangency:p,lineTangency:g,theta:d}},Tse=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=e,o=eXe(s,i),l=s+o,u=$n(t,r,a,s),d=$n(t,r,a,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var m=$n(t,r,n,s),p=$n(t,r,n,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},tXe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:o,startAngle:l,endAngle:u}=e,d=Li(u-l),{circleTangency:f,lineTangency:m,theta:p}=YE({cx:t,cy:r,radius:a,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:x,lineTangency:g,theta:b}=YE({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),y=o?Math.abs(l-u):Math.abs(l-u)-p-b;if(y<0)return i?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Tse({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:u});var _="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:S,lineTangency:I,theta:T}=YE({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:F,lineTangency:w,theta:C}=YE({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),N=o?Math.abs(l-u):Math.abs(l-u)-T-C;if(N<0&&s===0)return"".concat(_,"L").concat(t,",").concat(r,"Z");_+="L".concat(w.x,",").concat(w.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(N>180),",").concat(+(d>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(I.x,",").concat(I.y,"Z")}else _+="L".concat(t,",").concat(r,"Z");return _},rXe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ise=e=>{var t=bu(e,rXe),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:f}=t;if(s<a||u===d)return null;var m=dn("recharts-sector",f),p=s-a,x=sl(i,p,0,!0),g;return x>0&&Math.abs(u-d)<360?g=tXe({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(x,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):g=Tse({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),k.createElement("path",pF({},Qn(t,!0),{className:m,d:g}))};function nXe(e,t,r){var n,a,s,i;if(e==="horizontal")n=t.x,s=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:l,innerRadius:u,outerRadius:d,angle:f}=t,m=$n(o,l,u,f),p=$n(o,l,d,f);n=m.x,a=m.y,s=p.x,i=p.y}else return kse(t);return[{x:n,y:a},{x:s,y:i}]}var l3={},c3={},u3={},tK;function aXe(){return tK||(tK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jae();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r}(u3)),u3}var rK;function sXe(){return rK||(rK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aXe();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r}(c3)),c3}var nK;function iXe(){return nK||(nK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fae(),r=sXe();function n(a,s,i){i&&typeof i!="number"&&t.isIterateeCall(a,s,i)&&(s=i=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),i=i===void 0?a<s?1:-1:r.toFinite(i);const o=Math.max(Math.ceil((s-a)/(i||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=a,a+=i;return l}e.range=n}(l3)),l3}var d3,aK;function oXe(){return aK||(aK=1,d3=iXe().range),d3}var lXe=oXe();const jse=il(lXe),db=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ED,scaleDiverging:dne,scaleDivergingLog:Ane,scaleDivergingPow:LD,scaleDivergingSqrt:QHe,scaleDivergingSymlog:fne,scaleIdentity:$re,scaleImplicit:Rj,scaleLinear:zre,scaleLog:Gre,scaleOrdinal:lN,scalePoint:cQe,scalePow:BD,scaleQuantile:Xre,scaleQuantize:Yre,scaleRadial:Wre,scaleSequential:one,scaleSequentialLog:lne,scaleSequentialPow:RD,scaleSequentialQuantile:une,scaleSequentialSqrt:MHe,scaleSequentialSymlog:cne,scaleSqrt:yQe,scaleSymlog:qre,scaleThreshold:Jre,scaleTime:LHe,scaleUtc:UHe,tickFormat:Vre},Symbol.toStringTag,{value:"Module"}));var K0=e=>e.chartData,PN=at([K0],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),xP=(e,t,r,n)=>n?PN(e):K0(e);function Xv(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(wc(t)&&wc(r))return!0}return!1}function sK(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function cXe(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(wc(r))a=r;else if(typeof r=="function")return;if(wc(n))s=n;else if(typeof n=="function")return;var i=[a,s];if(Xv(i))return i}}function uXe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Xv(n))return sK(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,i,o;if(a==="auto")t!=null&&(i=Math.min(...t));else if(sr(a))i=a;else if(typeof a=="function")try{t!=null&&(i=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&I$.test(a)){var l=I$.exec(a);if(l==null||t==null)i=void 0;else{var u=+l[1];i=t[0]-u}}else i=t==null?void 0:t[0];if(s==="auto")t!=null&&(o=Math.max(...t));else if(sr(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&j$.test(s)){var d=j$.exec(s);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var m=[i,o];if(Xv(m))return t==null?m:sK(m,t,r)}}}var yx=1e9,dXe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yP,Qa=!0,gu="[DecimalError] ",sp=gu+"Invalid argument: ",bP=gu+"Exponent out of range: ",wx=Math.floor,Sm=Math.pow,AXe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dc,Fi=1e7,Ia=7,Fse=9007199254740991,TS=wx(Fse/Ia),ir={};ir.absoluteValue=ir.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ir.comparedTo=ir.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ir.decimalPlaces=ir.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ia;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ir.dividedBy=ir.div=function(e){return yf(this,new this.constructor(e))};ir.dividedToIntegerBy=ir.idiv=function(e){var t=this,r=t.constructor;return wa(yf(t,new r(e),0,1),r.precision)};ir.equals=ir.eq=function(e){return!this.cmp(e)};ir.exponent=function(){return ei(this)};ir.greaterThan=ir.gt=function(e){return this.cmp(e)>0};ir.greaterThanOrEqualTo=ir.gte=function(e){return this.cmp(e)>=0};ir.isInteger=ir.isint=function(){return this.e>this.d.length-2};ir.isNegative=ir.isneg=function(){return this.s<0};ir.isPositive=ir.ispos=function(){return this.s>0};ir.isZero=function(){return this.s===0};ir.lessThan=ir.lt=function(e){return this.cmp(e)<0};ir.lessThanOrEqualTo=ir.lte=function(e){return this.cmp(e)<1};ir.logarithm=ir.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(dc))throw Error(gu+"NaN");if(r.s<1)throw Error(gu+(r.s?"NaN":"-Infinity"));return r.eq(dc)?new n(0):(Qa=!1,t=yf(jy(r,s),jy(e,s),s),Qa=!0,wa(t,a))};ir.minus=ir.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Pse(t,e):Ose(t,(e.s=-e.s,e))};ir.modulo=ir.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(gu+"NaN");return r.s?(Qa=!1,t=yf(r,e,0,1).times(e),Qa=!0,r.minus(t)):wa(new n(r),a)};ir.naturalExponential=ir.exp=function(){return Dse(this)};ir.naturalLogarithm=ir.ln=function(){return jy(this)};ir.negated=ir.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ir.plus=ir.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Ose(t,e):Pse(t,(e.s=-e.s,e))};ir.precision=ir.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(sp+e);if(t=ei(a)+1,n=a.d.length-1,r=n*Ia+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ir.squareRoot=ir.sqrt=function(){var e,t,r,n,a,s,i,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(gu+"NaN")}for(e=ei(o),Qa=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=aA(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=wx((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(s=n,n=s.plus(yf(o,s,i+2)).times(.5),aA(s.d).slice(0,i)===(t=aA(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(wa(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(t!="9999")break;i+=4}return Qa=!0,wa(n,r)};ir.times=ir.mul=function(e){var t,r,n,a,s,i,o,l,u,d=this,f=d.constructor,m=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=m.length,u=p.length,l<u&&(s=m,m=p,p=s,i=l,l=u,u=i),s=[],i=l+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=l+n;a>n;)o=s[a]+p[n]*m[a-n-1]+t,s[a--]=o%Fi|0,t=o/Fi|0;s[a]=(s[a]+t)%Fi|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Qa?wa(e,f.precision):e};ir.toDecimalPlaces=ir.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(vA(e,0,yx),t===void 0?t=n.rounding:vA(t,0,8),wa(r,e+ei(r)+1,t))};ir.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=wp(n,!0):(vA(e,0,yx),t===void 0?t=a.rounding:vA(t,0,8),n=wa(new a(n),e+1,t),r=wp(n,!0,e+1)),r};ir.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?wp(a):(vA(e,0,yx),t===void 0?t=s.rounding:vA(t,0,8),n=wa(new s(a),e+ei(a)+1,t),r=wp(n.abs(),!1,e+ei(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ir.toInteger=ir.toint=function(){var e=this,t=e.constructor;return wa(new t(e),ei(e)+1,t.rounding)};ir.toNumber=function(){return+this};ir.toPower=ir.pow=function(e){var t,r,n,a,s,i,o=this,l=o.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(dc);if(o=new l(o),!o.s){if(e.s<1)throw Error(gu+"Infinity");return o}if(o.eq(dc))return o;if(n=l.precision,e.eq(dc))return wa(o,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=o.s,i){if((r=d<0?-d:d)<=Fse){for(a=new l(dc),t=Math.ceil(n/Ia+4),Qa=!1;r%2&&(a=a.times(o),oK(a.d,t)),r=wx(r/2),r!==0;)o=o.times(o),oK(o.d,t);return Qa=!0,e.s<0?new l(dc).div(a):wa(a,n)}}else if(s<0)throw Error(gu+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Qa=!1,a=e.times(jy(o,n+u)),Qa=!0,a=Dse(a),a.s=s,a};ir.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=ei(a),n=wp(a,r<=s.toExpNeg||r>=s.toExpPos)):(vA(e,1,yx),t===void 0?t=s.rounding:vA(t,0,8),a=wa(new s(a),e,t),r=ei(a),n=wp(a,e<=r||r<=s.toExpNeg,e)),n};ir.toSignificantDigits=ir.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(vA(e,1,yx),t===void 0?t=n.rounding:vA(t,0,8)),wa(new n(r),e,t)};ir.toString=ir.valueOf=ir.val=ir.toJSON=ir[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ei(e),r=e.constructor;return wp(e,t<=r.toExpNeg||t>=r.toExpPos)};function Ose(e,t){var r,n,a,s,i,o,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Qa?wa(t,f):t;if(l=e.d,u=t.d,i=e.e,a=t.e,l=l.slice(),s=i-a,s){for(s<0?(n=l,s=-s,o=u.length):(n=u,a=i,o=l.length),i=Math.ceil(f/Ia),o=i>o?i+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,n=u,u=l,l=n),r=0;s;)r=(l[--s]=l[s]+u[s]+r)/Fi|0,l[s]%=Fi;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Qa?wa(t,f):t}function vA(e,t,r){if(e!==~~e||e<t||e>r)throw Error(sp+e)}function aA(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=Ia-n.length,r&&(s+=zh(r)),s+=n;i=e[t],n=i+"",r=Ia-n.length,r&&(s+=zh(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var yf=function(){function e(n,a){var s,i=0,o=n.length;for(n=n.slice();o--;)s=n[o]*a+i,n[o]=s%Fi|0,i=s/Fi|0;return i&&n.unshift(i),n}function t(n,a,s,i){var o,l;if(s!=i)l=s>i?1:-1;else for(o=l=0;o<s;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*Fi+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var o,l,u,d,f,m,p,x,g,b,y,_,S,I,T,F,w,C,N=n.constructor,R=n.s==a.s?1:-1,D=n.d,O=a.d;if(!n.s)return new N(n);if(!a.s)throw Error(gu+"Division by zero");for(l=n.e-a.e,w=O.length,T=D.length,p=new N(R),x=p.d=[],u=0;O[u]==(D[u]||0);)++u;if(O[u]>(D[u]||0)&&--l,s==null?_=s=N.precision:i?_=s+(ei(n)-ei(a))+1:_=s,_<0)return new N(0);if(_=_/Ia+2|0,u=0,w==1)for(d=0,O=O[0],_++;(u<T||d)&&_--;u++)S=d*Fi+(D[u]||0),x[u]=S/O|0,d=S%O|0;else{for(d=Fi/(O[0]+1)|0,d>1&&(O=e(O,d),D=e(D,d),w=O.length,T=D.length),I=w,g=D.slice(0,w),b=g.length;b<w;)g[b++]=0;C=O.slice(),C.unshift(0),F=O[0],O[1]>=Fi/2&&++F;do d=0,o=t(O,g,w,b),o<0?(y=g[0],w!=b&&(y=y*Fi+(g[1]||0)),d=y/F|0,d>1?(d>=Fi&&(d=Fi-1),f=e(O,d),m=f.length,b=g.length,o=t(f,g,m,b),o==1&&(d--,r(f,w<m?C:O,m))):(d==0&&(o=d=1),f=O.slice()),m=f.length,m<b&&f.unshift(0),r(g,f,b),o==-1&&(b=g.length,o=t(O,g,w,b),o<1&&(d++,r(g,w<b?C:O,b))),b=g.length):o===0&&(d++,g=[0]),x[u++]=d,o&&g[0]?g[b++]=D[I]||0:(g=[D[I]],b=1);while((I++<T||g[0]!==void 0)&&_--)}return x[0]||x.shift(),p.e=l,wa(p,i?s+ei(p)+1:s)}}();function Dse(e,t){var r,n,a,s,i,o,l=0,u=0,d=e.constructor,f=d.precision;if(ei(e)>16)throw Error(bP+ei(e));if(!e.s)return new d(dc);for(Qa=!1,o=f,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(Sm(2,u))/Math.LN10*2+5|0,o+=n,r=a=s=new d(dc),d.precision=o;;){if(a=wa(a.times(e),o),r=r.times(++l),i=s.plus(yf(a,r,o)),aA(i.d).slice(0,o)===aA(s.d).slice(0,o)){for(;u--;)s=wa(s.times(s),o);return d.precision=f,t==null?(Qa=!0,wa(s,f)):s}s=i}}function ei(e){for(var t=e.e*Ia,r=e.d[0];r>=10;r/=10)t++;return t}function A3(e,t,r){if(t>e.LN10.sd())throw Qa=!0,r&&(e.precision=r),Error(gu+"LN10 precision limit exceeded");return wa(new e(e.LN10),t)}function zh(e){for(var t="";e--;)t+="0";return t}function jy(e,t){var r,n,a,s,i,o,l,u,d,f=1,m=10,p=e,x=p.d,g=p.constructor,b=g.precision;if(p.s<1)throw Error(gu+(p.s?"NaN":"-Infinity"));if(p.eq(dc))return new g(0);if(t==null?(Qa=!1,u=b):u=t,p.eq(10))return t==null&&(Qa=!0),A3(g,u);if(u+=m,g.precision=u,r=aA(x),n=r.charAt(0),s=ei(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=aA(p.d),n=r.charAt(0),f++;s=ei(p),n>1?(p=new g("0."+r),s++):p=new g(n+"."+r.slice(1))}else return l=A3(g,u+2,b).times(s+""),p=jy(new g(n+"."+r.slice(1)),u-m).plus(l),g.precision=b,t==null?(Qa=!0,wa(p,b)):p;for(o=i=p=yf(p.minus(dc),p.plus(dc),u),d=wa(p.times(p),u),a=3;;){if(i=wa(i.times(d),u),l=o.plus(yf(i,new g(a),u)),aA(l.d).slice(0,u)===aA(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(A3(g,u+2,b).times(s+""))),o=yf(o,new g(f),u),g.precision=b,t==null?(Qa=!0,wa(o,b)):o;o=l,a+=2}}function iK(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=wx(r/Ia),e.d=[],n=(r+1)%Ia,r<0&&(n+=Ia),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ia;n<a;)e.d.push(+t.slice(n,n+=Ia));t=t.slice(n),n=Ia-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Qa&&(e.e>TS||e.e<-TS))throw Error(bP+r)}else e.s=0,e.e=0,e.d=[0];return e}function wa(e,t,r){var n,a,s,i,o,l,u,d,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=Ia,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ia),s=f.length,d>=s)return e;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Ia,a=n-Ia+i}if(r!==void 0&&(s=Sm(10,i-a-1),o=u/s%10|0,l=t<0||f[d+1]!==void 0||u%s,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?u/Sm(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(s=ei(e),f.length=1,t=t-s-1,f[0]=Sm(10,(Ia-t%Ia)%Ia),e.e=wx(-t/Ia)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Sm(10,Ia-n),f[d]=a>0?(u/Sm(10,i-a)%Sm(10,a)|0)*s:0),l)for(;;)if(d==0){(f[0]+=s)==Fi&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Fi)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Qa&&(e.e>TS||e.e<-TS))throw Error(bP+ei(e));return e}function Pse(e,t){var r,n,a,s,i,o,l,u,d,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Qa?wa(t,p):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),i=u-n,i){for(d=i<0,d?(r=l,i=-i,o=f.length):(r=f,n=u,o=l.length),a=Math.max(Math.ceil(p/Ia),o)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}i=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>i;){if(l[--a]<f[a]){for(s=a;s&&l[--s]===0;)l[s]=Fi-1;--l[s],l[a]+=Fi}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Qa?wa(t,p):t):new m(0)}function wp(e,t,r){var n,a=ei(e),s=aA(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+zh(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+zh(-a-1)+s,r&&(n=r-i)>0&&(s+=zh(n))):a>=i?(s+=zh(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+zh(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=zh(n))),e.s<0?"-"+s:s}function oK(e,t){if(e.length>t)return e.length=t,!0}function Rse(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(sp+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return iK(i,s.toString())}else if(typeof s!="string")throw Error(sp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,AXe.test(s))iK(i,s);else throw Error(sp+s)}if(a.prototype=ir,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Rse,a.config=a.set=fXe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function fXe(e){if(!e||typeof e!="object")throw Error(gu+"Object expected");var t,r,n,a=["precision",1,yx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(wx(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(sp+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(sp+r+": "+n);return this}var yP=Rse(dXe);dc=new yP(1);const oa=yP;var hXe=e=>e,Lse={},Use=e=>e===Lse,lK=e=>function t(){return arguments.length===0||arguments.length===1&&Use(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Mse=(e,t)=>e===1?t:lK(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(i=>i!==Lse).length;return s>=e?t(...n):Mse(e-s,lK(function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];var u=n.map(d=>Use(d)?o.shift():d);return t(...u,...o)}))}),RN=e=>Mse(e.length,e),gF=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},mXe=RN((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),pXe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return hXe;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce((o,l)=>l(o),s(...arguments))}},vF=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),Qse=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t&&a.every((i,o)=>{var l;return i===((l=t)===null||l===void 0?void 0:l[o])})||(t=a,r=e(...a)),r}};function Hse(e){var t;return e===0?t=1:t=Math.floor(new oa(e).abs().log(10).toNumber())+1,t}function Vse(e,t,r){for(var n=new oa(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}RN((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});RN((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});RN((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var zse=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},$se=(e,t,r)=>{if(e.lte(0))return new oa(0);var n=Hse(e.toNumber()),a=new oa(10).pow(n),s=e.div(a),i=n!==1?.05:.1,o=new oa(Math.ceil(s.div(i).toNumber())).add(r).mul(i),l=o.mul(a);return t?new oa(l.toNumber()):new oa(Math.ceil(l.toNumber()))},gXe=(e,t,r)=>{var n=new oa(1),a=new oa(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new oa(10).pow(Hse(e)-1),a=new oa(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new oa(Math.floor(e)))}else e===0?a=new oa(Math.floor((t-1)/2)):r||(a=new oa(Math.floor(e)));var i=Math.floor((t-1)/2),o=pXe(mXe(l=>a.add(new oa(l-i).mul(n)).toNumber()),gF);return o(0,t)},Kse=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new oa(0),tickMin:new oa(0),tickMax:new oa(0)};var i=$se(new oa(r).sub(t).div(n-1),a,s),o;t<=0&&r>=0?o=new oa(0):(o=new oa(t).add(r).div(2),o=o.sub(new oa(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),u=Math.ceil(new oa(r).sub(o).div(i).toNumber()),d=l+u+1;return d>n?Kse(t,r,n,a,s+1):(d<n&&(u=r>0?u+(n-d):u,l=r>0?l:l+(n-d)),{step:i,tickMin:o.sub(new oa(l).mul(i)),tickMax:o.add(new oa(u).mul(i))})};function vXe(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[i,o]=zse([t,r]);if(i===-1/0||o===1/0){var l=o===1/0?[i,...gF(0,n-1).map(()=>1/0)]:[...gF(0,n-1).map(()=>-1/0),o];return t>r?vF(l):l}if(i===o)return gXe(i,n,a);var{step:u,tickMin:d,tickMax:f}=Kse(i,o,s,a,0),m=Vse(d,f.add(new oa(.1).mul(u)),u);return t>r?vF(m):m}function xXe(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,i]=zse([r,n]);if(s===-1/0||i===1/0)return[r,n];if(s===i)return[s];var o=Math.max(t,2),l=$se(new oa(i).sub(s).div(o-1),a,0),u=[...Vse(new oa(s),new oa(i),l),i];return a===!1&&(u=u.map(d=>Math.round(d))),r>n?vF(u):u}var bXe=Qse(vXe),yXe=Qse(xXe),Gse=e=>e.rootProps.maxBarSize,wXe=e=>e.rootProps.barGap,qse=e=>e.rootProps.barCategoryGap,EXe=e=>e.rootProps.barSize,yw=e=>e.rootProps.stackOffset,wP=e=>e.options.chartName,EP=e=>e.rootProps.syncId,Wse=e=>e.rootProps.syncMethod,CP=e=>e.options.eventEmitter,Zd={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Nl={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},LN=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},CXe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Zd.angleAxisId,includeHidden:!1,name:void 0,reversed:Zd.reversed,scale:Zd.scale,tick:Zd.tick,tickCount:void 0,ticks:void 0,type:Zd.type,unit:void 0},_Xe={allowDataOverflow:Nl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Nl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nl.scale,tick:Nl.tick,tickCount:Nl.tickCount,ticks:void 0,type:Nl.type,unit:void 0},SXe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Zd.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zd.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zd.scale,tick:Zd.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},NXe={allowDataOverflow:Nl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Nl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nl.scale,tick:Nl.tick,tickCount:Nl.tickCount,ticks:void 0,type:"category",unit:void 0},Ex=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?SXe:CXe,ww=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?NXe:_Xe,UN=e=>e.polarOptions,_P=at([Kf,Gf,vi],sse),Xse=at([UN,_P],(e,t)=>{if(e!=null)return sl(e.innerRadius,t,0)}),Yse=at([UN,_P],(e,t)=>{if(e!=null)return sl(e.outerRadius,t,t*.8)}),BXe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},Jse=at([UN],BXe),kXe=at([Ex,Jse],LN),Zse=at([_P,Xse,Yse],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]}),TXe=at([ww,Zse],LN),Cx=at([bn,UN,Xse,Yse,Kf,Gf],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:i,cy:o,startAngle:l,endAngle:u}=t;return{cx:sl(i,a,a/2),cy:sl(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),Ea=(e,t)=>t,Ew=(e,t,r)=>r;function SP(e){return e==null?void 0:e.id}var xi=e=>{var t=bn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},_x=e=>e.tooltip.settings.axisId,bi=e=>{var t=xi(e),r=_x(e);return Sx(e,t,r)};function eie(e,t,r){var{chartData:n=[]}=t,a=r==null?void 0:r.dataKey,s=new Map;return e.forEach(i=>{var o,l=(o=i.data)!==null&&o!==void 0?o:n;if(!(l==null||l.length===0)){var u=SP(i);l.forEach((d,f)=>{var m=a==null?f:String(ka(d,a,null)),p=ka(d,i.dataKey,0),x;s.has(m)?x=s.get(m):x={},Object.assign(x,{[u]:p}),s.set(m,x)})}}),Array.from(s.values())}function MN(e){return e.stackId!=null&&e.dataKey!=null}function cK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cK(Object(r),!0).forEach(function(n){IXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IXe(e,t,r){return(t=jXe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jXe(e){var t=FXe(e,"string");return typeof t=="symbol"?t:t+""}function FXe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xF=[0,"auto"],ac={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},qf=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??ac},sc={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:xF,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:FN},G0=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??sc},OXe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},NP=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??OXe},Rs=(e,t,r)=>{switch(t){case"xAxis":return qf(e,r);case"yAxis":return G0(e,r);case"zAxis":return NP(e,r);case"angleAxis":return Ex(e,r);case"radiusAxis":return ww(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},DXe=(e,t,r)=>{switch(t){case"xAxis":return qf(e,r);case"yAxis":return G0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Sx=(e,t,r)=>{switch(t){case"xAxis":return qf(e,r);case"yAxis":return G0(e,r);case"angleAxis":return Ex(e,r);case"radiusAxis":return ww(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},tie=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function BP(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var kP=e=>e.graphicalItems.cartesianItems,PXe=at([Ea,Ew],BP),TP=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Cw=at([kP,Rs,PXe],TP),rie=at([Cw],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(MN)),nie=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),aie=at([Cw],nie),IP=e=>e.map(t=>t.data).filter(Boolean).flat(1),RXe=at([Cw],IP),jP=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},FP=at([RXe,xP],jP),OP=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ka(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:ka(a,n)}))):e.map(n=>({value:n})),QN=at([FP,Rs,Cw],OP);function sie(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Rp(e){return e.filter(t=>gA(t)||t instanceof Date).map(Number).filter(t=>xc(t)===!1)}function LXe(e,t,r){return!r||typeof t!="number"||xc(t)?[]:r.length?Rp(r.flatMap(n=>{var a=ka(e,n.dataKey),s,i;if(Array.isArray(a)?[s,i]=a:s=i=a,!(!wc(s)||!wc(i)))return[t-s,t+i]})):[]}var UXe=at([rie,xP,bi],eie),iie=(e,t,r)=>{var n={},a=t.reduce((s,i)=>(i.stackId==null||(s[i.stackId]==null&&(s[i.stackId]=[]),s[i.stackId].push(i)),s),n);return Object.fromEntries(Object.entries(a).map(s=>{var[i,o]=s,l=o.map(SP);return[i,{stackedData:Nqe(e,l,r),graphicalItems:o}]}))},bF=at([UXe,rie,yw],iie),oie=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var s=jqe(e,n,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},MXe=at([bF,K0,Ea],oie),lie=(e,t,r,n,a)=>r.length>0?e.flatMap(s=>r.flatMap(i=>{var o,l,u=(o=n[i.id])===null||o===void 0?void 0:o.filter(f=>sie(a,f)),d=ka(s,(l=t.dataKey)!==null&&l!==void 0?l:i.dataKey);return{value:d,errorDomain:LXe(s,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:ka(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),HN=e=>e.errorBars,cie=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>sie(r,n));at([aie,HN,Ea],cie);var QXe=at([FP,Rs,aie,HN,Ea],lie);function HXe(e){var{value:t}=e;if(gA(t)||t instanceof Date)return t}var uK=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Rp(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},VXe=(e,t,r)=>{var n=e.map(HXe).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&bae(n))?jse(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},DP=e=>{var t;if(e==null||!("domain"in e))return xF;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Rp(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:xF},jS=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),i=Math.min(...s),o=Math.max(...s);return[i,o]}},uie=e=>e.referenceElements.dots,Nx=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),zXe=at([uie,Ea,Ew],Nx),die=e=>e.referenceElements.areas,$Xe=at([die,Ea,Ew],Nx),Aie=e=>e.referenceElements.lines,KXe=at([Aie,Ea,Ew],Nx),fie=(e,t)=>{var r=Rp(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},GXe=at(zXe,Ea,fie),hie=(e,t)=>{var r=Rp(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},qXe=at([$Xe,Ea],hie),mie=(e,t)=>{var r=Rp(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},WXe=at(KXe,Ea,mie),XXe=at(GXe,WXe,qXe,(e,t,r)=>jS(e,r,t)),pie=at([Rs],DP),PP=(e,t,r,n,a,s,i)=>{var o=cXe(t,e.allowDataOverflow);if(o!=null)return o;var l=s==="vertical"&&i==="xAxis"||s==="horizontal"&&i==="yAxis",u=l?jS(r,a,uK(n)):jS(a,uK(n));return uXe(t,u,e.allowDataOverflow)},YXe=at([Rs,pie,MXe,QXe,XXe,bn,Ea],PP),JXe=[0,1],RP=(e,t,r,n,a,s,i)=>{if(!((e==null||r==null||r.length===0)&&i===void 0)){var{dataKey:o,type:l}=e,u=$0(t,s);return u&&o==null?jse(0,r.length):l==="category"?VXe(n,e,u):a==="expand"?JXe:i}},LP=at([Rs,bn,FP,QN,yw,Ea,YXe],RP),gie=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:i}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":i==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(vw(s));return o in db?o:"point"}}},q0=at([Rs,bn,tie,wP,Ea],gie);function ZXe(e){if(e!=null){if(e in db)return db[e]();var t="scale".concat(vw(e));if(t in db)return db[t]()}}function VN(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=ZXe(t);if(a!=null){var s=a.domain(r).range(n);return wqe(s),s}}}var UP=(e,t,r)=>{var n=DP(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Xv(e))return bXe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Xv(e))return yXe(e,t.tickCount,t.allowDecimals)}},MP=at([LP,Sx,q0],UP),QP=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Xv(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],i=t[1],o=r[r.length-1];return[Math.min(a,s),Math.max(i,o)]}return t},eYe=at([Rs,LP,MP,Ea],QP),tYe=at(QN,Rs,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Rp(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var i=n[s+1]-n[s];r=Math.min(r,i)}return r/a}}),vie=at(tYe,bn,qse,vi,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!wc(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var i=sl(r,e*s),o=e*s/2;return o-i-(o-i)/s*i}return 0}),rYe=(e,t)=>{var r=qf(e,t);return r==null||typeof r.padding!="string"?0:vie(e,"xAxis",t,r.padding)},nYe=(e,t)=>{var r=G0(e,t);return r==null||typeof r.padding!="string"?0:vie(e,"yAxis",t,r.padding)},aYe=at(qf,rYe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),sYe=at(G0,nYe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),iYe=at([vi,aYe,DN,ON,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),oYe=at([vi,bn,sYe,DN,ON,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),_w=(e,t,r,n)=>{var a;switch(t){case"xAxis":return iYe(e,r,n);case"yAxis":return oYe(e,r,n);case"zAxis":return(a=NP(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return Jse(e);case"radiusAxis":return Zse(e,r);default:return}},xie=at([Rs,_w],LN),Bx=at([Rs,q0,eYe,xie],VN);at([Cw,HN,Ea],cie);function bie(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var zN=(e,t)=>t,$N=(e,t,r)=>r,lYe=at(hP,zN,$N,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(bie)),cYe=at(mP,zN,$N,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(bie)),yie=(e,t)=>({width:e.width,height:t.height}),uYe=(e,t)=>{var r=typeof t.width=="number"?t.width:FN;return{width:r,height:e.height}},wie=at(vi,qf,yie),dYe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},AYe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},fYe=at(Gf,vi,lYe,zN,$N,(e,t,r,n,a)=>{var s={},i;return r.forEach(o=>{var l=yie(t,o);i==null&&(i=dYe(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;s[o.id]=i-Number(u)*l.height,i+=(u?-1:1)*l.height}),s}),hYe=at(Kf,vi,cYe,zN,$N,(e,t,r,n,a)=>{var s={},i;return r.forEach(o=>{var l=uYe(t,o);i==null&&(i=AYe(t,n,e));var u=n==="left"&&!a||n==="right"&&a;s[o.id]=i-Number(u)*l.width,i+=(u?-1:1)*l.width}),s}),mYe=(e,t)=>{var r=vi(e),n=qf(e,t);if(n!=null){var a=fYe(e,n.orientation,n.mirror),s=a[t];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},pYe=(e,t)=>{var r=vi(e),n=G0(e,t);if(n!=null){var a=hYe(e,n.orientation,n.mirror),s=a[t];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},Eie=at(vi,G0,(e,t)=>{var r=typeof t.width=="number"?t.width:FN;return{width:r,height:e.height}}),dK=(e,t,r)=>{switch(t){case"xAxis":return wie(e,r).width;case"yAxis":return Eie(e,r).height;default:return}},Cie=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:i}=r,o=$0(e,n),l=t.map(u=>u.value);if(i&&o&&s==="category"&&a&&bae(l))return l}},Sw=at([bn,QN,Rs,Ea],Cie),HP=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,i=$0(e,n);if(i&&(a==="number"||s!=="auto"))return t.map(o=>o.value)}},VP=at([bn,QN,Sx,Ea],HP),AK=at([bn,DXe,q0,Bx,Sw,VP,_w,MP,Ea],(e,t,r,n,a,s,i,o,l)=>{if(t==null)return null;var u=$0(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:s,duplicateDomain:a,isCategorical:u,niceTicks:o,range:i,realScaleType:r,scale:n}}),_ie=(e,t,r,n,a,s,i,o,l)=>{if(!(t==null||n==null)){var u=$0(e,l),{type:d,ticks:f,tickCount:m}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=d==="category"&&n.bandwidth?n.bandwidth()/p:0;x=l==="angleAxis"&&s!=null&&s.length>=2?Li(s[0]-s[1])*2*x:x;var g=f||a;if(g){var b=g.map((y,_)=>{var S=i?i.indexOf(y):y;return{index:_,coordinate:n(S)+x,value:y,offset:x}});return b.filter(y=>!xc(y.coordinate))}return u&&o?o.map((y,_)=>({coordinate:n(y)+x,value:y,index:_,offset:x})):n.ticks?n.ticks(m).map(y=>({coordinate:n(y)+x,value:y,offset:x})):n.domain().map((y,_)=>({coordinate:n(y)+x,value:i?i[y]:y,index:_,offset:x}))}},Sie=at([bn,Sx,q0,Bx,MP,_w,Sw,VP,Ea],_ie),Nie=(e,t,r,n,a,s,i)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=$0(e,i),{tickCount:l}=t,u=0;return u=i==="angleAxis"&&(n==null?void 0:n.length)>=2?Li(n[0]-n[1])*2*u:u,o&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(l).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Yv=at([bn,Sx,Bx,_w,Sw,VP,Ea],Nie),Jv=at(Rs,Bx,(e,t)=>{if(!(e==null||t==null))return IS(IS({},e),{},{scale:t})}),gYe=at([Rs,q0,LP,xie],VN);at((e,t,r)=>NP(e,r),gYe,(e,t)=>{if(!(e==null||t==null))return IS(IS({},e),{},{scale:t})});var vYe=at([bn,hP,mP],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Bie=e=>e.options.defaultTooltipEventType,kie=e=>e.options.validateTooltipEventTypes;function Tie(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function zP(e,t){var r=Bie(e),n=kie(e);return Tie(t,r,n)}function xYe(e){return nr(t=>zP(t,e))}var Iie=(e,t)=>{var r,n=Number(t);if(!(xc(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},bYe=e=>e.tooltip.settings,Jh={active:!1,index:null,dataKey:void 0,coordinate:void 0},yYe={itemInteraction:{click:Jh,hover:Jh},axisInteraction:{click:Jh,hover:Jh},keyboardInteraction:Jh,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},jie=Ec({name:"tooltip",initialState:yYe,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=bf(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:wYe,removeTooltipEntrySettings:EYe,setTooltipSettingsState:CYe,setActiveMouseOverItemIndex:Fie,mouseLeaveItem:_Ye,mouseLeaveChart:Oie,setActiveClickItemIndex:SYe,setMouseOverAxisIndex:Die,setMouseClickAxisIndex:NYe,setSyncInteraction:yF,setKeyboardInteraction:wF}=jie.actions,BYe=jie.reducer;function fK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fK(Object(r),!0).forEach(function(n){kYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kYe(e,t,r){return(t=TYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TYe(e){var t=IYe(e,"string");return typeof t=="symbol"?t:t+""}function IYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jYe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function FYe(e){return e.index!=null}var Pie=(e,t,r,n)=>{if(t==null)return Jh;var a=jYe(e,t,r);if(a==null)return Jh;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(FYe(a)){if(s)return JE(JE({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return JE(JE({},Jh),{},{coordinate:a.coordinate})},$P=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!wc(n))return r;var a=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(a,Math.min(n,s)))},Rie=(e,t,r,n,a,s,i,o)=>{if(!(s==null||o==null)){var l=i[0],u=l==null?void 0:o(l.positions,s);if(u!=null)return u;var d=a==null?void 0:a[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},Lie=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var i;return((i=s.settings)===null||i===void 0?void 0:i.dataKey)===a})},Nw=e=>e.options.tooltipPayloadSearcher,kx=e=>e.tooltip;function hK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hK(Object(r),!0).forEach(function(n){OYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OYe(e,t,r){return(t=DYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DYe(e){var t=PYe(e,"string");return typeof t=="symbol"?t:t+""}function PYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RYe(e,t){return e??t}var Uie=(e,t,r,n,a,s,i)=>{if(!(t==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((m,p)=>{var x,{dataDefinedOnItem:g,settings:b}=p,y=RYe(g,o),_=Array.isArray(y)?ose(y,u,d):y,S=(x=b==null?void 0:b.dataKey)!==null&&x!==void 0?x:n==null?void 0:n.dataKey,I=b==null?void 0:b.nameKey,T;if(n!=null&&n.dataKey&&Array.isArray(_)&&!Array.isArray(_[0])&&i==="axis"?T=tKe(_,n.dataKey,a):T=s(_,t,l,I),Array.isArray(T))T.forEach(w=>{var C=mK(mK({},b),{},{name:w.name,unit:w.unit,color:void 0,fill:void 0});m.push(F$({tooltipEntrySettings:C,dataKey:w.dataKey,payload:w.payload,value:ka(w.payload,w.dataKey),name:w.name}))});else{var F;m.push(F$({tooltipEntrySettings:b,dataKey:S,payload:T,value:ka(T,S),name:(F=ka(T,I))!==null&&F!==void 0?F:b==null?void 0:b.name}))}return m},f)}},KP=at([bi,bn,tie,wP,xi],gie),LYe=at([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),UYe=at([xi,_x],BP),Bw=at([LYe,bi,UYe],TP),MYe=at([Bw],e=>e.filter(MN)),QYe=at([Bw],IP),Tx=at([QYe,K0],jP),HYe=at([MYe,K0,bi],eie),GP=at([Tx,bi,Bw],OP),VYe=at([bi],DP),zYe=at([Bw],e=>e.filter(MN)),$Ye=at([HYe,zYe,yw],iie),KYe=at([$Ye,K0,xi],oie),GYe=at([Bw],nie),qYe=at([Tx,bi,GYe,HN,xi],lie),WYe=at([uie,xi,_x],Nx),XYe=at([WYe,xi],fie),YYe=at([die,xi,_x],Nx),JYe=at([YYe,xi],hie),ZYe=at([Aie,xi,_x],Nx),eJe=at([ZYe,xi],mie),tJe=at([XYe,eJe,JYe],jS),rJe=at([bi,VYe,KYe,qYe,tJe,bn,xi],PP),Mie=at([bi,bn,Tx,GP,yw,xi,rJe],RP),nJe=at([Mie,bi,KP],UP),aJe=at([bi,Mie,nJe,xi],QP),Qie=e=>{var t=xi(e),r=_x(e),n=!1;return _w(e,t,r,n)},Hie=at([bi,Qie],LN),Vie=at([bi,KP,aJe,Hie],VN),sJe=at([bn,GP,bi,xi],Cie),iJe=at([bn,GP,bi,xi],HP),oJe=(e,t,r,n,a,s,i,o)=>{if(t){var{type:l}=t,u=$0(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Li(a[0]-a[1])*2*f:f,u&&i?i.map((m,p)=>({coordinate:n(m)+f,value:m,index:p,offset:f})):n.domain().map((m,p)=>({coordinate:n(m)+f,value:s?s[m]:m,index:p,offset:f}))}}},Wf=at([bn,bi,KP,Vie,Qie,sJe,iJe,xi],oJe),qP=at([Bie,kie,bYe],(e,t,r)=>Tie(r.shared,e,t)),zie=e=>e.tooltip.settings.trigger,WP=e=>e.tooltip.settings.defaultIndex,KN=at([kx,qP,zie,WP],Pie),P0=at([KN,Tx],$P),$ie=at([Wf,P0],Iie),Kie=at([KN],e=>{if(e)return e.dataKey}),Gie=at([kx,qP,zie,WP],Lie),lJe=at([Kf,Gf,bn,vi,Wf,WP,Gie,Nw],Rie),cJe=at([KN,lJe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),uJe=at([KN],e=>e.active),dJe=at([Gie,P0,K0,bi,$ie,Nw,qP],Uie),AJe=at([dJe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function pK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pK(Object(r),!0).forEach(function(n){fJe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fJe(e,t,r){return(t=hJe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hJe(e){var t=mJe(e,"string");return typeof t=="symbol"?t:t+""}function mJe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pJe=()=>nr(bi),gJe=()=>{var e=pJe(),t=nr(Wf),r=nr(Vie);return Ty(gK(gK({},e),{},{scale:r}),t)},vJe=()=>nr(wP),XP=(e,t)=>t,qie=(e,t,r)=>r,YP=(e,t,r,n)=>n,xJe=at(Wf,e=>SN(e,t=>t.coordinate)),JP=at([kx,XP,qie,YP],Pie),Wie=at([JP,Tx],$P),bJe=(e,t,r)=>{if(t!=null){var n=kx(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Xie=at([kx,XP,qie,YP],Lie),FS=at([Kf,Gf,bn,vi,Wf,YP,Xie,Nw],Rie),yJe=at([JP,FS],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),Yie=at(Wf,Wie,Iie),wJe=at([Xie,Wie,K0,bi,Yie,Nw,XP],Uie),EJe=at([JP],e=>({isActive:e.active,activeIndex:e.index})),CJe=(e,t,r,n,a,s,i,o)=>{if(!(!e||!t||!n||!a||!s)){var l=Fqe(e.chartX,e.chartY,t,r,o);if(l){var u=Dqe(l,t),d=bqe(u,i,s,n,a),f=Oqe(t,s,d,l);return{activeIndex:String(d),activeCoordinate:f}}}};function EF(){return EF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EF.apply(null,arguments)}function vK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vK(Object(r),!0).forEach(function(n){_Je(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Je(e,t,r){return(t=SJe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SJe(e){var t=NJe(e,"string");return typeof t=="symbol"?t:t+""}function NJe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BJe(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:s,layout:i,cursor:o,tooltipEventType:l,chartName:u}=e,d=t,f=r,m=n;if(!o||!d||u!=="ScatterChart"&&l!=="axis")return null;var p,x;if(u==="ScatterChart")p=d,x=vWe;else if(u==="BarChart")p=xWe(i,d,a,s),x=Bse;else if(i==="radial"){var{cx:g,cy:b,radius:y,startAngle:_,endAngle:S}=kse(d);p={cx:g,cy:b,startAngle:_,endAngle:S,innerRadius:y,outerRadius:y},x=Ise}else p={points:nXe(i,d,a)},x=yse;var I=typeof o=="object"&&"className"in o?o.className:void 0,T=ZE(ZE(ZE(ZE({stroke:"#ccc",pointerEvents:"none"},a),p),Qn(o,!1)),{},{payload:f,payloadIndex:m,className:dn("recharts-tooltip-cursor",I)});return k.isValidElement(o)?k.cloneElement(o,T):k.createElement(x,T)}function kJe(e){var t=gJe(),r=hse(),n=gP(),a=vJe();return k.createElement(BJe,EF({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var Jie=k.createContext(null),TJe=()=>k.useContext(Jie),f3={exports:{}},xK;function IJe(){return xK||(xK=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||l,m),x=r?r+u:u;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],p]:l._events[x].push(p):(l._events[x]=p,l._eventsCount++),l}function i(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,x=new Array(p);m<p;m++)x[m]=f[m].fn;return x},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,m,p,x){var g=r?r+u:u;if(!this._events[g])return!1;var b=this._events[g],y=arguments.length,_,S;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,m),!0;case 5:return b.fn.call(b.context,d,f,m,p),!0;case 6:return b.fn.call(b.context,d,f,m,p,x),!0}for(S=1,_=new Array(y-1);S<y;S++)_[S-1]=arguments[S];b.fn.apply(b.context,_)}else{var I=b.length,T;for(S=0;S<I;S++)switch(b[S].once&&this.removeListener(u,b[S].fn,void 0,!0),y){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,d);break;case 3:b[S].fn.call(b[S].context,d,f);break;case 4:b[S].fn.call(b[S].context,d,f,m);break;default:if(!_)for(T=1,_=new Array(y-1);T<y;T++)_[T-1]=arguments[T];b[S].fn.apply(b[S].context,_)}}return!0},o.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,m){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return i(this,p),this;var x=this._events[p];if(x.fn)x.fn===d&&(!m||x.once)&&(!f||x.context===f)&&i(this,p);else{for(var g=0,b=[],y=x.length;g<y;g++)(x[g].fn!==d||m&&!x[g].once||f&&x[g].context!==f)&&b.push(x[g]);b.length?this._events[p]=b.length===1?b[0]:b:i(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o}(f3)),f3.exports}var jJe=IJe();const FJe=il(jJe);var Fy=new FJe,CF="recharts.syncEvent.tooltip",bK="recharts.syncEvent.brush";function ZP(e,t){if(t){var r=Number.parseInt(t,10);if(!xc(r))return e==null?void 0:e[r]}}var OJe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Zie=Ec({name:"options",initialState:OJe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),DJe=Zie.reducer,{createEventEmitter:PJe}=Zie.actions;function RJe(e){return e.tooltip.syncInteraction}var LJe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},eoe=Ec({name:"chartData",initialState:LJe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:yK,setDataStartEndIndexes:UJe,setComputedData:eot}=eoe.actions,MJe=eoe.reducer,toe=()=>{};function QJe(){var e=nr(EP),t=nr(CP),r=es(),n=nr(Wse),a=nr(Wf),s=gP(),i=pP(),o=nr(l=>l.rootProps.className);k.useEffect(()=>{if(e==null)return toe;var l=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){r(d);return}if(a!=null){var m;if(typeof n=="function"){var p={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},x=n(a,p);m=a[x]}else n==="value"&&(m=a.find(F=>String(F.value)===d.payload.label));var{coordinate:g}=d.payload;if(m==null||d.payload.active===!1||g==null||i==null){r(yF({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:b,y}=g,_=Math.min(b,i.x+i.width),S=Math.min(y,i.y+i.height),I={x:s==="horizontal"?m.coordinate:_,y:s==="horizontal"?S:m.coordinate},T=yF({active:d.payload.active,coordinate:I,dataKey:d.payload.dataKey,index:String(m.index),label:d.payload.label});r(T)}}};return Fy.on(CF,l),()=>{Fy.off(CF,l)}},[o,r,t,e,n,a,s,i])}function HJe(){var e=nr(EP),t=nr(CP),r=es();k.useEffect(()=>{if(e==null)return toe;var n=(a,s,i)=>{t!==i&&e===a&&r(UJe(s))};return Fy.on(bK,n),()=>{Fy.off(bK,n)}},[r,t,e])}function VJe(){var e=es();k.useEffect(()=>{e(PJe())},[e]),QJe(),HJe()}function zJe(e,t,r,n,a,s){var i=nr(m=>bJe(m,e,t)),o=nr(CP),l=nr(EP),u=nr(Wse),d=nr(RJe),f=d==null?void 0:d.active;k.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=yF({active:s,coordinate:r,dataKey:i,index:a,label:typeof n=="number"?String(n):n});Fy.emit(CF,l,m,o)}},[f,r,i,a,n,o,l,u,s])}function wK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wK(Object(r),!0).forEach(function(n){$Je(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Je(e,t,r){return(t=KJe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KJe(e){var t=GJe(e,"string");return typeof t=="symbol"?t:t+""}function GJe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qJe(e){return e.dataKey}function WJe(e,t){return k.isValidElement(e)?k.cloneElement(e,t):typeof e=="function"?k.createElement(e,t):k.createElement(Xqe,t)}var CK=[],XJe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Pp.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function eC(e){var t=bu(e,XJe),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:s,content:i,filterNull:o,isAnimationActive:l,offset:u,payloadUniqBy:d,position:f,reverseDirection:m,useTranslate3d:p,wrapperStyle:x,cursor:g,shared:b,trigger:y,defaultIndex:_,portal:S,axisId:I}=t,T=es(),F=typeof _=="number"?String(_):_;k.useEffect(()=>{T(CYe({shared:b,trigger:y,axisId:I,active:r,defaultIndex:F}))},[T,b,y,I,r,F]);var w=pP(),C=bse(),N=xYe(b),{activeIndex:R,isActive:D}=nr(re=>EJe(re,N,y,F)),O=nr(re=>wJe(re,N,y,F)),M=nr(re=>Yie(re,N,y,F)),Q=nr(re=>yJe(re,N,y,F)),ee=O,W=TJe(),Z=r??D,[V,q]=uGe([ee,Z]),K=N==="axis"?M:void 0;zJe(N,y,Q,K,R,Z);var J=S??W;if(J==null)return null;var P=ee??CK;Z||(P=CK),o&&P.length&&(P=QKe(ee.filter(re=>re.value!=null&&(re.hide!==!0||t.includeHidden)),d,qJe));var G=P.length>0,Y=k.createElement(nWe,{allowEscapeViewBox:n,animationDuration:a,animationEasing:s,isAnimationActive:l,active:Z,coordinate:Q,hasPayload:G,offset:u,position:f,reverseDirection:m,useTranslate3d:p,viewBox:w,wrapperStyle:x,lastBoundingBox:V,innerRef:q,hasPortalFromProps:!!S},WJe(i,EK(EK({},t),{},{payload:P,label:K,active:Z,coordinate:Q,accessibilityLayer:C})));return k.createElement(k.Fragment,null,Ste.createPortal(Y,J),Z&&k.createElement(kJe,{cursor:g,tooltipEventType:N,coordinate:Q,payload:ee,index:R}))}var h3={},m3={},p3={},_K;function YJe(){return _K||(_K=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let i,o=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(r.apply(i,o),i=void 0,o=null)},f=()=>{u&&d(),g()};let m=null;const p=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},n)},x=()=>{m!==null&&(clearTimeout(m),m=null)},g=()=>{x(),i=void 0,o=null},b=()=>{d()},y=function(..._){if(a!=null&&a.aborted)return;i=this,o=_;const S=m==null;p(),l&&S&&d()};return y.schedule=p,y.cancel=g,y.flush=b,a==null||a.addEventListener("abort",g,{once:!0}),y}e.debounce=t}(p3)),p3}var SK;function JJe(){return SK||(SK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YJe();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:i=!1,trailing:o=!0,maxWait:l}=s,u=Array(2);i&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const m=t.debounce(function(...g){d=n.apply(this,g),f=null},a,{edges:u}),p=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=n.apply(this,g),f=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,g),d)},x=()=>(m.flush(),d);return p.cancel=m.cancel,p.flush=x,p}e.debounce=r}(m3)),m3}var NK;function ZJe(){return NK||(NK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JJe();function r(n,a=0,s={}){const{leading:i=!0,trailing:o=!0}=s;return t.debounce(n,a,{leading:i,maxWait:a,trailing:o})}e.throttle=r}(h3)),h3}var g3,BK;function eZe(){return BK||(BK=1,g3=ZJe().throttle),g3}var tZe=eZe();const rZe=il(tZe);var Rb=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function kK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kK(Object(r),!0).forEach(function(n){nZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nZe(e,t,r){return(t=aZe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aZe(e){var t=sZe(e,"string");return typeof t=="symbol"?t:t+""}function sZe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tC=k.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:s="100%",minWidth:i=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:f,className:m,onResize:p,style:x={}}=e,g=k.useRef(null),b=k.useRef();b.current=p,k.useImperativeHandle(t,()=>g.current);var[y,_]=k.useState({containerWidth:n.width,containerHeight:n.height}),S=k.useCallback((T,F)=>{_(w=>{var C=Math.round(T),N=Math.round(F);return w.containerWidth===C&&w.containerHeight===N?w:{containerWidth:C,containerHeight:N}})},[]);k.useEffect(()=>{var T=N=>{var R,{width:D,height:O}=N[0].contentRect;S(D,O),(R=b.current)===null||R===void 0||R.call(b,D,O)};d>0&&(T=rZe(T,d,{trailing:!0,leading:!1}));var F=new ResizeObserver(T),{width:w,height:C}=g.current.getBoundingClientRect();return S(w,C),F.observe(g.current),()=>{F.disconnect()}},[S,d]);var I=k.useMemo(()=>{var{containerWidth:T,containerHeight:F}=y;if(T<0||F<0)return null;Rb(Um(a)||Um(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,s),Rb(!r||r>0,"The aspect(%s) must be greater than zero.",r);var w=Um(a)?T:a,C=Um(s)?F:s;return r&&r>0&&(w?C=w/r:C&&(w=C*r),l&&C>l&&(C=l)),Rb(w>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,w,C,a,s,i,o,r),k.Children.map(u,N=>k.cloneElement(N,{width:w,height:C,style:v3({width:w,height:C},N.props.style)}))},[r,u,s,l,o,i,y,a]);return k.createElement("div",{id:f?"".concat(f):void 0,className:dn("recharts-responsive-container",m),style:v3(v3({},x),{},{width:a,height:s,minWidth:i,minHeight:o,maxHeight:l}),ref:g},k.createElement("div",{style:{width:0,height:0,overflow:"visible"}},I))}),kw=e=>null;kw.displayName="Cell";function iZe(e,t,r){return(t=oZe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oZe(e){var t=lZe(e,"string");return typeof t=="symbol"?t:t+""}function lZe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class cZe{constructor(t){iZe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function TK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uZe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TK(Object(r),!0).forEach(function(n){dZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dZe(e,t,r){return(t=AZe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AZe(e){var t=fZe(e,"string");return typeof t=="symbol"?t:t+""}function fZe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hZe={cacheSize:2e3,enableCache:!0},roe=uZe({},hZe),IK=new cZe(roe.cacheSize),mZe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jK="recharts_measurement_span";function pZe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(o)}var FK=(e,t)=>{try{var r=document.getElementById(jK);r||(r=document.createElement("span"),r.setAttribute("id",jK),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,mZe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Lb=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Pp.isSsr)return{width:0,height:0};if(!roe.enableCache)return FK(t,r);var n=pZe(t,r),a=IK.get(n);if(a)return a;var s=FK(t,r);return IK.set(n,s),s},OK=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DK=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gZe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vZe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,noe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xZe=Object.keys(noe),tv="NaN";function bZe(e,t){return e*noe[t]}class Cl{static parse(t){var r,[,n,a]=(r=vZe.exec(t))!==null&&r!==void 0?r:[];return new Cl(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,xc(t)&&(this.unit=""),r!==""&&!gZe.test(r)&&(this.num=NaN,this.unit=""),xZe.includes(r)&&(this.num=bZe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Cl(NaN,""):new Cl(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Cl(NaN,""):new Cl(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Cl(NaN,""):new Cl(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Cl(NaN,""):new Cl(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return xc(this.num)}}function aoe(e){if(e.includes(tv))return tv;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=OK.exec(t))!==null&&r!==void 0?r:[],i=Cl.parse(n??""),o=Cl.parse(s??""),l=a==="*"?i.multiply(o):i.divide(o);if(l.isNaN())return tv;t=t.replace(OK,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,m]=(u=DK.exec(t))!==null&&u!==void 0?u:[],p=Cl.parse(d??""),x=Cl.parse(m??""),g=f==="+"?p.add(x):p.subtract(x);if(g.isNaN())return tv;t=t.replace(DK,g.toString())}return t}var PK=/\(([^()]*)\)/;function yZe(e){for(var t=e,r;(r=PK.exec(t))!=null;){var[,n]=r;t=t.replace(PK,aoe(n))}return t}function wZe(e){var t=e.replace(/\s+/g,"");return t=yZe(t),t=aoe(t),t}function EZe(e){try{return wZe(e)}catch{return tv}}function x3(e){var t=EZe(e.slice(5,-1));return t===tv?"":t}var CZe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_Ze=["dx","dy","angle","className","breakAll"];function _F(){return _F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_F.apply(null,arguments)}function RK(e,t){if(e==null)return{};var r,n,a=SZe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function SZe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var soe=/[ \f\n\r\t\v\u2028\u2029]+/,ioe=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];gs(t)||(r?a=t.toString().split(""):a=t.toString().split(soe));var s=a.map(o=>({word:o,width:Lb(o,n).width})),i=r?0:Lb(" ",n).width;return{wordsWithComputedWidth:s,spaceWidth:i}}catch{return null}},NZe=(e,t,r,n,a)=>{var{maxLines:s,children:i,style:o,breakAll:l}=e,u=sr(s),d=i,f=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce((O,M)=>{var{word:Q,width:ee}=M,W=O[O.length-1];if(W&&(n==null||a||W.width+ee+r<Number(n)))W.words.push(Q),W.width+=ee+r;else{var Z={words:[Q],width:ee};O.push(Z)}return O},[])},m=f(t),p=R=>R.reduce((D,O)=>D.width>O.width?D:O);if(!u||a)return m;var x=m.length>s||p(m).width>Number(n);if(!x)return m;for(var g="…",b=R=>{var D=d.slice(0,R),O=ioe({breakAll:l,style:o,children:D+g}).wordsWithComputedWidth,M=f(O),Q=M.length>s||p(M).width>Number(n);return[Q,M]},y=0,_=d.length-1,S=0,I;y<=_&&S<=d.length-1;){var T=Math.floor((y+_)/2),F=T-1,[w,C]=b(F),[N]=b(T);if(!w&&!N&&(y=T+1),w&&N&&(_=T-1),!w&&N){I=C;break}S++}return I||m},LK=e=>{var t=gs(e)?[]:e.toString().split(soe);return[{words:t}]},BZe=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:i}=e;if((t||r)&&!Pp.isSsr){var o,l,u=ioe({breakAll:s,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,l=f}else return LK(n);return NZe({breakAll:s,children:n,maxLines:i,style:a},o,l,t,r)}return LK(n)},UK="#808080",Ix=k.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:s="0.71em",scaleToFit:i=!1,textAnchor:o="start",verticalAnchor:l="end",fill:u=UK}=e,d=RK(e,CZe),f=k.useMemo(()=>BZe({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:i,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,i,d.style,d.width]),{dx:m,dy:p,angle:x,className:g,breakAll:b}=d,y=RK(d,_Ze);if(!gA(r)||!gA(n))return null;var _=r+(sr(m)?m:0),S=n+(sr(p)?p:0),I;switch(l){case"start":I=x3("calc(".concat(s,")"));break;case"middle":I=x3("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:I=x3("calc(".concat(f.length-1," * -").concat(a,")"));break}var T=[];if(i){var F=f[0].width,{width:w}=d;T.push("scale(".concat(sr(w)?w/F:1,")"))}return x&&T.push("rotate(".concat(x,", ").concat(_,", ").concat(S,")")),T.length&&(y.transform=T.join(" ")),k.createElement("text",_F({},Qn(y,!0),{ref:t,x:_,y:S,className:dn("recharts-text",g),textAnchor:o,fill:u.includes("url")?UK:u}),f.map((C,N)=>{var R=C.words.join(b?"":" ");return k.createElement("tspan",{x:_,dy:N===0?I:a,key:"".concat(R,"-").concat(N)},R)}))});Ix.displayName="Text";var kZe=["offset"],TZe=["labelRef"];function MK(e,t){if(e==null)return{};var r,n,a=IZe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IZe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QK(Object(r),!0).forEach(function(n){jZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jZe(e,t,r){return(t=FZe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FZe(e){var t=OZe(e,"string");return typeof t=="symbol"?t:t+""}function OZe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sf.apply(null,arguments)}var DZe=e=>{var{value:t,formatter:r}=e,n=gs(e.children)?t:e.children;return typeof r=="function"?r(n):n},eR=e=>e!=null&&typeof e=="function",PZe=(e,t)=>{var r=Li(t-e),n=Math.min(Math.abs(t-e),360);return r*n},RZe=(e,t,r,n)=>{var{position:a,offset:s,className:i}=e,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:f,endAngle:m,clockWise:p}=n,x=(u+d)/2,g=PZe(f,m),b=g>=0?1:-1,y,_;a==="insideStart"?(y=f+b*s,_=p):a==="insideEnd"?(y=m-b*s,_=!p):a==="end"&&(y=m+b*s,_=p),_=g<=0?_:!_;var S=$n(o,l,x,y),I=$n(o,l,x,y+(_?1:-1)*359),T="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(I.x,",").concat(I.y),F=gs(e.id)?Ny("recharts-radial-line-"):e.id;return k.createElement("text",sf({},r,{dominantBaseline:"central",className:dn("recharts-radial-bar-label",i)}),k.createElement("defs",null,k.createElement("path",{id:F,d:T})),k.createElement("textPath",{xlinkHref:"#".concat(F)},t))},LZe=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(r==="outside"){var{x:d,y:f}=$n(n,a,i+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(s+i)/2,{x:p,y:x}=$n(n,a,m,u);return{x:p,y:x,textAnchor:"middle",verticalAnchor:"middle"}},UZe=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,{x:s,y:i,width:o,height:l}=t,u=l>=0?1:-1,d=u*n,f=u>0?"end":"start",m=u>0?"start":"end",p=o>=0?1:-1,x=p*n,g=p>0?"end":"start",b=p>0?"start":"end";if(a==="top"){var y={x:s+o/2,y:i-u*n,textAnchor:"middle",verticalAnchor:f};return cs(cs({},y),r?{height:Math.max(i-r.y,0),width:o}:{})}if(a==="bottom"){var _={x:s+o/2,y:i+l+d,textAnchor:"middle",verticalAnchor:m};return cs(cs({},_),r?{height:Math.max(r.y+r.height-(i+l),0),width:o}:{})}if(a==="left"){var S={x:s-x,y:i+l/2,textAnchor:g,verticalAnchor:"middle"};return cs(cs({},S),r?{width:Math.max(S.x-r.x,0),height:l}:{})}if(a==="right"){var I={x:s+o+x,y:i+l/2,textAnchor:b,verticalAnchor:"middle"};return cs(cs({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:l}:{})}var T=r?{width:o,height:l}:{};return a==="insideLeft"?cs({x:s+x,y:i+l/2,textAnchor:b,verticalAnchor:"middle"},T):a==="insideRight"?cs({x:s+o-x,y:i+l/2,textAnchor:g,verticalAnchor:"middle"},T):a==="insideTop"?cs({x:s+o/2,y:i+d,textAnchor:"middle",verticalAnchor:m},T):a==="insideBottom"?cs({x:s+o/2,y:i+l-d,textAnchor:"middle",verticalAnchor:f},T):a==="insideTopLeft"?cs({x:s+x,y:i+d,textAnchor:b,verticalAnchor:m},T):a==="insideTopRight"?cs({x:s+o-x,y:i+d,textAnchor:g,verticalAnchor:m},T):a==="insideBottomLeft"?cs({x:s+x,y:i+l-d,textAnchor:b,verticalAnchor:f},T):a==="insideBottomRight"?cs({x:s+o-x,y:i+l-d,textAnchor:g,verticalAnchor:f},T):a&&typeof a=="object"&&(sr(a.x)||Um(a.x))&&(sr(a.y)||Um(a.y))?cs({x:s+sl(a.x,o),y:i+sl(a.y,l),textAnchor:"end",verticalAnchor:"end"},T):cs({x:s+o/2,y:i+l/2,textAnchor:"middle",verticalAnchor:"middle"},T)},MZe=e=>"cx"in e&&sr(e.cx);function Bl(e){var{offset:t=5}=e,r=MK(e,kZe),n=cs({offset:t},r),{viewBox:a,position:s,value:i,children:o,content:l,className:u="",textBreakAll:d,labelRef:f}=n,m=nr(Cx),p=pP(),x=s==="center"?p:m??p,g=a||x;if(!g||gs(i)&&gs(o)&&!k.isValidElement(l)&&typeof l!="function")return null;var b=cs(cs({},n),{},{viewBox:g});if(k.isValidElement(l)){var{labelRef:y}=b,_=MK(b,TZe);return k.cloneElement(l,_)}var S;if(typeof l=="function"){if(S=k.createElement(l,b),k.isValidElement(S))return S}else S=DZe(n);var I=MZe(g),T=Qn(n,!0);if(I&&(s==="insideStart"||s==="insideEnd"||s==="end"))return RZe(n,S,T,g);var F=I?LZe(g,n.offset,n.position):UZe(n,g);return k.createElement(Ix,sf({ref:f,className:dn("recharts-label",u)},T,F,{breakAll:d}),S)}Bl.displayName="Label";var ooe=e=>{var{cx:t,cy:r,angle:n,startAngle:a,endAngle:s,r:i,radius:o,innerRadius:l,outerRadius:u,x:d,y:f,top:m,left:p,width:x,height:g,clockWise:b,labelViewBox:y}=e;if(y)return y;if(sr(x)&&sr(g)){if(sr(d)&&sr(f))return{x:d,y:f,width:x,height:g};if(sr(m)&&sr(p))return{x:m,y:p,width:x,height:g}}if(sr(d)&&sr(f))return{x:d,y:f,width:0,height:0};if(sr(t)&&sr(r))return{cx:t,cy:r,startAngle:a||n||0,endAngle:s||n||0,innerRadius:l||0,outerRadius:u||o||i||0,clockWise:b};if(e.viewBox)return e.viewBox},QZe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?k.createElement(Bl,sf({key:"label-implicit"},n)):gA(e)?k.createElement(Bl,sf({key:"label-implicit",value:e},n)):k.isValidElement(e)?e.type===Bl?k.cloneElement(e,cs({key:"label-implicit"},n)):k.createElement(Bl,sf({key:"label-implicit",content:e},n)):eR(e)?k.createElement(Bl,sf({key:"label-implicit",content:e},n)):e&&typeof e=="object"?k.createElement(Bl,sf({},e,{key:"label-implicit"},n)):null},HZe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:a,labelRef:s}=t,i=ooe(t),o=xw(a,Bl).map((u,d)=>k.cloneElement(u,{viewBox:r||i,key:"label-".concat(d)}));if(!n)return o;var l=QZe(t.label,r||i,s);return[l,...o]};Bl.parseViewBox=ooe;Bl.renderCallByParent=HZe;var b3={},y3={},HK;function VZe(){return HK||(HK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t}(y3)),y3}var w3={},VK;function zZe(){return VK||(VK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t}(w3)),w3}var zK;function $Ze(){return zK||(zK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VZe(),r=zZe(),n=rP();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a}(b3)),b3}var E3,$K;function KZe(){return $K||($K=1,E3=$Ze().last),E3}var GZe=KZe();const loe=il(GZe);var qZe=["valueAccessor"],WZe=["data","dataKey","clockWise","id","textBreakAll"];function OS(){return OS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OS.apply(null,arguments)}function KK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KK(Object(r),!0).forEach(function(n){XZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XZe(e,t,r){return(t=YZe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YZe(e){var t=JZe(e,"string");return typeof t=="symbol"?t:t+""}function JZe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qK(e,t){if(e==null)return{};var r,n,a=ZZe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZZe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eet=e=>Array.isArray(e.value)?loe(e.value):e.value;function x0(e){var{valueAccessor:t=eet}=e,r=qK(e,qZe),{data:n,dataKey:a,clockWise:s,id:i,textBreakAll:o}=r,l=qK(r,WZe);return!n||!n.length?null:k.createElement(Za,{className:"recharts-label-list"},n.map((u,d)=>{var f=gs(a)?t(u,d):ka(u&&u.payload,a),m=gs(i)?{}:{id:"".concat(i,"-").concat(d)};return k.createElement(Bl,OS({},Qn(u,!0),l,m,{parentViewBox:u.parentViewBox,value:f,textBreakAll:o,viewBox:Bl.parseViewBox(gs(s)?u:GK(GK({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}x0.displayName="LabelList";function tet(e,t){return e?e===!0?k.createElement(x0,{key:"labelList-implicit",data:t}):k.isValidElement(e)||eR(e)?k.createElement(x0,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?k.createElement(x0,OS({data:t},e,{key:"labelList-implicit"})):null:null}function ret(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,a=xw(n,x0).map((i,o)=>k.cloneElement(i,{data:t,key:"labelList-".concat(o)}));if(!r)return a;var s=tet(e.label,t);return[s,...a]}x0.renderCallByParent=ret;var net=["points","className","baseLinePoints","connectNulls"];function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rv.apply(null,arguments)}function aet(e,t){if(e==null)return{};var r,n,a=set(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function set(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WK=e=>e&&e.x===+e.x&&e.y===+e.y,iet=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(n=>{WK(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),WK(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Ub=(e,t)=>{var r=iet(e);t&&(r=[r.reduce((a,s)=>[...a,...s],[])]);var n=r.map(a=>a.reduce((s,i,o)=>"".concat(s).concat(o===0?"M":"L").concat(i.x,",").concat(i.y),"")).join("");return r.length===1?"".concat(n,"Z"):n},oet=(e,t,r)=>{var n=Ub(e,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(Ub(t.reverse(),r).slice(1))},coe=e=>{var{points:t,className:r,baseLinePoints:n,connectNulls:a}=e,s=aet(e,net);if(!t||!t.length)return null;var i=dn("recharts-polygon",r);if(n&&n.length){var o=s.stroke&&s.stroke!=="none",l=oet(t,n,a);return k.createElement("g",{className:i},k.createElement("path",rv({},Qn(s,!0),{fill:l.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:l})),o?k.createElement("path",rv({},Qn(s,!0),{fill:"none",d:Ub(t,a)})):null,o?k.createElement("path",rv({},Qn(s,!0),{fill:"none",d:Ub(n,a)})):null)}var u=Ub(t,a);return k.createElement("path",rv({},Qn(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:i,d:u}))};function SF(){return SF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SF.apply(null,arguments)}var tR=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=dn("recharts-dot",a);return t===+t&&r===+r&&n===+n?k.createElement("circle",SF({},zo(e),tP(e),{className:s,cx:t,cy:r,r:n})):null},rR=e=>e.graphicalItems.polarItems,cet=at([Ea,Ew],BP),nR=at([rR,Rs,cet],TP),uet=at([nR],IP),aR=at([uet,PN],jP),uoe=at([aR,Rs,nR],OP),det=at([aR,Rs,nR],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,i=ka(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:i,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ka(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),XK=()=>{},Aet=at([Rs,pie,XK,det,XK,bn,Ea],PP),doe=at([Rs,bn,aR,uoe,yw,Ea,Aet],RP),Aoe=at([doe,Rs,q0],UP),fet=at([Rs,doe,Aoe,Ea],QP),sR=(e,t,r)=>{switch(t){case"angleAxis":return Ex(e,r);case"radiusAxis":return ww(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},iR=(e,t,r)=>{switch(t){case"angleAxis":return kXe(e,r);case"radiusAxis":return TXe(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},jx=at([sR,q0,fet,iR],VN),foe=at([bn,uoe,Sx,Ea],HP),Fx=at([bn,sR,q0,jx,Aoe,iR,Sw,foe,Ea],_ie);at([bn,sR,jx,iR,Sw,foe,Ea],Nie);var het=(e,t)=>Fx(e,"angleAxis",t,!1),met=at([het],e=>{if(e)return e.map(t=>t.coordinate)}),pet=(e,t)=>Fx(e,"radiusAxis",t,!1),get=at([pet],e=>{if(e)return e.map(t=>t.coordinate)}),vet=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function xet(e,t){if(e==null)return{};var r,n,a=bet(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bet(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pf.apply(null,arguments)}function YK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YK(Object(r),!0).forEach(function(n){yet(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yet(e,t,r){return(t=wet(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wet(e){var t=Eet(e,"string");return typeof t=="symbol"?t:t+""}function Eet(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cet=(e,t,r,n)=>{var a="";return n.forEach((s,i)=>{var o=$n(t,r,e,s);i?a+="L ".concat(o.x,",").concat(o.y):a+="M ".concat(o.x,",").concat(o.y)}),a+="Z",a},_et=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,polarAngles:s,radialLines:i}=e;if(!s||!s.length||!i)return null;var o=Zv({stroke:"#ccc"},zo(e));return k.createElement("g",{className:"recharts-polar-grid-angle"},s.map(l=>{var u=$n(t,r,n,l),d=$n(t,r,a,l);return k.createElement("line",Pf({},o,{key:"line-".concat(l),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},Net=e=>{var{cx:t,cy:r,radius:n,index:a}=e,s=Zv(Zv({stroke:"#ccc"},zo(e)),{},{fill:"none"});return k.createElement("circle",Pf({},s,{className:dn("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(a),cx:t,cy:r,r:n}))},Bet=e=>{var{radius:t,index:r}=e,n=Zv(Zv({stroke:"#ccc"},zo(e)),{},{fill:"none"});return k.createElement("path",Pf({},n,{className:dn("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:Cet(t,e.cx,e.cy,e.polarAngles)}))},ket=e=>{var{polarRadius:t,gridType:r}=e;return!t||!t.length?null:k.createElement("g",{className:"recharts-polar-grid-concentric"},t.map((n,a)=>{var s=a;return r==="circle"?k.createElement(Net,Pf({key:s},e,{radius:n,index:a})):k.createElement(Bet,Pf({key:s},e,{radius:n,index:a}))}))},hoe=e=>{var t,r,n,a,s,i,o,l,{gridType:u="polygon",radialLines:d=!0,angleAxisId:f=0,radiusAxisId:m=0,cx:p,cy:x,innerRadius:g,outerRadius:b}=e,y=xet(e,vet),_=nr(Cx),S=Zv({cx:(t=(r=_==null?void 0:_.cx)!==null&&r!==void 0?r:p)!==null&&t!==void 0?t:0,cy:(n=(a=_==null?void 0:_.cy)!==null&&a!==void 0?a:x)!==null&&n!==void 0?n:0,innerRadius:(s=(i=_==null?void 0:_.innerRadius)!==null&&i!==void 0?i:g)!==null&&s!==void 0?s:0,outerRadius:(o=(l=_==null?void 0:_.outerRadius)!==null&&l!==void 0?l:b)!==null&&o!==void 0?o:0},y),{polarAngles:I,polarRadius:T,cx:F,cy:w,innerRadius:C,outerRadius:N}=S,R=nr(Q=>met(Q,f)),D=nr(Q=>get(Q,m)),O=Array.isArray(I)?I:R,M=Array.isArray(T)?T:D;return N<=0||O==null||M==null?null:k.createElement("g",{className:"recharts-polar-grid"},k.createElement(_et,Pf({cx:F,cy:w,innerRadius:C,outerRadius:N,gridType:u,radialLines:d},S,{polarAngles:O,polarRadius:M})),k.createElement(ket,Pf({cx:F,cy:w,innerRadius:C,outerRadius:N,gridType:u,radialLines:d},S,{polarAngles:O,polarRadius:M})))};hoe.displayName="PolarGrid";var C3={},_3={},JK;function Tet(){return JK||(JK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let a=r[0],s=n(a);for(let i=1;i<r.length;i++){const o=r[i],l=n(o);l>s&&(s=l,a=o)}return a}e.maxBy=t}(_3)),_3}var ZK;function Iet(){return ZK||(ZK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tet(),r=_N(),n=oP();function a(s,i){if(s!=null)return t.maxBy(Array.from(s),n.iteratee(i??r.identity))}e.maxBy=a}(C3)),C3}var S3,eG;function jet(){return eG||(eG=1,S3=Iet().maxBy),S3}var Fet=jet();const Oet=il(Fet);var N3={},B3={},tG;function Det(){return tG||(tG=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let a=r[0],s=n(a);for(let i=1;i<r.length;i++){const o=r[i],l=n(o);l<s&&(s=l,a=o)}return a}e.minBy=t}(B3)),B3}var rG;function Pet(){return rG||(rG=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Det(),r=_N(),n=oP();function a(s,i){if(s!=null)return t.minBy(Array.from(s),n.iteratee(i??r.identity))}e.minBy=a}(N3)),N3}var k3,nG;function Ret(){return nG||(nG=1,k3=Pet().minBy),k3}var Let=Ret();const Uet=il(Let);var Met={radiusAxis:{},angleAxis:{}},moe=Ec({name:"polarAxis",initialState:Met,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Qet,removeRadiusAxis:Het,addAngleAxis:Vet,removeAngleAxis:zet}=moe.actions,$et=moe.reducer,Ket=["cx","cy","angle","axisLine"],Get=["angle","tickFormatter","stroke","tick"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(null,arguments)}function aG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aG(Object(r),!0).forEach(function(n){GN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GN(e,t,r){return(t=qet(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qet(e){var t=Wet(e,"string");return typeof t=="symbol"?t:t+""}function Wet(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function poe(e,t){if(e==null)return{};var r,n,a=Xet(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xet(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var goe="radiusAxis";function Yet(e){var t=es();return k.useEffect(()=>(t(Qet(e)),()=>{t(Het(e))})),null}var Jet=(e,t,r,n)=>{var{coordinate:a}=e;return $n(r,n,a,t)},Zet=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},ett=(e,t,r,n)=>{var a=Oet(n,i=>i.coordinate||0),s=Uet(n,i=>i.coordinate||0);return{cx:t,cy:r,startAngle:e,endAngle:e,innerRadius:s.coordinate||0,outerRadius:a.coordinate||0}},ttt=(e,t)=>{var{cx:r,cy:n,angle:a,axisLine:s}=e,i=poe(e,Ket),o=t.reduce((f,m)=>[Math.min(f[0],m.coordinate),Math.max(f[1],m.coordinate)],[1/0,-1/0]),l=$n(r,n,o[0],a),u=$n(r,n,o[1],a),d=sA(sA(sA({},zo(i)),{},{fill:"none"},Qn(s,!1)),{},{x1:l.x,y1:l.y,x2:u.x,y2:u.y});return k.createElement("line",Oy({className:"recharts-polar-radius-axis-line"},d))},rtt=(e,t,r)=>{var n;return k.isValidElement(e)?n=k.cloneElement(e,t):typeof e=="function"?n=e(t):n=k.createElement(Ix,Oy({},t,{className:"recharts-polar-radius-axis-tick-value"}),r),n},ntt=(e,t)=>{var{angle:r,tickFormatter:n,stroke:a,tick:s}=e,i=poe(e,Get),o=Zet(e.orientation),l=zo(i),u=Qn(s,!1),d=t.map((f,m)=>{var p=Jet(f,e.angle,e.cx,e.cy),x=sA(sA(sA(sA({textAnchor:o,transform:"rotate(".concat(90-r,", ").concat(p.x,", ").concat(p.y,")")},l),{},{stroke:"none",fill:a},u),{},{index:m},p),{},{payload:f});return k.createElement(Za,Oy({className:dn("recharts-polar-radius-axis-tick",ise(s)),key:"tick-".concat(f.coordinate)},xx(e,f,m)),rtt(s,x,n?n(f.value,m):f.value))});return k.createElement(Za,{className:"recharts-polar-radius-axis-ticks"},d)},att=e=>{var{radiusAxisId:t}=e,r=nr(Cx),n=nr(l=>jx(l,"radiusAxis",t)),a=nr(l=>Fx(l,"radiusAxis",t,!1));if(r==null||!a||!a.length)return null;var s=sA(sA(sA({},e),{},{scale:n},r),{},{radius:r.outerRadius}),{tick:i,axisLine:o}=s;return k.createElement(Za,{className:dn("recharts-polar-radius-axis",goe,s.className)},o&&ttt(s,a),i&&ntt(s,a),Bl.renderCallByParent(s,ett(s.angle,s.cx,s.cy,a)))};class qN extends k.PureComponent{render(){return k.createElement(k.Fragment,null,k.createElement(Yet,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),k.createElement(att,this.props))}}GN(qN,"displayName","PolarRadiusAxis");GN(qN,"axisType",goe);GN(qN,"defaultProps",Nl);var stt=["children"];function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rf.apply(null,arguments)}function sG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sG(Object(r),!0).forEach(function(n){WN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WN(e,t,r){return(t=itt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function itt(e){var t=ott(e,"string");return typeof t=="symbol"?t:t+""}function ott(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ltt(e,t){if(e==null)return{};var r,n,a=ctt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ctt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var utt=Math.PI/180,iG=1e-5,voe="angleAxis";function dtt(e){var t=es(),r=k.useMemo(()=>{var{children:s}=e,i=ltt(e,stt);return i},[e]),n=nr(s=>Ex(s,r.id)),a=r===n;return k.useEffect(()=>(t(Vet(r)),()=>{t(zet(r))}),[t,r]),a?e.children:null}var Att=(e,t)=>{var{cx:r,cy:n,radius:a,orientation:s,tickSize:i}=t,o=i||8,l=$n(r,n,a,e.coordinate),u=$n(r,n,a+(s==="inner"?-1:1)*o,e.coordinate);return{x1:l.x,y1:l.y,x2:u.x,y2:u.y}},ftt=(e,t)=>{var r=Math.cos(-e.coordinate*utt);return r>iG?t==="outer"?"start":"end":r<-iG?t==="outer"?"end":"start":"middle"},htt=e=>{var{cx:t,cy:r,radius:n,axisLineType:a,axisLine:s,ticks:i}=e;if(!s)return null;var o=eA(eA({},zo(e)),{},{fill:"none"},Qn(s,!1));if(a==="circle")return k.createElement(tR,Rf({className:"recharts-polar-angle-axis-line"},o,{cx:t,cy:r,r:n}));var l=i.map(u=>$n(t,r,n,u.coordinate));return k.createElement(coe,Rf({className:"recharts-polar-angle-axis-line"},o,{points:l}))},mtt=e=>{var{tick:t,tickProps:r,value:n}=e;return t?k.isValidElement(t)?k.cloneElement(t,r):typeof t=="function"?t(r):k.createElement(Ix,Rf({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},ptt=e=>{var{tick:t,tickLine:r,tickFormatter:n,stroke:a,ticks:s}=e,i=zo(e),o=Qn(t,!1),l=eA(eA({},i),{},{fill:"none"},Qn(r,!1)),u=s.map((d,f)=>{var m=Att(d,e),p=ftt(d,e.orientation),x=eA(eA(eA({},i),{},{textAnchor:p,stroke:"none",fill:a},o),{},{index:f,payload:d,x:m.x2,y:m.y2});return k.createElement(Za,Rf({className:dn("recharts-polar-angle-axis-tick",ise(t)),key:"tick-".concat(d.coordinate)},xx(e,d,f)),r&&k.createElement("line",Rf({className:"recharts-polar-angle-axis-tick-line"},l,m)),k.createElement(mtt,{tick:t,tickProps:x,value:n?n(d.value,f):d.value}))});return k.createElement(Za,{className:"recharts-polar-angle-axis-ticks"},u)},gtt=e=>{var{angleAxisId:t}=e,r=nr(Cx),n=nr(o=>jx(o,"angleAxis",t)),a=Rl(),s=nr(o=>Fx(o,"angleAxis",t,a));if(r==null||!s||!s.length)return null;var i=eA(eA(eA({},e),{},{scale:n},r),{},{radius:r.outerRadius});return k.createElement(Za,{className:dn("recharts-polar-angle-axis",voe,i.className)},k.createElement(htt,Rf({},i,{ticks:s})),k.createElement(ptt,Rf({},i,{ticks:s})))};class XN extends k.PureComponent{render(){return this.props.radius<=0?null:k.createElement(dtt,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},k.createElement(gtt,this.props))}}WN(XN,"displayName","PolarAngleAxis");WN(XN,"axisType",voe);WN(XN,"defaultProps",Zd);function oG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oG(Object(r),!0).forEach(function(n){vtt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vtt(e,t,r){return(t=xtt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xtt(e){var t=btt(e,"string");return typeof t=="symbol"?t:t+""}function btt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ytt=(e,t)=>t,oR=at([rR,ytt],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),wtt=[],lR=(e,t,r)=>(r==null?void 0:r.length)===0?wtt:r,xoe=at([PN,oR,lR],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>lG(lG({},t.presentationProps),s.props))),a!=null)return a}}),Ett=at([xoe,oR,lR],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,i=ka(n,t.nameKey,t.name),o;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:bx(i,t.dataKey),color:o,payload:n,type:t.legendType}})}),Ctt=at([xoe,oR,lR,vi],(e,t,r,n)=>{if(!(t==null||e==null))return grt({offset:n,pieSettings:t,displayedData:e,cells:r})}),T3={},cG;function _tt(){return cG||(cG=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t}(T3)),T3}var I3,uG;function Stt(){return uG||(uG=1,I3=_tt().isPlainObject),I3}var Ntt=Stt();const Btt=il(Ntt);function DS(){return DS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DS.apply(null,arguments)}var dG=(e,t,r,n,a)=>{var s=r-n,i;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-s/2,",").concat(t+a),i+="L ".concat(e+r-s/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z"),i},ktt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ttt=e=>{var t=bu(e,ktt),r=k.useRef(),[n,a]=k.useState(-1);k.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&a(b)}catch{}},[]);var{x:s,y:i,upperWidth:o,lowerWidth:l,height:u,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:p,isUpdateAnimationActive:x}=t;if(s!==+s||i!==+i||o!==+o||l!==+l||u!==+u||o===0&&l===0||u===0)return null;var g=dn("recharts-trapezoid",d);return x?k.createElement(BS,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:i},to:{upperWidth:o,lowerWidth:l,height:u,x:s,y:i},duration:m,animationEasing:f,isActive:x},b=>{var{upperWidth:y,lowerWidth:_,height:S,x:I,y:T}=b;return k.createElement(BS,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:m,easing:f},k.createElement("path",DS({},Qn(t,!0),{className:g,d:dG(I,T,y,_,S),ref:r})))}):k.createElement("g",null,k.createElement("path",DS({},Qn(t,!0),{className:g,d:dG(s,i,o,l,u)})))},Itt=["option","shapeType","propTransformer","activeClassName","isActive"];function jtt(e,t){if(e==null)return{};var r,n,a=Ftt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ftt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function AG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AG(Object(r),!0).forEach(function(n){Ott(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ott(e,t,r){return(t=Dtt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dtt(e){var t=Ptt(e,"string");return typeof t=="symbol"?t:t+""}function Ptt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rtt(e,t){return PS(PS({},t),e)}function Ltt(e,t){return e==="symbols"}function fG(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return k.createElement(Bse,r);case"trapezoid":return k.createElement(Ttt,r);case"sector":return k.createElement(Ise,r);case"symbols":if(Ltt(t))return k.createElement(_ae,r);break;default:return null}}function Utt(e){return k.isValidElement(e)?e.props:e}function boe(e){var{option:t,shapeType:r,propTransformer:n=Rtt,activeClassName:a="recharts-active-shape",isActive:s}=e,i=jtt(e,Itt),o;if(k.isValidElement(t))o=k.cloneElement(t,PS(PS({},i),Utt(t)));else if(typeof t=="function")o=t(i);else if(Btt(t)&&typeof t!="boolean"){var l=n(t,i);o=k.createElement(fG,{shapeType:r,elementProps:l})}else{var u=i;o=k.createElement(fG,{shapeType:r,elementProps:u})}return s?k.createElement(Za,{className:a},o):o}var cR=(e,t)=>{var r=es();return(n,a)=>s=>{e==null||e(n,a,s),r(Fie({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},uR=e=>{var t=es();return(r,n)=>a=>{e==null||e(r,n,a),t(_Ye())}},dR=(e,t)=>{var r=es();return(n,a)=>s=>{e==null||e(n,a,s),r(SYe({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function AR(e){var{fn:t,args:r}=e,n=es(),a=Rl();return k.useEffect(()=>{if(!a){var s=t(r);return n(wYe(s)),()=>{n(EYe(s))}}},[t,r,n,a]),null}var yoe=()=>{};function Mtt(e){var{legendPayload:t}=e,r=es(),n=Rl();return k.useEffect(()=>n?yoe:(r(vse(t)),()=>{r(xse(t))}),[r,n,t]),null}function woe(e){var{legendPayload:t}=e,r=es(),n=nr(bn);return k.useEffect(()=>n!=="centric"&&n!=="radial"?yoe:(r(vse(t)),()=>{r(xse(t))}),[r,n,t]),null}function fR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=k.useRef(Ny(t)),n=k.useRef(e);return n.current!==e&&(r.current=Ny(t),n.current=e),r.current}var j3,Qtt=()=>{var[e]=k.useState(()=>Ny("uid-"));return e},Htt=(j3=xce.useId)!==null&&j3!==void 0?j3:Qtt;function Vtt(e,t){var r=Htt();return t||(e?"".concat(e,"-").concat(r):r)}var ztt=k.createContext(void 0),hR=e=>{var{id:t,type:r,children:n}=e,a=Vtt("recharts-".concat(r),t);return k.createElement(ztt.Provider,{value:a},n(a))},$tt={cartesianItems:[],polarItems:[]},Eoe=Ec({name:"graphicalItems",initialState:$tt,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=bf(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=bf(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=bf(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Ktt,replaceCartesianGraphicalItem:Gtt,removeCartesianGraphicalItem:qtt,addPolarGraphicalItem:Wtt,removePolarGraphicalItem:Xtt}=Eoe.actions,Ytt=Eoe.reducer;function Jtt(e){var t=es(),r=k.useRef(null);return k.useEffect(()=>{r.current===null?t(Ktt(e)):r.current!==e&&t(Gtt({prev:r.current,next:e})),r.current=e},[t,e]),k.useEffect(()=>()=>{r.current&&(t(qtt(r.current)),r.current=null)},[t]),null}function Coe(e){var t=es();return k.useEffect(()=>(t(Wtt(e)),()=>{t(Xtt(e))}),[t,e]),null}function Ztt(){}var ert={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},hG={t:0},F3={t:1};function mR(e){var t=bu(e,ert),{isActive:r,canBegin:n,duration:a,easing:s,begin:i,onAnimationEnd:o,onAnimationStart:l,children:u}=t,d=Nse("JavascriptAnimate",t.animationManager),[f,m]=k.useState(r?hG:F3),p=k.useRef(null);return k.useEffect(()=>{r||m(F3)},[r]),k.useEffect(()=>{if(!r||!n)return Ztt;var x=Sse(hG,F3,Cse(s),a,m,d.getTimeoutController()),g=()=>{p.current=x()};return d.start([l,i,g,a,o]),()=>{d.stop(),p.current&&p.current(),o()}},[r,n,a,s,i,l,o,d]),u(f.t)}var trt=["onMouseEnter","onClick","onMouseLeave"],rrt=["id"],nrt=["id"];function pR(e,t){if(e==null)return{};var r,n,a=art(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function art(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mG(Object(r),!0).forEach(function(n){srt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function srt(e,t,r){return(t=irt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function irt(e){var t=ort(e,"string");return typeof t=="symbol"?t:t+""}function ort(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lf.apply(null,arguments)}function lrt(e){var t=k.useMemo(()=>xw(e.children,kw),[e.children]),r=nr(n=>Ett(n,e.id,t));return r==null?null:k.createElement(woe,{legendPayload:r})}function crt(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:i,name:o,hide:l,tooltipType:u}=e;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:r,name:bx(o,t),hide:l,type:u,color:i,unit:""}}}var urt=(e,t)=>e>t?"start":e<t?"end":"middle",drt=(e,t,r)=>typeof t=="function"?t(e):sl(t,r,r*.8),Art=(e,t,r)=>{var{top:n,left:a,width:s,height:i}=t,o=sse(s,i),l=a+sl(e.cx,s,s/2),u=n+sl(e.cy,i,i/2),d=sl(e.innerRadius,o,0),f=drt(r,e.outerRadius,o),m=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:f,maxRadius:m}},frt=(e,t)=>{var r=Li(t-e),n=Math.min(Math.abs(t-e),360);return r*n},hrt=(e,t)=>{if(k.isValidElement(e))return k.cloneElement(e,t);if(typeof e=="function")return e(t);var r=dn("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return k.createElement(yse,Lf({},t,{type:"linear",className:r}))},mrt=(e,t,r)=>{if(k.isValidElement(e))return k.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),k.isValidElement(n)))return n;var a=dn("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return k.createElement(Ix,Lf({},t,{alignmentBaseline:"middle",className:a}),n)};function prt(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:i}=r;if(!n||!a||!t)return null;var o=zo(r),l=Qn(a,!1),u=Qn(s,!1),d=typeof a=="object"&&"offsetRadius"in a&&a.offsetRadius||20,f=t.map((m,p)=>{var x=(m.startAngle+m.endAngle)/2,g=$n(m.cx,m.cy,m.outerRadius+d,x),b=fs(fs(fs(fs({},o),m),{},{stroke:"none"},l),{},{index:p,textAnchor:urt(g.x,m.cx)},g),y=fs(fs(fs(fs({},o),m),{},{fill:"none",stroke:m.fill},u),{},{index:p,points:[$n(m.cx,m.cy,m.outerRadius,x),g],key:"line"});return k.createElement(Za,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(p)},s&&hrt(s,y),mrt(a,b,ka(m,i)))});return k.createElement(Za,{className:"recharts-pie-labels"},f)}function _oe(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,showLabels:s}=e,i=nr(P0),{onMouseEnter:o,onClick:l,onMouseLeave:u}=a,d=pR(a,trt),f=cR(o,a.dataKey),m=uR(u),p=dR(l,a.dataKey);return t==null?null:k.createElement(k.Fragment,null,t.map((x,g)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var b=r&&String(g)===i,y=i?n:null,_=b?r:y,S=fs(fs({},x),{},{stroke:x.stroke,tabIndex:-1,[dse]:g,[Ase]:a.dataKey});return k.createElement(Za,Lf({tabIndex:-1,className:"recharts-pie-sector"},xx(d,x,g),{onMouseEnter:f(x,g),onMouseLeave:m(x,g),onClick:p(x,g),key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(g)}),k.createElement(boe,Lf({option:_,isActive:b,shapeType:"sector"},S)))}),k.createElement(prt,{sectors:t,props:a,showLabels:s}))}function grt(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:i,startAngle:o,endAngle:l,dataKey:u,nameKey:d,tooltipType:f}=r,m=Math.abs(r.minAngle),p=frt(o,l),x=Math.abs(p),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,b=n.filter(F=>ka(F,u,0)!==0).length,y=(x>=360?b:b-1)*g,_=x-b*m-y,S=n.reduce((F,w)=>{var C=ka(w,u,0);return F+(sr(C)?C:0)},0),I;if(S>0){var T;I=n.map((F,w)=>{var C=ka(F,u,0),N=ka(F,d,w),R=Art(r,s,F),D=(sr(C)?C:0)/S,O,M=fs(fs({},F),a&&a[w]&&a[w].props);w?O=T.endAngle+Li(p)*g*(C!==0?1:0):O=o;var Q=O+Li(p)*((C!==0?m:0)+D*_),ee=(O+Q)/2,W=(R.innerRadius+R.outerRadius)/2,Z=[{name:N,value:C,payload:M,dataKey:u,type:f}],V=$n(R.cx,R.cy,W,ee);return T=fs(fs(fs(fs({},r.presentationProps),{},{percent:D,cornerRadius:i,name:N,tooltipPayload:Z,midAngle:ee,middleRadius:W,tooltipPosition:V},M),R),{},{value:ka(F,u),startAngle:O,endAngle:Q,payload:M,paddingAngle:Li(p)*g}),T})}return I}function vrt(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:s,animationDuration:i,animationEasing:o,activeShape:l,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,m=fR(t,"recharts-pie-"),p=r.current,[x,g]=k.useState(!0),b=k.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),y=k.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return k.createElement(mR,{begin:s,duration:i,isActive:a,easing:o,onAnimationStart:y,onAnimationEnd:b,key:m},_=>{var S=[],I=n&&n[0],T=I.startAngle;return n.forEach((F,w)=>{var C=p&&p[w],N=w>0?D0(F,"paddingAngle",0):0;if(C){var R=ev(C.endAngle-C.startAngle,F.endAngle-F.startAngle),D=fs(fs({},F),{},{startAngle:T+N,endAngle:T+R(_)+N});S.push(D),T=D.endAngle}else{var{endAngle:O,startAngle:M}=F,Q=ev(0,O-M),ee=Q(_),W=fs(fs({},F),{},{startAngle:T+N,endAngle:T+ee+N});S.push(W),T=W.endAngle}}),r.current=S,k.createElement(Za,null,k.createElement(_oe,{sectors:S,activeShape:l,inactiveShape:u,allOtherPieProps:t,showLabels:!x}))})}function xrt(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:a}=e,s=k.useRef(null),i=s.current;return r&&t&&t.length&&(!i||i!==t)?k.createElement(vrt,{props:e,previousSectorsRef:s}):k.createElement(_oe,{sectors:t,activeShape:n,inactiveShape:a,allOtherPieProps:e,showLabels:!0})}function brt(e){var{hide:t,className:r,rootTabIndex:n}=e,a=dn("recharts-pie",r);return t?null:k.createElement(Za,{tabIndex:n,className:a},k.createElement(xrt,e))}var yrt={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Pp.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function wrt(e){var{id:t}=e,r=pR(e,rrt),n=k.useMemo(()=>xw(e.children,kw),[e.children]),a=nr(s=>Ctt(s,t,n));return k.createElement(k.Fragment,null,k.createElement(AR,{fn:crt,args:fs(fs({},e),{},{sectors:a})}),k.createElement(brt,Lf({},r,{sectors:a})))}function Soe(e){var t=bu(e,yrt),{id:r}=t,n=pR(t,nrt),a=zo(n);return k.createElement(hR,{id:r,type:"pie"},s=>k.createElement(k.Fragment,null,k.createElement(Coe,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a}),k.createElement(lrt,Lf({},n,{id:s})),k.createElement(wrt,Lf({},n,{id:s})),n.children))}Soe.displayName="Pie";var Ert=at([vi],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Crt=at([Ert,Kf,Gf],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Noe=()=>nr(Crt),_rt=()=>nr(AJe);function pG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pG(Object(r),!0).forEach(function(n){Srt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Srt(e,t,r){return(t=Nrt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nrt(e){var t=Brt(e,"string");return typeof t=="symbol"?t:t+""}function Brt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var krt=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s}=e;if(a===!1||t.x==null||t.y==null)return null;var i=gG(gG({index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Qn(a,!1)),tP(a)),o;return k.isValidElement(a)?o=k.cloneElement(a,i):typeof a=="function"?o=a(i):o=k.createElement(tR,i),k.createElement(Za,{className:"recharts-active-dot"},o)};function Trt(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,s=nr(P0),i=_rt();if(t==null||i==null)return null;var o=t.find(l=>i.includes(l.payload));return gs(o)?null:krt({point:o,childIndex:Number(s),mainColor:r,dataKey:a,activeDot:n})}function vG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vG(Object(r),!0).forEach(function(n){Irt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Irt(e,t,r){return(t=jrt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jrt(e){var t=Frt(e,"string");return typeof t=="symbol"?t:t+""}function Frt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Boe=(e,t)=>jx(e,"radiusAxis",t),Ort=at([Boe],e=>{if(e!=null)return{scale:e}}),Drt=at([ww,Boe],(e,t)=>{if(!(e==null||t==null))return RS(RS({},e),{},{scale:t})}),Prt=(e,t,r,n)=>Fx(e,"radiusAxis",t,n),koe=(e,t,r)=>Ex(e,r),Toe=(e,t,r)=>jx(e,"angleAxis",r),Rrt=at([koe,Toe],(e,t)=>{if(!(e==null||t==null))return RS(RS({},e),{},{scale:t})}),Lrt=(e,t,r,n)=>Fx(e,"angleAxis",r,n),Urt=at([koe,Toe,Cx],(e,t,r)=>{if(!(r==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:r.cx,cy:r.cy}}),Mrt=(e,t,r,n,a)=>a,Qrt=at([bn,Drt,Prt,Rrt,Lrt],(e,t,r,n,a)=>$0(e,"radiusAxis")?Ty(t,r,!1):Ty(n,a,!1)),Hrt=at([rR,Mrt],(e,t)=>{if(e.some(r=>r.type==="radar"&&t===r.dataKey))return t}),Vrt=at([Ort,Urt,PN,Hrt,Qrt],(e,t,r,n,a)=>{var{chartData:s,dataStartIndex:i,dataEndIndex:o}=r;if(!(e==null||t==null||s==null||a==null||n==null)){var l=s.slice(i,o+1);return Jrt({radiusAxis:e,angleAxis:t,displayedData:l,dataKey:n,bandSize:a})}}),zrt=["id"];function $rt(e,t){if(e==null)return{};var r,n,a=Krt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Krt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function el(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xG(Object(r),!0).forEach(function(n){gR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gR(e,t,r){return(t=Grt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Grt(e){var t=qrt(e,"string");return typeof t=="symbol"?t:t+""}function qrt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ex.apply(null,arguments)}function vR(e,t){return e&&e!=="none"?e:t}var Wrt=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:vR(n,a),value:bx(r,t),payload:e}]};function Xrt(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:i,tooltipType:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,nameKey:void 0,dataKey:t,name:bx(s,t),hide:i,type:o,color:vR(r,a),unit:""}}}function Yrt(e,t){var r;return k.isValidElement(e)?r=k.cloneElement(e,t):typeof e=="function"?r=e(t):r=k.createElement(tR,ex({},t,{className:dn("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),r}function Jrt(e){var{radiusAxis:t,angleAxis:r,displayedData:n,dataKey:a,bandSize:s}=e,{cx:i,cy:o}=r,l=!1,u=[],d=r.type!=="number"?s??0:0;n.forEach((m,p)=>{var x=ka(m,r.dataKey,p),g=ka(m,a),b=r.scale(x)+d,y=Array.isArray(g)?loe(g):g,_=gs(y)?void 0:t.scale(y);Array.isArray(g)&&g.length>=2&&(l=!0),u.push(el(el({},$n(i,o,_,b)),{},{name:x,value:g,cx:i,cy:o,radius:_,angle:b,payload:m}))});var f=[];return l&&u.forEach(m=>{if(Array.isArray(m.value)){var p=m.value[0],x=gs(p)?void 0:t.scale(p);f.push(el(el({},m),{},{radius:x},$n(i,o,x,m.angle)))}else f.push(m)}),{points:u,isRange:l,baseLinePoints:f}}function Zrt(e){var{points:t,props:r}=e,{dot:n,dataKey:a}=r;if(!n)return null;var{id:s}=r,i=$rt(r,zrt),o=zo(i),l=Qn(n,!0),u=t.map((d,f)=>{var m=el(el(el({key:"dot-".concat(f),r:3},o),l),{},{dataKey:a,cx:d.x,cy:d.y,index:f,payload:d});return Yrt(n,m)});return k.createElement(Za,{className:"recharts-radar-dots"},u)}function Ioe(e){var{points:t,props:r,showLabels:n}=e;if(t==null)return null;var{shape:a,isRange:s,baseLinePoints:i,connectNulls:o}=r,l=f=>{var{onMouseEnter:m}=r;m&&m(r,f)},u=f=>{var{onMouseLeave:m}=r;m&&m(r,f)},d;return k.isValidElement(a)?d=k.cloneElement(a,el(el({},r),{},{points:t})):typeof a=="function"?d=a(el(el({},r),{},{points:t})):d=k.createElement(coe,ex({},Qn(r,!0),{onMouseEnter:l,onMouseLeave:u,points:t,baseLinePoints:s?i:null,connectNulls:o})),k.createElement(Za,{className:"recharts-radar-polygon"},d,k.createElement(Zrt,{props:r,points:t}),n&&x0.renderCallByParent(r,t))}function ent(e){var{props:t,previousPointsRef:r}=e,{points:n,isAnimationActive:a,animationBegin:s,animationDuration:i,animationEasing:o,onAnimationEnd:l,onAnimationStart:u}=t,d=r.current,f=fR(t,"recharts-radar-"),[m,p]=k.useState(!0),x=k.useCallback(()=>{typeof l=="function"&&l(),p(!1)},[l]),g=k.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return k.createElement(mR,{begin:s,duration:i,isActive:a,easing:o,key:"radar-".concat(f),onAnimationEnd:x,onAnimationStart:g},b=>{var y=d&&d.length/n.length,_=b===1?n:n.map((S,I)=>{var T=d&&d[Math.floor(I*y)];if(T){var F=ev(T.x,S.x),w=ev(T.y,S.y);return el(el({},S),{},{x:F(b),y:w(b)})}var C=ev(S.cx,S.x),N=ev(S.cy,S.y);return el(el({},S),{},{x:C(b),y:N(b)})});return b>0&&(r.current=_),k.createElement(Ioe,{points:_,props:t,showLabels:!m})})}function tnt(e){var{points:t,isAnimationActive:r,isRange:n}=e,a=k.useRef(void 0),s=a.current;return r&&t&&t.length&&!n&&(!s||s!==t)?k.createElement(ent,{props:e,previousPointsRef:a}):k.createElement(Ioe,{points:t,props:e,showLabels:!0})}var rnt={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Pp.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class nnt extends k.PureComponent{render(){var{hide:t,className:r,points:n}=this.props;if(t)return null;var a=dn("recharts-radar",r);return k.createElement(k.Fragment,null,k.createElement(Za,{className:a},k.createElement(tnt,this.props)),k.createElement(Trt,{points:n,mainColor:vR(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function ant(e){var t=Rl(),r=nr(n=>Vrt(n,e.radiusAxisId,e.angleAxisId,t,e.dataKey));return k.createElement(nnt,ex({},e,{points:r==null?void 0:r.points,baseLinePoints:r==null?void 0:r.baseLinePoints,isRange:r==null?void 0:r.isRange}))}class xR extends k.PureComponent{render(){return k.createElement(hR,{id:this.props.id,type:"radar"},t=>k.createElement(k.Fragment,null,k.createElement(Coe,{type:"radar",id:t,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),k.createElement(woe,{legendPayload:Wrt(this.props)}),k.createElement(AR,{fn:Xrt,args:this.props}),k.createElement(ant,ex({},this.props,{id:t}))))}}gR(xR,"displayName","Radar");gR(xR,"defaultProps",rnt);var snt="Invariant failed";function int(e,t){throw new Error(snt)}var ont=["x","y"];function NF(){return NF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NF.apply(null,arguments)}function bG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bG(Object(r),!0).forEach(function(n){lnt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lnt(e,t,r){return(t=cnt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cnt(e){var t=unt(e,"string");return typeof t=="symbol"?t:t+""}function unt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dnt(e,t){if(e==null)return{};var r,n,a=Ant(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ant(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fnt(e,t){var{x:r,y:n}=e,a=dnt(e,ont),s="".concat(r),i=parseInt(s,10),o="".concat(n),l=parseInt(o,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),m=parseInt(f,10);return H1(H1(H1(H1(H1({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function joe(e){return k.createElement(boe,NF({shapeType:"rectangle",propTransformer:fnt,activeClassName:"recharts-active-bar"},e))}var hnt=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(sr(t))return t;var s=sr(n)||gs(n);return s?t(n,a):(s||int(),r)}},mnt={},Foe=Ec({name:"errorBars",initialState:mnt,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:tot,removeErrorBar:rot}=Foe.actions,pnt=Foe.reducer,gnt=["children"];function vnt(e,t){if(e==null)return{};var r,n,a=xnt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xnt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bnt={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ynt=k.createContext(bnt);function wnt(e){var{children:t}=e,r=vnt(e,gnt);return k.createElement(ynt.Provider,{value:r},t)}function Ooe(e,t){var r,n,a=nr(u=>qf(u,e)),s=nr(u=>G0(u,t)),i=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ac.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:sc.allowDataOverflow,l=i||o;return{needClip:l,needClipX:i,needClipY:o}}function Ent(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Noe(),{needClipX:s,needClipY:i,needClip:o}=Ooe(t,r);if(!o)return null;var{x:l,y:u,width:d,height:f}=a;return k.createElement("clipPath",{id:"clipPath-".concat(n)},k.createElement("rect",{x:s?l:l-d/2,y:i?u:u-f/2,width:s?d:d*2,height:i?f:f*2}))}var Cnt=["onMouseEnter","onMouseLeave","onClick"],_nt=["value","background","tooltipPosition"],Snt=["id"],Nnt=["onMouseEnter","onClick","onMouseLeave"];function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tx.apply(null,arguments)}function yG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yG(Object(r),!0).forEach(function(n){Bnt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bnt(e,t,r){return(t=knt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function knt(e){var t=Tnt(e,"string");return typeof t=="symbol"?t:t+""}function Tnt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LS(e,t){if(e==null)return{};var r,n,a=Int(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Int(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jnt=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:bx(r,t),payload:e}]};function Fnt(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:i,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:bx(s,t),hide:i,type:e.tooltipType,color:e.fill,unit:o}}}function Ont(e){var t=nr(P0),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:i,onMouseLeave:o,onClick:l}=s,u=LS(s,Cnt),d=cR(i,n),f=uR(o),m=dR(l,n);if(!a||r==null)return null;var p=Qn(a,!1);return k.createElement(k.Fragment,null,r.map((x,g)=>{var{value:b,background:y,tooltipPosition:_}=x,S=LS(x,_nt);if(!y)return null;var I=d(x,g),T=f(x,g),F=m(x,g),w=Oo(Oo(Oo(Oo(Oo({option:a,isActive:String(g)===t},S),{},{fill:"#eee"},y),p),xx(u,x,g)),{},{onMouseEnter:I,onMouseLeave:T,onClick:F,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return k.createElement(joe,tx({key:"background-bar-".concat(g)},w))}))}function Doe(e){var{data:t,props:r,showLabels:n}=e,a=zo(r),{id:s}=a,i=LS(a,Snt),{shape:o,dataKey:l,activeBar:u}=r,d=nr(P0),f=nr(Kie),{onMouseEnter:m,onClick:p,onMouseLeave:x}=r,g=LS(r,Nnt),b=cR(m,l),y=uR(x),_=dR(p,l);return t?k.createElement(k.Fragment,null,t.map((S,I)=>{var T=u&&String(I)===d&&(f==null||l===f),F=T?u:o,w=Oo(Oo(Oo({},i),S),{},{isActive:T,option:F,index:I,dataKey:l});return k.createElement(Za,tx({className:"recharts-bar-rectangle"},xx(g,S,I),{onMouseEnter:b(S,I),onMouseLeave:y(S,I),onClick:_(S,I),key:"rectangle-".concat(S==null?void 0:S.x,"-").concat(S==null?void 0:S.y,"-").concat(S==null?void 0:S.value,"-").concat(I)}),k.createElement(joe,w))}),n&&x0.renderCallByParent(r,t)):null}function Dnt(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,m=fR(t,"recharts-bar-"),[p,x]=k.useState(!1),g=k.useCallback(()=>{typeof u=="function"&&u(),x(!1)},[u]),b=k.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return k.createElement(mR,{begin:i,duration:o,isActive:s,easing:l,onAnimationEnd:g,onAnimationStart:b,key:m},y=>{var _=y===1?n:n==null?void 0:n.map((S,I)=>{var T=f&&f[I];if(T)return Oo(Oo({},S),{},{x:Dg(T.x,S.x,y),y:Dg(T.y,S.y,y),width:Dg(T.width,S.width,y),height:Dg(T.height,S.height,y)});if(a==="horizontal"){var F=Dg(0,S.height,y);return Oo(Oo({},S),{},{y:S.y+S.height-F,height:F})}var w=Dg(0,S.width,y);return Oo(Oo({},S),{},{width:w})});return y>0&&(r.current=_??null),_==null?null:k.createElement(Za,null,k.createElement(Doe,{props:t,data:_,showLabels:!p}))})}function Pnt(e){var{data:t,isAnimationActive:r}=e,n=k.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?k.createElement(Dnt,{previousRectanglesRef:n,props:e}):k.createElement(Doe,{props:e,data:t,showLabels:!0})}var Poe=0,Rnt=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:ka(e,t)}};class Lnt extends k.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:i,needClip:o,background:l,id:u}=this.props;if(t)return null;var d=dn("recharts-bar",a),f=u;return k.createElement(Za,{className:d,id:u},o&&k.createElement("defs",null,k.createElement(Ent,{clipPathId:f,xAxisId:s,yAxisId:i})),k.createElement(Za,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},k.createElement(Ont,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),k.createElement(Pnt,this.props)),this.props.children)}}var Unt={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Pp.isSsr,legendType:"rect",minPointSize:Poe,xAxisId:0,yAxisId:0};function Mnt(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=Ooe(t,r),m=gP(),p=Rl(),x=xw(e.children,kw),g=nr(_=>fat(_,t,r,p,e.id,x));if(m!=="vertical"&&m!=="horizontal")return null;var b,y=g==null?void 0:g[0];return y==null||y.height==null||y.width==null?b=0:b=m==="vertical"?y.height/2:y.width/2,k.createElement(wnt,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:Rnt,errorBarOffset:b},k.createElement(Lnt,tx({},e,{layout:m,needClip:f,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d})))}function Qnt(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:d,displayedData:f,offset:m,cells:p}=e,x=t==="horizontal"?o:i,g=d?x.scale.domain():null,b=kqe({numericAxis:x});return f.map((y,_)=>{var S,I,T,F,w,C;d?S=Eqe(d[_],g):(S=ka(y,r),Array.isArray(S)||(S=[b,S]));var N=hnt(n,Poe)(S[1],_);if(t==="horizontal"){var R,[D,O]=[o.scale(S[0]),o.scale(S[1])];I=T$({axis:i,ticks:l,bandSize:s,offset:a.offset,entry:y,index:_}),T=(R=O??D)!==null&&R!==void 0?R:void 0,F=a.size;var M=D-O;if(w=xc(M)?0:M,C={x:I,y:m.top,width:F,height:m.height},Math.abs(N)>0&&Math.abs(w)<Math.abs(N)){var Q=Li(w||N)*(Math.abs(N)-Math.abs(w));T-=Q,w+=Q}}else{var[ee,W]=[i.scale(S[0]),i.scale(S[1])];if(I=ee,T=T$({axis:o,ticks:u,bandSize:s,offset:a.offset,entry:y,index:_}),F=W-ee,w=a.size,C={x:m.left,y:T,width:m.width,height:w},Math.abs(N)>0&&Math.abs(F)<Math.abs(N)){var Z=Li(F||N)*(Math.abs(N)-Math.abs(F));F+=Z}}if(I==null||T==null||F==null||w==null)return null;var V=Oo(Oo({},y),{},{x:I,y:T,width:F,height:w,value:d?S:S[1],payload:y,background:C,tooltipPosition:{x:I+F/2,y:T+w/2}},p&&p[_]&&p[_].props);return V}).filter(Boolean)}function BF(e){var t=bu(e,Unt),r=Rl();return k.createElement(hR,{id:t.id,type:"bar"},n=>k.createElement(k.Fragment,null,k.createElement(Mtt,{legendPayload:jnt(t)}),k.createElement(AR,{fn:Fnt,args:t}),k.createElement(Jtt,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Bqe(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),k.createElement(Mnt,tx({},t,{id:n}))))}BF.displayName="Bar";function wG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wG(Object(r),!0).forEach(function(n){Hnt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hnt(e,t,r){return(t=Vnt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vnt(e){var t=znt(e,"string");return typeof t=="symbol"?t:t+""}function znt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $nt=(e,t)=>t,Knt=(e,t,r)=>r,Gnt=(e,t,r,n)=>n,qnt=(e,t,r,n,a)=>a,Tw=at([kP,qnt],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Wnt=at([Tw],e=>e==null?void 0:e.maxBarSize),Xnt=(e,t,r,n,a,s)=>s,EG=(e,t,r)=>{var n=r??e;if(!gs(n))return sl(n,t,0)},Ynt=at([bn,kP,$nt,Knt,Gnt],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Jnt=(e,t,r,n)=>{var a=bn(e);return a==="horizontal"?bF(e,"yAxis",r,n):bF(e,"xAxis",t,n)},Znt=(e,t,r)=>{var n=bn(e);return n==="horizontal"?dK(e,"xAxis",t):dK(e,"yAxis",r)},eat=(e,t,r)=>{var n={},a=e.filter(MN),s=e.filter(u=>u.stackId==null),i=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(i).map(u=>{var[d,f]=u,m=f.map(x=>x.dataKey),p=EG(t,r,f[0].barSize);return{stackId:d,dataKeys:m,barSize:p}}),l=s.map(u=>{var d=[u.dataKey].filter(m=>m!=null),f=EG(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...l]},tat=at([Ynt,EXe,Znt],eat),rat=(e,t,r,n,a)=>{var s,i,o=Tw(e,t,r,n,a);if(o!=null){var l=bn(e),u=Gse(e),{maxBarSize:d}=o,f=gs(d)?u:d,m,p;return l==="horizontal"?(m=Jv(e,"xAxis",t,n),p=Yv(e,"xAxis",t,n)):(m=Jv(e,"yAxis",r,n),p=Yv(e,"yAxis",r,n)),(s=(i=Ty(m,p,!0))!==null&&i!==void 0?i:f)!==null&&s!==void 0?s:0}},Roe=(e,t,r,n)=>{var a=bn(e),s,i;return a==="horizontal"?(s=Jv(e,"xAxis",t,n),i=Yv(e,"xAxis",t,n)):(s=Jv(e,"yAxis",r,n),i=Yv(e,"yAxis",r,n)),Ty(s,i)};function nat(e,t,r,n,a){var s=n.length;if(!(s<1)){var i=sl(e,r,0,!0),o,l=[];if(wc(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((y,_)=>y+(_.barSize||0),0);f+=(s-1)*i,f>=r&&(f-=(s-1)*i,i=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var m=(r-f)/2>>0,p={offset:m-i,size:0};o=n.reduce((y,_)=>{var S,I={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:p.offset+p.size+i,size:u?d:(S=_.barSize)!==null&&S!==void 0?S:0}},T=[...y,I];return p=T[T.length-1].position,T},l)}else{var x=sl(t,r,0,!0);r-2*x-(s-1)*i<=0&&(i=0);var g=(r-2*x-(s-1)*i)/s;g>1&&(g>>=0);var b=wc(a)?Math.min(g,a):g;o=n.reduce((y,_,S)=>[...y,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:x+(g+i)*S+(g-b)/2,size:b}}],l)}return o}}var aat=(e,t,r,n,a,s,i)=>{var o=gs(i)?t:i,l=nat(r,n,a!==s?a:s,e,o);return a!==s&&l!=null&&(l=l.map(u=>rC(rC({},u),{},{position:rC(rC({},u.position),{},{offset:u.position.offset-a/2})}))),l},sat=at([tat,Gse,wXe,qse,rat,Roe,Wnt],aat),iat=(e,t,r,n)=>Jv(e,"xAxis",t,n),oat=(e,t,r,n)=>Jv(e,"yAxis",r,n),lat=(e,t,r,n)=>Yv(e,"xAxis",t,n),cat=(e,t,r,n)=>Yv(e,"yAxis",r,n),uat=at([sat,Tw],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),dat=(e,t)=>{var r=SP(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(i=>i.key===r)}}}},Aat=at([Jnt,Tw],dat),fat=at([vi,iat,oat,lat,cat,uat,bn,xP,Roe,Aat,Tw,Xnt],(e,t,r,n,a,s,i,o,l,u,d,f)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:x}=o;if(!(d==null||s==null||i!=="horizontal"&&i!=="vertical"||t==null||r==null||n==null||a==null||l==null)){var{data:g}=d,b;if(g!=null&&g.length>0?b=g:b=m==null?void 0:m.slice(p,x+1),b!=null)return Qnt({layout:i,barSettings:d,pos:s,bandSize:l,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,stackedData:u,displayedData:b,offset:e,cells:f})}}),Loe=e=>{var{chartData:t}=e,r=es(),n=Rl();return k.useEffect(()=>n?()=>{}:(r(yK(t)),()=>{r(yK(void 0))}),[t,r,n]),null},CG={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Uoe=Ec({name:"brush",initialState:CG,reducers:{setBrushSettings(e,t){return t.payload==null?CG:t.payload}}}),{setBrushSettings:not}=Uoe.actions,hat=Uoe.reducer;function mat(e,t,r){return(t=pat(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pat(e){var t=gat(e,"string");return typeof t=="symbol"?t:t+""}function gat(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bR{static create(t){return new bR(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}mat(bR,"EPS",1e-4);function vat(e){return(e%180+180)%180}var xat=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=vat(a),i=s*Math.PI/180,o=Math.atan(n/r),l=i>o&&i<Math.PI-o?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},bat={dots:[],areas:[],lines:[]},Moe=Ec({name:"referenceElements",initialState:bat,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=bf(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=bf(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=bf(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:aot,removeDot:sot,addArea:iot,removeArea:oot,addLine:lot,removeLine:cot}=Moe.actions,yat=Moe.reducer,wat=k.createContext(void 0),Eat=e=>{var{children:t}=e,[r]=k.useState("".concat(Ny("recharts"),"-clip")),n=Noe();if(n==null)return null;var{x:a,y:s,width:i,height:o}=n;return k.createElement(wat.Provider,{value:r},k.createElement("defs",null,k.createElement("clipPath",{id:r},k.createElement("rect",{x:a,y:s,height:o,width:i}))),t)};function O3(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Qoe(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Cat(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return xat(n,r)}function _at(e,t,r){var n=r==="width",{x:a,y:s,width:i,height:o}=e;return t===1?{start:n?a:s,end:n?a+i:s+o}:{start:n?a+i:s+o,end:n?a:s}}function US(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function Sat(e,t){return Qoe(e,t+1)}function Nat(e,t,r,n,a){for(var s=(n||[]).slice(),{start:i,end:o}=t,l=0,u=1,d=i,f=function(){var x=n==null?void 0:n[l];if(x===void 0)return{v:Qoe(n,u)};var g=l,b,y=()=>(b===void 0&&(b=r(x,g)),b),_=x.coordinate,S=l===0||US(e,_,y,d,o);S||(l=0,d=i,u+=1),S&&(d=_+e*(y()/2+a),l+=u)},m;u<=s.length;)if(m=f(),m)return m.v;return[]}function _G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function No(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_G(Object(r),!0).forEach(function(n){Bat(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_G(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bat(e,t,r){return(t=kat(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kat(e){var t=Tat(e,"string");return typeof t=="symbol"?t:t+""}function Tat(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iat(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,{start:o}=t,{end:l}=t,u=function(m){var p=s[m],x,g=()=>(x===void 0&&(x=r(p,m)),x);if(m===i-1){var b=e*(p.coordinate+e*g()/2-l);s[m]=p=No(No({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate})}else s[m]=p=No(No({},p),{},{tickCoord:p.coordinate});var y=US(e,p.tickCoord,g,o,l);y&&(l=p.tickCoord-e*(g()/2+a),s[m]=No(No({},p),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return s}function jat(e,t,r,n,a,s){var i=(n||[]).slice(),o=i.length,{start:l,end:u}=t;if(s){var d=n[o-1],f=r(d,o-1),m=e*(d.coordinate+e*f/2-u);i[o-1]=d=No(No({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var p=US(e,d.tickCoord,()=>f,l,u);p&&(u=d.tickCoord-e*(f/2+a),i[o-1]=No(No({},d),{},{isShow:!0}))}for(var x=s?o-1:o,g=function(_){var S=i[_],I,T=()=>(I===void 0&&(I=r(S,_)),I);if(_===0){var F=e*(S.coordinate-e*T()/2-l);i[_]=S=No(No({},S),{},{tickCoord:F<0?S.coordinate-F*e:S.coordinate})}else i[_]=S=No(No({},S),{},{tickCoord:S.coordinate});var w=US(e,S.tickCoord,T,l,u);w&&(l=S.tickCoord+e*(T()/2+a),i[_]=No(No({},S),{},{isShow:!0}))},b=0;b<x;b++)g(b);return i}function yR(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:i,orientation:o,interval:l,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(sr(l)||Pp.isSsr){var m;return(m=Sat(a,sr(l)?l:0))!==null&&m!==void 0?m:[]}var p=[],x=o==="top"||o==="bottom"?"width":"height",g=d&&x==="width"?Lb(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=(S,I)=>{var T=typeof u=="function"?u(S.value,I):S.value;return x==="width"?Cat(Lb(T,{fontSize:t,letterSpacing:r}),g,f):Lb(T,{fontSize:t,letterSpacing:r})[x]},y=a.length>=2?Li(a[1].coordinate-a[0].coordinate):1,_=_at(s,y,x);return l==="equidistantPreserveStart"?Nat(y,_,b,a,i):(l==="preserveStart"||l==="preserveStartEnd"?p=jat(y,_,b,a,i,l==="preserveStartEnd"):p=Iat(y,_,b,a,i),p.filter(S=>S.isShow))}var Fat=["viewBox"],Oat=["viewBox"];function nv(){return nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nv.apply(null,arguments)}function SG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SG(Object(r),!0).forEach(function(n){wR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NG(e,t){if(e==null)return{};var r,n,a=Dat(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dat(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wR(e,t,r){return(t=Pat(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pat(e){var t=Rat(e,"string");return typeof t=="symbol"?t:t+""}function Rat(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class W0 extends k.Component{constructor(t){super(t),this.tickRefs=k.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,a=NG(t,Fat),s=this.props,{viewBox:i}=s,o=NG(s,Oat);return!O3(n,i)||!O3(a,o)||!O3(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:a,height:s,orientation:i,tickSize:o,mirror:l,tickMargin:u}=this.props,d,f,m,p,x,g,b=l?-1:1,y=t.tickSize||o,_=sr(t.tickCoord)?t.tickCoord:t.coordinate;switch(i){case"top":d=f=t.coordinate,p=n+ +!l*s,m=p-b*y,g=m-b*u,x=_;break;case"left":m=p=t.coordinate,f=r+ +!l*a,d=f-b*y,x=d-b*u,g=_;break;case"right":m=p=t.coordinate,f=r+ +l*a,d=f+b*y,x=d+b*u,g=_;break;default:d=f=t.coordinate,p=n+ +l*s,m=p+b*y,g=m+b*u,x=_;break}return{line:{x1:d,y1:m,x2:f,y2:p},tick:{x,y:g}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:a,orientation:s,mirror:i,axisLine:o}=this.props,l=di(di(di({},Qn(this.props,!1)),Qn(o,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!i||s==="bottom"&&i);l=di(di({},l),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var d=+(s==="left"&&!i||s==="right"&&i);l=di(di({},l),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+a})}return k.createElement("line",nv({},l,{className:dn("recharts-cartesian-axis-line",D0(o,"className"))}))}static renderTickItem(t,r,n){var a,s=dn(r.className,"recharts-cartesian-axis-tick-value");if(k.isValidElement(t))a=k.cloneElement(t,di(di({},r),{},{className:s}));else if(typeof t=="function")a=t(di(di({},r),{},{className:s}));else{var i="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(i=dn(i,t.className)),a=k.createElement(Ix,nv({},r,{className:i}),n)}return a}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:s,tick:i,tickFormatter:o,unit:l,padding:u}=this.props,d=yR(di(di({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),p=zo(this.props),x=Qn(i,!1),g=di(di({},p),{},{fill:"none"},Qn(a,!1)),b=d.map((y,_)=>{var{line:S,tick:I}=this.getTickLineCoord(y),T=di(di(di(di({textAnchor:f,verticalAnchor:m},p),{},{stroke:"none",fill:s},x),I),{},{index:_,payload:y,visibleTicksCount:d.length,tickFormatter:o,padding:u});return k.createElement(Za,nv({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},xx(this.props,y,_)),a&&k.createElement("line",nv({},g,S,{className:dn("recharts-cartesian-axis-tick-line",D0(a,"className"))})),i&&W0.renderTickItem(i,T,"".concat(typeof o=="function"?o(y.value,_):y.value).concat(l||"")))});return b.length>0?k.createElement("g",{className:"recharts-cartesian-axis-ticks"},b):null}render(){var{axisLine:t,width:r,height:n,className:a,hide:s}=this.props;if(s)return null;var{ticks:i}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:k.createElement(Za,{className:dn("recharts-cartesian-axis",a),ref:o=>{if(o){var l=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var u=l[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,i),Bl.renderCallByParent(this.props))}}wR(W0,"displayName","CartesianAxis");wR(W0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Lat=["x1","y1","x2","y2","key"],Uat=["offset"],Mat=["xAxisId","yAxisId"],Qat=["xAxisId","yAxisId"];function BG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Do(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BG(Object(r),!0).forEach(function(n){Hat(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hat(e,t,r){return(t=Vat(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vat(e){var t=zat(e,"string");return typeof t=="symbol"?t:t+""}function zat(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qm.apply(null,arguments)}function MS(e,t){if(e==null)return{};var r,n,a=$at(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $at(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Kat=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:i,ry:o}=e;return k.createElement("rect",{x:n,y:a,ry:o,width:s,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Hoe(e,t){var r;if(k.isValidElement(e))r=k.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:s,y2:i,key:o}=t,l=MS(t,Lat),u=zo(l),{offset:d}=u,f=MS(u,Uat);r=k.createElement("line",Qm({},f,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:o}))}return r}function Gat(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,o=MS(e,Mat),l=a.map((u,d)=>{var f=Do(Do({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return Hoe(n,f)});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function qat(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,o=MS(e,Qat),l=a.map((u,d)=>{var f=Do(Do({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return Hoe(n,f)});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Wat(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:i,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var u=o.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var p=!u[m+1],x=p?a+i-f:u[m+1]-f;if(x<=0)return null;var g=m%t.length;return k.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:x,width:s,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Xat(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:i,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var p=!u[m+1],x=p?a+i-f:u[m+1]-f;if(x<=0)return null;var g=m%r.length;return k.createElement("rect",{key:"react-".concat(m),x:f,y:s,width:x,height:o,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Yat=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return lse(yR(Do(Do(Do({},W0.defaultProps),r),{},{ticks:cse(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},Jat=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return lse(yR(Do(Do(Do({},W0.defaultProps),r),{},{ticks:cse(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},Zat={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function kF(e){var t=mse(),r=pse(),n=hse(),a=Do(Do({},bu(e,Zat)),{},{x:sr(e.x)?e.x:n.left,y:sr(e.y)?e.y:n.top,width:sr(e.width)?e.width:n.width,height:sr(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:i,x:o,y:l,width:u,height:d,syncWithTicks:f,horizontalValues:m,verticalValues:p}=a,x=Rl(),g=nr(N=>AK(N,"xAxis",s,x)),b=nr(N=>AK(N,"yAxis",i,x));if(!sr(u)||u<=0||!sr(d)||d<=0||!sr(o)||o!==+o||!sr(l)||l!==+l)return null;var y=a.verticalCoordinatesGenerator||Yat,_=a.horizontalCoordinatesGenerator||Jat,{horizontalPoints:S,verticalPoints:I}=a;if((!S||!S.length)&&typeof _=="function"){var T=m&&m.length,F=_({yAxis:b?Do(Do({},b),{},{ticks:T?m:b.ticks}):void 0,width:t,height:r,offset:n},T?!0:f);Rb(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(S=F)}if((!I||!I.length)&&typeof y=="function"){var w=p&&p.length,C=y({xAxis:g?Do(Do({},g),{},{ticks:w?p:g.ticks}):void 0,width:t,height:r,offset:n},w?!0:f);Rb(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(I=C)}return k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(Kat,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),k.createElement(Wat,Qm({},a,{horizontalPoints:S})),k.createElement(Xat,Qm({},a,{verticalPoints:I})),k.createElement(Gat,Qm({},a,{offset:n,horizontalPoints:S,xAxis:g,yAxis:b})),k.createElement(qat,Qm({},a,{offset:n,verticalPoints:I,xAxis:g,yAxis:b})))}kF.displayName="CartesianGrid";function kG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kG(Object(r),!0).forEach(function(n){est(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function est(e,t,r){return(t=tst(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tst(e){var t=rst(e,"string");return typeof t=="symbol"?t:t+""}function rst(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nst={xAxis:{},yAxis:{},zAxis:{}},Voe=Ec({name:"cartesianAxis",initialState:nst,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=TG(TG({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:ast,removeXAxis:sst,addYAxis:ist,removeYAxis:ost,addZAxis:uot,removeZAxis:dot,updateYAxisWidth:lst}=Voe.actions,cst=Voe.reducer,ust=["children"],dst=["dangerouslySetInnerHTML","ticks"];function zoe(e,t,r){return(t=Ast(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ast(e){var t=fst(e,"string");return typeof t=="symbol"?t:t+""}function fst(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TF(){return TF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TF.apply(null,arguments)}function $oe(e,t){if(e==null)return{};var r,n,a=hst(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hst(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mst(e){var t=es(),r=k.useMemo(()=>{var{children:s}=e,i=$oe(e,ust);return i},[e]),n=nr(s=>qf(s,r.id)),a=r===n;return k.useEffect(()=>(t(ast(r)),()=>{t(sst(r))}),[r,t]),a?e.children:null}var pst=e=>{var{xAxisId:t,className:r}=e,n=nr(fse),a=Rl(),s="xAxis",i=nr(p=>Bx(p,s,t,a)),o=nr(p=>Sie(p,s,t,a)),l=nr(p=>wie(p,t)),u=nr(p=>mYe(p,t));if(l==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f}=e,m=$oe(e,dst);return k.createElement(W0,TF({},m,{scale:i,x:u.x,y:u.y,width:l.width,height:l.height,className:dn("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o}))},gst=e=>{var t,r,n,a,s;return k.createElement(mst,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter},k.createElement(pst,e))};class QS extends k.Component{render(){return k.createElement(gst,this.props)}}zoe(QS,"displayName","XAxis");zoe(QS,"defaultProps",{allowDataOverflow:ac.allowDataOverflow,allowDecimals:ac.allowDecimals,allowDuplicatedCategory:ac.allowDuplicatedCategory,height:ac.height,hide:!1,mirror:ac.mirror,orientation:ac.orientation,padding:ac.padding,reversed:ac.reversed,scale:ac.scale,tickCount:ac.tickCount,type:ac.type,xAxisId:0});var vst=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,i=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>i&&(i=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=a+s,u=i+l+o+(r?n:0);return Math.round(u)}return 0},xst=["dangerouslySetInnerHTML","ticks"];function Koe(e,t,r){return(t=bst(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bst(e){var t=yst(e,"string");return typeof t=="symbol"?t:t+""}function yst(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IF(){return IF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IF.apply(null,arguments)}function wst(e,t){if(e==null)return{};var r,n,a=Est(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Est(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cst(e){var t=es();return k.useEffect(()=>(t(ist(e)),()=>{t(ost(e))}),[e,t]),null}var _st=e=>{var t,{yAxisId:r,className:n,width:a,label:s}=e,i=k.useRef(null),o=k.useRef(null),l=nr(fse),u=Rl(),d=es(),f="yAxis",m=nr(S=>Bx(S,f,r,u)),p=nr(S=>Eie(S,r)),x=nr(S=>pYe(S,r)),g=nr(S=>Sie(S,f,r,u));if(k.useLayoutEffect(()=>{var S;if(!(a!=="auto"||!p||eR(s)||k.isValidElement(s))){var I=i.current,T=I==null||(S=I.tickRefs)===null||S===void 0?void 0:S.current,{tickSize:F,tickMargin:w}=I.props,C=vst({ticks:T,label:o.current,labelGapWithTick:5,tickSize:F,tickMargin:w});Math.round(p.width)!==Math.round(C)&&d(lst({id:r,width:C}))}},[i,i==null||(t=i.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,p==null?void 0:p.width,p,d,s,r,a]),p==null||x==null)return null;var{dangerouslySetInnerHTML:b,ticks:y}=e,_=wst(e,xst);return k.createElement(W0,IF({},_,{ref:i,labelRef:o,scale:m,x:x.x,y:x.y,width:p.width,height:p.height,className:dn("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:g}))},Sst=e=>{var t,r,n,a,s;return k.createElement(k.Fragment,null,k.createElement(Cst,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter}),k.createElement(_st,e))},Nst={allowDataOverflow:sc.allowDataOverflow,allowDecimals:sc.allowDecimals,allowDuplicatedCategory:sc.allowDuplicatedCategory,hide:!1,mirror:sc.mirror,orientation:sc.orientation,padding:sc.padding,reversed:sc.reversed,scale:sc.scale,tickCount:sc.tickCount,type:sc.type,width:sc.width,yAxisId:0};class HS extends k.Component{render(){return k.createElement(Sst,this.props)}}Koe(HS,"displayName","YAxis");Koe(HS,"defaultProps",Nst);var D3={exports:{}},P3={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IG;function Bst(){if(IG)return P3;IG=1;var e=rx();function t(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,i=e.useMemo,o=e.useDebugValue;return P3.useSyncExternalStoreWithSelector=function(l,u,d,f,m){var p=a(null);if(p.current===null){var x={hasValue:!1,value:null};p.current=x}else x=p.current;p=i(function(){function b(T){if(!y){if(y=!0,_=T,T=f(T),m!==void 0&&x.hasValue){var F=x.value;if(m(F,T))return S=F}return S=T}if(F=S,r(_,T))return F;var w=f(T);return m!==void 0&&m(F,w)?(_=T,F):(_=T,S=w)}var y=!1,_,S,I=d===void 0?null:d;return[function(){return b(u())},I===null?void 0:function(){return b(I())}]},[u,d,f,m]);var g=n(l,p[0],p[1]);return s(function(){x.hasValue=!0,x.value=g},[g]),o(g),g},P3}var jG;function kst(){return jG||(jG=1,D3.exports=Bst()),D3.exports}kst();function Tst(e){e()}function Ist(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Tst(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var FG={notify(){},get:()=>[]};function jst(e,t){let r,n=FG,a=0,s=!1;function i(g){d();const b=n.subscribe(g);let y=!1;return()=>{y||(y=!0,b(),f())}}function o(){n.notify()}function l(){x.onStateChange&&x.onStateChange()}function u(){return s}function d(){a++,r||(r=e.subscribe(l),n=Ist())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=FG)}function m(){s||(s=!0,d())}function p(){s&&(s=!1,f())}const x={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:m,tryUnsubscribe:p,getListeners:()=>n};return x}var Fst=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ost=Fst(),Dst=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Pst=Dst(),Rst=()=>Ost||Pst?k.useLayoutEffect:k.useEffect,Lst=Rst(),R3=Symbol.for("react-redux-context"),L3=typeof globalThis<"u"?globalThis:{};function Ust(){if(!k.createContext)return{};const e=L3[R3]??(L3[R3]=new Map);let t=e.get(k.createContext);return t||(t=k.createContext(null),e.set(k.createContext,t)),t}var Mst=Ust();function Qst(e){const{children:t,context:r,serverState:n,store:a}=e,s=k.useMemo(()=>{const l=jst(a);return{store:a,subscription:l,getServerState:n?()=>n:void 0}},[a,n]),i=k.useMemo(()=>a.getState(),[a]);Lst(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,i]);const o=r||Mst;return k.createElement(o.Provider,{value:s},t)}var Hst=Qst,Vst=(e,t)=>t,ER=at([Vst,bn,Cx,xi,Hie,Wf,xJe,vi],CJe),CR=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},Goe=pu("mouseClick"),qoe=bw();qoe.startListening({actionCreator:Goe,effect:(e,t)=>{var r=e.payload,n=ER(t.getState(),CR(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(NYe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var jF=pu("mouseMove"),Woe=bw();Woe.startListening({actionCreator:jF,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=zP(n,n.tooltip.settings.shared),s=ER(n,CR(r));a==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(Die({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(Oie()))}});function zst(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var OG={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Xoe=Ec({name:"rootProps",initialState:OG,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:OG.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),$st=Xoe.reducer,{updateOptions:Kst}=Xoe.actions,Yoe=Ec({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Gst}=Yoe.actions,qst=Yoe.reducer,Joe=pu("keyDown"),Zoe=pu("focus"),_R=bw();_R.startListening({actionCreator:Joe,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var i=Number($P(a,Tx(r))),o=Wf(r);if(s==="Enter"){var l=FS(r,"axis","hover",String(a.index));t.dispatch(wF({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:l}));return}var u=vYe(r),d=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,m=i+f*d;if(!(o==null||m>=o.length||m<0)){var p=FS(r,"axis","hover",String(m));t.dispatch(wF({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});_R.startListening({actionCreator:Zoe,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",i=FS(r,"axis","hover",String(s));t.dispatch(wF({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:i}))}}}});var eu=pu("externalEvent"),ele=bw();ele.startListening({actionCreator:eu,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:cJe(r),activeDataKey:Kie(r),activeIndex:P0(r),activeLabel:$ie(r),activeTooltipIndex:P0(r),isTooltipActive:uJe(r)};e.payload.handler(n,e.payload.reactEvent)}}});var Wst=at([kx],e=>e.tooltipItemPayloads),Xst=at([Wst,Nw,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var i=t(s,r);return i}}}),tle=pu("touchMove"),rle=bw();rle.startListening({actionCreator:tle,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=zP(n,n.tooltip.settings.shared);if(a==="axis"){var s=ER(n,CR({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(Die({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var i,o=r.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(dse),d=(i=l.getAttribute(Ase))!==null&&i!==void 0?i:void 0,f=Xst(t.getState(),u,d);t.dispatch(Fie({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var Yst=Pae({brush:hat,cartesianAxis:cst,chartData:MJe,errorBars:pnt,graphicalItems:Ytt,layout:oqe,legend:$qe,options:DJe,polarAxis:$et,polarOptions:qst,referenceElements:yat,rootProps:$st,tooltip:BYe}),Jst=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return jGe({reducer:Yst,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([qoe.middleware,Woe.middleware,_R.middleware,ele.middleware,rle.middleware]),devTools:{serialize:{replacer:zst},name:"recharts-".concat(r)}})};function nle(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Rl(),s=k.useRef(null);if(a)return r;s.current==null&&(s.current=Jst(t,n));var i=lP;return k.createElement(Hst,{context:i,store:s.current},r)}function ale(e){var{layout:t,width:r,height:n,margin:a}=e,s=es(),i=Rl();return k.useEffect(()=>{i||(s(aqe(t)),s(sqe({width:r,height:n})),s(nqe(a)))},[s,i,t,r,n,a]),null}function sle(e){var t=es();return k.useEffect(()=>{t(Kst(e))},[t,e]),null}var Zst=["children"];function eit(e,t){if(e==null)return{};var r,n,a=tit(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tit(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VS.apply(null,arguments)}var rit={width:"100%",height:"100%"},nit=k.forwardRef((e,t)=>{var r=mse(),n=pse(),a=bse();if(!Wv(r)||!Wv(n))return null;var{children:s,otherAttributes:i,title:o,desc:l}=e,u,d;return typeof i.tabIndex=="number"?u=i.tabIndex:u=a?0:void 0,typeof i.role=="string"?d=i.role:d=a?"application":void 0,k.createElement(Eae,VS({},i,{title:o,desc:l,role:d,tabIndex:u,width:r,height:n,style:rit,ref:t}),s)}),ait=e=>{var{children:t}=e,r=nr(DN);if(!r)return null;var{width:n,height:a,y:s,x:i}=r;return k.createElement(Eae,{width:n,height:a,x:i,y:s},t)},DG=k.forwardRef((e,t)=>{var{children:r}=e,n=eit(e,Zst),a=Rl();return a?k.createElement(ait,null,r):k.createElement(nit,VS({ref:t},n),r)});function sit(){var e=es(),[t,r]=k.useState(null),n=nr(Pqe);return k.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;wc(s)&&s!==n&&e(iqe(s))}},[t,e,n]),r}function PG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iit(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PG(Object(r),!0).forEach(function(n){oit(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oit(e,t,r){return(t=lit(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lit(e){var t=cit(e,"string");return typeof t=="symbol"?t:t+""}function cit(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uit=k.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:i,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:m,onTouchEnd:p,onTouchMove:x,onTouchStart:g,style:b,width:y}=e,_=es(),[S,I]=k.useState(null),[T,F]=k.useState(null);VJe();var w=sit(),C=k.useCallback(P=>{w(P),typeof t=="function"&&t(P),I(P),F(P)},[w,t,I,F]),N=k.useCallback(P=>{_(Goe(P)),_(eu({handler:s,reactEvent:P}))},[_,s]),R=k.useCallback(P=>{_(jF(P)),_(eu({handler:u,reactEvent:P}))},[_,u]),D=k.useCallback(P=>{_(Oie()),_(eu({handler:d,reactEvent:P}))},[_,d]),O=k.useCallback(P=>{_(jF(P)),_(eu({handler:f,reactEvent:P}))},[_,f]),M=k.useCallback(()=>{_(Zoe())},[_]),Q=k.useCallback(P=>{_(Joe(P.key))},[_]),ee=k.useCallback(P=>{_(eu({handler:i,reactEvent:P}))},[_,i]),W=k.useCallback(P=>{_(eu({handler:o,reactEvent:P}))},[_,o]),Z=k.useCallback(P=>{_(eu({handler:l,reactEvent:P}))},[_,l]),V=k.useCallback(P=>{_(eu({handler:m,reactEvent:P}))},[_,m]),q=k.useCallback(P=>{_(eu({handler:g,reactEvent:P}))},[_,g]),K=k.useCallback(P=>{_(tle(P)),_(eu({handler:x,reactEvent:P}))},[_,x]),J=k.useCallback(P=>{_(eu({handler:p,reactEvent:P}))},[_,p]);return k.createElement(Jie.Provider,{value:S},k.createElement(fKe.Provider,{value:T},k.createElement("div",{className:dn("recharts-wrapper",n),style:iit({position:"relative",cursor:"default",width:y,height:a},b),onClick:N,onContextMenu:ee,onDoubleClick:W,onFocus:M,onKeyDown:Q,onMouseDown:Z,onMouseEnter:R,onMouseLeave:D,onMouseMove:O,onMouseUp:V,onTouchEnd:J,onTouchMove:K,onTouchStart:q,ref:C},r)))}),dit=["children","className","width","height","style","compact","title","desc"];function Ait(e,t){if(e==null)return{};var r,n,a=fit(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fit(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ile=k.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:s,style:i,compact:o,title:l,desc:u}=e,d=Ait(e,dit),f=zo(d);return o?k.createElement(DG,{otherAttributes:f,title:l,desc:u},r):k.createElement(uit,{className:n,style:i,width:a,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},k.createElement(DG,{otherAttributes:f,title:l,desc:u,ref:t},k.createElement(Eat,null,r)))}),hit=["width","height"];function FF(){return FF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FF.apply(null,arguments)}function mit(e,t){if(e==null)return{};var r,n,a=pit(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pit(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var git={top:5,right:5,bottom:5,left:5},vit={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:git,reverseStackOrder:!1,syncMethod:"index"},xit=k.forwardRef(function(t,r){var n,a=bu(t.categoricalChartProps,vit),{width:s,height:i}=a,o=mit(a,hit);if(!Wv(s)||!Wv(i))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:m}=t,p={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return k.createElement(nle,{preloadedState:{options:p},reduxStoreName:(n=m.id)!==null&&n!==void 0?n:l},k.createElement(Loe,{chartData:m.data}),k.createElement(ale,{width:s,height:i,layout:a.layout,margin:a.margin}),k.createElement(sle,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),k.createElement(ile,FF({},o,{width:s,height:i,ref:r})))}),bit=["axis","item"],RG=k.forwardRef((e,t)=>k.createElement(xit,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:bit,tooltipPayloadSearcher:ZP,categoricalChartProps:e,ref:t}));function yit(e){var t=es();return k.useEffect(()=>{t(Gst(e))},[t,e]),null}var wit=["width","height","layout"];function OF(){return OF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OF.apply(null,arguments)}function Eit(e,t){if(e==null)return{};var r,n,a=Cit(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cit(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _it={top:5,right:5,bottom:5,left:5},Sit={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:_it,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},ole=k.forwardRef(function(t,r){var n,a=bu(t.categoricalChartProps,Sit),{width:s,height:i,layout:o}=a,l=Eit(a,wit);if(!Wv(s)||!Wv(i))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:m}=t,p={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,eventEmitter:void 0};return k.createElement(nle,{preloadedState:{options:p},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},k.createElement(Loe,{chartData:a.data}),k.createElement(ale,{width:s,height:i,layout:o,margin:a.margin}),k.createElement(sle,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),k.createElement(yit,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),k.createElement(ile,OF({width:s,height:i},l,{ref:r})))}),Nit=["item"],Bit={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},kit=k.forwardRef((e,t)=>{var r=bu(e,Bit);return k.createElement(ole,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Nit,tooltipPayloadSearcher:ZP,categoricalChartProps:r,ref:t})}),Tit=["axis"],Iit={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},jit=k.forwardRef((e,t)=>{var r=bu(e,Iit);return k.createElement(ole,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Tit,tooltipPayloadSearcher:ZP,categoricalChartProps:r,ref:t})});const Fit=e=>{const[t,r]=k.useState(!1),[n,a]=k.useState(null);return k.useEffect(()=>{const s="google-maps-script";if(document.getElementById(s)||window.google){r(!0);return}const i=document.createElement("script");i.id=s,i.src=`https://maps.googleapis.com/maps/api/js?key=${e}&libraries=places,directions&loading=async`,i.async=!0,i.defer=!0,i.onload=()=>r(!0),i.onerror=()=>a(new Error("No se pudo cargar Google Maps.")),document.head.appendChild(i)},[e]),{isLoaded:t,error:n}},lle=[{elemento:"Cumplimiento legal y formalidad"},{elemento:"Contrato o convenio formal de práctica"},{elemento:"Ambiente laboral y clima organizacional"},{elemento:"Supervisión y mentoría"},{elemento:"Oportunidades de aprendizaje"},{elemento:"Recursos y herramientas disponibles"},{elemento:"Seguridad y salud ocupacional"},{elemento:"Comunicación interna"}],Oit=["Mecánica Industrial","Mecánica Automotriz"],Dit=()=>({nombre:"",rut:"",direccion:"",contacto:"",email:"",area:"",cupos:1,coordenadas:null,calificaciones:lle.map(e=>({...e,score:null})),estudiantesAsignados:[],docenteSupervisor:void 0}),Pit=({empresas:e,isLoaded:t,route:r})=>{const n=k.useRef(null),a=k.useRef(null),s=k.useRef([]),i=k.useRef(null),o=e.filter(l=>{var u,d;return((u=l.coordenadas)==null?void 0:u.lat)&&((d=l.coordenadas)==null?void 0:d.lng)});return k.useEffect(()=>{!t||!n.current||!window.google||(a.current||(a.current=new window.google.maps.Map(n.current,{center:{lat:-33.4489,lng:-70.6693},zoom:11})),i.current||(i.current=new window.google.maps.DirectionsRenderer),s.current.forEach(l=>l.setMap(null)),s.current=[],i.current.setMap(null),r?(i.current.setMap(a.current),i.current.setDirections(r)):o.forEach(l=>{const u=new window.google.maps.Marker({position:{lat:l.coordenadas.lat,lng:l.coordenadas.lng},map:a.current,title:l.nombre}),d=new window.google.maps.InfoWindow({content:`<div style="font-weight: bold;">${l.nombre}</div><div>${l.direccion}</div>`});u.addListener("click",()=>{d.open(a.current,u)}),s.current.push(u)}))},[o,t,r]),c.jsxs("div",{className:"relative",id:"map-container-for-pdf",children:[c.jsx("div",{ref:n,className:"h-[600px] w-full rounded-lg border"}),!r&&o.length===0&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-90 rounded-lg",children:c.jsx("div",{className:"text-center p-6",children:c.jsx("p",{className:"text-gray-600 text-lg",children:"📍 No hay empresas geo-localizadas"})})})]})},Rit=({route:e,travelMode:t})=>{const a=t==="TRANSIT"?45:30,s=e.routes[0].legs.reduce((f,m)=>{var p;return f+(((p=m.duration)==null?void 0:p.value)||0)},0),o=(e.routes[0].legs.length>1?e.routes[0].legs.length-1:0)*a*60,l=s+o,u=e.routes[0].legs.reduce((f,m)=>{var p;return f+(((p=m.distance)==null?void 0:p.value)||0)},0),d=t==="DRIVING"?u/1e3/12*1300:0;return c.jsxs("div",{className:"mt-6 p-4 border rounded-lg bg-slate-50",id:"route-details-for-pdf",children:[c.jsx("h3",{className:"text-xl font-bold mb-3",children:"Detalles de la Ruta"}),c.jsx("div",{className:"space-y-4",children:e.routes[0].legs.map((f,m)=>{var p,x,g;return c.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsxs("h4",{className:"font-bold text-lg",children:["Tramo ",m+1,": ",f.start_address.split(",")[0]," → ",f.end_address.split(",")[0]]}),c.jsxs("div",{className:"text-sm text-gray-600",children:[(p=f.duration)==null?void 0:p.text," • ",(x=f.distance)==null?void 0:x.text]})]}),t==="TRANSIT"&&c.jsx("div",{className:"space-y-3",children:(g=f.steps)==null?void 0:g.map((b,y)=>b.transit&&c.jsxs("div",{className:"flex items-start gap-2 text-sm py-1",children:[c.jsx("span",{className:"text-lg",children:"🚌"}),c.jsx("span",{dangerouslySetInnerHTML:{__html:b.instructions}})]},y))})]},m)})}),c.jsxs("div",{className:"mt-4 pt-4 border-t font-bold text-right",children:[c.jsxs("p",{children:["Tiempo de viaje: ",Math.round(s/60)," min"]}),c.jsxs("p",{children:["Tiempo en paradas: ",Math.round(o/60)," min"]}),c.jsxs("p",{className:"text-lg",children:["Duración Total Estimada: ",Math.round(l/60)," min"]}),c.jsxs("p",{children:["Distancia Total: ",(u/1e3).toFixed(1)," km"]}),t==="DRIVING"&&c.jsxs("p",{className:"text-green-600",children:["Costo Bencina Aprox: $",d.toLocaleString("es-CL",{maximumFractionDigits:0})]})]})]})},Lit=async e=>window.google?new Promise(t=>{new window.google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:e,fields:["geometry"]},(n,a)=>{var s;a===window.google.maps.places.PlacesServiceStatus.OK&&((s=n==null?void 0:n.geometry)!=null&&s.location)?t({lat:n.geometry.location.lat(),lng:n.geometry.location.lng()}):t(null)})}):null,Uit=({data:e})=>{const t=["#0088FE","#00C49F","#FFBB28","#FF8042"];return c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"p-4 border rounded-lg bg-white col-span-1",children:[c.jsx("h3",{className:"font-bold mb-4",children:"Empresas por Especialidad"}),c.jsx(tC,{width:"100%",height:300,children:c.jsxs(kit,{children:[c.jsx(Soe,{data:e.porEspecialidad,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:!0,children:e.porEspecialidad.map((r,n)=>c.jsx(kw,{fill:t[n%t.length]},`cell-${n}`))}),c.jsx(eC,{})]})})]}),c.jsxs("div",{className:"p-4 border rounded-lg bg-white col-span-1 md:col-span-2",children:[c.jsx("h3",{className:"font-bold mb-4",children:"Empresas por Supervisor"}),c.jsx(tC,{width:"100%",height:300,children:c.jsxs(RG,{data:e.porSupervisor,layout:"vertical",children:[c.jsx(kF,{strokeDasharray:"3 3"}),c.jsx(QS,{type:"number"}),c.jsx(HS,{type:"category",dataKey:"name",width:150}),c.jsx(eC,{}),c.jsx(BF,{dataKey:"value",fill:"#82ca9d",name:"Empresas"})]})})]}),c.jsxs("div",{className:"p-4 border rounded-lg bg-white col-span-1 lg:col-span-3",children:[c.jsx("h3",{className:"font-bold mb-4",children:"Distribución por Comuna"}),c.jsx(tC,{width:"100%",height:300,children:c.jsxs(RG,{data:e.porComuna,children:[c.jsx(kF,{strokeDasharray:"3 3"}),c.jsx(QS,{dataKey:"name"}),c.jsx(HS,{}),c.jsx(eC,{}),c.jsx(BF,{dataKey:"value",fill:"#8884d8",name:"Empresas"})]})})]}),c.jsxs("div",{className:"p-4 border rounded-lg bg-white col-span-1",children:[c.jsx("h3",{className:"font-bold mb-4",children:"Calificación por Ámbito"}),c.jsx(tC,{width:"100%",height:300,children:c.jsxs(jit,{cx:"50%",cy:"50%",outerRadius:"80%",data:e.calificacionPorAmbito,children:[c.jsx(hoe,{}),c.jsx(XN,{dataKey:"subject"}),c.jsx(qN,{angle:30,domain:[0,5]}),c.jsx(xR,{name:"Promedio",dataKey:"A",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),c.jsx(eC,{})]})})]}),c.jsxs("div",{className:"p-4 border rounded-lg bg-white col-span-1 md:col-span-2",children:[c.jsx("h3",{className:"font-bold mb-4",children:"Ranking de Empresas"}),c.jsx("div",{className:"overflow-y-auto max-h-[300px]",children:c.jsx("ul",{className:"space-y-2",children:e.ranking.map((r,n)=>c.jsxs("li",{className:"flex items-center justify-between p-2 rounded-lg bg-slate-50",children:[c.jsxs("span",{className:"font-semibold",children:[n+1,". ",r.nombre]}),c.jsxs("span",{className:"font-bold text-amber-500",children:[r.promedio.toFixed(1)," ★"]})]},r.id))})})]})]})},Mit=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState("list"),[i,o]=k.useState(null),[l,u]=k.useState(!0),[d,f]=k.useState(null),[m,p]=k.useState(null),[x,g]=k.useState(null),[b,y]=k.useState([]),[_,S]=k.useState(null),[I,T]=k.useState(!1),[F,w]=k.useState("DRIVING"),[C,N]=k.useState(""),[R,D]=k.useState([]),O="AIzaSyBkpVIvmoJAoD1QlZOZBln0aM6bPpBuGy4",{isLoaded:M}=Fit(O);k.useEffect(()=>{u(!0);const J=$Ve(t),P=qVe(n),G=WVe(D);return u(!1),()=>{J(),P(),G()}},[]);const Q=k.useMemo(()=>{const J=e.reduce((ie,de)=>{const me=de.area||"Sin especificar";return ie[me]=(ie[me]||0)+1,ie},{}),P=e.reduce((ie,de)=>{var ue;const me=((ue=de.docenteSupervisor)==null?void 0:ue.nombreCompleto)||"Sin asignar";return ie[me]=(ie[me]||0)+1,ie},{}),G=e.reduce((ie,de)=>{const me=de.direccion.split(",").map(ye=>ye.trim()),ue=me.length>1?me[1]:"Desconocida";return ie[ue]=(ie[ue]||0)+1,ie},{}),Y=lle.map(ie=>{const de=e.flatMap(ue=>{var ye;return(ye=ue.calificaciones.find(Ie=>Ie.elemento===ie.elemento))==null?void 0:ye.score}).filter(ue=>ue!=null),me=de.length>0?de.reduce((ue,ye)=>ue+ye,0)/de.length:0;return{subject:ie.elemento.split(" ")[0],A:me,fullMark:5}}),re=e.map(ie=>{const de=ie.calificaciones.map(ue=>ue.score).filter(ue=>ue!=null),me=de.length>0?de.reduce((ue,ye)=>ue+ye,0)/de.length:0;return{...ie,promedio:me}}).filter(ie=>ie.promedio>0).sort((ie,de)=>de.promedio-ie.promedio);return{porEspecialidad:Object.entries(J).map(([ie,de])=>({name:ie,value:de})),porSupervisor:Object.entries(P).map(([ie,de])=>({name:ie,value:de})),porComuna:Object.entries(G).map(([ie,de])=>({name:ie,value:de})),calificacionPorAmbito:Y,ranking:re}},[e]),ee=async()=>{if(i)try{await KVe(i),s("list"),o(null),f(null)}catch{alert("No se pudo guardar la empresa.")}},W=async J=>{window.confirm("¿Está seguro de eliminar esta empresa?")&&await GVe(J)},Z=(J,P)=>{o(G=>G?{...G,[J]:P}:null)},V=async J=>{var P;if(f(J),(P=J==null?void 0:J.value)!=null&&P.place_id&&M){const G=await Lit(J.value.place_id);Z("direccion",J.label||""),Z("coordenadas",G)}else Z("direccion",(J==null?void 0:J.label)||"")},q=J=>{o(JSON.parse(JSON.stringify(J))),J.direccion&&f({label:J.direccion,value:{description:J.direccion}}),s("form")},K=()=>{S(null),p(null),g(null),y([]),N("")};return l?c.jsx("div",{className:"text-center p-8",children:"Cargando..."}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Gestión de Empresas"}),c.jsxs("div",{className:"flex items-center gap-4",children:[a!=="list"&&c.jsx("button",{onClick:()=>{s("list"),f(null),o(null),K()},className:"font-semibold hover:text-blue-600",children:"← Volver al listado"}),a==="list"&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>s("dashboard"),title:"Dashboard",className:"bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center gap-2",children:[c.jsx(Npe,{size:18})," Dashboard"]}),c.jsx("button",{onClick:()=>s("saved-routes"),title:"Rutas Guardadas",className:"bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Rutas Guardadas"}),c.jsx("button",{onClick:()=>s("route"),title:"Ruta de Supervisión",className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Ruta de Supervisión"}),c.jsx("button",{onClick:()=>s("map"),title:"Vista de Mapa",className:"bg-slate-200 hover:bg-slate-300 p-2 rounded-lg transition-colors",children:"🗺️"}),c.jsx("button",{onClick:()=>{o(Dit()),s("form")},className:"bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Crear Empresa"})]})]})]}),a==="dashboard"&&c.jsx(Uit,{data:Q}),a==="saved-routes"&&c.jsx("div",{children:c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Rutas de Supervisión Guardadas"})}),a==="route"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Planificador de Ruta de Supervisión"}),_&&c.jsx(Rit,{route:_,travelMode:F})]}),a==="map"&&c.jsx(Pit,{empresas:e,isLoaded:M}),a==="list"&&c.jsx("div",{className:"space-y-3",children:e.length===0?c.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay empresas registradas."}):e.map(J=>{var P;return c.jsx("div",{className:"p-4 border rounded-lg bg-slate-50 hover:bg-slate-100 transition-colors",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-lg",children:J.nombre}),c.jsxs("p",{className:"text-sm text-slate-500",children:[J.rut," | ",J.direccion]}),c.jsxs("p",{className:"text-sm text-slate-600",children:["Área: ",J.area||"No especificada"," | Cupos: ",J.cupos," | Supervisor: ",((P=J.docenteSupervisor)==null?void 0:P.nombreCompleto)||"Ninguno"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>q(J),className:"text-sm font-semibold text-blue-600 hover:text-blue-800",children:"Editar"}),c.jsx("button",{onClick:()=>W(J.id),className:"text-sm text-red-500 hover:text-red-700",children:"Eliminar"})]})]})},J.id)})}),a==="form"&&i&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"id"in i?"Editando Empresa":"Nueva Empresa"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"relative flex items-center",children:[c.jsx(ppe,{className:"absolute left-3 w-5 h-5 text-slate-400"}),c.jsx("input",{value:i.nombre,onChange:J=>Z("nombre",J.target.value),placeholder:"Nombre Empresa",className:"input-style pl-10",required:!0})]}),c.jsxs("div",{className:"relative flex items-center",children:[c.jsx(_pe,{className:"absolute left-3 w-5 h-5 text-slate-400"}),c.jsx("input",{value:i.rut,onChange:J=>Z("rut",J.target.value),placeholder:"RUT Empresa",className:"input-style pl-10",required:!0})]}),c.jsxs("div",{className:"md:col-span-2 relative flex items-center",children:[c.jsx(Ipe,{className:"absolute left-3 top-5 -translate-y-1/2 w-5 h-5 text-slate-400 z-10"}),c.jsx("div",{className:"w-full pl-10",children:c.jsx(G$e,{apiKey:O,selectProps:{value:d,onChange:V,placeholder:"Buscar dirección..."},autocompletionRequest:{componentRestrictions:{country:["cl"]}}})})]}),c.jsxs("div",{className:"relative flex items-center",children:[c.jsx(gM,{className:"absolute left-3 w-5 h-5 text-slate-400"}),c.jsx("input",{value:i.contacto,onChange:J=>Z("contacto",J.target.value),placeholder:"Contacto",className:"input-style pl-10"})]}),c.jsxs("div",{className:"relative flex items-center",children:[c.jsx(kpe,{className:"absolute left-3 w-5 h-5 text-slate-400"}),c.jsx("input",{type:"email",value:i.email||"",onChange:J=>Z("email",J.target.value),placeholder:"Correo electrónico",className:"input-style pl-10"})]}),c.jsxs("div",{className:"relative flex items-center",children:[c.jsx(zpe,{className:"absolute left-3 w-5 h-5 text-slate-400"}),c.jsx("input",{type:"number",value:i.cupos,onChange:J=>Z("cupos",parseInt(J.target.value)||1),placeholder:"N° de cupos",className:"input-style pl-10",min:"1"})]}),c.jsxs("div",{className:"relative flex items-center",children:[c.jsx(hpe,{className:"absolute left-3 w-5 h-5 text-slate-400"}),c.jsxs("select",{value:i.area||"",onChange:J=>Z("area",J.target.value),className:"input-style pl-10 w-full",children:[c.jsx("option",{value:"",disabled:!0,children:"Seleccione un área"}),Oit.map(J=>c.jsx("option",{value:J,children:J},J))]})]}),c.jsxs("div",{className:"md:col-span-2 relative flex items-center",children:[c.jsx(gM,{className:"absolute left-3 w-5 h-5 text-slate-400"}),c.jsxs("select",{value:i.docenteSupervisor?JSON.stringify(i.docenteSupervisor):"",onChange:J=>{const P=J.target.value;Z("docenteSupervisor",P?JSON.parse(P):void 0)},className:"input-style pl-10 w-full",children:[c.jsx("option",{value:"",children:"Sin supervisor asignado"}),r.map(J=>c.jsx("option",{value:JSON.stringify({id:J.id,nombre:J.nombreCompleto}),children:J.nombreCompleto},J.id))]})]})]}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Evaluación de la Empresa"}),i.calificaciones.map((J,P)=>c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border",children:[c.jsx(Mpe,{className:"w-5 h-5 text-slate-400"}),c.jsx("span",{className:"flex-1 text-sm font-medium text-gray-700",children:J.elemento}),c.jsxs("select",{value:J.score||"",onChange:G=>{const Y=[...i.calificaciones];Y[P].score=G.target.value?parseInt(G.target.value):null,Z("calificaciones",Y)},className:"px-3 py-1 border border-gray-300 rounded-md text-sm",children:[c.jsx("option",{value:"",children:"Sin calificar"}),[1,2,3,4,5].map(G=>c.jsx("option",{value:G,children:G},G))]})]},P))]}),c.jsx("div",{className:"pt-6",children:c.jsx("button",{onClick:ee,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 rounded-lg transition-colors",disabled:!i.nombre||!i.rut,children:"Guardar Empresa"})})]})]})},Qit=e=>{if(!e)return"";let t=e.trim().toLowerCase();return t=t.replace(/°/g,"º"),t=t.replace(/\s+(medio|básico|basico)/g,""),t=t.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1º"),t=t.replace(/^(\d)(?![º])/,"$1º"),t=t.replace(/\s+/g,"").toUpperCase(),t},Hit=({currentUser:e,onLogout:t,onUserUpdate:r,onChangeProfile:n,canChangeProfile:a,unreadMessagesCount:s,refreshUnreadCount:i})=>{const o=e.profile,l=k.useMemo(()=>{const y=tpe[o];return o!==Kt.ESTUDIANTE?y:y.filter(_=>{if(_.name==="Asistencia a Empresa"){const S=Qit(e.curso||"");return S.startsWith("3º")||S.startsWith("4º")}return!0})},[o,e.curso]),[u,d]=k.useState(null),[f,m]=k.useState(!1);k.useEffect(()=>{l&&l.length>0?d(l[0]):d(null)},[o,l]);const p=k.useCallback(y=>{d(y),window.innerWidth<768&&m(!1)},[]),x=k.useCallback(y=>{const _=l.find(S=>S.name===y);_&&p(_)},[l,p]),g=()=>c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-center h-16 border-b border-slate-700 px-4 flex-shrink-0",children:[c.jsx(Ume,{}),c.jsx("span",{className:"ml-3 text-white font-bold text-xl whitespace-nowrap",children:"Gestión LIR"})]}),c.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto sidebar-scroll",children:l.map(y=>c.jsxs("button",{onClick:()=>p(y),className:`w-full flex items-center py-3 px-4 rounded-lg transition-colors duration-200 text-left ${(u==null?void 0:u.name)===y.name?"bg-slate-900 text-amber-400 font-semibold":"text-slate-300 hover:bg-slate-700 hover:text-white"}`,children:[y.icon,c.jsx("span",{className:"ml-4",children:y.name})]},y.name))})]}),b=()=>{if(!u)return c.jsx("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex items-center justify-center",children:c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xl",children:"Seleccione un módulo del menú para comenzar."})});if(u.name==="Calendario Académico")return c.jsx(Tve,{profile:o});if(u.name==="Muro de Anuncios")return c.jsx(Dve,{currentUser:e});if(u.name==="Mensajería Interna")return c.jsx(cIe,{currentUser:e,refreshUnreadCount:i});if(u.name==="Generador de Actas")return c.jsx(Vve,{});if(o===Kt.SUBDIRECCION){if(u.name==="Dashboard")return c.jsx(yge,{currentUser:e});if(u.name==="Administración")return c.jsx(fke,{});if(u.name==="Seguimiento Curricular")return c.jsx(PVe,{currentUser:e});if(u.name==="Acompañamiento docente")return c.jsx(tIe,{currentUser:e});if(u.name==="Análisis Taxonómico")return c.jsx(BV,{currentUser:e});if(u.name==="Interdisciplinario")return c.jsx(zQ,{});if(u.name==="Registro de inasistencias y reemplazos docentes")return c.jsx(pge,{currentUser:e});if(u.name==="Crear horarios")return c.jsx(ave,{});if(u.name==="Seguimiento de acciones pedagógicas")return c.jsx(cve,{});if(u.name==="Inclusión")return c.jsx(R9,{currentUser:e})}if(o===Kt.PROFESORADO){if(u.name==="Planificación")return c.jsx(wve,{currentUser:e});if(u.name==="Mis Acompañamientos")return c.jsx(j9e,{currentUser:e});if(u.name==="Recursos de Aprendizaje")return c.jsx(v9e,{});if(u.name==="Análisis Taxonómico")return c.jsx(BV,{currentUser:e});if(u.name==="Interdisciplinario")return c.jsx(zQ,{});if(u.name==="Inclusión")return c.jsx(R9,{currentUser:e});if(u.name==="Actividades Remotas")return c.jsx(Oke,{});if(u.name==="Evaluación de Aprendizajes")return c.jsx(z1e,{});if(u.name==="Evaluaciones Formativas")return c.jsx(NTe,{currentUser:e})}if(o===Kt.COORDINACION_TP){if(u.name==="Seguimiento Dual")return c.jsx(Eke,{});if(u.name==="Asistencia Dual")return c.jsx(dTe,{});if(u.name==="Pañol")return c.jsx(YDe,{});if(u.name==="Gestión de Empresas")return c.jsx(Mit,{})}if(o===Kt.ESTUDIANTE){if(u.name==="Auto-aprendizaje")return c.jsx(Hke,{currentUser:e});if(u.name==="Evaluación Formativa")return c.jsx(_9e,{currentUser:e});if(u.name==="Tareas Interdisciplinarias")return c.jsx(T9e,{currentUser:e});if(u.name==="Asistencia a Empresa")return c.jsx(nTe,{currentUser:e})}return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:u.name}),c.jsx("div",{className:"border-l-4 border-amber-400 pl-4",children:c.jsxs("p",{className:"text-slate-600 dark:text-slate-400 text-lg",children:["Aquí irá la funcionalidad de ",c.jsx("span",{className:"font-semibold",children:u.name}),"."]})})]})};return c.jsxs("div",{className:"h-screen flex flex-col bg-slate-100",children:[c.jsx(ege,{currentUser:e,onLogout:t,onNavigate:x,onUserUpdate:r,onChangeProfile:n,canChangeProfile:a,toggleSidebar:()=>m(!f),unreadMessagesCount:s,refreshUnreadCount:i}),c.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[f&&c.jsx("div",{onClick:()=>m(!1),className:"fixed inset-0 bg-black opacity-50 z-20 md:hidden"}),c.jsx("aside",{className:`fixed md:relative z-30 inset-y-0 left-0 w-72 bg-slate-800 text-white flex flex-col transform md:translate-x-0 ${f?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out`,children:c.jsx(g,{})}),c.jsx("main",{className:"flex-1 overflow-y-auto",children:c.jsx("div",{className:"p-6 md:p-8",children:b()})})]})]})},Vit=({onSelectProfile:e,isAdminView:t=!1})=>c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-slate-100 dark:bg-slate-900",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("div",{className:"mb-4 flex justify-center items-center",children:c.jsx(O6,{})}),c.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-200 mt-2",children:"Gestión Pedagógica LIR"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-lg",children:t?"Como administrador, seleccione el perfil que desea visualizar:":"Seleccione su perfil para continuar"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 w-full max-w-6xl",children:epe.map(r=>c.jsxs("button",{onClick:()=>e(r.id),className:"group bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md hover:shadow-xl hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-amber-400 focus:ring-opacity-50 transition-all duration-300 ease-in-out flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"text-slate-700 dark:text-slate-300 group-hover:text-amber-400 transition-colors duration-300",children:r.icon}),c.jsx("h2",{className:"text-xl font-semibold mt-4 text-slate-800 dark:text-slate-200",children:r.label})]},r.id))}),c.jsxs("footer",{className:"absolute bottom-4 text-slate-500 dark:text-slate-400 text-sm",children:["© ",new Date().getFullYear()," Liceo Industrial de Recoleta. Todos los derechos reservados."]})]}),zit=()=>{const[e,t]=k.useState(null),[r,n]=k.useState(null),[a,s]=k.useState(!0),[i,o]=k.useState(null),[l,u]=k.useState(!1),[d,f]=k.useState(null);k.useEffect(()=>{const _=xq(Jy,async S=>{if(t(S),S)try{const I=await uX(S.email);I?(n(I),I.profile===Kt.SUBDIRECCION&&u(!0)):(o("Usuario no encontrado en la base de datos. Contacte al administrador."),await wB())}catch{o("Error al conectar con la base de datos."),await wB()}else n(null),f(null),u(!1),o(null);s(!1)});return()=>_()},[]);const m=async(_,S)=>{if(o(null),!_.trim()||!S.trim()){o("Por favor ingrese email y contraseña");return}try{await Pme(_.trim(),S)}catch(I){switch(I.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":o("Credenciales inválidas. Verifique su email y contraseña.");break;case"auth/too-many-requests":o("Demasiados intentos fallidos. Intente más tarde.");break;case"auth/network-request-failed":o("Error de conexión. Verifique su internet.");break;default:o("Ocurrió un error al intentar iniciar sesión.")}}},p=async _=>{try{await Rme(_)}catch(S){console.error("Error al enviar email de recuperación:",S)}},x=_=>{f(_),u(!1)},g=()=>{u(!0),f(null)},b=async()=>{try{await wB()}catch(_){console.error("Error al cerrar sesión:",_)}};if(a)return c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-100 dark:bg-slate-900",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mb-4 flex justify-center items-center",children:c.jsx(O6,{})}),c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-500 mx-auto mb-4"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-lg font-medium",children:"Inicializando aplicación..."})]})});if(!e||!r)return c.jsx(spe,{onLoginAttempt:m,onForgotPasswordRequest:p,error:i});if(l&&r.profile===Kt.SUBDIRECCION)return c.jsx(Vit,{onSelectProfile:x,isAdminView:!0});const y=d||r.profile;return c.jsx(Hit,{currentUser:{...r,profile:y},onLogout:b,onChangeProfile:r.profile===Kt.SUBDIRECCION?g:void 0,canChangeProfile:r.profile===Kt.SUBDIRECCION})},cle=document.getElementById("root");if(!cle)throw new Error("Could not find root element to mount to");const $it=Sce.createRoot(cle);$it.render(c.jsx(ft.StrictMode,{children:c.jsx(zit,{})}));export{la as _,Git as c,il as g};
