(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Y4e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kb={exports:{}},bp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IB;function VQ(){if(IB)return bp;IB=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var i=null;if(a!==void 0&&(i=""+a),s.key!==void 0&&(i=""+s.key),"key"in s){a={};for(var o in s)o!=="key"&&(a[o]=s[o])}else a=s;return s=a.ref,{$$typeof:t,type:r,key:i,ref:s!==void 0?s:null,props:a}}return bp.Fragment=e,bp.jsx=n,bp.jsxs=n,bp}var FB;function GQ(){return FB||(FB=1,kb.exports=VQ()),kb.exports}var u=GQ(),Ib={exports:{}},Pn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RB;function zQ(){if(RB)return Pn;RB=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),i=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),A=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function p(ee){return ee===null||typeof ee!="object"?null:(ee=h&&ee[h]||ee["@@iterator"],typeof ee=="function"?ee:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function E(ee,he,O){this.props=ee,this.context=he,this.refs=b,this.updater=O||g}E.prototype.isReactComponent={},E.prototype.setState=function(ee,he){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,he,"setState")},E.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function T(){}T.prototype=E.prototype;function I(ee,he,O){this.props=ee,this.context=he,this.refs=b,this.updater=O||g}var k=I.prototype=new T;k.constructor=I,w(k,E.prototype),k.isPureReactComponent=!0;var F=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function S(ee,he,O,q,J,ne){return O=ne.ref,{$$typeof:t,type:ee,key:he,ref:O!==void 0?O:null,props:ne}}function N(ee,he){return S(ee.type,he,void 0,void 0,void 0,ee.props)}function B(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===t}function V(ee){var he={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(O){return he[O]})}var U=/\/+/g;function L(ee,he){return typeof ee=="object"&&ee!==null&&ee.key!=null?V(""+ee.key):he.toString(36)}function j(){}function G(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(j,j):(ee.status="pending",ee.then(function(he){ee.status==="pending"&&(ee.status="fulfilled",ee.value=he)},function(he){ee.status==="pending"&&(ee.status="rejected",ee.reason=he)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function se(ee,he,O,q,J){var ne=typeof ee;(ne==="undefined"||ne==="boolean")&&(ee=null);var ae=!1;if(ee===null)ae=!0;else switch(ne){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(ee.$$typeof){case t:case e:ae=!0;break;case d:return ae=ee._init,se(ae(ee._payload),he,O,q,J)}}if(ae)return J=J(ee),ae=q===""?"."+L(ee,0):q,F(J)?(O="",ae!=null&&(O=ae.replace(U,"$&/")+"/"),se(J,he,O,"",function(ye){return ye})):J!=null&&(B(J)&&(J=N(J,O+(J.key==null||ee&&ee.key===J.key?"":(""+J.key).replace(U,"$&/")+"/")+ae)),he.push(J)),1;ae=0;var ue=q===""?".":q+":";if(F(ee))for(var pe=0;pe<ee.length;pe++)q=ee[pe],ne=ue+L(q,pe),ae+=se(q,he,O,ne,J);else if(pe=p(ee),typeof pe=="function")for(ee=pe.call(ee),pe=0;!(q=ee.next()).done;)q=q.value,ne=ue+L(q,pe++),ae+=se(q,he,O,ne,J);else if(ne==="object"){if(typeof ee.then=="function")return se(G(ee),he,O,q,J);throw he=String(ee),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.")}return ae}function K(ee,he,O){if(ee==null)return ee;var q=[],J=0;return se(ee,q,"","",function(ne){return he.call(O,ne,J++)}),q}function Y(ee){if(ee._status===-1){var he=ee._result;he=he(),he.then(function(O){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=O)},function(O){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=O)}),ee._status===-1&&(ee._status=0,ee._result=he)}if(ee._status===1)return ee._result.default;throw ee._result}var oe=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var he=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(he))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)};function Z(){}return Pn.Children={map:K,forEach:function(ee,he,O){K(ee,function(){he.apply(this,arguments)},O)},count:function(ee){var he=0;return K(ee,function(){he++}),he},toArray:function(ee){return K(ee,function(he){return he})||[]},only:function(ee){if(!B(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},Pn.Component=E,Pn.Fragment=n,Pn.Profiler=s,Pn.PureComponent=I,Pn.StrictMode=r,Pn.Suspense=l,Pn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Pn.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return D.H.useMemoCache(ee)}},Pn.cache=function(ee){return function(){return ee.apply(null,arguments)}},Pn.cloneElement=function(ee,he,O){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var q=w({},ee.props),J=ee.key,ne=void 0;if(he!=null)for(ae in he.ref!==void 0&&(ne=void 0),he.key!==void 0&&(J=""+he.key),he)!P.call(he,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&he.ref===void 0||(q[ae]=he[ae]);var ae=arguments.length-2;if(ae===1)q.children=O;else if(1<ae){for(var ue=Array(ae),pe=0;pe<ae;pe++)ue[pe]=arguments[pe+2];q.children=ue}return S(ee.type,J,void 0,void 0,ne,q)},Pn.createContext=function(ee){return ee={$$typeof:i,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:a,_context:ee},ee},Pn.createElement=function(ee,he,O){var q,J={},ne=null;if(he!=null)for(q in he.key!==void 0&&(ne=""+he.key),he)P.call(he,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(J[q]=he[q]);var ae=arguments.length-2;if(ae===1)J.children=O;else if(1<ae){for(var ue=Array(ae),pe=0;pe<ae;pe++)ue[pe]=arguments[pe+2];J.children=ue}if(ee&&ee.defaultProps)for(q in ae=ee.defaultProps,ae)J[q]===void 0&&(J[q]=ae[q]);return S(ee,ne,void 0,void 0,null,J)},Pn.createRef=function(){return{current:null}},Pn.forwardRef=function(ee){return{$$typeof:o,render:ee}},Pn.isValidElement=B,Pn.lazy=function(ee){return{$$typeof:d,_payload:{_status:-1,_result:ee},_init:Y}},Pn.memo=function(ee,he){return{$$typeof:A,type:ee,compare:he===void 0?null:he}},Pn.startTransition=function(ee){var he=D.T,O={};D.T=O;try{var q=ee(),J=D.S;J!==null&&J(O,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(Z,oe)}catch(ne){oe(ne)}finally{D.T=he}},Pn.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Pn.use=function(ee){return D.H.use(ee)},Pn.useActionState=function(ee,he,O){return D.H.useActionState(ee,he,O)},Pn.useCallback=function(ee,he){return D.H.useCallback(ee,he)},Pn.useContext=function(ee){return D.H.useContext(ee)},Pn.useDebugValue=function(){},Pn.useDeferredValue=function(ee,he){return D.H.useDeferredValue(ee,he)},Pn.useEffect=function(ee,he,O){var q=D.H;if(typeof O=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(ee,he)},Pn.useId=function(){return D.H.useId()},Pn.useImperativeHandle=function(ee,he,O){return D.H.useImperativeHandle(ee,he,O)},Pn.useInsertionEffect=function(ee,he){return D.H.useInsertionEffect(ee,he)},Pn.useLayoutEffect=function(ee,he){return D.H.useLayoutEffect(ee,he)},Pn.useMemo=function(ee,he){return D.H.useMemo(ee,he)},Pn.useOptimistic=function(ee,he){return D.H.useOptimistic(ee,he)},Pn.useReducer=function(ee,he,O){return D.H.useReducer(ee,he,O)},Pn.useRef=function(ee){return D.H.useRef(ee)},Pn.useState=function(ee){return D.H.useState(ee)},Pn.useSyncExternalStore=function(ee,he,O){return D.H.useSyncExternalStore(ee,he,O)},Pn.useTransition=function(){return D.H.useTransition()},Pn.version="19.1.1",Pn}var DB;function ox(){return DB||(DB=1,Ib.exports=zQ()),Ib.exports}var X=ox();const ut=wS(X);var Fb={exports:{}},Cp={},Rb={exports:{}},Db={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UB;function KQ(){return UB||(UB=1,function(t){function e(K,Y){var oe=K.length;K.push(Y);e:for(;0<oe;){var Z=oe-1>>>1,ee=K[Z];if(0<s(ee,Y))K[Z]=Y,K[oe]=ee,oe=Z;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var Y=K[0],oe=K.pop();if(oe!==Y){K[0]=oe;e:for(var Z=0,ee=K.length,he=ee>>>1;Z<he;){var O=2*(Z+1)-1,q=K[O],J=O+1,ne=K[J];if(0>s(q,oe))J<ee&&0>s(ne,q)?(K[Z]=ne,K[J]=oe,Z=J):(K[Z]=q,K[O]=oe,Z=O);else if(J<ee&&0>s(ne,oe))K[Z]=ne,K[J]=oe,Z=J;else break e}}return Y}function s(K,Y){var oe=K.sortIndex-Y.sortIndex;return oe!==0?oe:K.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var l=[],A=[],d=1,h=null,p=3,g=!1,w=!1,b=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function F(K){for(var Y=n(A);Y!==null;){if(Y.callback===null)r(A);else if(Y.startTime<=K)r(A),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(A)}}function D(K){if(b=!1,F(K),!w)if(n(l)!==null)w=!0,P||(P=!0,L());else{var Y=n(A);Y!==null&&se(D,Y.startTime-K)}}var P=!1,S=-1,N=5,B=-1;function V(){return E?!0:!(t.unstable_now()-B<N)}function U(){if(E=!1,P){var K=t.unstable_now();B=K;var Y=!0;try{e:{w=!1,b&&(b=!1,I(S),S=-1),g=!0;var oe=p;try{t:{for(F(K),h=n(l);h!==null&&!(h.expirationTime>K&&V());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,p=h.priorityLevel;var ee=Z(h.expirationTime<=K);if(K=t.unstable_now(),typeof ee=="function"){h.callback=ee,F(K),Y=!0;break t}h===n(l)&&r(l),F(K)}else r(l);h=n(l)}if(h!==null)Y=!0;else{var he=n(A);he!==null&&se(D,he.startTime-K),Y=!1}}break e}finally{h=null,p=oe,g=!1}Y=void 0}}finally{Y?L():P=!1}}}var L;if(typeof k=="function")L=function(){k(U)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,G=j.port2;j.port1.onmessage=U,L=function(){G.postMessage(null)}}else L=function(){T(U,0)};function se(K,Y){S=T(function(){K(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(K){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var oe=p;p=Y;try{return K()}finally{p=oe}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(K,Y){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var oe=p;p=K;try{return Y()}finally{p=oe}},t.unstable_scheduleCallback=function(K,Y,oe){var Z=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Z+oe:Z):oe=Z,K){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=oe+ee,K={id:d++,callback:Y,priorityLevel:K,startTime:oe,expirationTime:ee,sortIndex:-1},oe>Z?(K.sortIndex=oe,e(A,K),n(l)===null&&K===n(A)&&(b?(I(S),S=-1):b=!0,se(D,oe-Z))):(K.sortIndex=ee,e(l,K),w||g||(w=!0,P||(P=!0,L()))),K},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(K){var Y=p;return function(){var oe=p;p=Y;try{return K.apply(this,arguments)}finally{p=oe}}}}(Db)),Db}var LB;function qQ(){return LB||(LB=1,Rb.exports=KQ()),Rb.exports}var Ub={exports:{}},gi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MB;function WQ(){if(MB)return gi;MB=1;var t=ox();function e(l){var A="https://react.dev/errors/"+l;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)A+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(l,A,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:h==null?null:""+h,children:l,containerInfo:A,implementation:d}}var i=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,A){if(l==="font")return"";if(typeof A=="string")return A==="use-credentials"?A:""}return gi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gi.createPortal=function(l,A){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)throw Error(e(299));return a(l,A,null,d)},gi.flushSync=function(l){var A=i.T,d=r.p;try{if(i.T=null,r.p=2,l)return l()}finally{i.T=A,r.p=d,r.d.f()}},gi.preconnect=function(l,A){typeof l=="string"&&(A?(A=A.crossOrigin,A=typeof A=="string"?A==="use-credentials"?A:"":void 0):A=null,r.d.C(l,A))},gi.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},gi.preinit=function(l,A){if(typeof l=="string"&&A&&typeof A.as=="string"){var d=A.as,h=o(d,A.crossOrigin),p=typeof A.integrity=="string"?A.integrity:void 0,g=typeof A.fetchPriority=="string"?A.fetchPriority:void 0;d==="style"?r.d.S(l,typeof A.precedence=="string"?A.precedence:void 0,{crossOrigin:h,integrity:p,fetchPriority:g}):d==="script"&&r.d.X(l,{crossOrigin:h,integrity:p,fetchPriority:g,nonce:typeof A.nonce=="string"?A.nonce:void 0})}},gi.preinitModule=function(l,A){if(typeof l=="string")if(typeof A=="object"&&A!==null){if(A.as==null||A.as==="script"){var d=o(A.as,A.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0})}}else A==null&&r.d.M(l)},gi.preload=function(l,A){if(typeof l=="string"&&typeof A=="object"&&A!==null&&typeof A.as=="string"){var d=A.as,h=o(d,A.crossOrigin);r.d.L(l,d,{crossOrigin:h,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0,type:typeof A.type=="string"?A.type:void 0,fetchPriority:typeof A.fetchPriority=="string"?A.fetchPriority:void 0,referrerPolicy:typeof A.referrerPolicy=="string"?A.referrerPolicy:void 0,imageSrcSet:typeof A.imageSrcSet=="string"?A.imageSrcSet:void 0,imageSizes:typeof A.imageSizes=="string"?A.imageSizes:void 0,media:typeof A.media=="string"?A.media:void 0})}},gi.preloadModule=function(l,A){if(typeof l=="string")if(A){var d=o(A.as,A.crossOrigin);r.d.m(l,{as:typeof A.as=="string"&&A.as!=="script"?A.as:void 0,crossOrigin:d,integrity:typeof A.integrity=="string"?A.integrity:void 0})}else r.d.m(l)},gi.requestFormReset=function(l){r.d.r(l)},gi.unstable_batchedUpdates=function(l,A){return l(A)},gi.useFormState=function(l,A,d){return i.H.useFormState(l,A,d)},gi.useFormStatus=function(){return i.H.useHostTransitionStatus()},gi.version="19.1.1",gi}var PB;function aD(){if(PB)return Ub.exports;PB=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ub.exports=WQ(),Ub.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OB;function $Q(){if(OB)return Cp;OB=1;var t=qQ(),e=ox(),n=aD();function r(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function a(c){var f=c,m=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(m=f.return),c=f.return;while(c)}return f.tag===3?m:null}function i(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function o(c){if(a(c)!==c)throw Error(r(188))}function l(c){var f=c.alternate;if(!f){if(f=a(c),f===null)throw Error(r(188));return f!==c?null:c}for(var m=c,y=f;;){var R=m.return;if(R===null)break;var Q=R.alternate;if(Q===null){if(y=R.return,y!==null){m=y;continue}break}if(R.child===Q.child){for(Q=R.child;Q;){if(Q===m)return o(R),c;if(Q===y)return o(R),f;Q=Q.sibling}throw Error(r(188))}if(m.return!==y.return)m=R,y=Q;else{for(var le=!1,ve=R.child;ve;){if(ve===m){le=!0,m=R,y=Q;break}if(ve===y){le=!0,y=R,m=Q;break}ve=ve.sibling}if(!le){for(ve=Q.child;ve;){if(ve===m){le=!0,m=Q,y=R;break}if(ve===y){le=!0,y=Q,m=R;break}ve=ve.sibling}if(!le)throw Error(r(189))}}if(m.alternate!==y)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?c:f}function A(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=A(c),f!==null)return f;c=c.sibling}return null}var d=Object.assign,h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),k=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function L(c){return c===null||typeof c!="object"?null:(c=U&&c[U]||c["@@iterator"],typeof c=="function"?c:null)}var j=Symbol.for("react.client.reference");function G(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===j?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case w:return"Fragment";case E:return"Profiler";case b:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList";case B:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case g:return"Portal";case k:return(c.displayName||"Context")+".Provider";case I:return(c._context.displayName||"Context")+".Consumer";case F:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case S:return f=c.displayName||null,f!==null?f:G(c.type)||"Memo";case N:f=c._payload,c=c._init;try{return G(c(f))}catch{}}return null}var se=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Z=[],ee=-1;function he(c){return{current:c}}function O(c){0>ee||(c.current=Z[ee],Z[ee]=null,ee--)}function q(c,f){ee++,Z[ee]=c.current,c.current=f}var J=he(null),ne=he(null),ae=he(null),ue=he(null);function pe(c,f){switch(q(ae,f),q(ne,c),q(J,null),f.nodeType){case 9:case 11:c=(c=f.documentElement)&&(c=c.namespaceURI)?aB(c):0;break;default:if(c=f.tagName,f=f.namespaceURI)f=aB(f),c=iB(f,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}O(J),q(J,c)}function ye(){O(J),O(ne),O(ae)}function Ie(c){c.memoizedState!==null&&q(ue,c);var f=J.current,m=iB(f,c.type);f!==m&&(q(ne,c),q(J,m))}function we(c){ne.current===c&&(O(J),O(ne)),ue.current===c&&(O(ue),gp._currentValue=oe)}var ie=Object.prototype.hasOwnProperty,De=t.unstable_scheduleCallback,st=t.unstable_cancelCallback,Ue=t.unstable_shouldYield,Ee=t.unstable_requestPaint,ze=t.unstable_now,nt=t.unstable_getCurrentPriorityLevel,it=t.unstable_ImmediatePriority,mt=t.unstable_UserBlockingPriority,Ct=t.unstable_NormalPriority,At=t.unstable_LowPriority,kt=t.unstable_IdlePriority,Ft=t.log,qt=t.unstable_setDisableYieldValue,Mt=null,Vt=null;function Yt(c){if(typeof Ft=="function"&&qt(c),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(Mt,c)}catch{}}var Pt=Math.clz32?Math.clz32:xn,It=Math.log,gt=Math.LN2;function xn(c){return c>>>=0,c===0?32:31-(It(c)/gt|0)|0}var Wt=256,ir=4194304;function mn(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Fn(c,f,m){var y=c.pendingLanes;if(y===0)return 0;var R=0,Q=c.suspendedLanes,le=c.pingedLanes;c=c.warmLanes;var ve=y&134217727;return ve!==0?(y=ve&~Q,y!==0?R=mn(y):(le&=ve,le!==0?R=mn(le):m||(m=ve&~c,m!==0&&(R=mn(m))))):(ve=y&~Q,ve!==0?R=mn(ve):le!==0?R=mn(le):m||(m=y&~c,m!==0&&(R=mn(m)))),R===0?0:f!==0&&f!==R&&(f&Q)===0&&(Q=R&-R,m=f&-f,Q>=m||Q===32&&(m&4194048)!==0)?f:R}function Er(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function Bn(c,f){switch(c){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zs(){var c=Wt;return Wt<<=1,(Wt&4194048)===0&&(Wt=256),c}function Xn(){var c=ir;return ir<<=1,(ir&62914560)===0&&(ir=4194304),c}function Wr(c){for(var f=[],m=0;31>m;m++)f.push(c);return f}function ls(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Dn(c,f,m,y,R,Q){var le=c.pendingLanes;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=m,c.entangledLanes&=m,c.errorRecoveryDisabledLanes&=m,c.shellSuspendCounter=0;var ve=c.entanglements,Fe=c.expirationTimes,Ze=c.hiddenUpdates;for(m=le&~m;0<m;){var dt=31-Pt(m),yt=1<<dt;ve[dt]=0,Fe[dt]=-1;var tt=Ze[dt];if(tt!==null)for(Ze[dt]=null,dt=0;dt<tt.length;dt++){var rt=tt[dt];rt!==null&&(rt.lane&=-536870913)}m&=~yt}y!==0&&en(c,y,0),Q!==0&&R===0&&c.tag!==0&&(c.suspendedLanes|=Q&~(le&~f))}function en(c,f,m){c.pendingLanes|=f,c.suspendedLanes&=~f;var y=31-Pt(f);c.entangledLanes|=f,c.entanglements[y]=c.entanglements[y]|1073741824|m&4194090}function jn(c,f){var m=c.entangledLanes|=f;for(c=c.entanglements;m;){var y=31-Pt(m),R=1<<y;R&f|c[y]&f&&(c[y]|=f),m&=~R}}function ea(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function jr(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function hs(){var c=Y.p;return c!==0?c:(c=window.event,c===void 0?32:_B(c.type))}function ma(c,f){var m=Y.p;try{return Y.p=c,f()}finally{Y.p=m}}var Ht=Math.random().toString(36).slice(2),or="__reactFiber$"+Ht,Zn="__reactProps$"+Ht,_r="__reactContainer$"+Ht,kr="__reactEvents$"+Ht,Qr="__reactListeners$"+Ht,de="__reactHandles$"+Ht,Be="__reactResources$"+Ht,Ce="__reactMarker$"+Ht;function _e(c){delete c[or],delete c[Zn],delete c[kr],delete c[Qr],delete c[de]}function Se(c){var f=c[or];if(f)return f;for(var m=c.parentNode;m;){if(f=m[_r]||m[or]){if(m=f.alternate,f.child!==null||m!==null&&m.child!==null)for(c=AB(c);c!==null;){if(m=c[or])return m;c=AB(c)}return f}c=m,m=c.parentNode}return null}function Ne(c){if(c=c[or]||c[_r]){var f=c.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return c}return null}function Ke(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c.stateNode;throw Error(r(33))}function et(c){var f=c[Be];return f||(f=c[Be]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Qe(c){c[Ce]=!0}var We=new Set,Je={};function vt(c,f){Nt(c,f),Nt(c+"Capture",f)}function Nt(c,f){for(Je[c]=f,c=0;c<f.length;c++)We.add(f[c])}var Ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tt={},Rt={};function cn(c){return ie.call(Rt,c)?!0:ie.call(Tt,c)?!1:Ot.test(c)?Rt[c]=!0:(Tt[c]=!0,!1)}function Un(c,f,m){if(cn(f))if(m===null)c.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":c.removeAttribute(f);return;case"boolean":var y=f.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){c.removeAttribute(f);return}}c.setAttribute(f,""+m)}}function Ln(c,f,m){if(m===null)c.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(f);return}c.setAttribute(f,""+m)}}function Qn(c,f,m,y){if(y===null)c.removeAttribute(m);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(m);return}c.setAttributeNS(f,m,""+y)}}var Es,ii;function _s(c){if(Es===void 0)try{throw Error()}catch(m){var f=m.stack.trim().match(/\n( *(at )?)/);Es=f&&f[1]||"",ii=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Es+c+ii}var ta=!1;function Ms(c,f){if(!c||ta)return"";ta=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(f){var yt=function(){throw Error()};if(Object.defineProperty(yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(yt,[])}catch(rt){var tt=rt}Reflect.construct(c,[],yt)}else{try{yt.call()}catch(rt){tt=rt}c.call(yt.prototype)}}else{try{throw Error()}catch(rt){tt=rt}(yt=c())&&typeof yt.catch=="function"&&yt.catch(function(){})}}catch(rt){if(rt&&tt&&typeof rt.stack=="string")return[rt.stack,tt.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Q=y.DetermineComponentFrameRoot(),le=Q[0],ve=Q[1];if(le&&ve){var Fe=le.split(`
`),Ze=ve.split(`
`);for(R=y=0;y<Fe.length&&!Fe[y].includes("DetermineComponentFrameRoot");)y++;for(;R<Ze.length&&!Ze[R].includes("DetermineComponentFrameRoot");)R++;if(y===Fe.length||R===Ze.length)for(y=Fe.length-1,R=Ze.length-1;1<=y&&0<=R&&Fe[y]!==Ze[R];)R--;for(;1<=y&&0<=R;y--,R--)if(Fe[y]!==Ze[R]){if(y!==1||R!==1)do if(y--,R--,0>R||Fe[y]!==Ze[R]){var dt=`
`+Fe[y].replace(" at new "," at ");return c.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",c.displayName)),dt}while(1<=y&&0<=R);break}}}finally{ta=!1,Error.prepareStackTrace=m}return(m=c?c.displayName||c.name:"")?_s(m):""}function pa(c){switch(c.tag){case 26:case 27:case 5:return _s(c.type);case 16:return _s("Lazy");case 13:return _s("Suspense");case 19:return _s("SuspenseList");case 0:case 15:return Ms(c.type,!1);case 11:return Ms(c.type.render,!1);case 1:return Ms(c.type,!0);case 31:return _s("Activity");default:return""}}function Hr(c){try{var f="";do f+=pa(c),c=c.return;while(c);return f}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function na(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Cc(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function ku(c){var f=Cc(c)?"checked":"value",m=Object.getOwnPropertyDescriptor(c.constructor.prototype,f),y=""+c[f];if(!c.hasOwnProperty(f)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var R=m.get,Q=m.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return R.call(this)},set:function(le){y=""+le,Q.call(this,le)}}),Object.defineProperty(c,f,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(le){y=""+le},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function qo(c){c._valueTracker||(c._valueTracker=ku(c))}function TA(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var m=f.getValue(),y="";return c&&(y=Cc(c)?c.checked?"true":"false":c.value),c=y,c!==m?(f.setValue(c),!0):!1}function ga(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var Ec=/[\n"\\]/g;function lr(c){return c.replace(Ec,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function xa(c,f,m,y,R,Q,le,ve){c.name="",le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?c.type=le:c.removeAttribute("type"),f!=null?le==="number"?(f===0&&c.value===""||c.value!=f)&&(c.value=""+na(f)):c.value!==""+na(f)&&(c.value=""+na(f)):le!=="submit"&&le!=="reset"||c.removeAttribute("value"),f!=null?$o(c,le,na(f)):m!=null?$o(c,le,na(m)):y!=null&&c.removeAttribute("value"),R==null&&Q!=null&&(c.defaultChecked=!!Q),R!=null&&(c.checked=R&&typeof R!="function"&&typeof R!="symbol"),ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"?c.name=""+na(ve):c.removeAttribute("name")}function Wo(c,f,m,y,R,Q,le,ve){if(Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"&&(c.type=Q),f!=null||m!=null){if(!(Q!=="submit"&&Q!=="reset"||f!=null))return;m=m!=null?""+na(m):"",f=f!=null?""+na(f):m,ve||f===c.value||(c.value=f),c.defaultValue=f}y=y??R,y=typeof y!="function"&&typeof y!="symbol"&&!!y,c.checked=ve?c.checked:!!y,c.defaultChecked=!!y,le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"&&(c.name=le)}function $o(c,f,m){f==="number"&&ga(c.ownerDocument)===c||c.defaultValue===""+m||(c.defaultValue=""+m)}function Wi(c,f,m,y){if(c=c.options,f){f={};for(var R=0;R<m.length;R++)f["$"+m[R]]=!0;for(m=0;m<c.length;m++)R=f.hasOwnProperty("$"+c[m].value),c[m].selected!==R&&(c[m].selected=R),R&&y&&(c[m].defaultSelected=!0)}else{for(m=""+na(m),f=null,R=0;R<c.length;R++){if(c[R].value===m){c[R].selected=!0,y&&(c[R].defaultSelected=!0);return}f!==null||c[R].disabled||(f=c[R])}f!==null&&(f.selected=!0)}}function gr(c,f,m){if(f!=null&&(f=""+na(f),f!==c.value&&(c.value=f),m==null)){c.defaultValue!==f&&(c.defaultValue=f);return}c.defaultValue=m!=null?""+na(m):""}function Yo(c,f,m,y){if(f==null){if(y!=null){if(m!=null)throw Error(r(92));if(se(y)){if(1<y.length)throw Error(r(93));y=y[0]}m=y}m==null&&(m=""),f=m}m=na(f),c.defaultValue=m,y=c.textContent,y===m&&y!==""&&y!==null&&(c.value=y)}function oi(c,f){if(f){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=f;return}}c.textContent=f}var yo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Iu(c,f,m){var y=f.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?y?c.setProperty(f,""):f==="float"?c.cssFloat="":c[f]="":y?c.setProperty(f,m):typeof m!="number"||m===0||yo.has(f)?f==="float"?c.cssFloat=m:c[f]=(""+m).trim():c[f]=m+"px"}function BA(c,f,m){if(f!=null&&typeof f!="object")throw Error(r(62));if(c=c.style,m!=null){for(var y in m)!m.hasOwnProperty(y)||f!=null&&f.hasOwnProperty(y)||(y.indexOf("--")===0?c.setProperty(y,""):y==="float"?c.cssFloat="":c[y]="");for(var R in f)y=f[R],f.hasOwnProperty(R)&&m[R]!==y&&Iu(c,R,y)}else for(var Q in f)f.hasOwnProperty(Q)&&Iu(c,Q,f[Q])}function NA(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_c=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bo(c){return _c.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var $i=null;function Ir(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Co=null,Yi=null;function dn(c){var f=Ne(c);if(f&&(c=f.stateNode)){var m=c[Zn]||null;e:switch(c=f.stateNode,f.type){case"input":if(xa(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),f=m.name,m.type==="radio"&&f!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+lr(""+f)+'"][type="radio"]'),f=0;f<m.length;f++){var y=m[f];if(y!==c&&y.form===c.form){var R=y[Zn]||null;if(!R)throw Error(r(90));xa(y,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(f=0;f<m.length;f++)y=m[f],y.form===c.form&&TA(y)}break e;case"textarea":gr(c,m.value,m.defaultValue);break e;case"select":f=m.value,f!=null&&Wi(c,!!m.multiple,f,!1)}}}var Ji=!1;function Fu(c,f,m){if(Ji)return c(f,m);Ji=!0;try{var y=c(f);return y}finally{if(Ji=!1,(Co!==null||Yi!==null)&&(l1(),Co&&(f=Co,c=Yi,Yi=Co=null,dn(f),c)))for(f=0;f<c.length;f++)dn(c[f])}}function Na(c,f){var m=c.stateNode;if(m===null)return null;var y=m[Zn]||null;if(y===null)return null;m=y[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(c=c.type,y=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!y;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(r(231,f,typeof m));return m}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ga=!1;if(li)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){Ga=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{Ga=!1}var ci=null,Jo=null,Eo=null;function kA(){if(Eo)return Eo;var c,f=Jo,m=f.length,y,R="value"in ci?ci.value:ci.textContent,Q=R.length;for(c=0;c<m&&f[c]===R[c];c++);var le=m-c;for(y=1;y<=le&&f[m-y]===R[Q-y];y++);return Eo=R.slice(c,1<y?1-y:void 0)}function Ai(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function ka(){return!0}function Zi(){return!1}function Ss(c){function f(m,y,R,Q,le){this._reactName=m,this._targetInst=R,this.type=y,this.nativeEvent=Q,this.target=le,this.currentTarget=null;for(var ve in c)c.hasOwnProperty(ve)&&(m=c[ve],this[ve]=m?m(Q):Q[ve]);return this.isDefaultPrevented=(Q.defaultPrevented!=null?Q.defaultPrevented:Q.returnValue===!1)?ka:Zi,this.isPropagationStopped=Zi,this}return d(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),f}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xo=Ss(qn),eo=d({},qn,{view:0,detail:0}),IA=Ss(eo),Dl,Ul,Oi,Ia=d({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nl,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Oi&&(Oi&&c.type==="mousemove"?(Dl=c.screenX-Oi.screenX,Ul=c.screenY-Oi.screenY):Ul=Dl=0,Oi=c),Dl)},movementY:function(c){return"movementY"in c?c.movementY:Ul}}),Ts=Ss(Ia),Ru=d({},Ia,{dataTransfer:0}),Zo=Ss(Ru),va=d({},eo,{relatedTarget:0}),el=Ss(va),_o=d({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Sc=Ss(_o),Ll=d({},qn,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Tc=Ss(Ll),FA=d({},qn,{data:0}),Ml=Ss(FA),tl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ol(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=Bc[c])?!!f[c]:!1}function nl(){return Ol}var Du=d({},eo,{key:function(c){if(c.key){var f=tl[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=Ai(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Pl[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nl,charCode:function(c){return c.type==="keypress"?Ai(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Ai(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),So=Ss(Du),rl=d({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jl=Ss(rl),Fa=d({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nl}),Nc=Ss(Fa),H=d({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ae=Ss(H),ke=d({},Ia,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Re=Ss(ke),He=d({},qn,{newState:0,oldState:0}),ot=Ss(He),Et=[9,13,27,32],jt=li&&"CompositionEvent"in window,_=null;li&&"documentMode"in document&&(_=document.documentMode);var W=li&&"TextEvent"in window&&!_,re=li&&(!jt||_&&8<_&&11>=_),xe=" ",je=!1;function Xe(c,f){switch(c){case"keyup":return Et.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function St(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var fn=!1;function Wn(c,f){switch(c){case"compositionend":return St(f);case"keypress":return f.which!==32?null:(je=!0,xe);case"textInput":return c=f.data,c===xe&&je?null:c;default:return null}}function Sn(c,f){if(fn)return c==="compositionend"||!jt&&Xe(c,f)?(c=kA(),Eo=Jo=ci=null,fn=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return re&&f.locale!=="ko"?null:f.data;default:return null}}var xr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sr(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!xr[c.type]:f==="textarea"}function to(c,f,m,y){Co?Yi?Yi.push(y):Yi=[y]:Co=y,f=h1(f,"onChange"),0<f.length&&(m=new Xo("onChange","change",null,m,y),c.push({event:m,listeners:f}))}var ms=null,ui=null;function sl(c){eB(c,0)}function kc(c){var f=Ke(c);if(TA(f))return c}function Uu(c,f){if(c==="change")return f}var RA=!1;if(li){var Ps;if(li){var Ic="oninput"in document;if(!Ic){var DA=document.createElement("div");DA.setAttribute("oninput","return;"),Ic=typeof DA.oninput=="function"}Ps=Ic}else Ps=!1;RA=Ps&&(!document.documentMode||9<document.documentMode)}function UA(){ms&&(ms.detachEvent("onpropertychange",Lu),ui=ms=null)}function Lu(c){if(c.propertyName==="value"&&kc(ui)){var f=[];to(f,ui,c,Ir(c)),Fu(sl,f)}}function di(c,f,m){c==="focusin"?(UA(),ms=f,ui=m,ms.attachEvent("onpropertychange",Lu)):c==="focusout"&&UA()}function Pm(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return kc(ui)}function Af(c,f){if(c==="click")return kc(f)}function Bh(c,f){if(c==="input"||c==="change")return kc(f)}function no(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var ra=typeof Object.is=="function"?Object.is:no;function Fc(c,f){if(ra(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var m=Object.keys(c),y=Object.keys(f);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var R=m[y];if(!ie.call(f,R)||!ra(c[R],f[R]))return!1}return!0}function uf(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Ql(c,f){var m=uf(c);c=0;for(var y;m;){if(m.nodeType===3){if(y=c+m.textContent.length,c<=f&&y>=f)return{node:m,offset:f-c};c=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=uf(m)}}function Rc(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?Rc(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function za(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var f=ga(c.document);f instanceof c.HTMLIFrameElement;){try{var m=typeof f.contentWindow.location.href=="string"}catch{m=!1}if(m)c=f.contentWindow;else break;f=ga(c.document)}return f}function ya(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}var Dc=li&&"documentMode"in document&&11>=document.documentMode,fi=null,To=null,al=null,Bo=!1;function cs(c,f,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Bo||fi==null||fi!==ga(y)||(y=fi,"selectionStart"in y&&ya(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),al&&Fc(al,y)||(al=y,y=h1(To,"onSelect"),0<y.length&&(f=new Xo("onSelect","select",null,f,m),c.push({event:f,listeners:y}),f.target=fi)))}function No(c,f){var m={};return m[c.toLowerCase()]=f.toLowerCase(),m["Webkit"+c]="webkit"+f,m["Moz"+c]="moz"+f,m}var Bs={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionrun:No("Transition","TransitionRun"),transitionstart:No("Transition","TransitionStart"),transitioncancel:No("Transition","TransitionCancel"),transitionend:No("Transition","TransitionEnd")},hi={},LA={};li&&(LA=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function il(c){if(hi[c])return hi[c];if(!Bs[c])return c;var f=Bs[c],m;for(m in f)if(f.hasOwnProperty(m)&&m in LA)return hi[c]=f[m];return c}var Mu=il("animationend"),Uc=il("animationiteration"),Lc=il("animationstart"),Mc=il("transitionrun"),MA=il("transitionstart"),Pu=il("transitioncancel"),Pc=il("transitionend"),Hl=new Map,PA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");PA.push("scrollEnd");function As(c,f){Hl.set(c,f),vt(f,[c])}var ji=new WeakMap;function Vn(c,f){if(typeof c=="object"&&c!==null){var m=ji.get(c);return m!==void 0?m:(f={value:c,source:f,stack:Hr(f)},ji.set(c,f),f)}return{value:c,source:f,stack:Hr(f)}}var Gn=[],Vr=0,ps=0;function ro(){for(var c=Vr,f=ps=Vr=0;f<c;){var m=Gn[f];Gn[f++]=null;var y=Gn[f];Gn[f++]=null;var R=Gn[f];Gn[f++]=null;var Q=Gn[f];if(Gn[f++]=null,y!==null&&R!==null){var le=y.pending;le===null?R.next=R:(R.next=le.next,le.next=R),y.pending=R}Q!==0&&Nh(m,R,Q)}}function Oc(c,f,m,y){Gn[Vr++]=c,Gn[Vr++]=f,Gn[Vr++]=m,Gn[Vr++]=y,ps|=y,c.lanes|=y,c=c.alternate,c!==null&&(c.lanes|=y)}function jc(c,f,m,y){return Oc(c,f,m,y),OA(c)}function Vl(c,f){return Oc(c,null,null,f),OA(c)}function Nh(c,f,m){c.lanes|=m;var y=c.alternate;y!==null&&(y.lanes|=m);for(var R=!1,Q=c.return;Q!==null;)Q.childLanes|=m,y=Q.alternate,y!==null&&(y.childLanes|=m),Q.tag===22&&(c=Q.stateNode,c===null||c._visibility&1||(R=!0)),c=Q,Q=Q.return;return c.tag===3?(Q=c.stateNode,R&&f!==null&&(R=31-Pt(m),c=Q.hiddenUpdates,y=c[R],y===null?c[R]=[f]:y.push(f),f.lane=m|536870912),Q):null}function OA(c){if(50<cp)throw cp=0,eb=null,Error(r(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}var sa={};function so(c,f,m,y){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ra(c,f,m,y){return new so(c,f,m,y)}function Ou(c){return c=c.prototype,!(!c||!c.isReactComponent)}function ol(c,f){var m=c.alternate;return m===null?(m=Ra(c.tag,f,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=f,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&65011712,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,f=c.dependencies,m.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m.refCleanup=c.refCleanup,m}function df(c,f){c.flags&=65011714;var m=c.alternate;return m===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,f=m.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function jA(c,f,m,y,R,Q){var le=0;if(y=c,typeof c=="function")Ou(c)&&(le=1);else if(typeof c=="string")le=kQ(c,m,J.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case B:return c=Ra(31,m,f,R),c.elementType=B,c.lanes=Q,c;case w:return Gl(m.children,R,Q,f);case b:le=8,R|=24;break;case E:return c=Ra(12,m,f,R|2),c.elementType=E,c.lanes=Q,c;case D:return c=Ra(13,m,f,R),c.elementType=D,c.lanes=Q,c;case P:return c=Ra(19,m,f,R),c.elementType=P,c.lanes=Q,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case T:case k:le=10;break e;case I:le=9;break e;case F:le=11;break e;case S:le=14;break e;case N:le=16,y=null;break e}le=29,m=Error(r(130,c===null?"null":typeof c,"")),y=null}return f=Ra(le,m,f,R),f.elementType=c,f.type=y,f.lanes=Q,f}function Gl(c,f,m,y){return c=Ra(7,c,y,f),c.lanes=m,c}function kh(c,f,m){return c=Ra(6,c,null,f),c.lanes=m,c}function ff(c,f,m){return f=Ra(4,c.children!==null?c.children:[],c.key,f),f.lanes=m,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}var Qc=[],zl=0,ju=null,Ih=0,ao=[],Qi=0,QA=null,Kl=1,ql="";function HA(c,f){Qc[zl++]=Ih,Qc[zl++]=ju,ju=c,Ih=f}function Fx(c,f,m){ao[Qi++]=Kl,ao[Qi++]=ql,ao[Qi++]=QA,QA=c;var y=Kl;c=ql;var R=32-Pt(y)-1;y&=~(1<<R),m+=1;var Q=32-Pt(f)+R;if(30<Q){var le=R-R%5;Q=(y&(1<<le)-1).toString(32),y>>=le,R-=le,Kl=1<<32-Pt(f)+R|m<<R|y,ql=Q+c}else Kl=1<<Q|m<<R|y,ql=c}function hf(c){c.return!==null&&(HA(c,1),Fx(c,1,0))}function mf(c){for(;c===ju;)ju=Qc[--zl],Qc[zl]=null,Ih=Qc[--zl],Qc[zl]=null;for(;c===QA;)QA=ao[--Qi],ao[Qi]=null,ql=ao[--Qi],ao[Qi]=null,Kl=ao[--Qi],ao[Qi]=null}var Os=null,us=null,hr=!1,Hc=null,ll=!1,Om=Error(r(519));function VA(c){var f=Error(r(418,""));throw Qu(Vn(f,c)),Om}function Rx(c){var f=c.stateNode,m=c.type,y=c.memoizedProps;switch(f[or]=c,f[Zn]=y,m){case"dialog":tr("cancel",f),tr("close",f);break;case"iframe":case"object":case"embed":tr("load",f);break;case"video":case"audio":for(m=0;m<up.length;m++)tr(up[m],f);break;case"source":tr("error",f);break;case"img":case"image":case"link":tr("error",f),tr("load",f);break;case"details":tr("toggle",f);break;case"input":tr("invalid",f),Wo(f,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),qo(f);break;case"select":tr("invalid",f);break;case"textarea":tr("invalid",f),Yo(f,y.value,y.defaultValue,y.children),qo(f)}m=y.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||f.textContent===""+m||y.suppressHydrationWarning===!0||sB(f.textContent,m)?(y.popover!=null&&(tr("beforetoggle",f),tr("toggle",f)),y.onScroll!=null&&tr("scroll",f),y.onScrollEnd!=null&&tr("scrollend",f),y.onClick!=null&&(f.onclick=m1),f=!0):f=!1,f||VA(c)}function Wl(c){for(Os=c.return;Os;)switch(Os.tag){case 5:case 13:ll=!1;return;case 27:case 3:ll=!0;return;default:Os=Os.return}}function Ka(c){if(c!==Os)return!1;if(!hr)return Wl(c),hr=!0,!1;var f=c.tag,m;if((m=f!==3&&f!==27)&&((m=f===5)&&(m=c.type,m=!(m!=="form"&&m!=="button")||pb(c.type,c.memoizedProps)),m=!m),m&&us&&VA(c),Wl(c),f===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,f=0;c;){if(c.nodeType===8)if(m=c.data,m==="/$"){if(f===0){us=nc(c.nextSibling);break e}f--}else m!=="$"&&m!=="$!"&&m!=="$?"||f++;c=c.nextSibling}us=null}}else f===27?(f=us,sd(c.type)?(c=yb,yb=null,us=c):us=f):us=Os?nc(c.stateNode.nextSibling):null;return!0}function Hi(){us=Os=null,hr=!1}function Dx(){var c=Hc;return c!==null&&(lo===null?lo=c:lo.push.apply(lo,c),Hc=null),c}function Qu(c){Hc===null?Hc=[c]:Hc.push(c)}var cl=he(null),aa=null,$l=null;function Vc(c,f,m){q(cl,f._currentValue),f._currentValue=m}function Al(c){c._currentValue=cl.current,O(cl)}function Fh(c,f,m){for(;c!==null;){var y=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,y!==null&&(y.childLanes|=f)):y!==null&&(y.childLanes&f)!==f&&(y.childLanes|=f),c===m)break;c=c.return}}function Rh(c,f,m,y){var R=c.child;for(R!==null&&(R.return=c);R!==null;){var Q=R.dependencies;if(Q!==null){var le=R.child;Q=Q.firstContext;e:for(;Q!==null;){var ve=Q;Q=R;for(var Fe=0;Fe<f.length;Fe++)if(ve.context===f[Fe]){Q.lanes|=m,ve=Q.alternate,ve!==null&&(ve.lanes|=m),Fh(Q.return,m,c),y||(le=null);break e}Q=ve.next}}else if(R.tag===18){if(le=R.return,le===null)throw Error(r(341));le.lanes|=m,Q=le.alternate,Q!==null&&(Q.lanes|=m),Fh(le,m,c),le=null}else le=R.child;if(le!==null)le.return=R;else for(le=R;le!==null;){if(le===c){le=null;break}if(R=le.sibling,R!==null){R.return=le.return,le=R;break}le=le.return}R=le}}function Hu(c,f,m,y){c=null;for(var R=f,Q=!1;R!==null;){if(!Q){if((R.flags&524288)!==0)Q=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var le=R.alternate;if(le===null)throw Error(r(387));if(le=le.memoizedProps,le!==null){var ve=R.type;ra(R.pendingProps.value,le.value)||(c!==null?c.push(ve):c=[ve])}}else if(R===ue.current){if(le=R.alternate,le===null)throw Error(r(387));le.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(c!==null?c.push(gp):c=[gp])}R=R.return}c!==null&&Rh(f,c,m,y),f.flags|=262144}function Dh(c){for(c=c.firstContext;c!==null;){if(!ra(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function ul(c){aa=c,$l=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function js(c){return Uh(aa,c)}function Gc(c,f){return aa===null&&ul(c),Uh(c,f)}function Uh(c,f){var m=f._currentValue;if(f={context:f,memoizedValue:m,next:null},$l===null){if(c===null)throw Error(r(308));$l=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else $l=$l.next=f;return m}var _w=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(m,y){c.push(y)}};this.abort=function(){f.aborted=!0,c.forEach(function(m){return m()})}},Ux=t.unstable_scheduleCallback,Sw=t.unstable_NormalPriority,Qs={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jm(){return{controller:new _w,data:new Map,refCount:0}}function pf(c){c.refCount--,c.refCount===0&&Ux(Sw,function(){c.controller.abort()})}var gf=null,Qm=0,GA=0,Yl=null;function Tw(c,f){if(gf===null){var m=gf=[];Qm=0,GA=ob(),Yl={status:"pending",value:void 0,then:function(y){m.push(y)}}}return Qm++,f.then(Lx,Lx),f}function Lx(){if(--Qm===0&&gf!==null){Yl!==null&&(Yl.status="fulfilled");var c=gf;gf=null,GA=0,Yl=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function Mx(c,f){var m=[],y={status:"pending",value:null,reason:null,then:function(R){m.push(R)}};return c.then(function(){y.status="fulfilled",y.value=f;for(var R=0;R<m.length;R++)(0,m[R])(f)},function(R){for(y.status="rejected",y.reason=R,R=0;R<m.length;R++)(0,m[R])(void 0)}),y}var C=K.S;K.S=function(c,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&Tw(c,f),C!==null&&C(c,f)};var M=he(null);function z(){var c=M.current;return c!==null?c:Xr.pooledCache}function te(c,f){f===null?q(M,M.current):q(M,f.pool)}function ce(){var c=z();return c===null?null:{parent:Qs._currentValue,pool:c}}var fe=Error(r(460)),me=Error(r(474)),ge=Error(r(542)),be={then:function(){}};function Te(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Le(){}function Ye(c,f,m){switch(m=c[m],m===void 0?c.push(f):m!==f&&(f.then(Le,Le),f=m),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,pt(c),c;default:if(typeof f.status=="string")f.then(Le,Le);else{if(c=Xr,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=f,c.status="pending",c.then(function(y){if(f.status==="pending"){var R=f;R.status="fulfilled",R.value=y}},function(y){if(f.status==="pending"){var R=f;R.status="rejected",R.reason=y}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,pt(c),c}throw qe=f,fe}}var qe=null;function Ve(){if(qe===null)throw Error(r(459));var c=qe;return qe=null,c}function pt(c){if(c===fe||c===ge)throw Error(r(483))}var at=!1;function Me(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oe(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function ct(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function xt(c,f,m){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(Rr&2)!==0){var R=y.pending;return R===null?f.next=f:(f.next=R.next,R.next=f),y.pending=f,f=OA(c),Nh(c,null,m),f}return Oc(c,y,f,m),OA(c)}function ft(c,f,m){if(f=f.updateQueue,f!==null&&(f=f.shared,(m&4194048)!==0)){var y=f.lanes;y&=c.pendingLanes,m|=y,f.lanes=m,jn(c,m)}}function Gt(c,f){var m=c.updateQueue,y=c.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var R=null,Q=null;if(m=m.firstBaseUpdate,m!==null){do{var le={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};Q===null?R=Q=le:Q=Q.next=le,m=m.next}while(m!==null);Q===null?R=Q=f:Q=Q.next=f}else R=Q=f;m={baseState:y.baseState,firstBaseUpdate:R,lastBaseUpdate:Q,shared:y.shared,callbacks:y.callbacks},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=f:c.next=f,m.lastBaseUpdate=f}var Lt=!1;function tn(){if(Lt){var c=Yl;if(c!==null)throw c}}function Qt(c,f,m,y){Lt=!1;var R=c.updateQueue;at=!1;var Q=R.firstBaseUpdate,le=R.lastBaseUpdate,ve=R.shared.pending;if(ve!==null){R.shared.pending=null;var Fe=ve,Ze=Fe.next;Fe.next=null,le===null?Q=Ze:le.next=Ze,le=Fe;var dt=c.alternate;dt!==null&&(dt=dt.updateQueue,ve=dt.lastBaseUpdate,ve!==le&&(ve===null?dt.firstBaseUpdate=Ze:ve.next=Ze,dt.lastBaseUpdate=Fe))}if(Q!==null){var yt=R.baseState;le=0,dt=Ze=Fe=null,ve=Q;do{var tt=ve.lane&-536870913,rt=tt!==ve.lane;if(rt?(dr&tt)===tt:(y&tt)===tt){tt!==0&&tt===GA&&(Lt=!0),dt!==null&&(dt=dt.next={lane:0,tag:ve.tag,payload:ve.payload,callback:null,next:null});e:{var En=c,hn=ve;tt=f;var zr=m;switch(hn.tag){case 1:if(En=hn.payload,typeof En=="function"){yt=En.call(zr,yt,tt);break e}yt=En;break e;case 3:En.flags=En.flags&-65537|128;case 0:if(En=hn.payload,tt=typeof En=="function"?En.call(zr,yt,tt):En,tt==null)break e;yt=d({},yt,tt);break e;case 2:at=!0}}tt=ve.callback,tt!==null&&(c.flags|=64,rt&&(c.flags|=8192),rt=R.callbacks,rt===null?R.callbacks=[tt]:rt.push(tt))}else rt={lane:tt,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},dt===null?(Ze=dt=rt,Fe=yt):dt=dt.next=rt,le|=tt;if(ve=ve.next,ve===null){if(ve=R.shared.pending,ve===null)break;rt=ve,ve=rt.next,rt.next=null,R.lastBaseUpdate=rt,R.shared.pending=null}}while(!0);dt===null&&(Fe=yt),R.baseState=Fe,R.firstBaseUpdate=Ze,R.lastBaseUpdate=dt,Q===null&&(R.shared.lanes=0),ed|=le,c.lanes=le,c.memoizedState=yt}}function Ar(c,f){if(typeof c!="function")throw Error(r(191,c));c.call(f)}function vr(c,f){var m=c.callbacks;if(m!==null)for(c.callbacks=null,c=0;c<m.length;c++)Ar(m[c],f)}var Hn=he(null),Mn=he(0);function Tr(c,f){c=eu,q(Mn,c),q(Hn,f),eu=c|f.baseLanes}function yr(){q(Mn,eu),q(Hn,Hn.current)}function Tn(){eu=Mn.current,O(Hn),O(Mn)}var Fr=0,An=null,vn=null,cr=null,ur=!1,ia=!1,Hs=!1,gs=0,xs=0,Ns=null,io=0;function wr(){throw Error(r(321))}function ks(c,f){if(f===null)return!1;for(var m=0;m<f.length&&m<c.length;m++)if(!ra(c[m],f[m]))return!1;return!0}function ko(c,f,m,y,R,Q){return Fr=Q,An=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,K.H=c===null||c.memoizedState===null?P4:O4,Hs=!1,Q=m(y,R),Hs=!1,ia&&(Q=zA(f,m,y,R)),zc(c),Q}function zc(c){K.H=$x;var f=vn!==null&&vn.next!==null;if(Fr=0,cr=vn=An=null,ur=!1,xs=0,Ns=null,f)throw Error(r(300));c===null||Da||(c=c.dependencies,c!==null&&Dh(c)&&(Da=!0))}function zA(c,f,m,y){An=c;var R=0;do{if(ia&&(Ns=null),xs=0,ia=!1,25<=R)throw Error(r(301));if(R+=1,cr=vn=null,c.updateQueue!=null){var Q=c.updateQueue;Q.lastEffect=null,Q.events=null,Q.stores=null,Q.memoCache!=null&&(Q.memoCache.index=0)}K.H=Qj,Q=f(m,y)}while(ia);return Q}function Kc(){var c=K.H,f=c.useState()[0];return f=typeof f.then=="function"?qc(f):f,c=c.useState()[0],(vn!==null?vn.memoizedState:null)!==c&&(An.flags|=1024),f}function Jr(){var c=gs!==0;return gs=0,c}function xf(c,f,m){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~m}function Lh(c){if(ur){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}ur=!1}Fr=0,cr=vn=An=null,ia=!1,xs=gs=0,Ns=null}function qa(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?An.memoizedState=cr=c:cr=cr.next=c,cr}function es(){if(vn===null){var c=An.alternate;c=c!==null?c.memoizedState:null}else c=vn.next;var f=cr===null?An.memoizedState:cr.next;if(f!==null)cr=f,vn=c;else{if(c===null)throw An.alternate===null?Error(r(467)):Error(r(310));vn=c,c={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},cr===null?An.memoizedState=cr=c:cr=cr.next=c}return cr}function KA(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qc(c){var f=xs;return xs+=1,Ns===null&&(Ns=[]),c=Ye(Ns,c,f),f=An,(cr===null?f.memoizedState:cr.next)===null&&(f=f.alternate,K.H=f===null||f.memoizedState===null?P4:O4),c}function mi(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return qc(c);if(c.$$typeof===k)return js(c)}throw Error(r(438,String(c)))}function Wc(c){var f=null,m=An.updateQueue;if(m!==null&&(f=m.memoCache),f==null){var y=An.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(f={data:y.data.map(function(R){return R.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),m===null&&(m=KA(),An.updateQueue=m),m.memoCache=f,m=f.data[f.index],m===void 0)for(m=f.data[f.index]=Array(c),y=0;y<c;y++)m[y]=V;return f.index++,m}function pi(c,f){return typeof f=="function"?f(c):f}function vf(c){var f=es();return Vu(f,vn,c)}function Vu(c,f,m){var y=c.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=m;var R=c.baseQueue,Q=y.pending;if(Q!==null){if(R!==null){var le=R.next;R.next=Q.next,Q.next=le}f.baseQueue=R=Q,y.pending=null}if(Q=c.baseState,R===null)c.memoizedState=Q;else{f=R.next;var ve=le=null,Fe=null,Ze=f,dt=!1;do{var yt=Ze.lane&-536870913;if(yt!==Ze.lane?(dr&yt)===yt:(Fr&yt)===yt){var tt=Ze.revertLane;if(tt===0)Fe!==null&&(Fe=Fe.next={lane:0,revertLane:0,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null}),yt===GA&&(dt=!0);else if((Fr&tt)===tt){Ze=Ze.next,tt===GA&&(dt=!0);continue}else yt={lane:0,revertLane:Ze.revertLane,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},Fe===null?(ve=Fe=yt,le=Q):Fe=Fe.next=yt,An.lanes|=tt,ed|=tt;yt=Ze.action,Hs&&m(Q,yt),Q=Ze.hasEagerState?Ze.eagerState:m(Q,yt)}else tt={lane:yt,revertLane:Ze.revertLane,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},Fe===null?(ve=Fe=tt,le=Q):Fe=Fe.next=tt,An.lanes|=yt,ed|=yt;Ze=Ze.next}while(Ze!==null&&Ze!==f);if(Fe===null?le=Q:Fe.next=ve,!ra(Q,c.memoizedState)&&(Da=!0,dt&&(m=Yl,m!==null)))throw m;c.memoizedState=Q,c.baseState=le,c.baseQueue=Fe,y.lastRenderedState=Q}return R===null&&(y.lanes=0),[c.memoizedState,y.dispatch]}function Mh(c){var f=es(),m=f.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var y=m.dispatch,R=m.pending,Q=f.memoizedState;if(R!==null){m.pending=null;var le=R=R.next;do Q=c(Q,le.action),le=le.next;while(le!==R);ra(Q,f.memoizedState)||(Da=!0),f.memoizedState=Q,f.baseQueue===null&&(f.baseState=Q),m.lastRenderedState=Q}return[Q,y]}function yf(c,f,m){var y=An,R=es(),Q=hr;if(Q){if(m===void 0)throw Error(r(407));m=m()}else m=f();var le=!ra((vn||R).memoizedState,m);le&&(R.memoizedState=m,Da=!0),R=R.queue;var ve=Gu.bind(null,y,R,c);if(qu(2048,8,ve,[c]),R.getSnapshot!==f||le||cr!==null&&cr.memoizedState.tag&1){if(y.flags|=2048,Xl(9,Ef(),wf.bind(null,y,R,m,f),null),Xr===null)throw Error(r(349));Q||(Fr&124)!==0||Ph(y,f,m)}return m}function Ph(c,f,m){c.flags|=16384,c={getSnapshot:f,value:m},f=An.updateQueue,f===null?(f=KA(),An.updateQueue=f,f.stores=[c]):(m=f.stores,m===null?f.stores=[c]:m.push(c))}function wf(c,f,m,y){f.value=m,f.getSnapshot=y,Px(f)&&Ox(c)}function Gu(c,f,m){return m(function(){Px(f)&&Ox(c)})}function Px(c){var f=c.getSnapshot;c=c.value;try{var m=f();return!ra(c,m)}catch{return!0}}function Ox(c){var f=Vl(c,2);f!==null&&Lo(f,c,2)}function bf(c){var f=qa();if(typeof c=="function"){var m=c;if(c=m(),Hs){Yt(!0);try{m()}finally{Yt(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:c},f}function Jl(c,f,m,y){return c.baseState=m,Vu(c,vn,typeof y=="function"?y:pi)}function Bw(c,f,m,y,R){if(Wx(c))throw Error(r(485));if(c=f.action,c!==null){var Q={payload:R,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(le){Q.listeners.push(le)}};K.T!==null?m(!0):Q.isTransition=!1,y(Q),m=f.pending,m===null?(Q.next=f.pending=Q,jx(f,Q)):(Q.next=m.next,f.pending=m.next=Q)}}function jx(c,f){var m=f.action,y=f.payload,R=c.state;if(f.isTransition){var Q=K.T,le={};K.T=le;try{var ve=m(R,y),Fe=K.S;Fe!==null&&Fe(le,ve),Qx(c,f,ve)}catch(Ze){zu(c,f,Ze)}finally{K.T=Q}}else try{Q=m(R,y),Qx(c,f,Q)}catch(Ze){zu(c,f,Ze)}}function Qx(c,f,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(y){Hm(c,f,y)},function(y){return zu(c,f,y)}):Hm(c,f,m)}function Hm(c,f,m){f.status="fulfilled",f.value=m,Vm(f),c.state=m,f=c.pending,f!==null&&(m=f.next,m===f?c.pending=null:(m=m.next,f.next=m,jx(c,m)))}function zu(c,f,m){var y=c.pending;if(c.pending=null,y!==null){y=y.next;do f.status="rejected",f.reason=m,Vm(f),f=f.next;while(f!==y)}c.action=null}function Vm(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function Gm(c,f){return f}function Cf(c,f){if(hr){var m=Xr.formState;if(m!==null){e:{var y=An;if(hr){if(us){t:{for(var R=us,Q=ll;R.nodeType!==8;){if(!Q){R=null;break t}if(R=nc(R.nextSibling),R===null){R=null;break t}}Q=R.data,R=Q==="F!"||Q==="F"?R:null}if(R){us=nc(R.nextSibling),y=R.data==="F!";break e}}VA(y)}y=!1}y&&(f=m[0])}}return m=qa(),m.memoizedState=m.baseState=f,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gm,lastRenderedState:f},m.queue=y,m=U4.bind(null,An,y),y.dispatch=m,y=bf(!1),Q=Nw.bind(null,An,!1,y.queue),y=qa(),R={state:f,dispatch:null,action:c,pending:null},y.queue=R,m=Bw.bind(null,An,R,Q,m),R.dispatch=m,y.memoizedState=c,[f,m,!1]}function Oh(c){var f=es();return Ku(f,vn,c)}function Ku(c,f,m){if(f=Vu(c,f,Gm)[0],c=vf(pi)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var y=qc(f)}catch(le){throw le===fe?ge:le}else y=f;f=es();var R=f.queue,Q=R.dispatch;return m!==f.memoizedState&&(An.flags|=2048,Xl(9,Ef(),Hx.bind(null,R,m),null)),[y,Q,c]}function Hx(c,f){c.action=f}function Vx(c){var f=es(),m=vn;if(m!==null)return Ku(f,m,c);es(),f=f.memoizedState,m=es();var y=m.queue.dispatch;return m.memoizedState=c,[f,y,!1]}function Xl(c,f,m,y){return c={tag:c,create:m,deps:y,inst:f,next:null},f=An.updateQueue,f===null&&(f=KA(),An.updateQueue=f),m=f.lastEffect,m===null?f.lastEffect=c.next=c:(y=m.next,m.next=c,c.next=y,f.lastEffect=c),c}function Ef(){return{destroy:void 0,resource:void 0}}function jh(){return es().memoizedState}function Io(c,f,m,y){var R=qa();y=y===void 0?null:y,An.flags|=c,R.memoizedState=Xl(1|f,Ef(),m,y)}function qu(c,f,m,y){var R=es();y=y===void 0?null:y;var Q=R.memoizedState.inst;vn!==null&&y!==null&&ks(y,vn.memoizedState.deps)?R.memoizedState=Xl(f,Q,m,y):(An.flags|=c,R.memoizedState=Xl(1|f,Q,m,y))}function zm(c,f){Io(8390656,8,c,f)}function Gx(c,f){qu(2048,8,c,f)}function Km(c,f){return qu(4,2,c,f)}function qA(c,f){return qu(4,4,c,f)}function zx(c,f){if(typeof f=="function"){c=c();var m=f(c);return function(){typeof m=="function"?m():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function qm(c,f,m){m=m!=null?m.concat([c]):null,qu(4,4,zx.bind(null,f,c),m)}function Wm(){}function $m(c,f){var m=es();f=f===void 0?null:f;var y=m.memoizedState;return f!==null&&ks(f,y[1])?y[0]:(m.memoizedState=[c,f],c)}function Kx(c,f){var m=es();f=f===void 0?null:f;var y=m.memoizedState;if(f!==null&&ks(f,y[1]))return y[0];if(y=c(),Hs){Yt(!0);try{c()}finally{Yt(!1)}}return m.memoizedState=[y,f],y}function WA(c,f,m){return m===void 0||(Fr&1073741824)!==0?c.memoizedState=f:(c.memoizedState=m,c=IT(),An.lanes|=c,ed|=c,m)}function Qh(c,f,m,y){return ra(m,f)?m:Hn.current!==null?(c=WA(c,m,y),ra(c,f)||(Da=!0),c):(Fr&42)===0?(Da=!0,c.memoizedState=m):(c=IT(),An.lanes|=c,ed|=c,f)}function _f(c,f,m,y,R){var Q=Y.p;Y.p=Q!==0&&8>Q?Q:8;var le=K.T,ve={};K.T=ve,Nw(c,!1,f,m);try{var Fe=R(),Ze=K.S;if(Ze!==null&&Ze(ve,Fe),Fe!==null&&typeof Fe=="object"&&typeof Fe.then=="function"){var dt=Mx(Fe,y);Zm(c,f,dt,Uo(c))}else Zm(c,f,y,Uo(c))}catch(yt){Zm(c,f,{then:function(){},status:"rejected",reason:yt},Uo())}finally{Y.p=Q,K.T=le}}function Zl(){}function dl(c,f,m,y){if(c.tag!==5)throw Error(r(476));var R=ec(c).queue;_f(c,R,f,oe,m===null?Zl:function(){return Sf(c),m(y)})}function ec(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:oe},next:null};var m={};return f.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:m},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function Sf(c){var f=ec(c).next.queue;Zm(c,f,{},Uo())}function Tf(){return js(gp)}function Ym(){return es().memoizedState}function qx(){return es().memoizedState}function Jm(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var m=Uo();c=ct(m);var y=xt(f,c,m);y!==null&&(Lo(y,f,m),ft(y,f,m)),f={cache:jm()},c.payload=f;return}f=f.return}}function Xm(c,f,m){var y=Uo();m={lane:y,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},Wx(c)?L4(f,m):(m=jc(c,f,m,y),m!==null&&(Lo(m,c,y),M4(m,f,y)))}function U4(c,f,m){var y=Uo();Zm(c,f,m,y)}function Zm(c,f,m,y){var R={lane:y,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(Wx(c))L4(f,R);else{var Q=c.alternate;if(c.lanes===0&&(Q===null||Q.lanes===0)&&(Q=f.lastRenderedReducer,Q!==null))try{var le=f.lastRenderedState,ve=Q(le,m);if(R.hasEagerState=!0,R.eagerState=ve,ra(ve,le))return Oc(c,f,R,0),Xr===null&&ro(),!1}catch{}finally{}if(m=jc(c,f,R,y),m!==null)return Lo(m,c,y),M4(m,f,y),!0}return!1}function Nw(c,f,m,y){if(y={lane:2,revertLane:ob(),action:y,hasEagerState:!1,eagerState:null,next:null},Wx(c)){if(f)throw Error(r(479))}else f=jc(c,m,y,2),f!==null&&Lo(f,c,2)}function Wx(c){var f=c.alternate;return c===An||f!==null&&f===An}function L4(c,f){ia=ur=!0;var m=c.pending;m===null?f.next=f:(f.next=m.next,m.next=f),c.pending=f}function M4(c,f,m){if((m&4194048)!==0){var y=f.lanes;y&=c.pendingLanes,m|=y,f.lanes=m,jn(c,m)}}var $x={readContext:js,use:mi,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useLayoutEffect:wr,useInsertionEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useSyncExternalStore:wr,useId:wr,useHostTransitionStatus:wr,useFormState:wr,useActionState:wr,useOptimistic:wr,useMemoCache:wr,useCacheRefresh:wr},P4={readContext:js,use:mi,useCallback:function(c,f){return qa().memoizedState=[c,f===void 0?null:f],c},useContext:js,useEffect:zm,useImperativeHandle:function(c,f,m){m=m!=null?m.concat([c]):null,Io(4194308,4,zx.bind(null,f,c),m)},useLayoutEffect:function(c,f){return Io(4194308,4,c,f)},useInsertionEffect:function(c,f){Io(4,2,c,f)},useMemo:function(c,f){var m=qa();f=f===void 0?null:f;var y=c();if(Hs){Yt(!0);try{c()}finally{Yt(!1)}}return m.memoizedState=[y,f],y},useReducer:function(c,f,m){var y=qa();if(m!==void 0){var R=m(f);if(Hs){Yt(!0);try{m(f)}finally{Yt(!1)}}}else R=f;return y.memoizedState=y.baseState=R,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:R},y.queue=c,c=c.dispatch=Xm.bind(null,An,c),[y.memoizedState,c]},useRef:function(c){var f=qa();return c={current:c},f.memoizedState=c},useState:function(c){c=bf(c);var f=c.queue,m=U4.bind(null,An,f);return f.dispatch=m,[c.memoizedState,m]},useDebugValue:Wm,useDeferredValue:function(c,f){var m=qa();return WA(m,c,f)},useTransition:function(){var c=bf(!1);return c=_f.bind(null,An,c.queue,!0,!1),qa().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,m){var y=An,R=qa();if(hr){if(m===void 0)throw Error(r(407));m=m()}else{if(m=f(),Xr===null)throw Error(r(349));(dr&124)!==0||Ph(y,f,m)}R.memoizedState=m;var Q={value:m,getSnapshot:f};return R.queue=Q,zm(Gu.bind(null,y,Q,c),[c]),y.flags|=2048,Xl(9,Ef(),wf.bind(null,y,Q,m,f),null),m},useId:function(){var c=qa(),f=Xr.identifierPrefix;if(hr){var m=ql,y=Kl;m=(y&~(1<<32-Pt(y)-1)).toString(32)+m,f=""+f+"R"+m,m=gs++,0<m&&(f+="H"+m.toString(32)),f+=""}else m=io++,f=""+f+"r"+m.toString(32)+"";return c.memoizedState=f},useHostTransitionStatus:Tf,useFormState:Cf,useActionState:Cf,useOptimistic:function(c){var f=qa();f.memoizedState=f.baseState=c;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=m,f=Nw.bind(null,An,!0,m),m.dispatch=f,[c,f]},useMemoCache:Wc,useCacheRefresh:function(){return qa().memoizedState=Jm.bind(null,An)}},O4={readContext:js,use:mi,useCallback:$m,useContext:js,useEffect:Gx,useImperativeHandle:qm,useInsertionEffect:Km,useLayoutEffect:qA,useMemo:Kx,useReducer:vf,useRef:jh,useState:function(){return vf(pi)},useDebugValue:Wm,useDeferredValue:function(c,f){var m=es();return Qh(m,vn.memoizedState,c,f)},useTransition:function(){var c=vf(pi)[0],f=es().memoizedState;return[typeof c=="boolean"?c:qc(c),f]},useSyncExternalStore:yf,useId:Ym,useHostTransitionStatus:Tf,useFormState:Oh,useActionState:Oh,useOptimistic:function(c,f){var m=es();return Jl(m,vn,c,f)},useMemoCache:Wc,useCacheRefresh:qx},Qj={readContext:js,use:mi,useCallback:$m,useContext:js,useEffect:Gx,useImperativeHandle:qm,useInsertionEffect:Km,useLayoutEffect:qA,useMemo:Kx,useReducer:Mh,useRef:jh,useState:function(){return Mh(pi)},useDebugValue:Wm,useDeferredValue:function(c,f){var m=es();return vn===null?WA(m,c,f):Qh(m,vn.memoizedState,c,f)},useTransition:function(){var c=Mh(pi)[0],f=es().memoizedState;return[typeof c=="boolean"?c:qc(c),f]},useSyncExternalStore:yf,useId:Ym,useHostTransitionStatus:Tf,useFormState:Vx,useActionState:Vx,useOptimistic:function(c,f){var m=es();return vn!==null?Jl(m,vn,c,f):(m.baseState=c,[c,m.queue.dispatch])},useMemoCache:Wc,useCacheRefresh:qx},Hh=null,ep=0;function Yx(c){var f=ep;return ep+=1,Hh===null&&(Hh=[]),Ye(Hh,c,f)}function tp(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function Jx(c,f){throw f.$$typeof===h?Error(r(525)):(c=Object.prototype.toString.call(f),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function j4(c){var f=c._init;return f(c._payload)}function Q4(c){function f(Ge,Pe){if(c){var $e=Ge.deletions;$e===null?(Ge.deletions=[Pe],Ge.flags|=16):$e.push(Pe)}}function m(Ge,Pe){if(!c)return null;for(;Pe!==null;)f(Ge,Pe),Pe=Pe.sibling;return null}function y(Ge){for(var Pe=new Map;Ge!==null;)Ge.key!==null?Pe.set(Ge.key,Ge):Pe.set(Ge.index,Ge),Ge=Ge.sibling;return Pe}function R(Ge,Pe){return Ge=ol(Ge,Pe),Ge.index=0,Ge.sibling=null,Ge}function Q(Ge,Pe,$e){return Ge.index=$e,c?($e=Ge.alternate,$e!==null?($e=$e.index,$e<Pe?(Ge.flags|=67108866,Pe):$e):(Ge.flags|=67108866,Pe)):(Ge.flags|=1048576,Pe)}function le(Ge){return c&&Ge.alternate===null&&(Ge.flags|=67108866),Ge}function ve(Ge,Pe,$e,ht){return Pe===null||Pe.tag!==6?(Pe=kh($e,Ge.mode,ht),Pe.return=Ge,Pe):(Pe=R(Pe,$e),Pe.return=Ge,Pe)}function Fe(Ge,Pe,$e,ht){var Jt=$e.type;return Jt===w?dt(Ge,Pe,$e.props.children,ht,$e.key):Pe!==null&&(Pe.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===N&&j4(Jt)===Pe.type)?(Pe=R(Pe,$e.props),tp(Pe,$e),Pe.return=Ge,Pe):(Pe=jA($e.type,$e.key,$e.props,null,Ge.mode,ht),tp(Pe,$e),Pe.return=Ge,Pe)}function Ze(Ge,Pe,$e,ht){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==$e.containerInfo||Pe.stateNode.implementation!==$e.implementation?(Pe=ff($e,Ge.mode,ht),Pe.return=Ge,Pe):(Pe=R(Pe,$e.children||[]),Pe.return=Ge,Pe)}function dt(Ge,Pe,$e,ht,Jt){return Pe===null||Pe.tag!==7?(Pe=Gl($e,Ge.mode,ht,Jt),Pe.return=Ge,Pe):(Pe=R(Pe,$e),Pe.return=Ge,Pe)}function yt(Ge,Pe,$e){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Pe=kh(""+Pe,Ge.mode,$e),Pe.return=Ge,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case p:return $e=jA(Pe.type,Pe.key,Pe.props,null,Ge.mode,$e),tp($e,Pe),$e.return=Ge,$e;case g:return Pe=ff(Pe,Ge.mode,$e),Pe.return=Ge,Pe;case N:var ht=Pe._init;return Pe=ht(Pe._payload),yt(Ge,Pe,$e)}if(se(Pe)||L(Pe))return Pe=Gl(Pe,Ge.mode,$e,null),Pe.return=Ge,Pe;if(typeof Pe.then=="function")return yt(Ge,Yx(Pe),$e);if(Pe.$$typeof===k)return yt(Ge,Gc(Ge,Pe),$e);Jx(Ge,Pe)}return null}function tt(Ge,Pe,$e,ht){var Jt=Pe!==null?Pe.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return Jt!==null?null:ve(Ge,Pe,""+$e,ht);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case p:return $e.key===Jt?Fe(Ge,Pe,$e,ht):null;case g:return $e.key===Jt?Ze(Ge,Pe,$e,ht):null;case N:return Jt=$e._init,$e=Jt($e._payload),tt(Ge,Pe,$e,ht)}if(se($e)||L($e))return Jt!==null?null:dt(Ge,Pe,$e,ht,null);if(typeof $e.then=="function")return tt(Ge,Pe,Yx($e),ht);if($e.$$typeof===k)return tt(Ge,Pe,Gc(Ge,$e),ht);Jx(Ge,$e)}return null}function rt(Ge,Pe,$e,ht,Jt){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Ge=Ge.get($e)||null,ve(Pe,Ge,""+ht,Jt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case p:return Ge=Ge.get(ht.key===null?$e:ht.key)||null,Fe(Pe,Ge,ht,Jt);case g:return Ge=Ge.get(ht.key===null?$e:ht.key)||null,Ze(Pe,Ge,ht,Jt);case N:var $n=ht._init;return ht=$n(ht._payload),rt(Ge,Pe,$e,ht,Jt)}if(se(ht)||L(ht))return Ge=Ge.get($e)||null,dt(Pe,Ge,ht,Jt,null);if(typeof ht.then=="function")return rt(Ge,Pe,$e,Yx(ht),Jt);if(ht.$$typeof===k)return rt(Ge,Pe,$e,Gc(Pe,ht),Jt);Jx(Pe,ht)}return null}function En(Ge,Pe,$e,ht){for(var Jt=null,$n=null,rn=Pe,pn=Pe=0,La=null;rn!==null&&pn<$e.length;pn++){rn.index>pn?(La=rn,rn=null):La=rn.sibling;var br=tt(Ge,rn,$e[pn],ht);if(br===null){rn===null&&(rn=La);break}c&&rn&&br.alternate===null&&f(Ge,rn),Pe=Q(br,Pe,pn),$n===null?Jt=br:$n.sibling=br,$n=br,rn=La}if(pn===$e.length)return m(Ge,rn),hr&&HA(Ge,pn),Jt;if(rn===null){for(;pn<$e.length;pn++)rn=yt(Ge,$e[pn],ht),rn!==null&&(Pe=Q(rn,Pe,pn),$n===null?Jt=rn:$n.sibling=rn,$n=rn);return hr&&HA(Ge,pn),Jt}for(rn=y(rn);pn<$e.length;pn++)La=rt(rn,Ge,pn,$e[pn],ht),La!==null&&(c&&La.alternate!==null&&rn.delete(La.key===null?pn:La.key),Pe=Q(La,Pe,pn),$n===null?Jt=La:$n.sibling=La,$n=La);return c&&rn.forEach(function(cd){return f(Ge,cd)}),hr&&HA(Ge,pn),Jt}function hn(Ge,Pe,$e,ht){if($e==null)throw Error(r(151));for(var Jt=null,$n=null,rn=Pe,pn=Pe=0,La=null,br=$e.next();rn!==null&&!br.done;pn++,br=$e.next()){rn.index>pn?(La=rn,rn=null):La=rn.sibling;var cd=tt(Ge,rn,br.value,ht);if(cd===null){rn===null&&(rn=La);break}c&&rn&&cd.alternate===null&&f(Ge,rn),Pe=Q(cd,Pe,pn),$n===null?Jt=cd:$n.sibling=cd,$n=cd,rn=La}if(br.done)return m(Ge,rn),hr&&HA(Ge,pn),Jt;if(rn===null){for(;!br.done;pn++,br=$e.next())br=yt(Ge,br.value,ht),br!==null&&(Pe=Q(br,Pe,pn),$n===null?Jt=br:$n.sibling=br,$n=br);return hr&&HA(Ge,pn),Jt}for(rn=y(rn);!br.done;pn++,br=$e.next())br=rt(rn,Ge,pn,br.value,ht),br!==null&&(c&&br.alternate!==null&&rn.delete(br.key===null?pn:br.key),Pe=Q(br,Pe,pn),$n===null?Jt=br:$n.sibling=br,$n=br);return c&&rn.forEach(function(HQ){return f(Ge,HQ)}),hr&&HA(Ge,pn),Jt}function zr(Ge,Pe,$e,ht){if(typeof $e=="object"&&$e!==null&&$e.type===w&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case p:e:{for(var Jt=$e.key;Pe!==null;){if(Pe.key===Jt){if(Jt=$e.type,Jt===w){if(Pe.tag===7){m(Ge,Pe.sibling),ht=R(Pe,$e.props.children),ht.return=Ge,Ge=ht;break e}}else if(Pe.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===N&&j4(Jt)===Pe.type){m(Ge,Pe.sibling),ht=R(Pe,$e.props),tp(ht,$e),ht.return=Ge,Ge=ht;break e}m(Ge,Pe);break}else f(Ge,Pe);Pe=Pe.sibling}$e.type===w?(ht=Gl($e.props.children,Ge.mode,ht,$e.key),ht.return=Ge,Ge=ht):(ht=jA($e.type,$e.key,$e.props,null,Ge.mode,ht),tp(ht,$e),ht.return=Ge,Ge=ht)}return le(Ge);case g:e:{for(Jt=$e.key;Pe!==null;){if(Pe.key===Jt)if(Pe.tag===4&&Pe.stateNode.containerInfo===$e.containerInfo&&Pe.stateNode.implementation===$e.implementation){m(Ge,Pe.sibling),ht=R(Pe,$e.children||[]),ht.return=Ge,Ge=ht;break e}else{m(Ge,Pe);break}else f(Ge,Pe);Pe=Pe.sibling}ht=ff($e,Ge.mode,ht),ht.return=Ge,Ge=ht}return le(Ge);case N:return Jt=$e._init,$e=Jt($e._payload),zr(Ge,Pe,$e,ht)}if(se($e))return En(Ge,Pe,$e,ht);if(L($e)){if(Jt=L($e),typeof Jt!="function")throw Error(r(150));return $e=Jt.call($e),hn(Ge,Pe,$e,ht)}if(typeof $e.then=="function")return zr(Ge,Pe,Yx($e),ht);if($e.$$typeof===k)return zr(Ge,Pe,Gc(Ge,$e),ht);Jx(Ge,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint"?($e=""+$e,Pe!==null&&Pe.tag===6?(m(Ge,Pe.sibling),ht=R(Pe,$e),ht.return=Ge,Ge=ht):(m(Ge,Pe),ht=kh($e,Ge.mode,ht),ht.return=Ge,Ge=ht),le(Ge)):m(Ge,Pe)}return function(Ge,Pe,$e,ht){try{ep=0;var Jt=zr(Ge,Pe,$e,ht);return Hh=null,Jt}catch(rn){if(rn===fe||rn===ge)throw rn;var $n=Ra(29,rn,null,Ge.mode);return $n.lanes=ht,$n.return=Ge,$n}finally{}}}var Vh=Q4(!0),H4=Q4(!1),fl=he(null),$c=null;function Wu(c){var f=c.alternate;q(wa,wa.current&1),q(fl,c),$c===null&&(f===null||Hn.current!==null||f.memoizedState!==null)&&($c=c)}function V4(c){if(c.tag===22){if(q(wa,wa.current),q(fl,c),$c===null){var f=c.alternate;f!==null&&f.memoizedState!==null&&($c=c)}}else $u()}function $u(){q(wa,wa.current),q(fl,fl.current)}function $A(c){O(fl),$c===c&&($c=null),O(wa)}var wa=he(0);function Xx(c){for(var f=c;f!==null;){if(f.tag===13){var m=f.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||vb(m)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function kw(c,f,m,y){f=c.memoizedState,m=m(y,f),m=m==null?f:d({},f,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var Iw={enqueueSetState:function(c,f,m){c=c._reactInternals;var y=Uo(),R=ct(y);R.payload=f,m!=null&&(R.callback=m),f=xt(c,R,y),f!==null&&(Lo(f,c,y),ft(f,c,y))},enqueueReplaceState:function(c,f,m){c=c._reactInternals;var y=Uo(),R=ct(y);R.tag=1,R.payload=f,m!=null&&(R.callback=m),f=xt(c,R,y),f!==null&&(Lo(f,c,y),ft(f,c,y))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var m=Uo(),y=ct(m);y.tag=2,f!=null&&(y.callback=f),f=xt(c,y,m),f!==null&&(Lo(f,c,m),ft(f,c,m))}};function G4(c,f,m,y,R,Q,le){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,Q,le):f.prototype&&f.prototype.isPureReactComponent?!Fc(m,y)||!Fc(R,Q):!0}function z4(c,f,m,y){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(m,y),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(m,y),f.state!==c&&Iw.enqueueReplaceState(f,f.state,null)}function Bf(c,f){var m=f;if("ref"in f){m={};for(var y in f)y!=="ref"&&(m[y]=f[y])}if(c=c.defaultProps){m===f&&(m=d({},m));for(var R in c)m[R]===void 0&&(m[R]=c[R])}return m}var Zx=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function K4(c){Zx(c)}function q4(c){console.error(c)}function W4(c){Zx(c)}function e1(c,f){try{var m=c.onUncaughtError;m(f.value,{componentStack:f.stack})}catch(y){setTimeout(function(){throw y})}}function $4(c,f,m){try{var y=c.onCaughtError;y(m.value,{componentStack:m.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function Fw(c,f,m){return m=ct(m),m.tag=3,m.payload={element:null},m.callback=function(){e1(c,f)},m}function Y4(c){return c=ct(c),c.tag=3,c}function J4(c,f,m,y){var R=m.type.getDerivedStateFromError;if(typeof R=="function"){var Q=y.value;c.payload=function(){return R(Q)},c.callback=function(){$4(f,m,y)}}var le=m.stateNode;le!==null&&typeof le.componentDidCatch=="function"&&(c.callback=function(){$4(f,m,y),typeof R!="function"&&(td===null?td=new Set([this]):td.add(this));var ve=y.stack;this.componentDidCatch(y.value,{componentStack:ve!==null?ve:""})})}function Hj(c,f,m,y,R){if(m.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(f=m.alternate,f!==null&&Hu(f,m,R,!0),m=fl.current,m!==null){switch(m.tag){case 13:return $c===null?nb():m.alternate===null&&Is===0&&(Is=3),m.flags&=-257,m.flags|=65536,m.lanes=R,y===be?m.flags|=16384:(f=m.updateQueue,f===null?m.updateQueue=new Set([y]):f.add(y),sb(c,y,R)),!1;case 22:return m.flags|=65536,y===be?m.flags|=16384:(f=m.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([y])},m.updateQueue=f):(m=f.retryQueue,m===null?f.retryQueue=new Set([y]):m.add(y)),sb(c,y,R)),!1}throw Error(r(435,m.tag))}return sb(c,y,R),nb(),!1}if(hr)return f=fl.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=R,y!==Om&&(c=Error(r(422),{cause:y}),Qu(Vn(c,m)))):(y!==Om&&(f=Error(r(423),{cause:y}),Qu(Vn(f,m))),c=c.current.alternate,c.flags|=65536,R&=-R,c.lanes|=R,y=Vn(y,m),R=Fw(c.stateNode,y,R),Gt(c,R),Is!==4&&(Is=2)),!1;var Q=Error(r(520),{cause:y});if(Q=Vn(Q,m),lp===null?lp=[Q]:lp.push(Q),Is!==4&&(Is=2),f===null)return!0;y=Vn(y,m),m=f;do{switch(m.tag){case 3:return m.flags|=65536,c=R&-R,m.lanes|=c,c=Fw(m.stateNode,y,c),Gt(m,c),!1;case 1:if(f=m.type,Q=m.stateNode,(m.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(td===null||!td.has(Q))))return m.flags|=65536,R&=-R,m.lanes|=R,R=Y4(R),J4(R,c,m,y),Gt(m,R),!1}m=m.return}while(m!==null);return!1}var X4=Error(r(461)),Da=!1;function Wa(c,f,m,y){f.child=c===null?H4(f,null,m,y):Vh(f,c.child,m,y)}function Z4(c,f,m,y,R){m=m.render;var Q=f.ref;if("ref"in y){var le={};for(var ve in y)ve!=="ref"&&(le[ve]=y[ve])}else le=y;return ul(f),y=ko(c,f,m,le,Q,R),ve=Jr(),c!==null&&!Da?(xf(c,f,R),YA(c,f,R)):(hr&&ve&&hf(f),f.flags|=1,Wa(c,f,y,R),f.child)}function eT(c,f,m,y,R){if(c===null){var Q=m.type;return typeof Q=="function"&&!Ou(Q)&&Q.defaultProps===void 0&&m.compare===null?(f.tag=15,f.type=Q,tT(c,f,Q,y,R)):(c=jA(m.type,null,y,f,f.mode,R),c.ref=f.ref,c.return=f,f.child=c)}if(Q=c.child,!jw(c,R)){var le=Q.memoizedProps;if(m=m.compare,m=m!==null?m:Fc,m(le,y)&&c.ref===f.ref)return YA(c,f,R)}return f.flags|=1,c=ol(Q,y),c.ref=f.ref,c.return=f,f.child=c}function tT(c,f,m,y,R){if(c!==null){var Q=c.memoizedProps;if(Fc(Q,y)&&c.ref===f.ref)if(Da=!1,f.pendingProps=y=Q,jw(c,R))(c.flags&131072)!==0&&(Da=!0);else return f.lanes=c.lanes,YA(c,f,R)}return Rw(c,f,m,y,R)}function nT(c,f,m){var y=f.pendingProps,R=y.children,Q=c!==null?c.memoizedState:null;if(y.mode==="hidden"){if((f.flags&128)!==0){if(y=Q!==null?Q.baseLanes|m:m,c!==null){for(R=f.child=c.child,Q=0;R!==null;)Q=Q|R.lanes|R.childLanes,R=R.sibling;f.childLanes=Q&~y}else f.childLanes=0,f.child=null;return rT(c,f,y,m)}if((m&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&te(f,Q!==null?Q.cachePool:null),Q!==null?Tr(f,Q):yr(),V4(f);else return f.lanes=f.childLanes=536870912,rT(c,f,Q!==null?Q.baseLanes|m:m,m)}else Q!==null?(te(f,Q.cachePool),Tr(f,Q),$u(),f.memoizedState=null):(c!==null&&te(f,null),yr(),$u());return Wa(c,f,R,m),f.child}function rT(c,f,m,y){var R=z();return R=R===null?null:{parent:Qs._currentValue,pool:R},f.memoizedState={baseLanes:m,cachePool:R},c!==null&&te(f,null),yr(),V4(f),c!==null&&Hu(c,f,y,!0),null}function t1(c,f){var m=f.ref;if(m===null)c!==null&&c.ref!==null&&(f.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(c===null||c.ref!==m)&&(f.flags|=4194816)}}function Rw(c,f,m,y,R){return ul(f),m=ko(c,f,m,y,void 0,R),y=Jr(),c!==null&&!Da?(xf(c,f,R),YA(c,f,R)):(hr&&y&&hf(f),f.flags|=1,Wa(c,f,m,R),f.child)}function sT(c,f,m,y,R,Q){return ul(f),f.updateQueue=null,m=zA(f,y,m,R),zc(c),y=Jr(),c!==null&&!Da?(xf(c,f,Q),YA(c,f,Q)):(hr&&y&&hf(f),f.flags|=1,Wa(c,f,m,Q),f.child)}function aT(c,f,m,y,R){if(ul(f),f.stateNode===null){var Q=sa,le=m.contextType;typeof le=="object"&&le!==null&&(Q=js(le)),Q=new m(y,Q),f.memoizedState=Q.state!==null&&Q.state!==void 0?Q.state:null,Q.updater=Iw,f.stateNode=Q,Q._reactInternals=f,Q=f.stateNode,Q.props=y,Q.state=f.memoizedState,Q.refs={},Me(f),le=m.contextType,Q.context=typeof le=="object"&&le!==null?js(le):sa,Q.state=f.memoizedState,le=m.getDerivedStateFromProps,typeof le=="function"&&(kw(f,m,le,y),Q.state=f.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof Q.getSnapshotBeforeUpdate=="function"||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(le=Q.state,typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount(),le!==Q.state&&Iw.enqueueReplaceState(Q,Q.state,null),Qt(f,y,Q,R),tn(),Q.state=f.memoizedState),typeof Q.componentDidMount=="function"&&(f.flags|=4194308),y=!0}else if(c===null){Q=f.stateNode;var ve=f.memoizedProps,Fe=Bf(m,ve);Q.props=Fe;var Ze=Q.context,dt=m.contextType;le=sa,typeof dt=="object"&&dt!==null&&(le=js(dt));var yt=m.getDerivedStateFromProps;dt=typeof yt=="function"||typeof Q.getSnapshotBeforeUpdate=="function",ve=f.pendingProps!==ve,dt||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(ve||Ze!==le)&&z4(f,Q,y,le),at=!1;var tt=f.memoizedState;Q.state=tt,Qt(f,y,Q,R),tn(),Ze=f.memoizedState,ve||tt!==Ze||at?(typeof yt=="function"&&(kw(f,m,yt,y),Ze=f.memoizedState),(Fe=at||G4(f,m,Fe,y,tt,Ze,le))?(dt||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount=="function"&&(f.flags|=4194308)):(typeof Q.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=y,f.memoizedState=Ze),Q.props=y,Q.state=Ze,Q.context=le,y=Fe):(typeof Q.componentDidMount=="function"&&(f.flags|=4194308),y=!1)}else{Q=f.stateNode,Oe(c,f),le=f.memoizedProps,dt=Bf(m,le),Q.props=dt,yt=f.pendingProps,tt=Q.context,Ze=m.contextType,Fe=sa,typeof Ze=="object"&&Ze!==null&&(Fe=js(Ze)),ve=m.getDerivedStateFromProps,(Ze=typeof ve=="function"||typeof Q.getSnapshotBeforeUpdate=="function")||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(le!==yt||tt!==Fe)&&z4(f,Q,y,Fe),at=!1,tt=f.memoizedState,Q.state=tt,Qt(f,y,Q,R),tn();var rt=f.memoizedState;le!==yt||tt!==rt||at||c!==null&&c.dependencies!==null&&Dh(c.dependencies)?(typeof ve=="function"&&(kw(f,m,ve,y),rt=f.memoizedState),(dt=at||G4(f,m,dt,y,tt,rt,Fe)||c!==null&&c.dependencies!==null&&Dh(c.dependencies))?(Ze||typeof Q.UNSAFE_componentWillUpdate!="function"&&typeof Q.componentWillUpdate!="function"||(typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate(y,rt,Fe),typeof Q.UNSAFE_componentWillUpdate=="function"&&Q.UNSAFE_componentWillUpdate(y,rt,Fe)),typeof Q.componentDidUpdate=="function"&&(f.flags|=4),typeof Q.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof Q.componentDidUpdate!="function"||le===c.memoizedProps&&tt===c.memoizedState||(f.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||le===c.memoizedProps&&tt===c.memoizedState||(f.flags|=1024),f.memoizedProps=y,f.memoizedState=rt),Q.props=y,Q.state=rt,Q.context=Fe,y=dt):(typeof Q.componentDidUpdate!="function"||le===c.memoizedProps&&tt===c.memoizedState||(f.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||le===c.memoizedProps&&tt===c.memoizedState||(f.flags|=1024),y=!1)}return Q=y,t1(c,f),y=(f.flags&128)!==0,Q||y?(Q=f.stateNode,m=y&&typeof m.getDerivedStateFromError!="function"?null:Q.render(),f.flags|=1,c!==null&&y?(f.child=Vh(f,c.child,null,R),f.child=Vh(f,null,m,R)):Wa(c,f,m,R),f.memoizedState=Q.state,c=f.child):c=YA(c,f,R),c}function iT(c,f,m,y){return Hi(),f.flags|=256,Wa(c,f,m,y),f.child}var Dw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uw(c){return{baseLanes:c,cachePool:ce()}}function Lw(c,f,m){return c=c!==null?c.childLanes&~m:0,f&&(c|=hl),c}function oT(c,f,m){var y=f.pendingProps,R=!1,Q=(f.flags&128)!==0,le;if((le=Q)||(le=c!==null&&c.memoizedState===null?!1:(wa.current&2)!==0),le&&(R=!0,f.flags&=-129),le=(f.flags&32)!==0,f.flags&=-33,c===null){if(hr){if(R?Wu(f):$u(),hr){var ve=us,Fe;if(Fe=ve){e:{for(Fe=ve,ve=ll;Fe.nodeType!==8;){if(!ve){ve=null;break e}if(Fe=nc(Fe.nextSibling),Fe===null){ve=null;break e}}ve=Fe}ve!==null?(f.memoizedState={dehydrated:ve,treeContext:QA!==null?{id:Kl,overflow:ql}:null,retryLane:536870912,hydrationErrors:null},Fe=Ra(18,null,null,0),Fe.stateNode=ve,Fe.return=f,f.child=Fe,Os=f,us=null,Fe=!0):Fe=!1}Fe||VA(f)}if(ve=f.memoizedState,ve!==null&&(ve=ve.dehydrated,ve!==null))return vb(ve)?f.lanes=32:f.lanes=536870912,null;$A(f)}return ve=y.children,y=y.fallback,R?($u(),R=f.mode,ve=n1({mode:"hidden",children:ve},R),y=Gl(y,R,m,null),ve.return=f,y.return=f,ve.sibling=y,f.child=ve,R=f.child,R.memoizedState=Uw(m),R.childLanes=Lw(c,le,m),f.memoizedState=Dw,y):(Wu(f),Mw(f,ve))}if(Fe=c.memoizedState,Fe!==null&&(ve=Fe.dehydrated,ve!==null)){if(Q)f.flags&256?(Wu(f),f.flags&=-257,f=Pw(c,f,m)):f.memoizedState!==null?($u(),f.child=c.child,f.flags|=128,f=null):($u(),R=y.fallback,ve=f.mode,y=n1({mode:"visible",children:y.children},ve),R=Gl(R,ve,m,null),R.flags|=2,y.return=f,R.return=f,y.sibling=R,f.child=y,Vh(f,c.child,null,m),y=f.child,y.memoizedState=Uw(m),y.childLanes=Lw(c,le,m),f.memoizedState=Dw,f=R);else if(Wu(f),vb(ve)){if(le=ve.nextSibling&&ve.nextSibling.dataset,le)var Ze=le.dgst;le=Ze,y=Error(r(419)),y.stack="",y.digest=le,Qu({value:y,source:null,stack:null}),f=Pw(c,f,m)}else if(Da||Hu(c,f,m,!1),le=(m&c.childLanes)!==0,Da||le){if(le=Xr,le!==null&&(y=m&-m,y=(y&42)!==0?1:ea(y),y=(y&(le.suspendedLanes|m))!==0?0:y,y!==0&&y!==Fe.retryLane))throw Fe.retryLane=y,Vl(c,y),Lo(le,c,y),X4;ve.data==="$?"||nb(),f=Pw(c,f,m)}else ve.data==="$?"?(f.flags|=192,f.child=c.child,f=null):(c=Fe.treeContext,us=nc(ve.nextSibling),Os=f,hr=!0,Hc=null,ll=!1,c!==null&&(ao[Qi++]=Kl,ao[Qi++]=ql,ao[Qi++]=QA,Kl=c.id,ql=c.overflow,QA=f),f=Mw(f,y.children),f.flags|=4096);return f}return R?($u(),R=y.fallback,ve=f.mode,Fe=c.child,Ze=Fe.sibling,y=ol(Fe,{mode:"hidden",children:y.children}),y.subtreeFlags=Fe.subtreeFlags&65011712,Ze!==null?R=ol(Ze,R):(R=Gl(R,ve,m,null),R.flags|=2),R.return=f,y.return=f,y.sibling=R,f.child=y,y=R,R=f.child,ve=c.child.memoizedState,ve===null?ve=Uw(m):(Fe=ve.cachePool,Fe!==null?(Ze=Qs._currentValue,Fe=Fe.parent!==Ze?{parent:Ze,pool:Ze}:Fe):Fe=ce(),ve={baseLanes:ve.baseLanes|m,cachePool:Fe}),R.memoizedState=ve,R.childLanes=Lw(c,le,m),f.memoizedState=Dw,y):(Wu(f),m=c.child,c=m.sibling,m=ol(m,{mode:"visible",children:y.children}),m.return=f,m.sibling=null,c!==null&&(le=f.deletions,le===null?(f.deletions=[c],f.flags|=16):le.push(c)),f.child=m,f.memoizedState=null,m)}function Mw(c,f){return f=n1({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function n1(c,f){return c=Ra(22,c,null,f),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function Pw(c,f,m){return Vh(f,c.child,null,m),c=Mw(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function lT(c,f,m){c.lanes|=f;var y=c.alternate;y!==null&&(y.lanes|=f),Fh(c.return,f,m)}function Ow(c,f,m,y,R){var Q=c.memoizedState;Q===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:R}:(Q.isBackwards=f,Q.rendering=null,Q.renderingStartTime=0,Q.last=y,Q.tail=m,Q.tailMode=R)}function cT(c,f,m){var y=f.pendingProps,R=y.revealOrder,Q=y.tail;if(Wa(c,f,y.children,m),y=wa.current,(y&2)!==0)y=y&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&lT(c,m,f);else if(c.tag===19)lT(c,m,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}y&=1}switch(q(wa,y),R){case"forwards":for(m=f.child,R=null;m!==null;)c=m.alternate,c!==null&&Xx(c)===null&&(R=m),m=m.sibling;m=R,m===null?(R=f.child,f.child=null):(R=m.sibling,m.sibling=null),Ow(f,!1,R,m,Q);break;case"backwards":for(m=null,R=f.child,f.child=null;R!==null;){if(c=R.alternate,c!==null&&Xx(c)===null){f.child=R;break}c=R.sibling,R.sibling=m,m=R,R=c}Ow(f,!0,m,null,Q);break;case"together":Ow(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function YA(c,f,m){if(c!==null&&(f.dependencies=c.dependencies),ed|=f.lanes,(m&f.childLanes)===0)if(c!==null){if(Hu(c,f,m,!1),(m&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(r(153));if(f.child!==null){for(c=f.child,m=ol(c,c.pendingProps),f.child=m,m.return=f;c.sibling!==null;)c=c.sibling,m=m.sibling=ol(c,c.pendingProps),m.return=f;m.sibling=null}return f.child}function jw(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&Dh(c)))}function Vj(c,f,m){switch(f.tag){case 3:pe(f,f.stateNode.containerInfo),Vc(f,Qs,c.memoizedState.cache),Hi();break;case 27:case 5:Ie(f);break;case 4:pe(f,f.stateNode.containerInfo);break;case 10:Vc(f,f.type,f.memoizedProps.value);break;case 13:var y=f.memoizedState;if(y!==null)return y.dehydrated!==null?(Wu(f),f.flags|=128,null):(m&f.child.childLanes)!==0?oT(c,f,m):(Wu(f),c=YA(c,f,m),c!==null?c.sibling:null);Wu(f);break;case 19:var R=(c.flags&128)!==0;if(y=(m&f.childLanes)!==0,y||(Hu(c,f,m,!1),y=(m&f.childLanes)!==0),R){if(y)return cT(c,f,m);f.flags|=128}if(R=f.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),q(wa,wa.current),y)break;return null;case 22:case 23:return f.lanes=0,nT(c,f,m);case 24:Vc(f,Qs,c.memoizedState.cache)}return YA(c,f,m)}function AT(c,f,m){if(c!==null)if(c.memoizedProps!==f.pendingProps)Da=!0;else{if(!jw(c,m)&&(f.flags&128)===0)return Da=!1,Vj(c,f,m);Da=(c.flags&131072)!==0}else Da=!1,hr&&(f.flags&1048576)!==0&&Fx(f,Ih,f.index);switch(f.lanes=0,f.tag){case 16:e:{c=f.pendingProps;var y=f.elementType,R=y._init;if(y=R(y._payload),f.type=y,typeof y=="function")Ou(y)?(c=Bf(y,c),f.tag=1,f=aT(null,f,y,c,m)):(f.tag=0,f=Rw(null,f,y,c,m));else{if(y!=null){if(R=y.$$typeof,R===F){f.tag=11,f=Z4(null,f,y,c,m);break e}else if(R===S){f.tag=14,f=eT(null,f,y,c,m);break e}}throw f=G(y)||y,Error(r(306,f,""))}}return f;case 0:return Rw(c,f,f.type,f.pendingProps,m);case 1:return y=f.type,R=Bf(y,f.pendingProps),aT(c,f,y,R,m);case 3:e:{if(pe(f,f.stateNode.containerInfo),c===null)throw Error(r(387));y=f.pendingProps;var Q=f.memoizedState;R=Q.element,Oe(c,f),Qt(f,y,null,m);var le=f.memoizedState;if(y=le.cache,Vc(f,Qs,y),y!==Q.cache&&Rh(f,[Qs],m,!0),tn(),y=le.element,Q.isDehydrated)if(Q={element:y,isDehydrated:!1,cache:le.cache},f.updateQueue.baseState=Q,f.memoizedState=Q,f.flags&256){f=iT(c,f,y,m);break e}else if(y!==R){R=Vn(Error(r(424)),f),Qu(R),f=iT(c,f,y,m);break e}else{switch(c=f.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(us=nc(c.firstChild),Os=f,hr=!0,Hc=null,ll=!0,m=H4(f,null,y,m),f.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Hi(),y===R){f=YA(c,f,m);break e}Wa(c,f,y,m)}f=f.child}return f;case 26:return t1(c,f),c===null?(m=hB(f.type,null,f.pendingProps,null))?f.memoizedState=m:hr||(m=f.type,c=f.pendingProps,y=p1(ae.current).createElement(m),y[or]=f,y[Zn]=c,Ya(y,m,c),Qe(y),f.stateNode=y):f.memoizedState=hB(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:return Ie(f),c===null&&hr&&(y=f.stateNode=uB(f.type,f.pendingProps,ae.current),Os=f,ll=!0,R=us,sd(f.type)?(yb=R,us=nc(y.firstChild)):us=R),Wa(c,f,f.pendingProps.children,m),t1(c,f),c===null&&(f.flags|=4194304),f.child;case 5:return c===null&&hr&&((R=y=us)&&(y=gQ(y,f.type,f.pendingProps,ll),y!==null?(f.stateNode=y,Os=f,us=nc(y.firstChild),ll=!1,R=!0):R=!1),R||VA(f)),Ie(f),R=f.type,Q=f.pendingProps,le=c!==null?c.memoizedProps:null,y=Q.children,pb(R,Q)?y=null:le!==null&&pb(R,le)&&(f.flags|=32),f.memoizedState!==null&&(R=ko(c,f,Kc,null,null,m),gp._currentValue=R),t1(c,f),Wa(c,f,y,m),f.child;case 6:return c===null&&hr&&((c=m=us)&&(m=xQ(m,f.pendingProps,ll),m!==null?(f.stateNode=m,Os=f,us=null,c=!0):c=!1),c||VA(f)),null;case 13:return oT(c,f,m);case 4:return pe(f,f.stateNode.containerInfo),y=f.pendingProps,c===null?f.child=Vh(f,null,y,m):Wa(c,f,y,m),f.child;case 11:return Z4(c,f,f.type,f.pendingProps,m);case 7:return Wa(c,f,f.pendingProps,m),f.child;case 8:return Wa(c,f,f.pendingProps.children,m),f.child;case 12:return Wa(c,f,f.pendingProps.children,m),f.child;case 10:return y=f.pendingProps,Vc(f,f.type,y.value),Wa(c,f,y.children,m),f.child;case 9:return R=f.type._context,y=f.pendingProps.children,ul(f),R=js(R),y=y(R),f.flags|=1,Wa(c,f,y,m),f.child;case 14:return eT(c,f,f.type,f.pendingProps,m);case 15:return tT(c,f,f.type,f.pendingProps,m);case 19:return cT(c,f,m);case 31:return y=f.pendingProps,m=f.mode,y={mode:y.mode,children:y.children},c===null?(m=n1(y,m),m.ref=f.ref,f.child=m,m.return=f,f=m):(m=ol(c.child,y),m.ref=f.ref,f.child=m,m.return=f,f=m),f;case 22:return nT(c,f,m);case 24:return ul(f),y=js(Qs),c===null?(R=z(),R===null&&(R=Xr,Q=jm(),R.pooledCache=Q,Q.refCount++,Q!==null&&(R.pooledCacheLanes|=m),R=Q),f.memoizedState={parent:y,cache:R},Me(f),Vc(f,Qs,R)):((c.lanes&m)!==0&&(Oe(c,f),Qt(f,null,null,m),tn()),R=c.memoizedState,Q=f.memoizedState,R.parent!==y?(R={parent:y,cache:y},f.memoizedState=R,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=R),Vc(f,Qs,y)):(y=Q.cache,Vc(f,Qs,y),y!==R.cache&&Rh(f,[Qs],m,!0))),Wa(c,f,f.pendingProps.children,m),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function JA(c){c.flags|=4}function uT(c,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!vB(f)){if(f=fl.current,f!==null&&((dr&4194048)===dr?$c!==null:(dr&62914560)!==dr&&(dr&536870912)===0||f!==$c))throw qe=be,me;c.flags|=8192}}function r1(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?Xn():536870912,c.lanes|=f,qh|=f)}function np(c,f){if(!hr)switch(c.tailMode){case"hidden":f=c.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function vs(c){var f=c.alternate!==null&&c.alternate.child===c.child,m=0,y=0;if(f)for(var R=c.child;R!==null;)m|=R.lanes|R.childLanes,y|=R.subtreeFlags&65011712,y|=R.flags&65011712,R.return=c,R=R.sibling;else for(R=c.child;R!==null;)m|=R.lanes|R.childLanes,y|=R.subtreeFlags,y|=R.flags,R.return=c,R=R.sibling;return c.subtreeFlags|=y,c.childLanes=m,f}function Gj(c,f,m){var y=f.pendingProps;switch(mf(f),f.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vs(f),null;case 1:return vs(f),null;case 3:return m=f.stateNode,y=null,c!==null&&(y=c.memoizedState.cache),f.memoizedState.cache!==y&&(f.flags|=2048),Al(Qs),ye(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(c===null||c.child===null)&&(Ka(f)?JA(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Dx())),vs(f),null;case 26:return m=f.memoizedState,c===null?(JA(f),m!==null?(vs(f),uT(f,m)):(vs(f),f.flags&=-16777217)):m?m!==c.memoizedState?(JA(f),vs(f),uT(f,m)):(vs(f),f.flags&=-16777217):(c.memoizedProps!==y&&JA(f),vs(f),f.flags&=-16777217),null;case 27:we(f),m=ae.current;var R=f.type;if(c!==null&&f.stateNode!=null)c.memoizedProps!==y&&JA(f);else{if(!y){if(f.stateNode===null)throw Error(r(166));return vs(f),null}c=J.current,Ka(f)?Rx(f):(c=uB(R,y,m),f.stateNode=c,JA(f))}return vs(f),null;case 5:if(we(f),m=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==y&&JA(f);else{if(!y){if(f.stateNode===null)throw Error(r(166));return vs(f),null}if(c=J.current,Ka(f))Rx(f);else{switch(R=p1(ae.current),c){case 1:c=R.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:c=R.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":c=R.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":c=R.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":c=R.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof y.is=="string"?R.createElement("select",{is:y.is}):R.createElement("select"),y.multiple?c.multiple=!0:y.size&&(c.size=y.size);break;default:c=typeof y.is=="string"?R.createElement(m,{is:y.is}):R.createElement(m)}}c[or]=f,c[Zn]=y;e:for(R=f.child;R!==null;){if(R.tag===5||R.tag===6)c.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===f)break e;for(;R.sibling===null;){if(R.return===null||R.return===f)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}f.stateNode=c;e:switch(Ya(c,m,y),m){case"button":case"input":case"select":case"textarea":c=!!y.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&JA(f)}}return vs(f),f.flags&=-16777217,null;case 6:if(c&&f.stateNode!=null)c.memoizedProps!==y&&JA(f);else{if(typeof y!="string"&&f.stateNode===null)throw Error(r(166));if(c=ae.current,Ka(f)){if(c=f.stateNode,m=f.memoizedProps,y=null,R=Os,R!==null)switch(R.tag){case 27:case 5:y=R.memoizedProps}c[or]=f,c=!!(c.nodeValue===m||y!==null&&y.suppressHydrationWarning===!0||sB(c.nodeValue,m)),c||VA(f)}else c=p1(c).createTextNode(y),c[or]=f,f.stateNode=c}return vs(f),null;case 13:if(y=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(R=Ka(f),y!==null&&y.dehydrated!==null){if(c===null){if(!R)throw Error(r(318));if(R=f.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[or]=f}else Hi(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;vs(f),R=!1}else R=Dx(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=R),R=!0;if(!R)return f.flags&256?($A(f),f):($A(f),null)}if($A(f),(f.flags&128)!==0)return f.lanes=m,f;if(m=y!==null,c=c!==null&&c.memoizedState!==null,m){y=f.child,R=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(R=y.alternate.memoizedState.cachePool.pool);var Q=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(Q=y.memoizedState.cachePool.pool),Q!==R&&(y.flags|=2048)}return m!==c&&m&&(f.child.flags|=8192),r1(f,f.updateQueue),vs(f),null;case 4:return ye(),c===null&&ub(f.stateNode.containerInfo),vs(f),null;case 10:return Al(f.type),vs(f),null;case 19:if(O(wa),R=f.memoizedState,R===null)return vs(f),null;if(y=(f.flags&128)!==0,Q=R.rendering,Q===null)if(y)np(R,!1);else{if(Is!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(Q=Xx(c),Q!==null){for(f.flags|=128,np(R,!1),c=Q.updateQueue,f.updateQueue=c,r1(f,c),f.subtreeFlags=0,c=m,m=f.child;m!==null;)df(m,c),m=m.sibling;return q(wa,wa.current&1|2),f.child}c=c.sibling}R.tail!==null&&ze()>i1&&(f.flags|=128,y=!0,np(R,!1),f.lanes=4194304)}else{if(!y)if(c=Xx(Q),c!==null){if(f.flags|=128,y=!0,c=c.updateQueue,f.updateQueue=c,r1(f,c),np(R,!0),R.tail===null&&R.tailMode==="hidden"&&!Q.alternate&&!hr)return vs(f),null}else 2*ze()-R.renderingStartTime>i1&&m!==536870912&&(f.flags|=128,y=!0,np(R,!1),f.lanes=4194304);R.isBackwards?(Q.sibling=f.child,f.child=Q):(c=R.last,c!==null?c.sibling=Q:f.child=Q,R.last=Q)}return R.tail!==null?(f=R.tail,R.rendering=f,R.tail=f.sibling,R.renderingStartTime=ze(),f.sibling=null,c=wa.current,q(wa,y?c&1|2:c&1),f):(vs(f),null);case 22:case 23:return $A(f),Tn(),y=f.memoizedState!==null,c!==null?c.memoizedState!==null!==y&&(f.flags|=8192):y&&(f.flags|=8192),y?(m&536870912)!==0&&(f.flags&128)===0&&(vs(f),f.subtreeFlags&6&&(f.flags|=8192)):vs(f),m=f.updateQueue,m!==null&&r1(f,m.retryQueue),m=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),y=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==m&&(f.flags|=2048),c!==null&&O(M),null;case 24:return m=null,c!==null&&(m=c.memoizedState.cache),f.memoizedState.cache!==m&&(f.flags|=2048),Al(Qs),vs(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function zj(c,f){switch(mf(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Al(Qs),ye(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return we(f),null;case 13:if($A(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Hi()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return O(wa),null;case 4:return ye(),null;case 10:return Al(f.type),null;case 22:case 23:return $A(f),Tn(),c!==null&&O(M),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return Al(Qs),null;case 25:return null;default:return null}}function dT(c,f){switch(mf(f),f.tag){case 3:Al(Qs),ye();break;case 26:case 27:case 5:we(f);break;case 4:ye();break;case 13:$A(f);break;case 19:O(wa);break;case 10:Al(f.type);break;case 22:case 23:$A(f),Tn(),c!==null&&O(M);break;case 24:Al(Qs)}}function rp(c,f){try{var m=f.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var R=y.next;m=R;do{if((m.tag&c)===c){y=void 0;var Q=m.create,le=m.inst;y=Q(),le.destroy=y}m=m.next}while(m!==R)}}catch(ve){$r(f,f.return,ve)}}function Yu(c,f,m){try{var y=f.updateQueue,R=y!==null?y.lastEffect:null;if(R!==null){var Q=R.next;y=Q;do{if((y.tag&c)===c){var le=y.inst,ve=le.destroy;if(ve!==void 0){le.destroy=void 0,R=f;var Fe=m,Ze=ve;try{Ze()}catch(dt){$r(R,Fe,dt)}}}y=y.next}while(y!==Q)}}catch(dt){$r(f,f.return,dt)}}function fT(c){var f=c.updateQueue;if(f!==null){var m=c.stateNode;try{vr(f,m)}catch(y){$r(c,c.return,y)}}}function hT(c,f,m){m.props=Bf(c.type,c.memoizedProps),m.state=c.memoizedState;try{m.componentWillUnmount()}catch(y){$r(c,f,y)}}function sp(c,f){try{var m=c.ref;if(m!==null){switch(c.tag){case 26:case 27:case 5:var y=c.stateNode;break;case 30:y=c.stateNode;break;default:y=c.stateNode}typeof m=="function"?c.refCleanup=m(y):m.current=y}}catch(R){$r(c,f,R)}}function Yc(c,f){var m=c.ref,y=c.refCleanup;if(m!==null)if(typeof y=="function")try{y()}catch(R){$r(c,f,R)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(R){$r(c,f,R)}else m.current=null}function mT(c){var f=c.type,m=c.memoizedProps,y=c.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":m.autoFocus&&y.focus();break e;case"img":m.src?y.src=m.src:m.srcSet&&(y.srcset=m.srcSet)}}catch(R){$r(c,c.return,R)}}function Qw(c,f,m){try{var y=c.stateNode;dQ(y,c.type,m,f),y[Zn]=f}catch(R){$r(c,c.return,R)}}function pT(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&sd(c.type)||c.tag===4}function Hw(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||pT(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&sd(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Vw(c,f,m){var y=c.tag;if(y===5||y===6)c=c.stateNode,f?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(c,f):(f=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,f.appendChild(c),m=m._reactRootContainer,m!=null||f.onclick!==null||(f.onclick=m1));else if(y!==4&&(y===27&&sd(c.type)&&(m=c.stateNode,f=null),c=c.child,c!==null))for(Vw(c,f,m),c=c.sibling;c!==null;)Vw(c,f,m),c=c.sibling}function s1(c,f,m){var y=c.tag;if(y===5||y===6)c=c.stateNode,f?m.insertBefore(c,f):m.appendChild(c);else if(y!==4&&(y===27&&sd(c.type)&&(m=c.stateNode),c=c.child,c!==null))for(s1(c,f,m),c=c.sibling;c!==null;)s1(c,f,m),c=c.sibling}function gT(c){var f=c.stateNode,m=c.memoizedProps;try{for(var y=c.type,R=f.attributes;R.length;)f.removeAttributeNode(R[0]);Ya(f,y,m),f[or]=c,f[Zn]=m}catch(Q){$r(c,c.return,Q)}}var XA=!1,Vs=!1,Gw=!1,xT=typeof WeakSet=="function"?WeakSet:Set,Ua=null;function Kj(c,f){if(c=c.containerInfo,hb=b1,c=za(c),ya(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var R=y.anchorOffset,Q=y.focusNode;y=y.focusOffset;try{m.nodeType,Q.nodeType}catch{m=null;break e}var le=0,ve=-1,Fe=-1,Ze=0,dt=0,yt=c,tt=null;t:for(;;){for(var rt;yt!==m||R!==0&&yt.nodeType!==3||(ve=le+R),yt!==Q||y!==0&&yt.nodeType!==3||(Fe=le+y),yt.nodeType===3&&(le+=yt.nodeValue.length),(rt=yt.firstChild)!==null;)tt=yt,yt=rt;for(;;){if(yt===c)break t;if(tt===m&&++Ze===R&&(ve=le),tt===Q&&++dt===y&&(Fe=le),(rt=yt.nextSibling)!==null)break;yt=tt,tt=yt.parentNode}yt=rt}m=ve===-1||Fe===-1?null:{start:ve,end:Fe}}else m=null}m=m||{start:0,end:0}}else m=null;for(mb={focusedElem:c,selectionRange:m},b1=!1,Ua=f;Ua!==null;)if(f=Ua,c=f.child,(f.subtreeFlags&1024)!==0&&c!==null)c.return=f,Ua=c;else for(;Ua!==null;){switch(f=Ua,Q=f.alternate,c=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&Q!==null){c=void 0,m=f,R=Q.memoizedProps,Q=Q.memoizedState,y=m.stateNode;try{var En=Bf(m.type,R,m.elementType===m.type);c=y.getSnapshotBeforeUpdate(En,Q),y.__reactInternalSnapshotBeforeUpdate=c}catch(hn){$r(m,m.return,hn)}}break;case 3:if((c&1024)!==0){if(c=f.stateNode.containerInfo,m=c.nodeType,m===9)xb(c);else if(m===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":xb(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=f.sibling,c!==null){c.return=f.return,Ua=c;break}Ua=f.return}}function vT(c,f,m){var y=m.flags;switch(m.tag){case 0:case 11:case 15:Ju(c,m),y&4&&rp(5,m);break;case 1:if(Ju(c,m),y&4)if(c=m.stateNode,f===null)try{c.componentDidMount()}catch(le){$r(m,m.return,le)}else{var R=Bf(m.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(R,f,c.__reactInternalSnapshotBeforeUpdate)}catch(le){$r(m,m.return,le)}}y&64&&fT(m),y&512&&sp(m,m.return);break;case 3:if(Ju(c,m),y&64&&(c=m.updateQueue,c!==null)){if(f=null,m.child!==null)switch(m.child.tag){case 27:case 5:f=m.child.stateNode;break;case 1:f=m.child.stateNode}try{vr(c,f)}catch(le){$r(m,m.return,le)}}break;case 27:f===null&&y&4&&gT(m);case 26:case 5:Ju(c,m),f===null&&y&4&&mT(m),y&512&&sp(m,m.return);break;case 12:Ju(c,m);break;case 13:Ju(c,m),y&4&&bT(c,m),y&64&&(c=m.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(m=tQ.bind(null,m),vQ(c,m))));break;case 22:if(y=m.memoizedState!==null||XA,!y){f=f!==null&&f.memoizedState!==null||Vs,R=XA;var Q=Vs;XA=y,(Vs=f)&&!Q?Xu(c,m,(m.subtreeFlags&8772)!==0):Ju(c,m),XA=R,Vs=Q}break;case 30:break;default:Ju(c,m)}}function yT(c){var f=c.alternate;f!==null&&(c.alternate=null,yT(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&_e(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var ds=null,oo=!1;function ZA(c,f,m){for(m=m.child;m!==null;)wT(c,f,m),m=m.sibling}function wT(c,f,m){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Mt,m)}catch{}switch(m.tag){case 26:Vs||Yc(m,f),ZA(c,f,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Vs||Yc(m,f);var y=ds,R=oo;sd(m.type)&&(ds=m.stateNode,oo=!1),ZA(c,f,m),fp(m.stateNode),ds=y,oo=R;break;case 5:Vs||Yc(m,f);case 6:if(y=ds,R=oo,ds=null,ZA(c,f,m),ds=y,oo=R,ds!==null)if(oo)try{(ds.nodeType===9?ds.body:ds.nodeName==="HTML"?ds.ownerDocument.body:ds).removeChild(m.stateNode)}catch(Q){$r(m,f,Q)}else try{ds.removeChild(m.stateNode)}catch(Q){$r(m,f,Q)}break;case 18:ds!==null&&(oo?(c=ds,cB(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,m.stateNode),wp(c)):cB(ds,m.stateNode));break;case 4:y=ds,R=oo,ds=m.stateNode.containerInfo,oo=!0,ZA(c,f,m),ds=y,oo=R;break;case 0:case 11:case 14:case 15:Vs||Yu(2,m,f),Vs||Yu(4,m,f),ZA(c,f,m);break;case 1:Vs||(Yc(m,f),y=m.stateNode,typeof y.componentWillUnmount=="function"&&hT(m,f,y)),ZA(c,f,m);break;case 21:ZA(c,f,m);break;case 22:Vs=(y=Vs)||m.memoizedState!==null,ZA(c,f,m),Vs=y;break;default:ZA(c,f,m)}}function bT(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{wp(c)}catch(m){$r(f,f.return,m)}}function qj(c){switch(c.tag){case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new xT),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new xT),f;default:throw Error(r(435,c.tag))}}function zw(c,f){var m=qj(c);f.forEach(function(y){var R=nQ.bind(null,c,y);m.has(y)||(m.add(y),y.then(R,R))})}function Fo(c,f){var m=f.deletions;if(m!==null)for(var y=0;y<m.length;y++){var R=m[y],Q=c,le=f,ve=le;e:for(;ve!==null;){switch(ve.tag){case 27:if(sd(ve.type)){ds=ve.stateNode,oo=!1;break e}break;case 5:ds=ve.stateNode,oo=!1;break e;case 3:case 4:ds=ve.stateNode.containerInfo,oo=!0;break e}ve=ve.return}if(ds===null)throw Error(r(160));wT(Q,le,R),ds=null,oo=!1,Q=R.alternate,Q!==null&&(Q.return=null),R.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)CT(f,c),f=f.sibling}var tc=null;function CT(c,f){var m=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Fo(f,c),Ro(c),y&4&&(Yu(3,c,c.return),rp(3,c),Yu(5,c,c.return));break;case 1:Fo(f,c),Ro(c),y&512&&(Vs||m===null||Yc(m,m.return)),y&64&&XA&&(c=c.updateQueue,c!==null&&(y=c.callbacks,y!==null&&(m=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=m===null?y:m.concat(y))));break;case 26:var R=tc;if(Fo(f,c),Ro(c),y&512&&(Vs||m===null||Yc(m,m.return)),y&4){var Q=m!==null?m.memoizedState:null;if(y=c.memoizedState,m===null)if(y===null)if(c.stateNode===null){e:{y=c.type,m=c.memoizedProps,R=R.ownerDocument||R;t:switch(y){case"title":Q=R.getElementsByTagName("title")[0],(!Q||Q[Ce]||Q[or]||Q.namespaceURI==="http://www.w3.org/2000/svg"||Q.hasAttribute("itemprop"))&&(Q=R.createElement(y),R.head.insertBefore(Q,R.querySelector("head > title"))),Ya(Q,y,m),Q[or]=c,Qe(Q),y=Q;break e;case"link":var le=gB("link","href",R).get(y+(m.href||""));if(le){for(var ve=0;ve<le.length;ve++)if(Q=le[ve],Q.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&Q.getAttribute("rel")===(m.rel==null?null:m.rel)&&Q.getAttribute("title")===(m.title==null?null:m.title)&&Q.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){le.splice(ve,1);break t}}Q=R.createElement(y),Ya(Q,y,m),R.head.appendChild(Q);break;case"meta":if(le=gB("meta","content",R).get(y+(m.content||""))){for(ve=0;ve<le.length;ve++)if(Q=le[ve],Q.getAttribute("content")===(m.content==null?null:""+m.content)&&Q.getAttribute("name")===(m.name==null?null:m.name)&&Q.getAttribute("property")===(m.property==null?null:m.property)&&Q.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&Q.getAttribute("charset")===(m.charSet==null?null:m.charSet)){le.splice(ve,1);break t}}Q=R.createElement(y),Ya(Q,y,m),R.head.appendChild(Q);break;default:throw Error(r(468,y))}Q[or]=c,Qe(Q),y=Q}c.stateNode=y}else xB(R,c.type,c.stateNode);else c.stateNode=pB(R,y,c.memoizedProps);else Q!==y?(Q===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):Q.count--,y===null?xB(R,c.type,c.stateNode):pB(R,y,c.memoizedProps)):y===null&&c.stateNode!==null&&Qw(c,c.memoizedProps,m.memoizedProps)}break;case 27:Fo(f,c),Ro(c),y&512&&(Vs||m===null||Yc(m,m.return)),m!==null&&y&4&&Qw(c,c.memoizedProps,m.memoizedProps);break;case 5:if(Fo(f,c),Ro(c),y&512&&(Vs||m===null||Yc(m,m.return)),c.flags&32){R=c.stateNode;try{oi(R,"")}catch(rt){$r(c,c.return,rt)}}y&4&&c.stateNode!=null&&(R=c.memoizedProps,Qw(c,R,m!==null?m.memoizedProps:R)),y&1024&&(Gw=!0);break;case 6:if(Fo(f,c),Ro(c),y&4){if(c.stateNode===null)throw Error(r(162));y=c.memoizedProps,m=c.stateNode;try{m.nodeValue=y}catch(rt){$r(c,c.return,rt)}}break;case 3:if(v1=null,R=tc,tc=g1(f.containerInfo),Fo(f,c),tc=R,Ro(c),y&4&&m!==null&&m.memoizedState.isDehydrated)try{wp(f.containerInfo)}catch(rt){$r(c,c.return,rt)}Gw&&(Gw=!1,ET(c));break;case 4:y=tc,tc=g1(c.stateNode.containerInfo),Fo(f,c),Ro(c),tc=y;break;case 12:Fo(f,c),Ro(c);break;case 13:Fo(f,c),Ro(c),c.child.flags&8192&&c.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Jw=ze()),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,zw(c,y)));break;case 22:R=c.memoizedState!==null;var Fe=m!==null&&m.memoizedState!==null,Ze=XA,dt=Vs;if(XA=Ze||R,Vs=dt||Fe,Fo(f,c),Vs=dt,XA=Ze,Ro(c),y&8192)e:for(f=c.stateNode,f._visibility=R?f._visibility&-2:f._visibility|1,R&&(m===null||Fe||XA||Vs||Nf(c)),m=null,f=c;;){if(f.tag===5||f.tag===26){if(m===null){Fe=m=f;try{if(Q=Fe.stateNode,R)le=Q.style,typeof le.setProperty=="function"?le.setProperty("display","none","important"):le.display="none";else{ve=Fe.stateNode;var yt=Fe.memoizedProps.style,tt=yt!=null&&yt.hasOwnProperty("display")?yt.display:null;ve.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(rt){$r(Fe,Fe.return,rt)}}}else if(f.tag===6){if(m===null){Fe=f;try{Fe.stateNode.nodeValue=R?"":Fe.memoizedProps}catch(rt){$r(Fe,Fe.return,rt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}y&4&&(y=c.updateQueue,y!==null&&(m=y.retryQueue,m!==null&&(y.retryQueue=null,zw(c,m))));break;case 19:Fo(f,c),Ro(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,zw(c,y)));break;case 30:break;case 21:break;default:Fo(f,c),Ro(c)}}function Ro(c){var f=c.flags;if(f&2){try{for(var m,y=c.return;y!==null;){if(pT(y)){m=y;break}y=y.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var R=m.stateNode,Q=Hw(c);s1(c,Q,R);break;case 5:var le=m.stateNode;m.flags&32&&(oi(le,""),m.flags&=-33);var ve=Hw(c);s1(c,ve,le);break;case 3:case 4:var Fe=m.stateNode.containerInfo,Ze=Hw(c);Vw(c,Ze,Fe);break;default:throw Error(r(161))}}catch(dt){$r(c,c.return,dt)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function ET(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;ET(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),c=c.sibling}}function Ju(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)vT(c,f.alternate,f),f=f.sibling}function Nf(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:Yu(4,f,f.return),Nf(f);break;case 1:Yc(f,f.return);var m=f.stateNode;typeof m.componentWillUnmount=="function"&&hT(f,f.return,m),Nf(f);break;case 27:fp(f.stateNode);case 26:case 5:Yc(f,f.return),Nf(f);break;case 22:f.memoizedState===null&&Nf(f);break;case 30:Nf(f);break;default:Nf(f)}c=c.sibling}}function Xu(c,f,m){for(m=m&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var y=f.alternate,R=c,Q=f,le=Q.flags;switch(Q.tag){case 0:case 11:case 15:Xu(R,Q,m),rp(4,Q);break;case 1:if(Xu(R,Q,m),y=Q,R=y.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(Ze){$r(y,y.return,Ze)}if(y=Q,R=y.updateQueue,R!==null){var ve=y.stateNode;try{var Fe=R.shared.hiddenCallbacks;if(Fe!==null)for(R.shared.hiddenCallbacks=null,R=0;R<Fe.length;R++)Ar(Fe[R],ve)}catch(Ze){$r(y,y.return,Ze)}}m&&le&64&&fT(Q),sp(Q,Q.return);break;case 27:gT(Q);case 26:case 5:Xu(R,Q,m),m&&y===null&&le&4&&mT(Q),sp(Q,Q.return);break;case 12:Xu(R,Q,m);break;case 13:Xu(R,Q,m),m&&le&4&&bT(R,Q);break;case 22:Q.memoizedState===null&&Xu(R,Q,m),sp(Q,Q.return);break;case 30:break;default:Xu(R,Q,m)}f=f.sibling}}function Kw(c,f){var m=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==m&&(c!=null&&c.refCount++,m!=null&&pf(m))}function qw(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&pf(c))}function Jc(c,f,m,y){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)_T(c,f,m,y),f=f.sibling}function _T(c,f,m,y){var R=f.flags;switch(f.tag){case 0:case 11:case 15:Jc(c,f,m,y),R&2048&&rp(9,f);break;case 1:Jc(c,f,m,y);break;case 3:Jc(c,f,m,y),R&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&pf(c)));break;case 12:if(R&2048){Jc(c,f,m,y),c=f.stateNode;try{var Q=f.memoizedProps,le=Q.id,ve=Q.onPostCommit;typeof ve=="function"&&ve(le,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Fe){$r(f,f.return,Fe)}}else Jc(c,f,m,y);break;case 13:Jc(c,f,m,y);break;case 23:break;case 22:Q=f.stateNode,le=f.alternate,f.memoizedState!==null?Q._visibility&2?Jc(c,f,m,y):ap(c,f):Q._visibility&2?Jc(c,f,m,y):(Q._visibility|=2,Gh(c,f,m,y,(f.subtreeFlags&10256)!==0)),R&2048&&Kw(le,f);break;case 24:Jc(c,f,m,y),R&2048&&qw(f.alternate,f);break;default:Jc(c,f,m,y)}}function Gh(c,f,m,y,R){for(R=R&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var Q=c,le=f,ve=m,Fe=y,Ze=le.flags;switch(le.tag){case 0:case 11:case 15:Gh(Q,le,ve,Fe,R),rp(8,le);break;case 23:break;case 22:var dt=le.stateNode;le.memoizedState!==null?dt._visibility&2?Gh(Q,le,ve,Fe,R):ap(Q,le):(dt._visibility|=2,Gh(Q,le,ve,Fe,R)),R&&Ze&2048&&Kw(le.alternate,le);break;case 24:Gh(Q,le,ve,Fe,R),R&&Ze&2048&&qw(le.alternate,le);break;default:Gh(Q,le,ve,Fe,R)}f=f.sibling}}function ap(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var m=c,y=f,R=y.flags;switch(y.tag){case 22:ap(m,y),R&2048&&Kw(y.alternate,y);break;case 24:ap(m,y),R&2048&&qw(y.alternate,y);break;default:ap(m,y)}f=f.sibling}}var ip=8192;function zh(c){if(c.subtreeFlags&ip)for(c=c.child;c!==null;)ST(c),c=c.sibling}function ST(c){switch(c.tag){case 26:zh(c),c.flags&ip&&c.memoizedState!==null&&FQ(tc,c.memoizedState,c.memoizedProps);break;case 5:zh(c);break;case 3:case 4:var f=tc;tc=g1(c.stateNode.containerInfo),zh(c),tc=f;break;case 22:c.memoizedState===null&&(f=c.alternate,f!==null&&f.memoizedState!==null?(f=ip,ip=16777216,zh(c),ip=f):zh(c));break;default:zh(c)}}function TT(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function op(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var m=0;m<f.length;m++){var y=f[m];Ua=y,NT(y,c)}TT(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)BT(c),c=c.sibling}function BT(c){switch(c.tag){case 0:case 11:case 15:op(c),c.flags&2048&&Yu(9,c,c.return);break;case 3:op(c);break;case 12:op(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&2&&(c.return===null||c.return.tag!==13)?(f._visibility&=-3,a1(c)):op(c);break;default:op(c)}}function a1(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var m=0;m<f.length;m++){var y=f[m];Ua=y,NT(y,c)}TT(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:Yu(8,f,f.return),a1(f);break;case 22:m=f.stateNode,m._visibility&2&&(m._visibility&=-3,a1(f));break;default:a1(f)}c=c.sibling}}function NT(c,f){for(;Ua!==null;){var m=Ua;switch(m.tag){case 0:case 11:case 15:Yu(8,m,f);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var y=m.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:pf(m.memoizedState.cache)}if(y=m.child,y!==null)y.return=m,Ua=y;else e:for(m=c;Ua!==null;){y=Ua;var R=y.sibling,Q=y.return;if(yT(y),y===m){Ua=null;break e}if(R!==null){R.return=Q,Ua=R;break e}Ua=Q}}}var Wj={getCacheForType:function(c){var f=js(Qs),m=f.data.get(c);return m===void 0&&(m=c(),f.data.set(c,m)),m}},$j=typeof WeakMap=="function"?WeakMap:Map,Rr=0,Xr=null,er=null,dr=0,Dr=0,Do=null,Zu=!1,Kh=!1,Ww=!1,eu=0,Is=0,ed=0,kf=0,$w=0,hl=0,qh=0,lp=null,lo=null,Yw=!1,Jw=0,i1=1/0,o1=null,td=null,$a=0,nd=null,Wh=null,$h=0,Xw=0,Zw=null,kT=null,cp=0,eb=null;function Uo(){if((Rr&2)!==0&&dr!==0)return dr&-dr;if(K.T!==null){var c=GA;return c!==0?c:ob()}return hs()}function IT(){hl===0&&(hl=(dr&536870912)===0||hr?Zs():536870912);var c=fl.current;return c!==null&&(c.flags|=32),hl}function Lo(c,f,m){(c===Xr&&(Dr===2||Dr===9)||c.cancelPendingCommit!==null)&&(Yh(c,0),rd(c,dr,hl,!1)),ls(c,m),((Rr&2)===0||c!==Xr)&&(c===Xr&&((Rr&2)===0&&(kf|=m),Is===4&&rd(c,dr,hl,!1)),Xc(c))}function FT(c,f,m){if((Rr&6)!==0)throw Error(r(327));var y=!m&&(f&124)===0&&(f&c.expiredLanes)===0||Er(c,f),R=y?Xj(c,f):rb(c,f,!0),Q=y;do{if(R===0){Kh&&!y&&rd(c,f,0,!1);break}else{if(m=c.current.alternate,Q&&!Yj(m)){R=rb(c,f,!1),Q=!1;continue}if(R===2){if(Q=f,c.errorRecoveryDisabledLanes&Q)var le=0;else le=c.pendingLanes&-536870913,le=le!==0?le:le&536870912?536870912:0;if(le!==0){f=le;e:{var ve=c;R=lp;var Fe=ve.current.memoizedState.isDehydrated;if(Fe&&(Yh(ve,le).flags|=256),le=rb(ve,le,!1),le!==2){if(Ww&&!Fe){ve.errorRecoveryDisabledLanes|=Q,kf|=Q,R=4;break e}Q=lo,lo=R,Q!==null&&(lo===null?lo=Q:lo.push.apply(lo,Q))}R=le}if(Q=!1,R!==2)continue}}if(R===1){Yh(c,0),rd(c,f,0,!0);break}e:{switch(y=c,Q=R,Q){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:rd(y,f,hl,!Zu);break e;case 2:lo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(R=Jw+300-ze(),10<R)){if(rd(y,f,hl,!Zu),Fn(y,0,!0)!==0)break e;y.timeoutHandle=oB(RT.bind(null,y,m,lo,o1,Yw,f,hl,kf,qh,Zu,Q,2,-0,0),R);break e}RT(y,m,lo,o1,Yw,f,hl,kf,qh,Zu,Q,0,-0,0)}}break}while(!0);Xc(c)}function RT(c,f,m,y,R,Q,le,ve,Fe,Ze,dt,yt,tt,rt){if(c.timeoutHandle=-1,yt=f.subtreeFlags,(yt&8192||(yt&16785408)===16785408)&&(pp={stylesheets:null,count:0,unsuspend:IQ},ST(f),yt=RQ(),yt!==null)){c.cancelPendingCommit=yt(jT.bind(null,c,f,Q,m,y,R,le,ve,Fe,dt,1,tt,rt)),rd(c,Q,le,!Ze);return}jT(c,f,Q,m,y,R,le,ve,Fe)}function Yj(c){for(var f=c;;){var m=f.tag;if((m===0||m===11||m===15)&&f.flags&16384&&(m=f.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var y=0;y<m.length;y++){var R=m[y],Q=R.getSnapshot;R=R.value;try{if(!ra(Q(),R))return!1}catch{return!1}}if(m=f.child,f.subtreeFlags&16384&&m!==null)m.return=f,f=m;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function rd(c,f,m,y){f&=~$w,f&=~kf,c.suspendedLanes|=f,c.pingedLanes&=~f,y&&(c.warmLanes|=f),y=c.expirationTimes;for(var R=f;0<R;){var Q=31-Pt(R),le=1<<Q;y[Q]=-1,R&=~le}m!==0&&en(c,m,f)}function l1(){return(Rr&6)===0?(Ap(0),!1):!0}function tb(){if(er!==null){if(Dr===0)var c=er.return;else c=er,$l=aa=null,Lh(c),Hh=null,ep=0,c=er;for(;c!==null;)dT(c.alternate,c),c=c.return;er=null}}function Yh(c,f){var m=c.timeoutHandle;m!==-1&&(c.timeoutHandle=-1,hQ(m)),m=c.cancelPendingCommit,m!==null&&(c.cancelPendingCommit=null,m()),tb(),Xr=c,er=m=ol(c.current,null),dr=f,Dr=0,Do=null,Zu=!1,Kh=Er(c,f),Ww=!1,qh=hl=$w=kf=ed=Is=0,lo=lp=null,Yw=!1,(f&8)!==0&&(f|=f&32);var y=c.entangledLanes;if(y!==0)for(c=c.entanglements,y&=f;0<y;){var R=31-Pt(y),Q=1<<R;f|=c[R],y&=~Q}return eu=f,ro(),m}function DT(c,f){An=null,K.H=$x,f===fe||f===ge?(f=Ve(),Dr=3):f===me?(f=Ve(),Dr=4):Dr=f===X4?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Do=f,er===null&&(Is=1,e1(c,Vn(f,c.current)))}function UT(){var c=K.H;return K.H=$x,c===null?$x:c}function LT(){var c=K.A;return K.A=Wj,c}function nb(){Is=4,Zu||(dr&4194048)!==dr&&fl.current!==null||(Kh=!0),(ed&134217727)===0&&(kf&134217727)===0||Xr===null||rd(Xr,dr,hl,!1)}function rb(c,f,m){var y=Rr;Rr|=2;var R=UT(),Q=LT();(Xr!==c||dr!==f)&&(o1=null,Yh(c,f)),f=!1;var le=Is;e:do try{if(Dr!==0&&er!==null){var ve=er,Fe=Do;switch(Dr){case 8:tb(),le=6;break e;case 3:case 2:case 9:case 6:fl.current===null&&(f=!0);var Ze=Dr;if(Dr=0,Do=null,Jh(c,ve,Fe,Ze),m&&Kh){le=0;break e}break;default:Ze=Dr,Dr=0,Do=null,Jh(c,ve,Fe,Ze)}}Jj(),le=Is;break}catch(dt){DT(c,dt)}while(!0);return f&&c.shellSuspendCounter++,$l=aa=null,Rr=y,K.H=R,K.A=Q,er===null&&(Xr=null,dr=0,ro()),le}function Jj(){for(;er!==null;)MT(er)}function Xj(c,f){var m=Rr;Rr|=2;var y=UT(),R=LT();Xr!==c||dr!==f?(o1=null,i1=ze()+500,Yh(c,f)):Kh=Er(c,f);e:do try{if(Dr!==0&&er!==null){f=er;var Q=Do;t:switch(Dr){case 1:Dr=0,Do=null,Jh(c,f,Q,1);break;case 2:case 9:if(Te(Q)){Dr=0,Do=null,PT(f);break}f=function(){Dr!==2&&Dr!==9||Xr!==c||(Dr=7),Xc(c)},Q.then(f,f);break e;case 3:Dr=7;break e;case 4:Dr=5;break e;case 7:Te(Q)?(Dr=0,Do=null,PT(f)):(Dr=0,Do=null,Jh(c,f,Q,7));break;case 5:var le=null;switch(er.tag){case 26:le=er.memoizedState;case 5:case 27:var ve=er;if(!le||vB(le)){Dr=0,Do=null;var Fe=ve.sibling;if(Fe!==null)er=Fe;else{var Ze=ve.return;Ze!==null?(er=Ze,c1(Ze)):er=null}break t}}Dr=0,Do=null,Jh(c,f,Q,5);break;case 6:Dr=0,Do=null,Jh(c,f,Q,6);break;case 8:tb(),Is=6;break e;default:throw Error(r(462))}}Zj();break}catch(dt){DT(c,dt)}while(!0);return $l=aa=null,K.H=y,K.A=R,Rr=m,er!==null?0:(Xr=null,dr=0,ro(),Is)}function Zj(){for(;er!==null&&!Ue();)MT(er)}function MT(c){var f=AT(c.alternate,c,eu);c.memoizedProps=c.pendingProps,f===null?c1(c):er=f}function PT(c){var f=c,m=f.alternate;switch(f.tag){case 15:case 0:f=sT(m,f,f.pendingProps,f.type,void 0,dr);break;case 11:f=sT(m,f,f.pendingProps,f.type.render,f.ref,dr);break;case 5:Lh(f);default:dT(m,f),f=er=df(f,eu),f=AT(m,f,eu)}c.memoizedProps=c.pendingProps,f===null?c1(c):er=f}function Jh(c,f,m,y){$l=aa=null,Lh(f),Hh=null,ep=0;var R=f.return;try{if(Hj(c,R,f,m,dr)){Is=1,e1(c,Vn(m,c.current)),er=null;return}}catch(Q){if(R!==null)throw er=R,Q;Is=1,e1(c,Vn(m,c.current)),er=null;return}f.flags&32768?(hr||y===1?c=!0:Kh||(dr&536870912)!==0?c=!1:(Zu=c=!0,(y===2||y===9||y===3||y===6)&&(y=fl.current,y!==null&&y.tag===13&&(y.flags|=16384))),OT(f,c)):c1(f)}function c1(c){var f=c;do{if((f.flags&32768)!==0){OT(f,Zu);return}c=f.return;var m=Gj(f.alternate,f,eu);if(m!==null){er=m;return}if(f=f.sibling,f!==null){er=f;return}er=f=c}while(f!==null);Is===0&&(Is=5)}function OT(c,f){do{var m=zj(c.alternate,c);if(m!==null){m.flags&=32767,er=m;return}if(m=c.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!f&&(c=c.sibling,c!==null)){er=c;return}er=c=m}while(c!==null);Is=6,er=null}function jT(c,f,m,y,R,Q,le,ve,Fe){c.cancelPendingCommit=null;do A1();while($a!==0);if((Rr&6)!==0)throw Error(r(327));if(f!==null){if(f===c.current)throw Error(r(177));if(Q=f.lanes|f.childLanes,Q|=ps,Dn(c,m,Q,le,ve,Fe),c===Xr&&(er=Xr=null,dr=0),Wh=f,nd=c,$h=m,Xw=Q,Zw=R,kT=y,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,rQ(Ct,function(){return zT(),null})):(c.callbackNode=null,c.callbackPriority=0),y=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||y){y=K.T,K.T=null,R=Y.p,Y.p=2,le=Rr,Rr|=4;try{Kj(c,f,m)}finally{Rr=le,Y.p=R,K.T=y}}$a=1,QT(),HT(),VT()}}function QT(){if($a===1){$a=0;var c=nd,f=Wh,m=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||m){m=K.T,K.T=null;var y=Y.p;Y.p=2;var R=Rr;Rr|=4;try{CT(f,c);var Q=mb,le=za(c.containerInfo),ve=Q.focusedElem,Fe=Q.selectionRange;if(le!==ve&&ve&&ve.ownerDocument&&Rc(ve.ownerDocument.documentElement,ve)){if(Fe!==null&&ya(ve)){var Ze=Fe.start,dt=Fe.end;if(dt===void 0&&(dt=Ze),"selectionStart"in ve)ve.selectionStart=Ze,ve.selectionEnd=Math.min(dt,ve.value.length);else{var yt=ve.ownerDocument||document,tt=yt&&yt.defaultView||window;if(tt.getSelection){var rt=tt.getSelection(),En=ve.textContent.length,hn=Math.min(Fe.start,En),zr=Fe.end===void 0?hn:Math.min(Fe.end,En);!rt.extend&&hn>zr&&(le=zr,zr=hn,hn=le);var Ge=Ql(ve,hn),Pe=Ql(ve,zr);if(Ge&&Pe&&(rt.rangeCount!==1||rt.anchorNode!==Ge.node||rt.anchorOffset!==Ge.offset||rt.focusNode!==Pe.node||rt.focusOffset!==Pe.offset)){var $e=yt.createRange();$e.setStart(Ge.node,Ge.offset),rt.removeAllRanges(),hn>zr?(rt.addRange($e),rt.extend(Pe.node,Pe.offset)):($e.setEnd(Pe.node,Pe.offset),rt.addRange($e))}}}}for(yt=[],rt=ve;rt=rt.parentNode;)rt.nodeType===1&&yt.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof ve.focus=="function"&&ve.focus(),ve=0;ve<yt.length;ve++){var ht=yt[ve];ht.element.scrollLeft=ht.left,ht.element.scrollTop=ht.top}}b1=!!hb,mb=hb=null}finally{Rr=R,Y.p=y,K.T=m}}c.current=f,$a=2}}function HT(){if($a===2){$a=0;var c=nd,f=Wh,m=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||m){m=K.T,K.T=null;var y=Y.p;Y.p=2;var R=Rr;Rr|=4;try{vT(c,f.alternate,f)}finally{Rr=R,Y.p=y,K.T=m}}$a=3}}function VT(){if($a===4||$a===3){$a=0,Ee();var c=nd,f=Wh,m=$h,y=kT;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?$a=5:($a=0,Wh=nd=null,GT(c,c.pendingLanes));var R=c.pendingLanes;if(R===0&&(td=null),jr(m),f=f.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Mt,f,void 0,(f.current.flags&128)===128)}catch{}if(y!==null){f=K.T,R=Y.p,Y.p=2,K.T=null;try{for(var Q=c.onRecoverableError,le=0;le<y.length;le++){var ve=y[le];Q(ve.value,{componentStack:ve.stack})}}finally{K.T=f,Y.p=R}}($h&3)!==0&&A1(),Xc(c),R=c.pendingLanes,(m&4194090)!==0&&(R&42)!==0?c===eb?cp++:(cp=0,eb=c):cp=0,Ap(0)}}function GT(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,pf(f)))}function A1(c){return QT(),HT(),VT(),zT()}function zT(){if($a!==5)return!1;var c=nd,f=Xw;Xw=0;var m=jr($h),y=K.T,R=Y.p;try{Y.p=32>m?32:m,K.T=null,m=Zw,Zw=null;var Q=nd,le=$h;if($a=0,Wh=nd=null,$h=0,(Rr&6)!==0)throw Error(r(331));var ve=Rr;if(Rr|=4,BT(Q.current),_T(Q,Q.current,le,m),Rr=ve,Ap(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Mt,Q)}catch{}return!0}finally{Y.p=R,K.T=y,GT(c,f)}}function KT(c,f,m){f=Vn(m,f),f=Fw(c.stateNode,f,2),c=xt(c,f,2),c!==null&&(ls(c,2),Xc(c))}function $r(c,f,m){if(c.tag===3)KT(c,c,m);else for(;f!==null;){if(f.tag===3){KT(f,c,m);break}else if(f.tag===1){var y=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(td===null||!td.has(y))){c=Vn(m,c),m=Y4(2),y=xt(f,m,2),y!==null&&(J4(m,y,f,c),ls(y,2),Xc(y));break}}f=f.return}}function sb(c,f,m){var y=c.pingCache;if(y===null){y=c.pingCache=new $j;var R=new Set;y.set(f,R)}else R=y.get(f),R===void 0&&(R=new Set,y.set(f,R));R.has(m)||(Ww=!0,R.add(m),c=eQ.bind(null,c,f,m),f.then(c,c))}function eQ(c,f,m){var y=c.pingCache;y!==null&&y.delete(f),c.pingedLanes|=c.suspendedLanes&m,c.warmLanes&=~m,Xr===c&&(dr&m)===m&&(Is===4||Is===3&&(dr&62914560)===dr&&300>ze()-Jw?(Rr&2)===0&&Yh(c,0):$w|=m,qh===dr&&(qh=0)),Xc(c)}function qT(c,f){f===0&&(f=Xn()),c=Vl(c,f),c!==null&&(ls(c,f),Xc(c))}function tQ(c){var f=c.memoizedState,m=0;f!==null&&(m=f.retryLane),qT(c,m)}function nQ(c,f){var m=0;switch(c.tag){case 13:var y=c.stateNode,R=c.memoizedState;R!==null&&(m=R.retryLane);break;case 19:y=c.stateNode;break;case 22:y=c.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(f),qT(c,m)}function rQ(c,f){return De(c,f)}var u1=null,Xh=null,ab=!1,d1=!1,ib=!1,If=0;function Xc(c){c!==Xh&&c.next===null&&(Xh===null?u1=Xh=c:Xh=Xh.next=c),d1=!0,ab||(ab=!0,aQ())}function Ap(c,f){if(!ib&&d1){ib=!0;do for(var m=!1,y=u1;y!==null;){if(c!==0){var R=y.pendingLanes;if(R===0)var Q=0;else{var le=y.suspendedLanes,ve=y.pingedLanes;Q=(1<<31-Pt(42|c)+1)-1,Q&=R&~(le&~ve),Q=Q&201326741?Q&201326741|1:Q?Q|2:0}Q!==0&&(m=!0,JT(y,Q))}else Q=dr,Q=Fn(y,y===Xr?Q:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(Q&3)===0||Er(y,Q)||(m=!0,JT(y,Q));y=y.next}while(m);ib=!1}}function sQ(){WT()}function WT(){d1=ab=!1;var c=0;If!==0&&(fQ()&&(c=If),If=0);for(var f=ze(),m=null,y=u1;y!==null;){var R=y.next,Q=$T(y,f);Q===0?(y.next=null,m===null?u1=R:m.next=R,R===null&&(Xh=m)):(m=y,(c!==0||(Q&3)!==0)&&(d1=!0)),y=R}Ap(c)}function $T(c,f){for(var m=c.suspendedLanes,y=c.pingedLanes,R=c.expirationTimes,Q=c.pendingLanes&-62914561;0<Q;){var le=31-Pt(Q),ve=1<<le,Fe=R[le];Fe===-1?((ve&m)===0||(ve&y)!==0)&&(R[le]=Bn(ve,f)):Fe<=f&&(c.expiredLanes|=ve),Q&=~ve}if(f=Xr,m=dr,m=Fn(c,c===f?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y=c.callbackNode,m===0||c===f&&(Dr===2||Dr===9)||c.cancelPendingCommit!==null)return y!==null&&y!==null&&st(y),c.callbackNode=null,c.callbackPriority=0;if((m&3)===0||Er(c,m)){if(f=m&-m,f===c.callbackPriority)return f;switch(y!==null&&st(y),jr(m)){case 2:case 8:m=mt;break;case 32:m=Ct;break;case 268435456:m=kt;break;default:m=Ct}return y=YT.bind(null,c),m=De(m,y),c.callbackPriority=f,c.callbackNode=m,f}return y!==null&&y!==null&&st(y),c.callbackPriority=2,c.callbackNode=null,2}function YT(c,f){if($a!==0&&$a!==5)return c.callbackNode=null,c.callbackPriority=0,null;var m=c.callbackNode;if(A1()&&c.callbackNode!==m)return null;var y=dr;return y=Fn(c,c===Xr?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y===0?null:(FT(c,y,f),$T(c,ze()),c.callbackNode!=null&&c.callbackNode===m?YT.bind(null,c):null)}function JT(c,f){if(A1())return null;FT(c,f,!0)}function aQ(){mQ(function(){(Rr&6)!==0?De(it,sQ):WT()})}function ob(){return If===0&&(If=Zs()),If}function XT(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:bo(""+c)}function ZT(c,f){var m=f.ownerDocument.createElement("input");return m.name=f.name,m.value=f.value,c.id&&m.setAttribute("form",c.id),f.parentNode.insertBefore(m,f),c=new FormData(c),m.parentNode.removeChild(m),c}function iQ(c,f,m,y,R){if(f==="submit"&&m&&m.stateNode===R){var Q=XT((R[Zn]||null).action),le=y.submitter;le&&(f=(f=le[Zn]||null)?XT(f.formAction):le.getAttribute("formAction"),f!==null&&(Q=f,le=null));var ve=new Xo("action","action",null,y,R);c.push({event:ve,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(If!==0){var Fe=le?ZT(R,le):new FormData(R);dl(m,{pending:!0,data:Fe,method:R.method,action:Q},null,Fe)}}else typeof Q=="function"&&(ve.preventDefault(),Fe=le?ZT(R,le):new FormData(R),dl(m,{pending:!0,data:Fe,method:R.method,action:Q},Q,Fe))},currentTarget:R}]})}}for(var lb=0;lb<PA.length;lb++){var cb=PA[lb],oQ=cb.toLowerCase(),lQ=cb[0].toUpperCase()+cb.slice(1);As(oQ,"on"+lQ)}As(Mu,"onAnimationEnd"),As(Uc,"onAnimationIteration"),As(Lc,"onAnimationStart"),As("dblclick","onDoubleClick"),As("focusin","onFocus"),As("focusout","onBlur"),As(Mc,"onTransitionRun"),As(MA,"onTransitionStart"),As(Pu,"onTransitionCancel"),As(Pc,"onTransitionEnd"),Nt("onMouseEnter",["mouseout","mouseover"]),Nt("onMouseLeave",["mouseout","mouseover"]),Nt("onPointerEnter",["pointerout","pointerover"]),Nt("onPointerLeave",["pointerout","pointerover"]),vt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vt("onBeforeInput",["compositionend","keypress","textInput","paste"]),vt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var up="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cQ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(up));function eB(c,f){f=(f&4)!==0;for(var m=0;m<c.length;m++){var y=c[m],R=y.event;y=y.listeners;e:{var Q=void 0;if(f)for(var le=y.length-1;0<=le;le--){var ve=y[le],Fe=ve.instance,Ze=ve.currentTarget;if(ve=ve.listener,Fe!==Q&&R.isPropagationStopped())break e;Q=ve,R.currentTarget=Ze;try{Q(R)}catch(dt){Zx(dt)}R.currentTarget=null,Q=Fe}else for(le=0;le<y.length;le++){if(ve=y[le],Fe=ve.instance,Ze=ve.currentTarget,ve=ve.listener,Fe!==Q&&R.isPropagationStopped())break e;Q=ve,R.currentTarget=Ze;try{Q(R)}catch(dt){Zx(dt)}R.currentTarget=null,Q=Fe}}}}function tr(c,f){var m=f[kr];m===void 0&&(m=f[kr]=new Set);var y=c+"__bubble";m.has(y)||(tB(f,c,2,!1),m.add(y))}function Ab(c,f,m){var y=0;f&&(y|=4),tB(m,c,y,f)}var f1="_reactListening"+Math.random().toString(36).slice(2);function ub(c){if(!c[f1]){c[f1]=!0,We.forEach(function(m){m!=="selectionchange"&&(cQ.has(m)||Ab(m,!1,c),Ab(m,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[f1]||(f[f1]=!0,Ab("selectionchange",!1,f))}}function tB(c,f,m,y){switch(_B(f)){case 2:var R=LQ;break;case 8:R=MQ;break;default:R=_b}m=R.bind(null,f,m,c),R=void 0,!Ga||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(R=!0),y?R!==void 0?c.addEventListener(f,m,{capture:!0,passive:R}):c.addEventListener(f,m,!0):R!==void 0?c.addEventListener(f,m,{passive:R}):c.addEventListener(f,m,!1)}function db(c,f,m,y,R){var Q=y;if((f&1)===0&&(f&2)===0&&y!==null)e:for(;;){if(y===null)return;var le=y.tag;if(le===3||le===4){var ve=y.stateNode.containerInfo;if(ve===R)break;if(le===4)for(le=y.return;le!==null;){var Fe=le.tag;if((Fe===3||Fe===4)&&le.stateNode.containerInfo===R)return;le=le.return}for(;ve!==null;){if(le=Se(ve),le===null)return;if(Fe=le.tag,Fe===5||Fe===6||Fe===26||Fe===27){y=Q=le;continue e}ve=ve.parentNode}}y=y.return}Fu(function(){var Ze=Q,dt=Ir(m),yt=[];e:{var tt=Hl.get(c);if(tt!==void 0){var rt=Xo,En=c;switch(c){case"keypress":if(Ai(m)===0)break e;case"keydown":case"keyup":rt=So;break;case"focusin":En="focus",rt=el;break;case"focusout":En="blur",rt=el;break;case"beforeblur":case"afterblur":rt=el;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Ts;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Zo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Nc;break;case Mu:case Uc:case Lc:rt=Sc;break;case Pc:rt=Ae;break;case"scroll":case"scrollend":rt=IA;break;case"wheel":rt=Re;break;case"copy":case"cut":case"paste":rt=Tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=jl;break;case"toggle":case"beforetoggle":rt=ot}var hn=(f&4)!==0,zr=!hn&&(c==="scroll"||c==="scrollend"),Ge=hn?tt!==null?tt+"Capture":null:tt;hn=[];for(var Pe=Ze,$e;Pe!==null;){var ht=Pe;if($e=ht.stateNode,ht=ht.tag,ht!==5&&ht!==26&&ht!==27||$e===null||Ge===null||(ht=Na(Pe,Ge),ht!=null&&hn.push(dp(Pe,ht,$e))),zr)break;Pe=Pe.return}0<hn.length&&(tt=new rt(tt,En,null,m,dt),yt.push({event:tt,listeners:hn}))}}if((f&7)===0){e:{if(tt=c==="mouseover"||c==="pointerover",rt=c==="mouseout"||c==="pointerout",tt&&m!==$i&&(En=m.relatedTarget||m.fromElement)&&(Se(En)||En[_r]))break e;if((rt||tt)&&(tt=dt.window===dt?dt:(tt=dt.ownerDocument)?tt.defaultView||tt.parentWindow:window,rt?(En=m.relatedTarget||m.toElement,rt=Ze,En=En?Se(En):null,En!==null&&(zr=a(En),hn=En.tag,En!==zr||hn!==5&&hn!==27&&hn!==6)&&(En=null)):(rt=null,En=Ze),rt!==En)){if(hn=Ts,ht="onMouseLeave",Ge="onMouseEnter",Pe="mouse",(c==="pointerout"||c==="pointerover")&&(hn=jl,ht="onPointerLeave",Ge="onPointerEnter",Pe="pointer"),zr=rt==null?tt:Ke(rt),$e=En==null?tt:Ke(En),tt=new hn(ht,Pe+"leave",rt,m,dt),tt.target=zr,tt.relatedTarget=$e,ht=null,Se(dt)===Ze&&(hn=new hn(Ge,Pe+"enter",En,m,dt),hn.target=$e,hn.relatedTarget=zr,ht=hn),zr=ht,rt&&En)t:{for(hn=rt,Ge=En,Pe=0,$e=hn;$e;$e=Zh($e))Pe++;for($e=0,ht=Ge;ht;ht=Zh(ht))$e++;for(;0<Pe-$e;)hn=Zh(hn),Pe--;for(;0<$e-Pe;)Ge=Zh(Ge),$e--;for(;Pe--;){if(hn===Ge||Ge!==null&&hn===Ge.alternate)break t;hn=Zh(hn),Ge=Zh(Ge)}hn=null}else hn=null;rt!==null&&nB(yt,tt,rt,hn,!1),En!==null&&zr!==null&&nB(yt,zr,En,hn,!0)}}e:{if(tt=Ze?Ke(Ze):window,rt=tt.nodeName&&tt.nodeName.toLowerCase(),rt==="select"||rt==="input"&&tt.type==="file")var Jt=Uu;else if(Sr(tt))if(RA)Jt=Bh;else{Jt=Pm;var $n=di}else rt=tt.nodeName,!rt||rt.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?Ze&&NA(Ze.elementType)&&(Jt=Uu):Jt=Af;if(Jt&&(Jt=Jt(c,Ze))){to(yt,Jt,m,dt);break e}$n&&$n(c,tt,Ze),c==="focusout"&&Ze&&tt.type==="number"&&Ze.memoizedProps.value!=null&&$o(tt,"number",tt.value)}switch($n=Ze?Ke(Ze):window,c){case"focusin":(Sr($n)||$n.contentEditable==="true")&&(fi=$n,To=Ze,al=null);break;case"focusout":al=To=fi=null;break;case"mousedown":Bo=!0;break;case"contextmenu":case"mouseup":case"dragend":Bo=!1,cs(yt,m,dt);break;case"selectionchange":if(Dc)break;case"keydown":case"keyup":cs(yt,m,dt)}var rn;if(jt)e:{switch(c){case"compositionstart":var pn="onCompositionStart";break e;case"compositionend":pn="onCompositionEnd";break e;case"compositionupdate":pn="onCompositionUpdate";break e}pn=void 0}else fn?Xe(c,m)&&(pn="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(pn="onCompositionStart");pn&&(re&&m.locale!=="ko"&&(fn||pn!=="onCompositionStart"?pn==="onCompositionEnd"&&fn&&(rn=kA()):(ci=dt,Jo="value"in ci?ci.value:ci.textContent,fn=!0)),$n=h1(Ze,pn),0<$n.length&&(pn=new Ml(pn,c,null,m,dt),yt.push({event:pn,listeners:$n}),rn?pn.data=rn:(rn=St(m),rn!==null&&(pn.data=rn)))),(rn=W?Wn(c,m):Sn(c,m))&&(pn=h1(Ze,"onBeforeInput"),0<pn.length&&($n=new Ml("onBeforeInput","beforeinput",null,m,dt),yt.push({event:$n,listeners:pn}),$n.data=rn)),iQ(yt,c,Ze,m,dt)}eB(yt,f)})}function dp(c,f,m){return{instance:c,listener:f,currentTarget:m}}function h1(c,f){for(var m=f+"Capture",y=[];c!==null;){var R=c,Q=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||Q===null||(R=Na(c,m),R!=null&&y.unshift(dp(c,R,Q)),R=Na(c,f),R!=null&&y.push(dp(c,R,Q))),c.tag===3)return y;c=c.return}return[]}function Zh(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function nB(c,f,m,y,R){for(var Q=f._reactName,le=[];m!==null&&m!==y;){var ve=m,Fe=ve.alternate,Ze=ve.stateNode;if(ve=ve.tag,Fe!==null&&Fe===y)break;ve!==5&&ve!==26&&ve!==27||Ze===null||(Fe=Ze,R?(Ze=Na(m,Q),Ze!=null&&le.unshift(dp(m,Ze,Fe))):R||(Ze=Na(m,Q),Ze!=null&&le.push(dp(m,Ze,Fe)))),m=m.return}le.length!==0&&c.push({event:f,listeners:le})}var AQ=/\r\n?/g,uQ=/\u0000|\uFFFD/g;function rB(c){return(typeof c=="string"?c:""+c).replace(AQ,`
`).replace(uQ,"")}function sB(c,f){return f=rB(f),rB(c)===f}function m1(){}function Gr(c,f,m,y,R,Q){switch(m){case"children":typeof y=="string"?f==="body"||f==="textarea"&&y===""||oi(c,y):(typeof y=="number"||typeof y=="bigint")&&f!=="body"&&oi(c,""+y);break;case"className":Ln(c,"class",y);break;case"tabIndex":Ln(c,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(c,m,y);break;case"style":BA(c,y,Q);break;case"data":if(f!=="object"){Ln(c,"data",y);break}case"src":case"href":if(y===""&&(f!=="a"||m!=="href")){c.removeAttribute(m);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(m);break}y=bo(""+y),c.setAttribute(m,y);break;case"action":case"formAction":if(typeof y=="function"){c.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Q=="function"&&(m==="formAction"?(f!=="input"&&Gr(c,f,"name",R.name,R,null),Gr(c,f,"formEncType",R.formEncType,R,null),Gr(c,f,"formMethod",R.formMethod,R,null),Gr(c,f,"formTarget",R.formTarget,R,null)):(Gr(c,f,"encType",R.encType,R,null),Gr(c,f,"method",R.method,R,null),Gr(c,f,"target",R.target,R,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(m);break}y=bo(""+y),c.setAttribute(m,y);break;case"onClick":y!=null&&(c.onclick=m1);break;case"onScroll":y!=null&&tr("scroll",c);break;case"onScrollEnd":y!=null&&tr("scrollend",c);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(m=y.__html,m!=null){if(R.children!=null)throw Error(r(60));c.innerHTML=m}}break;case"multiple":c.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":c.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){c.removeAttribute("xlink:href");break}m=bo(""+y),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(m,""+y):c.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(m,""):c.removeAttribute(m);break;case"capture":case"download":y===!0?c.setAttribute(m,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(m,y):c.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?c.setAttribute(m,y):c.removeAttribute(m);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?c.removeAttribute(m):c.setAttribute(m,y);break;case"popover":tr("beforetoggle",c),tr("toggle",c),Un(c,"popover",y);break;case"xlinkActuate":Qn(c,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Qn(c,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Qn(c,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Qn(c,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Qn(c,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Qn(c,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Qn(c,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Qn(c,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Qn(c,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Un(c,"is",y);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=wo.get(m)||m,Un(c,m,y))}}function fb(c,f,m,y,R,Q){switch(m){case"style":BA(c,y,Q);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(m=y.__html,m!=null){if(R.children!=null)throw Error(r(60));c.innerHTML=m}}break;case"children":typeof y=="string"?oi(c,y):(typeof y=="number"||typeof y=="bigint")&&oi(c,""+y);break;case"onScroll":y!=null&&tr("scroll",c);break;case"onScrollEnd":y!=null&&tr("scrollend",c);break;case"onClick":y!=null&&(c.onclick=m1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Je.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(R=m.endsWith("Capture"),f=m.slice(2,R?m.length-7:void 0),Q=c[Zn]||null,Q=Q!=null?Q[m]:null,typeof Q=="function"&&c.removeEventListener(f,Q,R),typeof y=="function")){typeof Q!="function"&&Q!==null&&(m in c?c[m]=null:c.hasAttribute(m)&&c.removeAttribute(m)),c.addEventListener(f,y,R);break e}m in c?c[m]=y:y===!0?c.setAttribute(m,""):Un(c,m,y)}}}function Ya(c,f,m){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tr("error",c),tr("load",c);var y=!1,R=!1,Q;for(Q in m)if(m.hasOwnProperty(Q)){var le=m[Q];if(le!=null)switch(Q){case"src":y=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:Gr(c,f,Q,le,m,null)}}R&&Gr(c,f,"srcSet",m.srcSet,m,null),y&&Gr(c,f,"src",m.src,m,null);return;case"input":tr("invalid",c);var ve=Q=le=R=null,Fe=null,Ze=null;for(y in m)if(m.hasOwnProperty(y)){var dt=m[y];if(dt!=null)switch(y){case"name":R=dt;break;case"type":le=dt;break;case"checked":Fe=dt;break;case"defaultChecked":Ze=dt;break;case"value":Q=dt;break;case"defaultValue":ve=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(r(137,f));break;default:Gr(c,f,y,dt,m,null)}}Wo(c,Q,ve,Fe,Ze,le,R,!1),qo(c);return;case"select":tr("invalid",c),y=le=Q=null;for(R in m)if(m.hasOwnProperty(R)&&(ve=m[R],ve!=null))switch(R){case"value":Q=ve;break;case"defaultValue":le=ve;break;case"multiple":y=ve;default:Gr(c,f,R,ve,m,null)}f=Q,m=le,c.multiple=!!y,f!=null?Wi(c,!!y,f,!1):m!=null&&Wi(c,!!y,m,!0);return;case"textarea":tr("invalid",c),Q=R=y=null;for(le in m)if(m.hasOwnProperty(le)&&(ve=m[le],ve!=null))switch(le){case"value":y=ve;break;case"defaultValue":R=ve;break;case"children":Q=ve;break;case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(91));break;default:Gr(c,f,le,ve,m,null)}Yo(c,y,R,Q),qo(c);return;case"option":for(Fe in m)if(m.hasOwnProperty(Fe)&&(y=m[Fe],y!=null))switch(Fe){case"selected":c.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Gr(c,f,Fe,y,m,null)}return;case"dialog":tr("beforetoggle",c),tr("toggle",c),tr("cancel",c),tr("close",c);break;case"iframe":case"object":tr("load",c);break;case"video":case"audio":for(y=0;y<up.length;y++)tr(up[y],c);break;case"image":tr("error",c),tr("load",c);break;case"details":tr("toggle",c);break;case"embed":case"source":case"link":tr("error",c),tr("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ze in m)if(m.hasOwnProperty(Ze)&&(y=m[Ze],y!=null))switch(Ze){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:Gr(c,f,Ze,y,m,null)}return;default:if(NA(f)){for(dt in m)m.hasOwnProperty(dt)&&(y=m[dt],y!==void 0&&fb(c,f,dt,y,m,void 0));return}}for(ve in m)m.hasOwnProperty(ve)&&(y=m[ve],y!=null&&Gr(c,f,ve,y,m,null))}function dQ(c,f,m,y){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,Q=null,le=null,ve=null,Fe=null,Ze=null,dt=null;for(rt in m){var yt=m[rt];if(m.hasOwnProperty(rt)&&yt!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":Fe=yt;default:y.hasOwnProperty(rt)||Gr(c,f,rt,null,y,yt)}}for(var tt in y){var rt=y[tt];if(yt=m[tt],y.hasOwnProperty(tt)&&(rt!=null||yt!=null))switch(tt){case"type":Q=rt;break;case"name":R=rt;break;case"checked":Ze=rt;break;case"defaultChecked":dt=rt;break;case"value":le=rt;break;case"defaultValue":ve=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,f));break;default:rt!==yt&&Gr(c,f,tt,rt,y,yt)}}xa(c,le,ve,Fe,Ze,dt,Q,R);return;case"select":rt=le=ve=tt=null;for(Q in m)if(Fe=m[Q],m.hasOwnProperty(Q)&&Fe!=null)switch(Q){case"value":break;case"multiple":rt=Fe;default:y.hasOwnProperty(Q)||Gr(c,f,Q,null,y,Fe)}for(R in y)if(Q=y[R],Fe=m[R],y.hasOwnProperty(R)&&(Q!=null||Fe!=null))switch(R){case"value":tt=Q;break;case"defaultValue":ve=Q;break;case"multiple":le=Q;default:Q!==Fe&&Gr(c,f,R,Q,y,Fe)}f=ve,m=le,y=rt,tt!=null?Wi(c,!!m,tt,!1):!!y!=!!m&&(f!=null?Wi(c,!!m,f,!0):Wi(c,!!m,m?[]:"",!1));return;case"textarea":rt=tt=null;for(ve in m)if(R=m[ve],m.hasOwnProperty(ve)&&R!=null&&!y.hasOwnProperty(ve))switch(ve){case"value":break;case"children":break;default:Gr(c,f,ve,null,y,R)}for(le in y)if(R=y[le],Q=m[le],y.hasOwnProperty(le)&&(R!=null||Q!=null))switch(le){case"value":tt=R;break;case"defaultValue":rt=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:R!==Q&&Gr(c,f,le,R,y,Q)}gr(c,tt,rt);return;case"option":for(var En in m)if(tt=m[En],m.hasOwnProperty(En)&&tt!=null&&!y.hasOwnProperty(En))switch(En){case"selected":c.selected=!1;break;default:Gr(c,f,En,null,y,tt)}for(Fe in y)if(tt=y[Fe],rt=m[Fe],y.hasOwnProperty(Fe)&&tt!==rt&&(tt!=null||rt!=null))switch(Fe){case"selected":c.selected=tt&&typeof tt!="function"&&typeof tt!="symbol";break;default:Gr(c,f,Fe,tt,y,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var hn in m)tt=m[hn],m.hasOwnProperty(hn)&&tt!=null&&!y.hasOwnProperty(hn)&&Gr(c,f,hn,null,y,tt);for(Ze in y)if(tt=y[Ze],rt=m[Ze],y.hasOwnProperty(Ze)&&tt!==rt&&(tt!=null||rt!=null))switch(Ze){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,f));break;default:Gr(c,f,Ze,tt,y,rt)}return;default:if(NA(f)){for(var zr in m)tt=m[zr],m.hasOwnProperty(zr)&&tt!==void 0&&!y.hasOwnProperty(zr)&&fb(c,f,zr,void 0,y,tt);for(dt in y)tt=y[dt],rt=m[dt],!y.hasOwnProperty(dt)||tt===rt||tt===void 0&&rt===void 0||fb(c,f,dt,tt,y,rt);return}}for(var Ge in m)tt=m[Ge],m.hasOwnProperty(Ge)&&tt!=null&&!y.hasOwnProperty(Ge)&&Gr(c,f,Ge,null,y,tt);for(yt in y)tt=y[yt],rt=m[yt],!y.hasOwnProperty(yt)||tt===rt||tt==null&&rt==null||Gr(c,f,yt,tt,y,rt)}var hb=null,mb=null;function p1(c){return c.nodeType===9?c:c.ownerDocument}function aB(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iB(c,f){if(c===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&f==="foreignObject"?0:c}function pb(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var gb=null;function fQ(){var c=window.event;return c&&c.type==="popstate"?c===gb?!1:(gb=c,!0):(gb=null,!1)}var oB=typeof setTimeout=="function"?setTimeout:void 0,hQ=typeof clearTimeout=="function"?clearTimeout:void 0,lB=typeof Promise=="function"?Promise:void 0,mQ=typeof queueMicrotask=="function"?queueMicrotask:typeof lB<"u"?function(c){return lB.resolve(null).then(c).catch(pQ)}:oB;function pQ(c){setTimeout(function(){throw c})}function sd(c){return c==="head"}function cB(c,f){var m=f,y=0,R=0;do{var Q=m.nextSibling;if(c.removeChild(m),Q&&Q.nodeType===8)if(m=Q.data,m==="/$"){if(0<y&&8>y){m=y;var le=c.ownerDocument;if(m&1&&fp(le.documentElement),m&2&&fp(le.body),m&4)for(m=le.head,fp(m),le=m.firstChild;le;){var ve=le.nextSibling,Fe=le.nodeName;le[Ce]||Fe==="SCRIPT"||Fe==="STYLE"||Fe==="LINK"&&le.rel.toLowerCase()==="stylesheet"||m.removeChild(le),le=ve}}if(R===0){c.removeChild(Q),wp(f);return}R--}else m==="$"||m==="$?"||m==="$!"?R++:y=m.charCodeAt(0)-48;else y=0;m=Q}while(m);wp(f)}function xb(c){var f=c.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var m=f;switch(f=f.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":xb(m),_e(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}c.removeChild(m)}}function gQ(c,f,m,y){for(;c.nodeType===1;){var R=m;if(c.nodeName.toLowerCase()!==f.toLowerCase()){if(!y&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(y){if(!c[Ce])switch(f){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(Q=c.getAttribute("rel"),Q==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(Q!==R.rel||c.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||c.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||c.getAttribute("title")!==(R.title==null?null:R.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(Q=c.getAttribute("src"),(Q!==(R.src==null?null:R.src)||c.getAttribute("type")!==(R.type==null?null:R.type)||c.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&Q&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(f==="input"&&c.type==="hidden"){var Q=R.name==null?null:""+R.name;if(R.type==="hidden"&&c.getAttribute("name")===Q)return c}else return c;if(c=nc(c.nextSibling),c===null)break}return null}function xQ(c,f,m){if(f==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!m||(c=nc(c.nextSibling),c===null))return null;return c}function vb(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function vQ(c,f){var m=c.ownerDocument;if(c.data!=="$?"||m.readyState==="complete")f();else{var y=function(){f(),m.removeEventListener("DOMContentLoaded",y)};m.addEventListener("DOMContentLoaded",y),c._reactRetry=y}}function nc(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return c}var yb=null;function AB(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"){if(f===0)return c;f--}else m==="/$"&&f++}c=c.previousSibling}return null}function uB(c,f,m){switch(f=p1(m),c){case"html":if(c=f.documentElement,!c)throw Error(r(452));return c;case"head":if(c=f.head,!c)throw Error(r(453));return c;case"body":if(c=f.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function fp(c){for(var f=c.attributes;f.length;)c.removeAttributeNode(f[0]);_e(c)}var ml=new Map,dB=new Set;function g1(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var tu=Y.d;Y.d={f:yQ,r:wQ,D:bQ,C:CQ,L:EQ,m:_Q,X:TQ,S:SQ,M:BQ};function yQ(){var c=tu.f(),f=l1();return c||f}function wQ(c){var f=Ne(c);f!==null&&f.tag===5&&f.type==="form"?Sf(f):tu.r(c)}var e0=typeof document>"u"?null:document;function fB(c,f,m){var y=e0;if(y&&typeof f=="string"&&f){var R=lr(f);R='link[rel="'+c+'"][href="'+R+'"]',typeof m=="string"&&(R+='[crossorigin="'+m+'"]'),dB.has(R)||(dB.add(R),c={rel:c,crossOrigin:m,href:f},y.querySelector(R)===null&&(f=y.createElement("link"),Ya(f,"link",c),Qe(f),y.head.appendChild(f)))}}function bQ(c){tu.D(c),fB("dns-prefetch",c,null)}function CQ(c,f){tu.C(c,f),fB("preconnect",c,f)}function EQ(c,f,m){tu.L(c,f,m);var y=e0;if(y&&c&&f){var R='link[rel="preload"][as="'+lr(f)+'"]';f==="image"&&m&&m.imageSrcSet?(R+='[imagesrcset="'+lr(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(R+='[imagesizes="'+lr(m.imageSizes)+'"]')):R+='[href="'+lr(c)+'"]';var Q=R;switch(f){case"style":Q=t0(c);break;case"script":Q=n0(c)}ml.has(Q)||(c=d({rel:"preload",href:f==="image"&&m&&m.imageSrcSet?void 0:c,as:f},m),ml.set(Q,c),y.querySelector(R)!==null||f==="style"&&y.querySelector(hp(Q))||f==="script"&&y.querySelector(mp(Q))||(f=y.createElement("link"),Ya(f,"link",c),Qe(f),y.head.appendChild(f)))}}function _Q(c,f){tu.m(c,f);var m=e0;if(m&&c){var y=f&&typeof f.as=="string"?f.as:"script",R='link[rel="modulepreload"][as="'+lr(y)+'"][href="'+lr(c)+'"]',Q=R;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Q=n0(c)}if(!ml.has(Q)&&(c=d({rel:"modulepreload",href:c},f),ml.set(Q,c),m.querySelector(R)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(mp(Q)))return}y=m.createElement("link"),Ya(y,"link",c),Qe(y),m.head.appendChild(y)}}}function SQ(c,f,m){tu.S(c,f,m);var y=e0;if(y&&c){var R=et(y).hoistableStyles,Q=t0(c);f=f||"default";var le=R.get(Q);if(!le){var ve={loading:0,preload:null};if(le=y.querySelector(hp(Q)))ve.loading=5;else{c=d({rel:"stylesheet",href:c,"data-precedence":f},m),(m=ml.get(Q))&&wb(c,m);var Fe=le=y.createElement("link");Qe(Fe),Ya(Fe,"link",c),Fe._p=new Promise(function(Ze,dt){Fe.onload=Ze,Fe.onerror=dt}),Fe.addEventListener("load",function(){ve.loading|=1}),Fe.addEventListener("error",function(){ve.loading|=2}),ve.loading|=4,x1(le,f,y)}le={type:"stylesheet",instance:le,count:1,state:ve},R.set(Q,le)}}}function TQ(c,f){tu.X(c,f);var m=e0;if(m&&c){var y=et(m).hoistableScripts,R=n0(c),Q=y.get(R);Q||(Q=m.querySelector(mp(R)),Q||(c=d({src:c,async:!0},f),(f=ml.get(R))&&bb(c,f),Q=m.createElement("script"),Qe(Q),Ya(Q,"link",c),m.head.appendChild(Q)),Q={type:"script",instance:Q,count:1,state:null},y.set(R,Q))}}function BQ(c,f){tu.M(c,f);var m=e0;if(m&&c){var y=et(m).hoistableScripts,R=n0(c),Q=y.get(R);Q||(Q=m.querySelector(mp(R)),Q||(c=d({src:c,async:!0,type:"module"},f),(f=ml.get(R))&&bb(c,f),Q=m.createElement("script"),Qe(Q),Ya(Q,"link",c),m.head.appendChild(Q)),Q={type:"script",instance:Q,count:1,state:null},y.set(R,Q))}}function hB(c,f,m,y){var R=(R=ae.current)?g1(R):null;if(!R)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(f=t0(m.href),m=et(R).hoistableStyles,y=m.get(f),y||(y={type:"style",instance:null,count:0,state:null},m.set(f,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){c=t0(m.href);var Q=et(R).hoistableStyles,le=Q.get(c);if(le||(R=R.ownerDocument||R,le={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Q.set(c,le),(Q=R.querySelector(hp(c)))&&!Q._p&&(le.instance=Q,le.state.loading=5),ml.has(c)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},ml.set(c,m),Q||NQ(R,c,m,le.state))),f&&y===null)throw Error(r(528,""));return le}if(f&&y!==null)throw Error(r(529,""));return null;case"script":return f=m.async,m=m.src,typeof m=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=n0(m),m=et(R).hoistableScripts,y=m.get(f),y||(y={type:"script",instance:null,count:0,state:null},m.set(f,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function t0(c){return'href="'+lr(c)+'"'}function hp(c){return'link[rel="stylesheet"]['+c+"]"}function mB(c){return d({},c,{"data-precedence":c.precedence,precedence:null})}function NQ(c,f,m,y){c.querySelector('link[rel="preload"][as="style"]['+f+"]")?y.loading=1:(f=c.createElement("link"),y.preload=f,f.addEventListener("load",function(){return y.loading|=1}),f.addEventListener("error",function(){return y.loading|=2}),Ya(f,"link",m),Qe(f),c.head.appendChild(f))}function n0(c){return'[src="'+lr(c)+'"]'}function mp(c){return"script[async]"+c}function pB(c,f,m){if(f.count++,f.instance===null)switch(f.type){case"style":var y=c.querySelector('style[data-href~="'+lr(m.href)+'"]');if(y)return f.instance=y,Qe(y),y;var R=d({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return y=(c.ownerDocument||c).createElement("style"),Qe(y),Ya(y,"style",R),x1(y,m.precedence,c),f.instance=y;case"stylesheet":R=t0(m.href);var Q=c.querySelector(hp(R));if(Q)return f.state.loading|=4,f.instance=Q,Qe(Q),Q;y=mB(m),(R=ml.get(R))&&wb(y,R),Q=(c.ownerDocument||c).createElement("link"),Qe(Q);var le=Q;return le._p=new Promise(function(ve,Fe){le.onload=ve,le.onerror=Fe}),Ya(Q,"link",y),f.state.loading|=4,x1(Q,m.precedence,c),f.instance=Q;case"script":return Q=n0(m.src),(R=c.querySelector(mp(Q)))?(f.instance=R,Qe(R),R):(y=m,(R=ml.get(Q))&&(y=d({},m),bb(y,R)),c=c.ownerDocument||c,R=c.createElement("script"),Qe(R),Ya(R,"link",y),c.head.appendChild(R),f.instance=R);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(y=f.instance,f.state.loading|=4,x1(y,m.precedence,c));return f.instance}function x1(c,f,m){for(var y=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=y.length?y[y.length-1]:null,Q=R,le=0;le<y.length;le++){var ve=y[le];if(ve.dataset.precedence===f)Q=ve;else if(Q!==R)break}Q?Q.parentNode.insertBefore(c,Q.nextSibling):(f=m.nodeType===9?m.head:m,f.insertBefore(c,f.firstChild))}function wb(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.title==null&&(c.title=f.title)}function bb(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.integrity==null&&(c.integrity=f.integrity)}var v1=null;function gB(c,f,m){if(v1===null){var y=new Map,R=v1=new Map;R.set(m,y)}else R=v1,y=R.get(m),y||(y=new Map,R.set(m,y));if(y.has(c))return y;for(y.set(c,null),m=m.getElementsByTagName(c),R=0;R<m.length;R++){var Q=m[R];if(!(Q[Ce]||Q[or]||c==="link"&&Q.getAttribute("rel")==="stylesheet")&&Q.namespaceURI!=="http://www.w3.org/2000/svg"){var le=Q.getAttribute(f)||"";le=c+le;var ve=y.get(le);ve?ve.push(Q):y.set(le,[Q])}}return y}function xB(c,f,m){c=c.ownerDocument||c,c.head.insertBefore(m,f==="title"?c.querySelector("head > title"):null)}function kQ(c,f,m){if(m===1||f.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return c=f.disabled,typeof f.precedence=="string"&&c==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function vB(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var pp=null;function IQ(){}function FQ(c,f,m){if(pp===null)throw Error(r(475));var y=pp;if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var R=t0(m.href),Q=c.querySelector(hp(R));if(Q){c=Q._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(y.count++,y=y1.bind(y),c.then(y,y)),f.state.loading|=4,f.instance=Q,Qe(Q);return}Q=c.ownerDocument||c,m=mB(m),(R=ml.get(R))&&wb(m,R),Q=Q.createElement("link"),Qe(Q);var le=Q;le._p=new Promise(function(ve,Fe){le.onload=ve,le.onerror=Fe}),Ya(Q,"link",m),f.instance=Q}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(y.count++,f=y1.bind(y),c.addEventListener("load",f),c.addEventListener("error",f))}}function RQ(){if(pp===null)throw Error(r(475));var c=pp;return c.stylesheets&&c.count===0&&Cb(c,c.stylesheets),0<c.count?function(f){var m=setTimeout(function(){if(c.stylesheets&&Cb(c,c.stylesheets),c.unsuspend){var y=c.unsuspend;c.unsuspend=null,y()}},6e4);return c.unsuspend=f,function(){c.unsuspend=null,clearTimeout(m)}}:null}function y1(){if(this.count--,this.count===0){if(this.stylesheets)Cb(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var w1=null;function Cb(c,f){c.stylesheets=null,c.unsuspend!==null&&(c.count++,w1=new Map,f.forEach(DQ,c),w1=null,y1.call(c))}function DQ(c,f){if(!(f.state.loading&4)){var m=w1.get(c);if(m)var y=m.get(null);else{m=new Map,w1.set(c,m);for(var R=c.querySelectorAll("link[data-precedence],style[data-precedence]"),Q=0;Q<R.length;Q++){var le=R[Q];(le.nodeName==="LINK"||le.getAttribute("media")!=="not all")&&(m.set(le.dataset.precedence,le),y=le)}y&&m.set(null,y)}R=f.instance,le=R.getAttribute("data-precedence"),Q=m.get(le)||y,Q===y&&m.set(null,R),m.set(le,R),this.count++,y=y1.bind(this),R.addEventListener("load",y),R.addEventListener("error",y),Q?Q.parentNode.insertBefore(R,Q.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(R,c.firstChild)),f.state.loading|=4}}var gp={$$typeof:k,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function UQ(c,f,m,y,R,Q,le,ve){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.hiddenUpdates=Wr(null),this.identifierPrefix=y,this.onUncaughtError=R,this.onCaughtError=Q,this.onRecoverableError=le,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ve,this.incompleteTransitions=new Map}function yB(c,f,m,y,R,Q,le,ve,Fe,Ze,dt,yt){return c=new UQ(c,f,m,le,ve,Fe,Ze,yt),f=1,Q===!0&&(f|=24),Q=Ra(3,null,null,f),c.current=Q,Q.stateNode=c,f=jm(),f.refCount++,c.pooledCache=f,f.refCount++,Q.memoizedState={element:y,isDehydrated:m,cache:f},Me(Q),c}function wB(c){return c?(c=sa,c):sa}function bB(c,f,m,y,R,Q){R=wB(R),y.context===null?y.context=R:y.pendingContext=R,y=ct(f),y.payload={element:m},Q=Q===void 0?null:Q,Q!==null&&(y.callback=Q),m=xt(c,y,f),m!==null&&(Lo(m,c,f),ft(m,c,f))}function CB(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<f?m:f}}function Eb(c,f){CB(c,f),(c=c.alternate)&&CB(c,f)}function EB(c){if(c.tag===13){var f=Vl(c,67108864);f!==null&&Lo(f,c,67108864),Eb(c,67108864)}}var b1=!0;function LQ(c,f,m,y){var R=K.T;K.T=null;var Q=Y.p;try{Y.p=2,_b(c,f,m,y)}finally{Y.p=Q,K.T=R}}function MQ(c,f,m,y){var R=K.T;K.T=null;var Q=Y.p;try{Y.p=8,_b(c,f,m,y)}finally{Y.p=Q,K.T=R}}function _b(c,f,m,y){if(b1){var R=Sb(y);if(R===null)db(c,f,y,C1,m),SB(c,y);else if(OQ(R,c,f,m,y))y.stopPropagation();else if(SB(c,y),f&4&&-1<PQ.indexOf(c)){for(;R!==null;){var Q=Ne(R);if(Q!==null)switch(Q.tag){case 3:if(Q=Q.stateNode,Q.current.memoizedState.isDehydrated){var le=mn(Q.pendingLanes);if(le!==0){var ve=Q;for(ve.pendingLanes|=2,ve.entangledLanes|=2;le;){var Fe=1<<31-Pt(le);ve.entanglements[1]|=Fe,le&=~Fe}Xc(Q),(Rr&6)===0&&(i1=ze()+500,Ap(0))}}break;case 13:ve=Vl(Q,2),ve!==null&&Lo(ve,Q,2),l1(),Eb(Q,2)}if(Q=Sb(y),Q===null&&db(c,f,y,C1,m),Q===R)break;R=Q}R!==null&&y.stopPropagation()}else db(c,f,y,null,m)}}function Sb(c){return c=Ir(c),Tb(c)}var C1=null;function Tb(c){if(C1=null,c=Se(c),c!==null){var f=a(c);if(f===null)c=null;else{var m=f.tag;if(m===13){if(c=i(f),c!==null)return c;c=null}else if(m===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null)}}return C1=c,null}function _B(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nt()){case it:return 2;case mt:return 8;case Ct:case At:return 32;case kt:return 268435456;default:return 32}default:return 32}}var Bb=!1,ad=null,id=null,od=null,xp=new Map,vp=new Map,ld=[],PQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function SB(c,f){switch(c){case"focusin":case"focusout":ad=null;break;case"dragenter":case"dragleave":id=null;break;case"mouseover":case"mouseout":od=null;break;case"pointerover":case"pointerout":xp.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":vp.delete(f.pointerId)}}function yp(c,f,m,y,R,Q){return c===null||c.nativeEvent!==Q?(c={blockedOn:f,domEventName:m,eventSystemFlags:y,nativeEvent:Q,targetContainers:[R]},f!==null&&(f=Ne(f),f!==null&&EB(f)),c):(c.eventSystemFlags|=y,f=c.targetContainers,R!==null&&f.indexOf(R)===-1&&f.push(R),c)}function OQ(c,f,m,y,R){switch(f){case"focusin":return ad=yp(ad,c,f,m,y,R),!0;case"dragenter":return id=yp(id,c,f,m,y,R),!0;case"mouseover":return od=yp(od,c,f,m,y,R),!0;case"pointerover":var Q=R.pointerId;return xp.set(Q,yp(xp.get(Q)||null,c,f,m,y,R)),!0;case"gotpointercapture":return Q=R.pointerId,vp.set(Q,yp(vp.get(Q)||null,c,f,m,y,R)),!0}return!1}function TB(c){var f=Se(c.target);if(f!==null){var m=a(f);if(m!==null){if(f=m.tag,f===13){if(f=i(m),f!==null){c.blockedOn=f,ma(c.priority,function(){if(m.tag===13){var y=Uo();y=ea(y);var R=Vl(m,y);R!==null&&Lo(R,m,y),Eb(m,y)}});return}}else if(f===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function E1(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var m=Sb(c.nativeEvent);if(m===null){m=c.nativeEvent;var y=new m.constructor(m.type,m);$i=y,m.target.dispatchEvent(y),$i=null}else return f=Ne(m),f!==null&&EB(f),c.blockedOn=m,!1;f.shift()}return!0}function BB(c,f,m){E1(c)&&m.delete(f)}function jQ(){Bb=!1,ad!==null&&E1(ad)&&(ad=null),id!==null&&E1(id)&&(id=null),od!==null&&E1(od)&&(od=null),xp.forEach(BB),vp.forEach(BB)}function _1(c,f){c.blockedOn===f&&(c.blockedOn=null,Bb||(Bb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jQ)))}var S1=null;function NB(c){S1!==c&&(S1=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){S1===c&&(S1=null);for(var f=0;f<c.length;f+=3){var m=c[f],y=c[f+1],R=c[f+2];if(typeof y!="function"){if(Tb(y||m)===null)continue;break}var Q=Ne(m);Q!==null&&(c.splice(f,3),f-=3,dl(Q,{pending:!0,data:R,method:m.method,action:y},y,R))}}))}function wp(c){function f(Fe){return _1(Fe,c)}ad!==null&&_1(ad,c),id!==null&&_1(id,c),od!==null&&_1(od,c),xp.forEach(f),vp.forEach(f);for(var m=0;m<ld.length;m++){var y=ld[m];y.blockedOn===c&&(y.blockedOn=null)}for(;0<ld.length&&(m=ld[0],m.blockedOn===null);)TB(m),m.blockedOn===null&&ld.shift();if(m=(c.ownerDocument||c).$$reactFormReplay,m!=null)for(y=0;y<m.length;y+=3){var R=m[y],Q=m[y+1],le=R[Zn]||null;if(typeof Q=="function")le||NB(m);else if(le){var ve=null;if(Q&&Q.hasAttribute("formAction")){if(R=Q,le=Q[Zn]||null)ve=le.formAction;else if(Tb(R)!==null)continue}else ve=le.action;typeof ve=="function"?m[y+1]=ve:(m.splice(y,3),y-=3),NB(m)}}}function Nb(c){this._internalRoot=c}T1.prototype.render=Nb.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(r(409));var m=f.current,y=Uo();bB(m,y,c,f,null,null)},T1.prototype.unmount=Nb.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;bB(c.current,2,null,c,null,null),l1(),f[_r]=null}};function T1(c){this._internalRoot=c}T1.prototype.unstable_scheduleHydration=function(c){if(c){var f=hs();c={blockedOn:null,target:c,priority:f};for(var m=0;m<ld.length&&f!==0&&f<ld[m].priority;m++);ld.splice(m,0,c),m===0&&TB(c)}};var kB=e.version;if(kB!=="19.1.1")throw Error(r(527,kB,"19.1.1"));Y.findDOMNode=function(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=l(f),c=c!==null?A(c):null,c=c===null?null:c.stateNode,c};var QQ={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var B1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!B1.isDisabled&&B1.supportsFiber)try{Mt=B1.inject(QQ),Vt=B1}catch{}}return Cp.createRoot=function(c,f){if(!s(c))throw Error(r(299));var m=!1,y="",R=K4,Q=q4,le=W4,ve=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(R=f.onUncaughtError),f.onCaughtError!==void 0&&(Q=f.onCaughtError),f.onRecoverableError!==void 0&&(le=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(ve=f.unstable_transitionCallbacks)),f=yB(c,1,!1,null,null,m,y,R,Q,le,ve,null),c[_r]=f.current,ub(c),new Nb(f)},Cp.hydrateRoot=function(c,f,m){if(!s(c))throw Error(r(299));var y=!1,R="",Q=K4,le=q4,ve=W4,Fe=null,Ze=null;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(R=m.identifierPrefix),m.onUncaughtError!==void 0&&(Q=m.onUncaughtError),m.onCaughtError!==void 0&&(le=m.onCaughtError),m.onRecoverableError!==void 0&&(ve=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(Fe=m.unstable_transitionCallbacks),m.formState!==void 0&&(Ze=m.formState)),f=yB(c,1,!0,f,m??null,y,R,Q,le,ve,Fe,Ze),f.context=wB(null),m=f.current,y=Uo(),y=ea(y),R=ct(y),R.callback=null,xt(m,R,y),m=y,f.current.lanes=m,ls(f,m),Xc(f),c[_r]=f.current,ub(c),new T1(f)},Cp.version="19.1.1",Cp}var jB;function YQ(){if(jB)return Fb.exports;jB=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fb.exports=$Q(),Fb.exports}var JQ=YQ();const XQ=wS(JQ),ZQ=()=>{};var QB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},e9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],i=t[n++],o=t[n++],l=((s&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|i&63)}}return e.join("")},oD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],i=s+1<t.length,o=i?t[s+1]:0,l=s+2<t.length,A=l?t[s+2]:0,d=a>>2,h=(a&3)<<4|o>>4;let p=(o&15)<<2|A>>6,g=A&63;l||(g=64,i||(p=64)),r.push(n[d],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):e9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const A=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||o==null||A==null||h==null)throw new t9;const p=a<<2|o>>4;if(r.push(p),A!==64){const g=o<<4&240|A>>2;if(r.push(g),h!==64){const w=A<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class t9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n9=function(t){const e=iD(t);return oD.encodeByteArray(e,!0)},o2=function(t){return n9(t).replace(/\./g,"")},lD=function(t){try{return oD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=()=>r9().__FIREBASE_DEFAULTS__,a9=()=>{if(typeof process>"u"||typeof QB>"u")return;const t=QB.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},i9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lD(t[1]);return e&&JSON.parse(e)},vy=()=>{try{return ZQ()||s9()||a9()||i9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cD=t=>{var e,n;return(n=(e=vy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},o9=t=>{const e=cD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},AD=()=>{var t;return(t=vy())==null?void 0:t.config},uD=t=>{var e;return(e=vy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dD(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[o2(JSON.stringify(n)),o2(JSON.stringify(i)),""].join(".")}const ag={};function A9(){const t={prod:[],emulator:[]};for(const e of Object.keys(ag))ag[e]?t.emulator.push(e):t.prod.push(e);return t}function u9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let HB=!1;function fD(t,e){if(typeof window>"u"||typeof document>"u"||!ym(window.location.host)||ag[t]===e||ag[t]||HB)return;ag[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",a=A9().prod.length>0;function i(){const p=document.getElementById(r);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function A(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{HB=!0,i()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=u9(r),g=n("text"),w=document.getElementById(g)||document.createElement("span"),b=n("learnmore"),E=document.getElementById(b)||document.createElement("a"),T=n("preprendIcon"),I=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const k=p.element;o(k),d(E,b);const F=A();l(I,T),k.append(I,w,E,F),document.body.appendChild(k)}a?(w.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ui())}function f9(){var e;const t=(e=vy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function p9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g9(){const t=Ui();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function x9(){return!f9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v9(){try{return typeof indexedDB=="object"}catch{return!1}}function y9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9="FirebaseError";class _u extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=w9,Object.setPrototypeOf(this,_u.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lx.prototype.create)}}class lx{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],i=a?b9(a,r):"Error",o=`${this.serviceName}: ${i} (${s}).`;return new _u(s,o,r)}}function b9(t,e){return t.replace(C9,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const C9=/\{\$([^}]+)}/g;function E9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],i=e[s];if(VB(a)&&VB(i)){if(!nh(a,i))return!1}else if(a!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function VB(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pp(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Op(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _9(t,e){const n=new S9(t,e);return n.subscribe.bind(n)}class S9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");T9(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Lb),s.error===void 0&&(s.error=Lb),s.complete===void 0&&(s.complete=Lb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){return t&&t._delegate?t._delegate:t}class rh{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B9=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new l9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k9(e))try{this.getOrInitializeService({instanceIdentifier:Df})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Df){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Df){return this.instances.has(e)}getOptions(e=Df){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&i.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:N9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Df){return this.component?this.component.multipleInstances?e:Df:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function N9(t){return t===Df?void 0:t}function k9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new B9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rr||(rr={}));const F9={debug:rr.DEBUG,verbose:rr.VERBOSE,info:rr.INFO,warn:rr.WARN,error:rr.ERROR,silent:rr.SILENT},R9=rr.INFO,D9={[rr.DEBUG]:"log",[rr.VERBOSE]:"log",[rr.INFO]:"info",[rr.WARN]:"warn",[rr.ERROR]:"error"},U9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=D9[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let bS=class{constructor(e){this.name=e,this._logLevel=R9,this._logHandler=U9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?F9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rr.DEBUG,...e),this._logHandler(this,rr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rr.VERBOSE,...e),this._logHandler(this,rr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rr.INFO,...e),this._logHandler(this,rr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rr.WARN,...e),this._logHandler(this,rr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rr.ERROR,...e),this._logHandler(this,rr.ERROR,...e)}};const L9=(t,e)=>e.some(n=>t instanceof n);let GB,zB;function M9(){return GB||(GB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P9(){return zB||(zB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hD=new WeakMap,wE=new WeakMap,mD=new WeakMap,Mb=new WeakMap,CS=new WeakMap;function O9(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",i)},a=()=>{n(Rd(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&hD.set(n,t)}).catch(()=>{}),CS.set(e,t),e}function j9(t){if(wE.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",i),t.removeEventListener("abort",i)},a=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",i),t.addEventListener("abort",i)});wE.set(t,e)}let bE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Q9(t){bE=t(bE)}function H9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pb(this),e,...n);return mD.set(r,e.sort?e.sort():[e]),Rd(r)}:P9().includes(t)?function(...e){return t.apply(Pb(this),e),Rd(hD.get(this))}:function(...e){return Rd(t.apply(Pb(this),e))}}function V9(t){return typeof t=="function"?H9(t):(t instanceof IDBTransaction&&j9(t),L9(t,M9())?new Proxy(t,bE):t)}function Rd(t){if(t instanceof IDBRequest)return O9(t);if(Mb.has(t))return Mb.get(t);const e=V9(t);return e!==t&&(Mb.set(t,e),CS.set(e,t)),e}const Pb=t=>CS.get(t);function G9(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const i=indexedDB.open(t,e),o=Rd(i);return r&&i.addEventListener("upgradeneeded",l=>{r(Rd(i.result),l.oldVersion,l.newVersion,Rd(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),s&&l.addEventListener("versionchange",A=>s(A.oldVersion,A.newVersion,A))}).catch(()=>{}),o}const z9=["get","getKey","getAll","getAllKeys","count"],K9=["put","add","delete","clear"],Ob=new Map;function KB(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ob.get(e))return Ob.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=K9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||z9.includes(n)))return;const a=async function(i,...o){const l=this.transaction(i,s?"readwrite":"readonly");let A=l.store;return r&&(A=A.index(o.shift())),(await Promise.all([A[n](...o),s&&l.done]))[0]};return Ob.set(e,a),a}Q9(t=>({...t,get:(e,n,r)=>KB(e,n)||t.get(e,n,r),has:(e,n)=>!!KB(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(W9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function W9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const CE="@firebase/app",qB="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new bS("@firebase/app"),$9="@firebase/app-compat",Y9="@firebase/analytics-compat",J9="@firebase/analytics",X9="@firebase/app-check-compat",Z9="@firebase/app-check",eH="@firebase/auth",tH="@firebase/auth-compat",nH="@firebase/database",rH="@firebase/data-connect",sH="@firebase/database-compat",aH="@firebase/functions",iH="@firebase/functions-compat",oH="@firebase/installations",lH="@firebase/installations-compat",cH="@firebase/messaging",AH="@firebase/messaging-compat",uH="@firebase/performance",dH="@firebase/performance-compat",fH="@firebase/remote-config",hH="@firebase/remote-config-compat",mH="@firebase/storage",pH="@firebase/storage-compat",gH="@firebase/firestore",xH="@firebase/ai",vH="@firebase/firestore-compat",yH="firebase",wH="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="[DEFAULT]",bH={[CE]:"fire-core",[$9]:"fire-core-compat",[J9]:"fire-analytics",[Y9]:"fire-analytics-compat",[Z9]:"fire-app-check",[X9]:"fire-app-check-compat",[eH]:"fire-auth",[tH]:"fire-auth-compat",[nH]:"fire-rtdb",[rH]:"fire-data-connect",[sH]:"fire-rtdb-compat",[aH]:"fire-fn",[iH]:"fire-fn-compat",[oH]:"fire-iid",[lH]:"fire-iid-compat",[cH]:"fire-fcm",[AH]:"fire-fcm-compat",[uH]:"fire-perf",[dH]:"fire-perf-compat",[fH]:"fire-rc",[hH]:"fire-rc-compat",[mH]:"fire-gcs",[pH]:"fire-gcs-compat",[gH]:"fire-fst",[vH]:"fire-fst-compat",[xH]:"fire-vertex","fire-js":"fire-js",[yH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new Map,CH=new Map,_E=new Map;function WB(t,e){try{t.container.addComponent(e)}catch(n){pu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function am(t){const e=t.name;if(_E.has(e))return pu.debug(`There were multiple attempts to register component ${e}.`),!1;_E.set(e,t);for(const n of l2.values())WB(n,t);for(const n of CH.values())WB(n,t);return!0}function ES(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function lc(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dd=new lx("app","Firebase",EH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=wH;function pD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:EE,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Dd.create("bad-app-name",{appName:String(s)});if(n||(n=AD()),!n)throw Dd.create("no-options");const a=l2.get(s);if(a){if(nh(n,a.options)&&nh(r,a.config))return a;throw Dd.create("duplicate-app",{appName:s})}const i=new I9(s);for(const l of _E.values())i.addComponent(l);const o=new _H(n,r,i);return l2.set(s,o),o}function gD(t=EE){const e=l2.get(t);if(!e&&t===EE&&AD())return pD();if(!e)throw Dd.create("no-app",{appName:t});return e}function Ud(t,e,n){let r=bH[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const i=[`Unable to register library "${r}" with version "${e}":`];s&&i.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&i.push("and"),a&&i.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pu.warn(i.join(" "));return}am(new rh(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH="firebase-heartbeat-database",TH=1,Tg="firebase-heartbeat-store";let jb=null;function xD(){return jb||(jb=G9(SH,TH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tg)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dd.create("idb-open",{originalErrorMessage:t.message})})),jb}async function BH(t){try{const n=(await xD()).transaction(Tg),r=await n.objectStore(Tg).get(vD(t));return await n.done,r}catch(e){if(e instanceof _u)pu.warn(e.message);else{const n=Dd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pu.warn(n.message)}}}async function $B(t,e){try{const r=(await xD()).transaction(Tg,"readwrite");await r.objectStore(Tg).put(e,vD(t)),await r.done}catch(n){if(n instanceof _u)pu.warn(n.message);else{const r=Dd.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pu.warn(r.message)}}}function vD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH=1024,kH=30;class IH{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RH(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=YB();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(i=>i.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>kH){const i=DH(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=YB(),{heartbeatsToSend:r,unsentEntries:s}=FH(this._heartbeatsCache.heartbeats),a=o2(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return pu.warn(n),""}}}function YB(){return new Date().toISOString().substring(0,10)}function FH(t,e=NH){const n=[];let r=t.slice();for(const s of t){const a=n.find(i=>i.agent===s.agent);if(a){if(a.dates.push(s.date),JB(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),JB(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v9()?y9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BH(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $B(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $B(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function JB(t){return o2(JSON.stringify({version:2,heartbeats:t})).length}function DH(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UH(t){am(new rh("platform-logger",e=>new q9(e),"PRIVATE")),am(new rh("heartbeat",e=>new IH(e),"PRIVATE")),Ud(CE,qB,t),Ud(CE,qB,"esm2020"),Ud("fire-js","")}UH("");function yD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LH=yD,wD=new lx("auth","Firebase",yD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new bS("@firebase/auth");function MH(t,...e){c2.logLevel<=rr.WARN&&c2.warn(`Auth (${wm}): ${t}`,...e)}function Uv(t,...e){c2.logLevel<=rr.ERROR&&c2.error(`Auth (${wm}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t,...e){throw _S(t,...e)}function AA(t,...e){return _S(t,...e)}function bD(t,e,n){const r={...LH(),[e]:n};return new lx("auth","Firebase",r).create(e,{appName:t.name})}function Ld(t){return bD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _S(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wD.create(t,...e)}function bn(t,e,...n){if(!t)throw _S(e,...n)}function iu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uv(e),new Error(e)}function gu(t,e){t||iu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function PH(){return XB()==="http:"||XB()==="https:"}function XB(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PH()||m9()||"connection"in navigator)?navigator.onLine:!0}function jH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n){this.shortDelay=e,this.longDelay=n,gu(n>e,"Short delay should be less than long delay!"),this.isMobile=d9()||p9()}get(){return OH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t,e){gu(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;iu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;iu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;iu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VH=new Ax(3e4,6e4);function ph(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function rf(t,e,n,r,s={}){return ED(t,s,async()=>{let a={},i={};r&&(e==="GET"?i=r:a={body:JSON.stringify(r)});const o=cx({key:t.config.apiKey,...i}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const A={method:e,headers:l,...a};return h9()||(A.referrerPolicy="no-referrer"),t.emulatorConfig&&ym(t.emulatorConfig.host)&&(A.credentials="include"),CD.fetch()(await _D(t,t.config.apiHost,n,o),A)})}async function ED(t,e,n){t._canInitEmulator=!1;const r={...QH,...e};try{const s=new zH(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const i=await a.json();if("needConfirmation"in i)throw N1(t,"account-exists-with-different-credential",i);if(a.ok&&!("errorMessage"in i))return i;{const o=a.ok?i.errorMessage:i.error.message,[l,A]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw N1(t,"credential-already-in-use",i);if(l==="EMAIL_EXISTS")throw N1(t,"email-already-in-use",i);if(l==="USER_DISABLED")throw N1(t,"user-disabled",i);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(A)throw bD(t,d,A);xc(t,d)}}catch(s){if(s instanceof _u)throw s;xc(t,"network-request-failed",{message:String(s)})}}async function yy(t,e,n,r,s={}){const a=await rf(t,e,n,r,s);return"mfaPendingCredential"in a&&xc(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function _D(t,e,n,r){const s=`${e}${n}?${r}`,a=t,i=a.config.emulator?SS(t.config,s):`${t.config.apiScheme}://${s}`;return HH.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(i).toString():i}function GH(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(AA(this.auth,"network-request-failed")),VH.get())})}}function N1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=AA(t,e,r);return s.customData._tokenResponse=n,s}function ZB(t){return t!==void 0&&t.enterprise!==void 0}class KH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GH(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qH(t,e){return rf(t,"GET","/v2/recaptchaConfig",ph(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WH(t,e){return rf(t,"POST","/v1/accounts:delete",e)}async function A2(t,e){return rf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $H(t,e=!1){const n=si(t),r=await n.getIdToken(e),s=TS(r);bn(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,i=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:ig(Qb(s.auth_time)),issuedAtTime:ig(Qb(s.iat)),expirationTime:ig(Qb(s.exp)),signInProvider:i||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Qb(t){return Number(t)*1e3}function TS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uv("JWT malformed, contained fewer than 3 sections"),null;try{const s=lD(n);return s?JSON.parse(s):(Uv("Failed to decode base64 JWT payload"),null)}catch(s){return Uv("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function eN(t){const e=TS(t);return bn(e,"internal-error"),bn(typeof e.exp<"u","internal-error"),bn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bg(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof _u&&YH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ig(this.lastLoginAt),this.creationTime=ig(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Bg(t,A2(e,{idToken:n}));bn(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=(h=s.providerUserInfo)!=null&&h.length?SD(s.providerUserInfo):[],i=ZH(t.providerData,a),o=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(i!=null&&i.length),A=o?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new TE(s.createdAt,s.lastLoginAt),isAnonymous:A};Object.assign(t,d)}async function XH(t){const e=si(t);await u2(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZH(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function SD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t,e){const n=await ED(t,{},async()=>{const r=cx({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,i=await _D(t,s,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&ym(t.emulatorConfig.host)&&(l.credentials="include"),CD.fetch()(i,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tV(t,e){return rf(t,"POST","/v2/accounts:revokeToken",ph(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bn(e.idToken,"internal-error"),bn(typeof e.idToken<"u","internal-error"),bn(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){bn(e.length!==0,"internal-error");const n=eN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(bn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await eV(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,i=new M0;return r&&(bn(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),s&&(bn(typeof s=="string","internal-error",{appName:e}),i.accessToken=s),a&&(bn(typeof a=="number","internal-error",{appName:e}),i.expirationTime=a),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new M0,this.toJSON())}_performRefresh(){return iu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t,e){bn(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class uc{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new JH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new TE(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Bg(this,this.stsTokenManager.getToken(this.auth,e));return bn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $H(this,e)}reload(){return XH(this)}_assign(e){this!==e&&(bn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new uc({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){bn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await u2(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lc(this.auth.app))return Promise.reject(Ld(this.auth));const e=await this.getIdToken();return await Bg(this,WH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,i=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,A=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:g,providerData:w,stsTokenManager:b}=n;bn(h&&b,e,"internal-error");const E=M0.fromJSON(this.name,b);bn(typeof h=="string",e,"internal-error"),Ad(r,e.name),Ad(s,e.name),bn(typeof p=="boolean",e,"internal-error"),bn(typeof g=="boolean",e,"internal-error"),Ad(a,e.name),Ad(i,e.name),Ad(o,e.name),Ad(l,e.name),Ad(A,e.name),Ad(d,e.name);const T=new uc({uid:h,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:g,photoURL:i,phoneNumber:a,tenantId:o,stsTokenManager:E,createdAt:A,lastLoginAt:d});return w&&Array.isArray(w)&&(T.providerData=w.map(I=>({...I}))),l&&(T._redirectEventId=l),T}static async _fromIdTokenResponse(e,n,r=!1){const s=new M0;s.updateFromServerResponse(n);const a=new uc({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await u2(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];bn(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?SD(s.providerUserInfo):[],i=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),o=new M0;o.updateFromIdToken(r);const l=new uc({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:i}),A={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new TE(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,A),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new Map;function ou(t){gu(t instanceof Function,"Expected a class definition");let e=tN.get(t);return e?(gu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TD.type="NONE";const nN=TD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t,e,n){return`firebase:${t}:${e}:${n}`}class P0{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Lv(this.userKey,s.apiKey,a),this.fullPersistenceKey=Lv("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await A2(this.auth,{idToken:e}).catch(()=>{});return n?uc._fromGetAccountInfoResponse(this.auth,n,e):null}return uc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new P0(ou(nN),e,r);const s=(await Promise.all(n.map(async A=>{if(await A._isAvailable())return A}))).filter(A=>A);let a=s[0]||ou(nN);const i=Lv(r,e.config.apiKey,e.name);let o=null;for(const A of n)try{const d=await A._get(i);if(d){let h;if(typeof d=="string"){const p=await A2(e,{idToken:d}).catch(()=>{});if(!p)break;h=await uc._fromGetAccountInfoResponse(e,p,d)}else h=uc._fromJSON(e,d);A!==a&&(o=h),a=A;break}}catch{}const l=s.filter(A=>A._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new P0(a,e,r):(a=l[0],o&&await a._set(i,o.toJSON()),await Promise.all(n.map(async A=>{if(A!==a)try{await A._remove(i)}catch{}})),new P0(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ID(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RD(e))return"Blackberry";if(DD(e))return"Webos";if(ND(e))return"Safari";if((e.includes("chrome/")||kD(e))&&!e.includes("edge/"))return"Chrome";if(FD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BD(t=Ui()){return/firefox\//i.test(t)}function ND(t=Ui()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kD(t=Ui()){return/crios\//i.test(t)}function ID(t=Ui()){return/iemobile/i.test(t)}function FD(t=Ui()){return/android/i.test(t)}function RD(t=Ui()){return/blackberry/i.test(t)}function DD(t=Ui()){return/webos/i.test(t)}function BS(t=Ui()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nV(t=Ui()){var e;return BS(t)&&!!((e=window.navigator)!=null&&e.standalone)}function rV(){return g9()&&document.documentMode===10}function UD(t=Ui()){return BS(t)||FD(t)||DD(t)||RD(t)||/windows phone/i.test(t)||ID(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t,e=[]){let n;switch(t){case"Browser":n=rN(Ui());break;case"Worker":n=`${rN(Ui())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wm}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((i,o)=>{try{const l=e(a);i(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(t,e={}){return rf(t,"GET","/v2/passwordPolicy",ph(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=6;class oV{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sN(this),this.idTokenSubscription=new sN(this),this.beforeStateQueue=new sV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ou(n)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await P0.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await A2(this,{idToken:e}),r=await uc._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(lc(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===o)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return bn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await u2(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lc(this.app))return Promise.reject(Ld(this));const n=e?si(e):null;return n&&bn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&bn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lc(this.app)?Promise.reject(Ld(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lc(this.app)?Promise.reject(Ld(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ou(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aV(this),n=new oV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lx("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ou(e)||this._popupRedirectResolver;bn(n,this,"argument-error"),this.redirectPersistenceManager=await P0.create(this,[ou(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let i=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(bn(o,this,"internal-error"),o.then(()=>{i||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{i=!0,l()}}else{const l=e.addObserver(n);return()=>{i=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(lc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&MH(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function bm(t){return si(t)}class sN{constructor(e){this.auth=e,this.observer=null,this.addObserver=_9(n=>this.observer=n)}get next(){return bn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cV(t){wy=t}function MD(t){return wy.loadJS(t)}function AV(){return wy.recaptchaEnterpriseScript}function uV(){return wy.gapiScript}function dV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class fV{constructor(){this.enterprise=new hV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class hV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mV="recaptcha-enterprise",PD="NO_RECAPTCHA";class pV{constructor(e){this.type=mV,this.auth=bm(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(i,o)=>{qH(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const A=new KH(l);return a.tenantId==null?a._agentRecaptchaConfig=A:a._tenantRecaptchaConfigs[a.tenantId]=A,i(A.siteKey)}}).catch(l=>{o(l)})})}function s(a,i,o){const l=window.grecaptcha;ZB(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(A=>{i(A)}).catch(()=>{i(PD)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fV().execute("siteKey",{action:"verify"}):new Promise((a,i)=>{r(this.auth).then(o=>{if(!n&&ZB(window.grecaptcha))s(o,a,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let l=AV();l.length!==0&&(l+=o),MD(l).then(()=>{s(o,a,i)}).catch(A=>{i(A)})}}).catch(o=>{i(o)})})}}async function aN(t,e,n,r=!1,s=!1){const a=new pV(t);let i;if(s)i=PD;else try{i=await a.verify(n)}catch{i=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,A=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:A,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function iN(t,e,n,r,s){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await aN(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await aN(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(t,e){const n=ES(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(nh(a,e??{}))return s;xc(s,"already-initialized")}return n.initialize({options:e})}function xV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ou);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vV(t,e,n){const r=bm(t);bn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=OD(e),{host:i,port:o}=yV(e),l=o===null?"":`:${o}`,A={url:`${a}//${i}${l}/`},d=Object.freeze({host:i,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){bn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),bn(nh(A,r.config.emulator)&&nh(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=A,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ym(i)?(dD(`${a}//${i}${l}`),fD("Auth",!0)):wV()}function OD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yV(t){const e=OD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:oN(r.substr(a.length+1))}}else{const[a,i]=r.split(":");return{host:a,port:oN(i)}}}function oN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return iu("not implemented")}_getIdTokenResponse(e){return iu("not implemented")}_linkToIdToken(e,n){return iu("not implemented")}_getReauthenticationResolver(e){return iu("not implemented")}}async function bV(t,e){return rf(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CV(t,e){return yy(t,"POST","/v1/accounts:signInWithPassword",ph(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t,e){return yy(t,"POST","/v1/accounts:signInWithEmailLink",ph(t,e))}async function _V(t,e){return yy(t,"POST","/v1/accounts:signInWithEmailLink",ph(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng extends NS{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ng(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ng(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iN(e,n,"signInWithPassword",CV);case"emailLink":return EV(e,{email:this._email,oobCode:this._password});default:xc(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iN(e,r,"signUpPassword",bV);case"emailLink":return _V(e,{idToken:n,email:this._email,oobCode:this._password});default:xc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O0(t,e){return yy(t,"POST","/v1/accounts:signInWithIdp",ph(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV="http://localhost";class sh extends NS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xc("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const i=new sh(r,s);return i.idToken=a.idToken||void 0,i.accessToken=a.accessToken||void 0,i.secret=a.secret,i.nonce=a.nonce,i.pendingToken=a.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return O0(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,O0(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,O0(e,n)}buildRequest(){const e={requestUri:SV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cx(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BV(t){const e=Pp(Op(t)).link,n=e?Pp(Op(e)).deep_link_id:null,r=Pp(Op(t)).deep_link_id;return(r?Pp(Op(r)).link:null)||r||n||e||t}class kS{constructor(e){const n=Pp(Op(e)),r=n.apiKey??null,s=n.oobCode??null,a=TV(n.mode??null);bn(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=BV(e);try{return new kS(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(){this.providerId=Cm.PROVIDER_ID}static credential(e,n){return Ng._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=kS.parseLink(n);return bn(r,"argument-error"),Ng._fromEmailAndCode(e,r.code,r.tenantId)}}Cm.PROVIDER_ID="password";Cm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux extends jD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends ux{constructor(){super("facebook.com")}static credential(e){return sh._fromParams({providerId:wd.PROVIDER_ID,signInMethod:wd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wd.credentialFromTaggedObject(e)}static credentialFromError(e){return wd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wd.credential(e.oauthAccessToken)}catch{return null}}}wd.FACEBOOK_SIGN_IN_METHOD="facebook.com";wd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends ux{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sh._fromParams({providerId:bd.PROVIDER_ID,signInMethod:bd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bd.credentialFromTaggedObject(e)}static credentialFromError(e){return bd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return bd.credential(n,r)}catch{return null}}}bd.GOOGLE_SIGN_IN_METHOD="google.com";bd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends ux{constructor(){super("github.com")}static credential(e){return sh._fromParams({providerId:Cd.PROVIDER_ID,signInMethod:Cd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cd.credentialFromTaggedObject(e)}static credentialFromError(e){return Cd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cd.credential(e.oauthAccessToken)}catch{return null}}}Cd.GITHUB_SIGN_IN_METHOD="github.com";Cd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends ux{constructor(){super("twitter.com")}static credential(e,n){return sh._fromParams({providerId:Ed.PROVIDER_ID,signInMethod:Ed.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ed.credentialFromTaggedObject(e)}static credentialFromError(e){return Ed.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ed.credential(n,r)}catch{return null}}}Ed.TWITTER_SIGN_IN_METHOD="twitter.com";Ed.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await uc._fromIdTokenResponse(e,r,s),i=lN(r);return new im({user:a,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=lN(r);return new im({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function lN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2 extends _u{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,d2.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new d2(e,n,r,s)}}function QD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?d2._fromErrorAndOperation(t,a,e,r):a})}async function NV(t,e,n=!1){const r=await Bg(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return im._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV(t,e,n=!1){const{auth:r}=t;if(lc(r.app))return Promise.reject(Ld(r));const s="reauthenticate";try{const a=await Bg(t,QD(r,s,e,t),n);bn(a.idToken,r,"internal-error");const i=TS(a.idToken);bn(i,r,"internal-error");const{sub:o}=i;return bn(t.uid===o,r,"user-mismatch"),im._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&xc(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(t,e,n=!1){if(lc(t.app))return Promise.reject(Ld(t));const r="signIn",s=await QD(t,r,e),a=await im._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function IV(t,e){return HD(bm(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV(t){const e=bm(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function RV(t,e,n){return lc(t.app)?Promise.reject(Ld(t)):IV(si(t),Cm.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FV(t),r})}function DV(t,e,n,r){return si(t).onIdTokenChanged(e,n,r)}function UV(t,e,n){return si(t).beforeAuthStateChanged(e,n)}function LV(t,e,n,r){return si(t).onAuthStateChanged(e,n,r)}function MV(t){return si(t).signOut()}const f2="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(f2,"1"),this.storage.removeItem(f2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=1e3,OV=10;class GD extends VD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,o,l)=>{this.notifyListeners(i,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},a=this.storage.getItem(r);rV()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,OV):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GD.type="LOCAL";const jV=GD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD extends VD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zD.type="SESSION";const KD=zD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new by(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,i=this.handlersMap[s];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const o=Array.from(i).map(async A=>A(n.origin,a)),l=await QV(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}by.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,i;return new Promise((o,l)=>{const A=IS("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);i={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===A)switch(p.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(p.data.response);break;default:clearTimeout(d),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:A,data:n},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(){return window}function VV(t){uA().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(){return typeof uA().WorkerGlobalScope<"u"&&typeof uA().importScripts=="function"}async function GV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function KV(){return qD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="firebaseLocalStorageDb",qV=1,h2="firebaseLocalStorage",$D="fbase_key";class dx{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cy(t,e){return t.transaction([h2],e?"readwrite":"readonly").objectStore(h2)}function WV(){const t=indexedDB.deleteDatabase(WD);return new dx(t).toPromise()}function BE(){const t=indexedDB.open(WD,qV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(h2,{keyPath:$D})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(h2)?e(r):(r.close(),await WV(),e(await BE()))})})}async function cN(t,e,n){const r=Cy(t,!0).put({[$D]:e,value:n});return new dx(r).toPromise()}async function $V(t,e){const n=Cy(t,!1).get(e),r=await new dx(n).toPromise();return r===void 0?null:r.value}function AN(t,e){const n=Cy(t,!0).delete(e);return new dx(n).toPromise()}const YV=800,JV=3;class YD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await BE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>JV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=by._getInstance(KV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await GV(),!this.activeServiceWorker)return;this.sender=new HV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await BE();return await cN(e,f2,"1"),await AN(e,f2),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>cN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$V(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Cy(s,!1).getAll();return new dx(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YD.type="LOCAL";const XV=YD;new Ax(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t,e){return e?ou(e):(bn(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS extends NS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return O0(e,this._buildIdpRequest())}_linkToIdToken(e,n){return O0(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return O0(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eG(t){return HD(t.auth,new FS(t),t.bypassAuthState)}function tG(t){const{auth:e,user:n}=t;return bn(n,e,"internal-error"),kV(n,new FS(t),t.bypassAuthState)}async function nG(t){const{auth:e,user:n}=t;return bn(n,e,"internal-error"),NV(n,new FS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:i,type:o}=e;if(i){this.reject(i);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(A){this.reject(A)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eG;case"linkViaPopup":case"linkViaRedirect":return nG;case"reauthViaPopup":case"reauthViaRedirect":return tG;default:xc(this.auth,"internal-error")}}resolve(e){gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG=new Ax(2e3,1e4);class I0 extends JD{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,I0.currentPopupAction&&I0.currentPopupAction.cancel(),I0.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bn(e,this.auth,"internal-error"),e}async onExecution(){gu(this.filter.length===1,"Popup operations only handle one event");const e=IS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(AA(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(AA(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I0.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(AA(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rG.get())};e()}}I0.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG="pendingRedirect",Mv=new Map;class aG extends JD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mv.get(this.auth._key());if(!e){try{const r=await iG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mv.set(this.auth._key(),e)}return this.bypassAuthState||Mv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iG(t,e){const n=cG(e),r=lG(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function oG(t,e){Mv.set(t._key(),e)}function lG(t){return ou(t._redirectPersistence)}function cG(t){return Lv(sG,t.config.apiKey,t.name)}async function AG(t,e,n=!1){if(lc(t.app))return Promise.reject(Ld(t));const r=bm(t),s=ZV(r,e),i=await new aG(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uG=600*1e3;class dG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!XD(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(AA(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uG&&this.cachedEventUids.clear(),this.cachedEventUids.has(uN(e))}saveEventToCache(e){this.cachedEventUids.add(uN(e)),this.lastProcessedEventTime=Date.now()}}function uN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function XD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hG(t,e={}){return rf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pG=/^https?/;async function gG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hG(t);for(const n of e)try{if(xG(n))return}catch{}xc(t,"unauthorized-domain")}function xG(t){const e=SE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!pG.test(n))return!1;if(mG.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vG=new Ax(3e4,6e4);function dN(){const t=uA().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yG(t){return new Promise((e,n)=>{var s,a,i;function r(){dN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dN(),n(AA(t,"network-request-failed"))},timeout:vG.get()})}if((a=(s=uA().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((i=uA().gapi)!=null&&i.load)r();else{const o=dV("iframefcb");return uA()[o]=()=>{gapi.load?r():n(AA(t,"network-request-failed"))},MD(`${uV()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Pv=null,e})}let Pv=null;function wG(t){return Pv=Pv||yG(t),Pv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG=new Ax(5e3,15e3),CG="__/auth/iframe",EG="emulator/auth/iframe",_G={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TG(t){const e=t.config;bn(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?SS(e,EG):`https://${t.config.authDomain}/${CG}`,r={apiKey:e.apiKey,appName:t.name,v:wm},s=SG.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${cx(r).slice(1)}`}async function BG(t){const e=await wG(t),n=uA().gapi;return bn(n,t,"internal-error"),e.open({where:document.body,url:TG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_G,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const i=AA(t,"network-request-failed"),o=uA().setTimeout(()=>{a(i)},bG.get());function l(){uA().clearTimeout(o),s(r)}r.ping(l).then(l,()=>{a(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kG=500,IG=600,FG="_blank",RG="http://localhost";class fN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DG(t,e,n,r=kG,s=IG){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...NG,width:r.toString(),height:s.toString(),top:a,left:i},A=Ui().toLowerCase();n&&(o=kD(A)?FG:n),BD(A)&&(e=e||RG,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(nV(A)&&o!=="_self")return UG(e||"",o),new fN(null);const h=window.open(e||"",o,d);bn(h,t,"popup-blocked");try{h.focus()}catch{}return new fN(h)}function UG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LG="__/auth/handler",MG="emulator/auth/handler",PG=encodeURIComponent("fac");async function hN(t,e,n,r,s,a){bn(t.config.authDomain,t,"auth-domain-config-required"),bn(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wm,eventId:s};if(e instanceof jD){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",E9(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))i[d]=h}if(e instanceof ux){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(i.scopes=d.join(","))}t.tenantId&&(i.tid=t.tenantId);const o=i;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),A=l?`#${PG}=${encodeURIComponent(l)}`:"";return`${OG(t)}?${cx(o).slice(1)}${A}`}function OG({config:t}){return t.emulator?SS(t,MG):`https://${t.authDomain}/${LG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="webStorageSupport";class jG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KD,this._completeRedirectFn=AG,this._overrideRedirectResult=oG}async _openPopup(e,n,r,s){var i;gu((i=this.eventManagers[e._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await hN(e,n,r,SE(),s);return DG(e,a,IS())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await hN(e,n,r,SE(),s);return VV(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(gu(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BG(e),r=new dG(e);return n.register("authEvent",s=>(bn(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hb,{type:Hb},s=>{var i;const a=(i=s==null?void 0:s[0])==null?void 0:i[Hb];a!==void 0&&n(!!a),xc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return UD()||ND()||BS()}}const QG=jG;var mN="@firebase/auth",pN="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GG(t){am(new rh("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:i,authDomain:o}=r.options;bn(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LD(t)},A=new lV(r,s,a,l);return xV(A,n),A},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),am(new rh("auth-internal",e=>{const n=bm(e.getProvider("auth").getImmediate());return(r=>new HG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ud(mN,pN,VG(t)),Ud(mN,pN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG=300,KG=uD("authIdTokenMaxAge")||zG;let gN=null;const qG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KG)return;const s=n==null?void 0:n.token;gN!==s&&(gN=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function WG(t=gD()){const e=ES(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gV(t,{popupRedirectResolver:QG,persistence:[XV,jV,KD]}),r=uD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const i=qG(a.toString());UV(n,i,()=>i(n.currentUser)),DV(n,o=>i(o))}}const s=cD("auth");return s&&vV(n,`http://${s}`),n}function $G(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}cV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=AA("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",$G().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GG("Browser");var YG="firebase",JG="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ud(YG,JG,"app");var xN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Md,ZD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,N){function B(){}B.prototype=N.prototype,S.D=N.prototype,S.prototype=new B,S.prototype.constructor=S,S.C=function(V,U,L){for(var j=Array(arguments.length-2),G=2;G<arguments.length;G++)j[G-2]=arguments[G];return N.prototype[U].apply(V,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,N,B){B||(B=0);var V=Array(16);if(typeof N=="string")for(var U=0;16>U;++U)V[U]=N.charCodeAt(B++)|N.charCodeAt(B++)<<8|N.charCodeAt(B++)<<16|N.charCodeAt(B++)<<24;else for(U=0;16>U;++U)V[U]=N[B++]|N[B++]<<8|N[B++]<<16|N[B++]<<24;N=S.g[0],B=S.g[1],U=S.g[2];var L=S.g[3],j=N+(L^B&(U^L))+V[0]+3614090360&4294967295;N=B+(j<<7&4294967295|j>>>25),j=L+(U^N&(B^U))+V[1]+3905402710&4294967295,L=N+(j<<12&4294967295|j>>>20),j=U+(B^L&(N^B))+V[2]+606105819&4294967295,U=L+(j<<17&4294967295|j>>>15),j=B+(N^U&(L^N))+V[3]+3250441966&4294967295,B=U+(j<<22&4294967295|j>>>10),j=N+(L^B&(U^L))+V[4]+4118548399&4294967295,N=B+(j<<7&4294967295|j>>>25),j=L+(U^N&(B^U))+V[5]+1200080426&4294967295,L=N+(j<<12&4294967295|j>>>20),j=U+(B^L&(N^B))+V[6]+2821735955&4294967295,U=L+(j<<17&4294967295|j>>>15),j=B+(N^U&(L^N))+V[7]+4249261313&4294967295,B=U+(j<<22&4294967295|j>>>10),j=N+(L^B&(U^L))+V[8]+1770035416&4294967295,N=B+(j<<7&4294967295|j>>>25),j=L+(U^N&(B^U))+V[9]+2336552879&4294967295,L=N+(j<<12&4294967295|j>>>20),j=U+(B^L&(N^B))+V[10]+4294925233&4294967295,U=L+(j<<17&4294967295|j>>>15),j=B+(N^U&(L^N))+V[11]+2304563134&4294967295,B=U+(j<<22&4294967295|j>>>10),j=N+(L^B&(U^L))+V[12]+1804603682&4294967295,N=B+(j<<7&4294967295|j>>>25),j=L+(U^N&(B^U))+V[13]+4254626195&4294967295,L=N+(j<<12&4294967295|j>>>20),j=U+(B^L&(N^B))+V[14]+2792965006&4294967295,U=L+(j<<17&4294967295|j>>>15),j=B+(N^U&(L^N))+V[15]+1236535329&4294967295,B=U+(j<<22&4294967295|j>>>10),j=N+(U^L&(B^U))+V[1]+4129170786&4294967295,N=B+(j<<5&4294967295|j>>>27),j=L+(B^U&(N^B))+V[6]+3225465664&4294967295,L=N+(j<<9&4294967295|j>>>23),j=U+(N^B&(L^N))+V[11]+643717713&4294967295,U=L+(j<<14&4294967295|j>>>18),j=B+(L^N&(U^L))+V[0]+3921069994&4294967295,B=U+(j<<20&4294967295|j>>>12),j=N+(U^L&(B^U))+V[5]+3593408605&4294967295,N=B+(j<<5&4294967295|j>>>27),j=L+(B^U&(N^B))+V[10]+38016083&4294967295,L=N+(j<<9&4294967295|j>>>23),j=U+(N^B&(L^N))+V[15]+3634488961&4294967295,U=L+(j<<14&4294967295|j>>>18),j=B+(L^N&(U^L))+V[4]+3889429448&4294967295,B=U+(j<<20&4294967295|j>>>12),j=N+(U^L&(B^U))+V[9]+568446438&4294967295,N=B+(j<<5&4294967295|j>>>27),j=L+(B^U&(N^B))+V[14]+3275163606&4294967295,L=N+(j<<9&4294967295|j>>>23),j=U+(N^B&(L^N))+V[3]+4107603335&4294967295,U=L+(j<<14&4294967295|j>>>18),j=B+(L^N&(U^L))+V[8]+1163531501&4294967295,B=U+(j<<20&4294967295|j>>>12),j=N+(U^L&(B^U))+V[13]+2850285829&4294967295,N=B+(j<<5&4294967295|j>>>27),j=L+(B^U&(N^B))+V[2]+4243563512&4294967295,L=N+(j<<9&4294967295|j>>>23),j=U+(N^B&(L^N))+V[7]+1735328473&4294967295,U=L+(j<<14&4294967295|j>>>18),j=B+(L^N&(U^L))+V[12]+2368359562&4294967295,B=U+(j<<20&4294967295|j>>>12),j=N+(B^U^L)+V[5]+4294588738&4294967295,N=B+(j<<4&4294967295|j>>>28),j=L+(N^B^U)+V[8]+2272392833&4294967295,L=N+(j<<11&4294967295|j>>>21),j=U+(L^N^B)+V[11]+1839030562&4294967295,U=L+(j<<16&4294967295|j>>>16),j=B+(U^L^N)+V[14]+4259657740&4294967295,B=U+(j<<23&4294967295|j>>>9),j=N+(B^U^L)+V[1]+2763975236&4294967295,N=B+(j<<4&4294967295|j>>>28),j=L+(N^B^U)+V[4]+1272893353&4294967295,L=N+(j<<11&4294967295|j>>>21),j=U+(L^N^B)+V[7]+4139469664&4294967295,U=L+(j<<16&4294967295|j>>>16),j=B+(U^L^N)+V[10]+3200236656&4294967295,B=U+(j<<23&4294967295|j>>>9),j=N+(B^U^L)+V[13]+681279174&4294967295,N=B+(j<<4&4294967295|j>>>28),j=L+(N^B^U)+V[0]+3936430074&4294967295,L=N+(j<<11&4294967295|j>>>21),j=U+(L^N^B)+V[3]+3572445317&4294967295,U=L+(j<<16&4294967295|j>>>16),j=B+(U^L^N)+V[6]+76029189&4294967295,B=U+(j<<23&4294967295|j>>>9),j=N+(B^U^L)+V[9]+3654602809&4294967295,N=B+(j<<4&4294967295|j>>>28),j=L+(N^B^U)+V[12]+3873151461&4294967295,L=N+(j<<11&4294967295|j>>>21),j=U+(L^N^B)+V[15]+530742520&4294967295,U=L+(j<<16&4294967295|j>>>16),j=B+(U^L^N)+V[2]+3299628645&4294967295,B=U+(j<<23&4294967295|j>>>9),j=N+(U^(B|~L))+V[0]+4096336452&4294967295,N=B+(j<<6&4294967295|j>>>26),j=L+(B^(N|~U))+V[7]+1126891415&4294967295,L=N+(j<<10&4294967295|j>>>22),j=U+(N^(L|~B))+V[14]+2878612391&4294967295,U=L+(j<<15&4294967295|j>>>17),j=B+(L^(U|~N))+V[5]+4237533241&4294967295,B=U+(j<<21&4294967295|j>>>11),j=N+(U^(B|~L))+V[12]+1700485571&4294967295,N=B+(j<<6&4294967295|j>>>26),j=L+(B^(N|~U))+V[3]+2399980690&4294967295,L=N+(j<<10&4294967295|j>>>22),j=U+(N^(L|~B))+V[10]+4293915773&4294967295,U=L+(j<<15&4294967295|j>>>17),j=B+(L^(U|~N))+V[1]+2240044497&4294967295,B=U+(j<<21&4294967295|j>>>11),j=N+(U^(B|~L))+V[8]+1873313359&4294967295,N=B+(j<<6&4294967295|j>>>26),j=L+(B^(N|~U))+V[15]+4264355552&4294967295,L=N+(j<<10&4294967295|j>>>22),j=U+(N^(L|~B))+V[6]+2734768916&4294967295,U=L+(j<<15&4294967295|j>>>17),j=B+(L^(U|~N))+V[13]+1309151649&4294967295,B=U+(j<<21&4294967295|j>>>11),j=N+(U^(B|~L))+V[4]+4149444226&4294967295,N=B+(j<<6&4294967295|j>>>26),j=L+(B^(N|~U))+V[11]+3174756917&4294967295,L=N+(j<<10&4294967295|j>>>22),j=U+(N^(L|~B))+V[2]+718787259&4294967295,U=L+(j<<15&4294967295|j>>>17),j=B+(L^(U|~N))+V[9]+3951481745&4294967295,S.g[0]=S.g[0]+N&4294967295,S.g[1]=S.g[1]+(U+(j<<21&4294967295|j>>>11))&4294967295,S.g[2]=S.g[2]+U&4294967295,S.g[3]=S.g[3]+L&4294967295}r.prototype.u=function(S,N){N===void 0&&(N=S.length);for(var B=N-this.blockSize,V=this.B,U=this.h,L=0;L<N;){if(U==0)for(;L<=B;)s(this,S,L),L+=this.blockSize;if(typeof S=="string"){for(;L<N;)if(V[U++]=S.charCodeAt(L++),U==this.blockSize){s(this,V),U=0;break}}else for(;L<N;)if(V[U++]=S[L++],U==this.blockSize){s(this,V),U=0;break}}this.h=U,this.o+=N},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var N=1;N<S.length-8;++N)S[N]=0;var B=8*this.o;for(N=S.length-8;N<S.length;++N)S[N]=B&255,B/=256;for(this.u(S),S=Array(16),N=B=0;4>N;++N)for(var V=0;32>V;V+=8)S[B++]=this.g[N]>>>V&255;return S};function a(S,N){var B=o;return Object.prototype.hasOwnProperty.call(B,S)?B[S]:B[S]=N(S)}function i(S,N){this.h=N;for(var B=[],V=!0,U=S.length-1;0<=U;U--){var L=S[U]|0;V&&L==N||(B[U]=L,V=!1)}this.g=B}var o={};function l(S){return-128<=S&&128>S?a(S,function(N){return new i([N|0],0>N?-1:0)}):new i([S|0],0>S?-1:0)}function A(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return E(A(-S));for(var N=[],B=1,V=0;S>=B;V++)N[V]=S/B|0,B*=4294967296;return new i(N,0)}function d(S,N){if(S.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(S.charAt(0)=="-")return E(d(S.substring(1),N));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var B=A(Math.pow(N,8)),V=h,U=0;U<S.length;U+=8){var L=Math.min(8,S.length-U),j=parseInt(S.substring(U,U+L),N);8>L?(L=A(Math.pow(N,L)),V=V.j(L).add(A(j))):(V=V.j(B),V=V.add(A(j)))}return V}var h=l(0),p=l(1),g=l(16777216);t=i.prototype,t.m=function(){if(b(this))return-E(this).m();for(var S=0,N=1,B=0;B<this.g.length;B++){var V=this.i(B);S+=(0<=V?V:4294967296+V)*N,N*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(w(this))return"0";if(b(this))return"-"+E(this).toString(S);for(var N=A(Math.pow(S,6)),B=this,V="";;){var U=F(B,N).g;B=T(B,U.j(N));var L=((0<B.g.length?B.g[0]:B.h)>>>0).toString(S);if(B=U,w(B))return L+V;for(;6>L.length;)L="0"+L;V=L+V}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function w(S){if(S.h!=0)return!1;for(var N=0;N<S.g.length;N++)if(S.g[N]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=T(this,S),b(S)?-1:w(S)?0:1};function E(S){for(var N=S.g.length,B=[],V=0;V<N;V++)B[V]=~S.g[V];return new i(B,~S.h).add(p)}t.abs=function(){return b(this)?E(this):this},t.add=function(S){for(var N=Math.max(this.g.length,S.g.length),B=[],V=0,U=0;U<=N;U++){var L=V+(this.i(U)&65535)+(S.i(U)&65535),j=(L>>>16)+(this.i(U)>>>16)+(S.i(U)>>>16);V=j>>>16,L&=65535,j&=65535,B[U]=j<<16|L}return new i(B,B[B.length-1]&-2147483648?-1:0)};function T(S,N){return S.add(E(N))}t.j=function(S){if(w(this)||w(S))return h;if(b(this))return b(S)?E(this).j(E(S)):E(E(this).j(S));if(b(S))return E(this.j(E(S)));if(0>this.l(g)&&0>S.l(g))return A(this.m()*S.m());for(var N=this.g.length+S.g.length,B=[],V=0;V<2*N;V++)B[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<S.g.length;U++){var L=this.i(V)>>>16,j=this.i(V)&65535,G=S.i(U)>>>16,se=S.i(U)&65535;B[2*V+2*U]+=j*se,I(B,2*V+2*U),B[2*V+2*U+1]+=L*se,I(B,2*V+2*U+1),B[2*V+2*U+1]+=j*G,I(B,2*V+2*U+1),B[2*V+2*U+2]+=L*G,I(B,2*V+2*U+2)}for(V=0;V<N;V++)B[V]=B[2*V+1]<<16|B[2*V];for(V=N;V<2*N;V++)B[V]=0;return new i(B,0)};function I(S,N){for(;(S[N]&65535)!=S[N];)S[N+1]+=S[N]>>>16,S[N]&=65535,N++}function k(S,N){this.g=S,this.h=N}function F(S,N){if(w(N))throw Error("division by zero");if(w(S))return new k(h,h);if(b(S))return N=F(E(S),N),new k(E(N.g),E(N.h));if(b(N))return N=F(S,E(N)),new k(E(N.g),N.h);if(30<S.g.length){if(b(S)||b(N))throw Error("slowDivide_ only works with positive integers.");for(var B=p,V=N;0>=V.l(S);)B=D(B),V=D(V);var U=P(B,1),L=P(V,1);for(V=P(V,2),B=P(B,2);!w(V);){var j=L.add(V);0>=j.l(S)&&(U=U.add(B),L=j),V=P(V,1),B=P(B,1)}return N=T(S,U.j(N)),new k(U,N)}for(U=h;0<=S.l(N);){for(B=Math.max(1,Math.floor(S.m()/N.m())),V=Math.ceil(Math.log(B)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),L=A(B),j=L.j(N);b(j)||0<j.l(S);)B-=V,L=A(B),j=L.j(N);w(L)&&(L=p),U=U.add(L),S=T(S,j)}return new k(U,S)}t.A=function(S){return F(this,S).h},t.and=function(S){for(var N=Math.max(this.g.length,S.g.length),B=[],V=0;V<N;V++)B[V]=this.i(V)&S.i(V);return new i(B,this.h&S.h)},t.or=function(S){for(var N=Math.max(this.g.length,S.g.length),B=[],V=0;V<N;V++)B[V]=this.i(V)|S.i(V);return new i(B,this.h|S.h)},t.xor=function(S){for(var N=Math.max(this.g.length,S.g.length),B=[],V=0;V<N;V++)B[V]=this.i(V)^S.i(V);return new i(B,this.h^S.h)};function D(S){for(var N=S.g.length+1,B=[],V=0;V<N;V++)B[V]=S.i(V)<<1|S.i(V-1)>>>31;return new i(B,S.h)}function P(S,N){var B=N>>5;N%=32;for(var V=S.g.length-B,U=[],L=0;L<V;L++)U[L]=0<N?S.i(L+B)>>>N|S.i(L+B+1)<<32-N:S.i(L+B);return new i(U,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZD=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=A,i.fromString=d,Md=i}).apply(typeof xN<"u"?xN:typeof self<"u"?self:typeof window<"u"?window:{});var k1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eU,jp,tU,Ov,NE,nU,rU,sU;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,W,re){return _==Array.prototype||_==Object.prototype||(_[W]=re.value),_};function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof k1=="object"&&k1];for(var W=0;W<_.length;++W){var re=_[W];if(re&&re.Math==Math)return re}throw Error("Cannot find global object")}var r=n(this);function s(_,W){if(W)e:{var re=r;_=_.split(".");for(var xe=0;xe<_.length-1;xe++){var je=_[xe];if(!(je in re))break e;re=re[je]}_=_[_.length-1],xe=re[_],W=W(xe),W!=xe&&W!=null&&e(re,_,{configurable:!0,writable:!0,value:W})}}function a(_,W){_ instanceof String&&(_+="");var re=0,xe=!1,je={next:function(){if(!xe&&re<_.length){var Xe=re++;return{value:W(Xe,_[Xe]),done:!1}}return xe=!0,{done:!0,value:void 0}}};return je[Symbol.iterator]=function(){return je},je}s("Array.prototype.values",function(_){return _||function(){return a(this,function(W,re){return re})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function l(_){var W=typeof _;return W=W!="object"?W:_?Array.isArray(_)?"array":W:"null",W=="array"||W=="object"&&typeof _.length=="number"}function A(_){var W=typeof _;return W=="object"&&_!=null||W=="function"}function d(_,W,re){return _.call.apply(_.bind,arguments)}function h(_,W,re){if(!_)throw Error();if(2<arguments.length){var xe=Array.prototype.slice.call(arguments,2);return function(){var je=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(je,xe),_.apply(W,je)}}return function(){return _.apply(W,arguments)}}function p(_,W,re){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function g(_,W){var re=Array.prototype.slice.call(arguments,1);return function(){var xe=re.slice();return xe.push.apply(xe,arguments),_.apply(this,xe)}}function w(_,W){function re(){}re.prototype=W.prototype,_.aa=W.prototype,_.prototype=new re,_.prototype.constructor=_,_.Qb=function(xe,je,Xe){for(var St=Array(arguments.length-2),fn=2;fn<arguments.length;fn++)St[fn-2]=arguments[fn];return W.prototype[je].apply(xe,St)}}function b(_){const W=_.length;if(0<W){const re=Array(W);for(let xe=0;xe<W;xe++)re[xe]=_[xe];return re}return[]}function E(_,W){for(let re=1;re<arguments.length;re++){const xe=arguments[re];if(l(xe)){const je=_.length||0,Xe=xe.length||0;_.length=je+Xe;for(let St=0;St<Xe;St++)_[je+St]=xe[St]}else _.push(xe)}}class T{constructor(W,re){this.i=W,this.j=re,this.h=0,this.g=null}get(){let W;return 0<this.h?(this.h--,W=this.g,this.g=W.next,W.next=null):W=this.i(),W}}function I(_){return/^[\s\xa0]*$/.test(_)}function k(){var _=o.navigator;return _&&(_=_.userAgent)?_:""}function F(_){return F[" "](_),_}F[" "]=function(){};var D=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function P(_,W,re){for(const xe in _)W.call(re,_[xe],xe,_)}function S(_,W){for(const re in _)W.call(void 0,_[re],re,_)}function N(_){const W={};for(const re in _)W[re]=_[re];return W}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(_,W){let re,xe;for(let je=1;je<arguments.length;je++){xe=arguments[je];for(re in xe)_[re]=xe[re];for(let Xe=0;Xe<B.length;Xe++)re=B[Xe],Object.prototype.hasOwnProperty.call(xe,re)&&(_[re]=xe[re])}}function U(_){var W=1;_=_.split(":");const re=[];for(;0<W&&_.length;)re.push(_.shift()),W--;return _.length&&re.push(_.join(":")),re}function L(_){o.setTimeout(()=>{throw _},0)}function j(){var _=Z;let W=null;return _.g&&(W=_.g,_.g=_.g.next,_.g||(_.h=null),W.next=null),W}class G{constructor(){this.h=this.g=null}add(W,re){const xe=se.get();xe.set(W,re),this.h?this.h.next=xe:this.g=xe,this.h=xe}}var se=new T(()=>new K,_=>_.reset());class K{constructor(){this.next=this.g=this.h=null}set(W,re){this.h=W,this.g=re,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,oe=!1,Z=new G,ee=()=>{const _=o.Promise.resolve(void 0);Y=()=>{_.then(he)}};var he=()=>{for(var _;_=j();){try{_.h.call(_.g)}catch(re){L(re)}var W=se;W.j(_),100>W.h&&(W.h++,_.next=W.g,W.g=_)}oe=!1};function O(){this.s=this.s,this.C=this.C}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(_,W){this.type=_,this.g=this.target=W,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var _=!1,W=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const re=()=>{};o.addEventListener("test",re,W),o.removeEventListener("test",re,W)}catch{}return _}();function ne(_,W){if(q.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var re=this.type=_.type,xe=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=W,W=_.relatedTarget){if(D){e:{try{F(W.nodeName);var je=!0;break e}catch{}je=!1}je||(W=null)}}else re=="mouseover"?W=_.fromElement:re=="mouseout"&&(W=_.toElement);this.relatedTarget=W,xe?(this.clientX=xe.clientX!==void 0?xe.clientX:xe.pageX,this.clientY=xe.clientY!==void 0?xe.clientY:xe.pageY,this.screenX=xe.screenX||0,this.screenY=xe.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:ae[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&ne.aa.h.call(this)}}w(ne,q);var ae={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),pe=0;function ye(_,W,re,xe,je){this.listener=_,this.proxy=null,this.src=W,this.type=re,this.capture=!!xe,this.ha=je,this.key=++pe,this.da=this.fa=!1}function Ie(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function we(_){this.src=_,this.g={},this.h=0}we.prototype.add=function(_,W,re,xe,je){var Xe=_.toString();_=this.g[Xe],_||(_=this.g[Xe]=[],this.h++);var St=De(_,W,xe,je);return-1<St?(W=_[St],re||(W.fa=!1)):(W=new ye(W,this.src,Xe,!!xe,je),W.fa=re,_.push(W)),W};function ie(_,W){var re=W.type;if(re in _.g){var xe=_.g[re],je=Array.prototype.indexOf.call(xe,W,void 0),Xe;(Xe=0<=je)&&Array.prototype.splice.call(xe,je,1),Xe&&(Ie(W),_.g[re].length==0&&(delete _.g[re],_.h--))}}function De(_,W,re,xe){for(var je=0;je<_.length;++je){var Xe=_[je];if(!Xe.da&&Xe.listener==W&&Xe.capture==!!re&&Xe.ha==xe)return je}return-1}var st="closure_lm_"+(1e6*Math.random()|0),Ue={};function Ee(_,W,re,xe,je){if(Array.isArray(W)){for(var Xe=0;Xe<W.length;Xe++)Ee(_,W[Xe],re,xe,je);return null}return re=qt(re),_&&_[ue]?_.K(W,re,A(xe)?!!xe.capture:!1,je):ze(_,W,re,!1,xe,je)}function ze(_,W,re,xe,je,Xe){if(!W)throw Error("Invalid event type");var St=A(je)?!!je.capture:!!je,fn=kt(_);if(fn||(_[st]=fn=new we(_)),re=fn.add(W,re,xe,St,Xe),re.proxy)return re;if(xe=nt(),re.proxy=xe,xe.src=_,xe.listener=re,_.addEventListener)J||(je=St),je===void 0&&(je=!1),_.addEventListener(W.toString(),xe,je);else if(_.attachEvent)_.attachEvent(Ct(W.toString()),xe);else if(_.addListener&&_.removeListener)_.addListener(xe);else throw Error("addEventListener and attachEvent are unavailable.");return re}function nt(){function _(re){return W.call(_.src,_.listener,re)}const W=At;return _}function it(_,W,re,xe,je){if(Array.isArray(W))for(var Xe=0;Xe<W.length;Xe++)it(_,W[Xe],re,xe,je);else xe=A(xe)?!!xe.capture:!!xe,re=qt(re),_&&_[ue]?(_=_.i,W=String(W).toString(),W in _.g&&(Xe=_.g[W],re=De(Xe,re,xe,je),-1<re&&(Ie(Xe[re]),Array.prototype.splice.call(Xe,re,1),Xe.length==0&&(delete _.g[W],_.h--)))):_&&(_=kt(_))&&(W=_.g[W.toString()],_=-1,W&&(_=De(W,re,xe,je)),(re=-1<_?W[_]:null)&&mt(re))}function mt(_){if(typeof _!="number"&&_&&!_.da){var W=_.src;if(W&&W[ue])ie(W.i,_);else{var re=_.type,xe=_.proxy;W.removeEventListener?W.removeEventListener(re,xe,_.capture):W.detachEvent?W.detachEvent(Ct(re),xe):W.addListener&&W.removeListener&&W.removeListener(xe),(re=kt(W))?(ie(re,_),re.h==0&&(re.src=null,W[st]=null)):Ie(_)}}}function Ct(_){return _ in Ue?Ue[_]:Ue[_]="on"+_}function At(_,W){if(_.da)_=!0;else{W=new ne(W,this);var re=_.listener,xe=_.ha||_.src;_.fa&&mt(_),_=re.call(xe,W)}return _}function kt(_){return _=_[st],_ instanceof we?_:null}var Ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function qt(_){return typeof _=="function"?_:(_[Ft]||(_[Ft]=function(W){return _.handleEvent(W)}),_[Ft])}function Mt(){O.call(this),this.i=new we(this),this.M=this,this.F=null}w(Mt,O),Mt.prototype[ue]=!0,Mt.prototype.removeEventListener=function(_,W,re,xe){it(this,_,W,re,xe)};function Vt(_,W){var re,xe=_.F;if(xe)for(re=[];xe;xe=xe.F)re.push(xe);if(_=_.M,xe=W.type||W,typeof W=="string")W=new q(W,_);else if(W instanceof q)W.target=W.target||_;else{var je=W;W=new q(xe,_),V(W,je)}if(je=!0,re)for(var Xe=re.length-1;0<=Xe;Xe--){var St=W.g=re[Xe];je=Yt(St,xe,!0,W)&&je}if(St=W.g=_,je=Yt(St,xe,!0,W)&&je,je=Yt(St,xe,!1,W)&&je,re)for(Xe=0;Xe<re.length;Xe++)St=W.g=re[Xe],je=Yt(St,xe,!1,W)&&je}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var _=this.i,W;for(W in _.g){for(var re=_.g[W],xe=0;xe<re.length;xe++)Ie(re[xe]);delete _.g[W],_.h--}}this.F=null},Mt.prototype.K=function(_,W,re,xe){return this.i.add(String(_),W,!1,re,xe)},Mt.prototype.L=function(_,W,re,xe){return this.i.add(String(_),W,!0,re,xe)};function Yt(_,W,re,xe){if(W=_.i.g[String(W)],!W)return!0;W=W.concat();for(var je=!0,Xe=0;Xe<W.length;++Xe){var St=W[Xe];if(St&&!St.da&&St.capture==re){var fn=St.listener,Wn=St.ha||St.src;St.fa&&ie(_.i,St),je=fn.call(Wn,xe)!==!1&&je}}return je&&!xe.defaultPrevented}function Pt(_,W,re){if(typeof _=="function")re&&(_=p(_,re));else if(_&&typeof _.handleEvent=="function")_=p(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(W)?-1:o.setTimeout(_,W||0)}function It(_){_.g=Pt(()=>{_.g=null,_.i&&(_.i=!1,It(_))},_.l);const W=_.h;_.h=null,_.m.apply(null,W)}class gt extends O{constructor(W,re){super(),this.m=W,this.l=re,this.h=null,this.i=!1,this.g=null}j(W){this.h=arguments,this.g?this.i=!0:It(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xn(_){O.call(this),this.h=_,this.g={}}w(xn,O);var Wt=[];function ir(_){P(_.g,function(W,re){this.g.hasOwnProperty(re)&&mt(W)},_),_.g={}}xn.prototype.N=function(){xn.aa.N.call(this),ir(this)},xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mn=o.JSON.stringify,Fn=o.JSON.parse,Er=class{stringify(_){return o.JSON.stringify(_,void 0)}parse(_){return o.JSON.parse(_,void 0)}};function Bn(){}Bn.prototype.h=null;function Zs(_){return _.h||(_.h=_.i())}function Xn(){}var Wr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ls(){q.call(this,"d")}w(ls,q);function Dn(){q.call(this,"c")}w(Dn,q);var en={},jn=null;function ea(){return jn=jn||new Mt}en.La="serverreachability";function jr(_){q.call(this,en.La,_)}w(jr,q);function hs(_){const W=ea();Vt(W,new jr(W))}en.STAT_EVENT="statevent";function ma(_,W){q.call(this,en.STAT_EVENT,_),this.stat=W}w(ma,q);function Ht(_){const W=ea();Vt(W,new ma(W,_))}en.Ma="timingevent";function or(_,W){q.call(this,en.Ma,_),this.size=W}w(or,q);function Zn(_,W){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){_()},W)}function _r(){this.g=!0}_r.prototype.xa=function(){this.g=!1};function kr(_,W,re,xe,je,Xe){_.info(function(){if(_.g)if(Xe)for(var St="",fn=Xe.split("&"),Wn=0;Wn<fn.length;Wn++){var Sn=fn[Wn].split("=");if(1<Sn.length){var xr=Sn[0];Sn=Sn[1];var Sr=xr.split("_");St=2<=Sr.length&&Sr[1]=="type"?St+(xr+"="+Sn+"&"):St+(xr+"=redacted&")}}else St=null;else St=Xe;return"XMLHTTP REQ ("+xe+") [attempt "+je+"]: "+W+`
`+re+`
`+St})}function Qr(_,W,re,xe,je,Xe,St){_.info(function(){return"XMLHTTP RESP ("+xe+") [ attempt "+je+"]: "+W+`
`+re+`
`+Xe+" "+St})}function de(_,W,re,xe){_.info(function(){return"XMLHTTP TEXT ("+W+"): "+Ce(_,re)+(xe?" "+xe:"")})}function Be(_,W){_.info(function(){return"TIMEOUT: "+W})}_r.prototype.info=function(){};function Ce(_,W){if(!_.g)return W;if(!W)return null;try{var re=JSON.parse(W);if(re){for(_=0;_<re.length;_++)if(Array.isArray(re[_])){var xe=re[_];if(!(2>xe.length)){var je=xe[1];if(Array.isArray(je)&&!(1>je.length)){var Xe=je[0];if(Xe!="noop"&&Xe!="stop"&&Xe!="close")for(var St=1;St<je.length;St++)je[St]=""}}}}return mn(re)}catch{return W}}var _e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Se={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ne;function Ke(){}w(Ke,Bn),Ke.prototype.g=function(){return new XMLHttpRequest},Ke.prototype.i=function(){return{}},Ne=new Ke;function et(_,W,re,xe){this.j=_,this.i=W,this.l=re,this.R=xe||1,this.U=new xn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qe}function Qe(){this.i=null,this.g="",this.h=!1}var We={},Je={};function vt(_,W,re){_.L=1,_.v=Yo(xa(W)),_.m=re,_.P=!0,Nt(_,null)}function Nt(_,W){_.F=Date.now(),Rt(_),_.A=xa(_.v);var re=_.A,xe=_.R;Array.isArray(xe)||(xe=[String(xe)]),dn(re.i,"t",xe),_.C=0,re=_.j.J,_.h=new Qe,_.g=Ae(_.j,re?W:null,!_.m),0<_.O&&(_.M=new gt(p(_.Y,_,_.g),_.O)),W=_.U,re=_.g,xe=_.ca;var je="readystatechange";Array.isArray(je)||(je&&(Wt[0]=je.toString()),je=Wt);for(var Xe=0;Xe<je.length;Xe++){var St=Ee(re,je[Xe],xe||W.handleEvent,!1,W.h||W);if(!St)break;W.g[St.key]=St}W=_.H?N(_.H):{},_.m?(_.u||(_.u="POST"),W["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,W)):(_.u="GET",_.g.ea(_.A,_.u,null,W)),hs(),kr(_.i,_.u,_.A,_.l,_.R,_.m)}et.prototype.ca=function(_){_=_.target;const W=this.M;W&&Ts(_)==3?W.j():this.Y(_)},et.prototype.Y=function(_){try{if(_==this.g)e:{const Sr=Ts(this.g);var W=this.g.Ba();const to=this.g.Z();if(!(3>Sr)&&(Sr!=3||this.g&&(this.h.h||this.g.oa()||Ru(this.g)))){this.J||Sr!=4||W==7||(W==8||0>=to?hs(3):hs(2)),Un(this);var re=this.g.Z();this.X=re;t:if(Ot(this)){var xe=Ru(this.g);_="";var je=xe.length,Xe=Ts(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qn(this),Ln(this);var St="";break t}this.h.i=new o.TextDecoder}for(W=0;W<je;W++)this.h.h=!0,_+=this.h.i.decode(xe[W],{stream:!(Xe&&W==je-1)});xe.length=0,this.h.g+=_,this.C=0,St=this.h.g}else St=this.g.oa();if(this.o=re==200,Qr(this.i,this.u,this.A,this.l,this.R,Sr,re),this.o){if(this.T&&!this.K){t:{if(this.g){var fn,Wn=this.g;if((fn=Wn.g?Wn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(fn)){var Sn=fn;break t}}Sn=null}if(re=Sn)de(this.i,this.l,re,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Es(this,re);else{this.o=!1,this.s=3,Ht(12),Qn(this),Ln(this);break e}}if(this.P){re=!0;let ms;for(;!this.J&&this.C<St.length;)if(ms=Tt(this,St),ms==Je){Sr==4&&(this.s=4,Ht(14),re=!1),de(this.i,this.l,null,"[Incomplete Response]");break}else if(ms==We){this.s=4,Ht(15),de(this.i,this.l,St,"[Invalid Chunk]"),re=!1;break}else de(this.i,this.l,ms,null),Es(this,ms);if(Ot(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sr!=4||St.length!=0||this.h.h||(this.s=1,Ht(16),re=!1),this.o=this.o&&re,!re)de(this.i,this.l,St,"[Invalid Chunked Response]"),Qn(this),Ln(this);else if(0<St.length&&!this.W){this.W=!0;var xr=this.j;xr.g==this&&xr.ba&&!xr.M&&(xr.j.info("Great, no buffering proxy detected. Bytes received: "+St.length),nl(xr),xr.M=!0,Ht(11))}}else de(this.i,this.l,St,null),Es(this,St);Sr==4&&Qn(this),this.o&&!this.J&&(Sr==4?rl(this.j,this):(this.o=!1,Rt(this)))}else Zo(this.g),re==400&&0<St.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),Qn(this),Ln(this)}}}catch{}finally{}};function Ot(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function Tt(_,W){var re=_.C,xe=W.indexOf(`
`,re);return xe==-1?Je:(re=Number(W.substring(re,xe)),isNaN(re)?We:(xe+=1,xe+re>W.length?Je:(W=W.slice(xe,xe+re),_.C=xe+re,W)))}et.prototype.cancel=function(){this.J=!0,Qn(this)};function Rt(_){_.S=Date.now()+_.I,cn(_,_.I)}function cn(_,W){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Zn(p(_.ba,_),W)}function Un(_){_.B&&(o.clearTimeout(_.B),_.B=null)}et.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(Be(this.i,this.A),this.L!=2&&(hs(),Ht(17)),Qn(this),this.s=2,Ln(this)):cn(this,this.S-_)};function Ln(_){_.j.G==0||_.J||rl(_.j,_)}function Qn(_){Un(_);var W=_.M;W&&typeof W.ma=="function"&&W.ma(),_.M=null,ir(_.U),_.g&&(W=_.g,_.g=null,W.abort(),W.ma())}function Es(_,W){try{var re=_.j;if(re.G!=0&&(re.g==_||pa(re.h,_))){if(!_.K&&pa(re.h,_)&&re.G==3){try{var xe=re.Da.g.parse(W)}catch{xe=null}if(Array.isArray(xe)&&xe.length==3){var je=xe;if(je[0]==0){e:if(!re.u){if(re.g)if(re.g.F+3e3<_.F)So(re),Sc(re);else break e;Ol(re),Ht(18)}}else re.za=je[1],0<re.za-re.T&&37500>je[2]&&re.F&&re.v==0&&!re.C&&(re.C=Zn(p(re.Za,re),6e3));if(1>=Ms(re.h)&&re.ca){try{re.ca()}catch{}re.ca=void 0}}else Fa(re,11)}else if((_.K||re.g==_)&&So(re),!I(W))for(je=re.Da.g.parse(W),W=0;W<je.length;W++){let Sn=je[W];if(re.T=Sn[0],Sn=Sn[1],re.G==2)if(Sn[0]=="c"){re.K=Sn[1],re.ia=Sn[2];const xr=Sn[3];xr!=null&&(re.la=xr,re.j.info("VER="+re.la));const Sr=Sn[4];Sr!=null&&(re.Aa=Sr,re.j.info("SVER="+re.Aa));const to=Sn[5];to!=null&&typeof to=="number"&&0<to&&(xe=1.5*to,re.L=xe,re.j.info("backChannelRequestTimeoutMs_="+xe)),xe=re;const ms=_.g;if(ms){const ui=ms.g?ms.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var Xe=xe.h;Xe.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(Xe.j=Xe.l,Xe.g=new Set,Xe.h&&(Hr(Xe,Xe.h),Xe.h=null))}if(xe.D){const sl=ms.g?ms.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(xe.ya=sl,gr(xe.I,xe.D,sl))}}re.G=3,re.l&&re.l.ua(),re.ba&&(re.R=Date.now()-_.F,re.j.info("Handshake RTT: "+re.R+"ms")),xe=re;var St=_;if(xe.qa=H(xe,xe.J?xe.ia:null,xe.W),St.K){na(xe.h,St);var fn=St,Wn=xe.L;Wn&&(fn.I=Wn),fn.B&&(Un(fn),Rt(fn)),xe.g=St}else Bc(xe);0<re.i.length&&Tc(re)}else Sn[0]!="stop"&&Sn[0]!="close"||Fa(re,7);else re.G==3&&(Sn[0]=="stop"||Sn[0]=="close"?Sn[0]=="stop"?Fa(re,7):_o(re):Sn[0]!="noop"&&re.l&&re.l.ta(Sn),re.v=0)}}hs(4)}catch{}}var ii=class{constructor(_,W){this.g=_,this.map=W}};function _s(_){this.l=_||10,o.PerformanceNavigationTiming?(_=o.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ta(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Ms(_){return _.h?1:_.g?_.g.size:0}function pa(_,W){return _.h?_.h==W:_.g?_.g.has(W):!1}function Hr(_,W){_.g?_.g.add(W):_.h=W}function na(_,W){_.h&&_.h==W?_.h=null:_.g&&_.g.has(W)&&_.g.delete(W)}_s.prototype.cancel=function(){if(this.i=Cc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Cc(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let W=_.i;for(const re of _.g.values())W=W.concat(re.D);return W}return b(_.i)}function ku(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(l(_)){for(var W=[],re=_.length,xe=0;xe<re;xe++)W.push(_[xe]);return W}W=[],re=0;for(xe in _)W[re++]=_[xe];return W}function qo(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(l(_)||typeof _=="string"){var W=[];_=_.length;for(var re=0;re<_;re++)W.push(re);return W}W=[],re=0;for(const xe in _)W[re++]=xe;return W}}}function TA(_,W){if(_.forEach&&typeof _.forEach=="function")_.forEach(W,void 0);else if(l(_)||typeof _=="string")Array.prototype.forEach.call(_,W,void 0);else for(var re=qo(_),xe=ku(_),je=xe.length,Xe=0;Xe<je;Xe++)W.call(void 0,xe[Xe],re&&re[Xe],_)}var ga=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ec(_,W){if(_){_=_.split("&");for(var re=0;re<_.length;re++){var xe=_[re].indexOf("="),je=null;if(0<=xe){var Xe=_[re].substring(0,xe);je=_[re].substring(xe+1)}else Xe=_[re];W(Xe,je?decodeURIComponent(je.replace(/\+/g," ")):"")}}}function lr(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof lr){this.h=_.h,Wo(this,_.j),this.o=_.o,this.g=_.g,$o(this,_.s),this.l=_.l;var W=_.i,re=new $i;re.i=W.i,W.g&&(re.g=new Map(W.g),re.h=W.h),Wi(this,re),this.m=_.m}else _&&(W=String(_).match(ga))?(this.h=!1,Wo(this,W[1]||"",!0),this.o=oi(W[2]||""),this.g=oi(W[3]||"",!0),$o(this,W[4]),this.l=oi(W[5]||"",!0),Wi(this,W[6]||"",!0),this.m=oi(W[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}lr.prototype.toString=function(){var _=[],W=this.j;W&&_.push(yo(W,BA,!0),":");var re=this.g;return(re||W=="file")&&(_.push("//"),(W=this.o)&&_.push(yo(W,BA,!0),"@"),_.push(encodeURIComponent(String(re)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),re=this.s,re!=null&&_.push(":",String(re))),(re=this.l)&&(this.g&&re.charAt(0)!="/"&&_.push("/"),_.push(yo(re,re.charAt(0)=="/"?wo:NA,!0))),(re=this.i.toString())&&_.push("?",re),(re=this.m)&&_.push("#",yo(re,bo)),_.join("")};function xa(_){return new lr(_)}function Wo(_,W,re){_.j=re?oi(W,!0):W,_.j&&(_.j=_.j.replace(/:$/,""))}function $o(_,W){if(W){if(W=Number(W),isNaN(W)||0>W)throw Error("Bad port number "+W);_.s=W}else _.s=null}function Wi(_,W,re){W instanceof $i?(_.i=W,Fu(_.i,_.h)):(re||(W=yo(W,_c)),_.i=new $i(W,_.h))}function gr(_,W,re){_.i.set(W,re)}function Yo(_){return gr(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function oi(_,W){return _?W?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function yo(_,W,re){return typeof _=="string"?(_=encodeURI(_).replace(W,Iu),re&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Iu(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var BA=/[#\/\?@]/g,NA=/[#\?:]/g,wo=/[#\?]/g,_c=/[#\?@]/g,bo=/#/g;function $i(_,W){this.h=this.g=null,this.i=_||null,this.j=!!W}function Ir(_){_.g||(_.g=new Map,_.h=0,_.i&&Ec(_.i,function(W,re){_.add(decodeURIComponent(W.replace(/\+/g," ")),re)}))}t=$i.prototype,t.add=function(_,W){Ir(this),this.i=null,_=Ji(this,_);var re=this.g.get(_);return re||this.g.set(_,re=[]),re.push(W),this.h+=1,this};function Co(_,W){Ir(_),W=Ji(_,W),_.g.has(W)&&(_.i=null,_.h-=_.g.get(W).length,_.g.delete(W))}function Yi(_,W){return Ir(_),W=Ji(_,W),_.g.has(W)}t.forEach=function(_,W){Ir(this),this.g.forEach(function(re,xe){re.forEach(function(je){_.call(W,je,xe,this)},this)},this)},t.na=function(){Ir(this);const _=Array.from(this.g.values()),W=Array.from(this.g.keys()),re=[];for(let xe=0;xe<W.length;xe++){const je=_[xe];for(let Xe=0;Xe<je.length;Xe++)re.push(W[xe])}return re},t.V=function(_){Ir(this);let W=[];if(typeof _=="string")Yi(this,_)&&(W=W.concat(this.g.get(Ji(this,_))));else{_=Array.from(this.g.values());for(let re=0;re<_.length;re++)W=W.concat(_[re])}return W},t.set=function(_,W){return Ir(this),this.i=null,_=Ji(this,_),Yi(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[W]),this.h+=1,this},t.get=function(_,W){return _?(_=this.V(_),0<_.length?String(_[0]):W):W};function dn(_,W,re){Co(_,W),0<re.length&&(_.i=null,_.g.set(Ji(_,W),b(re)),_.h+=re.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],W=Array.from(this.g.keys());for(var re=0;re<W.length;re++){var xe=W[re];const Xe=encodeURIComponent(String(xe)),St=this.V(xe);for(xe=0;xe<St.length;xe++){var je=Xe;St[xe]!==""&&(je+="="+encodeURIComponent(String(St[xe]))),_.push(je)}}return this.i=_.join("&")};function Ji(_,W){return W=String(W),_.j&&(W=W.toLowerCase()),W}function Fu(_,W){W&&!_.j&&(Ir(_),_.i=null,_.g.forEach(function(re,xe){var je=xe.toLowerCase();xe!=je&&(Co(this,xe),dn(this,je,re))},_)),_.j=W}function Na(_,W){const re=new _r;if(o.Image){const xe=new Image;xe.onload=g(Ga,re,"TestLoadImage: loaded",!0,W,xe),xe.onerror=g(Ga,re,"TestLoadImage: error",!1,W,xe),xe.onabort=g(Ga,re,"TestLoadImage: abort",!1,W,xe),xe.ontimeout=g(Ga,re,"TestLoadImage: timeout",!1,W,xe),o.setTimeout(function(){xe.ontimeout&&xe.ontimeout()},1e4),xe.src=_}else W(!1)}function li(_,W){const re=new _r,xe=new AbortController,je=setTimeout(()=>{xe.abort(),Ga(re,"TestPingServer: timeout",!1,W)},1e4);fetch(_,{signal:xe.signal}).then(Xe=>{clearTimeout(je),Xe.ok?Ga(re,"TestPingServer: ok",!0,W):Ga(re,"TestPingServer: server error",!1,W)}).catch(()=>{clearTimeout(je),Ga(re,"TestPingServer: error",!1,W)})}function Ga(_,W,re,xe,je){try{je&&(je.onload=null,je.onerror=null,je.onabort=null,je.ontimeout=null),xe(re)}catch{}}function Xi(){this.g=new Er}function ci(_,W,re){const xe=re||"";try{TA(_,function(je,Xe){let St=je;A(je)&&(St=mn(je)),W.push(xe+Xe+"="+encodeURIComponent(St))})}catch(je){throw W.push(xe+"type="+encodeURIComponent("_badmap")),je}}function Jo(_){this.l=_.Ub||null,this.j=_.eb||!1}w(Jo,Bn),Jo.prototype.g=function(){return new Eo(this.l,this.j)},Jo.prototype.i=function(_){return function(){return _}}({});function Eo(_,W){Mt.call(this),this.D=_,this.o=W,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Eo,Mt),t=Eo.prototype,t.open=function(_,W){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=W,this.readyState=1,ka(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const W={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(W.body=_),(this.D||o).fetch(new Request(this.A,W)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ai(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,ka(this)),this.g&&(this.readyState=3,ka(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kA(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function kA(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var W=_.value?_.value:new Uint8Array(0);(W=this.v.decode(W,{stream:!_.done}))&&(this.response=this.responseText+=W)}_.done?Ai(this):ka(this),this.readyState==3&&kA(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,Ai(this))},t.Qa=function(_){this.g&&(this.response=_,Ai(this))},t.ga=function(){this.g&&Ai(this)};function Ai(_){_.readyState=4,_.l=null,_.j=null,_.v=null,ka(_)}t.setRequestHeader=function(_,W){this.u.append(_,W)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],W=this.h.entries();for(var re=W.next();!re.done;)re=re.value,_.push(re[0]+": "+re[1]),re=W.next();return _.join(`\r
`)};function ka(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Eo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Zi(_){let W="";return P(_,function(re,xe){W+=xe,W+=":",W+=re,W+=`\r
`}),W}function Ss(_,W,re){e:{for(xe in re){var xe=!1;break e}xe=!0}xe||(re=Zi(re),typeof _=="string"?re!=null&&encodeURIComponent(String(re)):gr(_,W,re))}function qn(_){Mt.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(qn,Mt);var Xo=/^https?$/i,eo=["POST","PUT"];t=qn.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,W,re,xe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);W=W?W.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?Zs(this.o):Zs(Ne),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(W,String(_),!0),this.B=!1}catch(Xe){IA(this,Xe);return}if(_=re||"",re=new Map(this.headers),xe)if(Object.getPrototypeOf(xe)===Object.prototype)for(var je in xe)re.set(je,xe[je]);else if(typeof xe.keys=="function"&&typeof xe.get=="function")for(const Xe of xe.keys())re.set(Xe,xe.get(Xe));else throw Error("Unknown input type for opt_headers: "+String(xe));xe=Array.from(re.keys()).find(Xe=>Xe.toLowerCase()=="content-type"),je=o.FormData&&_ instanceof o.FormData,!(0<=Array.prototype.indexOf.call(eo,W,void 0))||xe||je||re.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Xe,St]of re)this.g.setRequestHeader(Xe,St);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ia(this),this.u=!0,this.g.send(_),this.u=!1}catch(Xe){IA(this,Xe)}};function IA(_,W){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=W,_.m=5,Dl(_),Oi(_)}function Dl(_){_.A||(_.A=!0,Vt(_,"complete"),Vt(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,Vt(this,"complete"),Vt(this,"abort"),Oi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),qn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ul(this):this.bb())},t.bb=function(){Ul(this)};function Ul(_){if(_.h&&typeof i<"u"&&(!_.v[1]||Ts(_)!=4||_.Z()!=2)){if(_.u&&Ts(_)==4)Pt(_.Ea,0,_);else if(Vt(_,"readystatechange"),Ts(_)==4){_.h=!1;try{const St=_.Z();e:switch(St){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var W=!0;break e;default:W=!1}var re;if(!(re=W)){var xe;if(xe=St===0){var je=String(_.D).match(ga)[1]||null;!je&&o.self&&o.self.location&&(je=o.self.location.protocol.slice(0,-1)),xe=!Xo.test(je?je.toLowerCase():"")}re=xe}if(re)Vt(_,"complete"),Vt(_,"success");else{_.m=6;try{var Xe=2<Ts(_)?_.g.statusText:""}catch{Xe=""}_.l=Xe+" ["+_.Z()+"]",Dl(_)}}finally{Oi(_)}}}}function Oi(_,W){if(_.g){Ia(_);const re=_.g,xe=_.v[0]?()=>{}:null;_.g=null,_.v=null,W||Vt(_,"ready");try{re.onreadystatechange=xe}catch{}}}function Ia(_){_.I&&(o.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function Ts(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<Ts(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var W=this.g.responseText;return _&&W.indexOf(_)==0&&(W=W.substring(_.length)),Fn(W)}};function Ru(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Zo(_){const W={};_=(_.g&&2<=Ts(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let xe=0;xe<_.length;xe++){if(I(_[xe]))continue;var re=U(_[xe]);const je=re[0];if(re=re[1],typeof re!="string")continue;re=re.trim();const Xe=W[je]||[];W[je]=Xe,Xe.push(re)}S(W,function(xe){return xe.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function va(_,W,re){return re&&re.internalChannelParams&&re.internalChannelParams[_]||W}function el(_){this.Aa=0,this.i=[],this.j=new _r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=va("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=va("baseRetryDelayMs",5e3,_),this.cb=va("retryDelaySeedMs",1e4,_),this.Wa=va("forwardChannelMaxRetries",2,_),this.wa=va("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new _s(_&&_.concurrentRequestLimit),this.Da=new Xi,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=el.prototype,t.la=8,t.G=1,t.connect=function(_,W,re,xe){Ht(0),this.W=_,this.H=W||{},re&&xe!==void 0&&(this.H.OSID=re,this.H.OAID=xe),this.F=this.X,this.I=H(this,null,this.W),Tc(this)};function _o(_){if(Ll(_),_.G==3){var W=_.U++,re=xa(_.I);if(gr(re,"SID",_.K),gr(re,"RID",W),gr(re,"TYPE","terminate"),tl(_,re),W=new et(_,_.j,W),W.L=2,W.v=Yo(xa(re)),re=!1,o.navigator&&o.navigator.sendBeacon)try{re=o.navigator.sendBeacon(W.v.toString(),"")}catch{}!re&&o.Image&&(new Image().src=W.v,re=!0),re||(W.g=Ae(W.j,null),W.g.ea(W.v)),W.F=Date.now(),Rt(W)}Nc(_)}function Sc(_){_.g&&(nl(_),_.g.cancel(),_.g=null)}function Ll(_){Sc(_),_.u&&(o.clearTimeout(_.u),_.u=null),So(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&o.clearTimeout(_.s),_.s=null)}function Tc(_){if(!ta(_.h)&&!_.s){_.s=!0;var W=_.Ga;Y||ee(),oe||(Y(),oe=!0),Z.add(W,_),_.B=0}}function FA(_,W){return Ms(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=W.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Zn(p(_.Ga,_,W),jl(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const je=new et(this,this.j,_);let Xe=this.o;if(this.S&&(Xe?(Xe=N(Xe),V(Xe,this.S)):Xe=this.S),this.m!==null||this.O||(je.H=Xe,Xe=null),this.P)e:{for(var W=0,re=0;re<this.i.length;re++){t:{var xe=this.i[re];if("__data__"in xe.map&&(xe=xe.map.__data__,typeof xe=="string")){xe=xe.length;break t}xe=void 0}if(xe===void 0)break;if(W+=xe,4096<W){W=re;break e}if(W===4096||re===this.i.length-1){W=re+1;break e}}W=1e3}else W=1e3;W=Pl(this,je,W),re=xa(this.I),gr(re,"RID",_),gr(re,"CVER",22),this.D&&gr(re,"X-HTTP-Session-Id",this.D),tl(this,re),Xe&&(this.O?W="headers="+encodeURIComponent(String(Zi(Xe)))+"&"+W:this.m&&Ss(re,this.m,Xe)),Hr(this.h,je),this.Ua&&gr(re,"TYPE","init"),this.P?(gr(re,"$req",W),gr(re,"SID","null"),je.T=!0,vt(je,re,null)):vt(je,re,W),this.G=2}}else this.G==3&&(_?Ml(this,_):this.i.length==0||ta(this.h)||Ml(this))};function Ml(_,W){var re;W?re=W.l:re=_.U++;const xe=xa(_.I);gr(xe,"SID",_.K),gr(xe,"RID",re),gr(xe,"AID",_.T),tl(_,xe),_.m&&_.o&&Ss(xe,_.m,_.o),re=new et(_,_.j,re,_.B+1),_.m===null&&(re.H=_.o),W&&(_.i=W.D.concat(_.i)),W=Pl(_,re,1e3),re.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Hr(_.h,re),vt(re,xe,W)}function tl(_,W){_.H&&P(_.H,function(re,xe){gr(W,xe,re)}),_.l&&TA({},function(re,xe){gr(W,xe,re)})}function Pl(_,W,re){re=Math.min(_.i.length,re);var xe=_.l?p(_.l.Na,_.l,_):null;e:{var je=_.i;let Xe=-1;for(;;){const St=["count="+re];Xe==-1?0<re?(Xe=je[0].g,St.push("ofs="+Xe)):Xe=0:St.push("ofs="+Xe);let fn=!0;for(let Wn=0;Wn<re;Wn++){let Sn=je[Wn].g;const xr=je[Wn].map;if(Sn-=Xe,0>Sn)Xe=Math.max(0,je[Wn].g-100),fn=!1;else try{ci(xr,St,"req"+Sn+"_")}catch{xe&&xe(xr)}}if(fn){xe=St.join("&");break e}}}return _=_.i.splice(0,re),W.D=_,xe}function Bc(_){if(!_.g&&!_.u){_.Y=1;var W=_.Fa;Y||ee(),oe||(Y(),oe=!0),Z.add(W,_),_.v=0}}function Ol(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Zn(p(_.Fa,_),jl(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,Du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Zn(p(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),Sc(this),Du(this))};function nl(_){_.A!=null&&(o.clearTimeout(_.A),_.A=null)}function Du(_){_.g=new et(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var W=xa(_.qa);gr(W,"RID","rpc"),gr(W,"SID",_.K),gr(W,"AID",_.T),gr(W,"CI",_.F?"0":"1"),!_.F&&_.ja&&gr(W,"TO",_.ja),gr(W,"TYPE","xmlhttp"),tl(_,W),_.m&&_.o&&Ss(W,_.m,_.o),_.L&&(_.g.I=_.L);var re=_.g;_=_.ia,re.L=1,re.v=Yo(xa(W)),re.m=null,re.P=!0,Nt(re,_)}t.Za=function(){this.C!=null&&(this.C=null,Sc(this),Ol(this),Ht(19))};function So(_){_.C!=null&&(o.clearTimeout(_.C),_.C=null)}function rl(_,W){var re=null;if(_.g==W){So(_),nl(_),_.g=null;var xe=2}else if(pa(_.h,W))re=W.D,na(_.h,W),xe=1;else return;if(_.G!=0){if(W.o)if(xe==1){re=W.m?W.m.length:0,W=Date.now()-W.F;var je=_.B;xe=ea(),Vt(xe,new or(xe,re)),Tc(_)}else Bc(_);else if(je=W.s,je==3||je==0&&0<W.X||!(xe==1&&FA(_,W)||xe==2&&Ol(_)))switch(re&&0<re.length&&(W=_.h,W.i=W.i.concat(re)),je){case 1:Fa(_,5);break;case 4:Fa(_,10);break;case 3:Fa(_,6);break;default:Fa(_,2)}}}function jl(_,W){let re=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(re*=2),re*W}function Fa(_,W){if(_.j.info("Error code "+W),W==2){var re=p(_.fb,_),xe=_.Xa;const je=!xe;xe=new lr(xe||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Wo(xe,"https"),Yo(xe),je?Na(xe.toString(),re):li(xe.toString(),re)}else Ht(2);_.G=0,_.l&&_.l.sa(W),Nc(_),Ll(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function Nc(_){if(_.G=0,_.ka=[],_.l){const W=Cc(_.h);(W.length!=0||_.i.length!=0)&&(E(_.ka,W),E(_.ka,_.i),_.h.i.length=0,b(_.i),_.i.length=0),_.l.ra()}}function H(_,W,re){var xe=re instanceof lr?xa(re):new lr(re);if(xe.g!="")W&&(xe.g=W+"."+xe.g),$o(xe,xe.s);else{var je=o.location;xe=je.protocol,W=W?W+"."+je.hostname:je.hostname,je=+je.port;var Xe=new lr(null);xe&&Wo(Xe,xe),W&&(Xe.g=W),je&&$o(Xe,je),re&&(Xe.l=re),xe=Xe}return re=_.D,W=_.ya,re&&W&&gr(xe,re,W),gr(xe,"VER",_.la),tl(_,xe),xe}function Ae(_,W,re){if(W&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return W=_.Ca&&!_.pa?new qn(new Jo({eb:re})):new qn(_.pa),W.Ha(_.J),W}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ke(){}t=ke.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Re(){}Re.prototype.g=function(_,W){return new He(_,W)};function He(_,W){Mt.call(this),this.g=new el(W),this.l=_,this.h=W&&W.messageUrlParams||null,_=W&&W.messageHeaders||null,W&&W.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=W&&W.initMessageHeaders||null,W&&W.messageContentType&&(_?_["X-WebChannel-Content-Type"]=W.messageContentType:_={"X-WebChannel-Content-Type":W.messageContentType}),W&&W.va&&(_?_["X-WebChannel-Client-Profile"]=W.va:_={"X-WebChannel-Client-Profile":W.va}),this.g.S=_,(_=W&&W.Sb)&&!I(_)&&(this.g.m=_),this.v=W&&W.supportsCrossDomainXhr||!1,this.u=W&&W.sendRawJson||!1,(W=W&&W.httpSessionIdParam)&&!I(W)&&(this.g.D=W,_=this.h,_!==null&&W in _&&(_=this.h,W in _&&delete _[W])),this.j=new jt(this)}w(He,Mt),He.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},He.prototype.close=function(){_o(this.g)},He.prototype.o=function(_){var W=this.g;if(typeof _=="string"){var re={};re.__data__=_,_=re}else this.u&&(re={},re.__data__=mn(_),_=re);W.i.push(new ii(W.Ya++,_)),W.G==3&&Tc(W)},He.prototype.N=function(){this.g.l=null,delete this.j,_o(this.g),delete this.g,He.aa.N.call(this)};function ot(_){ls.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var W=_.__sm__;if(W){e:{for(const re in W){_=re;break e}_=void 0}(this.i=_)&&(_=this.i,W=W!==null&&_ in W?W[_]:void 0),this.data=W}else this.data=_}w(ot,ls);function Et(){Dn.call(this),this.status=1}w(Et,Dn);function jt(_){this.g=_}w(jt,ke),jt.prototype.ua=function(){Vt(this.g,"a")},jt.prototype.ta=function(_){Vt(this.g,new ot(_))},jt.prototype.sa=function(_){Vt(this.g,new Et)},jt.prototype.ra=function(){Vt(this.g,"b")},Re.prototype.createWebChannel=Re.prototype.g,He.prototype.send=He.prototype.o,He.prototype.open=He.prototype.m,He.prototype.close=He.prototype.close,sU=function(){return new Re},rU=function(){return ea()},nU=en,NE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,Ov=_e,Se.COMPLETE="complete",tU=Se,Xn.EventType=Wr,Wr.OPEN="a",Wr.CLOSE="b",Wr.ERROR="c",Wr.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,jp=Xn,qn.prototype.listenOnce=qn.prototype.L,qn.prototype.getLastError=qn.prototype.Ka,qn.prototype.getLastErrorCode=qn.prototype.Ba,qn.prototype.getStatus=qn.prototype.Z,qn.prototype.getResponseJson=qn.prototype.Oa,qn.prototype.getResponseText=qn.prototype.oa,qn.prototype.send=qn.prototype.ea,qn.prototype.setWithCredentials=qn.prototype.Ha,eU=qn}).apply(typeof k1<"u"?k1:typeof self<"u"?self:typeof window<"u"?window:{});const vN="@firebase/firestore",yN="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_i.UNAUTHENTICATED=new _i(null),_i.GOOGLE_CREDENTIALS=new _i("google-credentials-uid"),_i.FIRST_PARTY=new _i("first-party-uid"),_i.MOCK_USER=new _i("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Em="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new bS("@firebase/firestore");function w0(){return ah.logLevel}function $t(t,...e){if(ah.logLevel<=rr.DEBUG){const n=e.map(RS);ah.debug(`Firestore (${Em}): ${t}`,...n)}}function xu(t,...e){if(ah.logLevel<=rr.ERROR){const n=e.map(RS);ah.error(`Firestore (${Em}): ${t}`,...n)}}function om(t,...e){if(ah.logLevel<=rr.WARN){const n=e.map(RS);ah.warn(`Firestore (${Em}): ${t}`,...n)}}function RS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,aU(t,r,n)}function aU(t,e,n){let r=`FIRESTORE (${Em}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xu(r),new Error(r)}function Nr(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||aU(e,s,r)}function In(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zt extends _u{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_i.UNAUTHENTICATED))}shutdown(){}}class ZG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ez{constructor(e){this.t=e,this.currentUser=_i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Nr(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new uu;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new uu,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{$t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):($t("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new uu)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nr(typeof r.accessToken=="string",31837,{l:r}),new iU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Nr(e===null||typeof e=="string",2055,{h:e}),new _i(e)}}class tz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=_i.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new tz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(_i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lc(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Nr(this.o===void 0,3512);const r=a=>{a.error!=null&&$t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const i=a.token!==this.m;return this.m=a.token,$t("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{$t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):$t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Nr(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=sz(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function sr(t,e){return t<e?-1:t>e?1:0}function kE(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return Vb(s)===Vb(a)?sr(s,a):Vb(s)?1:-1}return sr(t.length,e.length)}const az=55296,iz=57343;function Vb(t){const e=t.charCodeAt(0);return e>=az&&e<=iz}function lm(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="__name__";class aA{constructor(e,n,r){n===void 0?n=0:n>e.length&&Cn(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Cn(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return aA.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof aA?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=aA.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return sr(e.length,n.length)}static compareSegments(e,n){const r=aA.isNumericId(e),s=aA.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?aA.extractNumericId(e).compare(aA.extractNumericId(n)):kE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Md.fromString(e.substring(4,e.length-2))}}class rs extends aA{construct(e,n,r){return new rs(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Zt(_t.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new rs(n)}static emptyPath(){return new rs([])}}const oz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ti extends aA{construct(e,n,r){return new ti(e,n,r)}static isValidIdentifier(e){return oz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ti.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bN}static keyField(){return new ti([bN])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new Zt(_t.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new Zt(_t.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Zt(_t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else o==="`"?(i=!i,s++):o!=="."||i?(r+=o,s++):(a(),s++)}if(a(),i)throw new Zt(_t.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ti(n)}static emptyPath(){return new ti([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.path=e}static fromPath(e){return new un(rs.fromString(e))}static fromName(e){return new un(rs.fromString(e).popFirst(5))}static empty(){return new un(rs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rs.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rs.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new un(new rs(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t,e,n){if(!n)throw new Zt(_t.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lz(t,e,n,r){if(e===!0&&r===!0)throw new Zt(_t.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CN(t){if(!un.isDocumentKey(t))throw new Zt(_t.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function EN(t){if(un.isDocumentKey(t))throw new Zt(_t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lU(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function US(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Cn(12329,{type:typeof t})}function xA(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Zt(_t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=US(t);throw new Zt(_t.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t,e){const n={typeString:t};return e&&(n.value=e),n}function fx(t,e){if(!lU(t))throw new Zt(_t.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const i=t[r];if(s&&typeof i!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&i!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Zt(_t.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=-62135596800,SN=1e6;class ss{static now(){return ss.fromMillis(Date.now())}static fromDate(e){return ss.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*SN);return new ss(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Zt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Zt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_N)throw new Zt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Zt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SN}_compareTo(e){return this.seconds===e.seconds?sr(this.nanoseconds,e.nanoseconds):sr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ss._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fx(e,ss._jsonSchema))return new ss(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_N;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ss._jsonSchemaVersion="firestore/timestamp/1.0",ss._jsonSchema={type:da("string",ss._jsonSchemaVersion),seconds:da("number"),nanoseconds:da("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{static fromTimestamp(e){return new Nn(e)}static min(){return new Nn(new ss(0,0))}static max(){return new Nn(new ss(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg=-1;function cz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Nn.fromTimestamp(r===1e9?new ss(n+1,0):new ss(n,r));return new Gd(s,un.empty(),e)}function Az(t){return new Gd(t.readTime,t.key,kg)}class Gd{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gd(Nn.min(),un.empty(),kg)}static max(){return new Gd(Nn.max(),un.empty(),kg)}}function uz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=un.comparator(t.documentKey,e.documentKey),n!==0?n:sr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _m(t){if(t.code!==_t.FAILED_PRECONDITION||t.message!==dz)throw t;$t("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Cn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new wt((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof wt?n:wt.resolve(n)}catch(n){return wt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):wt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):wt.reject(n)}static resolve(e){return new wt((n,r)=>{n(e)})}static reject(e){return new wt((n,r)=>{r(e)})}static waitFor(e){return new wt((n,r)=>{let s=0,a=0,i=!1;e.forEach(o=>{++s,o.next(()=>{++a,i&&a===s&&n()},l=>r(l))}),i=!0,a===s&&n()})}static or(e){let n=wt.resolve(!1);for(const r of e)n=n.next(s=>s?wt.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new wt((r,s)=>{const a=e.length,i=new Array(a);let o=0;for(let l=0;l<a;l++){const A=l;n(e[A]).next(d=>{i[A]=d,++o,o===a&&r(i)},d=>s(d))}})}static doWhile(e,n){return new wt((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function hz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ey.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=-1;function _y(t){return t==null}function m2(t){return t===0&&1/t==-1/0}function mz(t){return typeof t=="number"&&Number.isInteger(t)&&!m2(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU="";function pz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=TN(e)),e=gz(t.get(n),e);return TN(e)}function gz(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case cU:n+="";break;default:n+=a}}return n}function TN(t){return t+cU+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){this.comparator=e,this.root=n||Za.EMPTY}insert(e,n){return new bs(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Za.BLACK,null,null))}remove(e){return new bs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Za.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new I1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new I1(this.root,e,this.comparator,!1)}getReverseIterator(){return new I1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new I1(this.root,e,this.comparator,!0)}}class I1{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Za{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Za.RED,this.left=s??Za.EMPTY,this.right=a??Za.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Za(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Za.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Za.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Za.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Za.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Cn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Cn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Cn(27949);return e+(this.isRed()?0:1)}}Za.EMPTY=null,Za.RED=!0,Za.BLACK=!1;Za.EMPTY=new class{constructor(){this.size=0}get key(){throw Cn(57766)}get value(){throw Cn(16141)}get color(){throw Cn(16727)}get left(){throw Cn(29726)}get right(){throw Cn(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new Za(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.comparator=e,this.data=new bs(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NN(this.data.getIterator())}getIteratorFrom(e){return new NN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Sa)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Sa(this.comparator);return n.data=e,n}}class NN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.fields=e,e.sort(ti.comparator)}static empty(){return new Vo([])}unionWith(e){let n=new Sa(ti.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lm(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new uU("Invalid base64 string: "+a):a}}(e);return new ai(n)}static fromUint8Array(e){const n=function(s){let a="";for(let i=0;i<s.length;++i)a+=String.fromCharCode(s[i]);return a}(e);return new ai(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ai.EMPTY_BYTE_STRING=new ai("");const xz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zd(t){if(Nr(!!t,39018),typeof t=="string"){let e=0;const n=xz.exec(t);if(Nr(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qs(t.seconds),nanos:qs(t.nanos)}}function qs(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kd(t){return typeof t=="string"?ai.fromBase64String(t):ai.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU="server_timestamp",fU="__type__",hU="__previous_value__",mU="__local_write_time__";function MS(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fU])==null?void 0:r.stringValue)===dU}function Sy(t){const e=t.mapValue.fields[hU];return MS(e)?Sy(e):e}function Ig(t){const e=zd(t.mapValue.fields[mU].timestampValue);return new ss(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e,n,r,s,a,i,o,l,A,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=A,this.isUsingEmulator=d}}const p2="(default)";class Fg{constructor(e,n){this.projectId=e,this.database=n||p2}static empty(){return new Fg("","")}get isDefaultDatabase(){return this.database===p2}isEqual(e){return e instanceof Fg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU="__type__",yz="__max__",F1={mapValue:{}},gU="__vector__",g2="value";function qd(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?MS(t)?4:bz(t)?9007199254740991:wz(t)?10:11:Cn(28295,{value:t})}function vA(t,e){if(t===e)return!0;const n=qd(t);if(n!==qd(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ig(t).isEqual(Ig(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const i=zd(s.timestampValue),o=zd(a.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return Kd(s.bytesValue).isEqual(Kd(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return qs(s.geoPointValue.latitude)===qs(a.geoPointValue.latitude)&&qs(s.geoPointValue.longitude)===qs(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return qs(s.integerValue)===qs(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const i=qs(s.doubleValue),o=qs(a.doubleValue);return i===o?m2(i)===m2(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return lm(t.arrayValue.values||[],e.arrayValue.values||[],vA);case 10:case 11:return function(s,a){const i=s.mapValue.fields||{},o=a.mapValue.fields||{};if(BN(i)!==BN(o))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(o[l]===void 0||!vA(i[l],o[l])))return!1;return!0}(t,e);default:return Cn(52216,{left:t})}}function Rg(t,e){return(t.values||[]).find(n=>vA(n,e))!==void 0}function cm(t,e){if(t===e)return 0;const n=qd(t),r=qd(e);if(n!==r)return sr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return sr(t.booleanValue,e.booleanValue);case 2:return function(a,i){const o=qs(a.integerValue||a.doubleValue),l=qs(i.integerValue||i.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return kN(t.timestampValue,e.timestampValue);case 4:return kN(Ig(t),Ig(e));case 5:return kE(t.stringValue,e.stringValue);case 6:return function(a,i){const o=Kd(a),l=Kd(i);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,i){const o=a.split("/"),l=i.split("/");for(let A=0;A<o.length&&A<l.length;A++){const d=sr(o[A],l[A]);if(d!==0)return d}return sr(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,i){const o=sr(qs(a.latitude),qs(i.latitude));return o!==0?o:sr(qs(a.longitude),qs(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return IN(t.arrayValue,e.arrayValue);case 10:return function(a,i){var p,g,w,b;const o=a.fields||{},l=i.fields||{},A=(p=o[g2])==null?void 0:p.arrayValue,d=(g=l[g2])==null?void 0:g.arrayValue,h=sr(((w=A==null?void 0:A.values)==null?void 0:w.length)||0,((b=d==null?void 0:d.values)==null?void 0:b.length)||0);return h!==0?h:IN(A,d)}(t.mapValue,e.mapValue);case 11:return function(a,i){if(a===F1.mapValue&&i===F1.mapValue)return 0;if(a===F1.mapValue)return 1;if(i===F1.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),A=i.fields||{},d=Object.keys(A);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=kE(l[h],d[h]);if(p!==0)return p;const g=cm(o[l[h]],A[d[h]]);if(g!==0)return g}return sr(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Cn(23264,{he:n})}}function kN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return sr(t,e);const n=zd(t),r=zd(e),s=sr(n.seconds,r.seconds);return s!==0?s:sr(n.nanos,r.nanos)}function IN(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=cm(n[s],r[s]);if(a)return a}return sr(n.length,r.length)}function Am(t){return IE(t)}function IE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=zd(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Kd(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return un.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=IE(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const i of r)a?a=!1:s+=",",s+=`${i}:${IE(n.fields[i])}`;return s+"}"}(t.mapValue):Cn(61005,{value:t})}function jv(t){switch(qd(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sy(t);return e?16+jv(e):16;case 5:return 2*t.stringValue.length;case 6:return Kd(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+jv(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return sf(r.fields,(a,i)=>{s+=a.length+jv(i)}),s}(t.mapValue);default:throw Cn(13486,{value:t})}}function FE(t){return!!t&&"integerValue"in t}function PS(t){return!!t&&"arrayValue"in t}function FN(t){return!!t&&"nullValue"in t}function RN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qv(t){return!!t&&"mapValue"in t}function wz(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[pU])==null?void 0:r.stringValue)===gU}function og(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return sf(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=og(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=og(t.arrayValue.values[n]);return e}return{...t}}function bz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===yz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.value=e}static empty(){return new fo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=og(n)}setAll(e){let n=ti.emptyPath(),r={},s=[];e.forEach((i,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=o.popLast()}i?r[o.lastSegment()]=og(i):s.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Qv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vA(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Qv(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){sf(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new fo(og(this.value))}}function xU(t){const e=[];return sf(t.fields,(n,r)=>{const s=new ti([n]);if(Qv(r)){const a=xU(r.mapValue).fields;if(a.length===0)e.push(s);else for(const i of a)e.push(s.child(i))}else e.push(s)}),new Vo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,r,s,a,i,o){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=i,this.documentState=o}static newInvalidDocument(e){return new Ni(e,0,Nn.min(),Nn.min(),Nn.min(),fo.empty(),0)}static newFoundDocument(e,n,r,s){return new Ni(e,1,n,Nn.min(),r,s,0)}static newNoDocument(e,n){return new Ni(e,2,n,Nn.min(),Nn.min(),fo.empty(),0)}static newUnknownDocument(e,n){return new Ni(e,3,n,Nn.min(),Nn.min(),fo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Nn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ni&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n){this.position=e,this.inclusive=n}}function DN(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],i=t.position[s];if(a.field.isKeyField()?r=un.comparator(un.fromName(i.referenceValue),n.key):r=cm(i,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function UN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vA(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n="asc"){this.field=e,this.dir=n}}function Cz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{}class Ca extends vU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _z(e,n,r):n==="array-contains"?new Bz(e,r):n==="in"?new Nz(e,r):n==="not-in"?new kz(e,r):n==="array-contains-any"?new Iz(e,r):new Ca(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Sz(e,r):new Tz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(cm(n,this.value)):n!==null&&qd(this.value)===qd(n)&&this.matchesComparison(cm(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Cn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yA extends vU{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yA(e,n)}matches(e){return yU(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yU(t){return t.op==="and"}function wU(t){return Ez(t)&&yU(t)}function Ez(t){for(const e of t.filters)if(e instanceof yA)return!1;return!0}function RE(t){if(t instanceof Ca)return t.field.canonicalString()+t.op.toString()+Am(t.value);if(wU(t))return t.filters.map(e=>RE(e)).join(",");{const e=t.filters.map(n=>RE(n)).join(",");return`${t.op}(${e})`}}function bU(t,e){return t instanceof Ca?function(r,s){return s instanceof Ca&&r.op===s.op&&r.field.isEqual(s.field)&&vA(r.value,s.value)}(t,e):t instanceof yA?function(r,s){return s instanceof yA&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,i,o)=>a&&bU(i,s.filters[o]),!0):!1}(t,e):void Cn(19439)}function CU(t){return t instanceof Ca?function(n){return`${n.field.canonicalString()} ${n.op} ${Am(n.value)}`}(t):t instanceof yA?function(n){return n.op.toString()+" {"+n.getFilters().map(CU).join(" ,")+"}"}(t):"Filter"}class _z extends Ca{constructor(e,n,r){super(e,n,r),this.key=un.fromName(r.referenceValue)}matches(e){const n=un.comparator(e.key,this.key);return this.matchesComparison(n)}}class Sz extends Ca{constructor(e,n){super(e,"in",n),this.keys=EU("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Tz extends Ca{constructor(e,n){super(e,"not-in",n),this.keys=EU("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function EU(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>un.fromName(r.referenceValue))}class Bz extends Ca{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return PS(n)&&Rg(n.arrayValue,this.value)}}class Nz extends Ca{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rg(this.value.arrayValue,n)}}class kz extends Ca{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Rg(this.value.arrayValue,n)}}class Iz extends Ca{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!PS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rg(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e,n=null,r=[],s=[],a=null,i=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=i,this.endAt=o,this.Te=null}}function LN(t,e=null,n=[],r=[],s=null,a=null,i=null){return new Fz(t,e,n,r,s,a,i)}function OS(t){const e=In(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>RE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),_y(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Am(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Am(r)).join(",")),e.Te=n}return e.Te}function jS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Cz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UN(t.startAt,e.startAt)&&UN(t.endAt,e.endAt)}function DE(t){return un.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n=null,r=[],s=[],a=null,i="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=i,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Rz(t,e,n,r,s,a,i,o){return new Ty(t,e,n,r,s,a,i,o)}function QS(t){return new Ty(t)}function MN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Dz(t){return t.collectionGroup!==null}function lg(t){const e=In(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let o=new Sa(ti.comparator);return i.filters.forEach(l=>{l.getFlattenedFilters().forEach(A=>{A.isInequality()&&(o=o.add(A.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new v2(a,r))}),n.has(ti.keyField().canonicalString())||e.Ie.push(new v2(ti.keyField(),r))}return e.Ie}function dA(t){const e=In(t);return e.Ee||(e.Ee=Uz(e,lg(t))),e.Ee}function Uz(t,e){if(t.limitType==="F")return LN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new v2(s.field,a)});const n=t.endAt?new x2(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new x2(t.startAt.position,t.startAt.inclusive):null;return LN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function UE(t,e,n){return new Ty(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function By(t,e){return jS(dA(t),dA(e))&&t.limitType===e.limitType}function _U(t){return`${OS(dA(t))}|lt:${t.limitType}`}function b0(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>CU(s)).join(", ")}]`),_y(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Am(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Am(s)).join(",")),`Target(${r})`}(dA(t))}; limitType=${t.limitType})`}function Ny(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):un.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of lg(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(i,o,l){const A=DN(i,o,l);return i.inclusive?A<=0:A<0}(r.startAt,lg(r),s)||r.endAt&&!function(i,o,l){const A=DN(i,o,l);return i.inclusive?A>=0:A>0}(r.endAt,lg(r),s))}(t,e)}function Lz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SU(t){return(e,n)=>{let r=!1;for(const s of lg(t)){const a=Mz(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function Mz(t,e,n){const r=t.field.isKeyField()?un.comparator(e.key,n.key):function(a,i,o){const l=i.data.field(a),A=o.data.field(a);return l!==null&&A!==null?cm(l,A):Cn(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Cn(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){sf(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return AU(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz=new bs(un.comparator);function vu(){return Pz}const TU=new bs(un.comparator);function Qp(...t){let e=TU;for(const n of t)e=e.insert(n.key,n);return e}function BU(t){let e=TU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qf(){return cg()}function NU(){return cg()}function cg(){return new gh(t=>t.toString(),(t,e)=>t.isEqual(e))}const Oz=new bs(un.comparator),jz=new Sa(un.comparator);function ar(...t){let e=jz;for(const n of t)e=e.add(n);return e}const Qz=new Sa(sr);function Hz(){return Qz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:m2(e)?"-0":e}}function kU(t){return{integerValue:""+t}}function Vz(t,e){return mz(e)?kU(e):HS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(){this._=void 0}}function Gz(t,e,n){return t instanceof y2?function(s,a){const i={fields:{[fU]:{stringValue:dU},[mU]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&MS(a)&&(a=Sy(a)),a&&(i.fields[hU]=a),{mapValue:i}}(n,e):t instanceof Dg?FU(t,e):t instanceof Ug?RU(t,e):function(s,a){const i=IU(s,a),o=PN(i)+PN(s.Ae);return FE(i)&&FE(s.Ae)?kU(o):HS(s.serializer,o)}(t,e)}function zz(t,e,n){return t instanceof Dg?FU(t,e):t instanceof Ug?RU(t,e):n}function IU(t,e){return t instanceof w2?function(r){return FE(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class y2 extends ky{}class Dg extends ky{constructor(e){super(),this.elements=e}}function FU(t,e){const n=DU(e);for(const r of t.elements)n.some(s=>vA(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ug extends ky{constructor(e){super(),this.elements=e}}function RU(t,e){let n=DU(e);for(const r of t.elements)n=n.filter(s=>!vA(s,r));return{arrayValue:{values:n}}}class w2 extends ky{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function PN(t){return qs(t.integerValue||t.doubleValue)}function DU(t){return PS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Kz(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Dg&&s instanceof Dg||r instanceof Ug&&s instanceof Ug?lm(r.elements,s.elements,vA):r instanceof w2&&s instanceof w2?vA(r.Ae,s.Ae):r instanceof y2&&s instanceof y2}(t.transform,e.transform)}class qz{constructor(e,n){this.version=e,this.transformResults=n}}class hc{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hc}static exists(e){return new hc(void 0,e)}static updateTime(e){return new hc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Iy{}function UU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new VS(t.key,hc.none()):new hx(t.key,t.data,hc.none());{const n=t.data,r=fo.empty();let s=new Sa(ti.comparator);for(let a of e.fields)if(!s.has(a)){let i=n.field(a);i===null&&a.length>1&&(a=a.popLast(),i=n.field(a)),i===null?r.delete(a):r.set(a,i),s=s.add(a)}return new af(t.key,r,new Vo(s.toArray()),hc.none())}}function Wz(t,e,n){t instanceof hx?function(s,a,i){const o=s.value.clone(),l=jN(s.fieldTransforms,a,i.transformResults);o.setAll(l),a.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof af?function(s,a,i){if(!Hv(s.precondition,a))return void a.convertToUnknownDocument(i.version);const o=jN(s.fieldTransforms,a,i.transformResults),l=a.data;l.setAll(LU(s)),l.setAll(o),a.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,e,n):function(s,a,i){a.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Ag(t,e,n,r){return t instanceof hx?function(a,i,o,l){if(!Hv(a.precondition,i))return o;const A=a.value.clone(),d=QN(a.fieldTransforms,l,i);return A.setAll(d),i.convertToFoundDocument(i.version,A).setHasLocalMutations(),null}(t,e,n,r):t instanceof af?function(a,i,o,l){if(!Hv(a.precondition,i))return o;const A=QN(a.fieldTransforms,l,i),d=i.data;return d.setAll(LU(a)),d.setAll(A),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(a,i,o){return Hv(a.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function $z(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=IU(r.transform,s||null);a!=null&&(n===null&&(n=fo.empty()),n.set(r.field,a))}return n||null}function ON(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&lm(r,s,(a,i)=>Kz(a,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hx extends Iy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class af extends Iy{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function LU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jN(t,e,n){const r=new Map;Nr(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const a=t[s],i=a.transform,o=e.data.field(a.field);r.set(a.field,zz(i,o,n[s]))}return r}function QN(t,e,n){const r=new Map;for(const s of t){const a=s.transform,i=n.data.field(s.field);r.set(s.field,Gz(a,i,e))}return r}class VS extends Iy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yz extends Iy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Wz(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ag(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ag(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NU();return this.mutations.forEach(s=>{const a=e.get(s.key),i=a.overlayedDocument;let o=this.applyToLocalView(i,a.mutatedFields);o=n.has(s.key)?null:o;const l=UU(i,o);l!==null&&r.set(s.key,l),i.isValidDocument()||i.convertToNoDocument(Nn.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ar())}isEqual(e){return this.batchId===e.batchId&&lm(this.mutations,e.mutations,(n,r)=>ON(n,r))&&lm(this.baseMutations,e.baseMutations,(n,r)=>ON(n,r))}}class GS{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Nr(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return Oz}();const a=e.mutations;for(let i=0;i<a.length;i++)s=s.insert(a[i].key,r[i].version);return new GS(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var la,fr;function eK(t){switch(t){case _t.OK:return Cn(64938);case _t.CANCELLED:case _t.UNKNOWN:case _t.DEADLINE_EXCEEDED:case _t.RESOURCE_EXHAUSTED:case _t.INTERNAL:case _t.UNAVAILABLE:case _t.UNAUTHENTICATED:return!1;case _t.INVALID_ARGUMENT:case _t.NOT_FOUND:case _t.ALREADY_EXISTS:case _t.PERMISSION_DENIED:case _t.FAILED_PRECONDITION:case _t.ABORTED:case _t.OUT_OF_RANGE:case _t.UNIMPLEMENTED:case _t.DATA_LOSS:return!0;default:return Cn(15467,{code:t})}}function MU(t){if(t===void 0)return xu("GRPC error has no .code"),_t.UNKNOWN;switch(t){case la.OK:return _t.OK;case la.CANCELLED:return _t.CANCELLED;case la.UNKNOWN:return _t.UNKNOWN;case la.DEADLINE_EXCEEDED:return _t.DEADLINE_EXCEEDED;case la.RESOURCE_EXHAUSTED:return _t.RESOURCE_EXHAUSTED;case la.INTERNAL:return _t.INTERNAL;case la.UNAVAILABLE:return _t.UNAVAILABLE;case la.UNAUTHENTICATED:return _t.UNAUTHENTICATED;case la.INVALID_ARGUMENT:return _t.INVALID_ARGUMENT;case la.NOT_FOUND:return _t.NOT_FOUND;case la.ALREADY_EXISTS:return _t.ALREADY_EXISTS;case la.PERMISSION_DENIED:return _t.PERMISSION_DENIED;case la.FAILED_PRECONDITION:return _t.FAILED_PRECONDITION;case la.ABORTED:return _t.ABORTED;case la.OUT_OF_RANGE:return _t.OUT_OF_RANGE;case la.UNIMPLEMENTED:return _t.UNIMPLEMENTED;case la.DATA_LOSS:return _t.DATA_LOSS;default:return Cn(39323,{code:t})}}(fr=la||(la={}))[fr.OK=0]="OK",fr[fr.CANCELLED=1]="CANCELLED",fr[fr.UNKNOWN=2]="UNKNOWN",fr[fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fr[fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fr[fr.NOT_FOUND=5]="NOT_FOUND",fr[fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",fr[fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",fr[fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",fr[fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fr[fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fr[fr.ABORTED=10]="ABORTED",fr[fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",fr[fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",fr[fr.INTERNAL=13]="INTERNAL",fr[fr.UNAVAILABLE=14]="UNAVAILABLE",fr[fr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tK(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK=new Md([4294967295,4294967295],0);function HN(t){const e=tK().encode(t),n=new ZD;return n.update(e),new Uint8Array(n.digest())}function VN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Md([n,r],0),new Md([s,a],0)]}class zS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hp(`Invalid padding: ${n}`);if(r<0)throw new Hp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hp(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hp(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Md.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Md.fromNumber(r)));return s.compare(nK)===1&&(s=new Md([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=HN(e),[r,s]=VN(n);for(let a=0;a<this.hashCount;a++){const i=this.ye(r,s,a);if(!this.we(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),i=new zS(a,s,n);return r.forEach(o=>i.insert(o)),i}insert(e){if(this.ge===0)return;const n=HN(e),[r,s]=VN(n);for(let a=0;a<this.hashCount;a++){const i=this.ye(r,s,a);this.Se(i)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,mx.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fy(Nn.min(),s,new bs(sr),vu(),ar())}}class mx{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mx(r,n,ar(),ar(),ar())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class PU{constructor(e,n){this.targetId=e,this.Ce=n}}class OU{constructor(e,n,r=ai.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class GN{constructor(){this.ve=0,this.Fe=zN(),this.Me=ai.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ar(),n=ar(),r=ar();return this.Fe.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Cn(38017,{changeType:a})}}),new mx(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=zN()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Nr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rK{constructor(e){this.Ge=e,this.ze=new Map,this.je=vu(),this.Je=R1(),this.He=R1(),this.Ye=new bs(sr)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Cn(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(DE(a))if(r===0){const i=new un(a.path);this.et(n,i,Ni.newNoDocument(i,Nn.min()))}else Nr(r===1,20013,{expectedCount:r});else{const i=this._t(n);if(i!==r){const o=this.ut(e),l=o?this.ct(o,e,i):1;if(l!==0){this.it(n);const A=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,A)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let i,o;try{i=Kd(r).toUint8Array()}catch(l){if(l instanceof uU)return om("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new zS(i,s,a)}catch(l){return om(l instanceof Hp?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const i=this.Ge.ht(),o=`projects/${i.projectId}/databases/${i.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((a,i)=>{const o=this.ot(i);if(o){if(a.current&&DE(o.target)){const l=new un(o.target.path);this.It(l).has(i)||this.Et(i,l)||this.et(i,l,Ni.newNoDocument(l,e))}a.Be&&(n.set(i,a.ke()),a.qe())}});let r=ar();this.He.forEach((a,i)=>{let o=!0;i.forEachWhile(l=>{const A=this.ot(l);return!A||A.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,i)=>i.setReadTime(e));const s=new Fy(e,n,this.Ye,this.je,r);return this.je=vu(),this.Je=R1(),this.He=R1(),this.Ye=new bs(sr),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new GN,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Sa(sr),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Sa(sr),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||$t("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new GN),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function R1(){return new bs(un.comparator)}function zN(){return new bs(un.comparator)}const sK={asc:"ASCENDING",desc:"DESCENDING"},aK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iK={and:"AND",or:"OR"};class oK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function LE(t,e){return t.useProto3Json||_y(e)?e:{value:e}}function b2(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lK(t,e){return b2(t,e.toTimestamp())}function fA(t){return Nr(!!t,49232),Nn.fromTimestamp(function(n){const r=zd(n);return new ss(r.seconds,r.nanos)}(t))}function KS(t,e){return ME(t,e).canonicalString()}function ME(t,e){const n=function(s){return new rs(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QU(t){const e=rs.fromString(t);return Nr(KU(e),10190,{key:e.toString()}),e}function PE(t,e){return KS(t.databaseId,e.path)}function Gb(t,e){const n=QU(e);if(n.get(1)!==t.databaseId.projectId)throw new Zt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Zt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new un(VU(n))}function HU(t,e){return KS(t.databaseId,e)}function cK(t){const e=QU(t);return e.length===4?rs.emptyPath():VU(e)}function OE(t){return new rs(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VU(t){return Nr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function KN(t,e,n){return{name:PE(t,e),fields:n.value.mapValue.fields}}function AK(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(A){return A==="NO_CHANGE"?0:A==="ADD"?1:A==="REMOVE"?2:A==="CURRENT"?3:A==="RESET"?4:Cn(39313,{state:A})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(A,d){return A.useProto3Json?(Nr(d===void 0||typeof d=="string",58123),ai.fromBase64String(d||"")):(Nr(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ai.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,o=i&&function(A){const d=A.code===void 0?_t.UNKNOWN:MU(A.code);return new Zt(d,A.message||"")}(i);n=new OU(r,s,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Gb(t,r.document.name),a=fA(r.document.updateTime),i=r.document.createTime?fA(r.document.createTime):Nn.min(),o=new fo({mapValue:{fields:r.document.fields}}),l=Ni.newFoundDocument(s,a,i,o),A=r.targetIds||[],d=r.removedTargetIds||[];n=new Vv(A,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Gb(t,r.document),a=r.readTime?fA(r.readTime):Nn.min(),i=Ni.newNoDocument(s,a),o=r.removedTargetIds||[];n=new Vv([],o,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Gb(t,r.document),a=r.removedTargetIds||[];n=new Vv([],a,s,null)}else{if(!("filter"in e))return Cn(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,i=new Zz(s,a),o=r.targetId;n=new PU(o,i)}}return n}function uK(t,e){let n;if(e instanceof hx)n={update:KN(t,e.key,e.value)};else if(e instanceof VS)n={delete:PE(t,e.key)};else if(e instanceof af)n={update:KN(t,e.key,e.data),updateMask:yK(e.fieldMask)};else{if(!(e instanceof Yz))return Cn(16599,{Vt:e.type});n={verify:PE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,i){const o=i.transform;if(o instanceof y2)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Dg)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ug)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof w2)return{fieldPath:i.field.canonicalString(),increment:o.Ae};throw Cn(20930,{transform:i.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:lK(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Cn(27497)}(t,e.precondition)),n}function dK(t,e){return t&&t.length>0?(Nr(e!==void 0,14353),t.map(n=>function(s,a){let i=s.updateTime?fA(s.updateTime):fA(a);return i.isEqual(Nn.min())&&(i=fA(a)),new qz(i,s.transformResults||[])}(n,e))):[]}function fK(t,e){return{documents:[HU(t,e.path)]}}function hK(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HU(t,s);const a=function(A){if(A.length!==0)return zU(yA.create(A,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const i=function(A){if(A.length!==0)return A.map(d=>function(p){return{field:C0(p.field),direction:gK(p.dir)}}(d))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=LE(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(A){return{before:A.inclusive,values:A.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(A){return{before:!A.inclusive,values:A.position}}(e.endAt)),{ft:n,parent:s}}function mK(t){let e=cK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Nr(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=function(h){const p=GU(h);return p instanceof yA&&wU(p)?p.getFilters():[p]}(n.where));let i=[];n.orderBy&&(i=function(h){return h.map(p=>function(w){return new v2(E0(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(h){let p;return p=typeof h=="object"?h.value:h,_y(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new x2(g,p)}(n.startAt));let A=null;return n.endAt&&(A=function(h){const p=!h.before,g=h.values||[];return new x2(g,p)}(n.endAt)),Rz(e,s,i,a,o,"F",l,A)}function pK(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Cn(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GU(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=E0(n.unaryFilter.field);return Ca.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=E0(n.unaryFilter.field);return Ca.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=E0(n.unaryFilter.field);return Ca.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=E0(n.unaryFilter.field);return Ca.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Cn(61313);default:return Cn(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ca.create(E0(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Cn(58110);default:return Cn(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yA.create(n.compositeFilter.filters.map(r=>GU(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Cn(1026)}}(n.compositeFilter.op))}(t):Cn(30097,{filter:t})}function gK(t){return sK[t]}function xK(t){return aK[t]}function vK(t){return iK[t]}function C0(t){return{fieldPath:t.canonicalString()}}function E0(t){return ti.fromServerFormat(t.fieldPath)}function zU(t){return t instanceof Ca?function(n){if(n.op==="=="){if(RN(n.value))return{unaryFilter:{field:C0(n.field),op:"IS_NAN"}};if(FN(n.value))return{unaryFilter:{field:C0(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RN(n.value))return{unaryFilter:{field:C0(n.field),op:"IS_NOT_NAN"}};if(FN(n.value))return{unaryFilter:{field:C0(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:C0(n.field),op:xK(n.op),value:n.value}}}(t):t instanceof yA?function(n){const r=n.getFilters().map(s=>zU(s));return r.length===1?r[0]:{compositeFilter:{op:vK(n.op),filters:r}}}(t):Cn(54877,{filter:t})}function yK(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n,r,s,a=Nn.min(),i=Nn.min(),o=ai.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Sd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Sd(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(e){this.yt=e}}function bK(t){const e=mK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?UE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CK{constructor(){this.Cn=new EK}addToCollectionParentIndex(e,n){return this.Cn.add(n),wt.resolve()}getCollectionParents(e,n){return wt.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return wt.resolve()}deleteFieldIndex(e,n){return wt.resolve()}deleteAllFieldIndexes(e){return wt.resolve()}createTargetIndexes(e,n){return wt.resolve()}getDocumentsMatchingTarget(e,n){return wt.resolve(null)}getIndexType(e,n){return wt.resolve(0)}getFieldIndexes(e,n){return wt.resolve([])}getNextCollectionGroupToUpdate(e){return wt.resolve(null)}getMinOffset(e,n){return wt.resolve(Gd.min())}getMinOffsetFromCollectionGroup(e,n){return wt.resolve(Gd.min())}updateCollectionGroup(e,n,r){return wt.resolve()}updateIndexEntries(e,n){return wt.resolve()}}class EK{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Sa(rs.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Sa(rs.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qU=41943040;class Ao{static withCacheSize(e){return new Ao(e,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ao.DEFAULT_COLLECTION_PERCENTILE=10,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ao.DEFAULT=new Ao(qU,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ao.DISABLED=new Ao(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new um(0)}static cr(){return new um(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="LruGarbageCollector",_K=1048576;function $N([t,e],[n,r]){const s=sr(t,n);return s===0?sr(e,r):s}class SK{constructor(e){this.Ir=e,this.buffer=new Sa($N),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();$N(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TK{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){$t(WN,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Sm(n)?$t(WN,"Ignoring IndexedDB error during garbage collection: ",n):await _m(n)}await this.Vr(3e5)})}}class BK{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return wt.resolve(Ey.ce);const r=new SK(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($t("LruGarbageCollector","Garbage collection skipped; disabled"),wt.resolve(qN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($t("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qN):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,a,i,o,l,A;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?($t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,i=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,o=Date.now(),this.removeTargets(e,r,n))).next(h=>(a=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(A=Date.now(),w0()<=rr.DEBUG&&$t("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-d}ms
	Determined least recently used ${s} in `+(o-i)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(A-l)+`ms
Total Duration: ${A-d}ms`),wt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:h})))}}function NK(t,e){return new BK(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK{constructor(){this.changes=new gh(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ni.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?wt.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ag(r.mutation,s,Vo.empty(),ss.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ar()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ar()){const s=Qf();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let i=Qp();return a.forEach((o,l)=>{i=i.insert(o,l.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=Qf();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ar()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((i,o)=>{n.set(i,o)})})}computeViews(e,n,r,s){let a=vu();const i=cg(),o=function(){return cg()}();return n.forEach((l,A)=>{const d=r.get(A.key);s.has(A.key)&&(d===void 0||d.mutation instanceof af)?a=a.insert(A.key,A):d!==void 0?(i.set(A.key,d.mutation.getFieldMask()),Ag(d.mutation,A,d.mutation.getFieldMask(),ss.now())):i.set(A.key,Vo.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((A,d)=>i.set(A,d)),n.forEach((A,d)=>o.set(A,new IK(d,i.get(A)??null))),o))}recalculateAndSaveOverlays(e,n){const r=cg();let s=new bs((i,o)=>i-o),a=ar();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const o of i)o.keys().forEach(l=>{const A=n.get(l);if(A===null)return;let d=r.get(l)||Vo.empty();d=o.applyToLocalView(A,d),r.set(l,d);const h=(s.get(o.batchId)||ar()).add(l);s=s.insert(o.batchId,h)})}).next(()=>{const i=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),A=l.key,d=l.value,h=NU();d.forEach(p=>{if(!a.has(p)){const g=UU(n.get(p),r.get(p));g!==null&&h.set(p,g),a=a.add(p)}}),i.push(this.documentOverlayCache.saveOverlays(e,A,h))}return wt.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(i){return un.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Dz(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const i=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):wt.resolve(Qf());let o=kg,l=a;return i.next(A=>wt.forEach(A,(d,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),a.get(d)?wt.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,A,a)).next(()=>this.computeViews(e,l,A,ar())).next(d=>({batchId:o,changes:BU(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new un(n)).next(r=>{let s=Qp();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let i=Qp();return this.indexManager.getCollectionParents(e,a).next(o=>wt.forEach(o,l=>{const A=function(h,p){return new Ty(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,A,r,s).next(d=>{d.forEach((h,p)=>{i=i.insert(h,p)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(a=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(i=>{a.forEach((l,A)=>{const d=A.getKey();i.get(d)===null&&(i=i.insert(d,Ni.newInvalidDocument(d)))});let o=Qp();return i.forEach((l,A)=>{const d=a.get(l);d!==void 0&&Ag(d.mutation,A,Vo.empty(),ss.now()),Ny(n,A)&&(o=o.insert(l,A))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return wt.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:fA(s.createTime)}}(n)),wt.resolve()}getNamedQuery(e,n){return wt.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:bK(s.bundledQuery),readTime:fA(s.readTime)}}(n)),wt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(){this.overlays=new bs(un.comparator),this.qr=new Map}getOverlay(e,n){return wt.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qf();return wt.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.St(e,n,a)}),wt.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),wt.resolve()}getOverlaysForCollection(e,n,r){const s=Qf(),a=n.length+1,i=new un(n.child("")),o=this.overlays.getIteratorFrom(i);for(;o.hasNext();){const l=o.getNext().value,A=l.getKey();if(!n.isPrefixOf(A.path))break;A.path.length===a&&l.largestBatchId>r&&s.set(l.getKey(),l)}return wt.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new bs((A,d)=>A-d);const i=this.overlays.getIterator();for(;i.hasNext();){const A=i.getNext().value;if(A.getKey().getCollectionGroup()===n&&A.largestBatchId>r){let d=a.get(A.largestBatchId);d===null&&(d=Qf(),a=a.insert(A.largestBatchId,d)),d.set(A.getKey(),A)}}const o=Qf(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((A,d)=>o.set(A,d)),!(o.size()>=s)););return wt.resolve(o)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new Xz(n,r));let a=this.qr.get(n);a===void 0&&(a=ar(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(){this.sessionToken=ai.EMPTY_BYTE_STRING}getSessionToken(e){return wt.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,wt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.Qr=new Sa(Pa.$r),this.Ur=new Sa(Pa.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Pa(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Pa(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new un(new rs([])),r=new Pa(n,e),s=new Pa(n,e+1),a=[];return this.Ur.forEachInRange([r,s],i=>{this.Gr(i),a.push(i.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new un(new rs([])),r=new Pa(n,e),s=new Pa(n,e+1);let a=ar();return this.Ur.forEachInRange([r,s],i=>{a=a.add(i.key)}),a}containsKey(e){const n=new Pa(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pa{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return un.comparator(e.key,n.key)||sr(e.Yr,n.Yr)}static Kr(e,n){return sr(e.Yr,n.Yr)||un.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Sa(Pa.$r)}checkEmpty(e){return wt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Jz(a,n,r,s);this.mutationQueue.push(i);for(const o of s)this.Zr=this.Zr.add(new Pa(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return wt.resolve(i)}lookupMutationBatch(e,n){return wt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),a=s<0?0:s;return wt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return wt.resolve(this.mutationQueue.length===0?LS:this.tr-1)}getAllMutationBatches(e){return wt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pa(n,0),s=new Pa(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],i=>{const o=this.Xr(i.Yr);a.push(o)}),wt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Sa(sr);return n.forEach(s=>{const a=new Pa(s,0),i=new Pa(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,i],o=>{r=r.add(o.Yr)})}),wt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;un.isDocumentKey(a)||(a=a.child(""));const i=new Pa(new un(a),0);let o=new Sa(sr);return this.Zr.forEachWhile(l=>{const A=l.key.path;return!!r.isPrefixOf(A)&&(A.length===s&&(o=o.add(l.Yr)),!0)},i),wt.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Nr(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return wt.forEach(n.mutations,s=>{const a=new Pa(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Pa(n,0),s=this.Zr.firstAfterOrEqual(r);return wt.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,wt.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(e){this.ri=e,this.docs=function(){return new bs(un.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,i=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return wt.resolve(r?r.document.mutableCopy():Ni.newInvalidDocument(n))}getEntries(e,n){let r=vu();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Ni.newInvalidDocument(s))}),wt.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=vu();const i=n.path,o=new un(i.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:A,value:{document:d}}=l.getNext();if(!i.isPrefixOf(A.path))break;A.path.length>i.length+1||uz(Az(d),r)<=0||(s.has(d.key)||Ny(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return wt.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Cn(9500)}ii(e,n){return wt.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new PK(this)}getSize(e){return wt.resolve(this.size)}}class PK extends kK{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),wt.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(e){this.persistence=e,this.si=new gh(n=>OS(n),jS),this.lastRemoteSnapshotVersion=Nn.min(),this.highestTargetId=0,this.oi=0,this._i=new qS,this.targetCount=0,this.ai=um.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),wt.resolve()}getLastRemoteSnapshotVersion(e){return wt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return wt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),wt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),wt.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new um(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,wt.resolve()}updateTargetData(e,n){return this.Pr(n),wt.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,wt.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.si.forEach((i,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(i),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),wt.waitFor(a).next(()=>s)}getTargetCount(e){return wt.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return wt.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),wt.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(i=>{a.push(s.markPotentiallyOrphaned(e,i))}),wt.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),wt.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return wt.resolve(r)}containsKey(e,n){return wt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ey(0),this.li=!1,this.li=!0,this.hi=new UK,this.referenceDelegate=e(this),this.Pi=new OK(this),this.indexManager=new CK,this.remoteDocumentCache=function(s){return new MK(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new wK(n),this.Ii=new RK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new LK(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){$t("MemoryPersistence","Starting transaction:",e);const s=new jK(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ai(e,n){return wt.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class jK extends fz{constructor(e){super(),this.currentSequenceNumber=e}}class WS{constructor(e){this.persistence=e,this.Ri=new qS,this.Vi=null}static mi(e){return new WS(e)}get fi(){if(this.Vi)return this.Vi;throw Cn(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),wt.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),wt.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),wt.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return wt.forEach(this.fi,r=>{const s=un.fromPath(r);return this.gi(e,s).next(a=>{a||n.removeEntry(s,Nn.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return wt.or([()=>wt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class C2{constructor(e,n){this.persistence=e,this.pi=new gh(r=>pz(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=NK(this,n)}static mi(e,n){return new C2(e,n)}Ei(){}di(e){return wt.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return wt.forEach(this.pi,(r,s)=>this.br(e,r,s).next(a=>a?wt.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,i=>this.br(e,i,n).next(o=>{o||(r++,a.removeEntry(i,Nn.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),wt.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),wt.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),wt.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),wt.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jv(e.data.value)),n}br(e,n,r){return wt.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return wt.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ar(),s=ar();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new $S(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return x9()?8:hz(Ui())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ys(e,n).next(i=>{a.result=i}).next(()=>{if(!a.result)return this.ws(e,n,s,r).next(i=>{a.result=i})}).next(()=>{if(a.result)return;const i=new QK;return this.Ss(e,n,i).next(o=>{if(a.result=o,this.Vs)return this.bs(e,n,i,o.size)})}).next(()=>a.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(w0()<=rr.DEBUG&&$t("QueryEngine","SDK will not create cache indexes for query:",b0(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),wt.resolve()):(w0()<=rr.DEBUG&&$t("QueryEngine","Query:",b0(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(w0()<=rr.DEBUG&&$t("QueryEngine","The SDK decides to create cache indexes for query:",b0(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dA(n))):wt.resolve())}ys(e,n){if(MN(n))return wt.resolve(null);let r=dA(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=UE(n,null,"F"),r=dA(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const i=ar(...a);return this.ps.getDocuments(e,i).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const A=this.Ds(n,o);return this.Cs(n,A,i,l.readTime)?this.ys(e,UE(n,null,"F")):this.vs(e,A,n,l)}))})))}ws(e,n,r,s){return MN(n)||s.isEqual(Nn.min())?wt.resolve(null):this.ps.getDocuments(e,r).next(a=>{const i=this.Ds(n,a);return this.Cs(n,i,r,s)?wt.resolve(null):(w0()<=rr.DEBUG&&$t("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),b0(n)),this.vs(e,i,n,cz(s,kg)).next(o=>o))})}Ds(e,n){let r=new Sa(SU(e));return n.forEach((s,a)=>{Ny(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return w0()<=rr.DEBUG&&$t("QueryEngine","Using full collection scan to execute query:",b0(n)),this.ps.getDocumentsMatchingQuery(e,n,Gd.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(i=>{a=a.insert(i.key,i)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="LocalStore",VK=3e8;class GK{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new bs(sr),this.xs=new gh(a=>OS(a),jS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FK(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function zK(t,e,n,r){return new GK(t,e,n,r)}async function $U(t,e){const n=In(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const i=[],o=[];let l=ar();for(const A of s){i.push(A.batchId);for(const d of A.mutations)l=l.add(d.key)}for(const A of a){o.push(A.batchId);for(const d of A.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(A=>({Ls:A,removedBatchIds:i,addedBatchIds:o}))})})}function KK(t,e){const n=In(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,A,d){const h=A.batch,p=h.keys();let g=wt.resolve();return p.forEach(w=>{g=g.next(()=>d.getEntry(l,w)).next(b=>{const E=A.docVersions.get(w);Nr(E!==null,48541),b.version.compareTo(E)<0&&(h.applyToRemoteDocument(b,A),b.isValidDocument()&&(b.setReadTime(A.commitVersion),d.addEntry(b)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=ar();for(let A=0;A<o.mutationResults.length;++A)o.mutationResults[A].transformResults.length>0&&(l=l.add(o.batch.mutations[A].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function YU(t){const e=In(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function qK(t,e){const n=In(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const o=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;o.push(n.Pi.removeMatchingKeys(a,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(a,d.addedDocuments,h)));let g=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(ai.EMPTY_BYTE_STRING,Nn.min()).withLastLimboFreeSnapshotVersion(Nn.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(h,g),function(b,E,T){return b.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=VK?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,g,d)&&o.push(n.Pi.updateTargetData(a,g))});let l=vu(),A=ar();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))}),o.push(WK(a,i,e.documentUpdates).next(d=>{l=d.ks,A=d.qs})),!r.isEqual(Nn.min())){const d=n.Pi.getLastRemoteSnapshotVersion(a).next(h=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(d)}return wt.waitFor(o).next(()=>i.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,A)).next(()=>l)}).then(a=>(n.Ms=s,a))}function WK(t,e,n){let r=ar(),s=ar();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let i=vu();return n.forEach((o,l)=>{const A=a.get(o);l.isFoundDocument()!==A.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(Nn.min())?(e.removeEntry(o,l.readTime),i=i.insert(o,l)):!A.isValidDocument()||l.version.compareTo(A.version)>0||l.version.compareTo(A.version)===0&&A.hasPendingWrites?(e.addEntry(l),i=i.insert(o,l)):$t(YS,"Ignoring outdated watch update for ",o,". Current version:",A.version," Watch version:",l.version)}),{ks:i,qs:s}})}function $K(t,e){const n=In(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=LS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YK(t,e){const n=In(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(a=>a?(s=a,wt.resolve(s)):n.Pi.allocateTargetId(r).next(i=>(s=new Sd(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function jE(t,e,n){const r=In(t),s=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!Sm(i))throw i;$t(YS,`Failed to update sequence numbers for target ${e}: ${i}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function YN(t,e,n){const r=In(t);let s=Nn.min(),a=ar();return r.persistence.runTransaction("Execute query","readwrite",i=>function(l,A,d){const h=In(l),p=h.xs.get(d);return p!==void 0?wt.resolve(h.Ms.get(p)):h.Pi.getTargetData(A,d)}(r,i,dA(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(i,o.targetId).next(l=>{a=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(i,e,n?s:Nn.min(),n?a:ar())).next(o=>(JK(r,Lz(e),o),{documents:o,Qs:a})))}function JK(t,e,n){let r=t.Os.get(e)||Nn.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class JN{constructor(){this.activeTargetIds=Hz()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XK{constructor(){this.Mo=new JN,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new JN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="ConnectivityMonitor";class ZN{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){$t(XN,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){$t(XN,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D1=null;function QE(){return D1===null?D1=function(){return 268435456+Math.round(2147483648*Math.random())}():D1++,"0x"+D1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="RestConnection",eq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tq{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===p2?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,a){const i=QE(),o=this.zo(e,n.toUriEncodedString());$t(zb,`Sending RPC '${e}' ${i}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,a);const{host:A}=new URL(o),d=ym(A);return this.Jo(e,o,l,r,d).then(h=>($t(zb,`Received RPC '${e}' ${i}: `,h),h),h=>{throw om(zb,`RPC '${e}' ${i} failed with error: `,h,"url: ",o,"request:",r),h})}Ho(e,n,r,s,a,i){return this.Go(e,n,r,s,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Em}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}zo(e,n){const r=eq[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="WebChannelConnection";class rq extends tq{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const i=QE();return new Promise((o,l)=>{const A=new eU;A.setWithCredentials(!0),A.listenOnce(tU.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case Ov.NO_ERROR:const h=A.getResponseJson();$t(xi,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Ov.TIMEOUT:$t(xi,`RPC '${e}' ${i} timed out`),l(new Zt(_t.DEADLINE_EXCEEDED,"Request time out"));break;case Ov.HTTP_ERROR:const p=A.getStatus();if($t(xi,`RPC '${e}' ${i} failed with status:`,p,"response text:",A.getResponseText()),p>0){let g=A.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const b=function(T){const I=T.toLowerCase().replace(/_/g,"-");return Object.values(_t).indexOf(I)>=0?I:_t.UNKNOWN}(w.status);l(new Zt(b,w.message))}else l(new Zt(_t.UNKNOWN,"Server responded with status "+A.getStatus()))}else l(new Zt(_t.UNAVAILABLE,"Connection failed."));break;default:Cn(9055,{l_:e,streamId:i,h_:A.getLastErrorCode(),P_:A.getLastError()})}}finally{$t(xi,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);$t(xi,`RPC '${e}' ${i} sending request:`,s),A.send(n,"POST",d,r,15)})}T_(e,n,r){const s=QE(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=sU(),o=rU(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},A=this.longPollingOptions.timeoutSeconds;A!==void 0&&(l.longPollingTimeout=Math.round(1e3*A)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=a.join("");$t(xi,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=i.createWebChannel(d,l);this.I_(h);let p=!1,g=!1;const w=new nq({Yo:E=>{g?$t(xi,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(p||($t(xi,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),$t(xi,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},Zo:()=>h.close()}),b=(E,T,I)=>{E.listen(T,k=>{try{I(k)}catch(F){setTimeout(()=>{throw F},0)}})};return b(h,jp.EventType.OPEN,()=>{g||($t(xi,`RPC '${e}' stream ${s} transport opened.`),w.o_())}),b(h,jp.EventType.CLOSE,()=>{g||(g=!0,$t(xi,`RPC '${e}' stream ${s} transport closed`),w.a_(),this.E_(h))}),b(h,jp.EventType.ERROR,E=>{g||(g=!0,om(xi,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),w.a_(new Zt(_t.UNAVAILABLE,"The operation could not be completed")))}),b(h,jp.EventType.MESSAGE,E=>{var T;if(!g){const I=E.data[0];Nr(!!I,16349);const k=I,F=(k==null?void 0:k.error)||((T=k[0])==null?void 0:T.error);if(F){$t(xi,`RPC '${e}' stream ${s} received error:`,F);const D=F.status;let P=function(B){const V=la[B];if(V!==void 0)return MU(V)}(D),S=F.message;P===void 0&&(P=_t.INTERNAL,S="Unknown error status: "+D+" with message "+F.message),g=!0,w.a_(new Zt(P,S)),h.close()}else $t(xi,`RPC '${e}' stream ${s} received:`,I),w.u_(I)}}),b(o,nU.STAT_EVENT,E=>{E.stat===NE.PROXY?$t(xi,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===NE.NOPROXY&&$t(xi,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Kb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t){return new oK(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&$t("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3="PersistentStream";class XU{constructor(e,n,r,s,a,i,o,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JU(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===_t.RESOURCE_EXHAUSTED?(xu(n.toString()),xu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===_t.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Zt(_t.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return $t(e3,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():($t(e3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sq extends XU{constructor(e,n,r,s,a,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=AK(this.serializer,e),r=function(a){if(!("targetChange"in a))return Nn.min();const i=a.targetChange;return i.targetIds&&i.targetIds.length?Nn.min():i.readTime?fA(i.readTime):Nn.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=OE(this.serializer),n.addTarget=function(a,i){let o;const l=i.target;if(o=DE(l)?{documents:fK(a,l)}:{query:hK(a,l).ft},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=jU(a,i.resumeToken);const A=LE(a,i.expectedCount);A!==null&&(o.expectedCount=A)}else if(i.snapshotVersion.compareTo(Nn.min())>0){o.readTime=b2(a,i.snapshotVersion.toTimestamp());const A=LE(a,i.expectedCount);A!==null&&(o.expectedCount=A)}return o}(this.serializer,e);const r=pK(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=OE(this.serializer),n.removeTarget=e,this.q_(n)}}class aq extends XU{constructor(e,n,r,s,a,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Nr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Nr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Nr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=dK(e.writeResults,e.commitTime),r=fA(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=OE(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>uK(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{}class oq extends iq{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Zt(_t.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,i])=>this.connection.Go(e,ME(n,r),s,a,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Zt(_t.UNKNOWN,a.toString())})}Ho(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Ho(e,ME(n,r),s,i,o,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Zt(_t.UNKNOWN,i.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class lq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xu(n),this.aa=!1):$t("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="RemoteStore";class cq{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(i=>{r.enqueueAndForget(async()=>{xh(this)&&($t(ih,"Restarting streams for network reachability change."),await async function(l){const A=In(l);A.Ea.add(4),await px(A),A.Ra.set("Unknown"),A.Ea.delete(4),await Dy(A)}(this))})}),this.Ra=new lq(r,s)}}async function Dy(t){if(xh(t))for(const e of t.da)await e(!0)}async function px(t){for(const e of t.da)await e(!1)}function ZU(t,e){const n=In(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),e5(n)?ZS(n):Tm(n).O_()&&XS(n,e))}function JS(t,e){const n=In(t),r=Tm(n);n.Ia.delete(e),r.O_()&&eL(n,e),n.Ia.size===0&&(r.O_()?r.L_():xh(n)&&n.Ra.set("Unknown"))}function XS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tm(t).Y_(e)}function eL(t,e){t.Va.Ue(e),Tm(t).Z_(e)}function ZS(t){t.Va=new rK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Tm(t).start(),t.Ra.ua()}function e5(t){return xh(t)&&!Tm(t).x_()&&t.Ia.size>0}function xh(t){return In(t).Ea.size===0}function tL(t){t.Va=void 0}async function Aq(t){t.Ra.set("Online")}async function uq(t){t.Ia.forEach((e,n)=>{XS(t,e)})}async function dq(t,e){tL(t),e5(t)?(t.Ra.ha(e),ZS(t)):t.Ra.set("Unknown")}async function fq(t,e,n){if(t.Ra.set("Online"),e instanceof OU&&e.state===2&&e.cause)try{await async function(s,a){const i=a.cause;for(const o of a.targetIds)s.Ia.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s.Ia.delete(o),s.Va.removeTarget(o))}(t,e)}catch(r){$t(ih,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await E2(t,r)}else if(e instanceof Vv?t.Va.Ze(e):e instanceof PU?t.Va.st(e):t.Va.tt(e),!n.isEqual(Nn.min()))try{const r=await YU(t.localStore);n.compareTo(r)>=0&&await function(a,i){const o=a.Va.Tt(i);return o.targetChanges.forEach((l,A)=>{if(l.resumeToken.approximateByteSize()>0){const d=a.Ia.get(A);d&&a.Ia.set(A,d.withResumeToken(l.resumeToken,i))}}),o.targetMismatches.forEach((l,A)=>{const d=a.Ia.get(l);if(!d)return;a.Ia.set(l,d.withResumeToken(ai.EMPTY_BYTE_STRING,d.snapshotVersion)),eL(a,l);const h=new Sd(d.target,l,A,d.sequenceNumber);XS(a,h)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){$t(ih,"Failed to raise snapshot:",r),await E2(t,r)}}async function E2(t,e,n){if(!Sm(e))throw e;t.Ea.add(1),await px(t),t.Ra.set("Offline"),n||(n=()=>YU(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$t(ih,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Dy(t)})}function nL(t,e){return e().catch(n=>E2(t,n,e))}async function Uy(t){const e=In(t),n=Wd(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:LS;for(;hq(e);)try{const s=await $K(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,mq(e,s)}catch(s){await E2(e,s)}rL(e)&&sL(e)}function hq(t){return xh(t)&&t.Ta.length<10}function mq(t,e){t.Ta.push(e);const n=Wd(t);n.O_()&&n.X_&&n.ea(e.mutations)}function rL(t){return xh(t)&&!Wd(t).x_()&&t.Ta.length>0}function sL(t){Wd(t).start()}async function pq(t){Wd(t).ra()}async function gq(t){const e=Wd(t);for(const n of t.Ta)e.ea(n.mutations)}async function xq(t,e,n){const r=t.Ta.shift(),s=GS.from(r,e,n);await nL(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Uy(t)}async function vq(t,e){e&&Wd(t).X_&&await async function(r,s){if(function(i){return eK(i)&&i!==_t.ABORTED}(s.code)){const a=r.Ta.shift();Wd(r).B_(),await nL(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Uy(r)}}(t,e),rL(t)&&sL(t)}async function t3(t,e){const n=In(t);n.asyncQueue.verifyOperationInProgress(),$t(ih,"RemoteStore received new credentials");const r=xh(n);n.Ea.add(3),await px(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dy(n)}async function yq(t,e){const n=In(t);e?(n.Ea.delete(2),await Dy(n)):e||(n.Ea.add(2),await px(n),n.Ra.set("Unknown"))}function Tm(t){return t.ma||(t.ma=function(n,r,s){const a=In(n);return a.sa(),new sq(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Xo:Aq.bind(null,t),t_:uq.bind(null,t),r_:dq.bind(null,t),H_:fq.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),e5(t)?ZS(t):t.Ra.set("Unknown")):(await t.ma.stop(),tL(t))})),t.ma}function Wd(t){return t.fa||(t.fa=function(n,r,s){const a=In(n);return a.sa(),new aq(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:pq.bind(null,t),r_:vq.bind(null,t),ta:gq.bind(null,t),na:xq.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Uy(t)):(await t.fa.stop(),t.Ta.length>0&&($t(ih,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new uu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const i=Date.now()+r,o=new t5(e,n,i,s,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Zt(_t.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function n5(t,e){if(xu("AsyncQueue",`${e}: ${t}`),Sm(t))return new Zt(_t.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{static emptySet(e){return new j0(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||un.comparator(n.key,r.key):(n,r)=>un.comparator(n.key,r.key),this.keyedMap=Qp(),this.sortedSet=new bs(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof j0)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new j0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(){this.ga=new bs(un.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Cn(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class dm{constructor(e,n,r,s,a,i,o,l,A){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=A}static fromInitialDocuments(e,n,r,s,a){const i=[];return n.forEach(o=>{i.push({type:0,doc:o})}),new dm(e,n,j0.emptySet(n),i,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&By(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class bq{constructor(){this.queries=r3(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=In(n),a=s.queries;s.queries=r3(),a.forEach((i,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new Zt(_t.ABORTED,"Firestore shutting down"))}}function r3(){return new gh(t=>_U(t),By)}async function aL(t,e){const n=In(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new wq,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(i){const o=n5(i,`Initialization of query '${b0(e.query)}' failed`);return void e.onError(o)}n.queries.set(s,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&r5(n)}async function iL(t,e){const n=In(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const i=a.Sa.indexOf(e);i>=0&&(a.Sa.splice(i,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Cq(t,e){const n=In(t);let r=!1;for(const s of e){const a=s.query,i=n.queries.get(a);if(i){for(const o of i.Sa)o.Fa(s)&&(r=!0);i.wa=s}}r&&r5(n)}function Eq(t,e,n){const r=In(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function r5(t){t.Ca.forEach(e=>{e.next()})}var HE,s3;(s3=HE||(HE={})).Ma="default",s3.Cache="cache";class oL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new dm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=dm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==HE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.key=e}}class cL{constructor(e){this.key=e}}class _q{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ar(),this.mutatedKeys=ar(),this.eu=SU(e),this.tu=new j0(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new n3,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,i=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,A=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),g=Ny(this.query,h)?h:null,w=!!p&&this.mutatedKeys.has(p.key),b=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;p&&g?p.data.isEqual(g.data)?w!==b&&(r.track({type:3,doc:g}),E=!0):this.su(p,g)||(r.track({type:2,doc:g}),E=!0,(l&&this.eu(g,l)>0||A&&this.eu(g,A)<0)&&(o=!0)):!p&&g?(r.track({type:0,doc:g}),E=!0):p&&!g&&(r.track({type:1,doc:p}),E=!0,(l||A)&&(o=!0)),E&&(g?(i=i.add(g),a=b?a.add(d):a.delete(d)):(i=i.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{tu:i,iu:r,Cs:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((d,h)=>function(g,w){const b=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Cn(20277,{Rt:E})}};return b(g)-b(w)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const o=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,A=l!==this.Za;return this.Za=l,i.length!==0||A?{snapshot:new dm(this.query,e.tu,a,i,e.mutatedKeys,l===0,A,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new n3,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ar(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new cL(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new lL(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ar();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return dm.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const s5="SyncEngine";class Sq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Tq{constructor(e){this.key=e,this.hu=!1}}class Bq{constructor(e,n,r,s,a,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new gh(o=>_U(o),By),this.Iu=new Map,this.Eu=new Set,this.du=new bs(un.comparator),this.Au=new Map,this.Ru=new qS,this.Vu={},this.mu=new Map,this.fu=um.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Nq(t,e,n=!0){const r=mL(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await AL(r,e,n,!0),s}async function kq(t,e){const n=mL(t);await AL(n,e,!0,!1)}async function AL(t,e,n,r){const s=await YK(t.localStore,dA(e)),a=s.targetId,i=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await Iq(t,e,a,i==="current",s.resumeToken)),t.isPrimaryClient&&n&&ZU(t.remoteStore,s),o}async function Iq(t,e,n,r,s){t.pu=(h,p,g)=>async function(b,E,T,I){let k=E.view.ru(T);k.Cs&&(k=await YN(b.localStore,E.query,!1).then(({documents:S})=>E.view.ru(S,k)));const F=I&&I.targetChanges.get(E.targetId),D=I&&I.targetMismatches.get(E.targetId)!=null,P=E.view.applyChanges(k,b.isPrimaryClient,F,D);return i3(b,E.targetId,P.au),P.snapshot}(t,h,p,g);const a=await YN(t.localStore,e,!0),i=new _q(e,a.Qs),o=i.ru(a.documents),l=mx.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),A=i.applyChanges(o,t.isPrimaryClient,l);i3(t,n,A.au);const d=new Sq(e,n,i);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),A.snapshot}async function Fq(t,e,n){const r=In(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter(i=>!By(i,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await jE(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&JS(r.remoteStore,s.targetId),VE(r,s.targetId)}).catch(_m)):(VE(r,s.targetId),await jE(r.localStore,s.targetId,!0))}async function Rq(t,e){const n=In(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),JS(n.remoteStore,r.targetId))}async function Dq(t,e,n){const r=Qq(t);try{const s=await function(i,o){const l=In(i),A=ss.now(),d=o.reduce((g,w)=>g.add(w.key),ar());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=vu(),b=ar();return l.Ns.getEntries(g,d).next(E=>{w=E,w.forEach((T,I)=>{I.isValidDocument()||(b=b.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(E=>{h=E;const T=[];for(const I of o){const k=$z(I,h.get(I.key).overlayedDocument);k!=null&&T.push(new af(I.key,k,xU(k.value.mapValue),hc.exists(!0)))}return l.mutationQueue.addMutationBatch(g,A,T,o)}).next(E=>{p=E;const T=E.applyToLocalDocumentSet(h,b);return l.documentOverlayCache.saveOverlays(g,E.batchId,T)})}).then(()=>({batchId:p.batchId,changes:BU(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,l){let A=i.Vu[i.currentUser.toKey()];A||(A=new bs(sr)),A=A.insert(o,l),i.Vu[i.currentUser.toKey()]=A}(r,s.batchId,n),await gx(r,s.changes),await Uy(r.remoteStore)}catch(s){const a=n5(s,"Failed to persist write");n.reject(a)}}async function uL(t,e){const n=In(t);try{const r=await qK(n.localStore,e);e.targetChanges.forEach((s,a)=>{const i=n.Au.get(a);i&&(Nr(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?i.hu=!0:s.modifiedDocuments.size>0?Nr(i.hu,14607):s.removedDocuments.size>0&&(Nr(i.hu,42227),i.hu=!1))}),await gx(n,r,e)}catch(r){await _m(r)}}function a3(t,e,n){const r=In(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((a,i)=>{const o=i.view.va(e);o.snapshot&&s.push(o.snapshot)}),function(i,o){const l=In(i);l.onlineState=o;let A=!1;l.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(o)&&(A=!0)}),A&&r5(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Uq(t,e,n){const r=In(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let i=new bs(un.comparator);i=i.insert(a,Ni.newNoDocument(a,Nn.min()));const o=ar().add(a),l=new Fy(Nn.min(),new Map,new bs(sr),i,o);await uL(r,l),r.du=r.du.remove(a),r.Au.delete(e),a5(r)}else await jE(r.localStore,e,!1).then(()=>VE(r,e,n)).catch(_m)}async function Lq(t,e){const n=In(t),r=e.batch.batchId;try{const s=await KK(n.localStore,e);fL(n,r,null),dL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gx(n,s)}catch(s){await _m(s)}}async function Mq(t,e,n){const r=In(t);try{const s=await function(i,o){const l=In(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",A=>{let d;return l.mutationQueue.lookupMutationBatch(A,o).next(h=>(Nr(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(A,h))).next(()=>l.mutationQueue.performConsistencyCheck(A)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(A,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(A,d)).next(()=>l.localDocuments.getDocuments(A,d))})}(r.localStore,e);fL(r,e,n),dL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gx(r,s)}catch(s){await _m(s)}}function dL(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function fL(t,e,n){const r=In(t);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function VE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||hL(t,r)})}function hL(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(JS(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),a5(t))}function i3(t,e,n){for(const r of n)r instanceof lL?(t.Ru.addReference(r.key,e),Pq(t,r)):r instanceof cL?($t(s5,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||hL(t,r.key)):Cn(19791,{wu:r})}function Pq(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||($t(s5,"New document in limbo: "+n),t.Eu.add(r),a5(t))}function a5(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new un(rs.fromString(e)),r=t.fu.next();t.Au.set(r,new Tq(n)),t.du=t.du.insert(n,r),ZU(t.remoteStore,new Sd(dA(QS(n.path)),r,"TargetPurposeLimboResolution",Ey.ce))}}async function gx(t,e,n){const r=In(t),s=[],a=[],i=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{i.push(r.pu(l,e,n).then(A=>{var d;if((A||n)&&r.isPrimaryClient){const h=A?!A.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(A){s.push(A);const h=$S.As(l.targetId,A);a.push(h)}}))}),await Promise.all(i),r.Pu.H_(s),await async function(l,A){const d=In(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>wt.forEach(A,p=>wt.forEach(p.Es,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>wt.forEach(p.ds,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!Sm(h))throw h;$t(YS,"Failed to update sequence numbers: "+h)}for(const h of A){const p=h.targetId;if(!h.fromCache){const g=d.Ms.get(p),w=g.snapshotVersion,b=g.withLastLimboFreeSnapshotVersion(w);d.Ms=d.Ms.insert(p,b)}}}(r.localStore,a))}async function Oq(t,e){const n=In(t);if(!n.currentUser.isEqual(e)){$t(s5,"User change. New user:",e.toKey());const r=await $U(n.localStore,e);n.currentUser=e,function(a,i){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new Zt(_t.CANCELLED,i))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gx(n,r.Ls)}}function jq(t,e){const n=In(t),r=n.Au.get(e);if(r&&r.hu)return ar().add(r.key);{let s=ar();const a=n.Iu.get(e);if(!a)return s;for(const i of a){const o=n.Tu.get(i);s=s.unionWith(o.view.nu)}return s}}function mL(t){const e=In(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Uq.bind(null,e),e.Pu.H_=Cq.bind(null,e.eventManager),e.Pu.yu=Eq.bind(null,e.eventManager),e}function Qq(t){const e=In(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mq.bind(null,e),e}class _2{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ry(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zK(this.persistence,new HK,e.initialUser,this.serializer)}Cu(e){return new WU(WS.mi,this.serializer)}Du(e){return new XK}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_2.provider={build:()=>new _2};class Hq extends _2{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Nr(this.persistence.referenceDelegate instanceof C2,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new TK(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ao.withCacheSize(this.cacheSizeBytes):Ao.DEFAULT;return new WU(r=>C2.mi(r,n),this.serializer)}}class GE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a3(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Oq.bind(null,this.syncEngine),await yq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bq}()}createDatastore(e){const n=Ry(e.databaseInfo.databaseId),r=function(a){return new rq(a)}(e.databaseInfo);return function(a,i,o,l){return new oq(a,i,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,i,o){return new cq(r,s,a,i,o)}(this.localStore,this.datastore,e.asyncQueue,n=>a3(this.syncEngine,n,0),function(){return ZN.v()?new ZN:new ZK}())}createSyncEngine(e,n){return function(s,a,i,o,l,A,d){const h=new Bq(s,a,i,o,l,A);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=In(s);$t(ih,"RemoteStore shutting down."),a.Ea.add(5),await px(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}GE.provider={build:()=>new GE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="FirestoreClient";class Vq{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=_i.UNAUTHENTICATED,this.clientId=DS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async i=>{$t($d,"Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>($t($d,"Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new uu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=n5(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qb(t,e){t.asyncQueue.verifyOperationInProgress(),$t($d,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await $U(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function o3(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Gq(t);$t($d,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>t3(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>t3(e.remoteStore,s)),t._onlineComponents=e}async function Gq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$t($d,"Using user provided OfflineComponentProvider");try{await qb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===_t.FAILED_PRECONDITION||s.code===_t.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;om("Error using user provided cache. Falling back to memory cache: "+n),await qb(t,new _2)}}else $t($d,"Using default OfflineComponentProvider"),await qb(t,new Hq(void 0));return t._offlineComponents}async function gL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($t($d,"Using user provided OnlineComponentProvider"),await o3(t,t._uninitializedComponentsProvider._online)):($t($d,"Using default OnlineComponentProvider"),await o3(t,new GE))),t._onlineComponents}function zq(t){return gL(t).then(e=>e.syncEngine)}async function xL(t){const e=await gL(t),n=e.eventManager;return n.onListen=Nq.bind(null,e.syncEngine),n.onUnlisten=Fq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Rq.bind(null,e.syncEngine),n}function Kq(t,e,n={}){const r=new uu;return t.asyncQueue.enqueueAndForget(async()=>function(a,i,o,l,A){const d=new pL({next:p=>{d.Nu(),i.enqueueAndForget(()=>iL(a,h));const g=p.docs.has(o);!g&&p.fromCache?A.reject(new Zt(_t.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?A.reject(new Zt(_t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):A.resolve(p)},error:p=>A.reject(p)}),h=new oL(QS(o.path),d,{includeMetadataChanges:!0,qa:!0});return aL(a,h)}(await xL(t),t.asyncQueue,e,n,r)),r.promise}function qq(t,e,n={}){const r=new uu;return t.asyncQueue.enqueueAndForget(async()=>function(a,i,o,l,A){const d=new pL({next:p=>{d.Nu(),i.enqueueAndForget(()=>iL(a,h)),p.fromCache&&l.source==="server"?A.reject(new Zt(_t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):A.resolve(p)},error:p=>A.reject(p)}),h=new oL(o,d,{includeMetadataChanges:!0,qa:!0});return aL(a,h)}(await xL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL="firestore.googleapis.com",c3=!0;class A3{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Zt(_t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yL,this.ssl=c3}else this.host=e.host,this.ssl=e.ssl??c3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_K)throw new Zt(_t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vL(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Zt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Zt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Zt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ly{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Zt(_t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Zt(_t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XG;switch(r.type){case"firstParty":return new nz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Zt(_t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=l3.get(n);r&&($t("ComponentProvider","Removing Datastore"),l3.delete(n),r.terminate())}(this),Promise.resolve()}}function Wq(t,e,n,r={}){var A;t=xA(t,Ly);const s=ym(e),a=t._getSettings(),i={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;s&&(dD(`https://${o}`),fD("Firestore",!0)),a.host!==yL&&a.host!==o&&om("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:s,emulatorOptions:r};if(!nh(l,i)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=_i.MOCK_USER;else{d=c9(r.mockUserToken,(A=t._app)==null?void 0:A.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Zt(_t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new _i(p)}t._authCredentials=new ZG(new iU(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new My(this.firestore,e,this._query)}}class fa{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fa(this.firestore,e,this._key)}toJSON(){return{type:fa._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(fx(n,fa._jsonSchema))return new fa(e,r||null,new un(rs.fromString(n.referencePath)))}}fa._jsonSchemaVersion="firestore/documentReference/1.0",fa._jsonSchema={type:da("string",fa._jsonSchemaVersion),referencePath:da("string")};class Pd extends My{constructor(e,n,r){super(e,n,QS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fa(this.firestore,null,new un(e))}withConverter(e){return new Pd(this.firestore,e,this._path)}}function $q(t,e,...n){if(t=si(t),oU("collection","path",e),t instanceof Ly){const r=rs.fromString(e,...n);return EN(r),new Pd(t,null,r)}{if(!(t instanceof fa||t instanceof Pd))throw new Zt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rs.fromString(e,...n));return EN(r),new Pd(t.firestore,null,r)}}function Py(t,e,...n){if(t=si(t),arguments.length===1&&(e=DS.newId()),oU("doc","path",e),t instanceof Ly){const r=rs.fromString(e,...n);return CN(r),new fa(t,null,new un(r))}{if(!(t instanceof fa||t instanceof Pd))throw new Zt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rs.fromString(e,...n));return CN(r),new fa(t.firestore,t instanceof Pd?t.converter:null,new un(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="AsyncQueue";class d3{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JU(this,"async_queue_retry"),this._c=()=>{const r=Kb();r&&$t(u3,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Kb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Kb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new uu;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Sm(e))throw e;$t(u3,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,xu("INTERNAL UNHANDLED ERROR: ",f3(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=t5.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(s),s}uc(){this.nc&&Cn(47125,{Pc:f3(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function f3(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Bm extends Ly{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new d3,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new d3(e),this._firestoreClient=void 0,await e}}}function Yq(t,e){const n=typeof t=="object"?t:gD(),r=typeof t=="string"?t:p2,s=ES(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=o9("firestore");a&&Wq(s,...a)}return s}function i5(t){if(t._terminated)throw new Zt(_t.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Jq(t),t._firestoreClient}function Jq(t){var r,s,a;const e=t._freezeSettings(),n=function(o,l,A,d){return new vz(o,l,A,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,vL(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Vq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this._byteString=e}static fromBase64String(e){try{return new El(ai.fromBase64String(e))}catch(n){throw new Zt(_t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new El(ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:El._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fx(e,El._jsonSchema))return El.fromBase64String(e.bytes)}}El._jsonSchemaVersion="firestore/bytes/1.0",El._jsonSchema={type:da("string",El._jsonSchemaVersion),bytes:da("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Zt(_t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Zt(_t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Zt(_t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return sr(this._lat,e._lat)||sr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hA._jsonSchemaVersion}}static fromJSON(e){if(fx(e,hA._jsonSchema))return new hA(e.latitude,e.longitude)}}hA._jsonSchemaVersion="firestore/geoPoint/1.0",hA._jsonSchema={type:da("string",hA._jsonSchemaVersion),latitude:da("number"),longitude:da("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:mA._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fx(e,mA._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new mA(e.vectorValues);throw new Zt(_t.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mA._jsonSchemaVersion="firestore/vectorValue/1.0",mA._jsonSchema={type:da("string",mA._jsonSchemaVersion),vectorValues:da("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq=/^__.*__$/;class Zq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new af(e,this.data,this.fieldMask,n,this.fieldTransforms):new hx(e,this.data,n,this.fieldTransforms)}}class wL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new af(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Cn(40011,{Ac:t})}}class l5{constructor(e,n,r,s,a,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new l5({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return S2(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bL(this.Ac)&&Xq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class eW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ry(e)}Cc(e,n,r,s=!1){return new l5({Ac:e,methodName:n,Dc:r,path:ti.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CL(t){const e=t._freezeSettings(),n=Ry(t._databaseId);return new eW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tW(t,e,n,r,s,a={}){const i=t.Cc(a.merge||a.mergeFields?2:0,e,n,s);c5("Data must be an object, but it was:",i,r);const o=EL(r,i);let l,A;if(a.merge)l=new Vo(i.fieldMask),A=i.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const p=zE(e,h,n);if(!i.contains(p))throw new Zt(_t.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);SL(d,p)||d.push(p)}l=new Vo(d),A=i.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,A=i.fieldTransforms;return new Zq(new fo(o),l,A)}class jy extends o5{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jy}}function nW(t,e,n,r){const s=t.Cc(1,e,n);c5("Data must be an object, but it was:",s,r);const a=[],i=fo.empty();sf(r,(l,A)=>{const d=A5(e,l,n);A=si(A);const h=s.yc(d);if(A instanceof jy)a.push(d);else{const p=Qy(A,h);p!=null&&(a.push(d),i.set(d,p))}});const o=new Vo(a);return new wL(i,o,s.fieldTransforms)}function rW(t,e,n,r,s,a){const i=t.Cc(1,e,n),o=[zE(e,r,n)],l=[s];if(a.length%2!=0)throw new Zt(_t.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(zE(e,a[p])),l.push(a[p+1]);const A=[],d=fo.empty();for(let p=o.length-1;p>=0;--p)if(!SL(A,o[p])){const g=o[p];let w=l[p];w=si(w);const b=i.yc(g);if(w instanceof jy)A.push(g);else{const E=Qy(w,b);E!=null&&(A.push(g),d.set(g,E))}}const h=new Vo(A);return new wL(d,h,i.fieldTransforms)}function Qy(t,e){if(_L(t=si(t)))return c5("Unsupported field value:",e,t),EL(t,e);if(t instanceof o5)return function(r,s){if(!bL(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const a=[];let i=0;for(const o of r){let l=Qy(o,s.wc(i));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),i++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=si(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Vz(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ss.fromDate(r);return{timestampValue:b2(s.serializer,a)}}if(r instanceof ss){const a=new ss(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:b2(s.serializer,a)}}if(r instanceof hA)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof El)return{bytesValue:jU(s.serializer,r._byteString)};if(r instanceof fa){const a=s.databaseId,i=r.firestore._databaseId;if(!i.isEqual(a))throw s.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:KS(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof mA)return function(i,o){return{mapValue:{fields:{[pU]:{stringValue:gU},[g2]:{arrayValue:{values:i.toArray().map(A=>{if(typeof A!="number")throw o.Sc("VectorValues must only contain numeric values.");return HS(o.serializer,A)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${US(r)}`)}(t,e)}function EL(t,e){const n={};return AU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sf(t,(r,s)=>{const a=Qy(s,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function _L(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ss||t instanceof hA||t instanceof El||t instanceof fa||t instanceof o5||t instanceof mA)}function c5(t,e,n){if(!_L(n)||!lU(n)){const r=US(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function zE(t,e,n){if((e=si(e))instanceof Oy)return e._internalPath;if(typeof e=="string")return A5(t,e);throw S2("Field path arguments must be of type string or ",t,!1,void 0,n)}const sW=new RegExp("[~\\*/\\[\\]]");function A5(t,e,n){if(e.search(sW)>=0)throw S2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Oy(...e.split("."))._internalPath}catch{throw S2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function S2(t,e,n,r,s){const a=r&&!r.isEmpty(),i=s!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||i)&&(l+=" (found",a&&(l+=` in field ${r}`),i&&(l+=` in document ${s}`),l+=")"),new Zt(_t.INVALID_ARGUMENT,o+t+l)}function SL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new fa(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(BL("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aW extends TL{data(){return super.data()}}function BL(t,e){return typeof e=="string"?A5(t,e):e instanceof Oy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Zt(_t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oW{convertValue(e,n="none"){switch(qd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Cn(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return sf(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,s,a;const n=(a=(s=(r=e.fields)==null?void 0:r[g2].arrayValue)==null?void 0:s.values)==null?void 0:a.map(i=>qs(i.doubleValue));return new mA(n)}convertGeoPoint(e){return new hA(qs(e.latitude),qs(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ig(e));default:return null}}convertTimestamp(e){const n=zd(e);return new ss(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rs.fromString(e);Nr(KU(r),9688,{name:e});const s=new Fg(r.get(1),r.get(3)),a=new un(r.popFirst(5));return s.isEqual(n)||xu(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lW(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Vp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kf extends TL{constructor(e,n,r,s,a,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(BL("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Zt(_t.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Kf._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Kf._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kf._jsonSchema={type:da("string",Kf._jsonSchemaVersion),bundleSource:da("string","DocumentSnapshot"),bundleName:da("string"),bundle:da("string")};class Gv extends Kf{data(e={}){return super.data(e)}}class Q0{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Vp(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gv(this._firestore,this._userDataWriter,r.key,r,new Vp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Zt(_t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>{const l=new Gv(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Vp(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new Gv(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Vp(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let A=-1,d=-1;return o.type!==0&&(A=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),d=i.indexOf(o.doc.key)),{type:cW(o.type),doc:l,oldIndex:A,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Zt(_t.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Q0._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=DS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Cn(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(t){t=xA(t,fa);const e=xA(t.firestore,Bm);return Kq(i5(e),t._key).then(n=>mW(e,t,n))}Q0._jsonSchemaVersion="firestore/querySnapshot/1.0",Q0._jsonSchema={type:da("string",Q0._jsonSchemaVersion),bundleSource:da("string","QuerySnapshot"),bundleName:da("string"),bundle:da("string")};class NL extends oW{constructor(e){super(),this.firestore=e}convertBytes(e){return new El(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fa(this.firestore,null,n)}}function uW(t){t=xA(t,My);const e=xA(t.firestore,Bm),n=i5(e),r=new NL(e);return iW(t._query),qq(n,t._query).then(s=>new Q0(e,r,t,s))}function dW(t,e,n){t=xA(t,fa);const r=xA(t.firestore,Bm),s=lW(t.converter,e);return u5(r,[tW(CL(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,hc.none())])}function fW(t,e,n,...r){t=xA(t,fa);const s=xA(t.firestore,Bm),a=CL(s);let i;return i=typeof(e=si(e))=="string"||e instanceof Oy?rW(a,"updateDoc",t._key,e,n,r):nW(a,"updateDoc",t._key,e),u5(s,[i.toMutation(t._key,hc.exists(!0))])}function hW(t){return u5(xA(t.firestore,Bm),[new VS(t._key,hc.none())])}function u5(t,e){return function(r,s){const a=new uu;return r.asyncQueue.enqueueAndForget(async()=>Dq(await zq(r),s,a)),a.promise}(i5(t),e)}function mW(t,e,n){const r=n.docs.get(e._key),s=new NL(t);return new Kf(t,s,e._key,r,new Vp(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Em=s})(wm),am(new rh("firestore",(r,{instanceIdentifier:s,options:a})=>{const i=r.getProvider("app").getImmediate(),o=new Bm(new ez(r.getProvider("auth-internal")),new rz(i,r.getProvider("app-check-internal")),function(A,d){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new Zt(_t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fg(A.options.projectId,d)}(i,s),i);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Ud(vN,yN,e),Ud(vN,yN,"esm2020")})();const pW={apiKey:"AIzaSyAfL9dpeLfpWQPg4orpFSh3X5dzXrSsBwc",authDomain:"planificador-145df.firebaseapp.com",projectId:"planificador-145df",storageBucket:"planificador-145df.firebasestorage.app",messagingSenderId:"1022861144167",appId:"1:1022861144167:web:7c277dd701dad5986864c2",measurementId:"G-LKJRFMVC9F"},kL=pD(pW),Wb=WG(kL),IL=Yq(kL);var on=(t=>(t.SUBDIRECCION="SUBDIRECCION",t.PROFESORADO="PROFESORADO",t.COORDINACION_TP="COORDINACION_TP",t.ESTUDIANTE="ESTUDIANTE",t))(on||{}),zn=(t=>(t.EVALUACION="Evaluacin",t.ACTO="Acto",t.ACTIVIDAD_FOCALIZADA="Actividad Focalizada",t.SALIDA_PEDAGOGICA="Salida Pedaggica",t))(zn||{}),Mf=(t=>(t.PRUEBA_PARCIAL="Prueba parcial",t.GUIA_APRENDIZAJE="Gua de Aprendizaje",t.RUBRICA="Rbrica",t.PAUTA_COTEJO="Pauta de Cotejo",t))(Mf||{});const ha="w-6 h-6",Hy="w-24 h-24",FL=()=>u.jsxs("svg",{className:"w-32 h-32 text-slate-700 dark:text-slate-300",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20V6.5A2.5 2.5 0 0 0 17.5 4h-11A2.5 2.5 0 0 0 4 6.5v13Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M16 4.5V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M9 14V10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M12 14V8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),gW=()=>u.jsxs("svg",{className:"w-10 h-10 text-amber-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M9 18h6"}),u.jsx("path",{d:"M10 22h4"}),u.jsx("path",{d:"M12 2a7 7 0 0 0-7 7c0 3 2 5 2 7h10c0-2 2-4 2-7a7 7 0 0 0-7-7z"})]}),xW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),vW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ha,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Gp=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ha,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),zp=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ha,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),RL=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),yW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Hy,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125z"})}),wW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Hy,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})}),bW=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:Hy,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.43.992a6.759 6.759 0 010 1.255c-.008.378.137.75.43.99l1.004.828c.421.346.564.95.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.68 6.68 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.063-.374-.313-.686-.645-.87a6.68 6.68 0 01-.22-.127c-.325-.196-.72-.257-1.075-.124l-1.217.456a1.125 1.125 0 01-1.369-.491l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.759 6.759 0 010-1.255c.008-.378-.137-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.49l1.217.456c.355.133.75.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),CW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Hy,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0l-2.072-1.036A48.257 48.257 0 0112 10.045a48.258 48.258 0 0110.332-1.036l-2.072 1.036m-16.425 0a48.27 48.27 0 00-2.223 2.218c.958.056 1.91.118 2.857.185m16.425 0c.947-.067 1.9-.129 2.857-.185a48.27 48.27 0 00-2.223-2.218m-12.182 0A11.947 11.947 0 0112 8.636a11.947 11.947 0 014.09 1.511"})}),EW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ha,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),h3=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ha,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),U1=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ha,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),$b=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ha,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),L1=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ha,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),Yb=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ha,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),m3=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ha,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),_W=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ha,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"})}),SW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ha,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),TW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ha,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),BW=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:ha,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),p3=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:ha,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l9-5-9-5-9 5 9 5z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14v6"})]}),NW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ha,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Jb=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ha,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9V3m0 18a9 9 0 009-9m-9 9a9 9 0 00-9-9"})}),kW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:ha,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.528-1.036.94-2.197 1.088-3.386l-.7M11.42 15.17l-1.06-1.06a4.5 4.5 0 01-5.656-5.656l-1.06 1.06c-1.37.66-2.58 1.6-3.58 2.75a4.5 4.5 0 00-1.06 5.656l1.06 1.06c1.15.998 2.52 1.93 3.99 2.58l1.06-1.06a4.5 4.5 0 015.656-5.656l3.032 2.496m-3.582-2.58a4.5 4.5 0 00-5.656 5.656l1.06-1.06a4.5 4.5 0 015.656-5.656l1.06 1.06m-3.032-2.496a4.5 4.5 0 00-5.656 5.656l1.06-1.06a4.5 4.5 0 015.656-5.656l1.06 1.06"})}),IW=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ha,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),g3=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:ha,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-1.125 0-2.25 1.125-2.25 2.25v15c0 1.125 1.125 2.25 2.25 2.25h11.25c1.125 0 2.25-1.125 2.25-2.25v-9.75M10.125 2.25c.621 0 1.125.504 1.125 1.125v3.375c0 .621-.504 1.125-1.125 1.125h-1.5c-.621 0-1.125-.504-1.125-1.125v-3.375c0-.621.504-1.125 1.125-1.125h1.5zM17.25 10.5h.375c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125h-.375m0-3.75V6.375c0-.621-.504-1.125-1.125-1.125h-1.5c-.621 0-1.125.504-1.125 1.125v3.375c0 .621.504 1.125 1.125 1.125h1.5c.621 0 1.125-.504 1.125-1.125v-1.5m-6.375 5.25v-1.5c0-.621.504-1.125 1.125-1.125h.375c.621 0 1.125.504 1.125 1.125v1.5m0 3.75V16.5c0-.621-.504-1.125-1.125-1.125h-.375a1.125 1.125 0 00-1.125 1.125v1.5m6.375 0V16.5c0-.621-.504-1.125-1.125-1.125h-.375a1.125 1.125 0 00-1.125 1.125v1.5"})}),FW=[{id:on.SUBDIRECCION,label:"Subdireccin Pedaggica",icon:u.jsx(yW,{})},{id:on.PROFESORADO,label:"Profesorado",icon:u.jsx(wW,{})},{id:on.COORDINACION_TP,label:"Coordinacin TP",icon:u.jsx(bW,{})},{id:on.ESTUDIANTE,label:"Estudiantes",icon:u.jsx(CW,{})}],RW={[on.SUBDIRECCION]:[{name:"Dashboard",icon:u.jsx(EW,{})},{name:"Administracin",icon:u.jsx(BW,{})},{name:"Seguimiento Curricular",icon:u.jsx(IW,{})},{name:"Acompaamiento docente",icon:u.jsx(TW,{})},{name:"Anlisis Taxonmico",icon:u.jsx(g3,{})},{name:"Interdisciplinario",icon:u.jsx(Jb,{})},{name:"Registro de inasistencias y reemplazos docentes",icon:u.jsx(h3,{})},{name:"Crear horarios",icon:u.jsx($b,{})},{name:"Seguimiento de acciones pedaggicas",icon:u.jsx(L1,{})},{name:"Inclusin",icon:u.jsx(p3,{})},{name:"Calendario Acadmico",icon:u.jsx(U1,{})},{name:"Muro de Anuncios",icon:u.jsx(Gp,{})},{name:"Mensajera Interna",icon:u.jsx(zp,{})},{name:"Generador de Actas",icon:u.jsx(Yb,{})}],[on.PROFESORADO]:[{name:"Planificacin",icon:u.jsx(m3,{})},{name:"Mis Acompaamientos",icon:u.jsx(NW,{})},{name:"Recursos de Aprendizaje",icon:u.jsx(_W,{})},{name:"Anlisis Taxonmico",icon:u.jsx(g3,{})},{name:"Interdisciplinario",icon:u.jsx(Jb,{})},{name:"Inclusin",icon:u.jsx(p3,{})},{name:"Actividades Remotas",icon:u.jsx(SW,{})},{name:"Evaluacin de Aprendizajes",icon:u.jsx(Yb,{})},{name:"Evaluaciones Formativas",icon:u.jsx(L1,{})},{name:"Calendario Acadmico",icon:u.jsx(U1,{})},{name:"Muro de Anuncios",icon:u.jsx(Gp,{})},{name:"Mensajera Interna",icon:u.jsx(zp,{})},{name:"Generador de Actas",icon:u.jsx(h3,{})}],[on.COORDINACION_TP]:[{name:"Seguimiento Dual",icon:u.jsx(L1,{})},{name:"Asistencia Dual",icon:u.jsx($b,{})},{name:"Paol",icon:u.jsx(kW,{})},{name:"Calendario Acadmico",icon:u.jsx(U1,{})},{name:"Muro de Anuncios",icon:u.jsx(Gp,{})},{name:"Mensajera Interna",icon:u.jsx(zp,{})},{name:"Generador de Actas",icon:u.jsx(Yb,{})}],[on.ESTUDIANTE]:[{name:"Auto-aprendizaje",icon:u.jsx(m3,{})},{name:"Evaluacin Formativa",icon:u.jsx(L1,{})},{name:"Tareas Interdisciplinarias",icon:u.jsx(Jb,{})},{name:"Asistencia a Empresa",icon:u.jsx($b,{})},{name:"Calendario Acadmico",icon:u.jsx(U1,{})},{name:"Muro de Anuncios",icon:u.jsx(Gp,{})},{name:"Mensajera Interna",icon:u.jsx(zp,{})}]},x3=["Currculum y Evaluacin","Convivencia Escolar","Orientacin","Gestin Pedaggica General"],Ep=["Pendiente","En Proceso","Cumplida"],T2=["1 Medio","2 Medio","3 Medio","4 Medio"],Il=["Lengua y Literatura","Matemtica","Ingls","Filosofa","Historia y Geografa","Educacin Ciudadana","Ciencias","Ciencias para la Ciudadana","Artes","Msica","Educacin Fsica","Orientacin","Mecnica Industrial","Mecnica Automotriz","Emprendimiento","Tecnologa","Pensamiento Lgico","Competencia Lectora"],_a=["1A","1B","1C","1D","1E","2A","2B","2C","2D","3A","3B","3C","3D","4A","4B","4C","4D"],KE=["Juan Prez","Mara Gonzlez","Carlos Soto","Ana Fernndez","Luis Rojas","Laura Muoz","Pedro Castillo","Sofa Reyes","Diego Flores","Valentina Castro"],zv=["Lunes","Martes","Mircoles","Jueves","Viernes"],qE=[{bloque:1,inicio:"08:00",fin:"08:40"},{bloque:2,inicio:"08:40",fin:"09:20"},{bloque:3,inicio:"09:35",fin:"10:15"},{bloque:4,inicio:"10:15",fin:"10:55"},{bloque:5,inicio:"11:10",fin:"11:50"},{bloque:6,inicio:"11:50",fin:"12:30"},{bloque:7,inicio:"12:30",fin:"13:10"},{bloque:8,inicio:"13:10",fin:"13:50"},{bloque:9,inicio:"14:30",fin:"15:10"},{bloque:10,inicio:"15:10",fin:"15:50"},{bloque:11,inicio:"16:00",fin:"16:40"},{bloque:12,inicio:"16:40",fin:"17:20"}],DW={"1 y 2 medio":{"Lengua y Literatura":6,Matemtica:6,Ingls:3,"Historia y Geografa":4,"Educacin Fsica":2,Ciencias:4,"Artes/Msica":2,Tecnologa:2,Orientacin:1},"3 y 4 medio (Humanista-Cientfico)":{"Lengua y Literatura":4,Matemtica:4,Ingls:2,"Historia y Geografa":3,"Educacin Ciudadana":2,Filosofa:3,"Ciencias para la Ciudadana":2,"Educacin Fsica":2},"3 y 4 medio (Tcnico-Profesional)":{"Lengua y Literatura":2,Matemtica:2,Ingls:2,"Historia y Geografa":2,Filosofa:2,"Educacin Fsica":2,"Mdulo TP":18}},_0={[zn.EVALUACION]:{label:"Evaluacin",icon:"",color:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"},[zn.ACTO]:{label:"Acto",icon:"",color:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"},[zn.ACTIVIDAD_FOCALIZADA]:{label:"Act. Focalizada",icon:"",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"},[zn.SALIDA_PEDAGOGICA]:{label:"Salida Pedaggica",icon:"",color:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"}},UW=Object.values(Mf),Xb=["Humanidades","TP","Ciencias","Interdisciplinario","Gestin Pedaggica","Equipo Directivo","Equipo de Gestin","Consejo Escolar"],Zb=["Vinculado","Desvinculado","En proceso","Empresa"],qf=["3A","3B","3C","3D","4A","4B","4C","4D"],LW=["Quiz","Comprensin de Lectura","Trminos Pareados","Desarrollo"],B2=["Discapacidad Intelectual Leve","Funcionamiento Intelectual Limtrofe","Trastorno Dficit Atencional (TDA)","Trastorno Dficit Atencional con Hiperactividad (TDAH)","Trastorno del Lenguaje","Dificultad Especfica del Aprendizaje","Dificultad Especfica de Aprendizaje en Matemticas","Dificultades de Aprendizaje","Problemas de Idioma y de Escolarizacin"],N2=[{domain:"Dominio A: Preparacin de la Enseanza",criteria:[{name:"Conocimiento de la disciplina",levels:["Demuestra conocimiento parcial por la disciplina que ensea, evidenciando manejo poco preciso y confuso de los conceptos centrales en los que se articula la clase.","Conoce los principios centrales de la disciplina que ensea, no obstante evidencia falencias en el tratamiento conceptual a la luz de actualizaciones epistemolgicas o metodolgicas en su rea.","Conoce y comprende los principios y conceptos centrales de las disciplinas que ensea, atendiendo a la permanente actualizacin curricular en su rea.","Conoce, comprende y cuestiona los principios centrales de la disciplina que ensea a la luz de nuevos paradigmas epistemolgicos o tericos, permitiendo que el trabajo o la exposicin conceptual invite al desarrollo del pensamiento crtico o la investigacin continua."]},{name:"Conocimiento de los estudiantes",levels:["No conoce las fortalezas y debilidades de sus estudiantes, evidenciando una planificacin o gestin de la clase estndar, sin atender a particularidades.","Conoce las fortalezas y debilidades de sus estudiantes de manera parcial en relacin al contexto y caractersticas del medio.","Conoce las fortalezas y debilidades de sus estudiantes respecto de los contenidos que ensea en consonancia con el contexto y caractersticas propias del medio.","Conoce las fortalezas y debilidades de sus estudiantes respecto de los contenidos que ensea en consonancia con el contexto y caractersticas propias del medio, siendo capaz de desarrollar diversas explicaciones y/o actividades para un mismo objetivo."]},{name:"Seleccin de recursos de aprendizaje",levels:["Los recursos de aprendizaje seleccionados demuestran desconocimiento respecto a las caractersticas de sus estudiantes y a la relacin con el contenido y objetivo de la clase.","Conoce parcialmente distintos recursos didcticos de aprendizaje, siendo congruentes al contenido pero no a las caractersticas de sus estudiantes, o bien, siendo pertinentes a sus particularidades pero alejndose de los objetivos y contenidos de la clase.","Conoce y selecciona distintos recursos didcticos de aprendizaje congruentes con la complejidad de los contenidos y las caractersticas de sus alumnos.","Conoce y selecciona distintos recursos didcticos de aprendizaje que promueven el desarrollo de habilidades transversales y permiten asegurar la adquisicin de aprendizajes profundos, todo en consonancia con las particularidades de sus estudiantes."]},{name:"Estrategias de evaluacin",levels:["Establece estrategias de evaluacin incongruentes con los contenidos o el desarrollo cognitivo de sus estudiantes, omitiendo adems, las metodologas empleadas previamente en clases.","Establece estrategias de evaluacin coherentes con los contenidos pero no con la complejidad, o bien, con una complejidad adecuada al desarrollo cognitivo de los estudiantes, pero no necesariamente a los contenidos y objetivos desarrollados previamente en clases.","Establece estrategias de evaluacin coherentes con la complejidad de los contenidos involucrados y con las actividades previamente desarrolladas en clases.","Establece estrategias de evaluacin coherentes con la complejidad de los contenidos involucrados y con las actividades previamente desarrolladas en clases. Dichas estrategias promueven la reflexin, y, la retroalimentacin descriptiva."]},{name:"Estrategias de enseanza-aprendizaje",levels:["*Los docentes establecen estrategias generales de apoyo sin considerar los distintos niveles de dominio de las competencias ni tampoco, las necesidades de los estudiantes","*Los docentes disean e implementan estrategias de enseanza- aprendizaje efectivas, pero sin considerar las competencias involucradas en el perfil de egreso, o los recursos disponibles, o los espacios dentro fuera y del aula.","*Los docentes disean e implementan estrategias efectivas de enseanza-aprendizaje para el desarrollo de competencias definidas en el perfil de egreso de cada especialidad considerando el contexto educativo, los recursos de aprendizaje disponibles y los espacios de aprendizaje dentro y fuera del aula.","*Los docentes disean e implementan estrategias avanzadas de enseanza-aprendizaje tales como (ABP, ABD, Gamificacin, Aprendizaje basado en juegos) para el desarrollo de competencias definidas en el perfil de egreso de cada especialidad considerando el contexto educativo, los recursos de aprendizaje disponibles y los espacios de aprendizaje dentro y fuera del aula."]}]},{domain:"Dominio B: Creacin de ambiente propicio para el aprendizaje",criteria:[{name:"Clima de respeto y empata",levels:["Establece un clima centrado exclusivamente en las normas, pero no da cuenta de vnculos fundados en el respeto y/o en la empata.","Establece un clima de relaciones interpersonales respetuosas y empticas con la mayora de sus alumnos.","Establece un clima de relaciones interpersonales respetuosas y empticas con todos sus alumnos.","Establece un clima de relaciones interpersonales respetuosas y empticas con todos sus alumnos, generando situaciones concretas de cooperacin y ayuda mutua entre l/ella y los/las estudiantes, o entre los/las propios estudiantes."]},{name:"Inters por las especialidades",levels:["No transmite inters por las especialidades, centrndose exclusivamente en su rea de desempeo.","Transmite inters general por las especialidades, no obstante no es capaz de acercarse a las caractersticas concretas de los mdulos.","Transmite inters por los contenidos y actividades de las asignaturas, mdulos y especialidades.","Transmite inters por los contenidos y actividades de las asignaturas, mdulos y especialidades, ejemplificando o relacionando de manera concreta, con situaciones reales en dicha rea de desempeo."]},{name:"Actitudes de compromiso y solidaridad",levels:["Promueve actitudes de buen comportamento en el aula, no obstante, no incorpora ni la solidaridad ni el compromiso con el otro ni con ellos mismos, en sus clases.","Promueve implcitamente actitudes de compromiso y solidaridad entre los alumnos.","Promueve explcitamente actitudes de compromiso y solidaridad entre los alumnos, a travs de estrategias, instrucciones o anlisis que tiendan a ello.","Promueve explcitamente actitudes de compromiso y solidaridad entre los alumnos, a travs de estrategias, instrucciones o anlisis que tiendan a ello, generando experiencias concretas para desarrollar estas habilidades y valores."]},{name:"Situaciones de aprendizaje",levels:["Presenta situaciones de aprendizaje estndar que implican un desarrollo mecnico y que no tienden hacia la consolidacin de aprendizajes esperados o no movilizan a los estudiantes.","Presenta situaciones de aprendizaje desafiantes y apropiadas para sus alumnos, no obstante no atiende a sus caractersticas personales y/o motivacionales.","Presenta situaciones de aprendizaje desafiantes y apropiadas para sus alumnos, atendiendo a sus caractersticas personales y motivacionales.","Presenta situaciones de aprendizaje desafiantes y apropiadas para sus alumnos, atendiendo a sus caractersticas personales y motivacionales, integrando a sus clases actividades que complementan o profundizan aprendizajes en los casos que sean necesarios."]},{name:"Motivacin por el aprendizaje",levels:["No transmite motivacin por el aprendizaje, la bsqueda o la indagacin.","Transmite una motivacin positiva por el aprendizaje, no obstante no insta a los estudiantes a indagar o buscar de manera autnoma","Transmite una motivacin positiva por el aprendizaje, la indagacin y la bsqueda.","Transmite una motivacin positiva por el aprendizaje, la indagacin y la bsqueda, ejemplificando o comunicando experiencias reales que permitan valorar estas actitudes."]},{name:"Normas de comportamiento",levels:["No establece normas de comportamento para sus estudiantes.","Establece normas de comportamento que son conocidas y comprensibles para sus alumnos, no obstante, no es sistemtico en su cumplimiento.","Establece normas de comportamento que son conocidas y comprensibles para sus alumnos, creando y manteniendo un ambiente de aprendizaje organizado.","Establece normas de comportamento que son conocidas y comprensibles para sus alumnos, creando y manteniendo un ambiente de aprendizaje organizado, permitiendo altos niveles de participacin."]},{name:"Respuestas frente al quiebre de normas",levels:["No genera respuestas frente al quiebre de las normas de convivencia.","Genera respuestas efectivas frente al quiebre de las normas de convivencia, pero debe mejorar la asertividad.","Genera respuestas asertivas y efectivas frente al quiebre de las normas de convivencia.","Genera respuestas asertivas y efectivas frente al quiebre de las normas de convivencia, que entregan sentido de la importancia de los acuerdos y las normas previamente comunicadas."]}]},{domain:"Dominio C: Enseanza para el aprendizaje de todos los estudiantes",criteria:[{name:"Presentacin de objetivos",levels:["Al iniciar las clases no presenta el objetivo o slo lo enuncia sin profundizar en l.","Al iniciar las clases presenta el objetivo de aprendizaje y el propsito, pero no logra dar cuenta de la relacin con el futuro laboral de los estudiantes o con otras reas del conocimiento.","Al iniciar las clases presentan el objetivo de aprendizaje, relacionndolo con el propsito que posee desde la disciplina, otras reas del conocimiento o para su desempeo laboral futuro.","Al iniciar las clases presentan el objetivo de aprendizaje involucrando a los estudiantes a travs de la relacin con el propsito que posee desde la disciplina, otras reas del conocimiento o para su desempeo laboral futuro."]},{name:"Clase en funcin de objetivos",levels:["No realiza su clase en funcin de los objetivos de aprendizaje estipulados en las bases curriculares, o bien, los incorpora pero sin mantener coherencia con las habilidades, contenidos o competencias del currculum nacional","Realiza sus clases en funcin de los Objetivos de Aprendizaje estipulados en las Bases Curriculares, considerando slo uno de los siguientes elementos: desarrollo de competencias, habilidades, conocimientos o actitudes establecidos en el currculum nacional.","Realiza sus clases en funcin de los Objetivos de Aprendizaje estipulados en las Bases Curriculares, considerando el desarrollo de competencias, habilidades, conocimientos y actitudes establecidos en el currculum nacional.","Realiza sus clases en funcin de los Objetivos de Aprendizaje estipulados en las Bases Curriculares, considerando el desarrollo de competencias, habilidades, conocimientos y actitudes establecidos en el currculum nacional y en el PEI."]},{name:"Introduccin de nueva informacin",levels:["Promueve actitudes de buen comportamento en el aula, no obstante, no incorpora ni la solidaridad ni el compromiso con el otro ni con ellos mismos, en sus clases.","Los docentes introducen a los estudiantes a nueva informacin, sin considerar el desarrollo de habilidades y actitudes.","Los docentes introducen a sus estudiantes a nueva informacin y al desarrollo de nuevas habilidades y actitudes, mediante estrategias efectivas y variadas, que consideran sus conocimientos previos.","Los docentes introducen a sus estudiantes a nueva informacin y al desarrollo de nuevas habilidades y actitudes, mediante estrategias efectivas y variadas, que consideran sus conocimientos previos y su realidad inmediata."]},{name:"Desarrollo de contenidos",levels:["Desarrolla los contenidos de la clase sin precisin conceptual ni claridad.","Desarrolla los contenidos de la clase con rigurosidad conceptual, pero sin una extrapolacin que permita entregar claridad a los estudiantes.","Desarrolla los contenidos de la clase con rigurosidad conceptual y claridad.","Desarrolla los contenidos de la clase con rigurosidad conceptual y claridad, recurriendo al ejemplo y a la vida cotidiana para anclar el conocimiento."]},{name:"Retroalimentacin",levels:["No retroalimenta a los estudiantes","Retroalimentan constantemente a sus estudiantes slo de modo general.","Retroalimentan constantemente a sus estudiantes sobre su desempeo, de manera individual o grupal.","Retroalimentan constantemente a sus estudiantes sobre su desempeo, de manera individual o grupal, a travs de preguntas o instancias que permiten modelar su aprendizaje."]},{name:"Monitoreo del aprendizaje",levels:["No monitorea el grado de comprensin y desempeo de sus estudiantes.","Monitorea parcialmente el grado de comprensin y desempeo de sus estudiantes, no siempre a travs de evidencia.","Monitorea constantemente el grado de comprensin y el desempeo de sus estudiantes durante el desarrollo de las clases para obtener evidencias acerca de lo que estn aprendiendo.","Monitorea constantemente y en diferentes instancias el grado de comprensin y el desempeo de sus estudiantes durante el desarrollo de las clases para obtener evidencias acerca de lo que estn aprendiendo."]},{name:"Orientacin a objetivos transversales",levels:["No enuncia o enuncia de modo incorrecto elementos ligados hacia los objetivos transversales.","Orienta a sus estudiantes hacia temticas ligadas a los objetivos transversales, no obstante, la orientacin es superficial y no predispone la construccin de valores.","Orienta a sus estudiantes hacia temticas ligadas a los objetivos transversales del currculum, con el fin de favorecer su proceso de construccin de valores.","Orienta a sus estudiantes hacia temticas ligadas a los objetivos transversales del currculum, con el fin de favorecer su proceso de construccin de valores en consonancia a elementos propios del PEI."]},{name:"Conclusin de la clase",levels:["El docente concluye la clase sin actividad o reactivo hacia los estudiantes.*","El docente concluye la clase con una explicacin que resume los contenidos fundamentales, no obstante, no moviliza acciones en los estudiantes, que permitan activar contenidos.","El docente concluye las clases con una actividad breve que permite a sus estudiantes realizar algunas de las siguientes acciones: demostrar, identificar, sintetizar, jerarquizar, formular dudas, conectar o valorar lo aprendido.","El docente concluye las clases con una actividad breve que permite a sus estudiantes realizar algunas de las siguientes acciones: demostrar, identificar, sintetizar, jerarquizar, formular dudas, conectar o valorar lo aprendido. Incorpora adems preguntas de metacognicin y/o autoevaluacin."]},{name:"Abordaje de errores",levels:["No aborda los errores, nicamente los seala.","Aborda los errores no como fracasos, sino que corrige oportunamente, no obstante no entrega nuevas herramientas para construir de mejor forma nuevos aprendizajes.","Aborda los errores no como fracasos, sino como ocasiones para enriquecer el proceso de aprendizaje.","Aborda los errores no como fracasos, sino como ocasiones para enriquecer el proceso de aprendizaje a travs de estrategias o precisiones claves en virtud de las habilidades o contenidos tratados."]},{name:"Apoyo a todos los estudiantes",levels:["El docente se centra en un grupo objetivo y homogneo, descuidando la diversidad y las caractersticas particulares de todos sus estudiantes.","El docente apoya parcialmente a todos los estudiantes en sus procesos educativos, no obstante no consideran diversas estrategias segn nivel de dominio por parte de los estudiantes.","El docente apoya a todos los estudiantes en sus procesos educativos, considerando estrategias de apoyo por grupos segn el nivel de dominio de las competencias definidas en el perfil de egreso.","El docente apoya a todos los estudiantes en sus procesos educativos, considerando estrategias de apoyo por grupos segn el nivel de dominio de las competencias definidas en el perfil de egreso y en consonancia con el PEI."]}]}],DL=["Lder de Proyecto","Secretario/a","Encargado/a de Materiales","Expositor/a","Investigador/a","Editor/a"],M1=[{nombre:"Aprendiz Emergente",emoji:"",promedioMin:1,promedioMax:3.9,mensaje:"Ests comenzando tu viaje de aprendizaje! Sigue esforzndote."},{nombre:"Explorador del Conocimiento",emoji:"",promedioMin:4,promedioMax:4.9,mensaje:"Buen trabajo! Ests construyendo una base slida."},{nombre:"Arquitecto de Ideas",emoji:"",promedioMin:5,promedioMax:5.9,mensaje:"Excelente! Demuestras un gran dominio de los temas."},{nombre:"Maestro del Saber",emoji:"",promedioMin:6,promedioMax:6.5,mensaje:"Impresionante! Tu dedicacin te lleva a la excelencia."},{nombre:"Sabio Luminar",emoji:"",promedioMin:6.6,promedioMax:7,mensaje:"Extraordinario! Eres una inspiracin para tus compaeros."}],MW=({onLoginAttempt:t,onForgotPasswordRequest:e,error:n})=>{const[r,s]=X.useState(""),[a,i]=X.useState(""),[o,l]=X.useState("login"),A=p=>{p.preventDefault(),t(r,a)},d=p=>{p.preventDefault(),e(r),l("forgot_sent")},h=()=>o==="forgot"?u.jsxs("form",{onSubmit:d,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Correo Electrnico Registrado"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:p=>s(p.target.value),placeholder:"Ingrese su correo",className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm"})})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-slate-800 hover:bg-slate-700",children:"Enviar Enlace de Recuperacin"})}),u.jsx("div",{className:"text-sm text-center",children:u.jsx("button",{type:"button",onClick:()=>l("login"),className:"font-medium text-amber-600 hover:text-amber-500",children:"Volver a Iniciar Sesin"})})]}):o==="forgot_sent"?u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Revise su Correo"}),u.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Si existe una cuenta asociada a ",u.jsx("strong",{children:r}),", hemos enviado un enlace para restablecer su contrasea."]}),u.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"(Para esta simulacin, revise la consola del navegador para ver el enlace)."}),u.jsx("button",{type:"button",onClick:()=>{l("login"),s("")},className:"mt-6 font-medium text-amber-600 hover:text-amber-500",children:" Volver a Iniciar Sesin"})]}):u.jsxs("form",{onSubmit:A,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Correo Electrnico"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:p=>s(p.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Contrasea"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:p=>i(p.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),n&&u.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",role:"alert",children:u.jsx("p",{children:n})}),u.jsx("div",{className:"text-sm text-center",children:u.jsx("button",{type:"button",onClick:()=>l("forgot"),className:"font-medium text-amber-600 hover:text-amber-500",children:"Olvid su contrasea?"})}),u.jsx("div",{children:u.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-slate-800 hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:"Ingresar"})})]});return u.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-slate-100 dark:bg-slate-900",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("div",{className:"mb-4 flex justify-center items-center",children:u.jsx(FL,{})}),u.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-200 mt-2",children:"Gestin Pedaggica LIR"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-lg",children:o==="login"?"Bienvenido/a, por favor inicie sesin":"Recuperacin de Contrasea"})]}),u.jsx("div",{className:"w-full max-w-sm bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md",children:h()}),u.jsxs("footer",{className:"absolute bottom-4 text-slate-500 dark:text-slate-400 text-sm",children:[" ",new Date().getFullYear()," Liceo Industrial de Recoleta. Todos los derechos reservados."]})]})},eC=({trigger:t,children:e,onOpen:n})=>{const[r,s]=X.useState(!1),a=X.useRef(null),i=()=>{const l=!r;s(l),l&&n&&n()},o=l=>{a.current&&!a.current.contains(l.target)&&s(!1)};return X.useEffect(()=>(document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}),[]),u.jsxs("div",{className:"relative",ref:a,children:[u.jsx("div",{onClick:i,children:t}),r&&u.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-white dark:bg-slate-700 rounded-lg shadow-xl border border-slate-200 dark:border-slate-600 z-50 animate-fade-in-up",onClick:()=>s(!1),children:e})]})},v3="usuariosLiceo",PW=({user:t,onClose:e,onSave:n})=>{const[r,s]=X.useState({nombreCompleto:t.nombreCompleto,email:t.email,fotoUrl:t.fotoUrl||""}),a=o=>{s({...r,[o.target.name]:o.target.value})},i=o=>{o.preventDefault();const l={...t,...r};try{const A=localStorage.getItem(v3);let d=A?JSON.parse(A):[];const h=d.findIndex(p=>p.id===t.id);h>-1?d[h]=l:d.push(l),localStorage.setItem(v3,JSON.stringify(d)),n(l),e()}catch(A){console.error("Failed to save user profile:",A),alert("No se pudo guardar el perfil.")}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:e,children:u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md animate-fade-in-up",onClick:o=>o.stopPropagation(),children:u.jsxs("form",{onSubmit:i,children:[u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Editar Perfil"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fotoUrl",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"URL de la Foto de Perfil"}),u.jsx("input",{type:"url",id:"fotoUrl",name:"fotoUrl",value:r.fotoUrl,onChange:a,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"https://ejemplo.com/foto.jpg"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"nombreCompleto",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Completo"}),u.jsx("input",{type:"text",id:"nombreCompleto",name:"nombreCompleto",value:r.nombreCompleto,onChange:a,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Correo Electrnico"}),u.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:a,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Funcin"}),u.jsx("p",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-md text-slate-700 dark:text-slate-300",children:t.profile})]})]})]}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end items-center gap-3",children:[u.jsx("button",{type:"button",onClick:e,className:"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700",children:"Guardar Cambios"})]})]})})})},y3="usuariosLiceo",OW=({user:t,onClose:e,onSave:n})=>{const[r,s]=X.useState(""),[a,i]=X.useState(""),[o,l]=X.useState(null),A=d=>{if(d.preventDefault(),l(null),!r){l("La contrasea no puede estar en blanco.");return}if(r!==a){l("Las contraseas no coinciden.");return}const h={...t,password:r};try{const p=localStorage.getItem(y3);let g=p?JSON.parse(p):[];const w=g.findIndex(b=>b.id===t.id);w>-1?g[w]=h:g.push(h),localStorage.setItem(y3,JSON.stringify(g)),n(h),e()}catch(p){console.error("Failed to save new password:",p),l("No se pudo guardar la nueva contrasea.")}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:e,children:u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md animate-fade-in-up",onClick:d=>d.stopPropagation(),children:u.jsxs("form",{onSubmit:A,children:[u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Configuracin de Cuenta"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Usuario"}),u.jsx("p",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-md text-slate-700 dark:text-slate-300",children:t.email})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Nueva Contrasea"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"newPassword",name:"newPassword",type:"password",required:!0,value:r,onChange:d=>s(d.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Confirmar Nueva Contrasea"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:a,onChange:d=>i(d.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),o&&u.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-3 text-sm",role:"alert",children:u.jsx("p",{children:o})})]})]}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end items-center gap-3",children:[u.jsx("button",{type:"button",onClick:e,className:"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700",children:"Cambiar Contrasea"})]})]})})})},w3="anunciosMuro",b3="mensajesInternos",C3="lir-read-status",jW=({user:t})=>{if(t.fotoUrl)return u.jsx("img",{src:t.fotoUrl,alt:t.nombreCompleto||"Avatar de usuario",className:"h-9 w-9 rounded-full object-cover"});const e=t.nombreCompleto||"",n=String(e).split(" ").filter(r=>r).map(r=>r[0]).join("").toUpperCase();return u.jsx("div",{className:"h-9 w-9 rounded-full bg-amber-500 text-white flex items-center justify-center font-bold",children:n.substring(0,2)})},QW=({currentUser:t,onLogout:e,onNavigate:n,onUserUpdate:r,onChangeProfile:s,toggleSidebar:a,unreadMessagesCount:i,refreshUnreadCount:o})=>{const[l,A]=X.useState([]),[d,h]=X.useState([]),[p,g]=X.useState(!1),[w,b]=X.useState(!1),E=X.useCallback(()=>{try{const F=localStorage.getItem(`${C3}-${t.id}`);return F?JSON.parse(F):{announcements:[],messages:[]}}catch{return{announcements:[],messages:[]}}},[t.id]),T=X.useCallback(F=>{try{localStorage.setItem(`${C3}-${t.id}`,JSON.stringify(F))}catch(D){console.error("Failed to set read status:",D)}},[t.id]);X.useEffect(()=>{const F=JSON.parse(localStorage.getItem(w3)||"[]"),D=E();A(F.filter(S=>!D.announcements.includes(S.id)));const P=JSON.parse(localStorage.getItem(b3)||"[]");h(P.filter(S=>S.para===t.email).sort((S,N)=>new Date(N.fecha).getTime()-new Date(S.fecha).getTime()).slice(0,5))},[t.id,E,i]);const I=()=>{const F=E(),D=JSON.parse(localStorage.getItem(w3)||"[]").map(P=>P.id);F.announcements=D,T(F),A([])},k=()=>{const F=E(),P=JSON.parse(localStorage.getItem(b3)||"[]").filter(S=>S.para===t.email).map(S=>S.id);F.messages=[...new Set([...F.messages,...P])],T(F),o()};return u.jsxs(u.Fragment,{children:[u.jsx("header",{className:"bg-white shadow-md sticky top-0 z-40 h-16",children:u.jsxs("div",{className:"container mx-auto px-4 h-full flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:"text-slate-600 dark:text-slate-300 md:hidden mr-2",onClick:a,children:u.jsx(xW,{})}),u.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>n("Dashboard"),children:[u.jsxs("svg",{className:"w-8 h-8 text-slate-700 dark:text-slate-200",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20V6.5A2.5 2.5 0 0 0 17.5 4h-11A2.5 2.5 0 0 0 4 6.5v13Z",stroke:"currentColor",strokeWidth:"1.5"}),u.jsx("path",{d:"M16 4.5V17",stroke:"currentColor",strokeWidth:"1.5"})]}),u.jsx("span",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 hidden sm:block",children:"Gestin LIR"})]})]}),u.jsx("div",{className:"flex-1 flex justify-center",children:u.jsx("button",{onClick:()=>n("Calendario Acadmico"),className:"p-2.5 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300",title:"Calendario Acadmico",children:u.jsx(vW,{})})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(eC,{onOpen:I,trigger:u.jsxs("button",{className:"relative p-2 rounded-full bg-slate-100 hover:bg-slate-200 text-slate-600 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-300 transition-colors",title:"Notificaciones",children:[u.jsx(Gp,{}),l.length>0&&u.jsx("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:l.length})]}),children:u.jsxs("div",{className:"p-2",children:[u.jsx("h3",{className:"font-semibold px-2 pb-1 border-b dark:border-slate-600 text-slate-800 dark:text-slate-200",children:"Anuncios Recientes"}),u.jsxs("ul",{className:"mt-1",children:[l.slice(0,3).map(F=>u.jsxs("li",{className:"p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600 text-sm",children:[u.jsx("p",{className:"font-bold dark:text-slate-200",children:F.titulo}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 truncate",children:F.mensaje})]},F.id)),l.length===0&&u.jsx("li",{className:"p-2 text-sm text-slate-500 dark:text-slate-400",children:"No hay anuncios nuevos."})]}),u.jsx("button",{onClick:()=>n("Muro de Anuncios"),className:"w-full mt-2 text-center text-sm font-semibold text-amber-600 hover:underline p-2",children:"Ver todo"})]})}),u.jsx(eC,{onOpen:k,trigger:u.jsxs("button",{className:"relative p-2 rounded-full bg-slate-100 hover:bg-slate-200 text-slate-600 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-300 transition-colors",title:"Mensajes",children:[u.jsx(zp,{}),i>0&&u.jsx("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:i})]}),children:u.jsxs("div",{className:"p-2",children:[u.jsx("h3",{className:"font-semibold px-2 pb-1 border-b dark:border-slate-600 text-slate-800 dark:text-slate-200",children:"Mensajes"}),u.jsxs("ul",{className:"mt-1",children:[d.slice(0,3).map(F=>u.jsxs("li",{className:"p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600 text-sm",children:[u.jsxs("p",{className:"font-bold dark:text-slate-200",children:["De: ",F.de]}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 truncate",children:F.asunto})]},F.id)),d.length===0&&u.jsx("li",{className:"p-2 text-sm text-slate-500 dark:text-slate-400",children:"No hay mensajes recientes."})]}),u.jsx("button",{onClick:()=>n("Mensajera Interna"),className:"w-full mt-2 text-center text-sm font-semibold text-amber-600 hover:underline p-2",children:"Ir a la bandeja"})]})}),u.jsx(eC,{trigger:u.jsx("button",{className:"p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:u.jsx(jW,{user:t})}),children:u.jsxs("div",{className:"p-2",children:[u.jsxs("div",{className:"px-2 py-2 border-b dark:border-slate-600",children:[u.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:t.nombreCompleto}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:t.profile})]}),u.jsxs("ul",{className:"mt-2 text-slate-700 dark:text-slate-300",children:[u.jsx("li",{children:u.jsx("button",{onClick:()=>g(!0),className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Editar Perfil"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>b(!0),className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Configuracin"})}),t.email==="subdi@lir.cl"&&u.jsx("li",{children:u.jsx("button",{onClick:s,className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Cambiar Perfil"})}),u.jsx("li",{children:u.jsx("button",{onClick:e,className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Cerrar Sesin"})})]})]})})]})]})}),p&&u.jsx(PW,{user:t,onClose:()=>g(!1),onSave:r}),w&&u.jsx(OW,{user:t,onClose:()=>b(!1),onSave:r})]})},HW=Array.from({length:12},(t,e)=>e+1),VW="usuariosLiceo",E3="reemplazosDocentes",_3={docenteAusente:"",asignaturaAusente:"",curso:"",diaAusencia:"",bloquesAfectados:[],docenteReemplazante:"",asignaturaReemplazante:""},GW=({selectedBlocks:t,onChange:e,legend:n})=>u.jsxs("fieldset",{children:[u.jsx("legend",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-2",children:n}),u.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-2",children:HW.map(r=>u.jsxs("label",{className:"flex items-center space-x-2 p-2 border rounded-lg hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-700 transition-colors",children:[u.jsx("input",{type:"checkbox",value:r,checked:t.includes(r),onChange:e,className:"h-5 w-5 rounded text-amber-500 focus:ring-amber-400 bg-slate-200 dark:bg-slate-600 border-slate-300 dark:border-slate-500"}),u.jsx("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:r})]},r))})]}),zW=()=>{const[t,e]=X.useState(()=>{try{const E=localStorage.getItem(E3);return E?JSON.parse(E):[]}catch(E){return console.error("Error al leer reemplazos de localStorage",E),[]}}),[n,r]=X.useState([]),[s,a]=X.useState(_3),[i,o]=X.useState(""),[l,A]=X.useState(null);X.useEffect(()=>{try{const E=localStorage.getItem(VW);if(E){const I=JSON.parse(E).filter(k=>k.profile===on.PROFESORADO).map(k=>k.nombreCompleto).sort();r(I)}}catch(E){console.error("Error al cargar profesores desde localStorage",E)}},[]),X.useEffect(()=>{try{localStorage.setItem(E3,JSON.stringify(t))}catch(E){console.error("Error al guardar reemplazos en localStorage",E)}},[t]);const d=X.useCallback(E=>{const{name:T,value:I}=E.target;a(k=>({...k,[T]:I}))},[]),h=X.useCallback(E=>{const T=parseInt(E.target.value,10);a(I=>{const k=I.bloquesAfectados,F=k.includes(T)?k.filter(D=>D!==T):[...k,T].sort((D,P)=>D-P);return{...I,bloquesAfectados:F}})},[]),p=X.useCallback(E=>{E.preventDefault(),A(null);const{docenteAusente:T,asignaturaAusente:I,curso:k,diaAusencia:F,bloquesAfectados:D,docenteReemplazante:P,asignaturaReemplazante:S}=s;if(!T||!I||!k||!F||!P||!S||D.length===0){A("Todos los campos son obligatorios y debe seleccionar al menos un bloque.");return}const N=I.trim().toLowerCase()===S.trim().toLowerCase()?"Hora realizada":"Hora cubierta, no realizada",B={id:crypto.randomUUID(),...s,resultado:N};e(V=>[B,...V]),a(_3)},[s]),g=X.useCallback(E=>{window.confirm("Est seguro de que desea eliminar este registro?")&&e(T=>T.filter(I=>I.id!==E))},[]),w=X.useMemo(()=>{if(!i)return t;const E=i.toLowerCase();return t.filter(T=>T.docenteAusente.toLowerCase().includes(E)||T.docenteReemplazante.toLowerCase().includes(E)||T.diaAusencia.includes(E)||T.curso.toLowerCase().includes(E))},[t,i]),b="w-full border-slate-300 rounded-md shadow-sm focus:ring-amber-400 focus:border-amber-400 dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Registro de Inasistencias y Reemplazos"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Complete el formulario para registrar una nueva suplencia."}),u.jsxs("form",{onSubmit:p,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2",children:"Docente Ausente"}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"docenteAusente",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre"}),u.jsxs("select",{name:"docenteAusente",value:s.docenteAusente,onChange:d,className:b,children:[u.jsx("option",{value:"",children:"Seleccione un docente"}),n.map(E=>u.jsx("option",{value:E,children:E},E))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"asignaturaAusente",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),u.jsxs("select",{name:"asignaturaAusente",value:s.asignaturaAusente,onChange:d,className:b,children:[u.jsx("option",{value:"",children:"Seleccione una asignatura"}),Il.map(E=>u.jsx("option",{value:E,children:E},E))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),u.jsxs("select",{name:"curso",value:s.curso,onChange:d,className:b,children:[u.jsx("option",{value:"",children:"Seleccione un curso"}),_a.map(E=>u.jsx("option",{value:E,children:E},E))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"diaAusencia",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Da Ausencia"}),u.jsx("input",{type:"date",name:"diaAusencia",value:s.diaAusencia,onChange:d,className:b})]}),u.jsx(GW,{legend:"Bloques Afectados",selectedBlocks:s.bloquesAfectados,onChange:h})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2",children:"Docente Reemplazante"}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"docenteReemplazante",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre"}),u.jsxs("select",{name:"docenteReemplazante",value:s.docenteReemplazante,onChange:d,className:b,children:[u.jsx("option",{value:"",children:"Seleccione un docente"}),n.map(E=>u.jsx("option",{value:E,children:E},E))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"asignaturaReemplazante",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),u.jsxs("select",{name:"asignaturaReemplazante",value:s.asignaturaReemplazante,onChange:d,className:b,children:[u.jsx("option",{value:"",children:"Seleccione una asignatura"}),Il.map(E=>u.jsx("option",{value:E,children:E},E))]})]})]})]}),l&&u.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md",children:l}),u.jsx("div",{className:"pt-4 text-right",children:u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-all duration-200 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Registrar Reemplazo"})})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Reemplazos"}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{type:"text",placeholder:"Buscar por docente, curso o fecha (YYYY-MM-DD)...",value:i,onChange:E=>o(E.target.value),className:b+" md:w-1/2"})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Fecha"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Curso"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Docente Ausente"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Docente Reemplazante"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Bloques"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Resultado"}),u.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Acciones"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:w.length>0?w.map(E=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:E.diaAusencia}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:E.curso}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:[E.docenteAusente,u.jsx("br",{}),u.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:E.asignaturaAusente})]}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:[E.docenteReemplazante,u.jsx("br",{}),u.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:E.asignaturaReemplazante})]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:E.bloquesAfectados.join(", ")}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:u.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${E.resultado==="Hora realizada"?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300"}`,children:E.resultado})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm",children:u.jsx("button",{onClick:()=>g(E.id),title:"Eliminar registro",className:"p-1 text-red-600 hover:text-red-800 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},E.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-slate-500 dark:text-slate-400",children:"No se encontraron registros."})})})]})})]})]})},KW="acompanamientoDocenteRecords",qW="eventosCalendario",WW="acompanamientoDocenteCustomRubrica",Zc=({title:t,value:e,description:n})=>u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:t}),u.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mt-2",children:e}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:n})]}),Ff=({title:t,data:e,colorClass:n,valueFormatter:r=s=>String(s)})=>{const s=X.useMemo(()=>e.map(i=>typeof i.value=="number"?i.value:parseFloat(String(i.value))||0),[e]),a=X.useMemo(()=>Math.max(...s,1),[s]);return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:t}),u.jsx("div",{className:"space-y-4",children:e.length>0?e.sort((i,o)=>(typeof o.value=="number"?o.value:0)-(typeof i.value=="number"?i.value:0)).map((i,o)=>{const l=typeof i.value=="number"?i.value:parseFloat(String(i.value))||0;return u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[u.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:i.label}),u.jsx("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:r(i.value)})]}),u.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:u.jsx("div",{className:`${n} h-3 rounded-full transition-all duration-500 ease-out`,style:{width:`${l/a*100}%`}})})]},i.label+o)}):u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No hay datos para mostrar."})})]})},$W=()=>{const[t,e]=X.useState([]),[n,r]=X.useState([]),[s,a]=X.useState([]),[i,o]=X.useState(N2);X.useEffect(()=>{const h=()=>{try{const p=localStorage.getItem("reemplazosDocentes");p&&e(JSON.parse(p));const g=localStorage.getItem(KW);g&&r(JSON.parse(g));const w=localStorage.getItem(qW);w&&a(JSON.parse(w));const b=localStorage.getItem(WW);o(b?JSON.parse(b):N2)}catch(p){console.error("Error al leer datos de localStorage para el dashboard",p)}};return h(),window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)},[]);const l=X.useMemo(()=>{const h=t.length;if(h===0)return{totalInasistencias:0,horasRealizadas:0,horasCubiertas:0,tasaCobertura:"0%",inasistenciasPorDocente:[],reemplazosPorDocente:[],distribucionResultados:[],inasistenciasPorCurso:[]};const p=t.filter(k=>k.resultado==="Hora realizada").length,g=h-p,w=`${(p/h*100).toFixed(1)}%`,b=(k,F)=>k.reduce((D,P)=>{const S=P[F];return typeof S=="string"&&(D[S]=(D[S]||0)+1),D},{}),E=b(t,"docenteAusente"),T=b(t,"docenteReemplazante"),I=b(t,"curso");return{totalInasistencias:h,horasRealizadas:p,horasCubiertas:g,tasaCobertura:w,inasistenciasPorDocente:Object.entries(E).map(([k,F])=>({label:k,value:F})),reemplazosPorDocente:Object.entries(T).map(([k,F])=>({label:k,value:F})),inasistenciasPorCurso:Object.entries(I).map(([k,F])=>({label:k,value:F})),distribucionResultados:[{label:"Hora Realizada",value:p},{label:"Hora Cubierta",value:g}]}},[t]),A=X.useMemo(()=>{const h=n.length;if(h===0)return{totalAcompanamientos:0,promedioGeneral:"N/A",desempenoPorDocente:[],desempenoPorDominio:[]};const p=new Map;i.forEach(F=>{F.criteria.forEach(D=>{p.set(D.name,F.domain)})});let g=0,w=0;const b={},E={};n.forEach(F=>{b[F.docente]||(b[F.docente]={total:0,count:0}),Object.entries(F.rubricaResultados).forEach(([D,P])=>{g+=P,w++,b[F.docente].total+=P,b[F.docente].count++;const S=p.get(D);S&&(E[S]||(E[S]={total:0,count:0}),E[S].total+=P,E[S].count++)})});const T=w>0?(g/w).toFixed(2):"N/A",I=Object.entries(b).map(([F,D])=>({label:F,value:D.count>0?(D.total/D.count).toFixed(2):0})),k=Object.entries(E).map(([F,D])=>({label:F,value:D.count>0?(D.total/D.count).toFixed(2):0}));return{totalAcompanamientos:h,promedioGeneral:T,desempenoPorDocente:I,desempenoPorDominio:k}},[n,i]),d=X.useMemo(()=>{const h={[zn.EVALUACION]:0,[zn.ACTO]:0,[zn.ACTIVIDAD_FOCALIZADA]:0,[zn.SALIDA_PEDAGOGICA]:0};for(const g of s)h.hasOwnProperty(g.type)&&h[g.type]++;const p=Object.entries(h).map(([g,w])=>({label:_0[g].label,value:w}));return{totalEvaluaciones:h[zn.EVALUACION],totalActos:h[zn.ACTO],totalActividadesFocalizadas:h[zn.ACTIVIDAD_FOCALIZADA],totalSalidasPedagogicas:h[zn.SALIDA_PEDAGOGICA],distribucionEventos:p}},[s]);return l.totalInasistencias===0&&A.totalAcompanamientos===0&&s.length===0?u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex flex-col items-center justify-center text-center animate-fade-in",children:[u.jsx("span",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Dashboard de Subdireccin"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg max-w-md",children:"An no hay datos para mostrar. Comience por aadir registros en los mdulos correspondientes (Inasistencias, Acompaamiento, etc)."})]}):u.jsxs("div",{className:"space-y-12 animate-fade-in",children:[l.totalInasistencias>0&&u.jsxs("div",{className:"space-y-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Dashboard de Inasistencias"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(Zc,{title:"Total Inasistencias",value:l.totalInasistencias,description:"Registros totales"}),u.jsx(Zc,{title:"Horas Realizadas",value:l.horasRealizadas,description:"Reemplazo con misma asignatura"}),u.jsx(Zc,{title:"Horas Cubiertas",value:l.horasCubiertas,description:"Reemplazo con otra asignatura"}),u.jsx(Zc,{title:"Tasa de Cobertura Efectiva",value:l.tasaCobertura,description:"% de horas realizadas"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsx(Ff,{title:"Inasistencias por Docente",data:l.inasistenciasPorDocente,colorClass:"bg-red-400"}),u.jsx(Ff,{title:"Reemplazos por Docente",data:l.reemplazosPorDocente,colorClass:"bg-sky-400"}),u.jsx(Ff,{title:"Inasistencias por Curso",data:l.inasistenciasPorCurso,colorClass:"bg-amber-400"}),u.jsx(Ff,{title:"Distribucin de Resultados",data:l.distribucionResultados,colorClass:"bg-green-400"})]})]}),A.totalAcompanamientos>0&&u.jsxs("div",{className:"space-y-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Dashboard de Acompaamiento Docente"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(Zc,{title:"Total Acompaamientos",value:A.totalAcompanamientos,description:"Registros realizados"}),u.jsx(Zc,{title:"Promedio General",value:A.promedioGeneral,description:"Calificacin promedio (1-4)"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsx(Ff,{title:"Desempeo Promedio por Docente",data:A.desempenoPorDocente,colorClass:"bg-indigo-400",valueFormatter:h=>Number(h).toFixed(2)}),u.jsx(Ff,{title:"Desempeo Promedio por Dominio",data:A.desempenoPorDominio,colorClass:"bg-teal-400",valueFormatter:h=>Number(h).toFixed(2)})]})]}),s.length>0&&u.jsxs("div",{className:"space-y-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Resumen del Calendario Acadmico"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(Zc,{title:"Evaluaciones",value:d.totalEvaluaciones,description:"Eventos registrados"}),u.jsx(Zc,{title:"Actos",value:d.totalActos,description:"Eventos registrados"}),u.jsx(Zc,{title:"Act. Focalizadas",value:d.totalActividadesFocalizadas,description:"Eventos registrados"}),u.jsx(Zc,{title:"Salidas Pedaggicas",value:d.totalSalidasPedagogicas,description:"Eventos registrados"})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:u.jsx(Ff,{title:"Distribucin de Eventos del Calendario",data:d.distribucionEventos,colorClass:"bg-violet-400"})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let YW,JW;function XW(){return{geminiUrl:YW,vertexUrl:JW}}function ZW(t,e,n,r){var s,a;if(!(t!=null&&t.baseUrl)){const i=XW();return e?(s=i.vertexUrl)!==null&&s!==void 0?s:n:(a=i.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vh{}function nn(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const a=e[s];return a!=null?String(a):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function v(t,e,n){for(let a=0;a<e.length-1;a++){const i=e[a];if(i.endsWith("[]")){const o=i.slice(0,-2);if(!(o in t))if(Array.isArray(n))t[o]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${i}`);if(Array.isArray(t[o])){const l=t[o];if(Array.isArray(n))for(let A=0;A<l.length;A++){const d=l[A];v(d,e.slice(a+1),n[A])}else for(const A of l)v(A,e.slice(a+1),n)}return}else if(i.endsWith("[0]")){const o=i.slice(0,-3);o in t||(t[o]=[{}]);const l=t[o];v(l[0],e.slice(a+1),n);return}(!t[i]||typeof t[i]!="object")&&(t[i]={}),t=t[i]}const r=e[e.length-1],s=t[r];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function x(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const s=r.slice(0,-2);if(s in t){const a=t[s];return Array.isArray(a)?a.map(i=>x(i,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WE(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var S3;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(S3||(S3={}));var T3;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(T3||(T3={}));var Bt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Bt||(Bt={}));var B3;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(B3||(B3={}));var N3;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(N3||(N3={}));var k3;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(k3||(k3={}));var I3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(I3||(I3={}));var F3;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(F3||(F3={}));var R3;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(R3||(R3={}));var D3;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(D3||(D3={}));var U3;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(U3||(U3={}));var L3;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(L3||(L3={}));var M3;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(M3||(M3={}));var P3;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(P3||(P3={}));var O3;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(O3||(O3={}));var j3;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(j3||(j3={}));var k2;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(k2||(k2={}));var Q3;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Q3||(Q3={}));var $E;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})($E||($E={}));var H3;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(H3||(H3={}));var V3;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(V3||(V3={}));var G3;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(G3||(G3={}));var z3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(z3||(z3={}));var K3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(K3||(K3={}));var q3;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(q3||(q3={}));var W3;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(W3||(W3={}));var $3;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})($3||($3={}));var Y3;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Y3||(Y3={}));var J3;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(J3||(J3={}));var X3;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(X3||(X3={}));var Z3;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Z3||(Z3={}));var ek;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(ek||(ek={}));var tk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(tk||(tk={}));var nk;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(nk||(nk={}));var rk;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(rk||(rk={}));var sk;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(sk||(sk={}));var ak;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ak||(ak={}));var ik;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(ik||(ik={}));var ok;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ok||(ok={}));var lk;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(lk||(lk={}));var ck;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ck||(ck={}));var F0;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(F0||(F0={}));class YE{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class _p{get text(){var e,n,r,s,a,i,o,l;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let A="",d=!1;const h=[];for(const p of(l=(o=(i=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,w]of Object.entries(p))g!=="text"&&g!=="thought"&&(w!==null||w!==void 0)&&h.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,A+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?A:void 0}get data(){var e,n,r,s,a,i,o,l;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let A="";const d=[];for(const h of(l=(o=(i=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[p,g]of Object.entries(h))p!=="inlineData"&&(g!==null||g!==void 0)&&d.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(A+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),A.length>0?btoa(A):void 0}get functionCalls(){var e,n,r,s,a,i,o,l;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const A=(l=(o=(i=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((A==null?void 0:A.length)!==0)return A}get executableCode(){var e,n,r,s,a,i,o,l,A;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(o=(i=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(A=d==null?void 0:d[0])===null||A===void 0?void 0:A.code}get codeExecutionResult(){var e,n,r,s,a,i,o,l,A;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(o=(i=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(A=d==null?void 0:d[0])===null||A===void 0?void 0:A.output}}class Ak{}class uk{}class e${}class t${}class dk{}class fk{}class hk{}class n${}class mk{}class pk{}class gk{}class xk{}class r${}class s${}class a${}class vk{}class i${get text(){var e,n,r;let s="",a=!1;const i=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,A]of Object.entries(o))l!=="text"&&l!=="thought"&&A!==null&&i.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;a=!0,s+=o.text}}return i.length>0&&console.warn(`there are non-text parts ${i} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?s:void 0}get data(){var e,n,r;let s="";const a=[];for(const i of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[o,l]of Object.entries(i))o!=="inlineData"&&l!==null&&a.push(o);i.inlineData&&typeof i.inlineData.data=="string"&&(s+=atob(i.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class I2{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new I2;if(r.name=e.name,r.metadata=e.metadata,r.done=e.done,r.error=e.error,n){const s=e.response;if(s){const a=new mk,i=s.videos;a.generatedVideos=i==null?void 0:i.map(o=>({video:{uri:o.gcsUri,videoBytes:o.bytesBase64Encoded?WE(o.bytesBase64Encoded):void 0,mimeType:o.mimeType}})),a.raiMediaFilteredCount=s.raiMediaFilteredCount,a.raiMediaFilteredReasons=s.raiMediaFilteredReasons,r.response=a}}else{const s=e.response;if(s){const a=new mk,i=s.generateVideoResponse,o=i==null?void 0:i.generatedSamples;a.generatedVideos=o==null?void 0:o.map(l=>{const A=l.video;return{video:{uri:A==null?void 0:A.uri,videoBytes:A!=null&&A.encodedVideo?WE(A==null?void 0:A.encodedVideo):void 0,mimeType:l.encoding}}}),a.raiMediaFilteredCount=i==null?void 0:i.raiMediaFilteredCount,a.raiMediaFilteredReasons=i==null?void 0:i.raiMediaFilteredReasons,r.response=a}}return r}}class o${get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Or(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function UL(t,e){const n=Or(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function LL(t){return Array.isArray(t)?t.map(e=>F2(e)):[F2(t)]}function F2(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function ML(t){const e=F2(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function PL(t){const e=F2(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function yk(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function OL(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>yk(e)):[yk(t)]}function JE(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function wk(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function bk(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ri(t){if(t==null)throw new Error("ContentUnion is required");return JE(t)?t:{role:"user",parts:OL(t)}}function jL(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Ri(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Ri(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ri(n)):[Ri(e)]}function Bl(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(wk(t)||bk(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ri(t)]}const e=[],n=[],r=JE(t[0]);for(const s of t){const a=JE(s);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(s);else{if(wk(s)||bk(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return r||e.push({role:"user",parts:OL(n)}),e}function l$(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Bt).includes(n[0].toUpperCase())?n[0].toUpperCase():Bt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Bt).includes(r.toUpperCase())?r.toUpperCase():Bt.TYPE_UNSPECIFIED})}}function H0(t){const e={},n=["items"],r=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&l$(t.type,e);for(const[i,o]of Object.entries(t))if(o!=null)if(i=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(Bt).includes(o.toUpperCase())?o.toUpperCase():Bt.TYPE_UNSPECIFIED}else if(n.includes(i))e[i]=H0(o);else if(r.includes(i)){const l=[];for(const A of o){if(A.type=="null"){e.nullable=!0;continue}l.push(H0(A))}e[i]=l}else if(s.includes(i)){const l={};for(const[A,d]of Object.entries(o))l[A]=H0(d);e[i]=l}else{if(i==="additionalProperties")continue;e[i]=o}return e}function d5(t){return H0(t)}function f5(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function h5(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Nm(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=H0(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=H0(e.response));return t}function km(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function c$(t,e,n,r=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function Su(t,e){if(typeof e!="string")throw new Error("name must be a string");return c$(t,e,"cachedContents")}function QL(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function yh(t){return WE(t)}function A$(t){return t!=null&&typeof t=="object"&&"name"in t}function u$(t){return t!=null&&typeof t=="object"&&"video"in t}function d$(t){return t!=null&&typeof t=="object"&&"uri"in t}function HL(t){var e;let n;if(A$(t)&&(n=t.name),!(d$(t)&&(n=t.uri,n===void 0))&&!(u$(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function VL(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function GL(t){for(const e of["models","tunedModels","publisherModels"])if(f$(t,e))return t[e];return[]}function f$(t,e){return t!==null&&typeof t=="object"&&e in t}function h$(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function m$(t,e={}){const n=[],r=new Set;for(const s of t){const a=s.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const i=h$(s,e);i.functionDeclarations&&n.push(...i.functionDeclarations)}return{functionDeclarations:n}}function zL(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function p$(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Im(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function KL(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g$(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function x$(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["data"]);n!=null&&v(e,["data"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function v$(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function y$(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],g$(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],x$(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],v$(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function qL(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>y$(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function w$(t){const e={},n=x(t,["anyOf"]);n!=null&&v(e,["anyOf"],n);const r=x(t,["default"]);r!=null&&v(e,["default"],r);const s=x(t,["description"]);s!=null&&v(e,["description"],s);const a=x(t,["enum"]);a!=null&&v(e,["enum"],a);const i=x(t,["example"]);i!=null&&v(e,["example"],i);const o=x(t,["format"]);o!=null&&v(e,["format"],o);const l=x(t,["items"]);l!=null&&v(e,["items"],l);const A=x(t,["maxItems"]);A!=null&&v(e,["maxItems"],A);const d=x(t,["maxLength"]);d!=null&&v(e,["maxLength"],d);const h=x(t,["maxProperties"]);h!=null&&v(e,["maxProperties"],h);const p=x(t,["maximum"]);p!=null&&v(e,["maximum"],p);const g=x(t,["minItems"]);g!=null&&v(e,["minItems"],g);const w=x(t,["minLength"]);w!=null&&v(e,["minLength"],w);const b=x(t,["minProperties"]);b!=null&&v(e,["minProperties"],b);const E=x(t,["minimum"]);E!=null&&v(e,["minimum"],E);const T=x(t,["nullable"]);T!=null&&v(e,["nullable"],T);const I=x(t,["pattern"]);I!=null&&v(e,["pattern"],I);const k=x(t,["properties"]);k!=null&&v(e,["properties"],k);const F=x(t,["propertyOrdering"]);F!=null&&v(e,["propertyOrdering"],F);const D=x(t,["required"]);D!=null&&v(e,["required"],D);const P=x(t,["title"]);P!=null&&v(e,["title"],P);const S=x(t,["type"]);return S!=null&&v(e,["type"],S),e}function b$(t){const e={};if(x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=x(t,["category"]);n!=null&&v(e,["category"],n);const r=x(t,["threshold"]);return r!=null&&v(e,["threshold"],r),e}function C$(t){const e={},n=x(t,["behavior"]);n!=null&&v(e,["behavior"],n);const r=x(t,["description"]);r!=null&&v(e,["description"],r);const s=x(t,["name"]);s!=null&&v(e,["name"],s);const a=x(t,["parameters"]);a!=null&&v(e,["parameters"],a);const i=x(t,["parametersJsonSchema"]);i!=null&&v(e,["parametersJsonSchema"],i);const o=x(t,["response"]);o!=null&&v(e,["response"],o);const l=x(t,["responseJsonSchema"]);return l!=null&&v(e,["responseJsonSchema"],l),e}function E$(t){const e={},n=x(t,["startTime"]);n!=null&&v(e,["startTime"],n);const r=x(t,["endTime"]);return r!=null&&v(e,["endTime"],r),e}function _$(t){const e={},n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],E$(n)),e}function S$(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["dynamicThreshold"]);return r!=null&&v(e,["dynamicThreshold"],r),e}function T$(t){const e={},n=x(t,["dynamicRetrievalConfig"]);return n!=null&&v(e,["dynamicRetrievalConfig"],S$(n)),e}function B$(){return{}}function N$(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(A=>C$(A))),v(e,["functionDeclarations"],l)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearch"]);r!=null&&v(e,["googleSearch"],_$(r));const s=x(t,["googleSearchRetrieval"]);if(s!=null&&v(e,["googleSearchRetrieval"],T$(s)),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(x(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");x(t,["urlContext"])!=null&&v(e,["urlContext"],B$());const i=x(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const o=x(t,["computerUse"]);return o!=null&&v(e,["computerUse"],o),e}function k$(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["allowedFunctionNames"]);return r!=null&&v(e,["allowedFunctionNames"],r),e}function I$(t){const e={},n=x(t,["latitude"]);n!=null&&v(e,["latitude"],n);const r=x(t,["longitude"]);return r!=null&&v(e,["longitude"],r),e}function F$(t){const e={},n=x(t,["latLng"]);n!=null&&v(e,["latLng"],I$(n));const r=x(t,["languageCode"]);return r!=null&&v(e,["languageCode"],r),e}function R$(t){const e={},n=x(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],k$(n));const r=x(t,["retrievalConfig"]);return r!=null&&v(e,["retrievalConfig"],F$(r)),e}function D$(t){const e={},n=x(t,["voiceName"]);return n!=null&&v(e,["voiceName"],n),e}function WL(t){const e={},n=x(t,["prebuiltVoiceConfig"]);return n!=null&&v(e,["prebuiltVoiceConfig"],D$(n)),e}function U$(t){const e={},n=x(t,["speaker"]);n!=null&&v(e,["speaker"],n);const r=x(t,["voiceConfig"]);return r!=null&&v(e,["voiceConfig"],WL(r)),e}function L$(t){const e={},n=x(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>U$(s))),v(e,["speakerVoiceConfigs"],r)}return e}function M$(t){const e={},n=x(t,["voiceConfig"]);n!=null&&v(e,["voiceConfig"],WL(n));const r=x(t,["multiSpeakerVoiceConfig"]);r!=null&&v(e,["multiSpeakerVoiceConfig"],L$(r));const s=x(t,["languageCode"]);return s!=null&&v(e,["languageCode"],s),e}function P$(t){const e={},n=x(t,["includeThoughts"]);n!=null&&v(e,["includeThoughts"],n);const r=x(t,["thinkingBudget"]);return r!=null&&v(e,["thinkingBudget"],r),e}function O$(t,e,n){const r={},s=x(e,["systemInstruction"]);n!==void 0&&s!=null&&v(n,["systemInstruction"],qL(Ri(s)));const a=x(e,["temperature"]);a!=null&&v(r,["temperature"],a);const i=x(e,["topP"]);i!=null&&v(r,["topP"],i);const o=x(e,["topK"]);o!=null&&v(r,["topK"],o);const l=x(e,["candidateCount"]);l!=null&&v(r,["candidateCount"],l);const A=x(e,["maxOutputTokens"]);A!=null&&v(r,["maxOutputTokens"],A);const d=x(e,["stopSequences"]);d!=null&&v(r,["stopSequences"],d);const h=x(e,["responseLogprobs"]);h!=null&&v(r,["responseLogprobs"],h);const p=x(e,["logprobs"]);p!=null&&v(r,["logprobs"],p);const g=x(e,["presencePenalty"]);g!=null&&v(r,["presencePenalty"],g);const w=x(e,["frequencyPenalty"]);w!=null&&v(r,["frequencyPenalty"],w);const b=x(e,["seed"]);b!=null&&v(r,["seed"],b);const E=x(e,["responseMimeType"]);E!=null&&v(r,["responseMimeType"],E);const T=x(e,["responseSchema"]);T!=null&&v(r,["responseSchema"],w$(d5(T)));const I=x(e,["responseJsonSchema"]);if(I!=null&&v(r,["responseJsonSchema"],I),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=x(e,["safetySettings"]);if(n!==void 0&&k!=null){let U=k;Array.isArray(U)&&(U=U.map(L=>b$(L))),v(n,["safetySettings"],U)}const F=x(e,["tools"]);if(n!==void 0&&F!=null){let U=km(F);Array.isArray(U)&&(U=U.map(L=>N$(Nm(L)))),v(n,["tools"],U)}const D=x(e,["toolConfig"]);if(n!==void 0&&D!=null&&v(n,["toolConfig"],R$(D)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=x(e,["cachedContent"]);n!==void 0&&P!=null&&v(n,["cachedContent"],Su(t,P));const S=x(e,["responseModalities"]);S!=null&&v(r,["responseModalities"],S);const N=x(e,["mediaResolution"]);N!=null&&v(r,["mediaResolution"],N);const B=x(e,["speechConfig"]);if(B!=null&&v(r,["speechConfig"],M$(f5(B))),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=x(e,["thinkingConfig"]);return V!=null&&v(r,["thinkingConfig"],P$(V)),r}function j$(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["request","model"],Or(t,r));const s=x(e,["contents"]);if(s!=null){let i=Bl(s);Array.isArray(i)&&(i=i.map(o=>qL(o))),v(n,["request","contents"],i)}const a=x(e,["config"]);return a!=null&&v(n,["request","generationConfig"],O$(t,a,n)),n}function Q$(t,e){const n={};if(x(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=x(e,["fileName"]);r!=null&&v(n,["fileName"],r);const s=x(e,["inlinedRequests"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>j$(t,i))),v(n,["requests","requests"],a)}return n}function H$(t,e){const n={},r=x(t,["displayName"]);if(e!==void 0&&r!=null&&v(e,["batch","displayName"],r),x(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function V$(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],Or(t,r));const s=x(e,["src"]);s!=null&&v(n,["batch","inputConfig"],Q$(t,zL(t,s)));const a=x(e,["config"]);return a!=null&&v(n,["config"],H$(a,n)),n}function G$(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Im(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function z$(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Im(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function K$(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);if(e!==void 0&&s!=null&&v(e,["_query","pageToken"],s),x(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function q$(t){const e={},n=x(t,["config"]);return n!=null&&v(e,["config"],K$(n,e)),e}function W$(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Im(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function $$(t){const e={},n=x(t,["format"]);n!=null&&v(e,["instancesFormat"],n);const r=x(t,["gcsUri"]);r!=null&&v(e,["gcsSource","uris"],r);const s=x(t,["bigqueryUri"]);if(s!=null&&v(e,["bigquerySource","inputUri"],s),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Y$(t){const e={},n=x(t,["format"]);n!=null&&v(e,["predictionsFormat"],n);const r=x(t,["gcsUri"]);r!=null&&v(e,["gcsDestination","outputUriPrefix"],r);const s=x(t,["bigqueryUri"]);if(s!=null&&v(e,["bigqueryDestination","outputUri"],s),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function J$(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const s=x(t,["dest"]);return e!==void 0&&s!=null&&v(e,["outputConfig"],Y$(p$(s))),n}function X$(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["model"],Or(t,r));const s=x(e,["src"]);s!=null&&v(n,["inputConfig"],$$(zL(t,s)));const a=x(e,["config"]);return a!=null&&v(n,["config"],J$(a,n)),n}function Z$(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Im(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function eY(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Im(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function tY(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);e!==void 0&&s!=null&&v(e,["_query","pageToken"],s);const a=x(t,["filter"]);return e!==void 0&&a!=null&&v(e,["_query","filter"],a),n}function nY(t){const e={},n=x(t,["config"]);return n!=null&&v(e,["config"],tY(n,e)),e}function rY(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Im(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function sY(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function aY(t){const e={},n=x(t,["data"]);n!=null&&v(e,["data"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function iY(t){const e={},n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function oY(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],sY(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],aY(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],iY(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function lY(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>oY(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function cY(t){const e={},n=x(t,["citationSources"]);return n!=null&&v(e,["citations"],n),e}function AY(t){const e={},n=x(t,["retrievedUrl"]);n!=null&&v(e,["retrievedUrl"],n);const r=x(t,["urlRetrievalStatus"]);return r!=null&&v(e,["urlRetrievalStatus"],r),e}function uY(t){const e={},n=x(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>AY(s))),v(e,["urlMetadata"],r)}return e}function dY(t){const e={},n=x(t,["content"]);n!=null&&v(e,["content"],lY(n));const r=x(t,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],cY(r));const s=x(t,["tokenCount"]);s!=null&&v(e,["tokenCount"],s);const a=x(t,["finishReason"]);a!=null&&v(e,["finishReason"],a);const i=x(t,["urlContextMetadata"]);i!=null&&v(e,["urlContextMetadata"],uY(i));const o=x(t,["avgLogprobs"]);o!=null&&v(e,["avgLogprobs"],o);const l=x(t,["groundingMetadata"]);l!=null&&v(e,["groundingMetadata"],l);const A=x(t,["index"]);A!=null&&v(e,["index"],A);const d=x(t,["logprobsResult"]);d!=null&&v(e,["logprobsResult"],d);const h=x(t,["safetyRatings"]);return h!=null&&v(e,["safetyRatings"],h),e}function fY(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>dY(l))),v(e,["candidates"],o)}const s=x(t,["modelVersion"]);s!=null&&v(e,["modelVersion"],s);const a=x(t,["promptFeedback"]);a!=null&&v(e,["promptFeedback"],a);const i=x(t,["usageMetadata"]);return i!=null&&v(e,["usageMetadata"],i),e}function $L(t){const e={},n=x(t,["details"]);n!=null&&v(e,["details"],n);const r=x(t,["code"]);r!=null&&v(e,["code"],r);const s=x(t,["message"]);return s!=null&&v(e,["message"],s),e}function hY(t){const e={},n=x(t,["response"]);n!=null&&v(e,["response"],fY(n));const r=x(t,["error"]);return r!=null&&v(e,["error"],$L(r)),e}function mY(t){const e={},n=x(t,["responsesFile"]);n!=null&&v(e,["fileName"],n);const r=x(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>hY(a))),v(e,["inlinedResponses"],s)}return e}function XE(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["metadata","displayName"]);r!=null&&v(e,["displayName"],r);const s=x(t,["metadata","state"]);s!=null&&v(e,["state"],KL(s));const a=x(t,["metadata","createTime"]);a!=null&&v(e,["createTime"],a);const i=x(t,["metadata","endTime"]);i!=null&&v(e,["endTime"],i);const o=x(t,["metadata","updateTime"]);o!=null&&v(e,["updateTime"],o);const l=x(t,["metadata","model"]);l!=null&&v(e,["model"],l);const A=x(t,["metadata","output"]);return A!=null&&v(e,["dest"],mY(A)),e}function pY(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const s=x(t,["operations"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>XE(i))),v(e,["batchJobs"],a)}return e}function gY(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["done"]);r!=null&&v(e,["done"],r);const s=x(t,["error"]);return s!=null&&v(e,["error"],$L(s)),e}function YL(t){const e={},n=x(t,["details"]);n!=null&&v(e,["details"],n);const r=x(t,["code"]);r!=null&&v(e,["code"],r);const s=x(t,["message"]);return s!=null&&v(e,["message"],s),e}function xY(t){const e={},n=x(t,["instancesFormat"]);n!=null&&v(e,["format"],n);const r=x(t,["gcsSource","uris"]);r!=null&&v(e,["gcsUri"],r);const s=x(t,["bigquerySource","inputUri"]);return s!=null&&v(e,["bigqueryUri"],s),e}function vY(t){const e={},n=x(t,["predictionsFormat"]);n!=null&&v(e,["format"],n);const r=x(t,["gcsDestination","outputUriPrefix"]);r!=null&&v(e,["gcsUri"],r);const s=x(t,["bigqueryDestination","outputUri"]);return s!=null&&v(e,["bigqueryUri"],s),e}function ZE(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["displayName"]);r!=null&&v(e,["displayName"],r);const s=x(t,["state"]);s!=null&&v(e,["state"],KL(s));const a=x(t,["error"]);a!=null&&v(e,["error"],YL(a));const i=x(t,["createTime"]);i!=null&&v(e,["createTime"],i);const o=x(t,["startTime"]);o!=null&&v(e,["startTime"],o);const l=x(t,["endTime"]);l!=null&&v(e,["endTime"],l);const A=x(t,["updateTime"]);A!=null&&v(e,["updateTime"],A);const d=x(t,["model"]);d!=null&&v(e,["model"],d);const h=x(t,["inputConfig"]);h!=null&&v(e,["src"],xY(h));const p=x(t,["outputConfig"]);return p!=null&&v(e,["dest"],vY(p)),e}function yY(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const s=x(t,["batchPredictionJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>ZE(i))),v(e,["batchJobs"],a)}return e}function wY(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["done"]);r!=null&&v(e,["done"],r);const s=x(t,["error"]);return s!=null&&v(e,["error"],YL(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oh;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(oh||(oh={}));class xx{constructor(e,n,r,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,s)}init(e,n,r){var s,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let i={config:{}};!r||Object.keys(r).length===0?i={config:{}}:typeof r=="object"?i=Object.assign({},r):i=r,i.config&&(i.config.pageToken=n.nextPageToken),this.paramsInternal=i,this.pageInternalSize=(a=(s=i.config)===null||s===void 0?void 0:s.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bY extends vh{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const s=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${s}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new xx(oh.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=X$(this.apiClient,e);return o=nn("batchPredictionJobs",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>ZE(d))}else{const A=V$(this.apiClient,e);return o=nn("{model}:batchGenerateContent",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>XE(d))}}async get(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=Z$(this.apiClient,e);return o=nn("batchPredictionJobs/{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>ZE(d))}else{const A=G$(this.apiClient,e);return o=nn("batches/{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>XE(d))}}async cancel(e){var n,r,s,a;let i="",o={};if(this.apiClient.isVertexAI()){const l=eY(this.apiClient,e);i=nn("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=z$(this.apiClient,e);i=nn("batches/{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=nY(e);return o=nn("batchPredictionJobs",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=yY(d),p=new vk;return Object.assign(p,h),p})}else{const A=q$(e);return o=nn("batches",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=pY(d),p=new vk;return Object.assign(p,h),p})}}async delete(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=rY(this.apiClient,e);return o=nn("batchPredictionJobs/{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>wY(d))}else{const A=W$(this.apiClient,e);return o=nn("batches/{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>gY(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CY(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function EY(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["data"]);n!=null&&v(e,["data"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function _Y(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function SY(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],CY(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],EY(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],_Y(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function Ck(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>SY(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function TY(t){const e={},n=x(t,["behavior"]);n!=null&&v(e,["behavior"],n);const r=x(t,["description"]);r!=null&&v(e,["description"],r);const s=x(t,["name"]);s!=null&&v(e,["name"],s);const a=x(t,["parameters"]);a!=null&&v(e,["parameters"],a);const i=x(t,["parametersJsonSchema"]);i!=null&&v(e,["parametersJsonSchema"],i);const o=x(t,["response"]);o!=null&&v(e,["response"],o);const l=x(t,["responseJsonSchema"]);return l!=null&&v(e,["responseJsonSchema"],l),e}function BY(t){const e={},n=x(t,["startTime"]);n!=null&&v(e,["startTime"],n);const r=x(t,["endTime"]);return r!=null&&v(e,["endTime"],r),e}function NY(t){const e={},n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],BY(n)),e}function kY(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["dynamicThreshold"]);return r!=null&&v(e,["dynamicThreshold"],r),e}function IY(t){const e={},n=x(t,["dynamicRetrievalConfig"]);return n!=null&&v(e,["dynamicRetrievalConfig"],kY(n)),e}function FY(){return{}}function RY(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(A=>TY(A))),v(e,["functionDeclarations"],l)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearch"]);r!=null&&v(e,["googleSearch"],NY(r));const s=x(t,["googleSearchRetrieval"]);if(s!=null&&v(e,["googleSearchRetrieval"],IY(s)),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(x(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");x(t,["urlContext"])!=null&&v(e,["urlContext"],FY());const i=x(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const o=x(t,["computerUse"]);return o!=null&&v(e,["computerUse"],o),e}function DY(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["allowedFunctionNames"]);return r!=null&&v(e,["allowedFunctionNames"],r),e}function UY(t){const e={},n=x(t,["latitude"]);n!=null&&v(e,["latitude"],n);const r=x(t,["longitude"]);return r!=null&&v(e,["longitude"],r),e}function LY(t){const e={},n=x(t,["latLng"]);n!=null&&v(e,["latLng"],UY(n));const r=x(t,["languageCode"]);return r!=null&&v(e,["languageCode"],r),e}function MY(t){const e={},n=x(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],DY(n));const r=x(t,["retrievalConfig"]);return r!=null&&v(e,["retrievalConfig"],LY(r)),e}function PY(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const s=x(t,["expireTime"]);e!==void 0&&s!=null&&v(e,["expireTime"],s);const a=x(t,["displayName"]);e!==void 0&&a!=null&&v(e,["displayName"],a);const i=x(t,["contents"]);if(e!==void 0&&i!=null){let d=Bl(i);Array.isArray(d)&&(d=d.map(h=>Ck(h))),v(e,["contents"],d)}const o=x(t,["systemInstruction"]);e!==void 0&&o!=null&&v(e,["systemInstruction"],Ck(Ri(o)));const l=x(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>RY(h))),v(e,["tools"],d)}const A=x(t,["toolConfig"]);if(e!==void 0&&A!=null&&v(e,["toolConfig"],MY(A)),x(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function OY(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["model"],UL(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],PY(s,n)),n}function jY(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Su(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function QY(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Su(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function HY(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const s=x(t,["expireTime"]);return e!==void 0&&s!=null&&v(e,["expireTime"],s),n}function VY(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Su(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],HY(s,n)),n}function GY(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);return e!==void 0&&s!=null&&v(e,["_query","pageToken"],s),n}function zY(t){const e={},n=x(t,["config"]);return n!=null&&v(e,["config"],GY(n,e)),e}function KY(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function qY(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["data"]);r!=null&&v(e,["data"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function WY(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["fileUri"]);r!=null&&v(e,["fileUri"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function $Y(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],KY(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],qY(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],WY(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function Ek(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>$Y(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function YY(t){const e={};if(x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(t,["description"]);n!=null&&v(e,["description"],n);const r=x(t,["name"]);r!=null&&v(e,["name"],r);const s=x(t,["parameters"]);s!=null&&v(e,["parameters"],s);const a=x(t,["parametersJsonSchema"]);a!=null&&v(e,["parametersJsonSchema"],a);const i=x(t,["response"]);i!=null&&v(e,["response"],i);const o=x(t,["responseJsonSchema"]);return o!=null&&v(e,["responseJsonSchema"],o),e}function JY(t){const e={},n=x(t,["startTime"]);n!=null&&v(e,["startTime"],n);const r=x(t,["endTime"]);return r!=null&&v(e,["endTime"],r),e}function XY(t){const e={},n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],JY(n)),e}function ZY(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["dynamicThreshold"]);return r!=null&&v(e,["dynamicThreshold"],r),e}function eJ(t){const e={},n=x(t,["dynamicRetrievalConfig"]);return n!=null&&v(e,["dynamicRetrievalConfig"],ZY(n)),e}function tJ(){return{}}function nJ(t){const e={},n=x(t,["apiKeyString"]);return n!=null&&v(e,["apiKeyString"],n),e}function rJ(t){const e={},n=x(t,["apiKeyConfig"]);n!=null&&v(e,["apiKeyConfig"],nJ(n));const r=x(t,["authType"]);r!=null&&v(e,["authType"],r);const s=x(t,["googleServiceAccountConfig"]);s!=null&&v(e,["googleServiceAccountConfig"],s);const a=x(t,["httpBasicAuthConfig"]);a!=null&&v(e,["httpBasicAuthConfig"],a);const i=x(t,["oauthConfig"]);i!=null&&v(e,["oauthConfig"],i);const o=x(t,["oidcConfig"]);return o!=null&&v(e,["oidcConfig"],o),e}function sJ(t){const e={},n=x(t,["authConfig"]);return n!=null&&v(e,["authConfig"],rJ(n)),e}function aJ(){return{}}function iJ(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>YY(p))),v(e,["functionDeclarations"],h)}const r=x(t,["retrieval"]);r!=null&&v(e,["retrieval"],r);const s=x(t,["googleSearch"]);s!=null&&v(e,["googleSearch"],XY(s));const a=x(t,["googleSearchRetrieval"]);a!=null&&v(e,["googleSearchRetrieval"],eJ(a)),x(t,["enterpriseWebSearch"])!=null&&v(e,["enterpriseWebSearch"],tJ());const o=x(t,["googleMaps"]);o!=null&&v(e,["googleMaps"],sJ(o)),x(t,["urlContext"])!=null&&v(e,["urlContext"],aJ());const A=x(t,["codeExecution"]);A!=null&&v(e,["codeExecution"],A);const d=x(t,["computerUse"]);return d!=null&&v(e,["computerUse"],d),e}function oJ(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["allowedFunctionNames"]);return r!=null&&v(e,["allowedFunctionNames"],r),e}function lJ(t){const e={},n=x(t,["latitude"]);n!=null&&v(e,["latitude"],n);const r=x(t,["longitude"]);return r!=null&&v(e,["longitude"],r),e}function cJ(t){const e={},n=x(t,["latLng"]);n!=null&&v(e,["latLng"],lJ(n));const r=x(t,["languageCode"]);return r!=null&&v(e,["languageCode"],r),e}function AJ(t){const e={},n=x(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],oJ(n));const r=x(t,["retrievalConfig"]);return r!=null&&v(e,["retrievalConfig"],cJ(r)),e}function uJ(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const s=x(t,["expireTime"]);e!==void 0&&s!=null&&v(e,["expireTime"],s);const a=x(t,["displayName"]);e!==void 0&&a!=null&&v(e,["displayName"],a);const i=x(t,["contents"]);if(e!==void 0&&i!=null){let h=Bl(i);Array.isArray(h)&&(h=h.map(p=>Ek(p))),v(e,["contents"],h)}const o=x(t,["systemInstruction"]);e!==void 0&&o!=null&&v(e,["systemInstruction"],Ek(Ri(o)));const l=x(t,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>iJ(p))),v(e,["tools"],h)}const A=x(t,["toolConfig"]);e!==void 0&&A!=null&&v(e,["toolConfig"],AJ(A));const d=x(t,["kmsKeyName"]);return e!==void 0&&d!=null&&v(e,["encryption_spec","kmsKeyName"],d),n}function dJ(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["model"],UL(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],uJ(s,n)),n}function fJ(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Su(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function hJ(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Su(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function mJ(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const s=x(t,["expireTime"]);return e!==void 0&&s!=null&&v(e,["expireTime"],s),n}function pJ(t,e){const n={},r=x(e,["name"]);r!=null&&v(n,["_url","name"],Su(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],mJ(s,n)),n}function gJ(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);return e!==void 0&&s!=null&&v(e,["_query","pageToken"],s),n}function xJ(t){const e={},n=x(t,["config"]);return n!=null&&v(e,["config"],gJ(n,e)),e}function Kv(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["displayName"]);r!=null&&v(e,["displayName"],r);const s=x(t,["model"]);s!=null&&v(e,["model"],s);const a=x(t,["createTime"]);a!=null&&v(e,["createTime"],a);const i=x(t,["updateTime"]);i!=null&&v(e,["updateTime"],i);const o=x(t,["expireTime"]);o!=null&&v(e,["expireTime"],o);const l=x(t,["usageMetadata"]);return l!=null&&v(e,["usageMetadata"],l),e}function vJ(){return{}}function yJ(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const s=x(t,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>Kv(i))),v(e,["cachedContents"],a)}return e}function qv(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["displayName"]);r!=null&&v(e,["displayName"],r);const s=x(t,["model"]);s!=null&&v(e,["model"],s);const a=x(t,["createTime"]);a!=null&&v(e,["createTime"],a);const i=x(t,["updateTime"]);i!=null&&v(e,["updateTime"],i);const o=x(t,["expireTime"]);o!=null&&v(e,["expireTime"],o);const l=x(t,["usageMetadata"]);return l!=null&&v(e,["usageMetadata"],l),e}function wJ(){return{}}function bJ(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const s=x(t,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>qv(i))),v(e,["cachedContents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CJ extends vh{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new xx(oh.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=dJ(this.apiClient,e);return o=nn("cachedContents",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>qv(d))}else{const A=OY(this.apiClient,e);return o=nn("cachedContents",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>Kv(d))}}async get(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=fJ(this.apiClient,e);return o=nn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>qv(d))}else{const A=jY(this.apiClient,e);return o=nn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>Kv(d))}}async delete(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=hJ(this.apiClient,e);return o=nn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(()=>{const d=wJ(),h=new gk;return Object.assign(h,d),h})}else{const A=QY(this.apiClient,e);return o=nn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(()=>{const d=vJ(),h=new gk;return Object.assign(h,d),h})}}async update(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=pJ(this.apiClient,e);return o=nn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>qv(d))}else{const A=VY(this.apiClient,e);return o=nn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>Kv(d))}}async listInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=xJ(e);return o=nn("cachedContents",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=bJ(d),p=new xk;return Object.assign(p,h),p})}else{const A=zY(e);return o=nn("cachedContents",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=yJ(d),p=new xk;return Object.assign(p,h),p})}}}function _k(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ts(t){return this instanceof ts?(this.v=t,this):new ts(t)}function V0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(g){return function(w){return Promise.resolve(w).then(g,h)}}function o(g,w){r[g]&&(s[g]=function(b){return new Promise(function(E,T){a.push([g,b,E,T])>1||l(g,b)})},w&&(s[g]=w(s[g])))}function l(g,w){try{A(r[g](w))}catch(b){p(a[0][3],b)}}function A(g){g.value instanceof ts?Promise.resolve(g.value.v).then(d,h):p(a[0][2],g)}function d(g){l("next",g)}function h(g){l("throw",g)}function p(g,w){g(w),a.shift(),a.length&&l(a[0][0],a[0][1])}}function ug(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof _k=="function"?_k(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(i){return new Promise(function(o,l){i=t[a](i),s(o,l,i.done,i.value)})}}function s(a,i,o,l){Promise.resolve(l).then(function(A){a({value:A,done:o})},i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EJ(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:JL(n)}function JL(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function _J(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Sk(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const s=[];let a=!0;for(;r<n&&t[r].role==="model";)s.push(t[r]),a&&!JL(t[r])&&(a=!1),r++;a?e.push(...s):e.pop()}return e}class SJ{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new TJ(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class TJ{constructor(e,n,r,s={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=s,this.history=a,this.sendPromise=Promise.resolve(),_J(a)}async sendMessage(e){var n;await this.sendPromise;const r=Ri(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,i,o;const l=await s,A=(i=(a=l.candidates)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.content,d=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let p=[];d!=null&&(p=(o=d.slice(h))!==null&&o!==void 0?o:[]);const g=A?[A]:[];this.recordHistory(r,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const r=Ri(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const a=await s;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?Sk(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,s;return V0(this,arguments,function*(){var i,o,l,A;const d=[];try{for(var h=!0,p=ug(e),g;g=yield ts(p.next()),i=g.done,!i;h=!0){A=g.value,h=!1;const w=A;if(EJ(w)){const b=(s=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content;b!==void 0&&d.push(b)}yield yield ts(w)}}catch(w){o={error:w}}finally{try{!h&&!i&&(l=p.return)&&(yield ts(l.call(p)))}finally{if(o)throw o.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let s=[];n.length>0&&n.every(a=>a.role!==void 0)?s=n:s.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Sk(r)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vy extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Vy.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BJ(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);return e!==void 0&&s!=null&&v(e,["_query","pageToken"],s),n}function NJ(t){const e={},n=x(t,["config"]);return n!=null&&v(e,["config"],BJ(n,e)),e}function kJ(t){const e={},n=x(t,["details"]);n!=null&&v(e,["details"],n);const r=x(t,["message"]);r!=null&&v(e,["message"],r);const s=x(t,["code"]);return s!=null&&v(e,["code"],s),e}function IJ(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["displayName"]);r!=null&&v(e,["displayName"],r);const s=x(t,["mimeType"]);s!=null&&v(e,["mimeType"],s);const a=x(t,["sizeBytes"]);a!=null&&v(e,["sizeBytes"],a);const i=x(t,["createTime"]);i!=null&&v(e,["createTime"],i);const o=x(t,["expirationTime"]);o!=null&&v(e,["expirationTime"],o);const l=x(t,["updateTime"]);l!=null&&v(e,["updateTime"],l);const A=x(t,["sha256Hash"]);A!=null&&v(e,["sha256Hash"],A);const d=x(t,["uri"]);d!=null&&v(e,["uri"],d);const h=x(t,["downloadUri"]);h!=null&&v(e,["downloadUri"],h);const p=x(t,["state"]);p!=null&&v(e,["state"],p);const g=x(t,["source"]);g!=null&&v(e,["source"],g);const w=x(t,["videoMetadata"]);w!=null&&v(e,["videoMetadata"],w);const b=x(t,["error"]);return b!=null&&v(e,["error"],kJ(b)),e}function FJ(t){const e={},n=x(t,["file"]);n!=null&&v(e,["file"],IJ(n));const r=x(t,["config"]);return r!=null&&v(e,["config"],r),e}function RJ(t){const e={},n=x(t,["name"]);n!=null&&v(e,["_url","file"],HL(n));const r=x(t,["config"]);return r!=null&&v(e,["config"],r),e}function DJ(t){const e={},n=x(t,["name"]);n!=null&&v(e,["_url","file"],HL(n));const r=x(t,["config"]);return r!=null&&v(e,["config"],r),e}function UJ(t){const e={},n=x(t,["details"]);n!=null&&v(e,["details"],n);const r=x(t,["message"]);r!=null&&v(e,["message"],r);const s=x(t,["code"]);return s!=null&&v(e,["code"],s),e}function e_(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["displayName"]);r!=null&&v(e,["displayName"],r);const s=x(t,["mimeType"]);s!=null&&v(e,["mimeType"],s);const a=x(t,["sizeBytes"]);a!=null&&v(e,["sizeBytes"],a);const i=x(t,["createTime"]);i!=null&&v(e,["createTime"],i);const o=x(t,["expirationTime"]);o!=null&&v(e,["expirationTime"],o);const l=x(t,["updateTime"]);l!=null&&v(e,["updateTime"],l);const A=x(t,["sha256Hash"]);A!=null&&v(e,["sha256Hash"],A);const d=x(t,["uri"]);d!=null&&v(e,["uri"],d);const h=x(t,["downloadUri"]);h!=null&&v(e,["downloadUri"],h);const p=x(t,["state"]);p!=null&&v(e,["state"],p);const g=x(t,["source"]);g!=null&&v(e,["source"],g);const w=x(t,["videoMetadata"]);w!=null&&v(e,["videoMetadata"],w);const b=x(t,["error"]);return b!=null&&v(e,["error"],UJ(b)),e}function LJ(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const s=x(t,["files"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>e_(i))),v(e,["files"],a)}return e}function MJ(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function PJ(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OJ extends vh{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new xx(oh.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>e_(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=NJ(e);return a=nn("files",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(A=>{const d=A;return d.sdkHttpResponse={headers:l.headers},d})),s.then(l=>{const A=LJ(l),d=new r$;return Object.assign(d,A),d})}}async createInternal(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=FJ(e);return a=nn("upload/v1beta/files",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>{const A=MJ(l),d=new s$;return Object.assign(d,A),d})}}async get(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=RJ(e);return a=nn("files/{file}",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>e_(l))}}async delete(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=DJ(e);return a=nn("files/{file}",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(()=>{const l=PJ(),A=new a$;return Object.assign(A,l),A})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jJ(t){const e={},n=x(t,["voiceName"]);return n!=null&&v(e,["voiceName"],n),e}function XL(t){const e={},n=x(t,["prebuiltVoiceConfig"]);return n!=null&&v(e,["prebuiltVoiceConfig"],jJ(n)),e}function QJ(t){const e={},n=x(t,["speaker"]);n!=null&&v(e,["speaker"],n);const r=x(t,["voiceConfig"]);return r!=null&&v(e,["voiceConfig"],XL(r)),e}function HJ(t){const e={},n=x(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>QJ(s))),v(e,["speakerVoiceConfigs"],r)}return e}function VJ(t){const e={},n=x(t,["voiceConfig"]);n!=null&&v(e,["voiceConfig"],XL(n));const r=x(t,["multiSpeakerVoiceConfig"]);r!=null&&v(e,["multiSpeakerVoiceConfig"],HJ(r));const s=x(t,["languageCode"]);return s!=null&&v(e,["languageCode"],s),e}function GJ(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function zJ(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["data"]);n!=null&&v(e,["data"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function KJ(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function qJ(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],GJ(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],zJ(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],KJ(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function WJ(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>qJ(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function $J(t){const e={},n=x(t,["behavior"]);n!=null&&v(e,["behavior"],n);const r=x(t,["description"]);r!=null&&v(e,["description"],r);const s=x(t,["name"]);s!=null&&v(e,["name"],s);const a=x(t,["parameters"]);a!=null&&v(e,["parameters"],a);const i=x(t,["parametersJsonSchema"]);i!=null&&v(e,["parametersJsonSchema"],i);const o=x(t,["response"]);o!=null&&v(e,["response"],o);const l=x(t,["responseJsonSchema"]);return l!=null&&v(e,["responseJsonSchema"],l),e}function YJ(t){const e={},n=x(t,["startTime"]);n!=null&&v(e,["startTime"],n);const r=x(t,["endTime"]);return r!=null&&v(e,["endTime"],r),e}function JJ(t){const e={},n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],YJ(n)),e}function XJ(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["dynamicThreshold"]);return r!=null&&v(e,["dynamicThreshold"],r),e}function ZJ(t){const e={},n=x(t,["dynamicRetrievalConfig"]);return n!=null&&v(e,["dynamicRetrievalConfig"],XJ(n)),e}function eX(){return{}}function tX(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(A=>$J(A))),v(e,["functionDeclarations"],l)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearch"]);r!=null&&v(e,["googleSearch"],JJ(r));const s=x(t,["googleSearchRetrieval"]);if(s!=null&&v(e,["googleSearchRetrieval"],ZJ(s)),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(x(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");x(t,["urlContext"])!=null&&v(e,["urlContext"],eX());const i=x(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const o=x(t,["computerUse"]);return o!=null&&v(e,["computerUse"],o),e}function nX(t){const e={},n=x(t,["handle"]);if(n!=null&&v(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Tk(){return{}}function rX(t){const e={},n=x(t,["disabled"]);n!=null&&v(e,["disabled"],n);const r=x(t,["startOfSpeechSensitivity"]);r!=null&&v(e,["startOfSpeechSensitivity"],r);const s=x(t,["endOfSpeechSensitivity"]);s!=null&&v(e,["endOfSpeechSensitivity"],s);const a=x(t,["prefixPaddingMs"]);a!=null&&v(e,["prefixPaddingMs"],a);const i=x(t,["silenceDurationMs"]);return i!=null&&v(e,["silenceDurationMs"],i),e}function sX(t){const e={},n=x(t,["automaticActivityDetection"]);n!=null&&v(e,["automaticActivityDetection"],rX(n));const r=x(t,["activityHandling"]);r!=null&&v(e,["activityHandling"],r);const s=x(t,["turnCoverage"]);return s!=null&&v(e,["turnCoverage"],s),e}function aX(t){const e={},n=x(t,["targetTokens"]);return n!=null&&v(e,["targetTokens"],n),e}function iX(t){const e={},n=x(t,["triggerTokens"]);n!=null&&v(e,["triggerTokens"],n);const r=x(t,["slidingWindow"]);return r!=null&&v(e,["slidingWindow"],aX(r)),e}function oX(t){const e={},n=x(t,["proactiveAudio"]);return n!=null&&v(e,["proactiveAudio"],n),e}function lX(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const s=x(t,["responseModalities"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","responseModalities"],s);const a=x(t,["temperature"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","temperature"],a);const i=x(t,["topP"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","topP"],i);const o=x(t,["topK"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","topK"],o);const l=x(t,["maxOutputTokens"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","maxOutputTokens"],l);const A=x(t,["mediaResolution"]);e!==void 0&&A!=null&&v(e,["setup","generationConfig","mediaResolution"],A);const d=x(t,["seed"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","seed"],d);const h=x(t,["speechConfig"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","speechConfig"],VJ(h5(h)));const p=x(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=x(t,["systemInstruction"]);e!==void 0&&g!=null&&v(e,["setup","systemInstruction"],WJ(Ri(g)));const w=x(t,["tools"]);if(e!==void 0&&w!=null){let D=km(w);Array.isArray(D)&&(D=D.map(P=>tX(Nm(P)))),v(e,["setup","tools"],D)}const b=x(t,["sessionResumption"]);e!==void 0&&b!=null&&v(e,["setup","sessionResumption"],nX(b));const E=x(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&v(e,["setup","inputAudioTranscription"],Tk());const T=x(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&v(e,["setup","outputAudioTranscription"],Tk());const I=x(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&v(e,["setup","realtimeInputConfig"],sX(I));const k=x(t,["contextWindowCompression"]);e!==void 0&&k!=null&&v(e,["setup","contextWindowCompression"],iX(k));const F=x(t,["proactivity"]);return e!==void 0&&F!=null&&v(e,["setup","proactivity"],oX(F)),n}function cX(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["setup","model"],Or(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],lX(s,n)),n}function AX(){return{}}function uX(){return{}}function dX(t){const e={},n=x(t,["media"]);n!=null&&v(e,["mediaChunks"],LL(n));const r=x(t,["audio"]);r!=null&&v(e,["audio"],PL(r));const s=x(t,["audioStreamEnd"]);s!=null&&v(e,["audioStreamEnd"],s);const a=x(t,["video"]);a!=null&&v(e,["video"],ML(a));const i=x(t,["text"]);return i!=null&&v(e,["text"],i),x(t,["activityStart"])!=null&&v(e,["activityStart"],AX()),x(t,["activityEnd"])!=null&&v(e,["activityEnd"],uX()),e}function ZL(t){const e={},n=x(t,["text"]);n!=null&&v(e,["text"],n);const r=x(t,["weight"]);return r!=null&&v(e,["weight"],r),e}function fX(t){const e={},n=x(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>ZL(s))),v(e,["weightedPrompts"],r)}return e}function e8(t){const e={},n=x(t,["temperature"]);n!=null&&v(e,["temperature"],n);const r=x(t,["topK"]);r!=null&&v(e,["topK"],r);const s=x(t,["seed"]);s!=null&&v(e,["seed"],s);const a=x(t,["guidance"]);a!=null&&v(e,["guidance"],a);const i=x(t,["bpm"]);i!=null&&v(e,["bpm"],i);const o=x(t,["density"]);o!=null&&v(e,["density"],o);const l=x(t,["brightness"]);l!=null&&v(e,["brightness"],l);const A=x(t,["scale"]);A!=null&&v(e,["scale"],A);const d=x(t,["muteBass"]);d!=null&&v(e,["muteBass"],d);const h=x(t,["muteDrums"]);h!=null&&v(e,["muteDrums"],h);const p=x(t,["onlyBassAndDrums"]);return p!=null&&v(e,["onlyBassAndDrums"],p),e}function hX(t){const e={},n=x(t,["musicGenerationConfig"]);return n!=null&&v(e,["musicGenerationConfig"],e8(n)),e}function t8(t){const e={},n=x(t,["model"]);return n!=null&&v(e,["model"],n),e}function n8(t){const e={},n=x(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>ZL(s))),v(e,["weightedPrompts"],r)}return e}function t_(t){const e={},n=x(t,["setup"]);n!=null&&v(e,["setup"],t8(n));const r=x(t,["clientContent"]);r!=null&&v(e,["clientContent"],n8(r));const s=x(t,["musicGenerationConfig"]);s!=null&&v(e,["musicGenerationConfig"],e8(s));const a=x(t,["playbackControl"]);return a!=null&&v(e,["playbackControl"],a),e}function mX(t){const e={},n=x(t,["voiceName"]);return n!=null&&v(e,["voiceName"],n),e}function pX(t){const e={},n=x(t,["prebuiltVoiceConfig"]);return n!=null&&v(e,["prebuiltVoiceConfig"],mX(n)),e}function gX(t){const e={},n=x(t,["voiceConfig"]);if(n!=null&&v(e,["voiceConfig"],pX(n)),x(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=x(t,["languageCode"]);return r!=null&&v(e,["languageCode"],r),e}function xX(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function vX(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["data"]);r!=null&&v(e,["data"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function yX(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["fileUri"]);r!=null&&v(e,["fileUri"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function wX(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],xX(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],vX(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],yX(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function bX(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>wX(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function CX(t){const e={};if(x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(t,["description"]);n!=null&&v(e,["description"],n);const r=x(t,["name"]);r!=null&&v(e,["name"],r);const s=x(t,["parameters"]);s!=null&&v(e,["parameters"],s);const a=x(t,["parametersJsonSchema"]);a!=null&&v(e,["parametersJsonSchema"],a);const i=x(t,["response"]);i!=null&&v(e,["response"],i);const o=x(t,["responseJsonSchema"]);return o!=null&&v(e,["responseJsonSchema"],o),e}function EX(t){const e={},n=x(t,["startTime"]);n!=null&&v(e,["startTime"],n);const r=x(t,["endTime"]);return r!=null&&v(e,["endTime"],r),e}function _X(t){const e={},n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],EX(n)),e}function SX(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["dynamicThreshold"]);return r!=null&&v(e,["dynamicThreshold"],r),e}function TX(t){const e={},n=x(t,["dynamicRetrievalConfig"]);return n!=null&&v(e,["dynamicRetrievalConfig"],SX(n)),e}function BX(){return{}}function NX(t){const e={},n=x(t,["apiKeyString"]);return n!=null&&v(e,["apiKeyString"],n),e}function kX(t){const e={},n=x(t,["apiKeyConfig"]);n!=null&&v(e,["apiKeyConfig"],NX(n));const r=x(t,["authType"]);r!=null&&v(e,["authType"],r);const s=x(t,["googleServiceAccountConfig"]);s!=null&&v(e,["googleServiceAccountConfig"],s);const a=x(t,["httpBasicAuthConfig"]);a!=null&&v(e,["httpBasicAuthConfig"],a);const i=x(t,["oauthConfig"]);i!=null&&v(e,["oauthConfig"],i);const o=x(t,["oidcConfig"]);return o!=null&&v(e,["oidcConfig"],o),e}function IX(t){const e={},n=x(t,["authConfig"]);return n!=null&&v(e,["authConfig"],kX(n)),e}function FX(){return{}}function RX(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>CX(p))),v(e,["functionDeclarations"],h)}const r=x(t,["retrieval"]);r!=null&&v(e,["retrieval"],r);const s=x(t,["googleSearch"]);s!=null&&v(e,["googleSearch"],_X(s));const a=x(t,["googleSearchRetrieval"]);a!=null&&v(e,["googleSearchRetrieval"],TX(a)),x(t,["enterpriseWebSearch"])!=null&&v(e,["enterpriseWebSearch"],BX());const o=x(t,["googleMaps"]);o!=null&&v(e,["googleMaps"],IX(o)),x(t,["urlContext"])!=null&&v(e,["urlContext"],FX());const A=x(t,["codeExecution"]);A!=null&&v(e,["codeExecution"],A);const d=x(t,["computerUse"]);return d!=null&&v(e,["computerUse"],d),e}function DX(t){const e={},n=x(t,["handle"]);n!=null&&v(e,["handle"],n);const r=x(t,["transparent"]);return r!=null&&v(e,["transparent"],r),e}function Bk(){return{}}function UX(t){const e={},n=x(t,["disabled"]);n!=null&&v(e,["disabled"],n);const r=x(t,["startOfSpeechSensitivity"]);r!=null&&v(e,["startOfSpeechSensitivity"],r);const s=x(t,["endOfSpeechSensitivity"]);s!=null&&v(e,["endOfSpeechSensitivity"],s);const a=x(t,["prefixPaddingMs"]);a!=null&&v(e,["prefixPaddingMs"],a);const i=x(t,["silenceDurationMs"]);return i!=null&&v(e,["silenceDurationMs"],i),e}function LX(t){const e={},n=x(t,["automaticActivityDetection"]);n!=null&&v(e,["automaticActivityDetection"],UX(n));const r=x(t,["activityHandling"]);r!=null&&v(e,["activityHandling"],r);const s=x(t,["turnCoverage"]);return s!=null&&v(e,["turnCoverage"],s),e}function MX(t){const e={},n=x(t,["targetTokens"]);return n!=null&&v(e,["targetTokens"],n),e}function PX(t){const e={},n=x(t,["triggerTokens"]);n!=null&&v(e,["triggerTokens"],n);const r=x(t,["slidingWindow"]);return r!=null&&v(e,["slidingWindow"],MX(r)),e}function OX(t){const e={},n=x(t,["proactiveAudio"]);return n!=null&&v(e,["proactiveAudio"],n),e}function jX(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const s=x(t,["responseModalities"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","responseModalities"],s);const a=x(t,["temperature"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","temperature"],a);const i=x(t,["topP"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","topP"],i);const o=x(t,["topK"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","topK"],o);const l=x(t,["maxOutputTokens"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","maxOutputTokens"],l);const A=x(t,["mediaResolution"]);e!==void 0&&A!=null&&v(e,["setup","generationConfig","mediaResolution"],A);const d=x(t,["seed"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","seed"],d);const h=x(t,["speechConfig"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","speechConfig"],gX(h5(h)));const p=x(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=x(t,["systemInstruction"]);e!==void 0&&g!=null&&v(e,["setup","systemInstruction"],bX(Ri(g)));const w=x(t,["tools"]);if(e!==void 0&&w!=null){let D=km(w);Array.isArray(D)&&(D=D.map(P=>RX(Nm(P)))),v(e,["setup","tools"],D)}const b=x(t,["sessionResumption"]);e!==void 0&&b!=null&&v(e,["setup","sessionResumption"],DX(b));const E=x(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&v(e,["setup","inputAudioTranscription"],Bk());const T=x(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&v(e,["setup","outputAudioTranscription"],Bk());const I=x(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&v(e,["setup","realtimeInputConfig"],LX(I));const k=x(t,["contextWindowCompression"]);e!==void 0&&k!=null&&v(e,["setup","contextWindowCompression"],PX(k));const F=x(t,["proactivity"]);return e!==void 0&&F!=null&&v(e,["setup","proactivity"],OX(F)),n}function QX(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["setup","model"],Or(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],jX(s,n)),n}function HX(){return{}}function VX(){return{}}function GX(t){const e={},n=x(t,["media"]);n!=null&&v(e,["mediaChunks"],LL(n));const r=x(t,["audio"]);r!=null&&v(e,["audio"],PL(r));const s=x(t,["audioStreamEnd"]);s!=null&&v(e,["audioStreamEnd"],s);const a=x(t,["video"]);a!=null&&v(e,["video"],ML(a));const i=x(t,["text"]);return i!=null&&v(e,["text"],i),x(t,["activityStart"])!=null&&v(e,["activityStart"],HX()),x(t,["activityEnd"])!=null&&v(e,["activityEnd"],VX()),e}function zX(){return{}}function KX(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function qX(t){const e={},n=x(t,["data"]);n!=null&&v(e,["data"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function WX(t){const e={},n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function $X(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],KX(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],qX(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],WX(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function YX(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>$X(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function Nk(t){const e={},n=x(t,["text"]);n!=null&&v(e,["text"],n);const r=x(t,["finished"]);return r!=null&&v(e,["finished"],r),e}function JX(t){const e={},n=x(t,["retrievedUrl"]);n!=null&&v(e,["retrievedUrl"],n);const r=x(t,["urlRetrievalStatus"]);return r!=null&&v(e,["urlRetrievalStatus"],r),e}function XX(t){const e={},n=x(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>JX(s))),v(e,["urlMetadata"],r)}return e}function ZX(t){const e={},n=x(t,["modelTurn"]);n!=null&&v(e,["modelTurn"],YX(n));const r=x(t,["turnComplete"]);r!=null&&v(e,["turnComplete"],r);const s=x(t,["interrupted"]);s!=null&&v(e,["interrupted"],s);const a=x(t,["groundingMetadata"]);a!=null&&v(e,["groundingMetadata"],a);const i=x(t,["generationComplete"]);i!=null&&v(e,["generationComplete"],i);const o=x(t,["inputTranscription"]);o!=null&&v(e,["inputTranscription"],Nk(o));const l=x(t,["outputTranscription"]);l!=null&&v(e,["outputTranscription"],Nk(l));const A=x(t,["urlContextMetadata"]);return A!=null&&v(e,["urlContextMetadata"],XX(A)),e}function eZ(t){const e={},n=x(t,["id"]);n!=null&&v(e,["id"],n);const r=x(t,["args"]);r!=null&&v(e,["args"],r);const s=x(t,["name"]);return s!=null&&v(e,["name"],s),e}function tZ(t){const e={},n=x(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>eZ(s))),v(e,["functionCalls"],r)}return e}function nZ(t){const e={},n=x(t,["ids"]);return n!=null&&v(e,["ids"],n),e}function P1(t){const e={},n=x(t,["modality"]);n!=null&&v(e,["modality"],n);const r=x(t,["tokenCount"]);return r!=null&&v(e,["tokenCount"],r),e}function rZ(t){const e={},n=x(t,["promptTokenCount"]);n!=null&&v(e,["promptTokenCount"],n);const r=x(t,["cachedContentTokenCount"]);r!=null&&v(e,["cachedContentTokenCount"],r);const s=x(t,["responseTokenCount"]);s!=null&&v(e,["responseTokenCount"],s);const a=x(t,["toolUsePromptTokenCount"]);a!=null&&v(e,["toolUsePromptTokenCount"],a);const i=x(t,["thoughtsTokenCount"]);i!=null&&v(e,["thoughtsTokenCount"],i);const o=x(t,["totalTokenCount"]);o!=null&&v(e,["totalTokenCount"],o);const l=x(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(g=>P1(g))),v(e,["promptTokensDetails"],p)}const A=x(t,["cacheTokensDetails"]);if(A!=null){let p=A;Array.isArray(p)&&(p=p.map(g=>P1(g))),v(e,["cacheTokensDetails"],p)}const d=x(t,["responseTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>P1(g))),v(e,["responseTokensDetails"],p)}const h=x(t,["toolUsePromptTokensDetails"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>P1(g))),v(e,["toolUsePromptTokensDetails"],p)}return e}function sZ(t){const e={},n=x(t,["timeLeft"]);return n!=null&&v(e,["timeLeft"],n),e}function aZ(t){const e={},n=x(t,["newHandle"]);n!=null&&v(e,["newHandle"],n);const r=x(t,["resumable"]);r!=null&&v(e,["resumable"],r);const s=x(t,["lastConsumedClientMessageIndex"]);return s!=null&&v(e,["lastConsumedClientMessageIndex"],s),e}function iZ(t){const e={};x(t,["setupComplete"])!=null&&v(e,["setupComplete"],zX());const r=x(t,["serverContent"]);r!=null&&v(e,["serverContent"],ZX(r));const s=x(t,["toolCall"]);s!=null&&v(e,["toolCall"],tZ(s));const a=x(t,["toolCallCancellation"]);a!=null&&v(e,["toolCallCancellation"],nZ(a));const i=x(t,["usageMetadata"]);i!=null&&v(e,["usageMetadata"],rZ(i));const o=x(t,["goAway"]);o!=null&&v(e,["goAway"],sZ(o));const l=x(t,["sessionResumptionUpdate"]);return l!=null&&v(e,["sessionResumptionUpdate"],aZ(l)),e}function oZ(){return{}}function lZ(t){const e={},n=x(t,["text"]);n!=null&&v(e,["text"],n);const r=x(t,["weight"]);return r!=null&&v(e,["weight"],r),e}function cZ(t){const e={},n=x(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>lZ(s))),v(e,["weightedPrompts"],r)}return e}function AZ(t){const e={},n=x(t,["temperature"]);n!=null&&v(e,["temperature"],n);const r=x(t,["topK"]);r!=null&&v(e,["topK"],r);const s=x(t,["seed"]);s!=null&&v(e,["seed"],s);const a=x(t,["guidance"]);a!=null&&v(e,["guidance"],a);const i=x(t,["bpm"]);i!=null&&v(e,["bpm"],i);const o=x(t,["density"]);o!=null&&v(e,["density"],o);const l=x(t,["brightness"]);l!=null&&v(e,["brightness"],l);const A=x(t,["scale"]);A!=null&&v(e,["scale"],A);const d=x(t,["muteBass"]);d!=null&&v(e,["muteBass"],d);const h=x(t,["muteDrums"]);h!=null&&v(e,["muteDrums"],h);const p=x(t,["onlyBassAndDrums"]);return p!=null&&v(e,["onlyBassAndDrums"],p),e}function uZ(t){const e={},n=x(t,["clientContent"]);n!=null&&v(e,["clientContent"],cZ(n));const r=x(t,["musicGenerationConfig"]);return r!=null&&v(e,["musicGenerationConfig"],AZ(r)),e}function dZ(t){const e={},n=x(t,["data"]);n!=null&&v(e,["data"],n);const r=x(t,["mimeType"]);r!=null&&v(e,["mimeType"],r);const s=x(t,["sourceMetadata"]);return s!=null&&v(e,["sourceMetadata"],uZ(s)),e}function fZ(t){const e={},n=x(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>dZ(s))),v(e,["audioChunks"],r)}return e}function hZ(t){const e={},n=x(t,["text"]);n!=null&&v(e,["text"],n);const r=x(t,["filteredReason"]);return r!=null&&v(e,["filteredReason"],r),e}function mZ(t){const e={};x(t,["setupComplete"])!=null&&v(e,["setupComplete"],oZ());const r=x(t,["serverContent"]);r!=null&&v(e,["serverContent"],fZ(r));const s=x(t,["filteredPrompt"]);return s!=null&&v(e,["filteredPrompt"],hZ(s)),e}function pZ(t){const e={},n=x(t,["sessionId"]);return n!=null&&v(e,["sessionId"],n),e}function gZ(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function xZ(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["data"]);r!=null&&v(e,["data"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function vZ(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["fileUri"]);r!=null&&v(e,["fileUri"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function yZ(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],gZ(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],xZ(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],vZ(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function wZ(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>yZ(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function kk(t){const e={},n=x(t,["text"]);n!=null&&v(e,["text"],n);const r=x(t,["finished"]);return r!=null&&v(e,["finished"],r),e}function bZ(t){const e={},n=x(t,["modelTurn"]);n!=null&&v(e,["modelTurn"],wZ(n));const r=x(t,["turnComplete"]);r!=null&&v(e,["turnComplete"],r);const s=x(t,["interrupted"]);s!=null&&v(e,["interrupted"],s);const a=x(t,["groundingMetadata"]);a!=null&&v(e,["groundingMetadata"],a);const i=x(t,["generationComplete"]);i!=null&&v(e,["generationComplete"],i);const o=x(t,["inputTranscription"]);o!=null&&v(e,["inputTranscription"],kk(o));const l=x(t,["outputTranscription"]);return l!=null&&v(e,["outputTranscription"],kk(l)),e}function CZ(t){const e={},n=x(t,["args"]);n!=null&&v(e,["args"],n);const r=x(t,["name"]);return r!=null&&v(e,["name"],r),e}function EZ(t){const e={},n=x(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>CZ(s))),v(e,["functionCalls"],r)}return e}function _Z(t){const e={},n=x(t,["ids"]);return n!=null&&v(e,["ids"],n),e}function O1(t){const e={},n=x(t,["modality"]);n!=null&&v(e,["modality"],n);const r=x(t,["tokenCount"]);return r!=null&&v(e,["tokenCount"],r),e}function SZ(t){const e={},n=x(t,["promptTokenCount"]);n!=null&&v(e,["promptTokenCount"],n);const r=x(t,["cachedContentTokenCount"]);r!=null&&v(e,["cachedContentTokenCount"],r);const s=x(t,["candidatesTokenCount"]);s!=null&&v(e,["responseTokenCount"],s);const a=x(t,["toolUsePromptTokenCount"]);a!=null&&v(e,["toolUsePromptTokenCount"],a);const i=x(t,["thoughtsTokenCount"]);i!=null&&v(e,["thoughtsTokenCount"],i);const o=x(t,["totalTokenCount"]);o!=null&&v(e,["totalTokenCount"],o);const l=x(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(w=>O1(w))),v(e,["promptTokensDetails"],g)}const A=x(t,["cacheTokensDetails"]);if(A!=null){let g=A;Array.isArray(g)&&(g=g.map(w=>O1(w))),v(e,["cacheTokensDetails"],g)}const d=x(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(w=>O1(w))),v(e,["responseTokensDetails"],g)}const h=x(t,["toolUsePromptTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(w=>O1(w))),v(e,["toolUsePromptTokensDetails"],g)}const p=x(t,["trafficType"]);return p!=null&&v(e,["trafficType"],p),e}function TZ(t){const e={},n=x(t,["timeLeft"]);return n!=null&&v(e,["timeLeft"],n),e}function BZ(t){const e={},n=x(t,["newHandle"]);n!=null&&v(e,["newHandle"],n);const r=x(t,["resumable"]);r!=null&&v(e,["resumable"],r);const s=x(t,["lastConsumedClientMessageIndex"]);return s!=null&&v(e,["lastConsumedClientMessageIndex"],s),e}function NZ(t){const e={},n=x(t,["setupComplete"]);n!=null&&v(e,["setupComplete"],pZ(n));const r=x(t,["serverContent"]);r!=null&&v(e,["serverContent"],bZ(r));const s=x(t,["toolCall"]);s!=null&&v(e,["toolCall"],EZ(s));const a=x(t,["toolCallCancellation"]);a!=null&&v(e,["toolCallCancellation"],_Z(a));const i=x(t,["usageMetadata"]);i!=null&&v(e,["usageMetadata"],SZ(i));const o=x(t,["goAway"]);o!=null&&v(e,["goAway"],TZ(o));const l=x(t,["sessionResumptionUpdate"]);return l!=null&&v(e,["sessionResumptionUpdate"],BZ(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kZ(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function IZ(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["data"]);n!=null&&v(e,["data"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function FZ(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function RZ(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],kZ(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],IZ(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],FZ(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function Gy(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>RZ(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function DZ(t){const e={},n=x(t,["anyOf"]);n!=null&&v(e,["anyOf"],n);const r=x(t,["default"]);r!=null&&v(e,["default"],r);const s=x(t,["description"]);s!=null&&v(e,["description"],s);const a=x(t,["enum"]);a!=null&&v(e,["enum"],a);const i=x(t,["example"]);i!=null&&v(e,["example"],i);const o=x(t,["format"]);o!=null&&v(e,["format"],o);const l=x(t,["items"]);l!=null&&v(e,["items"],l);const A=x(t,["maxItems"]);A!=null&&v(e,["maxItems"],A);const d=x(t,["maxLength"]);d!=null&&v(e,["maxLength"],d);const h=x(t,["maxProperties"]);h!=null&&v(e,["maxProperties"],h);const p=x(t,["maximum"]);p!=null&&v(e,["maximum"],p);const g=x(t,["minItems"]);g!=null&&v(e,["minItems"],g);const w=x(t,["minLength"]);w!=null&&v(e,["minLength"],w);const b=x(t,["minProperties"]);b!=null&&v(e,["minProperties"],b);const E=x(t,["minimum"]);E!=null&&v(e,["minimum"],E);const T=x(t,["nullable"]);T!=null&&v(e,["nullable"],T);const I=x(t,["pattern"]);I!=null&&v(e,["pattern"],I);const k=x(t,["properties"]);k!=null&&v(e,["properties"],k);const F=x(t,["propertyOrdering"]);F!=null&&v(e,["propertyOrdering"],F);const D=x(t,["required"]);D!=null&&v(e,["required"],D);const P=x(t,["title"]);P!=null&&v(e,["title"],P);const S=x(t,["type"]);return S!=null&&v(e,["type"],S),e}function UZ(t){const e={};if(x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=x(t,["category"]);n!=null&&v(e,["category"],n);const r=x(t,["threshold"]);return r!=null&&v(e,["threshold"],r),e}function LZ(t){const e={},n=x(t,["behavior"]);n!=null&&v(e,["behavior"],n);const r=x(t,["description"]);r!=null&&v(e,["description"],r);const s=x(t,["name"]);s!=null&&v(e,["name"],s);const a=x(t,["parameters"]);a!=null&&v(e,["parameters"],a);const i=x(t,["parametersJsonSchema"]);i!=null&&v(e,["parametersJsonSchema"],i);const o=x(t,["response"]);o!=null&&v(e,["response"],o);const l=x(t,["responseJsonSchema"]);return l!=null&&v(e,["responseJsonSchema"],l),e}function MZ(t){const e={},n=x(t,["startTime"]);n!=null&&v(e,["startTime"],n);const r=x(t,["endTime"]);return r!=null&&v(e,["endTime"],r),e}function PZ(t){const e={},n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],MZ(n)),e}function OZ(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["dynamicThreshold"]);return r!=null&&v(e,["dynamicThreshold"],r),e}function jZ(t){const e={},n=x(t,["dynamicRetrievalConfig"]);return n!=null&&v(e,["dynamicRetrievalConfig"],OZ(n)),e}function QZ(){return{}}function HZ(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(A=>LZ(A))),v(e,["functionDeclarations"],l)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearch"]);r!=null&&v(e,["googleSearch"],PZ(r));const s=x(t,["googleSearchRetrieval"]);if(s!=null&&v(e,["googleSearchRetrieval"],jZ(s)),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(x(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");x(t,["urlContext"])!=null&&v(e,["urlContext"],QZ());const i=x(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const o=x(t,["computerUse"]);return o!=null&&v(e,["computerUse"],o),e}function VZ(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["allowedFunctionNames"]);return r!=null&&v(e,["allowedFunctionNames"],r),e}function GZ(t){const e={},n=x(t,["latitude"]);n!=null&&v(e,["latitude"],n);const r=x(t,["longitude"]);return r!=null&&v(e,["longitude"],r),e}function zZ(t){const e={},n=x(t,["latLng"]);n!=null&&v(e,["latLng"],GZ(n));const r=x(t,["languageCode"]);return r!=null&&v(e,["languageCode"],r),e}function KZ(t){const e={},n=x(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],VZ(n));const r=x(t,["retrievalConfig"]);return r!=null&&v(e,["retrievalConfig"],zZ(r)),e}function qZ(t){const e={},n=x(t,["voiceName"]);return n!=null&&v(e,["voiceName"],n),e}function r8(t){const e={},n=x(t,["prebuiltVoiceConfig"]);return n!=null&&v(e,["prebuiltVoiceConfig"],qZ(n)),e}function WZ(t){const e={},n=x(t,["speaker"]);n!=null&&v(e,["speaker"],n);const r=x(t,["voiceConfig"]);return r!=null&&v(e,["voiceConfig"],r8(r)),e}function $Z(t){const e={},n=x(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>WZ(s))),v(e,["speakerVoiceConfigs"],r)}return e}function YZ(t){const e={},n=x(t,["voiceConfig"]);n!=null&&v(e,["voiceConfig"],r8(n));const r=x(t,["multiSpeakerVoiceConfig"]);r!=null&&v(e,["multiSpeakerVoiceConfig"],$Z(r));const s=x(t,["languageCode"]);return s!=null&&v(e,["languageCode"],s),e}function JZ(t){const e={},n=x(t,["includeThoughts"]);n!=null&&v(e,["includeThoughts"],n);const r=x(t,["thinkingBudget"]);return r!=null&&v(e,["thinkingBudget"],r),e}function XZ(t,e,n){const r={},s=x(e,["systemInstruction"]);n!==void 0&&s!=null&&v(n,["systemInstruction"],Gy(Ri(s)));const a=x(e,["temperature"]);a!=null&&v(r,["temperature"],a);const i=x(e,["topP"]);i!=null&&v(r,["topP"],i);const o=x(e,["topK"]);o!=null&&v(r,["topK"],o);const l=x(e,["candidateCount"]);l!=null&&v(r,["candidateCount"],l);const A=x(e,["maxOutputTokens"]);A!=null&&v(r,["maxOutputTokens"],A);const d=x(e,["stopSequences"]);d!=null&&v(r,["stopSequences"],d);const h=x(e,["responseLogprobs"]);h!=null&&v(r,["responseLogprobs"],h);const p=x(e,["logprobs"]);p!=null&&v(r,["logprobs"],p);const g=x(e,["presencePenalty"]);g!=null&&v(r,["presencePenalty"],g);const w=x(e,["frequencyPenalty"]);w!=null&&v(r,["frequencyPenalty"],w);const b=x(e,["seed"]);b!=null&&v(r,["seed"],b);const E=x(e,["responseMimeType"]);E!=null&&v(r,["responseMimeType"],E);const T=x(e,["responseSchema"]);T!=null&&v(r,["responseSchema"],DZ(d5(T)));const I=x(e,["responseJsonSchema"]);if(I!=null&&v(r,["responseJsonSchema"],I),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=x(e,["safetySettings"]);if(n!==void 0&&k!=null){let U=k;Array.isArray(U)&&(U=U.map(L=>UZ(L))),v(n,["safetySettings"],U)}const F=x(e,["tools"]);if(n!==void 0&&F!=null){let U=km(F);Array.isArray(U)&&(U=U.map(L=>HZ(Nm(L)))),v(n,["tools"],U)}const D=x(e,["toolConfig"]);if(n!==void 0&&D!=null&&v(n,["toolConfig"],KZ(D)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=x(e,["cachedContent"]);n!==void 0&&P!=null&&v(n,["cachedContent"],Su(t,P));const S=x(e,["responseModalities"]);S!=null&&v(r,["responseModalities"],S);const N=x(e,["mediaResolution"]);N!=null&&v(r,["mediaResolution"],N);const B=x(e,["speechConfig"]);if(B!=null&&v(r,["speechConfig"],YZ(f5(B))),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=x(e,["thinkingConfig"]);return V!=null&&v(r,["thinkingConfig"],JZ(V)),r}function Ik(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],Or(t,r));const s=x(e,["contents"]);if(s!=null){let i=Bl(s);Array.isArray(i)&&(i=i.map(o=>Gy(o))),v(n,["contents"],i)}const a=x(e,["config"]);return a!=null&&v(n,["generationConfig"],XZ(t,a,n)),n}function ZZ(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&v(e,["requests[]","taskType"],r);const s=x(t,["title"]);e!==void 0&&s!=null&&v(e,["requests[]","title"],s);const a=x(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&v(e,["requests[]","outputDimensionality"],a),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function eee(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],Or(t,r));const s=x(e,["contents"]);s!=null&&v(n,["requests[]","content"],jL(t,s));const a=x(e,["config"]);a!=null&&v(n,["config"],ZZ(a,n));const i=x(e,["model"]);return i!==void 0&&v(n,["requests[]","model"],Or(t,i)),n}function tee(t,e){const n={};if(x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=x(t,["numberOfImages"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const s=x(t,["aspectRatio"]);e!==void 0&&s!=null&&v(e,["parameters","aspectRatio"],s);const a=x(t,["guidanceScale"]);if(e!==void 0&&a!=null&&v(e,["parameters","guidanceScale"],a),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=x(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&v(e,["parameters","safetySetting"],i);const o=x(t,["personGeneration"]);e!==void 0&&o!=null&&v(e,["parameters","personGeneration"],o);const l=x(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&v(e,["parameters","includeSafetyAttributes"],l);const A=x(t,["includeRaiReason"]);e!==void 0&&A!=null&&v(e,["parameters","includeRaiReason"],A);const d=x(t,["language"]);e!==void 0&&d!=null&&v(e,["parameters","language"],d);const h=x(t,["outputMimeType"]);e!==void 0&&h!=null&&v(e,["parameters","outputOptions","mimeType"],h);const p=x(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&v(e,["parameters","outputOptions","compressionQuality"],p),x(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(t,["imageSize"])!==void 0)throw new Error("imageSize parameter is not supported in Gemini API.");if(x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function nee(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],Or(t,r));const s=x(e,["prompt"]);s!=null&&v(n,["instances[0]","prompt"],s);const a=x(e,["config"]);return a!=null&&v(n,["config"],tee(a,n)),n}function ree(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","name"],Or(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function see(t,e,n){const r={},s=x(e,["pageSize"]);n!==void 0&&s!=null&&v(n,["_query","pageSize"],s);const a=x(e,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const i=x(e,["filter"]);n!==void 0&&i!=null&&v(n,["_query","filter"],i);const o=x(e,["queryBase"]);return n!==void 0&&o!=null&&v(n,["_url","models_url"],VL(t,o)),r}function aee(t,e){const n={},r=x(e,["config"]);return r!=null&&v(n,["config"],see(t,r,n)),n}function iee(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const s=x(t,["description"]);e!==void 0&&s!=null&&v(e,["description"],s);const a=x(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&v(e,["defaultCheckpointId"],a),n}function oee(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","name"],Or(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],iee(s,n)),n}function lee(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","name"],Or(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function cee(t){const e={};if(x(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Aee(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],Or(t,r));const s=x(e,["contents"]);if(s!=null){let i=Bl(s);Array.isArray(i)&&(i=i.map(o=>Gy(o))),v(n,["contents"],i)}const a=x(e,["config"]);return a!=null&&v(n,["config"],cee(a)),n}function uee(t){const e={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=x(t,["imageBytes"]);n!=null&&v(e,["bytesBase64Encoded"],yh(n));const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function dee(t,e){const n={},r=x(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r),x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=x(t,["durationSeconds"]);if(e!==void 0&&s!=null&&v(e,["parameters","durationSeconds"],s),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=x(t,["aspectRatio"]);if(e!==void 0&&a!=null&&v(e,["parameters","aspectRatio"],a),x(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const i=x(t,["personGeneration"]);if(e!==void 0&&i!=null&&v(e,["parameters","personGeneration"],i),x(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const o=x(t,["negativePrompt"]);e!==void 0&&o!=null&&v(e,["parameters","negativePrompt"],o);const l=x(t,["enhancePrompt"]);if(e!==void 0&&l!=null&&v(e,["parameters","enhancePrompt"],l),x(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(x(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(x(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function fee(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],Or(t,r));const s=x(e,["prompt"]);s!=null&&v(n,["instances[0]","prompt"],s);const a=x(e,["image"]);if(a!=null&&v(n,["instances[0]","image"],uee(a)),x(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const i=x(e,["config"]);return i!=null&&v(n,["config"],dee(i,n)),n}function hee(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function mee(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["data"]);r!=null&&v(e,["data"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function pee(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["fileUri"]);r!=null&&v(e,["fileUri"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function gee(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],hee(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],mee(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],pee(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function Fm(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>gee(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function xee(t){const e={},n=x(t,["anyOf"]);n!=null&&v(e,["anyOf"],n);const r=x(t,["default"]);r!=null&&v(e,["default"],r);const s=x(t,["description"]);s!=null&&v(e,["description"],s);const a=x(t,["enum"]);a!=null&&v(e,["enum"],a);const i=x(t,["example"]);i!=null&&v(e,["example"],i);const o=x(t,["format"]);o!=null&&v(e,["format"],o);const l=x(t,["items"]);l!=null&&v(e,["items"],l);const A=x(t,["maxItems"]);A!=null&&v(e,["maxItems"],A);const d=x(t,["maxLength"]);d!=null&&v(e,["maxLength"],d);const h=x(t,["maxProperties"]);h!=null&&v(e,["maxProperties"],h);const p=x(t,["maximum"]);p!=null&&v(e,["maximum"],p);const g=x(t,["minItems"]);g!=null&&v(e,["minItems"],g);const w=x(t,["minLength"]);w!=null&&v(e,["minLength"],w);const b=x(t,["minProperties"]);b!=null&&v(e,["minProperties"],b);const E=x(t,["minimum"]);E!=null&&v(e,["minimum"],E);const T=x(t,["nullable"]);T!=null&&v(e,["nullable"],T);const I=x(t,["pattern"]);I!=null&&v(e,["pattern"],I);const k=x(t,["properties"]);k!=null&&v(e,["properties"],k);const F=x(t,["propertyOrdering"]);F!=null&&v(e,["propertyOrdering"],F);const D=x(t,["required"]);D!=null&&v(e,["required"],D);const P=x(t,["title"]);P!=null&&v(e,["title"],P);const S=x(t,["type"]);return S!=null&&v(e,["type"],S),e}function vee(t){const e={},n=x(t,["featureSelectionPreference"]);return n!=null&&v(e,["featureSelectionPreference"],n),e}function yee(t){const e={},n=x(t,["method"]);n!=null&&v(e,["method"],n);const r=x(t,["category"]);r!=null&&v(e,["category"],r);const s=x(t,["threshold"]);return s!=null&&v(e,["threshold"],s),e}function wee(t){const e={};if(x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(t,["description"]);n!=null&&v(e,["description"],n);const r=x(t,["name"]);r!=null&&v(e,["name"],r);const s=x(t,["parameters"]);s!=null&&v(e,["parameters"],s);const a=x(t,["parametersJsonSchema"]);a!=null&&v(e,["parametersJsonSchema"],a);const i=x(t,["response"]);i!=null&&v(e,["response"],i);const o=x(t,["responseJsonSchema"]);return o!=null&&v(e,["responseJsonSchema"],o),e}function bee(t){const e={},n=x(t,["startTime"]);n!=null&&v(e,["startTime"],n);const r=x(t,["endTime"]);return r!=null&&v(e,["endTime"],r),e}function Cee(t){const e={},n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],bee(n)),e}function Eee(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["dynamicThreshold"]);return r!=null&&v(e,["dynamicThreshold"],r),e}function _ee(t){const e={},n=x(t,["dynamicRetrievalConfig"]);return n!=null&&v(e,["dynamicRetrievalConfig"],Eee(n)),e}function See(){return{}}function Tee(t){const e={},n=x(t,["apiKeyString"]);return n!=null&&v(e,["apiKeyString"],n),e}function Bee(t){const e={},n=x(t,["apiKeyConfig"]);n!=null&&v(e,["apiKeyConfig"],Tee(n));const r=x(t,["authType"]);r!=null&&v(e,["authType"],r);const s=x(t,["googleServiceAccountConfig"]);s!=null&&v(e,["googleServiceAccountConfig"],s);const a=x(t,["httpBasicAuthConfig"]);a!=null&&v(e,["httpBasicAuthConfig"],a);const i=x(t,["oauthConfig"]);i!=null&&v(e,["oauthConfig"],i);const o=x(t,["oidcConfig"]);return o!=null&&v(e,["oidcConfig"],o),e}function Nee(t){const e={},n=x(t,["authConfig"]);return n!=null&&v(e,["authConfig"],Bee(n)),e}function kee(){return{}}function s8(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>wee(p))),v(e,["functionDeclarations"],h)}const r=x(t,["retrieval"]);r!=null&&v(e,["retrieval"],r);const s=x(t,["googleSearch"]);s!=null&&v(e,["googleSearch"],Cee(s));const a=x(t,["googleSearchRetrieval"]);a!=null&&v(e,["googleSearchRetrieval"],_ee(a)),x(t,["enterpriseWebSearch"])!=null&&v(e,["enterpriseWebSearch"],See());const o=x(t,["googleMaps"]);o!=null&&v(e,["googleMaps"],Nee(o)),x(t,["urlContext"])!=null&&v(e,["urlContext"],kee());const A=x(t,["codeExecution"]);A!=null&&v(e,["codeExecution"],A);const d=x(t,["computerUse"]);return d!=null&&v(e,["computerUse"],d),e}function Iee(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["allowedFunctionNames"]);return r!=null&&v(e,["allowedFunctionNames"],r),e}function Fee(t){const e={},n=x(t,["latitude"]);n!=null&&v(e,["latitude"],n);const r=x(t,["longitude"]);return r!=null&&v(e,["longitude"],r),e}function Ree(t){const e={},n=x(t,["latLng"]);n!=null&&v(e,["latLng"],Fee(n));const r=x(t,["languageCode"]);return r!=null&&v(e,["languageCode"],r),e}function Dee(t){const e={},n=x(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],Iee(n));const r=x(t,["retrievalConfig"]);return r!=null&&v(e,["retrievalConfig"],Ree(r)),e}function Uee(t){const e={},n=x(t,["voiceName"]);return n!=null&&v(e,["voiceName"],n),e}function Lee(t){const e={},n=x(t,["prebuiltVoiceConfig"]);return n!=null&&v(e,["prebuiltVoiceConfig"],Uee(n)),e}function Mee(t){const e={},n=x(t,["voiceConfig"]);if(n!=null&&v(e,["voiceConfig"],Lee(n)),x(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=x(t,["languageCode"]);return r!=null&&v(e,["languageCode"],r),e}function Pee(t){const e={},n=x(t,["includeThoughts"]);n!=null&&v(e,["includeThoughts"],n);const r=x(t,["thinkingBudget"]);return r!=null&&v(e,["thinkingBudget"],r),e}function Oee(t,e,n){const r={},s=x(e,["systemInstruction"]);n!==void 0&&s!=null&&v(n,["systemInstruction"],Fm(Ri(s)));const a=x(e,["temperature"]);a!=null&&v(r,["temperature"],a);const i=x(e,["topP"]);i!=null&&v(r,["topP"],i);const o=x(e,["topK"]);o!=null&&v(r,["topK"],o);const l=x(e,["candidateCount"]);l!=null&&v(r,["candidateCount"],l);const A=x(e,["maxOutputTokens"]);A!=null&&v(r,["maxOutputTokens"],A);const d=x(e,["stopSequences"]);d!=null&&v(r,["stopSequences"],d);const h=x(e,["responseLogprobs"]);h!=null&&v(r,["responseLogprobs"],h);const p=x(e,["logprobs"]);p!=null&&v(r,["logprobs"],p);const g=x(e,["presencePenalty"]);g!=null&&v(r,["presencePenalty"],g);const w=x(e,["frequencyPenalty"]);w!=null&&v(r,["frequencyPenalty"],w);const b=x(e,["seed"]);b!=null&&v(r,["seed"],b);const E=x(e,["responseMimeType"]);E!=null&&v(r,["responseMimeType"],E);const T=x(e,["responseSchema"]);T!=null&&v(r,["responseSchema"],xee(d5(T)));const I=x(e,["responseJsonSchema"]);I!=null&&v(r,["responseJsonSchema"],I);const k=x(e,["routingConfig"]);k!=null&&v(r,["routingConfig"],k);const F=x(e,["modelSelectionConfig"]);F!=null&&v(r,["modelConfig"],vee(F));const D=x(e,["safetySettings"]);if(n!==void 0&&D!=null){let se=D;Array.isArray(se)&&(se=se.map(K=>yee(K))),v(n,["safetySettings"],se)}const P=x(e,["tools"]);if(n!==void 0&&P!=null){let se=km(P);Array.isArray(se)&&(se=se.map(K=>s8(Nm(K)))),v(n,["tools"],se)}const S=x(e,["toolConfig"]);n!==void 0&&S!=null&&v(n,["toolConfig"],Dee(S));const N=x(e,["labels"]);n!==void 0&&N!=null&&v(n,["labels"],N);const B=x(e,["cachedContent"]);n!==void 0&&B!=null&&v(n,["cachedContent"],Su(t,B));const V=x(e,["responseModalities"]);V!=null&&v(r,["responseModalities"],V);const U=x(e,["mediaResolution"]);U!=null&&v(r,["mediaResolution"],U);const L=x(e,["speechConfig"]);L!=null&&v(r,["speechConfig"],Mee(f5(L)));const j=x(e,["audioTimestamp"]);j!=null&&v(r,["audioTimestamp"],j);const G=x(e,["thinkingConfig"]);return G!=null&&v(r,["thinkingConfig"],Pee(G)),r}function Fk(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],Or(t,r));const s=x(e,["contents"]);if(s!=null){let i=Bl(s);Array.isArray(i)&&(i=i.map(o=>Fm(o))),v(n,["contents"],i)}const a=x(e,["config"]);return a!=null&&v(n,["generationConfig"],Oee(t,a,n)),n}function jee(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&v(e,["instances[]","task_type"],r);const s=x(t,["title"]);e!==void 0&&s!=null&&v(e,["instances[]","title"],s);const a=x(t,["outputDimensionality"]);e!==void 0&&a!=null&&v(e,["parameters","outputDimensionality"],a);const i=x(t,["mimeType"]);e!==void 0&&i!=null&&v(e,["instances[]","mimeType"],i);const o=x(t,["autoTruncate"]);return e!==void 0&&o!=null&&v(e,["parameters","autoTruncate"],o),n}function Qee(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],Or(t,r));const s=x(e,["contents"]);s!=null&&v(n,["instances[]","content"],jL(t,s));const a=x(e,["config"]);return a!=null&&v(n,["config"],jee(a,n)),n}function Hee(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const s=x(t,["negativePrompt"]);e!==void 0&&s!=null&&v(e,["parameters","negativePrompt"],s);const a=x(t,["numberOfImages"]);e!==void 0&&a!=null&&v(e,["parameters","sampleCount"],a);const i=x(t,["aspectRatio"]);e!==void 0&&i!=null&&v(e,["parameters","aspectRatio"],i);const o=x(t,["guidanceScale"]);e!==void 0&&o!=null&&v(e,["parameters","guidanceScale"],o);const l=x(t,["seed"]);e!==void 0&&l!=null&&v(e,["parameters","seed"],l);const A=x(t,["safetyFilterLevel"]);e!==void 0&&A!=null&&v(e,["parameters","safetySetting"],A);const d=x(t,["personGeneration"]);e!==void 0&&d!=null&&v(e,["parameters","personGeneration"],d);const h=x(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&v(e,["parameters","includeSafetyAttributes"],h);const p=x(t,["includeRaiReason"]);e!==void 0&&p!=null&&v(e,["parameters","includeRaiReason"],p);const g=x(t,["language"]);e!==void 0&&g!=null&&v(e,["parameters","language"],g);const w=x(t,["outputMimeType"]);e!==void 0&&w!=null&&v(e,["parameters","outputOptions","mimeType"],w);const b=x(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&v(e,["parameters","outputOptions","compressionQuality"],b);const E=x(t,["addWatermark"]);e!==void 0&&E!=null&&v(e,["parameters","addWatermark"],E);const T=x(t,["imageSize"]);e!==void 0&&T!=null&&v(e,["parameters","sampleImageSize"],T);const I=x(t,["enhancePrompt"]);return e!==void 0&&I!=null&&v(e,["parameters","enhancePrompt"],I),n}function Vee(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],Or(t,r));const s=x(e,["prompt"]);s!=null&&v(n,["instances[0]","prompt"],s);const a=x(e,["config"]);return a!=null&&v(n,["config"],Hee(a,n)),n}function zy(t){const e={},n=x(t,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const r=x(t,["imageBytes"]);r!=null&&v(e,["bytesBase64Encoded"],yh(r));const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function Gee(t){const e={},n=x(t,["maskMode"]);n!=null&&v(e,["maskMode"],n);const r=x(t,["segmentationClasses"]);r!=null&&v(e,["maskClasses"],r);const s=x(t,["maskDilation"]);return s!=null&&v(e,["dilation"],s),e}function zee(t){const e={},n=x(t,["controlType"]);n!=null&&v(e,["controlType"],n);const r=x(t,["enableControlImageComputation"]);return r!=null&&v(e,["computeControl"],r),e}function Kee(t){const e={},n=x(t,["styleDescription"]);return n!=null&&v(e,["styleDescription"],n),e}function qee(t){const e={},n=x(t,["subjectType"]);n!=null&&v(e,["subjectType"],n);const r=x(t,["subjectDescription"]);return r!=null&&v(e,["subjectDescription"],r),e}function Wee(t){const e={},n=x(t,["referenceImage"]);n!=null&&v(e,["referenceImage"],zy(n));const r=x(t,["referenceId"]);r!=null&&v(e,["referenceId"],r);const s=x(t,["referenceType"]);s!=null&&v(e,["referenceType"],s);const a=x(t,["maskImageConfig"]);a!=null&&v(e,["maskImageConfig"],Gee(a));const i=x(t,["controlImageConfig"]);i!=null&&v(e,["controlImageConfig"],zee(i));const o=x(t,["styleImageConfig"]);o!=null&&v(e,["styleImageConfig"],Kee(o));const l=x(t,["subjectImageConfig"]);return l!=null&&v(e,["subjectImageConfig"],qee(l)),e}function $ee(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const s=x(t,["negativePrompt"]);e!==void 0&&s!=null&&v(e,["parameters","negativePrompt"],s);const a=x(t,["numberOfImages"]);e!==void 0&&a!=null&&v(e,["parameters","sampleCount"],a);const i=x(t,["aspectRatio"]);e!==void 0&&i!=null&&v(e,["parameters","aspectRatio"],i);const o=x(t,["guidanceScale"]);e!==void 0&&o!=null&&v(e,["parameters","guidanceScale"],o);const l=x(t,["seed"]);e!==void 0&&l!=null&&v(e,["parameters","seed"],l);const A=x(t,["safetyFilterLevel"]);e!==void 0&&A!=null&&v(e,["parameters","safetySetting"],A);const d=x(t,["personGeneration"]);e!==void 0&&d!=null&&v(e,["parameters","personGeneration"],d);const h=x(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&v(e,["parameters","includeSafetyAttributes"],h);const p=x(t,["includeRaiReason"]);e!==void 0&&p!=null&&v(e,["parameters","includeRaiReason"],p);const g=x(t,["language"]);e!==void 0&&g!=null&&v(e,["parameters","language"],g);const w=x(t,["outputMimeType"]);e!==void 0&&w!=null&&v(e,["parameters","outputOptions","mimeType"],w);const b=x(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&v(e,["parameters","outputOptions","compressionQuality"],b);const E=x(t,["addWatermark"]);e!==void 0&&E!=null&&v(e,["parameters","addWatermark"],E);const T=x(t,["editMode"]);e!==void 0&&T!=null&&v(e,["parameters","editMode"],T);const I=x(t,["baseSteps"]);return e!==void 0&&I!=null&&v(e,["parameters","editConfig","baseSteps"],I),n}function Yee(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],Or(t,r));const s=x(e,["prompt"]);s!=null&&v(n,["instances[0]","prompt"],s);const a=x(e,["referenceImages"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>Wee(l))),v(n,["instances[0]","referenceImages"],o)}const i=x(e,["config"]);return i!=null&&v(n,["config"],$ee(i,n)),n}function Jee(t,e){const n={},r=x(t,["includeRaiReason"]);e!==void 0&&r!=null&&v(e,["parameters","includeRaiReason"],r);const s=x(t,["outputMimeType"]);e!==void 0&&s!=null&&v(e,["parameters","outputOptions","mimeType"],s);const a=x(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&v(e,["parameters","outputOptions","compressionQuality"],a);const i=x(t,["enhanceInputImage"]);e!==void 0&&i!=null&&v(e,["parameters","upscaleConfig","enhanceInputImage"],i);const o=x(t,["imagePreservationFactor"]);e!==void 0&&o!=null&&v(e,["parameters","upscaleConfig","imagePreservationFactor"],o);const l=x(t,["numberOfImages"]);e!==void 0&&l!=null&&v(e,["parameters","sampleCount"],l);const A=x(t,["mode"]);return e!==void 0&&A!=null&&v(e,["parameters","mode"],A),n}function Xee(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],Or(t,r));const s=x(e,["image"]);s!=null&&v(n,["instances[0]","image"],zy(s));const a=x(e,["upscaleFactor"]);a!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],a);const i=x(e,["config"]);return i!=null&&v(n,["config"],Jee(i,n)),n}function Zee(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","name"],Or(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function ete(t,e,n){const r={},s=x(e,["pageSize"]);n!==void 0&&s!=null&&v(n,["_query","pageSize"],s);const a=x(e,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const i=x(e,["filter"]);n!==void 0&&i!=null&&v(n,["_query","filter"],i);const o=x(e,["queryBase"]);return n!==void 0&&o!=null&&v(n,["_url","models_url"],VL(t,o)),r}function tte(t,e){const n={},r=x(e,["config"]);return r!=null&&v(n,["config"],ete(t,r,n)),n}function nte(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const s=x(t,["description"]);e!==void 0&&s!=null&&v(e,["description"],s);const a=x(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&v(e,["defaultCheckpointId"],a),n}function rte(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],Or(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],nte(s,n)),n}function ste(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","name"],Or(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],s),n}function ate(t,e){const n={},r=x(t,["systemInstruction"]);e!==void 0&&r!=null&&v(e,["systemInstruction"],Fm(Ri(r)));const s=x(t,["tools"]);if(e!==void 0&&s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>s8(o))),v(e,["tools"],i)}const a=x(t,["generationConfig"]);return e!==void 0&&a!=null&&v(e,["generationConfig"],a),n}function ite(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],Or(t,r));const s=x(e,["contents"]);if(s!=null){let i=Bl(s);Array.isArray(i)&&(i=i.map(o=>Fm(o))),v(n,["contents"],i)}const a=x(e,["config"]);return a!=null&&v(n,["config"],ate(a,n)),n}function ote(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],Or(t,r));const s=x(e,["contents"]);if(s!=null){let i=Bl(s);Array.isArray(i)&&(i=i.map(o=>Fm(o))),v(n,["contents"],i)}const a=x(e,["config"]);return a!=null&&v(n,["config"],a),n}function lte(t){const e={},n=x(t,["uri"]);n!=null&&v(e,["gcsUri"],n);const r=x(t,["videoBytes"]);r!=null&&v(e,["bytesBase64Encoded"],yh(r));const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function cte(t,e){const n={},r=x(t,["numberOfVideos"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const s=x(t,["outputGcsUri"]);e!==void 0&&s!=null&&v(e,["parameters","storageUri"],s);const a=x(t,["fps"]);e!==void 0&&a!=null&&v(e,["parameters","fps"],a);const i=x(t,["durationSeconds"]);e!==void 0&&i!=null&&v(e,["parameters","durationSeconds"],i);const o=x(t,["seed"]);e!==void 0&&o!=null&&v(e,["parameters","seed"],o);const l=x(t,["aspectRatio"]);e!==void 0&&l!=null&&v(e,["parameters","aspectRatio"],l);const A=x(t,["resolution"]);e!==void 0&&A!=null&&v(e,["parameters","resolution"],A);const d=x(t,["personGeneration"]);e!==void 0&&d!=null&&v(e,["parameters","personGeneration"],d);const h=x(t,["pubsubTopic"]);e!==void 0&&h!=null&&v(e,["parameters","pubsubTopic"],h);const p=x(t,["negativePrompt"]);e!==void 0&&p!=null&&v(e,["parameters","negativePrompt"],p);const g=x(t,["enhancePrompt"]);e!==void 0&&g!=null&&v(e,["parameters","enhancePrompt"],g);const w=x(t,["generateAudio"]);e!==void 0&&w!=null&&v(e,["parameters","generateAudio"],w);const b=x(t,["lastFrame"]);e!==void 0&&b!=null&&v(e,["instances[0]","lastFrame"],zy(b));const E=x(t,["compressionQuality"]);return e!==void 0&&E!=null&&v(e,["parameters","compressionQuality"],E),n}function Ate(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["_url","model"],Or(t,r));const s=x(e,["prompt"]);s!=null&&v(n,["instances[0]","prompt"],s);const a=x(e,["image"]);a!=null&&v(n,["instances[0]","image"],zy(a));const i=x(e,["video"]);i!=null&&v(n,["instances[0]","video"],lte(i));const o=x(e,["config"]);return o!=null&&v(n,["config"],cte(o,n)),n}function ute(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function dte(t){const e={},n=x(t,["data"]);n!=null&&v(e,["data"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function fte(t){const e={},n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function hte(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],ute(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],dte(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],fte(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function mte(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>hte(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function pte(t){const e={},n=x(t,["citationSources"]);return n!=null&&v(e,["citations"],n),e}function gte(t){const e={},n=x(t,["retrievedUrl"]);n!=null&&v(e,["retrievedUrl"],n);const r=x(t,["urlRetrievalStatus"]);return r!=null&&v(e,["urlRetrievalStatus"],r),e}function xte(t){const e={},n=x(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>gte(s))),v(e,["urlMetadata"],r)}return e}function vte(t){const e={},n=x(t,["content"]);n!=null&&v(e,["content"],mte(n));const r=x(t,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],pte(r));const s=x(t,["tokenCount"]);s!=null&&v(e,["tokenCount"],s);const a=x(t,["finishReason"]);a!=null&&v(e,["finishReason"],a);const i=x(t,["urlContextMetadata"]);i!=null&&v(e,["urlContextMetadata"],xte(i));const o=x(t,["avgLogprobs"]);o!=null&&v(e,["avgLogprobs"],o);const l=x(t,["groundingMetadata"]);l!=null&&v(e,["groundingMetadata"],l);const A=x(t,["index"]);A!=null&&v(e,["index"],A);const d=x(t,["logprobsResult"]);d!=null&&v(e,["logprobsResult"],d);const h=x(t,["safetyRatings"]);return h!=null&&v(e,["safetyRatings"],h),e}function Rk(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>vte(l))),v(e,["candidates"],o)}const s=x(t,["modelVersion"]);s!=null&&v(e,["modelVersion"],s);const a=x(t,["promptFeedback"]);a!=null&&v(e,["promptFeedback"],a);const i=x(t,["usageMetadata"]);return i!=null&&v(e,["usageMetadata"],i),e}function yte(t){const e={},n=x(t,["values"]);return n!=null&&v(e,["values"],n),e}function wte(){return{}}function bte(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>yte(i))),v(e,["embeddings"],a)}return x(t,["metadata"])!=null&&v(e,["metadata"],wte()),e}function Cte(t){const e={},n=x(t,["bytesBase64Encoded"]);n!=null&&v(e,["imageBytes"],yh(n));const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function a8(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&v(e,["scores"],r);const s=x(t,["contentType"]);return s!=null&&v(e,["contentType"],s),e}function Ete(t){const e={},n=x(t,["_self"]);n!=null&&v(e,["image"],Cte(n));const r=x(t,["raiFilteredReason"]);r!=null&&v(e,["raiFilteredReason"],r);const s=x(t,["_self"]);return s!=null&&v(e,["safetyAttributes"],a8(s)),e}function _te(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Ete(i))),v(e,["generatedImages"],a)}const s=x(t,["positivePromptSafetyAttributes"]);return s!=null&&v(e,["positivePromptSafetyAttributes"],a8(s)),e}function Ste(t){const e={},n=x(t,["baseModel"]);n!=null&&v(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&v(e,["createTime"],r);const s=x(t,["updateTime"]);return s!=null&&v(e,["updateTime"],s),e}function n_(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["displayName"]);r!=null&&v(e,["displayName"],r);const s=x(t,["description"]);s!=null&&v(e,["description"],s);const a=x(t,["version"]);a!=null&&v(e,["version"],a);const i=x(t,["_self"]);i!=null&&v(e,["tunedModelInfo"],Ste(i));const o=x(t,["inputTokenLimit"]);o!=null&&v(e,["inputTokenLimit"],o);const l=x(t,["outputTokenLimit"]);l!=null&&v(e,["outputTokenLimit"],l);const A=x(t,["supportedGenerationMethods"]);return A!=null&&v(e,["supportedActions"],A),e}function Tte(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const s=x(t,["_self"]);if(s!=null){let a=GL(s);Array.isArray(a)&&(a=a.map(i=>n_(i))),v(e,["models"],a)}return e}function Bte(){return{}}function Nte(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);r!=null&&v(e,["totalTokens"],r);const s=x(t,["cachedContentTokenCount"]);return s!=null&&v(e,["cachedContentTokenCount"],s),e}function kte(t){const e={},n=x(t,["video","uri"]);n!=null&&v(e,["uri"],n);const r=x(t,["video","encodedVideo"]);r!=null&&v(e,["videoBytes"],yh(r));const s=x(t,["encoding"]);return s!=null&&v(e,["mimeType"],s),e}function Ite(t){const e={},n=x(t,["_self"]);return n!=null&&v(e,["video"],kte(n)),e}function Fte(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>Ite(i))),v(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const s=x(t,["raiMediaFilteredReasons"]);return s!=null&&v(e,["raiMediaFilteredReasons"],s),e}function Rte(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["metadata"]);r!=null&&v(e,["metadata"],r);const s=x(t,["done"]);s!=null&&v(e,["done"],s);const a=x(t,["error"]);a!=null&&v(e,["error"],a);const i=x(t,["response","generateVideoResponse"]);return i!=null&&v(e,["response"],Fte(i)),e}function Dte(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function Ute(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["data"]);r!=null&&v(e,["data"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function Lte(t){const e={},n=x(t,["displayName"]);n!=null&&v(e,["displayName"],n);const r=x(t,["fileUri"]);r!=null&&v(e,["fileUri"],r);const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function Mte(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],Dte(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],Ute(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],Lte(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function Pte(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Mte(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function Ote(t){const e={},n=x(t,["citations"]);return n!=null&&v(e,["citations"],n),e}function jte(t){const e={},n=x(t,["retrievedUrl"]);n!=null&&v(e,["retrievedUrl"],n);const r=x(t,["urlRetrievalStatus"]);return r!=null&&v(e,["urlRetrievalStatus"],r),e}function Qte(t){const e={},n=x(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>jte(s))),v(e,["urlMetadata"],r)}return e}function Hte(t){const e={},n=x(t,["content"]);n!=null&&v(e,["content"],Pte(n));const r=x(t,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],Ote(r));const s=x(t,["finishMessage"]);s!=null&&v(e,["finishMessage"],s);const a=x(t,["finishReason"]);a!=null&&v(e,["finishReason"],a);const i=x(t,["urlContextMetadata"]);i!=null&&v(e,["urlContextMetadata"],Qte(i));const o=x(t,["avgLogprobs"]);o!=null&&v(e,["avgLogprobs"],o);const l=x(t,["groundingMetadata"]);l!=null&&v(e,["groundingMetadata"],l);const A=x(t,["index"]);A!=null&&v(e,["index"],A);const d=x(t,["logprobsResult"]);d!=null&&v(e,["logprobsResult"],d);const h=x(t,["safetyRatings"]);return h!=null&&v(e,["safetyRatings"],h),e}function Dk(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let A=r;Array.isArray(A)&&(A=A.map(d=>Hte(d))),v(e,["candidates"],A)}const s=x(t,["createTime"]);s!=null&&v(e,["createTime"],s);const a=x(t,["responseId"]);a!=null&&v(e,["responseId"],a);const i=x(t,["modelVersion"]);i!=null&&v(e,["modelVersion"],i);const o=x(t,["promptFeedback"]);o!=null&&v(e,["promptFeedback"],o);const l=x(t,["usageMetadata"]);return l!=null&&v(e,["usageMetadata"],l),e}function Vte(t){const e={},n=x(t,["truncated"]);n!=null&&v(e,["truncated"],n);const r=x(t,["token_count"]);return r!=null&&v(e,["tokenCount"],r),e}function Gte(t){const e={},n=x(t,["values"]);n!=null&&v(e,["values"],n);const r=x(t,["statistics"]);return r!=null&&v(e,["statistics"],Vte(r)),e}function zte(t){const e={},n=x(t,["billableCharacterCount"]);return n!=null&&v(e,["billableCharacterCount"],n),e}function Kte(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Gte(i))),v(e,["embeddings"],a)}const s=x(t,["metadata"]);return s!=null&&v(e,["metadata"],zte(s)),e}function qte(t){const e={},n=x(t,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&v(e,["imageBytes"],yh(r));const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function i8(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&v(e,["scores"],r);const s=x(t,["contentType"]);return s!=null&&v(e,["contentType"],s),e}function m5(t){const e={},n=x(t,["_self"]);n!=null&&v(e,["image"],qte(n));const r=x(t,["raiFilteredReason"]);r!=null&&v(e,["raiFilteredReason"],r);const s=x(t,["_self"]);s!=null&&v(e,["safetyAttributes"],i8(s));const a=x(t,["prompt"]);return a!=null&&v(e,["enhancedPrompt"],a),e}function Wte(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>m5(i))),v(e,["generatedImages"],a)}const s=x(t,["positivePromptSafetyAttributes"]);return s!=null&&v(e,["positivePromptSafetyAttributes"],i8(s)),e}function $te(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>m5(a))),v(e,["generatedImages"],s)}return e}function Yte(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>m5(a))),v(e,["generatedImages"],s)}return e}function Jte(t){const e={},n=x(t,["endpoint"]);n!=null&&v(e,["name"],n);const r=x(t,["deployedModelId"]);return r!=null&&v(e,["deployedModelId"],r),e}function Xte(t){const e={},n=x(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&v(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&v(e,["createTime"],r);const s=x(t,["updateTime"]);return s!=null&&v(e,["updateTime"],s),e}function Zte(t){const e={},n=x(t,["checkpointId"]);n!=null&&v(e,["checkpointId"],n);const r=x(t,["epoch"]);r!=null&&v(e,["epoch"],r);const s=x(t,["step"]);return s!=null&&v(e,["step"],s),e}function r_(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["displayName"]);r!=null&&v(e,["displayName"],r);const s=x(t,["description"]);s!=null&&v(e,["description"],s);const a=x(t,["versionId"]);a!=null&&v(e,["version"],a);const i=x(t,["deployedModels"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>Jte(p))),v(e,["endpoints"],h)}const o=x(t,["labels"]);o!=null&&v(e,["labels"],o);const l=x(t,["_self"]);l!=null&&v(e,["tunedModelInfo"],Xte(l));const A=x(t,["defaultCheckpointId"]);A!=null&&v(e,["defaultCheckpointId"],A);const d=x(t,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(p=>Zte(p))),v(e,["checkpoints"],h)}return e}function ene(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const s=x(t,["_self"]);if(s!=null){let a=GL(s);Array.isArray(a)&&(a=a.map(i=>r_(i))),v(e,["models"],a)}return e}function tne(){return{}}function nne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);return r!=null&&v(e,["totalTokens"],r),e}function rne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["tokensInfo"]);return r!=null&&v(e,["tokensInfo"],r),e}function sne(t){const e={},n=x(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&v(e,["videoBytes"],yh(r));const s=x(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function ane(t){const e={},n=x(t,["_self"]);return n!=null&&v(e,["video"],sne(n)),e}function ine(t){const e={},n=x(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>ane(i))),v(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const s=x(t,["raiMediaFilteredReasons"]);return s!=null&&v(e,["raiMediaFilteredReasons"],s),e}function one(t){const e={},n=x(t,["name"]);n!=null&&v(e,["name"],n);const r=x(t,["metadata"]);r!=null&&v(e,["metadata"],r);const s=x(t,["done"]);s!=null&&v(e,["done"],s);const a=x(t,["error"]);a!=null&&v(e,["error"],a);const i=x(t,["response"]);return i!=null&&v(e,["response"],ine(i)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lne="Content-Type",cne="X-Server-Timeout",Ane="User-Agent",s_="x-goog-api-client",une="1.12.0",dne=`google-genai-sdk/${une}`,fne="v1beta1",hne="v1beta",Uk=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class mne{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:fne,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:hne,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const s=[this.getRequestUrlInternal(n)];return r&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[i,o]of Object.entries(e.queryParams))s.searchParams.append(i,String(o));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(s,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[s,a]of Object.entries(n))typeof a=="object"?r[s]=Object.assign(Object.assign({},r[s]),a):a!==void 0&&(r[s]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,r);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(s,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const s=new AbortController,a=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const i=setTimeout(()=>s.abort(),n.timeout);i&&typeof i.unref=="function"&&i.unref()}r&&r.addEventListener("abort",()=>{s.abort()}),e.signal=a}return n&&n.extraBody!==null&&pne(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await Lk(s),new YE(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await Lk(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var n;return V0(this,arguments,function*(){const s=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let i="";for(;;){const{done:o,value:l}=yield ts(s.read());if(o){if(i.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const A=a.decode(l,{stream:!0});try{const h=JSON.parse(A);if("error"in h){const p=JSON.parse(JSON.stringify(h.error)),g=p.status,w=p.code,b=`got status: ${g}. ${JSON.stringify(h)}`;if(w>=400&&w<600)throw new Vy({message:b,status:w})}}catch(h){if(h.name==="ApiError")throw h}i+=A;let d=i.match(Uk);for(;d;){const h=d[1];try{const p=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ts(new YE(p)),i=i.slice(d[0].length),d=i.match(Uk)}catch(p){throw new Error(`exception parsing stream chunk ${h}. ${p}`)}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=dne+" "+this.clientOptions.userAgentExtra;return e[Ane]=n,e[s_]=n,e[lne]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,s]of Object.entries(e.headers))n.append(r,s);e.timeout&&e.timeout>0&&n.append(cne,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const a=this.clientOptions.uploader,i=await a.stat(e);s.sizeBytes=String(i.size);const o=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:i.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=o;const l=await this.fetchUploadUrl(s,n);return a.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let s={};n!=null&&n.httpOptions?s=n.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},i=await this.request({path:nn("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:s});if(!i||!(i!=null&&i.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const o=(r=i==null?void 0:i.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(o===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return o}}async function Lk(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(r);throw n>=400&&n<600?new Vy({message:s,status:n}):new Error(s)}}function pne(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,i){const o=Object.assign({},a);for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const A=i[l],d=o[l];A&&typeof A=="object"&&!Array.isArray(A)&&d&&typeof d=="object"&&!Array.isArray(d)?o[l]=r(d,A):(d&&A&&typeof d!=typeof A&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof A}. Overwriting.`),o[l]=A)}return o}const s=r(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gne="mcp_used/unknown";let xne=!1;function o8(t){for(const e of t)if(vne(e)||typeof e=="object"&&"inputSchema"in e)return!0;return xne}function l8(t){var e;const n=(e=t[s_])!==null&&e!==void 0?e:"";t[s_]=(n+` ${gne}`).trimStart()}function vne(t){return t!==null&&typeof t=="object"&&t instanceof p5}function yne(t,e=100){return V0(this,arguments,function*(){let r,s=0;for(;s<e;){const a=yield ts(t.listTools({cursor:r}));for(const i of a.tools)yield yield ts(i),s++;if(!a.nextCursor)break;r=a.nextCursor}})}class p5{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new p5(e,n)}async initialize(){var e,n,r,s;if(this.mcpTools.length>0)return;const a={},i=[];for(const d of this.mcpClients)try{for(var o=!0,l=(n=void 0,ug(yne(d))),A;A=await l.next(),e=A.done,!e;o=!0){s=A.value,o=!1;const h=s;i.push(h);const p=h.name;if(a[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);a[p]=d}}catch(h){n={error:h}}finally{try{!o&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=i,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),m$(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const i=await s.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:i.isError?{error:i}:i}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function wne(t,e,n){const r=new o$;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data);const a=mZ(s);Object.assign(r,a),e(r)}class bne{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),i=_ne(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${s}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${o}`;let A=()=>{};const d=new Promise(k=>{A=k}),h=e.callbacks,p=function(){A({})},g=this.apiClient,w={onopen:p,onmessage:k=>{wne(g,h.onmessage,k)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(k){}},b=this.webSocketFactory.create(l,Ene(i),w);b.connect(),await d;const E=Or(this.apiClient,e.model),T=t8({model:E}),I=t_({setup:T});return b.send(JSON.stringify(I)),new Cne(b,this.apiClient)}}class Cne{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=fX(e),r=n8(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=hX(e),r=t_(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=t_({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(F0.PLAY)}pause(){this.sendPlaybackControl(F0.PAUSE)}stop(){this.sendPlaybackControl(F0.STOP)}resetContext(){this.sendPlaybackControl(F0.RESET_CONTEXT)}close(){this.conn.close()}}function Ene(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function _ne(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sne="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Tne(t,e,n){const r=new i$;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const a=JSON.parse(s);if(t.isVertexAI()){const i=NZ(a);Object.assign(r,i)}else{const i=iZ(a);Object.assign(r,i)}e(r)}class Bne{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new bne(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,s,a,i,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),A=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&o8(e.config.tools)&&l8(h);const p=Fne(h);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${A}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p);else{const B=this.apiClient.getApiKey();let V="BidiGenerateContent",U="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),A!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),V="BidiGenerateContentConstrained",U="access_token"),d=`${l}/ws/google.ai.generativelanguage.${A}.GenerativeService.${V}?${U}=${B}`}let g=()=>{};const w=new Promise(B=>{g=B}),b=e.callbacks,E=function(){var B;(B=b==null?void 0:b.onopen)===null||B===void 0||B.call(b),g({})},T=this.apiClient,I={onopen:E,onmessage:B=>{Tne(T,b.onmessage,B)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(B){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(B){}},k=this.webSocketFactory.create(d,Ine(p),I);k.connect(),await w;let F=Or(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const B=this.apiClient.getProject(),V=this.apiClient.getLocation();F=`projects/${B}/locations/${V}/`+F}let D={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[k2.AUDIO]}:e.config.responseModalities=[k2.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(o=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[],S=[];for(const B of P)if(this.isCallableTool(B)){const V=B;S.push(await V.tool())}else S.push(B);S.length>0&&(e.config.tools=S);const N={model:F,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?D=QX(this.apiClient,N):D=cX(this.apiClient,N),delete D.config,k.send(JSON.stringify(D)),new kne(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Nne={turnComplete:!0};class kne{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Bl(n.turns),e.isVertexAI()?r=r.map(s=>Fm(s)):r=r.map(s=>Gy(s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(Sne)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Nne),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:GX(e)}:n={realtimeInput:dX(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Ine(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Fne(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mk=10;function Pk(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const i of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(G0(i)){s=!0;break}if(!s)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function G0(t){return"callTool"in t&&typeof t.callTool=="function"}function Rne(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>G0(s)))!==null&&r!==void 0?r:!1}function Dne(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>!G0(s)))!==null&&r!==void 0?r:!1}function Ok(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Une extends vh{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,s,a,i,o;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Rne(n)||Pk(n.config))return await this.generateContentInternal(l);if(Dne(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let A,d;const h=Bl(l.contents),p=(a=(s=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:Mk;let g=0;for(;g<p&&(A=await this.generateContentInternal(l),!(!A.functionCalls||A.functionCalls.length===0));){const w=A.candidates[0].content,b=[];for(const E of(o=(i=n.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[])if(G0(E)){const I=await E.callTool(A.functionCalls);b.push(...I)}g++,d={role:"user",parts:b},l.contents=Bl(l.contents),l.contents.push(w),l.contents.push(d),Ok(l.config)&&(h.push(w),h.push(d))}return Ok(l.config)&&(A.automaticFunctionCallingHistory=h),A},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Pk(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var s;let a;const i=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((s=l==null?void 0:l.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?a=l==null?void 0:l.safetyAttributes:i.push(l);let o;return a?o={generatedImages:i,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:i,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async n=>{var r;const i={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!i.config.queryBase){if(!((r=i.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");i.config.filter="labels.tune-type:*"}return new xx(oh.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(i),i)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>await this.generateVideosInternal(n)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,s;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const i=await Promise.all(a.map(async l=>G0(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:i})};if(o.config.tools=i,e.config&&e.config.tools&&o8(e.config.tools)){const l=(s=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&s!==void 0?s:{};let A=Object.assign({},l);Object.keys(A).length===0&&(A=this.apiClient.getDefaultHeaders()),l8(A),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:A})}return o}async initAfcToolsMap(e){var n,r,s;const a=new Map;for(const i of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(G0(i)){const o=i,l=await o.tool();for(const A of(s=l.functionDeclarations)!==null&&s!==void 0?s:[]){if(!A.name)throw new Error("Function declaration name is required.");if(a.has(A.name))throw new Error(`Duplicate tool declaration name: ${A.name}`);a.set(A.name,o)}}return a}async processAfcStream(e){var n,r,s;const a=(s=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:Mk;let i=!1,o=0;const l=await this.initAfcToolsMap(e);return function(A,d,h){var p,g;return V0(this,arguments,function*(){for(var w,b,E,T;o<a;){i&&(o++,i=!1);const D=yield ts(A.processParamsMaybeAddMcpUsage(h)),P=yield ts(A.generateContentStreamInternal(D)),S=[],N=[];try{for(var I=!0,k=(b=void 0,ug(P)),F;F=yield ts(k.next()),w=F.done,!w;I=!0){T=F.value,I=!1;const B=T;if(yield yield ts(B),B.candidates&&(!((p=B.candidates[0])===null||p===void 0)&&p.content)){N.push(B.candidates[0].content);for(const V of(g=B.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(o<a&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(V.functionCall.name)){const U=yield ts(d.get(V.functionCall.name).callTool([V.functionCall]));S.push(...U)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(B){b={error:B}}finally{try{!I&&!w&&(E=k.return)&&(yield ts(E.call(k)))}finally{if(b)throw b.error}}if(S.length>0){i=!0;const B=new _p;B.candidates=[{content:{role:"user",parts:S}}],yield yield ts(B);const V=[];V.push(...N),V.push({role:"user",parts:S});const U=Bl(h.contents).concat(V);h.contents=U}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=Fk(this.apiClient,e);return o=nn("{model}:generateContent",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=Dk(d),p=new _p;return Object.assign(p,h),p})}else{const A=Ik(this.apiClient,e);return o=nn("{model}:generateContent",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=Rk(d),p=new _p;return Object.assign(p,h),p})}}async generateContentStreamInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=Fk(this.apiClient,e);return o=nn("{model}:streamGenerateContent?alt=sse",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),i.then(function(h){return V0(this,arguments,function*(){var p,g,w,b;try{for(var E=!0,T=ug(h),I;I=yield ts(T.next()),p=I.done,!p;E=!0){b=I.value,E=!1;const k=b,F=Dk(yield ts(k.json()));F.sdkHttpResponse={headers:k.headers};const D=new _p;Object.assign(D,F),yield yield ts(D)}}catch(k){g={error:k}}finally{try{!E&&!p&&(w=T.return)&&(yield ts(w.call(T)))}finally{if(g)throw g.error}}})})}else{const A=Ik(this.apiClient,e);return o=nn("{model}:streamGenerateContent?alt=sse",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),i.then(function(h){return V0(this,arguments,function*(){var p,g,w,b;try{for(var E=!0,T=ug(h),I;I=yield ts(T.next()),p=I.done,!p;E=!0){b=I.value,E=!1;const k=b,F=Rk(yield ts(k.json()));F.sdkHttpResponse={headers:k.headers};const D=new _p;Object.assign(D,F),yield yield ts(D)}}catch(k){g={error:k}}finally{try{!E&&!p&&(w=T.return)&&(yield ts(w.call(T)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=Qee(this.apiClient,e);return o=nn("{model}:predict",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=Kte(d),p=new Ak;return Object.assign(p,h),p})}else{const A=eee(this.apiClient,e);return o=nn("{model}:batchEmbedContents",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=bte(d),p=new Ak;return Object.assign(p,h),p})}}async generateImagesInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=Vee(this.apiClient,e);return o=nn("{model}:predict",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=Wte(d),p=new uk;return Object.assign(p,h),p})}else{const A=nee(this.apiClient,e);return o=nn("{model}:predict",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=_te(d),p=new uk;return Object.assign(p,h),p})}}async editImageInternal(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI()){const o=Yee(this.apiClient,e);return a=nn("{model}:predict",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(A=>{const d=A;return d.sdkHttpResponse={headers:l.headers},d})),s.then(l=>{const A=$te(l),d=new e$;return Object.assign(d,A),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI()){const o=Xee(this.apiClient,e);return a=nn("{model}:predict",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(A=>{const d=A;return d.sdkHttpResponse={headers:l.headers},d})),s.then(l=>{const A=Yte(l),d=new t$;return Object.assign(d,A),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=Zee(this.apiClient,e);return o=nn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>r_(d))}else{const A=ree(this.apiClient,e);return o=nn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>n_(d))}}async listInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=tte(this.apiClient,e);return o=nn("{models_url}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=ene(d),p=new dk;return Object.assign(p,h),p})}else{const A=aee(this.apiClient,e);return o=nn("{models_url}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=Tte(d),p=new dk;return Object.assign(p,h),p})}}async update(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=rte(this.apiClient,e);return o=nn("{model}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>r_(d))}else{const A=oee(this.apiClient,e);return o=nn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>n_(d))}}async delete(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=ste(this.apiClient,e);return o=nn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(()=>{const d=tne(),h=new fk;return Object.assign(h,d),h})}else{const A=lee(this.apiClient,e);return o=nn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(()=>{const d=Bte(),h=new fk;return Object.assign(h,d),h})}}async countTokens(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=ite(this.apiClient,e);return o=nn("{model}:countTokens",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=nne(d),p=new hk;return Object.assign(p,h),p})}else{const A=Aee(this.apiClient,e);return o=nn("{model}:countTokens",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=Nte(d),p=new hk;return Object.assign(p,h),p})}}async computeTokens(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI()){const o=ote(this.apiClient,e);return a=nn("{model}:computeTokens",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(A=>{const d=A;return d.sdkHttpResponse={headers:l.headers},d})),s.then(l=>{const A=rne(l),d=new n$;return Object.assign(d,A),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=Ate(this.apiClient,e);return o=nn("{model}:predictLongRunning",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const h=one(d),p=new I2;return Object.assign(p,h),p})}else{const A=fee(this.apiClient,e);return o=nn("{model}:predictLongRunning",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i.then(d=>{const h=Rte(d),p=new I2;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lne(t){const e={},n=x(t,["operationName"]);n!=null&&v(e,["_url","operationName"],n);const r=x(t,["config"]);return r!=null&&v(e,["config"],r),e}function Mne(t){const e={},n=x(t,["operationName"]);n!=null&&v(e,["_url","operationName"],n);const r=x(t,["config"]);return r!=null&&v(e,["config"],r),e}function Pne(t){const e={},n=x(t,["operationName"]);n!=null&&v(e,["operationName"],n);const r=x(t,["resourceName"]);r!=null&&v(e,["_url","resourceName"],r);const s=x(t,["config"]);return s!=null&&v(e,["config"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class One extends vh{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const i=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:i,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const i=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:i,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=Mne(e);return o=nn("{operationName}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i}else{const A=Lne(e);return o=nn("{operationName}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),i}}async fetchPredictVideosOperationInternal(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI()){const o=Pne(e);return a=nn("{resourceName}:fetchPredictOperation",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jne(t){const e={},n=x(t,["voiceName"]);return n!=null&&v(e,["voiceName"],n),e}function c8(t){const e={},n=x(t,["prebuiltVoiceConfig"]);return n!=null&&v(e,["prebuiltVoiceConfig"],jne(n)),e}function Qne(t){const e={},n=x(t,["speaker"]);n!=null&&v(e,["speaker"],n);const r=x(t,["voiceConfig"]);return r!=null&&v(e,["voiceConfig"],c8(r)),e}function Hne(t){const e={},n=x(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Qne(s))),v(e,["speakerVoiceConfigs"],r)}return e}function Vne(t){const e={},n=x(t,["voiceConfig"]);n!=null&&v(e,["voiceConfig"],c8(n));const r=x(t,["multiSpeakerVoiceConfig"]);r!=null&&v(e,["multiSpeakerVoiceConfig"],Hne(r));const s=x(t,["languageCode"]);return s!=null&&v(e,["languageCode"],s),e}function Gne(t){const e={},n=x(t,["fps"]);n!=null&&v(e,["fps"],n);const r=x(t,["endOffset"]);r!=null&&v(e,["endOffset"],r);const s=x(t,["startOffset"]);return s!=null&&v(e,["startOffset"],s),e}function zne(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["data"]);n!=null&&v(e,["data"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Kne(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function qne(t){const e={},n=x(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],Gne(n));const r=x(t,["thought"]);r!=null&&v(e,["thought"],r);const s=x(t,["inlineData"]);s!=null&&v(e,["inlineData"],zne(s));const a=x(t,["fileData"]);a!=null&&v(e,["fileData"],Kne(a));const i=x(t,["thoughtSignature"]);i!=null&&v(e,["thoughtSignature"],i);const o=x(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(e,["executableCode"],l);const A=x(t,["functionCall"]);A!=null&&v(e,["functionCall"],A);const d=x(t,["functionResponse"]);d!=null&&v(e,["functionResponse"],d);const h=x(t,["text"]);return h!=null&&v(e,["text"],h),e}function Wne(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>qne(a))),v(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&v(e,["role"],r),e}function $ne(t){const e={},n=x(t,["behavior"]);n!=null&&v(e,["behavior"],n);const r=x(t,["description"]);r!=null&&v(e,["description"],r);const s=x(t,["name"]);s!=null&&v(e,["name"],s);const a=x(t,["parameters"]);a!=null&&v(e,["parameters"],a);const i=x(t,["parametersJsonSchema"]);i!=null&&v(e,["parametersJsonSchema"],i);const o=x(t,["response"]);o!=null&&v(e,["response"],o);const l=x(t,["responseJsonSchema"]);return l!=null&&v(e,["responseJsonSchema"],l),e}function Yne(t){const e={},n=x(t,["startTime"]);n!=null&&v(e,["startTime"],n);const r=x(t,["endTime"]);return r!=null&&v(e,["endTime"],r),e}function Jne(t){const e={},n=x(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],Yne(n)),e}function Xne(t){const e={},n=x(t,["mode"]);n!=null&&v(e,["mode"],n);const r=x(t,["dynamicThreshold"]);return r!=null&&v(e,["dynamicThreshold"],r),e}function Zne(t){const e={},n=x(t,["dynamicRetrievalConfig"]);return n!=null&&v(e,["dynamicRetrievalConfig"],Xne(n)),e}function ere(){return{}}function tre(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(A=>$ne(A))),v(e,["functionDeclarations"],l)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearch"]);r!=null&&v(e,["googleSearch"],Jne(r));const s=x(t,["googleSearchRetrieval"]);if(s!=null&&v(e,["googleSearchRetrieval"],Zne(s)),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(x(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");x(t,["urlContext"])!=null&&v(e,["urlContext"],ere());const i=x(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const o=x(t,["computerUse"]);return o!=null&&v(e,["computerUse"],o),e}function nre(t){const e={},n=x(t,["handle"]);if(n!=null&&v(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function jk(){return{}}function rre(t){const e={},n=x(t,["disabled"]);n!=null&&v(e,["disabled"],n);const r=x(t,["startOfSpeechSensitivity"]);r!=null&&v(e,["startOfSpeechSensitivity"],r);const s=x(t,["endOfSpeechSensitivity"]);s!=null&&v(e,["endOfSpeechSensitivity"],s);const a=x(t,["prefixPaddingMs"]);a!=null&&v(e,["prefixPaddingMs"],a);const i=x(t,["silenceDurationMs"]);return i!=null&&v(e,["silenceDurationMs"],i),e}function sre(t){const e={},n=x(t,["automaticActivityDetection"]);n!=null&&v(e,["automaticActivityDetection"],rre(n));const r=x(t,["activityHandling"]);r!=null&&v(e,["activityHandling"],r);const s=x(t,["turnCoverage"]);return s!=null&&v(e,["turnCoverage"],s),e}function are(t){const e={},n=x(t,["targetTokens"]);return n!=null&&v(e,["targetTokens"],n),e}function ire(t){const e={},n=x(t,["triggerTokens"]);n!=null&&v(e,["triggerTokens"],n);const r=x(t,["slidingWindow"]);return r!=null&&v(e,["slidingWindow"],are(r)),e}function ore(t){const e={},n=x(t,["proactiveAudio"]);return n!=null&&v(e,["proactiveAudio"],n),e}function lre(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const s=x(t,["responseModalities"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","responseModalities"],s);const a=x(t,["temperature"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","temperature"],a);const i=x(t,["topP"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","topP"],i);const o=x(t,["topK"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","topK"],o);const l=x(t,["maxOutputTokens"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","maxOutputTokens"],l);const A=x(t,["mediaResolution"]);e!==void 0&&A!=null&&v(e,["setup","generationConfig","mediaResolution"],A);const d=x(t,["seed"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","seed"],d);const h=x(t,["speechConfig"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","speechConfig"],Vne(h5(h)));const p=x(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=x(t,["systemInstruction"]);e!==void 0&&g!=null&&v(e,["setup","systemInstruction"],Wne(Ri(g)));const w=x(t,["tools"]);if(e!==void 0&&w!=null){let D=km(w);Array.isArray(D)&&(D=D.map(P=>tre(Nm(P)))),v(e,["setup","tools"],D)}const b=x(t,["sessionResumption"]);e!==void 0&&b!=null&&v(e,["setup","sessionResumption"],nre(b));const E=x(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&v(e,["setup","inputAudioTranscription"],jk());const T=x(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&v(e,["setup","outputAudioTranscription"],jk());const I=x(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&v(e,["setup","realtimeInputConfig"],sre(I));const k=x(t,["contextWindowCompression"]);e!==void 0&&k!=null&&v(e,["setup","contextWindowCompression"],ire(k));const F=x(t,["proactivity"]);return e!==void 0&&F!=null&&v(e,["setup","proactivity"],ore(F)),n}function cre(t,e){const n={},r=x(e,["model"]);r!=null&&v(n,["setup","model"],Or(t,r));const s=x(e,["config"]);return s!=null&&v(n,["config"],lre(s,n)),n}function Are(t,e,n){const r={},s=x(e,["expireTime"]);n!==void 0&&s!=null&&v(n,["expireTime"],s);const a=x(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&v(n,["newSessionExpireTime"],a);const i=x(e,["uses"]);n!==void 0&&i!=null&&v(n,["uses"],i);const o=x(e,["liveConnectConstraints"]);n!==void 0&&o!=null&&v(n,["bidiGenerateContentSetup"],cre(t,o));const l=x(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&v(n,["fieldMask"],l),r}function ure(t,e){const n={},r=x(e,["config"]);return r!=null&&v(n,["config"],Are(t,r,n)),n}function dre(t){const e={},n=x(t,["name"]);return n!=null&&v(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fre(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const s=Object.keys(r).map(a=>`${n}.${a}`);e.push(...s)}else e.push(n)}return e.join(",")}function hre(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const a=fre(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const i=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];s.length>0&&(o=s.map(A=>i.includes(A)?`generationConfig.${A}`:A));const l=[];a&&l.push(a),o.length>0&&l.push(...o),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class mre extends vh{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=ure(this.apiClient,e);a=nn("auth_tokens",o._url),i=o._query,delete o.config,delete o._url,delete o._query;const l=hre(o,e.config);return s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json()),s.then(A=>dre(A))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pre(t){const e={},n=x(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&v(e,["config"],r),e}function gre(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);e!==void 0&&s!=null&&v(e,["_query","pageToken"],s);const a=x(t,["filter"]);return e!==void 0&&a!=null&&v(e,["_query","filter"],a),n}function xre(t){const e={},n=x(t,["config"]);return n!=null&&v(e,["config"],gre(n,e)),e}function vre(t){const e={},n=x(t,["textInput"]);n!=null&&v(e,["textInput"],n);const r=x(t,["output"]);return r!=null&&v(e,["output"],r),e}function yre(t){const e={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=x(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>vre(s))),v(e,["examples","examples"],r)}return e}function wre(t,e){const n={};if(x(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=x(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&v(e,["displayName"],r),x(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=x(t,["epochCount"]);e!==void 0&&s!=null&&v(e,["tuningTask","hyperparameters","epochCount"],s);const a=x(t,["learningRateMultiplier"]);if(a!=null&&v(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),x(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(x(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const i=x(t,["batchSize"]);e!==void 0&&i!=null&&v(e,["tuningTask","hyperparameters","batchSize"],i);const o=x(t,["learningRate"]);return e!==void 0&&o!=null&&v(e,["tuningTask","hyperparameters","learningRate"],o),n}function bre(t){const e={},n=x(t,["baseModel"]);n!=null&&v(e,["baseModel"],n);const r=x(t,["trainingDataset"]);r!=null&&v(e,["tuningTask","trainingData"],yre(r));const s=x(t,["config"]);return s!=null&&v(e,["config"],wre(s,e)),e}function Cre(t){const e={},n=x(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&v(e,["config"],r),e}function Ere(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);e!==void 0&&s!=null&&v(e,["_query","pageToken"],s);const a=x(t,["filter"]);return e!==void 0&&a!=null&&v(e,["_query","filter"],a),n}function _re(t){const e={},n=x(t,["config"]);return n!=null&&v(e,["config"],Ere(n,e)),e}function Sre(t,e){const n={},r=x(t,["gcsUri"]);e!==void 0&&r!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],r);const s=x(t,["vertexDatasetResource"]);if(e!==void 0&&s!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],s),x(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function Tre(t,e){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["validationDatasetUri"],r);const s=x(t,["vertexDatasetResource"]);return e!==void 0&&s!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],s),n}function Bre(t,e){const n={},r=x(t,["validationDataset"]);e!==void 0&&r!=null&&v(e,["supervisedTuningSpec"],Tre(r,n));const s=x(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&v(e,["tunedModelDisplayName"],s);const a=x(t,["description"]);e!==void 0&&a!=null&&v(e,["description"],a);const i=x(t,["epochCount"]);e!==void 0&&i!=null&&v(e,["supervisedTuningSpec","hyperParameters","epochCount"],i);const o=x(t,["learningRateMultiplier"]);e!==void 0&&o!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],o);const l=x(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&v(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const A=x(t,["adapterSize"]);if(e!==void 0&&A!=null&&v(e,["supervisedTuningSpec","hyperParameters","adapterSize"],A),x(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(x(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function Nre(t){const e={},n=x(t,["baseModel"]);n!=null&&v(e,["baseModel"],n);const r=x(t,["trainingDataset"]);r!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],Sre(r,e));const s=x(t,["config"]);return s!=null&&v(e,["config"],Bre(s,e)),e}function kre(t){const e={},n=x(t,["name"]);n!=null&&v(e,["model"],n);const r=x(t,["name"]);return r!=null&&v(e,["endpoint"],r),e}function A8(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&v(e,["name"],r);const s=x(t,["state"]);s!=null&&v(e,["state"],QL(s));const a=x(t,["createTime"]);a!=null&&v(e,["createTime"],a);const i=x(t,["tuningTask","startTime"]);i!=null&&v(e,["startTime"],i);const o=x(t,["tuningTask","completeTime"]);o!=null&&v(e,["endTime"],o);const l=x(t,["updateTime"]);l!=null&&v(e,["updateTime"],l);const A=x(t,["description"]);A!=null&&v(e,["description"],A);const d=x(t,["baseModel"]);d!=null&&v(e,["baseModel"],d);const h=x(t,["_self"]);h!=null&&v(e,["tunedModel"],kre(h));const p=x(t,["distillationSpec"]);p!=null&&v(e,["distillationSpec"],p);const g=x(t,["experiment"]);g!=null&&v(e,["experiment"],g);const w=x(t,["labels"]);w!=null&&v(e,["labels"],w);const b=x(t,["pipelineJob"]);b!=null&&v(e,["pipelineJob"],b);const E=x(t,["satisfiesPzi"]);E!=null&&v(e,["satisfiesPzi"],E);const T=x(t,["satisfiesPzs"]);T!=null&&v(e,["satisfiesPzs"],T);const I=x(t,["serviceAccount"]);I!=null&&v(e,["serviceAccount"],I);const k=x(t,["tunedModelDisplayName"]);return k!=null&&v(e,["tunedModelDisplayName"],k),e}function Ire(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const s=x(t,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>A8(i))),v(e,["tuningJobs"],a)}return e}function Fre(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&v(e,["name"],r);const s=x(t,["metadata"]);s!=null&&v(e,["metadata"],s);const a=x(t,["done"]);a!=null&&v(e,["done"],a);const i=x(t,["error"]);return i!=null&&v(e,["error"],i),e}function Rre(t){const e={},n=x(t,["checkpointId"]);n!=null&&v(e,["checkpointId"],n);const r=x(t,["epoch"]);r!=null&&v(e,["epoch"],r);const s=x(t,["step"]);s!=null&&v(e,["step"],s);const a=x(t,["endpoint"]);return a!=null&&v(e,["endpoint"],a),e}function Dre(t){const e={},n=x(t,["model"]);n!=null&&v(e,["model"],n);const r=x(t,["endpoint"]);r!=null&&v(e,["endpoint"],r);const s=x(t,["checkpoints"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>Rre(i))),v(e,["checkpoints"],a)}return e}function a_(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&v(e,["name"],r);const s=x(t,["state"]);s!=null&&v(e,["state"],QL(s));const a=x(t,["createTime"]);a!=null&&v(e,["createTime"],a);const i=x(t,["startTime"]);i!=null&&v(e,["startTime"],i);const o=x(t,["endTime"]);o!=null&&v(e,["endTime"],o);const l=x(t,["updateTime"]);l!=null&&v(e,["updateTime"],l);const A=x(t,["error"]);A!=null&&v(e,["error"],A);const d=x(t,["description"]);d!=null&&v(e,["description"],d);const h=x(t,["baseModel"]);h!=null&&v(e,["baseModel"],h);const p=x(t,["tunedModel"]);p!=null&&v(e,["tunedModel"],Dre(p));const g=x(t,["supervisedTuningSpec"]);g!=null&&v(e,["supervisedTuningSpec"],g);const w=x(t,["tuningDataStats"]);w!=null&&v(e,["tuningDataStats"],w);const b=x(t,["encryptionSpec"]);b!=null&&v(e,["encryptionSpec"],b);const E=x(t,["partnerModelTuningSpec"]);E!=null&&v(e,["partnerModelTuningSpec"],E);const T=x(t,["distillationSpec"]);T!=null&&v(e,["distillationSpec"],T);const I=x(t,["experiment"]);I!=null&&v(e,["experiment"],I);const k=x(t,["labels"]);k!=null&&v(e,["labels"],k);const F=x(t,["pipelineJob"]);F!=null&&v(e,["pipelineJob"],F);const D=x(t,["satisfiesPzi"]);D!=null&&v(e,["satisfiesPzi"],D);const P=x(t,["satisfiesPzs"]);P!=null&&v(e,["satisfiesPzs"],P);const S=x(t,["serviceAccount"]);S!=null&&v(e,["serviceAccount"],S);const N=x(t,["tunedModelDisplayName"]);return N!=null&&v(e,["tunedModelDisplayName"],N),e}function Ure(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const s=x(t,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>a_(i))),v(e,["tuningJobs"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lre extends vh{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new xx(oh.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let s="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?s=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(s=r.name.split("/operations/")[0]),{name:s,state:$E.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=Cre(e);return o=nn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>a_(d))}else{const A=pre(e);return o=nn("{name}",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>A8(d))}}async listInternal(e){var n,r,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const A=_re(e);return o=nn("tuningJobs",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=Ure(d),p=new pk;return Object.assign(p,h),p})}else{const A=xre(e);return o=nn("tunedModels",A._url),l=A._query,delete A.config,delete A._url,delete A._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const h=Ire(d),p=new pk;return Object.assign(p,h),p})}}async tuneInternal(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI()){const o=Nre(e);return a=nn("tuningJobs",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(A=>{const d=A;return d.sdkHttpResponse={headers:l.headers},d})),s.then(l=>a_(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=bre(e);return a=nn("tunedModels",o._url),i=o._query,delete o.config,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(A=>{const d=A;return d.sdkHttpResponse={headers:l.headers},d})),s.then(l=>Fre(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mre{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Pre=1024*1024*8,Ore=3,jre=1e3,Qre=2,tC="x-goog-upload-status";async function Hre(t,e,n){var r,s,a;let i=0,o=0,l=new YE(new Response),A="upload";for(i=t.size;o<i;){const h=Math.min(Pre,i-o),p=t.slice(o,o+h);o+h>=i&&(A+=", finalize");let g=0,w=jre;for(;g<Ore&&(l=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":A,"X-Goog-Upload-Offset":String(o),"Content-Length":String(h)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[tC]));)g++,await Gre(w),w=w*Qre;if(o+=h,((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[tC])!=="active")break;if(i<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(l==null?void 0:l.json());if(((a=l==null?void 0:l.headers)===null||a===void 0?void 0:a[tC])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function Vre(t){return{size:t.size,type:t.type}}function Gre(t){return new Promise(e=>setTimeout(e,t))}class zre{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Hre(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Vre(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kre{create(e,n,r){return new qre(e,n,r)}}class qre{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qk="x-goog-api-key";class Wre{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Qk)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Qk,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $re="gl-node/";class Ta{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=ZW(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const s=new Wre(this.apiKey);this.apiClient=new mne({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:$re+"web",uploader:new zre,downloader:new Mre}),this.models=new Une(this.apiClient),this.live=new Bne(this.apiClient,s,new Kre),this.batches=new bY(this.apiClient),this.chats=new SJ(this.models,this.apiClient),this.caches=new CJ(this.apiClient),this.files=new OJ(this.apiClient),this.operations=new One(this.apiClient),this.authTokens=new mre(this.apiClient),this.tunings=new Lre(this.apiClient)}}const Hk="apiCallLogs",Yre="lir-sessionUser",go=t=>{try{const e=localStorage.getItem(Yre);if(!e){console.warn("No se pudo registrar la llamada a la API: no hay usuario en sesin.");return}const n=JSON.parse(e),r=localStorage.getItem(Hk),s=r?JSON.parse(r):[],i=[{id:crypto.randomUUID(),timestamp:new Date().toISOString(),userId:n.id,userEmail:n.email,module:t},...s].slice(0,2e3);localStorage.setItem(Hk,JSON.stringify(i)),window.dispatchEvent(new Event("storage"))}catch(e){console.error("Error al registrar la llamada a la API:",e)}},nC="asignacionesHorario",rC="horariosGenerados",Jre="usuariosLiceo",Xre=({horarios:t})=>Object.keys(t).length===0?u.jsx("div",{className:"text-center py-10 bg-slate-50 dark:bg-slate-800 rounded-lg",children:u.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:'An no se ha generado ningn horario. Utilice la pestaa de "Configuracin" para generar uno.'})}):u.jsx("div",{className:"overflow-x-auto border border-slate-300 dark:border-slate-700 rounded-lg",children:u.jsxs("table",{className:"min-w-full border-collapse",children:[u.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700 sticky top-0 z-10",children:u.jsxs("tr",{children:[u.jsx("th",{className:"border-b border-r border-slate-300 dark:border-slate-600 p-1 font-semibold text-slate-600 dark:text-slate-300 text-xs w-16",children:"BLOQUE"}),u.jsx("th",{className:"border-b border-r border-slate-300 dark:border-slate-600 p-1 font-semibold text-slate-600 dark:text-slate-300 text-xs w-24",children:"HORARIO"}),_a.map(e=>u.jsx("th",{className:"border-b border-r border-slate-300 dark:border-slate-600 p-1 font-semibold text-slate-600 dark:text-slate-300 text-xs whitespace-nowrap min-w-[120px]",children:e},e))]})}),u.jsx("tbody",{children:zv.map(e=>u.jsxs(ut.Fragment,{children:[u.jsx("tr",{className:"bg-slate-200 dark:bg-slate-800",children:u.jsx("th",{colSpan:2+_a.length,className:"text-center font-bold text-slate-700 dark:text-slate-200 p-2 border-b border-slate-300 dark:border-slate-600",children:e.toUpperCase()})}),qE.map(({bloque:n,inicio:r,fin:s})=>u.jsxs("tr",{className:"even:bg-white odd:bg-slate-50 dark:even:bg-slate-800/50 dark:odd:bg-slate-900/50",children:[u.jsx("td",{className:"border-r border-slate-300 dark:border-slate-700 p-1 text-center font-bold text-slate-700 dark:text-slate-300 text-sm",children:n}),u.jsx("td",{className:"border-r border-slate-300 dark:border-slate-700 p-1 text-center text-xs text-slate-500 dark:text-slate-400",children:`${r} - ${s}`}),_a.map(a=>{var o,l;const i=(l=(o=t[a])==null?void 0:o[e])==null?void 0:l[n];return u.jsx("td",{className:"border-r border-slate-300 dark:border-slate-700 p-1 text-center h-16",children:i!=null&&i.asignatura?u.jsxs("div",{className:"flex flex-col justify-center h-full",children:[u.jsx("p",{className:"font-semibold text-[11px] leading-tight text-slate-800 dark:text-slate-200 whitespace-normal",children:i.asignatura}),u.jsxs("p",{className:"text-[10px] leading-tight text-slate-500 dark:text-slate-400 whitespace-normal mt-0.5",children:["(",i.profesor,")"]})]}):u.jsx("span",{className:"text-slate-300 dark:text-slate-600 text-xs",children:"Libre"})},`${a}-${e}-${n}`)})]},`${e}-${n}`))]},e))})]})}),Zre=()=>{const[t,e]=X.useState([]),[n,r]=X.useState({curso:"",asignatura:"",profesor:""}),[s,a]=X.useState([]),[i,o]=X.useState({}),[l,A]=X.useState(_a[0]),[d,h]=X.useState(!1),[p,g]=X.useState(null),[w,b]=X.useState(null),[E,T]=X.useState(null),[I,k]=X.useState({asignatura:"",profesor:""}),[F,D]=X.useState("edicion"),[P,S]=X.useState("");X.useEffect(()=>{try{const K=localStorage.getItem(nC);K&&e(JSON.parse(K));const Y=localStorage.getItem(rC);Y&&o(JSON.parse(Y));const oe=localStorage.getItem(Jre);if(oe){const ee=JSON.parse(oe).filter(he=>he.profile===on.PROFESORADO).map(he=>he.nombreCompleto).sort();a(ee)}}catch(K){console.error("Error al cargar datos de localStorage",K),g("No se pudieron cargar los datos guardados.")}},[]);const N=K=>{if(K.preventDefault(),!n.curso||!n.asignatura||!n.profesor){g("Todos los campos de la asignacin son obligatorios.");return}const Y=[...t,{...n,id:crypto.randomUUID()}];e(Y),localStorage.setItem(nC,JSON.stringify(Y)),r({curso:"",asignatura:"",profesor:""}),g(null)},B=K=>{const Y=t.filter(oe=>oe.id!==K);e(Y),localStorage.setItem(nC,JSON.stringify(Y))},V=async()=>{if(t.length===0){g("Debe agregar al menos una asignacin de profesor antes de generar el horario.");return}h(!0),g(null),b(null);try{go("Crear Horarios");const K=new Ta({apiKey:void 0}),Y=`
                Eres un asistente experto en planificacin de horarios escolares para un liceo tcnico en Chile. 
                Tu tarea es generar un horario semanal completo (Lunes a Viernes) para todos los cursos proporcionados, siguiendo un conjunto estricto de reglas.

                **Contexto:**
                - Das de la semana: ${zv.join(", ")}
                - Bloques horarios por da: 10 bloques con los siguientes horarios: ${JSON.stringify(qE,null,2)}
                - Cursos del liceo: ${_a.join(", ")}

                **Contexto Adicional de Especialidades (3 y 4 Medio):**
                - Los cursos que terminan en 'A' y 'B' pertenecen a la especialidad 'Mecnica Automotriz'.
                - Los cursos que terminan en 'C' y 'D' pertenecen a la especialidad 'Mecnica Industrial'.
                Utiliza este contexto para aplicar las reglas de "3/4 Medio Automotriz" y "3/4 Medio Industrial" correctamente.

                **Reglas de Asignacin de Bloques por Asignatura:**
                Debes asignar la siguiente cantidad de bloques semanales para cada asignatura segn el nivel del curso:
                ${JSON.stringify(DW,null,2)}
                Notas sobre las reglas:
                - '1 y 2 medio' aplica a cursos que empiezan con '1' o '2'.
                - '3 y 4 medio' aplica a cursos que empiezan con '3' o '4'.
                - Algunas reglas aplican a cursos especficos (ej. Mecnica).

                **Asignaciones de Profesores (Input):**
                Aqu est la lista de profesores asignados a cada curso y asignatura. Debes usar esta lista para poblar el horario.
                ${JSON.stringify(t,null,2)}

                **REGLA CRTICA INVIOLABLE:**
                La restriccin ms importante que NUNCA debe romperse es que un mismo profesor no puede ser asignado a dos cursos diferentes en el mismo da y mismo bloque horario. Es fsicamente imposible para un profesor estar en dos lugares a la vez. Prioriza esta regla sobre todas las dems. No deben existir topes de horario para ningn profesor.

                **Instrucciones Adicionales del Usuario:**
                Considera las siguientes preferencias al organizar el horario: "${P||"No se proporcionaron instrucciones adicionales."}"

                **Objetivo Adicional:**
                Distribuye las asignaturas de la forma ms balanceada posible durante la semana para cada curso. Evita agrupar todas las horas de una misma materia en un solo da si es posible, a menos que las instrucciones del usuario indiquen lo contrario.

                **Formato de Salida (Output):**
                Tu respuesta DEBE ser un nico objeto JSON vlido, sin texto adicional antes o despus. La estructura del JSON debe ser la siguiente:
                {
                  "1A": {
                    "Lunes": { "1": { "asignatura": "Matemtica", "profesor": "Nombre Profesor" }, "2": { "asignatura": "Matemtica", "profesor": "Nombre Profesor" } },
                    "Martes": { ... },
                    ...
                  },
                  "1B": { ... }
                }
                Cada clave de primer nivel es un curso. Cada curso tiene claves para cada da de la semana. Cada da tiene claves para cada bloque del 1 al 10. Si un bloque est vaco, usa \`{ "asignatura": null, "profesor": null }\`.
            `,oe=await K.models.generateContent({model:"gemini-2.5-flash",contents:Y,config:{responseMimeType:"application/json"}}),Z=JSON.parse(oe.text);o(Z),localStorage.setItem(rC,JSON.stringify(Z)),b("Horario generado y guardado con xito!")}catch(K){console.error("Error al generar horario con IA:",K),g("Ocurri un error al contactar con la IA o al procesar la respuesta. Por favor, intntelo de nuevo.")}finally{h(!1)}},U=(K,Y,oe)=>{T({dia:K,bloque:Y}),k({asignatura:(oe==null?void 0:oe.asignatura)||"",profesor:(oe==null?void 0:oe.profesor)||""})},L=()=>{if(!E)return;const{dia:K,bloque:Y}=E,oe={...i};oe[l]||(oe[l]={}),oe[l][K]||(oe[l][K]={}),oe[l][K][Y]={asignatura:I.asignatura||null,profesor:I.profesor||null},o(oe),localStorage.setItem(rC,JSON.stringify(oe)),T(null)},j="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",G=()=>{const K=i[l]||{};return u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full border-collapse border border-slate-300 dark:border-slate-700",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-100 dark:bg-slate-700",children:[u.jsx("th",{className:"border border-slate-300 dark:border-slate-600 p-2 font-semibold text-slate-600 dark:text-slate-300",children:"Bloque"}),zv.map(Y=>u.jsx("th",{className:"border border-slate-300 dark:border-slate-600 p-2 font-semibold text-slate-600 dark:text-slate-300",children:Y},Y))]})}),u.jsx("tbody",{children:qE.map(({bloque:Y,inicio:oe,fin:Z})=>u.jsxs("tr",{className:"text-center dark:bg-slate-800",children:[u.jsxs("td",{className:"border border-slate-300 dark:border-slate-700 p-2 bg-slate-50 dark:bg-slate-700/50",children:[u.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-300",children:Y}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:`${oe} - ${Z}`})]}),zv.map(ee=>{var q;const he=(E==null?void 0:E.dia)===ee&&(E==null?void 0:E.bloque)===Y,O=(q=K[ee])==null?void 0:q[Y];return u.jsx("td",{className:"border border-slate-300 dark:border-slate-700 p-1 h-24 relative hover:bg-amber-50 dark:hover:bg-slate-700 cursor-pointer",onClick:()=>!he&&U(ee,Y,O),children:he?u.jsxs("div",{className:"flex flex-col p-1 bg-white dark:bg-slate-800 h-full justify-center",children:[u.jsx("input",{type:"text",placeholder:"Asignatura",value:I.asignatura,onChange:J=>k(ne=>({...ne,asignatura:J.target.value})),className:j+" text-xs mb-1"}),u.jsx("input",{type:"text",placeholder:"Profesor",value:I.profesor,onChange:J=>k(ne=>({...ne,profesor:J.target.value})),className:j+" text-xs"}),u.jsxs("div",{className:"flex justify-end mt-1 space-x-1",children:[u.jsx("button",{onClick:()=>T(null),className:"text-xs bg-slate-200 dark:bg-slate-600 px-1 rounded",children:"Cancelar"}),u.jsx("button",{onClick:L,className:"text-xs bg-amber-500 text-white px-1 rounded",children:"Guardar"})]})]}):O!=null&&O.asignatura?u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-sm text-slate-800 dark:text-slate-200",children:O.asignatura}),u.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["(",O.profesor,")"]})]}):u.jsx("span",{className:"text-slate-400 dark:text-slate-500",children:"Libre"})},`${ee}-${Y}`)})]},Y))})]})})},se=()=>u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Crear Horarios"}),u.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2 mb-4",children:" 1. Configuracin de Asignaciones"}),u.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end mb-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),u.jsxs("select",{name:"curso",value:n.curso,onChange:K=>r(Y=>({...Y,curso:K.target.value})),className:j,children:[u.jsx("option",{value:"",children:"Seleccione"}),_a.map(K=>u.jsx("option",{value:K,children:K},K))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),u.jsxs("select",{name:"asignatura",value:n.asignatura,onChange:K=>r(Y=>({...Y,asignatura:K.target.value})),className:j,children:[u.jsx("option",{value:"",children:"Seleccione"}),Il.map(K=>u.jsx("option",{value:K,children:K},K))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"profesor",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Profesor"}),u.jsxs("select",{name:"profesor",value:n.profesor,onChange:K=>r(Y=>({...Y,profesor:K.target.value})),className:j,children:[u.jsx("option",{value:"",children:"Seleccione"}),s.map(K=>u.jsx("option",{value:K,children:K},K))]})]}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600 h-10",children:"Agregar"})]}),u.jsx("div",{className:"max-h-60 overflow-y-auto pr-2",children:u.jsx("ul",{className:"space-y-2",children:t.map(K=>u.jsxs("li",{className:"flex justify-between items-center bg-slate-50 dark:bg-slate-700 p-2 rounded-md",children:[u.jsxs("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:[K.curso," - ",K.asignatura," - ",u.jsx("strong",{children:K.profesor})]}),u.jsx("button",{onClick:()=>B(K.id),className:"text-red-500 hover:text-red-700 font-bold text-xl",children:""})]},K.id))})})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2 mb-4",children:" 2. Generacin Automtica con IA"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"aiInstructions",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Instrucciones para la IA (Opcional)"}),u.jsx("textarea",{id:"aiInstructions",name:"aiInstructions",value:P,onChange:K=>S(K.target.value),rows:3,placeholder:"Ej: Dejar los mdulos tericos en la maana y los prcticos en la tarde. Evitar poner 2 bloques de matemtica seguidos.",className:j})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("button",{onClick:V,disabled:d,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center",children:[d&&u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d?"Generando...":"Generar Horario Completo"]}),p&&u.jsx("p",{className:"text-red-600",children:p}),w&&u.jsx("p",{className:"text-green-600",children:w})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2 mb-4",children:" 3. Visualizacin y Edicin por Curso"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"selectCurso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Seleccione un curso para visualizar y editar:"}),u.jsx("select",{id:"selectCurso",value:l,onChange:K=>A(K.target.value),className:j+" md:w-1/3",children:_a.map(K=>u.jsx("option",{value:K,children:K},K))})]}),Object.keys(i).length>0?G():u.jsx("div",{className:"text-center py-10 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:u.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"An no se ha generado ningn horario. Utilice el botn de generacin con IA."})})]})]});return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:u.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[u.jsx("button",{onClick:()=>D("edicion"),className:`${F==="edicion"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Configuracin y Edicin por Curso"}),u.jsx("button",{onClick:()=>D("global"),className:`${F==="global"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Horario Global"})]})}),F==="edicion"?se():u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Horario Global de Cursos"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Vista consolidada de todos los horarios generados. La tabla es desplazable horizontalmente."}),u.jsx(Xre,{horarios:i})]})]})},j1="accionesPedagogicas",Vk={fechaRegistro:new Date().toISOString().split("T")[0],responsable:"",area:"",descripcion:"",fechaCumplimiento:"",estado:"Pendiente"},ese={Pendiente:"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300","En Proceso":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300",Cumplida:"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300"},tse=()=>{const[t,e]=X.useState([]),[n,r]=X.useState(Vk),[s,a]=X.useState(null),[i,o]=X.useState(""),[l,A]=X.useState(""),[d,h]=X.useState(""),[p,g]=X.useState(null);X.useEffect(()=>{try{const P=localStorage.getItem(j1);P&&e(JSON.parse(P))}catch(P){console.error("Error al leer acciones de localStorage",P)}},[]);const w=X.useCallback(P=>{const{name:S,value:N}=P.target;r(B=>({...B,[S]:N}))},[]),b=X.useCallback(()=>{r(Vk),a(null),g(null)},[]),E=X.useCallback(P=>{P.preventDefault();const{fechaRegistro:S,responsable:N,area:B,descripcion:V,fechaCumplimiento:U,estado:L}=n;if(!S||!N||!B||!V||!U){g("Todos los campos son obligatorios.");return}const j=s?t.map(G=>G.id===s?{...n,id:s}:G):[{...n,id:crypto.randomUUID()},...t];e(j),localStorage.setItem(j1,JSON.stringify(j)),b()},[n,s,t,b]),T=X.useCallback(P=>{window.scrollTo({top:0,behavior:"smooth"}),a(P.id),r(P)},[]),I=X.useCallback(P=>{if(window.confirm("Est seguro de que desea eliminar esta accin?")){const S=t.filter(N=>N.id!==P);e(S),localStorage.setItem(j1,JSON.stringify(S))}},[t]),k=X.useCallback(P=>{const S=t.map(N=>{if(N.id===P){const V=(Ep.indexOf(N.estado)+1)%Ep.length;return{...N,estado:Ep[V]}}return N});e(S),localStorage.setItem(j1,JSON.stringify(S))},[t]),F=X.useMemo(()=>t.filter(P=>{const S=i===""||P.responsable.toLowerCase().includes(i.toLowerCase())||P.descripcion.toLowerCase().includes(i.toLowerCase()),N=l===""||P.area===l,B=d===""||P.estado===d;return S&&N&&B}),[t,i,l,d]),D="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seguimiento de Acciones Pedaggicas"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:s?"Editando accin existente.":"Registre una nueva accin de seguimiento."}),u.jsxs("form",{onSubmit:E,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fechaRegistro",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Fecha de Registro"}),u.jsx("input",{type:"date",name:"fechaRegistro",value:n.fechaRegistro,onChange:w,className:D})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"responsable",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Responsable"}),u.jsx("input",{type:"text",name:"responsable",value:n.responsable,onChange:w,placeholder:"Nombre del responsable",className:D})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"area",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"rea Vinculada"}),u.jsxs("select",{name:"area",value:n.area,onChange:w,className:D,children:[u.jsx("option",{value:"",children:"Seleccione un rea"}),x3.map(P=>u.jsx("option",{value:P,children:P},P))]})]}),u.jsxs("div",{className:"lg:col-span-3",children:[u.jsx("label",{htmlFor:"descripcion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Descripcin de la Accin"}),u.jsx("textarea",{name:"descripcion",value:n.descripcion,onChange:w,rows:3,placeholder:"Detalle de la accin a realizar...",className:D})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fechaCumplimiento",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Fecha de Cumplimiento"}),u.jsx("input",{type:"date",name:"fechaCumplimiento",value:n.fechaCumplimiento,onChange:w,className:D})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"estado",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estado de Avance"}),u.jsx("select",{name:"estado",value:n.estado,onChange:w,className:D,children:Ep.map(P=>u.jsx("option",{value:P,children:P},P))})]})]}),p&&u.jsx("p",{className:"text-red-600 bg-red-100 dark:bg-red-900/40 dark:text-red-300 p-3 rounded-md mt-4",children:p}),u.jsxs("div",{className:"pt-4 flex justify-end items-center gap-4",children:[s&&u.jsx("button",{type:"button",onClick:b,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:s?"Actualizar Accin":"Registrar Accin"})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Tabla de Seguimiento"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[u.jsx("input",{type:"text",placeholder:"Buscar por responsable o palabra clave...",value:i,onChange:P=>o(P.target.value),className:D+" md:col-span-1"}),u.jsxs("select",{value:l,onChange:P=>A(P.target.value),className:D,children:[u.jsx("option",{value:"",children:"Filtrar por rea"}),x3.map(P=>u.jsx("option",{value:P,children:P},P))]}),u.jsxs("select",{value:d,onChange:P=>h(P.target.value),className:D,children:[u.jsx("option",{value:"",children:"Filtrar por Estado"}),Ep.map(P=>u.jsx("option",{value:P,children:P},P))]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Responsable"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"rea"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Descripcin"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Fechas"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Estado"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Acciones"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:F.length>0?F.map(P=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:P.responsable}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:P.area}),u.jsx("td",{className:"px-4 py-4 text-sm text-slate-600 dark:text-slate-300 max-w-sm whitespace-normal",children:P.descripcion}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("span",{children:["Reg: ",P.fechaRegistro]}),u.jsxs("span",{className:"font-semibold",children:["Comp: ",P.fechaCumplimiento]})]})}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm",children:u.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${ese[P.estado]}`,children:P.estado})}),u.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-center space-x-2",children:[u.jsx("button",{onClick:()=>k(P.id),title:"Cambiar Estado",className:"text-blue-600 hover:text-blue-800 p-1 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/40",children:""}),u.jsx("button",{onClick:()=>T(P),title:"Editar",className:"text-yellow-600 hover:text-yellow-800 p-1 rounded-full hover:bg-yellow-100 dark:hover:bg-yellow-900/40",children:""}),u.jsx("button",{onClick:()=>I(P.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:""})]})]},P.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-slate-500 dark:text-slate-400",children:"No se encontraron acciones con los filtros actuales."})})})]})})]})]})},sC="planificacionesDocente",Gk="actividadesCalendario",aC="eventosCalendario",nse=({lesson:t,onClose:e,onSave:n})=>{const[r,s]=X.useState(t),a=o=>{s({...r,[o.target.name]:o.target.value})},i=()=>{n(r),e()};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col animate-fade-in-up",onClick:o=>o.stopPropagation(),children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 p-6 border-b dark:border-slate-700",children:"Editar Detalle de Leccin"}),u.jsx("div",{className:"p-6 space-y-4 overflow-y-auto",children:Object.entries(r).map(([o,l])=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 capitalize mb-1",children:o.replace(/([A-Z])/g," $1")}),u.jsx("textarea",{name:o,value:l,onChange:a,rows:3,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]},o))}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end gap-3 mt-auto",children:[u.jsx("button",{onClick:e,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Cancelar"}),u.jsx("button",{onClick:i,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar Cambios"})]})]})})},rse=({plan:t,onEditLesson:e,onUseLesson:n})=>u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Objetivo de Aprendizaje:"})," ",t.objetivosAprendizaje]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Indicadores de Evaluacin:"})," ",t.indicadoresEvaluacion]})]}),u.jsx("div",{className:"space-y-4",children:t.detallesLeccion.map((r,s)=>u.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[u.jsxs("h4",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:["Clase ",s+1,": ",r.actividades]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2 mt-2 text-sm",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Objetivo:"})," ",r.objetivosAprendizaje]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Contenidos:"})," ",r.contenidosConceptuales]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Habilidad (Bloom):"})," ",r.habilidadesBloom]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Perfil de Egreso:"})," ",r.perfilEgreso]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Interdisciplinariedad:"})," ",r.asignaturasInterdisciplinariedad]})]}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx("button",{onClick:()=>e(s,r),className:"text-sm font-semibold bg-slate-200 dark:bg-slate-600 py-1 px-3 rounded-md hover:bg-slate-300",children:"Editar"}),u.jsx("button",{onClick:()=>n(r,t),className:"text-sm font-semibold bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 py-1 px-3 rounded-md hover:bg-blue-200",children:"Usar para Plan de Clase"})]})]},s))})]}),sse=({plan:t,onBack:e,onSave:n})=>{const[r,s]=X.useState(t),a=i=>{const{name:o,value:l}=i.target,[A,d]=o.split(".");s(A==="momentosClase"?h=>({...h,momentosClase:{...h.momentosClase,[d]:l}}):h=>({...h,[o]:l}))};return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:t.nombreClase}),u.jsx("button",{onClick:e,className:"text-slate-600 hover:text-slate-900 font-semibold",children:" Volver"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"font-bold text-lg text-slate-700 dark:text-slate-300",children:"Inicio"}),u.jsx("textarea",{name:"momentosClase.inicio",value:r.momentosClase.inicio,onChange:a,rows:4,className:"w-full mt-2 p-2 border rounded-md bg-slate-50 dark:bg-slate-700"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"font-bold text-lg text-slate-700 dark:text-slate-300",children:"Desarrollo"}),u.jsx("textarea",{name:"momentosClase.desarrollo",value:r.momentosClase.desarrollo,onChange:a,rows:8,className:"w-full mt-2 p-2 border rounded-md bg-slate-50 dark:bg-slate-700"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"font-bold text-lg text-slate-700 dark:text-slate-300",children:"Cierre"}),u.jsx("textarea",{name:"momentosClase.cierre",value:r.momentosClase.cierre,onChange:a,rows:4,className:"w-full mt-2 p-2 border rounded-md bg-slate-50 dark:bg-slate-700"})]})]}),u.jsx("div",{className:"text-right mt-6",children:u.jsx("button",{onClick:()=>n(r),className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600",children:"Guardar Cambios"})})]})},ase=()=>{const[t,e]=X.useState([]),[n,r]=X.useState("list"),[s,a]=X.useState(null),[i,o]=X.useState(!1),[l,A]=X.useState(!1),d={nombre:"",fecha:"",hora:"",descripcion:"",ubicacion:"",participantes:"",recursosGenerales:"",tareas:[{id:crypto.randomUUID(),descripcion:"",responsable:"",recursos:""}]},[h,p]=X.useState(d);X.useEffect(()=>{const D=localStorage.getItem(Gk);D&&e(JSON.parse(D))},[]),X.useEffect(()=>{if(n==="summary"&&s)try{const D=localStorage.getItem(aC),S=(D?JSON.parse(D):[]).some(N=>N.type===zn.ACTIVIDAD_FOCALIZADA&&N.date===s.fecha&&N.responsables===s.nombre&&N.ubicacion===s.ubicacion);A(S)}catch(D){console.error("Could not check calendar",D)}},[n,s]);const g=D=>{e(D),localStorage.setItem(Gk,JSON.stringify(D))},w=D=>{const{name:P,value:S}=D.target;p(N=>({...N,[P]:S}))},b=(D,P,S)=>{p(N=>({...N,tareas:N.tareas.map(B=>B.id===D?{...B,[P]:S}:B)}))},E=()=>{p(D=>({...D,tareas:[...D.tareas,{id:crypto.randomUUID(),descripcion:"",responsable:"",recursos:""}]}))},T=D=>{p(P=>({...P,tareas:P.tareas.filter(S=>S.id!==D)}))},I=async D=>{D.preventDefault(),o(!0);const P=`Basado en la siguiente informacin de una actividad, genera un objetivo claro y conciso para esta.
        - Nombre: ${h.nombre}
        - Descripcin: ${h.descripcion}
        - Tareas: ${h.tareas.map(S=>S.descripcion).join(", ")}
        El objetivo debe ser breve, empezar con un verbo en infinitivo y enfocarse en el propsito principal de la actividad.`;try{go("Planificacin - Actividad Calendario");const N=await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:P}),B={id:crypto.randomUUID(),...h,objetivo:N.text.replace(/(\*\*|\*)/g,"")};g([B,...t]),a(B),r("summary")}catch(S){console.error("Error al generar objetivo con IA:",S),alert("Hubo un error al generar el objetivo. La actividad se guardar sin l.");const N={id:crypto.randomUUID(),...h,objetivo:"No generado"};g([N,...t]),a(N),r("summary")}finally{o(!1)}},k=D=>{if(!D)return;const P={date:D.fecha,type:zn.ACTIVIDAD_FOCALIZADA,responsables:D.nombre,ubicacion:D.ubicacion,horario:D.hora};try{const S=localStorage.getItem(aC),N=S?JSON.parse(S):[],B=[{...P,id:crypto.randomUUID()},...N];localStorage.setItem(aC,JSON.stringify(B)),A(!0),alert("Actividad aadida al Calendario Acadmico.")}catch(S){console.error("Error adding to calendar:",S),alert("Hubo un error al agregar la actividad al calendario.")}},F="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white";return n==="form"?u.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:u.jsxs("form",{onSubmit:I,className:"space-y-8",children:[u.jsxs("div",{className:"p-4 border rounded-lg dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",children:"Informacin General"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("input",{name:"nombre",value:h.nombre,onChange:w,placeholder:"Nombre de la Actividad",className:F,required:!0}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx("input",{name:"fecha",type:"date",value:h.fecha,onChange:w,className:F,required:!0}),u.jsx("input",{name:"hora",type:"time",value:h.hora,onChange:w,className:F,required:!0})]}),u.jsx("textarea",{name:"descripcion",value:h.descripcion,onChange:w,placeholder:"Descripcin (objetivos, contenidos, metodologa)",rows:4,className:F,required:!0}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx("input",{name:"ubicacion",value:h.ubicacion,onChange:w,placeholder:"Ubicacin",className:F,required:!0}),u.jsx("input",{name:"participantes",value:h.participantes,onChange:w,placeholder:"Participantes",className:F,required:!0})]}),u.jsx("textarea",{name:"recursosGenerales",value:h.recursosGenerales,onChange:w,placeholder:"Recursos Generales Necesarios",rows:2,className:F})]})]}),u.jsxs("div",{className:"p-4 border rounded-lg dark:border-slate-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-bold",children:"Tareas Asociadas"}),u.jsx("button",{type:"button",onClick:E,className:"bg-slate-200 dark:bg-slate-600 text-sm font-semibold px-3 py-1 rounded-md",children:"+ Agregar Tarea"})]}),u.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto",children:h.tareas.map((D,P)=>u.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md relative",children:[u.jsx("button",{type:"button",onClick:()=>T(D.id),className:"absolute top-1 right-1 text-red-500 text-lg",children:""}),u.jsx("textarea",{value:D.descripcion,onChange:S=>b(D.id,"descripcion",S.target.value),placeholder:`Descripcin de la Tarea ${P+1}`,rows:2,className:F,required:!0}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[u.jsx("input",{value:D.responsable,onChange:S=>b(D.id,"responsable",S.target.value),placeholder:"Responsable",className:F,required:!0}),u.jsx("input",{value:D.recursos,onChange:S=>b(D.id,"recursos",S.target.value),placeholder:"Recursos Necesarios",className:F})]})]},D.id))})]}),u.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-lg text-center",children:[u.jsx("h3",{className:"font-bold",children:"Objetivo de la Actividad"}),u.jsx("p",{className:"text-sm",children:"Este objetivo se generar automticamente a partir de la descripcin y las tareas ingresadas. Una vez guardada la actividad, podr revisar y ajustar el objetivo propuesto por el sistema."})]}),u.jsxs("div",{className:"flex justify-end gap-4",children:[u.jsx("button",{type:"button",onClick:()=>r("list"),className:"bg-slate-200 dark:bg-slate-600 font-semibold px-6 py-2 rounded-lg",children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:i,className:"bg-blue-600 text-white font-bold px-6 py-2 rounded-lg flex items-center min-w-[150px] justify-center",children:i?u.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Guardar Actividad"})]})]})}):n==="summary"&&s?u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[u.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200 rounded-lg flex items-center gap-4",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsxs("div",{children:[u.jsx("h2",{className:"font-bold text-lg",children:"Actividad Planificada con xito!"}),u.jsx("p",{className:"text-sm",children:"La actividad ha sido creada. Revisa los detalles a continuacin."})]})]}),u.jsxs("div",{className:"border rounded-lg p-6 dark:border-slate-700",children:[u.jsx("h3",{className:"text-xl font-bold mb-4",children:"Resumen de la Actividad"}),u.jsxs("div",{className:"space-y-4 text-sm",children:[u.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[u.jsx("strong",{className:"text-slate-500",children:"Nombre:"})," ",u.jsx("span",{children:s.nombre})]}),u.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[u.jsx("strong",{className:"text-slate-500",children:"Fecha y Hora:"})," ",u.jsx("span",{children:new Date(`${s.fecha}T${s.hora}`).toLocaleString("es-CL")})]}),u.jsxs("div",{className:"border-b pb-2 dark:border-slate-600",children:[u.jsx("p",{className:"font-bold text-slate-500",children:"Descripcin:"}),u.jsx("p",{children:s.descripcion})]}),u.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[u.jsx("strong",{className:"text-slate-500",children:"Ubicacin:"})," ",u.jsx("span",{children:s.ubicacion})]}),u.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[u.jsx("strong",{className:"text-slate-500",children:"Participantes:"})," ",u.jsx("span",{children:s.participantes})]}),u.jsxs("div",{className:"border-b pb-2 dark:border-slate-600",children:[u.jsx("p",{className:"font-bold text-slate-500",children:"Recursos Necesarios:"}),u.jsx("p",{children:s.recursosGenerales})]}),u.jsxs("div",{className:"border-b pb-2 dark:border-slate-600",children:[u.jsx("p",{className:"font-bold text-slate-500",children:"Objetivo (Generado por IA):"}),u.jsx("p",{children:s.objetivo})]})]}),u.jsxs("div",{className:"mt-6 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg flex justify-between items-center",children:[u.jsx("p",{className:"text-sm",children:"Quieres agregar esta actividad a tu calendario para recibir recordatorios?"}),u.jsx("button",{onClick:()=>k(s),disabled:l,className:`font-bold px-4 py-2 rounded-lg transition-colors ${l?"bg-green-600 text-white cursor-default":"bg-blue-600 text-white hover:bg-blue-700"}`,children:l?" Aadido al Calendario":"Aadir al Calendario"})]})]}),u.jsx("button",{onClick:()=>{r("list"),a(null)},className:"w-full text-center font-semibold text-blue-600 hover:underline",children:"Volver al panel de actividades"})]}):u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Actividades del Calendario"}),u.jsx("button",{onClick:()=>{r("form"),p(d)},className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Planificar Actividad"})]}),u.jsx("div",{className:"space-y-3",children:t.length>0?t.map(D=>u.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md border dark:border-slate-700",children:[u.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:D.nombre}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[new Date(D.fecha+"T12:00:00").toLocaleDateString("es-CL")," - ",D.ubicacion]})]},D.id)):u.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:"No hay actividades planificadas."})})]})},ise=({currentUser:t})=>{const[e,n]=X.useState([]),r={asignatura:"",nivel:"",nombreUnidad:"",contenidos:"",cantidadClases:8,observaciones:"",ideasParaUnidad:""},[s,a]=X.useState(r),[i,o]=X.useState(null),[l,A]=X.useState(!1),[d,h]=X.useState(null),[p,g]=X.useState("unidad"),[w,b]=X.useState(null),[E,T]=X.useState(null),I=X.useMemo(()=>t.asignaturas||[],[t.asignaturas]),k=X.useMemo(()=>{const K=t.cursos||[],Y=new Set;return K.forEach(oe=>{oe.startsWith("1")?Y.add("1 Medio"):oe.startsWith("2")?Y.add("2 Medio"):oe.startsWith("3")?Y.add("3 Medio"):oe.startsWith("4")&&Y.add("4 Medio")}),Array.from(Y)},[t.cursos]);X.useEffect(()=>{a(K=>({...K,asignatura:I[0]||"",nivel:k[0]||""}))},[I,k]);const F=X.useCallback(K=>{n(K),localStorage.setItem(sC,JSON.stringify(K)),window.dispatchEvent(new Event("storage"))},[]);X.useEffect(()=>{try{const K=localStorage.getItem(sC);K&&n(JSON.parse(K))}catch(K){console.error("Error al cargar planificaciones de localStorage",K)}},[]);const D=K=>{const{name:Y,value:oe}=K.target;a(Z=>({...Z,[Y]:Y==="cantidadClases"?parseInt(oe,10):oe}))},P=()=>{const{asignatura:K,nivel:Y,nombreUnidad:oe,contenidos:Z,cantidadClases:ee,observaciones:he,ideasParaUnidad:O}=s;return`Eres un experto diseador curricular para la educacin media tcnico profesional en Chile. Tu tarea es generar una planificacin de unidad didctica completa en formato JSON estructurado, basndote en la informacin proporcionada.

        **Informacin Base:**
        - Asignatura: ${K}
        - Nivel: ${Y}
        - Nombre de la Unidad: "${oe}"
        - Contenidos clave a trabajar (insumo principal): "${Z}"
        - Cantidad de clases para la unidad: ${ee}
        - Ideas y perspectiva del docente para la unidad: "${O||"Ninguna. S creativo."}"
        - Observaciones y nfasis del docente: "${he||"Ninguna"}"

        Debes generar un objeto JSON que se ajuste al esquema proporcionado. El JSON debe contener:
        1.  **objetivosAprendizaje**: Un objetivo de aprendizaje general y conciso para la unidad.
        2.  **indicadoresEvaluacion**: Un indicador de evaluacin general y observable para la unidad.
        3.  **detallesLeccion**: Un array con EXACTAMENTE ${ee} objetos, donde cada objeto representa una clase o sub-tema de la unidad. Cada objeto en el array debe tener:
            - **objetivosAprendizaje**: Un objetivo de aprendizaje especfico para la leccin, redactado en infinitivo.
            - **contenidosConceptuales**: Los conceptos clave que se abordarn en la leccin.
            - **habilidadesBloom**: La habilidad principal de la Taxonoma de Bloom que se trabajar (ej: Analizar, Crear, Evaluar).
            - **perfilEgreso**: Conecta la leccin con una habilidad del perfil de egreso (ej: "Pensamiento crtico", "Colaboracin").
            - **actividades**: Sugiere 1 o 2 actividades concretas, indicando el nmero de clase entre parntesis (ej: "Debate grupal (Clase 1)").
            - **asignaturasInterdisciplinariedad**: Sugiere una asignatura con la que se podra realizar un trabajo interdisciplinario.

        Asegrate de que el contenido generado sea coherente, pedaggicamente slido y est directamente relacionado con los contenidos clave proporcionados por el docente. El nombre de la unidad debe ser exactamente el proporcionado.`},S=async K=>{if(K.preventDefault(),A(!0),h(null),!s.contenidos||!s.nombreUnidad){h("Los campos 'Nombre de Unidad' y 'Contenidos Clave' son obligatorios."),A(!1);return}try{go("Planificacin - Unidad");const Y=new Ta({apiKey:void 0}),oe=P(),Z={type:Bt.OBJECT,properties:{objetivosAprendizaje:{type:Bt.STRING},indicadoresEvaluacion:{type:Bt.STRING},detallesLeccion:{type:Bt.ARRAY,items:{type:Bt.OBJECT,properties:{objetivosAprendizaje:{type:Bt.STRING},contenidosConceptuales:{type:Bt.STRING},habilidadesBloom:{type:Bt.STRING},perfilEgreso:{type:Bt.STRING},actividades:{type:Bt.STRING},asignaturasInterdisciplinariedad:{type:Bt.STRING}},required:["objetivosAprendizaje","contenidosConceptuales","habilidadesBloom","perfilEgreso","actividades","asignaturasInterdisciplinariedad"]}}},required:["objetivosAprendizaje","indicadoresEvaluacion","detallesLeccion"]},ee=await Y.models.generateContent({model:"gemini-2.5-flash",contents:oe,config:{responseMimeType:"application/json",responseSchema:Z}}),he=JSON.parse(ee.text),O={id:(i==null?void 0:i.id)||crypto.randomUUID(),fechaCreacion:new Date().toISOString(),autor:t.nombreCompleto,tipo:"Unidad",asignatura:s.asignatura,nivel:s.nivel,nombreUnidad:s.nombreUnidad,contenidos:s.contenidos,cantidadClases:s.cantidadClases,observaciones:s.observaciones,ideasParaUnidad:s.ideasParaUnidad,objetivosAprendizaje:he.objetivosAprendizaje,indicadoresEvaluacion:he.indicadoresEvaluacion,detallesLeccion:he.detallesLeccion},q=i?e.map(J=>J.id===i.id?O:J):[O,...e];F(q),o(O)}catch(Y){console.error("Error al generar planificacin con IA",Y),h("Ocurri un error al contactar con la IA. Verifique la configuracin y reintente.")}finally{A(!1)}},N=async(K,Y)=>{A(!0),h(null);const oe=`A partir de la siguiente informacin de una clase dentro de una unidad, genera un plan de clase detallado con momentos de inicio, desarrollo y cierre. La clase debe durar 80 minutos.
        
        - Asignatura: ${Y.asignatura}
        - Nivel: ${Y.nivel}
        - Objetivo de la clase: ${K.objetivosAprendizaje}
        - Contenidos: ${K.contenidosConceptuales}
        - Actividades sugeridas: ${K.actividades}
        
        Responde SLO con un objeto JSON que contenga las claves "inicio", "desarrollo" y "cierre", con las actividades detalladas para cada momento.`;try{go("Planificacin - Utilizar Clase");const Z=new Ta({apiKey:void 0}),ee={type:Bt.OBJECT,properties:{inicio:{type:Bt.STRING},desarrollo:{type:Bt.STRING},cierre:{type:Bt.STRING}},required:["inicio","desarrollo","cierre"]},he=await Z.models.generateContent({model:"gemini-2.5-flash",contents:oe,config:{responseMimeType:"application/json",responseSchema:ee}}),O=JSON.parse(he.text),q={id:crypto.randomUUID(),fechaCreacion:new Date().toISOString(),autor:t.nombreCompleto,tipo:"Clase",asignatura:Y.asignatura,nivel:Y.nivel,contenidos:K.contenidosConceptuales,observaciones:"",nombreClase:K.actividades,duracionClase:80,momentosClase:O,detalleLeccionOrigen:K},J=JSON.parse(localStorage.getItem(sC)||"[]"),ne=[q,...J];F(ne),alert('Plan de clase generado y guardado en la pestaa "Clase"!'),g("clase")}catch(Z){console.error("Error al generar plan de clase con IA",Z),h("No se pudo generar el plan de clase. Intntelo de nuevo.")}finally{A(!1)}},B=K=>{K.tipo==="Unidad"&&(a({asignatura:K.asignatura,nivel:K.nivel,nombreUnidad:K.nombreUnidad,contenidos:K.contenidos,cantidadClases:K.cantidadClases,observaciones:K.observaciones,ideasParaUnidad:K.ideasParaUnidad||""}),o(K),window.scrollTo({top:0,behavior:"smooth"}))},V=K=>{if(window.confirm("Est seguro de que desea eliminar esta planificacin?")){const Y=e.filter(oe=>oe.id!==K);F(Y),(i==null?void 0:i.id)===K&&(o(null),a(r))}},U=(K,Y)=>{i&&T({planId:i.id,lessonIndex:K,lessonData:Y})},L=K=>{if(!E)return;const{planId:Y,lessonIndex:oe}=E,Z=e.map(he=>{if(he.id===Y&&he.tipo==="Unidad"){const O=[...he.detallesLeccion];return O[oe]=K,{...he,detallesLeccion:O}}return he});F(Z);const ee=Z.find(he=>he.id===Y);ee&&o(ee),T(null)},j="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",G=()=>u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Generador de Planificaciones de Unidad"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Complete los campos y use la IA para crear una planificacin de unidad estructurada."}),u.jsxs("form",{onSubmit:S,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),u.jsx("select",{name:"asignatura",value:s.asignatura,onChange:D,className:j,children:I.length>0?I.map(K=>u.jsx("option",{value:K,children:K},K)):u.jsx("option",{disabled:!0,children:"No tiene asignaturas asignadas"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"nivel",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nivel"}),u.jsx("select",{name:"nivel",value:s.nivel,onChange:D,className:j,children:k.length>0?k.map(K=>u.jsx("option",{value:K,children:K},K)):u.jsx("option",{disabled:!0,children:"No tiene cursos/niveles asignados"})})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"nombreUnidad",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:["Nombre de Unidad ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",name:"nombreUnidad",value:s.nombreUnidad,onChange:D,className:j,placeholder:"Ej: La Clula y sus procesos"})]}),u.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[u.jsxs("label",{htmlFor:"contenidos",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:["Contenidos Clave ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{name:"contenidos",value:s.contenidos,onChange:D,rows:3,placeholder:"Ingrese los temas, conceptos clave o unidades que la planificacin debe abordar.",className:j})]}),u.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[u.jsx("label",{htmlFor:"ideasParaUnidad",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Ideas para la unidad"}),u.jsx("textarea",{name:"ideasParaUnidad",value:s.ideasParaUnidad,onChange:D,rows:3,placeholder:"Plantea tus ideas y perspectiva para que la IA construya una mejor planificacin (ej: enfocar en trabajo colaborativo, usar casos prcticos, conectar con la actualidad).",className:j})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"cantidadClases",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cantidad de Clases"}),u.jsx("input",{type:"number",name:"cantidadClases",value:s.cantidadClases,onChange:D,className:j,min:"1",max:"20"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Observaciones (nfasis)"}),u.jsx("textarea",{name:"observaciones",value:s.observaciones,onChange:D,rows:1,placeholder:"Ej: clase prctica, modelo ABP, juego, reforzamiento...",className:j})]})]}),u.jsx("div",{className:"pt-4 text-right",children:u.jsx("button",{type:"submit",disabled:l,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center min-w-[150px] dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:l?u.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):i?"Regenerar":"Generar Plan"})}),d&&u.jsx("p",{className:"text-red-600 bg-red-100 dark:bg-red-900/40 dark:text-red-300 p-3 rounded-md mt-4",children:d})]})]}),i&&u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Revisin y Edicin"}),u.jsx(rse,{plan:i,onEditLesson:U,onUseLesson:N})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Planificaciones de Unidad"}),u.jsx("div",{className:"space-y-4",children:e.filter(K=>K.tipo==="Unidad").length>0?e.filter(K=>K.tipo==="Unidad").map(K=>u.jsx("div",{className:`p-4 border rounded-lg ${(i==null?void 0:i.id)===K.id?"bg-amber-50 border-amber-300 dark:bg-amber-900/20 dark:border-amber-500/50":"bg-slate-50 dark:bg-slate-700/50 dark:border-slate-700"}`,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:K.nombreUnidad}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creado: ",new Date(K.fechaCreacion).toLocaleString("es-CL")]}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate max-w-md",children:["Contenidos: ",K.contenidos]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>B(K),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm",children:"Ver y Editar"}),u.jsx("button",{onClick:()=>V(K.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:""})]})]})},K.id)):u.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No hay planificaciones de unidad guardadas."})})]})]}),se=()=>{const K=e.filter(Y=>Y.tipo==="Clase").sort((Y,oe)=>new Date(oe.fechaCreacion).getTime()-new Date(Y.fechaCreacion).getTime());return w?u.jsx(sse,{plan:w,onBack:()=>b(null),onSave:Y=>{const oe=e.map(Z=>Z.id===Y.id?Y:Z);F(oe),b(Y)}}):u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Planes de Clase Guardados"}),u.jsx("div",{className:"space-y-4",children:K.length>0?K.map(Y=>u.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:Y.nombreClase}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creado: ",new Date(Y.fechaCreacion).toLocaleString("es-CL")]}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate max-w-md",children:["Contenidos: ",Y.contenidos]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("button",{onClick:()=>b(Y),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm",children:"Ver Plan de Clase"})})]},Y.id)):u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-6",children:"No hay planes de clase guardados. Puede generarlos desde una unidad en la pestaa 'Unidad'."})})]})};return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Planificacin"}),u.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:u.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[u.jsx("button",{onClick:()=>g("unidad"),className:`${p==="unidad"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Unidad"}),u.jsx("button",{onClick:()=>g("clase"),className:`${p==="clase"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Clase"}),u.jsx("button",{onClick:()=>g("calendario"),className:`${p==="calendario"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Actividades Calendario"})]})}),p==="unidad"&&G(),p==="clase"&&se(),p==="calendario"&&u.jsx(ase,{}),E&&u.jsx(nse,{lesson:E.lessonData,onClose:()=>T(null),onSave:L})]})},zk="eventosCalendario",ose=["Dom","Lun","Mar","Mi","Jue","Vie","Sb"],lse=t=>{switch(t.type){case zn.EVALUACION:return`${t.subtype} - ${t.asignatura}`;case zn.ACTO:return`Acto: ${t.ubicacion}`;case zn.ACTIVIDAD_FOCALIZADA:return"Actividad Focalizada";case zn.SALIDA_PEDAGOGICA:return`Salida: ${t.ubicacion}`;default:return"Evento"}},cse=({isOpen:t,onClose:e,onSave:n,onDelete:r,event:s,date:a})=>{const[i,o]=X.useState({});X.useEffect(()=>{o(s||{type:zn.EVALUACION,subtype:Mf.PRUEBA_PARCIAL,asignatura:Il[0],curso:_a[0],contenidos:"",enlace:"",responsables:"",ubicacion:"",horario:"",responsable:"",cursos:[]})},[s]);const l="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",A=w=>{const{name:b,value:E}=w.target;o(T=>({...T,[b]:E}))},d=w=>{o(b=>{if(b.type===zn.SALIDA_PEDAGOGICA){const E=b.cursos||[],T=E.includes(w)?E.filter(I=>I!==w):[...E,w];return{...b,cursos:T.sort()}}return b})},h=w=>{switch(w.preventDefault(),i.type){case zn.EVALUACION:n({date:a,type:zn.EVALUACION,subtype:i.subtype,asignatura:i.asignatura,curso:i.curso,contenidos:i.contenidos,enlace:i.subtype===Mf.RUBRICA||i.subtype===Mf.PAUTA_COTEJO?i.enlace:void 0});break;case zn.ACTO:n({date:a,type:zn.ACTO,responsables:i.responsables,ubicacion:i.ubicacion,horario:i.horario});break;case zn.ACTIVIDAD_FOCALIZADA:n({date:a,type:zn.ACTIVIDAD_FOCALIZADA,responsables:i.responsables,ubicacion:i.ubicacion,horario:i.horario});break;case zn.SALIDA_PEDAGOGICA:n({date:a,type:zn.SALIDA_PEDAGOGICA,responsable:i.responsable,ubicacion:i.ubicacion,cursos:i.cursos});break}e()};if(!t)return null;const p=new Date(`${a}T12:00:00`).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),g=()=>{switch(i.type){case zn.EVALUACION:return u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"subtype",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Subtipo"}),u.jsx("select",{id:"subtype",name:"subtype",value:i.subtype,onChange:A,required:!0,className:l,children:UW.map(w=>u.jsx("option",{value:w,children:w},w))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),u.jsx("select",{id:"asignatura",name:"asignatura",value:i.asignatura,onChange:A,required:!0,className:l,children:Il.map(w=>u.jsx("option",{value:w,children:w},w))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),u.jsx("select",{id:"curso",name:"curso",value:i.curso,onChange:A,required:!0,className:l,children:_a.map(w=>u.jsx("option",{value:w,children:w},w))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"contenidos",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Contenidos"}),u.jsx("textarea",{id:"contenidos",name:"contenidos",value:i.contenidos,onChange:A,required:!0,rows:3,className:l})]}),(i.subtype===Mf.RUBRICA||i.subtype===Mf.PAUTA_COTEJO)&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"enlace",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Enlace al Documento (URL)"}),u.jsx("input",{id:"enlace",name:"enlace",type:"url",value:i.enlace,onChange:A,placeholder:"https://...",className:l})]})]});case zn.ACTO:case zn.ACTIVIDAD_FOCALIZADA:return u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"responsables",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Responsables"}),u.jsx("input",{id:"responsables",name:"responsables",type:"text",value:i.responsables,onChange:A,required:!0,className:l})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"ubicacion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Ubicacin"}),u.jsx("input",{id:"ubicacion",name:"ubicacion",type:"text",value:i.ubicacion,onChange:A,required:!0,className:l})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"horario",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Horario"}),u.jsx("input",{id:"horario",name:"horario",type:"text",value:i.horario,onChange:A,required:!0,className:l})]})]});case zn.SALIDA_PEDAGOGICA:return u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"responsable",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Responsable"}),u.jsx("input",{id:"responsable",name:"responsable",type:"text",value:i.responsable,onChange:A,required:!0,className:l})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"ubicacion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Ubicacin/Destino"}),u.jsx("input",{id:"ubicacion",name:"ubicacion",type:"text",value:i.ubicacion,onChange:A,required:!0,className:l})]}),u.jsxs("fieldset",{children:[u.jsx("legend",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cursos Involucrados"}),u.jsx("div",{className:"max-h-32 overflow-y-auto grid grid-cols-3 sm:grid-cols-4 gap-2 border p-2 rounded-md dark:border-slate-600 text-slate-700 dark:text-slate-300",children:_a.map(w=>u.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:(i.cursos||[]).includes(w),onChange:()=>d(w),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),u.jsx("span",{children:w})]},w))})]})]});default:return null}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center p-4",onClick:e,children:u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg animate-fade-in-up",onClick:w=>w.stopPropagation(),children:u.jsxs("form",{onSubmit:h,children:[u.jsxs("div",{className:"p-6 max-h-[80vh] overflow-y-auto",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:s?"Editar Evento":"Agregar Evento"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 font-semibold",children:p}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Tipo de Evento"}),u.jsx("select",{id:"type",name:"type",value:i.type,onChange:A,className:l,children:Object.values(zn).map(w=>u.jsx("option",{value:w,children:w},w))})]}),g()]})]}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 px-6 py-4 rounded-b-xl flex justify-between items-center",children:[u.jsx("div",{children:s&&r&&u.jsx("button",{type:"button",onClick:r,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 font-semibold",children:"Eliminar"})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:e,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Guardar"})]})]})]})})})},Ase=({profile:t})=>{const[e,n]=X.useState(new Date),[r,s]=X.useState([]),[a,i]=X.useState(Object.values(zn)),[o,l]=X.useState(!1),[A,d]=X.useState(null),[h,p]=X.useState(null);X.useEffect(()=>{try{const F=localStorage.getItem(zk);F&&s(JSON.parse(F))}catch(F){console.error("Error al cargar eventos de localStorage",F)}},[]),X.useEffect(()=>{try{localStorage.setItem(zk,JSON.stringify(r))}catch(F){console.error("Error al guardar eventos en localStorage",F)}},[r]);const g=X.useMemo(()=>{const F=e.getFullYear(),D=e.getMonth(),P=new Date(F,D,1).getDay(),S=new Date(F,D+1,0).getDate(),N=[];let B=1;for(let V=0;V<6;V++){const U=[];for(let L=0;L<7;L++)V===0&&L<P||B>S?U.push(null):(U.push(new Date(F,D,B)),B++);if(N.push(U),B>S)break}return N},[e]),w=F=>{i(D=>D.includes(F)?D.filter(P=>P!==F):[...D,F])},b=()=>{a.length===Object.values(zn).length?i([]):i(Object.values(zn))},E=F=>{t!==on.ESTUDIANTE&&(d(F.toISOString().split("T")[0]),p(null),l(!0))},T=(F,D)=>{D.stopPropagation(),t!==on.ESTUDIANTE&&(d(F.date),p(F),l(!0))},I=F=>{s(h?r.map(D=>D.id===h.id?{...F,id:D.id}:D):[...r,{...F,id:crypto.randomUUID()}])},k=()=>{h&&(s(r.filter(F=>F.id!==h.id)),l(!1))};return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6 animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Calendario Acadmico"}),u.jsx("div",{className:"mb-4 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300 rounded-r-lg",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:u.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 3.001-1.742 3.001H4.42c-1.53 0-2.493-1.667-1.743-3.001l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 011-1h.008a1 1 0 011 1v3.008a1 1 0 01-1 1h-.008a1 1 0 01-1-1V5z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm",children:"Recuerda que el calendario escolar completo se encuentra disponible en la intranet. Este calendario es de exclusivo uso evaluativo y acadmico."})})]})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Filtrar por tipo de evento:"}),u.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[u.jsx("button",{onClick:b,className:"text-sm font-semibold px-3 py-1.5 rounded-full bg-slate-700 text-white hover:bg-slate-600 dark:bg-slate-600 dark:hover:bg-slate-500 transition-colors",children:a.length===Object.values(zn).length?"Deseleccionar Todos":"Seleccionar Todos"}),Object.values(zn).map(F=>u.jsxs("label",{className:`cursor-pointer text-sm font-medium px-3 py-1.5 rounded-full transition-all duration-200 flex items-center gap-2 ${a.includes(F)?`shadow-sm ${_0[F].color}`:"bg-slate-100 text-slate-600 hover:bg-slate-200 opacity-70 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600 dark:opacity-60"}`,children:[u.jsx("input",{type:"checkbox",checked:a.includes(F),onChange:()=>w(F),className:"hidden"}),u.jsx("span",{children:_0[F].icon}),u.jsx("span",{children:_0[F].label})]},F))]})]}),u.jsxs("div",{className:"border dark:border-slate-700 rounded-lg overflow-hidden",children:[u.jsxs("header",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-700/50 border-b dark:border-slate-700",children:[u.jsx("button",{onClick:()=>n(new Date(e.setMonth(e.getMonth()-1))),className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300",children:"<"}),u.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 capitalize",children:e.toLocaleString("es-CL",{month:"long",year:"numeric"})}),u.jsx("button",{onClick:()=>n(new Date(e.setMonth(e.getMonth()+1))),className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300",children:">"}),u.jsx("button",{onClick:()=>n(new Date),className:"ml-4 bg-slate-800 text-white text-sm font-bold py-1.5 px-3 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Hoy"})]}),u.jsx("div",{className:"grid grid-cols-7",children:ose.map(F=>u.jsx("div",{className:"text-center font-semibold text-slate-500 dark:text-slate-400 text-sm py-3 bg-slate-50 dark:bg-slate-700/50 border-b border-r dark:border-slate-700",children:F},F))}),u.jsx("div",{className:"grid grid-cols-7 grid-rows-6",children:g.flat().map((F,D)=>{const P=F&&F.toDateString()===new Date().toDateString(),S=F==null?void 0:F.toISOString().split("T")[0],N=S?r.filter(B=>B.date===S&&a.includes(B.type)):[];return u.jsx("div",{onClick:()=>F&&E(F),className:`border-b border-r dark:border-slate-700 p-2 h-36 flex flex-col overflow-hidden relative group ${F?t!==on.ESTUDIANTE?"cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/50":"":"bg-slate-50 dark:bg-slate-800/50"}`,children:F&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:`self-end text-sm font-semibold ${P?"bg-amber-400 text-white rounded-full h-6 w-6 flex items-center justify-center":"text-slate-600 dark:text-slate-300"}`,children:F.getDate()}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 mt-1 pr-1",children:N.map(B=>u.jsxs("div",{onClick:V=>T(B,V),className:`text-xs font-medium p-1 rounded-md flex items-center gap-1.5 truncate ${_0[B.type].color}`,children:[u.jsx("span",{children:_0[B.type].icon}),u.jsx("span",{className:"truncate",children:lse(B)})]},B.id))}),t!==on.ESTUDIANTE&&u.jsx("button",{className:"absolute bottom-1 right-1 bg-amber-400 text-white rounded-full h-6 w-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-lg font-bold",children:"+"})]})},D)})})]}),o&&u.jsx(cse,{isOpen:o,onClose:()=>l(!1),onSave:I,onDelete:k,event:h,date:A})]})},Kk="anunciosMuro",qk=[{bg:"bg-yellow-200 dark:bg-yellow-800/50",rotate:"transform -rotate-2"},{bg:"bg-lime-200 dark:bg-lime-800/50",rotate:"transform rotate-1"},{bg:"bg-sky-200 dark:bg-sky-800/50",rotate:"transform rotate-2"},{bg:"bg-red-200 dark:bg-red-800/50",rotate:"transform -rotate-1"},{bg:"bg-violet-200 dark:bg-violet-800/50",rotate:"transform rotate-1"}],use=({currentUser:t})=>{const[e,n]=X.useState(()=>{try{const I=localStorage.getItem(Kk);return I?JSON.parse(I):[]}catch(I){return console.error("Error al leer anuncios de localStorage en la inicializacin",I),[]}}),[r,s]=X.useState({titulo:"",mensaje:"",adjunto:""}),[a,i]=X.useState({tipo:"Todos",cursos:[]});X.useEffect(()=>{try{localStorage.setItem(Kk,JSON.stringify(e))}catch(I){console.error("Error al guardar anuncios en localStorage",I)}},[e]);const o=I=>{const{name:k,value:F}=I.target;s(D=>({...D,[k]:F}))},l=I=>{i({tipo:I,cursos:I==="Cursos"?[]:void 0})},A=I=>{i(k=>{var D;if(k.tipo!=="Cursos")return k;const F=(D=k.cursos)!=null&&D.includes(I)?k.cursos.filter(P=>P!==I):[...k.cursos||[],I];return{...k,cursos:F}})},d=I=>{if(I.preventDefault(),!r.titulo||!r.mensaje){alert("Ttulo y mensaje son obligatorios.");return}if(a.tipo==="Cursos"&&(!a.cursos||a.cursos.length===0)){alert('Debe seleccionar al menos un curso para el destinatario "Cursos".');return}const k={id:crypto.randomUUID(),fechaPublicacion:new Date().toISOString(),destacado:!1,autor:t.nombreCompleto,profileCreador:t.profile,destinatarios:a,...r};n(F=>[k,...F]),s({titulo:"",mensaje:"",adjunto:""}),i({tipo:"Todos",cursos:[]})},h=I=>{window.confirm("Est seguro de que desea eliminar este anuncio?")&&n(k=>k.filter(F=>F.id!==I))},p=I=>{n(k=>k.map(F=>F.id===I?{...F,destacado:!F.destacado}:F))},g=X.useMemo(()=>[...e].sort((I,k)=>I.destacado&&!k.destacado?-1:!I.destacado&&k.destacado?1:new Date(k.fechaPublicacion).getTime()-new Date(I.fechaPublicacion).getTime()),[e]),w=X.useMemo(()=>{const I=t.profile,k=t.curso;return g.filter(F=>{if(I===on.SUBDIRECCION)return!0;if(!F.destinatarios)return I!==on.ESTUDIANTE;const{tipo:D,cursos:P}=F.destinatarios;return D==="Todos"||D==="Profesores"&&I===on.PROFESORADO||D==="Coordinacin TP"&&I===on.COORDINACION_TP?!0:D==="Cursos"?I===on.ESTUDIANTE?P==null?void 0:P.includes(k||""):!0:!1})},[g,t]),b=I=>t.profile===on.ESTUDIANTE?!1:t.profile===on.SUBDIRECCION||t.profile===I.profileCreador,E=()=>t.profile===on.SUBDIRECCION||t.profile===on.PROFESORADO,T="w-full border-slate-300 rounded-md shadow-sm focus:ring-amber-400 focus:border-amber-400 dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Muro de Anuncios"}),t.profile!==on.ESTUDIANTE?u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Publique un nuevo anuncio para toda la comunidad escolar."}),u.jsxs("form",{onSubmit:d,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"titulo",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Ttulo"}),u.jsx("input",{type:"text",name:"titulo",value:r.titulo,onChange:o,required:!0,className:T})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"mensaje",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Mensaje"}),u.jsx("textarea",{name:"mensaje",value:r.mensaje,onChange:o,required:!0,rows:4,className:T})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Destinatarios"}),u.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:["Todos","Cursos","Profesores","Coordinacin TP"].map(I=>u.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"destinatarioTipo",value:I,checked:a.tipo===I,onChange:()=>l(I),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-slate-300"}),u.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:I.replace("Coordinacin TP","Coord. TP")})]},I))})]}),a.tipo==="Cursos"&&u.jsxs("div",{className:"p-4 border rounded-md bg-slate-50 dark:bg-slate-700/50 dark:border-slate-600 animate-fade-in",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Seleccione Cursos"}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 max-h-48 overflow-y-auto",children:_a.map(I=>{var k;return u.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 dark:hover:bg-slate-600 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:(k=a.cursos)==null?void 0:k.includes(I),onChange:()=>A(I),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400 border-slate-300 bg-slate-100"}),u.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:I})]},I)})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"adjunto",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Enlace adjunto (Opcional)"}),u.jsx("input",{type:"url",name:"adjunto",value:r.adjunto,onChange:o,placeholder:"https://ejemplo.com/documento.pdf",className:T})]}),u.jsx("div",{className:"pt-2 text-right",children:u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-all duration-200 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Publicar Anuncio"})})]})]}):u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Anuncios de la comunidad escolar. Este mdulo es de solo lectura."})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-8 py-4",children:w.length>0?w.map((I,k)=>{const F=qk[k%qk.length];return u.jsxs("div",{className:`font-handwritten text-slate-800 dark:text-slate-200 shadow-xl p-4 flex flex-col relative transition-transform duration-300 ease-in-out hover:scale-105 hover:rotate-0 hover:z-10 ${F.bg} ${F.rotate}`,children:[I.destacado&&u.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2",children:u.jsx("span",{className:"text-5xl",role:"img","aria-label":"Anuncio destacado",children:""})}),u.jsx("h2",{className:"text-3xl font-bold border-b-2 border-slate-500/30 dark:border-slate-400/30 pb-2 mb-4 break-words",children:I.titulo}),u.jsx("p",{className:"flex-grow text-2xl whitespace-pre-wrap mb-4 break-words min-h-[100px]",children:I.mensaje}),I.adjunto&&u.jsx("div",{className:"font-sans text-sm mb-4",children:u.jsxs("a",{href:I.adjunto,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 font-semibold text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),"Ver Adjunto"]})}),u.jsxs("div",{className:"font-sans text-xs mt-auto pt-2 border-t border-slate-500/30 dark:border-slate-400/30 flex justify-between items-end",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-bold",children:I.autor}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:new Date(I.fechaPublicacion).toLocaleString("es-CL")})]}),u.jsxs("div",{className:"flex items-center",children:[E()&&u.jsx("button",{onClick:()=>p(I.id),title:I.destacado?"Desfijar":"Fijar",className:"p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded-full transition-colors",children:u.jsx("span",{className:`text-xl transition-opacity ${I.destacado?"opacity-100":"opacity-30"}`,children:""})}),b(I)&&u.jsx("button",{onClick:()=>h(I.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded-full transition-colors",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},I.id)}):u.jsx("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md text-center col-span-full",children:u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg",children:"No hay anuncios para mostrar con los filtros actuales."})})})]})},iC="actasDeReunion",u8=window.SpeechRecognition||window.webkitSpeechRecognition,Wk=!!u8,dse=({isListening:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t?u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}):u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),fse=()=>{const[t,e]=X.useState([]),[n,r]=X.useState(null),[s,a]=X.useState({tipoReunion:Xb[0],asistentes:"",textoReunion:""}),[i,o]=X.useState(!1),[l,A]=X.useState(!1),[d,h]=X.useState(null),p=X.useRef(null);X.useEffect(()=>{try{const F=localStorage.getItem(iC);if(F){const D=JSON.parse(F);e(D),D.length>0&&!n&&r(D[0])}}catch(F){console.error("Error al leer actas de localStorage",F)}},[n]);const g=F=>{const{name:D,value:P}=F.target;a(S=>({...S,[D]:P}))},w=X.useCallback(()=>{var F;if(!Wk){h("El reconocimiento de voz no es compatible con este navegador.");return}i?(F=p.current)==null||F.stop():(p.current=new u8,p.current.lang="es-CL",p.current.continuous=!0,p.current.interimResults=!0,p.current.onresult=D=>{let P="";for(let S=D.resultIndex;S<D.results.length;++S)D.results[S].isFinal&&(P+=D.results[S][0].transcript+". ");a(S=>({...S,textoReunion:S.textoReunion+P}))},p.current.onstart=()=>o(!0),p.current.onend=()=>o(!1),p.current.onerror=D=>{console.error("Speech recognition error",D.error),h(`Error de reconocimiento: ${D.error}`),o(!1)},p.current.start())},[i]),b=async F=>{F.preventDefault();const{tipoReunion:D,asistentes:P,textoReunion:S}=s;if(!D||!P.trim()||!S.trim()){h("Todos los campos son obligatorios.");return}A(!0),h(null);try{go("Generador de Actas");const N=new Ta({apiKey:void 0}),B=`
                Analiza el siguiente texto de un acta de reunin y extrae la informacin clave.
                El texto es una transcripcin de lo hablado.
                - Identifica los temas principales discutidos.
                - Extrae un resumen de los acuerdos o decisiones especficas tomadas.
                - Lista cualquier plazo o fecha lmite mencionada.
                - Identifica los nombres de las personas a las que se les asignaron responsabilidades o tareas.
                
                Texto del acta:
                "${S}"
                
                Asistentes a la reunin para referencia de nombres: ${P}
            `,V={type:Bt.OBJECT,properties:{temas:{type:Bt.ARRAY,description:"Lista de los principales temas tratados en la reunin.",items:{type:Bt.STRING}},acuerdos:{type:Bt.ARRAY,description:"Lista de los acuerdos o decisiones tomadas.",items:{type:Bt.STRING}},plazos:{type:Bt.ARRAY,description:"Lista de fechas lmite o plazos mencionados en el texto.",items:{type:Bt.STRING}},responsables:{type:Bt.ARRAY,description:"Lista de las personas asignadas como responsables de tareas.",items:{type:Bt.STRING}}},required:["temas","acuerdos","plazos","responsables"]},U=await N.models.generateContent({model:"gemini-2.5-flash",contents:B,config:{responseMimeType:"application/json",responseSchema:V}}),L=JSON.parse(U.text),j={id:crypto.randomUUID(),fechaCreacion:new Date().toISOString(),...s,...L},G=[j,...t];e(G),localStorage.setItem(iC,JSON.stringify(G)),a({tipoReunion:Xb[0],asistentes:"",textoReunion:""}),r(j)}catch(N){console.error("Error al analizar acta con IA:",N),h("Ocurri un error al procesar el acta con la IA. Por favor, revise el texto e intntelo de nuevo.")}finally{A(!1)}},E=F=>{if(window.confirm("Est seguro de que desea eliminar esta acta?")){const D=t.filter(P=>P.id!==F);e(D),localStorage.setItem(iC,JSON.stringify(D)),(n==null?void 0:n.id)===F&&r(D.length>0?D[0]:null)}},T=F=>{r(F)},I=F=>F.temas||F.acuerdos||F.plazos||F.responsables?u.jsxs("div",{className:"mt-8 pt-6 border-t dark:border-slate-600",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:"Anlisis con IA"}),F.temas&&F.temas.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Temas Tratados"}),u.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:F.temas.map((P,S)=>u.jsx("li",{children:P},S))})]}),F.acuerdos&&F.acuerdos.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Acuerdos"}),u.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:F.acuerdos.map((P,S)=>u.jsx("li",{children:P},S))})]}),F.plazos&&F.plazos.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Plazos"}),u.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:F.plazos.map((P,S)=>u.jsx("li",{children:P},S))})]}),F.responsables&&F.responsables.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Responsables"}),u.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:F.responsables.map((P,S)=>u.jsx("li",{children:P},S))})]})]}):null,k="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 animate-fade-in",children:[u.jsxs("div",{className:"md:col-span-1 space-y-8",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Generador de Actas"}),u.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300 rounded-r-lg",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:u.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 3.001-1.742 3.001H4.42c-1.53 0-2.493-1.667-1.743-3.001l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 011-1h.008a1 1 0 011 1v3.008a1 1 0 01-1 1h-.008a1 1 0 01-1-1V5z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsxs("p",{className:"text-sm",children:["Recuerda que las actas debes subirlas por intranet en ",u.jsx("strong",{className:"font-semibold",children:"www.industrialderecoleta.cl"}),". Esta es slo una herramienta para agilizar redaccin."]})})]})}),u.jsxs("form",{onSubmit:b,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"tipoReunion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Tipo de Reunin"}),u.jsx("select",{name:"tipoReunion",value:s.tipoReunion,onChange:g,required:!0,className:k,children:Xb.map(F=>u.jsx("option",{value:F,children:F},F))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"asistentes",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asistentes"}),u.jsx("textarea",{name:"asistentes",value:s.asistentes,onChange:g,required:!0,rows:3,placeholder:"Nombres, separados por comas...",className:k})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"textoReunion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Texto de la Reunin"}),u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{name:"textoReunion",value:s.textoReunion,onChange:g,required:!0,rows:6,placeholder:"Escriba o use el micrfono para dictar...",className:k}),Wk&&u.jsx("button",{type:"button",onClick:w,title:i?"Detener grabacin":"Iniciar grabacin",className:`absolute top-2 right-2 p-2 rounded-full transition-colors ${i?"bg-red-500 text-white animate-pulse":"bg-slate-200 hover:bg-slate-300 text-slate-700 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500"}`,children:u.jsx(dse,{isListening:i})})]})]}),d&&u.jsx("p",{className:"text-red-600 bg-red-100 dark:bg-red-900/40 dark:text-red-300 p-3 rounded-md mt-4",children:d}),u.jsx("div",{className:"pt-2 text-right",children:u.jsx("button",{type:"submit",disabled:l,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 flex items-center justify-center min-w-[120px] disabled:bg-slate-400 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:l?u.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Crear Acta"})})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Actas"}),u.jsx("div",{className:"max-h-80 overflow-y-auto space-y-2 pr-2",children:t.length>0?t.sort((F,D)=>new Date(D.fechaCreacion).getTime()-new Date(F.fechaCreacion).getTime()).map(F=>u.jsxs("button",{onClick:()=>T(F),className:`w-full text-left p-3 rounded-lg border transition-colors ${(n==null?void 0:n.id)===F.id?"bg-amber-100 border-amber-300 dark:bg-amber-900/20 dark:border-amber-500/50":"bg-slate-50 hover:bg-slate-100 border-transparent dark:bg-slate-700/50 dark:hover:bg-slate-700"}`,children:[u.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:F.tipoReunion}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(F.fechaCreacion).toLocaleDateString("es-CL")})]},F.id)):u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No hay actas guardadas."})})]})]}),u.jsx("div",{className:"md:col-span-2 bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md",children:n?u.jsxs("div",{className:"prose dark:prose-invert max-w-none prose-slate",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("h1",{className:"text-3xl font-bold mt-0",children:`Acta de Reunin: ${n.tipoReunion}`}),u.jsx("button",{onClick:()=>E(n.id),title:"Eliminar Acta",className:"text-red-500 hover:text-red-700 p-2 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40 -mt-2 -mr-2",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[u.jsx("strong",{children:"Fecha:"})," ",new Date(n.fechaCreacion).toLocaleString("es-CL")]}),u.jsx("h2",{children:"Asistentes"}),u.jsx("ul",{className:"list-disc pl-5",children:String(n.asistentes||"").split(",").map((F,D)=>F.trim()&&u.jsx("li",{children:F.trim()},D))}),I(n),u.jsx("h2",{className:"mt-8 pt-6 border-t dark:border-slate-600",children:"Transcripcin Original"}),u.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-md whitespace-pre-wrap",children:u.jsx("p",{children:n.textoReunion})})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[u.jsx("span",{className:"text-6xl mb-4 text-slate-400",children:""}),u.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-300",children:"Seleccione un Acta"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mt-2",children:"Elija un acta del historial para ver sus detalles aqu, o cree una nueva usando el formulario."})]})})]})},hse="modulepreload",mse=function(t){return"/"+t},$k={},i_=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let i=function(A){return Promise.all(A.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=i(n.map(A=>{if(A=mse(A),A in $k)return;$k[A]=!0;const d=A.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${h}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":hse,d||(p.as="script"),p.crossOrigin="",p.href=A,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((g,w)=>{p.addEventListener("load",g),p.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${A}`)))})}))}function a(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return s.then(i=>{for(const o of i||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function Mr(t){"@babel/helpers - typeof";return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mr(t)}var Ii=Uint8Array,Go=Uint16Array,g5=Int32Array,Ky=new Ii([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),qy=new Ii([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o_=new Ii([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d8=function(t,e){for(var n=new Go(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var s=new g5(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)s[a]=a-n[r]<<5|r;return{b:n,r:s}},f8=d8(Ky,2),h8=f8.b,l_=f8.r;h8[28]=258,l_[258]=28;var m8=d8(qy,0),pse=m8.b,Yk=m8.r,c_=new Go(32768);for(var as=0;as<32768;++as){var ud=(as&43690)>>1|(as&21845)<<1;ud=(ud&52428)>>2|(ud&13107)<<2,ud=(ud&61680)>>4|(ud&3855)<<4,c_[as]=((ud&65280)>>8|(ud&255)<<8)>>1}var pA=function(t,e,n){for(var r=t.length,s=0,a=new Go(e);s<r;++s)t[s]&&++a[t[s]-1];var i=new Go(e);for(s=1;s<e;++s)i[s]=i[s-1]+a[s-1]<<1;var o;if(n){o=new Go(1<<e);var l=15-e;for(s=0;s<r;++s)if(t[s])for(var A=s<<4|t[s],d=e-t[s],h=i[t[s]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)o[c_[h]>>l]=A}else for(o=new Go(r),s=0;s<r;++s)t[s]&&(o[s]=c_[i[t[s]-1]++]>>15-t[s]);return o},Yd=new Ii(288);for(var as=0;as<144;++as)Yd[as]=8;for(var as=144;as<256;++as)Yd[as]=9;for(var as=256;as<280;++as)Yd[as]=7;for(var as=280;as<288;++as)Yd[as]=8;var Lg=new Ii(32);for(var as=0;as<32;++as)Lg[as]=5;var gse=pA(Yd,9,0),xse=pA(Yd,9,1),vse=pA(Lg,5,0),yse=pA(Lg,5,1),oC=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},rc=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},lC=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},x5=function(t){return(t+7)/8|0},p8=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Ii(t.subarray(e,n))},wse=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],oc=function(t,e,n){var r=new Error(e||wse[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,oc),!n)throw r;return r},bse=function(t,e,n,r){var s=t.length,a=0;if(!s||e.f&&!e.l)return n||new Ii(0);var i=!n,o=i||e.i!=2,l=e.i;i&&(n=new Ii(s*3));var A=function(we){var ie=n.length;if(we>ie){var De=new Ii(Math.max(ie*2,we));De.set(n),n=De}},d=e.f||0,h=e.p||0,p=e.b||0,g=e.l,w=e.d,b=e.m,E=e.n,T=s*8;do{if(!g){d=rc(t,h,1);var I=rc(t,h+1,3);if(h+=3,I)if(I==1)g=xse,w=yse,b=9,E=5;else if(I==2){var P=rc(t,h,31)+257,S=rc(t,h+10,15)+4,N=P+rc(t,h+5,31)+1;h+=14;for(var B=new Ii(N),V=new Ii(19),U=0;U<S;++U)V[o_[U]]=rc(t,h+U*3,7);h+=S*3;for(var L=oC(V),j=(1<<L)-1,G=pA(V,L,1),U=0;U<N;){var se=G[rc(t,h,j)];h+=se&15;var k=se>>4;if(k<16)B[U++]=k;else{var K=0,Y=0;for(k==16?(Y=3+rc(t,h,3),h+=2,K=B[U-1]):k==17?(Y=3+rc(t,h,7),h+=3):k==18&&(Y=11+rc(t,h,127),h+=7);Y--;)B[U++]=K}}var oe=B.subarray(0,P),Z=B.subarray(P);b=oC(oe),E=oC(Z),g=pA(oe,b,1),w=pA(Z,E,1)}else oc(1);else{var k=x5(h)+4,F=t[k-4]|t[k-3]<<8,D=k+F;if(D>s){l&&oc(0);break}o&&A(p+F),n.set(t.subarray(k,D),p),e.b=p+=F,e.p=h=D*8,e.f=d;continue}if(h>T){l&&oc(0);break}}o&&A(p+131072);for(var ee=(1<<b)-1,he=(1<<E)-1,O=h;;O=h){var K=g[lC(t,h)&ee],q=K>>4;if(h+=K&15,h>T){l&&oc(0);break}if(K||oc(2),q<256)n[p++]=q;else if(q==256){O=h,g=null;break}else{var J=q-254;if(q>264){var U=q-257,ne=Ky[U];J=rc(t,h,(1<<ne)-1)+h8[U],h+=ne}var ae=w[lC(t,h)&he],ue=ae>>4;ae||oc(3),h+=ae&15;var Z=pse[ue];if(ue>3){var ne=qy[ue];Z+=lC(t,h)&(1<<ne)-1,h+=ne}if(h>T){l&&oc(0);break}o&&A(p+131072);var pe=p+J;if(p<Z){var ye=a-Z,Ie=Math.min(Z,pe);for(ye+p<0&&oc(3);p<Ie;++p)n[p]=r[ye+p]}for(;p<pe;++p)n[p]=n[p-Z]}}e.l=g,e.p=O,e.b=p,e.f=d,g&&(d=1,e.m=b,e.d=w,e.n=E)}while(!d);return p!=n.length&&i?p8(n,0,p):n.subarray(0,p)},nu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Sp=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},cC=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,a=n.slice();if(!s)return{t:x8,l:0};if(s==1){var i=new Ii(n[0].s+1);return i[n[0].s]=1,{t:i,l:1}}n.sort(function(D,P){return D.f-P.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],A=0,d=1,h=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=s-1;)o=n[n[A].f<n[h].f?A++:h++],l=n[A!=d&&n[A].f<n[h].f?A++:h++],n[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=a[0].s,r=1;r<s;++r)a[r].s>p&&(p=a[r].s);var g=new Go(p+1),w=A_(n[d-1],g,0);if(w>e){var r=0,b=0,E=w-e,T=1<<E;for(a.sort(function(P,S){return g[S.s]-g[P.s]||P.f-S.f});r<s;++r){var I=a[r].s;if(g[I]>e)b+=T-(1<<w-g[I]),g[I]=e;else break}for(b>>=E;b>0;){var k=a[r].s;g[k]<e?b-=1<<e-g[k]++-1:++r}for(;r>=0&&b;--r){var F=a[r].s;g[F]==e&&(--g[F],++b)}w=e}return{t:new Ii(g),l:w}},A_=function(t,e,n){return t.s==-1?Math.max(A_(t.l,e,n+1),A_(t.r,e,n+1)):e[t.s]=n},Jk=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Go(++e),r=0,s=t[0],a=1,i=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==s&&o!=e)++a;else{if(!s&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(s),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(s);a=1,s=t[o]}return{c:n.subarray(0,r),n:e}},Tp=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},g8=function(t,e,n){var r=n.length,s=x5(e+2);t[s]=r&255,t[s+1]=r>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var a=0;a<r;++a)t[s+a+4]=n[a];return(s+4+r)*8},Xk=function(t,e,n,r,s,a,i,o,l,A,d){nu(e,d++,n),++s[256];for(var h=cC(s,15),p=h.t,g=h.l,w=cC(a,15),b=w.t,E=w.l,T=Jk(p),I=T.c,k=T.n,F=Jk(b),D=F.c,P=F.n,S=new Go(19),N=0;N<I.length;++N)++S[I[N]&31];for(var N=0;N<D.length;++N)++S[D[N]&31];for(var B=cC(S,7),V=B.t,U=B.l,L=19;L>4&&!V[o_[L-1]];--L);var j=A+5<<3,G=Tp(s,Yd)+Tp(a,Lg)+i,se=Tp(s,p)+Tp(a,b)+i+14+3*L+Tp(S,V)+2*S[16]+3*S[17]+7*S[18];if(l>=0&&j<=G&&j<=se)return g8(e,d,t.subarray(l,l+A));var K,Y,oe,Z;if(nu(e,d,1+(se<G)),d+=2,se<G){K=pA(p,g,0),Y=p,oe=pA(b,E,0),Z=b;var ee=pA(V,U,0);nu(e,d,k-257),nu(e,d+5,P-1),nu(e,d+10,L-4),d+=14;for(var N=0;N<L;++N)nu(e,d+3*N,V[o_[N]]);d+=3*L;for(var he=[I,D],O=0;O<2;++O)for(var q=he[O],N=0;N<q.length;++N){var J=q[N]&31;nu(e,d,ee[J]),d+=V[J],J>15&&(nu(e,d,q[N]>>5&127),d+=q[N]>>12)}}else K=gse,Y=Yd,oe=vse,Z=Lg;for(var N=0;N<o;++N){var ne=r[N];if(ne>255){var J=ne>>18&31;Sp(e,d,K[J+257]),d+=Y[J+257],J>7&&(nu(e,d,ne>>23&31),d+=Ky[J]);var ae=ne&31;Sp(e,d,oe[ae]),d+=Z[ae],ae>3&&(Sp(e,d,ne>>5&8191),d+=qy[ae])}else Sp(e,d,K[ne]),d+=Y[ne]}return Sp(e,d,K[256]),d+Y[256]},Cse=new g5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),x8=new Ii(0),Ese=function(t,e,n,r,s,a){var i=a.z||t.length,o=new Ii(r+i+5*(1+Math.ceil(i/7e3))+s),l=o.subarray(r,o.length-s),A=a.l,d=(a.r||0)&7;if(e){d&&(l[0]=a.r>>3);for(var h=Cse[e-1],p=h>>13,g=h&8191,w=(1<<n)-1,b=a.p||new Go(32768),E=a.h||new Go(w+1),T=Math.ceil(n/3),I=2*T,k=function(st){return(t[st]^t[st+1]<<T^t[st+2]<<I)&w},F=new g5(25e3),D=new Go(288),P=new Go(32),S=0,N=0,B=a.i||0,V=0,U=a.w||0,L=0;B+2<i;++B){var j=k(B),G=B&32767,se=E[j];if(b[G]=se,E[j]=G,U<=B){var K=i-B;if((S>7e3||V>24576)&&(K>423||!A)){d=Xk(t,l,0,F,D,P,N,V,L,B-L,d),V=S=N=0,L=B;for(var Y=0;Y<286;++Y)D[Y]=0;for(var Y=0;Y<30;++Y)P[Y]=0}var oe=2,Z=0,ee=g,he=G-se&32767;if(K>2&&j==k(B-he))for(var O=Math.min(p,K)-1,q=Math.min(32767,B),J=Math.min(258,K);he<=q&&--ee&&G!=se;){if(t[B+oe]==t[B+oe-he]){for(var ne=0;ne<J&&t[B+ne]==t[B+ne-he];++ne);if(ne>oe){if(oe=ne,Z=he,ne>O)break;for(var ae=Math.min(he,ne-2),ue=0,Y=0;Y<ae;++Y){var pe=B-he+Y&32767,ye=b[pe],Ie=pe-ye&32767;Ie>ue&&(ue=Ie,se=pe)}}}G=se,se=b[G],he+=G-se&32767}if(Z){F[V++]=268435456|l_[oe]<<18|Yk[Z];var we=l_[oe]&31,ie=Yk[Z]&31;N+=Ky[we]+qy[ie],++D[257+we],++P[ie],U=B+oe,++S}else F[V++]=t[B],++D[t[B]]}}for(B=Math.max(B,U);B<i;++B)F[V++]=t[B],++D[t[B]];d=Xk(t,l,A,F,D,P,N,V,L,B-L,d),A||(a.r=d&7|l[d/8|0]<<3,d-=7,a.h=E,a.p=b,a.i=B,a.w=U)}else{for(var B=a.w||0;B<i+A;B+=65535){var De=B+65535;De>=i&&(l[d/8|0]=A,De=i),d=g8(l,d+1,t.subarray(B,De))}a.i=i}return p8(o,0,r+x5(d)+s)},v8=function(){var t=1,e=0;return{p:function(n){for(var r=t,s=e,a=n.length|0,i=0;i!=a;){for(var o=Math.min(i+2655,a);i<o;++i)s+=r+=n[i];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}t=r,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},_se=function(t,e,n,r,s){if(!s&&(s={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),i=new Ii(a.length+t.length);i.set(a),i.set(t,a.length),t=i,s.w=a.length}return Ese(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,s)},y8=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Sse=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=v8();s.p(e.dictionary),y8(t,2,s.d())}},Tse=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&oc(6,"invalid zlib data"),(t[1]>>5&1)==1&&oc(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function u_(t,e){e||(e={});var n=v8();n.p(t);var r=_se(t,e,e.dictionary?6:2,4);return Sse(r,e),y8(r,r.length-4,n.d()),r}function Bse(t,e){return bse(t.subarray(Tse(t),-4),{i:2},e,e)}var Nse=typeof TextDecoder<"u"&&new TextDecoder,kse=0;try{Nse.decode(x8,{stream:!0}),kse=1}catch{}var yn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function AC(){yn.console&&typeof yn.console.log=="function"&&yn.console.log.apply(yn.console,arguments)}var Yr={log:AC,warn:function(t){yn.console&&(typeof yn.console.warn=="function"?yn.console.warn.apply(yn.console,arguments):AC.call(null,arguments))},error:function(t){yn.console&&(typeof yn.console.error=="function"?yn.console.error.apply(yn.console,arguments):AC(t))}};function uC(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Uf(r.response,e,n)},r.onerror=function(){Yr.error("could not download file")},r.send()}function Zk(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Q1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var dg,d_,Uf=yn.saveAs||((typeof window>"u"?"undefined":Mr(window))!=="object"||window!==yn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=yn.URL||yn.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?Zk(s.href)?uC(t,e,n):Q1(s,s.target="_blank"):Q1(s)):(s.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Q1(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Zk(t))uC(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Q1(r)})}else navigator.msSaveOrOpenBlob(function(s,a){return a===void 0?a={autoBom:!1}:Mr(a)!=="object"&&(Yr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return uC(t,e,n);var s=t.type==="application/octet-stream",a=/constructor/i.test(yn.HTMLElement)||yn.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||s&&a)&&(typeof FileReader>"u"?"undefined":Mr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=i?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},o.readAsDataURL(t)}else{var l=yn.URL||yn.webkitURL,A=l.createObjectURL(t);r?r.location=A:location.href=A,r=null,setTimeout(function(){l.revokeObjectURL(A)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function w8(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,a=n[r].process,i=s.exec(t);i&&(e=a(i),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),A=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),A.length==1&&(A="0"+A),"#"+o+l+A}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function dC(t,e){var n=t[0],r=t[1],s=t[2],a=t[3];n=vi(n,r,s,a,e[0],7,-680876936),a=vi(a,n,r,s,e[1],12,-389564586),s=vi(s,a,n,r,e[2],17,606105819),r=vi(r,s,a,n,e[3],22,-1044525330),n=vi(n,r,s,a,e[4],7,-176418897),a=vi(a,n,r,s,e[5],12,1200080426),s=vi(s,a,n,r,e[6],17,-1473231341),r=vi(r,s,a,n,e[7],22,-45705983),n=vi(n,r,s,a,e[8],7,1770035416),a=vi(a,n,r,s,e[9],12,-1958414417),s=vi(s,a,n,r,e[10],17,-42063),r=vi(r,s,a,n,e[11],22,-1990404162),n=vi(n,r,s,a,e[12],7,1804603682),a=vi(a,n,r,s,e[13],12,-40341101),s=vi(s,a,n,r,e[14],17,-1502002290),n=yi(n,r=vi(r,s,a,n,e[15],22,1236535329),s,a,e[1],5,-165796510),a=yi(a,n,r,s,e[6],9,-1069501632),s=yi(s,a,n,r,e[11],14,643717713),r=yi(r,s,a,n,e[0],20,-373897302),n=yi(n,r,s,a,e[5],5,-701558691),a=yi(a,n,r,s,e[10],9,38016083),s=yi(s,a,n,r,e[15],14,-660478335),r=yi(r,s,a,n,e[4],20,-405537848),n=yi(n,r,s,a,e[9],5,568446438),a=yi(a,n,r,s,e[14],9,-1019803690),s=yi(s,a,n,r,e[3],14,-187363961),r=yi(r,s,a,n,e[8],20,1163531501),n=yi(n,r,s,a,e[13],5,-1444681467),a=yi(a,n,r,s,e[2],9,-51403784),s=yi(s,a,n,r,e[7],14,1735328473),n=wi(n,r=yi(r,s,a,n,e[12],20,-1926607734),s,a,e[5],4,-378558),a=wi(a,n,r,s,e[8],11,-2022574463),s=wi(s,a,n,r,e[11],16,1839030562),r=wi(r,s,a,n,e[14],23,-35309556),n=wi(n,r,s,a,e[1],4,-1530992060),a=wi(a,n,r,s,e[4],11,1272893353),s=wi(s,a,n,r,e[7],16,-155497632),r=wi(r,s,a,n,e[10],23,-1094730640),n=wi(n,r,s,a,e[13],4,681279174),a=wi(a,n,r,s,e[0],11,-358537222),s=wi(s,a,n,r,e[3],16,-722521979),r=wi(r,s,a,n,e[6],23,76029189),n=wi(n,r,s,a,e[9],4,-640364487),a=wi(a,n,r,s,e[12],11,-421815835),s=wi(s,a,n,r,e[15],16,530742520),n=bi(n,r=wi(r,s,a,n,e[2],23,-995338651),s,a,e[0],6,-198630844),a=bi(a,n,r,s,e[7],10,1126891415),s=bi(s,a,n,r,e[14],15,-1416354905),r=bi(r,s,a,n,e[5],21,-57434055),n=bi(n,r,s,a,e[12],6,1700485571),a=bi(a,n,r,s,e[3],10,-1894986606),s=bi(s,a,n,r,e[10],15,-1051523),r=bi(r,s,a,n,e[1],21,-2054922799),n=bi(n,r,s,a,e[8],6,1873313359),a=bi(a,n,r,s,e[15],10,-30611744),s=bi(s,a,n,r,e[6],15,-1560198380),r=bi(r,s,a,n,e[13],21,1309151649),n=bi(n,r,s,a,e[4],6,-145523070),a=bi(a,n,r,s,e[11],10,-1120210379),s=bi(s,a,n,r,e[2],15,718787259),r=bi(r,s,a,n,e[9],21,-343485551),t[0]=Td(n,t[0]),t[1]=Td(r,t[1]),t[2]=Td(s,t[2]),t[3]=Td(a,t[3])}function Wy(t,e,n,r,s,a){return e=Td(Td(e,t),Td(r,a)),Td(e<<s|e>>>32-s,n)}function vi(t,e,n,r,s,a,i){return Wy(e&n|~e&r,t,e,s,a,i)}function yi(t,e,n,r,s,a,i){return Wy(e&r|n&~r,t,e,s,a,i)}function wi(t,e,n,r,s,a,i){return Wy(e^n^r,t,e,s,a,i)}function bi(t,e,n,r,s,a,i){return Wy(n^(e|~r),t,e,s,a,i)}function b8(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)dC(r,Ise(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(dC(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,dC(r,s),r}function Ise(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}dg=yn.atob.bind(yn),d_=yn.btoa.bind(yn);var eI="0123456789abcdef".split("");function Fse(t){for(var e="",n=0;n<4;n++)e+=eI[t>>8*n+4&15]+eI[t>>8*n&15];return e}function Rse(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function f_(t){return b8(t).map(Rse).join("")}var Dse=function(t){for(var e=0;e<t.length;e++)t[e]=Fse(t[e]);return t.join("")}(b8("hello"))!="5d41402abc4b2a76b9719d911017c592";function Td(t,e){if(Dse){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function h_(t,e){var n,r,s,a;if(t!==n){for(var i=(s=t,a=1+(256/t.length>>0),new Array(a+1).join(s)),o=[],l=0;l<256;l++)o[l]=l;var A=0;for(l=0;l<256;l++){var d=o[l];A=(A+d+i.charCodeAt(l))%256,o[l]=o[A],o[A]=d}n=t,r=o}else o=r;var h=e.length,p=0,g=0,w="";for(l=0;l<h;l++)g=(g+(d=o[p=(p+1)%256]))%256,o[p]=o[g],o[g]=d,i=o[(o[p]+o[g])%256],w+=String.fromCharCode(e.charCodeAt(l)^i);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var tI={print:4,modify:8,copy:16,"annot-forms":32};function S0(t,e,n,r){this.v=1,this.r=2;var s=192;t.forEach(function(o){if(tI.perm!==void 0)throw new Error("Invalid permission: "+o);s+=tI[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),i=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,i),this.P=-(1+(255^s)),this.encryptionKey=f_(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=h_(this.encryptionKey,this.padding)}function T0(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var s=t.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[r]}return e}function nI(t){if(Mr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!s],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var a in e[n]){var i=e[n][a];try{i[0].apply(t,r)}catch(o){yn.console&&Yr.error("jsPDF PubSub Error",o.message,o)}i[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function R2(t){if(!(this instanceof R2))return new R2(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function C8(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Pf(t,e,n,r,s){if(!(this instanceof Pf))return new Pf(t,e,n,r,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,C8.call(this,r,s)}function R0(t,e,n,r,s){if(!(this instanceof R0))return new R0(t,e,n,r,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,C8.call(this,r,s)}function sn(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],a=arguments[3],i=[],o=1,l=16,A="S",d=null;Mr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,s=t.format||s,a=t.compress||t.compressPdf||a,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),A=t.defaultPathOperation||"S"),i=t.filters||(a===!0?["FlateEncode"]:i),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=nI;var w="1.3",b=g.__private__.getPdfVersion=function(){return w};g.__private__.setPdfVersion=function(H){w=H};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return E};var T=g.__private__.getPageFormat=function(H){return E[H]};s=s||"a4";var I={COMPAT:"compat",ADVANCED:"advanced"},k=I.COMPAT;function F(){this.saveGraphicsState(),Ee(new Ht(gt,0,0,-gt,0,Fa()*gt).toString()+" cm"),this.setFontSize(this.getFontSize()/gt),A="n",k=I.ADVANCED}function D(){this.restoreGraphicsState(),A="S",k=I.COMPAT}var P=g.__private__.combineFontStyleAndFontWeight=function(H,Ae){if(H=="bold"&&Ae=="normal"||H=="bold"&&Ae==400||H=="normal"&&Ae=="italic"||H=="bold"&&Ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Ae&&(H=Ae==400||Ae==="normal"?H==="italic"?"italic":"normal":Ae!=700&&Ae!=="bold"||H!=="normal"?(Ae==700?"bold":Ae)+""+H:"bold"),H};g.advancedAPI=function(H){var Ae=k===I.COMPAT;return Ae&&F.call(this),typeof H!="function"||(H(this),Ae&&D.call(this)),this},g.compatAPI=function(H){var Ae=k===I.ADVANCED;return Ae&&D.call(this),typeof H!="function"||(H(this),Ae&&F.call(this)),this},g.isAdvancedAPI=function(){return k===I.ADVANCED};var S,N=function(H){if(k!==I.ADVANCED)throw new Error(H+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=g.roundToPrecision=g.__private__.roundToPrecision=function(H,Ae){var ke=e||Ae;if(isNaN(H)||isNaN(ke))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return H.toFixed(ke).replace(/0+$/,"")};S=g.hpf=g.__private__.hpf=typeof l=="number"?function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.hpf");return B(H,l)}:l==="smart"?function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.hpf");return B(H,H>-1&&H<1?16:5)}:function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.hpf");return B(H,16)};var V=g.f2=g.__private__.f2=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.f2");return B(H,2)},U=g.__private__.f3=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.f3");return B(H,3)},L=g.scale=g.__private__.scale=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.scale");return k===I.COMPAT?H*gt:k===I.ADVANCED?H:void 0},j=function(H){return k===I.COMPAT?Fa()-H:k===I.ADVANCED?H:void 0},G=function(H){return L(j(H))};g.__private__.setPrecision=g.setPrecision=function(H){typeof parseInt(H,10)=="number"&&(e=parseInt(H,10))};var se,K="00000000000000000000000000000000",Y=g.__private__.getFileId=function(){return K},oe=g.__private__.setFileId=function(H){return K=H!==void 0&&/^[a-fA-F0-9]{32}$/.test(H)?H.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ir=new S0(d.userPermissions,d.userPassword,d.ownerPassword,K)),K};g.setFileId=function(H){return oe(H),this},g.getFileId=function(){return Y()};var Z=g.__private__.convertDateToPDFDate=function(H){var Ae=H.getTimezoneOffset(),ke=Ae<0?"+":"-",Re=Math.floor(Math.abs(Ae/60)),He=Math.abs(Ae%60),ot=[ke,J(Re),"'",J(He),"'"].join("");return["D:",H.getFullYear(),J(H.getMonth()+1),J(H.getDate()),J(H.getHours()),J(H.getMinutes()),J(H.getSeconds()),ot].join("")},ee=g.__private__.convertPDFDateToDate=function(H){var Ae=parseInt(H.substr(2,4),10),ke=parseInt(H.substr(6,2),10)-1,Re=parseInt(H.substr(8,2),10),He=parseInt(H.substr(10,2),10),ot=parseInt(H.substr(12,2),10),Et=parseInt(H.substr(14,2),10);return new Date(Ae,ke,Re,He,ot,Et,0)},he=g.__private__.setCreationDate=function(H){var Ae;if(H===void 0&&(H=new Date),H instanceof Date)Ae=Z(H);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(H))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Ae=H}return se=Ae},O=g.__private__.getCreationDate=function(H){var Ae=se;return H==="jsDate"&&(Ae=ee(se)),Ae};g.setCreationDate=function(H){return he(H),this},g.getCreationDate=function(H){return O(H)};var q,J=g.__private__.padd2=function(H){return("0"+parseInt(H)).slice(-2)},ne=g.__private__.padd2Hex=function(H){return("00"+(H=H.toString())).substr(H.length)},ae=0,ue=[],pe=[],ye=0,Ie=[],we=[],ie=!1,De=pe,st=function(){ae=0,ye=0,pe=[],ue=[],Ie=[],Ce=Qr(),_e=Qr()};g.__private__.setCustomOutputDestination=function(H){ie=!0,De=H};var Ue=function(H){ie||(De=H)};g.__private__.resetCustomOutputDestination=function(){ie=!1,De=pe};var Ee=g.__private__.out=function(H){return H=H.toString(),ye+=H.length+1,De.push(H),De},ze=g.__private__.write=function(H){return Ee(arguments.length===1?H.toString():Array.prototype.join.call(arguments," "))},nt=g.__private__.getArrayBuffer=function(H){for(var Ae=H.length,ke=new ArrayBuffer(Ae),Re=new Uint8Array(ke);Ae--;)Re[Ae]=H.charCodeAt(Ae);return ke},it=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return it};var mt=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(H){return mt=k===I.ADVANCED?H/gt:H,this};var Ct,At=g.__private__.getFontSize=g.getFontSize=function(){return k===I.COMPAT?mt:mt*gt},kt=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(H){return kt=H,this},g.__private__.getR2L=g.getR2L=function(){return kt};var Ft,qt=g.__private__.setZoomMode=function(H){var Ae=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(H))Ct=H;else if(isNaN(H)){if(Ae.indexOf(H)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+H+'" is not recognized.');Ct=H}else Ct=parseInt(H,10)};g.__private__.getZoomMode=function(){return Ct};var Mt,Vt=g.__private__.setPageMode=function(H){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(H)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+H+'" is not recognized.');Ft=H};g.__private__.getPageMode=function(){return Ft};var Yt=g.__private__.setLayoutMode=function(H){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(H)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+H+'" is not recognized.');Mt=H};g.__private__.getLayoutMode=function(){return Mt},g.__private__.setDisplayMode=g.setDisplayMode=function(H,Ae,ke){return qt(H),Yt(Ae),Vt(ke),this};var Pt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(H){if(Object.keys(Pt).indexOf(H)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pt[H]},g.__private__.getDocumentProperties=function(){return Pt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(H){for(var Ae in Pt)Pt.hasOwnProperty(Ae)&&H[Ae]&&(Pt[Ae]=H[Ae]);return this},g.__private__.setDocumentProperty=function(H,Ae){if(Object.keys(Pt).indexOf(H)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pt[H]=Ae};var It,gt,xn,Wt,ir,mn={},Fn={},Er=[],Bn={},Zs={},Xn={},Wr={},ls=null,Dn=0,en=[],jn=new nI(g),ea=t.hotfixes||[],jr={},hs={},ma=[],Ht=function H(Ae,ke,Re,He,ot,Et){if(!(this instanceof H))return new H(Ae,ke,Re,He,ot,Et);isNaN(Ae)&&(Ae=1),isNaN(ke)&&(ke=0),isNaN(Re)&&(Re=0),isNaN(He)&&(He=1),isNaN(ot)&&(ot=0),isNaN(Et)&&(Et=0),this._matrix=[Ae,ke,Re,He,ot,Et]};Object.defineProperty(Ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(H){this._matrix[0]=H}}),Object.defineProperty(Ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(H){this._matrix[1]=H}}),Object.defineProperty(Ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(H){this._matrix[2]=H}}),Object.defineProperty(Ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(H){this._matrix[3]=H}}),Object.defineProperty(Ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(H){this._matrix[4]=H}}),Object.defineProperty(Ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(H){this._matrix[5]=H}}),Object.defineProperty(Ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(H){this._matrix[0]=H}}),Object.defineProperty(Ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(H){this._matrix[1]=H}}),Object.defineProperty(Ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(H){this._matrix[2]=H}}),Object.defineProperty(Ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(H){this._matrix[3]=H}}),Object.defineProperty(Ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(H){this._matrix[4]=H}}),Object.defineProperty(Ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(H){this._matrix[5]=H}}),Object.defineProperty(Ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ht.prototype.join=function(H){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(H)},Ht.prototype.multiply=function(H){var Ae=H.sx*this.sx+H.shy*this.shx,ke=H.sx*this.shy+H.shy*this.sy,Re=H.shx*this.sx+H.sy*this.shx,He=H.shx*this.shy+H.sy*this.sy,ot=H.tx*this.sx+H.ty*this.shx+this.tx,Et=H.tx*this.shy+H.ty*this.sy+this.ty;return new Ht(Ae,ke,Re,He,ot,Et)},Ht.prototype.decompose=function(){var H=this.sx,Ae=this.shy,ke=this.shx,Re=this.sy,He=this.tx,ot=this.ty,Et=Math.sqrt(H*H+Ae*Ae),jt=(H/=Et)*ke+(Ae/=Et)*Re;ke-=H*jt,Re-=Ae*jt;var _=Math.sqrt(ke*ke+Re*Re);return jt/=_,H*(Re/=_)<Ae*(ke/=_)&&(H=-H,Ae=-Ae,jt=-jt,Et=-Et),{scale:new Ht(Et,0,0,_,0,0),translate:new Ht(1,0,0,1,He,ot),rotate:new Ht(H,Ae,-Ae,H,0,0),skew:new Ht(1,0,jt,1,0,0)}},Ht.prototype.toString=function(H){return this.join(" ")},Ht.prototype.inversed=function(){var H=this.sx,Ae=this.shy,ke=this.shx,Re=this.sy,He=this.tx,ot=this.ty,Et=1/(H*Re-Ae*ke),jt=Re*Et,_=-Ae*Et,W=-ke*Et,re=H*Et;return new Ht(jt,_,W,re,-jt*He-W*ot,-_*He-re*ot)},Ht.prototype.applyToPoint=function(H){var Ae=H.x*this.sx+H.y*this.shx+this.tx,ke=H.x*this.shy+H.y*this.sy+this.ty;return new Pl(Ae,ke)},Ht.prototype.applyToRectangle=function(H){var Ae=this.applyToPoint(H),ke=this.applyToPoint(new Pl(H.x+H.w,H.y+H.h));return new Bc(Ae.x,Ae.y,ke.x-Ae.x,ke.y-Ae.y)},Ht.prototype.clone=function(){var H=this.sx,Ae=this.shy,ke=this.shx,Re=this.sy,He=this.tx,ot=this.ty;return new Ht(H,Ae,ke,Re,He,ot)},g.Matrix=Ht;var or=g.matrixMult=function(H,Ae){return Ae.multiply(H)},Zn=new Ht(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Zn;var _r=function(H,Ae){if(!Zs[H]){var ke=(Ae instanceof Pf?"Sh":"P")+(Object.keys(Bn).length+1).toString(10);Ae.id=ke,Zs[H]=ke,Bn[ke]=Ae,jn.publish("addPattern",Ae)}};g.ShadingPattern=Pf,g.TilingPattern=R0,g.addShadingPattern=function(H,Ae){return N("addShadingPattern()"),_r(H,Ae),this},g.beginTilingPattern=function(H){N("beginTilingPattern()"),nl(H.boundingBox[0],H.boundingBox[1],H.boundingBox[2]-H.boundingBox[0],H.boundingBox[3]-H.boundingBox[1],H.matrix)},g.endTilingPattern=function(H,Ae){N("endTilingPattern()"),Ae.stream=we[q].join(`
`),_r(H,Ae),jn.publish("endTilingPattern",Ae),ma.pop().restore()};var kr=g.__private__.newObject=function(){var H=Qr();return de(H,!0),H},Qr=g.__private__.newObjectDeferred=function(){return ae++,ue[ae]=function(){return ye},ae},de=function(H,Ae){return Ae=typeof Ae=="boolean"&&Ae,ue[H]=ye,Ae&&Ee(H+" 0 obj"),H},Be=g.__private__.newAdditionalObject=function(){var H={objId:Qr(),content:""};return Ie.push(H),H},Ce=Qr(),_e=Qr(),Se=g.__private__.decodeColorString=function(H){var Ae=H.split(" ");if(Ae.length!==2||Ae[1]!=="g"&&Ae[1]!=="G")Ae.length===5&&(Ae[4]==="k"||Ae[4]==="K")&&(Ae=[(1-Ae[0])*(1-Ae[3]),(1-Ae[1])*(1-Ae[3]),(1-Ae[2])*(1-Ae[3]),"r"]);else{var ke=parseFloat(Ae[0]);Ae=[ke,ke,ke,"r"]}for(var Re="#",He=0;He<3;He++)Re+=("0"+Math.floor(255*parseFloat(Ae[He])).toString(16)).slice(-2);return Re},Ne=g.__private__.encodeColorString=function(H){var Ae;typeof H=="string"&&(H={ch1:H});var ke=H.ch1,Re=H.ch2,He=H.ch3,ot=H.ch4,Et=H.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ke=="string"&&ke.charAt(0)!=="#"){var jt=new w8(ke);if(jt.ok)ke=jt.toHex();else if(!/^\d*\.?\d*$/.test(ke))throw new Error('Invalid color "'+ke+'" passed to jsPDF.encodeColorString.')}if(typeof ke=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ke)&&(ke="#"+ke[1]+ke[1]+ke[2]+ke[2]+ke[3]+ke[3]),typeof ke=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ke)){var _=parseInt(ke.substr(1),16);ke=_>>16&255,Re=_>>8&255,He=255&_}if(Re===void 0||ot===void 0&&ke===Re&&Re===He)if(typeof ke=="string")Ae=ke+" "+Et[0];else switch(H.precision){case 2:Ae=V(ke/255)+" "+Et[0];break;case 3:default:Ae=U(ke/255)+" "+Et[0]}else if(ot===void 0||Mr(ot)==="object"){if(ot&&!isNaN(ot.a)&&ot.a===0)return Ae=["1.","1.","1.",Et[1]].join(" ");if(typeof ke=="string")Ae=[ke,Re,He,Et[1]].join(" ");else switch(H.precision){case 2:Ae=[V(ke/255),V(Re/255),V(He/255),Et[1]].join(" ");break;default:case 3:Ae=[U(ke/255),U(Re/255),U(He/255),Et[1]].join(" ")}}else if(typeof ke=="string")Ae=[ke,Re,He,ot,Et[2]].join(" ");else switch(H.precision){case 2:Ae=[V(ke),V(Re),V(He),V(ot),Et[2]].join(" ");break;case 3:default:Ae=[U(ke),U(Re),U(He),U(ot),Et[2]].join(" ")}return Ae},Ke=g.__private__.getFilters=function(){return i},et=g.__private__.putStream=function(H){var Ae=(H=H||{}).data||"",ke=H.filters||Ke(),Re=H.alreadyAppliedFilters||[],He=H.addLength1||!1,ot=Ae.length,Et=H.objectId,jt=function(fn){return fn};if(d!==null&&Et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(jt=Ir.encryptor(Et,0));var _={};ke===!0&&(ke=["FlateEncode"]);var W=H.additionalKeyValues||[],re=(_=sn.API.processDataByFilters!==void 0?sn.API.processDataByFilters(Ae,ke):{data:Ae,reverseChain:[]}).reverseChain+(Array.isArray(Re)?Re.join(" "):Re.toString());if(_.data.length!==0&&(W.push({key:"Length",value:_.data.length}),He===!0&&W.push({key:"Length1",value:ot})),re.length!=0)if(re.split("/").length-1==1)W.push({key:"Filter",value:re});else{W.push({key:"Filter",value:"["+re+"]"});for(var xe=0;xe<W.length;xe+=1)if(W[xe].key==="DecodeParms"){for(var je=[],Xe=0;Xe<_.reverseChain.split("/").length-1;Xe+=1)je.push("null");je.push(W[xe].value),W[xe].value="["+je.join(" ")+"]"}}Ee("<<");for(var St=0;St<W.length;St++)Ee("/"+W[St].key+" "+W[St].value);Ee(">>"),_.data.length!==0&&(Ee("stream"),Ee(jt(_.data)),Ee("endstream"))},Qe=g.__private__.putPage=function(H){var Ae=H.number,ke=H.data,Re=H.objId,He=H.contentsObjId;de(Re,!0),Ee("<</Type /Page"),Ee("/Parent "+H.rootDictionaryObjId+" 0 R"),Ee("/Resources "+H.resourceDictionaryObjId+" 0 R"),Ee("/MediaBox ["+parseFloat(S(H.mediaBox.bottomLeftX))+" "+parseFloat(S(H.mediaBox.bottomLeftY))+" "+S(H.mediaBox.topRightX)+" "+S(H.mediaBox.topRightY)+"]"),H.cropBox!==null&&Ee("/CropBox ["+S(H.cropBox.bottomLeftX)+" "+S(H.cropBox.bottomLeftY)+" "+S(H.cropBox.topRightX)+" "+S(H.cropBox.topRightY)+"]"),H.bleedBox!==null&&Ee("/BleedBox ["+S(H.bleedBox.bottomLeftX)+" "+S(H.bleedBox.bottomLeftY)+" "+S(H.bleedBox.topRightX)+" "+S(H.bleedBox.topRightY)+"]"),H.trimBox!==null&&Ee("/TrimBox ["+S(H.trimBox.bottomLeftX)+" "+S(H.trimBox.bottomLeftY)+" "+S(H.trimBox.topRightX)+" "+S(H.trimBox.topRightY)+"]"),H.artBox!==null&&Ee("/ArtBox ["+S(H.artBox.bottomLeftX)+" "+S(H.artBox.bottomLeftY)+" "+S(H.artBox.topRightX)+" "+S(H.artBox.topRightY)+"]"),typeof H.userUnit=="number"&&H.userUnit!==1&&Ee("/UserUnit "+H.userUnit),jn.publish("putPage",{objId:Re,pageContext:en[Ae],pageNumber:Ae,page:ke}),Ee("/Contents "+He+" 0 R"),Ee(">>"),Ee("endobj");var ot=ke.join(`
`);return k===I.ADVANCED&&(ot+=`
Q`),de(He,!0),et({data:ot,filters:Ke(),objectId:He}),Ee("endobj"),Re},We=g.__private__.putPages=function(){var H,Ae,ke=[];for(H=1;H<=Dn;H++)en[H].objId=Qr(),en[H].contentsObjId=Qr();for(H=1;H<=Dn;H++)ke.push(Qe({number:H,data:we[H],objId:en[H].objId,contentsObjId:en[H].contentsObjId,mediaBox:en[H].mediaBox,cropBox:en[H].cropBox,bleedBox:en[H].bleedBox,trimBox:en[H].trimBox,artBox:en[H].artBox,userUnit:en[H].userUnit,rootDictionaryObjId:Ce,resourceDictionaryObjId:_e}));de(Ce,!0),Ee("<</Type /Pages");var Re="/Kids [";for(Ae=0;Ae<Dn;Ae++)Re+=ke[Ae]+" 0 R ";Ee(Re+"]"),Ee("/Count "+Dn),Ee(">>"),Ee("endobj"),jn.publish("postPutPages")},Je=function(H){jn.publish("putFont",{font:H,out:Ee,newObject:kr,putStream:et}),H.isAlreadyPutted!==!0&&(H.objectNumber=kr(),Ee("<<"),Ee("/Type /Font"),Ee("/BaseFont /"+T0(H.postScriptName)),Ee("/Subtype /Type1"),typeof H.encoding=="string"&&Ee("/Encoding /"+H.encoding),Ee("/FirstChar 32"),Ee("/LastChar 255"),Ee(">>"),Ee("endobj"))},vt=function(){for(var H in mn)mn.hasOwnProperty(H)&&(h===!1||h===!0&&p.hasOwnProperty(H))&&Je(mn[H])},Nt=function(H){H.objectNumber=kr();var Ae=[];Ae.push({key:"Type",value:"/XObject"}),Ae.push({key:"Subtype",value:"/Form"}),Ae.push({key:"BBox",value:"["+[S(H.x),S(H.y),S(H.x+H.width),S(H.y+H.height)].join(" ")+"]"}),Ae.push({key:"Matrix",value:"["+H.matrix.toString()+"]"});var ke=H.pages[1].join(`
`);et({data:ke,additionalKeyValues:Ae,objectId:H.objectNumber}),Ee("endobj")},Ot=function(){for(var H in jr)jr.hasOwnProperty(H)&&Nt(jr[H])},Tt=function(H,Ae){var ke,Re=[],He=1/(Ae-1);for(ke=0;ke<1;ke+=He)Re.push(ke);if(Re.push(1),H[0].offset!=0){var ot={offset:0,color:H[0].color};H.unshift(ot)}if(H[H.length-1].offset!=1){var Et={offset:1,color:H[H.length-1].color};H.push(Et)}for(var jt="",_=0,W=0;W<Re.length;W++){for(ke=Re[W];ke>H[_+1].offset;)_++;var re=H[_].offset,xe=(ke-re)/(H[_+1].offset-re),je=H[_].color,Xe=H[_+1].color;jt+=ne(Math.round((1-xe)*je[0]+xe*Xe[0]).toString(16))+ne(Math.round((1-xe)*je[1]+xe*Xe[1]).toString(16))+ne(Math.round((1-xe)*je[2]+xe*Xe[2]).toString(16))}return jt.trim()},Rt=function(H,Ae){Ae||(Ae=21);var ke=kr(),Re=Tt(H.colors,Ae),He=[];He.push({key:"FunctionType",value:"0"}),He.push({key:"Domain",value:"[0.0 1.0]"}),He.push({key:"Size",value:"["+Ae+"]"}),He.push({key:"BitsPerSample",value:"8"}),He.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),He.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),et({data:Re,additionalKeyValues:He,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ke}),Ee("endobj"),H.objectNumber=kr(),Ee("<< /ShadingType "+H.type),Ee("/ColorSpace /DeviceRGB");var ot="/Coords ["+S(parseFloat(H.coords[0]))+" "+S(parseFloat(H.coords[1]))+" ";H.type===2?ot+=S(parseFloat(H.coords[2]))+" "+S(parseFloat(H.coords[3])):ot+=S(parseFloat(H.coords[2]))+" "+S(parseFloat(H.coords[3]))+" "+S(parseFloat(H.coords[4]))+" "+S(parseFloat(H.coords[5])),Ee(ot+="]"),H.matrix&&Ee("/Matrix ["+H.matrix.toString()+"]"),Ee("/Function "+ke+" 0 R"),Ee("/Extend [true true]"),Ee(">>"),Ee("endobj")},cn=function(H,Ae){var ke=Qr(),Re=kr();Ae.push({resourcesOid:ke,objectOid:Re}),H.objectNumber=Re;var He=[];He.push({key:"Type",value:"/Pattern"}),He.push({key:"PatternType",value:"1"}),He.push({key:"PaintType",value:"1"}),He.push({key:"TilingType",value:"1"}),He.push({key:"BBox",value:"["+H.boundingBox.map(S).join(" ")+"]"}),He.push({key:"XStep",value:S(H.xStep)}),He.push({key:"YStep",value:S(H.yStep)}),He.push({key:"Resources",value:ke+" 0 R"}),H.matrix&&He.push({key:"Matrix",value:"["+H.matrix.toString()+"]"}),et({data:H.stream,additionalKeyValues:He,objectId:H.objectNumber}),Ee("endobj")},Un=function(H){var Ae;for(Ae in Bn)Bn.hasOwnProperty(Ae)&&(Bn[Ae]instanceof Pf?Rt(Bn[Ae]):Bn[Ae]instanceof R0&&cn(Bn[Ae],H))},Ln=function(H){for(var Ae in H.objectNumber=kr(),Ee("<<"),H)switch(Ae){case"opacity":Ee("/ca "+V(H[Ae]));break;case"stroke-opacity":Ee("/CA "+V(H[Ae]))}Ee(">>"),Ee("endobj")},Qn=function(){var H;for(H in Xn)Xn.hasOwnProperty(H)&&Ln(Xn[H])},Es=function(){for(var H in Ee("/XObject <<"),jr)jr.hasOwnProperty(H)&&jr[H].objectNumber>=0&&Ee("/"+H+" "+jr[H].objectNumber+" 0 R");jn.publish("putXobjectDict"),Ee(">>")},ii=function(){Ir.oid=kr(),Ee("<<"),Ee("/Filter /Standard"),Ee("/V "+Ir.v),Ee("/R "+Ir.r),Ee("/U <"+Ir.toHexString(Ir.U)+">"),Ee("/O <"+Ir.toHexString(Ir.O)+">"),Ee("/P "+Ir.P),Ee(">>"),Ee("endobj")},_s=function(){for(var H in Ee("/Font <<"),mn)mn.hasOwnProperty(H)&&(h===!1||h===!0&&p.hasOwnProperty(H))&&Ee("/"+H+" "+mn[H].objectNumber+" 0 R");Ee(">>")},ta=function(){if(Object.keys(Bn).length>0){for(var H in Ee("/Shading <<"),Bn)Bn.hasOwnProperty(H)&&Bn[H]instanceof Pf&&Bn[H].objectNumber>=0&&Ee("/"+H+" "+Bn[H].objectNumber+" 0 R");jn.publish("putShadingPatternDict"),Ee(">>")}},Ms=function(H){if(Object.keys(Bn).length>0){for(var Ae in Ee("/Pattern <<"),Bn)Bn.hasOwnProperty(Ae)&&Bn[Ae]instanceof g.TilingPattern&&Bn[Ae].objectNumber>=0&&Bn[Ae].objectNumber<H&&Ee("/"+Ae+" "+Bn[Ae].objectNumber+" 0 R");jn.publish("putTilingPatternDict"),Ee(">>")}},pa=function(){if(Object.keys(Xn).length>0){var H;for(H in Ee("/ExtGState <<"),Xn)Xn.hasOwnProperty(H)&&Xn[H].objectNumber>=0&&Ee("/"+H+" "+Xn[H].objectNumber+" 0 R");jn.publish("putGStateDict"),Ee(">>")}},Hr=function(H){de(H.resourcesOid,!0),Ee("<<"),Ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),_s(),ta(),Ms(H.objectOid),pa(),Es(),Ee(">>"),Ee("endobj")},na=function(){var H=[];vt(),Qn(),Ot(),Un(H),jn.publish("putResources"),H.forEach(Hr),Hr({resourcesOid:_e,objectOid:Number.MAX_SAFE_INTEGER}),jn.publish("postPutResources")},Cc=function(){jn.publish("putAdditionalObjects");for(var H=0;H<Ie.length;H++){var Ae=Ie[H];de(Ae.objId,!0),Ee(Ae.content),Ee("endobj")}jn.publish("postPutAdditionalObjects")},ku=function(H){Fn[H.fontName]=Fn[H.fontName]||{},Fn[H.fontName][H.fontStyle]=H.id},qo=function(H,Ae,ke,Re,He){var ot={id:"F"+(Object.keys(mn).length+1).toString(10),postScriptName:H,fontName:Ae,fontStyle:ke,encoding:Re,isStandardFont:He||!1,metadata:{}};return jn.publish("addFont",{font:ot,instance:this}),mn[ot.id]=ot,ku(ot),ot.id},TA=function(H){for(var Ae=0,ke=it.length;Ae<ke;Ae++){var Re=qo.call(this,H[Ae][0],H[Ae][1],H[Ae][2],it[Ae][3],!0);h===!1&&(p[Re]=!0);var He=H[Ae][0].split("-");ku({id:Re,fontName:He[0],fontStyle:He[1]||""})}jn.publish("addFonts",{fonts:mn,dictionary:Fn})},ga=function(H){return H.foo=function(){try{return H.apply(this,arguments)}catch(Re){var Ae=Re.stack||"";~Ae.indexOf(" at ")&&(Ae=Ae.split(" at ")[1]);var ke="Error in function "+Ae.split(`
`)[0].split("<")[0]+": "+Re.message;if(!yn.console)throw new Error(ke);yn.console.error(ke,Re),yn.alert&&alert(ke)}},H.foo.bar=H,H.foo},Ec=function(H,Ae){var ke,Re,He,ot,Et,jt,_,W,re;if(He=(Ae=Ae||{}).sourceEncoding||"Unicode",Et=Ae.outputEncoding,(Ae.autoencode||Et)&&mn[It].metadata&&mn[It].metadata[He]&&mn[It].metadata[He].encoding&&(ot=mn[It].metadata[He].encoding,!Et&&mn[It].encoding&&(Et=mn[It].encoding),!Et&&ot.codePages&&(Et=ot.codePages[0]),typeof Et=="string"&&(Et=ot[Et]),Et)){for(_=!1,jt=[],ke=0,Re=H.length;ke<Re;ke++)(W=Et[H.charCodeAt(ke)])?jt.push(String.fromCharCode(W)):jt.push(H[ke]),jt[ke].charCodeAt(0)>>8&&(_=!0);H=jt.join("")}for(ke=H.length;_===void 0&&ke!==0;)H.charCodeAt(ke-1)>>8&&(_=!0),ke--;if(!_)return H;for(jt=Ae.noBOM?[]:[254,255],ke=0,Re=H.length;ke<Re;ke++){if((re=(W=H.charCodeAt(ke))>>8)>>8)throw new Error("Character at position "+ke+" of string '"+H+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");jt.push(re),jt.push(W-(re<<8))}return String.fromCharCode.apply(void 0,jt)},lr=g.__private__.pdfEscape=g.pdfEscape=function(H,Ae){return Ec(H,Ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xa=g.__private__.beginPage=function(H){we[++Dn]=[],en[Dn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(H[0]),topRightY:Number(H[1])}},Wi(Dn),Ue(we[q])},Wo=function(H,Ae){var ke,Re,He;switch(n=Ae||n,typeof H=="string"&&(ke=T(H.toLowerCase()),Array.isArray(ke)&&(Re=ke[0],He=ke[1])),Array.isArray(H)&&(Re=H[0]*gt,He=H[1]*gt),isNaN(Re)&&(Re=s[0],He=s[1]),(Re>14400||He>14400)&&(Yr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Re=Math.min(14400,Re),He=Math.min(14400,He)),s=[Re,He],n.substr(0,1)){case"l":He>Re&&(s=[He,Re]);break;case"p":Re>He&&(s=[He,Re])}xa(s),IA(Xo),Ee(va),FA!==0&&Ee(FA+" J"),Ml!==0&&Ee(Ml+" j"),jn.publish("addPage",{pageNumber:Dn})},$o=function(H){H>0&&H<=Dn&&(we.splice(H,1),en.splice(H,1),Dn--,q>Dn&&(q=Dn),this.setPage(q))},Wi=function(H){H>0&&H<=Dn&&(q=H)},gr=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return we.length-1},Yo=function(H,Ae,ke){var Re,He=void 0;return ke=ke||{},H=H!==void 0?H:mn[It].fontName,Ae=Ae!==void 0?Ae:mn[It].fontStyle,Re=H.toLowerCase(),Fn[Re]!==void 0&&Fn[Re][Ae]!==void 0?He=Fn[Re][Ae]:Fn[H]!==void 0&&Fn[H][Ae]!==void 0?He=Fn[H][Ae]:ke.disableWarning===!1&&Yr.warn("Unable to look up font label for font '"+H+"', '"+Ae+"'. Refer to getFontList() for available fonts."),He||ke.noFallback||(He=Fn.times[Ae])==null&&(He=Fn.times.normal),He},oi=g.__private__.putInfo=function(){var H=kr(),Ae=function(Re){return Re};for(var ke in d!==null&&(Ae=Ir.encryptor(H,0)),Ee("<<"),Ee("/Producer ("+lr(Ae("jsPDF "+sn.version))+")"),Pt)Pt.hasOwnProperty(ke)&&Pt[ke]&&Ee("/"+ke.substr(0,1).toUpperCase()+ke.substr(1)+" ("+lr(Ae(Pt[ke]))+")");Ee("/CreationDate ("+lr(Ae(se))+")"),Ee(">>"),Ee("endobj")},yo=g.__private__.putCatalog=function(H){var Ae=(H=H||{}).rootDictionaryObjId||Ce;switch(kr(),Ee("<<"),Ee("/Type /Catalog"),Ee("/Pages "+Ae+" 0 R"),Ct||(Ct="fullwidth"),Ct){case"fullwidth":Ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ee("/OpenAction [3 0 R /Fit]");break;case"original":Ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ke=""+Ct;ke.substr(ke.length-1)==="%"&&(Ct=parseInt(Ct)/100),typeof Ct=="number"&&Ee("/OpenAction [3 0 R /XYZ null null "+V(Ct)+"]")}switch(Mt||(Mt="continuous"),Mt){case"continuous":Ee("/PageLayout /OneColumn");break;case"single":Ee("/PageLayout /SinglePage");break;case"two":case"twoleft":Ee("/PageLayout /TwoColumnLeft");break;case"tworight":Ee("/PageLayout /TwoColumnRight")}Ft&&Ee("/PageMode /"+Ft),jn.publish("putCatalog"),Ee(">>"),Ee("endobj")},Iu=g.__private__.putTrailer=function(){Ee("trailer"),Ee("<<"),Ee("/Size "+(ae+1)),Ee("/Root "+ae+" 0 R"),Ee("/Info "+(ae-1)+" 0 R"),d!==null&&Ee("/Encrypt "+Ir.oid+" 0 R"),Ee("/ID [ <"+K+"> <"+K+"> ]"),Ee(">>")},BA=g.__private__.putHeader=function(){Ee("%PDF-"+w),Ee("%")},NA=g.__private__.putXRef=function(){var H="0000000000";Ee("xref"),Ee("0 "+(ae+1)),Ee("0000000000 65535 f ");for(var Ae=1;Ae<=ae;Ae++)typeof ue[Ae]=="function"?Ee((H+ue[Ae]()).slice(-10)+" 00000 n "):ue[Ae]!==void 0?Ee((H+ue[Ae]).slice(-10)+" 00000 n "):Ee("0000000000 00000 n ")},wo=g.__private__.buildDocument=function(){st(),Ue(pe),jn.publish("buildDocument"),BA(),We(),Cc(),na(),d!==null&&ii(),oi(),yo();var H=ye;return NA(),Iu(),Ee("startxref"),Ee(""+H),Ee("%%EOF"),Ue(we[q]),pe.join(`
`)},_c=g.__private__.getBlob=function(H){return new Blob([nt(H)],{type:"application/pdf"})},bo=g.output=g.__private__.output=ga(function(H,Ae){switch(typeof(Ae=Ae||{})=="string"?Ae={filename:Ae}:Ae.filename=Ae.filename||"generated.pdf",H){case void 0:return wo();case"save":g.save(Ae.filename);break;case"arraybuffer":return nt(wo());case"blob":return _c(wo());case"bloburi":case"bloburl":if(yn.URL!==void 0&&typeof yn.URL.createObjectURL=="function")return yn.URL&&yn.URL.createObjectURL(_c(wo()))||void 0;Yr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ke="",Re=wo();try{ke=d_(Re)}catch{ke=d_(unescape(encodeURIComponent(Re)))}return"data:application/pdf;filename="+Ae.filename+";base64,"+ke;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yn)==="[object Window]"){var He="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ot=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Ae.pdfObjectUrl&&(He=Ae.pdfObjectUrl,ot="");var Et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+He+'"'+ot+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Ae)+");<\/script></body></html>",jt=yn.open();return jt!==null&&jt.document.write(Et),jt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yn)==="[object Window]"){var _='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Ae.filename+'" width="500px" height="400px" /></body></html>',W=yn.open();if(W!==null){W.document.write(_);var re=this;W.document.documentElement.querySelector("#pdfViewer").onload=function(){W.document.title=Ae.filename,W.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(re.output("bloburl"))}}return W}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Ae)+'"></iframe></body></html>',je=yn.open();if(je!==null&&(je.document.write(xe),je.document.title=Ae.filename),je||typeof safari>"u")return je;break;case"datauri":case"dataurl":return yn.document.location.href=this.output("datauristring",Ae);default:return null}}),$i=function(H){return Array.isArray(ea)===!0&&ea.indexOf(H)>-1};switch(r){case"pt":gt=1;break;case"mm":gt=72/25.4;break;case"cm":gt=72/2.54;break;case"in":gt=72;break;case"px":gt=$i("px_scaling")==1?.75:96/72;break;case"pc":case"em":gt=12;break;case"ex":gt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);gt=r}var Ir=null;he(),oe();var Co=function(H){return d!==null?Ir.encryptor(H,0):function(Ae){return Ae}},Yi=g.__private__.getPageInfo=g.getPageInfo=function(H){if(isNaN(H)||H%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:en[H].objId,pageNumber:H,pageContext:en[H]}},dn=g.__private__.getPageInfoByObjId=function(H){if(isNaN(H)||H%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Ae in en)if(en[Ae].objId===H)break;return Yi(Ae)},Ji=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:en[q].objId,pageNumber:q,pageContext:en[q]}};g.addPage=function(){return Wo.apply(this,arguments),this},g.setPage=function(){return Wi.apply(this,arguments),Ue.call(this,we[q]),this},g.insertPage=function(H){return this.addPage(),this.movePage(q,H),this},g.movePage=function(H,Ae){var ke,Re;if(H>Ae){ke=we[H],Re=en[H];for(var He=H;He>Ae;He--)we[He]=we[He-1],en[He]=en[He-1];we[Ae]=ke,en[Ae]=Re,this.setPage(Ae)}else if(H<Ae){ke=we[H],Re=en[H];for(var ot=H;ot<Ae;ot++)we[ot]=we[ot+1],en[ot]=en[ot+1];we[Ae]=ke,en[Ae]=Re,this.setPage(Ae)}return this},g.deletePage=function(){return $o.apply(this,arguments),this},g.__private__.text=g.text=function(H,Ae,ke,Re,He){var ot,Et,jt,_,W,re,xe,je,Xe,St=(Re=Re||{}).scope||this;if(typeof H=="number"&&typeof Ae=="number"&&(typeof ke=="string"||Array.isArray(ke))){var fn=ke;ke=Ae,Ae=H,H=fn}if(arguments[3]instanceof Ht?(N("The transform parameter of text() with a Matrix value"),Xe=He):(jt=arguments[4],_=arguments[5],Mr(xe=arguments[3])==="object"&&xe!==null||(typeof jt=="string"&&(_=jt,jt=null),typeof xe=="string"&&(_=xe,xe=null),typeof xe=="number"&&(jt=xe,xe=null),Re={flags:xe,angle:jt,align:_})),isNaN(Ae)||isNaN(ke)||H==null)throw new Error("Invalid arguments passed to jsPDF.text");if(H.length===0)return St;var Wn="",Sn=!1,xr=typeof Re.lineHeightFactor=="number"?Re.lineHeightFactor:qn,Sr=St.internal.scaleFactor;function to(Vn){return Vn=Vn.split("	").join(Array(Re.TabLen||9).join(" ")),lr(Vn,xe)}function ms(Vn){for(var Gn,Vr=Vn.concat(),ps=[],ro=Vr.length;ro--;)typeof(Gn=Vr.shift())=="string"?ps.push(Gn):Array.isArray(Vn)&&(Gn.length===1||Gn[1]===void 0&&Gn[2]===void 0)?ps.push(Gn[0]):ps.push([Gn[0],Gn[1],Gn[2]]);return ps}function ui(Vn,Gn){var Vr;if(typeof Vn=="string")Vr=Gn(Vn)[0];else if(Array.isArray(Vn)){for(var ps,ro,Oc=Vn.concat(),jc=[],Vl=Oc.length;Vl--;)typeof(ps=Oc.shift())=="string"?jc.push(Gn(ps)[0]):Array.isArray(ps)&&typeof ps[0]=="string"&&(ro=Gn(ps[0],ps[1],ps[2]),jc.push([ro[0],ro[1],ro[2]]));Vr=jc}return Vr}var sl=!1,kc=!0;if(typeof H=="string")sl=!0;else if(Array.isArray(H)){var Uu=H.concat();Et=[];for(var RA,Ps=Uu.length;Ps--;)(typeof(RA=Uu.shift())!="string"||Array.isArray(RA)&&typeof RA[0]!="string")&&(kc=!1);sl=kc}if(sl===!1)throw new Error('Type of text must be string or Array. "'+H+'" is not recognized.');typeof H=="string"&&(H=H.match(/[\r?\n]/)?H.split(/\r\n|\r|\n/g):[H]);var Ic=mt/St.internal.scaleFactor,DA=Ic*(xr-1);switch(Re.baseline){case"bottom":ke-=DA;break;case"top":ke+=Ic-DA;break;case"hanging":ke+=Ic-2*DA;break;case"middle":ke+=Ic/2-DA}if((re=Re.maxWidth||0)>0&&(typeof H=="string"?H=St.splitTextToSize(H,re):Object.prototype.toString.call(H)==="[object Array]"&&(H=H.reduce(function(Vn,Gn){return Vn.concat(St.splitTextToSize(Gn,re))},[]))),ot={text:H,x:Ae,y:ke,options:Re,mutex:{pdfEscape:lr,activeFontKey:It,fonts:mn,activeFontSize:mt}},jn.publish("preProcessText",ot),H=ot.text,jt=(Re=ot.options).angle,!(Xe instanceof Ht)&&jt&&typeof jt=="number"){jt*=Math.PI/180,Re.rotationDirection===0&&(jt=-jt),k===I.ADVANCED&&(jt=-jt);var UA=Math.cos(jt),Lu=Math.sin(jt);Xe=new Ht(UA,Lu,-Lu,UA,0,0)}else jt&&jt instanceof Ht&&(Xe=jt);k!==I.ADVANCED||Xe||(Xe=Zn),(W=Re.charSpace||Ll)!==void 0&&(Wn+=S(L(W))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(je=Re.horizontalScale)!==void 0&&(Wn+=S(100*je)+` Tz
`),Re.lang;var di=-1,Pm=Re.renderingMode!==void 0?Re.renderingMode:Re.stroke,Af=St.internal.getCurrentPageInfo().pageContext;switch(Pm){case 0:case!1:case"fill":di=0;break;case 1:case!0:case"stroke":di=1;break;case 2:case"fillThenStroke":di=2;break;case 3:case"invisible":di=3;break;case 4:case"fillAndAddForClipping":di=4;break;case 5:case"strokeAndAddPathForClipping":di=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":di=6;break;case 7:case"addToPathForClipping":di=7}var Bh=Af.usedRenderingMode!==void 0?Af.usedRenderingMode:-1;di!==-1?Wn+=di+` Tr
`:Bh!==-1&&(Wn+=`0 Tr
`),di!==-1&&(Af.usedRenderingMode=di),_=Re.align||"left";var no,ra=mt*xr,Fc=St.internal.pageSize.getWidth(),uf=mn[It];W=Re.charSpace||Ll,re=Re.maxWidth||0,xe=Object.assign({autoencode:!0,noBOM:!0},Re.flags);var Ql=[],Rc=function(Vn){return St.getStringUnitWidth(Vn,{font:uf,charSpace:W,fontSize:mt,doKerning:!1})*mt/Sr};if(Object.prototype.toString.call(H)==="[object Array]"){var za;Et=ms(H),_!=="left"&&(no=Et.map(Rc));var ya,Dc=0;if(_==="right"){Ae-=no[0],H=[],Ps=Et.length;for(var fi=0;fi<Ps;fi++)fi===0?(ya=Ia(Ae),za=Ts(ke)):(ya=L(Dc-no[fi]),za=-ra),H.push([Et[fi],ya,za]),Dc=no[fi]}else if(_==="center"){Ae-=no[0]/2,H=[],Ps=Et.length;for(var To=0;To<Ps;To++)To===0?(ya=Ia(Ae),za=Ts(ke)):(ya=L((Dc-no[To])/2),za=-ra),H.push([Et[To],ya,za]),Dc=no[To]}else if(_==="left"){H=[],Ps=Et.length;for(var al=0;al<Ps;al++)H.push(Et[al])}else if(_==="justify"&&uf.encoding==="Identity-H"){H=[],Ps=Et.length,re=re!==0?re:Fc;for(var Bo=0,cs=0;cs<Ps;cs++)if(za=cs===0?Ts(ke):-ra,ya=cs===0?Ia(Ae):Bo,cs<Ps-1){var No=L((re-no[cs])/(Et[cs].split(" ").length-1)),Bs=Et[cs].split(" ");H.push([Bs[0]+" ",ya,za]),Bo=0;for(var hi=1;hi<Bs.length;hi++){var LA=(Rc(Bs[hi-1]+" "+Bs[hi])-Rc(Bs[hi]))*Sr+No;hi==Bs.length-1?H.push([Bs[hi],LA,0]):H.push([Bs[hi]+" ",LA,0]),Bo-=LA}}else H.push([Et[cs],ya,za]);H.push(["",Bo,0])}else{if(_!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(H=[],Ps=Et.length,re=re!==0?re:Fc,cs=0;cs<Ps;cs++)za=cs===0?Ts(ke):-ra,ya=cs===0?Ia(Ae):0,cs<Ps-1?Ql.push(S(L((re-no[cs])/(Et[cs].split(" ").length-1)))):Ql.push(0),H.push([Et[cs],ya,za])}}var il=typeof Re.R2L=="boolean"?Re.R2L:kt;il===!0&&(H=ui(H,function(Vn,Gn,Vr){return[Vn.split("").reverse().join(""),Gn,Vr]})),ot={text:H,x:Ae,y:ke,options:Re,mutex:{pdfEscape:lr,activeFontKey:It,fonts:mn,activeFontSize:mt}},jn.publish("postProcessText",ot),H=ot.text,Sn=ot.mutex.isHex||!1;var Mu=mn[It].encoding;Mu!=="WinAnsiEncoding"&&Mu!=="StandardEncoding"||(H=ui(H,function(Vn,Gn,Vr){return[to(Vn),Gn,Vr]})),Et=ms(H),H=[];for(var Uc,Lc,Mc,MA=0,Pu=1,Pc=Array.isArray(Et[0])?Pu:MA,Hl="",PA=function(Vn,Gn,Vr){var ps="";return Vr instanceof Ht?(Vr=typeof Re.angle=="number"?or(Vr,new Ht(1,0,0,1,Vn,Gn)):or(new Ht(1,0,0,1,Vn,Gn),Vr),k===I.ADVANCED&&(Vr=or(new Ht(1,0,0,-1,0,0),Vr)),ps=Vr.join(" ")+` Tm
`):ps=S(Vn)+" "+S(Gn)+` Td
`,ps},As=0;As<Et.length;As++){switch(Hl="",Pc){case Pu:Mc=(Sn?"<":"(")+Et[As][0]+(Sn?">":")"),Uc=parseFloat(Et[As][1]),Lc=parseFloat(Et[As][2]);break;case MA:Mc=(Sn?"<":"(")+Et[As]+(Sn?">":")"),Uc=Ia(Ae),Lc=Ts(ke)}Ql!==void 0&&Ql[As]!==void 0&&(Hl=Ql[As]+` Tw
`),As===0?H.push(Hl+PA(Uc,Lc,Xe)+Mc):Pc===MA?H.push(Hl+Mc):Pc===Pu&&H.push(Hl+PA(Uc,Lc,Xe)+Mc)}H=Pc===MA?H.join(` Tj
T* `):H.join(` Tj
`),H+=` Tj
`;var ji=`BT
/`;return ji+=It+" "+mt+` Tf
`,ji+=S(mt*xr)+` TL
`,ji+=_o+`
`,ji+=Wn,ji+=H,Ee(ji+="ET"),p[It]=!0,St};var Fu=g.__private__.clip=g.clip=function(H){return Ee(H==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Fu("evenodd")},g.__private__.discardPath=g.discardPath=function(){return Ee("n"),this};var Na=g.__private__.isValidStyle=function(H){var Ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(H)!==-1&&(Ae=!0),Ae};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(H){return Na(H)&&(A=H),this};var li=g.__private__.getStyle=g.getStyle=function(H){var Ae=A;switch(H){case"D":case"S":Ae="S";break;case"F":Ae="f";break;case"FD":case"DF":Ae="B";break;case"f":case"f*":case"B":case"B*":Ae=H}return Ae},Ga=g.close=function(){return Ee("h"),this};g.stroke=function(){return Ee("S"),this},g.fill=function(H){return Xi("f",H),this},g.fillEvenOdd=function(H){return Xi("f*",H),this},g.fillStroke=function(H){return Xi("B",H),this},g.fillStrokeEvenOdd=function(H){return Xi("B*",H),this};var Xi=function(H,Ae){Mr(Ae)==="object"?Eo(Ae,H):Ee(H)},ci=function(H){H===null||k===I.ADVANCED&&H===void 0||(H=li(H),Ee(H))};function Jo(H,Ae,ke,Re,He){var ot=new R0(Ae||this.boundingBox,ke||this.xStep,Re||this.yStep,this.gState,He||this.matrix);ot.stream=this.stream;var Et=H+"$$"+this.cloneIndex+++"$$";return _r(Et,ot),ot}var Eo=function(H,Ae){var ke=Zs[H.key],Re=Bn[ke];if(Re instanceof Pf)Ee("q"),Ee(kA(Ae)),Re.gState&&g.setGState(Re.gState),Ee(H.matrix.toString()+" cm"),Ee("/"+ke+" sh"),Ee("Q");else if(Re instanceof R0){var He=new Ht(1,0,0,-1,0,Fa());H.matrix&&(He=He.multiply(H.matrix||Zn),ke=Jo.call(Re,H.key,H.boundingBox,H.xStep,H.yStep,He).id),Ee("q"),Ee("/Pattern cs"),Ee("/"+ke+" scn"),Re.gState&&g.setGState(Re.gState),Ee(Ae),Ee("Q")}},kA=function(H){switch(H){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ai=g.moveTo=function(H,Ae){return Ee(S(L(H))+" "+S(G(Ae))+" m"),this},ka=g.lineTo=function(H,Ae){return Ee(S(L(H))+" "+S(G(Ae))+" l"),this},Zi=g.curveTo=function(H,Ae,ke,Re,He,ot){return Ee([S(L(H)),S(G(Ae)),S(L(ke)),S(G(Re)),S(L(He)),S(G(ot)),"c"].join(" ")),this};g.__private__.line=g.line=function(H,Ae,ke,Re,He){if(isNaN(H)||isNaN(Ae)||isNaN(ke)||isNaN(Re)||!Na(He))throw new Error("Invalid arguments passed to jsPDF.line");return k===I.COMPAT?this.lines([[ke-H,Re-Ae]],H,Ae,[1,1],He||"S"):this.lines([[ke-H,Re-Ae]],H,Ae,[1,1]).stroke()},g.__private__.lines=g.lines=function(H,Ae,ke,Re,He,ot){var Et,jt,_,W,re,xe,je,Xe,St,fn,Wn,Sn;if(typeof H=="number"&&(Sn=ke,ke=Ae,Ae=H,H=Sn),Re=Re||[1,1],ot=ot||!1,isNaN(Ae)||isNaN(ke)||!Array.isArray(H)||!Array.isArray(Re)||!Na(He)||typeof ot!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ai(Ae,ke),Et=Re[0],jt=Re[1],W=H.length,fn=Ae,Wn=ke,_=0;_<W;_++)(re=H[_]).length===2?(fn=re[0]*Et+fn,Wn=re[1]*jt+Wn,ka(fn,Wn)):(xe=re[0]*Et+fn,je=re[1]*jt+Wn,Xe=re[2]*Et+fn,St=re[3]*jt+Wn,fn=re[4]*Et+fn,Wn=re[5]*jt+Wn,Zi(xe,je,Xe,St,fn,Wn));return ot&&Ga(),ci(He),this},g.path=function(H){for(var Ae=0;Ae<H.length;Ae++){var ke=H[Ae],Re=ke.c;switch(ke.op){case"m":Ai(Re[0],Re[1]);break;case"l":ka(Re[0],Re[1]);break;case"c":Zi.apply(this,Re);break;case"h":Ga()}}return this},g.__private__.rect=g.rect=function(H,Ae,ke,Re,He){if(isNaN(H)||isNaN(Ae)||isNaN(ke)||isNaN(Re)||!Na(He))throw new Error("Invalid arguments passed to jsPDF.rect");return k===I.COMPAT&&(Re=-Re),Ee([S(L(H)),S(G(Ae)),S(L(ke)),S(L(Re)),"re"].join(" ")),ci(He),this},g.__private__.triangle=g.triangle=function(H,Ae,ke,Re,He,ot,Et){if(isNaN(H)||isNaN(Ae)||isNaN(ke)||isNaN(Re)||isNaN(He)||isNaN(ot)||!Na(Et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ke-H,Re-Ae],[He-ke,ot-Re],[H-He,Ae-ot]],H,Ae,[1,1],Et,!0),this},g.__private__.roundedRect=g.roundedRect=function(H,Ae,ke,Re,He,ot,Et){if(isNaN(H)||isNaN(Ae)||isNaN(ke)||isNaN(Re)||isNaN(He)||isNaN(ot)||!Na(Et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var jt=4/3*(Math.SQRT2-1);return He=Math.min(He,.5*ke),ot=Math.min(ot,.5*Re),this.lines([[ke-2*He,0],[He*jt,0,He,ot-ot*jt,He,ot],[0,Re-2*ot],[0,ot*jt,-He*jt,ot,-He,ot],[2*He-ke,0],[-He*jt,0,-He,-ot*jt,-He,-ot],[0,2*ot-Re],[0,-ot*jt,He*jt,-ot,He,-ot]],H+He,Ae,[1,1],Et,!0),this},g.__private__.ellipse=g.ellipse=function(H,Ae,ke,Re,He){if(isNaN(H)||isNaN(Ae)||isNaN(ke)||isNaN(Re)||!Na(He))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ot=4/3*(Math.SQRT2-1)*ke,Et=4/3*(Math.SQRT2-1)*Re;return Ai(H+ke,Ae),Zi(H+ke,Ae-Et,H+ot,Ae-Re,H,Ae-Re),Zi(H-ot,Ae-Re,H-ke,Ae-Et,H-ke,Ae),Zi(H-ke,Ae+Et,H-ot,Ae+Re,H,Ae+Re),Zi(H+ot,Ae+Re,H+ke,Ae+Et,H+ke,Ae),ci(He),this},g.__private__.circle=g.circle=function(H,Ae,ke,Re){if(isNaN(H)||isNaN(Ae)||isNaN(ke)||!Na(Re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(H,Ae,ke,ke,Re)},g.setFont=function(H,Ae,ke){return ke&&(Ae=P(Ae,ke)),It=Yo(H,Ae,{disableWarning:!1}),this};var Ss=g.__private__.getFont=g.getFont=function(){return mn[Yo.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var H,Ae,ke={};for(H in Fn)if(Fn.hasOwnProperty(H))for(Ae in ke[H]=[],Fn[H])Fn[H].hasOwnProperty(Ae)&&ke[H].push(Ae);return ke},g.addFont=function(H,Ae,ke,Re,He){var ot=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ot.indexOf(arguments[3])!==-1?He=arguments[3]:arguments[3]&&ot.indexOf(arguments[3])==-1&&(ke=P(ke,Re)),He=He||"Identity-H",qo.call(this,H,Ae,ke,He)};var qn,Xo=t.lineWidth||.200025,eo=g.__private__.getLineWidth=g.getLineWidth=function(){return Xo},IA=g.__private__.setLineWidth=g.setLineWidth=function(H){return Xo=H,Ee(S(L(H))+" w"),this};g.__private__.setLineDash=sn.API.setLineDash=sn.API.setLineDashPattern=function(H,Ae){if(H=H||[],Ae=Ae||0,isNaN(Ae)||!Array.isArray(H))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return H=H.map(function(ke){return S(L(ke))}).join(" "),Ae=S(L(Ae)),Ee("["+H+"] "+Ae+" d"),this};var Dl=g.__private__.getLineHeight=g.getLineHeight=function(){return mt*qn};g.__private__.getLineHeight=g.getLineHeight=function(){return mt*qn};var Ul=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(H){return typeof(H=H||1.15)=="number"&&(qn=H),this},Oi=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return qn};Ul(t.lineHeight);var Ia=g.__private__.getHorizontalCoordinate=function(H){return L(H)},Ts=g.__private__.getVerticalCoordinate=function(H){return k===I.ADVANCED?H:en[q].mediaBox.topRightY-en[q].mediaBox.bottomLeftY-L(H)},Ru=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(H){return S(Ia(H))},Zo=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(H){return S(Ts(H))},va=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Se(va)},g.__private__.setStrokeColor=g.setDrawColor=function(H,Ae,ke,Re){return va=Ne({ch1:H,ch2:Ae,ch3:ke,ch4:Re,pdfColorType:"draw",precision:2}),Ee(va),this};var el=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Se(el)},g.__private__.setFillColor=g.setFillColor=function(H,Ae,ke,Re){return el=Ne({ch1:H,ch2:Ae,ch3:ke,ch4:Re,pdfColorType:"fill",precision:2}),Ee(el),this};var _o=t.textColor||"0 g",Sc=g.__private__.getTextColor=g.getTextColor=function(){return Se(_o)};g.__private__.setTextColor=g.setTextColor=function(H,Ae,ke,Re){return _o=Ne({ch1:H,ch2:Ae,ch3:ke,ch4:Re,pdfColorType:"text",precision:3}),this};var Ll=t.charSpace,Tc=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Ll||0)};g.__private__.setCharSpace=g.setCharSpace=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ll=H,this};var FA=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(H){var Ae=g.CapJoinStyles[H];if(Ae===void 0)throw new Error("Line cap style of '"+H+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return FA=Ae,Ee(Ae+" J"),this};var Ml=0;g.__private__.setLineJoin=g.setLineJoin=function(H){var Ae=g.CapJoinStyles[H];if(Ae===void 0)throw new Error("Line join style of '"+H+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ml=Ae,Ee(Ae+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(H){if(H=H||0,isNaN(H))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ee(S(L(H))+" M"),this},g.GState=R2,g.setGState=function(H){(H=typeof H=="string"?Xn[Wr[H]]:tl(null,H)).equals(ls)||(Ee("/"+H.id+" gs"),ls=H)};var tl=function(H,Ae){if(!H||!Wr[H]){var ke=!1;for(var Re in Xn)if(Xn.hasOwnProperty(Re)&&Xn[Re].equals(Ae)){ke=!0;break}if(ke)Ae=Xn[Re];else{var He="GS"+(Object.keys(Xn).length+1).toString(10);Xn[He]=Ae,Ae.id=He}return H&&(Wr[H]=Ae.id),jn.publish("addGState",Ae),Ae}};g.addGState=function(H,Ae){return tl(H,Ae),this},g.saveGraphicsState=function(){return Ee("q"),Er.push({key:It,size:mt,color:_o}),this},g.restoreGraphicsState=function(){Ee("Q");var H=Er.pop();return It=H.key,mt=H.size,_o=H.color,ls=null,this},g.setCurrentTransformationMatrix=function(H){return Ee(H.toString()+" cm"),this},g.comment=function(H){return Ee("#"+H),this};var Pl=function(H,Ae){var ke=H||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ke},set:function(ot){isNaN(ot)||(ke=parseFloat(ot))}});var Re=Ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Re},set:function(ot){isNaN(ot)||(Re=parseFloat(ot))}});var He="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return He},set:function(ot){He=ot.toString()}}),this},Bc=function(H,Ae,ke,Re){Pl.call(this,H,Ae),this.type="rect";var He=ke||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return He},set:function(Et){isNaN(Et)||(He=parseFloat(Et))}});var ot=Re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ot},set:function(Et){isNaN(Et)||(ot=parseFloat(Et))}}),this},Ol=function(){this.page=Dn,this.currentPage=q,this.pages=we.slice(0),this.pagesContext=en.slice(0),this.x=xn,this.y=Wt,this.matrix=ir,this.width=rl(q),this.height=Fa(q),this.outputDestination=De,this.id="",this.objectNumber=-1};Ol.prototype.restore=function(){Dn=this.page,q=this.currentPage,en=this.pagesContext,we=this.pages,xn=this.x,Wt=this.y,ir=this.matrix,jl(q,this.width),Nc(q,this.height),De=this.outputDestination};var nl=function(H,Ae,ke,Re,He){ma.push(new Ol),Dn=q=0,we=[],xn=H,Wt=Ae,ir=He,xa([ke,Re])},Du=function(H){if(hs[H])ma.pop().restore();else{var Ae=new Ol,ke="Xo"+(Object.keys(jr).length+1).toString(10);Ae.id=ke,hs[H]=ke,jr[ke]=Ae,jn.publish("addFormObject",Ae),ma.pop().restore()}};for(var So in g.beginFormObject=function(H,Ae,ke,Re,He){return nl(H,Ae,ke,Re,He),this},g.endFormObject=function(H){return Du(H),this},g.doFormObject=function(H,Ae){var ke=jr[hs[H]];return Ee("q"),Ee(Ae.toString()+" cm"),Ee("/"+ke.id+" Do"),Ee("Q"),this},g.getFormObject=function(H){var Ae=jr[hs[H]];return{x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height,matrix:Ae.matrix}},g.save=function(H,Ae){return H=H||"generated.pdf",(Ae=Ae||{}).returnPromise=Ae.returnPromise||!1,Ae.returnPromise===!1?(Uf(_c(wo()),H),typeof Uf.unload=="function"&&yn.setTimeout&&setTimeout(Uf.unload,911),this):new Promise(function(ke,Re){try{var He=Uf(_c(wo()),H);typeof Uf.unload=="function"&&yn.setTimeout&&setTimeout(Uf.unload,911),ke(He)}catch(ot){Re(ot.message)}})},sn.API)sn.API.hasOwnProperty(So)&&(So==="events"&&sn.API.events.length?function(H,Ae){var ke,Re,He;for(He=Ae.length-1;He!==-1;He--)ke=Ae[He][0],Re=Ae[He][1],H.subscribe.apply(H,[ke].concat(typeof Re=="function"?[Re]:Re))}(jn,sn.API.events):g[So]=sn.API[So]);var rl=g.getPageWidth=function(H){return(en[H=H||q].mediaBox.topRightX-en[H].mediaBox.bottomLeftX)/gt},jl=g.setPageWidth=function(H,Ae){en[H].mediaBox.topRightX=Ae*gt+en[H].mediaBox.bottomLeftX},Fa=g.getPageHeight=function(H){return(en[H=H||q].mediaBox.topRightY-en[H].mediaBox.bottomLeftY)/gt},Nc=g.setPageHeight=function(H,Ae){en[H].mediaBox.topRightY=Ae*gt+en[H].mediaBox.bottomLeftY};return g.internal={pdfEscape:lr,getStyle:li,getFont:Ss,getFontSize:At,getCharSpace:Tc,getTextColor:Sc,getLineHeight:Dl,getLineHeightFactor:Oi,getLineWidth:eo,write:ze,getHorizontalCoordinate:Ia,getVerticalCoordinate:Ts,getCoordinateString:Ru,getVerticalCoordinateString:Zo,collections:{},newObject:kr,newAdditionalObject:Be,newObjectDeferred:Qr,newObjectDeferredBegin:de,getFilters:Ke,putStream:et,events:jn,scaleFactor:gt,pageSize:{getWidth:function(){return rl(q)},setWidth:function(H){jl(q,H)},getHeight:function(){return Fa(q)},setHeight:function(H){Nc(q,H)}},encryptionOptions:d,encryption:Ir,getEncryptor:Co,output:bo,getNumberOfPages:gr,pages:we,out:Ee,f2:V,f3:U,getPageInfo:Yi,getPageInfoByObjId:dn,getCurrentPageInfo:Ji,getPDFVersion:b,Point:Pl,Rectangle:Bc,Matrix:Ht,hasHotfix:$i},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return rl(q)},set:function(H){jl(q,H)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Fa(q)},set:function(H){Nc(q,H)},enumerable:!0,configurable:!0}),TA.call(g,it),It="F1",Wo(s,n),jn.publish("initialized"),g}S0.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},S0.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},S0.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},S0.prototype.processOwnerPassword=function(t,e){return h_(f_(e).substr(0,5),t)},S0.prototype.encryptor=function(t,e){var n=f_(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return h_(n,r)}},R2.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Mr(t)!==Mr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},sn.API={events:[]},sn.version="2.5.2";var Fs=sn.API,v5=1,wh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},r0=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kn=function(t){return t.toFixed(2)},dd=function(t){return t.toFixed(5)};Fs.__acroform__={};var vo=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},rI=function(t){return t*v5},nA=function(t){var e=new _8,n=Xt.internal.getHeight(t)||0,r=Xt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(kn(r)),Number(kn(n))],e},Use=Fs.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Lse=Fs.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Mse=Fs.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},Ws=Fs.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Mse(t,e-1)},$s=Fs.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Use(t,e-1)},Ys=Fs.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Lse(t,e-1)},Pse=Fs.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=t[0],a=t[1],i=t[2],o=t[3],l={};return l.lowerLeft_X=n(s)||0,l.lowerLeft_Y=r(a+o)||0,l.upperRight_X=n(s+i)||0,l.upperRight_Y=r(a)||0,[Number(kn(l.lowerLeft_X)),Number(kn(l.lowerLeft_Y)),Number(kn(l.upperRight_X)),Number(kn(l.upperRight_Y))]},Ose=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=m_(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+kn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=nA(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},m_=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(U){return U.split(`
`)}):s.map(function(U){return[U]});var a=n,i=Xt.internal.getHeight(t)||0;i=i<0?-i:i;var o=Xt.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(U,L,j){if(U+1<s.length){var G=L+" "+s[U+1][0];return H1(G,t,j).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var A,d,h=H1("3",t,a).height,p=t.multiline?i-a:(i-h)/2,g=p+=2,w=0,b=0,E=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+H1(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var T="",I=0,k=0;k<s.length;k++)if(s.hasOwnProperty(k)){var F=!1;if(s[k].length!==1&&E!==s[k].length-1){if((h+2)*(I+2)+2>i)continue e;T+=s[k][E],F=!0,b=k,k--}else{T=(T+=s[k][E]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var D=parseInt(k),P=l(D,T,a),S=k>=s.length-1;if(P&&!S){T+=" ",E=0;continue}if(P||S){if(S)b=D;else if(t.multiline&&(h+2)*(I+2)+2>i)continue e}else{if(!t.multiline||(h+2)*(I+2)+2>i)continue e;b=D}}for(var N="",B=w;B<=b;B++){var V=s[B];if(t.multiline){if(B===b){N+=V[E]+" ",E=(E+1)%V.length;continue}if(B===w){N+=V[V.length-1]+" ";continue}}N+=V[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,d=H1(N,t,a).width,t.textAlign){case"right":A=o-d-2;break;case"center":A=(o-d)/2;break;case"left":default:A=2}e+=kn(A)+" "+kn(g)+` Td
`,e+="("+wh(N)+`) Tj
`,e+=-kn(A)+` 0 Td
`,g=-(a+2),d=0,w=F?b:b+1,I++,T=""}break}return r.text=e,r.fontSize=a,r},H1=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},jse={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Qse=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Hse=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,s=t[n];e.internal.newObjectDeferredBegin(s.objId,!0),Mr(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[r]}},Vse=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(vc.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(jse)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");v5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new S8,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var a=r[s];a.objId=void 0,a.hasAnnotation&&Qse(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,s){var a=!r;for(var i in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(i)){var o=r[i],l=[],A=o.Rect;if(o.Rect&&(o.Rect=Pse(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Xt.createDefaultAppearanceStream(o),Mr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=A,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=Ose(o);l.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var h="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var g=o.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var i in g)if(g.hasOwnProperty(i)){var w=g[i];typeof w=="function"&&(w=w.call(s,o)),h+="/"+i+" "+w+" ",s.internal.acroformPlugin.xForms.indexOf(w)>=0||s.internal.acroformPlugin.xForms.push(w)}}else typeof(w=g)=="function"&&(w=w.call(s,o)),h+="/"+i+" "+w,s.internal.acroformPlugin.xForms.indexOf(w)>=0||s.internal.acroformPlugin.xForms.push(w);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:o.objId}),s.internal.out("endobj")}a&&Hse(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},E8=Fs.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(i){return i};if(Array.isArray(t)){for(var s="[",a=0;a<t.length;a++)switch(a!==0&&(s+=" "),Mr(t[a])){case"boolean":case"number":case"object":s+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),s+="("+wh(r(t[a].toString()))+")"):s+=t[a].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},fC=function(t,e,n){var r=function(s){return s};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+wh(r(t))+")"},oA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};oA.prototype.toString=function(){return this.objId+" 0 R"},oA.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},oA.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],s=this[r];s&&(Array.isArray(s)?t.push({key:r,value:E8(s,this.objId,this.scope)}):s instanceof oA?(s.scope=this.scope,t.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:r,value:s}))}return t};var _8=function(){oA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};vo(_8,oA);var S8=function(){oA.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+wh(n(t))+")"}},set:function(n){t=n}})};vo(S8,oA);var vc=function t(){oA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');e=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ws(e,3)},set:function(T){T?this.F=$s(e,3):this.F=Ys(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');n=T}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(T){r=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(T){r[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(T){r[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(T){r[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(T){r[3]=T}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof D2)return;a="FieldObject"+t.FieldNum++}var T=function(I){return I};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+wh(T(a))+")"},set:function(T){a=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(T){a=T}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(T){i=T}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(T){o=T}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(T){l=T}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return A===void 0?50/v5:A},set:function(T){A=T}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(T){d=T}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof D2||this instanceof Wf))return fC(h,this.objId,this.scope)},set:function(T){T=T.toString(),h=T}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ja?p:fC(p,this.objId,this.scope)},set:function(T){T=T.toString(),p=this instanceof ja?T:T.substr(0,1)==="("?r0(T.substr(1,T.length-2)):r0(T)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ja?r0(p.substr(1,p.length-1)):p},set:function(T){T=T.toString(),p=this instanceof ja?"/"+T:T}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ja?g:fC(g,this.objId,this.scope)},set:function(T){T=T.toString(),g=this instanceof ja?T:T.substr(0,1)==="("?r0(T.substr(1,T.length-2)):r0(T)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ja?r0(g.substr(1,g.length-1)):g},set:function(T){T=T.toString(),g=this instanceof ja?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(T){T=!!T,b=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(T){w=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,1)},set:function(T){T?this.Ff=$s(this.Ff,1):this.Ff=Ys(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,2)},set:function(T){T?this.Ff=$s(this.Ff,2):this.Ff=Ys(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,3)},set:function(T){T?this.Ff=$s(this.Ff,3):this.Ff=Ys(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');E=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(E){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:E=2;break;case"center":case 1:E=1;break;case"left":case 0:default:E=0}}})};vo(vc,oA);var z0=function(){vc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return E8(e,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(a,i,o){o||(o=1);for(var l,A=[];l=i.exec(a);)A.push(l[o]);return A}(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,18)},set:function(n){n?this.Ff=$s(this.Ff,18):this.Ff=Ys(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=$s(this.Ff,19):this.Ff=Ys(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,20)},set:function(n){n?(this.Ff=$s(this.Ff,20),e.sort()):this.Ff=Ys(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,22)},set:function(n){n?this.Ff=$s(this.Ff,22):this.Ff=Ys(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,23)},set:function(n){n?this.Ff=$s(this.Ff,23):this.Ff=Ys(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,27)},set:function(n){n?this.Ff=$s(this.Ff,27):this.Ff=Ys(this.Ff,27)}}),this.hasAppearanceStream=!1};vo(z0,vc);var K0=function(){z0.call(this),this.fontName="helvetica",this.combo=!1};vo(K0,z0);var q0=function(){K0.call(this),this.combo=!0};vo(q0,K0);var Wv=function(){q0.call(this),this.edit=!0};vo(Wv,q0);var ja=function(){vc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,15)},set:function(n){n?this.Ff=$s(this.Ff,15):this.Ff=Ys(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,16)},set:function(n){n?this.Ff=$s(this.Ff,16):this.Ff=Ys(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,17)},set:function(n){n?this.Ff=$s(this.Ff,17):this.Ff=Ys(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,26)},set:function(n){n?this.Ff=$s(this.Ff,26):this.Ff=Ys(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+wh(n(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){Mr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};vo(ja,vc);var $v=function(){ja.call(this),this.pushButton=!0};vo($v,ja);var W0=function(){ja.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};vo(W0,ja);var D2=function(){var t,e;vc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,i=[];for(a in i.push("<<"),r)i.push("/"+a+" ("+wh(s(r[a]))+")");return i.push(">>"),i.join(`
`)},set:function(s){Mr(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};vo(D2,vc),W0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},W0.prototype.createOption=function(t){var e=new D2;return e.Parent=this,e.optionName=t,this.Kids.push(e),Gse.call(this.scope,e),e};var Yv=function(){ja.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Xt.CheckBox.createAppearanceStream()};vo(Yv,ja);var Wf=function(){vc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,13)},set:function(e){e?this.Ff=$s(this.Ff,13):this.Ff=Ys(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,21)},set:function(e){e?this.Ff=$s(this.Ff,21):this.Ff=Ys(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,23)},set:function(e){e?this.Ff=$s(this.Ff,23):this.Ff=Ys(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,24)},set:function(e){e?this.Ff=$s(this.Ff,24):this.Ff=Ys(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,25)},set:function(e){e?this.Ff=$s(this.Ff,25):this.Ff=Ys(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,26)},set:function(e){e?this.Ff=$s(this.Ff,26):this.Ff=Ys(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};vo(Wf,vc);var Jv=function(){Wf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,14)},set:function(t){t?this.Ff=$s(this.Ff,14):this.Ff=Ys(this.Ff,14)}}),this.password=!0};vo(Jv,Wf);var Xt={CheckBox:{createAppearanceStream:function(){return{N:{On:Xt.CheckBox.YesNormal},D:{On:Xt.CheckBox.YesPushDown,Off:Xt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=nA(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),a=m_(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+kn(Xt.internal.getWidth(t))+" "+kn(Xt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+kn(a.fontSize)+" Tf "+s),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=nA(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=[],a=Xt.internal.getHeight(t),i=Xt.internal.getWidth(t),o=m_(t,t.caption);return s.push("1 g"),s.push("0 0 "+kn(i)+" "+kn(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+kn(i-1)+" "+kn(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+kn(o.fontSize)+" Tf "+r),s.push(o.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=nA(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kn(Xt.internal.getWidth(t))+" "+kn(Xt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Xt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Xt.RadioButton.Circle.YesNormal,e.D[t]=Xt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=nA(t);e.scope=t.scope;var n=[],r=Xt.internal.getWidth(t)<=Xt.internal.getHeight(t)?Xt.internal.getWidth(t)/4:Xt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Xt.internal.Bezier_C,a=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+dd(Xt.internal.getWidth(t)/2)+" "+dd(Xt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=nA(t);e.scope=t.scope;var n=[],r=Xt.internal.getWidth(t)<=Xt.internal.getHeight(t)?Xt.internal.getWidth(t)/4:Xt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*Xt.internal.Bezier_C).toFixed(5)),i=Number((r*Xt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+dd(Xt.internal.getWidth(t)/2)+" "+dd(Xt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+dd(Xt.internal.getWidth(t)/2)+" "+dd(Xt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=nA(t);e.scope=t.scope;var n=[],r=Xt.internal.getWidth(t)<=Xt.internal.getHeight(t)?Xt.internal.getWidth(t)/4:Xt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*Xt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+dd(Xt.internal.getWidth(t)/2)+" "+dd(Xt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Xt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Xt.RadioButton.Cross.YesNormal,e.D[t]=Xt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=nA(t);e.scope=t.scope;var n=[],r=Xt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+kn(Xt.internal.getWidth(t)-2)+" "+kn(Xt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(kn(r.x1.x)+" "+kn(r.x1.y)+" m"),n.push(kn(r.x2.x)+" "+kn(r.x2.y)+" l"),n.push(kn(r.x4.x)+" "+kn(r.x4.y)+" m"),n.push(kn(r.x3.x)+" "+kn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=nA(t);e.scope=t.scope;var n=Xt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+kn(Xt.internal.getWidth(t))+" "+kn(Xt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+kn(Xt.internal.getWidth(t)-2)+" "+kn(Xt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(kn(n.x1.x)+" "+kn(n.x1.y)+" m"),r.push(kn(n.x2.x)+" "+kn(n.x2.y)+" l"),r.push(kn(n.x4.x)+" "+kn(n.x4.y)+" m"),r.push(kn(n.x3.x)+" "+kn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=nA(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kn(Xt.internal.getWidth(t))+" "+kn(Xt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Xt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Xt.internal.getWidth(t),n=Xt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Xt.internal.getWidth=function(t){var e=0;return Mr(t)==="object"&&(e=rI(t.Rect[2])),e},Xt.internal.getHeight=function(t){var e=0;return Mr(t)==="object"&&(e=rI(t.Rect[3])),e};var Gse=Fs.addField=function(t){if(Vse(this,t),!(t instanceof vc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Fs.AcroFormChoiceField=z0,Fs.AcroFormListBox=K0,Fs.AcroFormComboBox=q0,Fs.AcroFormEditBox=Wv,Fs.AcroFormButton=ja,Fs.AcroFormPushButton=$v,Fs.AcroFormRadioButton=W0,Fs.AcroFormCheckBox=Yv,Fs.AcroFormTextField=Wf,Fs.AcroFormPasswordField=Jv,Fs.AcroFormAppearance=Xt,Fs.AcroForm={ChoiceField:z0,ListBox:K0,ComboBox:q0,EditBox:Wv,Button:ja,PushButton:$v,RadioButton:W0,CheckBox:Yv,TextField:Wf,PasswordField:Jv,Appearance:Xt},sn.AcroForm={ChoiceField:z0,ListBox:K0,ComboBox:q0,EditBox:Wv,Button:ja,PushButton:$v,RadioButton:W0,CheckBox:Yv,TextField:Wf,PasswordField:Jv,Appearance:Xt};sn.AcroForm;function T8(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(U,L){var j,G,se,K,Y,oe=e;if((L=L||e)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(P(U))for(Y in n)for(se=n[Y],j=0;j<se.length;j+=1){for(K=!0,G=0;G<se[j].length;G+=1)if(se[j][G]!==void 0&&se[j][G]!==U[G]){K=!1;break}if(K===!0){oe=Y;break}}else for(Y in n)for(se=n[Y],j=0;j<se.length;j+=1){for(K=!0,G=0;G<se[j].length;G+=1)if(se[j][G]!==void 0&&se[j][G]!==U.charCodeAt(G)){K=!1;break}if(K===!0){oe=Y;break}}return oe===e&&L!==e&&(oe=L),oe},s=function U(L){for(var j=this.internal.write,G=this.internal.putStream,se=(0,this.internal.getFilters)();se.indexOf("FlateEncode")!==-1;)se.splice(se.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:L.width}),K.push({key:"Height",value:L.height}),L.colorSpace===E.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===E.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var Y="",oe=0,Z=L.transparency.length;oe<Z;oe++)Y+=L.transparency[oe]+" "+L.transparency[oe]+" ";K.push({key:"Mask",value:"["+Y+"]"})}L.sMask!==void 0&&K.push({key:"SMask",value:L.objectId+1+" 0 R"});var ee=L.filter!==void 0?["/"+L.filter]:void 0;if(G({data:L.data,additionalKeyValues:K,alreadyAppliedFilters:ee,objectId:L.objectId}),j("endobj"),"sMask"in L&&L.sMask!==void 0){var he="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,O={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:he,data:L.sMask};"filter"in L&&(O.filter=L.filter),U.call(this,O)}if(L.colorSpace===E.INDEXED){var q=this.internal.newObject();G({data:N(new Uint8Array(L.palette)),objectId:q}),j("endobj")}},a=function(){var U=this.internal.collections.addImage_images;for(var L in U)s.call(this,U[L])},i=function(){var U,L=this.internal.collections.addImage_images,j=this.internal.write;for(var G in L)j("/I"+(U=L[G]).index,U.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",i))},l=function(){var U=this.internal.collections.addImage_images;return o.call(this),U},A=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(U){return typeof t["process"+U.toUpperCase()]=="function"},h=function(U){return Mr(U)==="object"&&U.nodeType===1},p=function(U,L){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var j=""+U.getAttribute("src");if(j.indexOf("data:image/")===0)return dg(unescape(j).split("base64,").pop());var G=t.loadFile(j,!0);if(G!==void 0)return G}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var se;switch(L){case"PNG":se="image/png";break;case"WEBP":se="image/webp";break;case"JPEG":case"JPG":default:se="image/jpeg"}return dg(U.toDataURL(se,1).split("base64,").pop())}},g=function(U){var L=this.internal.collections.addImage_images;if(L){for(var j in L)if(U===L[j].alias)return L[j]}},w=function(U,L,j){return U||L||(U=-96,L=-96),U<0&&(U=-1*j.width*72/U/this.internal.scaleFactor),L<0&&(L=-1*j.height*72/L/this.internal.scaleFactor),U===0&&(U=L*j.width/j.height),L===0&&(L=U*j.height/j.width),[U,L]},b=function(U,L,j,G,se,K){var Y=w.call(this,j,G,se),oe=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,ee=l.call(this);if(j=Y[0],G=Y[1],ee[se.index]=se,K){K*=Math.PI/180;var he=Math.cos(K),O=Math.sin(K),q=function(ne){return ne.toFixed(4)},J=[q(he),q(O),q(-1*O),q(he),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,oe(U),Z(L+G),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([oe(j),"0","0",oe(G),"0","0","cm"].join(" "))):this.internal.write([oe(j),"0","0",oe(G),oe(U),Z(L+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+se.index+" Do"),this.internal.write("Q")},E=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var T=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=t.__addimage__.sHashCode=function(U){var L,j,G=0;if(typeof U=="string")for(j=U.length,L=0;L<j;L++)G=(G<<5)-G+U.charCodeAt(L),G|=0;else if(P(U))for(j=U.byteLength/2,L=0;L<j;L++)G=(G<<5)-G+U[L],G|=0;return G},k=t.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var L=!0;return U.length===0&&(L=!1),U.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(L=!1),L},F=t.__addimage__.extractImageFromDataUrl=function(U){var L=(U=U||"").split("base64,"),j=null;if(L.length===2){var G=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(L[0]);Array.isArray(G)&&(j={mimeType:G[1],charset:G[2],data:L[1]})}return j},D=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(U){return D()&&U instanceof ArrayBuffer};var P=t.__addimage__.isArrayBufferView=function(U){return D()&&typeof Uint32Array<"u"&&(U instanceof Int8Array||U instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array)},S=t.__addimage__.binaryStringToUint8Array=function(U){for(var L=U.length,j=new Uint8Array(L),G=0;G<L;G++)j[G]=U.charCodeAt(G);return j},N=t.__addimage__.arrayBufferToBinaryString=function(U){for(var L="",j=P(U)?U:new Uint8Array(U),G=0;G<j.length;G+=8192)L+=String.fromCharCode.apply(null,j.subarray(G,G+8192));return L};t.addImage=function(){var U,L,j,G,se,K,Y,oe,Z;if(typeof arguments[1]=="number"?(L=e,j=arguments[1],G=arguments[2],se=arguments[3],K=arguments[4],Y=arguments[5],oe=arguments[6],Z=arguments[7]):(L=arguments[1],j=arguments[2],G=arguments[3],se=arguments[4],K=arguments[5],Y=arguments[6],oe=arguments[7],Z=arguments[8]),Mr(U=arguments[0])==="object"&&!h(U)&&"imageData"in U){var ee=U;U=ee.imageData,L=ee.format||L||e,j=ee.x||j||0,G=ee.y||G||0,se=ee.w||ee.width||se,K=ee.h||ee.height||K,Y=ee.alias||Y,oe=ee.compression||oe,Z=ee.rotation||ee.angle||Z}var he=this.internal.getFilters();if(oe===void 0&&he.indexOf("FlateEncode")!==-1&&(oe="SLOW"),isNaN(j)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var O=B.call(this,U,L,Y,oe);return b.call(this,j,G,se,K,O,Z),this};var B=function(U,L,j,G){var se,K,Y;if(typeof U=="string"&&r(U)===e){U=unescape(U);var oe=V(U,!1);(oe!==""||(oe=t.loadFile(U,!0))!==void 0)&&(U=oe)}if(h(U)&&(U=p(U,L)),L=r(U,L),!d(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((Y=j)==null||Y.length===0)&&(j=function(Z){return typeof Z=="string"||P(Z)?I(Z):P(Z.data)?I(Z.data):null}(U)),(se=g.call(this,j))||(D()&&(U instanceof Uint8Array||L==="RGBA"||(K=U,U=S(U))),se=this["process"+L.toUpperCase()](U,A.call(this),j,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in t.image_compression?Z:T.NONE}(G),K)),!se)throw new Error("An unknown error occurred whilst processing the image.");return se},V=t.__addimage__.convertBase64ToBinaryString=function(U,L){var j;L=typeof L!="boolean"||L;var G,se="";if(typeof U=="string"){G=(j=F(U))!==null?j.data:U;try{se=dg(G)}catch(K){if(L)throw k(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return se};t.getImageProperties=function(U){var L,j,G="";if(h(U)&&(U=p(U)),typeof U=="string"&&r(U)===e&&((G=V(U,!1))===""&&(G=t.loadFile(U)||""),U=G),j=r(U),!d(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!D()||U instanceof Uint8Array||(U=S(U)),!(L=this["process"+j.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=j,L}})(sn.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};sn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,s,a,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),A=n.pageContext.annotations,d=!1,h=0;h<A.length&&!d;h++)switch((r=A[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<A.length;p++){r=A[p];var g=this.internal.pdfEscape,w=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(b.objId),I=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+i(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+i(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+g(T(r.contents))+")",a+=" /Popup "+E.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+g(T(I))+") >>",b.content=a;var k=b.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+i(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+i(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+k,r.open&&(a+=" /Open true"),a+=" >>",E.content=a,this.internal.write(b.objId,"0 R",E.objId,"0 R");break;case"freetext":s="/Rect ["+i(r.bounds.x)+" "+o(r.bounds.y)+" "+i(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var F=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+g(w(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var D=this.annotations._nameMap[r.options.name];r.options.pageNumber=D.page,r.options.top=D.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+g(w(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var P=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+P+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,s,a,i){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:A(r),w:l(n+s),h:A(r+a)},options:i,type:"link"})},t.textWithLink=function(n,r,s,a){var i,o,l=this.getTextWidth(n),A=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var d=this.splitTextToSize(n,o).length;i=Math.ceil(A*d)}else o=l,i=A;return this.text(n,r,s,a),s+=.2*A,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,s-A,o,i,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(sn.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},i=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},o=t.__arabicParser__.isArabicEndLetter=function(b){return i(b)&&a(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return i(b)&&s.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return i(b)&&a(b)&&e[b.charCodeAt(0)].length>=1};var A=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return i(b)&&a(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return i(b)&&a(b)&&e[b.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return i(b)&&a(b)&&e[b.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(b){var E=0,T=n,I="",k=0;for(E=0;E<b.length;E+=1)T[b.charCodeAt(E)]!==void 0?(k++,typeof(T=T[b.charCodeAt(E)])=="number"&&(I+=String.fromCharCode(T),T=n,k=0),E===b.length-1&&(T=n,I+=b.charAt(E-(k-1)),E-=k-1,k=0)):(T=n,I+=b.charAt(E-k),E-=k,k=0);return I};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(b,E,T){return i(b)?a(b)===!1?-1:!A(b)||!i(E)&&!i(T)||!i(T)&&o(E)||o(b)&&!i(E)||o(b)&&l(E)||o(b)&&o(E)?0:d(b)&&i(E)&&!o(E)&&i(T)&&A(T)?3:o(b)||!i(T)?1:2:-1},g=function(b){var E=0,T=0,I=0,k="",F="",D="",P=(b=b||"").split("\\s+"),S=[];for(E=0;E<P.length;E+=1){for(S.push(""),T=0;T<P[E].length;T+=1)k=P[E][T],F=P[E][T-1],D=P[E][T+1],i(k)?(I=p(k,F,D),S[E]+=I!==-1?String.fromCharCode(e[k.charCodeAt(0)][I]):k):S[E]+=k;S[E]=h(S[E])}return S.join(" ")},w=t.__arabicParser__.processArabic=t.processArabic=function(){var b,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(E)){var I=0;for(T=[],I=0;I<E.length;I+=1)Array.isArray(E[I])?T.push([g(E[I][0]),E[I][1],E[I][2]]):T.push([g(E[I])]);b=T}else b=g(E);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",w])}(sn.API),sn.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(sn.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var A=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return A},set:function(b){A=b}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(b){w=b}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,A){r.call(this);var d=(A=A||{}).fontSize||this.getFontSize(),h=A.font||this.getFont(),p=A.scaleFactor||this.internal.scaleFactor,g=0,w=0,b=0,E=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var T=A.maxWidth;T>0?typeof l=="string"?l=this.splitTextToSize(l,T):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(k,F){return k.concat(E.splitTextToSize(F,T))},[])):l=Array.isArray(l)?l:[l];for(var I=0;I<l.length;I++)g<(b=this.getStringUnitWidth(l[I],{font:h})*d)&&(g=b);return g!==0&&(w=l.length),{w:g/=p,h:Math.max((w*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var A=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return A.lineNumber!==void 0&&(A.lineNumber===l.lineNumber?(l.x=(A.x||0)+(A.width||0),l.y=A.y||0):A.y+A.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,g&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=A.y+A.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,A,d,h,p){if(r.call(this),!d)throw new Error("No data for PDF table.");var g,w,b,E,T=[],I=[],k=[],F={},D={},P=[],S=[],N=(p=p||{}).autoSize||!1,B=p.printHeaders!==!1,V=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,U=p.margins||Object.assign({width:this.getPageWidth()},e),L=typeof p.padding=="number"?p.padding:3,j=p.headerBackgroundColor||"#c8c8c8",G=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=G,this.setFontSize(V),h==null)I=T=Object.keys(d[0]),k=T.map(function(){return"left"});else if(Array.isArray(h)&&Mr(h[0])==="object")for(T=h.map(function(ee){return ee.name}),I=h.map(function(ee){return ee.prompt||ee.name||""}),k=h.map(function(ee){return ee.align||"left"}),g=0;g<h.length;g+=1)D[h[g].name]=h[g].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(I=T=h,k=T.map(function(){return"left"}));if(N||Array.isArray(h)&&typeof h[0]=="string")for(g=0;g<T.length;g+=1){for(F[E=T[g]]=d.map(function(ee){return ee[E]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(I[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=F[E],this.setFont(void 0,"normal"),b=0;b<w.length;b+=1)P.push(this.getTextDimensions(w[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[E]=Math.max.apply(null,P)+L+L,P=[]}if(B){var se={};for(g=0;g<T.length;g+=1)se[T[g]]={},se[T[g]].text=I[g],se[T[g]].align=k[g];var K=o.call(this,se,D);S=T.map(function(ee){return new a(l,A,D[ee],K,se[ee].text,void 0,se[ee].align)}),this.setTableHeaderRow(S),this.printHeaderRow(1,!1)}var Y=h.reduce(function(ee,he){return ee[he.name]=he.align,ee},{});for(g=0;g<d.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:d[g]},this);var oe=o.call(this,d[g],D);for(b=0;b<T.length;b+=1){var Z=d[g][T[b]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:b,data:Z},this),i.call(this,new a(l,A,D[T[b]],oe,Z,g+2,Y[T[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=A,this};var o=function(l,A){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(g){var w=l[g];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,A[g]-d-d)},this).map(function(g){return this.getLineHeightFactor()*g.length*h/p+d+d},this).reduce(function(g,w){return Math.max(g,w)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,A){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){d=this.internal.__cell__.tableHeaderRow[g].clone(),A&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=l;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,d),this.setTextColor(w)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(sn.API);var B8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},N8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],p_=T8(N8),k8=[100,200,300,400,500,600,700,800,900],zse=T8(k8);function g_(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return B8[a=a||"normal"]?a:"normal"}(t.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(a){return typeof p_[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,r].join(" ")}}}function sI(t,e,n,r){var s;for(s=n;s>=0&&s<e.length;s+=r)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=r)if(t[e[s]])return t[e[s]]}var Kse={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},aI={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function iI(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function qse(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},Kse,n.genericFontFamilies||{}),a=null,i=null,o=0;o<e.length;++o)if(s[(a=g_(e[o])).family]&&(a.family=s[a.family]),t.hasOwnProperty(a.family)){i=t[a.family];break}if(!(i=i||t[r]))throw new Error("Could not find a font-family for the rule '"+iI(a)+"' and default family '"+r+"'.");if(i=function(l,A){if(A[l])return A[l];var d=p_[l],h=d<=p_.normal?-1:1,p=sI(A,N8,d,h);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(a.stretch,i),i=function(l,A){if(A[l])return A[l];for(var d=B8[l],h=0;h<d.length;++h)if(A[d[h]])return A[d[h]];throw new Error("Could not find a matching font-style for "+l)}(a.style,i),!(i=function(l,A){if(A[l])return A[l];if(l===400&&A[500])return A[500];if(l===500&&A[400])return A[400];var d=zse[l],h=sI(A,k8,d,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(a.weight,i)))throw new Error("Failed to resolve a font for the rule '"+iI(a)+"'.");return i}function oI(t){return t.trimLeft()}function Wse(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function $se(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var V1,lI,cI,hC=["times"];(function(t){var e,n,r,s,a,i,o,l,A,d=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new l,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new i,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new i,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,A=new d}]);var h=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=O;Object.defineProperty(this,"pdf",{get:function(){return q}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Ue){J=!!Ue}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(Ue){ne=!!Ue}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(Ue){isNaN(Ue)||(ae=Ue)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(Ue){isNaN(Ue)||(ue=Ue)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(Ue){var Ee;typeof Ue=="number"?Ee=[Ue,Ue,Ue,Ue]:((Ee=new Array(4))[0]=Ue[0],Ee[1]=Ue.length>=2?Ue[1]:Ee[0],Ee[2]=Ue.length>=3?Ue[2]:Ee[0],Ee[3]=Ue.length>=4?Ue[3]:Ee[1]),A.margin=Ee}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(Ue){pe=Ue}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(Ue){ye=Ue}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(Ue){Ie=Ue}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(Ue){Ue instanceof d&&(A=Ue)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(Ue){A.path=Ue}});var we=[];Object.defineProperty(this,"ctxStack",{get:function(){return we},set:function(Ue){we=Ue}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ue){var Ee;Ee=p(Ue),this.ctx.fillStyle=Ee.style,this.ctx.isFillTransparent=Ee.a===0,this.ctx.fillOpacity=Ee.a,this.pdf.setFillColor(Ee.r,Ee.g,Ee.b,{a:Ee.a}),this.pdf.setTextColor(Ee.r,Ee.g,Ee.b,{a:Ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ue){var Ee=p(Ue);this.ctx.strokeStyle=Ee.style,this.ctx.isStrokeTransparent=Ee.a===0,this.ctx.strokeOpacity=Ee.a,Ee.a===0?this.pdf.setDrawColor(255,255,255):(Ee.a,this.pdf.setDrawColor(Ee.r,Ee.g,Ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ue){["butt","round","square"].indexOf(Ue)!==-1&&(this.ctx.lineCap=Ue,this.pdf.setLineCap(Ue))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ue){isNaN(Ue)||(this.ctx.lineWidth=Ue,this.pdf.setLineWidth(Ue))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ue){["bevel","round","miter"].indexOf(Ue)!==-1&&(this.ctx.lineJoin=Ue,this.pdf.setLineJoin(Ue))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ue){isNaN(Ue)||(this.ctx.miterLimit=Ue,this.pdf.setMiterLimit(Ue))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ue){this.ctx.textBaseline=Ue}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ue){["right","end","center","left","start"].indexOf(Ue)!==-1&&(this.ctx.textAlign=Ue)}});var ie=null;function De(Ue,Ee){if(ie===null){var ze=function(nt){var it=[];return Object.keys(nt).forEach(function(mt){nt[mt].forEach(function(Ct){var At=null;switch(Ct){case"bold":At={family:mt,weight:"bold"};break;case"italic":At={family:mt,style:"italic"};break;case"bolditalic":At={family:mt,weight:"bold",style:"italic"};break;case"":case"normal":At={family:mt}}At!==null&&(At.ref={name:mt,style:Ct},it.push(At))})}),it}(Ue.getFontList());ie=function(nt){for(var it={},mt=0;mt<nt.length;++mt){var Ct=g_(nt[mt]),At=Ct.family,kt=Ct.stretch,Ft=Ct.style,qt=Ct.weight;it[At]=it[At]||{},it[At][kt]=it[At][kt]||{},it[At][kt][Ft]=it[At][kt][Ft]||{},it[At][kt][Ft][qt]=Ct}return it}(ze.concat(Ee))}return ie}var st=null;Object.defineProperty(this,"fontFaces",{get:function(){return st},set:function(Ue){ie=null,st=Ue}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ue){var Ee;if(this.ctx.font=Ue,(Ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ue))!==null){var ze=Ee[1],nt=(Ee[2],Ee[3]),it=Ee[4],mt=(Ee[5],Ee[6]),Ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(it)[2];it=Math.floor(Ct==="px"?parseFloat(it)*this.pdf.internal.scaleFactor:Ct==="em"?parseFloat(it)*this.pdf.getFontSize():parseFloat(it)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(it);var At=function(Pt){var It,gt,xn=[],Wt=Pt.trim();if(Wt==="")return hC;if(Wt in aI)return[aI[Wt]];for(;Wt!=="";){switch(gt=null,It=(Wt=oI(Wt)).charAt(0)){case'"':case"'":gt=Wse(Wt.substring(1),It);break;default:gt=$se(Wt)}if(gt===null||(xn.push(gt[0]),(Wt=oI(gt[1]))!==""&&Wt.charAt(0)!==","))return hC;Wt=Wt.replace(/^,/,"")}return xn}(mt);if(this.fontFaces){var kt=qse(De(this.pdf,this.fontFaces),At.map(function(Pt){return{family:Pt,stretch:"normal",weight:nt,style:ze}}));this.pdf.setFont(kt.ref.name,kt.ref.style)}else{var Ft="";(nt==="bold"||parseInt(nt,10)>=700||ze==="bold")&&(Ft="bold"),ze==="italic"&&(Ft+="italic"),Ft.length===0&&(Ft="normal");for(var qt="",Mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Vt=0;Vt<At.length;Vt++){if(this.pdf.internal.getFont(At[Vt],Ft,{noFallback:!0,disableWarning:!0})!==void 0){qt=At[Vt];break}if(Ft==="bolditalic"&&this.pdf.internal.getFont(At[Vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)qt=At[Vt],Ft="bold";else if(this.pdf.internal.getFont(At[Vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){qt=At[Vt],Ft="normal";break}}if(qt===""){for(var Yt=0;Yt<At.length;Yt++)if(Mt[At[Yt]]){qt=Mt[At[Yt]];break}}qt=qt===""?"Times":qt,this.pdf.setFont(qt,Ft)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ue){this.ctx.globalCompositeOperation=Ue}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ue){this.ctx.globalAlpha=Ue}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ue){this.ctx.lineDashOffset=Ue,he.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ue){this.ctx.lineDash=Ue,he.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ue){this.ctx.ignoreClearRect=!!Ue}})};h.prototype.setLineDash=function(O){this.lineDash=O},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){F.call(this,"fill",!1)},h.prototype.stroke=function(){F.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(O,q){if(isNaN(O)||isNaN(q))throw Yr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new i(O,q));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new i(O,q)},h.prototype.closePath=function(){var O=new i(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Mr(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){O=new i(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(O.x,O.y)},h.prototype.lineTo=function(O,q){if(isNaN(O)||isNaN(q))throw Yr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new i(O,q));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new i(J.x,J.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},h.prototype.quadraticCurveTo=function(O,q,J,ne){if(isNaN(J)||isNaN(ne)||isNaN(O)||isNaN(q))throw Yr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new i(J,ne)),ue=this.ctx.transform.applyToPoint(new i(O,q));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new i(ae.x,ae.y)},h.prototype.bezierCurveTo=function(O,q,J,ne,ae,ue){if(isNaN(ae)||isNaN(ue)||isNaN(O)||isNaN(q)||isNaN(J)||isNaN(ne))throw Yr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new i(ae,ue)),ye=this.ctx.transform.applyToPoint(new i(O,q)),Ie=this.ctx.transform.applyToPoint(new i(J,ne));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:Ie.x,y2:Ie.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new i(pe.x,pe.y)},h.prototype.arc=function(O,q,J,ne,ae,ue){if(isNaN(O)||isNaN(q)||isNaN(J)||isNaN(ne)||isNaN(ae))throw Yr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new i(O,q));O=pe.x,q=pe.y;var ye=this.ctx.transform.applyToPoint(new i(0,J)),Ie=this.ctx.transform.applyToPoint(new i(0,0));J=Math.sqrt(Math.pow(ye.x-Ie.x,2)+Math.pow(ye.y-Ie.y,2))}Math.abs(ae-ne)>=2*Math.PI&&(ne=0,ae=2*Math.PI),this.path.push({type:"arc",x:O,y:q,radius:J,startAngle:ne,endAngle:ae,counterclockwise:ue})},h.prototype.arcTo=function(O,q,J,ne,ae){throw new Error("arcTo not implemented.")},h.prototype.rect=function(O,q,J,ne){if(isNaN(O)||isNaN(q)||isNaN(J)||isNaN(ne))throw Yr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,q),this.lineTo(O+J,q),this.lineTo(O+J,q+ne),this.lineTo(O,q+ne),this.lineTo(O,q),this.lineTo(O+J,q),this.lineTo(O,q)},h.prototype.fillRect=function(O,q,J,ne){if(isNaN(O)||isNaN(q)||isNaN(J)||isNaN(ne))throw Yr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,q,J,ne),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},h.prototype.strokeRect=function(O,q,J,ne){if(isNaN(O)||isNaN(q)||isNaN(J)||isNaN(ne))throw Yr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(O,q,J,ne),this.stroke())},h.prototype.clearRect=function(O,q,J,ne){if(isNaN(O)||isNaN(q)||isNaN(J)||isNaN(ne))throw Yr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,q,J,ne))},h.prototype.save=function(O){O=typeof O!="boolean"||O;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},h.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(q),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(O){var q,J,ne,ae;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))q=0,J=0,ne=0,ae=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(ue!==null)q=parseInt(ue[1]),J=parseInt(ue[2]),ne=parseInt(ue[3]),ae=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)q=parseInt(ue[1]),J=parseInt(ue[2]),ne=parseInt(ue[3]),ae=parseFloat(ue[4]);else{if(ae=1,typeof O=="string"&&O.charAt(0)!=="#"){var pe=new w8(O);O=pe.ok?pe.toHex():"#000000"}O.length===4?(q=O.substring(1,2),q+=q,J=O.substring(2,3),J+=J,ne=O.substring(3,4),ne+=ne):(q=O.substring(1,3),J=O.substring(3,5),ne=O.substring(5,7)),q=parseInt(q,16),J=parseInt(J,16),ne=parseInt(ne,16)}}return{r:q,g:J,b:ne,a:ae,style:O}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(O,q,J,ne){if(isNaN(q)||isNaN(J)||typeof O!="string")throw Yr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!g.call(this)){var ae=oe(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;L.call(this,{text:O,x:q,y:J,scale:ue,angle:ae,align:this.textAlign,maxWidth:ne})}},h.prototype.strokeText=function(O,q,J,ne){if(isNaN(q)||isNaN(J)||typeof O!="string")throw Yr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){ne=isNaN(ne)?void 0:ne;var ae=oe(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;L.call(this,{text:O,x:q,y:J,scale:ue,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:ne})}},h.prototype.measureText=function(O){if(typeof O!="string")throw Yr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,J=this.pdf.internal.scaleFactor,ne=q.internal.getFontSize(),ae=q.getStringUnitWidth(O)*ne/q.internal.scaleFactor,ue=function(pe){var ye=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this};return new ue({width:ae*=Math.round(96*J/72*1e4)/1e4})},h.prototype.scale=function(O,q){if(isNaN(O)||isNaN(q))throw Yr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l(O,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.rotate=function(O){if(isNaN(O))throw Yr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},h.prototype.translate=function(O,q){if(isNaN(O)||isNaN(q))throw Yr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,O,q);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.transform=function(O,q,J,ne,ae,ue){if(isNaN(O)||isNaN(q)||isNaN(J)||isNaN(ne)||isNaN(ae)||isNaN(ue))throw Yr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new l(O,q,J,ne,ae,ue);this.ctx.transform=this.ctx.transform.multiply(pe)},h.prototype.setTransform=function(O,q,J,ne,ae,ue){O=isNaN(O)?1:O,q=isNaN(q)?0:q,J=isNaN(J)?0:J,ne=isNaN(ne)?1:ne,ae=isNaN(ae)?0:ae,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(O,q,J,ne,ae,ue)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(O,q,J,ne,ae,ue,pe,ye,Ie){var we=this.pdf.getImageProperties(O),ie=1,De=1,st=1,Ue=1;ne!==void 0&&ye!==void 0&&(st=ye/ne,Ue=Ie/ae,ie=we.width/ne*ye/ne,De=we.height/ae*Ie/ae),ue===void 0&&(ue=q,pe=J,q=0,J=0),ne!==void 0&&ye===void 0&&(ye=ne,Ie=ae),ne===void 0&&ye===void 0&&(ye=we.width,Ie=we.height);for(var Ee,ze=this.ctx.transform.decompose(),nt=oe(ze.rotate.shx),it=new l,mt=(it=(it=(it=it.multiply(ze.translate)).multiply(ze.skew)).multiply(ze.scale)).applyToRectangle(new o(ue-q*st,pe-J*Ue,ne*ie,ae*De)),Ct=E.call(this,mt),At=[],kt=0;kt<Ct.length;kt+=1)At.indexOf(Ct[kt])===-1&&At.push(Ct[kt]);if(k(At),this.autoPaging)for(var Ft=At[0],qt=At[At.length-1],Mt=Ft;Mt<qt+1;Mt++){this.pdf.setPage(Mt);var Vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Yt=Mt===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],gt=Mt===1?0:Pt+(Mt-2)*It;if(this.ctx.clip_path.length!==0){var xn=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Ee,this.posX+this.margin[3],-gt+Yt+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=xn}var Wt=JSON.parse(JSON.stringify(mt));Wt=I([Wt],this.posX+this.margin[3],-gt+Yt+this.ctx.prevPageLastElemOffset)[0];var ir=(Mt>Ft||Mt<qt)&&b.call(this);ir&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,It,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Wt.x,Wt.y,Wt.w,Wt.h,null,null,nt),ir&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",mt.x,mt.y,mt.w,mt.h,null,null,nt)};var E=function(O,q,J){var ne=[];q=q||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":ne.push(Math.floor((O.y+ae)/J)+1);break;case"arc":ne.push(Math.floor((O.y+ae-O.radius)/J)+1),ne.push(Math.floor((O.y+ae+O.radius)/J)+1);break;case"qct":var ue=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);ne.push(Math.floor((ue.y+ae)/J)+1),ne.push(Math.floor((ue.y+ue.h+ae)/J)+1);break;case"bct":var pe=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);ne.push(Math.floor((pe.y+ae)/J)+1),ne.push(Math.floor((pe.y+pe.h+ae)/J)+1);break;case"rect":ne.push(Math.floor((O.y+ae)/J)+1),ne.push(Math.floor((O.y+O.h+ae)/J)+1)}for(var ye=0;ye<ne.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<ne[ye];)T.call(this);return ne},T=function(){var O=this.fillStyle,q=this.strokeStyle,J=this.font,ne=this.lineCap,ae=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=q,this.font=J,this.lineCap=ne,this.lineWidth=ae,this.lineJoin=ue},I=function(O,q,J){for(var ne=0;ne<O.length;ne++)switch(O[ne].type){case"bct":O[ne].x2+=q,O[ne].y2+=J;case"qct":O[ne].x1+=q,O[ne].y1+=J;case"mt":case"lt":case"arc":default:O[ne].x+=q,O[ne].y+=J}return O},k=function(O){return O.sort(function(q,J){return q-J})},F=function(O,q){for(var J,ne,ae=this.fillStyle,ue=this.strokeStyle,pe=this.lineCap,ye=this.lineWidth,Ie=Math.abs(ye*this.ctx.transform.scaleX),we=this.lineJoin,ie=JSON.parse(JSON.stringify(this.path)),De=JSON.parse(JSON.stringify(this.path)),st=[],Ue=0;Ue<De.length;Ue++)if(De[Ue].x!==void 0)for(var Ee=E.call(this,De[Ue]),ze=0;ze<Ee.length;ze+=1)st.indexOf(Ee[ze])===-1&&st.push(Ee[ze]);for(var nt=0;nt<st.length;nt++)for(;this.pdf.internal.getNumberOfPages()<st[nt];)T.call(this);if(k(st),this.autoPaging)for(var it=st[0],mt=st[st.length-1],Ct=it;Ct<mt+1;Ct++){this.pdf.setPage(Ct),this.fillStyle=ae,this.strokeStyle=ue,this.lineCap=pe,this.lineWidth=Ie,this.lineJoin=we;var At=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=Ct===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Mt=Ct===1?0:Ft+(Ct-2)*qt;if(this.ctx.clip_path.length!==0){var Vt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(J,this.posX+this.margin[3],-Mt+kt+this.ctx.prevPageLastElemOffset),D.call(this,O,!0),this.path=Vt}if(ne=JSON.parse(JSON.stringify(ie)),this.path=I(ne,this.posX+this.margin[3],-Mt+kt+this.ctx.prevPageLastElemOffset),q===!1||Ct===0){var Yt=(Ct>it||Ct<mt)&&b.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,qt,null).clip().discardPath()),D.call(this,O,q),Yt&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}else this.lineWidth=Ie,D.call(this,O,q),this.lineWidth=ye;this.path=ie},D=function(O,q){if((O!=="stroke"||q||!w.call(this))&&(O==="stroke"||q||!g.call(this))){for(var J,ne,ae=[],ue=this.path,pe=0;pe<ue.length;pe++){var ye=ue[pe];switch(ye.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:ye,deltas:[],abs:[]});break;case"lt":var Ie=ae.length;if(ue[pe-1]&&!isNaN(ue[pe-1].x)&&(J=[ye.x-ue[pe-1].x,ye.y-ue[pe-1].y],Ie>0)){for(;Ie>=0;Ie--)if(ae[Ie-1].close!==!0&&ae[Ie-1].begin!==!0){ae[Ie-1].deltas.push(J),ae[Ie-1].abs.push(ye);break}}break;case"bct":J=[ye.x1-ue[pe-1].x,ye.y1-ue[pe-1].y,ye.x2-ue[pe-1].x,ye.y2-ue[pe-1].y,ye.x-ue[pe-1].x,ye.y-ue[pe-1].y],ae[ae.length-1].deltas.push(J);break;case"qct":var we=ue[pe-1].x+2/3*(ye.x1-ue[pe-1].x),ie=ue[pe-1].y+2/3*(ye.y1-ue[pe-1].y),De=ye.x+2/3*(ye.x1-ye.x),st=ye.y+2/3*(ye.y1-ye.y),Ue=ye.x,Ee=ye.y;J=[we-ue[pe-1].x,ie-ue[pe-1].y,De-ue[pe-1].x,st-ue[pe-1].y,Ue-ue[pe-1].x,Ee-ue[pe-1].y],ae[ae.length-1].deltas.push(J);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(ye)}}ne=q?null:O==="stroke"?"stroke":"fill";for(var ze=!1,nt=0;nt<ae.length;nt++)if(ae[nt].arc)for(var it=ae[nt].abs,mt=0;mt<it.length;mt++){var Ct=it[mt];Ct.type==="arc"?N.call(this,Ct.x,Ct.y,Ct.radius,Ct.startAngle,Ct.endAngle,Ct.counterclockwise,void 0,q,!ze):j.call(this,Ct.x,Ct.y),ze=!0}else if(ae[nt].close===!0)this.pdf.internal.out("h"),ze=!1;else if(ae[nt].begin!==!0){var At=ae[nt].start.x,kt=ae[nt].start.y;G.call(this,ae[nt].deltas,At,kt),ze=!0}ne&&B.call(this,ne),q&&V.call(this)}},P=function(O){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-J;case"top":return O+q-J;case"hanging":return O+q-2*J;case"middle":return O+q/2-J;case"ideographic":return O;case"alphabetic":default:return O}},S=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(q,J){this.colorStops.push([q,J])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(O,q,J,ne,ae,ue,pe,ye,Ie){for(var we=K.call(this,J,ne,ae,ue),ie=0;ie<we.length;ie++){var De=we[ie];ie===0&&(Ie?U.call(this,De.x1+O,De.y1+q):j.call(this,De.x1+O,De.y1+q)),se.call(this,O,q,De.x2,De.y2,De.x3,De.y3,De.x4,De.y4)}ye?V.call(this):B.call(this,pe)},B=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(O,q){this.pdf.internal.out(n(O)+" "+r(q)+" m")},L=function(O){var q;switch(O.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var J=this.pdf.getTextDimensions(O.text),ne=P.call(this,O.y),ae=S.call(this,ne)-J.h,ue=this.ctx.transform.applyToPoint(new i(O.x,ne)),pe=this.ctx.transform.decompose(),ye=new l;ye=(ye=(ye=ye.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var Ie,we,ie,De=this.ctx.transform.applyToRectangle(new o(O.x,ne,J.w,J.h)),st=ye.applyToRectangle(new o(O.x,ae,J.w,J.h)),Ue=E.call(this,st),Ee=[],ze=0;ze<Ue.length;ze+=1)Ee.indexOf(Ue[ze])===-1&&Ee.push(Ue[ze]);if(k(Ee),this.autoPaging)for(var nt=Ee[0],it=Ee[Ee.length-1],mt=nt;mt<it+1;mt++){this.pdf.setPage(mt);var Ct=mt===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[2],Ft=kt-this.margin[0],qt=this.pdf.internal.pageSize.width-this.margin[1],Mt=qt-this.margin[3],Vt=mt===1?0:At+(mt-2)*Ft;if(this.ctx.clip_path.length!==0){var Yt=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Ie,this.posX+this.margin[3],-1*Vt+Ct),D.call(this,"fill",!0),this.path=Yt}var Pt=I([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-Vt+Ct+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*O.scale),ie=this.lineWidth,this.lineWidth=ie*O.scale);var It=this.autoPaging!=="text";if(It||Pt.y+Pt.h<=kt){if(It||Pt.y>=Ct&&Pt.x<=qt){var gt=It?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||qt-Pt.x)[0],xn=I([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-Vt+Ct+this.ctx.prevPageLastElemOffset)[0],Wt=It&&(mt>nt||mt<it)&&b.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,Ft,null).clip().discardPath()),this.pdf.text(gt,xn.x,xn.y,{angle:O.angle,align:q,renderingMode:O.renderingMode}),Wt&&this.pdf.restoreGraphicsState()}}else Pt.y<kt&&(this.ctx.prevPageLastElemOffset+=kt-Pt.y);O.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=ie)}else O.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*O.scale),ie=this.lineWidth,this.lineWidth=ie*O.scale),this.pdf.text(O.text,ue.x+this.posX,ue.y+this.posY,{angle:O.angle,align:q,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=ie)},j=function(O,q,J,ne){J=J||0,ne=ne||0,this.pdf.internal.out(n(O+J)+" "+r(q+ne)+" l")},G=function(O,q,J){return this.pdf.lines(O,q,J,null,null)},se=function(O,q,J,ne,ae,ue,pe,ye){this.pdf.internal.out([e(s(J+O)),e(a(ne+q)),e(s(ae+O)),e(a(ue+q)),e(s(pe+O)),e(a(ye+q)),"c"].join(" "))},K=function(O,q,J,ne){for(var ae=2*Math.PI,ue=Math.PI/2;q>J;)q-=ae;var pe=Math.abs(J-q);pe<ae&&ne&&(pe=ae-pe);for(var ye=[],Ie=ne?-1:1,we=q;pe>1e-5;){var ie=we+Ie*Math.min(pe,ue);ye.push(Y.call(this,O,we,ie)),pe-=Math.abs(ie-we),we=ie}return ye},Y=function(O,q,J){var ne=(J-q)/2,ae=O*Math.cos(ne),ue=O*Math.sin(ne),pe=ae,ye=-ue,Ie=pe*pe+ye*ye,we=Ie+pe*ae+ye*ue,ie=4/3*(Math.sqrt(2*Ie*we)-we)/(pe*ue-ye*ae),De=pe-ie*ye,st=ye+ie*pe,Ue=De,Ee=-st,ze=ne+q,nt=Math.cos(ze),it=Math.sin(ze);return{x1:O*Math.cos(q),y1:O*Math.sin(q),x2:De*nt-st*it,y2:De*it+st*nt,x3:Ue*nt-Ee*it,y3:Ue*it+Ee*nt,x4:O*Math.cos(J),y4:O*Math.sin(J)}},oe=function(O){return 180*O/Math.PI},Z=function(O,q,J,ne,ae,ue){var pe=O+.5*(J-O),ye=q+.5*(ne-q),Ie=ae+.5*(J-ae),we=ue+.5*(ne-ue),ie=Math.min(O,ae,pe,Ie),De=Math.max(O,ae,pe,Ie),st=Math.min(q,ue,ye,we),Ue=Math.max(q,ue,ye,we);return new o(ie,st,De-ie,Ue-st)},ee=function(O,q,J,ne,ae,ue,pe,ye){var Ie,we,ie,De,st,Ue,Ee,ze,nt,it,mt,Ct,At,kt,Ft=J-O,qt=ne-q,Mt=ae-J,Vt=ue-ne,Yt=pe-ae,Pt=ye-ue;for(we=0;we<41;we++)nt=(Ee=(ie=O+(Ie=we/40)*Ft)+Ie*((st=J+Ie*Mt)-ie))+Ie*(st+Ie*(ae+Ie*Yt-st)-Ee),it=(ze=(De=q+Ie*qt)+Ie*((Ue=ne+Ie*Vt)-De))+Ie*(Ue+Ie*(ue+Ie*Pt-Ue)-ze),we==0?(mt=nt,Ct=it,At=nt,kt=it):(mt=Math.min(mt,nt),Ct=Math.min(Ct,it),At=Math.max(At,nt),kt=Math.max(kt,it));return new o(Math.round(mt),Math.round(Ct),Math.round(At-mt),Math.round(kt-Ct))},he=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,q,J=(O=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:q}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(sn.API),function(t){var e=function(a){var i,o,l,A,d,h,p,g,w,b;for(o=[],l=0,A=(a+=i="\0\0\0\0".slice(a.length%4||4)).length;A>l;l+=4)(d=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(h=(d=((d=((d=((d=(d-(b=d%85))/85)-(w=d%85))/85)-(g=d%85))/85)-(p=d%85))/85)%85,o.push(h+33,p+33,g+33,w+33,b+33)):o.push(122);return function(E,T){for(var I=T;I>0;I--)E.pop()}(o,i.length),String.fromCharCode.apply(String,o)+"~>"},n=function(a){var i,o,l,A,d,h=String,p="length",g=255,w="charCodeAt",b="slice",E="replace";for(a[b](-2),a=a[b](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),l=[],A=0,d=(a+=i="uuuuu"[b](a[p]%5||5))[p];d>A;A+=5)o=52200625*(a[w](A)-33)+614125*(a[w](A+1)-33)+7225*(a[w](A+2)-33)+85*(a[w](A+3)-33)+(a[w](A+4)-33),l.push(g&o>>24,g&o>>16,g&o>>8,g&o);return function(T,I){for(var k=I;k>0;k--)T.pop()}(l,i[p]),h.fromCharCode.apply(h,l)},r=function(a){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),i.test(a)===!1)return"";for(var o="",l=0;l<a.length;l+=2)o+=String.fromCharCode("0x"+(a[l]+a[l+1]));return o},s=function(a){for(var i=new Uint8Array(a.length),o=a.length;o--;)i[o]=a.charCodeAt(o);return a=(i=u_(i)).reduce(function(l,A){return l+String.fromCharCode(A)},"")};t.processDataByFilters=function(a,i){var o=0,l=a||"",A=[];for(typeof(i=i||[])=="string"&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:l,reverseChain:A.reverse().join(" ")}}}(sn.API),function(t){t.loadFile=function(e,n,r){return function(s,a,i){a=a!==!1,i=typeof i=="function"?i:function(){};var o=void 0;try{o=function(l,A,d){var h=new XMLHttpRequest,p=0,g=function(w){var b=w.length,E=[],T=String.fromCharCode;for(p=0;p<b;p+=1)E.push(T(255&w.charCodeAt(p)));return E.join("")};if(h.open("GET",l,!A),h.overrideMimeType("text/plain; charset=x-user-defined"),A===!1&&(h.onload=function(){h.status===200?d(g(this.responseText)):d(void 0)}),h.send(null),A&&h.status===200)return g(h.responseText)}(s,a,i)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(sn.API),function(t){function e(){return(yn.html2canvas?Promise.resolve(yn.html2canvas):i_(()=>Promise.resolve().then(()=>hwe),void 0)).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function n(){return(yn.DOMPurify?Promise.resolve(yn.DOMPurify):i_(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var r=function(i){var o=Mr(i);return o==="undefined"?"undefined":o==="string"||i instanceof String?"string":o==="number"||i instanceof Number?"number":o==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":o==="object"?"object":"unknown"},s=function(i,o){var l=document.createElement(i);for(var A in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[A]=o.style[A];return l},a=function i(o){var l=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),A=i.convert(Promise.resolve(),l);return A=(A=A.setProgress(1,i,1,[i])).set(o)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(i,o){return i.__proto__=o||a.prototype,i},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(i,o){return this.then(function(){switch(o=o||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(n).then(function(l){return this.set({src:s("div",{innerHTML:i,dompurify:l})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},a.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(A,d){for(var h=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),p=A.firstChild;p;p=p.nextSibling)d!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(l(p,d));return A.nodeType===1&&(A.nodeName==="CANVAS"?(h.width=A.width,h.height=A.height,h.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(h.value=A.value),h.addEventListener("load",function(){h.scrollTop=A.scrollTop,h.scrollLeft=A.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(e).then(function(o){var l=this.opt.jsPDF,A=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=A,A)for(var p=0;p<A.length;++p){var g=A[p],w=g.src.find(function(b){return b.format==="truetype"});w&&l.addFont(w.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(i,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(i,o):this.outputPdf(i,o)},a.prototype.outputPdf=function(i,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,o)})},a.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},a.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(i){if(r(i)!=="object")return this;var o=Object.keys(i||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=i[l]};switch(l){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[l]=i[l]}}},this);return this.then(function(){return this.thenList(o)})},a.prototype.get=function(i,o){return this.then(function(){var l=i in a.template.prop?this.prop[i]:this.opt[i];return o?o(l):l})},a.prototype.setMargin=function(i){return this.then(function(){switch(r(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},a.prototype.setPageSize=function(i){function o(l,A){return Math.floor(l*A/72*96)}return this.then(function(){(i=i||sn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:o(i.inner.width,i.k),height:o(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},a.prototype.setProgress=function(i,o,l,A){return i!=null&&(this.progress.val=i),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(i,o,l,A){return this.setProgress(i?this.progress.val+i:null,o||null,l?this.progress.n+l:null,A?this.progress.stack.concat(A):null)},a.prototype.then=function(i,o){var l=this;return this.thenCore(i,o,function(A,d){return l.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,A),h}).then(A,d).then(function(h){return l.updateProgress(1),h})})},a.prototype.thenCore=function(i,o,l){l=l||Promise.prototype.then,i&&(i=i.bind(this)),o&&(o=o.bind(this));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),d=l.call(A,i,o);return a.convert(d,this.__proto__)},a.prototype.thenExternal=function(i,o){return Promise.prototype.then.call(this,i,o)},a.prototype.thenList=function(i){var o=this;return i.forEach(function(l){o=o.thenCore(l)}),o},a.prototype.catch=function(i){i&&(i=i.bind(this));var o=Promise.prototype.catch.call(this,i);return a.convert(o,this)},a.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},a.prototype.error=function(i){return this.then(function(){throw new Error(i)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,sn.getPageSize=function(i,o,l){if(Mr(i)==="object"){var A=i;i=A.orientation,o=A.unit||o,l=A.format||l}o=o||"mm",l=l||"a4",i=(""+(i||"P")).toLowerCase();var d,h=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+o}var g,w=0,b=0;if(p.hasOwnProperty(h))w=p[h][1]/d,b=p[h][0]/d;else try{w=l[1],b=l[0]}catch{throw new Error("Invalid format: "+l)}if(i==="p"||i==="portrait")i="p",b>w&&(g=b,b=w,w=g);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",w>b&&(g=b,b=w,w=g)}return{width:b,height:w,unit:o,k:d,orientation:i}},t.html=function(i,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(g_):null;var l=new a(o);return o.worker?l:l.from(i).doCallback()}}(sn.API),sn.API.addJS=function(t){return cI=t,this.internal.events.subscribe("postPutResources",function(){V1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(V1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),lI=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+cI+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){V1!==void 0&&lI!==void 0&&this.internal.out("/Names <</JavaScript "+V1+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),a=0;a<s.length;a++){var i=s[a],o=r.exec(i);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(i)}if(this.outline.createNamedDestinations){var A=this.internal.pages.length,d=[];for(a=0;a<A;a++){var h=n.internal.newObject();d.push(h);var p=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<d.length;a++)n.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,a){var i={title:s,options:a,children:[]};return r==null&&(r=this.root),r.children.push(i),i},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var i=r.children[a];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var l=n.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var A=0;A<r.children.length;A++)this.renderItems(r.children[A])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var a=0;a<s.children.length;a++)r.count++,this.count_r(r,s.children[a]);return r.count}}])}(sn.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,s,a,i,o){var l,A=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=i||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(h){for(var p,g=256*h.charCodeAt(4)+h.charCodeAt(5),w=h.length,b={width:0,height:0,numcomponents:1},E=4;E<w;E+=2){if(E+=g,e.indexOf(h.charCodeAt(E+1))!==-1){p=256*h.charCodeAt(E+5)+h.charCodeAt(E+6),b={width:256*h.charCodeAt(E+7)+h.charCodeAt(E+8),height:p,numcomponents:h.charCodeAt(E+9)};break}g=256*h.charCodeAt(E+2)+h.charCodeAt(E+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:A,index:r,alias:s}}return d}}(sn.API);var s0,G1,AI,uI,dI,Yse=function(){var t,e,n;function r(a){var i,o,l,A,d,h,p,g,w,b,E,T,I,k;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(i=this.readUInt32(),w=(function(){var F,D;for(D=[],F=0;F<4;++F)D.push(String.fromCharCode(this.data[this.pos++]));return D}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),A=this.readUInt16()||100,h.delay=1e3*d/A,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,i-=4),a=(h!=null?h.data:void 0)||this.imgData,T=0;0<=i?T<i:T>i;0<=i?++T:--T)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((b=l-this.transparency.indexed.length)>0)for(I=0;0<=b?I<b:I>b;0<=b?++I:--I)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":p=(E=this.read(i)).indexOf(0),g=String.fromCharCode.apply(String,E.slice(0,p)),this.text[g]=String.fromCharCode.apply(String,E.slice(p+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(k=this.colorType)===4||k===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var i,o;for(o=[],i=0;0<=a?i<a:i>a;0<=a?++i:--i)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var i=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*i),l=0,A=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function d(h,p,g,w){var b,E,T,I,k,F,D,P,S,N,B,V,U,L,j,G,se,K,Y,oe,Z,ee=Math.ceil((A.width-h)/g),he=Math.ceil((A.height-p)/w),O=A.width==ee&&A.height==he;for(L=i*ee,V=O?o:new Uint8Array(L*he),F=a.length,U=0,E=0;U<he&&l<F;){switch(a[l++]){case 0:for(I=se=0;se<L;I=se+=1)V[E++]=a[l++];break;case 1:for(I=K=0;K<L;I=K+=1)b=a[l++],k=I<i?0:V[E-i],V[E++]=(b+k)%256;break;case 2:for(I=Y=0;Y<L;I=Y+=1)b=a[l++],T=(I-I%i)/i,j=U&&V[(U-1)*L+T*i+I%i],V[E++]=(j+b)%256;break;case 3:for(I=oe=0;oe<L;I=oe+=1)b=a[l++],T=(I-I%i)/i,k=I<i?0:V[E-i],j=U&&V[(U-1)*L+T*i+I%i],V[E++]=(b+Math.floor((k+j)/2))%256;break;case 4:for(I=Z=0;Z<L;I=Z+=1)b=a[l++],T=(I-I%i)/i,k=I<i?0:V[E-i],U===0?j=G=0:(j=V[(U-1)*L+T*i+I%i],G=T&&V[(U-1)*L+(T-1)*i+I%i]),D=k+j-G,P=Math.abs(D-k),N=Math.abs(D-j),B=Math.abs(D-G),S=P<=N&&P<=B?k:N<=B?j:G,V[E++]=(b+S)%256;break;default:throw new Error("Invalid filter algorithm: "+a[l-1])}if(!O){var q=((p+U*w)*A.width+h)*i,J=U*L;for(I=0;I<ee;I+=1){for(var ne=0;ne<i;ne+=1)o[q++]=V[J++];q+=(g-1)*i}}U++}}return a=Bse(a),A.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),o},r.prototype.decodePalette=function(){var a,i,o,l,A,d,h,p,g;for(o=this.palette,d=this.transparency.indexed||[],A=new Uint8Array((d.length||0)+o.length),l=0,a=0,i=h=0,p=o.length;h<p;i=h+=3)A[l++]=o[i],A[l++]=o[i+1],A[l++]=o[i+2],A[l++]=(g=d[a++])!=null?g:255;return A},r.prototype.copyToImageData=function(a,i){var o,l,A,d,h,p,g,w,b,E,T;if(l=this.colors,b=null,o=this.hasAlphaChannel,this.palette.length&&(b=(T=this._decodedPalette)!=null?T:this._decodedPalette=this.decodePalette(),l=4,o=!0),w=(A=a.data||a).length,h=b||i,d=p=0,l===1)for(;d<w;)g=b?4*i[d/4]:p,E=h[g++],A[d++]=E,A[d++]=E,A[d++]=E,A[d++]=o?h[g++]:255,p=g;else for(;d<w;)g=b?4*i[d/4]:p,A[d++]=h[g++],A[d++]=h[g++],A[d++]=h[g++],A[d++]=o?h[g++]:255,p=g},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var s=function(){if(Object.prototype.toString.call(yn)==="[object Window]"){try{e=yn.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(a){var i;if(s()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(i=new Image).src=e.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var i,o,l,A,d,h,p,g;if(this.animation){for(g=[],o=d=0,h=(p=this.animation.frames).length;d<h;o=++d)i=p[o],l=a.createImageData(i.width,i.height),A=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(l,A),i.imageData=l,g.push(i.image=t(l));return g}},r.prototype.renderFrame=function(a,i){var o,l,A;return o=(l=this.animation.frames)[i],A=l[i-1],i===0&&a.clearRect(0,0,this.width,this.height),(A!=null?A.disposeOp:void 0)===1?a.clearRect(A.xOffset,A.yOffset,A.width,A.height):(A!=null?A.disposeOp:void 0)===2&&a.putImageData(A.imageData,A.xOffset,A.yOffset),o.blendOp===0&&a.clearRect(o.xOffset,o.yOffset,o.width,o.height),a.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(a){var i,o,l,A,d,h,p=this;return o=0,h=this.animation,A=h.numFrames,l=h.frames,d=h.numPlays,(i=function(){var g,w;if(g=o++%A,w=l[g],p.renderFrame(a,g),A>1&&o/A<d)return p.animation._timeout=setTimeout(i,w.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var i,o;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,i=a.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(o=i.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),i.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Jse(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,s=t[e++],a=s>>7,i=1<<(7&s)+1;t[e++],t[e++];var o=null,l=null;a&&(o=e,l=i,e+=3*i);var A=!0,d=[],h=0,p=null,g=0,w=null;for(this.width=n,this.height=r;A&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,w=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((U=t[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],(1&b)==0&&(p=null),g=b>>2&7,e++;break;case 254:for(;;){if(!((U=t[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var E=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,F=t[e++],D=F>>6&1,P=1<<(7&F)+1,S=o,N=l,B=!1;F>>7&&(B=!0,S=e,N=P,e+=3*P);var V=e;for(e++;;){var U;if(!((U=t[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}d.push({x:E,y:T,width:I,height:k,has_local_palette:B,palette_offset:S,palette_size:N,data_offset:V,data_length:e-V,transparent_index:p,interlaced:!!D,delay:h,disposal:g});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return w},this.frameInfo=function(L){if(L<0||L>=d.length)throw new Error("Frame index out of range.");return d[L]},this.decodeAndBlitFrameBGRA=function(L,j){var G=this.frameInfo(L),se=G.width*G.height,K=new Uint8Array(se);fI(t,G.data_offset,K,se);var Y=G.palette_offset,oe=G.transparent_index;oe===null&&(oe=256);var Z=G.width,ee=n-Z,he=Z,O=4*(G.y*n+G.x),q=4*((G.y+G.height)*n+G.x),J=O,ne=4*ee;G.interlaced===!0&&(ne+=4*n*7);for(var ae=8,ue=0,pe=K.length;ue<pe;++ue){var ye=K[ue];if(he===0&&(he=Z,(J+=ne)>=q&&(ne=4*ee+4*n*(ae-1),J=O+(Z+ee)*(ae<<1),ae>>=1)),ye===oe)J+=4;else{var Ie=t[Y+3*ye],we=t[Y+3*ye+1],ie=t[Y+3*ye+2];j[J++]=ie,j[J++]=we,j[J++]=Ie,j[J++]=255}--he}},this.decodeAndBlitFrameRGBA=function(L,j){var G=this.frameInfo(L),se=G.width*G.height,K=new Uint8Array(se);fI(t,G.data_offset,K,se);var Y=G.palette_offset,oe=G.transparent_index;oe===null&&(oe=256);var Z=G.width,ee=n-Z,he=Z,O=4*(G.y*n+G.x),q=4*((G.y+G.height)*n+G.x),J=O,ne=4*ee;G.interlaced===!0&&(ne+=4*n*7);for(var ae=8,ue=0,pe=K.length;ue<pe;++ue){var ye=K[ue];if(he===0&&(he=Z,(J+=ne)>=q&&(ne=4*ee+4*n*(ae-1),J=O+(Z+ee)*(ae<<1),ae>>=1)),ye===oe)J+=4;else{var Ie=t[Y+3*ye],we=t[Y+3*ye+1],ie=t[Y+3*ye+2];j[J++]=Ie,j[J++]=we,j[J++]=ie,j[J++]=255}--he}}}function fI(t,e,n,r){for(var s=t[e++],a=1<<s,i=a+1,o=i+1,l=s+1,A=(1<<l)-1,d=0,h=0,p=0,g=t[e++],w=new Int32Array(4096),b=null;;){for(;d<16&&g!==0;)h|=t[e++]<<d,d+=8,g===1?g=t[e++]:--g;if(d<l)break;var E=h&A;if(h>>=l,d-=l,E!==a){if(E===i)break;for(var T=E<o?E:b,I=0,k=T;k>a;)k=w[k]>>8,++I;var F=k;if(p+I+(T!==E?1:0)>r)return void Yr.log("Warning, gif stream longer than expected.");n[p++]=F;var D=p+=I;for(T!==E&&(n[p++]=F),k=T;I--;)k=w[k],n[--D]=255&k,k>>=8;b!==null&&o<4096&&(w[o++]=b<<8|F,o>=A+1&&l<12&&(++l,A=A<<1|1)),b=E}else o=i+1,A=(1<<(l=s+1))-1,b=null}return p!==r&&Yr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function mC(t){var e,n,r,s,a,i=Math.floor,o=new Array(64),l=new Array(64),A=new Array(64),d=new Array(64),h=new Array(65535),p=new Array(65535),g=new Array(64),w=new Array(64),b=[],E=0,T=7,I=new Array(64),k=new Array(64),F=new Array(64),D=new Array(256),P=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(O,q){for(var J=0,ne=0,ae=new Array,ue=1;ue<=16;ue++){for(var pe=1;pe<=O[ue];pe++)ae[q[ne]]=[],ae[q[ne]][0]=J,ae[q[ne]][1]=ue,ne++,J++;J*=2}return ae}function Y(O){for(var q=O[0],J=O[1]-1;J>=0;)q&1<<J&&(E|=1<<T),J--,--T<0&&(E==255?(oe(255),oe(0)):oe(E),T=7,E=0)}function oe(O){b.push(O)}function Z(O){oe(O>>8&255),oe(255&O)}function ee(O,q,J,ne,ae){for(var ue,pe=ae[0],ye=ae[240],Ie=function(it,mt){var Ct,At,kt,Ft,qt,Mt,Vt,Yt,Pt,It,gt=0;for(Pt=0;Pt<8;++Pt){Ct=it[gt],At=it[gt+1],kt=it[gt+2],Ft=it[gt+3],qt=it[gt+4],Mt=it[gt+5],Vt=it[gt+6];var xn=Ct+(Yt=it[gt+7]),Wt=Ct-Yt,ir=At+Vt,mn=At-Vt,Fn=kt+Mt,Er=kt-Mt,Bn=Ft+qt,Zs=Ft-qt,Xn=xn+Bn,Wr=xn-Bn,ls=ir+Fn,Dn=ir-Fn;it[gt]=Xn+ls,it[gt+4]=Xn-ls;var en=.707106781*(Dn+Wr);it[gt+2]=Wr+en,it[gt+6]=Wr-en;var jn=.382683433*((Xn=Zs+Er)-(Dn=mn+Wt)),ea=.5411961*Xn+jn,jr=1.306562965*Dn+jn,hs=.707106781*(ls=Er+mn),ma=Wt+hs,Ht=Wt-hs;it[gt+5]=Ht+ea,it[gt+3]=Ht-ea,it[gt+1]=ma+jr,it[gt+7]=ma-jr,gt+=8}for(gt=0,Pt=0;Pt<8;++Pt){Ct=it[gt],At=it[gt+8],kt=it[gt+16],Ft=it[gt+24],qt=it[gt+32],Mt=it[gt+40],Vt=it[gt+48];var or=Ct+(Yt=it[gt+56]),Zn=Ct-Yt,_r=At+Vt,kr=At-Vt,Qr=kt+Mt,de=kt-Mt,Be=Ft+qt,Ce=Ft-qt,_e=or+Be,Se=or-Be,Ne=_r+Qr,Ke=_r-Qr;it[gt]=_e+Ne,it[gt+32]=_e-Ne;var et=.707106781*(Ke+Se);it[gt+16]=Se+et,it[gt+48]=Se-et;var Qe=.382683433*((_e=Ce+de)-(Ke=kr+Zn)),We=.5411961*_e+Qe,Je=1.306562965*Ke+Qe,vt=.707106781*(Ne=de+kr),Nt=Zn+vt,Ot=Zn-vt;it[gt+40]=Ot+We,it[gt+24]=Ot-We,it[gt+8]=Nt+Je,it[gt+56]=Nt-Je,gt++}for(Pt=0;Pt<64;++Pt)It=it[Pt]*mt[Pt],g[Pt]=It>0?It+.5|0:It-.5|0;return g}(O,q),we=0;we<64;++we)w[S[we]]=Ie[we];var ie=w[0]-J;J=w[0],ie==0?Y(ne[0]):(Y(ne[p[ue=32767+ie]]),Y(h[ue]));for(var De=63;De>0&&w[De]==0;)De--;if(De==0)return Y(pe),J;for(var st,Ue=1;Ue<=De;){for(var Ee=Ue;w[Ue]==0&&Ue<=De;)++Ue;var ze=Ue-Ee;if(ze>=16){st=ze>>4;for(var nt=1;nt<=st;++nt)Y(ye);ze&=15}ue=32767+w[Ue],Y(ae[(ze<<4)+p[ue]]),Y(h[ue]),Ue++}return De!=63&&Y(pe),J}function he(O){O=Math.min(Math.max(O,1),100),a!=O&&(function(q){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var ae=i((J[ne]*q+50)/100);ae=Math.min(Math.max(ae,1),255),o[S[ne]]=ae}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var ye=i((ue[pe]*q+50)/100);ye=Math.min(Math.max(ye,1),255),l[S[pe]]=ye}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],we=0,ie=0;ie<8;ie++)for(var De=0;De<8;De++)A[we]=1/(o[S[we]]*Ie[ie]*Ie[De]*8),d[we]=1/(l[S[we]]*Ie[ie]*Ie[De]*8),we++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),a=O)}this.encode=function(O,q){q&&he(q),b=new Array,E=0,T=7,Z(65496),Z(65504),Z(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),Z(1),Z(1),oe(0),oe(0),function(){Z(65499),Z(132),oe(0);for(var At=0;At<64;At++)oe(o[At]);oe(1);for(var kt=0;kt<64;kt++)oe(l[kt])}(),function(At,kt){Z(65472),Z(17),oe(8),Z(kt),Z(At),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)}(O.width,O.height),function(){Z(65476),Z(418),oe(0);for(var At=0;At<16;At++)oe(N[At+1]);for(var kt=0;kt<=11;kt++)oe(B[kt]);oe(16);for(var Ft=0;Ft<16;Ft++)oe(V[Ft+1]);for(var qt=0;qt<=161;qt++)oe(U[qt]);oe(1);for(var Mt=0;Mt<16;Mt++)oe(L[Mt+1]);for(var Vt=0;Vt<=11;Vt++)oe(j[Vt]);oe(17);for(var Yt=0;Yt<16;Yt++)oe(G[Yt+1]);for(var Pt=0;Pt<=161;Pt++)oe(se[Pt])}(),Z(65498),Z(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0);var J=0,ne=0,ae=0;E=0,T=7,this.encode.displayName="_encode_";for(var ue,pe,ye,Ie,we,ie,De,st,Ue,Ee=O.data,ze=O.width,nt=O.height,it=4*ze,mt=0;mt<nt;){for(ue=0;ue<it;){for(we=it*mt+ue,De=-1,st=0,Ue=0;Ue<64;Ue++)ie=we+(st=Ue>>3)*it+(De=4*(7&Ue)),mt+st>=nt&&(ie-=it*(mt+1+st-nt)),ue+De>=it&&(ie-=ue+De-it+4),pe=Ee[ie++],ye=Ee[ie++],Ie=Ee[ie++],I[Ue]=(P[pe]+P[ye+256>>0]+P[Ie+512>>0]>>16)-128,k[Ue]=(P[pe+768>>0]+P[ye+1024>>0]+P[Ie+1280>>0]>>16)-128,F[Ue]=(P[pe+1280>>0]+P[ye+1536>>0]+P[Ie+1792>>0]>>16)-128;J=ee(I,A,J,e,r),ne=ee(k,d,ne,n,s),ae=ee(F,d,ae,n,s),ue+=32}mt+=8}if(T>=0){var Ct=[];Ct[1]=T+1,Ct[0]=(1<<T+1)-1,Y(Ct)}return Z(65497),new Uint8Array(b)},t=t||50,function(){for(var O=String.fromCharCode,q=0;q<256;q++)D[q]=O(q)}(),e=K(N,B),n=K(L,j),r=K(V,U),s=K(G,se),function(){for(var O=1,q=2,J=1;J<=15;J++){for(var ne=O;ne<q;ne++)p[32767+ne]=J,h[32767+ne]=[],h[32767+ne][1]=J,h[32767+ne][0]=ne;for(var ae=-(q-1);ae<=-O;ae++)p[32767+ae]=J,h[32767+ae]=[],h[32767+ae][1]=J,h[32767+ae][0]=q-1+ae;O<<=1,q<<=1}}(),function(){for(var O=0;O<256;O++)P[O]=19595*O,P[O+256>>0]=38470*O,P[O+512>>0]=7471*O+32768,P[O+768>>0]=-11059*O,P[O+1024>>0]=-21709*O,P[O+1280>>0]=32768*O+8421375,P[O+1536>>0]=-27439*O,P[O+1792>>0]=-5329*O}(),he(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function sc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function hI(t){function e(N){if(!N)throw Error("assert :P")}function n(N,B,V){for(var U=0;4>U;U++)if(N[B+U]!=V.charCodeAt(U))return!0;return!1}function r(N,B,V,U,L){for(var j=0;j<L;j++)N[B+j]=V[U+j]}function s(N,B,V,U){for(var L=0;L<U;L++)N[B+L]=V}function a(N){return new Int32Array(N)}function i(N,B){for(var V=[],U=0;U<N;U++)V.push(new B);return V}function o(N,B){var V=[];return function U(L,j,G){for(var se=G[j],K=0;K<se&&(L.push(G.length>j+1?[]:new B),!(G.length<j+1));K++)U(L[K],j+1,G)}(V,0,N),V}var l=function(){var N=this;function B(C,M){for(var z=1<<M-1>>>0;C&z;)z>>>=1;return z?(C&z-1)+z:C}function V(C,M,z,te,ce){e(!(te%z));do C[M+(te-=z)]=ce;while(0<te)}function U(C,M,z,te,ce){if(e(2328>=ce),512>=ce)var fe=a(512);else if((fe=a(ce))==null)return 0;return function(me,ge,be,Te,Le,Ye){var qe,Ve,pt=ge,at=1<<be,Me=a(16),Oe=a(16);for(e(Le!=0),e(Te!=null),e(me!=null),e(0<be),Ve=0;Ve<Le;++Ve){if(15<Te[Ve])return 0;++Me[Te[Ve]]}if(Me[0]==Le)return 0;for(Oe[1]=0,qe=1;15>qe;++qe){if(Me[qe]>1<<qe)return 0;Oe[qe+1]=Oe[qe]+Me[qe]}for(Ve=0;Ve<Le;++Ve)qe=Te[Ve],0<Te[Ve]&&(Ye[Oe[qe]++]=Ve);if(Oe[15]==1)return(Te=new L).g=0,Te.value=Ye[0],V(me,pt,1,at,Te),at;var ct,xt=-1,ft=at-1,Gt=0,Lt=1,tn=1,Qt=1<<be;for(Ve=0,qe=1,Le=2;qe<=be;++qe,Le<<=1){if(Lt+=tn<<=1,0>(tn-=Me[qe]))return 0;for(;0<Me[qe];--Me[qe])(Te=new L).g=qe,Te.value=Ye[Ve++],V(me,pt+Gt,Le,Qt,Te),Gt=B(Gt,qe)}for(qe=be+1,Le=2;15>=qe;++qe,Le<<=1){if(Lt+=tn<<=1,0>(tn-=Me[qe]))return 0;for(;0<Me[qe];--Me[qe]){if(Te=new L,(Gt&ft)!=xt){for(pt+=Qt,ct=1<<(xt=qe)-be;15>xt&&!(0>=(ct-=Me[xt]));)++xt,ct<<=1;at+=Qt=1<<(ct=xt-be),me[ge+(xt=Gt&ft)].g=ct+be,me[ge+xt].value=pt-ge-xt}Te.g=qe-be,Te.value=Ye[Ve++],V(me,pt+(Gt>>be),Le,Qt,Te),Gt=B(Gt,qe)}}return Lt!=2*Oe[15]-1?0:at}(C,M,z,te,ce,fe)}function L(){this.value=this.g=0}function j(){this.value=this.g=0}function G(){this.G=i(5,L),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Ps,j)}function se(C,M,z,te){e(C!=null),e(M!=null),e(2147483648>te),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=M,C.pa=z,C.Jd=M,C.Yc=z+te,C.Zc=4<=te?z+te-4+1:z,ue(C)}function K(C,M){for(var z=0;0<M--;)z|=ye(C,128)<<M;return z}function Y(C,M){var z=K(C,M);return pe(C)?-z:z}function oe(C,M,z,te){var ce,fe=0;for(e(C!=null),e(M!=null),e(4294967288>te),C.Sb=te,C.Ra=0,C.u=0,C.h=0,4<te&&(te=4),ce=0;ce<te;++ce)fe+=M[z+ce]<<8*ce;C.Ra=fe,C.bb=te,C.oa=M,C.pa=z}function Z(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<UA-8>>>0,++C.bb,C.u-=8;J(C)&&(C.h=1,C.u=0)}function ee(C,M){if(e(0<=M),!C.h&&M<=DA){var z=q(C)&Ic[M];return C.u+=M,Z(C),z}return C.h=1,C.u=0}function he(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(C){return C.Ra>>>(C.u&UA-1)>>>0}function J(C){return e(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>UA}function ne(C,M){C.u=M,C.h=J(C)}function ae(C){C.u>=Lu&&(e(C.u>=Lu),Z(C))}function ue(C){e(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(e(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function pe(C){return K(C,1)}function ye(C,M){var z=C.Ca;0>C.b&&ue(C);var te=C.b,ce=z*M>>>8,fe=(C.I>>>te>ce)+0;for(fe?(z-=ce,C.I-=ce+1<<te>>>0):z=ce+1,te=z,ce=0;256<=te;)ce+=8,te>>=8;return te=7^ce+di[te],C.b-=te,C.Ca=(z<<te)-1,fe}function Ie(C,M,z){C[M+0]=z>>24&255,C[M+1]=z>>16&255,C[M+2]=z>>8&255,C[M+3]=z>>0&255}function we(C,M){return C[M+0]<<0|C[M+1]<<8}function ie(C,M){return we(C,M)|C[M+2]<<16}function De(C,M){return we(C,M)|we(C,M+2)<<16}function st(C,M){var z=1<<M;return e(C!=null),e(0<M),C.X=a(z),C.X==null?0:(C.Mb=32-M,C.Xa=M,1)}function Ue(C,M){e(C!=null),e(M!=null),e(C.Xa==M.Xa),r(M.X,0,C.X,0,1<<M.Xa)}function Ee(){this.X=[],this.Xa=this.Mb=0}function ze(C,M,z,te){e(z!=null),e(te!=null);var ce=z[0],fe=te[0];return ce==0&&(ce=(C*fe+M/2)/M),fe==0&&(fe=(M*ce+C/2)/C),0>=ce||0>=fe?0:(z[0]=ce,te[0]=fe,1)}function nt(C,M){return C+(1<<M)-1>>>M}function it(C,M){return((4278255360&C)+(4278255360&M)>>>0&4278255360)+((16711935&C)+(16711935&M)>>>0&16711935)>>>0}function mt(C,M){N[M]=function(z,te,ce,fe,me,ge,be){var Te;for(Te=0;Te<me;++Te){var Le=N[C](ge[be+Te-1],ce,fe+Te);ge[be+Te]=it(z[te+Te],Le)}}}function Ct(){this.ud=this.hd=this.jd=0}function At(C,M){return((4278124286&(C^M))>>>1)+(C&M)>>>0}function kt(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function Ft(C,M){return kt(C+(C-M+.5>>1))}function qt(C,M,z){return Math.abs(M-z)-Math.abs(C-z)}function Mt(C,M,z,te,ce,fe,me){for(te=fe[me-1],z=0;z<ce;++z)fe[me+z]=te=it(C[M+z],te)}function Vt(C,M,z,te,ce){var fe;for(fe=0;fe<z;++fe){var me=C[M+fe],ge=me>>8&255,be=16711935&(be=(be=16711935&me)+((ge<<16)+ge));te[ce+fe]=(4278255360&me)+be>>>0}}function Yt(C,M){M.jd=C>>0&255,M.hd=C>>8&255,M.ud=C>>16&255}function Pt(C,M,z,te,ce,fe){var me;for(me=0;me<te;++me){var ge=M[z+me],be=ge>>>8,Te=ge,Le=255&(Le=(Le=ge>>>16)+((C.jd<<24>>24)*(be<<24>>24)>>>5));Te=255&(Te=(Te=Te+((C.hd<<24>>24)*(be<<24>>24)>>>5))+((C.ud<<24>>24)*(Le<<24>>24)>>>5)),ce[fe+me]=(4278255360&ge)+(Le<<16)+Te}}function It(C,M,z,te,ce){N[M]=function(fe,me,ge,be,Te,Le,Ye,qe,Ve){for(be=Ye;be<qe;++be)for(Ye=0;Ye<Ve;++Ye)Te[Le++]=ce(ge[te(fe[me++])])},N[C]=function(fe,me,ge,be,Te,Le,Ye){var qe=8>>fe.b,Ve=fe.Ea,pt=fe.K[0],at=fe.w;if(8>qe)for(fe=(1<<fe.b)-1,at=(1<<qe)-1;me<ge;++me){var Me,Oe=0;for(Me=0;Me<Ve;++Me)Me&fe||(Oe=te(be[Te++])),Le[Ye++]=ce(pt[Oe&at]),Oe>>=qe}else N["VP8LMapColor"+z](be,Te,pt,at,Le,Ye,me,ge,Ve)}}function gt(C,M,z,te,ce){for(z=M+z;M<z;){var fe=C[M++];te[ce++]=fe>>16&255,te[ce++]=fe>>8&255,te[ce++]=fe>>0&255}}function xn(C,M,z,te,ce){for(z=M+z;M<z;){var fe=C[M++];te[ce++]=fe>>16&255,te[ce++]=fe>>8&255,te[ce++]=fe>>0&255,te[ce++]=fe>>24&255}}function Wt(C,M,z,te,ce){for(z=M+z;M<z;){var fe=(me=C[M++])>>16&240|me>>12&15,me=me>>0&240|me>>28&15;te[ce++]=fe,te[ce++]=me}}function ir(C,M,z,te,ce){for(z=M+z;M<z;){var fe=(me=C[M++])>>16&248|me>>13&7,me=me>>5&224|me>>3&31;te[ce++]=fe,te[ce++]=me}}function mn(C,M,z,te,ce){for(z=M+z;M<z;){var fe=C[M++];te[ce++]=fe>>0&255,te[ce++]=fe>>8&255,te[ce++]=fe>>16&255}}function Fn(C,M,z,te,ce,fe){if(fe==0)for(z=M+z;M<z;)Ie(te,((fe=C[M++])[0]>>24|fe[1]>>8&65280|fe[2]<<8&16711680|fe[3]<<24)>>>0),ce+=32;else r(te,ce,C,M,z)}function Er(C,M){N[M][0]=N[C+"0"],N[M][1]=N[C+"1"],N[M][2]=N[C+"2"],N[M][3]=N[C+"3"],N[M][4]=N[C+"4"],N[M][5]=N[C+"5"],N[M][6]=N[C+"6"],N[M][7]=N[C+"7"],N[M][8]=N[C+"8"],N[M][9]=N[C+"9"],N[M][10]=N[C+"10"],N[M][11]=N[C+"11"],N[M][12]=N[C+"12"],N[M][13]=N[C+"13"],N[M][14]=N[C+"0"],N[M][15]=N[C+"0"]}function Bn(C){return C==ff||C==Qc||C==zl||C==ju}function Zs(){this.eb=[],this.size=this.A=this.fb=0}function Xn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Zs,this.f.kb=new Xn,this.sd=null}function ls(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function en(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function jn(C,M){var z=C.T,te=M.ba.f.RGBA,ce=te.eb,fe=te.fb+C.ka*te.A,me=aa[M.ba.S],ge=C.y,be=C.O,Te=C.f,Le=C.N,Ye=C.ea,qe=C.W,Ve=M.cc,pt=M.dc,at=M.Mc,Me=M.Nc,Oe=C.ka,ct=C.ka+C.T,xt=C.U,ft=xt+1>>1;for(Oe==0?me(ge,be,null,null,Te,Le,Ye,qe,Te,Le,Ye,qe,ce,fe,null,null,xt):(me(M.ec,M.fc,ge,be,Ve,pt,at,Me,Te,Le,Ye,qe,ce,fe-te.A,ce,fe,xt),++z);Oe+2<ct;Oe+=2)Ve=Te,pt=Le,at=Ye,Me=qe,Le+=C.Rc,qe+=C.Rc,fe+=2*te.A,me(ge,(be+=2*C.fa)-C.fa,ge,be,Ve,pt,at,Me,Te,Le,Ye,qe,ce,fe-te.A,ce,fe,xt);return be+=C.fa,C.j+ct<C.o?(r(M.ec,M.fc,ge,be,xt),r(M.cc,M.dc,Te,Le,ft),r(M.Mc,M.Nc,Ye,qe,ft),z--):1&ct||me(ge,be,null,null,Te,Le,Ye,qe,Te,Le,Ye,qe,ce,fe+te.A,null,null,xt),z}function ea(C,M,z){var te=C.F,ce=[C.J];if(te!=null){var fe=C.U,me=M.ba.S,ge=me==jA||me==zl;M=M.ba.f.RGBA;var be=[0],Te=C.ka;be[0]=C.T,C.Kb&&(Te==0?--be[0]:(--Te,ce[0]-=C.width),C.j+C.ka+C.T==C.o&&(be[0]=C.o-C.j-Te));var Le=M.eb;Te=M.fb+Te*M.A,C=Gn(te,ce[0],C.width,fe,be,Le,Te+(ge?0:3),M.A),e(z==be),C&&Bn(me)&&ji(Le,Te,ge,fe,be,M.A)}return 0}function jr(C){var M=C.ma,z=M.ba.S,te=11>z,ce=z==Ou||z==df||z==jA||z==Gl||z==12||Bn(z);if(M.memory=null,M.Ib=null,M.Jb=null,M.Nd=null,!kc(M.Oa,C,ce?11:12))return 0;if(ce&&Bn(z)&&Et(),C.da)alert("todo:use_scaling");else{if(te){if(M.Ib=en,C.Kb){if(z=C.U+1>>1,M.memory=a(C.U+2*z),M.memory==null)return 0;M.ec=M.memory,M.fc=0,M.cc=M.ec,M.dc=M.fc+C.U,M.Mc=M.cc,M.Nc=M.dc+z,M.Ib=jn,Et()}}else alert("todo:EmitYUV");ce&&(M.Jb=ea,te&&He())}if(te&&!Ux){for(C=0;256>C;++C)Sw[C]=89858*(C-128)+js>>ul,pf[C]=-22014*(C-128)+js,jm[C]=-45773*(C-128),Qs[C]=113618*(C-128)+js>>ul;for(C=Gc;C<Uh;++C)M=76283*(C-16)+js>>ul,gf[C-Gc]=xr(M,255),Qm[C-Gc]=xr(M+8>>4,15);Ux=1}return 1}function hs(C){var M=C.ma,z=C.U,te=C.T;return e(!(1&C.ka)),0>=z||0>=te?0:(z=M.Ib(C,M),M.Jb!=null&&M.Jb(C,M,z),M.Dc+=z,1)}function ma(C){C.ma.memory=null}function Ht(C,M,z,te){return ee(C,8)!=47?0:(M[0]=ee(C,14)+1,z[0]=ee(C,14)+1,te[0]=ee(C,1),ee(C,3)!=0?0:!C.h)}function or(C,M){if(4>C)return C+1;var z=C-2>>1;return(2+(1&C)<<z)+ee(M,z)+1}function Zn(C,M){return 120<M?M-120:1<=(z=((z=ql[M-1])>>4)*C+(8-(15&z)))?z:1;var z}function _r(C,M,z){var te=q(z),ce=C[M+=255&te].g-8;return 0<ce&&(ne(z,z.u+8),te=q(z),M+=C[M].value,M+=te&(1<<ce)-1),ne(z,z.u+C[M].g),C[M].value}function kr(C,M,z){return z.g+=C.g,z.value+=C.value<<M>>>0,e(8>=z.g),C.g}function Qr(C,M,z){var te=C.xc;return e((M=te==0?0:C.vc[C.md*(z>>te)+(M>>te)])<C.Wb),C.Ya[M]}function de(C,M,z,te){var ce=C.ab,fe=C.c*M,me=C.C;M=me+M;var ge=z,be=te;for(te=C.Ta,z=C.Ua;0<ce--;){var Te=C.gc[ce],Le=me,Ye=M,qe=ge,Ve=be,pt=(be=te,ge=z,Te.Ea);switch(e(Le<Ye),e(Ye<=Te.nc),Te.hc){case 2:Bh(qe,Ve,(Ye-Le)*pt,be,ge);break;case 0:var at=Le,Me=Ye,Oe=be,ct=ge,xt=(Qt=Te).Ea;at==0&&(Pm(qe,Ve,null,null,1,Oe,ct),Mt(qe,Ve+1,0,0,xt-1,Oe,ct+1),Ve+=xt,ct+=xt,++at);for(var ft=1<<Qt.b,Gt=ft-1,Lt=nt(xt,Qt.b),tn=Qt.K,Qt=Qt.w+(at>>Qt.b)*Lt;at<Me;){var Ar=tn,vr=Qt,Hn=1;for(Af(qe,Ve,Oe,ct-xt,1,Oe,ct);Hn<xt;){var Mn=(Hn&~Gt)+ft;Mn>xt&&(Mn=xt),(0,Ql[Ar[vr++]>>8&15])(qe,Ve+ +Hn,Oe,ct+Hn-xt,Mn-Hn,Oe,ct+Hn),Hn=Mn}Ve+=xt,ct+=xt,++at&Gt||(Qt+=Lt)}Ye!=Te.nc&&r(be,ge-pt,be,ge+(Ye-Le-1)*pt,pt);break;case 1:for(pt=qe,Me=Ve,xt=(qe=Te.Ea)-(ct=qe&~(Oe=(Ve=1<<Te.b)-1)),at=nt(qe,Te.b),ft=Te.K,Te=Te.w+(Le>>Te.b)*at;Le<Ye;){for(Gt=ft,Lt=Te,tn=new Ct,Qt=Me+ct,Ar=Me+qe;Me<Qt;)Yt(Gt[Lt++],tn),Rc(tn,pt,Me,Ve,be,ge),Me+=Ve,ge+=Ve;Me<Ar&&(Yt(Gt[Lt++],tn),Rc(tn,pt,Me,xt,be,ge),Me+=xt,ge+=xt),++Le&Oe||(Te+=at)}break;case 3:if(qe==be&&Ve==ge&&0<Te.b){for(Me=be,qe=pt=ge+(Ye-Le)*pt-(ct=(Ye-Le)*nt(Te.Ea,Te.b)),Ve=be,Oe=ge,at=[],ct=(xt=ct)-1;0<=ct;--ct)at[ct]=Ve[Oe+ct];for(ct=xt-1;0<=ct;--ct)Me[qe+ct]=at[ct];no(Te,Le,Ye,be,pt,be,ge)}else no(Te,Le,Ye,qe,Ve,be,ge)}ge=te,be=z}be!=z&&r(te,z,ge,be,fe)}function Be(C,M){var z=C.V,te=C.Ba+C.c*C.C,ce=M-C.C;if(e(M<=C.l.o),e(16>=ce),0<ce){var fe=C.l,me=C.Ta,ge=C.Ua,be=fe.width;if(de(C,ce,z,te),ce=ge=[ge],e((z=C.C)<(te=M)),e(fe.v<fe.va),te>fe.o&&(te=fe.o),z<fe.j){var Te=fe.j-z;z=fe.j,ce[0]+=Te*be}if(z>=te?z=0:(ce[0]+=4*fe.v,fe.ka=z-fe.j,fe.U=fe.va-fe.v,fe.T=te-z,z=1),z){if(ge=ge[0],11>(z=C.ca).S){var Le=z.f.RGBA,Ye=(te=z.S,ce=fe.U,fe=fe.T,Te=Le.eb,Le.A),qe=fe;for(Le=Le.fb+C.Ma*Le.A;0<qe--;){var Ve=me,pt=ge,at=ce,Me=Te,Oe=Le;switch(te){case Ra:za(Ve,pt,at,Me,Oe);break;case Ou:ya(Ve,pt,at,Me,Oe);break;case ff:ya(Ve,pt,at,Me,Oe),ji(Me,Oe,0,at,1,0);break;case ol:To(Ve,pt,at,Me,Oe);break;case df:Fn(Ve,pt,at,Me,Oe,1);break;case Qc:Fn(Ve,pt,at,Me,Oe,1),ji(Me,Oe,0,at,1,0);break;case jA:Fn(Ve,pt,at,Me,Oe,0);break;case zl:Fn(Ve,pt,at,Me,Oe,0),ji(Me,Oe,1,at,1,0);break;case Gl:Dc(Ve,pt,at,Me,Oe);break;case ju:Dc(Ve,pt,at,Me,Oe),Vn(Me,Oe,at,1,0);break;case kh:fi(Ve,pt,at,Me,Oe);break;default:e(0)}ge+=be,Le+=Ye}C.Ma+=fe}else alert("todo:EmitRescaledRowsYUVA");e(C.Ma<=z.height)}}C.C=M,e(C.C<=C.i)}function Ce(C){var M;if(0<C.ua)return 0;for(M=0;M<C.Wb;++M){var z=C.Ya[M].G,te=C.Ya[M].H;if(0<z[1][te[1]+0].g||0<z[2][te[2]+0].g||0<z[3][te[3]+0].g)return 0}return 1}function _e(C,M,z,te,ce,fe){if(C.Z!=0){var me=C.qd,ge=C.rd;for(e(cl[C.Z]!=null);M<z;++M)cl[C.Z](me,ge,te,ce,te,ce,fe),me=te,ge=ce,ce+=fe;C.qd=me,C.rd=ge}}function Se(C,M){var z=C.l.ma,te=z.Z==0||z.Z==1?C.l.j:C.C;if(te=C.C<te?te:C.C,e(M<=C.l.o),M>te){var ce=C.l.width,fe=z.ca,me=z.tb+ce*te,ge=C.V,be=C.Ba+C.c*te,Te=C.gc;e(C.ab==1),e(Te[0].hc==3),Fc(Te[0],te,M,ge,be,fe,me),_e(z,te,M,fe,me,ce)}C.C=C.Ma=M}function Ne(C,M,z,te,ce,fe,me){var ge=C.$/te,be=C.$%te,Te=C.m,Le=C.s,Ye=z+C.$,qe=Ye;ce=z+te*ce;var Ve=z+te*fe,pt=280+Le.ua,at=C.Pb?ge:16777216,Me=0<Le.ua?Le.Wa:null,Oe=Le.wc,ct=Ye<Ve?Qr(Le,be,ge):null;e(C.C<fe),e(Ve<=ce);var xt=!1;e:for(;;){for(;xt||Ye<Ve;){var ft=0;if(ge>=at){var Gt=Ye-z;e((at=C).Pb),at.wd=at.m,at.xd=Gt,0<at.s.ua&&Ue(at.s.Wa,at.s.vb),at=ge+Fx}if(be&Oe||(ct=Qr(Le,be,ge)),e(ct!=null),ct.Qb&&(M[Ye]=ct.qb,xt=!0),!xt)if(ae(Te),ct.jc){ft=Te,Gt=M;var Lt=Ye,tn=ct.pd[q(ft)&Ps-1];e(ct.jc),256>tn.g?(ne(ft,ft.u+tn.g),Gt[Lt]=tn.value,ft=0):(ne(ft,ft.u+tn.g-256),e(256<=tn.value),ft=tn.value),ft==0&&(xt=!0)}else ft=_r(ct.G[0],ct.H[0],Te);if(Te.h)break;if(xt||256>ft){if(!xt)if(ct.nd)M[Ye]=(ct.qb|ft<<8)>>>0;else{if(ae(Te),xt=_r(ct.G[1],ct.H[1],Te),ae(Te),Gt=_r(ct.G[2],ct.H[2],Te),Lt=_r(ct.G[3],ct.H[3],Te),Te.h)break;M[Ye]=(Lt<<24|xt<<16|ft<<8|Gt)>>>0}if(xt=!1,++Ye,++be>=te&&(be=0,++ge,me!=null&&ge<=fe&&!(ge%16)&&me(C,ge),Me!=null))for(;qe<Ye;)ft=M[qe++],Me.X[(506832829*ft&4294967295)>>>Me.Mb]=ft}else if(280>ft){if(ft=or(ft-256,Te),Gt=_r(ct.G[4],ct.H[4],Te),ae(Te),Gt=Zn(te,Gt=or(Gt,Te)),Te.h)break;if(Ye-z<Gt||ce-Ye<ft)break e;for(Lt=0;Lt<ft;++Lt)M[Ye+Lt]=M[Ye+Lt-Gt];for(Ye+=ft,be+=ft;be>=te;)be-=te,++ge,me!=null&&ge<=fe&&!(ge%16)&&me(C,ge);if(e(Ye<=ce),be&Oe&&(ct=Qr(Le,be,ge)),Me!=null)for(;qe<Ye;)ft=M[qe++],Me.X[(506832829*ft&4294967295)>>>Me.Mb]=ft}else{if(!(ft<pt))break e;for(xt=ft-280,e(Me!=null);qe<Ye;)ft=M[qe++],Me.X[(506832829*ft&4294967295)>>>Me.Mb]=ft;ft=Ye,e(!(xt>>>(Gt=Me).Xa)),M[ft]=Gt.X[xt],xt=!0}xt||e(Te.h==J(Te))}if(C.Pb&&Te.h&&Ye<ce)e(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&Ue(C.s.vb,C.s.Wa);else{if(Te.h)break e;me!=null&&me(C,ge>fe?fe:ge),C.a=0,C.$=Ye-z}return 1}return C.a=3,0}function Ke(C){e(C!=null),C.vc=null,C.yc=null,C.Ya=null;var M=C.Wa;M!=null&&(M.X=null),C.vb=null,e(C!=null)}function et(){var C=new Du;return C==null?null:(C.a=0,C.xb=Qu,Er("Predictor","VP8LPredictors"),Er("Predictor","VP8LPredictors_C"),Er("PredictorAdd","VP8LPredictorsAdd"),Er("PredictorAdd","VP8LPredictorsAdd_C"),Bh=Vt,Rc=Pt,za=gt,ya=xn,Dc=Wt,fi=ir,To=mn,N.VP8LMapColor32b=ra,N.VP8LMapColor8b=uf,C)}function Qe(C,M,z,te,ce){var fe=1,me=[C],ge=[M],be=te.m,Te=te.s,Le=null,Ye=0;e:for(;;){if(z)for(;fe&&ee(be,1);){var qe=me,Ve=ge,pt=te,at=1,Me=pt.m,Oe=pt.gc[pt.ab],ct=ee(Me,2);if(pt.Oc&1<<ct)fe=0;else{switch(pt.Oc|=1<<ct,Oe.hc=ct,Oe.Ea=qe[0],Oe.nc=Ve[0],Oe.K=[null],++pt.ab,e(4>=pt.ab),ct){case 0:case 1:Oe.b=ee(Me,3)+2,at=Qe(nt(Oe.Ea,Oe.b),nt(Oe.nc,Oe.b),0,pt,Oe.K),Oe.K=Oe.K[0];break;case 3:var xt,ft=ee(Me,8)+1,Gt=16<ft?0:4<ft?1:2<ft?2:3;if(qe[0]=nt(Oe.Ea,Gt),Oe.b=Gt,xt=at=Qe(ft,1,0,pt,Oe.K)){var Lt,tn=ft,Qt=Oe,Ar=1<<(8>>Qt.b),vr=a(Ar);if(vr==null)xt=0;else{var Hn=Qt.K[0],Mn=Qt.w;for(vr[0]=Qt.K[0][0],Lt=1;Lt<1*tn;++Lt)vr[Lt]=it(Hn[Mn+Lt],vr[Lt-1]);for(;Lt<4*Ar;++Lt)vr[Lt]=0;Qt.K[0]=null,Qt.K[0]=vr,xt=1}}at=xt;break;case 2:break;default:e(0)}fe=at}}if(me=me[0],ge=ge[0],fe&&ee(be,1)&&!(fe=1<=(Ye=ee(be,4))&&11>=Ye)){te.a=3;break e}var Tr;if(Tr=fe)t:{var yr,Tn,Fr,An=te,vn=me,cr=ge,ur=Ye,ia=z,Hs=An.m,gs=An.s,xs=[null],Ns=1,io=0,wr=HA[ur];n:for(;;){if(ia&&ee(Hs,1)){var ks=ee(Hs,3)+2,ko=nt(vn,ks),zc=nt(cr,ks),zA=ko*zc;if(!Qe(ko,zc,0,An,xs))break n;for(xs=xs[0],gs.xc=ks,yr=0;yr<zA;++yr){var Kc=xs[yr]>>8&65535;xs[yr]=Kc,Kc>=Ns&&(Ns=Kc+1)}}if(Hs.h)break n;for(Tn=0;5>Tn;++Tn){var Jr=Qi[Tn];!Tn&&0<ur&&(Jr+=1<<ur),io<Jr&&(io=Jr)}var xf=i(Ns*wr,L),Lh=Ns,qa=i(Lh,G);if(qa==null)var es=null;else e(65536>=Lh),es=qa;var KA=a(io);if(es==null||KA==null||xf==null){An.a=1;break n}var qc=xf;for(yr=Fr=0;yr<Ns;++yr){var mi=es[yr],Wc=mi.G,pi=mi.H,vf=0,Vu=1,Mh=0;for(Tn=0;5>Tn;++Tn){Jr=Qi[Tn],Wc[Tn]=qc,pi[Tn]=Fr,!Tn&&0<ur&&(Jr+=1<<ur);s:{var yf,Ph=Jr,wf=An,Gu=KA,Px=qc,Ox=Fr,bf=0,Jl=wf.m,Bw=ee(Jl,1);if(s(Gu,0,0,Ph),Bw){var jx=ee(Jl,1)+1,Qx=ee(Jl,1),Hm=ee(Jl,Qx==0?1:8);Gu[Hm]=1,jx==2&&(Gu[Hm=ee(Jl,8)]=1);var zu=1}else{var Vm=a(19),Gm=ee(Jl,4)+4;if(19<Gm){wf.a=3;var Cf=0;break s}for(yf=0;yf<Gm;++yf)Vm[Kl[yf]]=ee(Jl,3);var Oh=void 0,Ku=void 0,Hx=wf,Vx=Vm,Xl=Ph,Ef=Gu,jh=0,Io=Hx.m,qu=8,zm=i(128,L);r:for(;U(zm,0,7,Vx,19);){if(ee(Io,1)){var Gx=2+2*ee(Io,3);if((Oh=2+ee(Io,Gx))>Xl)break r}else Oh=Xl;for(Ku=0;Ku<Xl&&Oh--;){ae(Io);var Km=zm[0+(127&q(Io))];ne(Io,Io.u+Km.g);var qA=Km.value;if(16>qA)Ef[Ku++]=qA,qA!=0&&(qu=qA);else{var zx=qA==16,qm=qA-16,Wm=ao[qm],$m=ee(Io,Ih[qm])+Wm;if(Ku+$m>Xl)break r;for(var Kx=zx?qu:0;0<$m--;)Ef[Ku++]=Kx}}jh=1;break r}jh||(Hx.a=3),zu=jh}(zu=zu&&!Jl.h)&&(bf=U(Px,Ox,8,Gu,Ph)),zu&&bf!=0?Cf=bf:(wf.a=3,Cf=0)}if(Cf==0)break n;if(Vu&&QA[Tn]==1&&(Vu=qc[Fr].g==0),vf+=qc[Fr].g,Fr+=Cf,3>=Tn){var WA,Qh=KA[0];for(WA=1;WA<Jr;++WA)KA[WA]>Qh&&(Qh=KA[WA]);Mh+=Qh}}if(mi.nd=Vu,mi.Qb=0,Vu&&(mi.qb=(Wc[3][pi[3]+0].value<<24|Wc[1][pi[1]+0].value<<16|Wc[2][pi[2]+0].value)>>>0,vf==0&&256>Wc[0][pi[0]+0].value&&(mi.Qb=1,mi.qb+=Wc[0][pi[0]+0].value<<8)),mi.jc=!mi.Qb&&6>Mh,mi.jc){var _f,Zl=mi;for(_f=0;_f<Ps;++_f){var dl=_f,ec=Zl.pd[dl],Sf=Zl.G[0][Zl.H[0]+dl];256<=Sf.value?(ec.g=Sf.g+256,ec.value=Sf.value):(ec.g=0,ec.value=0,dl>>=kr(Sf,8,ec),dl>>=kr(Zl.G[1][Zl.H[1]+dl],16,ec),dl>>=kr(Zl.G[2][Zl.H[2]+dl],0,ec),kr(Zl.G[3][Zl.H[3]+dl],24,ec))}}}gs.vc=xs,gs.Wb=Ns,gs.Ya=es,gs.yc=xf,Tr=1;break t}Tr=0}if(!(fe=Tr)){te.a=3;break e}if(0<Ye){if(Te.ua=1<<Ye,!st(Te.Wa,Ye)){te.a=1,fe=0;break e}}else Te.ua=0;var Tf=te,Ym=me,qx=ge,Jm=Tf.s,Xm=Jm.xc;if(Tf.c=Ym,Tf.i=qx,Jm.md=nt(Ym,Xm),Jm.wc=Xm==0?-1:(1<<Xm)-1,z){te.xb=Dx;break e}if((Le=a(me*ge))==null){te.a=1,fe=0;break e}fe=(fe=Ne(te,Le,0,me,ge,ge,null))&&!be.h;break e}return fe?(ce!=null?ce[0]=Le:(e(Le==null),e(z)),te.$=0,z||Ke(Te)):Ke(Te),fe}function We(C,M){var z=C.c*C.i,te=z+M+16*M;return e(C.c<=M),C.V=a(te),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+z+M,1)}function Je(C,M){var z=C.C,te=M-z,ce=C.V,fe=C.Ba+C.c*z;for(e(M<=C.l.o);0<te;){var me=16<te?16:te,ge=C.l.ma,be=C.l.width,Te=be*me,Le=ge.ca,Ye=ge.tb+be*z,qe=C.Ta,Ve=C.Ua;de(C,me,ce,fe),Vr(qe,Ve,Le,Ye,Te),_e(ge,z,z+me,Le,Ye,be),te-=me,ce+=me*C.c,z+=me}e(z==M),C.C=C.Ma=M}function vt(){this.ub=this.yd=this.td=this.Rb=0}function Nt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ot(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Tt(){this.Yb=function(){var C=[];return function M(z,te,ce){for(var fe=ce[te],me=0;me<fe&&(z.push(ce.length>te+1?[]:0),!(ce.length<te+1));me++)M(z[me],te+1,ce)}(C,0,[3,11]),C}()}function Rt(){this.jb=a(3),this.Wc=o([4,8],Tt),this.Xc=o([4,17],Tt)}function cn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Un(){this.ld=this.La=this.dd=this.tc=0}function Ln(){this.Na=this.la=0}function Qn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Es(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ii(){this.uc=this.M=this.Nb=0,this.wa=Array(new Un),this.Y=0,this.ya=Array(new Es),this.aa=0,this.l=new Ms}function _s(){this.y=a(16),this.f=a(8),this.ea=a(8)}function ta(){this.cb=this.a=0,this.sc="",this.m=new he,this.Od=new vt,this.Kc=new Nt,this.ed=new cn,this.Qa=new Ot,this.Ic=this.$c=this.Aa=0,this.D=new ii,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,he),this.ia=0,this.pb=i(4,Qn),this.Pa=new Rt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _s),this.Hd=0,this.rb=Array(new Ln),this.sb=0,this.wa=Array(new Un),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Es),this.L=this.aa=0,this.gd=o([4,2],Un),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ms(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function pa(){var C=new ta;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,Os||(Os=ku)),C}function Hr(C,M,z){return C.a==0&&(C.a=M,C.sc=z,C.cb=0),0}function na(C,M,z){return 3<=z&&C[M+0]==157&&C[M+1]==1&&C[M+2]==42}function Cc(C,M){if(C==null)return 0;if(C.a=0,C.sc="OK",M==null)return Hr(C,2,"null VP8Io passed to VP8GetHeaders()");var z=M.data,te=M.w,ce=M.ha;if(4>ce)return Hr(C,7,"Truncated header.");var fe=z[te+0]|z[te+1]<<8|z[te+2]<<16,me=C.Od;if(me.Rb=!(1&fe),me.td=fe>>1&7,me.yd=fe>>4&1,me.ub=fe>>5,3<me.td)return Hr(C,3,"Incorrect keyframe parameters.");if(!me.yd)return Hr(C,4,"Frame not displayable.");te+=3,ce-=3;var ge=C.Kc;if(me.Rb){if(7>ce)return Hr(C,7,"cannot parse picture header");if(!na(z,te,ce))return Hr(C,3,"Bad code word");ge.c=16383&(z[te+4]<<8|z[te+3]),ge.Td=z[te+4]>>6,ge.i=16383&(z[te+6]<<8|z[te+5]),ge.Ud=z[te+6]>>6,te+=7,ce-=7,C.za=ge.c+15>>4,C.Ub=ge.i+15>>4,M.width=ge.c,M.height=ge.i,M.Da=0,M.j=0,M.v=0,M.va=M.width,M.o=M.height,M.da=0,M.ib=M.width,M.hb=M.height,M.U=M.width,M.T=M.height,s((fe=C.Pa).jb,0,255,fe.jb.length),e((fe=C.Qa)!=null),fe.Cb=0,fe.Bb=0,fe.Fb=1,s(fe.Zb,0,0,fe.Zb.length),s(fe.Lb,0,0,fe.Lb)}if(me.ub>ce)return Hr(C,7,"bad partition length");se(fe=C.m,z,te,me.ub),te+=me.ub,ce-=me.ub,me.Rb&&(ge.Ld=pe(fe),ge.Kd=pe(fe)),ge=C.Qa;var be,Te=C.Pa;if(e(fe!=null),e(ge!=null),ge.Cb=pe(fe),ge.Cb){if(ge.Bb=pe(fe),pe(fe)){for(ge.Fb=pe(fe),be=0;4>be;++be)ge.Zb[be]=pe(fe)?Y(fe,7):0;for(be=0;4>be;++be)ge.Lb[be]=pe(fe)?Y(fe,6):0}if(ge.Bb)for(be=0;3>be;++be)Te.jb[be]=pe(fe)?K(fe,8):255}else ge.Bb=0;if(fe.Ka)return Hr(C,3,"cannot parse segment header");if((ge=C.ed).zd=pe(fe),ge.Tb=K(fe,6),ge.wb=K(fe,3),ge.Pc=pe(fe),ge.Pc&&pe(fe)){for(Te=0;4>Te;++Te)pe(fe)&&(ge.vd[Te]=Y(fe,6));for(Te=0;4>Te;++Te)pe(fe)&&(ge.od[Te]=Y(fe,6))}if(C.L=ge.Tb==0?0:ge.zd?1:2,fe.Ka)return Hr(C,3,"cannot parse filter header");var Le=ce;if(ce=be=te,te=be+Le,ge=Le,C.Xb=(1<<K(C.m,2))-1,Le<3*(Te=C.Xb))z=7;else{for(be+=3*Te,ge-=3*Te,Le=0;Le<Te;++Le){var Ye=z[ce+0]|z[ce+1]<<8|z[ce+2]<<16;Ye>ge&&(Ye=ge),se(C.Jc[+Le],z,be,Ye),be+=Ye,ge-=Ye,ce+=3}se(C.Jc[+Te],z,be,ge),z=be<te?0:5}if(z!=0)return Hr(C,z,"cannot parse partitions");for(z=K(be=C.m,7),ce=pe(be)?Y(be,4):0,te=pe(be)?Y(be,4):0,ge=pe(be)?Y(be,4):0,Te=pe(be)?Y(be,4):0,be=pe(be)?Y(be,4):0,Le=C.Qa,Ye=0;4>Ye;++Ye){if(Le.Cb){var qe=Le.Zb[Ye];Le.Fb||(qe+=z)}else{if(0<Ye){C.pb[Ye]=C.pb[0];continue}qe=z}var Ve=C.pb[Ye];Ve.Sc[0]=hf[xr(qe+ce,127)],Ve.Sc[1]=mf[xr(qe+0,127)],Ve.Eb[0]=2*hf[xr(qe+te,127)],Ve.Eb[1]=101581*mf[xr(qe+ge,127)]>>16,8>Ve.Eb[1]&&(Ve.Eb[1]=8),Ve.Qc[0]=hf[xr(qe+Te,117)],Ve.Qc[1]=mf[xr(qe+be,127)],Ve.lc=qe+be}if(!me.Rb)return Hr(C,4,"Not a key frame.");for(pe(fe),me=C.Pa,z=0;4>z;++z){for(ce=0;8>ce;++ce)for(te=0;3>te;++te)for(ge=0;11>ge;++ge)Te=ye(fe,VA[z][ce][te][ge])?K(fe,8):ll[z][ce][te][ge],me.Wc[z][ce].Yb[te][ge]=Te;for(ce=0;17>ce;++ce)me.Xc[z][ce]=me.Wc[z][Rx[ce]]}return C.kc=pe(fe),C.kc&&(C.Bd=K(fe,8)),C.cb=1}function ku(C,M,z,te,ce,fe,me){var ge=M[ce].Yb[z];for(z=0;16>ce;++ce){if(!ye(C,ge[z+0]))return ce;for(;!ye(C,ge[z+1]);)if(ge=M[++ce].Yb[0],z=0,ce==16)return 16;var be=M[ce+1].Yb;if(ye(C,ge[z+2])){var Te=C,Le=0;if(ye(Te,(qe=ge)[(Ye=z)+3]))if(ye(Te,qe[Ye+6])){for(ge=0,Ye=2*(Le=ye(Te,qe[Ye+8]))+(qe=ye(Te,qe[Ye+9+Le])),Le=0,qe=us[Ye];qe[ge];++ge)Le+=Le+ye(Te,qe[ge]);Le+=3+(8<<Ye)}else ye(Te,qe[Ye+7])?(Le=7+2*ye(Te,165),Le+=ye(Te,145)):Le=5+ye(Te,159);else Le=ye(Te,qe[Ye+4])?3+ye(Te,qe[Ye+5]):2;ge=be[2]}else Le=1,ge=be[1];be=me+hr[ce],0>(Te=C).b&&ue(Te);var Ye,qe=Te.b,Ve=(Ye=Te.Ca>>1)-(Te.I>>qe)>>31;--Te.b,Te.Ca+=Ve,Te.Ca|=1,Te.I-=(Ye+1&Ve)<<qe,fe[be]=((Le^Ve)-Ve)*te[(0<ce)+0]}return 16}function qo(C){var M=C.rb[C.sb-1];M.la=0,M.Na=0,s(C.zc,0,0,C.zc.length),C.ja=0}function TA(C,M){if(C==null)return 0;if(M==null)return Hr(C,2,"NULL VP8Io parameter in VP8Decode().");if(!C.cb&&!Cc(C,M))return 0;if(e(C.cb),M.ac==null||M.ac(M)){M.ob&&(C.L=0);var z=Yl[C.L];if(C.L==2?(C.yb=0,C.zb=0):(C.yb=M.v-z>>4,C.zb=M.j-z>>4,0>C.yb&&(C.yb=0),0>C.zb&&(C.zb=0)),C.Va=M.o+15+z>>4,C.Hb=M.va+15+z>>4,C.Hb>C.za&&(C.Hb=C.za),C.Va>C.Ub&&(C.Va=C.Ub),0<C.L){var te=C.ed;for(z=0;4>z;++z){var ce;if(C.Qa.Cb){var fe=C.Qa.Lb[z];C.Qa.Fb||(fe+=te.Tb)}else fe=te.Tb;for(ce=0;1>=ce;++ce){var me=C.gd[z][ce],ge=fe;if(te.Pc&&(ge+=te.vd[0],ce&&(ge+=te.od[0])),0<(ge=0>ge?0:63<ge?63:ge)){var be=ge;0<te.wb&&(be=4<te.wb?be>>2:be>>1)>9-te.wb&&(be=9-te.wb),1>be&&(be=1),me.dd=be,me.tc=2*ge+be,me.ld=40<=ge?2:15<=ge?1:0}else me.tc=0;me.La=ce}}}z=0}else Hr(C,6,"Frame setup failed"),z=C.a;if(z=z==0){if(z){C.$c=0,0<C.Aa||(C.Ic=Lx);e:{z=C.Ic,te=4*(be=C.za);var Te=32*be,Le=be+1,Ye=0<C.L?be*(0<C.Aa?2:1):0,qe=(C.Aa==2?2:1)*be;if((me=te+832+(ce=3*(16*z+Yl[C.L])/2*Te)+(fe=C.Fa!=null&&0<C.Fa.length?C.Kc.c*C.Kc.i:0))!=me)z=0;else{if(me>C.Vb){if(C.Vb=0,C.Ec=a(me),C.Fc=0,C.Ec==null){z=Hr(C,1,"no memory during frame initialization.");break e}C.Vb=me}me=C.Ec,ge=C.Fc,C.Ac=me,C.Bc=ge,ge+=te,C.Gd=i(Te,_s),C.Hd=0,C.rb=i(Le+1,Ln),C.sb=1,C.wa=Ye?i(Ye,Un):null,C.Y=0,C.D.Nb=0,C.D.wa=C.wa,C.D.Y=C.Y,0<C.Aa&&(C.D.Y+=be),e(!0),C.oc=me,C.pc=ge,ge+=832,C.ya=i(qe,Es),C.aa=0,C.D.ya=C.ya,C.D.aa=C.aa,C.Aa==2&&(C.D.aa+=be),C.R=16*be,C.B=8*be,be=(Te=Yl[C.L])*C.R,Te=Te/2*C.B,C.sa=me,C.ta=ge+be,C.qa=C.sa,C.ra=C.ta+16*z*C.R+Te,C.Ha=C.qa,C.Ia=C.ra+8*z*C.B+Te,C.$c=0,ge+=ce,C.mb=fe?me:null,C.nb=fe?ge:null,e(ge+fe<=C.Fc+C.Vb),qo(C),s(C.Ac,C.Bc,0,te),z=1}}if(z){if(M.ka=0,M.y=C.sa,M.O=C.ta,M.f=C.qa,M.N=C.ra,M.ea=C.Ha,M.Vd=C.Ia,M.fa=C.R,M.Rc=C.B,M.F=null,M.J=0,!Vl){for(z=-255;255>=z;++z)ps[255+z]=0>z?-z:z;for(z=-1020;1020>=z;++z)ro[1020+z]=-128>z?-128:127<z?127:z;for(z=-112;112>=z;++z)Oc[112+z]=-16>z?-16:15<z?15:z;for(z=-255;510>=z;++z)jc[255+z]=0>z?0:255<z?255:z;Vl=1}al=oi,Bo=$o,No=Wi,Bs=gr,hi=Yo,cs=Wo,LA=el,il=_o,Mu=Tc,Uc=FA,Lc=Sc,Mc=Ll,MA=Ml,Pu=tl,Pc=Oi,Hl=Ia,PA=Ts,As=Ru,Ka[0]=Na,Ka[1]=Iu,Ka[2]=Ji,Ka[3]=Fu,Ka[4]=li,Ka[5]=Xi,Ka[6]=Ga,Ka[7]=ci,Ka[8]=Eo,Ka[9]=Jo,Wl[0]=$i,Wl[1]=NA,Wl[2]=wo,Wl[3]=_c,Wl[4]=Ir,Wl[5]=Co,Wl[6]=Yi,Hi[0]=Zi,Hi[1]=BA,Hi[2]=kA,Hi[3]=Ai,Hi[4]=qn,Hi[5]=Ss,Hi[6]=Xo,z=1}else z=0}z&&(z=function(Ve,pt){for(Ve.M=0;Ve.M<Ve.Va;++Ve.M){var at,Me=Ve.Jc[Ve.M&Ve.Xb],Oe=Ve.m,ct=Ve;for(at=0;at<ct.za;++at){var xt=Oe,ft=ct,Gt=ft.Ac,Lt=ft.Bc+4*at,tn=ft.zc,Qt=ft.ya[ft.aa+at];if(ft.Qa.Bb?Qt.$b=ye(xt,ft.Pa.jb[0])?2+ye(xt,ft.Pa.jb[2]):ye(xt,ft.Pa.jb[1]):Qt.$b=0,ft.kc&&(Qt.Ad=ye(xt,ft.Bd)),Qt.Za=!ye(xt,145)+0,Qt.Za){var Ar=Qt.Ob,vr=0;for(ft=0;4>ft;++ft){var Hn,Mn=tn[0+ft];for(Hn=0;4>Hn;++Hn){Mn=Om[Gt[Lt+Hn]][Mn];for(var Tr=Hc[ye(xt,Mn[0])];0<Tr;)Tr=Hc[2*Tr+ye(xt,Mn[Tr])];Mn=-Tr,Gt[Lt+Hn]=Mn}r(Ar,vr,Gt,Lt,4),vr+=4,tn[0+ft]=Mn}}else Mn=ye(xt,156)?ye(xt,128)?1:3:ye(xt,163)?2:0,Qt.Ob[0]=Mn,s(Gt,Lt,Mn,4),s(tn,0,Mn,4);Qt.Dd=ye(xt,142)?ye(xt,114)?ye(xt,183)?1:3:2:0}if(ct.m.Ka)return Hr(Ve,7,"Premature end-of-partition0 encountered.");for(;Ve.ja<Ve.za;++Ve.ja){if(ct=Me,xt=(Oe=Ve).rb[Oe.sb-1],Gt=Oe.rb[Oe.sb+Oe.ja],at=Oe.ya[Oe.aa+Oe.ja],Lt=Oe.kc?at.Ad:0)xt.la=Gt.la=0,at.Za||(xt.Na=Gt.Na=0),at.Hc=0,at.Gc=0,at.ia=0;else{var yr,Tn;if(xt=Gt,Gt=ct,Lt=Oe.Pa.Xc,tn=Oe.ya[Oe.aa+Oe.ja],Qt=Oe.pb[tn.$b],ft=tn.ad,Ar=0,vr=Oe.rb[Oe.sb-1],Mn=Hn=0,s(ft,Ar,0,384),tn.Za)var Fr=0,An=Lt[3];else{Tr=a(16);var vn=xt.Na+vr.Na;if(vn=Os(Gt,Lt[1],vn,Qt.Eb,0,Tr,0),xt.Na=vr.Na=(0<vn)+0,1<vn)al(Tr,0,ft,Ar);else{var cr=Tr[0]+3>>3;for(Tr=0;256>Tr;Tr+=16)ft[Ar+Tr]=cr}Fr=1,An=Lt[0]}var ur=15&xt.la,ia=15&vr.la;for(Tr=0;4>Tr;++Tr){var Hs=1&ia;for(cr=Tn=0;4>cr;++cr)ur=ur>>1|(Hs=(vn=Os(Gt,An,vn=Hs+(1&ur),Qt.Sc,Fr,ft,Ar))>Fr)<<7,Tn=Tn<<2|(3<vn?3:1<vn?2:ft[Ar+0]!=0),Ar+=16;ur>>=4,ia=ia>>1|Hs<<7,Hn=(Hn<<8|Tn)>>>0}for(An=ur,Fr=ia>>4,yr=0;4>yr;yr+=2){for(Tn=0,ur=xt.la>>4+yr,ia=vr.la>>4+yr,Tr=0;2>Tr;++Tr){for(Hs=1&ia,cr=0;2>cr;++cr)vn=Hs+(1&ur),ur=ur>>1|(Hs=0<(vn=Os(Gt,Lt[2],vn,Qt.Qc,0,ft,Ar)))<<3,Tn=Tn<<2|(3<vn?3:1<vn?2:ft[Ar+0]!=0),Ar+=16;ur>>=2,ia=ia>>1|Hs<<5}Mn|=Tn<<4*yr,An|=ur<<4<<yr,Fr|=(240&ia)<<yr}xt.la=An,vr.la=Fr,tn.Hc=Hn,tn.Gc=Mn,tn.ia=43690&Mn?0:Qt.ia,Lt=!(Hn|Mn)}if(0<Oe.L&&(Oe.wa[Oe.Y+Oe.ja]=Oe.gd[at.$b][at.Za],Oe.wa[Oe.Y+Oe.ja].La|=!Lt),ct.Ka)return Hr(Ve,7,"Premature end-of-file encountered.")}if(qo(Ve),Oe=pt,ct=1,at=(Me=Ve).D,xt=0<Me.L&&Me.M>=Me.zb&&Me.M<=Me.Va,Me.Aa==0)e:{if(at.M=Me.M,at.uc=xt,ui(Me,at),ct=1,at=(Tn=Me.D).Nb,xt=(Mn=Yl[Me.L])*Me.R,Gt=Mn/2*Me.B,Tr=16*at*Me.R,cr=8*at*Me.B,Lt=Me.sa,tn=Me.ta-xt+Tr,Qt=Me.qa,ft=Me.ra-Gt+cr,Ar=Me.Ha,vr=Me.Ia-Gt+cr,ia=(ur=Tn.M)==0,Hn=ur>=Me.Va-1,Me.Aa==2&&ui(Me,Tn),Tn.uc)for(Hs=(vn=Me).D.M,e(vn.D.uc),Tn=vn.yb;Tn<vn.Hb;++Tn){Fr=Tn,An=Hs;var gs=(xs=(Jr=vn).D).Nb;yr=Jr.R;var xs=xs.wa[xs.Y+Fr],Ns=Jr.sa,io=Jr.ta+16*gs*yr+16*Fr,wr=xs.dd,ks=xs.tc;if(ks!=0)if(e(3<=ks),Jr.L==1)0<Fr&&Hl(Ns,io,yr,ks+4),xs.La&&As(Ns,io,yr,ks),0<An&&Pc(Ns,io,yr,ks+4),xs.La&&PA(Ns,io,yr,ks);else{var ko=Jr.B,zc=Jr.qa,zA=Jr.ra+8*gs*ko+8*Fr,Kc=Jr.Ha,Jr=Jr.Ia+8*gs*ko+8*Fr;gs=xs.ld,0<Fr&&(il(Ns,io,yr,ks+4,wr,gs),Uc(zc,zA,Kc,Jr,ko,ks+4,wr,gs)),xs.La&&(Mc(Ns,io,yr,ks,wr,gs),Pu(zc,zA,Kc,Jr,ko,ks,wr,gs)),0<An&&(LA(Ns,io,yr,ks+4,wr,gs),Mu(zc,zA,Kc,Jr,ko,ks+4,wr,gs)),xs.La&&(Lc(Ns,io,yr,ks,wr,gs),MA(zc,zA,Kc,Jr,ko,ks,wr,gs))}}if(Me.ia&&alert("todo:DitherRow"),Oe.put!=null){if(Tn=16*ur,ur=16*(ur+1),ia?(Oe.y=Me.sa,Oe.O=Me.ta+Tr,Oe.f=Me.qa,Oe.N=Me.ra+cr,Oe.ea=Me.Ha,Oe.W=Me.Ia+cr):(Tn-=Mn,Oe.y=Lt,Oe.O=tn,Oe.f=Qt,Oe.N=ft,Oe.ea=Ar,Oe.W=vr),Hn||(ur-=Mn),ur>Oe.o&&(ur=Oe.o),Oe.F=null,Oe.J=null,Me.Fa!=null&&0<Me.Fa.length&&Tn<ur&&(Oe.J=Nc(Me,Oe,Tn,ur-Tn),Oe.F=Me.mb,Oe.F==null&&Oe.F.length==0)){ct=Hr(Me,3,"Could not decode alpha data.");break e}Tn<Oe.j&&(Mn=Oe.j-Tn,Tn=Oe.j,e(!(1&Mn)),Oe.O+=Me.R*Mn,Oe.N+=Me.B*(Mn>>1),Oe.W+=Me.B*(Mn>>1),Oe.F!=null&&(Oe.J+=Oe.width*Mn)),Tn<ur&&(Oe.O+=Oe.v,Oe.N+=Oe.v>>1,Oe.W+=Oe.v>>1,Oe.F!=null&&(Oe.J+=Oe.v),Oe.ka=Tn-Oe.j,Oe.U=Oe.va-Oe.v,Oe.T=ur-Tn,ct=Oe.put(Oe))}at+1!=Me.Ic||Hn||(r(Me.sa,Me.ta-xt,Lt,tn+16*Me.R,xt),r(Me.qa,Me.ra-Gt,Qt,ft+8*Me.B,Gt),r(Me.Ha,Me.Ia-Gt,Ar,vr+8*Me.B,Gt))}if(!ct)return Hr(Ve,6,"Output aborted.")}return 1}(C,M)),M.bc!=null&&M.bc(M),z&=1}return z?(C.cb=0,z):0}function ga(C,M,z,te,ce){ce=C[M+z+32*te]+(ce>>3),C[M+z+32*te]=-256&ce?0>ce?0:255:ce}function Ec(C,M,z,te,ce,fe){ga(C,M,0,z,te+ce),ga(C,M,1,z,te+fe),ga(C,M,2,z,te-fe),ga(C,M,3,z,te-ce)}function lr(C){return(20091*C>>16)+C}function xa(C,M,z,te){var ce,fe=0,me=a(16);for(ce=0;4>ce;++ce){var ge=C[M+0]+C[M+8],be=C[M+0]-C[M+8],Te=(35468*C[M+4]>>16)-lr(C[M+12]),Le=lr(C[M+4])+(35468*C[M+12]>>16);me[fe+0]=ge+Le,me[fe+1]=be+Te,me[fe+2]=be-Te,me[fe+3]=ge-Le,fe+=4,M++}for(ce=fe=0;4>ce;++ce)ge=(C=me[fe+0]+4)+me[fe+8],be=C-me[fe+8],Te=(35468*me[fe+4]>>16)-lr(me[fe+12]),ga(z,te,0,0,ge+(Le=lr(me[fe+4])+(35468*me[fe+12]>>16))),ga(z,te,1,0,be+Te),ga(z,te,2,0,be-Te),ga(z,te,3,0,ge-Le),fe++,te+=32}function Wo(C,M,z,te){var ce=C[M+0]+4,fe=35468*C[M+4]>>16,me=lr(C[M+4]),ge=35468*C[M+1]>>16;Ec(z,te,0,ce+me,C=lr(C[M+1]),ge),Ec(z,te,1,ce+fe,C,ge),Ec(z,te,2,ce-fe,C,ge),Ec(z,te,3,ce-me,C,ge)}function $o(C,M,z,te,ce){xa(C,M,z,te),ce&&xa(C,M+16,z,te+4)}function Wi(C,M,z,te){Bo(C,M+0,z,te,1),Bo(C,M+32,z,te+128,1)}function gr(C,M,z,te){var ce;for(C=C[M+0]+4,ce=0;4>ce;++ce)for(M=0;4>M;++M)ga(z,te,M,ce,C)}function Yo(C,M,z,te){C[M+0]&&Bs(C,M+0,z,te),C[M+16]&&Bs(C,M+16,z,te+4),C[M+32]&&Bs(C,M+32,z,te+128),C[M+48]&&Bs(C,M+48,z,te+128+4)}function oi(C,M,z,te){var ce,fe=a(16);for(ce=0;4>ce;++ce){var me=C[M+0+ce]+C[M+12+ce],ge=C[M+4+ce]+C[M+8+ce],be=C[M+4+ce]-C[M+8+ce],Te=C[M+0+ce]-C[M+12+ce];fe[0+ce]=me+ge,fe[8+ce]=me-ge,fe[4+ce]=Te+be,fe[12+ce]=Te-be}for(ce=0;4>ce;++ce)me=(C=fe[0+4*ce]+3)+fe[3+4*ce],ge=fe[1+4*ce]+fe[2+4*ce],be=fe[1+4*ce]-fe[2+4*ce],Te=C-fe[3+4*ce],z[te+0]=me+ge>>3,z[te+16]=Te+be>>3,z[te+32]=me-ge>>3,z[te+48]=Te-be>>3,te+=64}function yo(C,M,z){var te,ce=M-32,fe=sa,me=255-C[ce-1];for(te=0;te<z;++te){var ge,be=fe,Te=me+C[M-1];for(ge=0;ge<z;++ge)C[M+ge]=be[Te+C[ce+ge]];M+=32}}function Iu(C,M){yo(C,M,4)}function BA(C,M){yo(C,M,8)}function NA(C,M){yo(C,M,16)}function wo(C,M){var z;for(z=0;16>z;++z)r(C,M+32*z,C,M-32,16)}function _c(C,M){var z;for(z=16;0<z;--z)s(C,M,C[M-1],16),M+=32}function bo(C,M,z){var te;for(te=0;16>te;++te)s(M,z+32*te,C,16)}function $i(C,M){var z,te=16;for(z=0;16>z;++z)te+=C[M-1+32*z]+C[M+z-32];bo(te>>5,C,M)}function Ir(C,M){var z,te=8;for(z=0;16>z;++z)te+=C[M-1+32*z];bo(te>>4,C,M)}function Co(C,M){var z,te=8;for(z=0;16>z;++z)te+=C[M+z-32];bo(te>>4,C,M)}function Yi(C,M){bo(128,C,M)}function dn(C,M,z){return C+2*M+z+2>>2}function Ji(C,M){var z,te=M-32;for(te=new Uint8Array([dn(C[te-1],C[te+0],C[te+1]),dn(C[te+0],C[te+1],C[te+2]),dn(C[te+1],C[te+2],C[te+3]),dn(C[te+2],C[te+3],C[te+4])]),z=0;4>z;++z)r(C,M+32*z,te,0,te.length)}function Fu(C,M){var z=C[M-1],te=C[M-1+32],ce=C[M-1+64],fe=C[M-1+96];Ie(C,M+0,16843009*dn(C[M-1-32],z,te)),Ie(C,M+32,16843009*dn(z,te,ce)),Ie(C,M+64,16843009*dn(te,ce,fe)),Ie(C,M+96,16843009*dn(ce,fe,fe))}function Na(C,M){var z,te=4;for(z=0;4>z;++z)te+=C[M+z-32]+C[M-1+32*z];for(te>>=3,z=0;4>z;++z)s(C,M+32*z,te,4)}function li(C,M){var z=C[M-1+0],te=C[M-1+32],ce=C[M-1+64],fe=C[M-1-32],me=C[M+0-32],ge=C[M+1-32],be=C[M+2-32],Te=C[M+3-32];C[M+0+96]=dn(te,ce,C[M-1+96]),C[M+1+96]=C[M+0+64]=dn(z,te,ce),C[M+2+96]=C[M+1+64]=C[M+0+32]=dn(fe,z,te),C[M+3+96]=C[M+2+64]=C[M+1+32]=C[M+0+0]=dn(me,fe,z),C[M+3+64]=C[M+2+32]=C[M+1+0]=dn(ge,me,fe),C[M+3+32]=C[M+2+0]=dn(be,ge,me),C[M+3+0]=dn(Te,be,ge)}function Ga(C,M){var z=C[M+1-32],te=C[M+2-32],ce=C[M+3-32],fe=C[M+4-32],me=C[M+5-32],ge=C[M+6-32],be=C[M+7-32];C[M+0+0]=dn(C[M+0-32],z,te),C[M+1+0]=C[M+0+32]=dn(z,te,ce),C[M+2+0]=C[M+1+32]=C[M+0+64]=dn(te,ce,fe),C[M+3+0]=C[M+2+32]=C[M+1+64]=C[M+0+96]=dn(ce,fe,me),C[M+3+32]=C[M+2+64]=C[M+1+96]=dn(fe,me,ge),C[M+3+64]=C[M+2+96]=dn(me,ge,be),C[M+3+96]=dn(ge,be,be)}function Xi(C,M){var z=C[M-1+0],te=C[M-1+32],ce=C[M-1+64],fe=C[M-1-32],me=C[M+0-32],ge=C[M+1-32],be=C[M+2-32],Te=C[M+3-32];C[M+0+0]=C[M+1+64]=fe+me+1>>1,C[M+1+0]=C[M+2+64]=me+ge+1>>1,C[M+2+0]=C[M+3+64]=ge+be+1>>1,C[M+3+0]=be+Te+1>>1,C[M+0+96]=dn(ce,te,z),C[M+0+64]=dn(te,z,fe),C[M+0+32]=C[M+1+96]=dn(z,fe,me),C[M+1+32]=C[M+2+96]=dn(fe,me,ge),C[M+2+32]=C[M+3+96]=dn(me,ge,be),C[M+3+32]=dn(ge,be,Te)}function ci(C,M){var z=C[M+0-32],te=C[M+1-32],ce=C[M+2-32],fe=C[M+3-32],me=C[M+4-32],ge=C[M+5-32],be=C[M+6-32],Te=C[M+7-32];C[M+0+0]=z+te+1>>1,C[M+1+0]=C[M+0+64]=te+ce+1>>1,C[M+2+0]=C[M+1+64]=ce+fe+1>>1,C[M+3+0]=C[M+2+64]=fe+me+1>>1,C[M+0+32]=dn(z,te,ce),C[M+1+32]=C[M+0+96]=dn(te,ce,fe),C[M+2+32]=C[M+1+96]=dn(ce,fe,me),C[M+3+32]=C[M+2+96]=dn(fe,me,ge),C[M+3+64]=dn(me,ge,be),C[M+3+96]=dn(ge,be,Te)}function Jo(C,M){var z=C[M-1+0],te=C[M-1+32],ce=C[M-1+64],fe=C[M-1+96];C[M+0+0]=z+te+1>>1,C[M+2+0]=C[M+0+32]=te+ce+1>>1,C[M+2+32]=C[M+0+64]=ce+fe+1>>1,C[M+1+0]=dn(z,te,ce),C[M+3+0]=C[M+1+32]=dn(te,ce,fe),C[M+3+32]=C[M+1+64]=dn(ce,fe,fe),C[M+3+64]=C[M+2+64]=C[M+0+96]=C[M+1+96]=C[M+2+96]=C[M+3+96]=fe}function Eo(C,M){var z=C[M-1+0],te=C[M-1+32],ce=C[M-1+64],fe=C[M-1+96],me=C[M-1-32],ge=C[M+0-32],be=C[M+1-32],Te=C[M+2-32];C[M+0+0]=C[M+2+32]=z+me+1>>1,C[M+0+32]=C[M+2+64]=te+z+1>>1,C[M+0+64]=C[M+2+96]=ce+te+1>>1,C[M+0+96]=fe+ce+1>>1,C[M+3+0]=dn(ge,be,Te),C[M+2+0]=dn(me,ge,be),C[M+1+0]=C[M+3+32]=dn(z,me,ge),C[M+1+32]=C[M+3+64]=dn(te,z,me),C[M+1+64]=C[M+3+96]=dn(ce,te,z),C[M+1+96]=dn(fe,ce,te)}function kA(C,M){var z;for(z=0;8>z;++z)r(C,M+32*z,C,M-32,8)}function Ai(C,M){var z;for(z=0;8>z;++z)s(C,M,C[M-1],8),M+=32}function ka(C,M,z){var te;for(te=0;8>te;++te)s(M,z+32*te,C,8)}function Zi(C,M){var z,te=8;for(z=0;8>z;++z)te+=C[M+z-32]+C[M-1+32*z];ka(te>>4,C,M)}function Ss(C,M){var z,te=4;for(z=0;8>z;++z)te+=C[M+z-32];ka(te>>3,C,M)}function qn(C,M){var z,te=4;for(z=0;8>z;++z)te+=C[M-1+32*z];ka(te>>3,C,M)}function Xo(C,M){ka(128,C,M)}function eo(C,M,z){var te=C[M-z],ce=C[M+0],fe=3*(ce-te)+Nh[1020+C[M-2*z]-C[M+z]],me=OA[112+(fe+4>>3)];C[M-z]=sa[255+te+OA[112+(fe+3>>3)]],C[M+0]=sa[255+ce-me]}function IA(C,M,z,te){var ce=C[M+0],fe=C[M+z];return so[255+C[M-2*z]-C[M-z]]>te||so[255+fe-ce]>te}function Dl(C,M,z,te){return 4*so[255+C[M-z]-C[M+0]]+so[255+C[M-2*z]-C[M+z]]<=te}function Ul(C,M,z,te,ce){var fe=C[M-3*z],me=C[M-2*z],ge=C[M-z],be=C[M+0],Te=C[M+z],Le=C[M+2*z],Ye=C[M+3*z];return 4*so[255+ge-be]+so[255+me-Te]>te?0:so[255+C[M-4*z]-fe]<=ce&&so[255+fe-me]<=ce&&so[255+me-ge]<=ce&&so[255+Ye-Le]<=ce&&so[255+Le-Te]<=ce&&so[255+Te-be]<=ce}function Oi(C,M,z,te){var ce=2*te+1;for(te=0;16>te;++te)Dl(C,M+te,z,ce)&&eo(C,M+te,z)}function Ia(C,M,z,te){var ce=2*te+1;for(te=0;16>te;++te)Dl(C,M+te*z,1,ce)&&eo(C,M+te*z,1)}function Ts(C,M,z,te){var ce;for(ce=3;0<ce;--ce)Oi(C,M+=4*z,z,te)}function Ru(C,M,z,te){var ce;for(ce=3;0<ce;--ce)Ia(C,M+=4,z,te)}function Zo(C,M,z,te,ce,fe,me,ge){for(fe=2*fe+1;0<ce--;){if(Ul(C,M,z,fe,me))if(IA(C,M,z,ge))eo(C,M,z);else{var be=C,Te=M,Le=z,Ye=be[Te-2*Le],qe=be[Te-Le],Ve=be[Te+0],pt=be[Te+Le],at=be[Te+2*Le],Me=27*(ct=Nh[1020+3*(Ve-qe)+Nh[1020+Ye-pt]])+63>>7,Oe=18*ct+63>>7,ct=9*ct+63>>7;be[Te-3*Le]=sa[255+be[Te-3*Le]+ct],be[Te-2*Le]=sa[255+Ye+Oe],be[Te-Le]=sa[255+qe+Me],be[Te+0]=sa[255+Ve-Me],be[Te+Le]=sa[255+pt-Oe],be[Te+2*Le]=sa[255+at-ct]}M+=te}}function va(C,M,z,te,ce,fe,me,ge){for(fe=2*fe+1;0<ce--;){if(Ul(C,M,z,fe,me))if(IA(C,M,z,ge))eo(C,M,z);else{var be=C,Te=M,Le=z,Ye=be[Te-Le],qe=be[Te+0],Ve=be[Te+Le],pt=OA[112+((at=3*(qe-Ye))+4>>3)],at=OA[112+(at+3>>3)],Me=pt+1>>1;be[Te-2*Le]=sa[255+be[Te-2*Le]+Me],be[Te-Le]=sa[255+Ye+at],be[Te+0]=sa[255+qe-pt],be[Te+Le]=sa[255+Ve-Me]}M+=te}}function el(C,M,z,te,ce,fe){Zo(C,M,z,1,16,te,ce,fe)}function _o(C,M,z,te,ce,fe){Zo(C,M,1,z,16,te,ce,fe)}function Sc(C,M,z,te,ce,fe){var me;for(me=3;0<me;--me)va(C,M+=4*z,z,1,16,te,ce,fe)}function Ll(C,M,z,te,ce,fe){var me;for(me=3;0<me;--me)va(C,M+=4,1,z,16,te,ce,fe)}function Tc(C,M,z,te,ce,fe,me,ge){Zo(C,M,ce,1,8,fe,me,ge),Zo(z,te,ce,1,8,fe,me,ge)}function FA(C,M,z,te,ce,fe,me,ge){Zo(C,M,1,ce,8,fe,me,ge),Zo(z,te,1,ce,8,fe,me,ge)}function Ml(C,M,z,te,ce,fe,me,ge){va(C,M+4*ce,ce,1,8,fe,me,ge),va(z,te+4*ce,ce,1,8,fe,me,ge)}function tl(C,M,z,te,ce,fe,me,ge){va(C,M+4,1,ce,8,fe,me,ge),va(z,te+4,1,ce,8,fe,me,ge)}function Pl(){this.ba=new Wr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Bc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ol(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nl(){this.ua=0,this.Wa=new Ee,this.vb=new Ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new L}function Du(){this.xb=this.a=0,this.l=new Ms,this.ca=new Wr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nl,this.ab=0,this.gc=i(4,Ol),this.Oc=0}function So(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ms,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function rl(C,M,z,te,ce,fe,me){for(C=C==null?0:C[M+0],M=0;M<me;++M)ce[fe+M]=C+z[te+M]&255,C=ce[fe+M]}function jl(C,M,z,te,ce,fe,me){var ge;if(C==null)rl(null,null,z,te,ce,fe,me);else for(ge=0;ge<me;++ge)ce[fe+ge]=C[M+ge]+z[te+ge]&255}function Fa(C,M,z,te,ce,fe,me){if(C==null)rl(null,null,z,te,ce,fe,me);else{var ge,be=C[M+0],Te=be,Le=be;for(ge=0;ge<me;++ge)Te=Le+(be=C[M+ge])-Te,Le=z[te+ge]+(-256&Te?0>Te?0:255:Te)&255,Te=be,ce[fe+ge]=Le}}function Nc(C,M,z,te){var ce=M.width,fe=M.o;if(e(C!=null&&M!=null),0>z||0>=te||z+te>fe)return null;if(!C.Cc){if(C.ga==null){var me;if(C.ga=new So,(me=C.ga==null)||(me=M.width*M.o,e(C.Gb.length==0),C.Gb=a(me),C.Uc=0,C.Gb==null?me=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,me=1),me=!me),!me){me=C.ga;var ge=C.Fa,be=C.P,Te=C.qc,Le=C.mb,Ye=C.nb,qe=be+1,Ve=Te-1,pt=me.l;if(e(ge!=null&&Le!=null&&M!=null),cl[0]=null,cl[1]=rl,cl[2]=jl,cl[3]=Fa,me.ca=Le,me.tb=Ye,me.c=M.width,me.i=M.height,e(0<me.c&&0<me.i),1>=Te)M=0;else if(me.$a=ge[be+0]>>0&3,me.Z=ge[be+0]>>2&3,me.Lc=ge[be+0]>>4&3,be=ge[be+0]>>6&3,0>me.$a||1<me.$a||4<=me.Z||1<me.Lc||be)M=0;else if(pt.put=hs,pt.ac=jr,pt.bc=ma,pt.ma=me,pt.width=M.width,pt.height=M.height,pt.Da=M.Da,pt.v=M.v,pt.va=M.va,pt.j=M.j,pt.o=M.o,me.$a)e:{e(me.$a==1),M=et();t:for(;;){if(M==null){M=0;break e}if(e(me!=null),me.mc=M,M.c=me.c,M.i=me.i,M.l=me.l,M.l.ma=me,M.l.width=me.c,M.l.height=me.i,M.a=0,oe(M.m,ge,qe,Ve),!Qe(me.c,me.i,1,M,null)||(M.ab==1&&M.gc[0].hc==3&&Ce(M.s)?(me.ic=1,ge=M.c*M.i,M.Ta=null,M.Ua=0,M.V=a(ge),M.Ba=0,M.V==null?(M.a=1,M=0):M=1):(me.ic=0,M=We(M,me.c)),!M))break t;M=1;break e}me.mc=null,M=0}else M=Ve>=me.c*me.i;me=!M}if(me)return null;C.ga.Lc!=1?C.Ga=0:te=fe-z}e(C.ga!=null),e(z+te<=fe);e:{if(M=(ge=C.ga).c,fe=ge.l.o,ge.$a==0){if(qe=C.rc,Ve=C.Vc,pt=C.Fa,be=C.P+1+z*M,Te=C.mb,Le=C.nb+z*M,e(be<=C.P+C.qc),ge.Z!=0)for(e(cl[ge.Z]!=null),me=0;me<te;++me)cl[ge.Z](qe,Ve,pt,be,Te,Le,M),qe=Te,Ve=Le,Le+=M,be+=M;else for(me=0;me<te;++me)r(Te,Le,pt,be,M),qe=Te,Ve=Le,Le+=M,be+=M;C.rc=qe,C.Vc=Ve}else{if(e(ge.mc!=null),M=z+te,e((me=ge.mc)!=null),e(M<=me.i),me.C>=M)M=1;else if(ge.ic||He(),ge.ic){ge=me.V,qe=me.Ba,Ve=me.c;var at=me.i,Me=(pt=1,be=me.$/Ve,Te=me.$%Ve,Le=me.m,Ye=me.s,me.$),Oe=Ve*at,ct=Ve*M,xt=Ye.wc,ft=Me<ct?Qr(Ye,Te,be):null;e(Me<=Oe),e(M<=at),e(Ce(Ye));t:for(;;){for(;!Le.h&&Me<ct;){if(Te&xt||(ft=Qr(Ye,Te,be)),e(ft!=null),ae(Le),256>(at=_r(ft.G[0],ft.H[0],Le)))ge[qe+Me]=at,++Me,++Te>=Ve&&(Te=0,++be<=M&&!(be%16)&&Se(me,be));else{if(!(280>at)){pt=0;break t}at=or(at-256,Le);var Gt,Lt=_r(ft.G[4],ft.H[4],Le);if(ae(Le),!(Me>=(Lt=Zn(Ve,Lt=or(Lt,Le)))&&Oe-Me>=at)){pt=0;break t}for(Gt=0;Gt<at;++Gt)ge[qe+Me+Gt]=ge[qe+Me+Gt-Lt];for(Me+=at,Te+=at;Te>=Ve;)Te-=Ve,++be<=M&&!(be%16)&&Se(me,be);Me<ct&&Te&xt&&(ft=Qr(Ye,Te,be))}e(Le.h==J(Le))}Se(me,be>M?M:be);break t}!pt||Le.h&&Me<Oe?(pt=0,me.a=Le.h?5:3):me.$=Me,M=pt}else M=Ne(me,me.V,me.Ba,me.c,me.i,M,Je);if(!M){te=0;break e}}z+te>=fe&&(C.Cc=1),te=1}if(!te)return null;if(C.Cc&&((te=C.ga)!=null&&(te.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+z*ce}function H(C,M,z,te,ce,fe){for(;0<ce--;){var me,ge=C,be=M+(z?1:0),Te=C,Le=M+(z?0:3);for(me=0;me<te;++me){var Ye=Te[Le+4*me];Ye!=255&&(Ye*=32897,ge[be+4*me+0]=ge[be+4*me+0]*Ye>>23,ge[be+4*me+1]=ge[be+4*me+1]*Ye>>23,ge[be+4*me+2]=ge[be+4*me+2]*Ye>>23)}M+=fe}}function Ae(C,M,z,te,ce){for(;0<te--;){var fe;for(fe=0;fe<z;++fe){var me=C[M+2*fe+0],ge=15&(Te=C[M+2*fe+1]),be=4369*ge,Te=(240&Te|Te>>4)*be>>16;C[M+2*fe+0]=(240&me|me>>4)*be>>16&240|(15&me|me<<4)*be>>16>>4&15,C[M+2*fe+1]=240&Te|ge}M+=ce}}function ke(C,M,z,te,ce,fe,me,ge){var be,Te,Le=255;for(Te=0;Te<ce;++Te){for(be=0;be<te;++be){var Ye=C[M+be];fe[me+4*be]=Ye,Le&=Ye}M+=z,me+=ge}return Le!=255}function Re(C,M,z,te,ce){var fe;for(fe=0;fe<ce;++fe)z[te+fe]=C[M+fe]>>8}function He(){ji=H,Vn=Ae,Gn=ke,Vr=Re}function ot(C,M,z){N[C]=function(te,ce,fe,me,ge,be,Te,Le,Ye,qe,Ve,pt,at,Me,Oe,ct,xt){var ft,Gt=xt-1>>1,Lt=ge[be+0]|Te[Le+0]<<16,tn=Ye[qe+0]|Ve[pt+0]<<16;e(te!=null);var Qt=3*Lt+tn+131074>>2;for(M(te[ce+0],255&Qt,Qt>>16,at,Me),fe!=null&&(Qt=3*tn+Lt+131074>>2,M(fe[me+0],255&Qt,Qt>>16,Oe,ct)),ft=1;ft<=Gt;++ft){var Ar=ge[be+ft]|Te[Le+ft]<<16,vr=Ye[qe+ft]|Ve[pt+ft]<<16,Hn=Lt+Ar+tn+vr+524296,Mn=Hn+2*(Ar+tn)>>3;Qt=Mn+Lt>>1,Lt=(Hn=Hn+2*(Lt+vr)>>3)+Ar>>1,M(te[ce+2*ft-1],255&Qt,Qt>>16,at,Me+(2*ft-1)*z),M(te[ce+2*ft-0],255&Lt,Lt>>16,at,Me+(2*ft-0)*z),fe!=null&&(Qt=Hn+tn>>1,Lt=Mn+vr>>1,M(fe[me+2*ft-1],255&Qt,Qt>>16,Oe,ct+(2*ft-1)*z),M(fe[me+2*ft+0],255&Lt,Lt>>16,Oe,ct+(2*ft+0)*z)),Lt=Ar,tn=vr}1&xt||(Qt=3*Lt+tn+131074>>2,M(te[ce+xt-1],255&Qt,Qt>>16,at,Me+(xt-1)*z),fe!=null&&(Qt=3*tn+Lt+131074>>2,M(fe[me+xt-1],255&Qt,Qt>>16,Oe,ct+(xt-1)*z)))}}function Et(){aa[Ra]=$l,aa[Ou]=Al,aa[ol]=Vc,aa[df]=Fh,aa[jA]=Rh,aa[Gl]=Hu,aa[kh]=Dh,aa[ff]=Al,aa[Qc]=Fh,aa[zl]=Rh,aa[ju]=Hu}function jt(C){return C&-16384?0>C?0:255:C>>_w}function _(C,M){return jt((19077*C>>8)+(26149*M>>8)-14234)}function W(C,M,z){return jt((19077*C>>8)-(6419*M>>8)-(13320*z>>8)+8708)}function re(C,M){return jt((19077*C>>8)+(33050*M>>8)-17685)}function xe(C,M,z,te,ce){te[ce+0]=_(C,z),te[ce+1]=W(C,M,z),te[ce+2]=re(C,M)}function je(C,M,z,te,ce){te[ce+0]=re(C,M),te[ce+1]=W(C,M,z),te[ce+2]=_(C,z)}function Xe(C,M,z,te,ce){var fe=W(C,M,z);M=fe<<3&224|re(C,M)>>3,te[ce+0]=248&_(C,z)|fe>>5,te[ce+1]=M}function St(C,M,z,te,ce){var fe=240&re(C,M)|15;te[ce+0]=240&_(C,z)|W(C,M,z)>>4,te[ce+1]=fe}function fn(C,M,z,te,ce){te[ce+0]=255,xe(C,M,z,te,ce+1)}function Wn(C,M,z,te,ce){je(C,M,z,te,ce),te[ce+3]=255}function Sn(C,M,z,te,ce){xe(C,M,z,te,ce),te[ce+3]=255}function xr(C,M){return 0>C?0:C>M?M:C}function Sr(C,M,z){N[C]=function(te,ce,fe,me,ge,be,Te,Le,Ye){for(var qe=Le+(-2&Ye)*z;Le!=qe;)M(te[ce+0],fe[me+0],ge[be+0],Te,Le),M(te[ce+1],fe[me+0],ge[be+0],Te,Le+z),ce+=2,++me,++be,Le+=2*z;1&Ye&&M(te[ce+0],fe[me+0],ge[be+0],Te,Le)}}function to(C,M,z){return z==0?C==0?M==0?6:5:M==0?4:0:z}function ms(C,M,z,te,ce){switch(C>>>30){case 3:Bo(M,z,te,ce,0);break;case 2:cs(M,z,te,ce);break;case 1:Bs(M,z,te,ce)}}function ui(C,M){var z,te,ce=M.M,fe=M.Nb,me=C.oc,ge=C.pc+40,be=C.oc,Te=C.pc+584,Le=C.oc,Ye=C.pc+600;for(z=0;16>z;++z)me[ge+32*z-1]=129;for(z=0;8>z;++z)be[Te+32*z-1]=129,Le[Ye+32*z-1]=129;for(0<ce?me[ge-1-32]=be[Te-1-32]=Le[Ye-1-32]=129:(s(me,ge-32-1,127,21),s(be,Te-32-1,127,9),s(Le,Ye-32-1,127,9)),te=0;te<C.za;++te){var qe=M.ya[M.aa+te];if(0<te){for(z=-1;16>z;++z)r(me,ge+32*z-4,me,ge+32*z+12,4);for(z=-1;8>z;++z)r(be,Te+32*z-4,be,Te+32*z+4,4),r(Le,Ye+32*z-4,Le,Ye+32*z+4,4)}var Ve=C.Gd,pt=C.Hd+te,at=qe.ad,Me=qe.Hc;if(0<ce&&(r(me,ge-32,Ve[pt].y,0,16),r(be,Te-32,Ve[pt].f,0,8),r(Le,Ye-32,Ve[pt].ea,0,8)),qe.Za){var Oe=me,ct=ge-32+16;for(0<ce&&(te>=C.za-1?s(Oe,ct,Ve[pt].y[15],4):r(Oe,ct,Ve[pt+1].y,0,4)),z=0;4>z;z++)Oe[ct+128+z]=Oe[ct+256+z]=Oe[ct+384+z]=Oe[ct+0+z];for(z=0;16>z;++z,Me<<=2)Oe=me,ct=ge+GA[z],Ka[qe.Ob[z]](Oe,ct),ms(Me,at,16*+z,Oe,ct)}else if(Oe=to(te,ce,qe.Ob[0]),Wl[Oe](me,ge),Me!=0)for(z=0;16>z;++z,Me<<=2)ms(Me,at,16*+z,me,ge+GA[z]);for(z=qe.Gc,Oe=to(te,ce,qe.Dd),Hi[Oe](be,Te),Hi[Oe](Le,Ye),Me=at,Oe=be,ct=Te,255&(qe=z>>0)&&(170&qe?No(Me,256,Oe,ct):hi(Me,256,Oe,ct)),qe=Le,Me=Ye,255&(z>>=8)&&(170&z?No(at,320,qe,Me):hi(at,320,qe,Me)),ce<C.Ub-1&&(r(Ve[pt].y,0,me,ge+480,16),r(Ve[pt].f,0,be,Te+224,8),r(Ve[pt].ea,0,Le,Ye+224,8)),z=8*fe*C.B,Ve=C.sa,pt=C.ta+16*te+16*fe*C.R,at=C.qa,qe=C.ra+8*te+z,Me=C.Ha,Oe=C.Ia+8*te+z,z=0;16>z;++z)r(Ve,pt+z*C.R,me,ge+32*z,16);for(z=0;8>z;++z)r(at,qe+z*C.B,be,Te+32*z,8),r(Me,Oe+z*C.B,Le,Ye+32*z,8)}}function sl(C,M,z,te,ce,fe,me,ge,be){var Te=[0],Le=[0],Ye=0,qe=be!=null?be.kd:0,Ve=be??new Bc;if(C==null||12>z)return 7;Ve.data=C,Ve.w=M,Ve.ha=z,M=[M],z=[z],Ve.gb=[Ve.gb];e:{var pt=M,at=z,Me=Ve.gb;if(e(C!=null),e(at!=null),e(Me!=null),Me[0]=0,12<=at[0]&&!n(C,pt[0],"RIFF")){if(n(C,pt[0]+8,"WEBP")){Me=3;break e}var Oe=De(C,pt[0]+4);if(12>Oe||4294967286<Oe){Me=3;break e}if(qe&&Oe>at[0]-8){Me=7;break e}Me[0]=Oe,pt[0]+=12,at[0]-=12}Me=0}if(Me!=0)return Me;for(Oe=0<Ve.gb[0],z=z[0];;){e:{var ct=C;at=M,Me=z;var xt=Te,ft=Le,Gt=pt=[0];if((Qt=Ye=[Ye])[0]=0,8>Me[0])Me=7;else{if(!n(ct,at[0],"VP8X")){if(De(ct,at[0]+4)!=10){Me=3;break e}if(18>Me[0]){Me=7;break e}var Lt=De(ct,at[0]+8),tn=1+ie(ct,at[0]+12);if(2147483648<=tn*(ct=1+ie(ct,at[0]+15))){Me=3;break e}Gt!=null&&(Gt[0]=Lt),xt!=null&&(xt[0]=tn),ft!=null&&(ft[0]=ct),at[0]+=18,Me[0]-=18,Qt[0]=1}Me=0}}if(Ye=Ye[0],pt=pt[0],Me!=0)return Me;if(at=!!(2&pt),!Oe&&Ye)return 3;if(fe!=null&&(fe[0]=!!(16&pt)),me!=null&&(me[0]=at),ge!=null&&(ge[0]=0),me=Te[0],pt=Le[0],Ye&&at&&be==null){Me=0;break}if(4>z){Me=7;break}if(Oe&&Ye||!Oe&&!Ye&&!n(C,M[0],"ALPH")){z=[z],Ve.na=[Ve.na],Ve.P=[Ve.P],Ve.Sa=[Ve.Sa];e:{Lt=C,Me=M,Oe=z;var Qt=Ve.gb;xt=Ve.na,ft=Ve.P,Gt=Ve.Sa,tn=22,e(Lt!=null),e(Oe!=null),ct=Me[0];var Ar=Oe[0];for(e(xt!=null),e(Gt!=null),xt[0]=null,ft[0]=null,Gt[0]=0;;){if(Me[0]=ct,Oe[0]=Ar,8>Ar){Me=7;break e}var vr=De(Lt,ct+4);if(4294967286<vr){Me=3;break e}var Hn=8+vr+1&-2;if(tn+=Hn,0<Qt&&tn>Qt){Me=3;break e}if(!n(Lt,ct,"VP8 ")||!n(Lt,ct,"VP8L")){Me=0;break e}if(Ar[0]<Hn){Me=7;break e}n(Lt,ct,"ALPH")||(xt[0]=Lt,ft[0]=ct+8,Gt[0]=vr),ct+=Hn,Ar-=Hn}}if(z=z[0],Ve.na=Ve.na[0],Ve.P=Ve.P[0],Ve.Sa=Ve.Sa[0],Me!=0)break}z=[z],Ve.Ja=[Ve.Ja],Ve.xa=[Ve.xa];e:if(Qt=C,Me=M,Oe=z,xt=Ve.gb[0],ft=Ve.Ja,Gt=Ve.xa,Lt=Me[0],ct=!n(Qt,Lt,"VP8 "),tn=!n(Qt,Lt,"VP8L"),e(Qt!=null),e(Oe!=null),e(ft!=null),e(Gt!=null),8>Oe[0])Me=7;else{if(ct||tn){if(Qt=De(Qt,Lt+4),12<=xt&&Qt>xt-12){Me=3;break e}if(qe&&Qt>Oe[0]-8){Me=7;break e}ft[0]=Qt,Me[0]+=8,Oe[0]-=8,Gt[0]=tn}else Gt[0]=5<=Oe[0]&&Qt[Lt+0]==47&&!(Qt[Lt+4]>>5),ft[0]=Oe[0];Me=0}if(z=z[0],Ve.Ja=Ve.Ja[0],Ve.xa=Ve.xa[0],M=M[0],Me!=0)break;if(4294967286<Ve.Ja)return 3;if(ge==null||at||(ge[0]=Ve.xa?2:1),me=[me],pt=[pt],Ve.xa){if(5>z){Me=7;break}ge=me,qe=pt,at=fe,C==null||5>z?C=0:5<=z&&C[M+0]==47&&!(C[M+4]>>5)?(Oe=[0],Qt=[0],xt=[0],oe(ft=new O,C,M,z),Ht(ft,Oe,Qt,xt)?(ge!=null&&(ge[0]=Oe[0]),qe!=null&&(qe[0]=Qt[0]),at!=null&&(at[0]=xt[0]),C=1):C=0):C=0}else{if(10>z){Me=7;break}ge=pt,C==null||10>z||!na(C,M+3,z-3)?C=0:(qe=C[M+0]|C[M+1]<<8|C[M+2]<<16,at=16383&(C[M+7]<<8|C[M+6]),C=16383&(C[M+9]<<8|C[M+8]),1&qe||3<(qe>>1&7)||!(qe>>4&1)||qe>>5>=Ve.Ja||!at||!C?C=0:(me&&(me[0]=at),ge&&(ge[0]=C),C=1))}if(!C||(me=me[0],pt=pt[0],Ye&&(Te[0]!=me||Le[0]!=pt)))return 3;be!=null&&(be[0]=Ve,be.offset=M-be.w,e(4294967286>M-be.w),e(be.offset==be.ha-z));break}return Me==0||Me==7&&Ye&&be==null?(fe!=null&&(fe[0]|=Ve.na!=null&&0<Ve.na.length),te!=null&&(te[0]=me),ce!=null&&(ce[0]=pt),0):Me}function kc(C,M,z){var te=M.width,ce=M.height,fe=0,me=0,ge=te,be=ce;if(M.Da=C!=null&&0<C.Da,M.Da&&(ge=C.cd,be=C.bd,fe=C.v,me=C.j,11>z||(fe&=-2,me&=-2),0>fe||0>me||0>=ge||0>=be||fe+ge>te||me+be>ce))return 0;if(M.v=fe,M.j=me,M.va=fe+ge,M.o=me+be,M.U=ge,M.T=be,M.da=C!=null&&0<C.da,M.da){if(!ze(ge,be,z=[C.ib],fe=[C.hb]))return 0;M.ib=z[0],M.hb=fe[0]}return M.ob=C!=null&&C.ob,M.Kb=C==null||!C.Sd,M.da&&(M.ob=M.ib<3*te/4&&M.hb<3*ce/4,M.Kb=0),1}function Uu(C){if(C==null)return 2;if(11>C.S){var M=C.f.RGBA;M.fb+=(C.height-1)*M.A,M.A=-M.A}else M=C.f.kb,C=C.height,M.O+=(C-1)*M.fa,M.fa=-M.fa,M.N+=(C-1>>1)*M.Ab,M.Ab=-M.Ab,M.W+=(C-1>>1)*M.Db,M.Db=-M.Db,M.F!=null&&(M.J+=(C-1)*M.lb,M.lb=-M.lb);return 0}function RA(C,M,z,te){if(te==null||0>=C||0>=M)return 2;if(z!=null){if(z.Da){var ce=z.cd,fe=z.bd,me=-2&z.v,ge=-2&z.j;if(0>me||0>ge||0>=ce||0>=fe||me+ce>C||ge+fe>M)return 2;C=ce,M=fe}if(z.da){if(!ze(C,M,ce=[z.ib],fe=[z.hb]))return 2;C=ce[0],M=fe[0]}}te.width=C,te.height=M;e:{var be=te.width,Te=te.height;if(C=te.S,0>=be||0>=Te||!(C>=Ra&&13>C))C=2;else{if(0>=te.Rd&&te.sd==null){me=fe=ce=M=0;var Le=(ge=be*Mx[C])*Te;if(11>C||(fe=(Te+1)/2*(M=(be+1)/2),C==12&&(me=(ce=be)*Te)),(Te=a(Le+2*fe+me))==null){C=1;break e}te.sd=Te,11>C?((be=te.f.RGBA).eb=Te,be.fb=0,be.A=ge,be.size=Le):((be=te.f.kb).y=Te,be.O=0,be.fa=ge,be.Fd=Le,be.f=Te,be.N=0+Le,be.Ab=M,be.Cd=fe,be.ea=Te,be.W=0+Le+fe,be.Db=M,be.Ed=fe,C==12&&(be.F=Te,be.J=0+Le+2*fe),be.Tc=me,be.lb=ce)}if(M=1,ce=te.S,fe=te.width,me=te.height,ce>=Ra&&13>ce)if(11>ce)C=te.f.RGBA,M&=(ge=Math.abs(C.A))*(me-1)+fe<=C.size,M&=ge>=fe*Mx[ce],M&=C.eb!=null;else{C=te.f.kb,ge=(fe+1)/2,Le=(me+1)/2,be=Math.abs(C.fa),Te=Math.abs(C.Ab);var Ye=Math.abs(C.Db),qe=Math.abs(C.lb),Ve=qe*(me-1)+fe;M&=be*(me-1)+fe<=C.Fd,M&=Te*(Le-1)+ge<=C.Cd,M=(M&=Ye*(Le-1)+ge<=C.Ed)&be>=fe&Te>=ge&Ye>=ge,M&=C.y!=null,M&=C.f!=null,M&=C.ea!=null,ce==12&&(M&=qe>=fe,M&=Ve<=C.Tc,M&=C.F!=null)}else M=0;C=M?0:2}}return C!=0||z!=null&&z.fd&&(C=Uu(te)),C}var Ps=64,Ic=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],DA=24,UA=32,Lu=8,di=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];mt("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(C){return C},N.Predictor2=function(C,M,z){return M[z+0]},N.Predictor3=function(C,M,z){return M[z+1]},N.Predictor4=function(C,M,z){return M[z-1]},N.Predictor5=function(C,M,z){return At(At(C,M[z+1]),M[z+0])},N.Predictor6=function(C,M,z){return At(C,M[z-1])},N.Predictor7=function(C,M,z){return At(C,M[z+0])},N.Predictor8=function(C,M,z){return At(M[z-1],M[z+0])},N.Predictor9=function(C,M,z){return At(M[z+0],M[z+1])},N.Predictor10=function(C,M,z){return At(At(C,M[z-1]),At(M[z+0],M[z+1]))},N.Predictor11=function(C,M,z){var te=M[z+0];return 0>=qt(te>>24&255,C>>24&255,(M=M[z-1])>>24&255)+qt(te>>16&255,C>>16&255,M>>16&255)+qt(te>>8&255,C>>8&255,M>>8&255)+qt(255&te,255&C,255&M)?te:C},N.Predictor12=function(C,M,z){var te=M[z+0];return(kt((C>>24&255)+(te>>24&255)-((M=M[z-1])>>24&255))<<24|kt((C>>16&255)+(te>>16&255)-(M>>16&255))<<16|kt((C>>8&255)+(te>>8&255)-(M>>8&255))<<8|kt((255&C)+(255&te)-(255&M)))>>>0},N.Predictor13=function(C,M,z){var te=M[z-1];return(Ft((C=At(C,M[z+0]))>>24&255,te>>24&255)<<24|Ft(C>>16&255,te>>16&255)<<16|Ft(C>>8&255,te>>8&255)<<8|Ft(C>>0&255,te>>0&255))>>>0};var Pm=N.PredictorAdd0;N.PredictorAdd1=Mt,mt("Predictor2","PredictorAdd2"),mt("Predictor3","PredictorAdd3"),mt("Predictor4","PredictorAdd4"),mt("Predictor5","PredictorAdd5"),mt("Predictor6","PredictorAdd6"),mt("Predictor7","PredictorAdd7"),mt("Predictor8","PredictorAdd8"),mt("Predictor9","PredictorAdd9"),mt("Predictor10","PredictorAdd10"),mt("Predictor11","PredictorAdd11"),mt("Predictor12","PredictorAdd12"),mt("Predictor13","PredictorAdd13");var Af=N.PredictorAdd2;It("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),It("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var Bh,no=N.ColorIndexInverseTransform,ra=N.MapARGB,Fc=N.VP8LColorIndexInverseTransformAlpha,uf=N.MapAlpha,Ql=N.VP8LPredictorsAdd=[];Ql.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var Rc,za,ya,Dc,fi,To,al,Bo,cs,No,Bs,hi,LA,il,Mu,Uc,Lc,Mc,MA,Pu,Pc,Hl,PA,As,ji,Vn,Gn,Vr,ps=a(511),ro=a(2041),Oc=a(225),jc=a(767),Vl=0,Nh=ro,OA=Oc,sa=jc,so=ps,Ra=0,Ou=1,ol=2,df=3,jA=4,Gl=5,kh=6,ff=7,Qc=8,zl=9,ju=10,Ih=[2,3,7],ao=[3,3,11],Qi=[280,256,256,256,40],QA=[0,1,1,1,0],Kl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ql=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],HA=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Fx=8,hf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],mf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Os=null,us=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Hc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ll=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Om=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],VA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Rx=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Wl=[],Ka=[],Hi=[],Dx=1,Qu=2,cl=[],aa=[];ot("UpsampleRgbLinePair",xe,3),ot("UpsampleBgrLinePair",je,3),ot("UpsampleRgbaLinePair",Sn,4),ot("UpsampleBgraLinePair",Wn,4),ot("UpsampleArgbLinePair",fn,4),ot("UpsampleRgba4444LinePair",St,2),ot("UpsampleRgb565LinePair",Xe,2);var $l=N.UpsampleRgbLinePair,Vc=N.UpsampleBgrLinePair,Al=N.UpsampleRgbaLinePair,Fh=N.UpsampleBgraLinePair,Rh=N.UpsampleArgbLinePair,Hu=N.UpsampleRgba4444LinePair,Dh=N.UpsampleRgb565LinePair,ul=16,js=1<<ul-1,Gc=-227,Uh=482,_w=6,Ux=0,Sw=a(256),Qs=a(256),jm=a(256),pf=a(256),gf=a(Uh-Gc),Qm=a(Uh-Gc);Sr("YuvToRgbRow",xe,3),Sr("YuvToBgrRow",je,3),Sr("YuvToRgbaRow",Sn,4),Sr("YuvToBgraRow",Wn,4),Sr("YuvToArgbRow",fn,4),Sr("YuvToRgba4444Row",St,2),Sr("YuvToRgb565Row",Xe,2);var GA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Yl=[0,2,8],Tw=[8,7,6,4,4,2,2,2,1,1,1,1],Lx=1;this.WebPDecodeRGBA=function(C,M,z,te,ce){var fe=Ou,me=new Pl,ge=new Wr;me.ba=ge,ge.S=fe,ge.width=[ge.width],ge.height=[ge.height];var be=ge.width,Te=ge.height,Le=new ls;if(Le==null||C==null)var Ye=2;else e(Le!=null),Ye=sl(C,M,z,Le.width,Le.height,Le.Pd,Le.Qd,Le.format,null);if(Ye!=0?be=0:(be!=null&&(be[0]=Le.width[0]),Te!=null&&(Te[0]=Le.height[0]),be=1),be){ge.width=ge.width[0],ge.height=ge.height[0],te!=null&&(te[0]=ge.width),ce!=null&&(ce[0]=ge.height);e:{if(te=new Ms,(ce=new Bc).data=C,ce.w=M,ce.ha=z,ce.kd=1,M=[0],e(ce!=null),((C=sl(ce.data,ce.w,ce.ha,null,null,null,M,null,ce))==0||C==7)&&M[0]&&(C=4),(M=C)==0){if(e(me!=null),te.data=ce.data,te.w=ce.w+ce.offset,te.ha=ce.ha-ce.offset,te.put=hs,te.ac=jr,te.bc=ma,te.ma=me,ce.xa){if((C=et())==null){me=1;break e}if(function(qe,Ve){var pt=[0],at=[0],Me=[0];t:for(;;){if(qe==null)return 0;if(Ve==null)return qe.a=2,0;if(qe.l=Ve,qe.a=0,oe(qe.m,Ve.data,Ve.w,Ve.ha),!Ht(qe.m,pt,at,Me)){qe.a=3;break t}if(qe.xb=Qu,Ve.width=pt[0],Ve.height=at[0],!Qe(pt[0],at[0],1,qe,null))break t;return 1}return e(qe.a!=0),0}(C,te)){if(te=(M=RA(te.width,te.height,me.Oa,me.ba))==0){t:{te=C;n:for(;;){if(te==null){te=0;break t}if(e(te.s.yc!=null),e(te.s.Ya!=null),e(0<te.s.Wb),e((z=te.l)!=null),e((ce=z.ma)!=null),te.xb!=0){if(te.ca=ce.ba,te.tb=ce.tb,e(te.ca!=null),!kc(ce.Oa,z,df)){te.a=2;break n}if(!We(te,z.width)||z.da)break n;if((z.da||Bn(te.ca.S))&&He(),11>te.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),te.ca.f.kb.F!=null&&He()),te.Pb&&0<te.s.ua&&te.s.vb.X==null&&!st(te.s.vb,te.s.Wa.Xa)){te.a=1;break n}te.xb=0}if(!Ne(te,te.V,te.Ba,te.c,te.i,z.o,Be))break n;ce.Dc=te.Ma,te=1;break t}e(te.a!=0),te=0}te=!te}te&&(M=C.a)}else M=C.a}else{if((C=new pa)==null){me=1;break e}if(C.Fa=ce.na,C.P=ce.P,C.qc=ce.Sa,Cc(C,te)){if((M=RA(te.width,te.height,me.Oa,me.ba))==0){if(C.Aa=0,z=me.Oa,e((ce=C)!=null),z!=null){if(0<(be=0>(be=z.Md)?0:100<be?255:255*be/100)){for(Te=Le=0;4>Te;++Te)12>(Ye=ce.pb[Te]).lc&&(Ye.ia=be*Tw[0>Ye.lc?0:Ye.lc]>>3),Le|=Ye.ia;Le&&(alert("todo:VP8InitRandom"),ce.ia=1)}ce.Ga=z.Id,100<ce.Ga?ce.Ga=100:0>ce.Ga&&(ce.Ga=0)}TA(C,te)||(M=C.a)}}else M=C.a}M==0&&me.Oa!=null&&me.Oa.fd&&(M=Uu(me.ba))}me=M}fe=me!=0?null:11>fe?ge.f.RGBA.eb:ge.f.kb.y}else fe=null;return fe};var Mx=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(N,B){for(var V="",U=0;U<4;U++)V+=String.fromCharCode(N[B++]);return V}function d(N,B){return(N[B+0]<<0|N[B+1]<<8|N[B+2]<<16)>>>0}function h(N,B){return(N[B+0]<<0|N[B+1]<<8|N[B+2]<<16|N[B+3]<<24)>>>0}new l;var p=[0],g=[0],w=[],b=new l,E=t,T=function(N,B){var V={},U=0,L=!1,j=0,G=0;if(V.frames=[],!function(q,J,ne,ae){for(var ue=0;ue<ae;ue++)if(q[J+ue]!=ne.charCodeAt(ue))return!0;return!1}(N,B,"RIFF",4)){var se,K;for(h(N,B+=4),B+=8;B<N.length;){var Y=A(N,B),oe=h(N,B+=4);B+=4;var Z=oe+(1&oe);switch(Y){case"VP8 ":case"VP8L":V.frames[U]===void 0&&(V.frames[U]={}),(O=V.frames[U]).src_off=L?G:B-8,O.src_size=j+oe+8,U++,L&&(L=!1,j=0,G=0);break;case"VP8X":(O=V.header={}).feature_flags=N[B];var ee=B+4;O.canvas_width=1+d(N,ee),ee+=3,O.canvas_height=1+d(N,ee),ee+=3;break;case"ALPH":L=!0,j=Z+8,G=B-8;break;case"ANIM":(O=V.header).bgcolor=h(N,B),ee=B+4,O.loop_count=(se=N)[(K=ee)+0]<<0|se[K+1]<<8,ee+=2;break;case"ANMF":var he,O;(O=V.frames[U]={}).offset_x=2*d(N,B),B+=3,O.offset_y=2*d(N,B),B+=3,O.width=1+d(N,B),B+=3,O.height=1+d(N,B),B+=3,O.duration=d(N,B),B+=3,he=N[B++],O.dispose=1&he,O.blend=he>>1&1}Y!="ANMF"&&(B+=Z)}return V}}(E,0);T.response=E,T.rgbaoutput=!0,T.dataurl=!1;var I=T.header?T.header:null,k=T.frames?T.frames:null;if(I){I.loop_counter=I.loop_count,p=[I.canvas_height],g=[I.canvas_width];for(var F=0;F<k.length&&k[F].blend!=0;F++);}var D=k[0],P=b.WebPDecodeRGBA(E,D.src_off,D.src_size,g,p);D.rgba=P,D.imgwidth=g[0],D.imgheight=p[0];for(var S=0;S<g[0]*p[0]*4;S++)w[S]=P[S];return this.width=g,this.height=p,this.data=w,this}(function(t){var e=function(){return typeof u_=="function"},n=function(p,g,w,b){var E=4,T=i;switch(b){case t.image_compression.FAST:E=1,T=a;break;case t.image_compression.MEDIUM:E=6,T=o;break;case t.image_compression.SLOW:E=9,T=l}p=r(p,g,w,T);var I=u_(p,{level:E});return t.__addimage__.arrayBufferToBinaryString(I)},r=function(p,g,w,b){for(var E,T,I,k=p.length/g,F=new Uint8Array(p.length+k),D=d(),P=0;P<k;P+=1){if(I=P*g,E=p.subarray(I,I+g),b)F.set(b(E,w,T),I+P);else{for(var S,N=D.length,B=[];S<N;S+=1)B[S]=D[S](E,w,T);var V=h(B.concat());F.set(B[V],I+P)}T=E}return F},s=function(p){var g=Array.apply([],p);return g.unshift(0),g},a=function(p,g){var w,b=[],E=p.length;b[0]=1;for(var T=0;T<E;T+=1)w=p[T-g]||0,b[T+1]=p[T]-w+256&255;return b},i=function(p,g,w){var b,E=[],T=p.length;E[0]=2;for(var I=0;I<T;I+=1)b=w&&w[I]||0,E[I+1]=p[I]-b+256&255;return E},o=function(p,g,w){var b,E,T=[],I=p.length;T[0]=3;for(var k=0;k<I;k+=1)b=p[k-g]||0,E=w&&w[k]||0,T[k+1]=p[k]+256-(b+E>>>1)&255;return T},l=function(p,g,w){var b,E,T,I,k=[],F=p.length;k[0]=4;for(var D=0;D<F;D+=1)b=p[D-g]||0,E=w&&w[D]||0,T=w&&w[D-g]||0,I=A(b,E,T),k[D+1]=p[D]-I+256&255;return k},A=function(p,g,w){if(p===g&&g===w)return p;var b=Math.abs(g-w),E=Math.abs(p-w),T=Math.abs(p+g-w-w);return b<=E&&b<=T?p:E<=T?g:w},d=function(){return[s,a,i,o,l]},h=function(p){var g=p.map(function(w){return w.reduce(function(b,E){return b+Math.abs(E)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(p,g,w,b){var E,T,I,k,F,D,P,S,N,B,V,U,L,j,G,se=this.decode.FLATE_DECODE,K="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(I=new Yse(p)).imgData,T=I.bits,E=I.colorSpace,F=I.colors,[4,6].indexOf(I.colorType)!==-1){if(I.bits===8){N=(S=I.pixelBitlength==32?new Uint32Array(I.decodePixels().buffer):I.pixelBitlength==16?new Uint16Array(I.decodePixels().buffer):new Uint8Array(I.decodePixels().buffer)).length,V=new Uint8Array(N*I.colors),B=new Uint8Array(N);var Y,oe=I.pixelBitlength-I.bits;for(j=0,G=0;j<N;j++){for(L=S[j],Y=0;Y<oe;)V[G++]=L>>>Y&255,Y+=I.bits;B[j]=L>>>Y&255}}if(I.bits===16){N=(S=new Uint32Array(I.decodePixels().buffer)).length,V=new Uint8Array(N*(32/I.pixelBitlength)*I.colors),B=new Uint8Array(N*(32/I.pixelBitlength)),U=I.colors>1,j=0,G=0;for(var Z=0;j<N;)L=S[j++],V[G++]=L>>>0&255,U&&(V[G++]=L>>>16&255,L=S[j++],V[G++]=L>>>0&255),B[Z++]=L>>>16&255;T=8}b!==t.image_compression.NONE&&e()?(p=n(V,I.width*I.colors,I.colors,b),P=n(B,I.width,1,b)):(p=V,P=B,se=void 0)}if(I.colorType===3&&(E=this.color_spaces.INDEXED,D=I.palette,I.transparency.indexed)){var ee=I.transparency.indexed,he=0;for(j=0,N=ee.length;j<N;++j)he+=ee[j];if((he/=255)===N-1&&ee.indexOf(0)!==-1)k=[ee.indexOf(0)];else if(he!==N){for(S=I.decodePixels(),B=new Uint8Array(S.length),j=0,N=S.length;j<N;j++)B[j]=ee[S[j]];P=n(B,I.width,1)}}var O=function(q){var J;switch(q){case t.image_compression.FAST:J=11;break;case t.image_compression.MEDIUM:J=13;break;case t.image_compression.SLOW:J=14;break;default:J=12}return J}(b);return se===this.decode.FLATE_DECODE&&(K="/Predictor "+O+" "),K+="/Colors "+F+" /BitsPerComponent "+T+" /Columns "+I.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(P&&this.__addimage__.isArrayBuffer(P)||this.__addimage__.isArrayBufferView(P))&&(P=this.__addimage__.arrayBufferToBinaryString(P)),{alias:w,data:p,index:g,filter:se,decodeParameters:K,transparency:k,palette:D,sMask:P,predictor:O,width:I.width,height:I.height,bitsPerComponent:T,colorSpace:E}}}})(sn.API),function(t){t.processGIF89A=function(e,n,r,s){var a=new Jse(e),i=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var A={data:l,width:i,height:o},d=new mC(100).encode(A,100);return t.processJPEG.call(this,d,n,r,s)},t.processGIF87A=t.processGIF89A}(sn.API),sc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},sc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Yr.log("bit decode error:"+n)}},sc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[i+4*o]=l.blue,this.data[i+4*o+1]=l.green,this.data[i+4*o+2]=l.red,this.data[i+4*o+3]=255}n!==0&&(this.pos+=4-n)}},sc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+2*s*4,o=a>>4,l=15&a,A=this.palette[o];if(this.data[i]=A.blue,this.data[i+1]=A.green,this.data[i+2]=A.red,this.data[i+3]=255,2*s+1>=this.width)break;A=this.palette[l],this.data[i+4]=A.blue,this.data[i+4+1]=A.green,this.data[i+4+2]=A.red,this.data[i+4+3]=255}e!==0&&(this.pos+=4-e)}},sc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(s<this.palette.length){var i=this.palette[s];this.data[a]=i.red,this.data[a+1]=i.green,this.data[a+2]=i.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},sc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,A=a>>15?255:0,d=r*this.width*4+4*s;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=i,this.data[d+3]=A}this.pos+=t}},sc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&n)/n*255|0,A=(i>>11)/e*255|0,d=s*this.width*4+4*a;this.data[d]=A,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},sc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=e*this.width*4+4*n;this.data[i]=a,this.data[i+1]=s,this.data[i+2]=r,this.data[i+3]=255}this.pos+=this.width%4}},sc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=i}},sc.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,s){var a=new sc(e,!1),i=a.width,o=a.height,l={data:a.getData(),width:i,height:o},A=new mC(100).encode(l,100);return t.processJPEG.call(this,A,n,r,s)}}(sn.API),hI.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,s){var a=new hI(e),i=a.width,o=a.height,l={data:a.getData(),width:i,height:o},A=new mC(100).encode(l,100);return t.processJPEG.call(this,A,n,r,s)}}(sn.API),sn.API.processRGBA=function(t,e,n){for(var r=t.data,s=r.length,a=new Uint8Array(s/4*3),i=new Uint8Array(s/4),o=0,l=0,A=0;A<s;A+=4){var d=r[A],h=r[A+1],p=r[A+2],g=r[A+3];a[o++]=d,a[o++]=h,a[o++]=p,i[l++]=g}var w=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:w,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},sn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},s0=sn.API,G1=s0.getCharWidthsArray=function(t,e){var n,r,s=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),i=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:s.metadata.Unicode.widths,l=o.fof?o.fof:1,A=e.kerning?e.kerning:s.metadata.Unicode.kerning,d=A.fof?A.fof:1,h=e.doKerning!==!1,p=0,g=t.length,w=0,b=o[0]||l,E=[];for(n=0;n<g;n++)r=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?E.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+i*(1e3/a)||0)/1e3):(p=h&&Mr(A[r])==="object"&&!isNaN(parseInt(A[r][w],10))?A[r][w]/d:0,E.push((o[r]||b)/l+p)),w=r;return E},AI=s0.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return s0.processArabic&&(t=s0.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,s)/n:G1.apply(this,arguments).reduce(function(a,i){return a+i},0)},uI=function(t,e,n,r){for(var s=[],a=0,i=t.length,o=0;a!==i&&o+e[a]<n;)o+=e[a],a++;s.push(t.slice(0,a));var l=a;for(o=0;a!==i;)o+e[a]>r&&(s.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&s.push(t.slice(l,a)),s},dI=function(t,e,n){n||(n={});var r,s,a,i,o,l,A,d=[],h=[d],p=n.textIndent||0,g=0,w=0,b=t.split(" "),E=G1.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var T=Array(l).join(" "),I=[];b.map(function(F){(F=F.split(/\s*\n/)).length>1?I=I.concat(F.map(function(D,P){return(P&&D.length?`
`:"")+D})):I.push(F[0])}),b=I,l=AI.apply(this,[T,n])}for(a=0,i=b.length;a<i;a++){var k=0;if(r=b[a],l&&r[0]==`
`&&(r=r.substr(1),k=1),p+g+(w=(s=G1.apply(this,[r,n])).reduce(function(F,D){return F+D},0))>e||k){if(w>e){for(o=uI.apply(this,[r,s,e-(p+g),e]),d.push(o.shift()),d=[o.pop()];o.length;)h.push([o.shift()]);w=s.slice(r.length-(d[0]?d[0].length:0)).reduce(function(F,D){return F+D},0)}else d=[r];h.push(d),p=w+l,g=E}else d.push(r),p+=g+w,g=E}return A=l?function(F,D){return(D?T:"")+F.join(" ")}:function(F){return F.join(" ")},h.map(A)},s0.splitTextToSize=function(t,e,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var i=1*this.internal.scaleFactor*e/s;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=n.lineIndent;var o,l,A=[];for(o=0,l=r.length;o<l;o++)A=A.concat(dI.apply(this,[r[o],i,a]));return A},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},s=0;s<e.length;s++)n[e[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=e[s];var a=function(h){return"0x"+parseInt(h,10).toString(16)},i=t.__fontmetrics__.compress=function(h){var p,g,w,b,E=["{"];for(var T in h){if(p=h[T],isNaN(parseInt(T,10))?g="'"+T+"'":(T=parseInt(T,10),g=(g=a(T).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof p=="number")p<0?(w=a(p).slice(3),b="-"):(w=a(p).slice(2),b=""),w=b+w.slice(0,-1)+r[w.slice(-1)];else{if(Mr(p)!=="object")throw new Error("Don't know what to do with value type "+Mr(p)+".");w=i(p)}E.push(g+w)}return E.push("}"),E.join("")},o=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,g,w,b,E={},T=1,I=E,k=[],F="",D="",P=h.length-1,S=1;S<P;S+=1)(b=h[S])=="'"?p?(w=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(k.push([I,w]),I={},w=void 0):b=="}"?((g=k.pop())[0][g[1]]=I,w=void 0,I=g[0]):b=="-"?T=-1:w===void 0?n.hasOwnProperty(b)?(F+=n[b],w=parseInt(F,16)*T,T=1,F=""):F+=b:n.hasOwnProperty(b)?(D+=n[b],I[w]=parseInt(D,16)*T,T=1,w=void 0,D=""):D+=b;return E},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var p=h.font,g=d.Unicode[p.postScriptName];g&&(p.metadata.Unicode={},p.metadata.Unicode.widths=g.widths,p.metadata.Unicode.kerning=g.kerning);var w=A.Unicode[p.postScriptName];w&&(p.metadata.Unicode.encoding=w,p.encoding=w.codePages[0])}])}(sn.API),function(t){var e=function(n){for(var r=n.length,s=new Uint8Array(r),a=0;a<r;a++)s[a]=n.charCodeAt(a);return s};t.API.events.push(["addFont",function(n){var r=void 0,s=n.font,a=n.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(i,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(dg(o)),i.metadata=t.API.TTFFont.open(o),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(s,r)}}])}(sn),function(t){function e(){return(yn.canvg?Promise.resolve(yn.canvg):i_(()=>import("./index.es-CgNJXx6v.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}sn.API.addSvgAsImage=function(n,r,s,a,i,o,l,A){if(isNaN(r)||isNaN(s))throw Yr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(i))throw Yr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=a,d.height=i;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(w){return w.fromString(h,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(p)}).then(function(){g.addImage(d.toDataURL("image/jpeg",1),r,s,a,i,l,A)})}}(),sn.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,n);return this},sn.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,s,a,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),l=[],A=0,d=0,h=0;function p(w,b){var E,T=!1;for(E=0;E<w.length;E+=1)w[E]===b&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=o.length;for(h=0;h<g;h+=1)n[o[h]].value=n[o[h]].defaultValue,n[o[h]].explicitSet=!1}if(Mr(t)==="object"){for(s in t)if(a=t[s],p(o,s)&&a!==void 0){if(n[s].type==="boolean"&&typeof a=="boolean")n[s].value=a;else if(n[s].type==="name"&&p(n[s].valueSet,a))n[s].value=a;else if(n[s].type==="integer"&&Number.isInteger(a))n[s].value=a;else if(n[s].type==="array"){for(A=0;A<a.length;A+=1)if(r=!0,a[A].length===1&&typeof a[A][0]=="number")l.push(String(a[A]-1));else if(a[A].length>1){for(d=0;d<a[A].length;d+=1)typeof a[A][d]!="number"&&(r=!1);r===!0&&l.push([a[A][0]-1,a[A][1]-1].join(" "))}n[s].value="["+l.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,b=[];for(w in n)n[w].explicitSet===!0&&(n[w].type==="name"?b.push("/"+w+" /"+n[w].value):b.push("/"+w+" "+n[w].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),A=a.length+i.length+o.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+A+" >>"),this.internal.write("stream"),this.internal.write(s+a+i+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(sn.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,i){for(var o,l=i.metadata.Unicode.widths,A=["","0","00","000","0000"],d=[""],h=0,p=a.length;h<p;++h){if(o=i.metadata.characterToGlyph(a.charCodeAt(h)),i.metadata.glyIdsUsed.push(o),i.metadata.toUnicode[o]=a.charCodeAt(h),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(i.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(A[4-o.length],o)}return d.join("")},r=function(a){var i,o,l,A,d,h,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(o=Object.keys(a).sort(function(g,w){return g-w})).length;h<p;h++)i=o[h],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[i]!==void 0&&a[i]!==null&&typeof a[i].toString=="function"&&(A=("0000"+a[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),l.push("<"+i+"><"+A+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(i){var o=i.font,l=i.out,A=i.newObject,d=i.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),g="",w=0;w<p.length;w++)g+=String.fromCharCode(p[w]);var b=A();d({data:g,addLength1:!0,objectId:b}),l("endobj");var E=A();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:E}),l("endobj");var T=A();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+T0(o.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var I=A();l("<<"),l("/Type /Font"),l("/BaseFont /"+T0(o.fontName)),l("/FontDescriptor "+T+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=A(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+E+" 0 R"),l("/BaseFont /"+T0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+I+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(i){var o=i.font,l=i.out,A=i.newObject,d=i.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var w=A();d({data:p,addLength1:!0,objectId:w}),l("endobj");var b=A();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var E=A();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+w+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+T0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=A();for(var T=0;T<o.metadata.hmtx.widths.length;T++)o.metadata.hmtx.widths[T]=parseInt(o.metadata.hmtx.widths[T]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+T0(o.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var s=function(a){var i,o=a.text||"",l=a.x,A=a.y,d=a.options||{},h=a.mutex||{},p=h.pdfEscape,g=h.activeFontKey,w=h.fonts,b=g,E="",T=0,I="",k=w[b].encoding;if(w[b].encoding!=="Identity-H")return{text:o,x:l,y:A,options:d,mutex:h};for(I=o,b=g,Array.isArray(o)&&(I=o[0]),T=0;T<I.length;T+=1)w[b].metadata.hasOwnProperty("cmap")&&(i=w[b].metadata.cmap.unicode.codeMap[I[T].charCodeAt(0)]),i||I[T].charCodeAt(0)<256&&w[b].metadata.hasOwnProperty("Unicode")?E+=I[T]:E+="";var F="";return parseInt(b.slice(1))<14||k==="WinAnsiEncoding"?F=p(E,b).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(F=n(E,w[b])),h.isHex=!0,{text:F,x:l,y:A,options:d,mutex:h}};e.events.push(["postProcessText",function(a){var i=a.text||"",o=[],l={text:i,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(i)){var A=0;for(A=0;A<i.length;A+=1)Array.isArray(i[A])&&i[A].length===3?o.push([s(Object.assign({},l,{text:i[A][0]})).text,i[A][1],i[A][2]]):o.push(s(Object.assign({},l,{text:i[A]})).text);a.text=o}else a.text=s(Object.assign({},l,{text:i})).text}])}(sn),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(sn.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var s,a,i,o,l,A,d,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,k=0;this.__bidiEngine__={};var F=function(U){var L=U.charCodeAt(),j=L>>8,G=b[j];return G!==void 0?h[256*G+(255&L)]:j===252||j===253?"AL":T.test(j)?"L":j===8?"R":"N"},D=function(U){for(var L,j=0;j<U.length;j++){if((L=F(U.charAt(j)))==="L")return!1;if(L==="R")return!0}return!1},P=function(U,L,j,G){var se,K,Y,oe,Z=L[G];switch(Z){case"L":case"R":I=!1;break;case"N":case"AN":break;case"EN":I&&(Z="AN");break;case"AL":I=!0,Z="R";break;case"WS":Z="N";break;case"CS":G<1||G+1>=L.length||(se=j[G-1])!=="EN"&&se!=="AN"||(K=L[G+1])!=="EN"&&K!=="AN"?Z="N":I&&(K="AN"),Z=K===se?K:"N";break;case"ES":Z=(se=G>0?j[G-1]:"B")==="EN"&&G+1<L.length&&L[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&j[G-1]==="EN"){Z="EN";break}if(I){Z="N";break}for(Y=G+1,oe=L.length;Y<oe&&L[Y]==="ET";)Y++;Z=Y<oe&&L[Y]==="EN"?"EN":"N";break;case"NSM":if(i&&!o){for(oe=L.length,Y=G+1;Y<oe&&L[Y]==="NSM";)Y++;if(Y<oe){var ee=U[G],he=ee>=1425&&ee<=2303||ee===64286;if(se=L[Y],he&&(se==="R"||se==="AL")){Z="R";break}}}Z=G<1||(se=L[G-1])==="B"?"N":j[G-1];break;case"B":I=!1,s=!0,Z=k;break;case"S":a=!0,Z="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"BN":Z="N"}return Z},S=function(U,L,j){var G=U.split("");return j&&N(G,j,{hiLevel:k}),G.reverse(),L&&L.reverse(),G.join("")},N=function(U,L,j){var G,se,K,Y,oe,Z=-1,ee=U.length,he=0,O=[],q=k?g:p,J=[];for(I=!1,s=!1,a=!1,se=0;se<ee;se++)J[se]=F(U[se]);for(K=0;K<ee;K++){if(oe=he,O[K]=P(U,J,O,K),G=240&(he=q[oe][w[O[K]]]),he&=15,L[K]=Y=q[he][5],G>0)if(G===16){for(se=Z;se<K;se++)L[se]=1;Z=-1}else Z=-1;if(q[he][6])Z===-1&&(Z=K);else if(Z>-1){for(se=Z;se<K;se++)L[se]=Y;Z=-1}J[K]==="B"&&(L[K]=0),j.hiLevel|=Y}a&&function(ne,ae,ue){for(var pe=0;pe<ue;pe++)if(ne[pe]==="S"){ae[pe]=k;for(var ye=pe-1;ye>=0&&ne[ye]==="WS";ye--)ae[ye]=k}}(J,L,ee)},B=function(U,L,j,G,se){if(!(se.hiLevel<U)){if(U===1&&k===1&&!s)return L.reverse(),void(j&&j.reverse());for(var K,Y,oe,Z,ee=L.length,he=0;he<ee;){if(G[he]>=U){for(oe=he+1;oe<ee&&G[oe]>=U;)oe++;for(Z=he,Y=oe-1;Z<Y;Z++,Y--)K=L[Z],L[Z]=L[Y],L[Y]=K,j&&(K=j[Z],j[Z]=j[Y],j[Y]=K);he=oe}he++}}},V=function(U,L,j){var G=U.split(""),se={hiLevel:k};return j||(j=[]),N(G,j,se),function(K,Y,oe){if(oe.hiLevel!==0&&d)for(var Z,ee=0;ee<K.length;ee++)Y[ee]===1&&(Z=E.indexOf(K[ee]))>=0&&(K[ee]=E[Z+1])}(G,j,se),B(2,G,L,j,se),B(1,G,L,j,se),G.join("")};return this.__bidiEngine__.doBidiReorder=function(U,L,j){if(function(se,K){if(K)for(var Y=0;Y<se.length;Y++)K[Y]=Y;o===void 0&&(o=D(se)),A===void 0&&(A=D(se))}(U,L),i||!l||A)if(i&&l&&o^A)k=o?1:0,U=S(U,L,j);else if(!i&&l&&A)k=o?1:0,U=V(U,L,j),U=S(U,L);else if(!i||o||l||A){if(i&&!l&&o^A)U=S(U,L),o?(k=0,U=V(U,L,j)):(k=1,U=V(U,L,j),U=S(U,L));else if(i&&o&&!l&&A)k=1,U=V(U,L,j),U=S(U,L);else if(!i&&!l&&o^A){var G=d;o?(k=1,U=V(U,L,j),k=0,d=!1,U=V(U,L,j),d=G):(k=0,U=V(U,L,j),U=S(U,L),k=1,d=!1,U=V(U,L,j),d=G,U=S(U,L))}}else k=0,U=V(U,L,j);else k=o?1:0,U=V(U,L,j);return U},this.__bidiEngine__.setOptions=function(U){U&&(i=U.isInputVisual,l=U.isOutputVisual,o=U.isInputRtl,A=U.isOutputRtl,d=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var s=r.text,a=(r.x,r.y,r.options||{}),i=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(i=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?i.push([n.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):i.push([n.doBidiReorder(s[o])]);r.text=i}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(sn),sn.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Jd(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new dae(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Xse(this.contents),this.head=new eae(this),this.name=new aae(this),this.cmap=new I8(this),this.toUnicode={},this.hhea=new tae(this),this.maxp=new iae(this),this.hmtx=new oae(this),this.post=new rae(this),this.os2=new nae(this),this.loca=new uae(this),this.glyf=new lae(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,o,l,A;for(A=[],i=0,o=(l=this.bbox).length;i<o;i++)e=l[i],A.push(Math.round(e*this.scaleFactor));return A}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),(32768&(n=s>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var s,a,i,o;for(i=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)s=e.charCodeAt(a),i+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return i*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var yc,Jd=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,s;for(s=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,s,a,i,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^a)+65536*(255^i)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*s+16777216*a+65536*i+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,s,a;for(a=[],r=0,s=e.length;r<s;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),Xse=function(){var t;function e(n){var r,s,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,s,a,i,o,l,A,d,h,p,g,w,b;for(b in g=Object.keys(n).length,l=Math.log(2),h=16*Math.floor(Math.log(g)/l),i=Math.floor(h/l),d=16*g-h,(s=new Jd).writeInt(this.scalarType),s.writeShort(g),s.writeShort(h),s.writeShort(i),s.writeShort(d),a=16*g,A=s.pos+a,o=null,w=[],n)for(p=n[b],s.writeString(b),s.writeInt(t(p)),s.writeInt(A),s.writeInt(p.length),w=w.concat(p),b==="head"&&(o=A),A+=p.length;A%4;)w.push(0),A++;return s.write(w),r=2981146554-t(s.data),s.pos=o+8,s.writeUInt32(r),s.data},t=function(n){var r,s,a,i;for(n=F8.call(n);n.length%4;)n.push(0);for(a=new Jd(n),s=0,r=0,i=n.length;r<i;r=r+=4)s+=a.readUInt32();return 4294967295&s},e}(),Zse={}.hasOwnProperty,wA=function(t,e){for(var n in e)Zse.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};yc=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var eae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,yc),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Jd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),mI=function(){function t(e,n){var r,s,a,i,o,l,A,d,h,p,g,w,b,E,T,I,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(g=e.readUInt16(),p=g/2,e.pos+=6,a=function(){var F,D;for(D=[],l=F=0;0<=p?F<p:F>p;l=0<=p?++F:--F)D.push(e.readUInt16());return D}(),e.pos+=2,b=function(){var F,D;for(D=[],l=F=0;0<=p?F<p:F>p;l=0<=p?++F:--F)D.push(e.readUInt16());return D}(),A=function(){var F,D;for(D=[],l=F=0;0<=p?F<p:F>p;l=0<=p?++F:--F)D.push(e.readUInt16());return D}(),d=function(){var F,D;for(D=[],l=F=0;0<=p?F<p:F>p;l=0<=p?++F:--F)D.push(e.readUInt16());return D}(),s=(this.length-e.pos+this.offset)/2,o=function(){var F,D;for(D=[],l=F=0;0<=s?F<s:F>s;l=0<=s?++F:--F)D.push(e.readUInt16());return D}(),l=T=0,k=a.length;T<k;l=++T)for(E=a[l],r=I=w=b[l];w<=E?I<=E:I>=E;r=w<=E?++I:--I)d[l]===0?i=r+A[l]:(i=o[d[l]/2+(r-w)-(p-l)]||0)!==0&&(i+=A[l]),this.codeMap[r]=65535&i}e.pos=h}return t.encode=function(e,n){var r,s,a,i,o,l,A,d,h,p,g,w,b,E,T,I,k,F,D,P,S,N,B,V,U,L,j,G,se,K,Y,oe,Z,ee,he,O,q,J,ne,ae,ue,pe,ye,Ie,we,ie;switch(G=new Jd,i=Object.keys(e).sort(function(De,st){return De-st}),n){case"macroman":for(b=0,E=function(){var De=[];for(w=0;w<256;++w)De.push(0);return De}(),I={0:0},a={},se=0,Z=i.length;se<Z;se++)I[ye=e[s=i[se]]]==null&&(I[ye]=++b),a[s]={old:e[s],new:I[e[s]]},E[s]=I[e[s]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(E),{charMap:a,subtable:G.data,maxGlyphID:b+1};case"unicode":for(L=[],h=[],k=0,I={},r={},T=A=null,K=0,ee=i.length;K<ee;K++)I[D=e[s=i[K]]]==null&&(I[D]=++k),r[s]={old:D,new:I[D]},o=I[D]-s,T!=null&&o===A||(T&&h.push(T),L.push(s),A=o),T=s;for(T&&h.push(T),h.push(65535),L.push(65535),V=2*(B=L.length),N=2*Math.pow(Math.log(B)/Math.LN2,2),p=Math.log(N/2)/Math.LN2,S=2*B-N,l=[],P=[],g=[],w=Y=0,he=L.length;Y<he;w=++Y){if(U=L[w],d=h[w],U===65535){l.push(0),P.push(0);break}if(U-(j=r[U].new)>=32768)for(l.push(0),P.push(2*(g.length+B-w)),s=oe=U;U<=d?oe<=d:oe>=d;s=U<=d?++oe:--oe)g.push(r[s].new);else l.push(j-U),P.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*B+2*g.length),G.writeUInt16(0),G.writeUInt16(V),G.writeUInt16(N),G.writeUInt16(p),G.writeUInt16(S),ue=0,O=h.length;ue<O;ue++)s=h[ue],G.writeUInt16(s);for(G.writeUInt16(0),pe=0,q=L.length;pe<q;pe++)s=L[pe],G.writeUInt16(s);for(Ie=0,J=l.length;Ie<J;Ie++)o=l[Ie],G.writeUInt16(o);for(we=0,ne=P.length;we<ne;we++)F=P[we],G.writeUInt16(F);for(ie=0,ae=g.length;ie<ae;ie++)b=g[ie],G.writeUInt16(b);return{charMap:r,subtable:G.data,maxGlyphID:k+1}}},t}(),I8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,yc),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,s,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)r=new mI(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var s,a;return r==null&&(r="macroman"),s=mI.encode(n,r),(a=new Jd).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},e}(),tae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,yc),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),nae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,yc),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(n.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),rae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,yc),e.prototype.tag="post",e.prototype.parse=function(n){var r,s,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var i;for(s=n.readUInt16(),this.glyphNameIndex=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var o,l,A;for(A=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)A.push(n.readUInt32());return A}).call(this)}},e}(),sae=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},aae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,yc),e.prototype.tag="name",e.prototype.parse=function(n){var r,s,a,i,o,l,A,d,h,p,g;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),s=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(A={},i=h=0,p=s.length;h<p;i=++h)a=s[i],n.pos=a.offset,d=n.readString(a.length),o=new sae(d,a),A[g=a.nameID]==null&&(A[g]=[]),A[a.nameID].push(o);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},e}(),iae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,yc),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),oae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,yc),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,s,a,i,o,l,A;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],r=d=0;0<=a?d<a:d>a;r=0<=a?++d:--d)h.push(n.readInt16());return h}(),this.widths=(function(){var d,h,p,g;for(g=[],d=0,h=(p=this.metrics).length;d<h;d++)i=p[d],g.push(i.advance);return g}).call(this),s=this.widths[this.widths.length-1],A=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)A.push(this.widths.push(s));return A},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),F8=[].slice,lae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,yc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,s,a,i,o,l,A,d,h,p;return n in this.cache?this.cache[n]:(i=this.file.loca,r=this.file.contents,s=i.indexOf(n),(a=i.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+s,o=(l=new Jd(r.read(a))).readShort(),d=l.readShort(),p=l.readShort(),A=l.readShort(),h=l.readShort(),this.cache[n]=o===-1?new Aae(l,d,p,A,h):new cae(l,o,d,p,A,h),this.cache[n]))},e.prototype.encode=function(n,r,s){var a,i,o,l,A;for(o=[],i=[],l=0,A=r.length;l<A;l++)a=n[r[l]],i.push(o.length),a&&(o=o.concat(a.encode(s)));return i.push(o.length),{table:o,offsets:i}},e}(),cae=function(){function t(e,n,r,s,a,i){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Aae=function(){function t(e,n,r,s,a){var i,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;o=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&o;)i.pos+=1&o?4:2,128&o?i.pos+=8:64&o?i.pos+=4:8&o&&(i.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Jd(F8.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),uae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wA(e,yc),e.prototype.tag="loca",e.prototype.parse=function(n){var r,s;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=2)i.push(2*n.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=4)i.push(n.readUInt32());return i}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var s=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<s.length;++o)if(s[o]=a,i<r.length&&r[i]==o){++i,s[o]=a;var l=this.offsets[o],A=this.offsets[o+1]-l;A>0&&(a+=A)}for(var d=new Array(4*s.length),h=0;h<s.length;++h)d[4*h+3]=255&s[h],d[4*h+2]=(65280&s[h])>>8,d[4*h+1]=(16711680&s[h])>>16,d[4*h]=(4278190080&s[h])>>24;return d},e}(),dae=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,s,a;for(n in s=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=s[r];return e},t.prototype.glyphsFor=function(e){var n,r,s,a,i,o,l;for(s={},i=0,o=e.length;i<o;i++)s[a=e[i]]=this.font.glyf.glyphFor(a);for(a in n=[],s)(r=s[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],s[a]=r;return s},t.prototype.encode=function(e,n){var r,s,a,i,o,l,A,d,h,p,g,w,b,E,T;for(s in r=I8.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),g={0:0},T=r.charMap)g[(l=T[s]).old]=l.new;for(w in p=r.maxGlyphID,i)w in g||(g[w]=p++);return d=function(I){var k,F;for(k in F={},I)F[I[k]]=k;return F}(g),h=Object.keys(d).sort(function(I,k){return I-k}),b=function(){var I,k,F;for(F=[],I=0,k=h.length;I<k;I++)o=h[I],F.push(d[o]);return F}(),a=this.font.glyf.encode(i,b,g),A=this.font.loca.encode(a.offsets,b),E={cmap:this.font.cmap.raw(),glyf:a.table,loca:A,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},t}();sn.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,s,a,i;if(Array.isArray(n))return"["+function(){var o,l,A;for(A=[],o=0,l=n.length;o<l;o++)r=n[o],A.push(e.convert(r));return A}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in a=["<<"],n)i=n[s],a.push("/"+s+" "+e.convert(i));return a.push(">>"),a.join(`
`)}return""+n},e}();function R8(t,e,n,r,s){r=r||{};var a=1.15,i=s.internal.scaleFactor,o=s.internal.getFontSize()/i,l=s.getLineHeightFactor?s.getLineHeightFactor():a,A=o*l,d=/\r\n|\r|\n/g,h="",p=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(h=typeof t=="string"?t.split(d):t,p=h.length||1),n+=o*(2-a),r.valign==="middle"?n-=p/2*A:r.valign==="bottom"&&(n-=p*A),r.halign==="center"||r.halign==="right"){var g=o;if(r.halign==="center"&&(g*=.5),h&&p>=1){for(var w=0;w<h.length;w++)s.text(h[w],e-s.getStringUnitWidth(h[w])*g,n),n+=A;return s}e-=s.getStringUnitWidth(t)*g}return r.halign==="justify"?s.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(t,e,n),s}var pI={},$0=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:pI=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,s,a;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var i=this.jsPDFDocument.internal.getFont(),o=i.fontStyle,l=i.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var A=this.getFontList()[l];A&&A.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(A[0]),o=A[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var d=t.unifyColor(e.fillColor);d&&(r=this.jsPDFDocument).setFillColor.apply(r,d),d=t.unifyColor(e.textColor),d&&(s=this.jsPDFDocument).setTextColor.apply(s,d),d=t.unifyColor(e.lineColor),d&&(a=this.jsPDFDocument).setDrawColor.apply(a,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,s,a){return this.jsPDFDocument.rect(e,n,r,s,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return pI||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),x_=function(t,e){return x_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},x_(t,e)};function D8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");x_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var U8=function(t){D8(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function fae(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function hae(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function U2(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],s=r.map(function(a){return n.getTextWidth(a)}).reduce(function(a,i){return Math.max(a,i)},0);return s}function L8(t,e,n,r){var s=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:s,lineColor:a});var i=M8(s,!1);i&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,i)}function M8(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function $y(t,e){var n,r,s,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(s=t.right)!==null&&s!==void 0?s:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function P8(t,e){var n=$y(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function mae(t,e,n,r,s){var a={},i=1.3333333333333333,o=pC(e,function(k){return s.getComputedStyle(k).backgroundColor});o!=null&&(a.fillColor=o);var l=pC(e,function(k){return s.getComputedStyle(k).color});l!=null&&(a.textColor=l);var A=gae(r,n);A&&(a.cellPadding=A);var d="borderTopColor",h=i*n,p=r.borderTopWidth;if(r.borderBottomWidth===p&&r.borderRightWidth===p&&r.borderLeftWidth===p){var g=(parseFloat(p)||0)/h;g&&(a.lineWidth=g)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/h,right:(parseFloat(r.borderRightWidth)||0)/h,bottom:(parseFloat(r.borderBottomWidth)||0)/h,left:(parseFloat(r.borderLeftWidth)||0)/h},a.lineWidth.top||(a.lineWidth.right?d="borderRightColor":a.lineWidth.bottom?d="borderBottomColor":a.lineWidth.left&&(d="borderLeftColor"));var w=pC(e,function(k){return s.getComputedStyle(k)[d]});w!=null&&(a.lineColor=w);var b=["left","right","center","justify"];b.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),b=["middle","bottom","top"],b.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var E=parseInt(r.fontSize||"");isNaN(E)||(a.fontSize=E/i);var T=pae(r);T&&(a.fontStyle=T);var I=(r.fontFamily||"").toLowerCase();return t.indexOf(I)!==-1&&(a.font=I),a}function pae(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function pC(t,e){var n=O8(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function O8(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:O8(t.parentElement,e):n}function gae(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),s=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=n.map(function(o){return parseInt(o||"0")/r}),i=$y(a,0);return s>i.top&&(i.top=s),s>i.bottom&&(i.bottom=s),i}function j8(t,e,n,r,s){var a,i;r===void 0&&(r=!1),s===void 0&&(s=!1);var o;typeof e=="string"?o=n.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),A=t.scaleFactor(),d=[],h=[],p=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:d,body:h,foot:p};for(var g=0;g<o.rows.length;g++){var w=o.rows[g],b=(i=(a=w==null?void 0:w.parentElement)===null||a===void 0?void 0:a.tagName)===null||i===void 0?void 0:i.toLowerCase(),E=xae(l,A,n,w,r,s);E&&(b==="thead"?d.push(E):b==="tfoot"?p.push(E):h.push(E))}return{head:d,body:h,foot:p}}function xae(t,e,n,r,s,a){for(var i=new U8(r),o=0;o<r.cells.length;o++){var l=r.cells[o],A=n.getComputedStyle(l);if(s||A.display!=="none"){var d=void 0;a&&(d=mae(t,l,e,A,n)),i.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:vae(l)})}}var h=n.getComputedStyle(r);if(i.length>0&&(s||h.display!=="none"))return i}function vae(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function yae(t,e,n){for(var r=0,s=[t,e,n];r<s.length;r++){var a=s[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function lu(t,e,n,r,s){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a}function Q8(t,e){var n=new $0(t),r=n.getDocumentOptions(),s=n.getGlobalOptions();yae(s,r,e);var a=lu({},s,r,e),i;typeof window<"u"&&(i=window);var o=wae(s,r,e),l=bae(s,r,e),A=Cae(n,a),d=_ae(n,a,i);return{id:e.tableId,content:d,hooks:l,styles:o,settings:A}}function wae(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(l){if(l==="columnStyles"){var A=t[l],d=e[l],h=n[l];r.columnStyles=lu({},A,d,h)}else{var p=[t,e,n],g=p.map(function(w){return w[l]||{}});r[l]=lu({},g[0],g[1],g[2])}},a=0,i=Object.keys(r);a<i.length;a++){var o=i[a];s(o)}return r}function bae(t,e,n){for(var r=[t,e,n],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,i=r;a<i.length;a++){var o=i[a];o.didParseCell&&s.didParseCell.push(o.didParseCell),o.willDrawCell&&s.willDrawCell.push(o.willDrawCell),o.didDrawCell&&s.didDrawCell.push(o.didDrawCell),o.willDrawPage&&s.willDrawPage.push(o.willDrawPage),o.didDrawPage&&s.didDrawPage.push(o.didDrawPage)}return s}function Cae(t,e){var n,r,s,a,i,o,l,A,d,h,p,g,w=$y(e.margin,40/t.scaleFactor()),b=(n=Eae(t,e.startY))!==null&&n!==void 0?n:w.top,E;e.showFoot===!0?E="everyPage":e.showFoot===!1?E="never":E=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var T;e.showHead===!0?T="everyPage":e.showHead===!1?T="never":T=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var I=(a=e.useCss)!==null&&a!==void 0?a:!1,k=e.theme||(I?"plain":"striped"),F=!!e.horizontalPageBreak,D=(i=e.horizontalPageBreakRepeat)!==null&&i!==void 0?i:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:I,theme:k,startY:b,margin:w,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(A=e.rowPageBreak)!==null&&A!==void 0?A:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:T,showFoot:E,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(p=e.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:F,horizontalPageBreakRepeat:D,horizontalPageBreakBehaviour:(g=e.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function Eae(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),s=t.pageNumber(),a=!1;if(n&&n.startPageNumber){var i=n.startPageNumber+n.pageNumber-1;a=i===s}return typeof e=="number"?e:(e==null||e===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function _ae(t,e,n){var r=e.head||[],s=e.body||[],a=e.foot||[];if(e.html){var i=e.includeHiddenHtml;if(n){var o=j8(t,e.html,n,i,e.useCss)||{};r=o.head||r,s=o.body||r,a=o.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||Sae(r,s,a);return{columns:l,head:r,body:s,foot:a}}function Sae(t,e,n){var r=t[0]||e[0]||n[0]||[],s=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var i=1,o;Array.isArray(r)?o=r[parseInt(a)]:o=r[a],typeof o=="object"&&!Array.isArray(o)&&(i=(o==null?void 0:o.colSpan)||1);for(var l=0;l<i;l++){var A=void 0;Array.isArray(r)?A=s.length:A=a+(l>0?"_".concat(l):"");var d={dataKey:A};s.push(d)}}),s}var v_=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),Tae=function(t){D8(e,t);function e(n,r,s,a,i,o){var l=t.call(this,n,r,o)||this;return l.cell=s,l.row=a,l.column=i,l.section=a.section,l}return e}(v_),Bae=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,s,a,i){for(var o=0,l=n;o<l.length;o++){var A=l[o],d=new Tae(e,this,r,s,a,i),h=A(d)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,s=this.hooks.didDrawPage;r<s.length;r++){var a=s[r];a(new v_(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,s=this.hooks.willDrawPage;r<s.length;r++){var a=s[r];a(new v_(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(s,a){return s+a.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),H8=function(){function t(e,n,r,s,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof U8&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=s,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,s){var a;return Math.max(r,((a=n.cells[s.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var s=n.cells[r.index];return s?s.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(s,a){var i=r.cells[a.index];if(!i)return 0;var o=n.getLineHeight(i.styles.fontSize),l=i.padding("vertical"),A=l+o;return A>s?A:s},0)},t}(),V8=function(){function t(e,n,r){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var i=a!=null?""+a:"",o=/\r\n|\r|\n/g;this.text=i.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");r=this.x+s/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*n,a=r*s+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=$y(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),Nae=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,s=e.allRows();r<s.length;r++){var a=s[r],i=a.cells[this.index];i&&typeof i.styles.cellWidth=="number"&&(n=Math.max(n,i.styles.cellWidth))}return n},t}();function kae(t,e){Iae(t,e);var n=[],r=0;e.columns.forEach(function(a){var i=a.getMaxCustomCellWidth(e);i?a.width=i:(a.width=a.wrappedWidth,n.push(a)),r+=a.width});var s=e.getWidth(t.pageSize().width)-r;s&&(s=y_(n,s,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),s&&(s=y_(n,s,function(a){return a.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/t.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),Rae(e),Dae(e,t),Fae(e)}function Iae(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,s=P8(t,e);e.allRows().forEach(function(a){for(var i=0,o=e.columns;i<o.length;i++){var l=o[i],A=a.cells[l.index];if(A){var d=e.hooks.didParseCell;e.callCellHooks(t,d,A,a,l,null);var h=A.padding("horizontal");A.contentWidth=U2(A.text,A.styles,t)+h;var p=U2(A.text.join(" ").split(/[^\S\u00A0]+/),A.styles,t);if(A.minReadableWidth=p+A.padding("horizontal"),typeof A.styles.cellWidth=="number")A.minWidth=A.styles.cellWidth,A.wrappedWidth=A.styles.cellWidth;else if(A.styles.cellWidth==="wrap"||r===!0)A.contentWidth>s?(A.minWidth=s,A.wrappedWidth=s):(A.minWidth=A.contentWidth,A.wrappedWidth=A.contentWidth);else{var g=10/n;A.minWidth=A.styles.minCellWidth||g,A.wrappedWidth=A.contentWidth,A.minWidth>A.wrappedWidth&&(A.wrappedWidth=A.minWidth)}}}}),e.allRows().forEach(function(a){for(var i=0,o=e.columns;i<o.length;i++){var l=o[i],A=a.cells[l.index];if(A&&A.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,A.wrappedWidth),l.minWidth=Math.max(l.minWidth,A.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,A.minReadableWidth);else{var d=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},h=d.cellWidth||d.minCellWidth;h&&typeof h=="number"&&(l.minWidth=h,l.wrappedWidth=h)}A&&(A.colSpan>1&&!l.minWidth&&(l.minWidth=A.minWidth),A.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=A.minWidth))}})}function y_(t,e,n){for(var r=e,s=t.reduce(function(g,w){return g+w.wrappedWidth},0),a=0;a<t.length;a++){var i=t[a],o=i.wrappedWidth/s,l=r*o,A=i.width+l,d=n(i),h=A<d?d:A;e-=h-i.width,i.width=h}if(e=Math.round(e*1e10)/1e10,e){var p=t.filter(function(g){return e<0?g.width>n(g):!0});p.length&&(e=y_(p,e,n))}return e}function Fae(t){for(var e={},n=1,r=t.allRows(),s=0;s<r.length;s++)for(var a=r[s],i=0,o=t.columns;i<o.length;i++){var l=o[i],A=e[l.index];if(n>1)n--,delete a.cells[l.index];else if(A)A.cell.height+=a.height,n=A.cell.colSpan,delete a.cells[l.index],A.left--,A.left<=1&&delete e[l.index];else{var d=a.cells[l.index];if(!d)continue;if(d.height=a.height,d.rowSpan>1){var h=r.length-s,p=d.rowSpan>h?h:d.rowSpan;e[l.index]={cell:d,left:p,row:a}}}}}function Rae(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],s=null,a=0,i=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(i-=1,i>1&&t.columns[o+1])a+=l.width,delete r.cells[l.index];else if(s){var A=s;delete r.cells[l.index],s=null,A.width=l.width+a}else{var A=r.cells[l.index];if(!A)continue;if(i=A.colSpan,a=0,A.colSpan>1){s=A,a+=l.width;continue}A.width=l.width+a}}}function Dae(t,e){for(var n={count:0,height:0},r=0,s=t.allRows();r<s.length;r++){for(var a=s[r],i=0,o=t.columns;i<o.length;i++){var l=o[i],A=a.cells[l.index];if(A){e.applyStyles(A.styles,!0);var d=A.width-A.padding("horizontal");if(A.styles.overflow==="linebreak")A.text=e.splitTextToSize(A.text,d+1/e.scaleFactor(),{fontSize:A.styles.fontSize});else if(A.styles.overflow==="ellipsize")A.text=gI(A.text,d,A.styles,e,"...");else if(A.styles.overflow==="hidden")A.text=gI(A.text,d,A.styles,e,"");else if(typeof A.styles.overflow=="function"){var h=A.styles.overflow(A.text,d);typeof h=="string"?A.text=[h]:A.text=h}A.contentHeight=A.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var p=A.contentHeight/A.rowSpan;A.rowSpan>1&&n.count*n.height<p*A.rowSpan?n={height:p,count:A.rowSpan}:n&&n.count>0&&n.height>p&&(p=n.height),p>a.height&&(a.height=p)}}n.count--}}function gI(t,e,n,r,s){return t.map(function(a){return Uae(a,e,n,r,s)})}function Uae(t,e,n,r,s){var a=1e4*r.scaleFactor();if(e=Math.ceil(e*a)/a,e>=U2(t,n,r))return t;for(;e<U2(t+s,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+s}function G8(t,e){var n=new $0(t),r=Lae(e,n.scaleFactor()),s=new Bae(e,r);return kae(n,s),n.applyStyles(n.userStyles),s}function Lae(t,e){var n=t.content,r=Pae(n.columns);if(n.head.length===0){var s=xI(r,"head");s&&n.head.push(s)}if(n.foot.length===0){var s=xI(r,"foot");s&&n.foot.push(s)}var a=t.settings.theme,i=t.styles;return{columns:r,head:gC("head",n.head,r,i,a,e),body:gC("body",n.body,r,i,a,e),foot:gC("foot",n.foot,r,i,a,e)}}function gC(t,e,n,r,s,a){var i={},o=e.map(function(l,A){for(var d=0,h={},p=0,g=0,w=0,b=n;w<b.length;w++){var E=b[w];if(i[E.index]==null||i[E.index].left===0)if(g===0){var T=void 0;Array.isArray(l)?T=l[E.index-p-d]:T=l[E.dataKey];var I={};typeof T=="object"&&!Array.isArray(T)&&(I=(T==null?void 0:T.styles)||{});var k=Oae(t,E,A,s,r,a,I),F=new V8(T,k,t);h[E.dataKey]=F,h[E.index]=F,g=F.colSpan-1,i[E.index]={left:F.rowSpan-1,times:g}}else g--,p++;else i[E.index].left--,g=i[E.index].times,d++}return new H8(l,A,t,h)});return o}function xI(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var s=Mae(e,r.raw);s!=null&&(n[r.dataKey]=s)}}),Object.keys(n).length>0?n:null}function Mae(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Pae(t){return t.map(function(e,n){var r,s;return typeof e=="object"?s=(r=e.dataKey)!==null&&r!==void 0?r:n:s=n,new Nae(s,e,n)})}function Oae(t,e,n,r,s,a,i){var o=hae(r),l;t==="head"?l=s.headStyles:t==="body"?l=s.bodyStyles:t==="foot"&&(l=s.footStyles);var A=lu({},o.table,o[t],s.styles,l),d=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},h=t==="body"?d:{},p=t==="body"&&n%2===0?lu({},o.alternateRow,s.alternateRowStyles):{},g=fae(a),w=lu({},g,A,p,h);return lu(w,i)}function jae(t,e,n){var r;n===void 0&&(n={});var s=P8(t,e),a=new Map,i=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(p){var g=e.columns.find(function(w){return w.dataKey===p||w.index===p});g&&!a.has(g.index)&&(a.set(g.index,!0),i.push(g.index),o.push(e.columns[g.index]),s-=g.wrappedWidth)});for(var A=!0,d=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;d<e.columns.length;){if(a.has(d)){d++;continue}var h=e.columns[d].wrappedWidth;if(A||s>=h)A=!1,i.push(d),o.push(e.columns[d]),s-=h;else break;d++}return{colIndexes:i,columns:o,lastIndex:d-1}}function Qae(t,e){for(var n=[],r=0;r<e.columns.length;r++){var s=jae(t,e,{start:r});s.columns.length&&(n.push(s),r=s.lastIndex)}return n}function z8(t,e){var n=e.settings,r=n.startY,s=n.margin,a={x:s.left,y:r},i=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=r+s.bottom+i;if(n.pageBreak==="avoid"){var l=e.body,A=l.reduce(function(p,g){return p+g.height},0);o+=A}var d=new $0(t);(n.pageBreak==="always"||n.startY!=null&&o>d.pageSize().height)&&(q8(d),a.y=s.top),e.callWillDrawPageHooks(d,a);var h=lu({},a);e.startPageNumber=d.pageNumber(),n.horizontalPageBreak?Hae(d,e,h,a):(d.applyStyles(d.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(p){return yu(d,e,p,a,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(p,g){var w=g===e.body.length-1;L2(d,e,p,w,h,a,e.columns)}),d.applyStyles(d.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(p){return yu(d,e,p,a,e.columns)})),L8(d,e,h,a),e.callEndPageHooks(d,a),e.finalY=a.y,t.lastAutoTable=e,d.applyStyles(d.userStyles)}function Hae(t,e,n,r){var s=Qae(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(A,d){t.applyStyles(t.userStyles),d>0?fg(t,e,n,r,A.columns,!0):vI(t,e,r,A.columns),Vae(t,e,n,r,A.columns),xC(t,e,r,A.columns)});else for(var i=-1,o=s[0],l=function(){var A=i;if(o){t.applyStyles(t.userStyles);var d=o.columns;i>=0?fg(t,e,n,r,d,!0):vI(t,e,r,d),A=yI(t,e,i+1,r,d),xC(t,e,r,d)}var h=A-i;s.slice(1).forEach(function(p){t.applyStyles(t.userStyles),fg(t,e,n,r,p.columns,!0),yI(t,e,i+1,r,p.columns,h),xC(t,e,r,p.columns)}),i=A};i<e.body.length-1;)l()}function vI(t,e,n,r){var s=e.settings;t.applyStyles(t.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(a){return yu(t,e,a,n,r)})}function Vae(t,e,n,r,s){t.applyStyles(t.userStyles),e.body.forEach(function(a,i){var o=i===e.body.length-1;L2(t,e,a,o,n,r,s)})}function yI(t,e,n,r,s,a){t.applyStyles(t.userStyles),a=a??e.body.length;var i=Math.min(n+a,e.body.length),o=-1;return e.body.slice(n,i).forEach(function(l,A){var d=n+A===e.body.length-1,h=K8(t,e,d,r);l.canEntireRowFit(h,s)&&(yu(t,e,l,r,s),o=n+A)}),o}function xC(t,e,n,r){var s=e.settings;t.applyStyles(t.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(a){return yu(t,e,a,n,r)})}function Gae(t,e,n){var r=n.getLineHeight(t.styles.fontSize),s=t.padding("vertical"),a=Math.floor((e-s)/r);return Math.max(0,a)}function zae(t,e,n,r){var s={};t.spansMultiplePages=!0,t.height=0;for(var a=0,i=0,o=n.columns;i<o.length;i++){var l=o[i],A=t.cells[l.index];if(A){Array.isArray(A.text)||(A.text=[A.text]);var d=new V8(A.raw,A.styles,A.section);d=lu(d,A),d.text=[];var h=Gae(A,e,r);A.text.length>h&&(d.text=A.text.splice(h,A.text.length));var p=r.scaleFactor(),g=r.getLineHeightFactor();A.contentHeight=A.getContentHeight(p,g),A.contentHeight>=e&&(A.contentHeight=e,d.styles.minCellHeight-=e),A.contentHeight>t.height&&(t.height=A.contentHeight),d.contentHeight=d.getContentHeight(p,g),d.contentHeight>a&&(a=d.contentHeight),s[l.index]=d}}var w=new H8(t.raw,-1,t.section,s,!0);w.height=a;for(var b=0,E=n.columns;b<E.length;b++){var l=E[b],d=w.cells[l.index];d&&(d.height=w.height);var A=t.cells[l.index];A&&(A.height=t.height)}return w}function Kae(t,e,n,r){var s=t.pageSize().height,a=r.settings.margin,i=a.top+a.bottom,o=s-i;e.section==="body"&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),A=l<n;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!A)return!1;var d=e.hasRowSpan(r.columns),h=e.getMaxCellHeight(r.columns)>o;return h?(d&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||r.settings.rowPageBreak==="avoid")}function L2(t,e,n,r,s,a,i){var o=K8(t,e,r,a);if(n.canEntireRowFit(o,i))yu(t,e,n,a,i);else if(Kae(t,n,o,e)){var l=zae(n,o,e,t);yu(t,e,n,a,i),fg(t,e,s,a,i),L2(t,e,l,r,s,a,i)}else fg(t,e,s,a,i),L2(t,e,n,r,s,a,i)}function yu(t,e,n,r,s){r.x=e.settings.margin.left;for(var a=0,i=s;a<i.length;a++){var o=i[a],l=n.cells[o.index];if(!l){r.x+=o.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var A=e.callCellHooks(t,e.hooks.willDrawCell,l,n,o,r);if(A===!1){r.x+=o.width;continue}qae(t,l,r);var d=l.getTextPos();R8(l.text,d.x,d.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,o,r),r.x+=o.width}r.y+=n.height}function qae(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var s=M8(r.lineWidth,r.fillColor);s&&t.rect(e.x,n.y,e.width,e.height,s)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),Wae(t,e,n,r.lineWidth))}function Wae(t,e,n,r){var s,a,i,o;r.top&&(s=n.x,a=n.y,i=n.x+e.width,o=n.y,r.right&&(i+=.5*r.right),r.left&&(s-=.5*r.left),l(r.top,s,a,i,o)),r.bottom&&(s=n.x,a=n.y+e.height,i=n.x+e.width,o=n.y+e.height,r.right&&(i+=.5*r.right),r.left&&(s-=.5*r.left),l(r.bottom,s,a,i,o)),r.left&&(s=n.x,a=n.y,i=n.x,o=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.left,s,a,i,o)),r.right&&(s=n.x+e.width,a=n.y,i=n.x+e.width,o=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.right,s,a,i,o));function l(A,d,h,p,g){t.getDocument().setLineWidth(A),t.getDocument().line(d,h,p,g,"S")}}function K8(t,e,n,r){var s=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(s+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-s}function fg(t,e,n,r,s,a){s===void 0&&(s=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(o){return yu(t,e,o,r,s)}),e.callEndPageHooks(t,r);var i=e.settings.margin;L8(t,e,n,r),q8(t),e.pageNumber++,r.x=i.left,r.y=i.top,n.y=i.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return yu(t,e,o,r,s)}),t.applyStyles(t.userStyles))}function q8(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function $ae(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],s=Q8(this,r),a=G8(this,s);return z8(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,s){R8(e,n,r,s,this)},t.API.autoTableSetDefaults=function(e){return $0.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){$0.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new $0(this),a=j8(s,e,window,n,!1),i=a.head,o=a.body,l=((r=i[0])===null||r===void 0?void 0:r.map(function(A){return A.content}))||[];return{columns:l,rows:o,data:o}}}var vC;function Nl(t,e){var n=Q8(t,e),r=G8(t,n);z8(t,r)}try{if(typeof window<"u"&&window){var wI=window,bI=wI.jsPDF||((vC=wI.jspdf)===null||vC===void 0?void 0:vC.jsPDF);bI&&$ae(bI)}}catch(t){console.error("Could not apply autoTable plugin",t)}const Yae="usuariosLiceo",CI="rubricasInteractivas",EI="evaluacionesPruebas",_I="rubricasEstaticas",Jae=["Seleccin mltiple","Verdadero o Falso","Desarrollo","Trminos pareados","Comprensin de lectura"],SI={"Seleccin mltiple":[5,10,15],"Verdadero o Falso":[5,10,15],"Trminos pareados":[5,10,15],Desarrollo:[1,2,3],"Comprensin de lectura":[1,2,3]},Xv=t=>{if(!t)return"";let e=t.trim().toLowerCase();return e=e.replace(//g,""),e=e.replace(/\s+(medio|bsico|basico)/g,""),e=e.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1"),e=e.replace(/^(\d)(?![])/,"$1"),e=e.replace(/\s+/g,"").toUpperCase(),e},Xae=({open:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t?u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59"}):u.jsxs(u.Fragment,{children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),Zae=({item:t,index:e,showAnswers:n})=>{const r=X.useMemo(()=>t.tipo==="Trminos pareados"?[...t.pares.map(s=>s.definicion)].sort(()=>Math.random()-.5):[],[t]);return u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("p",{className:"font-semibold flex-grow pr-4",children:[e+1,". ",t.pregunta," (",t.puntaje," pts)"]}),t.habilidadBloom&&u.jsx("span",{className:"flex-shrink-0 text-xs font-semibold bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:t.habilidadBloom})]}),t.tipo==="Seleccin mltiple"&&u.jsx("div",{className:"ml-4 mt-2 space-y-2",children:t.opciones.map((s,a)=>{const i=n&&a===t.respuestaCorrecta;return u.jsxs("div",{className:`flex items-center gap-2 p-1 rounded ${i?"bg-green-100 dark:bg-green-900/50":""}`,children:[u.jsx("div",{className:"w-5 h-5 border rounded-full"}),u.jsxs("span",{children:[String.fromCharCode(65+a),") ",s]})]},a)})}),t.tipo==="Desarrollo"&&u.jsx("div",{className:"mt-2 p-2 border rounded-md min-h-[96px] bg-slate-50 dark:bg-slate-700/50"}),t.tipo==="Verdadero o Falso"&&u.jsxs("div",{className:"mt-2 ml-4 flex items-center gap-4",children:[u.jsx("span",{children:"V ___ F ___"}),n&&u.jsxs("span",{className:"font-bold p-1 rounded bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300",children:["Respuesta: ",t.respuestaCorrecta?"VERDADERO":"FALSO"]})]}),t.tipo==="Trminos pareados"&&u.jsxs("div",{className:"mt-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-center mb-2",children:"Columna A: Concepto"}),u.jsx("div",{className:"space-y-2",children:t.pares.map((s,a)=>u.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 p-3 rounded-lg min-h-[50px] flex items-center",children:[a+1,". ",s.concepto]},a))})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-center mb-2",children:"Columna B: Definicin"}),u.jsx("div",{className:"space-y-2",children:r.map((s,a)=>u.jsx("div",{className:"bg-sky-100 dark:bg-sky-900/50 p-3 rounded-lg min-h-[50px] flex items-center",children:s},a))})]})]}),n&&u.jsxs("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/30 rounded-lg border border-green-200 dark:border-green-700",children:[u.jsx("h4",{className:"font-bold text-green-800 dark:text-green-200",children:"Respuestas Correctas:"}),u.jsx("ul",{className:"list-disc list-inside mt-2 text-sm text-slate-700 dark:text-slate-300",children:t.pares.map((s,a)=>u.jsxs("li",{children:[u.jsx("strong",{children:s.concepto}),"  ",s.definicion]},a))})]})]}),t.tipo==="Comprensin de lectura"&&u.jsxs("div",{className:"ml-4 mt-2 space-y-4",children:[u.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-700/50 rounded-md whitespace-pre-wrap",children:t.texto}),t.preguntas.map((s,a)=>{if(s.tipo==="Seleccin mltiple"){const i=s;return u.jsxs("div",{className:"pt-2",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("p",{className:"font-semibold flex-grow pr-4",children:[a+1,". ",i.pregunta," (",i.puntaje," pts)"]}),i.habilidadBloom&&u.jsx("span",{className:"flex-shrink-0 text-xs font-semibold bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:i.habilidadBloom})]}),u.jsx("div",{className:"ml-4 mt-2 space-y-2",children:i.opciones.map((o,l)=>{const A=n&&l===i.respuestaCorrecta;return u.jsxs("div",{className:`flex items-center gap-2 p-1 rounded ${A?"bg-green-100 dark:bg-green-900/50":""}`,children:[u.jsx("div",{className:"w-5 h-5 border rounded-full"}),u.jsxs("span",{children:[String.fromCharCode(65+l),") ",o]})]},l)})})]},s.id)}if(s.tipo==="Desarrollo"){const i=s;return u.jsxs("div",{className:"pt-2",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("p",{className:"font-semibold flex-grow pr-4",children:[a+1,". ",i.pregunta," (",i.puntaje," pts)"]}),i.habilidadBloom&&u.jsx("span",{className:"flex-shrink-0 text-xs font-semibold bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:i.habilidadBloom})]}),u.jsx("div",{className:"mt-2 p-2 border rounded-md min-h-[96px] bg-slate-50 dark:bg-slate-700/50"})]},s.id)}return null})]})]},t.id)},eie=()=>{const[t,e]=X.useState([]),[n,r]=X.useState(null),[s,a]=X.useState(!1),[i,o]=X.useState(!1),[l,A]=X.useState(null),[d,h]=X.useState(!1),p={nombre:"",asignatura:Il[0],nivel:T2[0],contenido:"",tiposActividad:{},dificultad:"Intermedio",isNee:!1,selectedNee:[]},[g,w]=X.useState(p);X.useEffect(()=>{try{const N=localStorage.getItem(EI);N&&e(JSON.parse(N))}catch(N){console.error("Error loading tests from localStorage",N)}},[]);const b=N=>{e(N),localStorage.setItem(EI,JSON.stringify(N))},E=N=>{const{name:B,value:V}=N.target;w(U=>({...U,[B]:V}))},T=N=>{w(B=>{const V={...B.tiposActividad};return V[N]?delete V[N]:V[N]=SI[N][0],{...B,tiposActividad:V}})},I=(N,B)=>{w(V=>({...V,tiposActividad:{...V.tiposActividad,[N]:B}}))},k=N=>{w(B=>{const V=B.selectedNee.includes(N)?B.selectedNee.filter(U=>U!==N):[...B.selectedNee,N];return{...B,selectedNee:V}})},F=async N=>{if(N.preventDefault(),!g.nombre.trim()||!g.contenido.trim()||Object.keys(g.tiposActividad).length===0){A("Nombre, Contenido y al menos un tipo de actividad son obligatorios.");return}a(!0),A(null);const B=Object.entries(g.tiposActividad).map(([L,j])=>`- ${j} tem(s) de tipo '${L}'`).join(`
`),V=g.isNee&&g.selectedNee.length>0?`
            **Adaptacin CRTICA para Necesidades Educativas Especiales (NEE):**
            Adapta esta prueba para estudiantes con las siguientes caractersticas: ${g.selectedNee.join(", ")}.
            Esto implica las siguientes modificaciones OBLIGATORIAS:
            - Usa un lenguaje claro, simple y directo en todas las preguntas e instrucciones.
            - Evita preguntas con doble negacin o estructuras gramaticales complejas.
            - En preguntas de desarrollo, desglosa la pregunta en partes ms pequeas si es posible.
            - Para 'Comprensin de Lectura', usa textos ms cortos (100-150 palabras) y con vocabulario accesible.
            - Para 'Seleccin Mltiple', asegrate de que los distractores sean claramente incorrectos y no ambiguos.`:"",U=`
            Eres un experto en evaluacin educativa para la educacin media en Chile.
            Genera una prueba o gua de trabajo completa en formato JSON estructurado.
            
            Informacin base:
            - Nombre de la prueba: ${g.nombre}
            - Asignatura: ${g.asignatura}
            - Nivel: ${g.nivel}
            - Contenido a evaluar: "${g.contenido}"
            - Tipos y cantidad de tems solicitados:
              ${B}
            - Nivel de Dificultad General: ${g.dificultad}. 'Fcil' implica preguntas directas y de recuerdo. 'Intermedio' incluye aplicacin y anlisis simple. 'Avanzado' requiere sntesis, evaluacin y resolucin de problemas complejos.
            
            ${V}

            Tu respuesta DEBE ser un nico objeto JSON que contenga:
            1. 'objetivo': Un objetivo de aprendizaje claro para la evaluacin.
            2. 'instruccionesGenerales': Instrucciones claras para el estudiante.
            3. 'actividades': Un array de objetos, donde cada objeto es una actividad por cada tipo de tem solicitado. Cada actividad debe tener:
                - 'id': Un UUID.
                - 'titulo': Un ttulo descriptivo (ej: "Actividad 1: Seleccin Mltiple").
                - 'instrucciones': Instrucciones para esa actividad especfica.
                - 'items': Un array de preguntas con la cantidad exacta solicitada. Cada pregunta (item) debe tener:
                    - 'id': Un UUID.
                    - 'tipo': El tipo de tem.
                    - 'pregunta': El enunciado de la pregunta.
                    - 'puntaje': Un puntaje numrico.
                    - 'habilidadBloom': La habilidad principal de la Taxonoma de Bloom que se trabaja (ej: Analizar, Crear, Evaluar).
                    - Campos adicionales segn el tipo:
                        - Para 'Seleccin mltiple': 'opciones' (array de EXACTAMENTE 4 strings sin la letra de la alternativa) y 'respuestaCorrecta' (ndice numrico de la respuesta correcta, de 0 a 3).
                        - Para 'Verdadero o Falso': 'respuestaCorrecta' (booleano).
                        - Para 'Trminos pareados': 'pares' (array de objetos con 'concepto' y 'definicion').
                        - Para 'Comprensin de lectura': 'texto' (string con el texto) y 'preguntas' (un array de sub-preguntas que pueden ser 'Seleccin mltiple' o 'Desarrollo', y cada una debe tener tambin 'habilidadBloom').
                        - Para 'Desarrollo': no necesita campos adicionales.
        `;try{go("Evaluacin - Pruebas");const j=await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:U,config:{responseMimeType:"application/json"}}),G=JSON.parse(j.text);let se=0;G.actividades.forEach(Y=>{Y.items.forEach(oe=>{se+=oe.puntaje||0,oe.tipo==="Comprensin de lectura"&&oe.preguntas.forEach(Z=>{se+=Z.puntaje||0})})});const K={id:crypto.randomUUID(),fechaCreacion:new Date().toISOString(),nombre:g.nombre,asignatura:g.asignatura,nivel:g.nivel,contenidoOriginal:g.contenido,tiposActividadOriginal:g.tiposActividad,objetivo:G.objetivo,instruccionesGenerales:G.instruccionesGenerales,puntajeIdeal:se,actividades:G.actividades,dificultad:g.dificultad,adaptacionNEE:g.isNee?g.selectedNee:void 0};r(K),h(!1)}catch(L){console.error(L),A("Error al generar la prueba con IA. Intntelo de nuevo.")}finally{a(!1)}},D=()=>{n&&(b([n,...t.filter(N=>N.id!==n.id)]),alert("Prueba guardada con xito."))},P=N=>{window.confirm("Eliminar esta prueba?")&&(b(t.filter(B=>B.id!==N)),(n==null?void 0:n.id)===N&&r(null))},S=async N=>{o(!0);const B=new sn("p","mm","a4"),V=20,U=B.internal.pageSize.getHeight(),L=B.internal.pageSize.getWidth(),j=L-V*2;let G=V;const se=oe=>{oe.setFillColor(230,230,230),oe.rect(0,0,L,25,"F"),oe.setFontSize(9),oe.setTextColor(0,0,0),oe.text("LICEO INDUSTRIAL DE RECOLETA",V,15,{align:"left"}),oe.text("SUBDIRECCIN DE GESTIN PEDAGGICA",L-V,15,{align:"right"})};se(B),G=30,B.setTextColor(0,0,0),B.setFont("helvetica","bold"),B.setFontSize(16),B.text(N.nombre,L/2,G,{align:"center"}),G+=10,Nl(B,{startY:G,body:[[{content:"Asignatura:",styles:{fontStyle:"bold"}},N.asignatura,{content:"Puntaje Ideal:",styles:{fontStyle:"bold"}},N.puntajeIdeal.toString()],[{content:"Nivel:",styles:{fontStyle:"bold"}},N.nivel,"",""],[{content:"OA:",styles:{fontStyle:"bold",valign:"top"}},{content:N.objetivo,colSpan:3}],[{content:"Instrucciones:",styles:{fontStyle:"bold",valign:"top"}},{content:N.instruccionesGenerales,colSpan:3}]],theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0],lineColor:[0,0,0],lineWidth:.1},columnStyles:{0:{cellWidth:30},2:{cellWidth:30}},didDrawPage:oe=>{se(B)}}),G=B.lastAutoTable.finalY+10;const K=oe=>{G+oe>U-V&&(B.addPage(),se(B),G=V+15,B.setTextColor(0,0,0))},Y=(oe,Z)=>{B.setFont("helvetica",Z.isBold?"bold":"normal"),B.setFontSize(Z.fontSize);const ee=Array.isArray(oe)?oe.join(`
`):oe;return B.getTextDimensions(ee,{maxWidth:Z.width}).h};for(const oe of N.actividades){let Z=Y(oe.titulo,{fontSize:12,width:j,isBold:!0})+Y(oe.instrucciones,{fontSize:10,width:j})+12;K(Z),B.setFont("helvetica","bold"),B.setFontSize(12),B.setTextColor(0,0,0),B.text(oe.titulo,V,G),G+=8,B.setFont("helvetica","normal"),B.setFontSize(10);const ee=B.splitTextToSize(oe.instrucciones,j);B.text(ee,V,G),G+=ee.length*(10*.35*1.15)+4;for(const[he,O]of oe.items.entries()){let q=0;const J=`${he+1}. ${O.pregunta} (${O.puntaje} pts)`;switch(q+=Y(J,{fontSize:10,width:j,isBold:!0}),O.tipo){case"Seleccin mltiple":O.opciones.forEach(ue=>{q+=Y(ue,{fontSize:10,width:j-5})+3}),q+=7;break;case"Verdadero o Falso":q+=10;break;case"Desarrollo":q+=30;break;case"Trminos pareados":q+=O.pares.length*12+20;break;case"Comprensin de lectura":const ae=O;q+=Y(ae.texto,{fontSize:10,width:j-10})+10,ae.preguntas.forEach(ue=>{const pe=`${ue.pregunta} (${ue.puntaje} pts)`;q+=Y(pe,{fontSize:10,width:j-5,isBold:!0}),ue.tipo==="Seleccin mltiple"?(ue.opciones.forEach(ye=>{q+=Y(ye,{fontSize:10,width:j-10})+3}),q+=7):ue.tipo==="Desarrollo"&&(q+=30),q+=5}),q+=15;break}K(q),B.setFont("helvetica","bold"),B.setFontSize(10),B.setTextColor(0,0,0);const ne=B.splitTextToSize(J,j);if(B.text(ne,V,G),G+=ne.length*5+4,B.setFont("helvetica","normal"),O.tipo==="Seleccin mltiple")O.opciones.forEach((ae,ue)=>{B.text(`${String.fromCharCode(65+ue)}) ${ae}`,V+5,G),G+=7});else if(O.tipo==="Verdadero o Falso")B.text("V ______   F ______",V+5,G),G+=10;else if(O.tipo==="Desarrollo")B.setDrawColor(200,200,200),B.setFillColor(245,245,245),B.rect(V,G,j,25,"FD"),G+=30;else if(O.tipo==="Trminos pareados"){const ae=[...O.pares.map(pe=>pe.definicion)].sort(()=>Math.random()-.5),ue=O.pares.map((pe,ye)=>[`${ye+1}. ${pe.concepto}`,`(   ) ${ae[ye]}`]);Nl(B,{startY:G,head:[["Columna A: Concepto","Columna B: Definicin"]],body:ue,theme:"grid",styles:{fontSize:9,textColor:[0,0,0],lineColor:[0,0,0],lineWidth:.1},headStyles:{fontStyle:"bold",fillColor:[230,230,230],textColor:[0,0,0]},didDrawPage:pe=>se(B)}),G=B.lastAutoTable.finalY+10}else if(O.tipo==="Comprensin de lectura"){const ae=O;B.setFillColor(240,240,240),B.setDrawColor(200,200,200);const ue=B.splitTextToSize(ae.texto,j-10),pe=ue.length*(10*.35*1.15)+8;B.rect(V,G,j,pe,"FD"),G+=4,B.setFont("helvetica","normal"),B.setFontSize(10),B.setTextColor(0,0,0),B.text(ue,V+5,G),G+=pe;for(const[ye,Ie]of ae.preguntas.entries()){const we=`${ye+1}. ${Ie.pregunta} (${Ie.puntaje} pts)`;B.setFont("helvetica","bold");const ie=B.splitTextToSize(we,j-5);B.text(ie,V+5,G),G+=ie.length*5+4,B.setFont("helvetica","normal"),Ie.tipo==="Seleccin mltiple"?Ie.opciones.forEach((De,st)=>{B.text(`${String.fromCharCode(65+st)}) ${De}`,V+10,G),G+=7}):Ie.tipo==="Desarrollo"&&(B.setDrawColor(200,200,200),B.setFillColor(245,245,245),B.rect(V+5,G,j-5,25,"FD"),G+=30)}}G+=5}}B.save(`${N.nombre.replace(/\s/g,"_")}.pdf`),o(!1)};return n?u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("button",{onClick:()=>r(null),className:"text-sm font-semibold text-slate-500 hover:underline",children:" Volver"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>h(!d),className:"bg-slate-100 text-slate-700 font-bold py-2 px-4 rounded-lg flex items-center gap-2 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600",children:[u.jsx(Xae,{open:!d})," ",u.jsxs("span",{children:[d?"Ocultar":"Mostrar"," Respuestas"]})]}),u.jsx("button",{onClick:D,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg",children:"Guardar Prueba"}),u.jsxs("button",{onClick:()=>S(n),disabled:i,className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2",children:[i?"...":u.jsx(RL,{})," PDF"]})]})]}),u.jsxs("div",{className:"border rounded-lg p-8 bg-slate-50 dark:bg-slate-900/50",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-600 dark:text-slate-400",children:[u.jsx("span",{children:"LICEO INDUSTRIAL DE RECOLETA"}),u.jsx("span",{children:"SUBDIRECCIN DE GESTIN PEDAGGICA"})]}),u.jsx("h2",{className:"text-center text-2xl font-bold my-4 text-slate-800 dark:text-slate-200",children:n.nombre}),u.jsxs("div",{className:"space-y-4 text-sm text-slate-700 dark:text-slate-300 border p-4 rounded-lg bg-white dark:bg-slate-800",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-x-8",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Asignatura:"})," ",n.asignatura]}),u.jsxs("p",{className:"text-right",children:[u.jsx("strong",{children:"Puntaje Ideal:"})," ",n.puntajeIdeal]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Nivel:"})," ",n.nivel]})]}),u.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 pt-2",children:[u.jsxs("span",{className:"font-semibold bg-slate-200 text-slate-800 dark:bg-slate-700 dark:text-slate-200 px-2 py-1 rounded-full text-xs",children:["Dificultad: ",n.dificultad||"Intermedio"]}),n.adaptacionNEE&&n.adaptacionNEE.length>0&&u.jsxs("span",{className:"font-semibold bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 px-2 py-1 rounded-full text-xs",children:["Adaptado para NEE: ",n.adaptacionNEE.join(", ")]})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Objetivo de Aprendizaje:"})," ",n.objetivo]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Instrucciones Generales:"})," ",n.instruccionesGenerales]})]}),n.actividades.map(N=>u.jsxs("div",{className:"mt-8 bg-white dark:bg-slate-800 p-6 rounded-lg border dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-bold border-b pb-2 mb-4 dark:border-slate-600",children:N.titulo}),u.jsx("p",{className:"italic text-sm mb-4",children:N.instrucciones}),u.jsx("div",{className:"space-y-6",children:N.items.map((B,V)=>u.jsx(Zae,{item:B,index:V,showAnswers:d},B.id))})]},N.id))]})]}):u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Generar Nueva Prueba o Gua"}),u.jsxs("form",{onSubmit:F,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 mb-1 block",children:["Nombre de la Prueba/Gua ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",name:"nombre",value:g.nombre,onChange:E,placeholder:"Ej: Gua N1 - La Clula",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",required:!0})]}),u.jsx("div",{}),u.jsx("select",{name:"asignatura",value:g.asignatura,onChange:E,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:Il.map(N=>u.jsx("option",{children:N},N))}),u.jsx("select",{name:"nivel",value:g.nivel,onChange:E,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:T2.map(N=>u.jsx("option",{children:N},N))})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t dark:border-slate-700",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 mb-2 block",children:"Dificultad de la Prueba"}),u.jsx("div",{className:"flex rounded-lg shadow-sm",children:["Fcil","Intermedio","Avanzado"].map((N,B)=>u.jsx("button",{type:"button",onClick:()=>w(V=>({...V,dificultad:N})),className:`w-1/3 px-4 py-2 text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-opacity-50
                                            ${B===0?"rounded-l-lg":""} ${B===2?"rounded-r-lg":""}
                                            ${g.dificultad===N?"bg-amber-500 text-white z-10":"bg-slate-200 hover:bg-slate-300 text-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200"}`,children:N},N))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:g.isNee,onChange:N=>w(B=>({...B,isNee:N.target.checked,selectedNee:N.target.checked?B.selectedNee:[]})),className:"h-5 w-5 rounded text-amber-500 focus:ring-amber-400 border-slate-300 dark:bg-slate-600 dark:border-slate-500"}),u.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:"Adaptar para Necesidades Educativas Especiales (NEE)"})]}),g.isNee&&u.jsxs("div",{className:"p-3 border rounded-lg bg-slate-50 dark:bg-slate-700/50 dark:border-slate-600 animate-fade-in",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Seleccione Dificultades de Aprendizaje"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:B2.map(N=>u.jsxs("label",{className:"flex items-center gap-2 p-1.5 rounded hover:bg-slate-100 dark:hover:bg-slate-600 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:g.selectedNee.includes(N),onChange:()=>k(N),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),u.jsx("span",{className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:N})]},N))})]})]})]}),u.jsx("textarea",{name:"contenido",value:g.contenido,onChange:E,placeholder:"Contenido a evaluar...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsx("div",{className:"space-y-3",children:Jae.map(N=>u.jsxs("div",{className:"p-3 border rounded-lg has-[:checked]:bg-amber-50 has-[:checked]:border-amber-300 dark:border-slate-700 dark:has-[:checked]:bg-amber-900/20 dark:has-[:checked]:border-amber-700",children:[u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:!!g.tiposActividad[N],onChange:()=>T(N),className:"h-5 w-5 rounded text-amber-500 focus:ring-amber-400 bg-slate-200 dark:bg-slate-600 border-slate-300 dark:border-slate-500"}),u.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 flex-grow",children:N})]}),g.tiposActividad[N]&&u.jsxs("div",{className:"mt-3 pl-8 flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Cantidad:"}),SI[N].map(B=>u.jsx("button",{type:"button",onClick:()=>I(N,B),className:`px-3 py-1 rounded-full font-semibold text-xs transition-colors ${g.tiposActividad[N]===B?"bg-amber-500 text-white":"bg-slate-200 hover:bg-slate-300 dark:bg-slate-600 dark:hover:bg-slate-500"}`,children:B},B))]})]},N))}),l&&u.jsx("p",{className:"text-red-500 text-sm",children:l}),u.jsx("div",{className:"text-right",children:u.jsx("button",{type:"submit",disabled:s,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:s?"Generando...":"Generar Prueba"})})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Pruebas Guardadas"}),u.jsx("div",{className:"space-y-2",children:t.length>0?t.map(N=>u.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:N.nombre}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[N.asignatura," - ",N.nivel," (",new Date(N.fechaCreacion).toLocaleDateString(),")"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>r(N),className:"text-sm font-semibold text-blue-600 hover:underline",children:"Ver"}),u.jsx("button",{onClick:()=>P(N.id),className:"text-sm font-semibold text-red-600 hover:underline",children:"Eliminar"})]})]},N.id)):u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm text-center py-4",children:"No hay pruebas guardadas."})})]})]})},tie=({rubricas:t,onUpdate:e})=>{const[n,r]=X.useState(null),[s,a]=X.useState("list"),[i,o]=X.useState(!1),[l,A]=X.useState(""),d=async(F,D)=>{if(!F.trim()||!D.trim()){alert("El ttulo y la descripcin son obligatorios.");return}o(!0);const P=`Crea una rbrica de evaluacin detallada sobre "${F}" con el propsito de "${D}". Genera entre 3 y 5 dimensiones de evaluacin. Para cada dimensin, crea un descriptor para 4 niveles: Insuficiente, Suficiente, Competente, y Avanzado.`,S={type:Bt.ARRAY,items:{type:Bt.OBJECT,properties:{dimension:{type:Bt.STRING},insuficiente:{type:Bt.STRING},suficiente:{type:Bt.STRING},competente:{type:Bt.STRING},avanzado:{type:Bt.STRING}},required:["dimension","insuficiente","suficiente","competente","avanzado"]}};try{go("Evaluacin - Rbricas");const B=await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:P,config:{responseMimeType:"application/json",responseSchema:S}}),V=JSON.parse(B.text),U={id:crypto.randomUUID(),titulo:F,descripcion:D,fechaCreacion:new Date().toISOString(),dimensiones:V.map(L=>({id:crypto.randomUUID(),nombre:L.dimension,niveles:{insuficiente:L.insuficiente,suficiente:L.suficiente,competente:L.competente,avanzado:L.avanzado}}))};r(U)}catch(N){console.error(N),alert("Error al generar la rbrica con IA.")}finally{o(!1)}},h=async()=>{if(!l.trim()||!n)return;const F=crypto.randomUUID(),D={id:F,nombre:l,niveles:{insuficiente:"",suficiente:"",competente:"",avanzado:""},isLoading:!0};r(N=>N?{...N,dimensiones:[...N.dimensiones,D]}:null),A("");const P=`Para una rbrica sobre "${n.titulo}", genera los descriptores para los 4 niveles de logro (Insuficiente, Suficiente, Competente, Avanzado) para la nueva dimensin: "${l}". Considera las dimensiones existentes como contexto: ${n.dimensiones.map(N=>N.nombre).join(", ")}.`,S={type:Bt.OBJECT,properties:{insuficiente:{type:Bt.STRING},suficiente:{type:Bt.STRING},competente:{type:Bt.STRING},avanzado:{type:Bt.STRING}},required:["insuficiente","suficiente","competente","avanzado"]};try{go("Evaluacin - Rbricas (Aadir Dimensin)");const B=await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:P,config:{responseMimeType:"application/json",responseSchema:S}}),V=JSON.parse(B.text);r(U=>U?{...U,dimensiones:U.dimensiones.map(L=>L.id===F?{...L,niveles:V,isLoading:!1}:L)}:null)}catch(N){console.error("Error generating dimension descriptors:",N),alert("No se pudieron generar los descriptores."),r(B=>B?{...B,dimensiones:B.dimensiones.filter(V=>V.id!==F)}:null)}},p=()=>{if(!n)return;const D=t.some(P=>P.id===n.id)?t.map(P=>P.id===n.id?n:P):[n,...t];e(D),a("list"),r(null)},g=F=>{r(F),a("form")},w=F=>{window.confirm("Eliminar esta rbrica?")&&e(t.filter(D=>D.id!==F))},b=()=>{r({id:crypto.randomUUID(),titulo:"",descripcion:"",fechaCreacion:new Date().toISOString(),dimensiones:[]}),a("form")},E=(F,D,P)=>{n&&r(S=>S?{...S,dimensiones:S.dimensiones.map(N=>N.id!==F?N:D==="nombre"?{...N,nombre:P}:{...N,niveles:{...N.niveles,[D]:P}})}:null)},T=(F,D)=>{r(P=>P?{...P,[F]:D}:null)},I=F=>{n&&r(D=>D?{...D,dimensiones:D.dimensiones.filter(P=>P.id!==F)}:null)},k=()=>{if(!n)return null;const F="w-full p-2 border border-slate-300 rounded-lg shadow-sm focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-700 dark:border-slate-600",D=`${F} resize-none text-sm`;return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Crear Rbrica de Aprendizaje"}),u.jsx("button",{onClick:()=>a("list"),className:"text-sm font-semibold text-slate-500 hover:underline",children:" Volver"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Ttulo de la Rbrica"}),u.jsx("input",{value:n.titulo,onChange:P=>T("titulo",P.target.value),placeholder:"Ej. Rbrica de Presentaciones Orales",className:`${F} mt-1`})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Descripcin de la Rbrica"}),u.jsx("textarea",{value:n.descripcion,onChange:P=>T("descripcion",P.target.value),placeholder:"Describe el propsito y los criterios de evaluacin de esta rbrica.",rows:3,className:`${F} mt-1`})]})]}),n.dimensiones.length===0&&u.jsx("div",{className:"text-center py-4",children:u.jsx("button",{onClick:()=>d(n.titulo,n.descripcion),disabled:i||!n.titulo||!n.descripcion,className:"bg-sky-500 text-white font-semibold py-2 px-5 rounded-lg disabled:bg-slate-400 flex items-center gap-2 mx-auto",children:i?"Generando...":" Generar Rbrica con IA"})}),n.dimensiones.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:"Dimensiones a Evaluar"}),u.jsx("div",{className:"overflow-x-auto border border-slate-200 dark:border-slate-700 rounded-lg",children:u.jsxs("table",{className:"min-w-full text-sm",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:u.jsx("tr",{children:["Dimensin","Insuficiente","Suficiente","Competente","Avanzado",""].map(P=>u.jsx("th",{className:"p-3 text-left font-semibold text-slate-600 dark:text-slate-300",children:P},P))})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:n.dimensiones.map(P=>u.jsxs("tr",{children:[u.jsx("td",{className:"p-2 w-1/5",children:u.jsx("textarea",{value:P.nombre,onChange:S=>E(P.id,"nombre",S.target.value),rows:4,className:D})}),Object.keys(P.niveles).map(S=>u.jsx("td",{className:"p-2 w-1/5",children:P.isLoading?u.jsx("div",{className:"flex justify-center items-center h-full",children:u.jsx("div",{className:"w-5 h-5 border-2 border-slate-300 border-t-amber-500 rounded-full animate-spin"})}):u.jsx("textarea",{value:P.niveles[S],onChange:N=>E(P.id,S,N.target.value),rows:4,className:D})},S)),u.jsx("td",{className:"p-2 w-[5%] text-center align-middle",children:u.jsx("button",{onClick:()=>I(P.id),className:"text-red-500 hover:text-red-700 p-1 rounded-full text-lg",children:""})})]},P.id))})]})}),u.jsxs("div",{className:"flex items-end gap-2 pt-2",children:[u.jsxs("div",{className:"flex-grow",children:[u.jsx("label",{className:"text-sm font-medium",children:"Aadir Dimensin"}),u.jsx("input",{value:l,onChange:P=>A(P.target.value),placeholder:"Escribe el nombre de la nueva dimensin...",className:`${F} mt-1`})]}),u.jsx("button",{onClick:h,disabled:!l.trim(),className:"bg-slate-200 dark:bg-slate-600 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300 h-10 disabled:opacity-50",children:"Generar con IA"})]})]}),u.jsx("div",{className:"flex justify-end pt-6 border-t dark:border-slate-700",children:u.jsx("button",{onClick:p,className:"bg-amber-500 text-white font-bold py-2.5 px-6 rounded-lg hover:bg-amber-600",children:"Guardar Rbrica"})})]})};return s==="list"?u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Mis Rbricas"}),u.jsx("button",{onClick:b,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900",children:"Crear Nueva"})]}),t.length>0?t.map(F=>u.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:F.titulo}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate max-w-lg",children:F.descripcion})]}),u.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[u.jsx("button",{onClick:()=>g(F),className:"text-sm font-semibold text-blue-600 hover:underline",children:"Editar"}),u.jsx("button",{onClick:()=>w(F.id),className:"text-sm font-semibold text-red-600 hover:underline",children:"Eliminar"})]})]},F.id)):u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No hay rbricas guardadas."})]}):k()},nie=({allUsers:t,rubricasEstaticas:e})=>{const[n,r]=X.useState([]),[s,a]=X.useState(null),[i,o]=X.useState(null),[l,A]=X.useState({rubricaEstaticaId:"",curso:""}),[d,h]=X.useState(null);X.useEffect(()=>{try{const k=localStorage.getItem(CI);k&&r(JSON.parse(k))}catch(k){console.error("Error loading interactive rubrics",k)}},[]);const p=k=>{r(k),localStorage.setItem(CI,JSON.stringify(k))},g=k=>{k.preventDefault();const F=e.find(P=>P.id===l.rubricaEstaticaId);if(!F||!l.curso){alert("Debe seleccionar una rbrica y un curso.");return}const D={id:crypto.randomUUID(),nombre:F.titulo,curso:l.curso,asignatura:"N/A",rubricaEstaticaId:F.id,resultados:{}};p([D,...n]),A({rubricaEstaticaId:"",curso:""})},w=k=>{a(k),o(JSON.parse(JSON.stringify(k)))},b=(k,F,D)=>{i&&o(P=>{if(!P)return null;const S=JSON.parse(JSON.stringify(P));return S.resultados[k]||(S.resultados[k]={puntajes:{},feedback:""}),S.resultados[k].puntajes[F]=D,S})},E=()=>{i&&(p(n.map(k=>k.id===i.id?i:k)),a(i),alert("Cambios guardados."))},T=X.useCallback(k=>{const F=i,D=e.find(U=>U.id===(F==null?void 0:F.rubricaEstaticaId));if(!F||!D)return{score:0,maxScore:0,grade:"N/A"};const P=D.dimensiones.length*4,S=F.resultados[k];if(!S)return{score:0,maxScore:P,grade:"1.0"};const N=Object.values(S.puntajes).reduce((U,L)=>U+L,0),B=1+6*(N/P),V=P>0?B.toFixed(1):"1.0";return{score:N,maxScore:P,grade:V}},[i,e]),I=async k=>{if(!i)return;const F=e.find(N=>N.id===i.rubricaEstaticaId),D=i.resultados[k];if(!F||!D||Object.keys(D.puntajes).length===0)return;h(k);const S=`Genera una retroalimentacin constructiva para un estudiante basada en estos puntajes de rbrica (de 1 a 4): ${F.dimensiones.map(N=>`${N.nombre}: ${D.puntajes[N.nombre]||"N/A"}/4`).join("; ")}. Destaca fortalezas y sugiere 1-2 reas de mejora concretas. S breve y motivador.`;try{go("Evaluacin - Rbricas Interactivas (Feedback)");const B=await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:S});o(V=>{if(!V)return null;const U=JSON.parse(JSON.stringify(V));return U.resultados[k].feedback=B.text.replace(/(\*\*|\*)/g,""),U})}catch(N){console.error(N),alert("Error al generar feedback.")}finally{h(null)}};if(s&&i){const k=e.find(D=>D.id===s.rubricaEstaticaId),F=t.filter(D=>D.profile===on.ESTUDIANTE&&Xv(D.curso||"")===s.curso).map(D=>D.nombreCompleto).sort();return k?u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:s.nombre}),u.jsx("p",{className:"text-slate-500",children:s.curso})]}),u.jsx("button",{onClick:()=>a(null),className:"font-semibold text-slate-600",children:" Volver"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full border-collapse",children:[u.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-2 border dark:border-slate-600 sticky left-0 bg-slate-100 dark:bg-slate-700 z-10 w-48",children:"Estudiante"}),k.dimensiones.map(D=>u.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm",children:D.nombre},D.id)),u.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm",children:"Puntaje"}),u.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm",children:"Nota"}),u.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm w-64",children:"Retroalimentacin"})]})}),u.jsx("tbody",{children:F.map(D=>{var B;const{score:P,maxScore:S,grade:N}=T(D);return u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[u.jsx("td",{className:"p-2 border dark:border-slate-600 font-semibold sticky left-0 bg-white dark:bg-slate-800 w-48",children:D}),k.dimensiones.map(V=>u.jsx("td",{className:"p-2 border dark:border-slate-600 text-center",children:u.jsx("div",{className:"flex justify-center gap-1",children:[1,2,3,4].map(U=>{var L;return u.jsx("button",{onClick:()=>b(D,V.nombre,U),className:`w-7 h-7 rounded-md font-semibold transition-colors ${((L=i.resultados[D])==null?void 0:L.puntajes[V.nombre])===U?"bg-amber-400 text-white":"bg-slate-200 dark:bg-slate-600 hover:bg-slate-300"}`,children:U},U)})})},V.id)),u.jsxs("td",{className:"p-2 border dark:border-slate-600 text-center font-bold",children:[P,"/",S]}),u.jsx("td",{className:"p-2 border dark:border-slate-600 text-center font-bold",children:N}),u.jsx("td",{className:"p-2 border dark:border-slate-600 text-sm",children:u.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[u.jsx("p",{className:"text-xs w-full",children:((B=i.resultados[D])==null?void 0:B.feedback)||"Sin generar"}),u.jsx("button",{onClick:()=>I(D),disabled:d===D,className:"text-xs bg-sky-100 text-sky-700 font-semibold px-2 py-1 rounded-md w-full disabled:opacity-50",children:d===D?"...":"Generar IA"})]})})]},D)})})]})}),u.jsx("div",{className:"mt-6 flex justify-end",children:u.jsx("button",{onClick:E,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar Cambios"})})]}):u.jsxs("div",{children:["Error: Rbrica base no encontrada. ",u.jsx("button",{onClick:()=>a(null),children:"Volver"})]})}return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Crear Evaluacin con Rbrica"}),u.jsxs("form",{onSubmit:g,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[u.jsxs("select",{value:l.rubricaEstaticaId,onChange:k=>A({...l,rubricaEstaticaId:k.target.value}),className:"w-full border-slate-300 rounded-md dark:bg-slate-700",required:!0,children:[u.jsx("option",{value:"",children:"Seleccione una Rbrica Guardada"}),e.map(k=>u.jsx("option",{value:k.id,children:k.titulo},k.id))]}),u.jsxs("select",{value:l.curso,onChange:k=>A({...l,curso:k.target.value}),className:"w-full border-slate-300 rounded-md dark:bg-slate-700",required:!0,children:[u.jsx("option",{value:"",children:"Seleccione un Curso"}),_a.map(k=>u.jsx("option",{value:k,children:k},k))]}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 h-10",children:"Crear Evaluacin"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Evaluaciones Creadas"}),u.jsx("div",{className:"space-y-2",children:n.map(k=>u.jsxs("button",{onClick:()=>w(k),className:"w-full text-left p-3 rounded-md bg-slate-50 dark:bg-slate-700 hover:bg-slate-100 dark:hover:bg-slate-600",children:[u.jsx("p",{className:"font-semibold",children:k.nombre}),u.jsx("p",{className:"text-sm text-slate-500",children:k.curso})]},k.id))})]})]})},rie=({allUsers:t})=>{const[e,n]=X.useState(""),r=X.useMemo(()=>Array.from(new Set(t.filter(a=>a.profile===on.ESTUDIANTE&&a.curso).map(a=>Xv(a.curso)))).sort(),[t]),s=X.useMemo(()=>{const a=t.filter(i=>i.profile===on.ESTUDIANTE);return e?a.filter(i=>Xv(i.curso||"")===e).sort((i,o)=>i.nombreCompleto.localeCompare(o.nombreCompleto)):a.sort((i,o)=>i.nombreCompleto.localeCompare(o.nombreCompleto))},[t,e]);return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Nminas de Cursos"}),u.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:["Este es un visor de las nminas de estudiantes. Para agregar, editar o eliminar estudiantes, utilice el mdulo de ",u.jsx("strong",{className:"font-semibold",children:"Administracin"}),"."]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"curso-filter",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filtrar por Curso"}),u.jsxs("select",{id:"curso-filter",value:e,onChange:a=>n(a.target.value),className:"w-full max-w-xs border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[u.jsx("option",{value:"",children:"Mostrar Todos los Estudiantes"}),r.map(a=>u.jsx("option",{value:a,children:a},a))]})]}),u.jsx("div",{className:"overflow-x-auto border rounded-lg dark:border-slate-700 max-h-[60vh]",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Nombre Completo"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Curso"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Email"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:s.length>0?s.map(a=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:a.nombreCompleto}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:Xv(a.curso||"")}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:a.email})]},a.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:3,className:"px-6 py-10 text-center text-slate-500 dark:text-slate-400",children:"No hay estudiantes que coincidan con el filtro."})})})]})})]})},sie=()=>{const[t,e]=X.useState("pruebas"),[n,r]=X.useState([]),[s,a]=X.useState([]);X.useEffect(()=>{const l=()=>{try{const A=localStorage.getItem(Yae);A&&r(JSON.parse(A));const d=localStorage.getItem(_I);d&&a(JSON.parse(d))}catch(A){console.error("Error loading data for evaluation module",A)}};return l(),window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)},[]);const i=l=>{a(l),localStorage.setItem(_I,JSON.stringify(l)),window.dispatchEvent(new Event("storage"))},o=({tabName:l,label:A})=>u.jsx("button",{onClick:()=>e(l),className:`${t===l?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-3 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:A});return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Evaluacin de Aprendizajes"}),u.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:u.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[u.jsx(o,{tabName:"pruebas",label:"Pruebas y Guas"}),u.jsx(o,{tabName:"rubricas",label:"Generador de Rbricas"}),u.jsx(o,{tabName:"rubricasInteractivas",label:"Rbricas Interactivas"}),u.jsx(o,{tabName:"nominas",label:"Gestin de Nminas"})]})}),u.jsxs("div",{className:"mt-6",children:[t==="pruebas"&&u.jsx(eie,{}),t==="rubricas"&&u.jsx(tie,{rubricas:s,onUpdate:i}),t==="rubricasInteractivas"&&u.jsx(nie,{allUsers:n,rubricasEstaticas:s}),t==="nominas"&&u.jsx(rie,{allUsers:n})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var M2={};M2.version="0.18.5";var W8=1252,aie=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],y5={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},w5=function(t){aie.indexOf(t)!=-1&&(W8=y5[0]=t)};function iie(){w5(1252)}var dc=function(t){w5(t)};function b5(){dc(1200),iie()}function TI(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function oie(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function $8(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var Kp=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?oie(t.slice(2)):e==254&&n==255?$8(t.slice(2)):e==65279?t.slice(1):t},z1=function(e){return String.fromCharCode(e)},BI=function(e){return String.fromCharCode(e)},Mg,Bd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Pg(t){for(var e="",n=0,r=0,s=0,a=0,i=0,o=0,l=0,A=0;A<t.length;)n=t.charCodeAt(A++),a=n>>2,r=t.charCodeAt(A++),i=(n&3)<<4|r>>4,s=t.charCodeAt(A++),o=(r&15)<<2|s>>6,l=s&63,isNaN(r)?o=l=64:isNaN(s)&&(l=64),e+=Bd.charAt(a)+Bd.charAt(i)+Bd.charAt(o)+Bd.charAt(l);return e}function zo(t){var e="",n=0,r=0,s=0,a=0,i=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var A=0;A<t.length;)a=Bd.indexOf(t.charAt(A++)),i=Bd.indexOf(t.charAt(A++)),n=a<<2|i>>4,e+=String.fromCharCode(n),o=Bd.indexOf(t.charAt(A++)),r=(i&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),l=Bd.indexOf(t.charAt(A++)),s=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(s));return e}var Kn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Tu=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Xd(t){return Kn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function NI(t){return Kn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Qo=function(e){return Kn?Tu(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function Yy(t){if(typeof ArrayBuffer>"u")return Qo(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function of(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function lie(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function C5(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return C5(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var Qa=Kn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Tu(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),s=0;for(e=0,n=0;e<t.length;n+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function cie(t){for(var e=[],n=0,r=t.length+250,s=Xd(t.length+255),a=0;a<t.length;++a){var i=t.charCodeAt(a);if(i<128)s[n++]=i;else if(i<2048)s[n++]=192|i>>6&31,s[n++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=t.charCodeAt(++a)&1023;s[n++]=240|i>>8&7,s[n++]=128|i>>2&63,s[n++]=128|o>>6&15|(i&3)<<4,s[n++]=128|o&63}else s[n++]=224|i>>12&15,s[n++]=128|i>>6&63,s[n++]=128|i&63;n>r&&(e.push(s.slice(0,n)),n=0,s=Xd(65535),r=65530)}return e.push(s.slice(0,n)),Qa(e)}var Ki=/\u0000/g,qp=/[\u0001-\u0006]/g;function Y0(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function fc(t,e){var n=""+t;return n.length>=e?n:Rs("0",e-n.length)+n}function E5(t,e){var n=""+t;return n.length>=e?n:Rs(" ",e-n.length)+n}function P2(t,e){var n=""+t;return n.length>=e?n:n+Rs(" ",e-n.length)}function Aie(t,e){var n=""+Math.round(t);return n.length>=e?n:Rs("0",e-n.length)+n}function uie(t,e){var n=""+t;return n.length>=e?n:Rs("0",e-n.length)+n}var kI=Math.pow(2,32);function a0(t,e){if(t>kI||t<-kI)return Aie(t,e);var n=Math.round(t);return uie(n,e)}function O2(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var II=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],yC=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function die(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var gn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},FI={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},fie={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function j2(t,e,n){for(var r=t<0?-1:1,s=t*r,a=0,i=1,o=0,l=1,A=0,d=0,h=Math.floor(s);A<e&&(h=Math.floor(s),o=h*i+a,d=h*A+l,!(s-h<5e-8));)s=1/(s-h),a=i,i=o,l=A,A=d;if(d>e&&(A>e?(d=l,o=a):(d=A,o=i)),!n)return[0,r*o,d];var p=Math.floor(r*o/d);return[p,r*o-p*d,d]}function Hf(t,e,n){if(t>2958465||t<0)return null;var r=t|0,s=Math.floor(86400*(t-r)),a=0,i=[],o={D:r,T:s,u:86400*(t-r)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++s==86400&&(o.T=s=0,++r,++o.D)),r===60)i=n?[1317,10,29]:[1900,2,29],a=3;else if(r===0)i=n?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),i=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),r<60&&(a=(a+6)%7),n&&(a=vie(l,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=s%60,s=Math.floor(s/60),o.M=s%60,s=Math.floor(s/60),o.H=s,o.q=a,o}var Y8=new Date(1899,11,31,0,0,0),hie=Y8.getTime(),mie=new Date(1900,2,1,0,0,0);function J8(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=mie&&(n+=1440*60*1e3),(n-(hie+(t.getTimezoneOffset()-Y8.getTimezoneOffset())*6e4))/(1440*60*1e3)}function _5(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function pie(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function gie(t){var e=t<0?12:11,n=_5(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function xie(t){var e=_5(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Og(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=gie(t):e===10?n=t.toFixed(10).substr(0,12):n=xie(t),_5(pie(n.toUpperCase()))}function lh(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Og(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Fl(14,J8(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function vie(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function yie(t,e,n,r){var s="",a=0,i=0,o=n.y,l,A=0;switch(t){case 98:o=n.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,A=2;break;default:l=o%1e4,A=4;break}break;case 109:switch(e.length){case 1:case 2:l=n.m,A=e.length;break;case 3:return yC[n.m-1][1];case 5:return yC[n.m-1][0];default:return yC[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=n.d,A=e.length;break;case 3:return II[n.q][0];default:return II[n.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(n.H+11)%12,A=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=n.H,A=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=n.M,A=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?fc(n.S,e.length):(r>=2?i=r===3?1e3:100:i=r===1?10:1,a=Math.round(i*(n.S+n.u)),a>=60*i&&(a=0),e==="s"?a===0?"0":""+a/i:(s=fc(a,2+r),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}A=e.length===3?1:2;break;case 101:l=o,A=1;break}var d=A>0?fc(l,A):"";return d}function Nd(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var X8=/%/g;function wie(t,e,n){var r=e.replace(X8,""),s=e.length-r.length;return du(t,r,n*Math.pow(10,2*s))+Rs("%",s)}function bie(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return du(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function Z8(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Z8(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%s;if(a<0&&(a+=s),n=(e/Math.pow(10,a)).toPrecision(r+1+(s+a)%s),n.indexOf("e")===-1){var i=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(i-n.length+a):n+="E+"+(i-a);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,s)+"."+n.substr(2+s),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,A,d){return l+A+d.substr(0,(s+a)%s)+"."+d.substr(a)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var eM=/# (\?+)( ?)\/( ?)(\d+)/;function Cie(t,e,n){var r=parseInt(t[4],10),s=Math.round(e*r),a=Math.floor(s/r),i=s-a*r,o=r;return n+(a===0?"":""+a)+" "+(i===0?Rs(" ",t[1].length+1+t[4].length):E5(i,t[1].length)+t[2]+"/"+t[3]+fc(o,t[4].length))}function Eie(t,e,n){return n+(e===0?"":""+e)+Rs(" ",t[1].length+2+t[4].length)}var tM=/^#*0*\.([0#]+)/,nM=/\).*[0#]/,rM=/\(###\) ###\\?-####/;function Gi(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function RI(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function DI(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function _ie(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function Sie(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function gl(t,e,n){if(t.charCodeAt(0)===40&&!e.match(nM)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?gl("n",r,n):"("+gl("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return bie(t,e,n);if(e.indexOf("%")!==-1)return wie(t,e,n);if(e.indexOf("E")!==-1)return Z8(e,n);if(e.charCodeAt(0)===36)return"$"+gl(t,e.substr(e.charAt(1)==" "?2:1),n);var s,a,i,o,l=Math.abs(n),A=n<0?"-":"";if(e.match(/^00+$/))return A+a0(l,e.length);if(e.match(/^[#?]+$/))return s=a0(n,0),s==="0"&&(s=""),s.length>e.length?s:Gi(e.substr(0,e.length-s.length))+s;if(a=e.match(eM))return Cie(a,l,A);if(e.match(/^#+0+$/))return A+a0(l,e.length-e.indexOf("0"));if(a=e.match(tM))return s=RI(n,a[1].length).replace(/^([^\.]+)$/,"$1."+Gi(a[1])).replace(/\.$/,"."+Gi(a[1])).replace(/\.(\d*)$/,function(w,b){return"."+b+Rs("0",Gi(a[1]).length-b.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return A+RI(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return A+Nd(a0(l,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+gl(t,e,-n):Nd(""+(Math.floor(n)+_ie(n,a[1].length)))+"."+fc(DI(n,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return gl(t,e.replace(/^#,#*,/,""),n);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Y0(gl(t,e.replace(/[\\-]/g,""),n)),i=0,Y0(Y0(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return i<s.length?s.charAt(i++):w==="0"?"0":""}));if(e.match(rM))return s=gl(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),o=j2(l,Math.pow(10,i)-1,!1),s=""+A,d=du("n",a[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+a[2]+"/"+a[3],d=P2(o[2],i),d.length<a[4].length&&(d=Gi(a[4].substr(a[4].length-d.length))+d),s+=d,s;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),o=j2(l,Math.pow(10,i)-1,!0),A+(o[0]||(o[1]?"":"0"))+" "+(o[1]?E5(o[1],i)+a[2]+"/"+a[3]+P2(o[2],i):Rs(" ",2*i+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return s=a0(n,0),e.length<=s.length?s:Gi(e.substr(0,e.length-s.length))+s;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var h=e.indexOf(".")-i,p=e.length-s.length-h;return Gi(e.substr(0,h)+s+e.substr(e.length-p))}if(a=e.match(/^00,000\.([#0]*0)$/))return i=DI(n,a[1].length),n<0?"-"+gl(t,e,-n):Nd(Sie(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?fc(0,3-w.length):"")+w})+"."+fc(i,a[1].length);switch(e){case"###,##0.00":return gl(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var g=Nd(a0(l,0));return g!=="0"?A+g:"";case"###,###.00":return gl(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return gl(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Tie(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return du(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function Bie(t,e,n){var r=e.replace(X8,""),s=e.length-r.length;return du(t,r,n*Math.pow(10,2*s))+Rs("%",s)}function sM(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+sM(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%s;if(a<0&&(a+=s),n=(e/Math.pow(10,a)).toPrecision(r+1+(s+a)%s),!n.match(/[Ee]/)){var i=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(i-n.length+a):n+="E+"+(i-a),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,A,d){return l+A+d.substr(0,(s+a)%s)+"."+d.substr(a)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function rA(t,e,n){if(t.charCodeAt(0)===40&&!e.match(nM)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?rA("n",r,n):"("+rA("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return Tie(t,e,n);if(e.indexOf("%")!==-1)return Bie(t,e,n);if(e.indexOf("E")!==-1)return sM(e,n);if(e.charCodeAt(0)===36)return"$"+rA(t,e.substr(e.charAt(1)==" "?2:1),n);var s,a,i,o,l=Math.abs(n),A=n<0?"-":"";if(e.match(/^00+$/))return A+fc(l,e.length);if(e.match(/^[#?]+$/))return s=""+n,n===0&&(s=""),s.length>e.length?s:Gi(e.substr(0,e.length-s.length))+s;if(a=e.match(eM))return Eie(a,l,A);if(e.match(/^#+0+$/))return A+fc(l,e.length-e.indexOf("0"));if(a=e.match(tM))return s=(""+n).replace(/^([^\.]+)$/,"$1."+Gi(a[1])).replace(/\.$/,"."+Gi(a[1])),s=s.replace(/\.(\d*)$/,function(w,b){return"."+b+Rs("0",Gi(a[1]).length-b.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return A+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return A+Nd(""+l);if(a=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+rA(t,e,-n):Nd(""+n)+"."+Rs("0",a[1].length);if(a=e.match(/^#,#*,#0/))return rA(t,e.replace(/^#,#*,/,""),n);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Y0(rA(t,e.replace(/[\\-]/g,""),n)),i=0,Y0(Y0(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return i<s.length?s.charAt(i++):w==="0"?"0":""}));if(e.match(rM))return s=rA(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),o=j2(l,Math.pow(10,i)-1,!1),s=""+A,d=du("n",a[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+a[2]+"/"+a[3],d=P2(o[2],i),d.length<a[4].length&&(d=Gi(a[4].substr(a[4].length-d.length))+d),s+=d,s;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),o=j2(l,Math.pow(10,i)-1,!0),A+(o[0]||(o[1]?"":"0"))+" "+(o[1]?E5(o[1],i)+a[2]+"/"+a[3]+P2(o[2],i):Rs(" ",2*i+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return s=""+n,e.length<=s.length?s:Gi(e.substr(0,e.length-s.length))+s;if(a=e.match(/^([#0]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var h=e.indexOf(".")-i,p=e.length-s.length-h;return Gi(e.substr(0,h)+s+e.substr(e.length-p))}if(a=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+rA(t,e,-n):Nd(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?fc(0,3-w.length):"")+w})+"."+fc(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var g=Nd(""+l);return g!=="0"?A+g:"";default:if(e.match(/\.[0#?]*$/))return rA(t,e.slice(0,e.lastIndexOf(".")),n)+Gi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function du(t,e,n){return(n|0)===n?rA(t,e,n):gl(t,e,n)}function Nie(t){for(var e=[],n=!1,r=0,s=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(s,r-s),s=r+1}if(e[e.length]=t.substr(s),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var aM=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Rm(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":O2(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(aM))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function kie(t,e,n,r){for(var s=[],a="",i=0,o="",l="t",A,d,h,p="H";i<t.length;)switch(o=t.charAt(i)){case"G":if(!O2(t,i))throw new Error("unrecognized character "+o+" in "+t);s[s.length]={t:"G",v:"General"},i+=7;break;case'"':for(a="";(h=t.charCodeAt(++i))!==34&&i<t.length;)a+=String.fromCharCode(h);s[s.length]={t:"t",v:a},++i;break;case"\\":var g=t.charAt(++i),w=g==="("||g===")"?g:"t";s[s.length]={t:w,v:g},++i;break;case"_":s[s.length]={t:"t",v:" "},i+=2;break;case"@":s[s.length]={t:"T",v:e},++i;break;case"B":case"b":if(t.charAt(i+1)==="1"||t.charAt(i+1)==="2"){if(A==null&&(A=Hf(e,n,t.charAt(i+1)==="2"),A==null))return"";s[s.length]={t:"X",v:t.substr(i,2)},l=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||A==null&&(A=Hf(e,n),A==null))return"";for(a=o;++i<t.length&&t.charAt(i).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),s[s.length]={t:o,v:a},l=o;break;case"A":case"a":case"":var b={t:o,v:o};if(A==null&&(A=Hf(e,n)),t.substr(i,3).toUpperCase()==="A/P"?(A!=null&&(b.v=A.H>=12?"P":"A"),b.t="T",p="h",i+=3):t.substr(i,5).toUpperCase()==="AM/PM"?(A!=null&&(b.v=A.H>=12?"PM":"AM"),b.t="T",i+=5,p="h"):t.substr(i,5).toUpperCase()==="/"?(A!=null&&(b.v=A.H>=12?"":""),b.t="T",i+=5,p="h"):(b.t="t",++i),A==null&&b.t==="T")return"";s[s.length]=b,l=o;break;case"[":for(a=o;t.charAt(i++)!=="]"&&i<t.length;)a+=t.charAt(i);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(aM)){if(A==null&&(A=Hf(e,n),A==null))return"";s[s.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Rm(t)||(s[s.length]={t:"t",v:a}));break;case".":if(A!=null){for(a=o;++i<t.length&&(o=t.charAt(i))==="0";)a+=o;s[s.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++i<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(i))>-1;)a+=o;s[s.length]={t:"n",v:a};break;case"?":for(a=o;t.charAt(++i)===o;)a+=o;s[s.length]={t:o,v:a},l=o;break;case"*":++i,(t.charAt(i)==" "||t.charAt(i)=="*")&&++i;break;case"(":case")":s[s.length]={t:r===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;i<t.length&&"0123456789".indexOf(t.charAt(++i))>-1;)a+=t.charAt(i);s[s.length]={t:"D",v:a};break;case" ":s[s.length]={t:o,v:o},++i;break;case"$":s[s.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);s[s.length]={t:"t",v:o},++i;break}var E=0,T=0,I;for(i=s.length-1,l="t";i>=0;--i)switch(s[i].t){case"h":case"H":s[i].t=p,l="h",E<1&&(E=1);break;case"s":(I=s[i].v.match(/\.0+$/))&&(T=Math.max(T,I[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":l=s[i].t;break;case"m":l==="s"&&(s[i].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&s[i].v.match(/[Hh]/)&&(E=1),E<2&&s[i].v.match(/[Mm]/)&&(E=2),E<3&&s[i].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:A.u>=.5&&(A.u=0,++A.S),A.S>=60&&(A.S=0,++A.M),A.M>=60&&(A.M=0,++A.H);break;case 2:A.u>=.5&&(A.u=0,++A.S),A.S>=60&&(A.S=0,++A.M);break}var k="",F;for(i=0;i<s.length;++i)switch(s[i].t){case"t":case"T":case" ":case"D":break;case"X":s[i].v="",s[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[i].v=yie(s[i].t.charCodeAt(0),s[i].v,A,T),s[i].t="t";break;case"n":case"?":for(F=i+1;s[F]!=null&&((o=s[F].t)==="?"||o==="D"||(o===" "||o==="t")&&s[F+1]!=null&&(s[F+1].t==="?"||s[F+1].t==="t"&&s[F+1].v==="/")||s[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(s[F].v==="/"||s[F].v===" "&&s[F+1]!=null&&s[F+1].t=="?"));)s[i].v+=s[F].v,s[F]={v:"",t:";"},++F;k+=s[i].v,i=F-1;break;case"G":s[i].t="t",s[i].v=lh(e,n);break}var D="",P,S;if(k.length>0){k.charCodeAt(0)==40?(P=e<0&&k.charCodeAt(0)===45?-e:e,S=du("n",k,P)):(P=e<0&&r>1?-e:e,S=du("n",k,P),P<0&&s[0]&&s[0].t=="t"&&(S=S.substr(1),s[0].v="-"+s[0].v)),F=S.length-1;var N=s.length;for(i=0;i<s.length;++i)if(s[i]!=null&&s[i].t!="t"&&s[i].v.indexOf(".")>-1){N=i;break}var B=s.length;if(N===s.length&&S.indexOf("E")===-1){for(i=s.length-1;i>=0;--i)s[i]==null||"n?".indexOf(s[i].t)===-1||(F>=s[i].v.length-1?(F-=s[i].v.length,s[i].v=S.substr(F+1,s[i].v.length)):F<0?s[i].v="":(s[i].v=S.substr(0,F+1),F=-1),s[i].t="t",B=i);F>=0&&B<s.length&&(s[B].v=S.substr(0,F+1)+s[B].v)}else if(N!==s.length&&S.indexOf("E")===-1){for(F=S.indexOf(".")-1,i=N;i>=0;--i)if(!(s[i]==null||"n?".indexOf(s[i].t)===-1)){for(d=s[i].v.indexOf(".")>-1&&i===N?s[i].v.indexOf(".")-1:s[i].v.length-1,D=s[i].v.substr(d+1);d>=0;--d)F>=0&&(s[i].v.charAt(d)==="0"||s[i].v.charAt(d)==="#")&&(D=S.charAt(F--)+D);s[i].v=D,s[i].t="t",B=i}for(F>=0&&B<s.length&&(s[B].v=S.substr(0,F+1)+s[B].v),F=S.indexOf(".")+1,i=N;i<s.length;++i)if(!(s[i]==null||"n?(".indexOf(s[i].t)===-1&&i!==N)){for(d=s[i].v.indexOf(".")>-1&&i===N?s[i].v.indexOf(".")+1:0,D=s[i].v.substr(0,d);d<s[i].v.length;++d)F<S.length&&(D+=S.charAt(F++));s[i].v=D,s[i].t="t",B=i}}}for(i=0;i<s.length;++i)s[i]!=null&&"n?".indexOf(s[i].t)>-1&&(P=r>1&&e<0&&i>0&&s[i-1].v==="-"?-e:e,s[i].v=du(s[i].t,s[i].v,P),s[i].t="t");var V="";for(i=0;i!==s.length;++i)s[i]!=null&&(V+=s[i].v);return V}var UI=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function LI(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function Iie(t,e){var n=Nie(t),r=n.length,s=n[r-1].indexOf("@");if(r<4&&s>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||s>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=s>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=s>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=s>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var a=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,a];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var i=n[0].match(UI),o=n[1].match(UI);return LI(e,i)?[r,n[0]]:LI(e,o)?[r,n[1]]:[r,n[i!=null&&o!=null?2:1]]}return[r,a]}function Fl(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:gn)[t],r==null&&(r=n.table&&n.table[FI[t]]||gn[FI[t]]),r==null&&(r=fie[t]||"General");break}if(O2(r,0))return lh(e,n);e instanceof Date&&(e=J8(e,n.date1904));var s=Iie(r,e);if(O2(s[1]))return lh(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return kie(s[1],e,n,s[0])}function fu(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(gn[n]==null){e<0&&(e=n);continue}if(gn[n]==t){e=n;break}}e<0&&(e=391)}return gn[e]=t,e}function Jy(t){for(var e=0;e!=392;++e)t[e]!==void 0&&fu(t[e],e)}function Dm(){gn=die()}var Fie={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},iM=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Rie(t){var e=typeof t=="number"?gn[t]:t;return e=e.replace(iM,"(\\d+)"),new RegExp("^"+e+"$")}function Die(t,e,n){var r=-1,s=-1,a=-1,i=-1,o=-1,l=-1;(e.match(iM)||[]).forEach(function(h,p){var g=parseInt(n[p+1],10);switch(h.toLowerCase().charAt(0)){case"y":r=g;break;case"d":a=g;break;case"h":i=g;break;case"s":l=g;break;case"m":i>=0?o=g:s=g;break}}),l>=0&&o==-1&&s>=0&&(o=s,s=-1);var A=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);A.length==7&&(A="0"+A),A.length==8&&(A="20"+A);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return i==-1&&o==-1&&l==-1?A:r==-1&&s==-1&&a==-1?d:A+"T"+d}var Uie=function(){var t={};t.version="1.2.0";function e(){for(var S=0,N=new Array(256),B=0;B!=256;++B)S=B,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,N[B]=S;return typeof Int32Array<"u"?new Int32Array(N):N}var n=e();function r(S){var N=0,B=0,V=0,U=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(V=0;V!=256;++V)U[V]=S[V];for(V=0;V!=256;++V)for(B=S[V],N=256+V;N<4096;N+=256)B=U[N]=B>>>8^S[B&255];var L=[];for(V=1;V!=16;++V)L[V-1]=typeof Int32Array<"u"?U.subarray(V*256,V*256+256):U.slice(V*256,V*256+256);return L}var s=r(n),a=s[0],i=s[1],o=s[2],l=s[3],A=s[4],d=s[5],h=s[6],p=s[7],g=s[8],w=s[9],b=s[10],E=s[11],T=s[12],I=s[13],k=s[14];function F(S,N){for(var B=N^-1,V=0,U=S.length;V<U;)B=B>>>8^n[(B^S.charCodeAt(V++))&255];return~B}function D(S,N){for(var B=N^-1,V=S.length-15,U=0;U<V;)B=k[S[U++]^B&255]^I[S[U++]^B>>8&255]^T[S[U++]^B>>16&255]^E[S[U++]^B>>>24]^b[S[U++]]^w[S[U++]]^g[S[U++]]^p[S[U++]]^h[S[U++]]^d[S[U++]]^A[S[U++]]^l[S[U++]]^o[S[U++]]^i[S[U++]]^a[S[U++]]^n[S[U++]];for(V+=15;U<V;)B=B>>>8^n[(B^S[U++])&255];return~B}function P(S,N){for(var B=N^-1,V=0,U=S.length,L=0,j=0;V<U;)L=S.charCodeAt(V++),L<128?B=B>>>8^n[(B^L)&255]:L<2048?(B=B>>>8^n[(B^(192|L>>6&31))&255],B=B>>>8^n[(B^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,j=S.charCodeAt(V++)&1023,B=B>>>8^n[(B^(240|L>>8&7))&255],B=B>>>8^n[(B^(128|L>>2&63))&255],B=B>>>8^n[(B^(128|j>>6&15|(L&3)<<4))&255],B=B>>>8^n[(B^(128|j&63))&255]):(B=B>>>8^n[(B^(224|L>>12&15))&255],B=B>>>8^n[(B^(128|L>>6&63))&255],B=B>>>8^n[(B^(128|L&63))&255]);return~B}return t.table=n,t.bstr=F,t.buf=D,t.str=P,t}(),ln=function(){var e={};e.version="1.2.1";function n(de,Be){for(var Ce=de.split("/"),_e=Be.split("/"),Se=0,Ne=0,Ke=Math.min(Ce.length,_e.length);Se<Ke;++Se){if(Ne=Ce[Se].length-_e[Se].length)return Ne;if(Ce[Se]!=_e[Se])return Ce[Se]<_e[Se]?-1:1}return Ce.length-_e.length}function r(de){if(de.charAt(de.length-1)=="/")return de.slice(0,-1).indexOf("/")===-1?de:r(de.slice(0,-1));var Be=de.lastIndexOf("/");return Be===-1?de:de.slice(0,Be+1)}function s(de){if(de.charAt(de.length-1)=="/")return s(de.slice(0,-1));var Be=de.lastIndexOf("/");return Be===-1?de:de.slice(Be+1)}function a(de,Be){typeof Be=="string"&&(Be=new Date(Be));var Ce=Be.getHours();Ce=Ce<<6|Be.getMinutes(),Ce=Ce<<5|Be.getSeconds()>>>1,de.write_shift(2,Ce);var _e=Be.getFullYear()-1980;_e=_e<<4|Be.getMonth()+1,_e=_e<<5|Be.getDate(),de.write_shift(2,_e)}function i(de){var Be=de.read_shift(2)&65535,Ce=de.read_shift(2)&65535,_e=new Date,Se=Ce&31;Ce>>>=5;var Ne=Ce&15;Ce>>>=4,_e.setMilliseconds(0),_e.setFullYear(Ce+1980),_e.setMonth(Ne-1),_e.setDate(Se);var Ke=Be&31;Be>>>=5;var et=Be&63;return Be>>>=6,_e.setHours(Be),_e.setMinutes(et),_e.setSeconds(Ke<<1),_e}function o(de){ei(de,0);for(var Be={},Ce=0;de.l<=de.length-4;){var _e=de.read_shift(2),Se=de.read_shift(2),Ne=de.l+Se,Ke={};switch(_e){case 21589:Ce=de.read_shift(1),Ce&1&&(Ke.mtime=de.read_shift(4)),Se>5&&(Ce&2&&(Ke.atime=de.read_shift(4)),Ce&4&&(Ke.ctime=de.read_shift(4))),Ke.mtime&&(Ke.mt=new Date(Ke.mtime*1e3));break}de.l=Ne,Be[_e]=Ke}return Be}var l;function A(){return l||(l={})}function d(de,Be){if(de[0]==80&&de[1]==75)return Xn(de,Be);if((de[0]|32)==109&&(de[1]|32)==105)return ma(de,Be);if(de.length<512)throw new Error("CFB file size "+de.length+" < 512");var Ce=3,_e=512,Se=0,Ne=0,Ke=0,et=0,Qe=0,We=[],Je=de.slice(0,512);ei(Je,0);var vt=h(Je);switch(Ce=vt[0],Ce){case 3:_e=512;break;case 4:_e=4096;break;case 0:if(vt[1]==0)return Xn(de,Be);default:throw new Error("Major Version: Expected 3 or 4 saw "+Ce)}_e!==512&&(Je=de.slice(0,_e),ei(Je,28));var Nt=de.slice(0,_e);p(Je,Ce);var Ot=Je.read_shift(4,"i");if(Ce===3&&Ot!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ot);Je.l+=4,Ke=Je.read_shift(4,"i"),Je.l+=4,Je.chk("00100000","Mini Stream Cutoff Size: "),et=Je.read_shift(4,"i"),Se=Je.read_shift(4,"i"),Qe=Je.read_shift(4,"i"),Ne=Je.read_shift(4,"i");for(var Tt=-1,Rt=0;Rt<109&&(Tt=Je.read_shift(4,"i"),!(Tt<0));++Rt)We[Rt]=Tt;var cn=g(de,_e);E(Qe,Ne,cn,_e,We);var Un=I(cn,Ke,We,_e);Un[Ke].name="!Directory",Se>0&&et!==j&&(Un[et].name="!MiniFAT"),Un[We[0]].name="!FAT",Un.fat_addrs=We,Un.ssz=_e;var Ln={},Qn=[],Es=[],ii=[];k(Ke,Un,cn,Qn,Se,Ln,Es,et),w(Es,ii,Qn),Qn.shift();var _s={FileIndex:Es,FullPaths:ii};return Be&&Be.raw&&(_s.raw={header:Nt,sectors:cn}),_s}function h(de){if(de[de.l]==80&&de[de.l+1]==75)return[0,0];de.chk(G,"Header Signature: "),de.l+=16;var Be=de.read_shift(2,"u");return[de.read_shift(2,"u"),Be]}function p(de,Be){var Ce=9;switch(de.l+=2,Ce=de.read_shift(2)){case 9:if(Be!=3)throw new Error("Sector Shift: Expected 9 saw "+Ce);break;case 12:if(Be!=4)throw new Error("Sector Shift: Expected 12 saw "+Ce);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Ce)}de.chk("0600","Mini Sector Shift: "),de.chk("000000000000","Reserved: ")}function g(de,Be){for(var Ce=Math.ceil(de.length/Be)-1,_e=[],Se=1;Se<Ce;++Se)_e[Se-1]=de.slice(Se*Be,(Se+1)*Be);return _e[Ce-1]=de.slice(Ce*Be),_e}function w(de,Be,Ce){for(var _e=0,Se=0,Ne=0,Ke=0,et=0,Qe=Ce.length,We=[],Je=[];_e<Qe;++_e)We[_e]=Je[_e]=_e,Be[_e]=Ce[_e];for(;et<Je.length;++et)_e=Je[et],Se=de[_e].L,Ne=de[_e].R,Ke=de[_e].C,We[_e]===_e&&(Se!==-1&&We[Se]!==Se&&(We[_e]=We[Se]),Ne!==-1&&We[Ne]!==Ne&&(We[_e]=We[Ne])),Ke!==-1&&(We[Ke]=_e),Se!==-1&&_e!=We[_e]&&(We[Se]=We[_e],Je.lastIndexOf(Se)<et&&Je.push(Se)),Ne!==-1&&_e!=We[_e]&&(We[Ne]=We[_e],Je.lastIndexOf(Ne)<et&&Je.push(Ne));for(_e=1;_e<Qe;++_e)We[_e]===_e&&(Ne!==-1&&We[Ne]!==Ne?We[_e]=We[Ne]:Se!==-1&&We[Se]!==Se&&(We[_e]=We[Se]));for(_e=1;_e<Qe;++_e)if(de[_e].type!==0){if(et=_e,et!=We[et])do et=We[et],Be[_e]=Be[et]+"/"+Be[_e];while(et!==0&&We[et]!==-1&&et!=We[et]);We[_e]=-1}for(Be[0]+="/",_e=1;_e<Qe;++_e)de[_e].type!==2&&(Be[_e]+="/")}function b(de,Be,Ce){for(var _e=de.start,Se=de.size,Ne=[],Ke=_e;Ce&&Se>0&&Ke>=0;)Ne.push(Be.slice(Ke*L,Ke*L+L)),Se-=L,Ke=Of(Ce,Ke*4);return Ne.length===0?lt(0):Qa(Ne).slice(0,de.size)}function E(de,Be,Ce,_e,Se){var Ne=j;if(de===j){if(Be!==0)throw new Error("DIFAT chain shorter than expected")}else if(de!==-1){var Ke=Ce[de],et=(_e>>>2)-1;if(!Ke)return;for(var Qe=0;Qe<et&&(Ne=Of(Ke,Qe*4))!==j;++Qe)Se.push(Ne);E(Of(Ke,_e-4),Be-1,Ce,_e,Se)}}function T(de,Be,Ce,_e,Se){var Ne=[],Ke=[];Se||(Se=[]);var et=_e-1,Qe=0,We=0;for(Qe=Be;Qe>=0;){Se[Qe]=!0,Ne[Ne.length]=Qe,Ke.push(de[Qe]);var Je=Ce[Math.floor(Qe*4/_e)];if(We=Qe*4&et,_e<4+We)throw new Error("FAT boundary crossed: "+Qe+" 4 "+_e);if(!de[Je])break;Qe=Of(de[Je],We)}return{nodes:Ne,data:WI([Ke])}}function I(de,Be,Ce,_e){var Se=de.length,Ne=[],Ke=[],et=[],Qe=[],We=_e-1,Je=0,vt=0,Nt=0,Ot=0;for(Je=0;Je<Se;++Je)if(et=[],Nt=Je+Be,Nt>=Se&&(Nt-=Se),!Ke[Nt]){Qe=[];var Tt=[];for(vt=Nt;vt>=0;){Tt[vt]=!0,Ke[vt]=!0,et[et.length]=vt,Qe.push(de[vt]);var Rt=Ce[Math.floor(vt*4/_e)];if(Ot=vt*4&We,_e<4+Ot)throw new Error("FAT boundary crossed: "+vt+" 4 "+_e);if(!de[Rt]||(vt=Of(de[Rt],Ot),Tt[vt]))break}Ne[Nt]={nodes:et,data:WI([Qe])}}return Ne}function k(de,Be,Ce,_e,Se,Ne,Ke,et){for(var Qe=0,We=_e.length?2:0,Je=Be[de].data,vt=0,Nt=0,Ot;vt<Je.length;vt+=128){var Tt=Je.slice(vt,vt+128);ei(Tt,64),Nt=Tt.read_shift(2),Ot=F5(Tt,0,Nt-We),_e.push(Ot);var Rt={name:Ot,type:Tt.read_shift(1),color:Tt.read_shift(1),L:Tt.read_shift(4,"i"),R:Tt.read_shift(4,"i"),C:Tt.read_shift(4,"i"),clsid:Tt.read_shift(16),state:Tt.read_shift(4,"i"),start:0,size:0},cn=Tt.read_shift(2)+Tt.read_shift(2)+Tt.read_shift(2)+Tt.read_shift(2);cn!==0&&(Rt.ct=F(Tt,Tt.l-8));var Un=Tt.read_shift(2)+Tt.read_shift(2)+Tt.read_shift(2)+Tt.read_shift(2);Un!==0&&(Rt.mt=F(Tt,Tt.l-8)),Rt.start=Tt.read_shift(4,"i"),Rt.size=Tt.read_shift(4,"i"),Rt.size<0&&Rt.start<0&&(Rt.size=Rt.type=0,Rt.start=j,Rt.name=""),Rt.type===5?(Qe=Rt.start,Se>0&&Qe!==j&&(Be[Qe].name="!StreamData")):Rt.size>=4096?(Rt.storage="fat",Be[Rt.start]===void 0&&(Be[Rt.start]=T(Ce,Rt.start,Be.fat_addrs,Be.ssz)),Be[Rt.start].name=Rt.name,Rt.content=Be[Rt.start].data.slice(0,Rt.size)):(Rt.storage="minifat",Rt.size<0?Rt.size=0:Qe!==j&&Rt.start!==j&&Be[Qe]&&(Rt.content=b(Rt,Be[Qe].data,(Be[et]||{}).data))),Rt.content&&ei(Rt.content,0),Ne[Ot]=Rt,Ke.push(Rt)}}function F(de,Be){return new Date((jo(de,Be+4)/1e7*Math.pow(2,32)+jo(de,Be)/1e7-11644473600)*1e3)}function D(de,Be){return A(),d(l.readFileSync(de),Be)}function P(de,Be){var Ce=Be&&Be.type;switch(Ce||Kn&&Buffer.isBuffer(de)&&(Ce="buffer"),Ce||"base64"){case"file":return D(de,Be);case"base64":return d(Qo(zo(de)),Be);case"binary":return d(Qo(de),Be)}return d(de,Be)}function S(de,Be){var Ce=Be||{},_e=Ce.root||"Root Entry";if(de.FullPaths||(de.FullPaths=[]),de.FileIndex||(de.FileIndex=[]),de.FullPaths.length!==de.FileIndex.length)throw new Error("inconsistent CFB structure");de.FullPaths.length===0&&(de.FullPaths[0]=_e+"/",de.FileIndex[0]={name:_e,type:5}),Ce.CLSID&&(de.FileIndex[0].clsid=Ce.CLSID),N(de)}function N(de){var Be="Sh33tJ5";if(!ln.find(de,"/"+Be)){var Ce=lt(4);Ce[0]=55,Ce[1]=Ce[3]=50,Ce[2]=54,de.FileIndex.push({name:Be,type:2,content:Ce,size:4,L:69,R:69,C:69}),de.FullPaths.push(de.FullPaths[0]+Be),B(de)}}function B(de,Be){S(de);for(var Ce=!1,_e=!1,Se=de.FullPaths.length-1;Se>=0;--Se){var Ne=de.FileIndex[Se];switch(Ne.type){case 0:_e?Ce=!0:(de.FileIndex.pop(),de.FullPaths.pop());break;case 1:case 2:case 5:_e=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(Ce=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(Ce=!0);break;default:Ce=!0;break}}if(!(!Ce&&!Be)){var Ke=new Date(1987,1,19),et=0,Qe=Object.create?Object.create(null):{},We=[];for(Se=0;Se<de.FullPaths.length;++Se)Qe[de.FullPaths[Se]]=!0,de.FileIndex[Se].type!==0&&We.push([de.FullPaths[Se],de.FileIndex[Se]]);for(Se=0;Se<We.length;++Se){var Je=r(We[Se][0]);_e=Qe[Je],_e||(We.push([Je,{name:s(Je).replace("/",""),type:1,clsid:K,ct:Ke,mt:Ke,content:null}]),Qe[Je]=!0)}for(We.sort(function(Ot,Tt){return n(Ot[0],Tt[0])}),de.FullPaths=[],de.FileIndex=[],Se=0;Se<We.length;++Se)de.FullPaths[Se]=We[Se][0],de.FileIndex[Se]=We[Se][1];for(Se=0;Se<We.length;++Se){var vt=de.FileIndex[Se],Nt=de.FullPaths[Se];if(vt.name=s(Nt).replace("/",""),vt.L=vt.R=vt.C=-(vt.color=1),vt.size=vt.content?vt.content.length:0,vt.start=0,vt.clsid=vt.clsid||K,Se===0)vt.C=We.length>1?1:-1,vt.size=0,vt.type=5;else if(Nt.slice(-1)=="/"){for(et=Se+1;et<We.length&&r(de.FullPaths[et])!=Nt;++et);for(vt.C=et>=We.length?-1:et,et=Se+1;et<We.length&&r(de.FullPaths[et])!=r(Nt);++et);vt.R=et>=We.length?-1:et,vt.type=1}else r(de.FullPaths[Se+1]||"")==r(Nt)&&(vt.R=Se+1),vt.type=2}}}function V(de,Be){var Ce=Be||{};if(Ce.fileType=="mad")return Ht(de,Ce);switch(B(de),Ce.fileType){case"zip":return ls(de,Ce)}var _e=function(Ot){for(var Tt=0,Rt=0,cn=0;cn<Ot.FileIndex.length;++cn){var Un=Ot.FileIndex[cn];if(Un.content){var Ln=Un.content.length;Ln>0&&(Ln<4096?Tt+=Ln+63>>6:Rt+=Ln+511>>9)}}for(var Qn=Ot.FullPaths.length+3>>2,Es=Tt+7>>3,ii=Tt+127>>7,_s=Es+Rt+Qn+ii,ta=_s+127>>7,Ms=ta<=109?0:Math.ceil((ta-109)/127);_s+ta+Ms+127>>7>ta;)Ms=++ta<=109?0:Math.ceil((ta-109)/127);var pa=[1,Ms,ta,ii,Qn,Rt,Tt,0];return Ot.FileIndex[0].size=Tt<<6,pa[7]=(Ot.FileIndex[0].start=pa[0]+pa[1]+pa[2]+pa[3]+pa[4]+pa[5])+(pa[6]+7>>3),pa}(de),Se=lt(_e[7]<<9),Ne=0,Ke=0;{for(Ne=0;Ne<8;++Ne)Se.write_shift(1,se[Ne]);for(Ne=0;Ne<8;++Ne)Se.write_shift(2,0);for(Se.write_shift(2,62),Se.write_shift(2,3),Se.write_shift(2,65534),Se.write_shift(2,9),Se.write_shift(2,6),Ne=0;Ne<3;++Ne)Se.write_shift(2,0);for(Se.write_shift(4,0),Se.write_shift(4,_e[2]),Se.write_shift(4,_e[0]+_e[1]+_e[2]+_e[3]-1),Se.write_shift(4,0),Se.write_shift(4,4096),Se.write_shift(4,_e[3]?_e[0]+_e[1]+_e[2]-1:j),Se.write_shift(4,_e[3]),Se.write_shift(-4,_e[1]?_e[0]-1:j),Se.write_shift(4,_e[1]),Ne=0;Ne<109;++Ne)Se.write_shift(-4,Ne<_e[2]?_e[1]+Ne:-1)}if(_e[1])for(Ke=0;Ke<_e[1];++Ke){for(;Ne<236+Ke*127;++Ne)Se.write_shift(-4,Ne<_e[2]?_e[1]+Ne:-1);Se.write_shift(-4,Ke===_e[1]-1?j:Ke+1)}var et=function(Ot){for(Ke+=Ot;Ne<Ke-1;++Ne)Se.write_shift(-4,Ne+1);Ot&&(++Ne,Se.write_shift(-4,j))};for(Ke=Ne=0,Ke+=_e[1];Ne<Ke;++Ne)Se.write_shift(-4,Y.DIFSECT);for(Ke+=_e[2];Ne<Ke;++Ne)Se.write_shift(-4,Y.FATSECT);et(_e[3]),et(_e[4]);for(var Qe=0,We=0,Je=de.FileIndex[0];Qe<de.FileIndex.length;++Qe)Je=de.FileIndex[Qe],Je.content&&(We=Je.content.length,!(We<4096)&&(Je.start=Ke,et(We+511>>9)));for(et(_e[6]+7>>3);Se.l&511;)Se.write_shift(-4,Y.ENDOFCHAIN);for(Ke=Ne=0,Qe=0;Qe<de.FileIndex.length;++Qe)Je=de.FileIndex[Qe],Je.content&&(We=Je.content.length,!(!We||We>=4096)&&(Je.start=Ke,et(We+63>>6)));for(;Se.l&511;)Se.write_shift(-4,Y.ENDOFCHAIN);for(Ne=0;Ne<_e[4]<<2;++Ne){var vt=de.FullPaths[Ne];if(!vt||vt.length===0){for(Qe=0;Qe<17;++Qe)Se.write_shift(4,0);for(Qe=0;Qe<3;++Qe)Se.write_shift(4,-1);for(Qe=0;Qe<12;++Qe)Se.write_shift(4,0);continue}Je=de.FileIndex[Ne],Ne===0&&(Je.start=Je.size?Je.start-1:j);var Nt=Ne===0&&Ce.root||Je.name;if(We=2*(Nt.length+1),Se.write_shift(64,Nt,"utf16le"),Se.write_shift(2,We),Se.write_shift(1,Je.type),Se.write_shift(1,Je.color),Se.write_shift(-4,Je.L),Se.write_shift(-4,Je.R),Se.write_shift(-4,Je.C),Je.clsid)Se.write_shift(16,Je.clsid,"hex");else for(Qe=0;Qe<4;++Qe)Se.write_shift(4,0);Se.write_shift(4,Je.state||0),Se.write_shift(4,0),Se.write_shift(4,0),Se.write_shift(4,0),Se.write_shift(4,0),Se.write_shift(4,Je.start),Se.write_shift(4,Je.size),Se.write_shift(4,0)}for(Ne=1;Ne<de.FileIndex.length;++Ne)if(Je=de.FileIndex[Ne],Je.size>=4096)if(Se.l=Je.start+1<<9,Kn&&Buffer.isBuffer(Je.content))Je.content.copy(Se,Se.l,0,Je.size),Se.l+=Je.size+511&-512;else{for(Qe=0;Qe<Je.size;++Qe)Se.write_shift(1,Je.content[Qe]);for(;Qe&511;++Qe)Se.write_shift(1,0)}for(Ne=1;Ne<de.FileIndex.length;++Ne)if(Je=de.FileIndex[Ne],Je.size>0&&Je.size<4096)if(Kn&&Buffer.isBuffer(Je.content))Je.content.copy(Se,Se.l,0,Je.size),Se.l+=Je.size+63&-64;else{for(Qe=0;Qe<Je.size;++Qe)Se.write_shift(1,Je.content[Qe]);for(;Qe&63;++Qe)Se.write_shift(1,0)}if(Kn)Se.l=Se.length;else for(;Se.l<Se.length;)Se.write_shift(1,0);return Se}function U(de,Be){var Ce=de.FullPaths.map(function(Qe){return Qe.toUpperCase()}),_e=Ce.map(function(Qe){var We=Qe.split("/");return We[We.length-(Qe.slice(-1)=="/"?2:1)]}),Se=!1;Be.charCodeAt(0)===47?(Se=!0,Be=Ce[0].slice(0,-1)+Be):Se=Be.indexOf("/")!==-1;var Ne=Be.toUpperCase(),Ke=Se===!0?Ce.indexOf(Ne):_e.indexOf(Ne);if(Ke!==-1)return de.FileIndex[Ke];var et=!Ne.match(qp);for(Ne=Ne.replace(Ki,""),et&&(Ne=Ne.replace(qp,"!")),Ke=0;Ke<Ce.length;++Ke)if((et?Ce[Ke].replace(qp,"!"):Ce[Ke]).replace(Ki,"")==Ne||(et?_e[Ke].replace(qp,"!"):_e[Ke]).replace(Ki,"")==Ne)return de.FileIndex[Ke];return null}var L=64,j=-2,G="d0cf11e0a1b11ae1",se=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",Y={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:j,FREESECT:-1,HEADER_SIGNATURE:G,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function oe(de,Be,Ce){A();var _e=V(de,Ce);l.writeFileSync(Be,_e)}function Z(de){for(var Be=new Array(de.length),Ce=0;Ce<de.length;++Ce)Be[Ce]=String.fromCharCode(de[Ce]);return Be.join("")}function ee(de,Be){var Ce=V(de,Be);switch(Be&&Be.type||"buffer"){case"file":return A(),l.writeFileSync(Be.filename,Ce),Ce;case"binary":return typeof Ce=="string"?Ce:Z(Ce);case"base64":return Pg(typeof Ce=="string"?Ce:Z(Ce));case"buffer":if(Kn)return Buffer.isBuffer(Ce)?Ce:Tu(Ce);case"array":return typeof Ce=="string"?Qo(Ce):Ce}return Ce}var he;function O(de){try{var Be=de.InflateRaw,Ce=new Be;if(Ce._processChunk(new Uint8Array([3,0]),Ce._finishFlushFlag),Ce.bytesRead)he=de;else throw new Error("zlib does not expose bytesRead")}catch(_e){console.error("cannot use native zlib: "+(_e.message||_e))}}function q(de,Be){if(!he)return Bn(de,Be);var Ce=he.InflateRaw,_e=new Ce,Se=_e._processChunk(de.slice(de.l),_e._finishFlushFlag);return de.l+=_e.bytesRead,Se}function J(de){return he?he.deflateRawSync(de):It(de)}var ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ue=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function pe(de){var Be=(de<<1|de<<11)&139536|(de<<5|de<<15)&558144;return(Be>>16|Be>>8|Be)&255}for(var ye=typeof Uint8Array<"u",Ie=ye?new Uint8Array(256):[],we=0;we<256;++we)Ie[we]=pe(we);function ie(de,Be){var Ce=Ie[de&255];return Be<=8?Ce>>>8-Be:(Ce=Ce<<8|Ie[de>>8&255],Be<=16?Ce>>>16-Be:(Ce=Ce<<8|Ie[de>>16&255],Ce>>>24-Be))}function De(de,Be){var Ce=Be&7,_e=Be>>>3;return(de[_e]|(Ce<=6?0:de[_e+1]<<8))>>>Ce&3}function st(de,Be){var Ce=Be&7,_e=Be>>>3;return(de[_e]|(Ce<=5?0:de[_e+1]<<8))>>>Ce&7}function Ue(de,Be){var Ce=Be&7,_e=Be>>>3;return(de[_e]|(Ce<=4?0:de[_e+1]<<8))>>>Ce&15}function Ee(de,Be){var Ce=Be&7,_e=Be>>>3;return(de[_e]|(Ce<=3?0:de[_e+1]<<8))>>>Ce&31}function ze(de,Be){var Ce=Be&7,_e=Be>>>3;return(de[_e]|(Ce<=1?0:de[_e+1]<<8))>>>Ce&127}function nt(de,Be,Ce){var _e=Be&7,Se=Be>>>3,Ne=(1<<Ce)-1,Ke=de[Se]>>>_e;return Ce<8-_e||(Ke|=de[Se+1]<<8-_e,Ce<16-_e)||(Ke|=de[Se+2]<<16-_e,Ce<24-_e)||(Ke|=de[Se+3]<<24-_e),Ke&Ne}function it(de,Be,Ce){var _e=Be&7,Se=Be>>>3;return _e<=5?de[Se]|=(Ce&7)<<_e:(de[Se]|=Ce<<_e&255,de[Se+1]=(Ce&7)>>8-_e),Be+3}function mt(de,Be,Ce){var _e=Be&7,Se=Be>>>3;return Ce=(Ce&1)<<_e,de[Se]|=Ce,Be+1}function Ct(de,Be,Ce){var _e=Be&7,Se=Be>>>3;return Ce<<=_e,de[Se]|=Ce&255,Ce>>>=8,de[Se+1]=Ce,Be+8}function At(de,Be,Ce){var _e=Be&7,Se=Be>>>3;return Ce<<=_e,de[Se]|=Ce&255,Ce>>>=8,de[Se+1]=Ce&255,de[Se+2]=Ce>>>8,Be+16}function kt(de,Be){var Ce=de.length,_e=2*Ce>Be?2*Ce:Be+5,Se=0;if(Ce>=Be)return de;if(Kn){var Ne=NI(_e);if(de.copy)de.copy(Ne);else for(;Se<de.length;++Se)Ne[Se]=de[Se];return Ne}else if(ye){var Ke=new Uint8Array(_e);if(Ke.set)Ke.set(de);else for(;Se<Ce;++Se)Ke[Se]=de[Se];return Ke}return de.length=_e,de}function Ft(de){for(var Be=new Array(de),Ce=0;Ce<de;++Ce)Be[Ce]=0;return Be}function qt(de,Be,Ce){var _e=1,Se=0,Ne=0,Ke=0,et=0,Qe=de.length,We=ye?new Uint16Array(32):Ft(32);for(Ne=0;Ne<32;++Ne)We[Ne]=0;for(Ne=Qe;Ne<Ce;++Ne)de[Ne]=0;Qe=de.length;var Je=ye?new Uint16Array(Qe):Ft(Qe);for(Ne=0;Ne<Qe;++Ne)We[Se=de[Ne]]++,_e<Se&&(_e=Se),Je[Ne]=0;for(We[0]=0,Ne=1;Ne<=_e;++Ne)We[Ne+16]=et=et+We[Ne-1]<<1;for(Ne=0;Ne<Qe;++Ne)et=de[Ne],et!=0&&(Je[Ne]=We[et+16]++);var vt=0;for(Ne=0;Ne<Qe;++Ne)if(vt=de[Ne],vt!=0)for(et=ie(Je[Ne],_e)>>_e-vt,Ke=(1<<_e+4-vt)-1;Ke>=0;--Ke)Be[et|Ke<<vt]=vt&15|Ne<<4;return _e}var Mt=ye?new Uint16Array(512):Ft(512),Vt=ye?new Uint16Array(32):Ft(32);if(!ye){for(var Yt=0;Yt<512;++Yt)Mt[Yt]=0;for(Yt=0;Yt<32;++Yt)Vt[Yt]=0}(function(){for(var de=[],Be=0;Be<32;Be++)de.push(5);qt(de,Vt,32);var Ce=[];for(Be=0;Be<=143;Be++)Ce.push(8);for(;Be<=255;Be++)Ce.push(9);for(;Be<=279;Be++)Ce.push(7);for(;Be<=287;Be++)Ce.push(8);qt(Ce,Mt,288)})();var Pt=function(){for(var Be=ye?new Uint8Array(32768):[],Ce=0,_e=0;Ce<ue.length-1;++Ce)for(;_e<ue[Ce+1];++_e)Be[_e]=Ce;for(;_e<32768;++_e)Be[_e]=29;var Se=ye?new Uint8Array(259):[];for(Ce=0,_e=0;Ce<ae.length-1;++Ce)for(;_e<ae[Ce+1];++_e)Se[_e]=Ce;function Ne(et,Qe){for(var We=0;We<et.length;){var Je=Math.min(65535,et.length-We),vt=We+Je==et.length;for(Qe.write_shift(1,+vt),Qe.write_shift(2,Je),Qe.write_shift(2,~Je&65535);Je-- >0;)Qe[Qe.l++]=et[We++]}return Qe.l}function Ke(et,Qe){for(var We=0,Je=0,vt=ye?new Uint16Array(32768):[];Je<et.length;){var Nt=Math.min(65535,et.length-Je);if(Nt<10){for(We=it(Qe,We,+(Je+Nt==et.length)),We&7&&(We+=8-(We&7)),Qe.l=We/8|0,Qe.write_shift(2,Nt),Qe.write_shift(2,~Nt&65535);Nt-- >0;)Qe[Qe.l++]=et[Je++];We=Qe.l*8;continue}We=it(Qe,We,+(Je+Nt==et.length)+2);for(var Ot=0;Nt-- >0;){var Tt=et[Je];Ot=(Ot<<5^Tt)&32767;var Rt=-1,cn=0;if((Rt=vt[Ot])&&(Rt|=Je&-32768,Rt>Je&&(Rt-=32768),Rt<Je))for(;et[Rt+cn]==et[Je+cn]&&cn<250;)++cn;if(cn>2){Tt=Se[cn],Tt<=22?We=Ct(Qe,We,Ie[Tt+1]>>1)-1:(Ct(Qe,We,3),We+=5,Ct(Qe,We,Ie[Tt-23]>>5),We+=3);var Un=Tt<8?0:Tt-4>>2;Un>0&&(At(Qe,We,cn-ae[Tt]),We+=Un),Tt=Be[Je-Rt],We=Ct(Qe,We,Ie[Tt]>>3),We-=3;var Ln=Tt<4?0:Tt-2>>1;Ln>0&&(At(Qe,We,Je-Rt-ue[Tt]),We+=Ln);for(var Qn=0;Qn<cn;++Qn)vt[Ot]=Je&32767,Ot=(Ot<<5^et[Je])&32767,++Je;Nt-=cn-1}else Tt<=143?Tt=Tt+48:We=mt(Qe,We,1),We=Ct(Qe,We,Ie[Tt]),vt[Ot]=Je&32767,++Je}We=Ct(Qe,We,0)-1}return Qe.l=(We+7)/8|0,Qe.l}return function(Qe,We){return Qe.length<8?Ne(Qe,We):Ke(Qe,We)}}();function It(de){var Be=lt(50+Math.floor(de.length*1.1)),Ce=Pt(de,Be);return Be.slice(0,Ce)}var gt=ye?new Uint16Array(32768):Ft(32768),xn=ye?new Uint16Array(32768):Ft(32768),Wt=ye?new Uint16Array(128):Ft(128),ir=1,mn=1;function Fn(de,Be){var Ce=Ee(de,Be)+257;Be+=5;var _e=Ee(de,Be)+1;Be+=5;var Se=Ue(de,Be)+4;Be+=4;for(var Ne=0,Ke=ye?new Uint8Array(19):Ft(19),et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Qe=1,We=ye?new Uint8Array(8):Ft(8),Je=ye?new Uint8Array(8):Ft(8),vt=Ke.length,Nt=0;Nt<Se;++Nt)Ke[ne[Nt]]=Ne=st(de,Be),Qe<Ne&&(Qe=Ne),We[Ne]++,Be+=3;var Ot=0;for(We[0]=0,Nt=1;Nt<=Qe;++Nt)Je[Nt]=Ot=Ot+We[Nt-1]<<1;for(Nt=0;Nt<vt;++Nt)(Ot=Ke[Nt])!=0&&(et[Nt]=Je[Ot]++);var Tt=0;for(Nt=0;Nt<vt;++Nt)if(Tt=Ke[Nt],Tt!=0){Ot=Ie[et[Nt]]>>8-Tt;for(var Rt=(1<<7-Tt)-1;Rt>=0;--Rt)Wt[Ot|Rt<<Tt]=Tt&7|Nt<<3}var cn=[];for(Qe=1;cn.length<Ce+_e;)switch(Ot=Wt[ze(de,Be)],Be+=Ot&7,Ot>>>=3){case 16:for(Ne=3+De(de,Be),Be+=2,Ot=cn[cn.length-1];Ne-- >0;)cn.push(Ot);break;case 17:for(Ne=3+st(de,Be),Be+=3;Ne-- >0;)cn.push(0);break;case 18:for(Ne=11+ze(de,Be),Be+=7;Ne-- >0;)cn.push(0);break;default:cn.push(Ot),Qe<Ot&&(Qe=Ot);break}var Un=cn.slice(0,Ce),Ln=cn.slice(Ce);for(Nt=Ce;Nt<286;++Nt)Un[Nt]=0;for(Nt=_e;Nt<30;++Nt)Ln[Nt]=0;return ir=qt(Un,gt,286),mn=qt(Ln,xn,30),Be}function Er(de,Be){if(de[0]==3&&!(de[1]&3))return[Xd(Be),2];for(var Ce=0,_e=0,Se=NI(Be||1<<18),Ne=0,Ke=Se.length>>>0,et=0,Qe=0;(_e&1)==0;){if(_e=st(de,Ce),Ce+=3,_e>>>1)_e>>1==1?(et=9,Qe=5):(Ce=Fn(de,Ce),et=ir,Qe=mn);else{Ce&7&&(Ce+=8-(Ce&7));var We=de[Ce>>>3]|de[(Ce>>>3)+1]<<8;if(Ce+=32,We>0)for(!Be&&Ke<Ne+We&&(Se=kt(Se,Ne+We),Ke=Se.length);We-- >0;)Se[Ne++]=de[Ce>>>3],Ce+=8;continue}for(;;){!Be&&Ke<Ne+32767&&(Se=kt(Se,Ne+32767),Ke=Se.length);var Je=nt(de,Ce,et),vt=_e>>>1==1?Mt[Je]:gt[Je];if(Ce+=vt&15,vt>>>=4,(vt>>>8&255)===0)Se[Ne++]=vt;else{if(vt==256)break;vt-=257;var Nt=vt<8?0:vt-4>>2;Nt>5&&(Nt=0);var Ot=Ne+ae[vt];Nt>0&&(Ot+=nt(de,Ce,Nt),Ce+=Nt),Je=nt(de,Ce,Qe),vt=_e>>>1==1?Vt[Je]:xn[Je],Ce+=vt&15,vt>>>=4;var Tt=vt<4?0:vt-2>>1,Rt=ue[vt];for(Tt>0&&(Rt+=nt(de,Ce,Tt),Ce+=Tt),!Be&&Ke<Ot&&(Se=kt(Se,Ot+100),Ke=Se.length);Ne<Ot;)Se[Ne]=Se[Ne-Rt],++Ne}}}return Be?[Se,Ce+7>>>3]:[Se.slice(0,Ne),Ce+7>>>3]}function Bn(de,Be){var Ce=de.slice(de.l||0),_e=Er(Ce,Be);return de.l+=_e[1],_e[0]}function Zs(de,Be){if(de)typeof console<"u"&&console.error(Be);else throw new Error(Be)}function Xn(de,Be){var Ce=de;ei(Ce,0);var _e=[],Se=[],Ne={FileIndex:_e,FullPaths:Se};S(Ne,{root:Be.root});for(var Ke=Ce.length-4;(Ce[Ke]!=80||Ce[Ke+1]!=75||Ce[Ke+2]!=5||Ce[Ke+3]!=6)&&Ke>=0;)--Ke;Ce.l=Ke+4,Ce.l+=4;var et=Ce.read_shift(2);Ce.l+=6;var Qe=Ce.read_shift(4);for(Ce.l=Qe,Ke=0;Ke<et;++Ke){Ce.l+=20;var We=Ce.read_shift(4),Je=Ce.read_shift(4),vt=Ce.read_shift(2),Nt=Ce.read_shift(2),Ot=Ce.read_shift(2);Ce.l+=8;var Tt=Ce.read_shift(4),Rt=o(Ce.slice(Ce.l+vt,Ce.l+vt+Nt));Ce.l+=vt+Nt+Ot;var cn=Ce.l;Ce.l=Tt+4,Wr(Ce,We,Je,Ne,Rt),Ce.l=cn}return Ne}function Wr(de,Be,Ce,_e,Se){de.l+=2;var Ne=de.read_shift(2),Ke=de.read_shift(2),et=i(de);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var Qe=de.read_shift(4),We=de.read_shift(4),Je=de.read_shift(4),vt=de.read_shift(2),Nt=de.read_shift(2),Ot="",Tt=0;Tt<vt;++Tt)Ot+=String.fromCharCode(de[de.l++]);if(Nt){var Rt=o(de.slice(de.l,de.l+Nt));(Rt[21589]||{}).mt&&(et=Rt[21589].mt),((Se||{})[21589]||{}).mt&&(et=Se[21589].mt)}de.l+=Nt;var cn=de.slice(de.l,de.l+We);switch(Ke){case 8:cn=q(de,Je);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ke)}var Un=!1;Ne&8&&(Qe=de.read_shift(4),Qe==134695760&&(Qe=de.read_shift(4),Un=!0),We=de.read_shift(4),Je=de.read_shift(4)),We!=Be&&Zs(Un,"Bad compressed size: "+Be+" != "+We),Je!=Ce&&Zs(Un,"Bad uncompressed size: "+Ce+" != "+Je),Zn(_e,Ot,cn,{unsafe:!0,mt:et})}function ls(de,Be){var Ce=Be||{},_e=[],Se=[],Ne=lt(1),Ke=Ce.compression?8:0,et=0,Qe=0,We=0,Je=0,vt=0,Nt=de.FullPaths[0],Ot=Nt,Tt=de.FileIndex[0],Rt=[],cn=0;for(Qe=1;Qe<de.FullPaths.length;++Qe)if(Ot=de.FullPaths[Qe].slice(Nt.length),Tt=de.FileIndex[Qe],!(!Tt.size||!Tt.content||Ot=="Sh33tJ5")){var Un=Je,Ln=lt(Ot.length);for(We=0;We<Ot.length;++We)Ln.write_shift(1,Ot.charCodeAt(We)&127);Ln=Ln.slice(0,Ln.l),Rt[vt]=Uie.buf(Tt.content,0);var Qn=Tt.content;Ke==8&&(Qn=J(Qn)),Ne=lt(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,et),Ne.write_shift(2,Ke),Tt.mt?a(Ne,Tt.mt):Ne.write_shift(4,0),Ne.write_shift(-4,Rt[vt]),Ne.write_shift(4,Qn.length),Ne.write_shift(4,Tt.content.length),Ne.write_shift(2,Ln.length),Ne.write_shift(2,0),Je+=Ne.length,_e.push(Ne),Je+=Ln.length,_e.push(Ln),Je+=Qn.length,_e.push(Qn),Ne=lt(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,et),Ne.write_shift(2,Ke),Ne.write_shift(4,0),Ne.write_shift(-4,Rt[vt]),Ne.write_shift(4,Qn.length),Ne.write_shift(4,Tt.content.length),Ne.write_shift(2,Ln.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,Un),cn+=Ne.l,Se.push(Ne),cn+=Ln.length,Se.push(Ln),++vt}return Ne=lt(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,vt),Ne.write_shift(2,vt),Ne.write_shift(4,cn),Ne.write_shift(4,Je),Ne.write_shift(2,0),Qa([Qa(_e),Qa(Se),Ne])}var Dn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function en(de,Be){if(de.ctype)return de.ctype;var Ce=de.name||"",_e=Ce.match(/\.([^\.]+)$/);return _e&&Dn[_e[1]]||Be&&(_e=(Ce=Be).match(/[\.\\]([^\.\\])+$/),_e&&Dn[_e[1]])?Dn[_e[1]]:"application/octet-stream"}function jn(de){for(var Be=Pg(de),Ce=[],_e=0;_e<Be.length;_e+=76)Ce.push(Be.slice(_e,_e+76));return Ce.join(`\r
`)+`\r
`}function ea(de){var Be=de.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(We){var Je=We.charCodeAt(0).toString(16).toUpperCase();return"="+(Je.length==1?"0"+Je:Je)});Be=Be.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Be.charAt(0)==`
`&&(Be="=0D"+Be.slice(1)),Be=Be.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Ce=[],_e=Be.split(`\r
`),Se=0;Se<_e.length;++Se){var Ne=_e[Se];if(Ne.length==0){Ce.push("");continue}for(var Ke=0;Ke<Ne.length;){var et=76,Qe=Ne.slice(Ke,Ke+et);Qe.charAt(et-1)=="="?et--:Qe.charAt(et-2)=="="?et-=2:Qe.charAt(et-3)=="="&&(et-=3),Qe=Ne.slice(Ke,Ke+et),Ke+=et,Ke<Ne.length&&(Qe+="="),Ce.push(Qe)}}return Ce.join(`\r
`)}function jr(de){for(var Be=[],Ce=0;Ce<de.length;++Ce){for(var _e=de[Ce];Ce<=de.length&&_e.charAt(_e.length-1)=="=";)_e=_e.slice(0,_e.length-1)+de[++Ce];Be.push(_e)}for(var Se=0;Se<Be.length;++Se)Be[Se]=Be[Se].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return Qo(Be.join(`\r
`))}function hs(de,Be,Ce){for(var _e="",Se="",Ne="",Ke,et=0;et<10;++et){var Qe=Be[et];if(!Qe||Qe.match(/^\s*$/))break;var We=Qe.match(/^(.*?):\s*([^\s].*)$/);if(We)switch(We[1].toLowerCase()){case"content-location":_e=We[2].trim();break;case"content-type":Ne=We[2].trim();break;case"content-transfer-encoding":Se=We[2].trim();break}}switch(++et,Se.toLowerCase()){case"base64":Ke=Qo(zo(Be.slice(et).join("")));break;case"quoted-printable":Ke=jr(Be.slice(et));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Se)}var Je=Zn(de,_e.slice(Ce.length),Ke,{unsafe:!0});Ne&&(Je.ctype=Ne)}function ma(de,Be){if(Z(de.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Ce=Be&&Be.root||"",_e=(Kn&&Buffer.isBuffer(de)?de.toString("binary"):Z(de)).split(`\r
`),Se=0,Ne="";for(Se=0;Se<_e.length;++Se)if(Ne=_e[Se],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),Ce||(Ce=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,Ce.length)!=Ce))for(;Ce.length>0&&(Ce=Ce.slice(0,Ce.length-1),Ce=Ce.slice(0,Ce.lastIndexOf("/")+1),Ne.slice(0,Ce.length)!=Ce););var Ke=(_e[1]||"").match(/boundary="(.*?)"/);if(!Ke)throw new Error("MAD cannot find boundary");var et="--"+(Ke[1]||""),Qe=[],We=[],Je={FileIndex:Qe,FullPaths:We};S(Je);var vt,Nt=0;for(Se=0;Se<_e.length;++Se){var Ot=_e[Se];Ot!==et&&Ot!==et+"--"||(Nt++&&hs(Je,_e.slice(vt,Se),Ce),vt=Se)}return Je}function Ht(de,Be){var Ce=Be||{},_e=Ce.boundary||"SheetJS";_e="------="+_e;for(var Se=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+_e.slice(2)+'"',"","",""],Ne=de.FullPaths[0],Ke=Ne,et=de.FileIndex[0],Qe=1;Qe<de.FullPaths.length;++Qe)if(Ke=de.FullPaths[Qe].slice(Ne.length),et=de.FileIndex[Qe],!(!et.size||!et.content||Ke=="Sh33tJ5")){Ke=Ke.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(cn){return"_x"+cn.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(cn){return"_u"+cn.charCodeAt(0).toString(16)+"_"});for(var We=et.content,Je=Kn&&Buffer.isBuffer(We)?We.toString("binary"):Z(We),vt=0,Nt=Math.min(1024,Je.length),Ot=0,Tt=0;Tt<=Nt;++Tt)(Ot=Je.charCodeAt(Tt))>=32&&Ot<128&&++vt;var Rt=vt>=Nt*4/5;Se.push(_e),Se.push("Content-Location: "+(Ce.root||"file:///C:/SheetJS/")+Ke),Se.push("Content-Transfer-Encoding: "+(Rt?"quoted-printable":"base64")),Se.push("Content-Type: "+en(et,Ke)),Se.push(""),Se.push(Rt?ea(Je):jn(Je))}return Se.push(_e+`--\r
`),Se.join(`\r
`)}function or(de){var Be={};return S(Be,de),Be}function Zn(de,Be,Ce,_e){var Se=_e&&_e.unsafe;Se||S(de);var Ne=!Se&&ln.find(de,Be);if(!Ne){var Ke=de.FullPaths[0];Be.slice(0,Ke.length)==Ke?Ke=Be:(Ke.slice(-1)!="/"&&(Ke+="/"),Ke=(Ke+Be).replace("//","/")),Ne={name:s(Be),type:2},de.FileIndex.push(Ne),de.FullPaths.push(Ke),Se||ln.utils.cfb_gc(de)}return Ne.content=Ce,Ne.size=Ce?Ce.length:0,_e&&(_e.CLSID&&(Ne.clsid=_e.CLSID),_e.mt&&(Ne.mt=_e.mt),_e.ct&&(Ne.ct=_e.ct)),Ne}function _r(de,Be){S(de);var Ce=ln.find(de,Be);if(Ce){for(var _e=0;_e<de.FileIndex.length;++_e)if(de.FileIndex[_e]==Ce)return de.FileIndex.splice(_e,1),de.FullPaths.splice(_e,1),!0}return!1}function kr(de,Be,Ce){S(de);var _e=ln.find(de,Be);if(_e){for(var Se=0;Se<de.FileIndex.length;++Se)if(de.FileIndex[Se]==_e)return de.FileIndex[Se].name=s(Ce),de.FullPaths[Se]=Ce,!0}return!1}function Qr(de){B(de,!0)}return e.find=U,e.read=P,e.parse=d,e.write=ee,e.writeFile=oe,e.utils={cfb_new:or,cfb_add:Zn,cfb_del:_r,cfb_mov:kr,cfb_gc:Qr,ReadShift:hg,CheckField:BM,prep_blob:ei,bconcat:Qa,use_zlib:O,_deflateRaw:It,_inflateRaw:Bn,consts:Y},e}();function Lie(t){return typeof t=="string"?Yy(t):Array.isArray(t)?lie(t):t}function vx(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=Yy(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?lA(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var s=new Blob([Lie(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=t,i.href=a,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=of(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function Mie(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function Ls(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function MI(t,e){for(var n=[],r=Ls(t),s=0;s!==r.length;++s)n[t[r[s]][e]]==null&&(n[t[r[s]][e]]=r[s]);return n}function Xy(t){for(var e=[],n=Ls(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function Zy(t){for(var e=[],n=Ls(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function Pie(t){for(var e=[],n=Ls(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var Q2=new Date(1899,11,30,0,0,0);function Ba(t,e){var n=t.getTime(),r=Q2.getTime()+(t.getTimezoneOffset()-Q2.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var oM=new Date,Oie=Q2.getTime()+(oM.getTimezoneOffset()-Q2.getTimezoneOffset())*6e4,PI=oM.getTimezoneOffset();function ew(t){var e=new Date;return e.setTime(t*24*60*60*1e3+Oie),e.getTimezoneOffset()!==PI&&e.setTime(e.getTime()+(e.getTimezoneOffset()-PI)*6e4),e}function jie(t){var e=0,n=0,r=!1,s=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var a=1;a!=s.length;++a)if(s[a]){switch(n=1,a>3&&(r=!0),s[a].slice(s[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[a].slice(s[a].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(s[a],10)}return e}var OI=new Date("2017-02-19T19:06:09.000Z"),lM=isNaN(OI.getFullYear())?new Date("2/19/17"):OI,Qie=lM.getFullYear()==2017;function is(t,e){var n=new Date(t);if(Qie)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(lM.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function ch(t,e){if(Kn&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return lA(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return lA($8(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return lA(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return lA(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return n[a]||a})}catch{}for(var r=[],s=0;s!=t.length;++s)r.push(String.fromCharCode(t[s]));return r.join("")}function os(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=os(t[n]));return e}function Rs(t,e){for(var n="";n.length<e;)n+=t;return n}function mc(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(s,a){return n=-n,a}),!isNaN(e=Number(r)))?e/n:e}var Hie=["january","february","march","april","may","june","july","august","september","october","november","december"];function fm(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),s=e.getMonth(),a=e.getDate();if(isNaN(a))return n;var i=t.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&Hie.indexOf(i)==-1)return n}else if(i.match(/[a-z]/))return n;return r<0||r>8099?n:(s>0||a>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var Vie=function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,s){if(t||typeof r=="string")return n.split(r);for(var a=n.split(r),i=[a[0]],o=1;o<a.length;++o)i.push(s),i.push(a[o]);return i}}();function cM(t){return t?t.content&&t.type?ch(t.content,!0):t.data?Kp(t.data):t.asNodeBuffer&&Kn?Kp(t.asNodeBuffer().toString("binary")):t.asBinary?Kp(t.asBinary()):t._data&&t._data.getContent?Kp(ch(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function AM(t){if(!t)return null;if(t.data)return TI(t.data);if(t.asNodeBuffer&&Kn)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?TI(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function Gie(t){return t&&t.name.slice(-4)===".bin"?AM(t):cM(t)}function yl(t,e){for(var n=t.FullPaths||Ls(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),s=r.replace(/\\/g,"/"),a=0;a<n.length;++a){var i=n[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==i||s==i)return t.files?t.files[n[a]]:t.FileIndex[a]}return null}function S5(t,e){var n=yl(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function ca(t,e,n){if(!n)return Gie(S5(t,e));if(!e)return null;try{return ca(t,e)}catch{return null}}function Ho(t,e,n){if(!n)return cM(S5(t,e));if(!e)return null;try{return Ho(t,e)}catch{return null}}function zie(t,e,n){return AM(S5(t,e))}function jI(t){for(var e=t.FullPaths||Ls(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function On(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Kn?r=Tu(n):r=cie(n),ln.utils.cfb_add(t,e,r)}ln.utils.cfb_add(t,e,n)}else t.file(e,n)}function T5(){return ln.utils.cfb_new()}function uM(t,e){switch(e.type){case"base64":return ln.read(t,{type:"base64"});case"binary":return ln.read(t,{type:"binary"});case"buffer":case"array":return ln.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Wp(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var s=r.shift();s===".."?n.pop():s!=="."&&n.push(s)}return n.join("/")}var Xs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Kie=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,QI=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,qie=/<[^>]*>/g,Pi=Xs.match(QI)?QI:qie,Wie=/<\w*:/,$ie=/<(\/?)\w+:/;function _n(t,e,n){for(var r={},s=0,a=0;s!==t.length&&!((a=t.charCodeAt(s))===32||a===10||a===13);++s);if(e||(r[0]=t.slice(0,s)),s===t.length)return r;var i=t.match(Kie),o=0,l="",A=0,d="",h="",p=1;if(i)for(A=0;A!=i.length;++A){for(h=i[A],a=0;a!=h.length&&h.charCodeAt(a)!==61;++a);for(d=h.slice(0,a).trim();h.charCodeAt(a+1)==32;)++a;for(p=(s=h.charCodeAt(a+1))==34||s==39?1:0,l=h.slice(a+1+p,h.length-p),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),r[d]=l,r[d.toLowerCase()]=l;else{var g=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(r[g]&&d.slice(o-3,o)=="ext")continue;r[g]=l,r[g.toLowerCase()]=l}}return r}function bA(t){return t.replace($ie,"<$1")}var dM={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},B5=Xy(dM),mr=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var s=r+"",a=s.indexOf("<![CDATA[");if(a==-1)return s.replace(t,function(o,l){return dM[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var i=s.indexOf("]]>");return n(s.slice(0,a))+s.slice(a+9,i)+n(s.slice(i+3))}}(),N5=/[&<>'"]/g,Yie=/[\u0000-\u0008\u000b-\u001f]/g;function Pr(t){var e=t+"";return e.replace(N5,function(n){return B5[n]}).replace(Yie,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function HI(t){return Pr(t).replace(/ /g,"_x0020_")}var fM=/[\u0000-\u001f]/g;function k5(t){var e=t+"";return e.replace(N5,function(n){return B5[n]}).replace(/\n/g,"<br/>").replace(fM,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function Jie(t){var e=t+"";return e.replace(N5,function(n){return B5[n]}).replace(fM,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}var VI=function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}}();function Xie(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function ns(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function wC(t){for(var e="",n=0,r=0,s=0,a=0,i=0,o=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(s=t.charCodeAt(n++),r>191&&r<224){i=(r&31)<<6,i|=s&63,e+=String.fromCharCode(i);continue}if(a=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63);continue}i=t.charCodeAt(n++),o=((r&7)<<18|(s&63)<<12|(a&63)<<6|i&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function GI(t){var e=Xd(2*t.length),n,r,s=1,a=0,i=0,o;for(r=0;r<t.length;r+=s)s=1,(o=t.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(t.charCodeAt(r+1)&63),s=2):o<240?(n=(o&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),s=3):(s=4,n=(o&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,i=55296+(n>>>10&1023),n=56320+(n&1023)),i!==0&&(e[a++]=i&255,e[a++]=i>>>8,i=0),e[a++]=n%256,e[a++]=n>>>8;return e.slice(0,a).toString("ucs2")}function zI(t){return Tu(t,"binary").toString("utf8")}var K1="foo bar baz",qr=Kn&&(zI(K1)==wC(K1)&&zI||GI(K1)==wC(K1)&&GI)||wC,lA=Kn?function(t){return Tu(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,s=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,s=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},jg=function(){var t={};return function(n,r){var s=n+"|"+(r||"");return t[s]?t[s]:t[s]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}}(),hM=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)r=r.replace(t[s][0],t[s][1]);return r}}(),Zie=function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}}(),eoe=/<\/?(?:vt:)?variant>/g,toe=/<(?:vt:)([^>]*)>([\s\S]*)</;function KI(t,e){var n=_n(t),r=t.match(Zie(n.baseType))||[],s=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return s}return r.forEach(function(a){var i=a.replace(eoe,"").match(toe);i&&s.push({v:qr(i[2]),t:i[1]})}),s}var mM=/(^\s|\s$|\n)/;function ni(t,e){return"<"+t+(e.match(mM)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Qg(t){return Ls(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Dt(t,e,n){return"<"+t+(n!=null?Qg(n):"")+(e!=null?(e.match(mM)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function w_(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function noe(t,e){switch(typeof t){case"string":var n=Dt("vt:lpwstr",Pr(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Dt((t|0)==t?"vt:i4":"vt:r8",Pr(String(t)));case"boolean":return Dt("vt:bool",t?"true":"false")}if(t instanceof Date)return Dt("vt:filetime",w_(t));throw new Error("Unable to serialize "+t)}function I5(t){if(Kn&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return qr(of(C5(t)));throw new Error("Bad input format: expected Buffer or string")}var Hg=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Ea={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},bh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Oo={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function roe(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,a=5;a>=0;--a)s=s*256+t[e+a];return r==2047?s==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,s+=Math.pow(2,52)),n*Math.pow(2,r-52)*s)}function soe(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,s=0,a=0,i=r?-e:e;isFinite(i)?i==0?s=a=0:(s=Math.floor(Math.log(i)/Math.LN2),a=i*Math.pow(2,52-s),s<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?s=-1022:(a-=Math.pow(2,52),s+=1023)):(s=2047,a=isNaN(e)?26985:0);for(var o=0;o<=5;++o,a/=256)t[n+o]=a&255;t[n+6]=(s&15)<<4|a&15,t[n+7]=s>>4|r}var qI=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var s=0,a=t[0][r].length;s<a;s+=n)e.push.apply(e,t[0][r].slice(s,s+n));return e},WI=Kn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Tu(e)})):qI(t)}:qI,$I=function(t,e,n){for(var r=[],s=e;s<n;s+=2)r.push(String.fromCharCode(cu(t,s)));return r.join("").replace(Ki,"")},F5=Kn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Ki,""):$I(t,e,n)}:$I,YI=function(t,e,n){for(var r=[],s=e;s<e+n;++s)r.push(("0"+t[s].toString(16)).slice(-2));return r.join("")},pM=Kn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):YI(t,e,n)}:YI,JI=function(t,e,n){for(var r=[],s=e;s<n;s++)r.push(String.fromCharCode(B0(t,s)));return r.join("")},yx=Kn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):JI(e,n,r)}:JI,gM=function(t,e){var n=jo(t,e);return n>0?yx(t,e+4,e+4+n-1):""},xM=gM,vM=function(t,e){var n=jo(t,e);return n>0?yx(t,e+4,e+4+n-1):""},yM=vM,wM=function(t,e){var n=2*jo(t,e);return n>0?yx(t,e+4,e+4+n-1):""},bM=wM,CM=function(e,n){var r=jo(e,n);return r>0?F5(e,n+4,n+4+r):""},EM=CM,_M=function(t,e){var n=jo(t,e);return n>0?yx(t,e+4,e+4+n):""},SM=_M,TM=function(t,e){return roe(t,e)},H2=TM,R5=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Kn&&(xM=function(e,n){if(!Buffer.isBuffer(e))return gM(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},yM=function(e,n){if(!Buffer.isBuffer(e))return vM(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},bM=function(e,n){if(!Buffer.isBuffer(e))return wM(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},EM=function(e,n){if(!Buffer.isBuffer(e))return CM(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},SM=function(e,n){if(!Buffer.isBuffer(e))return _M(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},H2=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):TM(e,n)},R5=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var B0=function(t,e){return t[e]},cu=function(t,e){return t[e+1]*256+t[e]},aoe=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},jo=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Of=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},ioe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function hg(t,e){var n="",r,s,a=[],i,o,l,A;switch(e){case"dbcs":if(A=this.l,Kn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)n+=String.fromCharCode(cu(this,A)),A+=2;t*=2;break;case"utf8":n=yx(this,this.l,this.l+t);break;case"utf16le":t*=2,n=F5(this,this.l,this.l+t);break;case"wstr":return hg.call(this,t,"dbcs");case"lpstr-ansi":n=xM(this,this.l),t=4+jo(this,this.l);break;case"lpstr-cp":n=yM(this,this.l),t=4+jo(this,this.l);break;case"lpwstr":n=bM(this,this.l),t=4+2*jo(this,this.l);break;case"lpp4":t=4+jo(this,this.l),n=EM(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+jo(this,this.l),n=SM(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(i=B0(this,this.l+t++))!==0;)a.push(z1(i));n=a.join("");break;case"_wstr":for(t=0,n="";(i=cu(this,this.l+t))!==0;)a.push(z1(i)),t+=2;t+=2,n=a.join("");break;case"dbcs-cont":for(n="",A=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(A)!==-1)return i=B0(this,A),this.l=A+1,o=hg.call(this,t-l,i?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(z1(cu(this,A))),A+=2}n=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",A=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(A)!==-1)return i=B0(this,A),this.l=A+1,o=hg.call(this,t-l,i?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(z1(B0(this,A))),A+=1}n=a.join("");break;default:switch(t){case 1:return r=B0(this,this.l),this.l++,r;case 2:return r=(e==="i"?aoe:cu)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?Of:ioe)(this,this.l),this.l+=4,r):(s=jo(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=H2(this,this.l):s=H2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:n=pM(this,this.l,t);break}}return this.l+=t,n}var ooe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},loe=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},coe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function Aoe(t,e,n){var r=0,s=0;if(n==="dbcs"){for(s=0;s!=e.length;++s)coe(this,e.charCodeAt(s),this.l+2*s);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;r=e.length}else if(n==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(n==="utf16le"){var a=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var i=e.charCodeAt(s);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,ooe(this,e,this.l);break;case 8:if(r=8,n==="f"){soe(this,e,this.l);break}case 16:break;case-4:r=4,loe(this,e,this.l);break}return this.l+=r,this}function BM(t,e){var n=pM(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function ei(t,e){t.l=e,t.read_shift=hg,t.chk=BM,t.write_shift=Aoe}function Li(t,e){t.l+=e}function lt(t){var e=Xd(t);return ei(e,0),e}function Bu(t,e,n){if(t){var r,s,a;ei(t,t.l||0);for(var i=t.length,o=0,l=0;t.l<i;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var A=Wg[o]||Wg[65535];for(r=t.read_shift(1),a=r&127,s=1;s<4&&r&128;++s)a+=((r=t.read_shift(1))&127)<<7*s;l=t.l+a;var d=A.f&&A.f(t,a,n);if(t.l=l,e(d,A,o))return}}}function mo(){var t=[],e=Kn?256:2048,n=function(A){var d=lt(A);return ei(d,0),d},r=n(e),s=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},a=function(A){return r&&A<r.length-r.l?r:(s(),r=n(Math.max(A+1,e)))},i=function(){return s(),Qa(t)},o=function(A){s(),r=A,r.l==null&&(r.l=r.length),a(e)};return{next:a,push:o,end:i,_bufs:t}}function bt(t,e,n,r){var s=+e,a;if(!isNaN(s)){r||(r=Wg[s].p||(n||[]).length||0),a=1+(s>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var i=t.next(a);s<=127?i.write_shift(1,s):(i.write_shift(1,(s&127)+128),i.write_shift(1,s>>7));for(var o=0;o!=4;++o)if(r>=128)i.write_shift(1,(r&127)+128),r>>=7;else{i.write_shift(1,r);break}r>0&&R5(n)&&t.push(n)}}function mg(t,e,n){var r=os(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function XI(t,e,n){var r=os(t);return r.s=mg(r.s,e.s,n),r.e=mg(r.e,e.s,n),r}function pg(t,e){if(t.cRel&&t.c<0)for(t=os(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=os(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=wn(t);return!t.cRel&&t.cRel!=null&&(n=foe(n)),!t.rRel&&t.rRel!=null&&(n=uoe(n)),n}function bC(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+ys(t.s.c)+":"+(t.e.cRel?"":"$")+ys(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Js(t.s.r)+":"+(t.e.rRel?"":"$")+Js(t.e.r):pg(t.s,e.biff)+":"+pg(t.e,e.biff)}function D5(t){return parseInt(doe(t),10)-1}function Js(t){return""+(t+1)}function uoe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function doe(t){return t.replace(/\$(\d+)$/,"$1")}function U5(t){for(var e=hoe(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function ys(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function foe(t){return t.replace(/^([A-Z])/,"$$$1")}function hoe(t){return t.replace(/^\$([A-Z])/,"$1")}function moe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ws(t){for(var e=0,n=0,r=0;r<t.length;++r){var s=t.charCodeAt(r);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(n=26*n+(s-64))}return{c:n-1,r:e-1}}function wn(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function xo(t){var e=t.indexOf(":");return e==-1?{s:ws(t),e:ws(t)}:{s:ws(t.slice(0,e)),e:ws(t.slice(e+1))}}function Rn(t,e){return typeof e>"u"||typeof e=="number"?Rn(t.s,t.e):(typeof t!="string"&&(t=wn(t)),typeof e!="string"&&(e=wn(e)),t==e?t:t+":"+e)}function pr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,s=0,a=t.length;for(n=0;r<a&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.s.c=--n,n=0;r<a&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;if(e.s.r=--n,r===a||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=a&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.e.c=--n,n=0;r!=a&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;return e.e.r=--n,e}function ZI(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Fl(t.z,n?Ba(e):e)}catch{}try{return t.w=Fl((t.XF||{}).numFmtId||(n?14:0),n?Ba(e):e)}catch{return""+e}}function wu(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Nu[t.v]||t.v:e==null?ZI(t,t.v):ZI(t,e))}function lf(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function NM(t,e,n){var r=n||{},s=t?Array.isArray(t):r.dense,a=t||(s?[]:{}),i=0,o=0;if(a&&r.origin!=null){if(typeof r.origin=="number")i=r.origin;else{var l=typeof r.origin=="string"?ws(r.origin):r.origin;i=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var A={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var d=pr(a["!ref"]);A.s.c=d.s.c,A.s.r=d.s.r,A.e.c=Math.max(A.e.c,d.e.c),A.e.r=Math.max(A.e.r,d.e.r),i==-1&&(A.e.r=i=d.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[h].length;++p)if(!(typeof e[h][p]>"u")){var g={v:e[h][p]},w=i+h,b=o+p;if(A.s.r>w&&(A.s.r=w),A.s.c>b&&(A.s.c=b),A.e.r<w&&(A.e.r=w),A.e.c<b&&(A.e.c=b),e[h][p]&&typeof e[h][p]=="object"&&!Array.isArray(e[h][p])&&!(e[h][p]instanceof Date))g=e[h][p];else if(Array.isArray(g.v)&&(g.f=e[h][p][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(r.nullError)g.t="e",g.v=0;else if(r.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=r.dateNF||gn[14],r.cellDates?(g.t="d",g.w=Fl(g.z,Ba(g.v))):(g.t="n",g.v=Ba(g.v),g.w=Fl(g.z,g.v))):g.t="s";if(s)a[w]||(a[w]=[]),a[w][b]&&a[w][b].z&&(g.z=a[w][b].z),a[w][b]=g;else{var E=wn({c:b,r:w});a[E]&&a[E].z&&(g.z=a[E].z),a[E]=g}}}return A.s.c<1e7&&(a["!ref"]=Rn(A)),a}function Um(t,e){return NM(null,t,e)}function poe(t){return t.read_shift(4,"i")}function pc(t,e){return e||(e=lt(4)),e.write_shift(4,t),e}function Di(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Ha(t,e){var n=!1;return e==null&&(n=!0,e=lt(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function goe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function xoe(t,e){return e||(e=lt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function L5(t,e){var n=t.l,r=t.read_shift(1),s=Di(t),a=[],i={t:s,h:s};if((r&1)!==0){for(var o=t.read_shift(4),l=0;l!=o;++l)a.push(goe(t));i.r=a}else i.r=[{ich:0,ifnt:0}];return t.l=n+e,i}function voe(t,e){var n=!1;return e==null&&(n=!0,e=lt(15+4*t.t.length)),e.write_shift(1,0),Ha(t.t,e),n?e.slice(0,e.l):e}var yoe=L5;function woe(t,e){var n=!1;return e==null&&(n=!0,e=lt(23+4*t.t.length)),e.write_shift(1,1),Ha(t.t,e),e.write_shift(4,1),xoe({},e),n?e.slice(0,e.l):e}function Rl(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Ch(t,e){return e==null&&(e=lt(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Eh(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function _h(t,e){return e==null&&(e=lt(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var boe=Di,kM=Ha;function M5(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function V2(t,e){var n=!1;return e==null&&(n=!0,e=lt(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var Coe=Di,b_=M5,P5=V2;function O5(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var s=r===0?H2([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Of(e,0)>>2;return n?s/100:s}function IM(t,e){e==null&&(e=lt(4));var n=0,r=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?s:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function FM(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function Eoe(t,e){return e||(e=lt(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Sh=FM,Lm=Eoe;function Fi(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Ah(t,e){return(e||lt(8)).write_shift(8,t,"f")}function _oe(t){var e={},n=t.read_shift(1),r=n>>>1,s=t.read_shift(1),a=t.read_shift(2,"i"),i=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=s;var A=$f[s];A&&(e.rgb=Gg(A));break;case 2:e.rgb=Gg([i,o,l]);break;case 3:e.theme=s;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function G2(t,e){if(e||(e=lt(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function Soe(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function Toe(t,e){e||(e=lt(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}function RM(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function Boe(t){return RM(t,1)}function Noe(t){return RM(t,2)}var j5=2,co=3,q1=11,eF=12,z2=19,W1=64,koe=65,Ioe=71,Foe=4108,Roe=4126,Oa=80,DM=81,Doe=[Oa,DM],C_={1:{n:"CodePage",t:j5},2:{n:"Category",t:Oa},3:{n:"PresentationFormat",t:Oa},4:{n:"ByteCount",t:co},5:{n:"LineCount",t:co},6:{n:"ParagraphCount",t:co},7:{n:"SlideCount",t:co},8:{n:"NoteCount",t:co},9:{n:"HiddenCount",t:co},10:{n:"MultimediaClipCount",t:co},11:{n:"ScaleCrop",t:q1},12:{n:"HeadingPairs",t:Foe},13:{n:"TitlesOfParts",t:Roe},14:{n:"Manager",t:Oa},15:{n:"Company",t:Oa},16:{n:"LinksUpToDate",t:q1},17:{n:"CharacterCount",t:co},19:{n:"SharedDoc",t:q1},22:{n:"HyperlinksChanged",t:q1},23:{n:"AppVersion",t:co,p:"version"},24:{n:"DigSig",t:koe},26:{n:"ContentType",t:Oa},27:{n:"ContentStatus",t:Oa},28:{n:"Language",t:Oa},29:{n:"Version",t:Oa},255:{},2147483648:{n:"Locale",t:z2},2147483651:{n:"Behavior",t:z2},1919054434:{}},E_={1:{n:"CodePage",t:j5},2:{n:"Title",t:Oa},3:{n:"Subject",t:Oa},4:{n:"Author",t:Oa},5:{n:"Keywords",t:Oa},6:{n:"Comments",t:Oa},7:{n:"Template",t:Oa},8:{n:"LastAuthor",t:Oa},9:{n:"RevNumber",t:Oa},10:{n:"EditTime",t:W1},11:{n:"LastPrinted",t:W1},12:{n:"CreatedDate",t:W1},13:{n:"ModifiedDate",t:W1},14:{n:"PageCount",t:co},15:{n:"WordCount",t:co},16:{n:"CharCount",t:co},17:{n:"Thumbnail",t:Ioe},18:{n:"Application",t:Oa},19:{n:"DocSecurity",t:co},255:{},2147483648:{n:"Locale",t:z2},2147483651:{n:"Behavior",t:z2},1919054434:{}},tF={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Uoe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Loe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Moe=Loe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),$f=os(Moe),Nu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},UM={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},__={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},$1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Q5(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Poe(t){var e=Q5();if(!t||!t.match)return e;var n={};if((t.match(Pi)||[]).forEach(function(r){var s=_n(r);switch(s[0].replace(Wie,"<")){case"<?xml":break;case"<Types":e.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[s.Extension]=s.ContentType;break;case"<Override":e[__[s.ContentType]]!==void 0&&e[__[s.ContentType]].push(s.PartName);break}}),e.xmlns!==Ea.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}function LM(t,e){var n=Pie(__),r=[],s;r[r.length]=Xs,r[r.length]=Dt("Types",null,{xmlns:Ea.CT,"xmlns:xsd":Ea.xsd,"xmlns:xsi":Ea.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Dt("Default",null,{Extension:l[0],ContentType:l[1]})}));var a=function(l){t[l]&&t[l].length>0&&(s=t[l][0],r[r.length]=Dt("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:$1[l][e.bookType]||$1[l].xlsx}))},i=function(l){(t[l]||[]).forEach(function(A){r[r.length]=Dt("Override",null,{PartName:(A[0]=="/"?"":"/")+A,ContentType:$1[l][e.bookType]||$1[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(A){r[r.length]=Dt("Override",null,{PartName:(A[0]=="/"?"":"/")+A,ContentType:n[l][0]})})};return a("workbooks"),i("sheets"),i("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),i("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Jn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Vg(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function gg(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(Pi)||[]).forEach(function(s){var a=_n(s);if(a[0]==="<Relationship"){var i={};i.Type=a.Type,i.Target=a.Target,i.Id=a.Id,a.TargetMode&&(i.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:Wp(a.Target,e);n[o]=i,r[a.Id]=i}}),n["!id"]=r,n}function J0(t){var e=[Xs,Dt("Relationships",null,{xmlns:Ea.RELS})];return Ls(t["!id"]).forEach(function(n){e[e.length]=Dt("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Lr(t,e,n,r,s,a){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=r,s.Target=n,[Jn.HLINK,Jn.XPATH,Jn.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}var Ooe="application/vnd.oasis.opendocument.spreadsheet";function joe(t,e){for(var n=I5(t),r,s;r=Hg.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(s=_n(r[0],!1),s.path=="/"&&s.type!==Ooe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}function Qoe(t){var e=[Xs];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function nF(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function Hoe(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Voe(t){var e=[Xs];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(nF(t[n][0],t[n][1])),e.push(Hoe("",t[n][0]));return e.push(nF("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function MM(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+M2.version+"</meta:generator></office:meta></office:document-meta>"}var kl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Goe=function(){for(var t=new Array(kl.length),e=0;e<kl.length;++e){var n=kl[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t}();function PM(t){var e={};t=qr(t);for(var n=0;n<kl.length;++n){var r=kl[n],s=t.match(Goe[n]);s!=null&&s.length>0&&(e[r[1]]=mr(s[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=is(e[r[1]]))}return e}function CC(t,e,n,r,s){s[t]!=null||e==null||e===""||(s[t]=e,e=Pr(e),r[r.length]=n?Dt(t,e,n):ni(t,e))}function OM(t,e){var n=e||{},r=[Xs,Dt("cp:coreProperties",null,{"xmlns:cp":Ea.CORE_PROPS,"xmlns:dc":Ea.dc,"xmlns:dcterms":Ea.dcterms,"xmlns:dcmitype":Ea.dcmitype,"xmlns:xsi":Ea.xsi})],s={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&CC("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:w_(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s),t.ModifiedDate!=null&&CC("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:w_(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s));for(var a=0;a!=kl.length;++a){var i=kl[a],o=n.Props&&n.Props[i[1]]!=null?n.Props[i[1]]:t?t[i[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&CC(i[0],o,null,r,s)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Yf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],jM=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function QM(t,e,n,r){var s=[];if(typeof t=="string")s=KI(t,r);else for(var a=0;a<t.length;++a)s=s.concat(t[a].map(function(d){return{v:d}}));var i=typeof e=="string"?KI(e,r).map(function(d){return d.v}):e,o=0,l=0;if(i.length>0)for(var A=0;A!==s.length;A+=2){switch(l=+s[A+1].v,s[A].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=i.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=i.slice(o,o+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=i.slice(o,o+l);break}o+=l}}function zoe(t,e,n){var r={};return e||(e={}),t=qr(t),Yf.forEach(function(s){var a=(t.match(jg(s[0]))||[])[1];switch(s[2]){case"string":a&&(e[s[1]]=mr(a));break;case"bool":e[s[1]]=a==="true";break;case"raw":var i=t.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));i&&i.length>0&&(r[s[1]]=i[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&QM(r.HeadingPairs,r.TitlesOfParts,e,n),e}function HM(t){var e=[],n=Dt;return t||(t={}),t.Application="SheetJS",e[e.length]=Xs,e[e.length]=Dt("Properties",null,{xmlns:Ea.EXT_PROPS,"xmlns:vt":Ea.vt}),Yf.forEach(function(r){if(t[r[1]]!==void 0){var s;switch(r[2]){case"string":s=Pr(String(t[r[1]]));break;case"bool":s=t[r[1]]?"true":"false";break}s!==void 0&&(e[e.length]=n(r[0],s))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+Pr(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Koe=/<[^>]+>[^<]*/g;function qoe(t,e){var n={},r="",s=t.match(Koe);if(s)for(var a=0;a!=s.length;++a){var i=s[a],o=_n(i);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=mr(o.name);break;case"</property>":r=null;break;default:if(i.indexOf("<vt:")===0){var l=i.split(">"),A=l[0].slice(4),d=l[1];switch(A){case"lpstr":case"bstr":case"lpwstr":n[r]=mr(d);break;case"bool":n[r]=ns(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(d,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(d);break;case"filetime":case"date":n[r]=is(d);break;case"cy":case"error":n[r]=mr(d);break;default:if(A.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",i,A,l)}}else if(i.slice(0,2)!=="</"){if(e.WTF)throw new Error(i)}}}return n}function VM(t){var e=[Xs,Dt("Properties",null,{xmlns:Ea.CUST_PROPS,"xmlns:vt":Ea.vt})];if(!t)return e.join("");var n=1;return Ls(t).forEach(function(s){++n,e[e.length]=Dt("property",noe(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Pr(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var S_={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},EC;function Woe(t,e,n){EC||(EC=Xy(S_)),e=EC[e]||e,t[e]=n}function $oe(t,e){var n=[];return Ls(S_).map(function(r){for(var s=0;s<kl.length;++s)if(kl[s][1]==r)return kl[s];for(s=0;s<Yf.length;++s)if(Yf[s][1]==r)return Yf[s];throw r}).forEach(function(r){if(t[r[1]]!=null){var s=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),n.push(ni(S_[r[1]]||r[1],s))}}),Dt("DocumentProperties",n.join(""),{xmlns:Oo.o})}function Yoe(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",s=[];return t&&Ls(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var i=0;i<kl.length;++i)if(a==kl[i][1])return;for(i=0;i<Yf.length;++i)if(a==Yf[i][1])return;for(i=0;i<n.length;++i)if(a==n[i])return;var o=t[a],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),s.push(Dt(HI(a),o,{"dt:dt":l}))}}),e&&Ls(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var i=e[a],o="string";typeof i=="number"?(o="float",i=String(i)):i===!0||i===!1?(o="boolean",i=i?"1":"0"):i instanceof Date?(o="dateTime.tz",i=i.toISOString()):i=String(i),s.push(Dt(HI(a),i,{"dt:dt":o}))}}),"<"+r+' xmlns="'+Oo.o+'">'+s.join("")+"</"+r+">"}function H5(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Joe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),s=(n-r)/Math.pow(2,32);r*=1e7,s*=1e7;var a=r/Math.pow(2,32)|0;a>0&&(r=r%Math.pow(2,32),s+=a);var i=lt(8);return i.write_shift(4,r),i.write_shift(4,s),i}function GM(t,e,n){var r=t.l,s=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return s}function zM(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function KM(t,e,n){return e===31?zM(t):GM(t,e,n)}function T_(t,e,n){return KM(t,e,n===!1?0:4)}function Xoe(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return KM(t,e,0)}function Zoe(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var s=t.l;n[r]=t.read_shift(0,"lpwstr").replace(Ki,""),t.l-s&2&&(t.l+=2)}return n}function ele(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(Ki,"");return n}function tle(t){var e=t.l,n=K2(t,DM);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=K2(t,co);return[n,r]}function nle(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(tle(t));return n}function rF(t,e){for(var n=t.read_shift(4),r={},s=0;s!=n;++s){var a=t.read_shift(4),i=t.read_shift(4);r[a]=t.read_shift(i,e===1200?"utf16le":"utf8").replace(Ki,"").replace(qp,"!"),e===1200&&i%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function qM(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function rle(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function K2(t,e,n){var r=t.read_shift(2),s,a=n||{};if(t.l+=2,e!==eF&&r!==e&&Doe.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===eF?r:e){case 2:return s=t.read_shift(2,"i"),a.raw||(t.l+=2),s;case 3:return s=t.read_shift(4,"i"),s;case 11:return t.read_shift(4)!==0;case 19:return s=t.read_shift(4),s;case 30:return GM(t,r,4).replace(Ki,"");case 31:return zM(t);case 64:return H5(t);case 65:return qM(t);case 71:return rle(t);case 80:return T_(t,r,!a.raw).replace(Ki,"");case 81:return Xoe(t,r).replace(Ki,"");case 4108:return nle(t);case 4126:case 4127:return r==4127?Zoe(t):ele(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function sF(t,e){var n=lt(4),r=lt(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=lt(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=Joe(e);break;case 31:case 80:for(r=lt(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Qa([n,r])}function aF(t,e){var n=t.l,r=t.read_shift(4),s=t.read_shift(4),a=[],i=0,o=0,l=-1,A={};for(i=0;i!=s;++i){var d=t.read_shift(4),h=t.read_shift(4);a[i]=[d,h+n]}a.sort(function(I,k){return I[1]-k[1]});var p={};for(i=0;i!=s;++i){if(t.l!==a[i][1]){var g=!0;if(i>0&&e)switch(e[a[i-1][0]].t){case 2:t.l+2===a[i][1]&&(t.l+=2,g=!1);break;case 80:t.l<=a[i][1]&&(t.l=a[i][1],g=!1);break;case 4108:t.l<=a[i][1]&&(t.l=a[i][1],g=!1);break}if((!e||i==0)&&t.l<=a[i][1]&&(g=!1,t.l=a[i][1]),g)throw new Error("Read Error: Expected address "+a[i][1]+" at "+t.l+" :"+i)}if(e){var w=e[a[i][0]];if(p[w.n]=K2(t,w.t,{raw:!0}),w.p==="version"&&(p[w.n]=String(p[w.n]>>16)+"."+("0000"+String(p[w.n]&65535)).slice(-4)),w.n=="CodePage")switch(p[w.n]){case 0:p[w.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:dc(o=p[w.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[w.n])}}else if(a[i][0]===1){if(o=p.CodePage=K2(t,j5),dc(o),l!==-1){var b=t.l;t.l=a[l][1],A=rF(t,o),t.l=b}}else if(a[i][0]===0){if(o===0){l=i,t.l=a[i+1][1];continue}A=rF(t,o)}else{var E=A[a[i][0]],T;switch(t[t.l]){case 65:t.l+=4,T=qM(t);break;case 30:t.l+=4,T=T_(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,T=T_(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,T=t.read_shift(4,"i");break;case 19:t.l+=4,T=t.read_shift(4);break;case 5:t.l+=4,T=t.read_shift(8,"f");break;case 11:t.l+=4,T=zs(t,4);break;case 64:t.l+=4,T=is(H5(t));break;default:throw new Error("unparsed value: "+t[t.l])}p[E]=T}}return t.l=n+r,p}var WM=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function sle(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function iF(t,e,n){var r=lt(8),s=[],a=[],i=8,o=0,l=lt(8),A=lt(8);if(l.write_shift(4,2),l.write_shift(4,1200),A.write_shift(4,1),a.push(l),s.push(A),i+=8+l.length,!e){A=lt(8),A.write_shift(4,0),s.unshift(A);var d=[lt(4)];for(d[0].write_shift(4,t.length),o=0;o<t.length;++o){var h=t[o][0];for(l=lt(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=Qa(d),a.unshift(l),i+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(WM.indexOf(t[o][0])>-1||jM.indexOf(t[o][0])>-1)&&t[o][1]!=null){var p=t[o][1],g=0;if(e){g=+e[t[o][0]];var w=n[g];if(w.p=="version"&&typeof p=="string"){var b=p.split(".");p=(+b[0]<<16)+(+b[1]||0)}l=sF(w.t,p)}else{var E=sle(p);E==-1&&(E=31,p=String(p)),l=sF(E,p)}a.push(l),A=lt(8),A.write_shift(4,e?g:2+o),s.push(A),i+=8+l.length}var T=8*(a.length+1);for(o=0;o<a.length;++o)s[o].write_shift(4,T),T+=a[o].length;return r.write_shift(4,i),r.write_shift(4,a.length),Qa([r].concat(s).concat(a))}function oF(t,e,n){var r=t.content;if(!r)return{};ei(r,0);var s,a,i,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var A=r.read_shift(4),d=r.read_shift(16);if(d!==ln.utils.consts.HEADER_CLSID&&d!==n)throw new Error("Bad PropertySet CLSID "+d);if(s=r.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(a=r.read_shift(16),o=r.read_shift(4),s===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);s===2&&(i=r.read_shift(16),l=r.read_shift(4));var h=aF(r,e),p={SystemIdentifier:A};for(var g in h)p[g]=h[g];if(p.FMTID=a,s===1)return p;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var w;try{w=aF(r,null)}catch{}for(g in w)p[g]=w[g];return p.FMTID=[a,i],p}function lF(t,e,n,r,s,a){var i=lt(s?68:48),o=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,ln.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,s?2:1),i.write_shift(16,e,"hex"),i.write_shift(4,s?68:48);var l=iF(t,n,r);if(o.push(l),s){var A=iF(s,null,null);i.write_shift(16,a,"hex"),i.write_shift(4,68+l.length),o.push(A)}return Qa(o)}function fd(t,e){return t.read_shift(e),null}function ale(t,e){e||(e=lt(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function ile(t,e,n){for(var r=[],s=t.l+e;t.l<s;)r.push(n(t,s-t.l));if(s!==t.l)throw new Error("Slurp error");return r}function zs(t,e){return t.read_shift(e)===1}function zi(t,e){return e||(e=lt(2)),e.write_shift(2,+!!t),e}function Aa(t){return t.read_shift(2,"u")}function bl(t,e){return e||(e=lt(2)),e.write_shift(2,t),e}function $M(t,e){return ile(t,e,Aa)}function ole(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function YM(t,e,n){return n||(n=lt(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function wx(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),s="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var a=t.read_shift(1);a&&(s="dbcs-cont")}else n.biff==12&&(s="wstr");n.biff>=2&&n.biff<=5&&(s="cpstr");var i=r?t.read_shift(r,s):"";return i}function lle(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,s=n&8,a=1+(n&1),i=0,o,l={};s&&(i=t.read_shift(2)),r&&(o=t.read_shift(4));var A=a==2?"dbcs-cont":"sbcs-cont",d=e===0?"":t.read_shift(e,A);return s&&(t.l+=4*i),r&&(t.l+=o),l.t=d,s||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function cle(t){var e=t.t||"",n=lt(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=lt(2*e.length);r.write_shift(2*e.length,e,"utf16le");var s=[n,r];return Qa(s)}function uh(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function bx(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):uh(t,r,n)}function Th(t,e,n){if(n.biff>5)return bx(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function JM(t,e,n){return n||(n=lt(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function Ale(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function ule(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var s=t.read_shift((r?e-24:e)>>1,"utf16le").replace(Ki,"");return r&&(t.l+=24),s}function dle(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=t.read_shift(4);if(s===0)return n+r.replace(/\\/g,"/");var a=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=t.read_shift(a>>1,"utf16le").replace(Ki,"");return n+i}function fle(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return ule(t);case"0303000000000000c000000000000046":return dle(t);default:throw new Error("Unsupported Moniker "+n)}}function Y1(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(Ki,""):"";return n}function cF(t,e){e||(e=lt(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function hle(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var s=t.read_shift(2);t.l+=2;var a,i,o,l,A="",d,h;s&16&&(a=Y1(t,n-t.l)),s&128&&(i=Y1(t,n-t.l)),(s&257)===257&&(o=Y1(t,n-t.l)),(s&257)===1&&(l=fle(t,n-t.l)),s&8&&(A=Y1(t,n-t.l)),s&32&&(d=t.read_shift(16)),s&64&&(h=H5(t)),t.l=n;var p=i||o||l||"";p&&A&&(p+="#"+A),p||(p="#"+A),s&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var g={Target:p};return d&&(g.guid=d),h&&(g.time=h),a&&(g.Tooltip=a),g}function mle(t){var e=lt(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var s=r.indexOf("#"),a=s>-1?31:23;switch(r.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var i=[8,6815827,6619237,4849780,83];for(n=0;n<i.length;++n)e.write_shift(4,i[n]);if(a==28)r=r.slice(1),cF(r,e);else if(a&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<i.length;++n)e.write_shift(1,parseInt(i[n],16));var o=s>-1?r.slice(0,s):r;for(e.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)e.write_shift(2,o.charCodeAt(n));e.write_shift(2,0),a&8&&cF(s>-1?r.slice(s+1):"",e)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<i.length;++n)e.write_shift(1,parseInt(i[n],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)e.write_shift(1,r.charCodeAt(n+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function XM(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),s=t.read_shift(1);return[e,n,r,s]}function ZM(t,e){var n=XM(t);return n[3]=0,n}function CA(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function dh(t,e,n,r){return r||(r=lt(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function ple(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function gle(t,e,n){return e===0?"":Th(t,e,n)}function xle(t,e,n){var r=n.biff>8?4:2,s=t.read_shift(r),a=t.read_shift(r,"i"),i=t.read_shift(r,"i");return[s,a,i]}function eP(t){var e=t.read_shift(2),n=O5(t);return[e,n]}function vle(t,e,n){t.l+=4,e-=4;var r=t.l+e,s=wx(t,e,n),a=t.read_shift(2);if(r-=t.l,a!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+a);return t.l+=a,s}function tw(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2);return{s:{c:r,r:e},e:{c:s,r:n}}}function tP(t,e){return e||(e=lt(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function nP(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),s=t.read_shift(1);return{s:{c:r,r:e},e:{c:s,r:n}}}var yle=nP;function rP(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function wle(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function ble(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Ci(t){t.l+=2,t.l+=t.read_shift(2)}var Cle={0:Ci,4:Ci,5:Ci,6:Ci,7:ble,8:Ci,9:Ci,10:Ci,11:Ci,12:Ci,13:wle,14:Ci,15:Ci,16:Ci,17:Ci,18:Ci,19:Ci,20:Ci,21:rP};function Ele(t,e){for(var n=t.l+e,r=[];t.l<n;){var s=t.read_shift(2);t.l-=2;try{r.push(Cle[s](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function J1(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function V5(t,e,n){var r=1536,s=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,s=8;break;case"biff4":r=4,s=6;break;case"biff3":r=3,s=6;break;case"biff2":r=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=lt(s);return a.write_shift(2,r),a.write_shift(2,e),s>4&&a.write_shift(2,29282),s>6&&a.write_shift(2,1997),s>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function _le(t,e){return e===0||t.read_shift(2),1200}function Sle(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,s=Th(t,0,n);return t.read_shift(e+r-t.l),s}function Tle(t,e){var n=!e||e.biff==8,r=lt(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function Ble(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function Nle(t,e,n){var r=t.read_shift(4),s=t.read_shift(1)&3,a=t.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var i=wx(t,0,n);return i.length===0&&(i="Sheet1"),{pos:r,hs:s,dt:a,name:i}}function kle(t,e){var n=!e||e.biff>=8?2:1,r=lt(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=r.slice(0,r.l);return s.l=r.l,s}function Ile(t,e){for(var n=t.l+e,r=t.read_shift(4),s=t.read_shift(4),a=[],i=0;i!=s&&t.l<n;++i)a.push(lle(t));return a.Count=r,a.Unique=s,a}function Fle(t,e){var n=lt(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],s=0;s<t.length;++s)r[s]=cle(t[s]);var a=Qa([n].concat(r));return a.parts=[n.length].concat(r.map(function(i){return i.length})),a}function Rle(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function Dle(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function Ule(t){var e=ple(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function Lle(t){return t.read_shift(2),t.read_shift(4)}function AF(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var s=t.read_shift(2);n&&n.biff==2&&(r=1-(s>>15),s&=32767);var a={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[a,s]}function Mle(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),A=t.read_shift(2);return{Pos:[e,n],Dim:[r,s],Flags:a,CurTab:i,FirstTab:o,Selected:l,TabRatio:A}}function Ple(){var t=lt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function Ole(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function jle(t){var e=lt(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function Qle(){}function Hle(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=wx(t,0,n),r}function Vle(t,e){var n=t.name||"Arial",r=e&&e.biff==5,s=r?15+n.length:16+2*n.length,a=lt(s);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,n.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),a}function Gle(t){var e=CA(t);return e.isst=t.read_shift(4),e}function zle(t,e,n,r){var s=lt(10);return dh(t,e,r,s),s.write_shift(4,n),s}function Kle(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,s=CA(t);n.biff==2&&t.l++;var a=bx(t,r-t.l,n);return s.val=a,s}function qle(t,e,n,r,s){var a=!s||s.biff==8,i=lt(8+ +a+(1+a)*n.length);return dh(t,e,r,i),i.write_shift(2,n.length),a&&i.write_shift(1,1),i.write_shift((1+a)*n.length,n,a?"utf16le":"sbcs"),i}function Wle(t,e,n){var r=t.read_shift(2),s=Th(t,0,n);return[r,s]}function $le(t,e,n,r){var s=n&&n.biff==5;r||(r=lt(s?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(s?1:2,e.length),s||r.write_shift(1,1),r.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var a=r.length>r.l?r.slice(0,r.l):r;return a.l==null&&(a.l=a.length),a}var Yle=Th;function uF(t,e,n){var r=t.l+e,s=n.biff==8||!n.biff?4:2,a=t.read_shift(s),i=t.read_shift(s),o=t.read_shift(2),l=t.read_shift(2);return t.l=r,{s:{r:a,c:o},e:{r:i,c:l}}}function Jle(t,e){var n=e.biff==8||!e.biff?4:2,r=lt(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function Xle(t){var e=t.read_shift(2),n=t.read_shift(2),r=eP(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function Zle(t,e){for(var n=t.l+e-2,r=t.read_shift(2),s=t.read_shift(2),a=[];t.l<n;)a.push(eP(t));if(t.l!==n)throw new Error("MulRK read error");var i=t.read_shift(2);if(a.length!=i-s+1)throw new Error("MulRK length mismatch");return{r,c:s,C:i,rkrec:a}}function ece(t,e){for(var n=t.l+e-2,r=t.read_shift(2),s=t.read_shift(2),a=[];t.l<n;)a.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var i=t.read_shift(2);if(a.length!=i-s+1)throw new Error("MulBlank length mismatch");return{r,c:s,C:i,ixfe:a}}function tce(t,e,n,r){var s={},a=t.read_shift(4),i=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return s.patternType=Uoe[o>>26],r.cellStyles&&(s.alc=a&7,s.fWrap=a>>3&1,s.alcV=a>>4&7,s.fJustLast=a>>7&1,s.trot=a>>8&255,s.cIndent=a>>16&15,s.fShrinkToFit=a>>20&1,s.iReadOrder=a>>22&2,s.fAtrNum=a>>26&1,s.fAtrFnt=a>>27&1,s.fAtrAlc=a>>28&1,s.fAtrBdr=a>>29&1,s.fAtrPat=a>>30&1,s.fAtrProt=a>>31&1,s.dgLeft=i&15,s.dgRight=i>>4&15,s.dgTop=i>>8&15,s.dgBottom=i>>12&15,s.icvLeft=i>>16&127,s.icvRight=i>>23&127,s.grbitDiag=i>>30&3,s.icvTop=o&127,s.icvBottom=o>>7&127,s.icvDiag=o>>14&127,s.dgDiag=o>>21&15,s.icvFore=l&127,s.icvBack=l>>7&127,s.fsxButton=l>>14&1),s}function nce(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=tce(t,e,r.fStyle,n),r}function dF(t,e,n,r){var s=n&&n.biff==5;r||(r=lt(s?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&s&&(a|=1024),r.write_shift(4,a),r.write_shift(4,0),s||r.write_shift(4,0),r.write_shift(2,0),r}function rce(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function sce(t){var e=lt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function fF(t,e,n){var r=CA(t);(n.biff==2||e==9)&&++t.l;var s=ole(t);return r.val=s,r.t=s===!0||s===!1?"b":"e",r}function ace(t,e,n,r,s,a){var i=lt(8);return dh(t,e,r,i),YM(n,a,i),i}function ice(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=CA(t),s=Fi(t);return r.val=s,r}function oce(t,e,n,r){var s=lt(14);return dh(t,e,r,s),Ah(n,s),s}var hF=gle;function lce(t,e,n){var r=t.l+e,s=t.read_shift(2),a=t.read_shift(2);if(n.sbcch=a,a==1025||a==14849)return[a,s];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var i=uh(t,a),o=[];r>t.l;)o.push(bx(t));return[a,s,i,o]}function mF(t,e,n){var r=t.read_shift(2),s,a={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(s=vle(t,e-2,n)),a.body=s||t.read_shift(e-2),typeof s=="string"&&(a.Name=s),a}var cce=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function pF(t,e,n){var r=t.l+e,s=t.read_shift(2),a=t.read_shift(1),i=t.read_shift(1),o=t.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),l=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var A=uh(t,i,n);s&32&&(A=cce[A.charCodeAt(0)]);var d=r-t.l;n&&n.biff==2&&--d;var h=r==t.l||o===0||!(d>0)?[]:Efe(t,d,n,o);return{chKey:a,Name:A,itab:l,rgce:h}}function sP(t,e,n){if(n.biff<8)return Ace(t,e,n);for(var r=[],s=t.l+e,a=t.read_shift(n.biff>8?4:2);a--!==0;)r.push(xle(t,n.biff>8?12:6,n));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return r}function Ace(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=wx(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function uce(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),s=t.read_shift(2),a=uh(t,r,n),i=uh(t,s,n);return[a,i]}function dce(t,e,n){var r=nP(t);t.l++;var s=t.read_shift(1);return e-=8,[_fe(t,e,n),s,r]}function gF(t,e,n){var r=yle(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,bfe(t,e,n)]}function fce(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function hce(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2),o=Th(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:s},o,i,a]}}function mce(t,e,n){return hce(t,e,n)}function pce(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(tw(t));return n}function gce(t){var e=lt(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)tP(t[n],e);return e}function xce(t,e,n){if(n&&n.biff<8)return yce(t,e,n);var r=rP(t),s=Ele(t,e-22,r[1]);return{cmo:r,ft:s}}var vce={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var s=t.read_shift(1);return t.l+=s,t.l=n,{fmt:r}}};function yce(t,e,n){t.l+=4;var r=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var i=[];return i.push((vce[r]||Li)(t,e,n)),{cmo:[s,r,a],ft:i}}function wce(t,e,n){var r=t.l,s="";try{t.l+=4;var a=(n.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(a)==-1?t.l+=6:i=Ale(t,6,n);var o=t.read_shift(2);t.read_shift(2),Aa(t,2);var l=t.read_shift(2);t.l+=l;for(var A=1;A<t.lens.length-1;++A){if(t.l-r!=t.lens[A])throw new Error("TxO: bad continue record");var d=t[t.l],h=uh(t,t.lens[A+1]-t.lens[A]-1);if(s+=h,s.length>=(d?o:2*o))break}if(s.length!==o&&s.length!==o*2)throw new Error("cchText: "+o+" != "+s.length);return t.l=r+e,{t:s}}catch{return t.l=r+e,{t:s}}}function bce(t,e){var n=tw(t);t.l+=16;var r=hle(t,e-24);return[n,r]}function Cce(t){var e=lt(24),n=ws(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(r[s],16));return Qa([e,mle(t[1])])}function Ece(t,e){t.read_shift(2);var n=tw(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(Ki,""),[n,r]}function _ce(t){var e=t[1].Tooltip,n=lt(10+2*(e.length+1));n.write_shift(2,2048);var r=ws(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var s=0;s<e.length;++s)n.write_shift(2,e.charCodeAt(s));return n.write_shift(2,0),n}function Sce(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=tF[n]||n,n=t.read_shift(2),e[1]=tF[n]||n,e}function Tce(t){return t||(t=lt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function Bce(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(ZM(t));return n}function Nce(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(ZM(t));return n}function kce(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function aP(t,e,n){if(!n.cellStyles)return Li(t,e);var r=n&&n.biff>=12?4:2,s=t.read_shift(r),a=t.read_shift(r),i=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(2);r==2&&(t.l+=2);var A={s,e:a,w:i,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(A.level=l>>8&7),A}function Ice(t,e){var n=lt(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function Fce(t,e){var n={};return e<32||(t.l+=16,n.header=Fi(t),n.footer=Fi(t),t.l+=2),n}function Rce(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var s=t.read_shift(1);return t.l+=3,s&16&&(r.area=!0),r}function Dce(t){for(var e=lt(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}var Uce=CA,Lce=$M,Mce=bx;function Pce(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),s={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,s}function Oce(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=CA(t);++t.l;var s=Th(t,e-7,n);return r.t="str",r.val=s,r}function jce(t){var e=CA(t);++t.l;var n=Fi(t);return e.t="n",e.val=n,e}function Qce(t,e,n){var r=lt(15);return Sx(r,t,e),r.write_shift(8,n,"f"),r}function Hce(t){var e=CA(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function Vce(t,e,n){var r=lt(9);return Sx(r,t,e),r.write_shift(2,n),r}function Gce(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function zce(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function Kce(t,e,n){var r=t.l+e,s=CA(t),a=t.read_shift(2),i=uh(t,a,n);return t.l=r,s.t="str",s.val=i,s}var qce=[2,3,48,49,131,139,140,245],B_=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Xy({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,l){var A=[],d=Xd(1);switch(l.type){case"base64":d=Qo(zo(o));break;case"binary":d=Qo(o);break;case"buffer":case"array":d=o;break}ei(d,0);var h=d.read_shift(1),p=!!(h&136),g=!1,w=!1;switch(h){case 2:break;case 3:break;case 48:g=!0,p=!0;break;case 49:g=!0,p=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var b=0,E=521;h==2&&(b=d.read_shift(2)),d.l+=3,h!=2&&(b=d.read_shift(4)),b>1048576&&(b=1e6),h!=2&&(E=d.read_shift(2));var T=d.read_shift(2),I=l.codepage||1252;h!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(I=t[d[d.l]]),d.l+=1,d.l+=2),w&&(d.l+=36);for(var k=[],F={},D=Math.min(d.length,h==2?521:E-10-(g?264:0)),P=w?32:11;d.l<D&&d[d.l]!=13;)switch(F={},F.name=Mg.utils.decode(I,d.slice(d.l,d.l+P)).replace(/[\u0000\r\n].*$/g,""),d.l+=P,F.type=String.fromCharCode(d.read_shift(1)),h!=2&&!w&&(F.offset=d.read_shift(4)),F.len=d.read_shift(1),h==2&&(F.offset=d.read_shift(2)),F.dec=d.read_shift(1),F.name.length&&k.push(F),h!=2&&(d.l+=w?13:14),F.type){case"B":(!g||F.len!=8)&&l.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+F.type)}if(d[d.l]!==13&&(d.l=E-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=E;var S=0,N=0;for(A[0]=[],N=0;N!=k.length;++N)A[0][N]=k[N].name;for(;b-- >0;){if(d[d.l]===42){d.l+=T;continue}for(++d.l,A[++S]=[],N=0,N=0;N!=k.length;++N){var B=d.slice(d.l,d.l+k[N].len);d.l+=k[N].len,ei(B,0);var V=Mg.utils.decode(I,B);switch(k[N].type){case"C":V.trim().length&&(A[S][N]=V.replace(/\s+$/,""));break;case"D":V.length===8?A[S][N]=new Date(+V.slice(0,4),+V.slice(4,6)-1,+V.slice(6,8)):A[S][N]=V;break;case"F":A[S][N]=parseFloat(V.trim());break;case"+":case"I":A[S][N]=w?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(V.trim().toUpperCase()){case"Y":case"T":A[S][N]=!0;break;case"N":case"F":A[S][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+V+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));A[S][N]="##MEMO##"+(w?parseInt(V.trim(),10):B.read_shift(4));break;case"N":V=V.replace(/\u0000/g,"").trim(),V&&V!="."&&(A[S][N]=+V||0);break;case"@":A[S][N]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":A[S][N]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":A[S][N]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":A[S][N]=-B.read_shift(-8,"f");break;case"B":if(g&&k[N].len==8){A[S][N]=B.read_shift(8,"f");break}case"G":case"P":B.l+=k[N].len;break;case"0":if(k[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[N].type)}}}if(h!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(A=A.slice(0,l.sheetRows)),l.DBF=k,A}function r(o,l){var A=l||{};A.dateNF||(A.dateNF="yyyymmdd");var d=Um(n(o,A),A);return d["!cols"]=A.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete A.DBF,d}function s(o,l){try{return lf(r(o,l),l)}catch(A){if(l&&l.WTF)throw A}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,l){var A=l||{};if(+A.codepage>=0&&dc(+A.codepage),A.type=="string")throw new Error("Cannot write DBF to JS string");var d=mo(),h=$2(o,{header:1,raw:!0,cellDates:!0}),p=h[0],g=h.slice(1),w=o["!cols"]||[],b=0,E=0,T=0,I=1;for(b=0;b<p.length;++b){if(((w[b]||{}).DBF||{}).name){p[b]=w[b].DBF.name,++T;continue}if(p[b]!=null){if(++T,typeof p[b]=="number"&&(p[b]=p[b].toString(10)),typeof p[b]!="string")throw new Error("DBF Invalid column name "+p[b]+" |"+typeof p[b]+"|");if(p.indexOf(p[b])!==b){for(E=0;E<1024;++E)if(p.indexOf(p[b]+"_"+E)==-1){p[b]+="_"+E;break}}}}var k=pr(o["!ref"]),F=[],D=[],P=[];for(b=0;b<=k.e.c-k.s.c;++b){var S="",N="",B=0,V=[];for(E=0;E<g.length;++E)g[E][b]!=null&&V.push(g[E][b]);if(V.length==0||p[b]==null){F[b]="?";continue}for(E=0;E<V.length;++E){switch(typeof V[E]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=V[E]instanceof Date?"D":"C";break;default:N="C"}B=Math.max(B,String(V[E]).length),S=S&&S!=N?"C":N}B>250&&(B=250),N=((w[b]||{}).DBF||{}).type,N=="C"&&w[b].DBF.len>B&&(B=w[b].DBF.len),S=="B"&&N=="N"&&(S="N",P[b]=w[b].DBF.dec,B=w[b].DBF.len),D[b]=S=="C"||N=="N"?B:a[S]||0,I+=D[b],F[b]=S}var U=d.next(32);for(U.write_shift(4,318902576),U.write_shift(4,g.length),U.write_shift(2,296+32*T),U.write_shift(2,I),b=0;b<4;++b)U.write_shift(4,0);for(U.write_shift(4,0|(+e[W8]||3)<<8),b=0,E=0;b<p.length;++b)if(p[b]!=null){var L=d.next(32),j=(p[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,j,"sbcs"),L.write_shift(1,F[b]=="?"?"C":F[b],"sbcs"),L.write_shift(4,E),L.write_shift(1,D[b]||a[F[b]]||0),L.write_shift(1,P[b]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),E+=D[b]||a[F[b]]||0}var G=d.next(264);for(G.write_shift(4,13),b=0;b<65;++b)G.write_shift(4,0);for(b=0;b<g.length;++b){var se=d.next(I);for(se.write_shift(1,0),E=0;E<p.length;++E)if(p[E]!=null)switch(F[E]){case"L":se.write_shift(1,g[b][E]==null?63:g[b][E]?84:70);break;case"B":se.write_shift(8,g[b][E]||0,"f");break;case"N":var K="0";for(typeof g[b][E]=="number"&&(K=g[b][E].toFixed(P[E]||0)),T=0;T<D[E]-K.length;++T)se.write_shift(1,32);se.write_shift(1,K,"sbcs");break;case"D":g[b][E]?(se.write_shift(4,("0000"+g[b][E].getFullYear()).slice(-4),"sbcs"),se.write_shift(2,("00"+(g[b][E].getMonth()+1)).slice(-2),"sbcs"),se.write_shift(2,("00"+g[b][E].getDate()).slice(-2),"sbcs")):se.write_shift(8,"00000000","sbcs");break;case"C":var Y=String(g[b][E]!=null?g[b][E]:"").slice(0,D[E]);for(se.write_shift(1,Y,"sbcs"),T=0;T<D[E]-Y.length;++T)se.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:s,to_sheet:r,from_sheet:i}}(),iP=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ls(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(p,g){var w=t[g];return typeof w=="number"?BI(w):w},r=function(p,g,w){var b=g.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return b==59?p:BI(b)};t["|"]=254;function s(p,g){switch(g.type){case"base64":return a(zo(p),g);case"binary":return a(p,g);case"buffer":return a(Kn&&Buffer.isBuffer(p)?p.toString("binary"):of(p),g);case"array":return a(ch(p),g)}throw new Error("Unrecognized type "+g.type)}function a(p,g){var w=p.split(/[\n\r]+/),b=-1,E=-1,T=0,I=0,k=[],F=[],D=null,P={},S=[],N=[],B=[],V=0,U;for(+g.codepage>=0&&dc(+g.codepage);T!==w.length;++T){V=0;var L=w[T].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),j=L.replace(/;;/g,"\0").split(";").map(function(ne){return ne.replace(/\u0000/g,";")}),G=j[0],se;if(L.length>0)switch(G){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":j[1].charAt(0)=="P"&&F.push(L.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,Y=!1,oe=!1,Z=!1,ee=-1,he=-1;for(I=1;I<j.length;++I)switch(j[I].charAt(0)){case"A":break;case"X":E=parseInt(j[I].slice(1))-1,Y=!0;break;case"Y":for(b=parseInt(j[I].slice(1))-1,Y||(E=0),U=k.length;U<=b;++U)k[U]=[];break;case"K":se=j[I].slice(1),se.charAt(0)==='"'?se=se.slice(1,se.length-1):se==="TRUE"?se=!0:se==="FALSE"?se=!1:isNaN(mc(se))?isNaN(fm(se).getDate())||(se=is(se)):(se=mc(se),D!==null&&Rm(D)&&(se=ew(se))),K=!0;break;case"E":Z=!0;var O=X0(j[I].slice(1),{r:b,c:E});k[b][E]=[k[b][E],O];break;case"S":oe=!0,k[b][E]=[k[b][E],"S5S"];break;case"G":break;case"R":ee=parseInt(j[I].slice(1))-1;break;case"C":he=parseInt(j[I].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+L)}if(K&&(k[b][E]&&k[b][E].length==2?k[b][E][0]=se:k[b][E]=se,D=null),oe){if(Z)throw new Error("SYLK shared formula cannot have own formula");var q=ee>-1&&k[ee][he];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");k[b][E][1]=EP(q[1],{r:b-ee,c:E-he})}break;case"F":var J=0;for(I=1;I<j.length;++I)switch(j[I].charAt(0)){case"X":E=parseInt(j[I].slice(1))-1,++J;break;case"Y":for(b=parseInt(j[I].slice(1))-1,U=k.length;U<=b;++U)k[U]=[];break;case"M":V=parseInt(j[I].slice(1))/20;break;case"F":break;case"G":break;case"P":D=F[parseInt(j[I].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=j[I].slice(1).split(" "),U=parseInt(B[0],10);U<=parseInt(B[1],10);++U)V=parseInt(B[2],10),N[U-1]=V===0?{hidden:!0}:{wch:V},Zd(N[U-1]);break;case"C":E=parseInt(j[I].slice(1))-1,N[E]||(N[E]={});break;case"R":b=parseInt(j[I].slice(1))-1,S[b]||(S[b]={}),V>0?(S[b].hpt=V,S[b].hpx=mm(V)):V===0&&(S[b].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+L)}J<1&&(D=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+L)}}return S.length>0&&(P["!rows"]=S),N.length>0&&(P["!cols"]=N),g&&g.sheetRows&&(k=k.slice(0,g.sheetRows)),[k,P]}function i(p,g){var w=s(p,g),b=w[0],E=w[1],T=Um(b,g);return Ls(E).forEach(function(I){T[I]=E[I]}),T}function o(p,g){return lf(i(p,g),g)}function l(p,g,w,b){var E="C;Y"+(w+1)+";X"+(b+1)+";K";switch(p.t){case"n":E+=p.v||0,p.f&&!p.F&&(E+=";E"+$5(p.f,{r:w,c:b}));break;case"b":E+=p.v?"TRUE":"FALSE";break;case"e":E+=p.w||p.v;break;case"d":E+='"'+(p.w||p.v)+'"';break;case"s":E+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function A(p,g){g.forEach(function(w,b){var E="F;W"+(b+1)+" "+(b+1)+" ";w.hidden?E+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=zg(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=Kg(w.wpx)),typeof w.wch=="number"&&(E+=Math.round(w.wch))),E.charAt(E.length-1)!=" "&&p.push(E)})}function d(p,g){g.forEach(function(w,b){var E="F;";w.hidden?E+="M0;":w.hpt?E+="M"+20*w.hpt+";":w.hpx&&(E+="M"+20*qg(w.hpx)+";"),E.length>2&&p.push(E+"R"+(b+1))})}function h(p,g){var w=["ID;PWXL;N;E"],b=[],E=pr(p["!ref"]),T,I=Array.isArray(p),k=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),p["!cols"]&&A(w,p["!cols"]),p["!rows"]&&d(w,p["!rows"]),w.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var F=E.s.r;F<=E.e.r;++F)for(var D=E.s.c;D<=E.e.c;++D){var P=wn({r:F,c:D});T=I?(p[F]||[])[D]:p[P],!(!T||T.v==null&&(!T.f||T.F))&&b.push(l(T,p,F,D))}return w.join(k)+k+b.join(k)+k+"E"+k}return{to_workbook:o,to_sheet:i,from_sheet:h}}(),oP=function(){function t(a,i){switch(i.type){case"base64":return e(zo(a),i);case"binary":return e(a,i);case"buffer":return e(Kn&&Buffer.isBuffer(a)?a.toString("binary"):of(a),i);case"array":return e(ch(a),i)}throw new Error("Unrecognized type "+i.type)}function e(a,i){for(var o=a.split(`
`),l=-1,A=-1,d=0,h=[];d!==o.length;++d){if(o[d].trim()==="BOT"){h[++l]=[],A=0;continue}if(!(l<0)){var p=o[d].trim().split(","),g=p[0],w=p[1];++d;for(var b=o[d]||"";(b.match(/["]/g)||[]).length&1&&d<o.length-1;)b+=`
`+o[++d];switch(b=b.trim(),+g){case-1:if(b==="BOT"){h[++l]=[],A=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?h[l][A]=!0:b==="FALSE"?h[l][A]=!1:isNaN(mc(w))?isNaN(fm(w).getDate())?h[l][A]=w:h[l][A]=is(w):h[l][A]=mc(w),++A;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),h[l][A++]=b!==""?b:null;break}if(b==="EOD")break}}return i&&i.sheetRows&&(h=h.slice(0,i.sheetRows)),h}function n(a,i){return Um(t(a,i),i)}function r(a,i){return lf(n(a,i),i)}var s=function(){var a=function(l,A,d,h,p){l.push(A),l.push(d+","+h),l.push('"'+p.replace(/"/g,'""')+'"')},i=function(l,A,d,h){l.push(A+","+d),l.push(A==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var A=[],d=pr(l["!ref"]),h,p=Array.isArray(l);a(A,"TABLE",0,1,"sheetjs"),a(A,"VECTORS",0,d.e.r-d.s.r+1,""),a(A,"TUPLES",0,d.e.c-d.s.c+1,""),a(A,"DATA",0,0,"");for(var g=d.s.r;g<=d.e.r;++g){i(A,-1,0,"BOT");for(var w=d.s.c;w<=d.e.c;++w){var b=wn({r:g,c:w});if(h=p?(l[g]||[])[w]:l[b],!h){i(A,1,0,"");continue}switch(h.t){case"n":var E=h.w;!E&&h.v!=null&&(E=h.v),E==null?h.f&&!h.F?i(A,1,0,"="+h.f):i(A,1,0,""):i(A,0,E,"V");break;case"b":i(A,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":i(A,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Fl(h.z||gn[14],Ba(is(h.v)))),i(A,0,h.w,"V");break;default:i(A,1,0,"")}}}i(A,-1,0,"EOD");var T=`\r
`,I=A.join(T);return I}}();return{to_workbook:r,to_sheet:n,from_sheet:s}}(),lP=function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(h,p){for(var g=h.split(`
`),w=-1,b=-1,E=0,T=[];E!==g.length;++E){var I=g[E].trim().split(":");if(I[0]==="cell"){var k=ws(I[1]);if(T.length<=k.r)for(w=T.length;w<=k.r;++w)T[w]||(T[w]=[]);switch(w=k.r,b=k.c,I[2]){case"t":T[w][b]=t(I[3]);break;case"v":T[w][b]=+I[3];break;case"vtf":var F=I[I.length-1];case"vtc":switch(I[3]){case"nl":T[w][b]=!!+I[4];break;default:T[w][b]=+I[4];break}I[2]=="vtf"&&(T[w][b]=[T[w][b],F])}}}return p&&p.sheetRows&&(T=T.slice(0,p.sheetRows)),T}function r(h,p){return Um(n(h,p),p)}function s(h,p){return lf(r(h,p),p)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function A(h){if(!h||!h["!ref"])return"";for(var p=[],g=[],w,b="",E=xo(h["!ref"]),T=Array.isArray(h),I=E.s.r;I<=E.e.r;++I)for(var k=E.s.c;k<=E.e.c;++k)if(b=wn({r:I,c:k}),w=T?(h[I]||[])[k]:h[b],!(!w||w.v==null||w.t==="z")){switch(g=["cell",b,"t"],w.t){case"s":case"str":g.push(e(w.v));break;case"n":w.f?(g[2]="vtf",g[3]="n",g[4]=w.v,g[5]=e(w.f)):(g[2]="v",g[3]=w.v);break;case"b":g[2]="vt"+(w.f?"f":"c"),g[3]="nl",g[4]=w.v?"1":"0",g[5]=e(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var F=Ba(is(w.v));g[2]="vtc",g[3]="nd",g[4]=""+F,g[5]=w.w||Fl(w.z||gn[14],F);break;case"e":continue}p.push(g.join(":"))}return p.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function d(h){return[a,i,o,i,A(h),l].join(`
`)}return{to_workbook:s,to_sheet:r,from_sheet:d}}(),hm=function(){function t(d,h,p,g,w){w.raw?h[p][g]=d:d===""||(d==="TRUE"?h[p][g]=!0:d==="FALSE"?h[p][g]=!1:isNaN(mc(d))?isNaN(fm(d).getDate())?h[p][g]=d:h[p][g]=is(d):h[p][g]=mc(d))}function e(d,h){var p=h||{},g=[];if(!d||d.length===0)return g;for(var w=d.split(/[\r\n]/),b=w.length-1;b>=0&&w[b].length===0;)--b;for(var E=10,T=0,I=0;I<=b;++I)T=w[I].indexOf(" "),T==-1?T=w[I].length:T++,E=Math.max(E,T);for(I=0;I<=b;++I){g[I]=[];var k=0;for(t(w[I].slice(0,E).trim(),g,I,k,p),k=1;k<=(w[I].length-E)/10+1;++k)t(w[I].slice(E+(k-1)*10,E+k*10).trim(),g,I,k,p)}return p.sheetRows&&(g=g.slice(0,p.sheetRows)),g}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function s(d){for(var h={},p=!1,g=0,w=0;g<d.length;++g)(w=d.charCodeAt(g))==34?p=!p:!p&&w in n&&(h[w]=(h[w]||0)+1);w=[];for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&w.push([h[g],g]);if(!w.length){h=r;for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&w.push([h[g],g])}return w.sort(function(b,E){return b[0]-E[0]||r[b[1]]-r[E[1]]}),n[w.pop()[1]]||44}function a(d,h){var p=h||{},g="",w=p.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(g=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(g=d.charAt(4),d=d.slice(6)):g=s(d.slice(0,1024)):p&&p.FS?g=p.FS:g=s(d.slice(0,1024));var E=0,T=0,I=0,k=0,F=0,D=g.charCodeAt(0),P=!1,S=0,N=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var B=p.dateNF!=null?Rie(p.dateNF):null;function V(){var U=d.slice(k,F),L={};if(U.charAt(0)=='"'&&U.charAt(U.length-1)=='"'&&(U=U.slice(1,-1).replace(/""/g,'"')),U.length===0)L.t="z";else if(p.raw)L.t="s",L.v=U;else if(U.trim().length===0)L.t="s",L.v=U;else if(U.charCodeAt(0)==61)U.charCodeAt(1)==34&&U.charCodeAt(U.length-1)==34?(L.t="s",L.v=U.slice(2,-1).replace(/""/g,'"')):lde(U)?(L.t="n",L.f=U.slice(1)):(L.t="s",L.v=U);else if(U=="TRUE")L.t="b",L.v=!0;else if(U=="FALSE")L.t="b",L.v=!1;else if(!isNaN(I=mc(U)))L.t="n",p.cellText!==!1&&(L.w=U),L.v=I;else if(!isNaN(fm(U).getDate())||B&&U.match(B)){L.z=p.dateNF||gn[14];var j=0;B&&U.match(B)&&(U=Die(U,p.dateNF,U.match(B)||[]),j=1),p.cellDates?(L.t="d",L.v=is(U,j)):(L.t="n",L.v=Ba(is(U,j))),p.cellText!==!1&&(L.w=Fl(L.z,L.v instanceof Date?Ba(L.v):L.v)),p.cellNF||delete L.z}else L.t="s",L.v=U;if(L.t=="z"||(p.dense?(w[E]||(w[E]=[]),w[E][T]=L):w[wn({c:T,r:E})]=L),k=F+1,N=d.charCodeAt(k),b.e.c<T&&(b.e.c=T),b.e.r<E&&(b.e.r=E),S==D)++T;else if(T=0,++E,p.sheetRows&&p.sheetRows<=E)return!0}e:for(;F<d.length;++F)switch(S=d.charCodeAt(F)){case 34:N===34&&(P=!P);break;case D:case 10:case 13:if(!P&&V())break e;break}return F-k>0&&V(),w["!ref"]=Rn(b),w}function i(d,h){return!(h&&h.PRN)||h.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?a(d,h):Um(e(d,h),h)}function o(d,h){var p="",g=h.type=="string"?[0,0,0,0]:r4(d,h);switch(h.type){case"base64":p=zo(d);break;case"binary":p=d;break;case"buffer":h.codepage==65001?p=d.toString("utf8"):h.codepage&&typeof Mg<"u"||(p=Kn&&Buffer.isBuffer(d)?d.toString("binary"):of(d));break;case"array":p=ch(d);break;case"string":p=d;break;default:throw new Error("Unrecognized type "+h.type)}return g[0]==239&&g[1]==187&&g[2]==191?p=qr(p.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?p=qr(p):h.type=="binary"&&typeof Mg<"u",p.slice(0,19)=="socialcalc:version:"?lP.to_sheet(h.type=="string"?p:qr(p),h):i(p,h)}function l(d,h){return lf(o(d,h),h)}function A(d){for(var h=[],p=pr(d["!ref"]),g,w=Array.isArray(d),b=p.s.r;b<=p.e.r;++b){for(var E=[],T=p.s.c;T<=p.e.c;++T){var I=wn({r:b,c:T});if(g=w?(d[b]||[])[T]:d[I],!g||g.v==null){E.push("          ");continue}for(var k=(g.w||(wu(g),g.w)||"").slice(0,10);k.length<10;)k+=" ";E.push(k+(T===0?" ":""))}h.push(E.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:A}}();function Wce(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var s=iP.to_workbook(t,n);return n.WTF=r,s}catch(a){if(n.WTF=r,!a.message.match(/SYLK bad record ID/)&&r)throw a;return hm.to_workbook(t,e)}}var Jf=function(){function t(O,q,J){if(O){ei(O,O.l||0);for(var ne=J.Enum||ee;O.l<O.length;){var ae=O.read_shift(2),ue=ne[ae]||ne[65535],pe=O.read_shift(2),ye=O.l+pe,Ie=ue.f&&ue.f(O,pe,J);if(O.l=ye,q(Ie,ue,ae))return}}}function e(O,q){switch(q.type){case"base64":return n(Qo(zo(O)),q);case"binary":return n(Qo(O),q);case"buffer":case"array":return n(O,q)}throw"Unsupported type "+q.type}function n(O,q){if(!O)return O;var J=q||{},ne=J.dense?[]:{},ae="Sheet1",ue="",pe=0,ye={},Ie=[],we=[],ie={s:{r:0,c:0},e:{r:0,c:0}},De=J.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)J.Enum=ee,t(O,function(ze,nt,it){switch(it){case 0:J.vers=ze,ze>=4096&&(J.qpro=!0);break;case 6:ie=ze;break;case 204:ze&&(ue=ze);break;case 222:ue=ze;break;case 15:case 51:J.qpro||(ze[1].v=ze[1].v.slice(1));case 13:case 14:case 16:it==14&&(ze[2]&112)==112&&(ze[2]&15)>1&&(ze[2]&15)<15&&(ze[1].z=J.dateNF||gn[14],J.cellDates&&(ze[1].t="d",ze[1].v=ew(ze[1].v))),J.qpro&&ze[3]>pe&&(ne["!ref"]=Rn(ie),ye[ae]=ne,Ie.push(ae),ne=J.dense?[]:{},ie={s:{r:0,c:0},e:{r:0,c:0}},pe=ze[3],ae=ue||"Sheet"+(pe+1),ue="");var mt=J.dense?(ne[ze[0].r]||[])[ze[0].c]:ne[wn(ze[0])];if(mt){mt.t=ze[1].t,mt.v=ze[1].v,ze[1].z!=null&&(mt.z=ze[1].z),ze[1].f!=null&&(mt.f=ze[1].f);break}J.dense?(ne[ze[0].r]||(ne[ze[0].r]=[]),ne[ze[0].r][ze[0].c]=ze[1]):ne[wn(ze[0])]=ze[1];break}},J);else if(O[2]==26||O[2]==14)J.Enum=he,O[2]==14&&(J.qpro=!0,O.l=0),t(O,function(ze,nt,it){switch(it){case 204:ae=ze;break;case 22:ze[1].v=ze[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ze[3]>pe&&(ne["!ref"]=Rn(ie),ye[ae]=ne,Ie.push(ae),ne=J.dense?[]:{},ie={s:{r:0,c:0},e:{r:0,c:0}},pe=ze[3],ae="Sheet"+(pe+1)),De>0&&ze[0].r>=De)break;J.dense?(ne[ze[0].r]||(ne[ze[0].r]=[]),ne[ze[0].r][ze[0].c]=ze[1]):ne[wn(ze[0])]=ze[1],ie.e.c<ze[0].c&&(ie.e.c=ze[0].c),ie.e.r<ze[0].r&&(ie.e.r=ze[0].r);break;case 27:ze[14e3]&&(we[ze[14e3][0]]=ze[14e3][1]);break;case 1537:we[ze[0]]=ze[1],ze[0]==pe&&(ae=ze[1]);break}},J);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(ne["!ref"]=Rn(ie),ye[ue||ae]=ne,Ie.push(ue||ae),!we.length)return{SheetNames:Ie,Sheets:ye};for(var st={},Ue=[],Ee=0;Ee<we.length;++Ee)ye[Ie[Ee]]?(Ue.push(we[Ee]||Ie[Ee]),st[we[Ee]]=ye[we[Ee]]||ye[Ie[Ee]]):(Ue.push(we[Ee]),st[we[Ee]]={"!ref":"A1"});return{SheetNames:Ue,Sheets:st}}function r(O,q){var J=q||{};if(+J.codepage>=0&&dc(+J.codepage),J.type=="string")throw new Error("Cannot write WK1 to JS string");var ne=mo(),ae=pr(O["!ref"]),ue=Array.isArray(O),pe=[];Ut(ne,0,a(1030)),Ut(ne,6,l(ae));for(var ye=Math.min(ae.e.r,8191),Ie=ae.s.r;Ie<=ye;++Ie)for(var we=Js(Ie),ie=ae.s.c;ie<=ae.e.c;++ie){Ie===ae.s.r&&(pe[ie]=ys(ie));var De=pe[ie]+we,st=ue?(O[Ie]||[])[ie]:O[De];if(!(!st||st.t=="z"))if(st.t=="n")(st.v|0)==st.v&&st.v>=-32768&&st.v<=32767?Ut(ne,13,g(Ie,ie,st.v)):Ut(ne,14,b(Ie,ie,st.v));else{var Ue=wu(st);Ut(ne,15,h(Ie,ie,Ue.slice(0,239)))}}return Ut(ne,1),ne.end()}function s(O,q){var J=q||{};if(+J.codepage>=0&&dc(+J.codepage),J.type=="string")throw new Error("Cannot write WK3 to JS string");var ne=mo();Ut(ne,0,i(O));for(var ae=0,ue=0;ae<O.SheetNames.length;++ae)(O.Sheets[O.SheetNames[ae]]||{})["!ref"]&&Ut(ne,27,Z(O.SheetNames[ae],ue++));var pe=0;for(ae=0;ae<O.SheetNames.length;++ae){var ye=O.Sheets[O.SheetNames[ae]];if(!(!ye||!ye["!ref"])){for(var Ie=pr(ye["!ref"]),we=Array.isArray(ye),ie=[],De=Math.min(Ie.e.r,8191),st=Ie.s.r;st<=De;++st)for(var Ue=Js(st),Ee=Ie.s.c;Ee<=Ie.e.c;++Ee){st===Ie.s.r&&(ie[Ee]=ys(Ee));var ze=ie[Ee]+Ue,nt=we?(ye[st]||[])[Ee]:ye[ze];if(!(!nt||nt.t=="z"))if(nt.t=="n")Ut(ne,23,V(st,Ee,pe,nt.v));else{var it=wu(nt);Ut(ne,22,S(st,Ee,pe,it.slice(0,239)))}}++pe}}return Ut(ne,1),ne.end()}function a(O){var q=lt(2);return q.write_shift(2,O),q}function i(O){var q=lt(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var J=0,ne=0,ae=0,ue=0;ue<O.SheetNames.length;++ue){var pe=O.SheetNames[ue],ye=O.Sheets[pe];if(!(!ye||!ye["!ref"])){++ae;var Ie=xo(ye["!ref"]);J<Ie.e.r&&(J=Ie.e.r),ne<Ie.e.c&&(ne=Ie.e.c)}}return J>8191&&(J=8191),q.write_shift(2,J),q.write_shift(1,ae),q.write_shift(1,ne),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function o(O,q,J){var ne={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&J.qpro?(ne.s.c=O.read_shift(1),O.l++,ne.s.r=O.read_shift(2),ne.e.c=O.read_shift(1),O.l++,ne.e.r=O.read_shift(2),ne):(ne.s.c=O.read_shift(2),ne.s.r=O.read_shift(2),q==12&&J.qpro&&(O.l+=2),ne.e.c=O.read_shift(2),ne.e.r=O.read_shift(2),q==12&&J.qpro&&(O.l+=2),ne.s.c==65535&&(ne.s.c=ne.e.c=ne.s.r=ne.e.r=0),ne)}function l(O){var q=lt(8);return q.write_shift(2,O.s.c),q.write_shift(2,O.s.r),q.write_shift(2,O.e.c),q.write_shift(2,O.e.r),q}function A(O,q,J){var ne=[{c:0,r:0},{t:"n",v:0},0,0];return J.qpro&&J.vers!=20768?(ne[0].c=O.read_shift(1),ne[3]=O.read_shift(1),ne[0].r=O.read_shift(2),O.l+=2):(ne[2]=O.read_shift(1),ne[0].c=O.read_shift(2),ne[0].r=O.read_shift(2)),ne}function d(O,q,J){var ne=O.l+q,ae=A(O,q,J);if(ae[1].t="s",J.vers==20768){O.l++;var ue=O.read_shift(1);return ae[1].v=O.read_shift(ue,"utf8"),ae}return J.qpro&&O.l++,ae[1].v=O.read_shift(ne-O.l,"cstr"),ae}function h(O,q,J){var ne=lt(7+J.length);ne.write_shift(1,255),ne.write_shift(2,q),ne.write_shift(2,O),ne.write_shift(1,39);for(var ae=0;ae<ne.length;++ae){var ue=J.charCodeAt(ae);ne.write_shift(1,ue>=128?95:ue)}return ne.write_shift(1,0),ne}function p(O,q,J){var ne=A(O,q,J);return ne[1].v=O.read_shift(2,"i"),ne}function g(O,q,J){var ne=lt(7);return ne.write_shift(1,255),ne.write_shift(2,q),ne.write_shift(2,O),ne.write_shift(2,J,"i"),ne}function w(O,q,J){var ne=A(O,q,J);return ne[1].v=O.read_shift(8,"f"),ne}function b(O,q,J){var ne=lt(13);return ne.write_shift(1,255),ne.write_shift(2,q),ne.write_shift(2,O),ne.write_shift(8,J,"f"),ne}function E(O,q,J){var ne=O.l+q,ae=A(O,q,J);if(ae[1].v=O.read_shift(8,"f"),J.qpro)O.l=ne;else{var ue=O.read_shift(2);F(O.slice(O.l,O.l+ue),ae),O.l+=ue}return ae}function T(O,q,J){var ne=q&32768;return q&=-32769,q=(ne?O:0)+(q>=8192?q-16384:q),(ne?"":"$")+(J?ys(q):Js(q))}var I={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function F(O,q){ei(O,0);for(var J=[],ne=0,ae="",ue="",pe="",ye="";O.l<O.length;){var Ie=O[O.l++];switch(Ie){case 0:J.push(O.read_shift(8,"f"));break;case 1:ue=T(q[0].c,O.read_shift(2),!0),ae=T(q[0].r,O.read_shift(2),!1),J.push(ue+ae);break;case 2:{var we=T(q[0].c,O.read_shift(2),!0),ie=T(q[0].r,O.read_shift(2),!1);ue=T(q[0].c,O.read_shift(2),!0),ae=T(q[0].r,O.read_shift(2),!1),J.push(we+ie+":"+ue+ae)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:J.push("("+J.pop()+")");break;case 5:J.push(O.read_shift(2));break;case 6:{for(var De="";Ie=O[O.l++];)De+=String.fromCharCode(Ie);J.push('"'+De.replace(/"/g,'""')+'"')}break;case 8:J.push("-"+J.pop());break;case 23:J.push("+"+J.pop());break;case 22:J.push("NOT("+J.pop()+")");break;case 20:case 21:ye=J.pop(),pe=J.pop(),J.push(["AND","OR"][Ie-20]+"("+pe+","+ye+")");break;default:if(Ie<32&&k[Ie])ye=J.pop(),pe=J.pop(),J.push(pe+k[Ie]+ye);else if(I[Ie]){if(ne=I[Ie][1],ne==69&&(ne=O[O.l++]),ne>J.length){console.error("WK1 bad formula parse 0x"+Ie.toString(16)+":|"+J.join("|")+"|");return}var st=J.slice(-ne);J.length-=ne,J.push(I[Ie][0]+"("+st.join(",")+")")}else return Ie<=7?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=24?console.error("WK1 unsupported op "+Ie.toString(16)):Ie<=30?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=115?console.error("WK1 unsupported function opcode "+Ie.toString(16)):console.error("WK1 unrecognized opcode "+Ie.toString(16))}}J.length==1?q[1].f=""+J[0]:console.error("WK1 bad formula parse |"+J.join("|")+"|")}function D(O){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=O.read_shift(2),q[3]=O[O.l++],q[0].c=O[O.l++],q}function P(O,q){var J=D(O);return J[1].t="s",J[1].v=O.read_shift(q-4,"cstr"),J}function S(O,q,J,ne){var ae=lt(6+ne.length);ae.write_shift(2,O),ae.write_shift(1,J),ae.write_shift(1,q),ae.write_shift(1,39);for(var ue=0;ue<ne.length;++ue){var pe=ne.charCodeAt(ue);ae.write_shift(1,pe>=128?95:pe)}return ae.write_shift(1,0),ae}function N(O,q){var J=D(O);J[1].v=O.read_shift(2);var ne=J[1].v>>1;if(J[1].v&1)switch(ne&7){case 0:ne=(ne>>3)*5e3;break;case 1:ne=(ne>>3)*500;break;case 2:ne=(ne>>3)/20;break;case 3:ne=(ne>>3)/200;break;case 4:ne=(ne>>3)/2e3;break;case 5:ne=(ne>>3)/2e4;break;case 6:ne=(ne>>3)/16;break;case 7:ne=(ne>>3)/64;break}return J[1].v=ne,J}function B(O,q){var J=D(O),ne=O.read_shift(4),ae=O.read_shift(4),ue=O.read_shift(2);if(ue==65535)return ne===0&&ae===3221225472?(J[1].t="e",J[1].v=15):ne===0&&ae===3489660928?(J[1].t="e",J[1].v=42):J[1].v=0,J;var pe=ue&32768;return ue=(ue&32767)-16446,J[1].v=(1-pe*2)*(ae*Math.pow(2,ue+32)+ne*Math.pow(2,ue)),J}function V(O,q,J,ne){var ae=lt(14);if(ae.write_shift(2,O),ae.write_shift(1,J),ae.write_shift(1,q),ne==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var ue=0,pe=0,ye=0,Ie=0;return ne<0&&(ue=1,ne=-ne),pe=Math.log2(ne)|0,ne/=Math.pow(2,pe-31),Ie=ne>>>0,(Ie&2147483648)==0&&(ne/=2,++pe,Ie=ne>>>0),ne-=Ie,Ie|=2147483648,Ie>>>=0,ne*=Math.pow(2,32),ye=ne>>>0,ae.write_shift(4,ye),ae.write_shift(4,Ie),pe+=16383+(ue?32768:0),ae.write_shift(2,pe),ae}function U(O,q){var J=B(O);return O.l+=q-14,J}function L(O,q){var J=D(O),ne=O.read_shift(4);return J[1].v=ne>>6,J}function j(O,q){var J=D(O),ne=O.read_shift(8,"f");return J[1].v=ne,J}function G(O,q){var J=j(O);return O.l+=q-10,J}function se(O,q){return O[O.l+q-1]==0?O.read_shift(q,"cstr"):""}function K(O,q){var J=O[O.l++];J>q-1&&(J=q-1);for(var ne="";ne.length<J;)ne+=String.fromCharCode(O[O.l++]);return ne}function Y(O,q,J){if(!(!J.qpro||q<21)){var ne=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var ae=O.read_shift(q-21,"cstr");return[ne,ae]}}function oe(O,q){for(var J={},ne=O.l+q;O.l<ne;){var ae=O.read_shift(2);if(ae==14e3){for(J[ae]=[0,""],J[ae][0]=O.read_shift(2);O[O.l];)J[ae][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return J}function Z(O,q){var J=lt(5+O.length);J.write_shift(2,14e3),J.write_shift(2,q);for(var ne=0;ne<O.length;++ne){var ae=O.charCodeAt(ne);J[J.l++]=ae>127?95:ae}return J[J.l++]=0,J}var ee={0:{n:"BOF",f:Aa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:se},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},he={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:U},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:oe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:j},40:{n:"FORMULA28",f:G},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:se},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Y},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:s,to_workbook:e}}();function $ce(t){var e={},n=t.match(Pi),r=0,s=!1;if(n)for(;r!=n.length;++r){var a=_n(n[r]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;e.cp=y5[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=a.val;break;case"<sz":e.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":a.rgb&&(e.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(a[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+a[0])}}return e}var Yce=function(){var t=jg("t"),e=jg("rPr");function n(a){var i=a.match(t);if(!i)return{t:"s",v:""};var o={t:"s",v:mr(i[1])},l=a.match(e);return l&&(o.s=$ce(l[1])),o}var r=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(i){return i.replace(r,"").split(s).map(n).filter(function(o){return o.v})}}(),Jce=function(){var e=/(\r\n|\n)/g;function n(s,a,i){var o=[];s.u&&o.push("text-decoration: underline;"),s.uval&&o.push("text-underline-style:"+s.uval+";"),s.sz&&o.push("font-size:"+s.sz+"pt;"),s.outline&&o.push("text-effect: outline;"),s.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),s.b&&(a.push("<b>"),i.push("</b>")),s.i&&(a.push("<i>"),i.push("</i>")),s.strike&&(a.push("<s>"),i.push("</s>"));var l=s.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(a.push("<"+l+">"),i.push("</"+l+">")),i.push("</span>"),s}function r(s){var a=[[],s.v,[]];return s.v?(s.s&&n(s.s,a[0],a[2]),a[0].join("")+a[1].replace(e,"<br/>")+a[2].join("")):""}return function(a){return a.map(r).join("")}}(),Xce=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Zce=/<(?:\w+:)?r>/,eAe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function G5(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=mr(qr(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=qr(t),n&&(r.h=k5(r.t))):t.match(Zce)&&(r.r=qr(t),r.t=mr(qr((t.replace(eAe,"").match(Xce)||[]).join("").replace(Pi,""))),n&&(r.h=Jce(Yce(r.r)))),r):{t:""}}var tAe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,nAe=/<(?:\w+:)?(?:si|sstItem)>/g,rAe=/<\/(?:\w+:)?(?:si|sstItem)>/;function sAe(t,e){var n=[],r="";if(!t)return n;var s=t.match(tAe);if(s){r=s[2].replace(nAe,"").split(rAe);for(var a=0;a!=r.length;++a){var i=G5(r[a].trim(),e);i!=null&&(n[n.length]=i)}s=_n(s[1]),n.Count=s.count,n.Unique=s.uniqueCount}return n}var aAe=/^\s|\s$|[\t\n\r]/;function cP(t,e){if(!e.bookSST)return"";var n=[Xs];n[n.length]=Dt("sst",null,{xmlns:bh[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var s=t[r],a="<si>";s.r?a+=s.r:(a+="<t",s.t||(s.t=""),s.t.match(aAe)&&(a+=' xml:space="preserve"'),a+=">"+Pr(s.t)+"</t>"),a+="</si>",n[n.length]=a}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function iAe(t){return[t.read_shift(4),t.read_shift(4)]}function oAe(t,e){var n=[],r=!1;return Bu(t,function(a,i,o){switch(o){case 159:n.Count=a[0],n.Unique=a[1];break;case 19:n.push(a);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(i.T,!r||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function lAe(t,e){return e||(e=lt(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var cAe=voe;function AAe(t){var e=mo();bt(e,159,lAe(t));for(var n=0;n<t.length;++n)bt(e,19,cAe(t[n]));return bt(e,160),e.end()}function AP(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function hu(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function uAe(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=hu(t,4),e.U=hu(t,4),e.W=hu(t,4),e}function dAe(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},s=t.read_shift(4),a=[];s-- >0;)a.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=a,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function fAe(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(dAe(t));return e}function hAe(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function mAe(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=hu(t,4),e.U=hu(t,4),e.W=hu(t,4),e}function pAe(t){var e=mAe(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function uP(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var s=!1;switch(r.AlgID){case 26126:case 26127:case 26128:s=r.Flags==36;break;case 26625:s=r.Flags==4;break;case 0:s=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function dP(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function gAe(t){var e=hu(t);switch(e.Minor){case 2:return[e.Minor,xAe(t)];case 3:return[e.Minor,vAe()];case 4:return[e.Minor,yAe(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function xAe(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=uP(t,n),s=dP(t,t.length-t.l);return{t:"Std",h:r,v:s}}function vAe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function yAe(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Pi,function(a){var i=_n(a);switch(bA(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){r[o]=i[o]});break;case"<dataIntegrity":r.encryptedHmacKey=i.encryptedHmacKey,r.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(i);break;default:throw i[0]}}),r}function wAe(t,e){var n={},r=n.EncryptionVersionInfo=hu(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var s=t.read_shift(4);return e-=4,n.EncryptionHeader=uP(t,s),e-=s,n.EncryptionVerifier=dP(t,e),n}function bAe(t){var e={},n=e.EncryptionVersionInfo=hu(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function z5(t){var e=0,n,r=AP(t),s=r.length+1,a,i,o,l,A;for(n=Xd(s),n[0]=r.length,a=1;a!=s;++a)n[a]=r[a-1];for(a=s-1;a>=0;--a)i=n[a],o=(e&16384)===0?0:1,l=e<<1&32767,A=o|l,e=A^i;return e^52811}var fP=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(i){return(i/2|i*128)&255},s=function(i,o){return r(i^o)},a=function(i){for(var o=e[i.length-1],l=104,A=i.length-1;A>=0;--A)for(var d=i[A],h=0;h!=7;++h)d&64&&(o^=n[l]),d*=2,--l;return o};return function(i){for(var o=AP(i),l=a(o),A=o.length,d=Xd(16),h=0;h!=16;++h)d[h]=0;var p,g,w;for((A&1)===1&&(p=l>>8,d[A]=s(t[0],p),--A,p=l&255,g=o[o.length-1],d[A]=s(g,p));A>0;)--A,p=l>>8,d[A]=s(o[A],p),--A,p=l&255,d[A]=s(o[A],p);for(A=15,w=15-o.length;w>0;)p=l>>8,d[A]=s(t[w],p),--A,--w,p=l&255,d[A]=s(o[A],p),--A,--w;return d}}(),CAe=function(t,e,n,r,s){s||(s=e),r||(r=fP(t));var a,i;for(a=0;a!=e.length;++a)i=e[a],i^=r[n],i=(i>>5|i<<3)&255,s[a]=i,++n;return[s,n,r]},EAe=function(t){var e=0,n=fP(t);return function(r){var s=CAe("",r,e,n);return e=s[1],s[0]}};function _Ae(t,e,n,r){var s={key:Aa(t),verificationBytes:Aa(t)};return n.password&&(s.verifier=z5(n.password)),r.valid=s.verificationBytes===s.verifier,r.valid&&(r.insitu=EAe(n.password)),s}function SAe(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=bAe(t):r.Data=wAe(t,e),r}function TAe(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?SAe(t,e-2,r):_Ae(t,n.biff>=8?e:e-2,n,r),r}var hP=function(){function t(s,a){switch(a.type){case"base64":return e(zo(s),a);case"binary":return e(s,a);case"buffer":return e(Kn&&Buffer.isBuffer(s)?s.toString("binary"):of(s),a);case"array":return e(ch(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){var i=a||{},o=i.dense?[]:{},l=s.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var A={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,h){Array.isArray(o)&&(o[h]=[]);for(var p=/\\\w+\b/g,g=0,w,b=-1;w=p.exec(d);){switch(w[0]){case"\\cell":var E=d.slice(g,p.lastIndex-w[0].length);if(E[0]==" "&&(E=E.slice(1)),++b,E.length){var T={v:E,t:"s"};Array.isArray(o)?o[h][b]=T:o[wn({r:h,c:b})]=T}break}g=p.lastIndex}b>A.e.c&&(A.e.c=b)}),o["!ref"]=Rn(A),o}function n(s,a){return lf(t(s,a),a)}function r(s){for(var a=["{\\rtf1\\ansi"],i=pr(s["!ref"]),o,l=Array.isArray(s),A=i.s.r;A<=i.e.r;++A){a.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)a.push("\\cellx"+(d+1));for(a.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var h=wn({r:A,c:d});o=l?(s[A]||[])[d]:s[h],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(wu(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}}();function BAe(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Gg(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function NAe(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.max(e,n,r),a=Math.min(e,n,r),i=s-a;if(i===0)return[0,0,e];var o=0,l=0,A=s+a;switch(l=i/(A>1?2-A:A),s){case e:o=((n-r)/i+6)%6;break;case n:o=(r-e)/i+2;break;case r:o=(e-n)/i+4;break}return[o/6,l,A/2]}function kAe(t){var e=t[0],n=t[1],r=t[2],s=n*2*(r<.5?r:1-r),a=r-s/2,i=[a,a,a],o=6*e,l;if(n!==0)switch(o|0){case 0:case 6:l=s*o,i[0]+=s,i[1]+=l;break;case 1:l=s*(2-o),i[0]+=l,i[1]+=s;break;case 2:l=s*(o-2),i[1]+=s,i[2]+=l;break;case 3:l=s*(4-o),i[1]+=l,i[2]+=s;break;case 4:l=s*(o-4),i[2]+=s,i[0]+=l;break;case 5:l=s*(6-o),i[2]+=l,i[0]+=s;break}for(var A=0;A!=3;++A)i[A]=Math.round(i[A]*255);return i}function q2(t,e){if(e===0)return t;var n=NAe(BAe(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),Gg(kAe(n))}var mP=6,IAe=15,FAe=1,ki=mP;function zg(t){return Math.floor((t+Math.round(128/ki)/256)*ki)}function Kg(t){return Math.floor((t-5)/ki*100+.5)/100}function W2(t){return Math.round((t*ki+5)/ki*256)/256}function _C(t){return W2(Kg(zg(t)))}function K5(t){var e=Math.abs(t-_C(t)),n=ki;if(e>.005)for(ki=FAe;ki<IAe;++ki)Math.abs(t-_C(t))<=e&&(e=Math.abs(t-_C(t)),n=ki);ki=n}function Zd(t){t.width?(t.wpx=zg(t.width),t.wch=Kg(t.wpx),t.MDW=ki):t.wpx?(t.wch=Kg(t.wpx),t.width=W2(t.wch),t.MDW=ki):typeof t.wch=="number"&&(t.width=W2(t.wch),t.wpx=zg(t.width),t.MDW=ki),t.customWidth&&delete t.customWidth}var RAe=96,pP=RAe;function qg(t){return t*96/pP}function mm(t){return t*pP/96}var DAe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function UAe(t,e,n,r){e.Borders=[];var s={},a=!1;(t[0].match(Pi)||[]).forEach(function(i){var o=_n(i);switch(bA(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},o.diagonalUp&&(s.diagonalUp=ns(o.diagonalUp)),o.diagonalDown&&(s.diagonalDown=ns(o.diagonalDown)),e.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function LAe(t,e,n,r){e.Fills=[];var s={},a=!1;(t[0].match(Pi)||[]).forEach(function(i){var o=_n(i);switch(bA(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},e.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":o.patternType&&(s.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),o.indexed&&(s.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(s.bgColor.theme=parseInt(o.theme,10)),o.tint&&(s.bgColor.tint=parseFloat(o.tint)),o.rgb&&(s.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),o.theme&&(s.fgColor.theme=parseInt(o.theme,10)),o.tint&&(s.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(s.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function MAe(t,e,n,r){e.Fonts=[];var s={},a=!1;(t[0].match(Pi)||[]).forEach(function(i){var o=_n(i);switch(bA(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(s),s={};break;case"<name":o.val&&(s.name=qr(o.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=o.val?ns(o.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=o.val?ns(o.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(o.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=o.val?ns(o.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=o.val?ns(o.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=o.val?ns(o.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=o.val?ns(o.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=o.val?ns(o.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":o.val&&(s.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(s.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(s.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(s.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=y5[parseInt(o.val,10)];break;case"<color":if(s.color||(s.color={}),o.auto&&(s.color.auto=ns(o.auto)),o.rgb)s.color.rgb=o.rgb.slice(-6);else if(o.indexed){s.color.index=parseInt(o.indexed,10);var l=$f[s.color.index];s.color.index==81&&(l=$f[1]),l||(l=$f[1]),s.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(s.color.theme=parseInt(o.theme,10),o.tint&&(s.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(s.color.rgb=q2(n.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function PAe(t,e,n){e.NumberFmt=[];for(var r=Ls(gn),s=0;s<r.length;++s)e.NumberFmt[r[s]]=gn[r[s]];var a=t[0].match(Pi);if(a)for(s=0;s<a.length;++s){var i=_n(a[s]);switch(bA(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=mr(qr(i.formatCode)),l=parseInt(i.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}fu(o,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}function OAe(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=Dt("numFmt",null,{numFmtId:r,formatCode:Pr(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Dt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var X1=["numFmtId","fillId","fontId","borderId","xfId"],Z1=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function jAe(t,e,n){e.CellXf=[];var r,s=!1;(t[0].match(Pi)||[]).forEach(function(a){var i=_n(a),o=0;switch(bA(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=i,delete r[0],o=0;o<X1.length;++o)r[X1[o]]&&(r[X1[o]]=parseInt(r[X1[o]],10));for(o=0;o<Z1.length;++o)r[Z1[o]]&&(r[Z1[o]]=ns(r[Z1[o]]));if(e.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};i.vertical&&(l.vertical=i.vertical),i.horizontal&&(l.horizontal=i.horizontal),i.textRotation!=null&&(l.textRotation=i.textRotation),i.indent&&(l.indent=i.indent),i.wrapText&&(l.wrapText=ns(i.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}function QAe(t){var e=[];return e[e.length]=Dt("cellXfs",null),t.forEach(function(n){e[e.length]=Dt("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Dt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var HAe=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,A){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=o.match(e))&&PAe(h,d,A),(h=o.match(s))&&MAe(h,d,l,A),(h=o.match(r))&&LAe(h,d,l,A),(h=o.match(a))&&UAe(h,d,l,A),(h=o.match(n))&&jAe(h,d,A),d}}();function gP(t,e){var n=[Xs,Dt("styleSheet",null,{xmlns:bh[0],"xmlns:vt":Ea.vt})],r;return t.SSF&&(r=OAe(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=QAe(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function VAe(t,e){var n=t.read_shift(2),r=Di(t);return[n,r]}function GAe(t,e,n){n||(n=lt(6+4*e.length)),n.write_shift(2,t),Ha(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function zAe(t,e,n){var r={};r.sz=t.read_shift(2)/20;var s=Soe(t);s.fItalic&&(r.italic=1),s.fCondense&&(r.condense=1),s.fExtend&&(r.extend=1),s.fShadow&&(r.shadow=1),s.fOutline&&(r.outline=1),s.fStrikeout&&(r.strike=1);var a=t.read_shift(2);switch(a===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var i=t.read_shift(1);i!=0&&(r.underline=i);var o=t.read_shift(1);o>0&&(r.family=o);var l=t.read_shift(1);switch(l>0&&(r.charset=l),t.l++,r.color=_oe(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Di(t),r}function KAe(t,e){e||(e=lt(153)),e.write_shift(2,t.sz*20),Toe(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),G2(t.color,e);var r=0;return r=2,e.write_shift(1,r),Ha(t.name,e),e.length>e.l?e.slice(0,e.l):e}var qAe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],SC,WAe=Li;function xF(t,e){e||(e=lt(84)),SC||(SC=Xy(qAe));var n=SC[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(G2({auto:1},e),G2({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function $Ae(t,e){var n=t.l+e,r=t.read_shift(2),s=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:s}}function xP(t,e,n){n||(n=lt(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Bp(t,e){return e||(e=lt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var YAe=Li;function JAe(t,e){return e||(e=lt(51)),e.write_shift(1,0),Bp(null,e),Bp(null,e),Bp(null,e),Bp(null,e),Bp(null,e),e.length>e.l?e.slice(0,e.l):e}function XAe(t,e){return e||(e=lt(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),V2(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function ZAe(t,e,n){var r=lt(2052);return r.write_shift(4,t),V2(e,r),V2(n,r),r.length>r.l?r.slice(0,r.l):r}function eue(t,e,n){var r={};r.NumberFmt=[];for(var s in gn)r.NumberFmt[s]=gn[s];r.CellXf=[],r.Fonts=[];var a=[],i=!1;return Bu(t,function(l,A,d){switch(d){case 44:r.NumberFmt[l[0]]=l[1],fu(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=q2(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:a.push(d),i=!0;break;case 38:a.pop(),i=!1;break;default:if(A.T>0)a.push(d);else if(A.T<0)a.pop();else if(!i||n.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),r}function tue(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&++n}),n!=0&&(bt(t,615,pc(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&bt(t,44,GAe(s,e[s]))}),bt(t,616))}}function nue(t){var e=1;bt(t,611,pc(e)),bt(t,43,KAe({sz:12,color:{theme:1},name:"Calibri",family:2})),bt(t,612)}function rue(t){var e=2;bt(t,603,pc(e)),bt(t,45,xF({patternType:"none"})),bt(t,45,xF({patternType:"gray125"})),bt(t,604)}function sue(t){var e=1;bt(t,613,pc(e)),bt(t,46,JAe()),bt(t,614)}function aue(t){var e=1;bt(t,626,pc(e)),bt(t,47,xP({numFmtId:0},65535)),bt(t,627)}function iue(t,e){bt(t,617,pc(e.length)),e.forEach(function(n){bt(t,47,xP(n,0))}),bt(t,618)}function oue(t){var e=1;bt(t,619,pc(e)),bt(t,48,XAe({xfId:0,name:"Normal"})),bt(t,620)}function lue(t){var e=0;bt(t,505,pc(e)),bt(t,506)}function cue(t){var e=0;bt(t,508,ZAe(e,"TableStyleMedium9","PivotStyleMedium4")),bt(t,509)}function Aue(t,e){var n=mo();return bt(n,278),tue(n,t.SSF),nue(n),rue(n),sue(n),aue(n),iue(n,e.cellXfs),oue(n),lue(n),cue(n),bt(n,279),n.end()}var uue=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function due(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Pi)||[]).forEach(function(s){var a=_n(s);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=a.val;break;case"<a:sysClr":r.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(e.themeElements.clrScheme[uue.indexOf(a[0])]=r,r={}):r.name=a[0].slice(3,a[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function fue(){}function hue(){}var mue=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,pue=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,gue=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function xue(t,e,n){e.themeElements={};var r;[["clrScheme",mue,due],["fontScheme",pue,fue],["fmtScheme",gue,hue]].forEach(function(s){if(!(r=t.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](r,e,n)})}var vue=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function vP(t,e){(!t||t.length===0)&&(t=q5());var n,r={};if(!(n=t.match(vue)))throw new Error("themeElements not found in theme");return xue(n[0],r,e),r.raw=t,r}function q5(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[Xs];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function yue(t,e,n){var r=t.l+e,s=t.read_shift(4);if(s!==124226){if(!n.cellStyles){t.l=r;return}var a=t.slice(t.l);t.l=r;var i;try{i=uM(a,{type:"array"})}catch{return}var o=Ho(i,"theme/theme/theme1.xml",!0);if(o)return vP(o,n)}}function wue(t){return t.read_shift(4)}function bue(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=Cue(t,4);break;case 2:e.xclrValue=XM(t);break;case 3:e.xclrValue=wue(t);break;case 4:t.l+=4;break}return t.l+=8,e}function Cue(t,e){return Li(t,e)}function Eue(t,e){return Li(t,e)}function _ue(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=bue(t);break;case 6:r[1]=Eue(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function Sue(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var s=t.read_shift(2),a=[];s-- >0;)a.push(_ue(t,n-t.l));return{ixfe:r,ext:a}}function Tue(t,e){e.forEach(function(n){n[0]})}function Bue(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Di(t)}}function Nue(t){var e=lt(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Ha(t.name,e),e.slice(0,e.l)}function kue(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function Iue(t){var e=lt(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function Fue(t,e){var n=lt(8+2*e.length);return n.write_shift(4,t),Ha(e,n),n.slice(0,n.l)}function Rue(t){return t.l+=4,t.read_shift(4)!=0}function Due(t,e){var n=lt(8);return n.write_shift(4,t),n.write_shift(4,1),n}function Uue(t,e,n){var r={Types:[],Cell:[],Value:[]},s=n||{},a=[],i=!1,o=2;return Bu(t,function(l,A,d){switch(d){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(h){o==1?r.Cell.push({type:r.Types[h[0]-1].name,index:h[1]}):o==0&&r.Value.push({type:r.Types[h[0]-1].name,index:h[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:a.push(d),i=!0;break;case 36:a.pop(),i=!1;break;default:if(!A.T){if(!i||s.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function Lue(){var t=mo();return bt(t,332),bt(t,334,pc(1)),bt(t,335,Nue({name:"XLDAPR",version:12e4,flags:3496657072})),bt(t,336),bt(t,339,Fue(1,"XLDAPR")),bt(t,52),bt(t,35,pc(514)),bt(t,4096,pc(0)),bt(t,4097,bl(1)),bt(t,36),bt(t,53),bt(t,340),bt(t,337,Due(1)),bt(t,51,Iue([[1,0]])),bt(t,338),bt(t,333),t.end()}function Mue(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var s=!1,a=2,i;return t.replace(Pi,function(o){var l=_n(o);switch(bA(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var A=0;A<r.Types.length;++A)r.Types[A].name==l.name&&(i=r.Types[A]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):a==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+l.i);break;default:if(!s&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),r}function yP(){var t=[Xs];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Pue(t){var e=[];if(!t)return e;var n=1;return(t.match(Pi)||[]).forEach(function(r){var s=_n(r);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?n=s.i:s.i=n,e.push(s);break}}),e}function Oue(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=wn(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function jue(t,e,n){var r=[];return Bu(t,function(a,i,o){switch(o){case 63:r.push(a);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Que(t,e,n,r){if(!t)return t;var s=r||{},a=!1;Bu(t,function(o,l,A){switch(A){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!l.T){if(!a||s.WTF)throw new Error("Unexpected record 0x"+A.toString(16))}}},s)}function Hue(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}var D0=1024;function wP(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),s=[Dt("xml",null,{"xmlns:v":Oo.v,"xmlns:o":Oo.o,"xmlns:x":Oo.x,"xmlns:mv":Oo.mv}).replace(/\/>/,">"),Dt("o:shapelayout",Dt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Dt("v:shapetype",[Dt("v:stroke",null,{joinstyle:"miter"}),Dt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];D0<t*1e3;)D0+=1e3;return e.forEach(function(a){var i=ws(a[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?Dt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,A=Dt("v:fill",l,o),d={on:"t",obscured:"t"};++D0,s=s.concat(["<v:shape"+Qg({id:"_x0000_s"+D0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",A,Dt("v:shadow",null,d),Dt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ni("x:Anchor",[i.c+1,0,i.r+1,0,i.c+3,20,i.r+5,20].join(",")),ni("x:AutoFill","False"),ni("x:Row",String(i.r)),ni("x:Column",String(i.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function vF(t,e,n,r){var s=Array.isArray(t),a;e.forEach(function(i){var o=ws(i.ref);if(s?(t[o.r]||(t[o.r]=[]),a=t[o.r][o.c]):a=t[i.ref],!a){a={t:"z"},s?t[o.r][o.c]=a:t[i.ref]=a;var l=pr(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var A=Rn(l);A!==t["!ref"]&&(t["!ref"]=A)}a.c||(a.c=[]);var d={a:i.author,t:i.t,r:i.r,T:n};i.h&&(d.h=i.h);for(var h=a.c.length-1;h>=0;--h){if(!n&&a.c[h].T)return;n&&!a.c[h].T&&a.c.splice(h,1)}if(n&&r){for(h=0;h<r.length;++h)if(d.a==r[h].id){d.a=r[h].name||d.a;break}}a.c.push(d)})}function Vue(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],s=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&n.push(o[1])}});var a=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=_n(o[0]),A={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=ws(l.ref);if(!(e.sheetRows&&e.sheetRows<=d.r)){var h=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!h&&!!h[1]&&G5(h[1])||{r:"",t:"",h:""};A.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),A.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(A.h=p.h),r.push(A)}}}}),r}function bP(t){var e=[Xs,Dt("comments",null,{xmlns:bh[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(s){var a=Pr(s.a);n.indexOf(a)==-1&&(n.push(a),e.push("<author>"+a+"</author>")),s.T&&s.ID&&n.indexOf("tc="+s.ID)==-1&&(n.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var s=0,a=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?s=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(s=n.indexOf(Pr(l.a))),a.push(l.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+s+'"><text>'),a.length<=1)e.push(ni("t",Pr(a[0]||"")));else{for(var i=`Comment:
    `+a[0]+`
`,o=1;o<a.length;++o)i+=`Reply:
    `+a[o]+`
`;e.push(ni("t",Pr(i)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function Gue(t,e){var n=[],r=!1,s={},a=0;return t.replace(Pi,function(o,l){var A=_n(o);switch(bA(A[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:A.personId,guid:A.id,ref:A.ref,T:1};break;case"</threadedComment>":s.t!=null&&n.push(s);break;case"<text>":case"<text":a=l+o.length;break;case"</text>":s.t=t.slice(a,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+A[0]+" in threaded comments")}return o}),n}function zue(t,e,n){var r=[Xs,Dt("ThreadedComments",null,{xmlns:Ea.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var a="";(s[1]||[]).forEach(function(i,o){if(!i.T){delete i.ID;return}i.a&&e.indexOf(i.a)==-1&&e.push(i.a);var l={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};o==0?a=l.id:l.parentId=a,i.ID=l.id,i.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(i.a)).slice(-12)+"}"),r.push(Dt("threadedComment",ni("text",i.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function Kue(t,e){var n=[],r=!1;return t.replace(Pi,function(a){var i=_n(a);switch(bA(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return a}),n}function que(t){var e=[Xs,Dt("personList",null,{xmlns:Ea.TCMNT,"xmlns:x":bh[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(Dt("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Wue(t){var e={};e.iauthor=t.read_shift(4);var n=Sh(t);return e.rfx=n.s,e.ref=wn(n.s),t.l+=16,e}function $ue(t,e){return e==null&&(e=lt(36)),e.write_shift(4,t[1].iauthor),Lm(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Yue=Di;function Jue(t){return Ha(t.slice(0,54))}function Xue(t,e){var n=[],r=[],s={},a=!1;return Bu(t,function(o,l,A){switch(A){case 632:r.push(o);break;case 635:s=o;break;case 637:s.t=o.t,s.h=o.h,s.r=o.r;break;case 636:if(s.author=r[s.iauthor],delete s.iauthor,e.sheetRows&&s.rfx&&e.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,n.push(s);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!a||e.WTF)throw new Error("Unexpected record 0x"+A.toString(16))}}}),n}function Zue(t){var e=mo(),n=[];return bt(e,628),bt(e,630),t.forEach(function(r){r[1].forEach(function(s){n.indexOf(s.a)>-1||(n.push(s.a.slice(0,54)),bt(e,632,Jue(s.a)))})}),bt(e,631),bt(e,633),t.forEach(function(r){r[1].forEach(function(s){s.iauthor=n.indexOf(s.a);var a={s:ws(r[0]),e:ws(r[0])};bt(e,635,$ue([a,s])),s.t&&s.t.length>0&&bt(e,637,woe(s)),bt(e,636),delete s.iauthor})}),bt(e,634),bt(e,629),e.end()}var ede="application/vnd.ms-office.vbaProject";function tde(t){var e=ln.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var s=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");ln.utils.cfb_add(e,s,t.FileIndex[r].content)}}),ln.write(e)}function nde(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var s=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&ln.utils.cfb_add(t,s,e.FileIndex[r].content)}})}var CP=["xlsb","xlsm","xlam","biff8","xla"];function rde(){return{"!type":"dialog"}}function sde(){return{"!type":"dialog"}}function ade(){return{"!type":"macro"}}function ide(){return{"!type":"macro"}}var X0=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,s,a,i){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var A=a.length>0?parseInt(a,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return o?d+=e.c:--d,l?A+=e.r:--A,s+(o?"":"$")+ys(d)+(l?"":"$")+Js(A)}return function(s,a){return e=a,s.replace(t,n)}}(),W5=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,$5=function(){return function(e,n){return e.replace(W5,function(r,s,a,i,o,l){var A=U5(i)-(a?0:n.c),d=D5(l)-(o?0:n.r),h=d==0?"":o?d+1:"["+d+"]",p=A==0?"":a?A+1:"["+A+"]";return s+"R"+h+"C"+p})}}();function EP(t,e){return t.replace(W5,function(n,r,s,a,i,o){return r+(s=="$"?s+a:ys(U5(a)+e.c))+(i=="$"?i+o:Js(D5(o)+e.r))})}function ode(t,e,n){var r=xo(e),s=r.s,a=ws(n),i={r:a.r-s.r,c:a.c-s.c};return EP(t,i)}function lde(t){return t.length!=1}function yF(t){return t.replace(/_xlfn\./g,"")}function oa(t){t.l+=1}function ef(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function _P(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return SP(t);n.biff==12&&(r=4)}var s=t.read_shift(r),a=t.read_shift(r),i=ef(t),o=ef(t);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function SP(t){var e=ef(t),n=ef(t),r=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:s,cRel:n[1],rRel:n[2]}}}function cde(t,e,n){if(n.biff<8)return SP(t);var r=t.read_shift(n.biff==12?4:2),s=t.read_shift(n.biff==12?4:2),a=ef(t),i=ef(t);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:i[0],cRel:i[1],rRel:i[2]}}}function TP(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return Ade(t);var r=t.read_shift(n&&n.biff==12?4:2),s=ef(t);return{r,c:s[0],cRel:s[1],rRel:s[2]}}function Ade(t){var e=ef(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function ude(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function dde(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return fde(t);var s=t.read_shift(r>=12?4:2),a=t.read_shift(2),i=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;s>524287;)s-=1048576;if(i==1)for(;a>8191;)a=a-16384;return{r:s,c:a,cRel:i,rRel:o}}function fde(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),s==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:s,rRel:r}}function hde(t,e,n){var r=(t[t.l++]&96)>>5,s=_P(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,s]}function mde(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),a=8;if(n)switch(n.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var i=_P(t,a,n);return[r,s,i]}function pde(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function gde(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),a=8;if(n)switch(n.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[r,s]}function xde(t,e,n){var r=(t[t.l++]&96)>>5,s=cde(t,e-1,n);return[r,s]}function vde(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function wF(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function yde(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),s=[],a=0;a<=r;++a)s.push(t.read_shift(n&&n.biff==2?1:2));return s}function wde(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function bde(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function Cde(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Ede(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function BP(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function _de(t){return t.read_shift(2),BP(t)}function Sde(t){return t.read_shift(2),BP(t)}function Tde(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=TP(t,0,n);return[r,s]}function Bde(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=dde(t,0,n);return[r,s]}function Nde(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var a=TP(t,0,n);return[r,s,a]}function kde(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(n&&n.biff<=3?1:2);return[Rfe[s],IP[s],r]}function Ide(t,e,n){var r=t[t.l++],s=t.read_shift(1),a=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:Fde(t);return[s,(a[0]===0?IP:Ffe)[a[1]]]}function Fde(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Rde(t,e,n){t.l+=n&&n.biff==2?3:4}function Dde(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function Ude(t){return t.l++,Nu[t.read_shift(1)]}function Lde(t){return t.l++,t.read_shift(2)}function Mde(t){return t.l++,t.read_shift(1)!==0}function Pde(t){return t.l++,Fi(t)}function Ode(t,e,n){return t.l++,wx(t,e-1,n)}function jde(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=zs(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Nu[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Fi(t);break;case 2:n[1]=Th(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function Qde(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),s=[],a=0;a!=r;++a)s.push((n.biff==12?Sh:tw)(t));return s}function Hde(t,e,n){var r=0,s=0;n.biff==12?(r=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--s==0&&(s=256));for(var a=0,i=[];a!=r&&(i[a]=[]);++a)for(var o=0;o!=s;++o)i[a][o]=jde(t,n.biff);return i}function Vde(t,e,n){var r=t.read_shift(1)>>>5&3,s=!n||n.biff>=8?4:2,a=t.read_shift(s);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,a]}function Gde(t,e,n){if(n.biff==5)return zde(t);var r=t.read_shift(1)>>>5&3,s=t.read_shift(2),a=t.read_shift(4);return[r,s,a]}function zde(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function Kde(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function qde(t,e,n){var r=t.read_shift(1)>>>5&3,s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function Wde(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function $de(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),a=4;if(n)switch(n.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[r,s]}var Yde=Li,Jde=Li,Xde=Li;function Cx(t,e,n){return t.l+=2,[ude(t)]}function Y5(t){return t.l+=6,[]}var Zde=Cx,efe=Y5,tfe=Y5,nfe=Cx;function NP(t){return t.l+=2,[Aa(t),t.read_shift(2)&1]}var rfe=Cx,sfe=NP,afe=Y5,ife=Cx,ofe=Cx,lfe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function cfe(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),s=t.read_shift(2),a=t.read_shift(2),i=lfe[n>>2&31];return{ixti:e,coltype:n&3,rt:i,idx:r,c:s,C:a}}function Afe(t){return t.l+=2,[t.read_shift(4)]}function ufe(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function dfe(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function ffe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function hfe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function mfe(t){return t.l+=4,[0,0]}var bF={1:{n:"PtgExp",f:Dde},2:{n:"PtgTbl",f:Xde},3:{n:"PtgAdd",f:oa},4:{n:"PtgSub",f:oa},5:{n:"PtgMul",f:oa},6:{n:"PtgDiv",f:oa},7:{n:"PtgPower",f:oa},8:{n:"PtgConcat",f:oa},9:{n:"PtgLt",f:oa},10:{n:"PtgLe",f:oa},11:{n:"PtgEq",f:oa},12:{n:"PtgGe",f:oa},13:{n:"PtgGt",f:oa},14:{n:"PtgNe",f:oa},15:{n:"PtgIsect",f:oa},16:{n:"PtgUnion",f:oa},17:{n:"PtgRange",f:oa},18:{n:"PtgUplus",f:oa},19:{n:"PtgUminus",f:oa},20:{n:"PtgPercent",f:oa},21:{n:"PtgParen",f:oa},22:{n:"PtgMissArg",f:oa},23:{n:"PtgStr",f:Ode},26:{n:"PtgSheet",f:ufe},27:{n:"PtgEndSheet",f:dfe},28:{n:"PtgErr",f:Ude},29:{n:"PtgBool",f:Mde},30:{n:"PtgInt",f:Lde},31:{n:"PtgNum",f:Pde},32:{n:"PtgArray",f:vde},33:{n:"PtgFunc",f:kde},34:{n:"PtgFuncVar",f:Ide},35:{n:"PtgName",f:Vde},36:{n:"PtgRef",f:Tde},37:{n:"PtgArea",f:hde},38:{n:"PtgMemArea",f:Kde},39:{n:"PtgMemErr",f:Yde},40:{n:"PtgMemNoMem",f:Jde},41:{n:"PtgMemFunc",f:qde},42:{n:"PtgRefErr",f:Wde},43:{n:"PtgAreaErr",f:pde},44:{n:"PtgRefN",f:Bde},45:{n:"PtgAreaN",f:xde},46:{n:"PtgMemAreaN",f:ffe},47:{n:"PtgMemNoMemN",f:hfe},57:{n:"PtgNameX",f:Gde},58:{n:"PtgRef3d",f:Nde},59:{n:"PtgArea3d",f:mde},60:{n:"PtgRefErr3d",f:$de},61:{n:"PtgAreaErr3d",f:gde},255:{}},pfe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},gfe={1:{n:"PtgElfLel",f:NP},2:{n:"PtgElfRw",f:ife},3:{n:"PtgElfCol",f:Zde},6:{n:"PtgElfRwV",f:ofe},7:{n:"PtgElfColV",f:nfe},10:{n:"PtgElfRadical",f:rfe},11:{n:"PtgElfRadicalS",f:afe},13:{n:"PtgElfColS",f:efe},15:{n:"PtgElfColSV",f:tfe},16:{n:"PtgElfRadicalLel",f:sfe},25:{n:"PtgList",f:cfe},29:{n:"PtgSxName",f:Afe},255:{}},xfe={0:{n:"PtgAttrNoop",f:mfe},1:{n:"PtgAttrSemi",f:Ede},2:{n:"PtgAttrIf",f:bde},4:{n:"PtgAttrChoose",f:yde},8:{n:"PtgAttrGoto",f:wde},16:{n:"PtgAttrSum",f:Rde},32:{n:"PtgAttrBaxcel",f:wF},33:{n:"PtgAttrBaxcel",f:wF},64:{n:"PtgAttrSpace",f:_de},65:{n:"PtgAttrSpaceSemi",f:Sde},128:{n:"PtgAttrIfError",f:Cde},255:{}};function Ex(t,e,n,r){if(r.biff<8)return Li(t,e);for(var s=t.l+e,a=[],i=0;i!==n.length;++i)switch(n[i][0]){case"PtgArray":n[i][1]=Hde(t,0,r),a.push(n[i][1]);break;case"PtgMemArea":n[i][2]=Qde(t,n[i][1],r),a.push(n[i][2]);break;case"PtgExp":r&&r.biff==12&&(n[i][1][1]=t.read_shift(4),a.push(n[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[i][0]}return e=s-t.l,e!==0&&a.push(Li(t,e)),a}function _x(t,e,n){for(var r=t.l+e,s,a,i=[];r!=t.l;)e=r-t.l,a=t[t.l],s=bF[a]||bF[pfe[a]],(a===24||a===25)&&(s=(a===24?gfe:xfe)[t[t.l+1]]),!s||!s.f?Li(t,e):i.push([s.n,s.f(t,e,n)]);return i}function vfe(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],s=[],a=0;a<r.length;++a){var i=r[a];if(i)switch(i[0]){case 2:s.push('"'+i[1].replace(/"/g,'""')+'"');break;default:s.push(i[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var yfe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function wfe(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function kP(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var s="";if(n.biff>8)switch(t[r[0]][0]){case 357:return s=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return s=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[r[0]][0][3]?(s=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?s:s+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function CF(t,e,n){var r=kP(t,e,n);return r=="#REF"?r:wfe(r,n)}function Ti(t,e,n,r,s){var a=s&&s.biff||8,i={s:{c:0,r:0}},o=[],l,A,d,h=0,p=0,g,w="";if(!t[0]||!t[0][0])return"";for(var b=-1,E="",T=0,I=t[0].length;T<I;++T){var k=t[0][T];switch(k[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),A=o.pop(),b>=0){switch(t[0][b][1][0]){case 0:E=Rs(" ",t[0][b][1][1]);break;case 1:E=Rs("\r",t[0][b][1][1]);break;default:if(E="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}A=A+E,b=-1}o.push(A+yfe[k[0]]+l);break;case"PtgIsect":l=o.pop(),A=o.pop(),o.push(A+" "+l);break;case"PtgUnion":l=o.pop(),A=o.pop(),o.push(A+","+l);break;case"PtgRange":l=o.pop(),A=o.pop(),o.push(A+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=mg(k[1][1],i,s),o.push(pg(d,a));break;case"PtgRefN":d=n?mg(k[1][1],n,s):k[1][1],o.push(pg(d,a));break;case"PtgRef3d":h=k[1][1],d=mg(k[1][2],i,s),w=CF(r,h,s),o.push(w+"!"+pg(d,a));break;case"PtgFunc":case"PtgFuncVar":var F=k[1][0],D=k[1][1];F||(F=0),F&=127;var P=F==0?[]:o.slice(-F);o.length-=F,D==="User"&&(D=P.shift()),o.push(D+"("+P.join(",")+")");break;case"PtgBool":o.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(k[1]);break;case"PtgNum":o.push(String(k[1]));break;case"PtgStr":o.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(k[1]);break;case"PtgAreaN":g=XI(k[1][1],n?{s:n}:i,s),o.push(bC(g,s));break;case"PtgArea":g=XI(k[1][1],i,s),o.push(bC(g,s));break;case"PtgArea3d":h=k[1][1],g=k[1][2],w=CF(r,h,s),o.push(w+"!"+bC(g,s));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=k[1][2];var S=(r.names||[])[p-1]||(r[0]||[])[p],N=S?S.Name:"SH33TJSNAME"+String(p);N&&N.slice(0,6)=="_xlfn."&&!s.xlfn&&(N=N.slice(6)),o.push(N);break;case"PtgNameX":var B=k[1][1];p=k[1][2];var V;if(s.biff<=5)B<0&&(B=-B),r[B]&&(V=r[B][p]);else{var U="";if(((r[B]||[])[0]||[])[0]==14849||(((r[B]||[])[0]||[])[0]==1025?r[B][p]&&r[B][p].itab>0&&(U=r.SheetNames[r[B][p].itab-1]+"!"):U=r.SheetNames[p-1]+"!"),r[B]&&r[B][p])U+=r[B][p].Name;else if(r[0]&&r[0][p])U+=r[0][p].Name;else{var L=(kP(r,B,s)||"").split(";;");L[p-1]?U=L[p-1]:U+="SH33TJSERRX"}o.push(U);break}V||(V={Name:"SH33TJSERRY"}),o.push(V.Name);break;case"PtgParen":var j="(",G=")";if(b>=0){switch(E="",t[0][b][1][0]){case 2:j=Rs(" ",t[0][b][1][1])+j;break;case 3:j=Rs("\r",t[0][b][1][1])+j;break;case 4:G=Rs(" ",t[0][b][1][1])+G;break;case 5:G=Rs("\r",t[0][b][1][1])+G;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}b=-1}o.push(j+o.pop()+G);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:k[1][1],r:k[1][0]};var se={c:n.c,r:n.r};if(r.sharedf[wn(d)]){var K=r.sharedf[wn(d)];o.push(Ti(K,i,se,r,s))}else{var Y=!1;for(l=0;l!=r.arrayf.length;++l)if(A=r.arrayf[l],!(d.c<A[0].s.c||d.c>A[0].e.c)&&!(d.r<A[0].s.r||d.r>A[0].e.r)){o.push(Ti(A[1],i,se,r,s)),Y=!0;break}Y||o.push(k[1])}break;case"PtgArray":o.push("{"+vfe(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=T;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var oe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&b>=0&&oe.indexOf(t[0][T][0])==-1){k=t[0][b];var Z=!0;switch(k[1][0]){case 4:Z=!1;case 0:E=Rs(" ",k[1][1]);break;case 5:Z=!1;case 1:E=Rs("\r",k[1][1]);break;default:if(E="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}o.push((Z?E:"")+o.pop()+(Z?"":E)),b=-1}}if(o.length>1&&s.WTF)throw new Error("bad formula stack");return o[0]}function bfe(t,e,n){var r=t.l+e,s=n.biff==2?1:2,a,i=t.read_shift(s);if(i==65535)return[[],Li(t,e-2)];var o=_x(t,i,n);return e!==i+s&&(a=Ex(t,e-i-s,o,n)),t.l=r,[o,a]}function Cfe(t,e,n){var r=t.l+e,s=n.biff==2?1:2,a,i=t.read_shift(s);if(i==65535)return[[],Li(t,e-2)];var o=_x(t,i,n);return e!==i+s&&(a=Ex(t,e-i-s,o,n)),t.l=r,[o,a]}function Efe(t,e,n,r){var s=t.l+e,a=_x(t,r,n),i;return s!==t.l&&(i=Ex(t,s-t.l,a,n)),[a,i]}function _fe(t,e,n){var r=t.l+e,s,a=t.read_shift(2),i=_x(t,a,n);return a==65535?[[],Li(t,e-2)]:(e!==a+2&&(s=Ex(t,r-a-2,i,n)),[i,s])}function Sfe(t){var e;if(cu(t,t.l+6)!==65535)return[Fi(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function Tfe(t){if(t==null){var e=lt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Ah(t);return Ah(0)}function TC(t,e,n){var r=t.l+e,s=CA(t);n.biff==2&&++t.l;var a=Sfe(t),i=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var o=Cfe(t,r-t.l,n);return{cell:s,val:a[0],formula:o,shared:i>>3&1,tt:a[1]}}function Bfe(t,e,n,r,s){var a=dh(e,n,s),i=Tfe(t.v),o=lt(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var A=lt(t.bf.length),d=0;d<t.bf.length;++d)A[d]=t.bf[d];var h=Qa([a,i,o,A]);return h}function nw(t,e,n){var r=t.read_shift(4),s=_x(t,r,n),a=t.read_shift(4),i=a>0?Ex(t,a,s,n):null;return[s,i]}var Nfe=nw,rw=nw,kfe=nw,Ife=nw,Ffe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},IP={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Rfe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function EF(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function Dfe(t){var e="of:="+t.replace(W5,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function BC(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function Ufe(t){return t.replace(/\./,"!")}var xg={},Z0={},vg=typeof Map<"u";function J5(t,e,n){var r=0,s=t.length;if(n){if(vg?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var a=vg?n.get(e):n[e];r<a.length;++r)if(t[a[r]].t===e)return t.Count++,a[r]}}else for(;r<s;++r)if(t[r].t===e)return t.Count++,r;return t[s]={t:e},t.Count++,t.Unique++,n&&(vg?(n.has(e)||n.set(e,[]),n.get(e).push(s)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(s))),s}function sw(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(ki=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=Kg(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=W2(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function Xf(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function cf(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],s=60,a=t.length;if(r==null&&n.ssf){for(;s<392;++s)if(n.ssf[s]==null){fu(e.z,s),n.ssf[s]=e.z,n.revssf[e.z]=r=s;break}}for(s=0;s!=a;++s)if(t[s].numFmtId===r)return s;return t[a]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function FP(t,e,n,r,s,a){try{r.cellNF&&(t.z=gn[e])}catch(o){if(r.WTF)throw o}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=is(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(gn[e]==null&&fu(Fie[e]||"General",e),t.t==="e")t.w=t.w||Nu[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Og(t.v);else if(t.t==="d"){var i=Ba(t.v);(i|0)===i?t.w=i.toString(10):t.w=Og(i)}else{if(t.v===void 0)return"";t.w=lh(t.v,Z0)}else t.t==="d"?t.w=Fl(e,Ba(t.v),Z0):t.w=Fl(e,t.v,Z0)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&n!=null)try{t.s=a.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=q2(s.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=s.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=q2(s.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=s.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&a.Fills)throw o}}}function Lfe(t,e,n){if(t&&t["!ref"]){var r=pr(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function Mfe(t,e){var n=pr(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=Rn(n))}var Pfe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Ofe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,jfe=/<(?:\w:)?hyperlink [^>]*>/mg,Qfe=/"(\w*:\w*)"/,Hfe=/<(?:\w:)?col\b[^>]*[\/]?>/g,Vfe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Gfe=/<(?:\w:)?pageMargins[^>]*\/>/g,RP=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,zfe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Kfe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function qfe(t,e,n,r,s,a,i){if(!t)return t;r||(r={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},A="",d="",h=t.match(Ofe);h?(A=t.slice(0,h.index),d=t.slice(h.index+h[0].length)):A=d=t;var p=A.match(RP);p?X5(p[0],o,s,n):(p=A.match(zfe))&&$fe(p[0],p[1]||"",o,s,n);var g=(A.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(g>0){var w=A.slice(g,g+50).match(Qfe);w&&Mfe(o,w[1])}var b=A.match(Kfe);b&&b[1]&&lhe(b[1],s);var E=[];if(e.cellStyles){var T=A.match(Hfe);T&&rhe(E,T)}h&&uhe(h[1],o,e,l,a,i);var I=d.match(Vfe);I&&(o["!autofilter"]=ahe(I[0]));var k=[],F=d.match(Pfe);if(F)for(g=0;g!=F.length;++g)k[g]=pr(F[g].slice(F[g].indexOf('"')+1));var D=d.match(jfe);D&&ehe(o,D,r);var P=d.match(Gfe);if(P&&(o["!margins"]=the(_n(P[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Rn(l)),e.sheetRows>0&&o["!ref"]){var S=pr(o["!ref"]);e.sheetRows<=+S.e.r&&(S.e.r=e.sheetRows-1,S.e.r>l.e.r&&(S.e.r=l.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>l.e.c&&(S.e.c=l.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Rn(S))}return E.length>0&&(o["!cols"]=E),k.length>0&&(o["!merges"]=k),o}function Wfe(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+Rn(t[n])+'"/>';return e+"</mergeCells>"}function X5(t,e,n,r){var s=_n(t);n.Sheets[r]||(n.Sheets[r]={}),s.codeName&&(n.Sheets[r].CodeName=mr(qr(s.codeName)))}function $fe(t,e,n,r,s){X5(t.slice(0,t.indexOf(">")),n,r,s)}function Yfe(t,e,n,r,s){var a=!1,i={},o=null;if(r.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[n];try{e.Workbook&&(l=e.Workbook.Sheets[n].CodeName||l)}catch{}a=!0,i.codeName=lA(Pr(l))}if(t&&t["!outline"]){var A={summaryBelow:1,summaryRight:1};t["!outline"].above&&(A.summaryBelow=0),t["!outline"].left&&(A.summaryRight=0),o=(o||"")+Dt("outlinePr",null,A)}!a&&!o||(s[s.length]=Dt("sheetPr",o,i))}var Jfe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Xfe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Zfe(t){var e={sheet:1};return Jfe.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),Xfe.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=z5(t.password).toString(16).toUpperCase()),Dt("sheetProtection",null,e)}function ehe(t,e,n){for(var r=Array.isArray(t),s=0;s!=e.length;++s){var a=_n(qr(e[s]),!0);if(!a.ref)return;var i=((n||{})["!id"]||[])[a.id];i?(a.Target=i.Target,a.location&&(a.Target+="#"+mr(a.location))):(a.Target="#"+mr(a.location),i={Target:a.Target,TargetMode:"Internal"}),a.Rel=i,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=pr(a.ref),l=o.s.r;l<=o.e.r;++l)for(var A=o.s.c;A<=o.e.c;++A){var d=wn({c:A,r:l});r?(t[l]||(t[l]=[]),t[l][A]||(t[l][A]={t:"z",v:void 0}),t[l][A].l=a):(t[d]||(t[d]={t:"z",v:void 0}),t[d].l=a)}}}function the(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function nhe(t){return Xf(t),Dt("pageMargins",null,t)}function rhe(t,e){for(var n=!1,r=0;r!=e.length;++r){var s=_n(e[r],!0);s.hidden&&(s.hidden=ns(s.hidden));var a=parseInt(s.min,10)-1,i=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!n&&s.width&&(n=!0,K5(s.width)),Zd(s);a<=i;)t[a++]=os(s)}}function she(t,e){for(var n=["<cols>"],r,s=0;s!=e.length;++s)(r=e[s])&&(n[n.length]=Dt("col",null,sw(s,r)));return n[n.length]="</cols>",n.join("")}function ahe(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function ihe(t,e,n,r){var s=typeof t.ref=="string"?t.ref:Rn(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,i=xo(s);i.s.r==i.e.r&&(i.e.r=xo(e["!ref"]).e.r,s=Rn(i));for(var o=0;o<a.length;++o){var l=a[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+s;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),Dt("autoFilter",null,{ref:s})}var ohe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function lhe(t,e){e.Views||(e.Views=[{}]),(t.match(ohe)||[]).forEach(function(n,r){var s=_n(n);e.Views[r]||(e.Views[r]={}),+s.zoomScale&&(e.Views[r].zoom=+s.zoomScale),ns(s.rightToLeft)&&(e.Views[r].RTL=!0)})}function che(t,e,n,r){var s={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Dt("sheetViews",Dt("sheetView",null,s),{})}function Ahe(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",a=t.t,i=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=Nu[t.v];break;case"d":r&&r.cellDates?s=is(t.v,-1).toISOString():(t=os(t),t.t="n",s=""+(t.v=Ba(is(t.v)))),typeof t.z>"u"&&(t.z=gn[14]);break;default:s=t.v;break}var o=ni("v",Pr(s)),l={r:e},A=cf(r.cellXfs,t,r);switch(A!==0&&(l.s=A),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=ni("v",""+J5(r.Strings,t.v,r.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=a&&(t.t=a,t.v=i),typeof t.f=="string"&&t.f){var d=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=Dt("f",Pr(t.f),d)+(t.v!=null?o:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(l.cm=1),Dt("c",o,l)}var uhe=function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,a=jg("v"),i=jg("f");return function(l,A,d,h,p,g){for(var w=0,b="",E=[],T=[],I=0,k=0,F=0,D="",P,S,N=0,B=0,V,U,L=0,j=0,G=Array.isArray(g.CellXf),se,K=[],Y=[],oe=Array.isArray(A),Z=[],ee={},he=!1,O=!!d.sheetStubs,q=l.split(e),J=0,ne=q.length;J!=ne;++J){b=q[J].trim();var ae=b.length;if(ae!==0){var ue=0;e:for(w=0;w<ae;++w)switch(b[w]){case">":if(b[w-1]!="/"){++w;break e}if(d&&d.cellStyles){if(S=_n(b.slice(ue,w),!0),N=S.r!=null?parseInt(S.r,10):N+1,B=-1,d.sheetRows&&d.sheetRows<N)continue;ee={},he=!1,S.ht&&(he=!0,ee.hpt=parseFloat(S.ht),ee.hpx=mm(ee.hpt)),S.hidden=="1"&&(he=!0,ee.hidden=!0),S.outlineLevel!=null&&(he=!0,ee.level=+S.outlineLevel),he&&(Z[N-1]=ee)}break;case"<":ue=w;break}if(ue>=w)break;if(S=_n(b.slice(ue,w),!0),N=S.r!=null?parseInt(S.r,10):N+1,B=-1,!(d.sheetRows&&d.sheetRows<N)){h.s.r>N-1&&(h.s.r=N-1),h.e.r<N-1&&(h.e.r=N-1),d&&d.cellStyles&&(ee={},he=!1,S.ht&&(he=!0,ee.hpt=parseFloat(S.ht),ee.hpx=mm(ee.hpt)),S.hidden=="1"&&(he=!0,ee.hidden=!0),S.outlineLevel!=null&&(he=!0,ee.level=+S.outlineLevel),he&&(Z[N-1]=ee)),E=b.slice(w).split(t);for(var pe=0;pe!=E.length&&E[pe].trim().charAt(0)=="<";++pe);for(E=E.slice(pe),w=0;w!=E.length;++w)if(b=E[w].trim(),b.length!==0){if(T=b.match(n),I=w,k=0,F=0,b="<c "+(b.slice(0,1)=="<"?">":"")+b,T!=null&&T.length===2){for(I=0,D=T[1],k=0;k!=D.length&&!((F=D.charCodeAt(k)-64)<1||F>26);++k)I=26*I+F;--I,B=I}else++B;for(k=0;k!=b.length&&b.charCodeAt(k)!==62;++k);if(++k,S=_n(b.slice(0,k),!0),S.r||(S.r=wn({r:N-1,c:B})),D=b.slice(k),P={t:""},(T=D.match(a))!=null&&T[1]!==""&&(P.v=mr(T[1])),d.cellFormula){if((T=D.match(i))!=null&&T[1]!==""){if(P.f=mr(qr(T[1])).replace(/\r\n/g,`
`),d.xlfn||(P.f=yF(P.f)),T[0].indexOf('t="array"')>-1)P.F=(D.match(s)||[])[1],P.F.indexOf(":")>-1&&K.push([pr(P.F),P.F]);else if(T[0].indexOf('t="shared"')>-1){U=_n(T[0]);var ye=mr(qr(T[1]));d.xlfn||(ye=yF(ye)),Y[parseInt(U.si,10)]=[U,ye,S.r]}}else(T=D.match(/<f[^>]*\/>/))&&(U=_n(T[0]),Y[U.si]&&(P.f=ode(Y[U.si][1],Y[U.si][2],S.r)));var Ie=ws(S.r);for(k=0;k<K.length;++k)Ie.r>=K[k][0].s.r&&Ie.r<=K[k][0].e.r&&Ie.c>=K[k][0].s.c&&Ie.c<=K[k][0].e.c&&(P.F=K[k][1])}if(S.t==null&&P.v===void 0)if(P.f||P.F)P.v=0,P.t="n";else if(O)P.t="z";else continue;else P.t=S.t||"n";switch(h.s.c>B&&(h.s.c=B),h.e.c<B&&(h.e.c=B),P.t){case"n":if(P.v==""||P.v==null){if(!O)continue;P.t="z"}else P.v=parseFloat(P.v);break;case"s":if(typeof P.v>"u"){if(!O)continue;P.t="z"}else V=xg[parseInt(P.v,10)],P.v=V.t,P.r=V.r,d.cellHTML&&(P.h=V.h);break;case"str":P.t="s",P.v=P.v!=null?qr(P.v):"",d.cellHTML&&(P.h=k5(P.v));break;case"inlineStr":T=D.match(r),P.t="s",T!=null&&(V=G5(T[1]))?(P.v=V.t,d.cellHTML&&(P.h=V.h)):P.v="";break;case"b":P.v=ns(P.v);break;case"d":d.cellDates?P.v=is(P.v,1):(P.v=Ba(is(P.v,1)),P.t="n");break;case"e":(!d||d.cellText!==!1)&&(P.w=P.v),P.v=UM[P.v];break}if(L=j=0,se=null,G&&S.s!==void 0&&(se=g.CellXf[S.s],se!=null&&(se.numFmtId!=null&&(L=se.numFmtId),d.cellStyles&&se.fillId!=null&&(j=se.fillId))),FP(P,L,j,d,p,g),d.cellDates&&G&&P.t=="n"&&Rm(gn[L])&&(P.t="d",P.v=ew(P.v)),S.cm&&d.xlmeta){var we=(d.xlmeta.Cell||[])[+S.cm-1];we&&we.type=="XLDAPR"&&(P.D=!0)}if(oe){var ie=ws(S.r);A[ie.r]||(A[ie.r]=[]),A[ie.r][ie.c]=P}else A[S.r]=P}}}}Z.length>0&&(A["!rows"]=Z)}}();function dhe(t,e,n,r){var s=[],a=[],i=pr(t["!ref"]),o="",l,A="",d=[],h=0,p=0,g=t["!rows"],w=Array.isArray(t),b={r:A},E,T=-1;for(p=i.s.c;p<=i.e.c;++p)d[p]=ys(p);for(h=i.s.r;h<=i.e.r;++h){for(a=[],A=Js(h),p=i.s.c;p<=i.e.c;++p){l=d[p]+A;var I=w?(t[h]||[])[p]:t[l];I!==void 0&&(o=Ahe(I,l,t,e))!=null&&a.push(o)}(a.length>0||g&&g[h])&&(b={r:A},g&&g[h]&&(E=g[h],E.hidden&&(b.hidden=1),T=-1,E.hpx?T=qg(E.hpx):E.hpt&&(T=E.hpt),T>-1&&(b.ht=T,b.customHeight=1),E.level&&(b.outlineLevel=E.level)),s[s.length]=Dt("row",a.join(""),b))}if(g)for(;h<g.length;++h)g&&g[h]&&(b={r:h+1},E=g[h],E.hidden&&(b.hidden=1),T=-1,E.hpx?T=qg(E.hpx):E.hpt&&(T=E.hpt),T>-1&&(b.ht=T,b.customHeight=1),E.level&&(b.outlineLevel=E.level),s[s.length]=Dt("row","",b));return s.join("")}function DP(t,e,n,r){var s=[Xs,Dt("worksheet",null,{xmlns:bh[0],"xmlns:r":Ea.r})],a=n.SheetNames[t],i=0,o="",l=n.Sheets[a];l==null&&(l={});var A=l["!ref"]||"A1",d=pr(A);if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+A+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),A=Rn(d)}r||(r={}),l["!comments"]=[];var h=[];Yfe(l,n,t,e,s),s[s.length]=Dt("dimension",null,{ref:A}),s[s.length]=che(l,e,t,n),e.sheetFormat&&(s[s.length]=Dt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(s[s.length]=she(l,l["!cols"])),s[i=s.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=dhe(l,e),o.length>0&&(s[s.length]=o)),s.length>i+1&&(s[s.length]="</sheetData>",s[i]=s[i].replace("/>",">")),l["!protect"]&&(s[s.length]=Zfe(l["!protect"])),l["!autofilter"]!=null&&(s[s.length]=ihe(l["!autofilter"],l,n,t)),l["!merges"]!=null&&l["!merges"].length>0&&(s[s.length]=Wfe(l["!merges"]));var p=-1,g,w=-1;return l["!links"].length>0&&(s[s.length]="<hyperlinks>",l["!links"].forEach(function(b){b[1].Target&&(g={ref:b[0]},b[1].Target.charAt(0)!="#"&&(w=Lr(r,-1,Pr(b[1].Target).replace(/#.*$/,""),Jn.HLINK),g["r:id"]="rId"+w),(p=b[1].Target.indexOf("#"))>-1&&(g.location=Pr(b[1].Target.slice(p+1))),b[1].Tooltip&&(g.tooltip=Pr(b[1].Tooltip)),s[s.length]=Dt("hyperlink",null,g))}),s[s.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(s[s.length]=nhe(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=ni("ignoredErrors",Dt("ignoredError",null,{numberStoredAsText:1,sqref:A}))),h.length>0&&(w=Lr(r,-1,"../drawings/drawing"+(t+1)+".xml",Jn.DRAW),s[s.length]=Dt("drawing",null,{"r:id":"rId"+w}),l["!drawing"]=h),l["!comments"].length>0&&(w=Lr(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Jn.VML),s[s.length]=Dt("legacyDrawing",null,{"r:id":"rId"+w}),l["!legacy"]=w),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function fhe(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=r,a&7&&(n.level=a&7),a&16&&(n.hidden=!0),a&32&&(n.hpt=s/20),n}function hhe(t,e,n){var r=lt(145),s=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var a=320;s.hpx?a=qg(s.hpx)*20:s.hpt&&(a=s.hpt*20),r.write_shift(2,a),r.write_shift(1,0);var i=0;s.level&&(i|=s.level),s.hidden&&(i|=16),(s.hpx||s.hpt)&&(i|=32),r.write_shift(1,i),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var A={r:t,c:0},d=0;d<16;++d)if(!(e.s.c>d+1<<10||e.e.c<d<<10)){for(var h=-1,p=-1,g=d<<10;g<d+1<<10;++g){A.c=g;var w=Array.isArray(n)?(n[A.r]||[])[A.c]:n[wn(A)];w&&(h<0&&(h=g),p=g)}h<0||(++o,r.write_shift(4,h),r.write_shift(4,p))}var b=r.l;return r.l=l,r.write_shift(4,o),r.l=b,r.length>r.l?r.slice(0,r.l):r}function mhe(t,e,n,r){var s=hhe(r,n,e);(s.length>17||(e["!rows"]||[])[r])&&bt(t,0,s)}var phe=Sh,ghe=Lm;function xhe(){}function vhe(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=boe(t),n}function yhe(t,e,n){n==null&&(n=lt(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var s=1;s<3;++s)n.write_shift(1,0);return G2({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),kM(t,n),n.slice(0,n.l)}function whe(t){var e=Rl(t);return[e]}function bhe(t,e,n){return n==null&&(n=lt(8)),Ch(e,n)}function Che(t){var e=Eh(t);return[e]}function Ehe(t,e,n){return n==null&&(n=lt(4)),_h(e,n)}function _he(t){var e=Rl(t),n=t.read_shift(1);return[e,n,"b"]}function She(t,e,n){return n==null&&(n=lt(9)),Ch(e,n),n.write_shift(1,t.v?1:0),n}function The(t){var e=Eh(t),n=t.read_shift(1);return[e,n,"b"]}function Bhe(t,e,n){return n==null&&(n=lt(5)),_h(e,n),n.write_shift(1,t.v?1:0),n}function Nhe(t){var e=Rl(t),n=t.read_shift(1);return[e,n,"e"]}function khe(t,e,n){return n==null&&(n=lt(9)),Ch(e,n),n.write_shift(1,t.v),n}function Ihe(t){var e=Eh(t),n=t.read_shift(1);return[e,n,"e"]}function Fhe(t,e,n){return n==null&&(n=lt(8)),_h(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function Rhe(t){var e=Rl(t),n=t.read_shift(4);return[e,n,"s"]}function Dhe(t,e,n){return n==null&&(n=lt(12)),Ch(e,n),n.write_shift(4,e.v),n}function Uhe(t){var e=Eh(t),n=t.read_shift(4);return[e,n,"s"]}function Lhe(t,e,n){return n==null&&(n=lt(8)),_h(e,n),n.write_shift(4,e.v),n}function Mhe(t){var e=Rl(t),n=Fi(t);return[e,n,"n"]}function Phe(t,e,n){return n==null&&(n=lt(16)),Ch(e,n),Ah(t.v,n),n}function UP(t){var e=Eh(t),n=Fi(t);return[e,n,"n"]}function Ohe(t,e,n){return n==null&&(n=lt(12)),_h(e,n),Ah(t.v,n),n}function jhe(t){var e=Rl(t),n=O5(t);return[e,n,"n"]}function Qhe(t,e,n){return n==null&&(n=lt(12)),Ch(e,n),IM(t.v,n),n}function Hhe(t){var e=Eh(t),n=O5(t);return[e,n,"n"]}function Vhe(t,e,n){return n==null&&(n=lt(8)),_h(e,n),IM(t.v,n),n}function Ghe(t){var e=Rl(t),n=L5(t);return[e,n,"is"]}function zhe(t){var e=Rl(t),n=Di(t);return[e,n,"str"]}function Khe(t,e,n){return n==null&&(n=lt(12+4*t.v.length)),Ch(e,n),Ha(t.v,n),n.length>n.l?n.slice(0,n.l):n}function qhe(t){var e=Eh(t),n=Di(t);return[e,n,"str"]}function Whe(t,e,n){return n==null&&(n=lt(8+4*t.v.length)),_h(e,n),Ha(t.v,n),n.length>n.l?n.slice(0,n.l):n}function $he(t,e,n){var r=t.l+e,s=Rl(t);s.r=n["!row"];var a=t.read_shift(1),i=[s,a,"b"];if(n.cellFormula){t.l+=2;var o=rw(t,r-t.l,n);i[3]=Ti(o,null,s,n.supbooks,n)}else t.l=r;return i}function Yhe(t,e,n){var r=t.l+e,s=Rl(t);s.r=n["!row"];var a=t.read_shift(1),i=[s,a,"e"];if(n.cellFormula){t.l+=2;var o=rw(t,r-t.l,n);i[3]=Ti(o,null,s,n.supbooks,n)}else t.l=r;return i}function Jhe(t,e,n){var r=t.l+e,s=Rl(t);s.r=n["!row"];var a=Fi(t),i=[s,a,"n"];if(n.cellFormula){t.l+=2;var o=rw(t,r-t.l,n);i[3]=Ti(o,null,s,n.supbooks,n)}else t.l=r;return i}function Xhe(t,e,n){var r=t.l+e,s=Rl(t);s.r=n["!row"];var a=Di(t),i=[s,a,"str"];if(n.cellFormula){t.l+=2;var o=rw(t,r-t.l,n);i[3]=Ti(o,null,s,n.supbooks,n)}else t.l=r;return i}var Zhe=Sh,e0e=Lm;function t0e(t,e){return e==null&&(e=lt(4)),e.write_shift(4,t),e}function n0e(t,e){var n=t.l+e,r=Sh(t),s=M5(t),a=Di(t),i=Di(t),o=Di(t);t.l=n;var l={rfx:r,relId:s,loc:a,display:o};return i&&(l.Tooltip=i),l}function r0e(t,e){var n=lt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Lm({s:ws(t[0]),e:ws(t[0])},n),P5("rId"+e,n);var r=t[1].Target.indexOf("#"),s=r==-1?"":t[1].Target.slice(r+1);return Ha(s||"",n),Ha(t[1].Tooltip||"",n),Ha("",n),n.slice(0,n.l)}function s0e(){}function a0e(t,e,n){var r=t.l+e,s=FM(t),a=t.read_shift(1),i=[s];if(i[2]=a,n.cellFormula){var o=Nfe(t,r-t.l,n);i[1]=o}else t.l=r;return i}function i0e(t,e,n){var r=t.l+e,s=Sh(t),a=[s];if(n.cellFormula){var i=Ife(t,r-t.l,n);a[1]=i,t.l=r}else t.l=r;return a}function o0e(t,e,n){n==null&&(n=lt(18));var r=sw(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof r.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),n.write_shift(2,s),n}var LP=["left","right","top","bottom","header","footer"];function l0e(t){var e={};return LP.forEach(function(n){e[n]=Fi(t)}),e}function c0e(t,e){return e==null&&(e=lt(48)),Xf(t),LP.forEach(function(n){Ah(t[n],e)}),e}function A0e(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function u0e(t,e,n){n==null&&(n=lt(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function d0e(t){var e=lt(24);return e.write_shift(4,4),e.write_shift(4,1),Lm(t,e),e}function f0e(t,e){return e==null&&(e=lt(66)),e.write_shift(2,t.password?z5(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function h0e(){}function m0e(){}function p0e(t,e,n,r,s,a,i){if(!t)return t;var o=e||{};r||(r={"!id":{}});var l=o.dense?[]:{},A,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,p=!1,g,w,b,E,T,I,k,F,D,P=[];o.biff=12,o["!row"]=0;var S=0,N=!1,B=[],V={},U=o.supbooks||s.supbooks||[[]];if(U.sharedf=V,U.arrayf=B,U.SheetNames=s.SheetNames||s.Sheets.map(function(oe){return oe.name}),!o.supbooks&&(o.supbooks=U,s.Names))for(var L=0;L<s.Names.length;++L)U[0][L+1]=s.Names[L];var j=[],G=[],se=!1;Wg[16]={n:"BrtShortReal",f:UP};var K;if(Bu(t,function(Z,ee,he){if(!p)switch(he){case 148:A=Z;break;case 0:g=Z,o.sheetRows&&o.sheetRows<=g.r&&(p=!0),F=Js(E=g.r),o["!row"]=g.r,(Z.hidden||Z.hpt||Z.level!=null)&&(Z.hpt&&(Z.hpx=mm(Z.hpt)),G[Z.r]=Z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(w={t:Z[2]},Z[2]){case"n":w.v=Z[1];break;case"s":k=xg[Z[1]],w.v=k.t,w.r=k.r;break;case"b":w.v=!!Z[1];break;case"e":w.v=Z[1],o.cellText!==!1&&(w.w=Nu[w.v]);break;case"str":w.t="s",w.v=Z[1];break;case"is":w.t="s",w.v=Z[1].t;break}if((b=i.CellXf[Z[0].iStyleRef])&&FP(w,b.numFmtId,null,o,a,i),T=Z[0].c==-1?T+1:Z[0].c,o.dense?(l[E]||(l[E]=[]),l[E][T]=w):l[ys(T)+F]=w,o.cellFormula){for(N=!1,S=0;S<B.length;++S){var O=B[S];g.r>=O[0].s.r&&g.r<=O[0].e.r&&T>=O[0].s.c&&T<=O[0].e.c&&(w.F=Rn(O[0]),N=!0)}!N&&Z.length>3&&(w.f=Z[3])}if(d.s.r>g.r&&(d.s.r=g.r),d.s.c>T&&(d.s.c=T),d.e.r<g.r&&(d.e.r=g.r),d.e.c<T&&(d.e.c=T),o.cellDates&&b&&w.t=="n"&&Rm(gn[b.numFmtId])){var q=Hf(w.v);q&&(w.t="d",w.v=new Date(q.y,q.m-1,q.d,q.H,q.M,q.S,q.u))}K&&(K.type=="XLDAPR"&&(w.D=!0),K=void 0);break;case 1:case 12:if(!o.sheetStubs||h)break;w={t:"z",v:void 0},T=Z[0].c==-1?T+1:Z[0].c,o.dense?(l[E]||(l[E]=[]),l[E][T]=w):l[ys(T)+F]=w,d.s.r>g.r&&(d.s.r=g.r),d.s.c>T&&(d.s.c=T),d.e.r<g.r&&(d.e.r=g.r),d.e.c<T&&(d.e.c=T),K&&(K.type=="XLDAPR"&&(w.D=!0),K=void 0);break;case 176:P.push(Z);break;case 49:K=((o.xlmeta||{}).Cell||[])[Z-1];break;case 494:var J=r["!id"][Z.relId];for(J?(Z.Target=J.Target,Z.loc&&(Z.Target+="#"+Z.loc),Z.Rel=J):Z.relId==""&&(Z.Target="#"+Z.loc),E=Z.rfx.s.r;E<=Z.rfx.e.r;++E)for(T=Z.rfx.s.c;T<=Z.rfx.e.c;++T)o.dense?(l[E]||(l[E]=[]),l[E][T]||(l[E][T]={t:"z",v:void 0}),l[E][T].l=Z):(I=wn({c:T,r:E}),l[I]||(l[I]={t:"z",v:void 0}),l[I].l=Z);break;case 426:if(!o.cellFormula)break;B.push(Z),D=o.dense?l[E][T]:l[ys(T)+F],D.f=Ti(Z[1],d,{r:g.r,c:T},U,o),D.F=Rn(Z[0]);break;case 427:if(!o.cellFormula)break;V[wn(Z[0].s)]=Z[1],D=o.dense?l[E][T]:l[ys(T)+F],D.f=Ti(Z[1],d,{r:g.r,c:T},U,o);break;case 60:if(!o.cellStyles)break;for(;Z.e>=Z.s;)j[Z.e--]={width:Z.w/256,hidden:!!(Z.flags&1),level:Z.level},se||(se=!0,K5(Z.w/256)),Zd(j[Z.e+1]);break;case 161:l["!autofilter"]={ref:Rn(Z)};break;case 476:l["!margins"]=Z;break;case 147:s.Sheets[n]||(s.Sheets[n]={}),Z.name&&(s.Sheets[n].CodeName=Z.name),(Z.above||Z.left)&&(l["!outline"]={above:Z.above,left:Z.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),Z.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!ee.T){if(!h||o.WTF)throw new Error("Unexpected record 0x"+he.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(d.s.r<2e6||A&&(A.e.r>0||A.e.c>0||A.s.r>0||A.s.c>0))&&(l["!ref"]=Rn(A||d)),o.sheetRows&&l["!ref"]){var Y=pr(l["!ref"]);o.sheetRows<=+Y.e.r&&(Y.e.r=o.sheetRows-1,Y.e.r>d.e.r&&(Y.e.r=d.e.r),Y.e.r<Y.s.r&&(Y.s.r=Y.e.r),Y.e.c>d.e.c&&(Y.e.c=d.e.c),Y.e.c<Y.s.c&&(Y.s.c=Y.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Rn(Y))}return P.length>0&&(l["!merges"]=P),j.length>0&&(l["!cols"]=j),G.length>0&&(l["!rows"]=G),l}function g0e(t,e,n,r,s,a,i){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=os(e),e.z=e.z||gn[14],e.v=Ba(is(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r:n,c:r};switch(l.s=cf(s.cellXfs,e,s),e.l&&a["!links"].push([wn(l),e.l]),e.c&&a["!comments"].push([wn(l),e.c]),e.t){case"s":case"str":return s.bookSST?(o=J5(s.Strings,e.v,s.revStrings),l.t="s",l.v=o,i?bt(t,18,Lhe(e,l)):bt(t,7,Dhe(e,l))):(l.t="str",i?bt(t,17,Whe(e,l)):bt(t,6,Khe(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?i?bt(t,13,Vhe(e,l)):bt(t,2,Qhe(e,l)):i?bt(t,16,Ohe(e,l)):bt(t,5,Phe(e,l)),!0;case"b":return l.t="b",i?bt(t,15,Bhe(e,l)):bt(t,4,She(e,l)),!0;case"e":return l.t="e",i?bt(t,14,Fhe(e,l)):bt(t,3,khe(e,l)),!0}return i?bt(t,12,Ehe(e,l)):bt(t,1,bhe(e,l)),!0}function x0e(t,e,n,r){var s=pr(e["!ref"]||"A1"),a,i="",o=[];bt(t,145);var l=Array.isArray(e),A=s.e.r;e["!rows"]&&(A=Math.max(s.e.r,e["!rows"].length-1));for(var d=s.s.r;d<=A;++d){i=Js(d),mhe(t,e,s,d);var h=!1;if(d<=s.e.r)for(var p=s.s.c;p<=s.e.c;++p){d===s.s.r&&(o[p]=ys(p)),a=o[p]+i;var g=l?(e[d]||[])[p]:e[a];if(!g){h=!1;continue}h=g0e(t,g,d,p,r,e,h)}}bt(t,146)}function v0e(t,e){!e||!e["!merges"]||(bt(t,177,t0e(e["!merges"].length)),e["!merges"].forEach(function(n){bt(t,176,e0e(n))}),bt(t,178))}function y0e(t,e){!e||!e["!cols"]||(bt(t,390),e["!cols"].forEach(function(n,r){n&&bt(t,60,o0e(r,n))}),bt(t,391))}function w0e(t,e){!e||!e["!ref"]||(bt(t,648),bt(t,649,d0e(pr(e["!ref"]))),bt(t,650))}function b0e(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var s=Lr(n,-1,r[1].Target.replace(/#.*$/,""),Jn.HLINK);bt(t,494,r0e(r,s))}}),delete e["!links"]}function C0e(t,e,n,r){if(e["!comments"].length>0){var s=Lr(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Jn.VML);bt(t,551,P5("rId"+s)),e["!legacy"]=s}}function E0e(t,e,n,r){if(e["!autofilter"]){var s=e["!autofilter"],a=typeof s.ref=="string"?s.ref:Rn(s.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var i=n.Workbook.Names,o=xo(a);o.s.r==o.e.r&&(o.e.r=xo(e["!ref"]).e.r,a=Rn(o));for(var l=0;l<i.length;++l){var A=i[l];if(A.Name=="_xlnm._FilterDatabase"&&A.Sheet==r){A.Ref="'"+n.SheetNames[r]+"'!"+a;break}}l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),bt(t,161,Lm(pr(a))),bt(t,162)}}function _0e(t,e,n){bt(t,133),bt(t,137,u0e(e,n)),bt(t,138),bt(t,134)}function S0e(t,e){e["!protect"]&&bt(t,535,f0e(e["!protect"]))}function T0e(t,e,n,r){var s=mo(),a=n.SheetNames[t],i=n.Sheets[a]||{},o=a;try{n&&n.Workbook&&(o=n.Workbook.Sheets[t].CodeName||o)}catch{}var l=pr(i["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],bt(s,129),(n.vbaraw||i["!outline"])&&bt(s,147,yhe(o,i["!outline"])),bt(s,148,ghe(l)),_0e(s,i,n.Workbook),y0e(s,i),x0e(s,i,t,e),S0e(s,i),E0e(s,i,n,t),v0e(s,i),b0e(s,i,r),i["!margins"]&&bt(s,476,c0e(i["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&w0e(s,i),C0e(s,i,t,r),bt(s,130),s.end()}function B0e(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var i=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(e[+i[1]]=n?+i[2]:i[2])});var s=mr((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){r=a.replace(/<.*?>/g,"")}),[e,s,r]}function N0e(t,e,n,r,s,a){var i=a||{"!type":"chart"};if(!t)return a;var o=0,l=0,A="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var p=B0e(h);d.s.r=d.s.c=0,d.e.c=o,A=ys(o),p[0].forEach(function(g,w){i[A+Js(w)]={t:"n",v:g,z:p[1]},l=w}),d.e.r<l&&(d.e.r=l),++o}),o>0&&(i["!ref"]=Rn(d)),i}function k0e(t,e,n,r,s){if(!t)return t;r||(r={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},i,o=t.match(RP);return o&&X5(o[0],a,s,n),(i=t.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=i[1]),r["!id"][a["!rel"]]&&(a["!drawel"]=r["!id"][a["!rel"]]),a}function I0e(t,e){t.l+=10;var n=Di(t);return{name:n}}function F0e(t,e,n,r,s){if(!t)return t;r||(r={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},i=!1;return Bu(t,function(l,A,d){switch(d){case 550:a["!rel"]=l;break;case 651:s.Sheets[n]||(s.Sheets[n]={}),l.name&&(s.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(A.T>0)){if(!(A.T<0)){if(!i||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},e),r["!id"][a["!rel"]]&&(a["!drawel"]=r["!id"][a["!rel"]]),a}var Z5=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],R0e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],D0e=[],U0e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function _F(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],s=0;s!=e.length;++s){var a=e[s];if(r[a[0]]==null)r[a[0]]=a[1];else switch(a[2]){case"bool":typeof r[a[0]]=="string"&&(r[a[0]]=ns(r[a[0]]));break;case"int":typeof r[a[0]]=="string"&&(r[a[0]]=parseInt(r[a[0]],10));break}}}function SF(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=ns(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function MP(t){SF(t.WBProps,Z5),SF(t.CalcPr,U0e),_F(t.WBView,R0e),_F(t.Sheets,D0e),Z0.date1904=ns(t.WBProps.date1904)}function L0e(t){return!t.Workbook||!t.Workbook.WBProps?"false":ns(t.Workbook.WBProps.date1904)?"true":"false"}var M0e="][*?/\\".split("");function PP(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return M0e.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function P0e(t,e,n){t.forEach(function(r,s){PP(r);for(var a=0;a<s;++a)if(r==t[a])throw new Error("Duplicate Sheet Name: "+r);if(n){var i=e&&e[s]&&e[s].CodeName||r;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function O0e(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];P0e(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)Lfe(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}var j0e=/<\w+:workbook/;function Q0e(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,s="xmlns",a={},i=0;if(t.replace(Pi,function(l,A){var d=_n(l);switch(bA(d[0])){case"<?xml":break;case"<workbook":l.match(j0e)&&(s="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=d[s];break;case"</workbook>":break;case"<fileVersion":delete d[0],n.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Z5.forEach(function(h){if(d[h[0]]!=null)switch(h[2]){case"bool":n.WBProps[h[0]]=ns(d[h[0]]);break;case"int":n.WBProps[h[0]]=parseInt(d[h[0]],10);break;default:n.WBProps[h[0]]=d[h[0]]}}),d.codeName&&(n.WBProps.CodeName=qr(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],n.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=mr(qr(d.name)),delete d[0],n.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":a={},a.Name=qr(d.name),d.comment&&(a.Comment=d.comment),d.localSheetId&&(a.Sheet=+d.localSheetId),ns(d.hidden||"0")&&(a.Hidden=!0),i=A+l.length;break;case"</definedName>":a.Ref=mr(qr(t.slice(i,A))),n.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete d[0],n.CalcPr=d;break;case"<calcPr/>":delete d[0],n.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),bh.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return MP(n),n}function OP(t){var e=[Xs];e[e.length]=Dt("workbook",null,{xmlns:bh[0],"xmlns:r":Ea.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(Z5.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Dt("workbookPr",null,r);var s=t.Workbook&&t.Workbook.Sheets||[],a=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!s[a]||!s[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var i={name:Pr(t.SheetNames[a].slice(0,31))};if(i.sheetId=""+(a+1),i["r:id"]="rId"+(a+1),s[a])switch(s[a].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}e[e.length]=Dt("sheet",null,i)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=Dt("definedName",Pr(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function H0e(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=b_(t),n.name=Di(t),n}function V0e(t,e){return e||(e=lt(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),P5(t.strRelID,e),Ha(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function G0e(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var s=e>8?Di(t):"";return s.length>0&&(n.CodeName=s),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function z0e(t,e){e||(e=lt(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),kM(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function K0e(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function q0e(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),a=Coe(t),i=kfe(t,0,n),o=M5(t);t.l=r;var l={Name:a,Ptg:i};return s<268435455&&(l.Sheet=s),o&&(l.Comment=o),l}function W0e(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],s=!1;e||(e={}),e.biff=12;var a=[],i=[[]];return i.SheetNames=[],i.XTI=[],Wg[16]={n:"BrtFRTArchID$",f:K0e},Bu(t,function(l,A,d){switch(d){case 156:i.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=Ti(l.Ptg,null,null,i,e),delete e.SID,delete l.Ptg,a.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([d,l]):i[0]=[d,l],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(l),i.XTI=i.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(d),s=!0;break;case 36:r.pop(),s=!1;break;case 37:r.push(d),s=!0;break;case 38:r.pop(),s=!1;break;case 16:break;default:if(!A.T){if(!s||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},e),MP(n),n.Names=a,n.supbooks=i,n}function $0e(t,e){bt(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,s={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};bt(t,156,V0e(s))}bt(t,144)}function Y0e(t,e){e||(e=lt(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Ha("SheetJS",e),Ha(M2.version,e),Ha(M2.version,e),Ha("7262",e),e.length>e.l?e.slice(0,e.l):e}function J0e(t,e){e||(e=lt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function X0e(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,s=-1,a=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&s==-1?s=r:n[r].Hidden==1&&a==-1&&(a=r);a>s||(bt(t,135),bt(t,158,J0e(s)),bt(t,136))}}function Z0e(t,e){var n=mo();return bt(n,131),bt(n,128,Y0e()),bt(n,153,z0e(t.Workbook&&t.Workbook.WBProps||null)),X0e(n,t),$0e(n,t),bt(n,132),n.end()}function eme(t,e,n){return e.slice(-4)===".bin"?W0e(t,n):Q0e(t,n)}function tme(t,e,n,r,s,a,i,o){return e.slice(-4)===".bin"?p0e(t,r,n,s,a,i,o):qfe(t,r,n,s,a,i,o)}function nme(t,e,n,r,s,a,i,o){return e.slice(-4)===".bin"?F0e(t,r,n,s,a):k0e(t,r,n,s,a)}function rme(t,e,n,r,s,a,i,o){return e.slice(-4)===".bin"?ade():ide()}function sme(t,e,n,r,s,a,i,o){return e.slice(-4)===".bin"?rde():sde()}function ame(t,e,n,r){return e.slice(-4)===".bin"?eue(t,n,r):HAe(t,n,r)}function ime(t,e,n){return vP(t,n)}function ome(t,e,n){return e.slice(-4)===".bin"?oAe(t,n):sAe(t,n)}function lme(t,e,n){return e.slice(-4)===".bin"?Xue(t,n):Vue(t,n)}function cme(t,e,n){return e.slice(-4)===".bin"?jue(t):Pue(t)}function Ame(t,e,n,r){return n.slice(-4)===".bin"?Que(t,e,n,r):void 0}function ume(t,e,n){return e.slice(-4)===".bin"?Uue(t,e,n):Mue(t,e,n)}function dme(t,e,n){return(e.slice(-4)===".bin"?Z0e:OP)(t)}function fme(t,e,n,r,s){return(e.slice(-4)===".bin"?T0e:DP)(t,n,r,s)}function hme(t,e,n){return(e.slice(-4)===".bin"?Aue:gP)(t,n)}function mme(t,e,n){return(e.slice(-4)===".bin"?AAe:cP)(t,n)}function pme(t,e,n){return(e.slice(-4)===".bin"?Zue:bP)(t)}function gme(t){return(t.slice(-4)===".bin"?Lue:yP)()}var jP=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,QP=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ac(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var s=t.match(jP),a,i,o,l;if(s)for(l=0;l!=s.length;++l)a=s[l].match(QP),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),r[o]=a[2].slice(1,a[2].length-1));return r}function xme(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(jP),s,a,i,o;if(r)for(o=0;o!=r.length;++o)s=r[o].match(QP),(a=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?i="xmlns"+s[1].slice(6):i=s[1].slice(a+1),n[i]=s[2].slice(1,s[2].length-1));return n}var yg;function vme(t,e){var n=yg[t]||mr(t);return n==="General"?lh(e):Fl(n,e)}function yme(t,e,n,r){var s=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=ns(r);break;case"i2":case"int":s=parseInt(r,10);break;case"r4":case"float":s=parseFloat(r);break;case"date":case"dateTime.tz":s=is(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[mr(e)]=s}function wme(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||Nu[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Og(t.v):t.w=lh(t.v):t.w=vme(e||"General",t.v)}catch(a){if(n.WTF)throw a}try{var r=yg[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&Rm(r)){var s=Hf(t.v);s&&(t.t="d",t.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(a){if(n.WTF)throw a}}}function bme(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=DAe[r.Pattern]||r.Pattern)}t[e.ID]=e}function Cme(t,e,n,r,s,a,i,o,l,A){var d="General",h=r.StyleID,p={};A=A||{};var g=[],w=0;for(h===void 0&&o&&(h=o.StyleID),h===void 0&&i&&(h=i.StyleID);a[h]!==void 0&&(a[h].nf&&(d=a[h].nf),a[h].Interior&&g.push(a[h].Interior),!!a[h].Parent);)h=a[h].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=ns(t);break;case"String":r.t="s",r.r=VI(mr(t)),r.v=t.indexOf("<")>-1?mr(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(is(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=mr(t):r.v<60&&(r.v=r.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=UM[t],A.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=VI(e||t));break}if(wme(r,d,A),A.cellFormula!==!1)if(r.Formula){var b=mr(r.Formula);b.charCodeAt(0)==61&&(b=b.slice(1)),r.f=X0(b,s),delete r.Formula,r.ArrayRange=="RC"?r.F=X0("RC:RC",s):r.ArrayRange&&(r.F=X0(r.ArrayRange,s),l.push([pr(r.F),r.F]))}else for(w=0;w<l.length;++w)s.r>=l[w][0].s.r&&s.r<=l[w][0].e.r&&s.c>=l[w][0].s.c&&s.c<=l[w][0].e.c&&(r.F=l[w][1]);A.cellStyles&&(g.forEach(function(E){!p.patternType&&E.patternType&&(p.patternType=E.patternType)}),r.s=p),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function Eme(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function NC(t,e){var n=e||{};Dm();var r=Kp(I5(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=qr(r));var s=r.slice(0,1024).toLowerCase(),a=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var i=os(n);return i.type="string",hm.to_workbook(r,i)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(nt){s.indexOf("<"+nt)>=0&&(a=!0)}),a)return cpe(r,n);yg={"General Number":"General","General Date":gn[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":gn[15],"Short Date":gn[14],"Long Time":gn[19],"Medium Time":gn[18],"Short Time":gn[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:gn[2],Standard:gn[4],Percent:gn[10],Scientific:gn[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],A,d={},h=[],p=n.dense?[]:{},g="",w={},b={},E=ac('<Data ss:Type="String">'),T=0,I=0,k=0,F={s:{r:2e6,c:2e6},e:{r:0,c:0}},D={},P={},S="",N=0,B=[],V={},U={},L=0,j=[],G=[],se={},K=[],Y,oe=!1,Z=[],ee=[],he={},O=0,q=0,J={Sheets:[],WBProps:{date1904:!1}},ne={};Hg.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var ae="";o=Hg.exec(r);)switch(o[3]=(ae=o[3]).toLowerCase()){case"data":if(ae=="data"){if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?Cme(r.slice(T,o.index),S,E,l[l.length-1][0]=="comment"?se:w,{c:I,r:k},D,K[I],b,Z,n):(S="",E=ac(o[0]),T=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(G.length>0&&(w.c=G),(!n.sheetRows||n.sheetRows>k)&&w.v!==void 0&&(n.dense?(p[k]||(p[k]=[]),p[k][I]=w):p[ys(I)+Js(k)]=w),w.HRef&&(w.l={Target:mr(w.HRef)},w.HRefScreenTip&&(w.l.Tooltip=w.HRefScreenTip),delete w.HRef,delete w.HRefScreenTip),(w.MergeAcross||w.MergeDown)&&(O=I+(parseInt(w.MergeAcross,10)|0),q=k+(parseInt(w.MergeDown,10)|0),B.push({s:{c:I,r:k},e:{c:O,r:q}})),!n.sheetStubs)w.MergeAcross?I=O+1:++I;else if(w.MergeAcross||w.MergeDown){for(var ue=I;ue<=O;++ue)for(var pe=k;pe<=q;++pe)(ue>I||pe>k)&&(n.dense?(p[pe]||(p[pe]=[]),p[pe][ue]={t:"z"}):p[ys(ue)+Js(pe)]={t:"z"});I=O+1}else++I;else w=xme(o[0]),w.Index&&(I=+w.Index-1),I<F.s.c&&(F.s.c=I),I>F.e.c&&(F.e.c=I),o[0].slice(-2)==="/>"&&++I,G=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(k<F.s.r&&(F.s.r=k),k>F.e.r&&(F.e.r=k),o[0].slice(-2)==="/>"&&(b=ac(o[0]),b.Index&&(k=+b.Index-1)),I=0,++k):(b=ac(o[0]),b.Index&&(k=+b.Index-1),he={},(b.AutoFitHeight=="0"||b.Height)&&(he.hpx=parseInt(b.Height,10),he.hpt=qg(he.hpx),ee[k]=he),b.Hidden=="1"&&(he.hidden=!0,ee[k]=he));break;case"worksheet":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"));h.push(g),F.s.r<=F.e.r&&F.s.c<=F.e.c&&(p["!ref"]=Rn(F),n.sheetRows&&n.sheetRows<=F.e.r&&(p["!fullref"]=p["!ref"],F.e.r=n.sheetRows-1,p["!ref"]=Rn(F))),B.length&&(p["!merges"]=B),K.length>0&&(p["!cols"]=K),ee.length>0&&(p["!rows"]=ee),d[g]=p}else F={s:{r:2e6,c:2e6},e:{r:0,c:0}},k=I=0,l.push([o[3],!1]),A=ac(o[0]),g=mr(A.Name),p=n.dense?[]:{},B=[],Z=[],ee=[],ne={name:g,Hidden:0},J.Sheets.push(ne);break;case"table":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),K=[],oe=!1}break;case"style":o[1]==="/"?bme(D,P,n):P=ac(o[0]);break;case"numberformat":P.nf=mr(ac(o[0]).Format||"General"),yg[P.nf]&&(P.nf=yg[P.nf]);for(var ye=0;ye!=392&&gn[ye]!=P.nf;++ye);if(ye==392){for(ye=57;ye!=392;++ye)if(gn[ye]==null){fu(P.nf,ye);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(Y=ac(o[0]),Y.Hidden&&(Y.hidden=!0,delete Y.Hidden),Y.Width&&(Y.wpx=parseInt(Y.Width,10)),!oe&&Y.wpx>10){oe=!0,ki=mP;for(var Ie=0;Ie<K.length;++Ie)K[Ie]&&Zd(K[Ie])}oe&&Zd(Y),K[Y.Index-1||K.length]=Y;for(var we=0;we<+Y.Span;++we)K[K.length]=os(Y);break;case"namedrange":if(o[1]==="/")break;J.Names||(J.Names=[]);var ie=_n(o[0]),De={Name:ie.Name,Ref:X0(ie.RefersTo.slice(1),{r:0,c:0})};J.Sheets.length>0&&(De.Sheet=J.Sheets.length-1),J.Names.push(De);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?S+=r.slice(N,o.index):N=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;P.Interior=ac(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Woe(V,ae,r.slice(L,o.index)):L=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"));Eme(se),G.push(se)}else l.push([o[3],!1]),A=ac(o[0]),se={a:A.Author};break;case"autofilter":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var st=ac(o[0]);p["!autofilter"]={ref:X0(st.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return IF(r,n);var Ue=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ue=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ue=!1}break;case"excelworkbook":switch(o[3]){case"date1904":J.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ue=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Ue=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(L,o.index)){case"SheetHidden":ne.Hidden=1;break;case"SheetVeryHidden":ne.Hidden=2;break}else L=o.index+o[0].length;break;case"header":p["!margins"]||Xf(p["!margins"]={},"xlml"),isNaN(+_n(o[0]).Margin)||(p["!margins"].header=+_n(o[0]).Margin);break;case"footer":p["!margins"]||Xf(p["!margins"]={},"xlml"),isNaN(+_n(o[0]).Margin)||(p["!margins"].footer=+_n(o[0]).Margin);break;case"pagemargins":var Ee=_n(o[0]);p["!margins"]||Xf(p["!margins"]={},"xlml"),isNaN(+Ee.Top)||(p["!margins"].top=+Ee.Top),isNaN(+Ee.Left)||(p["!margins"].left=+Ee.Left),isNaN(+Ee.Right)||(p["!margins"].right=+Ee.Right),isNaN(+Ee.Bottom)||(p["!margins"].bottom=+Ee.Bottom);break;case"displayrighttoleft":J.Views||(J.Views=[]),J.Views[0]||(J.Views[0]={}),J.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ue=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ue=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ue=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ue=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ue=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ue=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ue=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ue=!1}break;case"smarttags":break;default:Ue=!1;break}if(Ue||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?yme(U,ae,j,r.slice(L,o.index)):(j=o,L=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var ze={};return!n.bookSheets&&!n.bookProps&&(ze.Sheets=d),ze.SheetNames=h,ze.Workbook=J,ze.SSF=os(gn),ze.Props=V,ze.Custprops=U,ze}function N_(t,e){switch(t4(e=e||{}),e.type||"base64"){case"base64":return NC(zo(t),e);case"binary":case"buffer":case"file":return NC(t,e);case"array":return NC(of(t),e)}}function _me(t,e){var n=[];return t.Props&&n.push($oe(t.Props,e)),t.Custprops&&n.push(Yoe(t.Props,t.Custprops)),n.join("")}function Sme(){return""}function Tme(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,s){var a=[];a.push(Dt("NumberFormat",null,{"ss:Format":Pr(gn[r.numFmtId])}));var i={"ss:ID":"s"+(21+s)};n.push(Dt("Style",a.join(""),i))}),Dt("Styles",n.join(""))}function HP(t){return Dt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+$5(t.Ref,{r:0,c:0})})}function Bme(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var s=e[r];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||n.push(HP(s)))}return Dt("Names",n.join(""))}function Nme(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var s=r.Workbook.Names,a=[],i=0;i<s.length;++i){var o=s[i];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||a.push(HP(o)))}return a.join("")}function kme(t,e,n,r){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(Dt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(Dt("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(Dt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)s.push(Dt("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<n&&!(r.Workbook.Sheets[a]&&!r.Workbook.Sheets[a].Hidden);++a);a==n&&s.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(ni("ProtectContents","True")),t["!protect"].objects&&s.push(ni("ProtectObjects","True")),t["!protect"].scenarios&&s.push(ni("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push(ni("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push(ni("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){t["!protect"][i[0]]&&s.push("<"+i[1]+"/>")})),s.length==0?"":Dt("WorksheetOptions",s.join(""),{xmlns:Oo.x})}function Ime(t){return t.map(function(e){var n=Xie(e.t||""),r=Dt("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Dt("Comment",r,{"ss:Author":e.a})}).join("")}function Fme(t,e,n,r,s,a,i){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Pr($5(t.f,i))),t.F&&t.F.slice(0,e.length)==e){var l=ws(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==i.r?"":"["+(l.r-i.r)+"]")+"C"+(l.c==i.c?"":"["+(l.c-i.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Pr(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Pr(t.l.Tooltip))),n["!merges"])for(var A=n["!merges"],d=0;d!=A.length;++d)A[d].s.c!=i.c||A[d].s.r!=i.r||(A[d].e.c>A[d].s.c&&(o["ss:MergeAcross"]=A[d].e.c-A[d].s.c),A[d].e.r>A[d].s.r&&(o["ss:MergeDown"]=A[d].e.r-A[d].s.r));var h="",p="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":h="Number",p=String(t.v);break;case"b":h="Boolean",p=t.v?"1":"0";break;case"e":h="Error",p=Nu[t.v];break;case"d":h="DateTime",p=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||gn[14]);break;case"s":h="String",p=Jie(t.v||"");break}var g=cf(r.cellXfs,t,r);o["ss:StyleID"]="s"+(21+g),o["ss:Index"]=i.c+1;var w=t.v!=null?p:"",b=t.t=="z"?"":'<Data ss:Type="'+h+'">'+w+"</Data>";return(t.c||[]).length>0&&(b+=Ime(t.c)),Dt("Cell",b,o)}function Rme(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=mm(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function Dme(t,e,n,r){if(!t["!ref"])return"";var s=pr(t["!ref"]),a=t["!merges"]||[],i=0,o=[];t["!cols"]&&t["!cols"].forEach(function(E,T){Zd(E);var I=!!E.width,k=sw(T,E),F={"ss:Index":T+1};I&&(F["ss:Width"]=zg(k.width)),E.hidden&&(F["ss:Hidden"]="1"),o.push(Dt("Column",null,F))});for(var l=Array.isArray(t),A=s.s.r;A<=s.e.r;++A){for(var d=[Rme(A,(t["!rows"]||[])[A])],h=s.s.c;h<=s.e.c;++h){var p=!1;for(i=0;i!=a.length;++i)if(!(a[i].s.c>h)&&!(a[i].s.r>A)&&!(a[i].e.c<h)&&!(a[i].e.r<A)){(a[i].s.c!=h||a[i].s.r!=A)&&(p=!0);break}if(!p){var g={r:A,c:h},w=wn(g),b=l?(t[A]||[])[h]:t[w];d.push(Fme(b,w,t,e,n,r,g))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function Ume(t,e,n){var r=[],s=n.SheetNames[t],a=n.Sheets[s],i=a?Nme(a,e,t,n):"";return i.length>0&&r.push("<Names>"+i+"</Names>"),i=a?Dme(a,e,t,n):"",i.length>0&&r.push("<Table>"+i+"</Table>"),r.push(kme(a,e,t,n)),r.join("")}function Lme(t,e){e||(e={}),t.SSF||(t.SSF=os(gn)),t.SSF&&(Dm(),Jy(t.SSF),e.revssf=Zy(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],cf(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(_me(t,e)),n.push(Sme()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(Dt("Worksheet",Ume(r,e,t),{"ss:Name":Pr(t.SheetNames[r])}));return n[2]=Tme(t,e),n[3]=Bme(t),Xs+Dt("Workbook",n.join(""),{xmlns:Oo.ss,"xmlns:o":Oo.o,"xmlns:x":Oo.x,"xmlns:ss":Oo.ss,"xmlns:dt":Oo.dt,"xmlns:html":Oo.html})}function Mme(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=Boe(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=Noe(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var Pme=[60,1084,2066,2165,2175];function Ome(t,e,n,r,s){var a=r,i=[],o=n.slice(n.l,n.l+a);if(s&&s.enc&&s.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(o)}i.push(o),n.l+=a;for(var l=cu(n,n.l),A=k_[l],d=0;A!=null&&Pme.indexOf(l)>-1;)a=cu(n,n.l+2),d=n.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),o=n.slice(d,n.l+4+a),i.push(o),n.l+=4+a,A=k_[l=cu(n,n.l)];var h=Qa(i);ei(h,0);var p=0;h.lens=[];for(var g=0;g<i.length;++g)h.lens.push(p),p+=i[g].length;if(h.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+h.length+" < "+r;return e.f(h,h.length,s)}function eA(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=gn[r])}catch(a){if(e.WTF)throw a}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Nu[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Og(t.v):t.w=lh(t.v):t.w=Fl(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(a){if(e.WTF)throw a}if(e.cellDates&&r&&t.t=="n"&&Rm(gn[r]||String(r))){var s=Hf(t.v);s&&(t.t="d",t.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function ev(t,e,n){return{v:t,ixfe:e,t:n}}function jme(t,e){var n={opts:{}},r={},s=e.dense?[]:{},a={},i={},o=null,l=[],A="",d={},h,p="",g,w,b,E,T={},I=[],k,F,D=[],P=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},B=function(It){return It<8?$f[It]:It<64&&P[It-8]||$f[It]},V=function(It,gt,xn){var Wt=gt.XF.data;if(!(!Wt||!Wt.patternType||!xn||!xn.cellStyles)){gt.s={},gt.s.patternType=Wt.patternType;var ir;(ir=Gg(B(Wt.icvFore)))&&(gt.s.fgColor={rgb:ir}),(ir=Gg(B(Wt.icvBack)))&&(gt.s.bgColor={rgb:ir})}},U=function(It,gt,xn){if(!(he>1)&&!(xn.sheetRows&&It.r>=xn.sheetRows)){if(xn.cellStyles&&gt.XF&&gt.XF.data&&V(It,gt,xn),delete gt.ixfe,delete gt.XF,h=It,p=wn(It),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),It.r<i.s.r&&(i.s.r=It.r),It.c<i.s.c&&(i.s.c=It.c),It.r+1>i.e.r&&(i.e.r=It.r+1),It.c+1>i.e.c&&(i.e.c=It.c+1),xn.cellFormula&&gt.f){for(var Wt=0;Wt<I.length;++Wt)if(!(I[Wt][0].s.c>It.c||I[Wt][0].s.r>It.r)&&!(I[Wt][0].e.c<It.c||I[Wt][0].e.r<It.r)){gt.F=Rn(I[Wt][0]),(I[Wt][0].s.c!=It.c||I[Wt][0].s.r!=It.r)&&delete gt.f,gt.f&&(gt.f=""+Ti(I[Wt][1],i,It,Z,L));break}}xn.dense?(s[It.r]||(s[It.r]=[]),s[It.r][It.c]=gt):s[p]=gt}},L={enc:!1,sbcch:0,snames:[],sharedf:T,arrayf:I,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(L.password=e.password);var j,G=[],se=[],K=[],Y=[],oe=!1,Z=[];Z.SheetNames=L.snames,Z.sharedf=L.sharedf,Z.arrayf=L.arrayf,Z.names=[],Z.XTI=[];var ee=0,he=0,O=0,q=[],J=[],ne;L.codepage=1200,dc(1200);for(var ae=!1;t.l<t.length-1;){var ue=t.l,pe=t.read_shift(2);if(pe===0&&ee===10)break;var ye=t.l===t.length?0:t.read_shift(2),Ie=k_[pe];if(Ie&&Ie.f){if(e.bookSheets&&ee===133&&pe!==133)break;if(ee=pe,Ie.r===2||Ie.r==12){var we=t.read_shift(2);if(ye-=2,!L.enc&&we!==pe&&((we&255)<<8|we>>8)!==pe)throw new Error("rt mismatch: "+we+"!="+pe);Ie.r==12&&(t.l+=10,ye-=10)}var ie={};if(pe===10?ie=Ie.f(t,ye,L):ie=Ome(pe,Ie,t,ye,L),he==0&&[9,521,1033,2057].indexOf(ee)===-1)continue;switch(pe){case 34:n.opts.Date1904=S.WBProps.date1904=ie;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(L.enc||(t.l=0),L.enc=ie,!e.password)throw new Error("File is password-protected");if(ie.valid==null)throw new Error("Encryption scheme unsupported");if(!ie.valid)throw new Error("Password is incorrect");break;case 92:L.lastuser=ie;break;case 66:var De=Number(ie);switch(De){case 21010:De=1200;break;case 32768:De=1e4;break;case 32769:De=1252;break}dc(L.codepage=De),ae=!0;break;case 317:L.rrtabid=ie;break;case 25:L.winlocked=ie;break;case 439:n.opts.RefreshAll=ie;break;case 12:n.opts.CalcCount=ie;break;case 16:n.opts.CalcDelta=ie;break;case 17:n.opts.CalcIter=ie;break;case 13:n.opts.CalcMode=ie;break;case 14:n.opts.CalcPrecision=ie;break;case 95:n.opts.CalcSaveRecalc=ie;break;case 15:L.CalcRefMode=ie;break;case 2211:n.opts.FullCalc=ie;break;case 129:ie.fDialog&&(s["!type"]="dialog"),ie.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),ie.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:D.push(ie);break;case 430:Z.push([ie]),Z[Z.length-1].XTI=[];break;case 35:case 547:Z[Z.length-1].push(ie);break;case 24:case 536:ne={Name:ie.Name,Ref:Ti(ie.rgce,i,null,Z,L)},ie.itab>0&&(ne.Sheet=ie.itab-1),Z.names.push(ne),Z[0]||(Z[0]=[],Z[0].XTI=[]),Z[Z.length-1].push(ie),ie.Name=="_xlnm._FilterDatabase"&&ie.itab>0&&ie.rgce&&ie.rgce[0]&&ie.rgce[0][0]&&ie.rgce[0][0][0]=="PtgArea3d"&&(J[ie.itab-1]={ref:Rn(ie.rgce[0][0][1][2])});break;case 22:L.ExternCount=ie;break;case 23:Z.length==0&&(Z[0]=[],Z[0].XTI=[]),Z[Z.length-1].XTI=Z[Z.length-1].XTI.concat(ie),Z.XTI=Z.XTI.concat(ie);break;case 2196:if(L.biff<8)break;ne!=null&&(ne.Comment=ie[1]);break;case 18:s["!protect"]=ie;break;case 19:ie!==0&&L.WTF&&console.error("Password verifier: "+ie);break;case 133:a[ie.pos]=ie,L.snames.push(ie.name);break;case 10:{if(--he)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,s["!ref"]=Rn(i),e.sheetRows&&e.sheetRows<=i.e.r){var st=i.e.r;i.e.r=e.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=Rn(i),i.e.r=st}i.e.r++,i.e.c++}G.length>0&&(s["!merges"]=G),se.length>0&&(s["!objects"]=se),K.length>0&&(s["!cols"]=K),Y.length>0&&(s["!rows"]=Y),S.Sheets.push(N)}A===""?d=s:r[A]=s,s=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(L.biff===8&&(L.biff={9:2,521:3,1033:4}[pe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ie.BIFFVer]||8),L.biffguess=ie.BIFFVer==0,ie.BIFFVer==0&&ie.dt==4096&&(L.biff=5,ae=!0,dc(L.codepage=28591)),L.biff==8&&ie.BIFFVer==0&&ie.dt==16&&(L.biff=2),he++)break;if(s=e.dense?[]:{},L.biff<8&&!ae&&(ae=!0,dc(L.codepage=e.codepage||1252)),L.biff<5||ie.BIFFVer==0&&ie.dt==4096){A===""&&(A="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var Ue={pos:t.l-ye,name:A};a[Ue.pos]=Ue,L.snames.push(A)}else A=(a[ue]||{name:""}).name;ie.dt==32&&(s["!type"]="chart"),ie.dt==64&&(s["!type"]="macro"),G=[],se=[],L.arrayf=I=[],K=[],Y=[],oe=!1,N={Hidden:(a[ue]||{hs:0}).hs,name:A}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(e.dense?(s[ie.r]||[])[ie.c]:s[wn({c:ie.c,r:ie.r})])&&++ie.c,k={ixfe:ie.ixfe,XF:D[ie.ixfe]||{},v:ie.val,t:"n"},O>0&&(k.z=q[k.ixfe>>8&63]),eA(k,e,n.opts.Date1904),U({c:ie.c,r:ie.r},k,e);break;case 5:case 517:k={ixfe:ie.ixfe,XF:D[ie.ixfe],v:ie.val,t:ie.t},O>0&&(k.z=q[k.ixfe>>8&63]),eA(k,e,n.opts.Date1904),U({c:ie.c,r:ie.r},k,e);break;case 638:k={ixfe:ie.ixfe,XF:D[ie.ixfe],v:ie.rknum,t:"n"},O>0&&(k.z=q[k.ixfe>>8&63]),eA(k,e,n.opts.Date1904),U({c:ie.c,r:ie.r},k,e);break;case 189:for(var Ee=ie.c;Ee<=ie.C;++Ee){var ze=ie.rkrec[Ee-ie.c][0];k={ixfe:ze,XF:D[ze],v:ie.rkrec[Ee-ie.c][1],t:"n"},O>0&&(k.z=q[k.ixfe>>8&63]),eA(k,e,n.opts.Date1904),U({c:Ee,r:ie.r},k,e)}break;case 6:case 518:case 1030:{if(ie.val=="String"){o=ie;break}if(k=ev(ie.val,ie.cell.ixfe,ie.tt),k.XF=D[k.ixfe],e.cellFormula){var nt=ie.formula;if(nt&&nt[0]&&nt[0][0]&&nt[0][0][0]=="PtgExp"){var it=nt[0][0][1][0],mt=nt[0][0][1][1],Ct=wn({r:it,c:mt});T[Ct]?k.f=""+Ti(ie.formula,i,ie.cell,Z,L):k.F=((e.dense?(s[it]||[])[mt]:s[Ct])||{}).F}else k.f=""+Ti(ie.formula,i,ie.cell,Z,L)}O>0&&(k.z=q[k.ixfe>>8&63]),eA(k,e,n.opts.Date1904),U(ie.cell,k,e),o=ie}break;case 7:case 519:if(o)o.val=ie,k=ev(ie,o.cell.ixfe,"s"),k.XF=D[k.ixfe],e.cellFormula&&(k.f=""+Ti(o.formula,i,o.cell,Z,L)),O>0&&(k.z=q[k.ixfe>>8&63]),eA(k,e,n.opts.Date1904),U(o.cell,k,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{I.push(ie);var At=wn(ie[0].s);if(g=e.dense?(s[ie[0].s.r]||[])[ie[0].s.c]:s[At],e.cellFormula&&g){if(!o||!At||!g)break;g.f=""+Ti(ie[1],i,ie[0],Z,L),g.F=Rn(ie[0])}}break;case 1212:{if(!e.cellFormula)break;if(p){if(!o)break;T[wn(o.cell)]=ie[0],g=e.dense?(s[o.cell.r]||[])[o.cell.c]:s[wn(o.cell)],(g||{}).f=""+Ti(ie[0],i,h,Z,L)}}break;case 253:k=ev(l[ie.isst].t,ie.ixfe,"s"),l[ie.isst].h&&(k.h=l[ie.isst].h),k.XF=D[k.ixfe],O>0&&(k.z=q[k.ixfe>>8&63]),eA(k,e,n.opts.Date1904),U({c:ie.c,r:ie.r},k,e);break;case 513:e.sheetStubs&&(k={ixfe:ie.ixfe,XF:D[ie.ixfe],t:"z"},O>0&&(k.z=q[k.ixfe>>8&63]),eA(k,e,n.opts.Date1904),U({c:ie.c,r:ie.r},k,e));break;case 190:if(e.sheetStubs)for(var kt=ie.c;kt<=ie.C;++kt){var Ft=ie.ixfe[kt-ie.c];k={ixfe:Ft,XF:D[Ft],t:"z"},O>0&&(k.z=q[k.ixfe>>8&63]),eA(k,e,n.opts.Date1904),U({c:kt,r:ie.r},k,e)}break;case 214:case 516:case 4:k=ev(ie.val,ie.ixfe,"s"),k.XF=D[k.ixfe],O>0&&(k.z=q[k.ixfe>>8&63]),eA(k,e,n.opts.Date1904),U({c:ie.c,r:ie.r},k,e);break;case 0:case 512:he===1&&(i=ie);break;case 252:l=ie;break;case 1054:if(L.biff==4){q[O++]=ie[1];for(var qt=0;qt<O+163&&gn[qt]!=ie[1];++qt);qt>=163&&fu(ie[1],O+163)}else fu(ie[1],ie[0]);break;case 30:{q[O++]=ie;for(var Mt=0;Mt<O+163&&gn[Mt]!=ie;++Mt);Mt>=163&&fu(ie,O+163)}break;case 229:G=G.concat(ie);break;case 93:se[ie.cmo[0]]=L.lastobj=ie;break;case 438:L.lastobj.TxO=ie;break;case 127:L.lastobj.ImData=ie;break;case 440:for(E=ie[0].s.r;E<=ie[0].e.r;++E)for(b=ie[0].s.c;b<=ie[0].e.c;++b)g=e.dense?(s[E]||[])[b]:s[wn({c:b,r:E})],g&&(g.l=ie[1]);break;case 2048:for(E=ie[0].s.r;E<=ie[0].e.r;++E)for(b=ie[0].s.c;b<=ie[0].e.c;++b)g=e.dense?(s[E]||[])[b]:s[wn({c:b,r:E})],g&&g.l&&(g.l.Tooltip=ie[1]);break;case 28:{if(L.biff<=5&&L.biff>=2)break;g=e.dense?(s[ie[0].r]||[])[ie[0].c]:s[wn(ie[0])];var Vt=se[ie[2]];g||(e.dense?(s[ie[0].r]||(s[ie[0].r]=[]),g=s[ie[0].r][ie[0].c]={t:"z"}):g=s[wn(ie[0])]={t:"z"},i.e.r=Math.max(i.e.r,ie[0].r),i.s.r=Math.min(i.s.r,ie[0].r),i.e.c=Math.max(i.e.c,ie[0].c),i.s.c=Math.min(i.s.c,ie[0].c)),g.c||(g.c=[]),w={a:ie[1],t:Vt.TxO.t},g.c.push(w)}break;case 2173:Tue(D[ie.ixfe],ie.ext);break;case 125:{if(!L.cellStyles)break;for(;ie.e>=ie.s;)K[ie.e--]={width:ie.w/256,level:ie.level||0,hidden:!!(ie.flags&1)},oe||(oe=!0,K5(ie.w/256)),Zd(K[ie.e+1])}break;case 520:{var Yt={};ie.level!=null&&(Y[ie.r]=Yt,Yt.level=ie.level),ie.hidden&&(Y[ie.r]=Yt,Yt.hidden=!0),ie.hpt&&(Y[ie.r]=Yt,Yt.hpt=ie.hpt,Yt.hpx=mm(ie.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||Xf(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[pe]]=ie;break;case 161:s["!margins"]||Xf(s["!margins"]={}),s["!margins"].header=ie.header,s["!margins"].footer=ie.footer;break;case 574:ie.RTL&&(S.Views[0].RTL=!0);break;case 146:P=ie;break;case 2198:j=ie;break;case 140:F=ie;break;case 442:A?N.CodeName=ie||N.name:S.WBProps.CodeName=ie||"ThisWorkbook";break}}else Ie||console.error("Missing Info for XLS Record 0x"+pe.toString(16)),t.l+=ye}return n.SheetNames=Ls(a).sort(function(Pt,It){return Number(Pt)-Number(It)}).map(function(Pt){return a[Pt].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&d["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=d)):n.Preamble=d,n.Sheets&&J.forEach(function(Pt,It){n.Sheets[n.SheetNames[It]]["!autofilter"]=Pt}),n.Strings=l,n.SSF=os(gn),L.enc&&(n.Encryption=L.enc),j&&(n.Themes=j),n.Metadata={},F!==void 0&&(n.Metadata.Country=F),Z.names.length>0&&(S.Names=Z.names),n.Workbook=S,n}var wg={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Qme(t,e,n){var r=ln.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var s=oF(r,C_,wg.DSI);for(var a in s)e[a]=s[a]}catch(A){if(n.WTF)throw A}var i=ln.find(t,"/!SummaryInformation");if(i&&i.size>0)try{var o=oF(i,E_,wg.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(A){if(n.WTF)throw A}e.HeadingPairs&&e.TitlesOfParts&&(QM(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function Hme(t,e){var n=[],r=[],s=[],a=0,i,o=MI(C_,"n"),l=MI(E_,"n");if(t.Props)for(i=Ls(t.Props),a=0;a<i.length;++a)(Object.prototype.hasOwnProperty.call(o,i[a])?n:Object.prototype.hasOwnProperty.call(l,i[a])?r:s).push([i[a],t.Props[i[a]]]);if(t.Custprops)for(i=Ls(t.Custprops),a=0;a<i.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},i[a])||(Object.prototype.hasOwnProperty.call(o,i[a])?n:Object.prototype.hasOwnProperty.call(l,i[a])?r:s).push([i[a],t.Custprops[i[a]]]);var A=[];for(a=0;a<s.length;++a)WM.indexOf(s[a][0])>-1||jM.indexOf(s[a][0])>-1||s[a][1]!=null&&A.push(s[a]);r.length&&ln.utils.cfb_add(e,"/SummaryInformation",lF(r,wg.SI,l,E_)),(n.length||A.length)&&ln.utils.cfb_add(e,"/DocumentSummaryInformation",lF(n,wg.DSI,o,C_,A.length?A:null,wg.UDI))}function VP(t,e){e||(e={}),t4(e),b5(),e.codepage&&w5(e.codepage);var n,r;if(t.FullPaths){if(ln.find(t,"/encryption"))throw new Error("File is password-protected");n=ln.find(t,"!CompObj"),r=ln.find(t,"/Workbook")||ln.find(t,"/Book")}else{switch(e.type){case"base64":t=Qo(zo(t));break;case"binary":t=Qo(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}ei(t,0),r={content:t}}var s,a;if(n&&Mme(n),e.bookProps&&!e.bookSheets)s={};else{var i=Kn?"buffer":"array";if(r&&r.content)s=jme(r.content,e);else if((a=ln.find(t,"PerfectOffice_MAIN"))&&a.content)s=Jf.to_workbook(a.content,(e.type=i,e));else if((a=ln.find(t,"NativeContent_MAIN"))&&a.content)s=Jf.to_workbook(a.content,(e.type=i,e));else throw(a=ln.find(t,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&ln.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=tde(t))}var o={};return t.FullPaths&&Qme(t,o,e),s.Props=s.Custprops=o,e.bookFiles&&(s.cfb=t),s}function Vme(t,e){var n=e||{},r=ln.utils.cfb_new({root:"R"}),s="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":s="/Workbook",n.biff=8;break;case"biff5":s="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return ln.utils.cfb_add(r,s,GP(t,n)),n.biff==8&&(t.Props||t.Custprops)&&Hme(t,r),n.biff==8&&t.vbaraw&&nde(r,ln.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var Wg={0:{f:fhe},1:{f:whe},2:{f:jhe},3:{f:Nhe},4:{f:_he},5:{f:Mhe},6:{f:zhe},7:{f:Rhe},8:{f:Xhe},9:{f:Jhe},10:{f:$he},11:{f:Yhe},12:{f:Che},13:{f:Hhe},14:{f:Ihe},15:{f:The},16:{f:UP},17:{f:qhe},18:{f:Uhe},19:{f:L5},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:q0e},40:{},42:{},43:{f:zAe},44:{f:VAe},45:{f:WAe},46:{f:YAe},47:{f:$Ae},48:{},49:{f:poe},50:{},51:{f:kue},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:aP},62:{f:Ghe},63:{f:Oue},64:{f:h0e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Li,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:A0e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:vhe},148:{f:phe,p:16},151:{f:s0e},152:{},153:{f:G0e},154:{},155:{},156:{f:H0e},157:{},158:{},159:{T:1,f:iAe},160:{T:-1},161:{T:1,f:Sh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Zhe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Bue},336:{T:-1},337:{f:Rue,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:b_},357:{},358:{},359:{},360:{T:1},361:{},362:{f:sP},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:a0e},427:{f:i0e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:l0e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:xhe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:n0e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:b_},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Yue},633:{T:1},634:{T:-1},635:{T:1,f:Wue},636:{T:-1},637:{f:yoe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:I0e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:m0e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},k_={6:{f:TC},10:{f:fd},12:{f:Aa},13:{f:Aa},14:{f:zs},15:{f:zs},16:{f:Fi},17:{f:zs},18:{f:zs},19:{f:Aa},20:{f:hF},21:{f:hF},23:{f:sP},24:{f:pF},25:{f:zs},26:{},27:{},28:{f:mce},29:{},34:{f:zs},35:{f:mF},38:{f:Fi},39:{f:Fi},40:{f:Fi},41:{f:Fi},42:{f:zs},43:{f:zs},47:{f:TAe},49:{f:Hle},51:{f:Aa},60:{},61:{f:Mle},64:{f:zs},65:{f:Qle},66:{f:Aa},77:{},80:{},81:{},82:{},85:{f:Aa},89:{},90:{},91:{},92:{f:Sle},93:{f:xce},94:{},95:{f:zs},96:{},97:{},99:{f:zs},125:{f:aP},128:{f:rce},129:{f:Ble},130:{f:Aa},131:{f:zs},132:{f:zs},133:{f:Nle},134:{},140:{f:Sce},141:{f:Aa},144:{},146:{f:Nce},151:{},152:{},153:{},154:{},155:{},156:{f:Aa},157:{},158:{},160:{f:Lce},161:{f:Fce},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Zle},190:{f:ece},193:{f:fd},197:{},198:{},199:{},200:{},201:{},202:{f:zs},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Aa},220:{},221:{f:zs},222:{},224:{f:nce},225:{f:_le},226:{f:fd},227:{},229:{f:pce},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Ile},253:{f:Gle},255:{f:Rle},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:$M},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:zs},353:{f:fd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:lce},431:{f:zs},432:{},433:{},434:{},437:{},438:{f:wce},439:{f:zs},440:{f:bce},441:{},442:{f:bx},443:{},444:{f:Aa},445:{},446:{},448:{f:fd},449:{f:Lle,r:2},450:{f:fd},512:{f:uF},513:{f:Uce},515:{f:ice},516:{f:Kle},517:{f:fF},519:{f:Mce},520:{f:Dle},523:{},545:{f:gF},549:{f:AF},566:{},574:{f:Ole},638:{f:Xle},659:{},1048:{},1054:{f:Wle},1084:{},1212:{f:dce},2048:{f:Ece},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:J1},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:fd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:kce,r:12},2173:{f:Sue,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:zs,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:uce,r:12},2197:{},2198:{f:yue,r:12},2199:{},2200:{},2201:{},2202:{f:fce,r:12},2203:{f:fd},2204:{},2205:{},2206:{},2207:{},2211:{f:Ule},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Aa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Rce},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Bce},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:uF},1:{},2:{f:Hce},3:{f:jce},4:{f:Oce},5:{f:fF},7:{f:Gce},8:{},9:{f:J1},11:{},22:{f:Aa},30:{f:Yle},31:{},32:{},33:{f:gF},36:{},37:{f:AF},50:{f:zce},62:{},52:{},67:{},68:{f:Aa},69:{},86:{},126:{},127:{f:Pce},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Kce},223:{},234:{},354:{},421:{},518:{f:TC},521:{f:J1},536:{f:pF},547:{f:mF},561:{},579:{},1030:{f:TC},1033:{f:J1},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ut(t,e,n,r){var s=e;if(!isNaN(s)){var a=r||(n||[]).length||0,i=t.next(4);i.write_shift(2,s),i.write_shift(2,a),a>0&&R5(n)&&t.push(n)}}function Gme(t,e,n,r){var s=(n||[]).length||0;if(s<=8224)return Ut(t,e,n,s);var a=e;if(!isNaN(a)){for(var i=n.parts||[],o=0,l=0,A=0;A+(i[o]||8224)<=8224;)A+=i[o]||8224,o++;var d=t.next(4);for(d.write_shift(2,a),d.write_shift(2,A),t.push(n.slice(l,l+A)),l+=A;l<s;){for(d=t.next(4),d.write_shift(2,60),A=0;A+(i[o]||8224)<=8224;)A+=i[o]||8224,o++;d.write_shift(2,A),t.push(n.slice(l,l+A)),l+=A}}}function Sx(t,e,n){return t||(t=lt(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function zme(t,e,n,r){var s=lt(9);return Sx(s,t,e),YM(n,r||"b",s),s}function Kme(t,e,n){var r=lt(8+2*n.length);return Sx(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function qme(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?Ba(is(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?Ut(t,2,Vce(n,r,s)):Ut(t,3,Qce(n,r,s));return;case"b":case"e":Ut(t,5,zme(n,r,e.v,e.t));return;case"s":case"str":Ut(t,4,Kme(n,r,(e.v||"").slice(0,255)));return}Ut(t,1,Sx(null,n,r))}function Wme(t,e,n,r){var s=Array.isArray(e),a=pr(e["!ref"]||"A1"),i,o="",l=[];if(a.e.c>255||a.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),i=Rn(a)}for(var A=a.s.r;A<=a.e.r;++A){o=Js(A);for(var d=a.s.c;d<=a.e.c;++d){A===a.s.r&&(l[d]=ys(d)),i=l[d]+o;var h=s?(e[A]||[])[d]:e[i];h&&qme(t,h,A,d)}}}function $me(t,e){for(var n=e||{},r=mo(),s=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==n.sheet&&(s=a);if(s==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Ut(r,n.biff==4?1033:n.biff==3?521:9,V5(t,16,n)),Wme(r,t.Sheets[t.SheetNames[s]],s,n),Ut(r,10),r.end()}function Yme(t,e,n){Ut(t,49,Vle({sz:12,name:"Arial"},n))}function Jme(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&Ut(t,1054,$le(s,e[s],n))})}function Xme(t,e){var n=lt(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Ut(t,2151,n),n=lt(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),tP(pr(e["!ref"]||"A1"),n),n.write_shift(4,4),Ut(t,2152,n)}function Zme(t,e){for(var n=0;n<16;++n)Ut(t,224,dF({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Ut(t,224,dF(r,0,e))})}function epe(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];Ut(t,440,Cce(r)),r[1].Tooltip&&Ut(t,2048,_ce(r))}delete e["!links"]}function tpe(t,e){if(e){var n=0;e.forEach(function(r,s){++n<=256&&r&&Ut(t,125,Ice(sw(s,r),s))})}}function npe(t,e,n,r,s){var a=16+cf(s.cellXfs,e,s);if(e.v==null&&!e.bf){Ut(t,513,dh(n,r,a));return}if(e.bf)Ut(t,6,Bfe(e,n,r,s,a));else switch(e.t){case"d":case"n":var i=e.t=="d"?Ba(is(e.v)):e.v;Ut(t,515,oce(n,r,i,a));break;case"b":case"e":Ut(t,517,ace(n,r,e.v,a,s,e.t));break;case"s":case"str":if(s.bookSST){var o=J5(s.Strings,e.v,s.revStrings);Ut(t,253,zle(n,r,o,a))}else Ut(t,516,qle(n,r,(e.v||"").slice(0,255),a,s));break;default:Ut(t,513,dh(n,r,a))}}function rpe(t,e,n){var r=mo(),s=n.SheetNames[t],a=n.Sheets[s]||{},i=(n||{}).Workbook||{},o=(i.Sheets||[])[t]||{},l=Array.isArray(a),A=e.biff==8,d,h="",p=[],g=pr(a["!ref"]||"A1"),w=A?65536:16384;if(g.e.c>255||g.e.r>=w){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,w-1)}Ut(r,2057,V5(n,16,e)),Ut(r,13,bl(1)),Ut(r,12,bl(100)),Ut(r,15,zi(!0)),Ut(r,17,zi(!1)),Ut(r,16,Ah(.001)),Ut(r,95,zi(!0)),Ut(r,42,zi(!1)),Ut(r,43,zi(!1)),Ut(r,130,bl(1)),Ut(r,128,sce()),Ut(r,131,zi(!1)),Ut(r,132,zi(!1)),A&&tpe(r,a["!cols"]),Ut(r,512,Jle(g,e)),A&&(a["!links"]=[]);for(var b=g.s.r;b<=g.e.r;++b){h=Js(b);for(var E=g.s.c;E<=g.e.c;++E){b===g.s.r&&(p[E]=ys(E)),d=p[E]+h;var T=l?(a[b]||[])[E]:a[d];T&&(npe(r,T,b,E,e),A&&T.l&&a["!links"].push([d,T.l]))}}var I=o.CodeName||o.name||s;return A&&Ut(r,574,jle((i.Views||[])[0])),A&&(a["!merges"]||[]).length&&Ut(r,229,gce(a["!merges"])),A&&epe(r,a),Ut(r,442,JM(I)),A&&Xme(r,a),Ut(r,10),r.end()}function spe(t,e,n){var r=mo(),s=(t||{}).Workbook||{},a=s.Sheets||[],i=s.WBProps||{},o=n.biff==8,l=n.biff==5;if(Ut(r,2057,V5(t,5,n)),n.bookType=="xla"&&Ut(r,135),Ut(r,225,o?bl(1200):null),Ut(r,193,ale(2)),l&&Ut(r,191),l&&Ut(r,192),Ut(r,226),Ut(r,92,Tle("SheetJS",n)),Ut(r,66,bl(o?1200:1252)),o&&Ut(r,353,bl(0)),o&&Ut(r,448),Ut(r,317,Dce(t.SheetNames.length)),o&&t.vbaraw&&Ut(r,211),o&&t.vbaraw){var A=i.CodeName||"ThisWorkbook";Ut(r,442,JM(A))}Ut(r,156,bl(17)),Ut(r,25,zi(!1)),Ut(r,18,zi(!1)),Ut(r,19,bl(0)),o&&Ut(r,431,zi(!1)),o&&Ut(r,444,bl(0)),Ut(r,61,Ple()),Ut(r,64,zi(!1)),Ut(r,141,bl(0)),Ut(r,34,zi(L0e(t)=="true")),Ut(r,14,zi(!0)),o&&Ut(r,439,zi(!1)),Ut(r,218,bl(0)),Yme(r,t,n),Jme(r,t.SSF,n),Zme(r,n),o&&Ut(r,352,zi(!1));var d=r.end(),h=mo();o&&Ut(h,140,Tce()),o&&n.Strings&&Gme(h,252,Fle(n.Strings)),Ut(h,10);var p=h.end(),g=mo(),w=0,b=0;for(b=0;b<t.SheetNames.length;++b)w+=(o?12:11)+(o?2:1)*t.SheetNames[b].length;var E=d.length+w+p.length;for(b=0;b<t.SheetNames.length;++b){var T=a[b]||{};Ut(g,133,kle({pos:E,hs:T.Hidden||0,dt:0,name:t.SheetNames[b]},n)),E+=e[b].length}var I=g.end();if(w!=I.length)throw new Error("BS8 "+w+" != "+I.length);var k=[];return d.length&&k.push(d),I.length&&k.push(I),p.length&&k.push(p),Qa(k)}function ape(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=os(gn)),t&&t.SSF&&(Dm(),Jy(t.SSF),n.revssf=Zy(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,n4(n),n.cellXfs=[],cf(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)r[r.length]=rpe(s,n,t);return r.unshift(spe(t,r,n)),Qa(r)}function GP(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var s=xo(r["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return ape(t,e);case 4:case 3:case 2:return $me(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function TF(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var s=t.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var a=t.match(/<\/table/i),i=s.index,o=a&&a.index||t.length,l=Vie(t.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),A=-1,d=0,h=0,p=0,g={s:{r:1e7,c:1e7},e:{r:0,c:0}},w=[];for(i=0;i<l.length;++i){var b=l[i].trim(),E=b.slice(0,3).toLowerCase();if(E=="<tr"){if(++A,n.sheetRows&&n.sheetRows<=A){--A;break}d=0;continue}if(!(E!="<td"&&E!="<th")){var T=b.split(/<\/t[dh]>/i);for(o=0;o<T.length;++o){var I=T[o].trim();if(I.match(/<t[dh]/i)){for(var k=I,F=0;k.charAt(0)=="<"&&(F=k.indexOf(">"))>-1;)k=k.slice(F+1);for(var D=0;D<w.length;++D){var P=w[D];P.s.c==d&&P.s.r<A&&A<=P.e.r&&(d=P.e.c+1,D=-1)}var S=_n(I.slice(0,I.indexOf(">")));p=S.colspan?+S.colspan:1,((h=+S.rowspan)>1||p>1)&&w.push({s:{r:A,c:d},e:{r:A+(h||1)-1,c:d+p-1}});var N=S.t||S["data-t"]||"";if(!k.length){d+=p;continue}if(k=hM(k),g.s.r>A&&(g.s.r=A),g.e.r<A&&(g.e.r=A),g.s.c>d&&(g.s.c=d),g.e.c<d&&(g.e.c=d),!k.length){d+=p;continue}var B={t:"s",v:k};n.raw||!k.trim().length||N=="s"||(k==="TRUE"?B={t:"b",v:!0}:k==="FALSE"?B={t:"b",v:!1}:isNaN(mc(k))?isNaN(fm(k).getDate())||(B={t:"d",v:is(k)},n.cellDates||(B={t:"n",v:Ba(B.v)}),B.z=n.dateNF||gn[14]):B={t:"n",v:mc(k)}),n.dense?(r[A]||(r[A]=[]),r[A][d]=B):r[wn({r:A,c:d})]=B,d+=p}}}}return r["!ref"]=Rn(g),w.length&&(r["!merges"]=w),r}function ipe(t,e,n,r){for(var s=t["!merges"]||[],a=[],i=e.s.c;i<=e.e.c;++i){for(var o=0,l=0,A=0;A<s.length;++A)if(!(s[A].s.r>n||s[A].s.c>i)&&!(s[A].e.r<n||s[A].e.c<i)){if(s[A].s.r<n||s[A].s.c<i){o=-1;break}o=s[A].e.r-s[A].s.r+1,l=s[A].e.c-s[A].s.c+1;break}if(!(o<0)){var d=wn({r:n,c:i}),h=r.dense?(t[n]||[])[i]:t[d],p=h&&h.v!=null&&(h.h||k5(h.w||(wu(h),h.w)||""))||"",g={};o>1&&(g.rowspan=o),l>1&&(g.colspan=l),r.editable?p='<span contenteditable="true">'+p+"</span>":h&&(g["data-t"]=h&&h.t||"z",h.v!=null&&(g["data-v"]=h.v),h.z!=null&&(g["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+h.l.Target+'">'+p+"</a>")),g.id=(r.id||"sjs")+"-"+d,a.push(Dt("td",p,g))}}var w="<tr>";return w+a.join("")+"</tr>"}var ope='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',lpe="</body></html>";function cpe(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return lf(TF(n[0],e),e);var r=i4();return n.forEach(function(s,a){o4(r,TF(s,e),"Sheet"+(a+1))}),r}function Ape(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function zP(t,e){var n=e||{},r=n.header!=null?n.header:ope,s=n.footer!=null?n.footer:lpe,a=[r],i=xo(t["!ref"]);n.dense=Array.isArray(t),a.push(Ape(t,i,n));for(var o=i.s.r;o<=i.e.r;++o)a.push(ipe(t,i,o,n));return a.push("</table>"+s),a.join("")}function KP(t,e,n){var r=n||{},s=0,a=0;if(r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var i=typeof r.origin=="string"?ws(r.origin):r.origin;s=i.r,a=i.c}var o=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),A={s:{r:0,c:0},e:{r:s,c:a}};if(t["!ref"]){var d=xo(t["!ref"]);A.s.r=Math.min(A.s.r,d.s.r),A.s.c=Math.min(A.s.c,d.s.c),A.e.r=Math.max(A.e.r,d.e.r),A.e.c=Math.max(A.e.c,d.e.c),s==-1&&(A.e.r=s=d.e.r+1)}var h=[],p=0,g=t["!rows"]||(t["!rows"]=[]),w=0,b=0,E=0,T=0,I=0,k=0;for(t["!cols"]||(t["!cols"]=[]);w<o.length&&b<l;++w){var F=o[w];if(BF(F)){if(r.display)continue;g[b]={hidden:!0}}var D=F.children;for(E=T=0;E<D.length;++E){var P=D[E];if(!(r.display&&BF(P))){var S=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):hM(P.innerHTML),N=P.getAttribute("data-z")||P.getAttribute("z");for(p=0;p<h.length;++p){var B=h[p];B.s.c==T+a&&B.s.r<b+s&&b+s<=B.e.r&&(T=B.e.c+1-a,p=-1)}k=+P.getAttribute("colspan")||1,((I=+P.getAttribute("rowspan")||1)>1||k>1)&&h.push({s:{r:b+s,c:T+a},e:{r:b+s+(I||1)-1,c:T+a+(k||1)-1}});var V={t:"s",v:S},U=P.getAttribute("data-t")||P.getAttribute("t")||"";S!=null&&(S.length==0?V.t=U||"z":r.raw||S.trim().length==0||U=="s"||(S==="TRUE"?V={t:"b",v:!0}:S==="FALSE"?V={t:"b",v:!1}:isNaN(mc(S))?isNaN(fm(S).getDate())||(V={t:"d",v:is(S)},r.cellDates||(V={t:"n",v:Ba(V.v)}),V.z=r.dateNF||gn[14]):V={t:"n",v:mc(S)})),V.z===void 0&&N!=null&&(V.z=N);var L="",j=P.getElementsByTagName("A");if(j&&j.length)for(var G=0;G<j.length&&!(j[G].hasAttribute("href")&&(L=j[G].getAttribute("href"),L.charAt(0)!="#"));++G);L&&L.charAt(0)!="#"&&(V.l={Target:L}),r.dense?(t[b+s]||(t[b+s]=[]),t[b+s][T+a]=V):t[wn({c:T+a,r:b+s})]=V,A.e.c<T+a&&(A.e.c=T+a),T+=k}}++b}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),A.e.r=Math.max(A.e.r,b-1+s),t["!ref"]=Rn(A),b>=l&&(t["!fullref"]=Rn((A.e.r=o.length-w+b-1+s,A))),t}function qP(t,e){var n=e||{},r=n.dense?[]:{};return KP(r,t,e)}function upe(t,e){return lf(qP(t,e),e)}function BF(t){var e="",n=dpe(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function dpe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function fpe(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=mr(e.replace(/<[^>]*>/g,""));return[n]}var NF={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function WP(t,e){var n=e||{},r=I5(t),s=[],a,i,o={name:""},l="",A=0,d,h,p={},g=[],w=n.dense?[]:{},b,E,T={value:""},I="",k=0,F=[],D=-1,P=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,B={},V=[],U={},L=0,j=0,G=[],se=1,K=1,Y=[],oe={Names:[]},Z={},ee=["",""],he=[],O={},q="",J=0,ne=!1,ae=!1,ue=0;for(Hg.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");b=Hg.exec(r);)switch(b[3]=b[3].replace(/_.*$/,"")){case"table":case"":b[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?w["!ref"]=Rn(S):w["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=S.e.r&&(w["!fullref"]=w["!ref"],S.e.r=n.sheetRows-1,w["!ref"]=Rn(S)),V.length&&(w["!merges"]=V),G.length&&(w["!rows"]=G),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),g.push(d.name),p[d.name]=w,ae=!1):b[0].charAt(b[0].length-2)!=="/"&&(d=_n(b[0],!1),D=P=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,w=n.dense?[]:{},V=[],G=[],ae=!0);break;case"table-row-group":b[1]==="/"?--N:++N;break;case"table-row":case"":if(b[1]==="/"){D+=se,se=1;break}if(h=_n(b[0],!1),h.?D=h.-1:D==-1&&(D=0),se=+h["number-rows-repeated"]||1,se<10)for(ue=0;ue<se;++ue)N>0&&(G[D+ue]={level:N});P=-1;break;case"covered-table-cell":b[1]!=="/"&&++P,n.sheetStubs&&(n.dense?(w[D]||(w[D]=[]),w[D][P]={t:"z"}):w[wn({r:D,c:P})]={t:"z"}),I="",F=[];break;case"table-cell":case"":if(b[0].charAt(b[0].length-2)==="/")++P,T=_n(b[0],!1),K=parseInt(T["number-columns-repeated"]||"1",10),E={t:"z",v:null},T.formula&&n.cellFormula!=!1&&(E.f=EF(mr(T.formula))),(T.||T["value-type"])=="string"&&(E.t="s",E.v=mr(T["string-value"]||""),n.dense?(w[D]||(w[D]=[]),w[D][P]=E):w[wn({r:D,c:P})]=E),P+=K-1;else if(b[1]!=="/"){++P,I="",k=0,F=[],K=1;var pe=se?D+se-1:D;if(P>S.e.c&&(S.e.c=P),P<S.s.c&&(S.s.c=P),D<S.s.r&&(S.s.r=D),pe>S.e.r&&(S.e.r=pe),T=_n(b[0],!1),he=[],O={},E={t:T.||T["value-type"],v:null},n.cellFormula)if(T.formula&&(T.formula=mr(T.formula)),T["number-matrix-columns-spanned"]&&T["number-matrix-rows-spanned"]&&(L=parseInt(T["number-matrix-rows-spanned"],10)||0,j=parseInt(T["number-matrix-columns-spanned"],10)||0,U={s:{r:D,c:P},e:{r:D+L-1,c:P+j-1}},E.F=Rn(U),Y.push([U,E.F])),T.formula)E.f=EF(T.formula);else for(ue=0;ue<Y.length;++ue)D>=Y[ue][0].s.r&&D<=Y[ue][0].e.r&&P>=Y[ue][0].s.c&&P<=Y[ue][0].e.c&&(E.F=Y[ue][1]);switch((T["number-columns-spanned"]||T["number-rows-spanned"])&&(L=parseInt(T["number-rows-spanned"],10)||0,j=parseInt(T["number-columns-spanned"],10)||0,U={s:{r:D,c:P},e:{r:D+L-1,c:P+j-1}},V.push(U)),T["number-columns-repeated"]&&(K=parseInt(T["number-columns-repeated"],10)),E.t){case"boolean":E.t="b",E.v=ns(T["boolean-value"]);break;case"float":E.t="n",E.v=parseFloat(T.value);break;case"percentage":E.t="n",E.v=parseFloat(T.value);break;case"currency":E.t="n",E.v=parseFloat(T.value);break;case"date":E.t="d",E.v=is(T["date-value"]),n.cellDates||(E.t="n",E.v=Ba(E.v)),E.z="m/d/yy";break;case"time":E.t="n",E.v=jie(T["time-value"])/86400,n.cellDates&&(E.t="d",E.v=ew(E.v)),E.z="HH:MM:SS";break;case"number":E.t="n",E.v=parseFloat(T.);break;default:if(E.t==="string"||E.t==="text"||!E.t)E.t="s",T["string-value"]!=null&&(I=mr(T["string-value"]),F=[]);else throw new Error("Unsupported value type "+E.t)}}else{if(ne=!1,E.t==="s"&&(E.v=I||"",F.length&&(E.R=F),ne=k==0),Z.Target&&(E.l=Z),he.length>0&&(E.c=he,he=[]),I&&n.cellText!==!1&&(E.w=I),ne&&(E.t="z",delete E.v),(!ne||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=D))for(var ye=0;ye<se;++ye){if(K=parseInt(T["number-columns-repeated"]||"1",10),n.dense)for(w[D+ye]||(w[D+ye]=[]),w[D+ye][P]=ye==0?E:os(E);--K>0;)w[D+ye][P+K]=os(E);else for(w[wn({r:D+ye,c:P})]=E;--K>0;)w[wn({r:D+ye,c:P+K})]=os(E);S.e.c<=P&&(S.e.c=P)}K=parseInt(T["number-columns-repeated"]||"1",10),P+=K-1,K=0,E={},I="",F=[]}Z={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((a=s.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&s.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((a=s.pop())[0]!==b[3])throw"Bad state: "+a;O.t=I,F.length&&(O.R=F),O.a=q,he.push(O)}else b[0].charAt(b[0].length-2)!=="/"&&s.push([b[3],!1]);q="",J=0,I="",k=0,F=[];break;case"creator":b[1]==="/"?q=r.slice(J,b.index):J=b.index+b[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((a=s.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&s.push([b[3],!1]);I="",k=0,F=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){if(B[o.name]=l,(a=s.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&(l="",o=_n(b[0],!1),s.push([b[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":i=_n(b[0],!1),l+=NF[b[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":i=_n(b[0],!1),l+=NF[b[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(A,b.index);break}else A=b.index+b[0].length;break;case"named-range":i=_n(b[0],!1),ee=BC(i["cell-range-address"]);var Ie={Name:i.name,Ref:ee[0]+"!"+ee[1]};ae&&(Ie.Sheet=g.length),oe.Names.push(Ie);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(b[1]==="/"&&(!T||!T["string-value"])){var we=fpe(r.slice(k,b.index));I=(I.length>0?I+`
`:"")+we[0]}else _n(b[0],!1),k=b.index+b[0].length;break;case"s":break;case"database-range":if(b[1]==="/")break;try{ee=BC(_n(b[0])["target-range-address"]),p[ee[0]]["!autofilter"]={ref:ee[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(Z=_n(b[0],!1),!Z.href)break;Z.Target=mr(Z.href),delete Z.href,Z.Target.charAt(0)=="#"&&Z.Target.indexOf(".")>-1?(ee=BC(Z.Target.slice(1)),Z.Target="#"+ee[0]+"!"+ee[1]):Z.Target.match(/^\.\.[\\\/]/)&&(Z.Target=Z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(b)}}var ie={Sheets:p,SheetNames:g,Workbook:oe};return n.bookSheets&&delete ie.Sheets,ie}function kF(t,e){e=e||{},yl(t,"META-INF/manifest.xml")&&joe(ca(t,"META-INF/manifest.xml"),e);var n=Ho(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=WP(qr(n),e);return yl(t,"meta.xml")&&(r.Props=PM(ca(t,"meta.xml"))),r}function IF(t,e){return WP(t,e)}var hpe=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Qg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Xs+e}}(),FF=function(){var t=function(a){return Pr(a).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(a,i,o){var l=[];l.push('      <table:table table:name="'+Pr(i.SheetNames[o])+`" table:style-name="ta1">
`);var A=0,d=0,h=xo(a["!ref"]||"A1"),p=a["!merges"]||[],g=0,w=Array.isArray(a);if(a["!cols"])for(d=0;d<=h.e.c;++d)l.push("        <table:table-column"+(a["!cols"][d]?' table:style-name="co'+a["!cols"][d].ods+'"':"")+`></table:table-column>
`);var b="",E=a["!rows"]||[];for(A=0;A<h.s.r;++A)b=E[A]?' table:style-name="ro'+E[A].ods+'"':"",l.push("        <table:table-row"+b+`></table:table-row>
`);for(;A<=h.e.r;++A){for(b=E[A]?' table:style-name="ro'+E[A].ods+'"':"",l.push("        <table:table-row"+b+`>
`),d=0;d<h.s.c;++d)l.push(e);for(;d<=h.e.c;++d){var T=!1,I={},k="";for(g=0;g!=p.length;++g)if(!(p[g].s.c>d)&&!(p[g].s.r>A)&&!(p[g].e.c<d)&&!(p[g].e.r<A)){(p[g].s.c!=d||p[g].s.r!=A)&&(T=!0),I["table:number-columns-spanned"]=p[g].e.c-p[g].s.c+1,I["table:number-rows-spanned"]=p[g].e.r-p[g].s.r+1;break}if(T){l.push(n);continue}var F=wn({r:A,c:d}),D=w?(a[A]||[])[d]:a[F];if(D&&D.f&&(I["table:formula"]=Pr(Dfe(D.f)),D.F&&D.F.slice(0,F.length)==F)){var P=xo(D.F);I["table:number-matrix-columns-spanned"]=P.e.c-P.s.c+1,I["table:number-matrix-rows-spanned"]=P.e.r-P.s.r+1}if(!D){l.push(e);continue}switch(D.t){case"b":k=D.v?"TRUE":"FALSE",I["office:value-type"]="boolean",I["office:boolean-value"]=D.v?"true":"false";break;case"n":k=D.w||String(D.v||0),I["office:value-type"]="float",I["office:value"]=D.v||0;break;case"s":case"str":k=D.v==null?"":D.v,I["office:value-type"]="string";break;case"d":k=D.w||is(D.v).toISOString(),I["office:value-type"]="date",I["office:date-value"]=is(D.v).toISOString(),I["table:style-name"]="ce1";break;default:l.push(e);continue}var S=t(k);if(D.l&&D.l.Target){var N=D.l.Target;N=N.charAt(0)=="#"?"#"+Ufe(N.slice(1)):N,N.charAt(0)!="#"&&!N.match(/^\w+:/)&&(N="../"+N),S=Dt("text:a",S,{"xlink:href":N.replace(/&/g,"&amp;")})}l.push("          "+Dt("table:table-cell",Dt("text:p",S,{}),I)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},s=function(a,i){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var o=0;i.SheetNames.map(function(A){return i.Sheets[A]}).forEach(function(A){if(A&&A["!cols"]){for(var d=0;d<A["!cols"].length;++d)if(A["!cols"][d]){var h=A["!cols"][d];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Zd(h),h.ods=o;var p=A["!cols"][d].wpx+"px";a.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),a.push(`  </style:style>
`),++o}}});var l=0;i.SheetNames.map(function(A){return i.Sheets[A]}).forEach(function(A){if(A&&A["!rows"]){for(var d=0;d<A["!rows"].length;++d)if(A["!rows"][d]){A["!rows"][d].ods=l;var h=A["!rows"][d].hpx+"px";a.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),a.push(`  </style:style>
`),++l}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(i,o){var l=[Xs],A=Qg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Qg({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+A+d+`>
`),l.push(MM().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+A+`>
`),s(l,i),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var h=0;h!=i.SheetNames.length;++h)l.push(r(i.Sheets[i.SheetNames[h]],i,h));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function $P(t,e){if(e.bookType=="fods")return FF(t,e);var n=T5(),r="",s=[],a=[];return r="mimetype",On(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",On(n,r,FF(t,e)),s.push([r,"text/xml"]),a.push([r,"ContentFile"]),r="styles.xml",On(n,r,hpe(t,e)),s.push([r,"text/xml"]),a.push([r,"StylesFile"]),r="meta.xml",On(n,r,Xs+MM()),s.push([r,"text/xml"]),a.push([r,"MetadataFile"]),r="manifest.rdf",On(n,r,Voe(a)),s.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",On(n,r,Qoe(s)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function fh(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function I_(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):qr(of(t))}function mpe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Qo(lA(t))}function ppe(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function tf(t){var e=t.reduce(function(s,a){return s+a.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(s){n.set(s,r),r+=s.length}),n}function RF(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function gpe(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,s=e+13;s>=e;--s)r=r*256+t[s];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function xpe(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,s=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var a=0;s>=1;++a,s/=256)t[e+a]=s&255;t[e+15]|=n>=0?0:128}function $g(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Ur(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Us(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Cr(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],s=$g(t,n),a=s&7;s=Math.floor(s/8);var i=0,o;if(s==0)break;switch(a){case 0:{for(var l=n[0];t[n[0]++]>=128;);o=t.slice(l,n[0])}break;case 5:i=4,o=t.slice(n[0],n[0]+i),n[0]+=i;break;case 1:i=8,o=t.slice(n[0],n[0]+i),n[0]+=i;break;case 2:i=$g(t,n),o=t.slice(n[0],n[0]+i),n[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(s," at offset ").concat(r))}var A={data:o,type:a};e[s]==null?e[s]=[A]:e[s].push(A)}return e}function Ja(t){var e=[];return t.forEach(function(n,r){n.forEach(function(s){s.data&&(e.push(Ur(r*8+s.type)),s.type==2&&e.push(Ur(s.data.length)),e.push(s.data))})}),tf(e)}function e4(t,e){return(t==null?void 0:t.map(function(n){return e(n.data)}))||[]}function xl(t){for(var e,n=[],r=[0];r[0]<t.length;){var s=$g(t,r),a=Cr(t.slice(r[0],r[0]+s));r[0]+=s;var i={id:Us(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=Cr(o.data),A=Us(l[3][0].data);i.messages.push({meta:l,data:t.slice(r[0],r[0]+A)}),r[0]+=A}),(e=a[3])!=null&&e[0]&&(i.merge=Us(a[3][0].data)>>>0>0),n.push(i)}return n}function i0(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:Ur(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Ur(+!!n.merge),type:0}]);var s=[];n.messages.forEach(function(i){s.push(i.data),i.meta[3]=[{type:0,data:Ur(i.data.length)}],r[2].push({data:Ja(i.meta),type:2})});var a=Ja(r);e.push(Ur(a.length)),e.push(a),s.forEach(function(i){return e.push(i)})}),tf(e)}function vpe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=$g(e,n),s=[];n[0]<e.length;){var a=e[n[0]]&3;if(a==0){var i=e[n[0]++]>>2;if(i<60)++i;else{var o=i-59;i=e[n[0]],o>1&&(i|=e[n[0]+1]<<8),o>2&&(i|=e[n[0]+2]<<16),o>3&&(i|=e[n[0]+3]<<24),i>>>=0,i++,n[0]+=o}s.push(e.slice(n[0],n[0]+i)),n[0]+=i;continue}else{var l=0,A=0;if(a==1?(A=(e[n[0]]>>2&7)+4,l=(e[n[0]++]&224)<<3,l|=e[n[0]++]):(A=(e[n[0]++]>>2)+1,a==2?(l=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(l=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),s=[tf(s)],l==0)throw new Error("Invalid offset 0");if(l>s[0].length)throw new Error("Invalid offset beyond length");if(A>=l)for(s.push(s[0].slice(-l)),A-=l;A>=s[s.length-1].length;)s.push(s[s.length-1]),A-=s[s.length-1].length;s.push(s[0].slice(-l,-l+A))}}var d=tf(s);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function vl(t){for(var e=[],n=0;n<t.length;){var r=t[n++],s=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(vpe(r,t.slice(n,n+s))),n+=s}if(n!==t.length)throw new Error("data is not a valid framed stream!");return tf(e)}function o0(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),s=new Uint8Array(4);e.push(s);var a=Ur(r),i=a.length;e.push(a),r<=60?(i++,e.push(new Uint8Array([r-1<<2]))):r<=256?(i+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(i+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(i+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(i+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),i+=r,s[0]=0,s[1]=i&255,s[2]=i>>8&255,s[3]=i>>16&255,n+=r}return tf(e)}function ype(t,e,n,r){var s=fh(t),a=s.getUint32(4,!0),i=(r>1?12:8)+RF(a&(r>1?3470:398))*4,o=-1,l=-1,A=NaN,d=new Date(2001,0,1);a&512&&(o=s.getUint32(i,!0),i+=4),i+=RF(a&(r>1?12288:4096))*4,a&16&&(l=s.getUint32(i,!0),i+=4),a&32&&(A=s.getFloat64(i,!0),i+=8),a&64&&(d.setTime(d.getTime()+s.getFloat64(i,!0)*1e3),i+=8);var h;switch(t[2]){case 0:break;case 2:h={t:"n",v:A};break;case 3:h={t:"s",v:e[l]};break;case 5:h={t:"d",v:d};break;case 6:h={t:"b",v:A>0};break;case 7:h={t:"n",v:A/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:n[o]};else if(l>-1)h={t:"s",v:e[l]};else if(!isNaN(A))h={t:"n",v:A};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return h}function wpe(t,e,n){var r=fh(t),s=r.getUint32(8,!0),a=12,i=-1,o=-1,l=NaN,A=NaN,d=new Date(2001,0,1);s&1&&(l=gpe(t,a),a+=16),s&2&&(A=r.getFloat64(a,!0),a+=8),s&4&&(d.setTime(d.getTime()+r.getFloat64(a,!0)*1e3),a+=8),s&8&&(o=r.getUint32(a,!0),a+=4),s&16&&(i=r.getUint32(a,!0),a+=4);var h;switch(t[1]){case 0:break;case 2:h={t:"n",v:l};break;case 3:h={t:"s",v:e[o]};break;case 5:h={t:"d",v:d};break;case 6:h={t:"b",v:A>0};break;case 7:h={t:"n",v:A/86400};break;case 8:h={t:"e",v:0};break;case 9:if(i>-1)h={t:"s",v:n[i]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(s&31," : ").concat(t.slice(0,4)));break;case 10:h={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(s&31," : ").concat(t.slice(0,4)))}return h}function kC(t,e){var n=new Uint8Array(32),r=fh(n),s=12,a=0;switch(n[0]=5,t.t){case"n":n[1]=2,xpe(n,s,t.v),a|=1,s+=16;break;case"b":n[1]=6,r.setFloat64(s,t.v?1:0,!0),a|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(s,e.indexOf(t.v),!0),a|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,a,!0),n.slice(0,s)}function IC(t,e){var n=new Uint8Array(32),r=fh(n),s=12,a=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(s,t.v,!0),a|=32,s+=8;break;case"b":n[2]=6,r.setFloat64(s,t.v?1:0,!0),a|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(s,e.indexOf(t.v),!0),a|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,a,!0),n.slice(0,s)}function bpe(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return ype(t,e,n,t[0]);case 5:return wpe(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Si(t){var e=Cr(t);return $g(e[1][0].data)}function DF(t,e){var n=Cr(e.data),r=Us(n[1][0].data),s=n[3],a=[];return(s||[]).forEach(function(i){var o=Cr(i.data),l=Us(o[1][0].data)>>>0;switch(r){case 1:a[l]=I_(o[3][0].data);break;case 8:{var A=t[Si(o[9][0].data)][0],d=Cr(A.data),h=t[Si(d[1][0].data)][0],p=Us(h.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var g=Cr(h.data);a[l]=g[3].map(function(w){return I_(w.data)}).join("")}break}}),a}function Cpe(t,e){var n,r,s,a,i,o,l,A,d,h,p,g,w,b,E=Cr(t),T=Us(E[1][0].data)>>>0,I=Us(E[2][0].data)>>>0,k=((r=(n=E[8])==null?void 0:n[0])==null?void 0:r.data)&&Us(E[8][0].data)>0||!1,F,D;if((a=(s=E[7])==null?void 0:s[0])!=null&&a.data&&e!=0)F=(o=(i=E[7])==null?void 0:i[0])==null?void 0:o.data,D=(A=(l=E[6])==null?void 0:l[0])==null?void 0:A.data;else if((h=(d=E[4])==null?void 0:d[0])!=null&&h.data&&e!=1)F=(g=(p=E[4])==null?void 0:p[0])==null?void 0:g.data,D=(b=(w=E[3])==null?void 0:w[0])==null?void 0:b.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var P=k?4:1,S=fh(F),N=[],B=0;B<F.length/2;++B){var V=S.getUint16(B*2,!0);V<65535&&N.push([B,V])}if(N.length!=I)throw"Expected ".concat(I," cells, found ").concat(N.length);var U=[];for(B=0;B<N.length-1;++B)U[N[B][0]]=D.subarray(N[B][1]*P,N[B+1][1]*P);return N.length>=1&&(U[N[N.length-1][0]]=D.subarray(N[N.length-1][1]*P)),{R:T,cells:U}}function Epe(t,e){var n,r=Cr(e.data),s=(n=r==null?void 0:r[7])!=null&&n[0]?Us(r[7][0].data)>>>0>0?1:0:-1,a=e4(r[5],function(i){return Cpe(i,s)});return{nrows:Us(r[4][0].data)>>>0,data:a.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(l,A){if(i[o.R][A])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(A));i[o.R][A]=l}),i},[])}}function _pe(t,e,n){var r,s=Cr(e.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(Us(s[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(a.e.c=(Us(s[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));n["!ref"]=Rn(a);var i=Cr(s[4][0].data),o=DF(t,t[Si(i[4][0].data)][0]),l=(r=i[17])!=null&&r[0]?DF(t,t[Si(i[17][0].data)][0]):[],A=Cr(i[3][0].data),d=0;A[1].forEach(function(h){var p=Cr(h.data),g=t[Si(p[2][0].data)][0],w=Us(g.meta[1][0].data);if(w!=6002)throw new Error("6001 unexpected reference to ".concat(w));var b=Epe(t,g);b.data.forEach(function(E,T){E.forEach(function(I,k){var F=wn({r:d+T,c:k}),D=bpe(I,o,l);D&&(n[F]=D)})}),d+=b.nrows})}function Spe(t,e){var n=Cr(e.data),r={"!ref":"A1"},s=t[Si(n[2][0].data)],a=Us(s[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return _pe(t,s[0],r),r}function Tpe(t,e){var n,r=Cr(e.data),s={name:(n=r[1])!=null&&n[0]?I_(r[1][0].data):"",sheets:[]},a=e4(r[2],Si);return a.forEach(function(i){t[i].forEach(function(o){var l=Us(o.meta[1][0].data);l==6e3&&s.sheets.push(Spe(t,o))})}),s}function Bpe(t,e){var n=i4(),r=Cr(e.data),s=e4(r[1],Si);if(s.forEach(function(a){t[a].forEach(function(i){var o=Us(i.meta[1][0].data);if(o==2){var l=Tpe(t,i);l.sheets.forEach(function(A,d){o4(n,A,d==0?l.name:l.name+"_"+d,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function FC(t){var e,n,r,s,a={},i=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var A;try{A=vl(l.content)}catch(h){return console.log("?? "+l.content.length+" "+(h.message||h))}var d;try{d=xl(A)}catch(h){return console.log("## "+(h.message||h))}d.forEach(function(h){a[h.id]=h.messages,i.push(h.id)})}}),!i.length)throw new Error("File has no messages");var o=((s=(r=(n=(e=a==null?void 0:a[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:s[0].data)&&Us(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||i.forEach(function(l){a[l].forEach(function(A){var d=Us(A.meta[1][0].data)>>>0;if(d==1)if(!o)o=A;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Bpe(a,o)}function Npe(t,e,n){var r,s,a,i;if(!((r=t[6])!=null&&r[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var o=((i=(a=t[8])==null?void 0:a[0])==null?void 0:i.data)&&Us(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,A=fh(t[7][0].data),d=0,h=[],p=fh(t[4][0].data),g=0,w=[],b=0;b<e.length;++b){if(e[b]==null){A.setUint16(b*2,65535,!0),p.setUint16(b*2,65535);continue}A.setUint16(b*2,d,!0),p.setUint16(b*2,g,!0);var E,T;switch(typeof e[b]){case"string":E=kC({t:"s",v:e[b]},n),T=IC({t:"s",v:e[b]},n);break;case"number":E=kC({t:"n",v:e[b]},n),T=IC({t:"n",v:e[b]},n);break;case"boolean":E=kC({t:"b",v:e[b]},n),T=IC({t:"b",v:e[b]},n);break;default:throw new Error("Unsupported value "+e[b])}h.push(E),d+=E.length,w.push(T),g+=T.length,++l}for(t[2][0].data=Ur(l);b<t[7][0].data.length/2;++b)A.setUint16(b*2,65535,!0),p.setUint16(b*2,65535,!0);return t[6][0].data=tf(h),t[3][0].data=tf(w),l}function kpe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=xo(n["!ref"]);r.s.r=r.s.c=0;var s=!1;r.e.c>9&&(s=!0,r.e.c=9),r.e.r>49&&(s=!0,r.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Rn(r)));var a=$2(n,{range:r,header:1}),i=["~Sh33tJ5~"];a.forEach(function(q){return q.forEach(function(J){typeof J=="string"&&i.push(J)})});var o={},l=[],A=ln.read(e.numbers,{type:"base64"});A.FileIndex.map(function(q,J){return[q,A.FullPaths[J]]}).forEach(function(q){var J=q[0],ne=q[1];if(J.type==2&&J.name.match(/\.iwa/)){var ae=J.content,ue=vl(ae),pe=xl(ue);pe.forEach(function(ye){l.push(ye.id),o[ye.id]={deps:[],location:ne,type:Us(ye.messages[0].meta[1][0].data)}})}}),l.sort(function(q,J){return q-J});var d=l.filter(function(q){return q>1}).map(function(q){return[q,Ur(q)]});A.FileIndex.map(function(q,J){return[q,A.FullPaths[J]]}).forEach(function(q){var J=q[0];if(q[1],!!J.name.match(/\.iwa/)){var ne=xl(vl(J.content));ne.forEach(function(ae){ae.messages.forEach(function(ue){d.forEach(function(pe){ae.messages.some(function(ye){return Us(ye.meta[1][0].data)!=11006&&ppe(ye.data,pe[1])})&&o[pe[0]].deps.push(ae.id)})})})}});for(var h=ln.find(A,o[1].location),p=xl(vl(h.content)),g,w=0;w<p.length;++w){var b=p[w];b.id==1&&(g=b)}var E=Si(Cr(g.messages[0].data)[1][0].data);for(h=ln.find(A,o[E].location),p=xl(vl(h.content)),w=0;w<p.length;++w)b=p[w],b.id==E&&(g=b);for(E=Si(Cr(g.messages[0].data)[2][0].data),h=ln.find(A,o[E].location),p=xl(vl(h.content)),w=0;w<p.length;++w)b=p[w],b.id==E&&(g=b);for(E=Si(Cr(g.messages[0].data)[2][0].data),h=ln.find(A,o[E].location),p=xl(vl(h.content)),w=0;w<p.length;++w)b=p[w],b.id==E&&(g=b);var T=Cr(g.messages[0].data);{T[6][0].data=Ur(r.e.r+1),T[7][0].data=Ur(r.e.c+1);var I=Si(T[46][0].data),k=ln.find(A,o[I].location),F=xl(vl(k.content));{for(var D=0;D<F.length&&F[D].id!=I;++D);if(F[D].id!=I)throw"Bad ColumnRowUIDMapArchive";var P=Cr(F[D].messages[0].data);P[1]=[],P[2]=[],P[3]=[];for(var S=0;S<=r.e.c;++S){var N=[];N[1]=N[2]=[{type:0,data:Ur(S+420690)}],P[1].push({type:2,data:Ja(N)}),P[2].push({type:0,data:Ur(S)}),P[3].push({type:0,data:Ur(S)})}P[4]=[],P[5]=[],P[6]=[];for(var B=0;B<=r.e.r;++B)N=[],N[1]=N[2]=[{type:0,data:Ur(B+726270)}],P[4].push({type:2,data:Ja(N)}),P[5].push({type:0,data:Ur(B)}),P[6].push({type:0,data:Ur(B)});F[D].messages[0].data=Ja(P)}k.content=o0(i0(F)),k.size=k.content.length,delete T[46];var V=Cr(T[4][0].data);{V[7][0].data=Ur(r.e.r+1);var U=Cr(V[1][0].data),L=Si(U[2][0].data);k=ln.find(A,o[L].location),F=xl(vl(k.content));{if(F[0].id!=L)throw"Bad HeaderStorageBucket";var j=Cr(F[0].messages[0].data);for(B=0;B<a.length;++B){var G=Cr(j[2][0].data);G[1][0].data=Ur(B),G[4][0].data=Ur(a[B].length),j[2][B]={type:j[2][0].type,data:Ja(G)}}F[0].messages[0].data=Ja(j)}k.content=o0(i0(F)),k.size=k.content.length;var se=Si(V[2][0].data);k=ln.find(A,o[se].location),F=xl(vl(k.content));{if(F[0].id!=se)throw"Bad HeaderStorageBucket";for(j=Cr(F[0].messages[0].data),S=0;S<=r.e.c;++S)G=Cr(j[2][0].data),G[1][0].data=Ur(S),G[4][0].data=Ur(r.e.r+1),j[2][S]={type:j[2][0].type,data:Ja(G)};F[0].messages[0].data=Ja(j)}k.content=o0(i0(F)),k.size=k.content.length;var K=Si(V[4][0].data);(function(){for(var q=ln.find(A,o[K].location),J=xl(vl(q.content)),ne,ae=0;ae<J.length;++ae){var ue=J[ae];ue.id==K&&(ne=ue)}var pe=Cr(ne.messages[0].data);{pe[3]=[];var ye=[];i.forEach(function(ie,De){ye[1]=[{type:0,data:Ur(De)}],ye[2]=[{type:0,data:Ur(1)}],ye[3]=[{type:2,data:mpe(ie)}],pe[3].push({type:2,data:Ja(ye)})})}ne.messages[0].data=Ja(pe);var Ie=i0(J),we=o0(Ie);q.content=we,q.size=q.content.length})();var Y=Cr(V[3][0].data);{var oe=Y[1][0];delete Y[2];var Z=Cr(oe.data);{var ee=Si(Z[2][0].data);(function(){for(var q=ln.find(A,o[ee].location),J=xl(vl(q.content)),ne,ae=0;ae<J.length;++ae){var ue=J[ae];ue.id==ee&&(ne=ue)}var pe=Cr(ne.messages[0].data);{delete pe[6],delete Y[7];var ye=new Uint8Array(pe[5][0].data);pe[5]=[];for(var Ie=0,we=0;we<=r.e.r;++we){var ie=Cr(ye);Ie+=Npe(ie,a[we],i),ie[1][0].data=Ur(we),pe[5].push({data:Ja(ie),type:2})}pe[1]=[{type:0,data:Ur(r.e.c+1)}],pe[2]=[{type:0,data:Ur(r.e.r+1)}],pe[3]=[{type:0,data:Ur(Ie)}],pe[4]=[{type:0,data:Ur(r.e.r+1)}]}ne.messages[0].data=Ja(pe);var De=i0(J),st=o0(De);q.content=st,q.size=q.content.length})()}oe.data=Ja(Z)}V[3][0].data=Ja(Y)}T[4][0].data=Ja(V)}g.messages[0].data=Ja(T);var he=i0(p),O=o0(he);return h.content=O,h.size=h.content.length,A}function YP(t){return function(n){for(var r=0;r!=t.length;++r){var s=t[r];n[s[0]]===void 0&&(n[s[0]]=s[1]),s[2]==="n"&&(n[s[0]]=Number(n[s[0]]))}}}function t4(t){YP([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function n4(t){YP([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function Ipe(t){return Jn.WS.indexOf(t)>-1?"sheet":t==Jn.CS?"chart":t==Jn.DS?"dialog":t==Jn.MS?"macro":t&&t.length?t:"sheet"}function Fpe(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,Ipe(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function Rpe(t,e,n,r,s,a,i,o,l,A,d,h){try{a[r]=gg(Ho(t,n,!0),e);var p=ca(t,e),g;switch(o){case"sheet":g=tme(p,e,s,l,a[r],A,d,h);break;case"chart":if(g=nme(p,e,s,l,a[r],A,d,h),!g||!g["!drawel"])break;var w=Wp(g["!drawel"].Target,e),b=Vg(w),E=Hue(Ho(t,w,!0),gg(Ho(t,b,!0),w)),T=Wp(E,w),I=Vg(T);g=N0e(Ho(t,T,!0),T,l,gg(Ho(t,I,!0),T),A,g);break;case"macro":g=rme(p,e,s,l,a[r],A,d,h);break;case"dialog":g=sme(p,e,s,l,a[r],A,d,h);break;default:throw new Error("Unrecognized sheet type "+o)}i[r]=g;var k=[];a&&a[r]&&Ls(a[r]).forEach(function(F){var D="";if(a[r][F].Type==Jn.CMNT){D=Wp(a[r][F].Target,e);var P=lme(ca(t,D,!0),D,l);if(!P||!P.length)return;vF(g,P,!1)}a[r][F].Type==Jn.TCMNT&&(D=Wp(a[r][F].Target,e),k=k.concat(Gue(ca(t,D,!0),l)))}),k&&k.length&&vF(g,k,!0,l.people||[])}catch(F){if(l.WTF)throw F}}function pl(t){return t.charAt(0)=="/"?t.slice(1):t}function Dpe(t,e){if(Dm(),e=e||{},t4(e),yl(t,"META-INF/manifest.xml")||yl(t,"objectdata.xml"))return kF(t,e);if(yl(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof FC<"u"){if(t.FileIndex)return FC(t);var n=ln.utils.cfb_new();return jI(t).forEach(function(G){On(n,G,zie(t,G))}),FC(n)}throw new Error("Unsupported NUMBERS file")}if(!yl(t,"[Content_Types].xml"))throw yl(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):yl(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=jI(t),s=Poe(Ho(t,"[Content_Types].xml")),a=!1,i,o;if(s.workbooks.length===0&&(o="xl/workbook.xml",ca(t,o,!0)&&s.workbooks.push(o)),s.workbooks.length===0){if(o="xl/workbook.bin",!ca(t,o,!0))throw new Error("Could not find workbook");s.workbooks.push(o),a=!0}s.workbooks[0].slice(-3)=="bin"&&(a=!0);var l={},A={};if(!e.bookSheets&&!e.bookProps){if(xg=[],s.sst)try{xg=ome(ca(t,pl(s.sst)),s.sst,e)}catch(G){if(e.WTF)throw G}e.cellStyles&&s.themes.length&&(l=ime(Ho(t,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],e)),s.style&&(A=ame(ca(t,pl(s.style)),s.style,l,e))}s.links.map(function(G){try{var se=gg(Ho(t,Vg(pl(G))),G);return Ame(ca(t,pl(G)),se,G,e)}catch{}});var d=eme(ca(t,pl(s.workbooks[0])),s.workbooks[0],e),h={},p="";s.coreprops.length&&(p=ca(t,pl(s.coreprops[0]),!0),p&&(h=PM(p)),s.extprops.length!==0&&(p=ca(t,pl(s.extprops[0]),!0),p&&zoe(p,h,e)));var g={};(!e.bookSheets||e.bookProps)&&s.custprops.length!==0&&(p=Ho(t,pl(s.custprops[0]),!0),p&&(g=qoe(p,e)));var w={};if((e.bookSheets||e.bookProps)&&(d.Sheets?i=d.Sheets.map(function(se){return se.name}):h.Worksheets&&h.SheetNames.length>0&&(i=h.SheetNames),e.bookProps&&(w.Props=h,w.Custprops=g),e.bookSheets&&typeof i<"u"&&(w.SheetNames=i),e.bookSheets?w.SheetNames:e.bookProps))return w;i={};var b={};e.bookDeps&&s.calcchain&&(b=cme(ca(t,pl(s.calcchain)),s.calcchain));var E=0,T={},I,k;{var F=d.Sheets;h.Worksheets=F.length,h.SheetNames=[];for(var D=0;D!=F.length;++D)h.SheetNames[D]=F[D].name}var P=a?"bin":"xml",S=s.workbooks[0].lastIndexOf("/"),N=(s.workbooks[0].slice(0,S+1)+"_rels/"+s.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");yl(t,N)||(N="xl/_rels/workbook."+P+".rels");var B=gg(Ho(t,N,!0),N.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(e.xlmeta=ume(ca(t,pl(s.metadata[0])),s.metadata[0],e)),(s.people||[]).length>=1&&(e.people=Kue(ca(t,pl(s.people[0])),e)),B&&(B=Fpe(B,d.Sheets));var V=ca(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(E=0;E!=h.Worksheets;++E){var U="sheet";if(B&&B[E]?(I="xl/"+B[E][1].replace(/[\/]?xl\//,""),yl(t,I)||(I=B[E][1]),yl(t,I)||(I=N.replace(/_rels\/.*$/,"")+B[E][1]),U=B[E][2]):(I="xl/worksheets/sheet"+(E+1-V)+"."+P,I=I.replace(/sheet0\./,"sheet.")),k=I.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(E!=e.sheets)continue e;break;case"string":if(h.SheetNames[E].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var L=!1,j=0;j!=e.sheets.length;++j)typeof e.sheets[j]=="number"&&e.sheets[j]==E&&(L=1),typeof e.sheets[j]=="string"&&e.sheets[j].toLowerCase()==h.SheetNames[E].toLowerCase()&&(L=1);if(!L)continue e}}Rpe(t,I,k,h.SheetNames[E],E,T,i,U,e,d,l,A)}return w={Directory:s,Workbook:d,Props:h,Custprops:g,Deps:b,Sheets:i,SheetNames:h.SheetNames,Strings:xg,Styles:A,Themes:l,SSF:os(gn)},e&&e.bookFiles&&(t.files?(w.keys=r,w.files=t.files):(w.keys=[],w.files={},t.FullPaths.forEach(function(G,se){G=G.replace(/^Root Entry[\/]/,""),w.keys.push(G),w.files[G]=t.FileIndex[se]}))),e&&e.bookVBA&&(s.vba.length>0?w.vbaraw=ca(t,pl(s.vba[0]),!0):s.defaults&&s.defaults.bin===ede&&(w.vbaraw=ca(t,"xl/vbaProject.bin",!0))),w}function Upe(t,e){var n=e||{},r="Workbook",s=ln.find(t,r);try{if(r="/!DataSpaces/Version",s=ln.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(uAe(s.content),r="/!DataSpaces/DataSpaceMap",s=ln.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=fAe(s.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=ln.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);var i=hAe(s.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=ln.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);pAe(s.content)}catch{}if(r="/EncryptionInfo",s=ln.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=gAe(s.content);if(r="/EncryptedPackage",s=ln.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],s.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],s.content,n.password||"",n);throw new Error("File is password-protected")}function Lpe(t,e){return e.bookType=="ods"?$P(t,e):e.bookType=="numbers"?kpe(t,e):e.bookType=="xlsb"?Mpe(t,e):Ppe(t,e)}function Mpe(t,e){D0=1024,t&&!t.SSF&&(t.SSF=os(gn)),t&&t.SSF&&(Dm(),Jy(t.SSF),e.revssf=Zy(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,vg?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=CP.indexOf(e.bookType)>-1,s=Q5();n4(e=e||{});var a=T5(),i="",o=0;if(e.cellXfs=[],cf(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),i="docProps/core.xml",On(a,i,OM(t.Props,e)),s.coreprops.push(i),Lr(e.rels,2,i,Jn.CORE_PROPS),i="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],A=0;A<t.SheetNames.length;++A)(t.Workbook.Sheets[A]||{}).Hidden!=2&&l.push(t.SheetNames[A]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,On(a,i,HM(t.Props)),s.extprops.push(i),Lr(e.rels,3,i,Jn.EXT_PROPS),t.Custprops!==t.Props&&Ls(t.Custprops||{}).length>0&&(i="docProps/custom.xml",On(a,i,VM(t.Custprops)),s.custprops.push(i),Lr(e.rels,4,i,Jn.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var d={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:i="xl/worksheets/sheet"+o+"."+n,On(a,i,fme(o-1,i,e,t,d)),s.sheets.push(i),Lr(e.wbrels,-1,"worksheets/sheet"+o+"."+n,Jn.WS[0])}if(h){var g=h["!comments"],w=!1,b="";g&&g.length>0&&(b="xl/comments"+o+"."+n,On(a,b,pme(g,b)),s.comments.push(b),Lr(d,-1,"../comments"+o+"."+n,Jn.CMNT),w=!0),h["!legacy"]&&w&&On(a,"xl/drawings/vmlDrawing"+o+".vml",wP(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&On(a,Vg(i),J0(d))}return e.Strings!=null&&e.Strings.length>0&&(i="xl/sharedStrings."+n,On(a,i,mme(e.Strings,i,e)),s.strs.push(i),Lr(e.wbrels,-1,"sharedStrings."+n,Jn.SST)),i="xl/workbook."+n,On(a,i,dme(t,i)),s.workbooks.push(i),Lr(e.rels,1,i,Jn.WB),i="xl/theme/theme1.xml",On(a,i,q5(t.Themes,e)),s.themes.push(i),Lr(e.wbrels,-1,"theme/theme1.xml",Jn.THEME),i="xl/styles."+n,On(a,i,hme(t,i,e)),s.styles.push(i),Lr(e.wbrels,-1,"styles."+n,Jn.STY),t.vbaraw&&r&&(i="xl/vbaProject.bin",On(a,i,t.vbaraw),s.vba.push(i),Lr(e.wbrels,-1,"vbaProject.bin",Jn.VBA)),i="xl/metadata."+n,On(a,i,gme(i)),s.metadata.push(i),Lr(e.wbrels,-1,"metadata."+n,Jn.XLMETA),On(a,"[Content_Types].xml",LM(s,e)),On(a,"_rels/.rels",J0(e.rels)),On(a,"xl/_rels/workbook."+n+".rels",J0(e.wbrels)),delete e.revssf,delete e.ssf,a}function Ppe(t,e){D0=1024,t&&!t.SSF&&(t.SSF=os(gn)),t&&t.SSF&&(Dm(),Jy(t.SSF),e.revssf=Zy(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,vg?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=CP.indexOf(e.bookType)>-1,s=Q5();n4(e=e||{});var a=T5(),i="",o=0;if(e.cellXfs=[],cf(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),i="docProps/core.xml",On(a,i,OM(t.Props,e)),s.coreprops.push(i),Lr(e.rels,2,i,Jn.CORE_PROPS),i="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],A=0;A<t.SheetNames.length;++A)(t.Workbook.Sheets[A]||{}).Hidden!=2&&l.push(t.SheetNames[A]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,On(a,i,HM(t.Props)),s.extprops.push(i),Lr(e.rels,3,i,Jn.EXT_PROPS),t.Custprops!==t.Props&&Ls(t.Custprops||{}).length>0&&(i="docProps/custom.xml",On(a,i,VM(t.Custprops)),s.custprops.push(i),Lr(e.rels,4,i,Jn.CUST_PROPS));var d=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},p=t.Sheets[t.SheetNames[o-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:i="xl/worksheets/sheet"+o+"."+n,On(a,i,DP(o-1,e,t,h)),s.sheets.push(i),Lr(e.wbrels,-1,"worksheets/sheet"+o+"."+n,Jn.WS[0])}if(p){var w=p["!comments"],b=!1,E="";if(w&&w.length>0){var T=!1;w.forEach(function(I){I[1].forEach(function(k){k.T==!0&&(T=!0)})}),T&&(E="xl/threadedComments/threadedComment"+o+"."+n,On(a,E,zue(w,d,e)),s.threadedcomments.push(E),Lr(h,-1,"../threadedComments/threadedComment"+o+"."+n,Jn.TCMNT)),E="xl/comments"+o+"."+n,On(a,E,bP(w)),s.comments.push(E),Lr(h,-1,"../comments"+o+"."+n,Jn.CMNT),b=!0}p["!legacy"]&&b&&On(a,"xl/drawings/vmlDrawing"+o+".vml",wP(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&On(a,Vg(i),J0(h))}return e.Strings!=null&&e.Strings.length>0&&(i="xl/sharedStrings."+n,On(a,i,cP(e.Strings,e)),s.strs.push(i),Lr(e.wbrels,-1,"sharedStrings."+n,Jn.SST)),i="xl/workbook."+n,On(a,i,OP(t)),s.workbooks.push(i),Lr(e.rels,1,i,Jn.WB),i="xl/theme/theme1.xml",On(a,i,q5(t.Themes,e)),s.themes.push(i),Lr(e.wbrels,-1,"theme/theme1.xml",Jn.THEME),i="xl/styles."+n,On(a,i,gP(t,e)),s.styles.push(i),Lr(e.wbrels,-1,"styles."+n,Jn.STY),t.vbaraw&&r&&(i="xl/vbaProject.bin",On(a,i,t.vbaraw),s.vba.push(i),Lr(e.wbrels,-1,"vbaProject.bin",Jn.VBA)),i="xl/metadata."+n,On(a,i,yP()),s.metadata.push(i),Lr(e.wbrels,-1,"metadata."+n,Jn.XLMETA),d.length>1&&(i="xl/persons/person.xml",On(a,i,que(d)),s.people.push(i),Lr(e.wbrels,-1,"persons/person.xml",Jn.PEOPLE)),On(a,"[Content_Types].xml",LM(s,e)),On(a,"_rels/.rels",J0(e.rels)),On(a,"xl/_rels/workbook."+n+".rels",J0(e.wbrels)),delete e.revssf,delete e.ssf,a}function r4(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=zo(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function Ope(t,e){return ln.find(t,"EncryptedPackage")?Upe(t,e):VP(t,e)}function jpe(t,e){var n,r=t,s=e||{};return s.type||(s.type=Kn&&Buffer.isBuffer(t)?"buffer":"base64"),n=uM(r,s),Dpe(n,s)}function JP(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return N_(t.slice(n),e);default:break e}return hm.to_workbook(t,e)}function Qpe(t,e){var n="",r=r4(t,e);switch(e.type){case"base64":n=zo(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=ch(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=qr(n)),e.type="binary",JP(n,e)}function Hpe(t,e){var n=t;return e.type=="base64"&&(n=zo(n)),n=Mg.utils.decode(1200,n.slice(2),"str"),e.type="binary",JP(n,e)}function Vpe(t){return t.match(/[^\x00-\x7F]/)?lA(t):t}function RC(t,e,n,r){return r?(n.type="string",hm.to_workbook(t,n)):hm.to_workbook(e,n)}function F_(t,e){b5();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return F_(new Uint8Array(t),(n=os(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,s=[0,0,0,0],a=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Z0={},n.dateNF&&(Z0.dateNF=n.dateNF),n.type||(n.type=Kn&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=Kn?"buffer":"binary",r=Mie(t),typeof Uint8Array<"u"&&!Kn&&(n.type="array")),n.type=="string"&&(a=!0,n.type="binary",n.codepage=65001,r=Vpe(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return n=os(n),n.type="array",F_(C5(r),n)}switch((s=r4(r,n))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return Ope(ln.read(r,n),n);break;case 9:if(s[1]<=8)return VP(r,n);break;case 60:return N_(r,n);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return Wce(r,n);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return oP.to_workbook(r,n);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?jpe(r,n):RC(t,r,n,a);case 239:return s[3]===60?N_(r,n):RC(t,r,n,a);case 255:if(s[1]===254)return Hpe(r,n);if(s[1]===0&&s[2]===2&&s[3]===0)return Jf.to_workbook(r,n);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return Jf.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return B_.to_workbook(r,n);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return hP.to_workbook(r,n);break;case 10:case 13:case 32:return Qpe(r,n);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return qce.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?B_.to_workbook(r,n):RC(t,r,n,a)}function XP(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return vx(e.file,ln.write(t,{type:Kn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return ln.write(t,e)}function Gpe(t,e){var n=os(e||{}),r=Lpe(t,n);return zpe(r,n)}function zpe(t,e){var n={},r=Kn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?ln.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(Yy(s))}return e.password&&typeof encrypt_agile<"u"?XP(encrypt_agile(s,e.password),e):e.type==="file"?vx(e.file,s):e.type=="string"?qr(s):s}function Kpe(t,e){var n=e||{},r=Vme(t,n);return XP(r,n)}function sA(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return Pg(lA(r));case"binary":return lA(r);case"string":return t;case"file":return vx(e.file,r,"utf8");case"buffer":return Kn?Tu(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):sA(r,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function qpe(t,e){switch(e.type){case"base64":return Pg(t);case"binary":return t;case"string":return t;case"file":return vx(e.file,t,"binary");case"buffer":return Kn?Tu(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function tv(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?Pg(n):e.type=="string"?qr(n):n;case"file":return vx(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function ZP(t,e){b5(),O0e(t);var n=os(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=ZP(t,n);return n.type="array",Yy(r)}var s=0;if(n.sheet&&(typeof n.sheet=="number"?s=n.sheet:s=t.SheetNames.indexOf(n.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return sA(Lme(t,n),n);case"slk":case"sylk":return sA(iP.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"htm":case"html":return sA(zP(t.Sheets[t.SheetNames[s]],n),n);case"txt":return qpe(e7(t.Sheets[t.SheetNames[s]],n),n);case"csv":return sA(a4(t.Sheets[t.SheetNames[s]],n),n,"\uFEFF");case"dif":return sA(oP.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"dbf":return tv(B_.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"prn":return sA(hm.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"rtf":return sA(hP.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"eth":return sA(lP.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"fods":return sA($P(t,n),n);case"wk1":return tv(Jf.sheet_to_wk1(t.Sheets[t.SheetNames[s]],n),n);case"wk3":return tv(Jf.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),tv(GP(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),Kpe(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Gpe(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function Wpe(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function s4(t,e,n){var r={};return r.type="file",r.file=e,Wpe(r),ZP(t,r)}function $pe(t,e,n,r,s,a,i,o){var l=Js(n),A=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,p=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch{p.__rowNum__=n}else p.__rowNum__=n;if(!i||t[n])for(var g=e.s.c;g<=e.e.c;++g){var w=i?t[n][g]:t[r[g]+l];if(w===void 0||w.t===void 0){if(A===void 0)continue;a[g]!=null&&(p[a[g]]=A);continue}var b=w.v;switch(w.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(a[g]!=null){if(b==null)if(w.t=="e"&&b===null)p[a[g]]=null;else if(A!==void 0)p[a[g]]=A;else if(d&&b===null)p[a[g]]=null;else continue;else p[a[g]]=d&&(w.t!=="n"||w.t==="n"&&o.rawNumbers!==!1)?b:wu(w,b,o);b!=null&&(h=!1)}}return{row:p,isempty:h}}function $2(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,s=1,a=[],i=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},A=e||{},d=A.range!=null?A.range:t["!ref"];switch(A.header===1?r=1:A.header==="A"?r=2:Array.isArray(A.header)?r=3:A.header==null&&(r=0),typeof d){case"string":l=pr(d);break;case"number":l=pr(t["!ref"]),l.s.r=d;break;default:l=d}r>0&&(s=0);var h=Js(l.s.r),p=[],g=[],w=0,b=0,E=Array.isArray(t),T=l.s.r,I=0,k={};E&&!t[T]&&(t[T]=[]);var F=A.skipHidden&&t["!cols"]||[],D=A.skipHidden&&t["!rows"]||[];for(I=l.s.c;I<=l.e.c;++I)if(!(F[I]||{}).hidden)switch(p[I]=ys(I),n=E?t[T][I]:t[p[I]+h],r){case 1:a[I]=I-l.s.c;break;case 2:a[I]=p[I];break;case 3:a[I]=A.header[I-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=i=wu(n,null,A),b=k[i]||0,!b)k[i]=1;else{do o=i+"_"+b++;while(k[o]);k[i]=b,k[o]=1}a[I]=o}for(T=l.s.r+s;T<=l.e.r;++T)if(!(D[T]||{}).hidden){var P=$pe(t,l,T,p,r,a,E,A);(P.isempty===!1||(r===1?A.blankrows!==!1:A.blankrows))&&(g[w++]=P.row)}return g.length=w,g}var UF=/"/g;function Ype(t,e,n,r,s,a,i,o){for(var l=!0,A=[],d="",h=Js(n),p=e.s.c;p<=e.e.c;++p)if(r[p]){var g=o.dense?(t[n]||[])[p]:t[r[p]+h];if(g==null)d="";else if(g.v!=null){l=!1,d=""+(o.rawNumbers&&g.t=="n"?g.v:wu(g,null,o));for(var w=0,b=0;w!==d.length;++w)if((b=d.charCodeAt(w))===s||b===a||b===34||o.forceQuotes){d='"'+d.replace(UF,'""')+'"';break}d=="ID"&&(d='"ID"')}else g.f!=null&&!g.F?(l=!1,d="="+g.f,d.indexOf(",")>=0&&(d='"'+d.replace(UF,'""')+'"')):d="";A.push(d)}return o.blankrows===!1&&l?null:A.join(i)}function a4(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var s=pr(t["!ref"]),a=r.FS!==void 0?r.FS:",",i=a.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),A=new RegExp((a=="|"?"\\|":a)+"+$"),d="",h=[];r.dense=Array.isArray(t);for(var p=r.skipHidden&&t["!cols"]||[],g=r.skipHidden&&t["!rows"]||[],w=s.s.c;w<=s.e.c;++w)(p[w]||{}).hidden||(h[w]=ys(w));for(var b=0,E=s.s.r;E<=s.e.r;++E)(g[E]||{}).hidden||(d=Ype(t,s,E,h,i,l,a,r),d!=null&&(r.strip&&(d=d.replace(A,"")),(d||r.blankrows!==!1)&&n.push((b++?o:"")+d)));return delete r.dense,n.join("")}function e7(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=a4(t,e);return n}function Jpe(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var s=pr(t["!ref"]),a="",i=[],o,l=[],A=Array.isArray(t);for(o=s.s.c;o<=s.e.c;++o)i[o]=ys(o);for(var d=s.s.r;d<=s.e.r;++d)for(a=Js(d),o=s.s.c;o<=s.e.c;++o)if(e=i[o]+a,n=A?(t[d]||[])[o]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=e+"="+r}return l}function t7(t,e,n){var r=n||{},s=+!r.skipHeader,a=t||{},i=0,o=0;if(a&&r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var l=typeof r.origin=="string"?ws(r.origin):r.origin;i=l.r,o=l.c}var A,d={s:{c:0,r:0},e:{c:o,r:i+e.length-1+s}};if(a["!ref"]){var h=pr(a["!ref"]);d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),i==-1&&(i=h.e.r+1,d.e.r=i+e.length-1+s)}else i==-1&&(i=0,d.e.r=e.length-1+s);var p=r.header||[],g=0;e.forEach(function(b,E){Ls(b).forEach(function(T){(g=p.indexOf(T))==-1&&(p[g=p.length]=T);var I=b[T],k="z",F="",D=wn({c:o+g,r:i+E+s});A=Yg(a,D),I&&typeof I=="object"&&!(I instanceof Date)?a[D]=I:(typeof I=="number"?k="n":typeof I=="boolean"?k="b":typeof I=="string"?k="s":I instanceof Date?(k="d",r.cellDates||(k="n",I=Ba(I)),F=r.dateNF||gn[14]):I===null&&r.nullError&&(k="e",I=0),A?(A.t=k,A.v=I,delete A.w,delete A.R,F&&(A.z=F)):a[D]=A={t:k,v:I},F&&(A.z=F))})}),d.e.c=Math.max(d.e.c,o+p.length-1);var w=Js(i);if(s)for(g=0;g<p.length;++g)a[ys(g+o)+w]={t:"s",v:p[g]};return a["!ref"]=Rn(d),a}function Xpe(t,e){return t7(null,t,e)}function Yg(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=ws(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Yg(t,wn(e)):Yg(t,wn({r:e,c:n||0}))}function Zpe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function i4(){return{SheetNames:[],Sheets:{}}}function o4(t,e,n,r){var s=1;if(!n)for(;s<=65535&&t.SheetNames.indexOf(n="Sheet"+s)!=-1;++s,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var a=n.match(/(^.*?)(\d+)$/);s=a&&+a[2]||0;var i=a&&a[1]||n;for(++s;s<=65535&&t.SheetNames.indexOf(n=i+s)!=-1;++s);}if(PP(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function ege(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=Zpe(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function tge(t,e){return t.z=e,t}function n7(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function nge(t,e,n){return n7(t,"#"+e,n)}function rge(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function sge(t,e,n,r){for(var s=typeof e!="string"?e:pr(e),a=typeof e=="string"?e:Rn(e),i=s.s.r;i<=s.e.r;++i)for(var o=s.s.c;o<=s.e.c;++o){var l=Yg(t,i,o);l.t="n",l.F=a,delete l.v,i==s.s.r&&o==s.s.c&&(l.f=n,r&&(l.D=!0))}return t}var cA={encode_col:ys,encode_row:Js,encode_cell:wn,encode_range:Rn,decode_col:U5,decode_row:D5,split_cell:moe,decode_cell:ws,decode_range:xo,format_cell:wu,sheet_add_aoa:NM,sheet_add_json:t7,sheet_add_dom:KP,aoa_to_sheet:Um,json_to_sheet:Xpe,table_to_sheet:qP,table_to_book:upe,sheet_to_csv:a4,sheet_to_txt:e7,sheet_to_json:$2,sheet_to_html:zP,sheet_to_formulae:Jpe,sheet_to_row_object_array:$2,sheet_get_cell:Yg,book_new:i4,book_append_sheet:o4,book_set_sheet_visibility:ege,cell_set_number_format:tge,cell_set_hyperlink:n7,cell_set_internal_link:nge,cell_add_comment:rge,sheet_set_array_formula:sge,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const age="apiCallLogs",LF=500,l0=({title:t,value:e,description:n,alert:r})=>u.jsxs("div",{className:`p-5 rounded-xl border ${r?"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-700":"bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700"}`,children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:t}),u.jsx("p",{className:`text-3xl font-bold mt-2 ${r?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-200"}`,children:e}),n&&u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:n})]}),DC=({title:t,data:e,colorClass:n})=>{const r=X.useMemo(()=>Math.max(...e.map(s=>s.value),1),[e]);return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md h-full",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:t}),u.jsx("div",{className:"space-y-4",children:e.length>0?e.map(s=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[u.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:s.label}),u.jsx("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:s.value})]}),u.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:u.jsx("div",{className:`${n} h-3 rounded-full transition-all duration-500 ease-out`,style:{width:`${s.value/r*100}%`}})})]},s.label)):u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm text-center py-8",children:"No hay datos para mostrar."})})]})},ige=()=>{const[t,e]=X.useState([]),n=X.useCallback(()=>{try{const i=localStorage.getItem(age);i&&e(JSON.parse(i))}catch(i){console.error("Error al cargar logs de la API:",i)}},[]);X.useEffect(()=>(n(),window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}),[n]);const{stats:r,userStats:s,moduleStats:a}=X.useMemo(()=>{const i=new Date,o=new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime(),l=o-i.getDay()*24*60*60*1e3,A=new Date(i.getFullYear(),i.getMonth(),1).getTime(),d={today:0,week:0,month:0},h={},p={};t.forEach(b=>{const E=new Date(b.timestamp).getTime();E>=o&&d.today++,E>=l&&d.week++,E>=A&&d.month++,h[b.userId]||(h[b.userId]={email:b.userEmail,today:0,month:0,total:0}),h[b.userId].total++,E>=o&&h[b.userId].today++,E>=A&&h[b.userId].month++,p[b.module]=(p[b.module]||0)+1});const g=Object.values(h).sort((b,E)=>E.total-b.total),w=Object.entries(p).map(([b,E])=>({label:b,value:E})).sort((b,E)=>E.value-b.value);return{stats:d,userStats:g,moduleStats:w}},[t]);return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Monitor de Llamadas a la API de IA"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsx(l0,{title:"Llamadas Hoy",value:r.today,description:`Lmite recomendado: ${LF}`,alert:r.today>LF}),u.jsx(l0,{title:"Llamadas esta Semana",value:r.week}),u.jsx(l0,{title:"Llamadas este Mes",value:r.month})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8",children:[u.jsx(DC,{title:"Uso por Mdulo",data:a,colorClass:"bg-sky-500"}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Uso por Usuario"}),u.jsx("div",{className:"overflow-x-auto max-h-96",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Usuario"}),u.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Hoy"}),u.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Mes"}),u.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Total"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:s.length>0?s.map(i=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:i.email}),u.jsx("td",{className:"px-4 py-2 text-center text-sm",children:i.today}),u.jsx("td",{className:"px-4 py-2 text-center text-sm",children:i.month}),u.jsx("td",{className:"px-4 py-2 text-center text-sm font-bold",children:i.total})]},i.email)):u.jsx("tr",{children:u.jsx("td",{colSpan:4,className:"text-center py-6 text-slate-500",children:"No hay registros."})})})]})})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Monitor de Almacenamiento"}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Esta seccin se conectar a Firebase en una futura actualizacin."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 opacity-50",children:[u.jsx(l0,{title:"Documentos Creados (Hoy)",value:"--"}),u.jsx(l0,{title:"Lecturas de Firestore (Hoy)",value:"--"}),u.jsx(l0,{title:"Espacio en Storage",value:"-- GB"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8 opacity-50",children:[u.jsx(DC,{title:"Actividad de Firestore (ltimos 7 das)",data:[],colorClass:"bg-green-500"}),u.jsx(DC,{title:"Uso de Storage por tipo de archivo",data:[],colorClass:"bg-purple-500"})]})]})]})},aw=$q(IL,"usuarios");async function oge(){return(await uW(aw)).docs.map(e=>({id:e.id,...e.data()}))}async function lge(t){await dW(Py(aw,t.email),t)}async function cge(t,e){await fW(Py(aw,t),e)}async function Age(t){await hW(Py(aw,t))}Object.values(on);const uge=t=>{if(!t)return"";let e=t.trim().toLowerCase();return e=e.replace(//g,""),e=e.replace(/\s+(medio|bsico|basico)/g,""),e=e.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1"),e=e.replace(/^(\d)(?![])/,"$1"),e=e.replace(/\s+/g,"").toUpperCase(),e},dge=()=>{const[t,e]=X.useState([]),[n,r]=X.useState(!1),[s,a]=X.useState("Usuarios"),[i,o]=X.useState({nombreCompleto:"",email:"",rut:"",profile:on.PROFESORADO,password:"",curso:"",cursos:[],asignaturas:[]}),[l,A]=X.useState(null),[d,h]=X.useState(""),[p,g]=X.useState(""),[w,b]=X.useState(""),[E,T]=X.useState(null),[I,k]=X.useState(null),[F,D]=X.useState(null),P=X.useCallback(async()=>{r(!0);try{const U=await oge();e(U)}catch{T("No se pudieron cargar los usuarios desde la nube.")}finally{r(!1)}},[]);X.useEffect(()=>{P()},[P]),X.useCallback(U=>{const{name:L,value:j}=U.target;o(G=>({...G,[L]:j,curso:L==="profile"&&j!==on.ESTUDIANTE?"":G.curso}))},[]),X.useCallback((U,L)=>{o(j=>{const G=j[U]||[],se=G.includes(L)?G.filter(K=>K!==L):[...G,L];return{...j,[U]:se}})},[]);const S=X.useCallback(()=>{o({nombreCompleto:"",email:"",rut:"",profile:on.PROFESORADO,password:"",curso:"",cursos:[],asignaturas:[]}),A(null),T(null)},[]);X.useCallback(async U=>{var O;U.preventDefault();const{nombreCompleto:L,email:j,profile:G,curso:se,cursos:K,asignaturas:Y}=i;if(!L.trim()||!j.trim()){T("Nombre Completo y Email son obligatorios.");return}if(G===on.ESTUDIANTE&&!se){T('El campo "Curso" es obligatorio para el perfil de Estudiante.');return}const oe=G===on.ESTUDIANTE?uge(se||""):void 0,Z=G===on.PROFESORADO?K:void 0,ee=G===on.PROFESORADO?Y:void 0,he=(O=i.password)!=null&&O.trim()?i.password.trim():void 0;try{l?await cge(i.email,{...i,password:he,curso:oe,cursos:Z,asignaturas:ee}):await lge({...i,password:he,curso:oe,cursos:Z,asignaturas:ee}),await P(),S()}catch{T("Error al guardar el usuario en la nube.")}},[i,l,P,S]);const N=X.useCallback(U=>{window.scrollTo({top:0,behavior:"smooth"}),A(U.id),o({nombreCompleto:U.nombreCompleto,email:U.email,rut:U.rut,profile:U.profile,password:"",curso:U.curso,cursos:U.cursos||[],asignaturas:U.asignaturas||[]})},[]),B=X.useCallback(async U=>{if(window.confirm("Est seguro de que desea eliminar este usuario?"))try{await Age(U),await P()}catch{T("No se pudo borrar el usuario en la nube.")}},[P]);X.useMemo(()=>Array.from(new Set(t.filter(U=>U.profile===on.ESTUDIANTE&&U.curso).map(U=>U.curso))).sort(),[t]);const V=X.useMemo(()=>t.filter(U=>(d===""||U.nombreCompleto.toLowerCase().includes(d.toLowerCase())||U.email.toLowerCase().includes(d.toLowerCase()))&&(p===""||U.profile===p)&&(w===""||U.curso===w)),[t,d,p,w]);return u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex space-x-4 mb-8",children:[u.jsx("button",{onClick:()=>a("Usuarios"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s==="Usuarios"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Usuarios"}),u.jsx("button",{onClick:()=>a("Monitor de Uso"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s==="Monitor de Uso"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Monitor de Uso"})]}),s==="Monitor de Uso"&&u.jsx(ige,{}),s==="Usuarios"&&u.jsxs("div",{className:"space-y-8",children:[n&&u.jsx("div",{className:"text-center text-amber-600",children:"Cargando usuarios desde la nube..."}),E&&u.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md",children:E}),!n&&t.length===0&&u.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 p-4 rounded-lg",children:"No hay usuarios registrados en la nube."}),!n&&t.length>0&&u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Listado de Usuarios"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Nombre Completo"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Email"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Perfil / Curso"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Acciones"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:V.map(U=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:U.nombreCompleto}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:U.email}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:u.jsxs("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-sky-100 text-sky-800 dark:bg-sky-900/50 dark:text-sky-300",children:[U.profile," ",U.curso&&`(${U.curso})`]})}),u.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-center space-x-2",children:[u.jsx("button",{onClick:()=>N(U),title:"Editar",className:"text-yellow-600 hover:text-yellow-800 p-1 rounded-full hover:bg-yellow-100 dark:hover:bg-yellow-900/40",children:""}),u.jsx("button",{onClick:()=>B(U.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:""})]})]},U.id))})]})})]})]})]})},MF="seguimientoDualRecords",fge={Vinculado:"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300",Desvinculado:"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300","En proceso":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300",Empresa:"bg-purple-100 text-purple-800 dark:bg-purple-900/40 dark:text-purple-300"},hge=({record:t,onSave:e,onClose:n})=>{const[r,s]=X.useState(t),a="w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600 dark:text-white",i=l=>{const{name:A,value:d,type:h,checked:p}=l.target;s(g=>({...g,[A]:h==="checkbox"?p:d}))},o=()=>{e(r)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center p-4",onClick:n,children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl animate-fade-in-up",onClick:l=>l.stopPropagation(),children:[u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Seguimiento de Supervisin"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:t.nombreEstudiante}),u.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-4 text-slate-700 dark:text-slate-300",children:[u.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[u.jsx("legend",{className:"font-semibold text-lg px-2",children:"1er Semestre"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mt-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{htmlFor:`f1s1-${t.id}`,className:"text-sm font-medium",children:"Fecha 1ra Supervisin"}),u.jsx("input",{id:`f1s1-${t.id}`,type:"date",name:"fecha1raSupervision1erSemestre",value:r.fecha1raSupervision1erSemestre||"",onChange:i,className:a})]}),u.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[u.jsx("input",{type:"checkbox",name:"realizada1raSupervision1erSemestre",checked:!!r.realizada1raSupervision1erSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),u.jsx("span",{children:"Realizada"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{htmlFor:`f2s1-${t.id}`,className:"text-sm font-medium",children:"Fecha 2da Supervisin"}),u.jsx("input",{id:`f2s1-${t.id}`,type:"date",name:"fecha2daSupervision1erSemestre",value:r.fecha2daSupervision1erSemestre||"",onChange:i,className:a})]}),u.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[u.jsx("input",{type:"checkbox",name:"realizada2daSupervision1erSemestre",checked:!!r.realizada2daSupervision1erSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),u.jsx("span",{children:"Realizada"})]})]})]}),u.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[u.jsx("legend",{className:"font-semibold text-lg px-2",children:"2do Semestre"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mt-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{htmlFor:`f1s2-${t.id}`,className:"text-sm font-medium",children:"Fecha 1ra Supervisin"}),u.jsx("input",{id:`f1s2-${t.id}`,type:"date",name:"fecha1raSupervision2doSemestre",value:r.fecha1raSupervision2doSemestre||"",onChange:i,className:a})]}),u.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[u.jsx("input",{type:"checkbox",name:"realizada1raSupervision2doSemestre",checked:!!r.realizada1raSupervision2doSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),u.jsx("span",{children:"Realizada"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{htmlFor:`f2s2-${t.id}`,className:"text-sm font-medium",children:"Fecha 2da Supervisin"}),u.jsx("input",{id:`f2s2-${t.id}`,type:"date",name:"fecha2daSupervision2doSemestre",value:r.fecha2daSupervision2doSemestre||"",onChange:i,className:a})]}),u.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[u.jsx("input",{type:"checkbox",name:"realizada2daSupervision2doSemestre",checked:!!r.realizada2daSupervision2doSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),u.jsx("span",{children:"Realizada"})]})]})]}),u.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[u.jsx("legend",{className:"font-semibold text-lg px-2",children:"Supervisin Excepcional"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mt-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{htmlFor:`fex-${t.id}`,className:"text-sm font-medium",children:"Fecha Supervisin"}),u.jsx("input",{id:`fex-${t.id}`,type:"date",name:"fechaSupervisionExcepcional",value:r.fechaSupervisionExcepcional||"",onChange:i,className:a})]}),u.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[u.jsx("input",{type:"checkbox",name:"realizadaSupervisionExcepcional",checked:!!r.realizadaSupervisionExcepcional,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),u.jsx("span",{children:"Realizada"})]})]})]}),u.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[u.jsx("legend",{className:"font-semibold text-lg px-2",children:"Maestro Gua (Empresa)"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`mg-nombre-${t.id}`,className:"text-sm font-medium",children:"Nombre Maestro Gua"}),u.jsx("input",{id:`mg-nombre-${t.id}`,type:"text",name:"nombreMaestroGuia",value:r.nombreMaestroGuia||"",onChange:i,className:a+" mt-1"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:`mg-contacto-${t.id}`,className:"text-sm font-medium",children:"Contacto (Email/Telfono)"}),u.jsx("input",{id:`mg-contacto-${t.id}`,type:"text",name:"contactoMaestroGuia",value:r.contactoMaestroGuia||"",onChange:i,className:a+" mt-1"})]})]})]})]})]}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:n,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Cerrar"}),u.jsx("button",{type:"button",onClick:o,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Guardar Cambios"})]})]})})},mge=()=>{const[t,e]=X.useState([]),n=X.useMemo(()=>({nombreEstudiante:"",rutEstudiante:"",curso:qf[0],profesorTutorEmpresa:"",rutEmpresa:"",nombreEmpresa:"",direccionEmpresa:"",comuna:"",estado:Zb[0],fechaDesvinculacion:"",motivoDesvinculacion:""}),[]),[r,s]=X.useState(n),[a,i]=X.useState(null),[o,l]=X.useState(""),[A,d]=X.useState({curso:"",empresa:"",estado:"",comuna:"",profesor:""}),[h,p]=X.useState(null),[g,w]=X.useState(null),[b,E]=X.useState(!1),[T,I]=X.useState(null);X.useEffect(()=>{try{const Y=localStorage.getItem(MF);Y&&e(JSON.parse(Y))}catch(Y){console.error("Error al cargar datos de localStorage",Y)}},[]);const k=X.useCallback(Y=>{e(Y),localStorage.setItem(MF,JSON.stringify(Y))},[]),F=X.useCallback(Y=>{const{name:oe,value:Z}=Y.target;s(ee=>({...ee,[oe]:Z}))},[]),D=X.useCallback(Y=>{const{name:oe,value:Z}=Y.target;d(ee=>({...ee,[oe]:Z}))},[]),P=X.useCallback(()=>{s(n),i(null),p(null)},[n]),S=X.useCallback(Y=>{Y.preventDefault();const Z=["nombreEstudiante","rutEstudiante","nombreEmpresa"].find(he=>!r[he].trim());if(Z){p(`El campo '${Z}' es obligatorio.`);return}const ee=a?t.map(he=>he.id===a?{...he,...r}:he):[{...r,id:crypto.randomUUID()},...t];k(ee),P()},[r,a,t,k,P]),N=X.useCallback(Y=>{window.scrollTo({top:0,behavior:"smooth"}),i(Y.id),s(Y)},[]),B=X.useCallback(Y=>{window.confirm("Est seguro de que desea eliminar este registro?")&&k(t.filter(oe=>oe.id!==Y))},[t,k]),V=Y=>{I(Y),E(!0)},U=()=>{I(null),E(!1)},L=Y=>{const oe=t.map(Z=>Z.id===Y.id?Y:Z);k(oe),U()},j=()=>{const Y=["Nombre","RUT","Curso 2025","Profesor Tutor","1 Visita 1 Semestre","Realizada 1 Visita S1","2 Visita 1 Semestre","Realizada 2 Visita S1","Visita Emergencia 1 Semestre","3 Visita","Realizada 3 Visita S2","4 Visita","Realizada 4 Visita S2","Empresa","RUT-Empresa","Direccin","Comuna","Estado","Fecha de Desvinculacin","Motivo Desvinculacin","Maestro Gua","Correo maestro gua"],oe=cA.aoa_to_sheet([Y]),Z=cA.book_new();cA.book_append_sheet(Z,oe,"Plantilla"),s4(Z,"Plantilla_Seguimiento_Dual.xlsx")},G=Y=>{var ee;const oe=(ee=Y.target.files)==null?void 0:ee[0];if(!oe)return;w({message:"Procesando archivo...",isError:!1});const Z=new FileReader;Z.onload=he=>{var O;try{const q=new Uint8Array((O=he.target)==null?void 0:O.result),J=F_(q,{type:"array",cellDates:!0}),ne=J.SheetNames[0],ae=J.Sheets[ne],ue=cA.sheet_to_json(ae);if(ue.length===0)throw new Error("El archivo est vaco.");const pe={nombre:"nombreEstudiante",rut:"rutEstudiante","curso 2025":"curso","profesor tutor":"profesorTutorEmpresa","1 visita 1 semestre":"fecha1raSupervision1erSemestre","realizada 1 visita s1":"realizada1raSupervision1erSemestre","2 visita 1 semestre":"fecha2daSupervision1erSemestre","realizada 2 visita s1":"realizada2daSupervision1erSemestre","visita emergencia 1 semestre":"fechaSupervisionExcepcional","3 visita":"fecha1raSupervision2doSemestre","realizada 3 visita s2":"realizada1raSupervision2doSemestre","4 visita":"fecha2daSupervision2doSemestre","realizada 4 visita s2":"realizada2daSupervision2doSemestre",empresa:"nombreEmpresa","rut-empresa":"rutEmpresa",direccin:"direccionEmpresa",comuna:"comuna",estado:"estado","fecha de desvinculacin":"fechaDesvinculacion","motivo desvinculacin":"motivoDesvinculacion","maestro gua":"nombreMaestroGuia","correo maestro gua":"contactoMaestroGuia"},ye=Object.keys(ue[0]).map(De=>De.trim().toLowerCase()),we=["nombre","rut","curso 2025","empresa","estado"].find(De=>!ye.includes(De));if(we)throw new Error(`Falta la columna requerida: '${we}'`);const ie=ue.map(De=>{const st={id:crypto.randomUUID()};for(const Ue in De){const Ee=pe[Ue.trim().toLowerCase()];if(Ee){let ze=De[Ue];ze instanceof Date&&(ze=ze.toISOString().split("T")[0]),typeof ze=="boolean"||typeof ze=="string"&&(ze.toLowerCase()==="true"||ze.toLowerCase()==="false")?st[Ee]=String(ze).toLowerCase()==="true":st[Ee]=ze}}return!st.nombreEstudiante||!st.rutEstudiante?null:st}).filter(Boolean);ie.length>0?(k([...ie,...t]),w({message:`Carga exitosa. Se agregaron ${ie.length} nuevos registros.`,isError:!1})):w({message:"No se encontraron nuevos registros vlidos para agregar.",isError:!1})}catch(q){console.error(q),w({message:`Error al procesar el archivo: ${q.message}`,isError:!0})}},Z.readAsArrayBuffer(oe)},se="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",K=X.useMemo(()=>t.filter(Y=>(o===""||Y.nombreEstudiante.toLowerCase().includes(o.toLowerCase())||Y.nombreEmpresa.toLowerCase().includes(o.toLowerCase())||Y.rutEstudiante.includes(o))&&(A.curso===""||Y.curso===A.curso)&&(A.empresa===""||Y.nombreEmpresa===A.empresa)&&(A.estado===""||Y.estado===A.estado)&&(A.comuna===""||Y.comuna===A.comuna)&&(A.profesor===""||Y.profesorTutorEmpresa===A.profesor)).sort((Y,oe)=>Y.nombreEstudiante.localeCompare(oe.nombreEstudiante)),[t,o,A]);return X.useMemo(()=>{const Y=new Set,oe=new Set;return t.forEach(Z=>{Z.nombreEmpresa&&Y.add(Z.nombreEmpresa),Z.comuna&&oe.add(Z.comuna)}),{empresas:Array.from(Y).sort(),comunas:Array.from(oe).sort()}},[t]),u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seguimiento de Prctica Dual"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:a?"Editando registro existente.":"Registre un nuevo estudiante en prctica."}),u.jsxs("form",{onSubmit:S,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Estudiante"}),u.jsx("input",{type:"text",name:"nombreEstudiante",value:r.nombreEstudiante,onChange:F,className:se,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"RUT Estudiante"}),u.jsx("input",{type:"text",name:"rutEstudiante",value:r.rutEstudiante,onChange:F,className:se,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),u.jsx("select",{name:"curso",value:r.curso,onChange:F,className:se,required:!0,children:qf.map(Y=>u.jsx("option",{value:Y,children:Y},Y))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Profesor Tutor"}),u.jsxs("select",{name:"profesorTutorEmpresa",value:r.profesorTutorEmpresa,onChange:F,className:se,children:[u.jsx("option",{value:"",children:"Seleccione un profesor"}),KE.map(Y=>u.jsx("option",{value:Y,children:Y},Y))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Empresa"}),u.jsx("input",{type:"text",name:"nombreEmpresa",value:r.nombreEmpresa,onChange:F,className:se,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"RUT Empresa"}),u.jsx("input",{type:"text",name:"rutEmpresa",value:r.rutEmpresa,onChange:F,className:se})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Direccin Empresa"}),u.jsx("input",{type:"text",name:"direccionEmpresa",value:r.direccionEmpresa,onChange:F,className:se})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Comuna"}),u.jsx("input",{type:"text",name:"comuna",value:r.comuna,onChange:F,className:se})]}),u.jsxs("div",{className:"lg:col-span-4",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estado"}),u.jsx("select",{name:"estado",value:r.estado,onChange:F,className:se,children:Zb.map(Y=>u.jsx("option",{value:Y,children:Y},Y))})]})]}),r.estado==="Desvinculado"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 border border-red-200 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-red-700 dark:text-red-300 mb-1",children:"Fecha de Desvinculacin"}),u.jsx("input",{type:"date",name:"fechaDesvinculacion",value:r.fechaDesvinculacion||"",onChange:F,className:`${se} border-red-300`})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-red-700 dark:text-red-300 mb-1",children:"Motivo de Desvinculacin"}),u.jsx("input",{type:"text",name:"motivoDesvinculacion",value:r.motivoDesvinculacion||"",onChange:F,className:`${se} border-red-300`})]})]}),h&&u.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md",children:h}),u.jsxs("div",{className:"flex justify-end items-center gap-4",children:[a&&u.jsx("button",{type:"button",onClick:P,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900",children:a?"Actualizar":"Agregar"})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Carga Masiva"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[u.jsx("button",{onClick:j,className:"bg-green-100 text-green-700 font-semibold py-2 px-4 rounded-lg hover:bg-green-200",children:"Descargar Plantilla Excel"}),u.jsx("input",{type:"file",onChange:G,accept:".xlsx, .xls",className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100"})]}),g&&u.jsx("p",{className:`text-sm p-2 rounded-md mt-4 ${g.isError?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:g.message})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Registros de Estudiantes"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-4",children:[u.jsx("input",{type:"text",placeholder:"Buscar por estudiante, empresa o RUT...",value:o,onChange:Y=>l(Y.target.value),className:`${se} md:col-span-2 lg:col-span-1`}),u.jsxs("select",{name:"curso",value:A.curso,onChange:D,className:se,children:[u.jsx("option",{value:"",children:"Todos los Cursos"}),qf.map(Y=>u.jsx("option",{children:Y},Y))]}),u.jsxs("select",{name:"estado",value:A.estado,onChange:D,className:se,children:[u.jsx("option",{value:"",children:"Todos los Estados"}),Zb.map(Y=>u.jsx("option",{children:Y},Y))]}),u.jsxs("select",{name:"profesor",value:A.profesor,onChange:D,className:se,children:[u.jsx("option",{value:"",children:"Todos los Profesores"}),KE.map(Y=>u.jsx("option",{children:Y},Y))]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Estudiante"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Empresa"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Profesor Tutor"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Estado"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Acciones"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:K.map(Y=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[u.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[u.jsx("div",{className:"font-medium text-slate-800 dark:text-slate-200",children:Y.nombreEstudiante}),u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:Y.curso})]}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:Y.nombreEmpresa}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:Y.profesorTutorEmpresa}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${fge[Y.estado]}`,children:Y.estado})}),u.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm space-x-2",children:[u.jsx("button",{onClick:()=>V(Y),className:"text-blue-600 hover:underline",children:"Supervisin"}),u.jsx("button",{onClick:()=>N(Y),className:"text-yellow-600 hover:underline",children:"Editar"}),u.jsx("button",{onClick:()=>B(Y.id),className:"text-red-600 hover:underline",children:"Eliminar"})]})]},Y.id))})]})})]}),b&&T&&u.jsx(hge,{record:T,onClose:U,onSave:L})]})},PF="actividadesRemotas",pge="respuestasActividades",gge="usuariosLiceo",UC={Quiz:[5,10,15],"Trminos Pareados":[5,10,15],Desarrollo:[1,2,3],"Comprensin de Lectura":[1,2,3]},xge=t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(r.result),r.onerror=s=>n(s)}),vge=()=>{const[t,e]=X.useState([]),[n,r]=X.useState([]),[s,a]=X.useState([]),[i,o]=X.useState(null),[l,A]=X.useState(!1),[d,h]=X.useState(!1),[p,g]=X.useState(null),[w,b]=X.useState(""),[E,T]=X.useState(null),[I,k]=X.useState([]),F={asignatura:Il[0],nivel:T2[0],contenido:"",plazoEntrega:new Date().toISOString().split("T")[0],tipos:[],cantidadPreguntas:{},cursosDestino:[],estudiantesDestino:[],recursos:{instrucciones:"",enlaces:"",archivos:[]}},[D,P]=X.useState(F);X.useEffect(()=>{try{const ae=localStorage.getItem(PF);ae&&e(JSON.parse(ae));const ue=localStorage.getItem(pge);ue&&r(JSON.parse(ue));const pe=localStorage.getItem(gge);pe&&a(JSON.parse(pe))}catch(ae){console.error("Error al cargar datos desde localStorage",ae)}},[]);const S=ae=>{P(ue=>({...ue,[ae.target.name]:ae.target.value}))},N=ae=>{P(ue=>({...ue,recursos:{...ue.recursos,[ae.target.name]:ae.target.value}}))},B=ae=>{ae.target.files&&k(Array.from(ae.target.files))},V=ae=>{P(ue=>{const pe=ue.tipos.includes(ae)?ue.tipos.filter(Ie=>Ie!==ae):[...ue.tipos,ae],ye={...ue.cantidadPreguntas};return pe.includes(ae)?ye[ae]||(ye[ae]=UC[ae][0]):delete ye[ae],{...ue,tipos:pe,cantidadPreguntas:ye}})},U=(ae,ue)=>{P(pe=>({...pe,cantidadPreguntas:{...pe.cantidadPreguntas,[ae]:ue}}))},L=ae=>{P(ue=>{var ye;const pe=(ye=ue.cursosDestino)!=null&&ye.includes(ae)?ue.cursosDestino.filter(Ie=>Ie!==ae):[...ue.cursosDestino||[],ae];return{...ue,cursosDestino:pe}})},j=ae=>{P(ue=>{var ye;const pe=(ye=ue.estudiantesDestino)!=null&&ye.includes(ae)?ue.estudiantesDestino.filter(Ie=>Ie!==ae):[...ue.estudiantesDestino||[],ae];return{...ue,estudiantesDestino:pe}})},G=ae=>{const ue={Quiz:{type:Bt.ARRAY,items:{type:Bt.OBJECT,properties:{pregunta:{type:Bt.STRING},opciones:{type:Bt.ARRAY,items:{type:Bt.STRING}},respuestaCorrecta:{type:Bt.STRING}}}},"Comprensin de Lectura":{type:Bt.OBJECT,properties:{texto:{type:Bt.STRING},preguntas:{type:Bt.ARRAY,items:{type:Bt.OBJECT,properties:{pregunta:{type:Bt.STRING},opciones:{type:Bt.ARRAY,items:{type:Bt.STRING}},respuestaCorrecta:{type:Bt.STRING}}}}}},"Trminos Pareados":{type:Bt.ARRAY,items:{type:Bt.OBJECT,properties:{id:{type:Bt.STRING},concepto:{type:Bt.STRING},definicion:{type:Bt.STRING}}}},Desarrollo:{type:Bt.ARRAY,items:{type:Bt.OBJECT,properties:{pregunta:{type:Bt.STRING},rubrica:{type:Bt.STRING}}}}},pe={};return ae.forEach(ye=>{pe[ye]=ue[ye]}),{type:Bt.OBJECT,properties:{introduccion:{type:Bt.STRING,description:"Una breve introduccin motivadora para el estudiante sobre el tema."},actividades:{type:Bt.OBJECT,properties:pe,required:ae}},required:["introduccion","actividades"]}},se=()=>{const{tipos:ae,contenido:ue,asignatura:pe,nivel:ye,cantidadPreguntas:Ie}=D;let we=`Eres un experto diseador de actividades pedaggicas. Genera un objeto JSON que se ajuste al esquema, sin texto adicional.

Contenido base: "${ue}"
Asignatura: ${pe}
Nivel: ${ye}

Genera los siguientes elementos:
- **introduccion**: Una breve introduccin motivadora para el estudiante sobre el tema: "${ue}".
- **actividades**: Un objeto que contiene las actividades. Cada actividad es una propiedad con su nombre como clave:
`;return ae.forEach(ie=>{const De=Ie[ie]||UC[ie][0];switch(ie){case"Quiz":we+=`- **Quiz**: Genera un quiz de ${De} preguntas de seleccin mltiple sobre el contenido. Cada una con 4 opciones.
`;break;case"Comprensin de Lectura":we+=`- **Comprensin de Lectura**: Genera ${De} actividad(es) de comprensin. Cada una con un texto de 150-200 palabras y 4 preguntas de seleccin mltiple.
`;break;case"Trminos Pareados":we+=`- **Trminos Pareados**: Genera ${De} pares de trminos pareados (concepto y definicin).
`;break;case"Desarrollo":we+=`- **Desarrollo**: Genera ${De} pregunta(s) de desarrollo con una rbrica simple en texto.
`;break}}),we},K=async ae=>{if(ae.preventDefault(),!D.contenido.trim()||D.tipos.length===0){g("Contenido y al menos un tipo de actividad son obligatorios.");return}h(!0),g(null);try{const ue=await Promise.all(I.map(async st=>({nombre:st.name,url:await xge(st)})));go("Actividades Remotas");const pe=new Ta({apiKey:void 0}),ye=se(),Ie=G(D.tipos),we=await pe.models.generateContent({model:"gemini-2.5-flash",contents:ye,config:{responseMimeType:"application/json",responseSchema:Ie}}),ie=JSON.parse(we.text),De={id:crypto.randomUUID(),fechaCreacion:new Date().toISOString(),...D,recursos:{...D.recursos,archivos:ue},introduccion:ie.introduccion,generatedContent:ie.actividades};T(De)}catch(ue){console.error("Error al generar actividad con IA",ue),g("Error al generar la actividad. Por favor, revise el contenido e intntelo de nuevo.")}finally{h(!1)}},Y=()=>{if(!E)return;const ae=[E,...t];e(ae),localStorage.setItem(PF,JSON.stringify(ae)),P(F),k([]),A(!1),T(null),o(E)},oe=X.useMemo(()=>{var pe,ye;if(!i||!s)return[];const ae=s.filter(Ie=>{var we;return Ie.profile===on.ESTUDIANTE&&((we=i.cursosDestino)==null?void 0:we.includes(Ie.curso||""))}).map(Ie=>Ie.nombreCompleto),ue=i.estudiantesDestino||[];if(!((pe=i.cursosDestino)!=null&&pe.length)&&!((ye=i.estudiantesDestino)!=null&&ye.length)){const Ie=i.nivel.charAt(0);return s.filter(we=>{var ie;return we.profile===on.ESTUDIANTE&&((ie=we.curso)==null?void 0:ie.startsWith(Ie))}).map(we=>we.nombreCompleto).sort()}return Array.from(new Set([...ae,...ue])).sort()},[i,s]),Z=X.useMemo(()=>n.filter(ae=>ae.actividadId===(i==null?void 0:i.id)),[n,i]),ee=X.useMemo(()=>s.filter(ae=>ae.profile===on.ESTUDIANTE).sort((ae,ue)=>ae.nombreCompleto.localeCompare(ue.nombreCompleto)),[s]),he=X.useMemo(()=>w.trim()?ee.filter(ae=>ae.nombreCompleto.toLowerCase().includes(w.toLowerCase())):ee,[ee,w]),O=()=>u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:[i==null?void 0:i.asignatura," - ",i==null?void 0:i.tipos.join(", ")]}),u.jsxs("p",{className:"text-slate-500",children:["Nivel: ",i==null?void 0:i.nivel," | Plazo: ",i==null?void 0:i.plazoEntrega]})]}),u.jsx("button",{onClick:()=>o(null),className:"text-slate-600 hover:text-slate-900 font-semibold",children:" Volver al listado"})]}),u.jsxs("div",{className:"mt-6 border-t pt-6",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-700 mb-4",children:"Resultados de Estudiantes"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[u.jsx("thead",{className:"bg-slate-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Estudiante"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Estado"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Puntaje"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Fecha Completado"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:oe.map(ae=>{const ue=Z.find(pe=>pe.estudianteId===ae);return u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-slate-800",children:ae}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:ue?u.jsx("span",{className:"px-2 py-1 font-semibold text-xs rounded-full bg-green-100 text-green-800",children:"Completado"}):u.jsx("span",{className:"px-2 py-1 font-semibold text-xs rounded-full bg-yellow-100 text-yellow-800",children:"Pendiente"})}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:ue?`${ue.puntaje}/${ue.puntajeMaximo}`:"-"}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:ue?new Date(ue.fechaCompletado).toLocaleString("es-CL"):"-"})]},ae)})})]})})]})]}),q=()=>{var ae,ue;return u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Nueva Actividad Remota"}),u.jsx("button",{onClick:()=>A(!1),className:"text-slate-600 hover:text-slate-900 font-semibold",children:" Volver al listado"})]}),u.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"Complete el formulario y la IA generar una actividad interactiva para sus estudiantes."}),u.jsxs("form",{onSubmit:K,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Asignatura"}),u.jsx("select",{name:"asignatura",value:D.asignatura,onChange:S,className:"w-full border-slate-300 rounded-md shadow-sm",children:Il.map(pe=>u.jsx("option",{value:pe,children:pe},pe))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Nivel"}),u.jsx("select",{name:"nivel",value:D.nivel,onChange:S,className:"w-full border-slate-300 rounded-md shadow-sm",children:T2.map(pe=>u.jsx("option",{value:pe,children:pe},pe))})]}),u.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg space-y-4 bg-slate-50",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:"Recursos de Aprendizaje (Opcional)"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Instrucciones de estudio"}),u.jsx("textarea",{name:"instrucciones",value:(ae=D.recursos)==null?void 0:ae.instrucciones,onChange:N,placeholder:"Ej: Lee el siguiente texto y luego responde...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Enlaces (videos, documentos, etc.)"}),u.jsx("textarea",{name:"enlaces",value:(ue=D.recursos)==null?void 0:ue.enlaces,onChange:N,placeholder:"Pega un enlace por lnea...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Adjuntar archivos (PDF, imgenes, etc.)"}),u.jsx("input",{type:"file",multiple:!0,onChange:B,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100"})]})]}),u.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg space-y-4 bg-slate-50",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:"Destinatarios"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Seleccione cursos o estudiantes. Si no selecciona ninguno, la actividad ser visible para todo el nivel."}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Cursos"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 max-h-40 overflow-y-auto p-2 bg-white rounded",children:_a.map(pe=>{var ye;return u.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:(ye=D.cursosDestino)==null?void 0:ye.includes(pe),onChange:()=>L(pe),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),u.jsx("span",{className:"text-sm font-medium text-slate-700",children:pe})]},pe)})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Estudiantes"}),u.jsx("input",{type:"text",placeholder:"Buscar...",value:w,onChange:pe=>b(pe.target.value),className:"w-full border-slate-300 rounded-md shadow-sm mb-2"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 max-h-40 overflow-y-auto p-2 bg-white rounded",children:he.map(pe=>{var ye;return u.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:(ye=D.estudiantesDestino)==null?void 0:ye.includes(pe.nombreCompleto),onChange:()=>j(pe.nombreCompleto),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),u.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",title:pe.nombreCompleto,children:pe.nombreCompleto})]},pe.id)})})]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Tipos de Actividad"}),u.jsx("div",{className:"space-y-3",children:LW.map(pe=>u.jsxs("div",{className:"p-3 border rounded-lg has-[:checked]:bg-amber-50 has-[:checked]:border-amber-300",children:[u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:D.tipos.includes(pe),onChange:()=>V(pe),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),u.jsx("span",{className:"text-sm font-medium text-slate-700 flex-grow",children:pe})]}),D.tipos.includes(pe)&&u.jsxs("div",{className:"mt-3 pl-8 flex items-center gap-2",children:[u.jsx("span",{className:"text-xs text-slate-500",children:"Cantidad:"}),UC[pe].map(ye=>u.jsx("button",{type:"button",onClick:()=>U(pe,ye),className:`px-3 py-1 rounded-full font-semibold text-xs ${D.cantidadPreguntas[pe]===ye?"bg-amber-500 text-white":"bg-slate-200"}`,children:ye},ye))]})]},pe))})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsxs("label",{htmlFor:"contenido",className:"block text-sm font-medium text-slate-600 mb-1",children:["Contenido ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{name:"contenido",value:D.contenido,onChange:S,required:!0,rows:4,placeholder:"Ingrese los temas, conceptos clave o el texto base...",className:"w-full border-slate-300 rounded-md shadow-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"plazoEntrega",className:"block text-sm font-medium text-slate-600 mb-1",children:"Plazo de Entrega"}),u.jsx("input",{type:"date",name:"plazoEntrega",value:D.plazoEntrega,onChange:S,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm"})]})]}),p&&u.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md mt-4",children:p}),u.jsx("div",{className:"pt-4 text-right",children:u.jsx("button",{type:"submit",disabled:d,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center min-w-[180px]",children:d?u.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Generar y Previsualizar"})})]})]})},J=()=>{var ae;return u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Previsualizacin de la Actividad"}),u.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"Revisa el contenido generado. Si todo est correcto, confirma para asignar la actividad."}),u.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto p-4 bg-slate-50 rounded-lg border",children:[u.jsxs("div",{className:"p-4 bg-sky-50 border-l-4 border-sky-400 rounded-r-lg",children:[u.jsx("h3",{className:"font-bold text-sky-800 mb-2",children:"Introduccin para el Estudiante"}),u.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:E==null?void 0:E.introduccion})]}),(E==null?void 0:E.recursos)&&(E.recursos.instrucciones||E.recursos.enlaces||((ae=E.recursos.archivos)==null?void 0:ae.length))&&u.jsxs("div",{className:"p-4 bg-indigo-50 border-l-4 border-indigo-400 rounded-r-lg",children:[u.jsx("h3",{className:"font-bold text-indigo-800 mb-2",children:"Recursos de Aprendizaje"}),u.jsxs("div",{className:"space-y-3",children:[E.recursos.instrucciones&&u.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:E.recursos.instrucciones}),E.recursos.enlaces&&u.jsx("div",{children:E.recursos.enlaces.split(`
`).map((ue,pe)=>ue.trim()&&u.jsx("a",{href:ue,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-600 hover:underline truncate",children:ue},pe))}),E.recursos.archivos&&E.recursos.archivos.length>0&&u.jsx("ul",{className:"list-disc list-inside",children:E.recursos.archivos.map(ue=>u.jsx("li",{className:"text-slate-700",children:ue.nombre},ue.nombre))})]})]}),E==null?void 0:E.tipos.map(ue=>{const pe=E.generatedContent[ue];return pe?u.jsxs("div",{className:"p-4 border rounded-lg bg-white",children:[u.jsx("h3",{className:"text-xl font-bold mb-4",children:ue}),u.jsxs("div",{className:"space-y-4 text-sm",children:[ue==="Quiz"&&pe.map((ye,Ie)=>u.jsxs("div",{children:[u.jsxs("p",{className:"font-semibold",children:[Ie+1,". ",ye.pregunta]}),u.jsx("ul",{className:"list-disc pl-5 mt-1",children:ye.opciones.map(we=>u.jsx("li",{children:we},we))}),u.jsxs("p",{className:"text-xs text-green-600",children:["R: ",ye.respuestaCorrecta]})]},Ie)),ue==="Comprensin de Lectura"&&u.jsxs("div",{children:[u.jsx("p",{className:"whitespace-pre-wrap bg-slate-100 p-2 rounded",children:pe.texto}),pe.preguntas.map((ye,Ie)=>u.jsxs("div",{className:"mt-2",children:[u.jsxs("p",{className:"font-semibold",children:[Ie+1,". ",ye.pregunta]}),u.jsx("ul",{className:"list-disc pl-5 mt-1",children:ye.opciones.map(we=>u.jsx("li",{children:we},we))}),u.jsxs("p",{className:"text-xs text-green-600",children:["R: ",ye.respuestaCorrecta]})]},Ie))]}),ue==="Trminos Pareados"&&u.jsx("ul",{className:"list-disc pl-5",children:pe.map(ye=>u.jsxs("li",{children:[u.jsxs("strong",{children:[ye.concepto,":"]})," ",ye.definicion]},ye.id))}),ue==="Desarrollo"&&pe.map((ye,Ie)=>u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:ye.pregunta}),u.jsxs("p",{className:"text-xs italic mt-1",children:["Rbrica: ",ye.rubrica]})]},Ie))]})]},ue):null})]}),u.jsxs("div",{className:"pt-6 flex justify-end gap-4",children:[u.jsx("button",{onClick:()=>T(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300",children:"Cancelar"}),u.jsx("button",{onClick:Y,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700",children:"Confirmar y Asignar"})]})]})},ne=()=>u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Actividades Remotas"}),u.jsx("button",{onClick:()=>A(!0),className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Crear Nueva"})]}),u.jsx("div",{className:"space-y-4",children:t.length>0?t.map(ae=>{var ye,Ie;const ue=[];(ye=ae.cursosDestino)!=null&&ye.length&&ue.push(`Cursos: ${ae.cursosDestino.join(", ")}`),(Ie=ae.estudiantesDestino)!=null&&Ie.length&&ue.push(`Estudiantes: ${ae.estudiantesDestino.length}`);const pe=ue.length?ue.join(" | "):`Todo ${ae.nivel}`;return u.jsx("div",{className:"p-4 border rounded-lg bg-slate-50 hover:bg-slate-100 transition-colors",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-bold text-slate-800",children:[ae.asignatura," - ",ae.tipos.join(", ")]}),u.jsxs("p",{className:"text-sm text-slate-500",children:["Destino: ",pe," | Creado: ",new Date(ae.fechaCreacion).toLocaleDateString("es-CL")]})]}),u.jsx("button",{onClick:()=>o(ae),className:"text-blue-600 hover:text-blue-800 font-semibold text-sm",children:"Ver Resultados"})]})},ae.id)}):u.jsx("p",{className:"text-slate-500 text-center py-6",children:'No hay actividades creadas. Haga clic en "Crear Nueva" para comenzar.'})})]});return u.jsx("div",{className:"animate-fade-in",children:E?J():i?O():l?q():ne()})},yge="actividadesRemotas",LC="respuestasActividades",wge=t=>[...t].sort(()=>Math.random()-.5),bge=(t,e)=>{if(e===0)return"1.0";const r=e*.6;let s;return t>=r?s=4+(t-r)*3/(e-r):s=1+t*3/(r||1),s=Math.max(1,Math.min(7,s)),s.toFixed(1)},OF=()=>u.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Cge=({actividad:t,onComplete:e,currentUser:n})=>{var I,k,F,D;const[r,s]=X.useState({}),[a,i]=X.useState(!1),[o,l]=X.useState(!1),[A,d]=X.useState(!1),[h,p]=X.useState({}),g=`progress-${n.id}-${t.id}`;X.useEffect(()=>{const P={};t.tipos.forEach(S=>{if(S==="Trminos Pareados"){const N=t.generatedContent[S];N&&(P[S]=wge(N.map(B=>B.definicion)))}}),p(P);try{const S=localStorage.getItem(g);S&&s(JSON.parse(S))}catch(S){console.error("Could not load saved progress",S)}},[t,g]);const w=(P,S)=>{s(N=>({...N,[P]:S}))},b=()=>{l(!0),d(!1),setTimeout(()=>{try{localStorage.setItem(g,JSON.stringify(r)),d(!0),setTimeout(()=>d(!1),2e3)}catch(P){console.error("Could not save progress",P),alert("Error al guardar el progreso.")}finally{l(!1)}},500)},E=async()=>{i(!0);let P=0,S=0;const N=[],B={};for(const U of t.tipos){const L=t.generatedContent[U],j=r[U];if(U==="Quiz"||U==="Comprensin de Lectura"){const G=U==="Quiz"?L:L.preguntas,se=j||{};let K=0,Y=0;G.forEach((oe,Z)=>{Y+=1,se[Z]===oe.respuestaCorrecta&&(K+=1)}),P+=K,S+=Y,N.push(`${U}: ${K}/${Y} correctas.`),B[U]={puntaje:K,puntajeMaximo:Y}}else if(U==="Trminos Pareados"){const G=L,se=j||{};let K=0,Y=0;G.forEach(oe=>{Y+=2,se[oe.id]===oe.definicion&&(K+=2)}),P+=K,S+=Y,N.push(`${U}: ${K/2}/${G.length} correctas.`),B[U]={puntaje:K,puntajeMaximo:Y}}else if(U==="Desarrollo"){const G=L,se=j||{};let K=0,Y=0;for(let oe=0;oe<G.length;oe++){const Z=G[oe];Y+=3;try{go("Autoaprendizaje - Evaluar Desarrollo");const ee=new Ta({apiKey:void 0}),he=`Evala la siguiente respuesta de un estudiante a la pregunta de desarrollo, basndote en la rbrica proporcionada. Asigna un puntaje de 0 a 3. Pregunta: "${Z.pregunta}". Rbrica: "${Z.rubrica}". Respuesta: "${se[oe]||""}". Proporciona tambin una frase corta de feedback.`,O={type:Bt.OBJECT,properties:{puntaje:{type:Bt.INTEGER,description:"Un puntaje de 0 a 3."},feedback:{type:Bt.STRING}},required:["puntaje","feedback"]},q=await ee.models.generateContent({model:"gemini-2.5-flash",contents:he,config:{responseMimeType:"application/json",responseSchema:O}}),J=JSON.parse(q.text),ne=Math.max(0,Math.min(3,J.puntaje||0));K+=ne,N.push(`${U} #${oe+1}: Puntaje ${ne}/3. (${J.feedback})`)}catch(ee){console.error(ee),N.push(`${U} #${oe+1}: No se pudo evaluar automticamente.`)}}P+=K,S+=Y,B[U]={puntaje:K,puntajeMaximo:Y}}}let V=`Buen trabajo! Tu puntaje total es ${P} de ${S}.`;e({respuestas:r,puntaje:P,puntajeMaximo:S,retroalimentacion:V,calificacion:bge(P,S),puntajesPorSeccion:B}),localStorage.removeItem(g),i(!1)},T=t.recursos&&(t.recursos.instrucciones||t.recursos.enlaces||((I=t.recursos.archivos)==null?void 0:I.length));return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"p-4 bg-sky-50 dark:bg-sky-900/30 border-l-4 border-sky-400 rounded-r-lg",children:[u.jsx("h2",{className:"text-xl font-bold text-sky-800 dark:text-sky-200 mb-2",children:"Hola!"}),u.jsx("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:t.introduccion})]}),T&&u.jsxs("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-900/30 border-l-4 border-indigo-400 rounded-r-lg",children:[u.jsx("h2",{className:"text-xl font-bold text-indigo-800 dark:text-indigo-200 mb-3",children:"Material de Estudio"}),u.jsxs("div",{className:"space-y-4",children:[((k=t.recursos)==null?void 0:k.instrucciones)&&u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Instrucciones:"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 whitespace-pre-wrap",children:t.recursos.instrucciones})]}),((F=t.recursos)==null?void 0:F.enlaces)&&u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Enlaces:"}),t.recursos.enlaces.split(`
`).map((P,S)=>P.trim()&&u.jsx("a",{href:P,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-500 hover:underline truncate",children:P},S))]}),((D=t.recursos)==null?void 0:D.archivos)&&t.recursos.archivos.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Archivos:"}),u.jsx("ul",{className:"list-disc list-inside",children:t.recursos.archivos.map((P,S)=>u.jsx("li",{children:u.jsx("a",{href:P.url,download:P.nombre,className:"text-blue-500 hover:underline",children:P.nombre})},S))})]})]})]}),t.tipos.map(P=>{const S=t.generatedContent[P];if(!S)return null;switch(P){case"Quiz":case"Comprensin de Lectura":{const N=P==="Quiz",B=S,V=N?B:B.preguntas;return u.jsxs("div",{className:"p-4 border rounded-lg bg-white dark:bg-slate-800",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:P}),!N&&u.jsx("div",{className:"mb-4 whitespace-pre-wrap bg-slate-50 dark:bg-slate-700/50 p-3 rounded text-slate-700 dark:text-slate-300",children:B.texto}),u.jsx("div",{className:"space-y-6",children:V.map((U,L)=>u.jsxs("div",{children:[u.jsxs("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:[L+1,". ",U.pregunta]}),u.jsx("div",{className:"mt-2 space-y-2",children:U.opciones.map((j,G)=>{var se;return u.jsxs("label",{className:"flex items-center gap-3 p-3 rounded hover:bg-slate-100 dark:hover:bg-slate-700 cursor-pointer text-slate-600 dark:text-slate-300",children:[u.jsx("input",{type:"radio",name:`q-${P}-${L}-${t.id}`,value:j,checked:((se=r[P])==null?void 0:se[L])===j,onChange:()=>w(P,{...r[P]||{},[L]:j}),className:"h-5 w-5 text-amber-500 focus:ring-amber-400"}),u.jsx("span",{children:j})]},G)})})]},`${P}-${L}`))})]},P)}case"Trminos Pareados":{const N=S,B=h[P]||[];return u.jsxs("div",{className:"p-4 border rounded-lg bg-white dark:bg-slate-800",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:P}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-semibold text-center text-slate-600 dark:text-slate-400",children:"Concepto"}),N.map(V=>u.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded h-14 flex items-center justify-center text-center font-medium text-slate-700 dark:text-slate-300",children:V.concepto},V.id))]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-semibold text-center text-slate-600 dark:text-slate-400",children:"Definicin"}),N.map(V=>{var U;return u.jsx("div",{className:"h-14 flex items-center",children:u.jsxs("select",{value:((U=r[P])==null?void 0:U[V.id])||"",onChange:L=>w(P,{...r[P]||{},[V.id]:L.target.value}),className:"w-full h-full border-slate-300 rounded-md shadow-sm text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-slate-300",children:[u.jsx("option",{value:"",children:"Seleccionar definicin..."}),B.map((L,j)=>u.jsx("option",{value:L,children:L},j))]})},V.id)})]})]})]},P)}case"Desarrollo":{const N=S;return u.jsxs("div",{className:"p-4 border rounded-lg bg-white dark:bg-slate-800",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:P}),N.map((B,V)=>{var U;return u.jsxs("div",{className:"mb-6",children:[u.jsx("p",{className:"font-semibold mb-2 text-slate-700 dark:text-slate-300",children:B.pregunta}),u.jsxs("p",{className:"text-sm italic text-slate-500 dark:text-slate-400 mb-4",children:[u.jsx("strong",{children:"Rbrica:"})," ",B.rubrica]}),u.jsx("textarea",{value:((U=r[P])==null?void 0:U[V])||"",onChange:L=>w(P,{...r[P]||{},[V]:L.target.value}),rows:8,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-slate-300"})]},V)})]},P)}default:return null}}),u.jsxs("div",{className:"text-right mt-8 flex justify-end gap-4",children:[u.jsx("button",{onClick:b,disabled:a||o||A,className:"bg-sky-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-sky-700 disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center justify-center min-w-[200px] transition-colors duration-200",children:o?u.jsxs(u.Fragment,{children:[u.jsx(OF,{})," Guardando..."]}):A?" Guardado":"Guardar Progreso"}),u.jsx("button",{onClick:E,disabled:a||o,className:"bg-slate-800 text-white font-bold py-3 px-8 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center min-w-[200px]",children:a?u.jsxs(u.Fragment,{children:[u.jsx(OF,{})," Evaluando..."]}):"Entregar Actividad"})]})]})},Ege=({currentUser:t})=>{const[e,n]=X.useState([]),[r,s]=X.useState([]),[a,i]=X.useState(null),[o,l]=X.useState("list"),[A,d]=X.useState(null),[h,p]=X.useState(null);X.useEffect(()=>{try{const E=localStorage.getItem(yge);if(E){const I=JSON.parse(E),k=t.curso||"",F=t.nombreCompleto,D=I.filter(P=>{var V,U,L,j;const S=!((V=P.cursosDestino)!=null&&V.length)&&!((U=P.estudiantesDestino)!=null&&U.length),N=((L=P.cursosDestino)==null?void 0:L.includes(k))??!1,B=((j=P.estudiantesDestino)==null?void 0:j.includes(F))??!1;if(N||B)return!0;if(S&&k){const G=P.nivel.charAt(0),se=k.charAt(0);return G===se}return!1});n(D)}const T=localStorage.getItem(LC);if(T){const I=JSON.parse(T).filter(k=>k.estudianteId===t.nombreCompleto);s(I)}}catch(E){console.error("Error loading data",E)}},[t]);const g=E=>{p(E)},w=()=>{h&&(i(h),l("activity"),p(null))},b=X.useCallback(async E=>{if(!a)return;let T;const I=`
            Un estudiante ha completado una actividad sobre "${a.contenido}".
            Su puntaje total fue ${E.puntaje} de ${E.puntajeMaximo}.
            Detalle por seccin: ${JSON.stringify(E.puntajesPorSeccion||{})}
            Respuestas de desarrollo: ${JSON.stringify(E.respuestas.Desarrollo||{})}
            
            Genera una retroalimentacin detallada y constructiva en espaol. La respuesta DEBE ser un objeto JSON con la siguiente estructura:
            - "resumenGeneral": Un prrafo breve y motivador sobre el desempeo general.
            - "areasDeFortaleza": Un array de 2 o 3 strings destacando lo que hizo bien.
            - "areasDeMejora": Un array de 2 o 3 strings con reas a mejorar.
            - "planDeMejora": Un array de 3 objetos, cada uno con "paso" (string, ej: "Repasar conceptos clave") y "detalle" (string, una sugerencia concreta).
            - "feedbackPorSeccion": Un objeto donde cada clave es el tipo de actividad (ej: "Quiz") y el valor es un string con feedback especfico para esa seccin.
        `;try{go("Autoaprendizaje - Retroalimentacin Detallada");const S=await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:I,config:{responseMimeType:"application/json"}});T=JSON.parse(S.text.trim().replace(/(\*\*|\*)/g,""))}catch(P){console.error("Error generating detailed feedback:",P)}const k={id:crypto.randomUUID(),actividadId:a.id,estudianteId:t.nombreCompleto,fechaCompletado:new Date().toISOString(),...E,retroalimentacionDetallada:T},F=JSON.parse(localStorage.getItem(LC)||"[]"),D=[k,...F.filter(P=>!(P.actividadId===k.actividadId&&P.estudianteId===k.estudianteId))];localStorage.setItem(LC,JSON.stringify(D)),s(P=>[k,...P.filter(S=>S.actividadId!==k.actividadId)]),d(k),l("result")},[a,t.nombreCompleto]);if(o==="activity"&&a)return u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsxs("h1",{className:"text-3xl font-bold text-slate-800",children:[a.asignatura,": ",a.tipos.join(", ")]}),u.jsxs("p",{className:"text-slate-500 mb-6",children:["Plazo: ",a.plazoEntrega]}),u.jsx(Cge,{actividad:a,onComplete:b,currentUser:t})]});if(o==="result"&&A){const E=A.retroalimentacionDetallada,T=A.puntajesPorSeccion||{},I=(k,F)=>{const D=F>0?k/F:0;return D<.4?"bg-red-100 text-red-800":D<.7?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Retroalimentacin de la Actividad"}),E?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md border",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Retroalimentacin General"}),u.jsx("p",{className:"text-slate-600 mb-6",children:E.resumenGeneral}),u.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-4 rounded-lg mb-6",children:[u.jsx("span",{className:"text-lg font-bold",children:"Puntaje Total:"}),u.jsxs("span",{className:`px-4 py-2 text-xl font-bold rounded-full ${I(A.puntaje,A.puntajeMaximo)}`,children:[A.puntaje," / ",A.puntajeMaximo]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-green-600 mb-2",children:" reas de Fortaleza"}),u.jsx("ul",{className:"list-disc list-inside space-y-1 text-slate-600",children:E.areasDeFortaleza.map((k,F)=>u.jsx("li",{children:k},F))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-red-600 mb-2",children:" reas de Mejora"}),u.jsx("ul",{className:"list-disc list-inside space-y-1 text-slate-600",children:E.areasDeMejora.map((k,F)=>u.jsx("li",{children:k},F))})]})]})]}),u.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Object.entries(T).map(([k,{puntaje:F,puntajeMaximo:D}])=>{var P;return u.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md border",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("h3",{className:"text-xl font-bold",children:k}),u.jsxs("span",{className:`px-3 py-1 text-sm font-bold rounded-full ${I(F,D)}`,children:[F," / ",D]})]}),u.jsx("p",{className:"text-slate-500 text-sm",children:(P=E.feedbackPorSeccion)==null?void 0:P[k]})]},k)})}),u.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md border",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Plan de Mejora Sugerido"}),u.jsx("div",{className:"space-y-4",children:E.planDeMejora.map((k,F)=>u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"bg-blue-500 text-white rounded-full h-8 w-8 flex-shrink-0 flex items-center justify-center font-bold mt-1",children:""}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold",children:k.paso}),u.jsx("p",{className:"text-slate-600 text-sm",children:k.detalle})]})]},F))})]})]}):u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-green-600 mb-4",children:"Actividad Completada!"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-sm mx-auto my-8",children:[u.jsxs("div",{className:"p-4 bg-slate-100 rounded-lg",children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Puntaje"}),u.jsxs("p",{className:"text-2xl font-bold",children:[A.puntaje," / ",A.puntajeMaximo]})]}),u.jsxs("div",{className:"p-4 bg-slate-100 rounded-lg",children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Calificacin"}),u.jsx("p",{className:"text-2xl font-bold",children:A.calificacion})]})]}),u.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg text-left",children:[u.jsx("h3",{className:"font-bold text-blue-800 mb-2",children:"Retroalimentacin"}),u.jsx("p",{className:"text-blue-700 whitespace-pre-wrap",children:A.retroalimentacion})]})]}),u.jsx("button",{onClick:()=>{l("list"),d(null)},className:"w-full mt-4 bg-slate-800 text-white font-bold py-3 px-6 rounded-lg hover:bg-slate-700",children:"Volver a Actividades"})]})}return u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[h&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-lg w-full animate-fade-in-up",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Confirmar inicio de actividad"}),u.jsxs("p",{className:"mt-4 text-slate-600",children:["Ests seguro de que deseas comenzar esta actividad? ",u.jsx("strong",{children:"Tendrs solo una oportunidad para responder."})]}),u.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Sin embargo, puedes guardar tu progreso antes de enviarlo. Una vez enviado, no habr una segunda oportunidad."}),u.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>p(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Cancelar"}),u.jsx("button",{onClick:w,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"S, comenzar"})]})]})}),u.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Auto-aprendizaje"}),u.jsx("p",{className:"text-slate-500 mb-6",children:"Completa las actividades remotas asignadas por tus profesores."}),u.jsx("div",{className:"space-y-4",children:e.length>0?e.map(E=>{const T=r.find(k=>k.actividadId===E.id),I=!!T;return u.jsx("div",{className:`p-4 border rounded-lg ${I?"bg-green-50":"bg-slate-50"}`,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-bold text-slate-800",children:[E.asignatura," - ",E.tipos.join(", ")]}),u.jsxs("p",{className:"text-sm text-slate-500",children:["Plazo: ",E.plazoEntrega]})]}),I?u.jsxs("div",{className:"text-right",children:[u.jsx("button",{onClick:()=>{d(T),l("result")},className:"font-semibold text-blue-700 hover:underline",children:"Ver Resultados"}),u.jsxs("p",{className:"text-sm text-slate-600",children:["Puntaje: ",T.puntaje,"/",T.puntajeMaximo]})]}):u.jsx("button",{onClick:()=>g(E),className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Comenzar"})]})},E.id)}):u.jsx("p",{className:"text-center text-slate-500 py-10",children:"No hay actividades disponibles en este momento."})})]})},jF="estudiantesInclusion",_ge="usuariosLiceo",Sge=({student:t,onClose:e,onSave:n,profesores:r})=>{const[s,a]=X.useState("intervenciones"),[i,o]=X.useState(t),[l,A]=X.useState(null),d={responsable:"",accion:"",observaciones:""},[h,p]=X.useState(d),[g,w]=X.useState({trimestre:"T1",meta:""}),[b,E]=X.useState({titulo:"",fecha:new Date().toISOString().split("T")[0]}),[T,I]=X.useState(null),[k,F]=X.useState(!1),D={motivo:"",acuerdos:"",asistentes:""},[P,S]=X.useState(D),N=()=>{n(i)},B=()=>{if(!h.responsable||!h.accion){alert("Responsable y Accin son campos obligatorios.");return}let we;l?we=(i.intervenciones||[]).map(De=>De.id===l.id?{...De,...h}:De):we=[{id:crypto.randomUUID(),fecha:new Date().toISOString(),...h},...i.intervenciones||[]];const ie=we.sort((De,st)=>new Date(st.fecha).getTime()-new Date(De.fecha).getTime());o(De=>({...De,intervenciones:ie})),p(d),A(null)},V=we=>{A(we),p({responsable:we.responsable,accion:we.accion,observaciones:we.observaciones})},U=we=>{window.confirm("Eliminar esta intervencin?")&&o(ie=>({...ie,intervenciones:(ie.intervenciones||[]).filter(De=>De.id!==we)}))},L=we=>{const{name:ie,value:De}=we.target;o(st=>({...st,[ie]:De,fechaActualizacionApoyos:new Date().toISOString()}))},j=()=>{if(!g.meta.trim())return;const we={...g,id:crypto.randomUUID(),cumplida:!1};o(ie=>({...ie,metasProgreso:[...ie.metasProgreso||[],we]})),w({trimestre:"T1",meta:""})},G=we=>{o(ie=>({...ie,metasProgreso:(ie.metasProgreso||[]).map(De=>De.id===we?{...De,cumplida:!De.cumplida}:De)}))},se=we=>{o(ie=>({...ie,metasProgreso:(ie.metasProgreso||[]).filter(De=>De.id!==we)}))},K=X.useMemo(()=>{const we=i.metasProgreso||[];if(we.length===0)return{percent:0,color:"bg-slate-300"};const ie=we.filter(Ue=>Ue.cumplida).length,De=Math.round(ie/we.length*100),st=De<40?"bg-red-500":De<75?"bg-yellow-500":"bg-green-500";return{percent:De,color:st}},[i.metasProgreso]),Y=X.useMemo(()=>{if(!i.fechaActualizacionApoyos)return!0;const we=new Date(i.fechaActualizacionApoyos),ie=new Date;return ie.setMonth(ie.getMonth()-3),we<ie},[i.fechaActualizacionApoyos]),oe=()=>{if(!b.titulo.trim()||!b.fecha)return;const we={...b,id:crypto.randomUUID(),resuelta:!1};o(ie=>({...ie,alertas:[...ie.alertas||[],we].sort((De,st)=>new Date(De.fecha).getTime()-new Date(st.fecha).getTime())})),E({titulo:"",fecha:new Date().toISOString().split("T")[0]})},Z=we=>{o(ie=>({...ie,alertas:(ie.alertas||[]).map(De=>De.id===we?{...De,resuelta:!De.resuelta}:De)}))},ee=we=>{o(ie=>({...ie,alertas:(ie.alertas||[]).filter(De=>De.id!==we)}))},he=we=>{we.target.files&&we.target.files[0]&&I(we.target.files[0])},O=()=>{if(!T)return;F(!0);const we=new FileReader;we.readAsDataURL(T),we.onloadend=()=>{const ie={id:crypto.randomUUID(),nombre:T.name,url:we.result,fechaSubida:new Date().toISOString()};o(De=>({...De,archivos:[ie,...De.archivos||[]]})),I(null),F(!1)},we.onerror=()=>{alert("Error al leer el archivo."),F(!1)}},q=we=>{window.confirm("Eliminar este archivo?")&&o(ie=>({...ie,archivos:(ie.archivos||[]).filter(De=>De.id!==we)}))},J=()=>{if(!P.motivo.trim()||!P.asistentes.trim()){alert("Motivo y asistentes son obligatorios.");return}const we={...P,id:crypto.randomUUID(),fecha:new Date().toISOString()};o(ie=>({...ie,reuniones:[we,...ie.reuniones||[]].sort((De,st)=>new Date(st.fecha).getTime()-new Date(De.fecha).getTime())})),S(D)},ne=we=>{window.confirm("Eliminar este registro de reunin?")&&o(ie=>({...ie,reuniones:(ie.reuniones||[]).filter(De=>De.id!==we)}))},ae=()=>{var it,mt,Ct;const we=new sn("p","mm","a4"),ie=20,De=we.internal.pageSize.getWidth(),st=we.internal.pageSize.getHeight();let Ue=ie;const Ee=At=>{At.setFontSize(10),At.setTextColor(100),At.text("Ficha de Seguimiento - Mdulo Inclusin",ie,15)};Ee(we),we.setFontSize(18),we.setFont("helvetica","bold"),we.setTextColor(40),we.text(i.nombre,ie,Ue+10),Ue+=15,we.setFontSize(11),we.setFont("helvetica","normal"),we.setTextColor(80),we.text(`Curso: ${i.curso}`,ie,Ue),we.text(`Dificultad: ${i.dificultad}`,ie,Ue+6),Ue+=15;const ze=At=>{Ue+At>st-ie&&(we.addPage(),Ee(we),Ue=ie)},nt=At=>{ze(15),we.setFontSize(14),we.setFont("helvetica","bold"),we.text(At,ie,Ue),Ue+=10};if((it=i.intervenciones)!=null&&it.length&&(nt("Historial de Intervenciones"),Nl(we,{startY:Ue,head:[["Fecha","Responsable","Accin","Observaciones"]],body:i.intervenciones.map(At=>[new Date(At.fecha).toLocaleDateString("es-CL"),At.responsable,At.accion,At.observaciones]),theme:"grid",didDrawPage:At=>Ee(we)}),Ue=we.lastAutoTable.finalY+10),i.adaptacionesCurriculares||i.apoyosRecibidos){ze(30),nt("Seguimiento y Apoyos"),we.setFontSize(11),we.setFont("helvetica","normal");const At=`Adaptaciones: ${i.adaptacionesCurriculares||"No registradas."}
Apoyos: ${i.apoyosRecibidos||"No registrados."}`,kt=we.splitTextToSize(At,De-ie*2);we.text(kt,ie,Ue),Ue+=kt.length*5+10}(mt=i.metasProgreso)!=null&&mt.length&&(ze(30),nt("Metas de Progreso"),Nl(we,{startY:Ue,head:[["Trimestre","Meta","Estado"]],body:i.metasProgreso.map(At=>[At.trimestre,At.meta,At.cumplida?"Cumplida":"Pendiente"]),theme:"grid",didDrawPage:At=>Ee(we)}),Ue=we.lastAutoTable.finalY+10),(Ct=i.reuniones)!=null&&Ct.length&&(nt("Reuniones con Apoderados"),Nl(we,{startY:Ue,head:[["Fecha","Motivo","Acuerdos","Asistentes"]],body:i.reuniones.map(At=>[new Date(At.fecha).toLocaleDateString("es-CL"),At.motivo,At.acuerdos,At.asistentes]),theme:"grid",didDrawPage:At=>Ee(we)})),we.save(`Ficha_Inclusion_${i.nombre.replace(/\s/g,"_")}.pdf`)},ue=()=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[u.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:l?"Editando Intervencin":"Registrar Nueva Intervencin"}),u.jsxs("select",{value:h.responsable,onChange:we=>p(ie=>({...ie,responsable:we.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[u.jsx("option",{value:"",children:"Seleccione Responsable..."}),r.map(we=>u.jsx("option",{value:we,children:we},we))]}),u.jsx("textarea",{value:h.accion,onChange:we=>p(ie=>({...ie,accion:we.target.value})),placeholder:"Accin realizada...",rows:2,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsx("textarea",{value:h.observaciones,onChange:we=>p(ie=>({...ie,observaciones:we.target.value})),placeholder:"Observaciones adicionales...",rows:2,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsxs("div",{className:"flex justify-end gap-2",children:[l&&u.jsx("button",{onClick:()=>{A(null),p(d)},className:"text-sm bg-slate-200 dark:bg-slate-600 px-3 py-1 rounded-md",children:"Cancelar Edicin"}),u.jsx("button",{onClick:B,className:"text-sm bg-amber-500 text-white font-semibold px-3 py-1 rounded-md",children:l?"Actualizar":"Guardar"})]})]}),u.jsx("div",{className:"space-y-3",children:(i.intervenciones||[]).map(we=>u.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:we.accion}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:we.observaciones}),u.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:[new Date(we.fecha).toLocaleString("es-CL")," - ",we.responsable]})]}),u.jsxs("div",{className:"flex-shrink-0 ml-4 flex gap-2",children:[u.jsx("button",{onClick:()=>V(we),className:"text-blue-500",children:""}),u.jsx("button",{onClick:()=>U(we.id),className:"text-red-500",children:""})]})]})},we.id))})]}),pe=()=>u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg border dark:border-slate-600 space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Adaptaciones y Apoyos"}),Y&&u.jsx("span",{title:"Informacin no actualizada en los ltimos 3 meses",className:"text-yellow-500 text-xl",children:""})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Adaptaciones Curriculares Implementadas"}),u.jsx("textarea",{name:"adaptacionesCurriculares",value:i.adaptacionesCurriculares||"",onChange:L,rows:3,className:"w-full mt-1 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Apoyos Recibidos (PIE, dupla, etc.)"}),u.jsx("textarea",{name:"apoyosRecibidos",value:i.apoyosRecibidos||"",onChange:L,rows:3,className:"w-full mt-1 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),u.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg border dark:border-slate-600 space-y-3",children:[u.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Indicadores de Progreso"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Progreso Anual de Metas: ",K.percent,"%"]}),u.jsx("div",{className:"w-full bg-slate-200 rounded-full h-4 dark:bg-slate-700",children:u.jsx("div",{className:`${K.color} h-4 rounded-full transition-all duration-500`,style:{width:`${K.percent}%`}})})]}),u.jsxs("div",{className:"flex gap-2 items-end pt-2",children:[u.jsxs("select",{value:g.trimestre,onChange:we=>w(ie=>({...ie,trimestre:we.target.value})),className:"border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[u.jsx("option",{value:"T1",children:"T1"}),u.jsx("option",{value:"T2",children:"T2"}),u.jsx("option",{value:"T3",children:"T3"})]}),u.jsx("input",{value:g.meta,onChange:we=>w(ie=>({...ie,meta:we.target.value})),placeholder:"Definir nueva meta trimestral...",className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsx("button",{onClick:j,className:"bg-slate-200 dark:bg-slate-600 px-3 py-2 rounded-md font-semibold text-sm",children:"Agregar"})]}),u.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:(i.metasProgreso||[]).map(we=>u.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 dark:bg-slate-700/50 rounded",children:[u.jsx("input",{type:"checkbox",checked:we.cumplida,onChange:()=>G(we.id),className:"h-5 w-5 rounded text-amber-500"}),u.jsxs("span",{className:`flex-grow text-sm ${we.cumplida?"line-through text-slate-500":"text-slate-800 dark:text-slate-200"}`,children:[u.jsxs("strong",{children:[we.trimestre,":"]})," ",we.meta]}),u.jsx("button",{onClick:()=>se(we.id),className:"text-red-500 text-sm",children:""})]},we.id))})]})]}),ye=()=>u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Alertas y Recordatorios"}),u.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[u.jsx("h5",{className:"font-medium",children:"Agendar Nueva Alerta"}),u.jsx("input",{type:"text",value:b.titulo,onChange:we=>E(ie=>({...ie,titulo:we.target.value})),placeholder:"Ttulo de la alerta",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700"}),u.jsx("input",{type:"date",value:b.fecha,onChange:we=>E(ie=>({...ie,fecha:we.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700"}),u.jsx("button",{onClick:oe,className:"w-full text-sm bg-amber-500 text-white font-semibold px-3 py-1.5 rounded-md",children:"Agendar"})]}),u.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:(i.alertas||[]).map(we=>u.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-slate-800 rounded border dark:border-slate-600",children:[u.jsx("input",{type:"checkbox",checked:we.resuelta,onChange:()=>Z(we.id),className:"h-5 w-5 rounded text-amber-500"}),u.jsxs("span",{className:`flex-grow text-sm ${we.resuelta?"line-through text-slate-500":"text-slate-800 dark:text-slate-200"}`,children:[we.titulo," (",new Date(we.fecha+"T12:00:00").toLocaleDateString(),")"]}),u.jsx("button",{onClick:()=>ee(we.id),className:"text-red-500 text-sm",children:""})]},we.id))})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Archivos Adjuntos"}),u.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[u.jsx("h5",{className:"font-medium",children:"Subir Nuevo Archivo"}),u.jsx("input",{type:"file",onChange:he,className:"w-full text-sm"}),u.jsx("button",{onClick:O,disabled:!T||k,className:"w-full text-sm bg-blue-500 text-white font-semibold px-3 py-1.5 rounded-md disabled:bg-slate-400",children:k?"Subiendo...":"Subir"})]}),u.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:(i.archivos||[]).map(we=>u.jsxs("div",{className:"flex justify-between items-center p-2 bg-white dark:bg-slate-800 rounded border dark:border-slate-600",children:[u.jsx("a",{href:we.url,download:we.nombre,className:"text-sm text-blue-600 hover:underline truncate",children:we.nombre}),u.jsx("button",{onClick:()=>q(we.id),className:"text-red-500 text-sm ml-2",children:""})]},we.id))})]})]}),Ie=()=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[u.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Registrar Nueva Reunin"}),u.jsx("input",{value:P.motivo,onChange:we=>S(ie=>({...ie,motivo:we.target.value})),placeholder:"Motivo de la reunin...",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsx("textarea",{value:P.acuerdos,onChange:we=>S(ie=>({...ie,acuerdos:we.target.value})),placeholder:"Acuerdos...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsx("input",{value:P.asistentes,onChange:we=>S(ie=>({...ie,asistentes:we.target.value})),placeholder:"Asistentes (separados por coma)...",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsx("div",{className:"text-right",children:u.jsx("button",{onClick:J,className:"text-sm bg-amber-500 text-white font-semibold px-3 py-1 rounded-md",children:"Guardar Reunin"})})]}),u.jsx("div",{className:"space-y-3",children:(i.reuniones||[]).map(we=>u.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:we.motivo}),u.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:[u.jsx("strong",{children:"Acuerdos:"})," ",we.acuerdos]}),u.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:[new Date(we.fecha).toLocaleString("es-CL")," - Asistentes: ",we.asistentes]})]}),u.jsx("button",{onClick:()=>ne(we.id),className:"text-red-500 flex-shrink-0 ml-4",children:""})]})},we.id))})]});return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col animate-fade-in-up",onClick:we=>we.stopPropagation(),children:[u.jsxs("div",{className:"p-6 border-b dark:border-slate-700 flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:["Ficha de Seguimiento: ",t.nombre]}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[t.curso," - ",t.dificultad]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:ae,className:"text-sm bg-red-100 text-red-700 font-semibold px-3 py-1.5 rounded-md hover:bg-red-200",children:"Exportar PDF"}),u.jsx("button",{onClick:e,className:"text-2xl text-slate-500 hover:text-slate-800",children:""})]})]}),u.jsx("div",{className:"border-b dark:border-slate-700 px-4",children:u.jsx("nav",{className:"-mb-px flex space-x-6",children:["intervenciones","seguimiento","reuniones","alertas"].map(we=>u.jsx("button",{onClick:()=>a(we),className:`${s===we?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700"} whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm capitalize`,children:we==="alertas"?"Alertas y Archivos":we==="seguimiento"?"Seguimiento y Metas":we},we))})}),u.jsxs("div",{className:"p-6 overflow-y-auto flex-grow bg-slate-50 dark:bg-slate-900/50",children:[s==="intervenciones"&&ue(),s==="seguimiento"&&pe(),s==="reuniones"&&Ie(),s==="alertas"&&ye()]}),u.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end gap-3 mt-auto",children:[u.jsx("button",{onClick:e,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Cerrar"}),u.jsx("button",{onClick:N,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar Cambios"})]})]})})},Tge=({student:t,onClose:e,onConfirm:n})=>{const[r,s]=X.useState(B2[0]),a=()=>{n(t,r)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg p-6 animate-fade-in-up",onClick:i=>i.stopPropagation(),children:[u.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:["Agregar a ",t.nombreCompleto," al PIE"]}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Por favor, seleccione la dificultad de aprendizaje principal para este estudiante."}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"dificultad",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Dificultad de Aprendizaje"}),u.jsx("select",{id:"dificultad",value:r,onChange:i=>s(i.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:B2.map(i=>u.jsx("option",{value:i,children:i},i))})]}),u.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:e,className:"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Cancelar"}),u.jsx("button",{type:"button",onClick:a,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Confirmar e Ingresar"})]})]})})},QF=({currentUser:t})=>{const[e,n]=X.useState([]),[r,s]=X.useState([]),[a,i]=X.useState(null),[o,l]=X.useState(null),[A,d]=X.useState(""),[h,p]=X.useState(""),[g,w]=X.useState("");X.useEffect(()=>{try{const S=localStorage.getItem(jF);S&&n(JSON.parse(S));const N=localStorage.getItem(_ge);N&&s(JSON.parse(N))}catch(S){console.error("Error al cargar datos de Inclusin desde localStorage",S)}},[]);const b=X.useCallback(S=>{n(S),localStorage.setItem(jF,JSON.stringify(S))},[]),E=(S,N)=>{if(e.some(V=>V.nombre===S.nombreCompleto)){alert("Este estudiante ya est en el programa de inclusin.");return}const B={id:crypto.randomUUID(),nombre:S.nombreCompleto,curso:S.curso||"",dificultad:N,intervenciones:[],archivos:[],reuniones:[]};b([B,...e]),i(B)},T=S=>{b(e.map(N=>N.id===S.id?S:N)),i(S)},I=S=>{window.confirm("Est seguro de que desea eliminar a este estudiante del programa de inclusin?")&&(b(e.filter(N=>N.id!==S)),(a==null?void 0:a.id)===S&&i(null))},k=S=>{const N=D.map(B=>({Nombre:B.nombre,Curso:B.curso,Dificultad:B.dificultad,"N Intervenciones":B.intervenciones.length,"Alertas Pendientes":(B.alertas||[]).filter(V=>!V.resuelta).length}));if(S==="xlsx"){const B=cA.json_to_sheet(N),V=cA.book_new();cA.book_append_sheet(V,B,"Estudiantes_Inclusion"),s4(V,"Estudiantes_Inclusion.xlsx")}else{const B=new sn;B.text("Listado de Estudiantes - Programa de Inclusin",14,15),Nl(B,{startY:20,head:[Object.keys(N[0])],body:N.map(Object.values)}),B.save("Estudiantes_Inclusion.pdf")}},F=X.useMemo(()=>r.filter(S=>{var N;return S.profile===on.ESTUDIANTE&&(((N=t.cursos)==null?void 0:N.includes(S.curso||""))||t.profile===on.SUBDIRECCION)}).filter(S=>!e.some(N=>N.nombre===S.nombreCompleto)),[r,e,t]),D=X.useMemo(()=>e.filter(S=>S.nombre.toLowerCase().includes(A.toLowerCase())&&(h===""||S.curso===h)&&(g===""||S.dificultad===g)).sort((S,N)=>S.nombre.localeCompare(N.nombre)),[e,A,h,g]),P=X.useMemo(()=>r.filter(S=>S.profile===on.PROFESORADO).map(S=>S.nombreCompleto).sort(),[r]);return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Programa de Inclusin Escolar (PIE)"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Estudiantes en PIE"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>k("xlsx"),className:"text-sm bg-green-100 text-green-700 font-semibold py-1 px-3 rounded-lg",children:"Excel"}),u.jsx("button",{onClick:()=>k("pdf"),className:"text-sm bg-red-100 text-red-700 font-semibold py-1 px-3 rounded-lg",children:"PDF"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[u.jsx("input",{type:"text",placeholder:"Buscar por nombre...",value:A,onChange:S=>d(S.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsxs("select",{value:h,onChange:S=>p(S.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[u.jsx("option",{value:"",children:"Todos los Cursos"}),_a.map(S=>u.jsx("option",{children:S},S))]}),u.jsxs("select",{value:g,onChange:S=>w(S.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[u.jsx("option",{value:"",children:"Todas las Dificultades"}),B2.map(S=>u.jsx("option",{children:S},S))]})]}),u.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:D.map(S=>u.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md border dark:border-slate-700 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:S.nombre}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[S.curso," - ",S.dificultad]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>i(S),className:"text-blue-600 hover:text-blue-800 font-semibold text-sm",children:"Ver Ficha"}),u.jsx("button",{onClick:()=>I(S.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full text-lg",children:""})]})]},S.id))})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Agregar Estudiante desde Nmina"}),u.jsx("ul",{className:"space-y-2 max-h-[60vh] overflow-y-auto",children:F.map(S=>u.jsxs("li",{className:"flex justify-between items-center bg-slate-50 dark:bg-slate-700 p-2 rounded",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-sm text-slate-800 dark:text-slate-200",children:S.nombreCompleto}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:S.curso})]}),u.jsx("button",{onClick:()=>l(S),className:"text-2xl text-green-500 hover:text-green-700",children:"+"})]},S.id))})]})]}),o&&u.jsx(Tge,{student:o,onClose:()=>l(null),onConfirm:(S,N)=>{E(S,N),l(null)}}),a&&u.jsx(Sge,{student:a,onClose:()=>i(null),onSave:T,profesores:P})]})},HF="asistenciaDualRecords",Bge=({currentUser:t})=>{const[e,n]=X.useState(t.curso||""),[r,s]=X.useState([]),[a,i]=X.useState(!1),[o,l]=X.useState(null),A=`asistenciaPersonalDual-${t.id}`;X.useEffect(()=>{try{const p=localStorage.getItem(A);p&&s(JSON.parse(p))}catch(p){console.error("Error al cargar historial de asistencia",p),l({text:"No se pudo cargar el historial local.",type:"error"})}},[A]);const d=p=>{const g=[p,...r];s(g),localStorage.setItem(A,JSON.stringify(g));try{const w=localStorage.getItem(HF),b=w?JSON.parse(w):[],E=[p,...b];localStorage.setItem(HF,JSON.stringify(E))}catch(w){console.error("Error al guardar en el historial compartido",w),l({text:"Se registr su asistencia, pero hubo un problema al notificar a coordinacin.",type:"error"})}},h=p=>{if(!e){l({text:"Por favor, seleccione su curso antes de marcar.",type:"error"});return}i(!0),l(null),navigator.geolocation.getCurrentPosition(g=>{const w={id:crypto.randomUUID(),nombreEstudiante:t.nombreCompleto,emailEstudiante:t.email,curso:e,tipo:p,fechaHora:new Date().toISOString(),ubicacion:{latitud:g.coords.latitude,longitud:g.coords.longitude}};d(w),i(!1),l({text:`Marca de ${p} registrada con xito!`,type:"success"})},g=>{console.error("Geolocation error:",g);let w="No se pudo obtener la ubicacin.";switch(g.code){case g.PERMISSION_DENIED:w="Permiso de ubicacin denegado. Por favor, habilite la ubicacin en su navegador y dispositivo.";break;case g.POSITION_UNAVAILABLE:w="La informacin de ubicacin no est disponible en este momento. Verifique su conexin y GPS.";break;case g.TIMEOUT:w="La solicitud de ubicacin ha tardado demasiado. Intntelo de nuevo en un lugar con mejor seal.";break;default:w=`Ocurri un error desconocido al obtener la ubicacin (cdigo: ${g.code}).`;break}l({text:w,type:"error"}),i(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Asistencia a Empresa"}),u.jsx("p",{className:"text-slate-500 mb-6",children:"Registre su entrada y salida de la empresa de prctica."}),u.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 mb-1",children:"Seleccione su curso"}),u.jsxs("select",{id:"curso",value:e,onChange:p=>n(p.target.value),className:"w-full border-slate-300 rounded-md shadow-sm text-lg p-2",children:[u.jsx("option",{value:"",children:"-- Mi curso --"}),qf.map(p=>u.jsx("option",{value:p,children:p},p))]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[u.jsx("button",{onClick:()=>h("Entrada"),disabled:a||!e,className:"bg-green-600 text-white font-bold py-4 px-6 rounded-lg hover:bg-green-700 disabled:bg-slate-400 flex items-center justify-center text-xl transition-all",children:"Entrada"}),u.jsx("button",{onClick:()=>h("Salida"),disabled:a||!e,className:"bg-red-600 text-white font-bold py-4 px-6 rounded-lg hover:bg-red-700 disabled:bg-slate-400 flex items-center justify-center text-xl transition-all",children:"Salida"})]}),a&&u.jsxs("div",{className:"text-center text-slate-600 pt-4 flex items-center justify-center gap-2",children:[u.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u.jsx("span",{children:"Obteniendo ubicacin..."})]}),o&&u.jsx("div",{className:`text-center p-3 rounded-md mt-4 ${o.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.text})]})]}),u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Mi Historial de Asistencia"}),u.jsx("div",{className:"overflow-x-auto max-h-96",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[u.jsx("thead",{className:"bg-slate-50 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Fecha y Hora"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Tipo"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Curso"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:r.length>0?r.map(p=>u.jsxs("tr",{className:"hover:bg-slate-50",children:[u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:new Date(p.fechaHora).toLocaleString("es-CL")}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:u.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${p.tipo==="Entrada"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:p.tipo})}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:p.curso})]},p.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:3,className:"px-6 py-10 text-center text-slate-500",children:"No tienes marcas de asistencia registradas."})})})]})})]})]})},Nge="asistenciaDualRecords",kge="usuariosLiceo",nv=t=>{if(!t)return"";let e=t.trim().toLowerCase();return e=e.replace(//g,""),e=e.replace(/\s+(medio|bsico|basico)/g,""),e=e.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1"),e=e.replace(/^(\d)(?![])/,"$1"),e=e.replace(/\s+/g,"").toUpperCase(),e},Ige=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z",clipRule:"evenodd"})}),Fge=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z",clipRule:"evenodd",transform:"rotate(180 10 10)"})}),Rge=()=>{const[t,e]=X.useState([]),[n,r]=X.useState([]),[s,a]=X.useState(new Date),[i,o]=X.useState("todos"),[l,A]=X.useState("");X.useEffect(()=>{const T=()=>{const I=localStorage.getItem(Nge);I&&e(JSON.parse(I));const k=localStorage.getItem(kge);k&&r(JSON.parse(k))};return T(),window.addEventListener("storage",T),()=>window.removeEventListener("storage",T)},[]);const{monthDays:d,monthName:h,year:p}=X.useMemo(()=>{const T=s.getFullYear(),I=s.getMonth();return{monthDays:new Date(T,I+1,0).getDate(),monthName:s.toLocaleString("es-CL",{month:"long"}),year:T}},[s]),g=X.useMemo(()=>{let T=n.filter(I=>I.profile===on.ESTUDIANTE&&I.curso&&qf.includes(nv(I.curso)));return i!=="todos"&&(T=T.filter(I=>nv(I.curso||"")===i)),l&&(T=T.filter(I=>I.nombreCompleto.toLowerCase().includes(l.toLowerCase()))),T.sort((I,k)=>I.nombreCompleto.localeCompare(k.nombreCompleto))},[n,i,l]),w=X.useMemo(()=>{const T=new Map,I=s.getMonth(),k=s.getFullYear();return t.filter(D=>{const P=new Date(D.fechaHora);return P.getMonth()!==I||P.getFullYear()!==k?!1:i==="todos"?qf.includes(nv(D.curso||"")):nv(D.curso||"")===i}).forEach(D=>{const P=new Date(D.fechaHora).getDate();T.has(D.nombreEstudiante)||T.set(D.nombreEstudiante,new Map);const S=T.get(D.nombreEstudiante);S.has(P)||S.set(P,{});const N=S.get(P);D.tipo==="Entrada"?(!N.entrada||new Date(D.fechaHora)<new Date(N.entrada.fechaHora))&&(N.entrada=D):D.tipo==="Salida"&&(!N.salida||new Date(D.fechaHora)>new Date(N.salida.fechaHora))&&(N.salida=D)}),T},[t,s,i]),b=T=>{a(I=>{const k=new Date(I);return k.setMonth(k.getMonth()+T),k})},E=["D","L","M","M","J","V","S"];return u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md space-y-6 animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Asistencia Dual Mensual"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50 dark:border-slate-700",children:[u.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[u.jsx("button",{onClick:()=>b(-1),className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600",children:"<"}),u.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 capitalize w-48 text-center",children:`${h} ${p}`}),u.jsx("button",{onClick:()=>b(1),className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600",children:">"})]}),u.jsxs("select",{value:i,onChange:T=>o(T.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[u.jsx("option",{value:"todos",children:"Todos los Cursos"}),qf.map(T=>u.jsx("option",{value:T,children:T},T))]}),u.jsx("input",{type:"text",placeholder:"Buscar estudiante...",value:l,onChange:T=>A(T.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full border-collapse border border-slate-200 dark:border-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"sticky left-0 bg-slate-100 dark:bg-slate-800 z-10 p-2 border-r border-b border-slate-200 dark:border-slate-600 text-sm font-semibold w-48",children:"Estudiante"}),Array.from({length:d},(T,I)=>{const F=new Date(p,s.getMonth(),I+1).getDay(),D=F===0||F===6;return u.jsxs("th",{className:`p-1 border-r border-b border-slate-200 dark:border-slate-600 text-xs w-16 ${D?"bg-slate-100 dark:bg-slate-700/50":""}`,children:[u.jsx("div",{className:"font-semibold",children:E[F]}),u.jsx("div",{children:I+1})]},I)})]})}),u.jsx("tbody",{children:g.length>0?g.map(T=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[u.jsx("td",{className:"sticky left-0 bg-white dark:bg-slate-800 z-10 p-2 border-r border-b border-slate-200 dark:border-slate-600 text-sm font-medium whitespace-nowrap",children:T.nombreCompleto}),Array.from({length:d},(I,k)=>{var N;const F=k+1,D=(N=w.get(T.nombreCompleto))==null?void 0:N.get(F),P=new Date(p,s.getMonth(),k+1),S=P.getDay()===0||P.getDay()===6;return u.jsx("td",{className:`p-1 border-r border-b border-slate-200 dark:border-slate-600 text-center align-middle ${S?"bg-slate-100 dark:bg-slate-700/50":""}`,children:u.jsxs("div",{className:"flex justify-center items-center gap-1.5 h-full",children:[(D==null?void 0:D.entrada)&&u.jsxs("div",{className:"group relative cursor-pointer",onClick:()=>{var B,V;return window.open(`https://www.google.com/maps?q=${(B=D.entrada)==null?void 0:B.ubicacion.latitud},${(V=D.entrada)==null?void 0:V.ubicacion.longitud}`,"_blank")},children:[u.jsx(Ige,{}),u.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 w-max px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-20",children:new Date(D.entrada.fechaHora).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})})]}),(D==null?void 0:D.salida)&&u.jsxs("div",{className:"group relative cursor-pointer",onClick:()=>{var B,V;return window.open(`https://www.google.com/maps?q=${(B=D.salida)==null?void 0:B.ubicacion.latitud},${(V=D.salida)==null?void 0:V.ubicacion.longitud}`,"_blank")},children:[u.jsx(Fge,{}),u.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 w-max px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-20",children:new Date(D.salida.fechaHora).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})})]})]})},F)})]},T.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:d+1,className:"text-center p-8 text-slate-500",children:"No hay estudiantes en el curso seleccionado o que coincidan con la bsqueda."})})})]})})]})},VF="evaluacionesFormativas",GF="calificacionesFormativas",zF="trabajosGrupalesFormativos",Dge="usuariosLiceo",r7=t=>{if(!t)return"";let e=t.trim().toLowerCase();return e=e.replace(//g,""),e=e.replace(/\s+(medio|bsico|basico)/g,""),e=e.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1"),e=e.replace(/^(\d)(?![])/,"$1"),e=e.replace(/\s+/g,"").toUpperCase(),e},Y2={"Lengua y Literatura":"",Matemtica:"",Ingls:"",Filosofa:"","Historia y Geografa":"","Educacin Ciudadana":"",Ciencias:"","Ciencias para la Ciudadana":"",Artes:"",Msica:"","Educacin Fsica":"",Orientacin:"","Mecnica Industrial":"","Mecnica Automotriz":"",Emprendimiento:"",Tecnologa:"","Pensamiento Lgico":"","Competencia Lectora":"",Default:""},s7=t=>t.startsWith("1")?{bg:"bg-blue-500",text:"text-white",border:"border-blue-700",spine:"bg-blue-800"}:t.startsWith("2")?{bg:"bg-green-500",text:"text-white",border:"border-green-700",spine:"bg-green-800"}:t.startsWith("3")?{bg:"bg-yellow-400",text:"text-yellow-900",border:"border-yellow-600",spine:"bg-yellow-700"}:t.startsWith("4")?{bg:"bg-red-500",text:"text-white",border:"border-red-700",spine:"bg-red-800"}:{bg:"bg-slate-500",text:"text-white",border:"border-slate-700",spine:"bg-slate-800"},Uge=({cursos:t,onSelect:e})=>u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seleccione un Libro de Clases"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Cada libro representa un curso y contiene sus evaluaciones formativas."}),t.length>0?u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:t.map(n=>{const r=s7(n);return u.jsxs("div",{className:"space-y-2 text-center",children:[u.jsxs("button",{onClick:()=>e(n),className:`relative w-full h-48 rounded-md shadow-lg ${r.bg} ${r.border} border-b-4 transform hover:-translate-y-2 transition-transform duration-300 group`,children:[u.jsx("div",{className:`absolute top-0 left-0 w-6 h-full ${r.spine} rounded-l-md`}),u.jsxs("div",{className:`flex flex-col items-center justify-center h-full p-2 ${r.text}`,children:[u.jsx("span",{className:"font-bold text-2xl drop-shadow-sm",children:n.slice(0,2)}),u.jsx("span",{className:"font-black text-5xl drop-shadow-md",children:n.slice(2)})]})]}),u.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:n})]},n)})}):u.jsxs("div",{className:"text-center py-10 bg-slate-100 rounded-lg",children:[u.jsx("p",{className:"text-slate-500",children:"No tiene cursos asignados."}),u.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Contacte a un administrador para que le asigne cursos a su perfil."})]})]}),Lge=({curso:t,asignaturas:e,onSelect:n,onBack:r})=>{const s=s7(t);return u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx("button",{onClick:r,className:"text-slate-500 hover:text-slate-800 dark:hover:text-slate-200",children:" Volver a Cursos"}),u.jsxs("div",{className:`p-2 rounded-md ${s.bg} ${s.text} font-bold`,children:["Libro de Clases: ",t]})]}),u.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seleccione una Asignatura"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Elija la asignatura para ver o agregar calificaciones."}),e.length>0?u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:e.map(a=>u.jsxs("button",{onClick:()=>n(a),className:"flex items-center gap-3 p-4 rounded-lg bg-slate-100 hover:bg-amber-100 dark:bg-slate-700 dark:hover:bg-amber-900/50 transition-colors",children:[u.jsx("span",{className:"text-2xl",children:Y2[a]||Y2.Default}),u.jsx("span",{className:"font-semibold text-slate-800 dark:text-slate-200 text-left",children:a})]},a))}):u.jsxs("div",{className:"text-center py-10 bg-slate-100 rounded-lg",children:[u.jsx("p",{className:"text-slate-500",children:"No tiene asignaturas asignadas."}),u.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Contacte a un administrador."})]})]})},Mge=({curso:t,asignatura:e,allUsers:n,onBack:r})=>{const[s,a]=X.useState([]),[i,o]=X.useState({}),[l,A]=X.useState({fecha:new Date().toISOString().split("T")[0],nombreActividad:""}),[d,h]=X.useState(null),[p,g]=X.useState(null);X.useEffect(()=>{try{const B=localStorage.getItem(VF);B&&a(JSON.parse(B));const V=localStorage.getItem(GF);V&&o(JSON.parse(V))}catch(B){console.error("Error al cargar datos",B)}},[]);const w=B=>{a(B),localStorage.setItem(VF,JSON.stringify(B))},b=B=>{o(B),localStorage.setItem(GF,JSON.stringify(B))},E=X.useMemo(()=>n.filter(B=>B.profile===on.ESTUDIANTE&&r7(B.curso||"")===t).map(B=>B.nombreCompleto).sort((B,V)=>B.localeCompare(V)),[n,t]),T=X.useMemo(()=>s.filter(B=>B.curso===t&&B.asignatura===e).sort((B,V)=>new Date(B.fecha).getTime()-new Date(V.fecha).getTime()),[s,t,e]),I=B=>{const{name:V,value:U}=B.target;d?h(L=>L?{...L,[V]:U}:null):A(L=>({...L,[V]:U}))},k=B=>{if(B.preventDefault(),!l.nombreActividad.trim()){g("El nombre de la actividad es obligatorio.");return}const V={id:crypto.randomUUID(),asignatura:e,curso:t,...l};w([...s,V]);const U=E.reduce((L,j)=>(L[j]="trabajado",L),{});b({...i,[V.id]:U}),A({fecha:new Date().toISOString().split("T")[0],nombreActividad:""}),g(null)},F=(B,V)=>{var j;const L=(((j=i[B])==null?void 0:j[V])||"trabajado")==="trabajado"?"no trabajado":"trabajado";b({...i,[B]:{...i[B]||{},[V]:L}})},D=B=>h(B),P=()=>{d&&(w(s.map(B=>B.id===d.id?d:B)),h(null))},S=B=>{if(window.confirm("Eliminar esta evaluacin y todas sus calificaciones?")){w(s.filter(U=>U.id!==B));const V={...i};delete V[B],b(V)}},N=X.useCallback(B=>{if(T.length===0)return"-";let V=0,U=0;return T.forEach(L=>{var G;const j=(G=i[L.id])==null?void 0:G[B];j==="trabajado"?(V+=7,U++):j==="no trabajado"&&(V+=2,U++)}),U===0?"-":(V/U).toFixed(1)},[i,T]);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:r,className:"text-slate-500 hover:text-slate-800",children:" Volver a Asignaturas"}),u.jsxs("div",{className:"bg-slate-100 p-2 rounded-md font-bold text-slate-800",children:[t," / ",e]})]}),u.jsxs("form",{onSubmit:k,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[u.jsx("h3",{className:"text-lg font-semibold col-span-full text-slate-700 dark:text-slate-200",children:"Crear Nueva Evaluacin"}),u.jsxs("div",{className:"w-full",children:[u.jsx("label",{htmlFor:"nombreActividad",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Actividad"}),u.jsx("input",{id:"nombreActividad",type:"text",name:"nombreActividad",value:l.nombreActividad,onChange:I,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),u.jsxs("div",{className:"w-full",children:[u.jsx("label",{htmlFor:"fecha",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Fecha"}),u.jsx("input",{id:"fecha",type:"date",name:"fecha",value:l.fecha,onChange:I,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),u.jsx("div",{className:"w-full",children:u.jsx("button",{type:"submit",className:"w-full bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 h-10",children:"Crear"})}),p&&u.jsx("p",{className:"text-red-500 text-sm col-span-full",children:p})]}),u.jsx("div",{className:"overflow-x-auto border border-slate-200 dark:border-slate-700 rounded-lg",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"sticky left-0 bg-slate-100 dark:bg-slate-800 px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase z-10 w-48",children:"Estudiante"}),T.map(B=>u.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-xs font-medium text-slate-600 dark:text-slate-300 uppercase w-36",children:(d==null?void 0:d.id)===B.id?u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("input",{type:"text",name:"nombreActividad",value:d.nombreActividad,onChange:I,className:"text-xs p-1 w-full dark:bg-slate-600"}),u.jsx("input",{type:"date",name:"fecha",value:d.fecha,onChange:I,className:"text-xs p-1 w-full dark:bg-slate-600"}),u.jsx("button",{onClick:P,className:"text-xs bg-green-200 text-green-800 rounded px-1",children:""})]}):u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"font-semibold",children:B.nombreActividad}),u.jsx("span",{className:"font-normal text-slate-500",children:B.fecha}),u.jsxs("div",{className:"flex gap-2 mt-1",children:[u.jsx("button",{onClick:()=>D(B),className:"text-blue-500 hover:text-blue-700",children:""}),u.jsx("button",{onClick:()=>S(B.id),className:"text-red-500 hover:text-red-700",children:""})]})]})},B.id)),u.jsx("th",{scope:"col",className:"sticky right-0 bg-slate-100 dark:bg-slate-800 px-4 py-3 text-center text-xs font-medium text-slate-600 dark:text-slate-300 uppercase z-10 w-24",children:"Promedio"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-900 divide-y divide-slate-200 dark:divide-slate-700",children:E.map(B=>u.jsxs("tr",{children:[u.jsx("td",{className:"sticky left-0 bg-white dark:bg-slate-900 px-4 py-2 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200 w-48",children:B}),T.map(V=>{var j;const L=((j=i[V.id])==null?void 0:j[B])==="trabajado";return u.jsx("td",{className:"px-2 py-1 whitespace-nowrap w-36 text-center",children:u.jsx("button",{onClick:()=>F(V.id,B),className:`text-3xl transition-opacity duration-200 ${L?"opacity-100":"opacity-20"}`,children:Y2[e]||Y2.Default})},V.id)}),u.jsx("td",{className:"sticky right-0 bg-white dark:bg-slate-900 px-4 py-2 whitespace-nowrap text-sm font-bold text-slate-800 dark:text-slate-200 w-24 text-center",children:N(B)})]},B))})]})})]})},Pge=({curso:t,asignatura:e,allUsers:n,onBack:r})=>{const[s,a]=X.useState([]),[i,o]=X.useState(null),[l,A]=X.useState({nombre:"",fecha:new Date().toISOString().split("T")[0]}),[d,h]=X.useState({}),[p,g]=X.useState(2);X.useEffect(()=>{try{const D=localStorage.getItem(zF);D&&a(JSON.parse(D))}catch(D){console.error("Error al cargar trabajos grupales",D)}},[]);const w=D=>{a(D),localStorage.setItem(zF,JSON.stringify(D))},b=X.useMemo(()=>n.filter(D=>D.profile===on.ESTUDIANTE&&r7(D.curso||"")===t).sort((D,P)=>D.nombreCompleto.localeCompare(P.nombreCompleto)),[n,t]);X.useEffect(()=>{if(i){const D={};i.grupos.forEach(P=>{P.integrantes.forEach(S=>{D[S.nombre]={groupNumber:String(P.numero),role:S.rol||""}})}),h(D)}else h({})},[i]);const E=D=>{if(D.preventDefault(),!l.nombre.trim())return;const P={id:crypto.randomUUID(),curso:t,asignatura:e,nombreActividad:l.nombre,fechaPresentacion:l.fecha,grupos:[]};w([P,...s]),A({nombre:"",fecha:new Date().toISOString().split("T")[0]})},T=()=>{if(!i)return;const D=new Map;for(const N of b){const B=d[N.nombreCompleto];if(B&&B.groupNumber){const V=parseInt(B.groupNumber,10);isNaN(V)||(D.has(V)||D.set(V,[]),D.get(V).push({nombre:N.nombreCompleto,rol:B.role||void 0}))}}const P=Array.from(D.entries()).map(([N,B])=>({numero:N,integrantes:B})).sort((N,B)=>N.numero-B.numero),S={...i,grupos:P};w(s.map(N=>N.id===S.id?S:N)),o(S),alert("Grupos guardados con xito.")},I=()=>{if(p<2){alert("Debe haber al menos 2 grupos.");return}const D=[...b].sort(()=>Math.random()-.5),P={};D.forEach((S,N)=>{var B;P[S.nombreCompleto]={groupNumber:String(N%p+1),role:((B=d[S.nombreCompleto])==null?void 0:B.role)||""}}),h(P)},k=(D,P,S)=>{h(N=>({...N,[D]:{...N[D],[P]:S}}))},F=X.useMemo(()=>{const D=new Map;return Object.entries(d).forEach(([P,S])=>{S.groupNumber&&(D.has(S.groupNumber)||D.set(S.groupNumber,[]),D.get(S.groupNumber).push({nombre:P,rol:S.role}))}),Array.from(D.entries()).sort((P,S)=>parseInt(P[0])-parseInt(S[0]))},[d]);return i?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("button",{onClick:()=>o(null),className:"text-sm font-semibold text-slate-500 hover:underline mb-2",children:" Volver a Actividades"}),u.jsx("h2",{className:"text-2xl font-bold",children:i.nombreActividad})]}),u.jsx("button",{onClick:T,className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Guardar Grupos"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"md:col-span-1 space-y-4",children:[u.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50",children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Auto-asignacin"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",value:p,onChange:D=>g(parseInt(D.target.value,10)),min:"2",className:"w-20 border-slate-300 rounded"}),u.jsx("button",{onClick:I,className:"flex-1 bg-slate-200 font-semibold py-2 px-3 rounded",children:"Asignar"})]})]}),u.jsxs("div",{className:"p-4 border rounded-lg h-[60vh] overflow-y-auto",children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Nmina del Curso"}),u.jsx("table",{className:"w-full text-sm",children:u.jsx("tbody",{children:b.map(D=>{var P;return u.jsxs("tr",{children:[u.jsx("td",{className:"py-1 pr-2",children:D.nombreCompleto}),u.jsx("td",{className:"py-1",children:u.jsx("input",{type:"number",value:((P=d[D.nombreCompleto])==null?void 0:P.groupNumber)||"",onChange:S=>k(D.nombreCompleto,"groupNumber",S.target.value),className:"w-16 p-1 border rounded text-center",placeholder:"N"})})]},D.id)})})})]})]}),u.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg h-[70vh] overflow-y-auto",children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Grupos Formados"}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:F.map(([D,P])=>u.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[u.jsxs("h4",{className:"font-bold border-b pb-1 mb-2",children:["Grupo ",D]}),u.jsx("ul",{className:"space-y-2",children:P.map(S=>u.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"flex-1 truncate",children:S.nombre}),u.jsxs("select",{value:S.rol||"",onChange:N=>k(S.nombre,"role",N.target.value),className:"p-1 border rounded text-xs w-32",children:[u.jsx("option",{value:"",children:"-- Asignar Rol --"}),DL.map(N=>u.jsx("option",{value:N,children:N},N))]})]},S.nombre))})]},D))})]})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:r,className:"text-slate-500 hover:text-slate-800",children:" Volver a Asignaturas"}),u.jsxs("div",{className:"bg-slate-100 p-2 rounded-md font-bold text-slate-800",children:[t," / ",e]})]}),u.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Crear Actividad Grupal"}),u.jsxs("form",{onSubmit:E,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[u.jsx("input",{value:l.nombre,onChange:D=>A({...l,nombre:D.target.value}),placeholder:"Nombre de la actividad",className:"w-full border-slate-300 rounded-md",required:!0}),u.jsx("input",{type:"date",value:l.fecha,onChange:D=>A({...l,fecha:D.target.value}),className:"w-full border-slate-300 rounded-md",required:!0}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg",children:"Crear"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Actividades Creadas"}),s.filter(D=>D.curso===t&&D.asignatura===e).map(D=>u.jsxs("button",{onClick:()=>o(D),className:"w-full text-left p-3 bg-white dark:bg-slate-700 hover:bg-slate-100 rounded-md border",children:[u.jsx("p",{className:"font-bold",children:D.nombreActividad}),u.jsxs("p",{className:"text-sm text-slate-500",children:["Fecha: ",D.fechaPresentacion]})]},D.id))]})]})},Oge=({currentUser:t})=>{const[e,n]=X.useState("calificaciones"),[r,s]=X.useState(null),[a,i]=X.useState(null),[o,l]=X.useState([]);X.useEffect(()=>{try{const g=localStorage.getItem(Dge);g&&l(JSON.parse(g))}catch(g){console.error("Error al cargar usuarios",g)}},[]);const A=X.useMemo(()=>t.cursos||[],[t.cursos]),d=X.useMemo(()=>t.asignaturas||[],[t.asignaturas]),h=({tab:g,label:w})=>u.jsx("button",{onClick:()=>n(g),className:`${e===g?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-3 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:w}),p=()=>{if(!r)return u.jsx(Uge,{cursos:A,onSelect:s});if(!a)return u.jsx(Lge,{curso:r,asignaturas:d,onSelect:i,onBack:()=>s(null)});if(e==="calificaciones")return u.jsx(Mge,{curso:r,asignatura:a,allUsers:o,onBack:()=>i(null)});if(e==="grupos")return u.jsx(Pge,{curso:r,asignatura:a,allUsers:o,onBack:()=>i(null)})};return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Evaluaciones Formativas"}),u.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:u.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[u.jsx(h,{tab:"calificaciones",label:"Calificaciones"}),u.jsx(h,{tab:"grupos",label:"Trabajos Grupales"})]})}),u.jsx("div",{className:"mt-6",children:p()})]})},KF="acompanamientoDocenteRecords",jge="usuariosLiceo",Qge=()=>{const[t,e]=X.useState([]),[n,r]=X.useState([]),[s,a]=X.useState("list"),[i,o]=X.useState(null),[l,A]=X.useState(!1),[d,h]=X.useState(!1),p=N2,g=X.useMemo(()=>({fecha:new Date().toISOString(),docente:"",curso:"",asignatura:"",bloques:"",rubricaResultados:{},observacionesGenerales:"",retroalimentacionConsolidada:""}),[]),[w,b]=X.useState(g);X.useEffect(()=>{try{const U=localStorage.getItem(KF);U&&e(JSON.parse(U));const L=localStorage.getItem(jge);if(L){const G=JSON.parse(L).filter(se=>se.profile===on.PROFESORADO).map(se=>se.nombreCompleto).sort();r(G)}}catch(U){console.error("Error al cargar datos de localStorage",U)}},[]);const E=U=>{e(U),localStorage.setItem(KF,JSON.stringify(U)),window.dispatchEvent(new Event("storage"))},T=U=>{b(L=>({...L,[U.target.name]:U.target.value}))},I=(U,L)=>{b(j=>({...j,rubricaResultados:{...j.rubricaResultados,[U]:L}}))},k=async()=>{A(!0);const{rubricaResultados:U,observacionesGenerales:L}=w;let j=`Resultados de la Rbrica:
`;p.forEach(se=>{se.criteria.forEach(K=>{const Y=U[K.name];if(Y&&K.levels[Y-1]){const oe=K.levels[Y-1];j+=`- Criterio: "${K.name}" | Nivel: ${Y} (${oe})
`}})}),j+=`
Observaciones Generales del Evaluador:
${L||"No se proveyeron observaciones adicionales."}`;const G=`
            Eres un asesor pedaggico experto. Tu tarea es generar una retroalimentacin formal, tcnica y constructiva para un docente, basada en una observacin de clase.
            La retroalimentacin debe ser estructurada y usar un lenguaje pedaggico preciso.

            A continuacin, los datos de la observacin:
            ${j}

            Genera una retroalimentacin que incluya obligatoriamente los siguientes puntos en formato Markdown:
            - ## Fortalezas Observadas: Destaca 2 o 3 puntos positivos clave, conectndolos con los criterios de la rbrica.
            - ## reas de Mejora: Identifica 2 o 3 aspectos donde el docente puede mejorar, explicando el porqu con base en la evidencia.
            - ## Sugerencias y Pasos a Seguir: Ofrece recomendaciones concretas, prcticas y accionables que el docente pueda implementar.
        `;try{go("Acompaamiento - Consolidar Feedback");const Y=(await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:G})).text.replace(/(\*\*|\*)/g,"");b(oe=>({...oe,retroalimentacionConsolidada:Y}))}catch(se){console.error("Error al generar retroalimentacin con IA",se),alert("No se pudo generar la retroalimentacin. Intntelo de nuevo.")}finally{A(!1)}},F=async()=>{const U=i;if(!U)return;h(!0);const L=t.find(q=>q.id===U);if(!L){h(!1);return}const j=new sn({orientation:"p",unit:"mm",format:"a4"}),G=20,se=j.internal.pageSize.getWidth(),K=j.internal.pageSize.getHeight(),Y=se-G*2;let oe=G;const Z=q=>{q.setFont("helvetica","bold"),q.setFontSize(10),q.setTextColor(100),q.text("LICEO INDUSTRIAL DE RECOLETA",se/2,15,{align:"center"})};Z(j),j.setFont("helvetica","bold"),j.setFontSize(18),j.setTextColor(40),j.text("Informe de Acompaamiento Docente",se/2,oe+10,{align:"center"}),oe+=25,Nl(j,{startY:oe,body:[[{content:"Docente:",styles:{fontStyle:"bold"}},L.docente],[{content:"Fecha:",styles:{fontStyle:"bold"}},new Date(L.fecha).toLocaleDateString("es-CL")],[{content:"Asignatura:",styles:{fontStyle:"bold"}},L.asignatura],[{content:"Curso:",styles:{fontStyle:"bold"}},L.curso]],theme:"plain",styles:{fontSize:11,cellPadding:2,textColor:[50,50,50]},columnStyles:{0:{cellWidth:35}}}),oe=j.lastAutoTable.finalY+10;const ee=[],he=["Dbil","Incipiente","Satisfactorio","Avanzado"];p.forEach(q=>{ee.push([{content:q.domain,colSpan:2,styles:{fontStyle:"bold",fillColor:[220,220,220],textColor:[40,40,40],halign:"left"}}]),q.criteria.forEach(J=>{const ne=L.rubricaResultados[J.name],ae=ne?he[ne-1]:"No evaluado";ee.push([J.name,ae])})}),Nl(j,{startY:oe,head:[["Indicador","Nivel de Logro"]],body:ee,theme:"grid",headStyles:{fillColor:[44,62,80],textColor:255},didDrawPage:q=>{q.pageNumber>1&&Z(j)}}),oe=j.lastAutoTable.finalY+15;const O=(q,J)=>{oe>K-G-10&&(j.addPage(),Z(j),oe=G),j.setFont("helvetica",J.style),j.setFontSize(J.size);const ne=j.splitTextToSize(q,Y),ae=ne.length*(J.size*.352778*1.15);oe+ae>K-G&&(j.addPage(),Z(j),oe=G),j.text(ne,G,oe,{align:"left"}),oe+=ae+(J.isTitle?5:8)};L.retroalimentacionConsolidada?L.retroalimentacionConsolidada.split(/(?=## )/).forEach(J=>{if(J.trim()){const ne=J.trim().split(`
`),ae=ne[0].replace("## ",""),ue=ne.slice(1).join(`
`).trim();O(ae,{size:14,style:"bold",isTitle:!0}),O(ue,{size:11,style:"normal",isTitle:!1})}}):(O("Retroalimentacin Consolidada",{size:14,style:"bold",isTitle:!0}),O("No se ha generado retroalimentacin.",{size:11,style:"normal",isTitle:!1})),j.save(`Acompanamiento_${L.docente.replace(/\s/g,"_")}_${new Date(L.fecha).toLocaleDateString("es-CL")}.pdf`),h(!1)},D=U=>{if(U.preventDefault(),!w.docente||!w.curso||!w.asignatura){alert("Docente, curso y asignatura son campos obligatorios.");return}let L=i;if(i){const j=t.map(G=>G.id===i?{...w,id:i}:G);E(j)}else{const j={...w,id:crypto.randomUUID()};E([j,...t]),o(j.id),b(j),L=j.id}L&&alert("Guardado correctamente!")},P=()=>{b(g),o(null),a("form")},S=U=>{b(U),o(U.id),a("form")},N=U=>{window.confirm("Est seguro de que desea eliminar este registro de acompaamiento?")&&E(t.filter(L=>L.id!==U))},B=()=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Registros de Acompaamiento"}),u.jsx("button",{onClick:P,className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Crear Nuevo"})]}),u.jsx("div",{className:"space-y-4",children:t.length>0?t.map(U=>u.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:U.docente}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[U.curso," - ",U.asignatura]}),u.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Fecha: ",new Date(U.fecha).toLocaleDateString("es-CL")]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>S(U),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm",children:"Ver y Editar"}),u.jsx("button",{onClick:()=>N(U.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:""})]})]},U.id)):u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-6",children:'No hay registros de acompaamiento. Haga clic en "Crear Nuevo" para comenzar.'})})]}),V=()=>u.jsx("div",{className:"animate-fade-in",children:u.jsxs("form",{onSubmit:D,className:"space-y-8",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:i?"Editando Acompaamiento":"Nuevo Acompaamiento Docente"}),u.jsx("button",{type:"button",onClick:()=>a("list"),className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white font-semibold",children:" Volver al listado"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50 dark:border-slate-700",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"docente",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Docente"}),u.jsxs("select",{name:"docente",value:w.docente,onChange:T,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[u.jsx("option",{value:"",children:"Seleccione"}),n.map(U=>u.jsx("option",{value:U,children:U},U))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),u.jsxs("select",{name:"curso",value:w.curso,onChange:T,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[u.jsx("option",{value:"",children:"Seleccione"}),_a.map(U=>u.jsx("option",{value:U,children:U},U))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),u.jsxs("select",{name:"asignatura",value:w.asignatura,onChange:T,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[u.jsx("option",{value:"",children:"Seleccione"}),Il.map(U=>u.jsx("option",{value:U,children:U},U))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"bloques",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Bloques Horarios"}),u.jsx("input",{type:"text",name:"bloques",value:w.bloques,onChange:T,placeholder:"Ej: 3-4",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),u.jsx("div",{className:"overflow-x-auto border border-slate-200 dark:border-slate-700 rounded-lg",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-1/12",children:"Dominio"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-3/12",children:"Criterio"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Dbil (1)"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Incipiente (2)"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Satisfactorio (3)"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Avanzado (4)"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:p.map(U=>u.jsx(ut.Fragment,{children:U.criteria.map((L,j)=>u.jsxs("tr",{children:[j===0&&u.jsx("td",{rowSpan:U.criteria.length,className:"px-3 py-4 align-top text-sm font-semibold text-slate-800 dark:text-slate-200 border-r dark:border-slate-600",children:U.domain}),u.jsx("td",{className:"px-3 py-4 align-top text-sm font-medium text-slate-700 dark:text-slate-300 border-r dark:border-slate-600",children:L.name}),L.levels.map((G,se)=>{const K=se+1,Y=w.rubricaResultados[L.name]===K;return u.jsx("td",{onClick:()=>I(L.name,K),className:`px-3 py-4 align-top text-sm text-slate-600 dark:text-slate-300 border-r dark:border-slate-600 cursor-pointer transition-colors ${Y?"bg-amber-100 dark:bg-amber-900/30":"hover:bg-amber-50 dark:hover:bg-slate-700"}`,children:G},K)})]},L.name))},U.domain))})]})}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"observacionesGenerales",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Observaciones Generales"}),u.jsx("textarea",{name:"observacionesGenerales",value:w.observacionesGenerales,onChange:T,rows:5,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{htmlFor:"retroalimentacionConsolidada",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Retroalimentacin Consolidada"}),u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("textarea",{name:"retroalimentacionConsolidada",value:w.retroalimentacionConsolidada,onChange:T,rows:8,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",placeholder:"Haga clic en 'Consolidar' para generar la retroalimentacin aqu..."}),u.jsx("button",{type:"button",onClick:k,disabled:l,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 disabled:bg-slate-400",children:l?"...":"Consolidar"})]})]}),u.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t dark:border-slate-700",children:[u.jsx("button",{type:"button",onClick:F,disabled:!i||d,className:"bg-red-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-red-700 disabled:bg-slate-400",children:d?"...":"Exportar PDF"}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Guardar Acompaamiento"})]})]})});return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Acompaamiento Docente"}),u.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:s==="list"?B():V()})]})},MC="mensajesInternos",Hge="usuariosLiceo",qF="lir-read-status",Vge=({currentUser:t,refreshUnreadCount:e})=>{const[n,r]=X.useState("inbox"),[s,a]=X.useState([]),[i,o]=X.useState([]),[l,A]=X.useState(null),[d,h]=X.useState({announcements:[],messages:[]}),p={para:"",asunto:"",cuerpo:""},[g,w]=X.useState(p);X.useEffect(()=>{try{const S=localStorage.getItem(MC);S&&a(JSON.parse(S));const N=localStorage.getItem(Hge);N&&o(JSON.parse(N));const B=localStorage.getItem(`${qF}-${t.id}`);B&&h(JSON.parse(B))}catch(S){console.error("Error loading messaging data",S)}},[t.id]);const b=S=>{a(S),localStorage.setItem(MC,JSON.stringify(S))},E=S=>{h(S),localStorage.setItem(`${qF}-${t.id}`,JSON.stringify(S)),e()},T=S=>{if(A(S),n==="inbox"&&!d.messages.includes(S.id)){const N={...d,messages:[...d.messages,S.id]};E(N)}},I=S=>{if(S.preventDefault(),!g.para||!g.asunto.trim()||!g.cuerpo.trim()){alert("Destinatario, asunto y cuerpo son obligatorios.");return}const N={id:crypto.randomUUID(),de:t.email,para:g.para,asunto:g.asunto,cuerpo:g.cuerpo,fecha:new Date().toISOString()},B=localStorage.getItem(MC),V=B?JSON.parse(B):[],U=[N,...V];b(U),w(p),r("sent")},k=S=>{window.confirm("Est seguro de que desea eliminar este mensaje?")&&(b(s.filter(N=>N.id!==S)),A(null))},F=S=>{w({para:S.de,asunto:`Re: ${S.asunto}`,cuerpo:`

--- Mensaje Original ---
${S.cuerpo}`}),r("compose")},D=X.useMemo(()=>s.filter(S=>S.para===t.email).sort((S,N)=>new Date(N.fecha).getTime()-new Date(S.fecha).getTime()),[s,t.email]),P=X.useMemo(()=>s.filter(S=>S.de===t.email).sort((S,N)=>new Date(N.fecha).getTime()-new Date(S.fecha).getTime()),[s,t.email]);return u.jsxs("div",{className:"bg-white rounded-xl shadow-md flex overflow-hidden min-h-[75vh]",children:[u.jsxs("aside",{className:"w-1/4 md:w-1/5 border-r bg-slate-50 flex flex-col",children:[u.jsx("div",{className:"p-4 border-b",children:u.jsx("button",{onClick:()=>{r("compose"),A(null)},className:"w-full bg-slate-800 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-700",children:"Redactar"})}),u.jsxs("nav",{className:"p-2 space-y-1",children:[u.jsx("button",{onClick:()=>{r("inbox"),A(null)},className:`w-full text-left px-4 py-2 rounded-md font-semibold ${n==="inbox"?"bg-amber-100 text-amber-800":"hover:bg-slate-200"}`,children:"Recibidos"}),u.jsx("button",{onClick:()=>{r("sent"),A(null)},className:`w-full text-left px-4 py-2 rounded-md font-semibold ${n==="sent"?"bg-amber-100 text-amber-800":"hover:bg-slate-200"}`,children:"Enviados"})]})]}),n!=="compose"&&u.jsx("div",{className:"w-1/3 md:w-2/5 border-r overflow-y-auto",children:(n==="inbox"?D:P).map(S=>{const N=n==="inbox"&&!d.messages.includes(S.id);return u.jsxs("div",{onClick:()=>T(S),className:`p-4 border-b cursor-pointer ${(l==null?void 0:l.id)===S.id?"bg-amber-50":"hover:bg-slate-50"}`,children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("p",{className:`font-bold truncate ${N?"text-slate-800":"text-slate-600"}`,children:n==="inbox"?S.de:`Para: ${S.para}`}),N&&u.jsx("span",{className:"h-2.5 w-2.5 bg-blue-500 rounded-full flex-shrink-0 ml-2 mt-1"})]}),u.jsx("p",{className:`truncate text-sm ${N?"text-slate-700 font-semibold":"text-slate-500"}`,children:S.asunto}),u.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(S.fecha).toLocaleString("es-CL")})]},S.id)})}),u.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:n==="compose"?u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Nuevo Mensaje"}),u.jsxs("form",{onSubmit:I,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"para",className:"block text-sm font-medium text-slate-600 mb-1",children:"Para:"}),u.jsxs("select",{id:"para",value:g.para,onChange:S=>w({...g,para:S.target.value}),required:!0,className:"w-full border-slate-300 rounded-md shadow-sm",children:[u.jsx("option",{value:"",children:"Seleccione un destinatario..."}),i.filter(S=>S.email!==t.email).map(S=>u.jsxs("option",{value:S.email,children:[S.nombreCompleto," (",S.email,")"]},S.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"asunto",className:"block text-sm font-medium text-slate-600 mb-1",children:"Asunto:"}),u.jsx("input",{type:"text",id:"asunto",value:g.asunto,onChange:S=>w({...g,asunto:S.target.value}),required:!0,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"cuerpo",className:"block text-sm font-medium text-slate-600 mb-1",children:"Cuerpo del Mensaje:"}),u.jsx("textarea",{id:"cuerpo",value:g.cuerpo,onChange:S=>w({...g,cuerpo:S.target.value}),required:!0,rows:12,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),u.jsx("div",{className:"text-right",children:u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-5 rounded-lg hover:bg-slate-700",children:"Enviar Mensaje"})})]})]}):l?u.jsxs("div",{children:[u.jsxs("div",{className:"border-b pb-4 mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:l.asunto}),u.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:[u.jsx("strong",{children:"De:"})," ",l.de," ",u.jsx("br",{}),u.jsx("strong",{children:"Para:"})," ",l.para," ",u.jsx("br",{}),u.jsx("strong",{children:"Fecha:"})," ",new Date(l.fecha).toLocaleString("es-CL")]})]}),u.jsx("div",{className:"whitespace-pre-wrap text-slate-700",children:l.cuerpo}),u.jsxs("div",{className:"mt-8 pt-4 border-t flex gap-2",children:[n==="inbox"&&u.jsx("button",{onClick:()=>F(l),className:"bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Responder"}),u.jsx("button",{onClick:()=>k(l.id),className:"bg-red-100 text-red-700 font-semibold py-2 px-4 rounded-lg hover:bg-red-200",children:"Eliminar"})]})]}):u.jsx("div",{className:"flex items-center justify-center h-full text-center text-slate-500",children:u.jsx("p",{children:"Seleccione un mensaje para leerlo."})})})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var R_=function(t,e){return R_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},R_(t,e)};function wc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");R_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var D_=function(){return D_=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},D_.apply(this,arguments)};function Vi(t,e,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function o(d){try{A(r.next(d))}catch(h){i(h)}}function l(d){try{A(r.throw(d))}catch(h){i(h)}}function A(d){d.done?a(d.value):s(d.value).then(o,l)}A((r=r.apply(t,[])).next())})}function Ei(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(A){return function(d){return l([A,d])}}function l(A){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=A[0]&2?s.return:A[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,A[1])).done)return a;switch(s=0,a&&(A=[A[0]&2,a.value]),A[0]){case 0:case 1:a=A;break;case 4:return n.label++,{value:A[1],done:!1};case 5:n.label++,s=A[1],A=[0];continue;case 7:A=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(A[0]===6||A[0]===2)){n=0;continue}if(A[0]===3&&(!a||A[1]>a[0]&&A[1]<a[3])){n.label=A[1];break}if(A[0]===6&&n.label<a[1]){n.label=a[1],a=A;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(A);break}a[2]&&n.ops.pop(),n.trys.pop();continue}A=e.call(t,n)}catch(d){A=[6,d],s=0}finally{r=a=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function rv(t,e,n){if(arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||e)}var bu=function(){function t(e,n,r,s){this.left=e,this.top=n,this.width=r,this.height=s}return t.prototype.add=function(e,n,r,s){return new t(this.left+e,this.top+n,this.width+r,this.height+s)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(s){return s.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),iw=function(t,e){return bu.fromClientRect(t,e.getBoundingClientRect())},Gge=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),s=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new bu(0,0,r,s)},ow=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var a=t.charCodeAt(n++);(a&64512)===56320?e.push(((s&1023)<<10)+(a&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},Ks=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,a="";++s<n;){var i=t[s];i<=65535?r.push(i):(i-=65536,r.push((i>>10)+55296,i%1024+56320)),(s+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},WF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zge=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var sv=0;sv<WF.length;sv++)zge[WF.charCodeAt(sv)]=sv;var $F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$p=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var av=0;av<$F.length;av++)$p[$F.charCodeAt(av)]=av;var Kge=function(t){var e=t.length*.75,n=t.length,r,s=0,a,i,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(A)?A:new Uint8Array(A);for(r=0;r<n;r+=4)a=$p[t.charCodeAt(r)],i=$p[t.charCodeAt(r+1)],o=$p[t.charCodeAt(r+2)],l=$p[t.charCodeAt(r+3)],d[s++]=a<<2|i>>4,d[s++]=(i&15)<<4|o>>2,d[s++]=(o&3)<<6|l&63;return A},qge=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},Wge=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Zf=5,l4=11,PC=2,$ge=l4-Zf,a7=65536>>Zf,Yge=1<<Zf,OC=Yge-1,Jge=1024>>Zf,Xge=a7+Jge,Zge=Xge,exe=32,txe=Zge+exe,nxe=65536>>l4,rxe=1<<$ge,sxe=rxe-1,YF=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},axe=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},ixe=function(t,e){var n=Kge(t),r=Array.isArray(n)?Wge(n):new Uint32Array(n),s=Array.isArray(n)?qge(n):new Uint16Array(n),a=24,i=YF(s,a/2,r[4]/2),o=r[5]===2?YF(s,(a+r[4])/2):axe(r,Math.ceil((a+r[4])/4));return new oxe(r[0],r[1],r[2],r[3],i,o)},oxe=function(){function t(e,n,r,s,a,i){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=a,this.data=i}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Zf],n=(n<<PC)+(e&OC),this.data[n];if(e<=65535)return n=this.index[a7+(e-55296>>Zf)],n=(n<<PC)+(e&OC),this.data[n];if(e<this.highStart)return n=txe-nxe+(e>>l4),n=this.index[n],n+=e>>Zf&sxe,n=this.index[n],n=(n<<PC)+(e&OC),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),JF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lxe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var iv=0;iv<JF.length;iv++)lxe[JF.charCodeAt(iv)]=iv;var cxe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",XF=50,Axe=1,i7=2,o7=3,uxe=4,dxe=5,ZF=7,l7=8,e6=9,kd=10,U_=11,t6=12,L_=13,fxe=14,Yp=15,M_=16,ov=17,Np=18,hxe=19,n6=20,P_=21,kp=22,jC=23,c0=24,Po=25,Jp=26,Xp=27,A0=28,mxe=29,jf=30,pxe=31,lv=32,cv=33,O_=34,j_=35,Q_=36,Jg=37,H_=38,Zv=39,e2=40,QC=41,c7=42,gxe=43,xxe=[9001,65288],A7="!",nr="",Av="",V_=ixe(cxe),ru=[jf,Q_],G_=[Axe,i7,o7,dxe],u7=[kd,l7],r6=[Xp,Jp],vxe=G_.concat(u7),s6=[H_,Zv,e2,O_,j_],yxe=[Yp,L_],wxe=function(t,e){e===void 0&&(e="strict");var n=[],r=[],s=[];return t.forEach(function(a,i){var o=V_.get(a);if(o>XF?(s.push(!0),o-=XF):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return r.push(i),n.push(M_);if(o===uxe||o===U_){if(i===0)return r.push(i),n.push(jf);var l=n[i-1];return vxe.indexOf(l)===-1?(r.push(r[i-1]),n.push(l)):(r.push(i),n.push(jf))}if(r.push(i),o===pxe)return n.push(e==="strict"?P_:Jg);if(o===c7||o===mxe)return n.push(jf);if(o===gxe)return a>=131072&&a<=196605||a>=196608&&a<=262141?n.push(Jg):n.push(jf);n.push(o)}),[r,n,s]},HC=function(t,e,n,r){var s=r[n];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var a=n;a<=r.length;){a++;var i=r[a];if(i===e)return!0;if(i!==kd)break}if(s===kd)for(var a=n;a>0;){a--;var o=r[a];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var l=n;l<=r.length;){l++;var i=r[l];if(i===e)return!0;if(i!==kd)break}if(o!==kd)break}return!1},a6=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===kd)n--;else return r}return 0},bxe=function(t,e,n,r,s){if(n[r]===0)return nr;var a=r-1;if(Array.isArray(s)&&s[a]===!0)return nr;var i=a-1,o=a+1,l=e[a],A=i>=0?e[i]:0,d=e[o];if(l===i7&&d===o7)return nr;if(G_.indexOf(l)!==-1)return A7;if(G_.indexOf(d)!==-1||u7.indexOf(d)!==-1)return nr;if(a6(a,e)===l7)return Av;if(V_.get(t[a])===U_||(l===lv||l===cv)&&V_.get(t[o])===U_||l===ZF||d===ZF||l===e6||[kd,L_,Yp].indexOf(l)===-1&&d===e6||[ov,Np,hxe,c0,A0].indexOf(d)!==-1||a6(a,e)===kp||HC(jC,kp,a,e)||HC([ov,Np],P_,a,e)||HC(t6,t6,a,e))return nr;if(l===kd)return Av;if(l===jC||d===jC)return nr;if(d===M_||l===M_)return Av;if([L_,Yp,P_].indexOf(d)!==-1||l===fxe||A===Q_&&yxe.indexOf(l)!==-1||l===A0&&d===Q_||d===n6||ru.indexOf(d)!==-1&&l===Po||ru.indexOf(l)!==-1&&d===Po||l===Xp&&[Jg,lv,cv].indexOf(d)!==-1||[Jg,lv,cv].indexOf(l)!==-1&&d===Jp||ru.indexOf(l)!==-1&&r6.indexOf(d)!==-1||r6.indexOf(l)!==-1&&ru.indexOf(d)!==-1||[Xp,Jp].indexOf(l)!==-1&&(d===Po||[kp,Yp].indexOf(d)!==-1&&e[o+1]===Po)||[kp,Yp].indexOf(l)!==-1&&d===Po||l===Po&&[Po,A0,c0].indexOf(d)!==-1)return nr;if([Po,A0,c0,ov,Np].indexOf(d)!==-1)for(var h=a;h>=0;){var p=e[h];if(p===Po)return nr;if([A0,c0].indexOf(p)!==-1)h--;else break}if([Xp,Jp].indexOf(d)!==-1)for(var h=[ov,Np].indexOf(l)!==-1?i:a;h>=0;){var p=e[h];if(p===Po)return nr;if([A0,c0].indexOf(p)!==-1)h--;else break}if(H_===l&&[H_,Zv,O_,j_].indexOf(d)!==-1||[Zv,O_].indexOf(l)!==-1&&[Zv,e2].indexOf(d)!==-1||[e2,j_].indexOf(l)!==-1&&d===e2||s6.indexOf(l)!==-1&&[n6,Jp].indexOf(d)!==-1||s6.indexOf(d)!==-1&&l===Xp||ru.indexOf(l)!==-1&&ru.indexOf(d)!==-1||l===c0&&ru.indexOf(d)!==-1||ru.concat(Po).indexOf(l)!==-1&&d===kp&&xxe.indexOf(t[o])===-1||ru.concat(Po).indexOf(d)!==-1&&l===Np)return nr;if(l===QC&&d===QC){for(var g=n[a],w=1;g>0&&(g--,e[g]===QC);)w++;if(w%2!==0)return nr}return l===lv&&d===cv?nr:Av},Cxe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=wxe(t,e.lineBreak),r=n[0],s=n[1],a=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(o){return[Po,jf,c7].indexOf(o)!==-1?Jg:o}));var i=e.wordBreak==="keep-all"?a.map(function(o,l){return o&&t[l]>=19968&&t[l]<=40959}):void 0;return[r,s,i]},Exe=function(){function t(e,n,r,s){this.codePoints=e,this.required=n===A7,this.start=r,this.end=s}return t.prototype.slice=function(){return Ks.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),_xe=function(t,e){var n=ow(t),r=Cxe(n,e),s=r[0],a=r[1],i=r[2],o=n.length,l=0,A=0;return{next:function(){if(A>=o)return{done:!0,value:null};for(var d=nr;A<o&&(d=bxe(n,a,s,++A,i))===nr;);if(d!==nr||A===o){var h=new Exe(n,d,l,A);return l=A,{value:h,done:!1}}return{done:!0,value:null}}}},Sxe=1,Txe=2,Tx=4,i6=8,J2=10,o6=47,bg=92,Bxe=9,Nxe=32,uv=34,Ip=61,kxe=35,Ixe=36,Fxe=37,dv=39,fv=40,Fp=41,Rxe=95,uo=45,Dxe=33,Uxe=60,Lxe=62,Mxe=64,Pxe=91,Oxe=93,jxe=61,Qxe=123,hv=63,Hxe=125,l6=124,Vxe=126,Gxe=128,c6=65533,VC=42,Vf=43,zxe=44,Kxe=58,qxe=59,Xg=46,Wxe=0,$xe=8,Yxe=11,Jxe=14,Xxe=31,Zxe=127,tA=-1,d7=48,f7=97,h7=101,e1e=102,t1e=117,n1e=122,m7=65,p7=69,g7=70,r1e=85,s1e=90,Bi=function(t){return t>=d7&&t<=57},a1e=function(t){return t>=55296&&t<=57343},u0=function(t){return Bi(t)||t>=m7&&t<=g7||t>=f7&&t<=e1e},i1e=function(t){return t>=f7&&t<=n1e},o1e=function(t){return t>=m7&&t<=s1e},l1e=function(t){return i1e(t)||o1e(t)},c1e=function(t){return t>=Gxe},mv=function(t){return t===J2||t===Bxe||t===Nxe},X2=function(t){return l1e(t)||c1e(t)||t===Rxe},A6=function(t){return X2(t)||Bi(t)||t===uo},A1e=function(t){return t>=Wxe&&t<=$xe||t===Yxe||t>=Jxe&&t<=Xxe||t===Zxe},xd=function(t,e){return t!==bg?!1:e!==J2},pv=function(t,e,n){return t===uo?X2(e)||xd(e,n):X2(t)?!0:!!(t===bg&&xd(t,e))},GC=function(t,e,n){return t===Vf||t===uo?Bi(e)?!0:e===Xg&&Bi(n):Bi(t===Xg?e:t)},u1e=function(t){var e=0,n=1;(t[e]===Vf||t[e]===uo)&&(t[e]===uo&&(n=-1),e++);for(var r=[];Bi(t[e]);)r.push(t[e++]);var s=r.length?parseInt(Ks.apply(void 0,r),10):0;t[e]===Xg&&e++;for(var a=[];Bi(t[e]);)a.push(t[e++]);var i=a.length,o=i?parseInt(Ks.apply(void 0,a),10):0;(t[e]===p7||t[e]===h7)&&e++;var l=1;(t[e]===Vf||t[e]===uo)&&(t[e]===uo&&(l=-1),e++);for(var A=[];Bi(t[e]);)A.push(t[e++]);var d=A.length?parseInt(Ks.apply(void 0,A),10):0;return n*(s+o*Math.pow(10,-i))*Math.pow(10,l*d)},d1e={type:2},f1e={type:3},h1e={type:4},m1e={type:13},p1e={type:8},g1e={type:21},x1e={type:9},v1e={type:10},y1e={type:11},w1e={type:12},b1e={type:14},gv={type:23},C1e={type:1},E1e={type:25},_1e={type:24},S1e={type:26},T1e={type:27},B1e={type:28},N1e={type:29},k1e={type:31},z_={type:32},x7=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(ow(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==z_;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case uv:return this.consumeStringToken(uv);case kxe:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if(A6(n)||xd(r,s)){var a=pv(n,r,s)?Txe:Sxe,i=this.consumeName();return{type:5,value:i,flags:a}}break;case Ixe:if(this.peekCodePoint(0)===Ip)return this.consumeCodePoint(),m1e;break;case dv:return this.consumeStringToken(dv);case fv:return d1e;case Fp:return f1e;case VC:if(this.peekCodePoint(0)===Ip)return this.consumeCodePoint(),b1e;break;case Vf:if(GC(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case zxe:return h1e;case uo:var o=e,l=this.peekCodePoint(0),A=this.peekCodePoint(1);if(GC(o,l,A))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(pv(o,l,A))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===uo&&A===Lxe)return this.consumeCodePoint(),this.consumeCodePoint(),_1e;break;case Xg:if(GC(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case o6:if(this.peekCodePoint(0)===VC)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===VC&&(d=this.consumeCodePoint(),d===o6))return this.consumeToken();if(d===tA)return this.consumeToken()}break;case Kxe:return S1e;case qxe:return T1e;case Uxe:if(this.peekCodePoint(0)===Dxe&&this.peekCodePoint(1)===uo&&this.peekCodePoint(2)===uo)return this.consumeCodePoint(),this.consumeCodePoint(),E1e;break;case Mxe:var h=this.peekCodePoint(0),p=this.peekCodePoint(1),g=this.peekCodePoint(2);if(pv(h,p,g)){var i=this.consumeName();return{type:7,value:i}}break;case Pxe:return B1e;case bg:if(xd(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Oxe:return N1e;case jxe:if(this.peekCodePoint(0)===Ip)return this.consumeCodePoint(),p1e;break;case Qxe:return y1e;case Hxe:return w1e;case t1e:case r1e:var w=this.peekCodePoint(0),b=this.peekCodePoint(1);return w===Vf&&(u0(b)||b===hv)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case l6:if(this.peekCodePoint(0)===Ip)return this.consumeCodePoint(),x1e;if(this.peekCodePoint(0)===l6)return this.consumeCodePoint(),g1e;break;case Vxe:if(this.peekCodePoint(0)===Ip)return this.consumeCodePoint(),v1e;break;case tA:return z_}return mv(e)?(this.consumeWhiteSpace(),k1e):Bi(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):X2(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Ks(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();u0(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===hv&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var s=parseInt(Ks.apply(void 0,e.map(function(l){return l===hv?d7:l})),16),a=parseInt(Ks.apply(void 0,e.map(function(l){return l===hv?g7:l})),16);return{type:30,start:s,end:a}}var i=parseInt(Ks.apply(void 0,e),16);if(this.peekCodePoint(0)===uo&&u0(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var o=[];u0(n)&&o.length<6;)o.push(n),n=this.consumeCodePoint();var a=parseInt(Ks.apply(void 0,o),16);return{type:30,start:i,end:a}}else return{type:30,start:i,end:i}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===fv?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===fv?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===tA)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===dv||n===uv){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===tA||this.peekCodePoint(0)===Fp)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),gv)}for(;;){var s=this.consumeCodePoint();if(s===tA||s===Fp)return{type:22,value:Ks.apply(void 0,e)};if(mv(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===tA||this.peekCodePoint(0)===Fp?(this.consumeCodePoint(),{type:22,value:Ks.apply(void 0,e)}):(this.consumeBadUrlRemnants(),gv);if(s===uv||s===dv||s===fv||A1e(s))return this.consumeBadUrlRemnants(),gv;if(s===bg)if(xd(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),gv;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;mv(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Fp||e===tA)return;xd(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var s=Math.min(n,e);r+=Ks.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var s=this._value[r];if(s===tA||s===void 0||s===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(s===J2)return this._value.splice(0,r),C1e;if(s===bg){var a=this._value[r+1];a!==tA&&a!==void 0&&(a===J2?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):xd(s,a)&&(n+=this.consumeStringSlice(r),n+=Ks(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=Tx,r=this.peekCodePoint(0);for((r===Vf||r===uo)&&e.push(this.consumeCodePoint());Bi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(r===Xg&&Bi(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=i6;Bi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),s=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((r===p7||r===h7)&&((s===Vf||s===uo)&&Bi(a)||Bi(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=i6;Bi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[u1e(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],s=this.peekCodePoint(0),a=this.peekCodePoint(1),i=this.peekCodePoint(2);if(pv(s,a,i)){var o=this.consumeName();return{type:15,number:n,flags:r,unit:o}}return s===Fxe?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(u0(e)){for(var n=Ks(e);u0(this.peekCodePoint(0))&&n.length<6;)n+=Ks(this.consumeCodePoint());mv(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||a1e(r)||r>1114111?c6:r}return e===tA?c6:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(A6(n))e+=Ks(n);else if(xd(n,this.peekCodePoint(0)))e+=Ks(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),v7=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new x7;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||F1e(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?z_:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Bx=function(t){return t.type===15},Mm=function(t){return t.type===17},Kr=function(t){return t.type===20},I1e=function(t){return t.type===0},K_=function(t,e){return Kr(t)&&t.value===e},y7=function(t){return t.type!==31},pm=function(t){return t.type!==31&&t.type!==4},EA=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},F1e=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},nf=function(t){return t.type===17||t.type===15},ua=function(t){return t.type===16||nf(t)},w7=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ri={type:17,number:0,flags:Tx},c4={type:16,number:50,flags:Tx},Id={type:16,number:100,flags:Tx},Zp=function(t,e,n){var r=t[0],s=t[1];return[Zr(r,e),Zr(typeof s<"u"?s:r,n)]},Zr=function(t,e){if(t.type===16)return t.number/100*e;if(Bx(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},b7="deg",C7="grad",E7="rad",_7="turn",lw={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case b7:return Math.PI*e.number/180;case C7:return Math.PI/200*e.number;case E7:return e.number;case _7:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},S7=function(t){return t.type===15&&(t.unit===b7||t.unit===C7||t.unit===E7||t.unit===_7)},T7=function(t){var e=t.filter(Kr).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ri,ri];case"to top":case"bottom":return _l(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ri,Id];case"to right":case"left":return _l(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Id,Id];case"to bottom":case"top":return _l(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Id,ri];case"to left":case"right":return _l(270)}return 0},_l=function(t){return Math.PI*t/180},Od={name:"color",parse:function(t,e){if(e.type===18){var n=R1e[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),s=e.value.substring(1,2),a=e.value.substring(2,3);return Fd(parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),s=e.value.substring(1,2),a=e.value.substring(2,3),i=e.value.substring(3,4);return Fd(parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16),parseInt(i+i,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),s=e.value.substring(2,4),a=e.value.substring(4,6);return Fd(parseInt(r,16),parseInt(s,16),parseInt(a,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),s=e.value.substring(2,4),a=e.value.substring(4,6),i=e.value.substring(6,8);return Fd(parseInt(r,16),parseInt(s,16),parseInt(a,16),parseInt(i,16)/255)}}if(e.type===20){var o=mu[e.value.toUpperCase()];if(typeof o<"u")return o}return mu.TRANSPARENT}},jd=function(t){return(255&t)===0},Ma=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+r+","+n+","+e/255+")":"rgb("+s+","+r+","+n+")"},Fd=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},u6=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},d6=function(t,e){var n=e.filter(pm);if(n.length===3){var r=n.map(u6),s=r[0],a=r[1],i=r[2];return Fd(s,a,i,1)}if(n.length===4){var o=n.map(u6),s=o[0],a=o[1],i=o[2],l=o[3];return Fd(s,a,i,l)}return 0};function zC(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var f6=function(t,e){var n=e.filter(pm),r=n[0],s=n[1],a=n[2],i=n[3],o=(r.type===17?_l(r.number):lw.parse(t,r))/(Math.PI*2),l=ua(s)?s.number/100:0,A=ua(a)?a.number/100:0,d=typeof i<"u"&&ua(i)?Zr(i,1):1;if(l===0)return Fd(A*255,A*255,A*255,1);var h=A<=.5?A*(l+1):A+l-A*l,p=A*2-h,g=zC(p,h,o+1/3),w=zC(p,h,o),b=zC(p,h,o-1/3);return Fd(g*255,w*255,b*255,d)},R1e={hsl:f6,hsla:f6,rgb:d6,rgba:d6},Cg=function(t,e){return Od.parse(t,v7.create(e).parseComponentValue())},mu={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},D1e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Kr(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},U1e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},cw=function(t,e){var n=Od.parse(t,e[0]),r=e[1];return r&&ua(r)?{color:n,stop:r}:{color:n,stop:null}},h6=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=ri),r.stop===null&&(r.stop=Id);for(var s=[],a=0,i=0;i<t.length;i++){var o=t[i].stop;if(o!==null){var l=Zr(o,e);l>a?s.push(l):s.push(a),a=l}else s.push(null)}for(var A=null,i=0;i<s.length;i++){var d=s[i];if(d===null)A===null&&(A=i);else if(A!==null){for(var h=i-A,p=s[A-1],g=(d-p)/(h+1),w=1;w<=h;w++)s[A+w-1]=g*w;A=null}}return t.map(function(b,E){var T=b.color;return{color:T,stop:Math.max(Math.min(1,s[E]/e),0)}})},L1e=function(t,e,n){var r=e/2,s=n/2,a=Zr(t[0],e)-r,i=s-Zr(t[1],n);return(Math.atan2(i,a)+Math.PI*2)%(Math.PI*2)},M1e=function(t,e,n){var r=typeof t=="number"?t:L1e(t,e,n),s=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),a=e/2,i=n/2,o=s/2,l=Math.sin(r-Math.PI/2)*o,A=Math.cos(r-Math.PI/2)*o;return[s,a-A,a+A,i-l,i+l]},ic=function(t,e){return Math.sqrt(t*t+e*e)},m6=function(t,e,n,r,s){var a=[[0,0],[0,e],[t,0],[t,e]];return a.reduce(function(i,o){var l=o[0],A=o[1],d=ic(n-l,r-A);return(s?d<i.optimumDistance:d>i.optimumDistance)?{optimumCorner:o,optimumDistance:d}:i},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},P1e=function(t,e,n,r,s){var a=0,i=0;switch(t.size){case 0:t.shape===0?a=i=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(a=Math.min(Math.abs(e),Math.abs(e-r)),i=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(t.shape===0)a=i=Math.min(ic(e,n),ic(e,n-s),ic(e-r,n),ic(e-r,n-s));else if(t.shape===1){var o=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(e),Math.abs(e-r)),l=m6(r,s,e,n,!0),A=l[0],d=l[1];a=ic(A-e,(d-n)/o),i=o*a}break;case 1:t.shape===0?a=i=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(a=Math.max(Math.abs(e),Math.abs(e-r)),i=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(t.shape===0)a=i=Math.max(ic(e,n),ic(e,n-s),ic(e-r,n),ic(e-r,n-s));else if(t.shape===1){var o=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(e),Math.abs(e-r)),h=m6(r,s,e,n,!1),A=h[0],d=h[1];a=ic(A-e,(d-n)/o),i=o*a}break}return Array.isArray(t.size)&&(a=Zr(t.size[0],r),i=t.size.length===2?Zr(t.size[1],s):a),[a,i]},O1e=function(t,e){var n=_l(180),r=[];return EA(e).forEach(function(s,a){if(a===0){var i=s[0];if(i.type===20&&i.value==="to"){n=T7(s);return}else if(S7(i)){n=lw.parse(t,i);return}}var o=cw(t,s);r.push(o)}),{angle:n,stops:r,type:1}},xv=function(t,e){var n=_l(180),r=[];return EA(e).forEach(function(s,a){if(a===0){var i=s[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){n=T7(s);return}else if(S7(i)){n=(lw.parse(t,i)+_l(270))%_l(360);return}}var o=cw(t,s);r.push(o)}),{angle:n,stops:r,type:1}},j1e=function(t,e){var n=_l(180),r=[],s=1,a=0,i=3,o=[];return EA(e).forEach(function(l,A){var d=l[0];if(A===0){if(Kr(d)&&d.value==="linear"){s=1;return}else if(Kr(d)&&d.value==="radial"){s=2;return}}if(d.type===18){if(d.name==="from"){var h=Od.parse(t,d.values[0]);r.push({stop:ri,color:h})}else if(d.name==="to"){var h=Od.parse(t,d.values[0]);r.push({stop:Id,color:h})}else if(d.name==="color-stop"){var p=d.values.filter(pm);if(p.length===2){var h=Od.parse(t,p[1]),g=p[0];Mm(g)&&r.push({stop:{type:16,number:g.number*100,flags:g.flags},color:h})}}}}),s===1?{angle:(n+_l(180))%_l(360),stops:r,type:s}:{size:i,shape:a,stops:r,position:o,type:s}},B7="closest-side",N7="farthest-side",k7="closest-corner",I7="farthest-corner",F7="circle",R7="ellipse",D7="cover",U7="contain",Q1e=function(t,e){var n=0,r=3,s=[],a=[];return EA(e).forEach(function(i,o){var l=!0;if(o===0){var A=!1;l=i.reduce(function(h,p){if(A)if(Kr(p))switch(p.value){case"center":return a.push(c4),h;case"top":case"left":return a.push(ri),h;case"right":case"bottom":return a.push(Id),h}else(ua(p)||nf(p))&&a.push(p);else if(Kr(p))switch(p.value){case F7:return n=0,!1;case R7:return n=1,!1;case"at":return A=!0,!1;case B7:return r=0,!1;case D7:case N7:return r=1,!1;case U7:case k7:return r=2,!1;case I7:return r=3,!1}else if(nf(p)||ua(p))return Array.isArray(r)||(r=[]),r.push(p),!1;return h},l)}if(l){var d=cw(t,i);s.push(d)}}),{size:r,shape:n,stops:s,position:a,type:2}},vv=function(t,e){var n=0,r=3,s=[],a=[];return EA(e).forEach(function(i,o){var l=!0;if(o===0?l=i.reduce(function(d,h){if(Kr(h))switch(h.value){case"center":return a.push(c4),!1;case"top":case"left":return a.push(ri),!1;case"right":case"bottom":return a.push(Id),!1}else if(ua(h)||nf(h))return a.push(h),!1;return d},l):o===1&&(l=i.reduce(function(d,h){if(Kr(h))switch(h.value){case F7:return n=0,!1;case R7:return n=1,!1;case U7:case B7:return r=0,!1;case N7:return r=1,!1;case k7:return r=2,!1;case D7:case I7:return r=3,!1}else if(nf(h)||ua(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return d},l)),l){var A=cw(t,i);s.push(A)}}),{size:r,shape:n,stops:s,position:a,type:2}},H1e=function(t){return t.type===1},V1e=function(t){return t.type===2},A4={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=L7[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function G1e(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!L7[t.name])}var L7={"linear-gradient":O1e,"-moz-linear-gradient":xv,"-ms-linear-gradient":xv,"-o-linear-gradient":xv,"-webkit-linear-gradient":xv,"radial-gradient":Q1e,"-moz-radial-gradient":vv,"-ms-radial-gradient":vv,"-o-radial-gradient":vv,"-webkit-radial-gradient":vv,"-webkit-gradient":j1e},z1e={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return pm(r)&&G1e(r)}).map(function(r){return A4.parse(t,r)})}},K1e={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Kr(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},q1e={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return EA(e).map(function(n){return n.filter(ua)}).map(w7)}},W1e={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return EA(e).map(function(n){return n.filter(Kr).map(function(r){return r.value}).join(" ")}).map($1e)}},$1e=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},em;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(em||(em={}));var Y1e={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return EA(e).map(function(n){return n.filter(J1e)})}},J1e=function(t){return Kr(t)||ua(t)},Aw=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},X1e=Aw("top"),Z1e=Aw("right"),eve=Aw("bottom"),tve=Aw("left"),uw=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return w7(n.filter(ua))}}},nve=uw("top-left"),rve=uw("top-right"),sve=uw("bottom-right"),ave=uw("bottom-left"),dw=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ive=dw("top"),ove=dw("right"),lve=dw("bottom"),cve=dw("left"),fw=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return Bx(n)?n.number:0}}},Ave=fw("top"),uve=fw("right"),dve=fw("bottom"),fve=fw("left"),hve={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},mve={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},pve={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Kr).reduce(function(n,r){return n|gve(r.value)},0)}},gve=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},xve={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},vve={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Z2;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Z2||(Z2={}));var yve={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Z2.STRICT;case"normal":default:return Z2.NORMAL}}},wve={name:"line-height",initialValue:"normal",prefix:!1,type:4},p6=function(t,e){return Kr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:ua(t)?Zr(t,e):e},bve={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:A4.parse(t,e)}},Cve={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},q_={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},hw=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Eve=hw("top"),_ve=hw("right"),Sve=hw("bottom"),Tve=hw("left"),Bve={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Kr).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Nve={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},mw=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},kve=mw("top"),Ive=mw("right"),Fve=mw("bottom"),Rve=mw("left"),Dve={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Uve={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Lve={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&K_(e[0],"none")?[]:EA(e).map(function(n){for(var r={color:mu.TRANSPARENT,offsetX:ri,offsetY:ri,blur:ri},s=0,a=0;a<n.length;a++){var i=n[a];nf(i)?(s===0?r.offsetX=i:s===1?r.offsetY=i:r.blur=i,s++):r.color=Od.parse(t,i)}return r})}},Mve={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Pve={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=Qve[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},Ove=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},jve=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),n=e[0],r=e[1];e[2],e[3];var s=e[4],a=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var i=e[12],o=e[13];return e[14],e[15],e.length===16?[n,r,s,a,i,o]:null},Qve={matrix:Ove,matrix3d:jve},g6={type:16,number:50,flags:Tx},Hve=[g6,g6],Vve={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(ua);return n.length!==2?Hve:[n[0],n[1]]}},Gve={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Eg;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Eg||(Eg={}));var zve={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Eg.BREAK_ALL;case"keep-all":return Eg.KEEP_ALL;case"normal":default:return Eg.NORMAL}}},Kve={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Mm(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},M7={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},qve={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Mm(e)?e.number:1}},Wve={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},$ve={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Kr).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},Yve={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(s){switch(s.type){case 20:case 0:n.push(s.value);break;case 17:n.push(s.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},Jve={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Xve={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Mm(e))return e.number;if(Kr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Zve={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Kr).map(function(n){return n.value})}},e2e={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ba=function(t,e){return(t&e)!==0},t2e={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},n2e={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],s=e.filter(y7),a=0;a<s.length;a++){var i=s[a],o=s[a+1];if(i.type===20){var l=o&&Mm(o)?o.number:1;r.push({counter:i.value,increment:l})}}return r}},r2e={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(y7),s=0;s<r.length;s++){var a=r[s],i=r[s+1];if(Kr(a)&&a.value!=="none"){var o=i&&Mm(i)?i.number:0;n.push({counter:a.value,reset:o})}}return n}},s2e={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Bx).map(function(n){return M7.parse(t,n)})}},a2e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],s=e.filter(I1e);if(s.length%2!==0)return null;for(var a=0;a<s.length;a+=2){var i=s[a].value,o=s[a+1].value;r.push({open:i,close:o})}return r}},x6=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},i2e={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&K_(e[0],"none")?[]:EA(e).map(function(n){for(var r={color:255,offsetX:ri,offsetY:ri,blur:ri,spread:ri,inset:!1},s=0,a=0;a<n.length;a++){var i=n[a];K_(i,"inset")?r.inset=!0:nf(i)?(s===0?r.offsetX=i:s===1?r.offsetY=i:s===2?r.blur=i:r.spread=i,s++):r.color=Od.parse(t,i)}return r})}},o2e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(Kr).forEach(function(s){switch(s.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(s){r.indexOf(s)===-1&&r.push(s)}),r}},l2e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},c2e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Bx(e)?e.number:0}},A2e=function(){function t(e,n){var r,s;this.animationDuration=Kt(e,s2e,n.animationDuration),this.backgroundClip=Kt(e,D1e,n.backgroundClip),this.backgroundColor=Kt(e,U1e,n.backgroundColor),this.backgroundImage=Kt(e,z1e,n.backgroundImage),this.backgroundOrigin=Kt(e,K1e,n.backgroundOrigin),this.backgroundPosition=Kt(e,q1e,n.backgroundPosition),this.backgroundRepeat=Kt(e,W1e,n.backgroundRepeat),this.backgroundSize=Kt(e,Y1e,n.backgroundSize),this.borderTopColor=Kt(e,X1e,n.borderTopColor),this.borderRightColor=Kt(e,Z1e,n.borderRightColor),this.borderBottomColor=Kt(e,eve,n.borderBottomColor),this.borderLeftColor=Kt(e,tve,n.borderLeftColor),this.borderTopLeftRadius=Kt(e,nve,n.borderTopLeftRadius),this.borderTopRightRadius=Kt(e,rve,n.borderTopRightRadius),this.borderBottomRightRadius=Kt(e,sve,n.borderBottomRightRadius),this.borderBottomLeftRadius=Kt(e,ave,n.borderBottomLeftRadius),this.borderTopStyle=Kt(e,ive,n.borderTopStyle),this.borderRightStyle=Kt(e,ove,n.borderRightStyle),this.borderBottomStyle=Kt(e,lve,n.borderBottomStyle),this.borderLeftStyle=Kt(e,cve,n.borderLeftStyle),this.borderTopWidth=Kt(e,Ave,n.borderTopWidth),this.borderRightWidth=Kt(e,uve,n.borderRightWidth),this.borderBottomWidth=Kt(e,dve,n.borderBottomWidth),this.borderLeftWidth=Kt(e,fve,n.borderLeftWidth),this.boxShadow=Kt(e,i2e,n.boxShadow),this.color=Kt(e,hve,n.color),this.direction=Kt(e,mve,n.direction),this.display=Kt(e,pve,n.display),this.float=Kt(e,xve,n.cssFloat),this.fontFamily=Kt(e,Yve,n.fontFamily),this.fontSize=Kt(e,Jve,n.fontSize),this.fontStyle=Kt(e,e2e,n.fontStyle),this.fontVariant=Kt(e,Zve,n.fontVariant),this.fontWeight=Kt(e,Xve,n.fontWeight),this.letterSpacing=Kt(e,vve,n.letterSpacing),this.lineBreak=Kt(e,yve,n.lineBreak),this.lineHeight=Kt(e,wve,n.lineHeight),this.listStyleImage=Kt(e,bve,n.listStyleImage),this.listStylePosition=Kt(e,Cve,n.listStylePosition),this.listStyleType=Kt(e,q_,n.listStyleType),this.marginTop=Kt(e,Eve,n.marginTop),this.marginRight=Kt(e,_ve,n.marginRight),this.marginBottom=Kt(e,Sve,n.marginBottom),this.marginLeft=Kt(e,Tve,n.marginLeft),this.opacity=Kt(e,qve,n.opacity);var a=Kt(e,Bve,n.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=Kt(e,Nve,n.overflowWrap),this.paddingTop=Kt(e,kve,n.paddingTop),this.paddingRight=Kt(e,Ive,n.paddingRight),this.paddingBottom=Kt(e,Fve,n.paddingBottom),this.paddingLeft=Kt(e,Rve,n.paddingLeft),this.paintOrder=Kt(e,o2e,n.paintOrder),this.position=Kt(e,Uve,n.position),this.textAlign=Kt(e,Dve,n.textAlign),this.textDecorationColor=Kt(e,Wve,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=Kt(e,$ve,(s=n.textDecorationLine)!==null&&s!==void 0?s:n.textDecoration),this.textShadow=Kt(e,Lve,n.textShadow),this.textTransform=Kt(e,Mve,n.textTransform),this.transform=Kt(e,Pve,n.transform),this.transformOrigin=Kt(e,Vve,n.transformOrigin),this.visibility=Kt(e,Gve,n.visibility),this.webkitTextStrokeColor=Kt(e,l2e,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Kt(e,c2e,n.webkitTextStrokeWidth),this.wordBreak=Kt(e,zve,n.wordBreak),this.zIndex=Kt(e,Kve,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return jd(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return ba(this.display,4)||ba(this.display,33554432)||ba(this.display,268435456)||ba(this.display,536870912)||ba(this.display,67108864)||ba(this.display,134217728)},t}(),u2e=function(){function t(e,n){this.content=Kt(e,t2e,n.content),this.quotes=Kt(e,a2e,n.quotes)}return t}(),v6=function(){function t(e,n){this.counterIncrement=Kt(e,n2e,n.counterIncrement),this.counterReset=Kt(e,r2e,n.counterReset)}return t}(),Kt=function(t,e,n){var r=new x7,s=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(s);var a=new v7(r.read());switch(e.type){case 2:var i=a.parseComponentValue();return e.parse(t,Kr(i)?i.value:e.initialValue);case 0:return e.parse(t,a.parseComponentValue());case 1:return e.parse(t,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(e.format){case"angle":return lw.parse(t,a.parseComponentValue());case"color":return Od.parse(t,a.parseComponentValue());case"image":return A4.parse(t,a.parseComponentValue());case"length":var o=a.parseComponentValue();return nf(o)?o:ri;case"length-percentage":var l=a.parseComponentValue();return ua(l)?l:ri;case"time":return M7.parse(t,a.parseComponentValue())}break}},d2e="data-html2canvas-debug",f2e=function(t){var e=t.getAttribute(d2e);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},W_=function(t,e){var n=f2e(t);return n===1||e===n},_A=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,W_(n,3))debugger;this.styles=new A2e(e,window.getComputedStyle(n,null)),J_(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=iw(this.context,n),W_(n,4)&&(this.flags|=16)}return t}(),h2e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",y6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var yv=0;yv<y6.length;yv++)eg[y6.charCodeAt(yv)]=yv;var m2e=function(t){var e=t.length*.75,n=t.length,r,s=0,a,i,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(A)?A:new Uint8Array(A);for(r=0;r<n;r+=4)a=eg[t.charCodeAt(r)],i=eg[t.charCodeAt(r+1)],o=eg[t.charCodeAt(r+2)],l=eg[t.charCodeAt(r+3)],d[s++]=a<<2|i>>4,d[s++]=(i&15)<<4|o>>2,d[s++]=(o&3)<<6|l&63;return A},p2e=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},g2e=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},eh=5,u4=11,KC=2,x2e=u4-eh,P7=65536>>eh,v2e=1<<eh,qC=v2e-1,y2e=1024>>eh,w2e=P7+y2e,b2e=w2e,C2e=32,E2e=b2e+C2e,_2e=65536>>u4,S2e=1<<x2e,T2e=S2e-1,w6=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},B2e=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},N2e=function(t,e){var n=m2e(t),r=Array.isArray(n)?g2e(n):new Uint32Array(n),s=Array.isArray(n)?p2e(n):new Uint16Array(n),a=24,i=w6(s,a/2,r[4]/2),o=r[5]===2?w6(s,(a+r[4])/2):B2e(r,Math.ceil((a+r[4])/4));return new k2e(r[0],r[1],r[2],r[3],i,o)},k2e=function(){function t(e,n,r,s,a,i){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=a,this.data=i}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>eh],n=(n<<KC)+(e&qC),this.data[n];if(e<=65535)return n=this.index[P7+(e-55296>>eh)],n=(n<<KC)+(e&qC),this.data[n];if(e<this.highStart)return n=E2e-_2e+(e>>u4),n=this.index[n],n+=e>>eh&T2e,n=this.index[n],n=(n<<KC)+(e&qC),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),b6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I2e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var wv=0;wv<b6.length;wv++)I2e[b6.charCodeAt(wv)]=wv;var F2e=1,WC=2,$C=3,C6=4,E6=5,R2e=7,_6=8,YC=9,JC=10,S6=11,T6=12,B6=13,N6=14,XC=15,D2e=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var a=t.charCodeAt(n++);(a&64512)===56320?e.push(((s&1023)<<10)+(a&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},U2e=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,a="";++s<n;){var i=t[s];i<=65535?r.push(i):(i-=65536,r.push((i>>10)+55296,i%1024+56320)),(s+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},L2e=N2e(h2e),wl="",ZC="",M2e=function(t){return L2e.get(t)},P2e=function(t,e,n){var r=n-2,s=e[r],a=e[n-1],i=e[n];if(a===WC&&i===$C)return wl;if(a===WC||a===$C||a===C6||i===WC||i===$C||i===C6)return ZC;if(a===_6&&[_6,YC,S6,T6].indexOf(i)!==-1||(a===S6||a===YC)&&(i===YC||i===JC)||(a===T6||a===JC)&&i===JC||i===B6||i===E6||i===R2e||a===F2e)return wl;if(a===B6&&i===N6){for(;s===E6;)s=e[--r];if(s===N6)return wl}if(a===XC&&i===XC){for(var o=0;s===XC;)o++,s=e[--r];if(o%2===0)return wl}return ZC},O2e=function(t){var e=D2e(t),n=e.length,r=0,s=0,a=e.map(M2e);return{next:function(){if(r>=n)return{done:!0,value:null};for(var i=wl;r<n&&(i=P2e(e,a,++r))===wl;);if(i!==wl||r===n){var o=U2e.apply(null,e.slice(s,r));return s=r,{value:o,done:!1}}return{done:!0,value:null}}}},j2e=function(t){for(var e=O2e(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},Q2e=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),a=Math.round(s.height);if(t.body.removeChild(r),a===e)return!0}}return!1},H2e=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,s=ow(r.data).map(function(l){return Ks(l)}),a=0,i={},o=s.every(function(l,A){n.setStart(r,a),n.setEnd(r,a+l.length);var d=n.getBoundingClientRect();a+=l.length;var h=d.x>i.x||d.y>i.y;return i=d,A===0?!0:h});return t.body.removeChild(e),o},V2e=function(){return typeof new Image().crossOrigin<"u"},G2e=function(){return typeof new XMLHttpRequest().responseType=="string"},z2e=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},k6=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},K2e=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,a=e.toDataURL();s.src=a;var i=$_(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),I6(i).then(function(o){r.drawImage(o,0,0);var l=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var A=t.createElement("div");return A.style.backgroundImage="url("+a+")",A.style.height=n+"px",k6(l)?I6($_(n,n,0,0,A)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),k6(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},$_=function(t,e,n,r,s){var a="http://www.w3.org/2000/svg",i=document.createElementNS(a,"svg"),o=document.createElementNS(a,"foreignObject");return i.setAttributeNS(null,"width",t.toString()),i.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(s),i},I6=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Xa={get SUPPORT_RANGE_BOUNDS(){var t=Q2e(document);return Object.defineProperty(Xa,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Xa.SUPPORT_RANGE_BOUNDS&&H2e(document);return Object.defineProperty(Xa,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=z2e(document);return Object.defineProperty(Xa,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?K2e(document):Promise.resolve(!1);return Object.defineProperty(Xa,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=V2e();return Object.defineProperty(Xa,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=G2e();return Object.defineProperty(Xa,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Xa,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Xa,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},_g=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),q2e=function(t,e,n,r){var s=Y2e(e,n),a=[],i=0;return s.forEach(function(o){if(n.textDecorationLine.length||o.trim().length>0)if(Xa.SUPPORT_RANGE_BOUNDS){var l=F6(r,i,o.length).getClientRects();if(l.length>1){var A=d4(o),d=0;A.forEach(function(p){a.push(new _g(p,bu.fromDOMRectList(t,F6(r,d+i,p.length).getClientRects()))),d+=p.length})}else a.push(new _g(o,bu.fromDOMRectList(t,l)))}else{var h=r.splitText(o.length);a.push(new _g(o,W2e(t,r))),r=h}else Xa.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));i+=o.length}),a},W2e=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(r,e);var a=iw(t,r);return r.firstChild&&s.replaceChild(r.firstChild,r),a}}return bu.EMPTY},F6=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(t,e),s.setEnd(t,e+n),s},d4=function(t){if(Xa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return j2e(t)},$2e=function(t,e){if(Xa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return X2e(t,e)},Y2e=function(t,e){return e.letterSpacing!==0?d4(t):$2e(t,e)},J2e=[32,160,4961,65792,65793,4153,4241],X2e=function(t,e){for(var n=_xe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],s,a=function(){if(s.value){var i=s.value.slice(),o=ow(i),l="";o.forEach(function(A){J2e.indexOf(A)===-1?l+=Ks(A):(l.length&&r.push(l),r.push(Ks(A)),l="")}),l.length&&r.push(l)}};!(s=n.next()).done;)a();return r},Z2e=function(){function t(e,n,r){this.text=eye(n.data,r.textTransform),this.textBounds=q2e(e,this.text,r,n)}return t}(),eye=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(tye,nye);case 2:return t.toUpperCase();default:return t}},tye=/(^|\s|:|-|\(|\))([a-z])/g,nye=function(t,e,n){return t.length>0?e+n.toUpperCase():t},O7=function(t){wc(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.src=r.currentSrc||r.src,s.intrinsicWidth=r.naturalWidth,s.intrinsicHeight=r.naturalHeight,s.context.cache.addImage(s.src),s}return e}(_A),j7=function(t){wc(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r,s.intrinsicWidth=r.width,s.intrinsicHeight=r.height,s}return e}(_A),Q7=function(t){wc(e,t);function e(n,r){var s=t.call(this,n,r)||this,a=new XMLSerializer,i=iw(n,r);return r.setAttribute("width",i.width+"px"),r.setAttribute("height",i.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(r)),s.intrinsicWidth=r.width.baseVal.value,s.intrinsicHeight=r.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(_A),H7=function(t){wc(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(_A),Y_=function(t){wc(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.start=r.start,s.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,s}return e}(_A),rye=[{type:15,flags:0,unit:"px",number:3}],sye=[{type:16,flags:0,number:50}],aye=function(t){return t.width>t.height?new bu(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new bu(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},iye=function(t){var e=t.type===oye?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},ey="checkbox",ty="radio",oye="password",R6=707406591,f4=function(t){wc(e,t);function e(n,r){var s=t.call(this,n,r)||this;switch(s.type=r.type.toLowerCase(),s.checked=r.checked,s.value=iye(r),(s.type===ey||s.type===ty)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=aye(s.bounds)),s.type){case ey:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=rye;break;case ty:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=sye;break}return s}return e}(_A),V7=function(t){wc(e,t);function e(n,r){var s=t.call(this,n,r)||this,a=r.options[r.selectedIndex||0];return s.value=a&&a.text||"",s}return e}(_A),G7=function(t){wc(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(_A),z7=function(t){wc(e,t);function e(n,r){var s=t.call(this,n,r)||this;s.src=r.src,s.width=parseInt(r.width,10)||0,s.height=parseInt(r.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){s.tree=q7(n,r.contentWindow.document.documentElement);var a=r.contentWindow.document.documentElement?Cg(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):mu.TRANSPARENT,i=r.contentWindow.document.body?Cg(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):mu.TRANSPARENT;s.backgroundColor=jd(a)?jd(i)?s.styles.backgroundColor:i:a}}catch{}return s}return e}(_A),lye=["OL","UL","MENU"],t2=function(t,e,n,r){for(var s=e.firstChild,a=void 0;s;s=a)if(a=s.nextSibling,W7(s)&&s.data.trim().length>0)n.textNodes.push(new Z2e(t,s,n.styles));else if(U0(s))if(X7(s)&&s.assignedNodes)s.assignedNodes().forEach(function(o){return t2(t,o,n,r)});else{var i=K7(t,s);i.styles.isVisible()&&(cye(s,i,r)?i.flags|=4:Aye(i.styles)&&(i.flags|=2),lye.indexOf(s.tagName)!==-1&&(i.flags|=8),n.elements.push(i),s.slot,s.shadowRoot?t2(t,s.shadowRoot,i,r):!ny(s)&&!$7(s)&&!ry(s)&&t2(t,s,i,r))}},K7=function(t,e){return X_(e)?new O7(t,e):Y7(e)?new j7(t,e):$7(e)?new Q7(t,e):uye(e)?new H7(t,e):dye(e)?new Y_(t,e):fye(e)?new f4(t,e):ry(e)?new V7(t,e):ny(e)?new G7(t,e):J7(e)?new z7(t,e):new _A(t,e)},q7=function(t,e){var n=K7(t,e);return n.flags|=4,t2(t,e,n,n),n},cye=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||h4(t)&&n.styles.isTransparent()},Aye=function(t){return t.isPositioned()||t.isFloating()},W7=function(t){return t.nodeType===Node.TEXT_NODE},U0=function(t){return t.nodeType===Node.ELEMENT_NODE},J_=function(t){return U0(t)&&typeof t.style<"u"&&!n2(t)},n2=function(t){return typeof t.className=="object"},uye=function(t){return t.tagName==="LI"},dye=function(t){return t.tagName==="OL"},fye=function(t){return t.tagName==="INPUT"},hye=function(t){return t.tagName==="HTML"},$7=function(t){return t.tagName==="svg"},h4=function(t){return t.tagName==="BODY"},Y7=function(t){return t.tagName==="CANVAS"},D6=function(t){return t.tagName==="VIDEO"},X_=function(t){return t.tagName==="IMG"},J7=function(t){return t.tagName==="IFRAME"},U6=function(t){return t.tagName==="STYLE"},mye=function(t){return t.tagName==="SCRIPT"},ny=function(t){return t.tagName==="TEXTAREA"},ry=function(t){return t.tagName==="SELECT"},X7=function(t){return t.tagName==="SLOT"},L6=function(t){return t.tagName.indexOf("-")>0},pye=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,s=e.counterReset,a=!0;r!==null&&r.forEach(function(o){var l=n.counters[o.counter];l&&o.increment!==0&&(a=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var i=[];return a&&s.forEach(function(o){var l=n.counters[o.counter];i.push(o.counter),l||(l=n.counters[o.counter]=[]),l.push(o.reset)}),i},t}(),M6={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},P6={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},gye={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},xye={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},d0=function(t,e,n,r,s,a){return t<e||t>n?Zg(t,s,a.length>0):r.integers.reduce(function(i,o,l){for(;t>=o;)t-=o,i+=r.values[l];return i},"")+a},Z7=function(t,e,n,r){var s="";do n||t--,s=r(t)+s,t/=e;while(t*e>=e);return s},Gs=function(t,e,n,r,s){var a=n-e+1;return(t<0?"-":"")+(Z7(Math.abs(t),a,r,function(i){return Ks(Math.floor(i%a)+e)})+s)},Rf=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return Z7(Math.abs(t),r,!1,function(s){return e[Math.floor(s%r)]})+n},N0=1,pd=2,gd=4,tg=8,su=function(t,e,n,r,s,a){if(t<-9999||t>9999)return Zg(t,4,s.length>0);var i=Math.abs(t),o=s;if(i===0)return e[0]+o;for(var l=0;i>0&&l<=4;l++){var A=i%10;A===0&&ba(a,N0)&&o!==""?o=e[A]+o:A>1||A===1&&l===0||A===1&&l===1&&ba(a,pd)||A===1&&l===1&&ba(a,gd)&&t>100||A===1&&l>1&&ba(a,tg)?o=e[A]+(l>0?n[l-1]:"")+o:A===1&&l>0&&(o=n[l-1]+o),i=Math.floor(i/10)}return(t<0?r:"")+o},O6="",j6="",Q6="",eE="",Zg=function(t,e,n){var r=n?". ":"",s=n?"":"",a=n?", ":"",i=n?" ":"";switch(e){case 0:return""+i;case 1:return""+i;case 2:return""+i;case 5:var o=Gs(t,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Rf(t,"",s);case 6:return d0(t,1,3999,M6,3,r).toLowerCase();case 7:return d0(t,1,3999,M6,3,r);case 8:return Gs(t,945,969,!1,r);case 9:return Gs(t,97,122,!1,r);case 10:return Gs(t,65,90,!1,r);case 11:return Gs(t,1632,1641,!0,r);case 12:case 49:return d0(t,1,9999,P6,3,r);case 35:return d0(t,1,9999,P6,3,r).toLowerCase();case 13:return Gs(t,2534,2543,!0,r);case 14:case 30:return Gs(t,6112,6121,!0,r);case 15:return Rf(t,"",s);case 16:return Rf(t,"",s);case 17:case 48:return su(t,"",O6,"",s,pd|gd|tg);case 47:return su(t,"",j6,"",s,N0|pd|gd|tg);case 42:return su(t,"",O6,"",s,pd|gd|tg);case 41:return su(t,"",j6,"",s,N0|pd|gd|tg);case 26:return su(t,"","",Q6,s,0);case 25:return su(t,"","",Q6,s,N0|pd|gd);case 31:return su(t,"","",eE,a,N0|pd|gd);case 33:return su(t,"","",eE,a,0);case 32:return su(t,"","",eE,a,N0|pd|gd);case 18:return Gs(t,2406,2415,!0,r);case 20:return d0(t,1,19999,xye,3,r);case 21:return Gs(t,2790,2799,!0,r);case 22:return Gs(t,2662,2671,!0,r);case 22:return d0(t,1,10999,gye,3,r);case 23:return Rf(t,"");case 24:return Rf(t,"");case 27:return Gs(t,3302,3311,!0,r);case 28:return Rf(t,"",s);case 29:return Rf(t,"",s);case 34:return Gs(t,3792,3801,!0,r);case 37:return Gs(t,6160,6169,!0,r);case 38:return Gs(t,4160,4169,!0,r);case 39:return Gs(t,2918,2927,!0,r);case 40:return Gs(t,1776,1785,!0,r);case 43:return Gs(t,3046,3055,!0,r);case 44:return Gs(t,3174,3183,!0,r);case 45:return Gs(t,3664,3673,!0,r);case 46:return Gs(t,3872,3881,!0,r);case 3:default:return Gs(t,48,57,!0,r)}},eO="data-html2canvas-ignore",H6=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new pye,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,s=vye(e,n);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,i=e.defaultView.pageYOffset,o=s.contentWindow,l=o.document,A=bye(s).then(function(){return Vi(r,void 0,void 0,function(){var d,h;return Ei(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(Sye),o&&(o.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==n.top||o.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-n.left,o.scrollY-n.top,0,0))),d=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,wye(l)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,h)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(Eye(document.doctype)+"<html></html>"),_ye(this.referenceElement.ownerDocument,a,i),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),A},t.prototype.createElementClone=function(e){if(W_(e,2))debugger;if(Y7(e))return this.createCanvasClone(e);if(D6(e))return this.createVideoClone(e);if(U6(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return X_(n)&&(X_(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),L6(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return tE(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(a,i){return i&&typeof i.cssText=="string"?a+i.cssText:a},""),s=e.cloneNode(!1);return s.textContent=r,s}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var a=e.getContext("2d"),i=s.getContext("2d");if(i)if(!this.options.allowTaint&&a)i.putImageData(a.getImageData(0,0,e.width,e.height),0,0);else{var o=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}i.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,n,r){(!U0(n)||!mye(n)&&!n.hasAttribute(eO)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!U0(n)||!U6(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var s=this,a=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;a;a=a.nextSibling)if(U0(a)&&X7(a)&&typeof a.assignedNodes=="function"){var i=a.assignedNodes();i.length&&i.forEach(function(o){return s.appendChildNode(n,o,r)})}else this.appendChildNode(n,a,r)},t.prototype.cloneNode=function(e,n){if(W7(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&U0(e)&&(J_(e)||n2(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var a=r.getComputedStyle(e),i=r.getComputedStyle(e,":before"),o=r.getComputedStyle(e,":after");this.referenceElement===e&&J_(s)&&(this.clonedReferenceElement=s),h4(s)&&Nye(s);var l=this.counters.parse(new v6(this.context,a)),A=this.resolvePseudoContent(e,s,i,Sg.BEFORE);L6(e)&&(n=!0),D6(e)||this.cloneChildNodes(e,s,n),A&&s.insertBefore(A,s.firstChild);var d=this.resolvePseudoContent(e,s,o,Sg.AFTER);return d&&s.appendChild(d),this.counters.pop(l),(a&&(this.options.copyStyles||n2(e))&&!J7(e)||n)&&tE(a,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(ny(e)||ry(e))&&(ny(s)||ry(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,s){var a=this;if(r){var i=r.content,o=n.ownerDocument;if(!(!o||!i||i==="none"||i==="-moz-alt-content"||r.display==="none")){this.counters.parse(new v6(this.context,r));var l=new u2e(this.context,r),A=o.createElement("html2canvaspseudoelement");tE(r,A),l.content.forEach(function(h){if(h.type===0)A.appendChild(o.createTextNode(h.value));else if(h.type===22){var p=o.createElement("img");p.src=h.value,p.style.opacity="1",A.appendChild(p)}else if(h.type===18){if(h.name==="attr"){var g=h.values.filter(Kr);g.length&&A.appendChild(o.createTextNode(e.getAttribute(g[0].value)||""))}else if(h.name==="counter"){var w=h.values.filter(pm),b=w[0],E=w[1];if(b&&Kr(b)){var T=a.counters.getCounterValue(b.value),I=E&&Kr(E)?q_.parse(a.context,E.value):3;A.appendChild(o.createTextNode(Zg(T,I,!1)))}}else if(h.name==="counters"){var k=h.values.filter(pm),b=k[0],F=k[1],E=k[2];if(b&&Kr(b)){var D=a.counters.getCounterValues(b.value),P=E&&Kr(E)?q_.parse(a.context,E.value):3,S=F&&F.type===0?F.value:"",N=D.map(function(U){return Zg(U,P,!1)}).join(S);A.appendChild(o.createTextNode(N))}}}else if(h.type===20)switch(h.value){case"open-quote":A.appendChild(o.createTextNode(x6(l.quotes,a.quoteDepth++,!0)));break;case"close-quote":A.appendChild(o.createTextNode(x6(l.quotes,--a.quoteDepth,!1)));break;default:A.appendChild(o.createTextNode(h.value))}}),A.className=Z_+" "+eS;var d=s===Sg.BEFORE?" "+Z_:" "+eS;return n2(n)?n.className.baseValue+=d:n.className+=d,A}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Sg;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Sg||(Sg={}));var vye=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(eO,"true"),t.body.appendChild(n),n},yye=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},wye=function(t){return Promise.all([].slice.call(t.images,0).map(yye))},bye=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var a=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(a),e(t))},50)}})},Cye=["all","d","content"],tE=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);Cye.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},Eye=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},_ye=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},Sye=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},Tye=":before",Bye=":after",Z_="___html2canvas___pseudoelement_before",eS="___html2canvas___pseudoelement_after",V6=`{
    content: "" !important;
    display: none !important;
}`,Nye=function(t){kye(t,"."+Z_+Tye+V6+`
         .`+eS+Bye+V6)},kye=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},tO=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Iye=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(rE(e)||Uye(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Vi(this,void 0,void 0,function(){var n,r,s,a,i=this;return Ei(this,function(o){switch(o.label){case 0:return n=tO.isSameOrigin(e),r=!nE(e)&&this._options.useCORS===!0&&Xa.SUPPORT_CORS_IMAGES&&!n,s=!nE(e)&&!n&&!rE(e)&&typeof this._options.proxy=="string"&&Xa.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!nE(e)&&!rE(e)&&!s&&!r?[2]:(a=e,s?[4,this.proxy(a)]:[3,2]);case 1:a=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,A){var d=new Image;d.onload=function(){return l(d)},d.onerror=A,(Lye(a)||r)&&(d.crossOrigin="anonymous"),d.src=a,d.complete===!0&&setTimeout(function(){return l(d)},500),i._options.imageTimeout>0&&setTimeout(function(){return A("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(a,i){var o=Xa.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")a(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return a(h.result)},!1),h.addEventListener("error",function(p){return i(p)},!1),h.readAsDataURL(l.response)}else i("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=i;var A=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+A+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),n._options.imageTimeout){var d=n._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return i("Timed out ("+d+"ms) proxying "+s)}}l.send()})},t}(),Fye=/^data:image\/svg\+xml/i,Rye=/^data:image\/.*;base64,/i,Dye=/^data:image\/.*/i,Uye=function(t){return Xa.SUPPORT_SVG_DRAWING||!Mye(t)},nE=function(t){return Dye.test(t)},Lye=function(t){return Rye.test(t)},rE=function(t){return t.substr(0,4)==="blob"},Mye=function(t){return t.substr(-3).toLowerCase()==="svg"||Fye.test(t)},zt=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),f0=function(t,e,n){return new zt(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},bv=function(){function t(e,n,r,s){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=s}return t.prototype.subdivide=function(e,n){var r=f0(this.start,this.startControl,e),s=f0(this.startControl,this.endControl,e),a=f0(this.endControl,this.end,e),i=f0(r,s,e),o=f0(s,a,e),l=f0(i,o,e);return n?new t(this.start,r,i,l):new t(l,o,a,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Cl=function(t){return t.type===1},Pye=function(){function t(e){var n=e.styles,r=e.bounds,s=Zp(n.borderTopLeftRadius,r.width,r.height),a=s[0],i=s[1],o=Zp(n.borderTopRightRadius,r.width,r.height),l=o[0],A=o[1],d=Zp(n.borderBottomRightRadius,r.width,r.height),h=d[0],p=d[1],g=Zp(n.borderBottomLeftRadius,r.width,r.height),w=g[0],b=g[1],E=[];E.push((a+l)/r.width),E.push((w+h)/r.width),E.push((i+b)/r.height),E.push((A+p)/r.height);var T=Math.max.apply(Math,E);T>1&&(a/=T,i/=T,l/=T,A/=T,h/=T,p/=T,w/=T,b/=T);var I=r.width-l,k=r.height-p,F=r.width-h,D=r.height-b,P=n.borderTopWidth,S=n.borderRightWidth,N=n.borderBottomWidth,B=n.borderLeftWidth,V=Zr(n.paddingTop,e.bounds.width),U=Zr(n.paddingRight,e.bounds.width),L=Zr(n.paddingBottom,e.bounds.width),j=Zr(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||i>0?fs(r.left+B/3,r.top+P/3,a-B/3,i-P/3,Br.TOP_LEFT):new zt(r.left+B/3,r.top+P/3),this.topRightBorderDoubleOuterBox=a>0||i>0?fs(r.left+I,r.top+P/3,l-S/3,A-P/3,Br.TOP_RIGHT):new zt(r.left+r.width-S/3,r.top+P/3),this.bottomRightBorderDoubleOuterBox=h>0||p>0?fs(r.left+F,r.top+k,h-S/3,p-N/3,Br.BOTTOM_RIGHT):new zt(r.left+r.width-S/3,r.top+r.height-N/3),this.bottomLeftBorderDoubleOuterBox=w>0||b>0?fs(r.left+B/3,r.top+D,w-B/3,b-N/3,Br.BOTTOM_LEFT):new zt(r.left+B/3,r.top+r.height-N/3),this.topLeftBorderDoubleInnerBox=a>0||i>0?fs(r.left+B*2/3,r.top+P*2/3,a-B*2/3,i-P*2/3,Br.TOP_LEFT):new zt(r.left+B*2/3,r.top+P*2/3),this.topRightBorderDoubleInnerBox=a>0||i>0?fs(r.left+I,r.top+P*2/3,l-S*2/3,A-P*2/3,Br.TOP_RIGHT):new zt(r.left+r.width-S*2/3,r.top+P*2/3),this.bottomRightBorderDoubleInnerBox=h>0||p>0?fs(r.left+F,r.top+k,h-S*2/3,p-N*2/3,Br.BOTTOM_RIGHT):new zt(r.left+r.width-S*2/3,r.top+r.height-N*2/3),this.bottomLeftBorderDoubleInnerBox=w>0||b>0?fs(r.left+B*2/3,r.top+D,w-B*2/3,b-N*2/3,Br.BOTTOM_LEFT):new zt(r.left+B*2/3,r.top+r.height-N*2/3),this.topLeftBorderStroke=a>0||i>0?fs(r.left+B/2,r.top+P/2,a-B/2,i-P/2,Br.TOP_LEFT):new zt(r.left+B/2,r.top+P/2),this.topRightBorderStroke=a>0||i>0?fs(r.left+I,r.top+P/2,l-S/2,A-P/2,Br.TOP_RIGHT):new zt(r.left+r.width-S/2,r.top+P/2),this.bottomRightBorderStroke=h>0||p>0?fs(r.left+F,r.top+k,h-S/2,p-N/2,Br.BOTTOM_RIGHT):new zt(r.left+r.width-S/2,r.top+r.height-N/2),this.bottomLeftBorderStroke=w>0||b>0?fs(r.left+B/2,r.top+D,w-B/2,b-N/2,Br.BOTTOM_LEFT):new zt(r.left+B/2,r.top+r.height-N/2),this.topLeftBorderBox=a>0||i>0?fs(r.left,r.top,a,i,Br.TOP_LEFT):new zt(r.left,r.top),this.topRightBorderBox=l>0||A>0?fs(r.left+I,r.top,l,A,Br.TOP_RIGHT):new zt(r.left+r.width,r.top),this.bottomRightBorderBox=h>0||p>0?fs(r.left+F,r.top+k,h,p,Br.BOTTOM_RIGHT):new zt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=w>0||b>0?fs(r.left,r.top+D,w,b,Br.BOTTOM_LEFT):new zt(r.left,r.top+r.height),this.topLeftPaddingBox=a>0||i>0?fs(r.left+B,r.top+P,Math.max(0,a-B),Math.max(0,i-P),Br.TOP_LEFT):new zt(r.left+B,r.top+P),this.topRightPaddingBox=l>0||A>0?fs(r.left+Math.min(I,r.width-S),r.top+P,I>r.width+S?0:Math.max(0,l-S),Math.max(0,A-P),Br.TOP_RIGHT):new zt(r.left+r.width-S,r.top+P),this.bottomRightPaddingBox=h>0||p>0?fs(r.left+Math.min(F,r.width-B),r.top+Math.min(k,r.height-N),Math.max(0,h-S),Math.max(0,p-N),Br.BOTTOM_RIGHT):new zt(r.left+r.width-S,r.top+r.height-N),this.bottomLeftPaddingBox=w>0||b>0?fs(r.left+B,r.top+Math.min(D,r.height-N),Math.max(0,w-B),Math.max(0,b-N),Br.BOTTOM_LEFT):new zt(r.left+B,r.top+r.height-N),this.topLeftContentBox=a>0||i>0?fs(r.left+B+j,r.top+P+V,Math.max(0,a-(B+j)),Math.max(0,i-(P+V)),Br.TOP_LEFT):new zt(r.left+B+j,r.top+P+V),this.topRightContentBox=l>0||A>0?fs(r.left+Math.min(I,r.width+B+j),r.top+P+V,I>r.width+B+j?0:l-B+j,A-(P+V),Br.TOP_RIGHT):new zt(r.left+r.width-(S+U),r.top+P+V),this.bottomRightContentBox=h>0||p>0?fs(r.left+Math.min(F,r.width-(B+j)),r.top+Math.min(k,r.height+P+V),Math.max(0,h-(S+U)),p-(N+L),Br.BOTTOM_RIGHT):new zt(r.left+r.width-(S+U),r.top+r.height-(N+L)),this.bottomLeftContentBox=w>0||b>0?fs(r.left+B+j,r.top+D,Math.max(0,w-(B+j)),b-(N+L),Br.BOTTOM_LEFT):new zt(r.left+B+j,r.top+r.height-(N+L))}return t}(),Br;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Br||(Br={}));var fs=function(t,e,n,r,s){var a=4*((Math.sqrt(2)-1)/3),i=n*a,o=r*a,l=t+n,A=e+r;switch(s){case Br.TOP_LEFT:return new bv(new zt(t,A),new zt(t,A-o),new zt(l-i,e),new zt(l,e));case Br.TOP_RIGHT:return new bv(new zt(t,e),new zt(t+i,e),new zt(l,A-o),new zt(l,A));case Br.BOTTOM_RIGHT:return new bv(new zt(l,e),new zt(l,e+o),new zt(t+i,A),new zt(t,A));case Br.BOTTOM_LEFT:default:return new bv(new zt(l,A),new zt(l-i,A),new zt(t,e+o),new zt(t,e))}},sy=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Oye=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},ay=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},jye=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),Cv=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),Qye=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),Hye=function(t){return t.type===0},nO=function(t){return t.type===1},Vye=function(t){return t.type===2},G6=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},Gye=function(t,e,n,r,s){return t.map(function(a,i){switch(i){case 0:return a.add(e,n);case 1:return a.add(e+r,n);case 2:return a.add(e+r,n+s);case 3:return a.add(e,n+s)}return a})},rO=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),sO=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new Pye(this.container),this.container.styles.opacity<1&&this.effects.push(new Qye(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new jye(r,s,a))}if(this.container.styles.overflowX!==0){var i=sy(this.curves),o=ay(this.curves);G6(i,o)?this.effects.push(new Cv(i,6)):(this.effects.push(new Cv(i,2)),this.effects.push(new Cv(o,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,s=this.effects.slice(0);r;){var a=r.effects.filter(function(l){return!nO(l)});if(n||r.container.styles.position!==0||!r.parent){if(s.unshift.apply(s,a),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var i=sy(r.curves),o=ay(r.curves);G6(i,o)||s.unshift(new Cv(o,6))}}else s.unshift.apply(s,a);r=r.parent}return s.filter(function(l){return ba(l.target,e)})},t}(),tS=function(t,e,n,r){t.container.elements.forEach(function(s){var a=ba(s.flags,4),i=ba(s.flags,2),o=new sO(s,t);ba(s.styles.display,2048)&&r.push(o);var l=ba(s.flags,8)?[]:r;if(a||i){var A=a||s.styles.isPositioned()?n:e,d=new rO(o);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var h=s.styles.zIndex.order;if(h<0){var p=0;A.negativeZIndex.some(function(w,b){return h>w.element.container.styles.zIndex.order?(p=b,!1):p>0}),A.negativeZIndex.splice(p,0,d)}else if(h>0){var g=0;A.positiveZIndex.some(function(w,b){return h>=w.element.container.styles.zIndex.order?(g=b+1,!1):g>0}),A.positiveZIndex.splice(g,0,d)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else s.styles.isFloating()?A.nonPositionedFloats.push(d):A.nonPositionedInlineLevel.push(d);tS(o,d,a?d:n,l)}else s.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),tS(o,e,n,l);ba(s.flags,8)&&aO(s,l)})},aO=function(t,e){for(var n=t instanceof Y_?t.start:1,r=t instanceof Y_?t.reversed:!1,s=0;s<e.length;s++){var a=e[s];a.container instanceof H7&&typeof a.container.value=="number"&&a.container.value!==0&&(n=a.container.value),a.listValue=Zg(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},zye=function(t){var e=new sO(t,null),n=new rO(e),r=[];return tS(e,n,n,r),aO(e.container,r),n},z6=function(t,e){switch(e){case 0:return Sl(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Sl(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Sl(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Sl(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Kye=function(t,e){switch(e){case 0:return Sl(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Sl(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Sl(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Sl(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},qye=function(t,e){switch(e){case 0:return Sl(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Sl(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Sl(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Sl(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Wye=function(t,e){switch(e){case 0:return Ev(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Ev(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Ev(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Ev(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Ev=function(t,e){var n=[];return Cl(t)?n.push(t.subdivide(.5,!1)):n.push(t),Cl(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},Sl=function(t,e,n,r){var s=[];return Cl(t)?s.push(t.subdivide(.5,!1)):s.push(t),Cl(n)?s.push(n.subdivide(.5,!0)):s.push(n),Cl(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),Cl(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},iO=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},iy=function(t){var e=t.styles,n=t.bounds,r=Zr(e.paddingLeft,n.width),s=Zr(e.paddingRight,n.width),a=Zr(e.paddingTop,n.width),i=Zr(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,a+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+s),-(e.borderTopWidth+e.borderBottomWidth+a+i))},$ye=function(t,e){return t===0?e.bounds:t===2?iy(e):iO(e)},Yye=function(t,e){return t===0?e.bounds:t===2?iy(e):iO(e)},sE=function(t,e,n){var r=$ye(k0(t.styles.backgroundOrigin,e),t),s=Yye(k0(t.styles.backgroundClip,e),t),a=Jye(k0(t.styles.backgroundSize,e),n,r),i=a[0],o=a[1],l=Zp(k0(t.styles.backgroundPosition,e),r.width-i,r.height-o),A=Xye(k0(t.styles.backgroundRepeat,e),l,a,r,s),d=Math.round(r.left+l[0]),h=Math.round(r.top+l[1]);return[A,d,h,i,o]},h0=function(t){return Kr(t)&&t.value===em.AUTO},_v=function(t){return typeof t=="number"},Jye=function(t,e,n){var r=e[0],s=e[1],a=e[2],i=t[0],o=t[1];if(!i)return[0,0];if(ua(i)&&o&&ua(o))return[Zr(i,n.width),Zr(o,n.height)];var l=_v(a);if(Kr(i)&&(i.value===em.CONTAIN||i.value===em.COVER)){if(_v(a)){var A=n.width/n.height;return A<a!=(i.value===em.COVER)?[n.width,n.width/a]:[n.height*a,n.height]}return[n.width,n.height]}var d=_v(r),h=_v(s),p=d||h;if(h0(i)&&(!o||h0(o))){if(d&&h)return[r,s];if(!l&&!p)return[n.width,n.height];if(p&&l){var g=d?r:s*a,w=h?s:r/a;return[g,w]}var b=d?r:n.width,E=h?s:n.height;return[b,E]}if(l){var T=0,I=0;return ua(i)?T=Zr(i,n.width):ua(o)&&(I=Zr(o,n.height)),h0(i)?T=I*a:(!o||h0(o))&&(I=T/a),[T,I]}var k=null,F=null;if(ua(i)?k=Zr(i,n.width):o&&ua(o)&&(F=Zr(o,n.height)),k!==null&&(!o||h0(o))&&(F=d&&h?k/r*s:n.height),F!==null&&h0(i)&&(k=d&&h?F/s*r:n.width),k!==null&&F!==null)return[k,F];throw new Error("Unable to calculate background-size for element")},k0=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},Xye=function(t,e,n,r,s){var a=e[0],i=e[1],o=n[0],l=n[1];switch(t){case 2:return[new zt(Math.round(r.left),Math.round(r.top+i)),new zt(Math.round(r.left+r.width),Math.round(r.top+i)),new zt(Math.round(r.left+r.width),Math.round(l+r.top+i)),new zt(Math.round(r.left),Math.round(l+r.top+i))];case 3:return[new zt(Math.round(r.left+a),Math.round(r.top)),new zt(Math.round(r.left+a+o),Math.round(r.top)),new zt(Math.round(r.left+a+o),Math.round(r.height+r.top)),new zt(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new zt(Math.round(r.left+a),Math.round(r.top+i)),new zt(Math.round(r.left+a+o),Math.round(r.top+i)),new zt(Math.round(r.left+a+o),Math.round(r.top+i+l)),new zt(Math.round(r.left+a),Math.round(r.top+i+l))];default:return[new zt(Math.round(s.left),Math.round(s.top)),new zt(Math.round(s.left+s.width),Math.round(s.top)),new zt(Math.round(s.left+s.width),Math.round(s.height+s.top)),new zt(Math.round(s.left),Math.round(s.height+s.top))]}},Zye="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",K6="Hidden Text",ewe=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),s=this._document.createElement("img"),a=this._document.createElement("span"),i=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",i.appendChild(r),s.src=Zye,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=n,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(K6)),r.appendChild(a),r.appendChild(s);var o=s.offsetTop-a.offsetTop+2;r.removeChild(a),r.appendChild(this._document.createTextNode(K6)),r.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-r.offsetTop+2;return i.removeChild(r),{baseline:o,middle:l}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),oO=function(){function t(e,n){this.context=e,this.options=n}return t}(),twe=1e4,nwe=function(t){wc(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s._activeEffects=[],s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),r.canvas||(s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px"),s.fontMetrics=new ewe(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),s}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(s){return r.applyEffect(s)})},e.prototype.applyEffect=function(n){this.ctx.save(),Vye(n)&&(this.ctx.globalAlpha=n.opacity),Hye(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),nO(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return Vi(this,void 0,void 0,function(){var r;return Ei(this,function(s){switch(s.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return Vi(this,void 0,void 0,function(){return Ei(this,function(r){switch(r.label){case 0:if(ba(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,s){var a=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+s);else{var i=d4(n.text);i.reduce(function(o,l){return a.ctx.fillText(l,o,n.bounds.top+s),o+a.ctx.measureText(l).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),s=owe(n.fontFamily).join(", "),a=Bx(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,a,s].join(" "),s,a]},e.prototype.renderTextNode=function(n,r){return Vi(this,void 0,void 0,function(){var s,a,i,o,l,A,d,h,p=this;return Ei(this,function(g){return s=this.createFontStyle(r),a=s[0],i=s[1],o=s[2],this.ctx.font=a,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(i,o),A=l.baseline,d=l.middle,h=r.paintOrder,n.textBounds.forEach(function(w){h.forEach(function(b){switch(b){case 0:p.ctx.fillStyle=Ma(r.color),p.renderTextWithLetterSpacing(w,r.letterSpacing,A);var E=r.textShadow;E.length&&w.text.trim().length&&(E.slice(0).reverse().forEach(function(T){p.ctx.shadowColor=Ma(T.color),p.ctx.shadowOffsetX=T.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=T.offsetY.number*p.options.scale,p.ctx.shadowBlur=T.blur.number,p.renderTextWithLetterSpacing(w,r.letterSpacing,A)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),r.textDecorationLine.length&&(p.ctx.fillStyle=Ma(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(T){switch(T){case 1:p.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top+A),w.bounds.width,1);break;case 2:p.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top),w.bounds.width,1);break;case 3:p.ctx.fillRect(w.bounds.left,Math.ceil(w.bounds.top+d),w.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&w.text.trim().length&&(p.ctx.strokeStyle=Ma(r.webkitTextStrokeColor),p.ctx.lineWidth=r.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(w.text,w.bounds.left,w.bounds.top+A)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,s){if(s&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var a=iy(n),i=ay(r);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,n.intrinsicWidth,n.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return Vi(this,void 0,void 0,function(){var r,s,a,i,o,l,I,I,A,d,h,p,F,g,w,D,b,E,T,I,k,F,D;return Ei(this,function(P){switch(P.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,s=n.curves,a=r.styles,i=0,o=r.textNodes,P.label=1;case 1:return i<o.length?(l=o[i],[4,this.renderTextNode(l,a)]):[3,4];case 2:P.sent(),P.label=3;case 3:return i++,[3,1];case 4:if(!(r instanceof O7))return[3,8];P.label=5;case 5:return P.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return I=P.sent(),this.renderReplacedElement(r,s,I),[3,8];case 7:return P.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof j7&&this.renderReplacedElement(r,s,r.canvas),!(r instanceof Q7))return[3,12];P.label=9;case 9:return P.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return I=P.sent(),this.renderReplacedElement(r,s,I),[3,12];case 11:return P.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof z7&&r.tree?(A=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,A.render(r.tree)]):[3,14];case 13:d=P.sent(),r.width&&r.height&&this.ctx.drawImage(d,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),P.label=14;case 14:if(r instanceof f4&&(h=Math.min(r.bounds.width,r.bounds.height),r.type===ey?r.checked&&(this.ctx.save(),this.path([new zt(r.bounds.left+h*.39363,r.bounds.top+h*.79),new zt(r.bounds.left+h*.16,r.bounds.top+h*.5549),new zt(r.bounds.left+h*.27347,r.bounds.top+h*.44071),new zt(r.bounds.left+h*.39694,r.bounds.top+h*.5649),new zt(r.bounds.left+h*.72983,r.bounds.top+h*.23),new zt(r.bounds.left+h*.84,r.bounds.top+h*.34085),new zt(r.bounds.left+h*.39363,r.bounds.top+h*.79)]),this.ctx.fillStyle=Ma(R6),this.ctx.fill(),this.ctx.restore()):r.type===ty&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+h/2,r.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ma(R6),this.ctx.fill(),this.ctx.restore())),rwe(r)&&r.value.length){switch(p=this.createFontStyle(a),F=p[0],g=p[1],w=this.fontMetrics.getMetrics(F,g).baseline,this.ctx.font=F,this.ctx.fillStyle=Ma(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=awe(r.styles.textAlign),D=iy(r),b=0,r.styles.textAlign){case 1:b+=D.width/2;break;case 2:b+=D.width;break}E=D.add(b,0,0,-D.height/2+1),this.ctx.save(),this.path([new zt(D.left,D.top),new zt(D.left+D.width,D.top),new zt(D.left+D.width,D.top+D.height),new zt(D.left,D.top+D.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new _g(r.value,E),a.letterSpacing,w),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ba(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(T=r.styles.listStyleImage,T.type!==0)return[3,18];I=void 0,k=T.url,P.label=15;case 15:return P.trys.push([15,17,,18]),[4,this.context.cache.match(k)];case 16:return I=P.sent(),this.ctx.drawImage(I,r.bounds.left-(I.width+10),r.bounds.top),[3,18];case 17:return P.sent(),this.context.logger.error("Error loading list-style-image "+k),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(F=this.createFontStyle(a)[0],this.ctx.font=F,this.ctx.fillStyle=Ma(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",D=new bu(r.bounds.left,r.bounds.top+Zr(r.styles.paddingTop,r.bounds.width),r.bounds.width,p6(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new _g(n.listValue,D),a.letterSpacing,p6(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),P.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return Vi(this,void 0,void 0,function(){var r,s,T,a,i,T,o,l,T,A,d,T,h,p,T,g,w,T,b,E,T;return Ei(this,function(I){switch(I.label){case 0:if(ba(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:I.sent(),r=0,s=n.negativeZIndex,I.label=2;case 2:return r<s.length?(T=s[r],[4,this.renderStack(T)]):[3,5];case 3:I.sent(),I.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:I.sent(),a=0,i=n.nonInlineLevel,I.label=7;case 7:return a<i.length?(T=i[a],[4,this.renderNode(T)]):[3,10];case 8:I.sent(),I.label=9;case 9:return a++,[3,7];case 10:o=0,l=n.nonPositionedFloats,I.label=11;case 11:return o<l.length?(T=l[o],[4,this.renderStack(T)]):[3,14];case 12:I.sent(),I.label=13;case 13:return o++,[3,11];case 14:A=0,d=n.nonPositionedInlineLevel,I.label=15;case 15:return A<d.length?(T=d[A],[4,this.renderStack(T)]):[3,18];case 16:I.sent(),I.label=17;case 17:return A++,[3,15];case 18:h=0,p=n.inlineLevel,I.label=19;case 19:return h<p.length?(T=p[h],[4,this.renderNode(T)]):[3,22];case 20:I.sent(),I.label=21;case 21:return h++,[3,19];case 22:g=0,w=n.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return g<w.length?(T=w[g],[4,this.renderStack(T)]):[3,26];case 24:I.sent(),I.label=25;case 25:return g++,[3,23];case 26:b=0,E=n.positiveZIndex,I.label=27;case 27:return b<E.length?(T=E[b],[4,this.renderStack(T)]):[3,30];case 28:I.sent(),I.label=29;case 29:return b++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(s,a){var i=Cl(s)?s.start:s;a===0?r.ctx.moveTo(i.x,i.y):r.ctx.lineTo(i.x,i.y),Cl(s)&&r.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(n,r,s,a){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(s,a),this.ctx.fill(),this.ctx.translate(-s,-a)},e.prototype.resizeImage=function(n,r,s){var a;if(n.width===r&&n.height===s)return n;var i=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,o=i.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,s);var l=o.getContext("2d");return l.drawImage(n,0,0,n.width,n.height,0,0,r,s),o},e.prototype.renderBackgroundImage=function(n){return Vi(this,void 0,void 0,function(){var r,s,a,i,o,l;return Ei(this,function(A){switch(A.label){case 0:r=n.styles.backgroundImage.length-1,s=function(d){var h,p,g,V,K,Y,j,G,N,w,V,K,Y,j,G,b,E,T,I,k,F,D,P,S,N,B,V,U,L,j,G,se,K,Y,oe,Z,ee,he,O,q,J,ne;return Ei(this,function(ae){switch(ae.label){case 0:if(d.type!==0)return[3,5];h=void 0,p=d.url,ae.label=1;case 1:return ae.trys.push([1,3,,4]),[4,a.context.cache.match(p)];case 2:return h=ae.sent(),[3,4];case 3:return ae.sent(),a.context.logger.error("Error loading background-image "+p),[3,4];case 4:return h&&(g=sE(n,r,[h.width,h.height,h.width/h.height]),V=g[0],K=g[1],Y=g[2],j=g[3],G=g[4],N=a.ctx.createPattern(a.resizeImage(h,j,G),"repeat"),a.renderRepeat(V,N,K,Y)),[3,6];case 5:H1e(d)?(w=sE(n,r,[null,null,null]),V=w[0],K=w[1],Y=w[2],j=w[3],G=w[4],b=M1e(d.angle,j,G),E=b[0],T=b[1],I=b[2],k=b[3],F=b[4],D=document.createElement("canvas"),D.width=j,D.height=G,P=D.getContext("2d"),S=P.createLinearGradient(T,k,I,F),h6(d.stops,E).forEach(function(ue){return S.addColorStop(ue.stop,Ma(ue.color))}),P.fillStyle=S,P.fillRect(0,0,j,G),j>0&&G>0&&(N=a.ctx.createPattern(D,"repeat"),a.renderRepeat(V,N,K,Y))):V1e(d)&&(B=sE(n,r,[null,null,null]),V=B[0],U=B[1],L=B[2],j=B[3],G=B[4],se=d.position.length===0?[c4]:d.position,K=Zr(se[0],j),Y=Zr(se[se.length-1],G),oe=P1e(d,K,Y,j,G),Z=oe[0],ee=oe[1],Z>0&&ee>0&&(he=a.ctx.createRadialGradient(U+K,L+Y,0,U+K,L+Y,Z),h6(d.stops,Z*2).forEach(function(ue){return he.addColorStop(ue.stop,Ma(ue.color))}),a.path(V),a.ctx.fillStyle=he,Z!==ee?(O=n.bounds.left+.5*n.bounds.width,q=n.bounds.top+.5*n.bounds.height,J=ee/Z,ne=1/J,a.ctx.save(),a.ctx.translate(O,q),a.ctx.transform(1,0,0,J,0,0),a.ctx.translate(-O,-q),a.ctx.fillRect(U,ne*(L-q)+q,j,G*ne),a.ctx.restore()):a.ctx.fill())),ae.label=6;case 6:return r--,[2]}})},a=this,i=0,o=n.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return i<o.length?(l=o[i],[5,s(l)]):[3,4];case 2:A.sent(),A.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,s){return Vi(this,void 0,void 0,function(){return Ei(this,function(a){return this.path(z6(s,r)),this.ctx.fillStyle=Ma(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,s,a){return Vi(this,void 0,void 0,function(){var i,o;return Ei(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(n,s,a)]:[3,2];case 1:return l.sent(),[2];case 2:return i=Kye(a,s),this.path(i),this.ctx.fillStyle=Ma(n),this.ctx.fill(),o=qye(a,s),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return Vi(this,void 0,void 0,function(){var r,s,a,i,o,l,A,d,h=this;return Ei(this,function(p){switch(p.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,s=!jd(r.backgroundColor)||r.backgroundImage.length,a=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],i=swe(k0(r.backgroundClip,0),n.curves),s||r.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),jd(r.backgroundColor)||(this.ctx.fillStyle=Ma(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(g){h.ctx.save();var w=sy(n.curves),b=g.inset?0:twe,E=Gye(w,-b+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(h.path(w),h.ctx.clip(),h.mask(E)):(h.mask(w),h.ctx.clip(),h.path(E)),h.ctx.shadowOffsetX=g.offsetX.number+b,h.ctx.shadowOffsetY=g.offsetY.number,h.ctx.shadowColor=Ma(g.color),h.ctx.shadowBlur=g.blur.number,h.ctx.fillStyle=g.inset?Ma(g.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),p.label=2;case 2:o=0,l=0,A=a,p.label=3;case 3:return l<A.length?(d=A[l],d.style!==0&&!jd(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,n.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,n.curves,3)];case 6:return p.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,n.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,n.curves)];case 10:p.sent(),p.label=11;case 11:o++,p.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,s,a,i){return Vi(this,void 0,void 0,function(){var o,l,A,d,h,p,g,w,b,E,T,I,k,F,D,P,D,P;return Ei(this,function(S){return this.ctx.save(),o=Wye(a,s),l=z6(a,s),i===2&&(this.path(l),this.ctx.clip()),Cl(l[0])?(A=l[0].start.x,d=l[0].start.y):(A=l[0].x,d=l[0].y),Cl(l[1])?(h=l[1].end.x,p=l[1].end.y):(h=l[1].x,p=l[1].y),s===0||s===2?g=Math.abs(A-h):g=Math.abs(d-p),this.ctx.beginPath(),i===3?this.formatPath(o):this.formatPath(l.slice(0,2)),w=r<3?r*3:r*2,b=r<3?r*2:r,i===3&&(w=r,b=r),E=!0,g<=w*2?E=!1:g<=w*2+b?(T=g/(2*w+b),w*=T,b*=T):(I=Math.floor((g+b)/(w+b)),k=(g-I*w)/(I-1),F=(g-(I+1)*w)/I,b=F<=0||Math.abs(b-k)<Math.abs(b-F)?k:F),E&&(i===3?this.ctx.setLineDash([0,w+b]):this.ctx.setLineDash([w,b])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Ma(n),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(Cl(l[0])&&(D=l[3],P=l[0],this.ctx.beginPath(),this.formatPath([new zt(D.end.x,D.end.y),new zt(P.start.x,P.start.y)]),this.ctx.stroke()),Cl(l[1])&&(D=l[1],P=l[2],this.ctx.beginPath(),this.formatPath([new zt(D.end.x,D.end.y),new zt(P.start.x,P.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return Vi(this,void 0,void 0,function(){var r;return Ei(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ma(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=zye(n),[4,this.renderStack(r)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(oO),rwe=function(t){return t instanceof G7||t instanceof V7?!0:t instanceof f4&&t.type!==ty&&t.type!==ey},swe=function(t,e){switch(t){case 0:return sy(e);case 2:return Oye(e);case 1:default:return ay(e)}},awe=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},iwe=["-apple-system","system-ui"],owe=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return iwe.indexOf(e)===-1}):t},lwe=function(t){wc(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=r,s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),s}return e.prototype.render=function(n){return Vi(this,void 0,void 0,function(){var r,s;return Ei(this,function(a){switch(a.label){case 0:return r=$_(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,cwe(r)];case 1:return s=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ma(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(oO),cwe=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Awe=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,rv([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,rv([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,rv([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,rv([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),uwe=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new Awe({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new Iye(this,e)}return t.instanceCount=1,t}(),lO=function(t,e){return e===void 0&&(e={}),dwe(t,e)};typeof window<"u"&&tO.setContext(window);var dwe=function(t,e){return Vi(void 0,void 0,void 0,function(){var n,r,s,a,i,o,l,A,d,h,p,g,w,b,E,T,I,k,F,D,S,P,S,N,B,V,U,L,j,G,se,K,Y,oe,Z,ee,he,O,q,J;return Ei(this,function(ne){switch(ne.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return s={allowTaint:(N=e.allowTaint)!==null&&N!==void 0?N:!1,imageTimeout:(B=e.imageTimeout)!==null&&B!==void 0?B:15e3,proxy:e.proxy,useCORS:(V=e.useCORS)!==null&&V!==void 0?V:!1},a=D_({logging:(U=e.logging)!==null&&U!==void 0?U:!0,cache:e.cache},s),i={windowWidth:(L=e.windowWidth)!==null&&L!==void 0?L:r.innerWidth,windowHeight:(j=e.windowHeight)!==null&&j!==void 0?j:r.innerHeight,scrollX:(G=e.scrollX)!==null&&G!==void 0?G:r.pageXOffset,scrollY:(se=e.scrollY)!==null&&se!==void 0?se:r.pageYOffset},o=new bu(i.scrollX,i.scrollY,i.windowWidth,i.windowHeight),l=new uwe(a,o),A=(K=e.foreignObjectRendering)!==null&&K!==void 0?K:!1,d={allowTaint:(Y=e.allowTaint)!==null&&Y!==void 0?Y:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:A,copyStyles:A},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new H6(l,t,d),p=h.clonedReferenceElement,p?[4,h.toIFrame(n,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=ne.sent(),w=h4(p)||hye(p)?Gge(p.ownerDocument):iw(l,p),b=w.width,E=w.height,T=w.left,I=w.top,k=fwe(l,p,e.backgroundColor),F={canvas:e.canvas,backgroundColor:k,scale:(Z=(oe=e.scale)!==null&&oe!==void 0?oe:r.devicePixelRatio)!==null&&Z!==void 0?Z:1,x:((ee=e.x)!==null&&ee!==void 0?ee:0)+T,y:((he=e.y)!==null&&he!==void 0?he:0)+I,width:(O=e.width)!==null&&O!==void 0?O:Math.ceil(b),height:(q=e.height)!==null&&q!==void 0?q:Math.ceil(E)},A?(l.logger.debug("Document cloned, using foreign object rendering"),S=new lwe(l,F),[4,S.render(p)]):[3,3];case 2:return D=ne.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+T+","+I+" with size "+b+"x"+E+" using computed rendering"),l.logger.debug("Starting DOM parsing"),P=q7(l,p),k===P.styles.backgroundColor&&(P.styles.backgroundColor=mu.TRANSPARENT),l.logger.debug("Starting renderer for element at "+F.x+","+F.y+" with size "+F.width+"x"+F.height),S=new nwe(l,F),[4,S.render(P)];case 4:D=ne.sent(),ne.label=5;case 5:return(!((J=e.removeContainer)!==null&&J!==void 0)||J)&&(H6.destroy(g)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,D]}})})},fwe=function(t,e,n){var r=e.ownerDocument,s=r.documentElement?Cg(t,getComputedStyle(r.documentElement).backgroundColor):mu.TRANSPARENT,a=r.body?Cg(t,getComputedStyle(r.body).backgroundColor):mu.TRANSPARENT,i=typeof n=="string"?Cg(t,n):n===null?mu.TRANSPARENT:4294967295;return e===r.documentElement?jd(s)?jd(a)?i:a:s:i};const hwe=Object.freeze(Object.defineProperty({__proto__:null,default:lO},Symbol.toStringTag,{value:"Module"})),q6="planificacionesInterdisciplinarias",W6="entregasTareasInterdisciplinarias",mwe="usuariosLiceo",pwe=({planificaciones:t,onActivityUpdate:e})=>{const[n,r]=X.useState(null),s=X.useMemo(()=>{const l=[];return t.forEach(A=>{A.actividades.forEach(d=>l.push({...d,planId:A.id,type:"activity"})),A.fechasClave.forEach(d=>l.push({id:d.id,planId:A.id,type:"keyDate",nombre:d.nombre,fechaInicio:d.fecha,fechaFin:d.fecha,responsables:A.docentesResponsables,asignaturaPrincipal:"Milestone"}))}),l.sort((A,d)=>new Date(A.fechaInicio).getTime()-new Date(d.fechaInicio).getTime())},[t]),a=X.useCallback(l=>{if(l.type==="keyDate")return{text:"Fecha Clave",color:"bg-slate-200 text-slate-800 dark:bg-slate-700 dark:text-slate-300"};const A=new Date;A.setHours(0,0,0,0);const d=new Date(`${l.fechaInicio}T00:00:00`),h=new Date(`${l.fechaFin}T00:00:00`);return h<A?{text:"Completado",color:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"}:d<=A&&h>=A?{text:"En Progreso",color:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"}:{text:"Planificado",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"}},[]),i=({name:l})=>{const A=(l||"").split(" ").map(g=>g[0]).join("").toUpperCase(),d=g=>{let w=0;for(let b=0;b<g.length;b++)w=g.charCodeAt(b)+((w<<5)-w);return w},h=["bg-pink-100 text-pink-800 dark:bg-pink-900/50 dark:text-pink-300","bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300","bg-teal-100 text-teal-800 dark:bg-teal-900/50 dark:text-teal-300","bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300","bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300","bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300","bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"],p=Math.abs(d(l))%h.length;return u.jsx("div",{className:`w-9 h-9 rounded-full ${h[p]} flex items-center justify-center font-bold text-sm ring-2 ring-white dark:ring-slate-800`,children:A.slice(0,2)})},o=({data:l,onClose:A,onSave:d})=>{const[h,p]=X.useState(l.activity),g=b=>{p({...h,[b.target.name]:b.target.value})},w=()=>{d(l.planId,h),A()};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-lg p-6 animate-fade-in-up",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:"Editar Actividad"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Nombre"}),u.jsx("input",{name:"nombre",value:h.nombre,onChange:g,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Responsables"}),u.jsx("input",{name:"responsables",value:h.responsables,onChange:g,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Fecha Inicio"}),u.jsx("input",{type:"date",name:"fechaInicio",value:h.fechaInicio,onChange:g,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Fecha Fin"}),u.jsx("input",{type:"date",name:"fechaFin",value:h.fechaFin,onChange:g,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[u.jsx("button",{onClick:A,className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 rounded-md font-semibold",children:"Cancelar"}),u.jsx("button",{onClick:w,className:"px-4 py-2 bg-amber-500 text-white rounded-md font-semibold",children:"Guardar"})]})]})})};return s.length===0?u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Cronograma del Proyecto"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Visualice el progreso y las dependencias del proyecto."}),u.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:"No hay actividades para mostrar. Cree una planificacin primero."})]}):u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[u.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-slate-200",children:"Cronograma del Proyecto"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 mb-6",children:"Visualice el progreso y las dependencias del proyecto."}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Tarea"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Estado"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Fecha de Inicio"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Fecha de Fin"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Asignado"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:s.map(l=>{const A=a(l),d=l.type==="activity";return u.jsxs("tr",{className:`${d?"hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer":""}`,onClick:()=>d&&r({planId:l.planId,activity:l}),children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base font-medium text-slate-900 dark:text-slate-200",children:l.nombre}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full ${A.color}`,children:A.text})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-slate-600 dark:text-slate-400",children:l.fechaInicio}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-slate-600 dark:text-slate-400",children:l.fechaFin}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx(i,{name:l.responsables||"N/A"})})]},l.id)})})]})}),n&&u.jsx(o,{data:n,onClose:()=>r(null),onSave:e})]})},gwe=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),xwe=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197M15 21a6 6 0 006-5.197M15 12a4 4 0 110-8 4 4 0 010 8z"})}),vwe=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),u.jsx("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5zm0 0v6"})]}),ywe=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),wwe=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),bwe=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6H8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})}),Cwe=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),Ewe=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),$6=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),hd=({icon:t,label:e,children:n,aiButton:r})=>u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border dark:border-slate-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-3 text-slate-500 dark:text-slate-400 font-medium",children:[t,u.jsx("span",{children:e})]}),r]}),n]}),_we=({initialPlan:t,onSave:e})=>{const[n,r]=X.useState(t||{id:"",nombreProyecto:"",descripcionProyecto:"",asignaturas:[],cursos:[],docentesResponsables:"",objetivos:"",actividades:[],fechasClave:[],indicadoresLogro:"",tareas:[]}),[s,a]=X.useState({nombre:"",fechaInicio:"",fechaFin:"",responsables:"",asignaturaPrincipal:""}),[i,o]=X.useState({nombre:"",fecha:""}),[l,A]=X.useState({instrucciones:"",fechaEntrega:"",recursoUrl:""}),[d,h]=X.useState(!1),[p,g]=X.useState(!1);X.useEffect(()=>{r(t||{id:"",nombreProyecto:"",descripcionProyecto:"",asignaturas:[],cursos:[],docentesResponsables:"",objetivos:"",actividades:[],fechasClave:[],indicadoresLogro:"",tareas:[]})},[t]);const w=async F=>{if(!n.descripcionProyecto.trim()){alert("Por favor, ingrese una descripcin del proyecto para usar la IA.");return}F==="objetivos"?h(!0):g(!0);let D="";F==="objetivos"?D=`Basado en la siguiente descripcin de un proyecto escolar interdisciplinario, genera 3 a 5 objetivos de aprendizaje claros, medibles y concisos. La respuesta debe ser solo el texto de los objetivos, formateado en una lista.
            Descripcin del Proyecto: "${n.descripcionProyecto}"`:D=`Basado en la siguiente descripcin y objetivos de un proyecto escolar interdisciplinario, genera una lista de 5 a 7 indicadores de logro concretos y observables que permitan evaluar el cumplimiento de los objetivos. La respuesta debe ser solo el texto de los indicadores, formateado en una lista.
            Descripcin del Proyecto: "${n.descripcionProyecto}"
            Objetivos (si existen): "${n.objetivos||"An no definidos, genralos a partir de la descripcin."}"`;try{const S=await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:D});r(N=>({...N,[F]:S.text.replace(/(\*\*|\*)/g,"")}))}catch(P){console.error(`Error al generar ${F}`,P),alert(`Hubo un error al generar los ${F}. Intntelo de nuevo.`)}finally{F==="objetivos"?h(!1):g(!1)}},b=F=>{r(D=>({...D,[F.target.name]:F.target.value}))},E=(F,D)=>{r(P=>{const S=P[F],N=S.includes(D)?S.filter(B=>B!==D):[...S,D];return{...P,[F]:N}})},T=()=>{if(!s.nombre||!s.fechaInicio||!s.fechaFin){alert("Nombre y fechas son obligatorios para la actividad.");return}r(F=>({...F,actividades:[...F.actividades,{...s,id:crypto.randomUUID()}]})),a({nombre:"",fechaInicio:"",fechaFin:"",responsables:"",asignaturaPrincipal:""})},I=()=>{!i.nombre||!i.fecha||(r(F=>({...F,fechasClave:[...F.fechasClave,{...i,id:crypto.randomUUID()}]})),o({nombre:"",fecha:""}))},k=()=>{var D;if(!l.instrucciones||!l.fechaEntrega){alert("Instrucciones y fecha son obligatorios para la tarea.");return}const F={id:crypto.randomUUID(),numero:(((D=n.tareas)==null?void 0:D.length)||0)+1,...l};r(P=>({...P,tareas:[...P.tareas||[],F]})),A({instrucciones:"",fechaEntrega:"",recursoUrl:""})};return u.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[u.jsx("div",{className:"text-center mb-12",children:u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-800 dark:text-slate-200",children:"Proyecto Interdisciplinario en Liceo Industrial Recoleta"})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(hd,{icon:u.jsx(gwe,{}),label:"Nombre del Proyecto",children:u.jsx("input",{name:"nombreProyecto",value:n.nombreProyecto,onChange:b,placeholder:"Ingrese el nombre del proyecto...",className:"w-full mt-1 bg-transparent text-lg font-semibold focus:ring-0 border-none p-0 dark:text-slate-200 placeholder:text-slate-400"})}),u.jsx(hd,{icon:u.jsx(xwe,{}),label:"Profesores",children:u.jsx("input",{name:"docentesResponsables",value:n.docentesResponsables,onChange:b,placeholder:"Ingrese nombres separados por comas...",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 dark:text-slate-200 placeholder:text-slate-400"})}),u.jsx(hd,{icon:u.jsx(vwe,{}),label:"Cursos",children:u.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 mt-2",children:_a.map(F=>u.jsx("button",{type:"button",onClick:()=>E("cursos",F),className:`w-full text-center p-2 rounded-md text-sm transition-colors ${n.cursos.includes(F)?"bg-amber-500 text-white font-semibold":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600"}`,children:F},F))})}),u.jsx(hd,{icon:u.jsx(ywe,{}),label:"Asignaturas",children:u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 mt-2",children:Il.map(F=>u.jsx("button",{type:"button",onClick:()=>E("asignaturas",F),className:`w-full text-left p-2 rounded-md text-sm transition-colors ${n.asignaturas.includes(F)?"bg-amber-500 text-white font-semibold":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600"}`,children:F},F))})}),u.jsx(hd,{icon:u.jsx(wwe,{}),label:"Descripcin del Proyecto",children:u.jsx("textarea",{name:"descripcionProyecto",value:n.descripcionProyecto,onChange:b,placeholder:"Detalle aqu la metodologa, el producto final esperado y el propsito del proyecto. Esta informacin es clave para la IA.",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 min-h-[100px] resize-none dark:text-slate-200 placeholder:text-slate-400"})}),u.jsx(hd,{icon:u.jsx(bwe,{}),label:"Objetivos",aiButton:u.jsx("button",{type:"button",onClick:()=>w("objetivos"),disabled:!n.descripcionProyecto.trim()||d,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50",title:"Generar con IA",children:u.jsx($6,{})}),children:d?u.jsx("div",{className:"p-4 text-center",children:"Generando..."}):u.jsx("textarea",{name:"objetivos",value:n.objetivos,onChange:b,placeholder:"Liste los objetivos de aprendizaje...",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 min-h-[80px] resize-none dark:text-slate-200 placeholder:text-slate-400"})}),u.jsx(hd,{icon:u.jsx(Cwe,{}),label:"Indicadores de xito",aiButton:u.jsx("button",{type:"button",onClick:()=>w("indicadoresLogro"),disabled:!n.descripcionProyecto.trim()||p,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50",title:"Generar con IA",children:u.jsx($6,{})}),children:p?u.jsx("div",{className:"p-4 text-center",children:"Generando..."}):u.jsx("textarea",{name:"indicadoresLogro",value:n.indicadoresLogro,onChange:b,placeholder:"Liste los indicadores de logro o evaluacin...",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 min-h-[80px] resize-none dark:text-slate-200 placeholder:text-slate-400"})}),u.jsx(hd,{icon:u.jsx(Ewe,{}),label:"Carta Gantt",children:u.jsxs("div",{className:"space-y-4 mt-2",children:[u.jsxs("div",{className:"space-y-2 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[u.jsx("h4",{className:"text-sm font-semibold",children:"Actividades"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 items-end",children:[u.jsx("input",{value:s.nombre,onChange:F=>a({...s,nombre:F.target.value}),placeholder:"Nombre",className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600 md:col-span-2"}),u.jsx("input",{type:"date",value:s.fechaInicio,onChange:F=>a({...s,fechaInicio:F.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),u.jsx("input",{type:"date",value:s.fechaFin,onChange:F=>a({...s,fechaFin:F.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),u.jsx("button",{onClick:T,className:"bg-slate-200 dark:bg-slate-600 p-2 rounded h-8 text-sm font-semibold",children:"Agregar"})]}),u.jsx("ul",{className:"text-xs",children:n.actividades.map(F=>u.jsx("li",{children:F.nombre},F.id))})]}),u.jsxs("div",{className:"space-y-2 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[u.jsx("h4",{className:"text-sm font-semibold",children:"Fechas Clave (Hitos)"}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 items-end",children:[u.jsx("input",{value:i.nombre,onChange:F=>o({...i,nombre:F.target.value}),placeholder:"Hito",className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600 col-span-1"}),u.jsx("input",{type:"date",value:i.fecha,onChange:F=>o({...i,fecha:F.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),u.jsx("button",{onClick:I,className:"bg-slate-200 dark:bg-slate-600 p-2 rounded h-8 text-sm font-semibold",children:"Agregar"})]}),u.jsx("ul",{className:"text-xs",children:n.fechasClave.map(F=>u.jsxs("li",{children:[F.nombre," (",F.fecha,")"]},F.id))})]}),u.jsxs("div",{className:"space-y-2 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[u.jsx("h4",{className:"text-sm font-semibold",children:"Tareas para Estudiantes"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 items-end",children:[u.jsx("input",{value:l.instrucciones,onChange:F=>A({...l,instrucciones:F.target.value}),placeholder:"Instrucciones",className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600 md:col-span-2"}),u.jsx("input",{type:"date",value:l.fechaEntrega,onChange:F=>A({...l,fechaEntrega:F.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),u.jsx("button",{type:"button",onClick:k,className:"bg-slate-200 dark:bg-slate-600 p-2 rounded h-8 text-sm font-semibold",children:"Agregar"})]}),u.jsx("ul",{className:"text-xs",children:(n.tareas||[]).map(F=>u.jsxs("li",{children:[F.numero,". ",F.instrucciones]},F.id))})]})]})}),u.jsx("div",{className:"flex justify-end pt-6",children:u.jsx("button",{onClick:()=>e(n),className:"px-8 py-3 bg-slate-800 text-white rounded-lg font-semibold hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:t?"Guardar Cambios":"Guardar Proyecto"})})]})]})},Y6=()=>{const[t,e]=X.useState([]),[n,r]=X.useState("list"),[s,a]=X.useState(null),[i,o]=X.useState(null),[l,A]=X.useState(null);X.useEffect(()=>{try{const I=localStorage.getItem(q6);I&&e(JSON.parse(I))}catch(I){console.error("Error al cargar planificaciones interdisciplinarias",I)}},[]);const d=I=>{e(I),localStorage.setItem(q6,JSON.stringify(I))},h=X.useCallback((I,k)=>{const F=t.map(D=>D.id===I?{...D,actividades:D.actividades.map(P=>P.id===k.id?k:P)}:D);d(F)},[t]),p=I=>{d(s?t.map(k=>k.id===s.id?I:k):[{...I,id:crypto.randomUUID()},...t]),r("list"),a(null)},g=I=>{a(I),r("form")},w=I=>{window.confirm("Est seguro de eliminar esta planificacin?")&&d(t.filter(k=>k.id!==I))},b=()=>{a(null),r("form")},E=async I=>{o(I.id);const k=new sn("p","mm","a4"),F=15,D=k.internal.pageSize.getWidth(),P=k.internal.pageSize.getHeight(),S=D-F*2;let N=F;const B=22,V=14,U=11,L=()=>{k.setFont("helvetica","normal"),k.setFontSize(9),k.setTextColor(150),k.text("Proyecto Interdisciplinario",F,12),k.text("Liceo Industrial de Recoleta",D-F,12,{align:"right"}),k.setDrawColor(220),k.line(F,15,D-F,15)},j=oe=>{N+oe>P-F&&(k.addPage(),L(),N=F+15)},G=(oe,Z)=>{if(!Z||Array.isArray(Z)&&Z.length===0||typeof Z=="string"&&!Z.trim())return;const ee=10;k.setFontSize(U);const he=Array.isArray(Z)?Z.join(", "):String(Z),O=k.splitTextToSize(he,S),q=O.length*(U*.35*1.15);j(ee+q+12),k.setFont("helvetica","bold"),k.setFontSize(V),k.setTextColor(40),k.text(oe,F,N),N+=6,k.setDrawColor(200),k.line(F,N,F+30,N),N+=8,k.setFont("helvetica","normal"),k.setFontSize(U),k.setTextColor(80),k.text(O,F,N),N+=q+12};L(),N=F+20,k.setFont("helvetica","bold"),k.setFontSize(B),k.setTextColor(0);const se=k.splitTextToSize(I.nombreProyecto,S);if(k.text(se,F,N),N+=se.length*(B*.4)+10,Nl(k,{startY:N,body:[[{content:"Docentes Responsables:",styles:{fontStyle:"bold"}},I.docentesResponsables],[{content:"Cursos Involucrados:",styles:{fontStyle:"bold"}},I.cursos.join(", ")],[{content:"Asignaturas:",styles:{fontStyle:"bold"}},I.asignaturas.join(", ")]],theme:"grid",styles:{fontSize:U,cellPadding:3,lineColor:[220,220,220]},columnStyles:{0:{cellWidth:50,fontStyle:"bold"}}}),N=k.lastAutoTable.finalY+15,G("Descripcin del Proyecto",I.descripcionProyecto),G("Objetivos de Aprendizaje",I.objetivos),G("Indicadores de Logro",I.indicadoresLogro),I.tareas&&I.tareas.length>0){const oe=I.tareas.map(ee=>[ee.numero.toString(),ee.instrucciones,ee.fechaEntrega]),Z=(oe.length+1)*10+15;j(Z+15),k.setFont("helvetica","bold"),k.setFontSize(V),k.setTextColor(40),k.text("Tareas para Estudiantes",F,N),N+=10,Nl(k,{startY:N,head:[["#","Instrucciones","Fecha de Entrega"]],body:oe,theme:"striped",headStyles:{fillColor:[52,73,94]}}),N=k.lastAutoTable.finalY+15}const K=document.getElementById("gantt-container-vertical");if(K)try{const Z=(await lO(K,{scale:2,backgroundColor:"#ffffff"})).toDataURL("image/png");k.addPage(),L(),N=F+15,k.setFont("helvetica","bold"),k.setFontSize(V),k.setTextColor(40),k.text("Cronograma del Proyecto",F,N),N+=10;const ee=k.getImageProperties(Z),he=S,O=ee.height*he/ee.width;k.addImage(Z,"PNG",F,N,he,O)}catch(oe){console.error("Error generating timeline image:",oe)}const Y=k.internal.pages.length-1;for(let oe=1;oe<=Y;oe++)k.setPage(oe),k.setFont("helvetica","normal"),k.setFontSize(9),k.setTextColor(150),k.text(`Pgina ${oe} de ${Y}`,D-F,k.internal.pageSize.getHeight()-10,{align:"right"});k.save(`Proyecto_${I.nombreProyecto.replace(/\s/g,"_")}.pdf`),o(null)},T=({plan:I,onBack:k})=>{var L,j;const[F,D]=X.useState([]),[P,S]=X.useState([]),[N,B]=X.useState(((L=I.tareas)==null?void 0:L[0])||null);X.useEffect(()=>{try{const G=localStorage.getItem(mwe);G&&D(JSON.parse(G));const se=localStorage.getItem(W6);se&&S(JSON.parse(se))}catch(G){console.error(G)}},[]);const V=X.useMemo(()=>F.filter(G=>G.profile===on.ESTUDIANTE&&I.cursos.includes(G.curso||"")).sort((G,se)=>G.nombreCompleto.localeCompare(se.nombreCompleto)),[F,I.cursos]),U=(G,se)=>{const K=P.map(Y=>Y.id===G?{...Y,feedbackProfesor:se,fechaFeedback:new Date().toISOString()}:Y);S(K),localStorage.setItem(W6,JSON.stringify(K))};return N?u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Entregas de Tareas"}),u.jsx("button",{onClick:k,className:"font-semibold",children:" Volver"})]}),u.jsx("select",{value:N.id,onChange:G=>{var se;return B(((se=I.tareas)==null?void 0:se.find(K=>K.id===G.target.value))||null)},className:"mb-4 p-2 border rounded",children:(j=I.tareas)==null?void 0:j.map(G=>u.jsxs("option",{value:G.id,children:["Tarea ",G.numero,": ",G.instrucciones]},G.id))}),u.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:V.map(G=>{const se=P.find(K=>K.planificacionId===I.id&&K.tareaId===N.id&&K.estudianteId===G.id);return u.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50",children:[u.jsxs("p",{className:"font-bold",children:[G.nombreCompleto," - ",se!=null&&se.completada?u.jsx("span",{className:"text-green-600",children:"Entregado"}):u.jsx("span",{className:"text-red-600",children:"Pendiente"})]}),se&&u.jsxs("div",{className:"text-sm mt-2 space-y-2",children:[se.observacionesEstudiante&&u.jsxs("p",{children:[u.jsx("strong",{children:"Comentario:"})," ",se.observacionesEstudiante]}),se.enlaceUrl&&u.jsxs("p",{children:[u.jsx("strong",{children:"Enlace:"})," ",u.jsx("a",{href:se.enlaceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:se.enlaceUrl})]}),se.archivoAdjunto&&u.jsxs("p",{children:[u.jsx("strong",{children:"Archivo:"})," ",u.jsx("a",{href:se.archivoAdjunto.url,download:se.archivoAdjunto.nombre,className:"text-blue-500 hover:underline",children:se.archivoAdjunto.nombre})]}),u.jsx("textarea",{placeholder:"Escribir retroalimentacin...",defaultValue:se.feedbackProfesor||"",onBlur:K=>U(se.id,K.target.value),rows:2,className:"w-full mt-2 p-1 border rounded"})]})]},G.id)})})]}):u.jsx("div",{className:"text-center p-8",children:"Este proyecto no tiene tareas asignadas."})};return l?u.jsx(T,{plan:l,onBack:()=>A(null)}):u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[n==="list"?u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Proyectos Interdisciplinarios"}),u.jsx("button",{onClick:b,className:"bg-slate-800 text-white font-bold py-2 px-5 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Crear Nuevo"})]}),u.jsx("div",{className:"space-y-4",children:t.map(I=>u.jsx("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:I.nombreProyecto}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Cursos: ",I.cursos.join(", ")]})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u.jsx("button",{onClick:()=>A(I),className:"text-green-600 hover:text-green-800 dark:text-green-400 font-semibold text-sm",children:"Ver Entregas"}),u.jsx("button",{onClick:()=>E(I),disabled:i===I.id,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 font-semibold text-sm disabled:opacity-50",children:i===I.id?"Exportando...":"Exportar PDF"}),u.jsx("button",{onClick:()=>g(I),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm",children:"Editar"}),u.jsx("button",{onClick:()=>w(I.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:""})]})]})},I.id))})]}):u.jsx(_we,{initialPlan:s,onSave:p}),t.length>0&&u.jsx("div",{id:"gantt-container-vertical",children:u.jsx(pwe,{planificaciones:t,onActivityUpdate:h})})]})},aE="paolMaquinas",J6="paolRegistros",Swe=()=>{const[t,e]=X.useState([]),[n,r]=X.useState([]),s={fecha:new Date().toISOString().split("T")[0],curso:"",profesorResponsable:"",maquinaId:"",totalHoras:0,observaciones:""},[a,i]=X.useState(s),[o,l]=X.useState(null),A={nombre:"",especialidad:"Industrial"},[d,h]=X.useState(A),[p,g]=X.useState(null),[w,b]=X.useState({maquinaId:"",curso:"",profesor:"",fecha:""});X.useEffect(()=>{try{const L=localStorage.getItem(aE);if(L&&JSON.parse(L).length>0)e(JSON.parse(L));else{const G=[{id:crypto.randomUUID(),nombre:"Torno",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Fresadora",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Rectificadora",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Soldadora MIG",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Soldadora TIG",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Torno CNC",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Elevador",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Compresor",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Rectificadora",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Maqueta de motor",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Maqueta hidrulica",especialidad:"Automotriz"}];e(G),localStorage.setItem(aE,JSON.stringify(G))}const j=localStorage.getItem(J6);j&&r(JSON.parse(j))}catch(L){console.error("Error al cargar datos de Paol desde localStorage",L)}},[]);const E=X.useCallback(L=>{e(L),localStorage.setItem(aE,JSON.stringify(L))},[]),T=X.useCallback(L=>{r(L),localStorage.setItem(J6,JSON.stringify(L))},[]),I=L=>{L.preventDefault(),d.nombre.trim()&&(E(p?t.map(j=>j.id===p.id?{...p,...d}:j):[{...d,id:crypto.randomUUID()},...t]),h(A),g(null))},k=X.useCallback(L=>{if(n.some(j=>j.maquinaId===L)){alert("No se puede eliminar una mquina con registros de uso. Elimine los registros primero.");return}window.confirm("Eliminar esta mquina?")&&E(t.filter(j=>j.id!==L))},[t,n,E]),F=L=>{L.preventDefault();const j=o||a;if(!j.curso||!j.profesorResponsable.trim()||!j.maquinaId||j.totalHoras<=0){alert("Curso, Profesor, Mquina y un Total de Horas mayor a cero son obligatorios.");return}T(o?n.map(G=>G.id===o.id?o:G):[{...a,id:crypto.randomUUID()},...n]),i(s),l(null)},D=X.useCallback(L=>{window.confirm("Eliminar este registro de uso?")&&T(n.filter(j=>j.id!==L))},[n,T]),P=X.useMemo(()=>n.filter(L=>(w.maquinaId===""||L.maquinaId===w.maquinaId)&&(w.curso===""||L.curso===w.curso)&&(w.profesor===""||L.profesorResponsable.toLowerCase().includes(w.profesor.toLowerCase()))&&(w.fecha===""||L.fecha===w.fecha)).sort((L,j)=>new Date(j.fecha).getTime()-new Date(L.fecha).getTime()),[n,w]),S=X.useMemo(()=>new Map(t.map(L=>[L.id,L])),[t]),N=()=>{const L=P.map(se=>{var K,Y;return{Fecha:se.fecha,Curso:se.curso,Profesor:se.profesorResponsable,Mquina:((K=S.get(se.maquinaId))==null?void 0:K.nombre)||"N/A",Especialidad:((Y=S.get(se.maquinaId))==null?void 0:Y.especialidad)||"N/A","Total Horas":se.totalHoras,Observaciones:se.observaciones}}),j=cA.json_to_sheet(L),G=cA.book_new();cA.book_append_sheet(G,j,"RegistrosPaol"),s4(G,"Registros_Paol.xlsx")},B=()=>{const L=new sn;Nl(L,{head:[["Fecha","Curso","Profesor","Mquina","Especialidad","Total Horas","Observaciones"]],body:P.map(j=>{var G,se;return[j.fecha,j.curso,j.profesorResponsable,((G=S.get(j.maquinaId))==null?void 0:G.nombre)||"N/A",((se=S.get(j.maquinaId))==null?void 0:se.especialidad)||"N/A",j.totalHoras,j.observaciones]}),margin:{top:20,right:10,bottom:20,left:10},didDrawPage:j=>{L.setFontSize(10),L.setFont("helvetica","bold"),L.text("LICEO INDUSTRIAL DE RECOLETA",j.settings.margin.left,15)}}),L.save("Registros_Paol.pdf")},V="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",U=()=>{const L=o||a,j=o?l:i;return u.jsxs("form",{onSubmit:F,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Fecha"}),u.jsx("input",{name:"fecha",type:"date",value:L.fecha,onChange:G=>j({...L,fecha:G.target.value}),className:V,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Curso"}),u.jsxs("select",{name:"curso",value:L.curso,onChange:G=>j({...L,curso:G.target.value}),className:V,required:!0,children:[u.jsx("option",{value:"",children:"Curso"}),_a.map(G=>u.jsx("option",{children:G},G))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Profesor"}),u.jsxs("select",{name:"profesorResponsable",value:L.profesorResponsable,onChange:G=>j({...L,profesorResponsable:G.target.value}),className:V,required:!0,children:[u.jsx("option",{value:"",children:"Profesor Responsable"}),KE.map(G=>u.jsx("option",{value:G,children:G},G))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Mquina"}),u.jsxs("select",{name:"maquinaId",value:L.maquinaId,onChange:G=>j({...L,maquinaId:G.target.value}),className:V,required:!0,children:[u.jsx("option",{value:"",children:"Mquina"}),t.map(G=>u.jsx("option",{value:G.id,children:G.nombre},G.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Total de Horas"}),u.jsx("input",{name:"totalHoras",type:"number",value:L.totalHoras,onChange:G=>j({...L,totalHoras:Number(G.target.value)}),className:V,required:!0,min:"0.5",step:"0.5"})]}),u.jsxs("div",{className:"lg:col-span-3",children:[u.jsx("label",{className:"text-sm font-medium",children:"Observaciones"}),u.jsx("textarea",{name:"observaciones",value:L.observaciones,onChange:G=>j({...L,observaciones:G.target.value}),placeholder:"Observaciones...",className:`${V}`,rows:1})]})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[o&&u.jsx("button",{type:"button",onClick:()=>l(null),className:"bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700",children:o?"Actualizar":"Registrar"})]})]})};return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Paol: Registro de Uso de Mquinas"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:o?`Editando Registro #${o.id.substring(0,4)}`:"Nuevo Registro de Uso"}),U()]}),u.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Administrar Mquinas"}),u.jsxs("form",{onSubmit:I,className:"flex gap-2 mb-4",children:[u.jsx("input",{value:d.nombre,onChange:L=>h({...d,nombre:L.target.value}),placeholder:"Nombre mquina",className:V}),u.jsxs("select",{value:d.especialidad,onChange:L=>h({...d,especialidad:L.target.value}),className:V,children:[u.jsx("option",{value:"Industrial",children:"Industrial"}),u.jsx("option",{value:"Automotriz",children:"Automotriz"})]}),u.jsx("button",{type:"submit",className:"bg-slate-200 p-2 rounded-lg font-bold",children:p?"":"+"})]}),u.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto",children:t.map(L=>u.jsxs("li",{className:"flex justify-between items-center bg-slate-50 dark:bg-slate-700 p-2 rounded",children:[u.jsxs("span",{children:[L.nombre," ",u.jsxs("span",{className:"text-xs text-slate-500",children:["(",L.especialidad,")"]})]}),u.jsxs("div",{className:"space-x-2",children:[u.jsx("button",{onClick:()=>{g(L),h(L)},className:"text-blue-500",children:""}),u.jsx("button",{onClick:()=>k(L.id),className:"text-red-500",children:""})]})]},L.id))})]}),u.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Historial de Uso"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:N,className:"text-sm bg-green-100 text-green-700 font-semibold py-1 px-3 rounded-lg",children:"Excel"}),u.jsx("button",{onClick:B,className:"text-sm bg-red-100 text-red-700 font-semibold py-1 px-3 rounded-lg",children:"PDF"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-4",children:[u.jsx("input",{type:"date",value:w.fecha,onChange:L=>b({...w,fecha:L.target.value}),className:V}),u.jsxs("select",{value:w.curso,onChange:L=>b({...w,curso:L.target.value}),className:V,children:[u.jsx("option",{value:"",children:"Todos los Cursos"}),_a.map(L=>u.jsx("option",{children:L},L))]}),u.jsxs("select",{value:w.maquinaId,onChange:L=>b({...w,maquinaId:L.target.value}),className:V,children:[u.jsx("option",{value:"",children:"Todas las Mquinas"}),t.map(L=>u.jsx("option",{value:L.id,children:L.nombre},L.id))]}),u.jsx("input",{value:w.profesor,onChange:L=>b({...w,profesor:L.target.value}),placeholder:"Buscar profesor...",className:V})]}),u.jsx("div",{className:"max-h-96 overflow-y-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Fecha"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Mquina"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Profesor"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Total Horas"}),u.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-slate-500 uppercase",children:"Acciones"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:P.map(L=>{var j;return u.jsxs("tr",{children:[u.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:L.fecha}),u.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium",children:((j=S.get(L.maquinaId))==null?void 0:j.nombre)||"N/A"}),u.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:[L.profesorResponsable," (",L.curso,")"]}),u.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:L.totalHoras}),u.jsxs("td",{className:"px-3 py-2 text-center",children:[u.jsx("button",{onClick:()=>l(L),className:"text-blue-500",children:""}),u.jsx("button",{onClick:()=>D(L.id),className:"text-red-500 ml-2",children:""})]})]},L.id)})})]})})]})]})]})};function qi(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=qi(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var iE={exports:{}},oE={},lE={exports:{}},cE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X6;function Twe(){if(X6)return cE;X6=1;var t=ox();function e(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,a=t.useLayoutEffect,i=t.useDebugValue;function o(h,p){var g=p(),w=r({inst:{value:g,getSnapshot:p}}),b=w[0].inst,E=w[1];return a(function(){b.value=g,b.getSnapshot=p,l(b)&&E({inst:b})},[h,g,p]),s(function(){return l(b)&&E({inst:b}),h(function(){l(b)&&E({inst:b})})},[h]),i(g),g}function l(h){var p=h.getSnapshot;h=h.value;try{var g=p();return!n(h,g)}catch{return!0}}function A(h,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?A:o;return cE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,cE}var Z6;function Bwe(){return Z6||(Z6=1,lE.exports=Twe()),lE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eR;function Nwe(){if(eR)return oE;eR=1;var t=ox(),e=Bwe();function n(A,d){return A===d&&(A!==0||1/A===1/d)||A!==A&&d!==d}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,a=t.useRef,i=t.useEffect,o=t.useMemo,l=t.useDebugValue;return oE.useSyncExternalStoreWithSelector=function(A,d,h,p,g){var w=a(null);if(w.current===null){var b={hasValue:!1,value:null};w.current=b}else b=w.current;w=o(function(){function T(P){if(!I){if(I=!0,k=P,P=p(P),g!==void 0&&b.hasValue){var S=b.value;if(g(S,P))return F=S}return F=P}if(S=F,r(k,P))return S;var N=p(P);return g!==void 0&&g(S,N)?(k=P,S):(k=P,F=N)}var I=!1,k,F,D=h===void 0?null:h;return[function(){return T(d())},D===null?void 0:function(){return T(D())}]},[d,h,p,g]);var E=s(A,w[0],w[1]);return i(function(){b.hasValue=!0,b.value=E},[E]),l(E),E},oE}var tR;function kwe(){return tR||(tR=1,iE.exports=Nwe()),iE.exports}var Iwe=kwe();const Fwe=wS(Iwe),Rwe={},nR=t=>{let e;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const g=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(w=>w(e,g))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>A,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Rwe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},A=e=t(r,s,l);return l},Dwe=t=>t?nR(t):nR,{useDebugValue:Uwe}=ut,{useSyncExternalStoreWithSelector:Lwe}=Fwe,Mwe=t=>t;function cO(t,e=Mwe,n){const r=Lwe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Uwe(r),r}const rR=(t,e)=>{const n=Dwe(t),r=(s,a=e)=>cO(n,s,a);return Object.assign(r,n),r},Pwe=(t,e)=>t?rR(t,e):rR;function Mi(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var Owe={value:()=>{}};function pw(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new r2(n)}function r2(t){this._=t}function jwe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}r2.prototype=pw.prototype={constructor:r2,on:function(t,e){var n=this._,r=jwe(t+"",n),s,a=-1,i=r.length;if(arguments.length<2){for(;++a<i;)if((s=(t=r[a]).type)&&(s=Qwe(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<i;)if(s=(t=r[a]).type)n[s]=sR(n[s],t.name,e);else if(e==null)for(s in n)n[s]=sR(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new r2(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,a;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,s=a.length;r<s;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,a=r.length;s<a;++s)r[s].value.apply(e,n)}};function Qwe(t,e){for(var n=0,r=t.length,s;n<r;++n)if((s=t[n]).name===e)return s.value}function sR(t,e,n){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=Owe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var nS="http://www.w3.org/1999/xhtml";const aR={svg:"http://www.w3.org/2000/svg",xhtml:nS,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gw(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),aR.hasOwnProperty(e)?{space:aR[e],local:t}:t}function Hwe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===nS&&e.documentElement.namespaceURI===nS?e.createElement(t):e.createElementNS(n,t)}}function Vwe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function AO(t){var e=gw(t);return(e.local?Vwe:Hwe)(e)}function Gwe(){}function m4(t){return t==null?Gwe:function(){return this.querySelector(t)}}function zwe(t){typeof t!="function"&&(t=m4(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],i=a.length,o=r[s]=new Array(i),l,A,d=0;d<i;++d)(l=a[d])&&(A=t.call(l,l.__data__,d,a))&&("__data__"in l&&(A.__data__=l.__data__),o[d]=A);return new Ko(r,this._parents)}function Kwe(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function qwe(){return[]}function uO(t){return t==null?qwe:function(){return this.querySelectorAll(t)}}function Wwe(t){return function(){return Kwe(t.apply(this,arguments))}}function $we(t){typeof t=="function"?t=Wwe(t):t=uO(t);for(var e=this._groups,n=e.length,r=[],s=[],a=0;a<n;++a)for(var i=e[a],o=i.length,l,A=0;A<o;++A)(l=i[A])&&(r.push(t.call(l,l.__data__,A,i)),s.push(l));return new Ko(r,s)}function dO(t){return function(){return this.matches(t)}}function fO(t){return function(e){return e.matches(t)}}var Ywe=Array.prototype.find;function Jwe(t){return function(){return Ywe.call(this.children,t)}}function Xwe(){return this.firstElementChild}function Zwe(t){return this.select(t==null?Xwe:Jwe(typeof t=="function"?t:fO(t)))}var ebe=Array.prototype.filter;function tbe(){return Array.from(this.children)}function nbe(t){return function(){return ebe.call(this.children,t)}}function rbe(t){return this.selectAll(t==null?tbe:nbe(typeof t=="function"?t:fO(t)))}function sbe(t){typeof t!="function"&&(t=dO(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],i=a.length,o=r[s]=[],l,A=0;A<i;++A)(l=a[A])&&t.call(l,l.__data__,A,a)&&o.push(l);return new Ko(r,this._parents)}function hO(t){return new Array(t.length)}function abe(){return new Ko(this._enter||this._groups.map(hO),this._parents)}function oy(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}oy.prototype={constructor:oy,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ibe(t){return function(){return t}}function obe(t,e,n,r,s,a){for(var i=0,o,l=e.length,A=a.length;i<A;++i)(o=e[i])?(o.__data__=a[i],r[i]=o):n[i]=new oy(t,a[i]);for(;i<l;++i)(o=e[i])&&(s[i]=o)}function lbe(t,e,n,r,s,a,i){var o,l,A=new Map,d=e.length,h=a.length,p=new Array(d),g;for(o=0;o<d;++o)(l=e[o])&&(p[o]=g=i.call(l,l.__data__,o,e)+"",A.has(g)?s[o]=l:A.set(g,l));for(o=0;o<h;++o)g=i.call(t,a[o],o,a)+"",(l=A.get(g))?(r[o]=l,l.__data__=a[o],A.delete(g)):n[o]=new oy(t,a[o]);for(o=0;o<d;++o)(l=e[o])&&A.get(p[o])===l&&(s[o]=l)}function cbe(t){return t.__data__}function Abe(t,e){if(!arguments.length)return Array.from(this,cbe);var n=e?lbe:obe,r=this._parents,s=this._groups;typeof t!="function"&&(t=ibe(t));for(var a=s.length,i=new Array(a),o=new Array(a),l=new Array(a),A=0;A<a;++A){var d=r[A],h=s[A],p=h.length,g=ube(t.call(d,d&&d.__data__,A,r)),w=g.length,b=o[A]=new Array(w),E=i[A]=new Array(w),T=l[A]=new Array(p);n(d,h,b,E,T,g,e);for(var I=0,k=0,F,D;I<w;++I)if(F=b[I]){for(I>=k&&(k=I+1);!(D=E[k])&&++k<w;);F._next=D||null}}return i=new Ko(i,r),i._enter=o,i._exit=l,i}function ube(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function dbe(){return new Ko(this._exit||this._groups.map(hO),this._parents)}function fbe(t,e,n){var r=this.enter(),s=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?a.remove():n(a),r&&s?r.merge(s).order():s}function hbe(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,s=n.length,a=r.length,i=Math.min(s,a),o=new Array(s),l=0;l<i;++l)for(var A=n[l],d=r[l],h=A.length,p=o[l]=new Array(h),g,w=0;w<h;++w)(g=A[w]||d[w])&&(p[w]=g);for(;l<s;++l)o[l]=n[l];return new Ko(o,this._parents)}function mbe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],s=r.length-1,a=r[s],i;--s>=0;)(i=r[s])&&(a&&i.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(i,a),a=i);return this}function pbe(t){t||(t=gbe);function e(h,p){return h&&p?t(h.__data__,p.__data__):!h-!p}for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a){for(var i=n[a],o=i.length,l=s[a]=new Array(o),A,d=0;d<o;++d)(A=i[d])&&(l[d]=A);l.sort(e)}return new Ko(s,this._parents).order()}function gbe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function xbe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function vbe(){return Array.from(this)}function ybe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,a=r.length;s<a;++s){var i=r[s];if(i)return i}return null}function wbe(){let t=0;for(const e of this)++t;return t}function bbe(){return!this.node()}function Cbe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],a=0,i=s.length,o;a<i;++a)(o=s[a])&&t.call(o,o.__data__,a,s);return this}function Ebe(t){return function(){this.removeAttribute(t)}}function _be(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Sbe(t,e){return function(){this.setAttribute(t,e)}}function Tbe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Bbe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Nbe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function kbe(t,e){var n=gw(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?_be:Ebe:typeof e=="function"?n.local?Nbe:Bbe:n.local?Tbe:Sbe)(n,e))}function mO(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ibe(t){return function(){this.style.removeProperty(t)}}function Fbe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Rbe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Dbe(t,e,n){return arguments.length>1?this.each((e==null?Ibe:typeof e=="function"?Rbe:Fbe)(t,e,n??"")):gm(this.node(),t)}function gm(t,e){return t.style.getPropertyValue(e)||mO(t).getComputedStyle(t,null).getPropertyValue(e)}function Ube(t){return function(){delete this[t]}}function Lbe(t,e){return function(){this[t]=e}}function Mbe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Pbe(t,e){return arguments.length>1?this.each((e==null?Ube:typeof e=="function"?Mbe:Lbe)(t,e)):this.node()[t]}function pO(t){return t.trim().split(/^|\s+/)}function p4(t){return t.classList||new gO(t)}function gO(t){this._node=t,this._names=pO(t.getAttribute("class")||"")}gO.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function xO(t,e){for(var n=p4(t),r=-1,s=e.length;++r<s;)n.add(e[r])}function vO(t,e){for(var n=p4(t),r=-1,s=e.length;++r<s;)n.remove(e[r])}function Obe(t){return function(){xO(this,t)}}function jbe(t){return function(){vO(this,t)}}function Qbe(t,e){return function(){(e.apply(this,arguments)?xO:vO)(this,t)}}function Hbe(t,e){var n=pO(t+"");if(arguments.length<2){for(var r=p4(this.node()),s=-1,a=n.length;++s<a;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?Qbe:e?Obe:jbe)(n,e))}function Vbe(){this.textContent=""}function Gbe(t){return function(){this.textContent=t}}function zbe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Kbe(t){return arguments.length?this.each(t==null?Vbe:(typeof t=="function"?zbe:Gbe)(t)):this.node().textContent}function qbe(){this.innerHTML=""}function Wbe(t){return function(){this.innerHTML=t}}function $be(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Ybe(t){return arguments.length?this.each(t==null?qbe:(typeof t=="function"?$be:Wbe)(t)):this.node().innerHTML}function Jbe(){this.nextSibling&&this.parentNode.appendChild(this)}function Xbe(){return this.each(Jbe)}function Zbe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function eCe(){return this.each(Zbe)}function tCe(t){var e=typeof t=="function"?t:AO(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function nCe(){return null}function rCe(t,e){var n=typeof t=="function"?t:AO(t),r=e==null?nCe:typeof e=="function"?e:m4(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function sCe(){var t=this.parentNode;t&&t.removeChild(this)}function aCe(){return this.each(sCe)}function iCe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function oCe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function lCe(t){return this.select(t?oCe:iCe)}function cCe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ACe(t){return function(e){t.call(this,e,this.__data__)}}function uCe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function dCe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,a;n<s;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function fCe(t,e,n){return function(){var r=this.__on,s,a=ACe(e);if(r){for(var i=0,o=r.length;i<o;++i)if((s=r[i]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=e;return}}this.addEventListener(t.type,a,n),s={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(s):this.__on=[s]}}function hCe(t,e,n){var r=uCe(t+""),s,a=r.length,i;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,A=o.length,d;l<A;++l)for(s=0,d=o[l];s<a;++s)if((i=r[s]).type===d.type&&i.name===d.name)return d.value}return}for(o=e?fCe:dCe,s=0;s<a;++s)this.each(o(r[s],e,n));return this}function yO(t,e,n){var r=mO(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function mCe(t,e){return function(){return yO(this,t,e)}}function pCe(t,e){return function(){return yO(this,t,e.apply(this,arguments))}}function gCe(t,e){return this.each((typeof e=="function"?pCe:mCe)(t,e))}function*xCe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,a=r.length,i;s<a;++s)(i=r[s])&&(yield i)}var wO=[null];function Ko(t,e){this._groups=t,this._parents=e}function Nx(){return new Ko([[document.documentElement]],wO)}function vCe(){return this}Ko.prototype=Nx.prototype={constructor:Ko,select:zwe,selectAll:$we,selectChild:Zwe,selectChildren:rbe,filter:sbe,data:Abe,enter:abe,exit:dbe,join:fbe,merge:hbe,selection:vCe,order:mbe,sort:pbe,call:xbe,nodes:vbe,node:ybe,size:wbe,empty:bbe,each:Cbe,attr:kbe,style:Dbe,property:Pbe,classed:Hbe,text:Kbe,html:Ybe,raise:Xbe,lower:eCe,append:tCe,insert:rCe,remove:aCe,clone:lCe,datum:cCe,on:hCe,dispatch:gCe,[Symbol.iterator]:xCe};function cc(t){return typeof t=="string"?new Ko([[document.querySelector(t)]],[document.documentElement]):new Ko([[t]],wO)}function yCe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function iA(t,e){if(t=yCe(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const wCe={passive:!1},ex={capture:!0,passive:!1};function AE(t){t.stopImmediatePropagation()}function tm(t){t.preventDefault(),t.stopImmediatePropagation()}function bO(t){var e=t.document.documentElement,n=cc(t).on("dragstart.drag",tm,ex);"onselectstart"in e?n.on("selectstart.drag",tm,ex):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function CO(t,e){var n=t.document.documentElement,r=cc(t).on("dragstart.drag",null);e&&(r.on("click.drag",tm,ex),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Sv=t=>()=>t;function rS(t,{sourceEvent:e,subject:n,target:r,identifier:s,active:a,x:i,y:o,dx:l,dy:A,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:A,enumerable:!0,configurable:!0},_:{value:d}})}rS.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function bCe(t){return!t.ctrlKey&&!t.button}function CCe(){return this.parentNode}function ECe(t,e){return e??{x:t.x,y:t.y}}function _Ce(){return navigator.maxTouchPoints||"ontouchstart"in this}function SCe(){var t=bCe,e=CCe,n=ECe,r=_Ce,s={},a=pw("start","drag","end"),i=0,o,l,A,d,h=0;function p(F){F.on("mousedown.drag",g).filter(r).on("touchstart.drag",E).on("touchmove.drag",T,wCe).on("touchend.drag touchcancel.drag",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(F,D){if(!(d||!t.call(this,F,D))){var P=k(this,e.call(this,F,D),F,D,"mouse");P&&(cc(F.view).on("mousemove.drag",w,ex).on("mouseup.drag",b,ex),bO(F.view),AE(F),A=!1,o=F.clientX,l=F.clientY,P("start",F))}}function w(F){if(tm(F),!A){var D=F.clientX-o,P=F.clientY-l;A=D*D+P*P>h}s.mouse("drag",F)}function b(F){cc(F.view).on("mousemove.drag mouseup.drag",null),CO(F.view,A),tm(F),s.mouse("end",F)}function E(F,D){if(t.call(this,F,D)){var P=F.changedTouches,S=e.call(this,F,D),N=P.length,B,V;for(B=0;B<N;++B)(V=k(this,S,F,D,P[B].identifier,P[B]))&&(AE(F),V("start",F,P[B]))}}function T(F){var D=F.changedTouches,P=D.length,S,N;for(S=0;S<P;++S)(N=s[D[S].identifier])&&(tm(F),N("drag",F,D[S]))}function I(F){var D=F.changedTouches,P=D.length,S,N;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),S=0;S<P;++S)(N=s[D[S].identifier])&&(AE(F),N("end",F,D[S]))}function k(F,D,P,S,N,B){var V=a.copy(),U=iA(B||P,D),L,j,G;if((G=n.call(F,new rS("beforestart",{sourceEvent:P,target:p,identifier:N,active:i,x:U[0],y:U[1],dx:0,dy:0,dispatch:V}),S))!=null)return L=G.x-U[0]||0,j=G.y-U[1]||0,function se(K,Y,oe){var Z=U,ee;switch(K){case"start":s[N]=se,ee=i++;break;case"end":delete s[N],--i;case"drag":U=iA(oe||Y,D),ee=i;break}V.call(K,F,new rS(K,{sourceEvent:Y,subject:G,target:p,identifier:N,active:ee,x:U[0]+L,y:U[1]+j,dx:U[0]-Z[0],dy:U[1]-Z[1],dispatch:V}),S)}}return p.filter=function(F){return arguments.length?(t=typeof F=="function"?F:Sv(!!F),p):t},p.container=function(F){return arguments.length?(e=typeof F=="function"?F:Sv(F),p):e},p.subject=function(F){return arguments.length?(n=typeof F=="function"?F:Sv(F),p):n},p.touchable=function(F){return arguments.length?(r=typeof F=="function"?F:Sv(!!F),p):r},p.on=function(){var F=a.on.apply(a,arguments);return F===a?p:F},p.clickDistance=function(F){return arguments.length?(h=(F=+F)*F,p):Math.sqrt(h)},p}function g4(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function EO(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function kx(){}var tx=.7,ly=1/tx,nm="\\s*([+-]?\\d+)\\s*",nx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TCe=/^#([0-9a-f]{3,8})$/,BCe=new RegExp(`^rgb\\(${nm},${nm},${nm}\\)$`),NCe=new RegExp(`^rgb\\(${gA},${gA},${gA}\\)$`),kCe=new RegExp(`^rgba\\(${nm},${nm},${nm},${nx}\\)$`),ICe=new RegExp(`^rgba\\(${gA},${gA},${gA},${nx}\\)$`),FCe=new RegExp(`^hsl\\(${nx},${gA},${gA}\\)$`),RCe=new RegExp(`^hsla\\(${nx},${gA},${gA},${nx}\\)$`),iR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};g4(kx,rx,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:oR,formatHex:oR,formatHex8:DCe,formatHsl:UCe,formatRgb:lR,toString:lR});function oR(){return this.rgb().formatHex()}function DCe(){return this.rgb().formatHex8()}function UCe(){return _O(this).formatHsl()}function lR(){return this.rgb().formatRgb()}function rx(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=TCe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?cR(e):n===3?new ho(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Tv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Tv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=BCe.exec(t))?new ho(e[1],e[2],e[3],1):(e=NCe.exec(t))?new ho(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=kCe.exec(t))?Tv(e[1],e[2],e[3],e[4]):(e=ICe.exec(t))?Tv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=FCe.exec(t))?dR(e[1],e[2]/100,e[3]/100,1):(e=RCe.exec(t))?dR(e[1],e[2]/100,e[3]/100,e[4]):iR.hasOwnProperty(t)?cR(iR[t]):t==="transparent"?new ho(NaN,NaN,NaN,0):null}function cR(t){return new ho(t>>16&255,t>>8&255,t&255,1)}function Tv(t,e,n,r){return r<=0&&(t=e=n=NaN),new ho(t,e,n,r)}function LCe(t){return t instanceof kx||(t=rx(t)),t?(t=t.rgb(),new ho(t.r,t.g,t.b,t.opacity)):new ho}function sS(t,e,n,r){return arguments.length===1?LCe(t):new ho(t,e,n,r??1)}function ho(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}g4(ho,sS,EO(kx,{brighter(t){return t=t==null?ly:Math.pow(ly,t),new ho(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?tx:Math.pow(tx,t),new ho(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ho(th(this.r),th(this.g),th(this.b),cy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AR,formatHex:AR,formatHex8:MCe,formatRgb:uR,toString:uR}));function AR(){return`#${Gf(this.r)}${Gf(this.g)}${Gf(this.b)}`}function MCe(){return`#${Gf(this.r)}${Gf(this.g)}${Gf(this.b)}${Gf((isNaN(this.opacity)?1:this.opacity)*255)}`}function uR(){const t=cy(this.opacity);return`${t===1?"rgb(":"rgba("}${th(this.r)}, ${th(this.g)}, ${th(this.b)}${t===1?")":`, ${t})`}`}function cy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function th(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gf(t){return t=th(t),(t<16?"0":"")+t.toString(16)}function dR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ac(t,e,n,r)}function _O(t){if(t instanceof Ac)return new Ac(t.h,t.s,t.l,t.opacity);if(t instanceof kx||(t=rx(t)),!t)return new Ac;if(t instanceof Ac)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),a=Math.max(e,n,r),i=NaN,o=a-s,l=(a+s)/2;return o?(e===a?i=(n-r)/o+(n<r)*6:n===a?i=(r-e)/o+2:i=(e-n)/o+4,o/=l<.5?a+s:2-a-s,i*=60):o=l>0&&l<1?0:i,new Ac(i,o,l,t.opacity)}function PCe(t,e,n,r){return arguments.length===1?_O(t):new Ac(t,e,n,r??1)}function Ac(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}g4(Ac,PCe,EO(kx,{brighter(t){return t=t==null?ly:Math.pow(ly,t),new Ac(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?tx:Math.pow(tx,t),new Ac(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new ho(uE(t>=240?t-240:t+120,s,r),uE(t,s,r),uE(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new Ac(fR(this.h),Bv(this.s),Bv(this.l),cy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cy(this.opacity);return`${t===1?"hsl(":"hsla("}${fR(this.h)}, ${Bv(this.s)*100}%, ${Bv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fR(t){return t=(t||0)%360,t<0?t+360:t}function Bv(t){return Math.max(0,Math.min(1,t||0))}function uE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const SO=t=>()=>t;function OCe(t,e){return function(n){return t+n*e}}function jCe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function QCe(t){return(t=+t)==1?TO:function(e,n){return n-e?jCe(e,n,t):SO(isNaN(e)?n:e)}}function TO(t,e){var n=e-t;return n?OCe(t,n):SO(isNaN(t)?e:t)}const hR=function t(e){var n=QCe(e);function r(s,a){var i=n((s=sS(s)).r,(a=sS(a)).r),o=n(s.g,a.g),l=n(s.b,a.b),A=TO(s.opacity,a.opacity);return function(d){return s.r=i(d),s.g=o(d),s.b=l(d),s.opacity=A(d),s+""}}return r.gamma=t,r}(1);function vd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var aS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dE=new RegExp(aS.source,"g");function HCe(t){return function(){return t}}function VCe(t){return function(e){return t(e)+""}}function GCe(t,e){var n=aS.lastIndex=dE.lastIndex=0,r,s,a,i=-1,o=[],l=[];for(t=t+"",e=e+"";(r=aS.exec(t))&&(s=dE.exec(e));)(a=s.index)>n&&(a=e.slice(n,a),o[i]?o[i]+=a:o[++i]=a),(r=r[0])===(s=s[0])?o[i]?o[i]+=s:o[++i]=s:(o[++i]=null,l.push({i,x:vd(r,s)})),n=dE.lastIndex;return n<e.length&&(a=e.slice(n),o[i]?o[i]+=a:o[++i]=a),o.length<2?l[0]?VCe(l[0].x):HCe(e):(e=l.length,function(A){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(A);return o.join("")})}var mR=180/Math.PI,iS={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function BO(t,e,n,r,s,a){var i,o,l;return(i=Math.sqrt(t*t+e*e))&&(t/=i,e/=i),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,i=-i),{translateX:s,translateY:a,rotate:Math.atan2(e,t)*mR,skewX:Math.atan(l)*mR,scaleX:i,scaleY:o}}var Nv;function zCe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?iS:BO(e.a,e.b,e.c,e.d,e.e,e.f)}function KCe(t){return t==null||(Nv||(Nv=document.createElementNS("http://www.w3.org/2000/svg","g")),Nv.setAttribute("transform",t),!(t=Nv.transform.baseVal.consolidate()))?iS:(t=t.matrix,BO(t.a,t.b,t.c,t.d,t.e,t.f))}function NO(t,e,n,r){function s(A){return A.length?A.pop()+" ":""}function a(A,d,h,p,g,w){if(A!==h||d!==p){var b=g.push("translate(",null,e,null,n);w.push({i:b-4,x:vd(A,h)},{i:b-2,x:vd(d,p)})}else(h||p)&&g.push("translate("+h+e+p+n)}function i(A,d,h,p){A!==d?(A-d>180?d+=360:d-A>180&&(A+=360),p.push({i:h.push(s(h)+"rotate(",null,r)-2,x:vd(A,d)})):d&&h.push(s(h)+"rotate("+d+r)}function o(A,d,h,p){A!==d?p.push({i:h.push(s(h)+"skewX(",null,r)-2,x:vd(A,d)}):d&&h.push(s(h)+"skewX("+d+r)}function l(A,d,h,p,g,w){if(A!==h||d!==p){var b=g.push(s(g)+"scale(",null,",",null,")");w.push({i:b-4,x:vd(A,h)},{i:b-2,x:vd(d,p)})}else(h!==1||p!==1)&&g.push(s(g)+"scale("+h+","+p+")")}return function(A,d){var h=[],p=[];return A=t(A),d=t(d),a(A.translateX,A.translateY,d.translateX,d.translateY,h,p),i(A.rotate,d.rotate,h,p),o(A.skewX,d.skewX,h,p),l(A.scaleX,A.scaleY,d.scaleX,d.scaleY,h,p),A=d=null,function(g){for(var w=-1,b=p.length,E;++w<b;)h[(E=p[w]).i]=E.x(g);return h.join("")}}}var qCe=NO(zCe,"px, ","px)","deg)"),WCe=NO(KCe,", ",")",")"),$Ce=1e-12;function pR(t){return((t=Math.exp(t))+1/t)/2}function YCe(t){return((t=Math.exp(t))-1/t)/2}function JCe(t){return((t=Math.exp(2*t))-1)/(t+1)}const XCe=function t(e,n,r){function s(a,i){var o=a[0],l=a[1],A=a[2],d=i[0],h=i[1],p=i[2],g=d-o,w=h-l,b=g*g+w*w,E,T;if(b<$Ce)T=Math.log(p/A)/e,E=function(S){return[o+S*g,l+S*w,A*Math.exp(e*S*T)]};else{var I=Math.sqrt(b),k=(p*p-A*A+r*b)/(2*A*n*I),F=(p*p-A*A-r*b)/(2*p*n*I),D=Math.log(Math.sqrt(k*k+1)-k),P=Math.log(Math.sqrt(F*F+1)-F);T=(P-D)/e,E=function(S){var N=S*T,B=pR(D),V=A/(n*I)*(B*JCe(e*N+D)-YCe(D));return[o+V*g,l+V*w,A*B/pR(e*N+D)]}}return E.duration=T*1e3*e/Math.SQRT2,E}return s.rho=function(a){var i=Math.max(.001,+a),o=i*i,l=o*o;return t(i,o,l)},s}(Math.SQRT2,2,4);var xm=0,ng=0,Rp=0,kO=1e3,Ay,rg,uy=0,hh=0,xw=0,sx=typeof performance=="object"&&performance.now?performance:Date,IO=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function x4(){return hh||(IO(ZCe),hh=sx.now()+xw)}function ZCe(){hh=0}function dy(){this._call=this._time=this._next=null}dy.prototype=FO.prototype={constructor:dy,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?x4():+n)+(e==null?0:+e),!this._next&&rg!==this&&(rg?rg._next=this:Ay=this,rg=this),this._call=t,this._time=n,oS()},stop:function(){this._call&&(this._call=null,this._time=1/0,oS())}};function FO(t,e,n){var r=new dy;return r.restart(t,e,n),r}function eEe(){x4(),++xm;for(var t=Ay,e;t;)(e=hh-t._time)>=0&&t._call.call(void 0,e),t=t._next;--xm}function gR(){hh=(uy=sx.now())+xw,xm=ng=0;try{eEe()}finally{xm=0,nEe(),hh=0}}function tEe(){var t=sx.now(),e=t-uy;e>kO&&(xw-=e,uy=t)}function nEe(){for(var t,e=Ay,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ay=n);rg=t,oS(r)}function oS(t){if(!xm){ng&&(ng=clearTimeout(ng));var e=t-hh;e>24?(t<1/0&&(ng=setTimeout(gR,t-sx.now()-xw)),Rp&&(Rp=clearInterval(Rp))):(Rp||(uy=sx.now(),Rp=setInterval(tEe,kO)),xm=1,IO(gR))}}function xR(t,e,n){var r=new dy;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,n),r}var rEe=pw("start","end","cancel","interrupt"),sEe=[],RO=0,vR=1,lS=2,s2=3,yR=4,cS=5,a2=6;function vw(t,e,n,r,s,a){var i=t.__transition;if(!i)t.__transition={};else if(n in i)return;aEe(t,n,{name:e,index:r,group:s,on:rEe,tween:sEe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:RO})}function v4(t,e){var n=bc(t,e);if(n.state>RO)throw new Error("too late; already scheduled");return n}function SA(t,e){var n=bc(t,e);if(n.state>s2)throw new Error("too late; already running");return n}function bc(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function aEe(t,e,n){var r=t.__transition,s;r[e]=n,n.timer=FO(a,0,n.time);function a(A){n.state=vR,n.timer.restart(i,n.delay,n.time),n.delay<=A&&i(A-n.delay)}function i(A){var d,h,p,g;if(n.state!==vR)return l();for(d in r)if(g=r[d],g.name===n.name){if(g.state===s2)return xR(i);g.state===yR?(g.state=a2,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete r[d]):+d<e&&(g.state=a2,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete r[d])}if(xR(function(){n.state===s2&&(n.state=yR,n.timer.restart(o,n.delay,n.time),o(A))}),n.state=lS,n.on.call("start",t,t.__data__,n.index,n.group),n.state===lS){for(n.state=s2,s=new Array(p=n.tween.length),d=0,h=-1;d<p;++d)(g=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(s[++h]=g);s.length=h+1}}function o(A){for(var d=A<n.duration?n.ease.call(null,A/n.duration):(n.timer.restart(l),n.state=cS,1),h=-1,p=s.length;++h<p;)s[h].call(t,d);n.state===cS&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=a2,n.timer.stop(),delete r[e];for(var A in r)return;delete t.__transition}}function i2(t,e){var n=t.__transition,r,s,a=!0,i;if(n){e=e==null?null:e+"";for(i in n){if((r=n[i]).name!==e){a=!1;continue}s=r.state>lS&&r.state<cS,r.state=a2,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[i]}a&&delete t.__transition}}function iEe(t){return this.each(function(){i2(this,t)})}function oEe(t,e){var n,r;return function(){var s=SA(this,t),a=s.tween;if(a!==n){r=n=a;for(var i=0,o=r.length;i<o;++i)if(r[i].name===e){r=r.slice(),r.splice(i,1);break}}s.tween=r}}function lEe(t,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var a=SA(this,t),i=a.tween;if(i!==r){s=(r=i).slice();for(var o={name:e,value:n},l=0,A=s.length;l<A;++l)if(s[l].name===e){s[l]=o;break}l===A&&s.push(o)}a.tween=s}}function cEe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=bc(this.node(),n).tween,s=0,a=r.length,i;s<a;++s)if((i=r[s]).name===t)return i.value;return null}return this.each((e==null?oEe:lEe)(n,t,e))}function y4(t,e,n){var r=t._id;return t.each(function(){var s=SA(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return bc(s,r).value[e]}}function DO(t,e){var n;return(typeof e=="number"?vd:e instanceof rx?hR:(n=rx(e))?(e=n,hR):GCe)(t,e)}function AEe(t){return function(){this.removeAttribute(t)}}function uEe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function dEe(t,e,n){var r,s=n+"",a;return function(){var i=this.getAttribute(t);return i===s?null:i===r?a:a=e(r=i,n)}}function fEe(t,e,n){var r,s=n+"",a;return function(){var i=this.getAttributeNS(t.space,t.local);return i===s?null:i===r?a:a=e(r=i,n)}}function hEe(t,e,n){var r,s,a;return function(){var i,o=n(this),l;return o==null?void this.removeAttribute(t):(i=this.getAttribute(t),l=o+"",i===l?null:i===r&&l===s?a:(s=l,a=e(r=i,o)))}}function mEe(t,e,n){var r,s,a;return function(){var i,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(i=this.getAttributeNS(t.space,t.local),l=o+"",i===l?null:i===r&&l===s?a:(s=l,a=e(r=i,o)))}}function pEe(t,e){var n=gw(t),r=n==="transform"?WCe:DO;return this.attrTween(t,typeof e=="function"?(n.local?mEe:hEe)(n,r,y4(this,"attr."+t,e)):e==null?(n.local?uEe:AEe)(n):(n.local?fEe:dEe)(n,r,e))}function gEe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function xEe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function vEe(t,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&xEe(t,a)),n}return s._value=e,s}function yEe(t,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&gEe(t,a)),n}return s._value=e,s}function wEe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=gw(t);return this.tween(n,(r.local?vEe:yEe)(r,e))}function bEe(t,e){return function(){v4(this,t).delay=+e.apply(this,arguments)}}function CEe(t,e){return e=+e,function(){v4(this,t).delay=e}}function EEe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?bEe:CEe)(e,t)):bc(this.node(),e).delay}function _Ee(t,e){return function(){SA(this,t).duration=+e.apply(this,arguments)}}function SEe(t,e){return e=+e,function(){SA(this,t).duration=e}}function TEe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?_Ee:SEe)(e,t)):bc(this.node(),e).duration}function BEe(t,e){if(typeof e!="function")throw new Error;return function(){SA(this,t).ease=e}}function NEe(t){var e=this._id;return arguments.length?this.each(BEe(e,t)):bc(this.node(),e).ease}function kEe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;SA(this,t).ease=n}}function IEe(t){if(typeof t!="function")throw new Error;return this.each(kEe(this._id,t))}function FEe(t){typeof t!="function"&&(t=dO(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],i=a.length,o=r[s]=[],l,A=0;A<i;++A)(l=a[A])&&t.call(l,l.__data__,A,a)&&o.push(l);return new Cu(r,this._parents,this._name,this._id)}function REe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=n.length,a=Math.min(r,s),i=new Array(r),o=0;o<a;++o)for(var l=e[o],A=n[o],d=l.length,h=i[o]=new Array(d),p,g=0;g<d;++g)(p=l[g]||A[g])&&(h[g]=p);for(;o<r;++o)i[o]=e[o];return new Cu(i,this._parents,this._name,this._id)}function DEe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function UEe(t,e,n){var r,s,a=DEe(e)?v4:SA;return function(){var i=a(this,t),o=i.on;o!==r&&(s=(r=o).copy()).on(e,n),i.on=s}}function LEe(t,e){var n=this._id;return arguments.length<2?bc(this.node(),n).on.on(t):this.each(UEe(n,t,e))}function MEe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function PEe(){return this.on("end.remove",MEe(this._id))}function OEe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=m4(t));for(var r=this._groups,s=r.length,a=new Array(s),i=0;i<s;++i)for(var o=r[i],l=o.length,A=a[i]=new Array(l),d,h,p=0;p<l;++p)(d=o[p])&&(h=t.call(d,d.__data__,p,o))&&("__data__"in d&&(h.__data__=d.__data__),A[p]=h,vw(A[p],e,n,p,A,bc(d,n)));return new Cu(a,this._parents,e,n)}function jEe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=uO(t));for(var r=this._groups,s=r.length,a=[],i=[],o=0;o<s;++o)for(var l=r[o],A=l.length,d,h=0;h<A;++h)if(d=l[h]){for(var p=t.call(d,d.__data__,h,l),g,w=bc(d,n),b=0,E=p.length;b<E;++b)(g=p[b])&&vw(g,e,n,b,p,w);a.push(p),i.push(d)}return new Cu(a,i,e,n)}var QEe=Nx.prototype.constructor;function HEe(){return new QEe(this._groups,this._parents)}function VEe(t,e){var n,r,s;return function(){var a=gm(this,t),i=(this.style.removeProperty(t),gm(this,t));return a===i?null:a===n&&i===r?s:s=e(n=a,r=i)}}function UO(t){return function(){this.style.removeProperty(t)}}function GEe(t,e,n){var r,s=n+"",a;return function(){var i=gm(this,t);return i===s?null:i===r?a:a=e(r=i,n)}}function zEe(t,e,n){var r,s,a;return function(){var i=gm(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),gm(this,t))),i===l?null:i===r&&l===s?a:(s=l,a=e(r=i,o))}}function KEe(t,e){var n,r,s,a="style."+e,i="end."+a,o;return function(){var l=SA(this,t),A=l.on,d=l.value[a]==null?o||(o=UO(e)):void 0;(A!==n||s!==d)&&(r=(n=A).copy()).on(i,s=d),l.on=r}}function qEe(t,e,n){var r=(t+="")=="transform"?qCe:DO;return e==null?this.styleTween(t,VEe(t,r)).on("end.style."+t,UO(t)):typeof e=="function"?this.styleTween(t,zEe(t,r,y4(this,"style."+t,e))).each(KEe(this._id,t)):this.styleTween(t,GEe(t,r,e),n).on("end.style."+t,null)}function WEe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function $Ee(t,e,n){var r,s;function a(){var i=e.apply(this,arguments);return i!==s&&(r=(s=i)&&WEe(t,i,n)),r}return a._value=e,a}function YEe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,$Ee(t,e,n??""))}function JEe(t){return function(){this.textContent=t}}function XEe(t){return function(){var e=t(this);this.textContent=e??""}}function ZEe(t){return this.tween("text",typeof t=="function"?XEe(y4(this,"text",t)):JEe(t==null?"":t+""))}function e_e(t){return function(e){this.textContent=t.call(this,e)}}function t_e(t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&e_e(s)),e}return r._value=t,r}function n_e(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,t_e(t))}function r_e(){for(var t=this._name,e=this._id,n=LO(),r=this._groups,s=r.length,a=0;a<s;++a)for(var i=r[a],o=i.length,l,A=0;A<o;++A)if(l=i[A]){var d=bc(l,e);vw(l,t,n,A,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Cu(r,this._parents,t,n)}function s_e(){var t,e,n=this,r=n._id,s=n.size();return new Promise(function(a,i){var o={value:i},l={value:function(){--s===0&&a()}};n.each(function(){var A=SA(this,r),d=A.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),A.on=e}),s===0&&a()})}var a_e=0;function Cu(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function LO(){return++a_e}var au=Nx.prototype;Cu.prototype={constructor:Cu,select:OEe,selectAll:jEe,selectChild:au.selectChild,selectChildren:au.selectChildren,filter:FEe,merge:REe,selection:HEe,transition:r_e,call:au.call,nodes:au.nodes,node:au.node,size:au.size,empty:au.empty,each:au.each,on:LEe,attr:pEe,attrTween:wEe,style:qEe,styleTween:YEe,text:ZEe,textTween:n_e,remove:PEe,tween:cEe,delay:EEe,duration:TEe,ease:NEe,easeVarying:IEe,end:s_e,[Symbol.iterator]:au[Symbol.iterator]};function i_e(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var o_e={time:null,delay:0,duration:250,ease:i_e};function l_e(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function c_e(t){var e,n;t instanceof Cu?(e=t._id,t=t._name):(e=LO(),(n=o_e).time=x4(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,a=0;a<s;++a)for(var i=r[a],o=i.length,l,A=0;A<o;++A)(l=i[A])&&vw(l,t,e,A,i,n||l_e(l,e));return new Cu(r,this._parents,t,e)}Nx.prototype.interrupt=iEe;Nx.prototype.transition=c_e;const kv=t=>()=>t;function A_e(t,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Au(t,e,n){this.k=t,this.x=e,this.y=n}Au.prototype={constructor:Au,scale:function(t){return t===1?this:new Au(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Au(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Qd=new Au(1,0,0);Au.prototype;function fE(t){t.stopImmediatePropagation()}function Dp(t){t.preventDefault(),t.stopImmediatePropagation()}function u_e(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function d_e(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function wR(){return this.__zoom||Qd}function f_e(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function h_e(){return navigator.maxTouchPoints||"ontouchstart"in this}function m_e(t,e,n){var r=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],i=t.invertY(e[1][1])-n[1][1];return t.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i))}function p_e(){var t=u_e,e=d_e,n=m_e,r=f_e,s=h_e,a=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],o=250,l=XCe,A=pw("start","zoom","end"),d,h,p,g=500,w=150,b=0,E=10;function T(G){G.property("__zoom",wR).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",B).on("dblclick.zoom",V).filter(s).on("touchstart.zoom",U).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}T.transform=function(G,se,K,Y){var oe=G.selection?G.selection():G;oe.property("__zoom",wR),G!==oe?D(G,se,K,Y):oe.interrupt().each(function(){P(this,arguments).event(Y).start().zoom(null,typeof se=="function"?se.apply(this,arguments):se).end()})},T.scaleBy=function(G,se,K,Y){T.scaleTo(G,function(){var oe=this.__zoom.k,Z=typeof se=="function"?se.apply(this,arguments):se;return oe*Z},K,Y)},T.scaleTo=function(G,se,K,Y){T.transform(G,function(){var oe=e.apply(this,arguments),Z=this.__zoom,ee=K==null?F(oe):typeof K=="function"?K.apply(this,arguments):K,he=Z.invert(ee),O=typeof se=="function"?se.apply(this,arguments):se;return n(k(I(Z,O),ee,he),oe,i)},K,Y)},T.translateBy=function(G,se,K,Y){T.transform(G,function(){return n(this.__zoom.translate(typeof se=="function"?se.apply(this,arguments):se,typeof K=="function"?K.apply(this,arguments):K),e.apply(this,arguments),i)},null,Y)},T.translateTo=function(G,se,K,Y,oe){T.transform(G,function(){var Z=e.apply(this,arguments),ee=this.__zoom,he=Y==null?F(Z):typeof Y=="function"?Y.apply(this,arguments):Y;return n(Qd.translate(he[0],he[1]).scale(ee.k).translate(typeof se=="function"?-se.apply(this,arguments):-se,typeof K=="function"?-K.apply(this,arguments):-K),Z,i)},Y,oe)};function I(G,se){return se=Math.max(a[0],Math.min(a[1],se)),se===G.k?G:new Au(se,G.x,G.y)}function k(G,se,K){var Y=se[0]-K[0]*G.k,oe=se[1]-K[1]*G.k;return Y===G.x&&oe===G.y?G:new Au(G.k,Y,oe)}function F(G){return[(+G[0][0]+ +G[1][0])/2,(+G[0][1]+ +G[1][1])/2]}function D(G,se,K,Y){G.on("start.zoom",function(){P(this,arguments).event(Y).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(Y).end()}).tween("zoom",function(){var oe=this,Z=arguments,ee=P(oe,Z).event(Y),he=e.apply(oe,Z),O=K==null?F(he):typeof K=="function"?K.apply(oe,Z):K,q=Math.max(he[1][0]-he[0][0],he[1][1]-he[0][1]),J=oe.__zoom,ne=typeof se=="function"?se.apply(oe,Z):se,ae=l(J.invert(O).concat(q/J.k),ne.invert(O).concat(q/ne.k));return function(ue){if(ue===1)ue=ne;else{var pe=ae(ue),ye=q/pe[2];ue=new Au(ye,O[0]-pe[0]*ye,O[1]-pe[1]*ye)}ee.zoom(null,ue)}})}function P(G,se,K){return!K&&G.__zooming||new S(G,se)}function S(G,se){this.that=G,this.args=se,this.active=0,this.sourceEvent=null,this.extent=e.apply(G,se),this.taps=0}S.prototype={event:function(G){return G&&(this.sourceEvent=G),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(G,se){return this.mouse&&G!=="mouse"&&(this.mouse[1]=se.invert(this.mouse[0])),this.touch0&&G!=="touch"&&(this.touch0[1]=se.invert(this.touch0[0])),this.touch1&&G!=="touch"&&(this.touch1[1]=se.invert(this.touch1[0])),this.that.__zoom=se,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(G){var se=cc(this.that).datum();A.call(G,this.that,new A_e(G,{sourceEvent:this.sourceEvent,target:T,transform:this.that.__zoom,dispatch:A}),se)}};function N(G,...se){if(!t.apply(this,arguments))return;var K=P(this,se).event(G),Y=this.__zoom,oe=Math.max(a[0],Math.min(a[1],Y.k*Math.pow(2,r.apply(this,arguments)))),Z=iA(G);if(K.wheel)(K.mouse[0][0]!==Z[0]||K.mouse[0][1]!==Z[1])&&(K.mouse[1]=Y.invert(K.mouse[0]=Z)),clearTimeout(K.wheel);else{if(Y.k===oe)return;K.mouse=[Z,Y.invert(Z)],i2(this),K.start()}Dp(G),K.wheel=setTimeout(ee,w),K.zoom("mouse",n(k(I(Y,oe),K.mouse[0],K.mouse[1]),K.extent,i));function ee(){K.wheel=null,K.end()}}function B(G,...se){if(p||!t.apply(this,arguments))return;var K=G.currentTarget,Y=P(this,se,!0).event(G),oe=cc(G.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",q,!0),Z=iA(G,K),ee=G.clientX,he=G.clientY;bO(G.view),fE(G),Y.mouse=[Z,this.__zoom.invert(Z)],i2(this),Y.start();function O(J){if(Dp(J),!Y.moved){var ne=J.clientX-ee,ae=J.clientY-he;Y.moved=ne*ne+ae*ae>b}Y.event(J).zoom("mouse",n(k(Y.that.__zoom,Y.mouse[0]=iA(J,K),Y.mouse[1]),Y.extent,i))}function q(J){oe.on("mousemove.zoom mouseup.zoom",null),CO(J.view,Y.moved),Dp(J),Y.event(J).end()}}function V(G,...se){if(t.apply(this,arguments)){var K=this.__zoom,Y=iA(G.changedTouches?G.changedTouches[0]:G,this),oe=K.invert(Y),Z=K.k*(G.shiftKey?.5:2),ee=n(k(I(K,Z),Y,oe),e.apply(this,se),i);Dp(G),o>0?cc(this).transition().duration(o).call(D,ee,Y,G):cc(this).call(T.transform,ee,Y,G)}}function U(G,...se){if(t.apply(this,arguments)){var K=G.touches,Y=K.length,oe=P(this,se,G.changedTouches.length===Y).event(G),Z,ee,he,O;for(fE(G),ee=0;ee<Y;++ee)he=K[ee],O=iA(he,this),O=[O,this.__zoom.invert(O),he.identifier],oe.touch0?!oe.touch1&&oe.touch0[2]!==O[2]&&(oe.touch1=O,oe.taps=0):(oe.touch0=O,Z=!0,oe.taps=1+!!d);d&&(d=clearTimeout(d)),Z&&(oe.taps<2&&(h=O[0],d=setTimeout(function(){d=null},g)),i2(this),oe.start())}}function L(G,...se){if(this.__zooming){var K=P(this,se).event(G),Y=G.changedTouches,oe=Y.length,Z,ee,he,O;for(Dp(G),Z=0;Z<oe;++Z)ee=Y[Z],he=iA(ee,this),K.touch0&&K.touch0[2]===ee.identifier?K.touch0[0]=he:K.touch1&&K.touch1[2]===ee.identifier&&(K.touch1[0]=he);if(ee=K.that.__zoom,K.touch1){var q=K.touch0[0],J=K.touch0[1],ne=K.touch1[0],ae=K.touch1[1],ue=(ue=ne[0]-q[0])*ue+(ue=ne[1]-q[1])*ue,pe=(pe=ae[0]-J[0])*pe+(pe=ae[1]-J[1])*pe;ee=I(ee,Math.sqrt(ue/pe)),he=[(q[0]+ne[0])/2,(q[1]+ne[1])/2],O=[(J[0]+ae[0])/2,(J[1]+ae[1])/2]}else if(K.touch0)he=K.touch0[0],O=K.touch0[1];else return;K.zoom("touch",n(k(ee,he,O),K.extent,i))}}function j(G,...se){if(this.__zooming){var K=P(this,se).event(G),Y=G.changedTouches,oe=Y.length,Z,ee;for(fE(G),p&&clearTimeout(p),p=setTimeout(function(){p=null},g),Z=0;Z<oe;++Z)ee=Y[Z],K.touch0&&K.touch0[2]===ee.identifier?delete K.touch0:K.touch1&&K.touch1[2]===ee.identifier&&delete K.touch1;if(K.touch1&&!K.touch0&&(K.touch0=K.touch1,delete K.touch1),K.touch0)K.touch0[1]=this.__zoom.invert(K.touch0[0]);else if(K.end(),K.taps===2&&(ee=iA(ee,this),Math.hypot(h[0]-ee[0],h[1]-ee[1])<E)){var he=cc(this).on("dblclick.zoom");he&&he.apply(this,arguments)}}}return T.wheelDelta=function(G){return arguments.length?(r=typeof G=="function"?G:kv(+G),T):r},T.filter=function(G){return arguments.length?(t=typeof G=="function"?G:kv(!!G),T):t},T.touchable=function(G){return arguments.length?(s=typeof G=="function"?G:kv(!!G),T):s},T.extent=function(G){return arguments.length?(e=typeof G=="function"?G:kv([[+G[0][0],+G[0][1]],[+G[1][0],+G[1][1]]]),T):e},T.scaleExtent=function(G){return arguments.length?(a[0]=+G[0],a[1]=+G[1],T):[a[0],a[1]]},T.translateExtent=function(G){return arguments.length?(i[0][0]=+G[0][0],i[1][0]=+G[1][0],i[0][1]=+G[0][1],i[1][1]=+G[1][1],T):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},T.constrain=function(G){return arguments.length?(n=G,T):n},T.duration=function(G){return arguments.length?(o=+G,T):o},T.interpolate=function(G){return arguments.length?(l=G,T):l},T.on=function(){var G=A.on.apply(A,arguments);return G===A?T:G},T.clickDistance=function(G){return arguments.length?(b=(G=+G)*G,T):Math.sqrt(b)},T.tapDistance=function(G){return arguments.length?(E=+G,T):E},T}aD();const yw=X.createContext(null),g_e=yw.Provider,Eu={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},MO=Eu.error001();function Cs(t,e){const n=X.useContext(yw);if(n===null)throw new Error(MO);return cO(n,t,e)}const Va=()=>{const t=X.useContext(yw);if(t===null)throw new Error(MO);return X.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},x_e=t=>t.userSelectionActive?"none":"all";function PO({position:t,children:e,className:n,style:r,...s}){const a=Cs(x_e),i=`${t}`.split("-");return ut.createElement("div",{className:qi(["react-flow__panel",n,...i]),style:{...r,pointerEvents:a},...s},e)}function v_e({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:ut.createElement(PO,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ut.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const y_e=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:a={},labelBgPadding:i=[2,4],labelBgBorderRadius:o=2,children:l,className:A,...d})=>{const h=X.useRef(null),[p,g]=X.useState({x:0,y:0,width:0,height:0}),w=qi(["react-flow__edge-textwrapper",A]);return X.useEffect(()=>{if(h.current){const b=h.current.getBBox();g({x:b.x,y:b.y,width:b.width,height:b.height})}},[n]),typeof n>"u"||!n?null:ut.createElement("g",{transform:`translate(${t-p.width/2} ${e-p.height/2})`,className:w,visibility:p.width?"visible":"hidden",...d},s&&ut.createElement("rect",{width:p.width+2*i[0],x:-i[0],y:-i[1],height:p.height+2*i[1],className:"react-flow__edge-textbg",style:a,rx:o,ry:o}),ut.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:h,style:r},n),l)};var w_e=X.memo(y_e);const w4=t=>({width:t.offsetWidth,height:t.offsetHeight}),vm=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),b4=(t={x:0,y:0},e)=>({x:vm(t.x,e[0][0],e[1][0]),y:vm(t.y,e[0][1],e[1][1])}),bR=(t,e,n)=>t<e?vm(Math.abs(t-e),1,50)/50:t>n?-vm(Math.abs(t-n),1,50)/50:0,OO=(t,e)=>{const n=bR(t.x,35,e.width-35)*20,r=bR(t.y,35,e.height-35)*20;return[n,r]},jO=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},b_e=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),C4=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),C_e=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),CR=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),AS=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},E_e=t=>Tl(t.width)&&Tl(t.height)&&Tl(t.x)&&Tl(t.y),Tl=t=>!isNaN(t)&&isFinite(t),Ds=Symbol.for("internals"),QO=["Enter"," ","Escape"],__e=(t,e)=>{},S_e=t=>"nativeEvent"in t;function uS(t){var s,a;const e=S_e(t)?t.nativeEvent:t,n=((a=(s=e.composedPath)==null?void 0:s.call(e))==null?void 0:a[0])||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const HO=t=>"clientX"in t,Hd=(t,e)=>{var a,i;const n=HO(t),r=n?t.clientX:(a=t.touches)==null?void 0:a[0].clientX,s=n?t.clientY:(i=t.touches)==null?void 0:i[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:s-((e==null?void 0:e.top)??0)}},fy=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0},Ix=({id:t,path:e,labelX:n,labelY:r,label:s,labelStyle:a,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:A,style:d,markerEnd:h,markerStart:p,interactionWidth:g=20})=>ut.createElement(ut.Fragment,null,ut.createElement("path",{id:t,style:d,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:p}),g&&ut.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),s&&Tl(n)&&Tl(r)?ut.createElement(w_e,{x:n,y:r,label:s,labelStyle:a,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:A}):null);Ix.displayName="BaseEdge";function Up(t,e,n){return n===void 0?n:r=>{const s=e().edges.find(a=>a.id===t);s&&n(r,{...s})}}function VO({sourceX:t,sourceY:e,targetX:n,targetY:r}){const s=Math.abs(n-t)/2,a=n<t?n+s:n-s,i=Math.abs(r-e)/2,o=r<e?r+i:r-i;return[a,o,s,i]}function GO({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:s,sourceControlY:a,targetControlX:i,targetControlY:o}){const l=t*.125+s*.375+i*.375+n*.125,A=e*.125+a*.375+o*.375+r*.125,d=Math.abs(l-t),h=Math.abs(A-e);return[l,A,d,h]}var mh;(function(t){t.Strict="strict",t.Loose="loose"})(mh||(mh={}));var zf;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(zf||(zf={}));var ax;(function(t){t.Partial="partial",t.Full="full"})(ax||(ax={}));var _d;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(_d||(_d={}));var hy;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(hy||(hy={}));var an;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(an||(an={}));function ER({pos:t,x1:e,y1:n,x2:r,y2:s}){return t===an.Left||t===an.Right?[.5*(e+r),n]:[e,.5*(n+s)]}function zO({sourceX:t,sourceY:e,sourcePosition:n=an.Bottom,targetX:r,targetY:s,targetPosition:a=an.Top}){const[i,o]=ER({pos:n,x1:t,y1:e,x2:r,y2:s}),[l,A]=ER({pos:a,x1:r,y1:s,x2:t,y2:e}),[d,h,p,g]=GO({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:i,sourceControlY:o,targetControlX:l,targetControlY:A});return[`M${t},${e} C${i},${o} ${l},${A} ${r},${s}`,d,h,p,g]}const E4=X.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=an.Bottom,targetPosition:a=an.Top,label:i,labelStyle:o,labelShowBg:l,labelBgStyle:A,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:w,interactionWidth:b})=>{const[E,T,I]=zO({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:a});return ut.createElement(Ix,{path:E,labelX:T,labelY:I,label:i,labelStyle:o,labelShowBg:l,labelBgStyle:A,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:w,interactionWidth:b})});E4.displayName="SimpleBezierEdge";const _R={[an.Left]:{x:-1,y:0},[an.Right]:{x:1,y:0},[an.Top]:{x:0,y:-1},[an.Bottom]:{x:0,y:1}},T_e=({source:t,sourcePosition:e=an.Bottom,target:n})=>e===an.Left||e===an.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},SR=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function B_e({source:t,sourcePosition:e=an.Bottom,target:n,targetPosition:r=an.Top,center:s,offset:a}){const i=_R[e],o=_R[r],l={x:t.x+i.x*a,y:t.y+i.y*a},A={x:n.x+o.x*a,y:n.y+o.y*a},d=T_e({source:l,sourcePosition:e,target:A}),h=d.x!==0?"x":"y",p=d[h];let g=[],w,b;const E={x:0,y:0},T={x:0,y:0},[I,k,F,D]=VO({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(i[h]*o[h]===-1){w=s.x??I,b=s.y??k;const S=[{x:w,y:l.y},{x:w,y:A.y}],N=[{x:l.x,y:b},{x:A.x,y:b}];i[h]===p?g=h==="x"?S:N:g=h==="x"?N:S}else{const S=[{x:l.x,y:A.y}],N=[{x:A.x,y:l.y}];if(h==="x"?g=i.x===p?N:S:g=i.y===p?S:N,e===r){const j=Math.abs(t[h]-n[h]);if(j<=a){const G=Math.min(a-1,a-j);i[h]===p?E[h]=(l[h]>t[h]?-1:1)*G:T[h]=(A[h]>n[h]?-1:1)*G}}if(e!==r){const j=h==="x"?"y":"x",G=i[h]===o[j],se=l[j]>A[j],K=l[j]<A[j];(i[h]===1&&(!G&&se||G&&K)||i[h]!==1&&(!G&&K||G&&se))&&(g=h==="x"?S:N)}const B={x:l.x+E.x,y:l.y+E.y},V={x:A.x+T.x,y:A.y+T.y},U=Math.max(Math.abs(B.x-g[0].x),Math.abs(V.x-g[0].x)),L=Math.max(Math.abs(B.y-g[0].y),Math.abs(V.y-g[0].y));U>=L?(w=(B.x+V.x)/2,b=g[0].y):(w=g[0].x,b=(B.y+V.y)/2)}return[[t,{x:l.x+E.x,y:l.y+E.y},...g,{x:A.x+T.x,y:A.y+T.y},n],w,b,F,D]}function N_e(t,e,n,r){const s=Math.min(SR(t,e)/2,SR(e,n)/2,r),{x:a,y:i}=e;if(t.x===a&&a===n.x||t.y===i&&i===n.y)return`L${a} ${i}`;if(t.y===i){const A=t.x<n.x?-1:1,d=t.y<n.y?1:-1;return`L ${a+s*A},${i}Q ${a},${i} ${a},${i+s*d}`}const o=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${a},${i+s*l}Q ${a},${i} ${a+s*o},${i}`}function dS({sourceX:t,sourceY:e,sourcePosition:n=an.Bottom,targetX:r,targetY:s,targetPosition:a=an.Top,borderRadius:i=5,centerX:o,centerY:l,offset:A=20}){const[d,h,p,g,w]=B_e({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:s},targetPosition:a,center:{x:o,y:l},offset:A});return[d.reduce((E,T,I)=>{let k="";return I>0&&I<d.length-1?k=N_e(d[I-1],T,d[I+1],i):k=`${I===0?"M":"L"}${T.x} ${T.y}`,E+=k,E},""),h,p,g,w]}const ww=X.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:a,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:A,style:d,sourcePosition:h=an.Bottom,targetPosition:p=an.Top,markerEnd:g,markerStart:w,pathOptions:b,interactionWidth:E})=>{const[T,I,k]=dS({sourceX:t,sourceY:e,sourcePosition:h,targetX:n,targetY:r,targetPosition:p,borderRadius:b==null?void 0:b.borderRadius,offset:b==null?void 0:b.offset});return ut.createElement(Ix,{path:T,labelX:I,labelY:k,label:s,labelStyle:a,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:A,style:d,markerEnd:g,markerStart:w,interactionWidth:E})});ww.displayName="SmoothStepEdge";const _4=X.memo(t=>{var e;return ut.createElement(ww,{...t,pathOptions:X.useMemo(()=>{var n;return{borderRadius:0,offset:(n=t.pathOptions)==null?void 0:n.offset}},[(e=t.pathOptions)==null?void 0:e.offset])})});_4.displayName="StepEdge";function k_e({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[s,a,i,o]=VO({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,s,a,i,o]}const S4=X.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:a,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:A,style:d,markerEnd:h,markerStart:p,interactionWidth:g})=>{const[w,b,E]=k_e({sourceX:t,sourceY:e,targetX:n,targetY:r});return ut.createElement(Ix,{path:w,labelX:b,labelY:E,label:s,labelStyle:a,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:A,style:d,markerEnd:h,markerStart:p,interactionWidth:g})});S4.displayName="StraightEdge";function Iv(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function TR({pos:t,x1:e,y1:n,x2:r,y2:s,c:a}){switch(t){case an.Left:return[e-Iv(e-r,a),n];case an.Right:return[e+Iv(r-e,a),n];case an.Top:return[e,n-Iv(n-s,a)];case an.Bottom:return[e,n+Iv(s-n,a)]}}function KO({sourceX:t,sourceY:e,sourcePosition:n=an.Bottom,targetX:r,targetY:s,targetPosition:a=an.Top,curvature:i=.25}){const[o,l]=TR({pos:n,x1:t,y1:e,x2:r,y2:s,c:i}),[A,d]=TR({pos:a,x1:r,y1:s,x2:t,y2:e,c:i}),[h,p,g,w]=GO({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:o,sourceControlY:l,targetControlX:A,targetControlY:d});return[`M${t},${e} C${o},${l} ${A},${d} ${r},${s}`,h,p,g,w]}const my=X.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=an.Bottom,targetPosition:a=an.Top,label:i,labelStyle:o,labelShowBg:l,labelBgStyle:A,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:w,pathOptions:b,interactionWidth:E})=>{const[T,I,k]=KO({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:a,curvature:b==null?void 0:b.curvature});return ut.createElement(Ix,{path:T,labelX:I,labelY:k,label:i,labelStyle:o,labelShowBg:l,labelBgStyle:A,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:w,interactionWidth:E})});my.displayName="BezierEdge";const T4=X.createContext(null),I_e=T4.Provider;T4.Consumer;const F_e=()=>X.useContext(T4),R_e=t=>"id"in t&&"source"in t&&"target"in t,D_e=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,fS=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,U_e=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),L_e=(t,e)=>{if(!t.source||!t.target)return e;let n;return R_e(t)?n={...t}:n={...t,id:D_e(t)},U_e(n,e)?e:e.concat(n)},hS=({x:t,y:e},[n,r,s],a,[i,o])=>{const l={x:(t-n)/s,y:(e-r)/s};return a?{x:i*Math.round(l.x/i),y:o*Math.round(l.y/o)}:l},qO=({x:t,y:e},[n,r,s])=>({x:t*s+n,y:e*s+r}),rm=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],s={x:t.position.x-n,y:t.position.y-r};return{...s,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:s}},B4=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,s)=>{const{x:a,y:i}=rm(s,e).positionAbsolute;return b_e(r,C4({x:a,y:i,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return C_e(n)},WO=(t,e,[n,r,s]=[0,0,1],a=!1,i=!1,o=[0,0])=>{const l={x:(e.x-n)/s,y:(e.y-r)/s,width:e.width/s,height:e.height/s},A=[];return t.forEach(d=>{const{width:h,height:p,selectable:g=!0,hidden:w=!1}=d;if(i&&!g||w)return!1;const{positionAbsolute:b}=rm(d,o),E={x:b.x,y:b.y,width:h||0,height:p||0},T=AS(l,E),I=typeof h>"u"||typeof p>"u"||h===null||p===null,k=a&&T>0,F=(h||0)*(p||0);(I||k||T>=F||d.dragging)&&A.push(d)}),A},$O=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},YO=(t,e,n,r,s,a=.1)=>{const i=e/(t.width*(1+a)),o=n/(t.height*(1+a)),l=Math.min(i,o),A=vm(l,r,s),d=t.x+t.width/2,h=t.y+t.height/2,p=e/2-d*A,g=n/2-h*A;return{x:p,y:g,zoom:A}},Lf=(t,e=0)=>t.transition().duration(e);function BR(t,e,n,r){return(e[n]||[]).reduce((s,a)=>{var i,o;return`${t.id}-${a.id}-${n}`!==r&&s.push({id:a.id||null,type:n,nodeId:t.id,x:(((i=t.positionAbsolute)==null?void 0:i.x)??0)+a.x+a.width/2,y:(((o=t.positionAbsolute)==null?void 0:o.y)??0)+a.y+a.height/2}),s},[])}function M_e(t,e,n,r,s,a){const{x:i,y:o}=Hd(t),A=e.elementsFromPoint(i,o).find(w=>w.classList.contains("react-flow__handle"));if(A){const w=A.getAttribute("data-nodeid");if(w){const b=N4(void 0,A),E=A.getAttribute("data-handleid"),T=a({nodeId:w,id:E,type:b});if(T){const I=s.find(k=>k.nodeId===w&&k.type===b&&k.id===E);return{handle:{id:E,type:b,nodeId:w,x:(I==null?void 0:I.x)||n.x,y:(I==null?void 0:I.y)||n.y},validHandleResult:T}}}}let d=[],h=1/0;if(s.forEach(w=>{const b=Math.sqrt((w.x-n.x)**2+(w.y-n.y)**2);if(b<=r){const E=a(w);b<=h&&(b<h?d=[{handle:w,validHandleResult:E}]:b===h&&d.push({handle:w,validHandleResult:E}),h=b)}}),!d.length)return{handle:null,validHandleResult:JO()};if(d.length===1)return d[0];const p=d.some(({validHandleResult:w})=>w.isValid),g=d.some(({handle:w})=>w.type==="target");return d.find(({handle:w,validHandleResult:b})=>g?w.type==="target":p?b.isValid:!0)||d[0]}const P_e={source:null,target:null,sourceHandle:null,targetHandle:null},JO=()=>({handleDomNode:null,isValid:!1,connection:P_e,endHandle:null});function XO(t,e,n,r,s,a,i){const o=s==="target",l=i.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),A={...JO(),handleDomNode:l};if(l){const d=N4(void 0,l),h=l.getAttribute("data-nodeid"),p=l.getAttribute("data-handleid"),g=l.classList.contains("connectable"),w=l.classList.contains("connectableend"),b={source:o?h:n,sourceHandle:o?p:r,target:o?n:h,targetHandle:o?r:p};A.connection=b,g&&w&&(e===mh.Strict?o&&d==="source"||!o&&d==="target":h!==n||p!==r)&&(A.endHandle={nodeId:h,handleId:p,type:d},A.isValid=a(b))}return A}function O_e({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((s,a)=>{if(a[Ds]){const{handleBounds:i}=a[Ds];let o=[],l=[];i&&(o=BR(a,i,"source",`${e}-${n}-${r}`),l=BR(a,i,"target",`${e}-${n}-${r}`)),s.push(...o,...l)}return s},[])}function N4(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function hE(t){t==null||t.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function j_e(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function ZO({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:s,getState:a,setState:i,isValidConnection:o,edgeUpdaterType:l,onReconnectEnd:A}){const d=jO(t.target),{connectionMode:h,domNode:p,autoPanOnConnect:g,connectionRadius:w,onConnectStart:b,panBy:E,getNodes:T,cancelConnection:I}=a();let k=0,F;const{x:D,y:P}=Hd(t),S=d==null?void 0:d.elementFromPoint(D,P),N=N4(l,S),B=p==null?void 0:p.getBoundingClientRect();if(!B||!N)return;let V,U=Hd(t,B),L=!1,j=null,G=!1,se=null;const K=O_e({nodes:T(),nodeId:n,handleId:e,handleType:N}),Y=()=>{if(!g)return;const[ee,he]=OO(U,B);E({x:ee,y:he}),k=requestAnimationFrame(Y)};i({connectionPosition:U,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:N,connectionStartHandle:{nodeId:n,handleId:e,type:N},connectionEndHandle:null}),b==null||b(t,{nodeId:n,handleId:e,handleType:N});function oe(ee){const{transform:he}=a();U=Hd(ee,B);const{handle:O,validHandleResult:q}=M_e(ee,d,hS(U,he,!1,[1,1]),w,K,J=>XO(J,h,n,e,s?"target":"source",o,d));if(F=O,L||(Y(),L=!0),se=q.handleDomNode,j=q.connection,G=q.isValid,i({connectionPosition:F&&G?qO({x:F.x,y:F.y},he):U,connectionStatus:j_e(!!F,G),connectionEndHandle:q.endHandle}),!F&&!G&&!se)return hE(V);j.source!==j.target&&se&&(hE(V),V=se,se.classList.add("connecting","react-flow__handle-connecting"),se.classList.toggle("valid",G),se.classList.toggle("react-flow__handle-valid",G))}function Z(ee){var he,O;(F||se)&&j&&G&&(r==null||r(j)),(O=(he=a()).onConnectEnd)==null||O.call(he,ee),l&&(A==null||A(ee)),hE(V),I(),cancelAnimationFrame(k),L=!1,G=!1,j=null,se=null,d.removeEventListener("mousemove",oe),d.removeEventListener("mouseup",Z),d.removeEventListener("touchmove",oe),d.removeEventListener("touchend",Z)}d.addEventListener("mousemove",oe),d.addEventListener("mouseup",Z),d.addEventListener("touchmove",oe),d.addEventListener("touchend",Z)}const NR=()=>!0,Q_e=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),H_e=(t,e,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:a,connectionClickStartHandle:i}=r;return{connecting:(s==null?void 0:s.nodeId)===t&&(s==null?void 0:s.handleId)===e&&(s==null?void 0:s.type)===n||(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.handleId)===e&&(a==null?void 0:a.type)===n,clickConnecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.handleId)===e&&(i==null?void 0:i.type)===n}},ej=X.forwardRef(({type:t="source",position:e=an.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:a=!0,id:i,onConnect:o,children:l,className:A,onMouseDown:d,onTouchStart:h,...p},g)=>{var B,V;const w=i||null,b=t==="target",E=Va(),T=F_e(),{connectOnClick:I,noPanClassName:k}=Cs(Q_e,Mi),{connecting:F,clickConnecting:D}=Cs(H_e(T,w,t),Mi);T||(V=(B=E.getState()).onError)==null||V.call(B,"010",Eu.error010());const P=U=>{const{defaultEdgeOptions:L,onConnect:j,hasDefaultEdges:G}=E.getState(),se={...L,...U};if(G){const{edges:K,setEdges:Y}=E.getState();Y(L_e(se,K))}j==null||j(se),o==null||o(se)},S=U=>{if(!T)return;const L=HO(U);s&&(L&&U.button===0||!L)&&ZO({event:U,handleId:w,nodeId:T,onConnect:P,isTarget:b,getState:E.getState,setState:E.setState,isValidConnection:n||E.getState().isValidConnection||NR}),L?d==null||d(U):h==null||h(U)},N=U=>{const{onClickConnectStart:L,onClickConnectEnd:j,connectionClickStartHandle:G,connectionMode:se,isValidConnection:K}=E.getState();if(!T||!G&&!s)return;if(!G){L==null||L(U,{nodeId:T,handleId:w,handleType:t}),E.setState({connectionClickStartHandle:{nodeId:T,type:t,handleId:w}});return}const Y=jO(U.target),oe=n||K||NR,{connection:Z,isValid:ee}=XO({nodeId:T,id:w,type:t},se,G.nodeId,G.handleId||null,G.type,oe,Y);ee&&P(Z),j==null||j(U),E.setState({connectionClickStartHandle:null})};return ut.createElement("div",{"data-handleid":w,"data-nodeid":T,"data-handlepos":e,"data-id":`${T}-${w}-${t}`,className:qi(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",k,A,{source:!b,target:b,connectable:r,connectablestart:s,connectableend:a,connecting:D,connectionindicator:r&&(s&&!F||a&&F)}]),onMouseDown:S,onTouchStart:S,onClick:I?N:void 0,ref:g,...p},l)});ej.displayName="Handle";var py=X.memo(ej);const tj=({data:t,isConnectable:e,targetPosition:n=an.Top,sourcePosition:r=an.Bottom})=>ut.createElement(ut.Fragment,null,ut.createElement(py,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,ut.createElement(py,{type:"source",position:r,isConnectable:e}));tj.displayName="DefaultNode";var mS=X.memo(tj);const nj=({data:t,isConnectable:e,sourcePosition:n=an.Bottom})=>ut.createElement(ut.Fragment,null,t==null?void 0:t.label,ut.createElement(py,{type:"source",position:n,isConnectable:e}));nj.displayName="InputNode";var rj=X.memo(nj);const sj=({data:t,isConnectable:e,targetPosition:n=an.Top})=>ut.createElement(ut.Fragment,null,ut.createElement(py,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label);sj.displayName="OutputNode";var aj=X.memo(sj);const k4=()=>null;k4.displayName="GroupNode";const V_e=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),Fv=t=>t.id;function G_e(t,e){return Mi(t.selectedNodes.map(Fv),e.selectedNodes.map(Fv))&&Mi(t.selectedEdges.map(Fv),e.selectedEdges.map(Fv))}const ij=X.memo(({onSelectionChange:t})=>{const e=Va(),{selectedNodes:n,selectedEdges:r}=Cs(V_e,G_e);return X.useEffect(()=>{const s={nodes:n,edges:r};t==null||t(s),e.getState().onSelectionChange.forEach(a=>a(s))},[n,r,t]),null});ij.displayName="SelectionListener";const z_e=t=>!!t.onSelectionChange;function K_e({onSelectionChange:t}){const e=Cs(z_e);return t||e?ut.createElement(ij,{onSelectionChange:t}):null}const q_e=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function m0(t,e){X.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function Yn(t,e,n){X.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const W_e=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:a,onConnectEnd:i,onClickConnectStart:o,onClickConnectEnd:l,nodesDraggable:A,nodesConnectable:d,nodesFocusable:h,edgesFocusable:p,edgesUpdatable:g,elevateNodesOnSelect:w,minZoom:b,maxZoom:E,nodeExtent:T,onNodesChange:I,onEdgesChange:k,elementsSelectable:F,connectionMode:D,snapGrid:P,snapToGrid:S,translateExtent:N,connectOnClick:B,defaultEdgeOptions:V,fitView:U,fitViewOptions:L,onNodesDelete:j,onEdgesDelete:G,onNodeDrag:se,onNodeDragStart:K,onNodeDragStop:Y,onSelectionDrag:oe,onSelectionDragStart:Z,onSelectionDragStop:ee,noPanClassName:he,nodeOrigin:O,rfId:q,autoPanOnConnect:J,autoPanOnNodeDrag:ne,onError:ae,connectionRadius:ue,isValidConnection:pe,nodeDragThreshold:ye})=>{const{setNodes:Ie,setEdges:we,setDefaultNodesAndEdges:ie,setMinZoom:De,setMaxZoom:st,setTranslateExtent:Ue,setNodeExtent:Ee,reset:ze}=Cs(q_e,Mi),nt=Va();return X.useEffect(()=>{const it=r==null?void 0:r.map(mt=>({...mt,...V}));return ie(n,it),()=>{ze()}},[]),Yn("defaultEdgeOptions",V,nt.setState),Yn("connectionMode",D,nt.setState),Yn("onConnect",s,nt.setState),Yn("onConnectStart",a,nt.setState),Yn("onConnectEnd",i,nt.setState),Yn("onClickConnectStart",o,nt.setState),Yn("onClickConnectEnd",l,nt.setState),Yn("nodesDraggable",A,nt.setState),Yn("nodesConnectable",d,nt.setState),Yn("nodesFocusable",h,nt.setState),Yn("edgesFocusable",p,nt.setState),Yn("edgesUpdatable",g,nt.setState),Yn("elementsSelectable",F,nt.setState),Yn("elevateNodesOnSelect",w,nt.setState),Yn("snapToGrid",S,nt.setState),Yn("snapGrid",P,nt.setState),Yn("onNodesChange",I,nt.setState),Yn("onEdgesChange",k,nt.setState),Yn("connectOnClick",B,nt.setState),Yn("fitViewOnInit",U,nt.setState),Yn("fitViewOnInitOptions",L,nt.setState),Yn("onNodesDelete",j,nt.setState),Yn("onEdgesDelete",G,nt.setState),Yn("onNodeDrag",se,nt.setState),Yn("onNodeDragStart",K,nt.setState),Yn("onNodeDragStop",Y,nt.setState),Yn("onSelectionDrag",oe,nt.setState),Yn("onSelectionDragStart",Z,nt.setState),Yn("onSelectionDragStop",ee,nt.setState),Yn("noPanClassName",he,nt.setState),Yn("nodeOrigin",O,nt.setState),Yn("rfId",q,nt.setState),Yn("autoPanOnConnect",J,nt.setState),Yn("autoPanOnNodeDrag",ne,nt.setState),Yn("onError",ae,nt.setState),Yn("connectionRadius",ue,nt.setState),Yn("isValidConnection",pe,nt.setState),Yn("nodeDragThreshold",ye,nt.setState),m0(t,Ie),m0(e,we),m0(b,De),m0(E,st),m0(N,Ue),m0(T,Ee),null},kR={display:"none"},$_e={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},oj="react-flow__node-desc",lj="react-flow__edge-desc",Y_e="react-flow__aria-live",J_e=t=>t.ariaLiveMessage;function X_e({rfId:t}){const e=Cs(J_e);return ut.createElement("div",{id:`${Y_e}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:$_e},e)}function Z_e({rfId:t,disableKeyboardA11y:e}){return ut.createElement(ut.Fragment,null,ut.createElement("div",{id:`${oj}-${t}`,style:kR},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ut.createElement("div",{id:`${lj}-${t}`,style:kR},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&ut.createElement(X_e,{rfId:t}))}var ix=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=X.useState(!1),s=X.useRef(!1),a=X.useRef(new Set([])),[i,o]=X.useMemo(()=>{if(t!==null){const A=(Array.isArray(t)?t:[t]).filter(h=>typeof h=="string").map(h=>h.split("+")),d=A.reduce((h,p)=>h.concat(...p),[]);return[A,d]}return[[],[]]},[t]);return X.useEffect(()=>{const l=typeof document<"u"?document:null,A=(e==null?void 0:e.target)||l;if(t!==null){const d=g=>{if(s.current=g.ctrlKey||g.metaKey||g.shiftKey,(!s.current||s.current&&!e.actInsideInputWithModifier)&&uS(g))return!1;const b=FR(g.code,o);a.current.add(g[b]),IR(i,a.current,!1)&&(g.preventDefault(),r(!0))},h=g=>{if((!s.current||s.current&&!e.actInsideInputWithModifier)&&uS(g))return!1;const b=FR(g.code,o);IR(i,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(g[b]),g.key==="Meta"&&a.current.clear(),s.current=!1},p=()=>{a.current.clear(),r(!1)};return A==null||A.addEventListener("keydown",d),A==null||A.addEventListener("keyup",h),window.addEventListener("blur",p),()=>{A==null||A.removeEventListener("keydown",d),A==null||A.removeEventListener("keyup",h),window.removeEventListener("blur",p)}}},[t,r]),n};function IR(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(s=>e.has(s)))}function FR(t,e){return e.includes(t)?"code":"key"}function cj(t,e,n,r){var o,l;const s=t.parentNode||t.parentId;if(!s)return n;const a=e.get(s),i=rm(a,r);return cj(a,e,{x:(n.x??0)+i.x,y:(n.y??0)+i.y,z:(((o=a[Ds])==null?void 0:o.z)??0)>(n.z??0)?((l=a[Ds])==null?void 0:l.z)??0:n.z??0},r)}function Aj(t,e,n){t.forEach(r=>{var a;const s=r.parentNode||r.parentId;if(s&&!t.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:i,y:o,z:l}=cj(r,t,{...r.position,z:((a=r[Ds])==null?void 0:a.z)??0},e);r.positionAbsolute={x:i,y:o},r[Ds].z=l,n!=null&&n[r.id]&&(r[Ds].isParent=!0)}})}function mE(t,e,n,r){const s=new Map,a={},i=r?1e3:0;return t.forEach(o=>{var g;const l=(Tl(o.zIndex)?o.zIndex:0)+(o.selected?i:0),A=e.get(o.id),d={...o,positionAbsolute:{x:o.position.x,y:o.position.y}},h=o.parentNode||o.parentId;h&&(a[h]=!0);const p=(A==null?void 0:A.type)&&(A==null?void 0:A.type)!==o.type;Object.defineProperty(d,Ds,{enumerable:!1,value:{handleBounds:p||(g=A==null?void 0:A[Ds])==null?void 0:g.handleBounds,z:l}}),s.set(o.id,d)}),Aj(s,n,a),s}function uj(t,e={}){const{getNodes:n,width:r,height:s,minZoom:a,maxZoom:i,d3Zoom:o,d3Selection:l,fitViewOnInitDone:A,fitViewOnInit:d,nodeOrigin:h}=t(),p=e.initial&&!A&&d;if(o&&l&&(p||!e.initial)){const w=n().filter(E=>{var I;const T=e.includeHiddenNodes?E.width&&E.height:!E.hidden;return(I=e.nodes)!=null&&I.length?T&&e.nodes.some(k=>k.id===E.id):T}),b=w.every(E=>E.width&&E.height);if(w.length>0&&b){const E=B4(w,h),{x:T,y:I,zoom:k}=YO(E,r,s,e.minZoom??a,e.maxZoom??i,e.padding??.1),F=Qd.translate(T,I).scale(k);return typeof e.duration=="number"&&e.duration>0?o.transform(Lf(l,e.duration),F):o.transform(l,F),!0}}return!1}function eSe(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[Ds]:r[Ds],selected:n.selected})}),new Map(e)}function tSe(t,e){return e.map(n=>{const r=t.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function Rv({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:s,edges:a,onNodesChange:i,onEdgesChange:o,hasDefaultNodes:l,hasDefaultEdges:A}=n();t!=null&&t.length&&(l&&r({nodeInternals:eSe(t,s)}),i==null||i(t)),e!=null&&e.length&&(A&&r({edges:tSe(e,a)}),o==null||o(e))}const p0=()=>{},nSe={zoomIn:p0,zoomOut:p0,zoomTo:p0,getZoom:()=>1,setViewport:p0,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:p0,fitBounds:p0,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},rSe=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),sSe=()=>{const t=Va(),{d3Zoom:e,d3Selection:n}=Cs(rSe,Mi);return X.useMemo(()=>n&&e?{zoomIn:s=>e.scaleBy(Lf(n,s==null?void 0:s.duration),1.2),zoomOut:s=>e.scaleBy(Lf(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,a)=>e.scaleTo(Lf(n,a==null?void 0:a.duration),s),getZoom:()=>t.getState().transform[2],setViewport:(s,a)=>{const[i,o,l]=t.getState().transform,A=Qd.translate(s.x??i,s.y??o).scale(s.zoom??l);e.transform(Lf(n,a==null?void 0:a.duration),A)},getViewport:()=>{const[s,a,i]=t.getState().transform;return{x:s,y:a,zoom:i}},fitView:s=>uj(t.getState,s),setCenter:(s,a,i)=>{const{width:o,height:l,maxZoom:A}=t.getState(),d=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:A,h=o/2-s*d,p=l/2-a*d,g=Qd.translate(h,p).scale(d);e.transform(Lf(n,i==null?void 0:i.duration),g)},fitBounds:(s,a)=>{const{width:i,height:o,minZoom:l,maxZoom:A}=t.getState(),{x:d,y:h,zoom:p}=YO(s,i,o,l,A,(a==null?void 0:a.padding)??.1),g=Qd.translate(d,h).scale(p);e.transform(Lf(n,a==null?void 0:a.duration),g)},project:s=>{const{transform:a,snapToGrid:i,snapGrid:o}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),hS(s,a,i,o)},screenToFlowPosition:s=>{const{transform:a,snapToGrid:i,snapGrid:o,domNode:l}=t.getState();if(!l)return s;const{x:A,y:d}=l.getBoundingClientRect(),h={x:s.x-A,y:s.y-d};return hS(h,a,i,o)},flowToScreenPosition:s=>{const{transform:a,domNode:i}=t.getState();if(!i)return s;const{x:o,y:l}=i.getBoundingClientRect(),A=qO(s,a);return{x:A.x+o,y:A.y+l}},viewportInitialized:!0}:nSe,[e,n])};function bw(){const t=sSe(),e=Va(),n=X.useCallback(()=>e.getState().getNodes().map(b=>({...b})),[]),r=X.useCallback(b=>e.getState().nodeInternals.get(b),[]),s=X.useCallback(()=>{const{edges:b=[]}=e.getState();return b.map(E=>({...E}))},[]),a=X.useCallback(b=>{const{edges:E=[]}=e.getState();return E.find(T=>T.id===b)},[]),i=X.useCallback(b=>{const{getNodes:E,setNodes:T,hasDefaultNodes:I,onNodesChange:k}=e.getState(),F=E(),D=typeof b=="function"?b(F):b;if(I)T(D);else if(k){const P=D.length===0?F.map(S=>({type:"remove",id:S.id})):D.map(S=>({item:S,type:"reset"}));k(P)}},[]),o=X.useCallback(b=>{const{edges:E=[],setEdges:T,hasDefaultEdges:I,onEdgesChange:k}=e.getState(),F=typeof b=="function"?b(E):b;if(I)T(F);else if(k){const D=F.length===0?E.map(P=>({type:"remove",id:P.id})):F.map(P=>({item:P,type:"reset"}));k(D)}},[]),l=X.useCallback(b=>{const E=Array.isArray(b)?b:[b],{getNodes:T,setNodes:I,hasDefaultNodes:k,onNodesChange:F}=e.getState();if(k){const P=[...T(),...E];I(P)}else if(F){const D=E.map(P=>({item:P,type:"add"}));F(D)}},[]),A=X.useCallback(b=>{const E=Array.isArray(b)?b:[b],{edges:T=[],setEdges:I,hasDefaultEdges:k,onEdgesChange:F}=e.getState();if(k)I([...T,...E]);else if(F){const D=E.map(P=>({item:P,type:"add"}));F(D)}},[]),d=X.useCallback(()=>{const{getNodes:b,edges:E=[],transform:T}=e.getState(),[I,k,F]=T;return{nodes:b().map(D=>({...D})),edges:E.map(D=>({...D})),viewport:{x:I,y:k,zoom:F}}},[]),h=X.useCallback(({nodes:b,edges:E})=>{const{nodeInternals:T,getNodes:I,edges:k,hasDefaultNodes:F,hasDefaultEdges:D,onNodesDelete:P,onEdgesDelete:S,onNodesChange:N,onEdgesChange:B}=e.getState(),V=(b||[]).map(se=>se.id),U=(E||[]).map(se=>se.id),L=I().reduce((se,K)=>{const Y=K.parentNode||K.parentId,oe=!V.includes(K.id)&&Y&&se.find(ee=>ee.id===Y);return(typeof K.deletable=="boolean"?K.deletable:!0)&&(V.includes(K.id)||oe)&&se.push(K),se},[]),j=k.filter(se=>typeof se.deletable=="boolean"?se.deletable:!0),G=j.filter(se=>U.includes(se.id));if(L||G){const se=$O(L,j),K=[...G,...se],Y=K.reduce((oe,Z)=>(oe.includes(Z.id)||oe.push(Z.id),oe),[]);if((D||F)&&(D&&e.setState({edges:k.filter(oe=>!Y.includes(oe.id))}),F&&(L.forEach(oe=>{T.delete(oe.id)}),e.setState({nodeInternals:new Map(T)}))),Y.length>0&&(S==null||S(K),B&&B(Y.map(oe=>({id:oe,type:"remove"})))),L.length>0&&(P==null||P(L),N)){const oe=L.map(Z=>({id:Z.id,type:"remove"}));N(oe)}}},[]),p=X.useCallback(b=>{const E=E_e(b),T=E?null:e.getState().nodeInternals.get(b.id);return!E&&!T?[null,null,E]:[E?b:CR(T),T,E]},[]),g=X.useCallback((b,E=!0,T)=>{const[I,k,F]=p(b);return I?(T||e.getState().getNodes()).filter(D=>{if(!F&&(D.id===k.id||!D.positionAbsolute))return!1;const P=CR(D),S=AS(P,I);return E&&S>0||S>=I.width*I.height}):[]},[]),w=X.useCallback((b,E,T=!0)=>{const[I]=p(b);if(!I)return!1;const k=AS(I,E);return T&&k>0||k>=I.width*I.height},[]);return X.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:s,getEdge:a,setNodes:i,setEdges:o,addNodes:l,addEdges:A,toObject:d,deleteElements:h,getIntersectingNodes:g,isNodeIntersecting:w}),[t,n,r,s,a,i,o,l,A,d,h,g,w])}const aSe={actInsideInputWithModifier:!1};var iSe=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=Va(),{deleteElements:r}=bw(),s=ix(t,aSe),a=ix(e);X.useEffect(()=>{if(s){const{edges:i,getNodes:o}=n.getState(),l=o().filter(d=>d.selected),A=i.filter(d=>d.selected);r({nodes:l,edges:A}),n.setState({nodesSelectionActive:!1})}},[s]),X.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function oSe(t){const e=Va();X.useEffect(()=>{let n;const r=()=>{var a,i;if(!t.current)return;const s=w4(t.current);(s.height===0||s.width===0)&&((i=(a=e.getState()).onError)==null||i.call(a,"004",Eu.error004())),e.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const I4={position:"absolute",width:"100%",height:"100%",top:0,left:0},lSe=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Dv=t=>({x:t.x,y:t.y,zoom:t.k}),g0=(t,e)=>t.target.closest(`.${e}`),RR=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),DR=t=>{const e=t.ctrlKey&&fy()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},cSe=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),ASe=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:a=!0,panOnScroll:i=!1,panOnScrollSpeed:o=.5,panOnScrollMode:l=zf.Free,zoomOnDoubleClick:A=!0,elementsSelectable:d,panOnDrag:h=!0,defaultViewport:p,translateExtent:g,minZoom:w,maxZoom:b,zoomActivationKeyCode:E,preventScrolling:T=!0,children:I,noWheelClassName:k,noPanClassName:F})=>{const D=X.useRef(),P=Va(),S=X.useRef(!1),N=X.useRef(!1),B=X.useRef(null),V=X.useRef({x:0,y:0,zoom:0}),{d3Zoom:U,d3Selection:L,d3ZoomHandler:j,userSelectionActive:G}=Cs(cSe,Mi),se=ix(E),K=X.useRef(0),Y=X.useRef(!1),oe=X.useRef();return oSe(B),X.useEffect(()=>{if(B.current){const Z=B.current.getBoundingClientRect(),ee=p_e().scaleExtent([w,b]).translateExtent(g),he=cc(B.current).call(ee),O=Qd.translate(p.x,p.y).scale(vm(p.zoom,w,b)),q=[[0,0],[Z.width,Z.height]],J=ee.constrain()(O,q,g);ee.transform(he,J),ee.wheelDelta(DR),P.setState({d3Zoom:ee,d3Selection:he,d3ZoomHandler:he.on("wheel.zoom"),transform:[J.x,J.y,J.k],domNode:B.current.closest(".react-flow")})}},[]),X.useEffect(()=>{L&&U&&(i&&!se&&!G?L.on("wheel.zoom",Z=>{if(g0(Z,k))return!1;Z.preventDefault(),Z.stopImmediatePropagation();const ee=L.property("__zoom").k||1;if(Z.ctrlKey&&a){const pe=iA(Z),ye=DR(Z),Ie=ee*Math.pow(2,ye);U.scaleTo(L,Ie,pe,Z);return}const he=Z.deltaMode===1?20:1;let O=l===zf.Vertical?0:Z.deltaX*he,q=l===zf.Horizontal?0:Z.deltaY*he;!fy()&&Z.shiftKey&&l!==zf.Vertical&&(O=Z.deltaY*he,q=0),U.translateBy(L,-(O/ee)*o,-(q/ee)*o,{internal:!0});const J=Dv(L.property("__zoom")),{onViewportChangeStart:ne,onViewportChange:ae,onViewportChangeEnd:ue}=P.getState();clearTimeout(oe.current),Y.current||(Y.current=!0,e==null||e(Z,J),ne==null||ne(J)),Y.current&&(t==null||t(Z,J),ae==null||ae(J),oe.current=setTimeout(()=>{n==null||n(Z,J),ue==null||ue(J),Y.current=!1},150))},{passive:!1}):typeof j<"u"&&L.on("wheel.zoom",function(Z,ee){if(!T&&Z.type==="wheel"&&!Z.ctrlKey||g0(Z,k))return null;Z.preventDefault(),j.call(this,Z,ee)},{passive:!1}))},[G,i,l,L,U,j,se,a,T,k,e,t,n]),X.useEffect(()=>{U&&U.on("start",Z=>{var O,q;if(!Z.sourceEvent||Z.sourceEvent.internal)return null;K.current=(O=Z.sourceEvent)==null?void 0:O.button;const{onViewportChangeStart:ee}=P.getState(),he=Dv(Z.transform);S.current=!0,V.current=he,((q=Z.sourceEvent)==null?void 0:q.type)==="mousedown"&&P.setState({paneDragging:!0}),ee==null||ee(he),e==null||e(Z.sourceEvent,he)})},[U,e]),X.useEffect(()=>{U&&(G&&!S.current?U.on("zoom",null):G||U.on("zoom",Z=>{var he;const{onViewportChange:ee}=P.getState();if(P.setState({transform:[Z.transform.x,Z.transform.y,Z.transform.k]}),N.current=!!(r&&RR(h,K.current??0)),(t||ee)&&!((he=Z.sourceEvent)!=null&&he.internal)){const O=Dv(Z.transform);ee==null||ee(O),t==null||t(Z.sourceEvent,O)}}))},[G,U,t,h,r]),X.useEffect(()=>{U&&U.on("end",Z=>{if(!Z.sourceEvent||Z.sourceEvent.internal)return null;const{onViewportChangeEnd:ee}=P.getState();if(S.current=!1,P.setState({paneDragging:!1}),r&&RR(h,K.current??0)&&!N.current&&r(Z.sourceEvent),N.current=!1,(n||ee)&&lSe(V.current,Z.transform)){const he=Dv(Z.transform);V.current=he,clearTimeout(D.current),D.current=setTimeout(()=>{ee==null||ee(he),n==null||n(Z.sourceEvent,he)},i?150:0)}})},[U,i,h,n,r]),X.useEffect(()=>{U&&U.filter(Z=>{const ee=se||s,he=a&&Z.ctrlKey;if((h===!0||Array.isArray(h)&&h.includes(1))&&Z.button===1&&Z.type==="mousedown"&&(g0(Z,"react-flow__node")||g0(Z,"react-flow__edge")))return!0;if(!h&&!ee&&!i&&!A&&!a||G||!A&&Z.type==="dblclick"||g0(Z,k)&&Z.type==="wheel"||g0(Z,F)&&(Z.type!=="wheel"||i&&Z.type==="wheel"&&!se)||!a&&Z.ctrlKey&&Z.type==="wheel"||!ee&&!i&&!he&&Z.type==="wheel"||!h&&(Z.type==="mousedown"||Z.type==="touchstart")||Array.isArray(h)&&!h.includes(Z.button)&&Z.type==="mousedown")return!1;const O=Array.isArray(h)&&h.includes(Z.button)||!Z.button||Z.button<=1;return(!Z.ctrlKey||Z.type==="wheel")&&O})},[G,U,s,a,i,A,h,d,se]),ut.createElement("div",{className:"react-flow__renderer",ref:B,style:I4},I)},uSe=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function dSe(){const{userSelectionActive:t,userSelectionRect:e}=Cs(uSe,Mi);return t&&e?ut.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function UR(t,e){const n=e.parentNode||e.parentId,r=t.find(s=>s.id===n);if(r){const s=e.position.x+e.width-r.width,a=e.position.y+e.height-r.height;if(s>0||a>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),a>0&&(r.style.height+=a),e.position.x<0){const i=Math.abs(e.position.x);r.position.x=r.position.x-i,r.style.width+=i,e.position.x=0}if(e.position.y<0){const i=Math.abs(e.position.y);r.position.y=r.position.y-i,r.style.height+=i,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function dj(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,s)=>{const a=t.filter(o=>o.id===s.id);if(a.length===0)return r.push(s),r;const i={...s};for(const o of a)if(o)switch(o.type){case"select":{i.selected=o.selected;break}case"position":{typeof o.position<"u"&&(i.position=o.position),typeof o.positionAbsolute<"u"&&(i.positionAbsolute=o.positionAbsolute),typeof o.dragging<"u"&&(i.dragging=o.dragging),i.expandParent&&UR(r,i);break}case"dimensions":{typeof o.dimensions<"u"&&(i.width=o.dimensions.width,i.height=o.dimensions.height),typeof o.updateStyle<"u"&&(i.style={...i.style||{},...o.dimensions}),typeof o.resizing=="boolean"&&(i.resizing=o.resizing),i.expandParent&&UR(r,i);break}case"remove":return r}return r.push(i),r},n)}function fj(t,e){return dj(t,e)}function fSe(t,e){return dj(t,e)}const yd=(t,e)=>({id:t,type:"select",selected:e});function L0(t,e){return t.reduce((n,r)=>{const s=e.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(yd(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(yd(r.id,!1))),n},[])}const pE=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},hSe=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),hj=X.memo(({isSelecting:t,selectionMode:e=ax.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:i,onPaneScroll:o,onPaneMouseEnter:l,onPaneMouseMove:A,onPaneMouseLeave:d,children:h})=>{const p=X.useRef(null),g=Va(),w=X.useRef(0),b=X.useRef(0),E=X.useRef(),{userSelectionActive:T,elementsSelectable:I,dragging:k}=Cs(hSe,Mi),F=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),w.current=0,b.current=0},D=j=>{a==null||a(j),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},P=j=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){j.preventDefault();return}i==null||i(j)},S=o?j=>o(j):void 0,N=j=>{const{resetSelectedElements:G,domNode:se}=g.getState();if(E.current=se==null?void 0:se.getBoundingClientRect(),!I||!t||j.button!==0||j.target!==p.current||!E.current)return;const{x:K,y:Y}=Hd(j,E.current);G(),g.setState({userSelectionRect:{width:0,height:0,startX:K,startY:Y,x:K,y:Y}}),r==null||r(j)},B=j=>{const{userSelectionRect:G,nodeInternals:se,edges:K,transform:Y,onNodesChange:oe,onEdgesChange:Z,nodeOrigin:ee,getNodes:he}=g.getState();if(!t||!E.current||!G)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});const O=Hd(j,E.current),q=G.startX??0,J=G.startY??0,ne={...G,x:O.x<q?O.x:q,y:O.y<J?O.y:J,width:Math.abs(O.x-q),height:Math.abs(O.y-J)},ae=he(),ue=WO(se,ne,Y,e===ax.Partial,!0,ee),pe=$O(ue,K).map(Ie=>Ie.id),ye=ue.map(Ie=>Ie.id);if(w.current!==ye.length){w.current=ye.length;const Ie=L0(ae,ye);Ie.length&&(oe==null||oe(Ie))}if(b.current!==pe.length){b.current=pe.length;const Ie=L0(K,pe);Ie.length&&(Z==null||Z(Ie))}g.setState({userSelectionRect:ne})},V=j=>{if(j.button!==0)return;const{userSelectionRect:G}=g.getState();!T&&G&&j.target===p.current&&(D==null||D(j)),g.setState({nodesSelectionActive:w.current>0}),F(),s==null||s(j)},U=j=>{T&&(g.setState({nodesSelectionActive:w.current>0}),s==null||s(j)),F()},L=I&&(t||T);return ut.createElement("div",{className:qi(["react-flow__pane",{dragging:k,selection:t}]),onClick:L?void 0:pE(D,p),onContextMenu:pE(P,p),onWheel:pE(S,p),onMouseEnter:L?void 0:l,onMouseDown:L?N:void 0,onMouseMove:L?B:A,onMouseUp:L?V:void 0,onMouseLeave:L?U:d,ref:p,style:I4},h,ut.createElement(dSe,null))});hj.displayName="Pane";function mj(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:mj(r,e):!1}function LR(t,e,n){let r=t;do{if(r!=null&&r.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function mSe(t,e,n,r){return Array.from(t.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!mj(s,t))&&(s.draggable||e&&typeof s.draggable>"u")).map(s=>{var a,i;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((a=s.positionAbsolute)==null?void 0:a.x)??0),y:n.y-(((i=s.positionAbsolute)==null?void 0:i.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function pSe(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function pj(t,e,n,r,s=[0,0],a){const i=pSe(t,t.extent||r);let o=i;const l=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(l&&t.width&&t.height){const h=n.get(l),{x:p,y:g}=rm(h,s).positionAbsolute;o=h&&Tl(p)&&Tl(g)&&Tl(h.width)&&Tl(h.height)?[[p+t.width*s[0],g+t.height*s[1]],[p+h.width-t.width+t.width*s[0],g+h.height-t.height+t.height*s[1]]]:o}else a==null||a("005",Eu.error005()),o=i;else if(t.extent&&l&&t.extent!=="parent"){const h=n.get(l),{x:p,y:g}=rm(h,s).positionAbsolute;o=[[t.extent[0][0]+p,t.extent[0][1]+g],[t.extent[1][0]+p,t.extent[1][1]+g]]}let A={x:0,y:0};if(l){const h=n.get(l);A=rm(h,s).positionAbsolute}const d=o&&o!=="parent"?b4(e,o):e;return{position:{x:d.x-A.x,y:d.y-A.y},positionAbsolute:d}}function gE({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[t?r.find(s=>s.id===t):r[0],r]}const MR=(t,e,n,r)=>{const s=e.querySelectorAll(t);if(!s||!s.length)return null;const a=Array.from(s),i=e.getBoundingClientRect(),o={x:i.width*r[0],y:i.height*r[1]};return a.map(l=>{const A=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(A.left-i.left-o.x)/n,y:(A.top-i.top-o.y)/n,...w4(l)}})};function Lp(t,e,n){return n===void 0?n:r=>{const s=e().nodeInternals.get(t);s&&n(r,{...s})}}function pS({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:a,multiSelectionActive:i,nodeInternals:o,onError:l}=e.getState(),A=o.get(t);if(!A){l==null||l("012",Eu.error012(t));return}e.setState({nodesSelectionActive:!1}),A.selected?(n||A.selected&&i)&&(a({nodes:[A],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([t])}function gSe(){const t=Va();return X.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:a}=t.getState(),i=n.touches?n.touches[0].clientX:n.clientX,o=n.touches?n.touches[0].clientY:n.clientY,l={x:(i-r[0])/r[2],y:(o-r[1])/r[2]};return{xSnapped:a?s[0]*Math.round(l.x/s[0]):l.x,ySnapped:a?s[1]*Math.round(l.y/s[1]):l.y,...l}},[])}function xE(t){return(e,n,r)=>t==null?void 0:t(e,r)}function gj({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:a,selectNodesOnDrag:i}){const o=Va(),[l,A]=X.useState(!1),d=X.useRef([]),h=X.useRef({x:null,y:null}),p=X.useRef(0),g=X.useRef(null),w=X.useRef({x:0,y:0}),b=X.useRef(null),E=X.useRef(!1),T=X.useRef(!1),I=X.useRef(!1),k=gSe();return X.useEffect(()=>{if(t!=null&&t.current){const F=cc(t.current),D=({x:N,y:B})=>{const{nodeInternals:V,onNodeDrag:U,onSelectionDrag:L,updateNodePositions:j,nodeExtent:G,snapGrid:se,snapToGrid:K,nodeOrigin:Y,onError:oe}=o.getState();h.current={x:N,y:B};let Z=!1,ee={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&G){const O=B4(d.current,Y);ee=C4(O)}if(d.current=d.current.map(O=>{const q={x:N-O.distance.x,y:B-O.distance.y};K&&(q.x=se[0]*Math.round(q.x/se[0]),q.y=se[1]*Math.round(q.y/se[1]));const J=[[G[0][0],G[0][1]],[G[1][0],G[1][1]]];d.current.length>1&&G&&!O.extent&&(J[0][0]=O.positionAbsolute.x-ee.x+G[0][0],J[1][0]=O.positionAbsolute.x+(O.width??0)-ee.x2+G[1][0],J[0][1]=O.positionAbsolute.y-ee.y+G[0][1],J[1][1]=O.positionAbsolute.y+(O.height??0)-ee.y2+G[1][1]);const ne=pj(O,q,V,J,Y,oe);return Z=Z||O.position.x!==ne.position.x||O.position.y!==ne.position.y,O.position=ne.position,O.positionAbsolute=ne.positionAbsolute,O}),!Z)return;j(d.current,!0,!0),A(!0);const he=s?U:xE(L);if(he&&b.current){const[O,q]=gE({nodeId:s,dragItems:d.current,nodeInternals:V});he(b.current,O,q)}},P=()=>{if(!g.current)return;const[N,B]=OO(w.current,g.current);if(N!==0||B!==0){const{transform:V,panBy:U}=o.getState();h.current.x=(h.current.x??0)-N/V[2],h.current.y=(h.current.y??0)-B/V[2],U({x:N,y:B})&&D(h.current)}p.current=requestAnimationFrame(P)},S=N=>{var Y;const{nodeInternals:B,multiSelectionActive:V,nodesDraggable:U,unselectNodesAndEdges:L,onNodeDragStart:j,onSelectionDragStart:G}=o.getState();T.current=!0;const se=s?j:xE(G);(!i||!a)&&!V&&s&&((Y=B.get(s))!=null&&Y.selected||L()),s&&a&&i&&pS({id:s,store:o,nodeRef:t});const K=k(N);if(h.current=K,d.current=mSe(B,U,K,s),se&&d.current){const[oe,Z]=gE({nodeId:s,dragItems:d.current,nodeInternals:B});se(N.sourceEvent,oe,Z)}};if(e)F.on(".drag",null);else{const N=SCe().on("start",B=>{const{domNode:V,nodeDragThreshold:U}=o.getState();U===0&&S(B),I.current=!1;const L=k(B);h.current=L,g.current=(V==null?void 0:V.getBoundingClientRect())||null,w.current=Hd(B.sourceEvent,g.current)}).on("drag",B=>{var j,G;const V=k(B),{autoPanOnNodeDrag:U,nodeDragThreshold:L}=o.getState();if(B.sourceEvent.type==="touchmove"&&B.sourceEvent.touches.length>1&&(I.current=!0),!I.current){if(!E.current&&T.current&&U&&(E.current=!0,P()),!T.current){const se=V.xSnapped-(((j=h==null?void 0:h.current)==null?void 0:j.x)??0),K=V.ySnapped-(((G=h==null?void 0:h.current)==null?void 0:G.y)??0);Math.sqrt(se*se+K*K)>L&&S(B)}(h.current.x!==V.xSnapped||h.current.y!==V.ySnapped)&&d.current&&T.current&&(b.current=B.sourceEvent,w.current=Hd(B.sourceEvent,g.current),D(V))}}).on("end",B=>{if(!(!T.current||I.current)&&(A(!1),E.current=!1,T.current=!1,cancelAnimationFrame(p.current),d.current)){const{updateNodePositions:V,nodeInternals:U,onNodeDragStop:L,onSelectionDragStop:j}=o.getState(),G=s?L:xE(j);if(V(d.current,!1,!1),G){const[se,K]=gE({nodeId:s,dragItems:d.current,nodeInternals:U});G(B.sourceEvent,se,K)}}}).filter(B=>{const V=B.target;return!B.button&&(!n||!LR(V,`.${n}`,t))&&(!r||LR(V,r,t))});return F.call(N),()=>{F.on(".drag",null)}}}},[t,e,n,r,a,o,s,i,k]),l}function xj(){const t=Va();return X.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:a,getNodes:i,snapToGrid:o,snapGrid:l,onError:A,nodesDraggable:d}=t.getState(),h=i().filter(I=>I.selected&&(I.draggable||d&&typeof I.draggable>"u")),p=o?l[0]:5,g=o?l[1]:5,w=n.isShiftPressed?4:1,b=n.x*p*w,E=n.y*g*w,T=h.map(I=>{if(I.positionAbsolute){const k={x:I.positionAbsolute.x+b,y:I.positionAbsolute.y+E};o&&(k.x=l[0]*Math.round(k.x/l[0]),k.y=l[1]*Math.round(k.y/l[1]));const{positionAbsolute:F,position:D}=pj(I,k,r,s,void 0,A);I.position=D,I.positionAbsolute=F}return I});a(T,!0,!1)},[])}const sm={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Mp=t=>{const e=({id:n,type:r,data:s,xPos:a,yPos:i,xPosOrigin:o,yPosOrigin:l,selected:A,onClick:d,onMouseEnter:h,onMouseMove:p,onMouseLeave:g,onContextMenu:w,onDoubleClick:b,style:E,className:T,isDraggable:I,isSelectable:k,isConnectable:F,isFocusable:D,selectNodesOnDrag:P,sourcePosition:S,targetPosition:N,hidden:B,resizeObserver:V,dragHandle:U,zIndex:L,isParent:j,noDragClassName:G,noPanClassName:se,initialized:K,disableKeyboardA11y:Y,ariaLabel:oe,rfId:Z,hasHandleBounds:ee})=>{const he=Va(),O=X.useRef(null),q=X.useRef(null),J=X.useRef(S),ne=X.useRef(N),ae=X.useRef(r),ue=k||I||d||h||p||g,pe=xj(),ye=Lp(n,he.getState,h),Ie=Lp(n,he.getState,p),we=Lp(n,he.getState,g),ie=Lp(n,he.getState,w),De=Lp(n,he.getState,b),st=ze=>{const{nodeDragThreshold:nt}=he.getState();if(k&&(!P||!I||nt>0)&&pS({id:n,store:he,nodeRef:O}),d){const it=he.getState().nodeInternals.get(n);it&&d(ze,{...it})}},Ue=ze=>{if(!uS(ze)&&!Y)if(QO.includes(ze.key)&&k){const nt=ze.key==="Escape";pS({id:n,store:he,unselect:nt,nodeRef:O})}else I&&A&&Object.prototype.hasOwnProperty.call(sm,ze.key)&&(he.setState({ariaLiveMessage:`Moved selected node ${ze.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~i}`}),pe({x:sm[ze.key].x,y:sm[ze.key].y,isShiftPressed:ze.shiftKey}))};X.useEffect(()=>()=>{q.current&&(V==null||V.unobserve(q.current),q.current=null)},[]),X.useEffect(()=>{if(O.current&&!B){const ze=O.current;(!K||!ee||q.current!==ze)&&(q.current&&(V==null||V.unobserve(q.current)),V==null||V.observe(ze),q.current=ze)}},[B,K,ee]),X.useEffect(()=>{const ze=ae.current!==r,nt=J.current!==S,it=ne.current!==N;O.current&&(ze||nt||it)&&(ze&&(ae.current=r),nt&&(J.current=S),it&&(ne.current=N),he.getState().updateNodeDimensions([{id:n,nodeElement:O.current,forceUpdate:!0}]))},[n,r,S,N]);const Ee=gj({nodeRef:O,disabled:B||!I,noDragClassName:G,handleSelector:U,nodeId:n,isSelectable:k,selectNodesOnDrag:P});return B?null:ut.createElement("div",{className:qi(["react-flow__node",`react-flow__node-${r}`,{[se]:I},T,{selected:A,selectable:k,parent:j,dragging:Ee}]),ref:O,style:{zIndex:L,transform:`translate(${o}px,${l}px)`,pointerEvents:ue?"all":"none",visibility:K?"visible":"hidden",...E},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ye,onMouseMove:Ie,onMouseLeave:we,onContextMenu:ie,onClick:st,onDoubleClick:De,onKeyDown:D?Ue:void 0,tabIndex:D?0:void 0,role:D?"button":void 0,"aria-describedby":Y?void 0:`${oj}-${Z}`,"aria-label":oe},ut.createElement(I_e,{value:n},ut.createElement(t,{id:n,data:s,type:r,xPos:a,yPos:i,selected:A,isConnectable:F,sourcePosition:S,targetPosition:N,dragging:Ee,dragHandle:U,zIndex:L})))};return e.displayName="NodeWrapper",X.memo(e)};const xSe=t=>{const e=t.getNodes().filter(n=>n.selected);return{...B4(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function vSe({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=Va(),{width:s,height:a,x:i,y:o,transformString:l,userSelectionActive:A}=Cs(xSe,Mi),d=xj(),h=X.useRef(null);if(X.useEffect(()=>{var w;n||(w=h.current)==null||w.focus({preventScroll:!0})},[n]),gj({nodeRef:h}),A||!s||!a)return null;const p=t?w=>{const b=r.getState().getNodes().filter(E=>E.selected);t(w,b)}:void 0,g=w=>{Object.prototype.hasOwnProperty.call(sm,w.key)&&d({x:sm[w.key].x,y:sm[w.key].y,isShiftPressed:w.shiftKey})};return ut.createElement("div",{className:qi(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l}},ut.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:g,style:{width:s,height:a,top:o,left:i}}))}var ySe=X.memo(vSe);const wSe=t=>t.nodesSelectionActive,vj=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:i,deleteKeyCode:o,onMove:l,onMoveStart:A,onMoveEnd:d,selectionKeyCode:h,selectionOnDrag:p,selectionMode:g,onSelectionStart:w,onSelectionEnd:b,multiSelectionKeyCode:E,panActivationKeyCode:T,zoomActivationKeyCode:I,elementsSelectable:k,zoomOnScroll:F,zoomOnPinch:D,panOnScroll:P,panOnScrollSpeed:S,panOnScrollMode:N,zoomOnDoubleClick:B,panOnDrag:V,defaultViewport:U,translateExtent:L,minZoom:j,maxZoom:G,preventScrolling:se,onSelectionContextMenu:K,noWheelClassName:Y,noPanClassName:oe,disableKeyboardA11y:Z})=>{const ee=Cs(wSe),he=ix(h),O=ix(T),q=O||V,J=O||P,ne=he||p&&q!==!0;return iSe({deleteKeyCode:o,multiSelectionKeyCode:E}),ut.createElement(ASe,{onMove:l,onMoveStart:A,onMoveEnd:d,onPaneContextMenu:a,elementsSelectable:k,zoomOnScroll:F,zoomOnPinch:D,panOnScroll:J,panOnScrollSpeed:S,panOnScrollMode:N,zoomOnDoubleClick:B,panOnDrag:!he&&q,defaultViewport:U,translateExtent:L,minZoom:j,maxZoom:G,zoomActivationKeyCode:I,preventScrolling:se,noWheelClassName:Y,noPanClassName:oe},ut.createElement(hj,{onSelectionStart:w,onSelectionEnd:b,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:i,panOnDrag:q,isSelecting:!!ne,selectionMode:g},t,ee&&ut.createElement(ySe,{onSelectionContextMenu:K,noPanClassName:oe,disableKeyboardA11y:Z})))};vj.displayName="FlowRenderer";var bSe=X.memo(vj);function CSe(t){return Cs(X.useCallback(n=>t?WO(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function ESe(t){const e={input:Mp(t.input||rj),default:Mp(t.default||mS),output:Mp(t.output||aj),group:Mp(t.group||k4)},n={},r=Object.keys(t).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,a)=>(s[a]=Mp(t[a]||mS),s),n);return{...e,...r}}const _Se=({x:t,y:e,width:n,height:r,origin:s})=>!n||!r?{x:t,y:e}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:t,y:e}:{x:t-n*s[0],y:e-r*s[1]},SSe=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),yj=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:a,onError:i}=Cs(SSe,Mi),o=CSe(t.onlyRenderVisibleElements),l=X.useRef(),A=X.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(h=>{const p=h.map(g=>({id:g.target.getAttribute("data-id"),nodeElement:g.target,forceUpdate:!0}));a(p)});return l.current=d,d},[]);return X.useEffect(()=>()=>{var d;(d=l==null?void 0:l.current)==null||d.disconnect()},[]),ut.createElement("div",{className:"react-flow__nodes",style:I4},o.map(d=>{var D,P,S;let h=d.type||"default";t.nodeTypes[h]||(i==null||i("003",Eu.error003(h)),h="default");const p=t.nodeTypes[h]||t.nodeTypes.default,g=!!(d.draggable||e&&typeof d.draggable>"u"),w=!!(d.selectable||s&&typeof d.selectable>"u"),b=!!(d.connectable||n&&typeof d.connectable>"u"),E=!!(d.focusable||r&&typeof d.focusable>"u"),T=t.nodeExtent?b4(d.positionAbsolute,t.nodeExtent):d.positionAbsolute,I=(T==null?void 0:T.x)??0,k=(T==null?void 0:T.y)??0,F=_Se({x:I,y:k,width:d.width??0,height:d.height??0,origin:t.nodeOrigin});return ut.createElement(p,{key:d.id,id:d.id,className:d.className,style:d.style,type:h,data:d.data,sourcePosition:d.sourcePosition||an.Bottom,targetPosition:d.targetPosition||an.Top,hidden:d.hidden,xPos:I,yPos:k,xPosOrigin:F.x,yPosOrigin:F.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!d.selected,isDraggable:g,isSelectable:w,isConnectable:b,isFocusable:E,resizeObserver:A,dragHandle:d.dragHandle,zIndex:((D=d[Ds])==null?void 0:D.z)??0,isParent:!!((P=d[Ds])!=null&&P.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!d.width&&!!d.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((S=d[Ds])!=null&&S.handleBounds)})}))};yj.displayName="NodeRenderer";var TSe=X.memo(yj);const BSe=(t,e,n)=>n===an.Left?t-e:n===an.Right?t+e:t,NSe=(t,e,n)=>n===an.Top?t-e:n===an.Bottom?t+e:t,PR="react-flow__edgeupdater",OR=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:a,onMouseOut:i,type:o})=>ut.createElement("circle",{onMouseDown:s,onMouseEnter:a,onMouseOut:i,className:qi([PR,`${PR}-${o}`]),cx:BSe(e,r,t),cy:NSe(n,r,t),r,stroke:"transparent",fill:"transparent"}),kSe=()=>!0;var x0=t=>{const e=({id:n,className:r,type:s,data:a,onClick:i,onEdgeDoubleClick:o,selected:l,animated:A,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:w,labelBgBorderRadius:b,style:E,source:T,target:I,sourceX:k,sourceY:F,targetX:D,targetY:P,sourcePosition:S,targetPosition:N,elementsSelectable:B,hidden:V,sourceHandleId:U,targetHandleId:L,onContextMenu:j,onMouseEnter:G,onMouseMove:se,onMouseLeave:K,reconnectRadius:Y,onReconnect:oe,onReconnectStart:Z,onReconnectEnd:ee,markerEnd:he,markerStart:O,rfId:q,ariaLabel:J,isFocusable:ne,isReconnectable:ae,pathOptions:ue,interactionWidth:pe,disableKeyboardA11y:ye})=>{const Ie=X.useRef(null),[we,ie]=X.useState(!1),[De,st]=X.useState(!1),Ue=Va(),Ee=X.useMemo(()=>`url('#${fS(O,q)}')`,[O,q]),ze=X.useMemo(()=>`url('#${fS(he,q)}')`,[he,q]);if(V)return null;const nt=gt=>{var Er;const{edges:xn,addSelectedEdges:Wt,unselectNodesAndEdges:ir,multiSelectionActive:mn}=Ue.getState(),Fn=xn.find(Bn=>Bn.id===n);Fn&&(B&&(Ue.setState({nodesSelectionActive:!1}),Fn.selected&&mn?(ir({nodes:[],edges:[Fn]}),(Er=Ie.current)==null||Er.blur()):Wt([n])),i&&i(gt,Fn))},it=Up(n,Ue.getState,o),mt=Up(n,Ue.getState,j),Ct=Up(n,Ue.getState,G),At=Up(n,Ue.getState,se),kt=Up(n,Ue.getState,K),Ft=(gt,xn)=>{if(gt.button!==0)return;const{edges:Wt,isValidConnection:ir}=Ue.getState(),mn=xn?I:T,Fn=(xn?L:U)||null,Er=xn?"target":"source",Bn=ir||kSe,Zs=xn,Xn=Wt.find(Dn=>Dn.id===n);st(!0),Z==null||Z(gt,Xn,Er);const Wr=Dn=>{st(!1),ee==null||ee(Dn,Xn,Er)};ZO({event:gt,handleId:Fn,nodeId:mn,onConnect:Dn=>oe==null?void 0:oe(Xn,Dn),isTarget:Zs,getState:Ue.getState,setState:Ue.setState,isValidConnection:Bn,edgeUpdaterType:Er,onReconnectEnd:Wr})},qt=gt=>Ft(gt,!0),Mt=gt=>Ft(gt,!1),Vt=()=>ie(!0),Yt=()=>ie(!1),Pt=!B&&!i,It=gt=>{var xn;if(!ye&&QO.includes(gt.key)&&B){const{unselectNodesAndEdges:Wt,addSelectedEdges:ir,edges:mn}=Ue.getState();gt.key==="Escape"?((xn=Ie.current)==null||xn.blur(),Wt({edges:[mn.find(Er=>Er.id===n)]})):ir([n])}};return ut.createElement("g",{className:qi(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:l,animated:A,inactive:Pt,updating:we}]),onClick:nt,onDoubleClick:it,onContextMenu:mt,onMouseEnter:Ct,onMouseMove:At,onMouseLeave:kt,onKeyDown:ne?It:void 0,tabIndex:ne?0:void 0,role:ne?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":J===null?void 0:J||`Edge from ${T} to ${I}`,"aria-describedby":ne?`${lj}-${q}`:void 0,ref:Ie},!De&&ut.createElement(t,{id:n,source:T,target:I,selected:l,animated:A,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:w,labelBgBorderRadius:b,data:a,style:E,sourceX:k,sourceY:F,targetX:D,targetY:P,sourcePosition:S,targetPosition:N,sourceHandleId:U,targetHandleId:L,markerStart:Ee,markerEnd:ze,pathOptions:ue,interactionWidth:pe}),ae&&ut.createElement(ut.Fragment,null,(ae==="source"||ae===!0)&&ut.createElement(OR,{position:S,centerX:k,centerY:F,radius:Y,onMouseDown:qt,onMouseEnter:Vt,onMouseOut:Yt,type:"source"}),(ae==="target"||ae===!0)&&ut.createElement(OR,{position:N,centerX:D,centerY:P,radius:Y,onMouseDown:Mt,onMouseEnter:Vt,onMouseOut:Yt,type:"target"})))};return e.displayName="EdgeWrapper",X.memo(e)};function ISe(t){const e={default:x0(t.default||my),straight:x0(t.bezier||S4),step:x0(t.step||_4),smoothstep:x0(t.step||ww),simplebezier:x0(t.simplebezier||E4)},n={},r=Object.keys(t).filter(s=>!["default","bezier"].includes(s)).reduce((s,a)=>(s[a]=x0(t[a]||my),s),n);return{...e,...r}}function jR(t,e,n=null){const r=((n==null?void 0:n.x)||0)+e.x,s=((n==null?void 0:n.y)||0)+e.y,a=(n==null?void 0:n.width)||e.width,i=(n==null?void 0:n.height)||e.height;switch(t){case an.Top:return{x:r+a/2,y:s};case an.Right:return{x:r+a,y:s+i/2};case an.Bottom:return{x:r+a/2,y:s+i};case an.Left:return{x:r,y:s+i/2}}}function QR(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const FSe=(t,e,n,r,s,a)=>{const i=jR(n,t,e),o=jR(a,r,s);return{sourceX:i.x,sourceY:i.y,targetX:o.x,targetY:o.y}};function RSe({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:a,width:i,height:o,transform:l}){const A={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+s),y2:Math.max(t.y+r,e.y+a)};A.x===A.x2&&(A.x2+=1),A.y===A.y2&&(A.y2+=1);const d=C4({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:i/l[2],height:o/l[2]}),h=Math.max(0,Math.min(d.x2,A.x2)-Math.max(d.x,A.x)),p=Math.max(0,Math.min(d.y2,A.y2)-Math.max(d.y,A.y));return Math.ceil(h*p)>0}function HR(t){var r,s,a,i,o;const e=((r=t==null?void 0:t[Ds])==null?void 0:r.handleBounds)||null,n=e&&(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&typeof((s=t==null?void 0:t.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((a=t==null?void 0:t.positionAbsolute)==null?void 0:a.y)<"u";return[{x:((i=t==null?void 0:t.positionAbsolute)==null?void 0:i.x)||0,y:((o=t==null?void 0:t.positionAbsolute)==null?void 0:o.y)||0,width:(t==null?void 0:t.width)||0,height:(t==null?void 0:t.height)||0},e,!!n]}const DSe=[{level:0,isMaxLevel:!0,edges:[]}];function USe(t,e,n=!1){let r=-1;const s=t.reduce((i,o)=>{var d,h;const l=Tl(o.zIndex);let A=l?o.zIndex:0;if(n){const p=e.get(o.target),g=e.get(o.source),w=o.selected||(p==null?void 0:p.selected)||(g==null?void 0:g.selected),b=Math.max(((d=g==null?void 0:g[Ds])==null?void 0:d.z)||0,((h=p==null?void 0:p[Ds])==null?void 0:h.z)||0,1e3);A=(l?o.zIndex:0)+(w?b:0)}return i[A]?i[A].push(o):i[A]=[o],r=A>r?A:r,i},{}),a=Object.entries(s).map(([i,o])=>{const l=+i;return{edges:o,level:l,isMaxLevel:l===r}});return a.length===0?DSe:a}function LSe(t,e,n){const r=Cs(X.useCallback(s=>t?s.edges.filter(a=>{const i=e.get(a.source),o=e.get(a.target);return(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&RSe({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:o.width,targetHeight:o.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[t,e]));return USe(r,e,n)}const MSe=({color:t="none",strokeWidth:e=1})=>ut.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),PSe=({color:t="none",strokeWidth:e=1})=>ut.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),VR={[hy.Arrow]:MSe,[hy.ArrowClosed]:PSe};function OSe(t){const e=Va();return X.useMemo(()=>{var s,a;return Object.prototype.hasOwnProperty.call(VR,t)?VR[t]:((a=(s=e.getState()).onError)==null||a.call(s,"009",Eu.error009(t)),null)},[t])}const jSe=({id:t,type:e,color:n,width:r=12.5,height:s=12.5,markerUnits:a="strokeWidth",strokeWidth:i,orient:o="auto-start-reverse"})=>{const l=OSe(e);return l?ut.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:o,refX:"0",refY:"0"},ut.createElement(l,{color:n,strokeWidth:i})):null},QSe=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((s,a)=>([a.markerStart,a.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const o=fS(i,e);r.includes(o)||(s.push({id:o,color:i.color||t,...i}),r.push(o))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))},wj=({defaultColor:t,rfId:e})=>{const n=Cs(X.useCallback(QSe({defaultColor:t,rfId:e}),[t,e]),(r,s)=>!(r.length!==s.length||r.some((a,i)=>a.id!==s[i].id)));return ut.createElement("defs",null,n.map(r=>ut.createElement(jSe,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};wj.displayName="MarkerDefinitions";var HSe=X.memo(wj);const VSe=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),bj=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:a,onEdgeContextMenu:i,onEdgeMouseEnter:o,onEdgeMouseMove:l,onEdgeMouseLeave:A,onEdgeClick:d,onEdgeDoubleClick:h,onReconnect:p,onReconnectStart:g,onReconnectEnd:w,reconnectRadius:b,children:E,disableKeyboardA11y:T})=>{const{edgesFocusable:I,edgesUpdatable:k,elementsSelectable:F,width:D,height:P,connectionMode:S,nodeInternals:N,onError:B}=Cs(VSe,Mi),V=LSe(e,N,n);return D?ut.createElement(ut.Fragment,null,V.map(({level:U,edges:L,isMaxLevel:j})=>ut.createElement("svg",{key:U,style:{zIndex:U},width:D,height:P,className:"react-flow__edges react-flow__container"},j&&ut.createElement(HSe,{defaultColor:t,rfId:r}),ut.createElement("g",null,L.map(G=>{const[se,K,Y]=HR(N.get(G.source)),[oe,Z,ee]=HR(N.get(G.target));if(!Y||!ee)return null;let he=G.type||"default";s[he]||(B==null||B("011",Eu.error011(he)),he="default");const O=s[he]||s.default,q=S===mh.Strict?Z.target:(Z.target??[]).concat(Z.source??[]),J=QR(K.source,G.sourceHandle),ne=QR(q,G.targetHandle),ae=(J==null?void 0:J.position)||an.Bottom,ue=(ne==null?void 0:ne.position)||an.Top,pe=!!(G.focusable||I&&typeof G.focusable>"u"),ye=G.reconnectable||G.updatable,Ie=typeof p<"u"&&(ye||k&&typeof ye>"u");if(!J||!ne)return B==null||B("008",Eu.error008(J,G)),null;const{sourceX:we,sourceY:ie,targetX:De,targetY:st}=FSe(se,J,ae,oe,ne,ue);return ut.createElement(O,{key:G.id,id:G.id,className:qi([G.className,a]),type:he,data:G.data,selected:!!G.selected,animated:!!G.animated,hidden:!!G.hidden,label:G.label,labelStyle:G.labelStyle,labelShowBg:G.labelShowBg,labelBgStyle:G.labelBgStyle,labelBgPadding:G.labelBgPadding,labelBgBorderRadius:G.labelBgBorderRadius,style:G.style,source:G.source,target:G.target,sourceHandleId:G.sourceHandle,targetHandleId:G.targetHandle,markerEnd:G.markerEnd,markerStart:G.markerStart,sourceX:we,sourceY:ie,targetX:De,targetY:st,sourcePosition:ae,targetPosition:ue,elementsSelectable:F,onContextMenu:i,onMouseEnter:o,onMouseMove:l,onMouseLeave:A,onClick:d,onEdgeDoubleClick:h,onReconnect:p,onReconnectStart:g,onReconnectEnd:w,reconnectRadius:b,rfId:r,ariaLabel:G.ariaLabel,isFocusable:pe,isReconnectable:Ie,pathOptions:"pathOptions"in G?G.pathOptions:void 0,interactionWidth:G.interactionWidth,disableKeyboardA11y:T})})))),E):null};bj.displayName="EdgeRenderer";var GSe=X.memo(bj);const zSe=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function KSe({children:t}){const e=Cs(zSe);return ut.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function qSe(t){const e=bw(),n=X.useRef(!1);X.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const WSe={[an.Left]:an.Right,[an.Right]:an.Left,[an.Top]:an.Bottom,[an.Bottom]:an.Top},Cj=({nodeId:t,handleType:e,style:n,type:r=_d.Bezier,CustomComponent:s,connectionStatus:a})=>{var P,S,N;const{fromNode:i,handleId:o,toX:l,toY:A,connectionMode:d}=Cs(X.useCallback(B=>({fromNode:B.nodeInternals.get(t),handleId:B.connectionHandleId,toX:(B.connectionPosition.x-B.transform[0])/B.transform[2],toY:(B.connectionPosition.y-B.transform[1])/B.transform[2],connectionMode:B.connectionMode}),[t]),Mi),h=(P=i==null?void 0:i[Ds])==null?void 0:P.handleBounds;let p=h==null?void 0:h[e];if(d===mh.Loose&&(p=p||(h==null?void 0:h[e==="source"?"target":"source"])),!i||!p)return null;const g=o?p.find(B=>B.id===o):p[0],w=g?g.x+g.width/2:(i.width??0)/2,b=g?g.y+g.height/2:i.height??0,E=(((S=i.positionAbsolute)==null?void 0:S.x)??0)+w,T=(((N=i.positionAbsolute)==null?void 0:N.y)??0)+b,I=g==null?void 0:g.position,k=I?WSe[I]:null;if(!I||!k)return null;if(s)return ut.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:i,fromHandle:g,fromX:E,fromY:T,toX:l,toY:A,fromPosition:I,toPosition:k,connectionStatus:a});let F="";const D={sourceX:E,sourceY:T,sourcePosition:I,targetX:l,targetY:A,targetPosition:k};return r===_d.Bezier?[F]=KO(D):r===_d.Step?[F]=dS({...D,borderRadius:0}):r===_d.SmoothStep?[F]=dS(D):r===_d.SimpleBezier?[F]=zO(D):F=`M${E},${T} ${l},${A}`,ut.createElement("path",{d:F,fill:"none",className:"react-flow__connection-path",style:n})};Cj.displayName="ConnectionLine";const $Se=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function YSe({containerStyle:t,style:e,type:n,component:r}){const{nodeId:s,handleType:a,nodesConnectable:i,width:o,height:l,connectionStatus:A}=Cs($Se,Mi);return!(s&&a&&o&&i)?null:ut.createElement("svg",{style:t,width:o,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},ut.createElement("g",{className:qi(["react-flow__connection",A])},ut.createElement(Cj,{nodeId:s,handleType:a,style:e,type:n,CustomComponent:r,connectionStatus:A})))}function GR(t,e){return X.useRef(null),Va(),X.useMemo(()=>e(t),[t])}const Ej=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:a,onNodeClick:i,onEdgeClick:o,onNodeDoubleClick:l,onEdgeDoubleClick:A,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:g,onSelectionContextMenu:w,onSelectionStart:b,onSelectionEnd:E,connectionLineType:T,connectionLineStyle:I,connectionLineComponent:k,connectionLineContainerStyle:F,selectionKeyCode:D,selectionOnDrag:P,selectionMode:S,multiSelectionKeyCode:N,panActivationKeyCode:B,zoomActivationKeyCode:V,deleteKeyCode:U,onlyRenderVisibleElements:L,elementsSelectable:j,selectNodesOnDrag:G,defaultViewport:se,translateExtent:K,minZoom:Y,maxZoom:oe,preventScrolling:Z,defaultMarkerColor:ee,zoomOnScroll:he,zoomOnPinch:O,panOnScroll:q,panOnScrollSpeed:J,panOnScrollMode:ne,zoomOnDoubleClick:ae,panOnDrag:ue,onPaneClick:pe,onPaneMouseEnter:ye,onPaneMouseMove:Ie,onPaneMouseLeave:we,onPaneScroll:ie,onPaneContextMenu:De,onEdgeContextMenu:st,onEdgeMouseEnter:Ue,onEdgeMouseMove:Ee,onEdgeMouseLeave:ze,onReconnect:nt,onReconnectStart:it,onReconnectEnd:mt,reconnectRadius:Ct,noDragClassName:At,noWheelClassName:kt,noPanClassName:Ft,elevateEdgesOnSelect:qt,disableKeyboardA11y:Mt,nodeOrigin:Vt,nodeExtent:Yt,rfId:Pt})=>{const It=GR(t,ESe),gt=GR(e,ISe);return qSe(a),ut.createElement(bSe,{onPaneClick:pe,onPaneMouseEnter:ye,onPaneMouseMove:Ie,onPaneMouseLeave:we,onPaneContextMenu:De,onPaneScroll:ie,deleteKeyCode:U,selectionKeyCode:D,selectionOnDrag:P,selectionMode:S,onSelectionStart:b,onSelectionEnd:E,multiSelectionKeyCode:N,panActivationKeyCode:B,zoomActivationKeyCode:V,elementsSelectable:j,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:he,zoomOnPinch:O,zoomOnDoubleClick:ae,panOnScroll:q,panOnScrollSpeed:J,panOnScrollMode:ne,panOnDrag:ue,defaultViewport:se,translateExtent:K,minZoom:Y,maxZoom:oe,onSelectionContextMenu:w,preventScrolling:Z,noDragClassName:At,noWheelClassName:kt,noPanClassName:Ft,disableKeyboardA11y:Mt},ut.createElement(KSe,null,ut.createElement(GSe,{edgeTypes:gt,onEdgeClick:o,onEdgeDoubleClick:A,onlyRenderVisibleElements:L,onEdgeContextMenu:st,onEdgeMouseEnter:Ue,onEdgeMouseMove:Ee,onEdgeMouseLeave:ze,onReconnect:nt,onReconnectStart:it,onReconnectEnd:mt,reconnectRadius:Ct,defaultMarkerColor:ee,noPanClassName:Ft,elevateEdgesOnSelect:!!qt,disableKeyboardA11y:Mt,rfId:Pt},ut.createElement(YSe,{style:I,type:T,component:k,containerStyle:F})),ut.createElement("div",{className:"react-flow__edgelabel-renderer"}),ut.createElement(TSe,{nodeTypes:It,onNodeClick:i,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:g,selectNodesOnDrag:G,onlyRenderVisibleElements:L,noPanClassName:Ft,noDragClassName:At,disableKeyboardA11y:Mt,nodeOrigin:Vt,nodeExtent:Yt,rfId:Pt})))};Ej.displayName="GraphView";var JSe=X.memo(Ej);const gS=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],md={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:gS,nodeExtent:gS,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:mh.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:__e,isValidConnection:void 0},XSe=()=>Pwe((t,e)=>({...md,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:a}=e();t({nodeInternals:mE(n,r,s,a)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",a=typeof r<"u",i=s?mE(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:i,edges:a?r:[],hasDefaultNodes:s,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:a,fitViewOnInitDone:i,fitViewOnInitOptions:o,domNode:l,nodeOrigin:A}=e(),d=l==null?void 0:l.querySelector(".react-flow__viewport");if(!d)return;const h=window.getComputedStyle(d),{m22:p}=new window.DOMMatrixReadOnly(h.transform),g=n.reduce((b,E)=>{const T=s.get(E.id);if(T!=null&&T.hidden)s.set(T.id,{...T,[Ds]:{...T[Ds],handleBounds:void 0}});else if(T){const I=w4(E.nodeElement);!!(I.width&&I.height&&(T.width!==I.width||T.height!==I.height||E.forceUpdate))&&(s.set(T.id,{...T,[Ds]:{...T[Ds],handleBounds:{source:MR(".source",E.nodeElement,p,A),target:MR(".target",E.nodeElement,p,A)}},...I}),b.push({id:T.id,type:"dimensions",dimensions:I}))}return b},[]);Aj(s,A);const w=i||a&&!i&&uj(e,{initial:!0,...o});t({nodeInternals:new Map(s),fitViewOnInitDone:w}),(g==null?void 0:g.length)>0&&(r==null||r(g))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:a}=e(),i=n.map(o=>{const l={id:o.id,type:"position",dragging:s};return r&&(l.positionAbsolute=o.positionAbsolute,l.position=o.position),l});a(i)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:a,nodeOrigin:i,getNodes:o,elevateNodesOnSelect:l}=e();if(n!=null&&n.length){if(a){const A=fj(n,o()),d=mE(A,s,i,l);t({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:a}=e();let i,o=null;r?i=n.map(l=>yd(l,!0)):(i=L0(a(),n),o=L0(s,[])),Rv({changedNodes:i,changedEdges:o,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:a}=e();let i,o=null;r?i=n.map(l=>yd(l,!0)):(i=L0(s,n),o=L0(a(),[])),Rv({changedNodes:o,changedEdges:i,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:a}=e(),i=n||a(),o=r||s,l=i.map(d=>(d.selected=!1,yd(d.id,!1))),A=o.map(d=>yd(d.id,!1));Rv({changedNodes:l,changedEdges:A,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=e();r==null||r.scaleExtent([n,s]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=e();r==null||r.scaleExtent([s,n]),t({maxZoom:n})},setTranslateExtent:n=>{var r;(r=e().d3Zoom)==null||r.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),a=r().filter(o=>o.selected).map(o=>yd(o.id,!1)),i=n.filter(o=>o.selected).map(o=>yd(o.id,!1));Rv({changedNodes:a,changedEdges:i,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(s=>{s.positionAbsolute=b4(s.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:a,d3Zoom:i,d3Selection:o,translateExtent:l}=e();if(!i||!o||!n.x&&!n.y)return!1;const A=Qd.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[s,a]],h=i==null?void 0:i.constrain()(A,d,l);return i.transform(o,h),r[0]!==h.x||r[1]!==h.y||r[2]!==h.k},cancelConnection:()=>t({connectionNodeId:md.connectionNodeId,connectionHandleId:md.connectionHandleId,connectionHandleType:md.connectionHandleType,connectionStatus:md.connectionStatus,connectionStartHandle:md.connectionStartHandle,connectionEndHandle:md.connectionEndHandle}),reset:()=>t({...md})}),Object.is),F4=({children:t})=>{const e=X.useRef(null);return e.current||(e.current=XSe()),ut.createElement(g_e,{value:e.current},t)};F4.displayName="ReactFlowProvider";const _j=({children:t})=>X.useContext(yw)?ut.createElement(ut.Fragment,null,t):ut.createElement(F4,null,t);_j.displayName="ReactFlowWrapper";const ZSe={input:rj,default:mS,output:aj,group:k4},e5e={default:my,straight:S4,step:_4,smoothstep:ww,simplebezier:E4},t5e=[0,0],n5e=[15,15],r5e={x:0,y:0,zoom:1},s5e={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Sj=X.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:a=ZSe,edgeTypes:i=e5e,onNodeClick:o,onEdgeClick:l,onInit:A,onMove:d,onMoveStart:h,onMoveEnd:p,onConnect:g,onConnectStart:w,onConnectEnd:b,onClickConnectStart:E,onClickConnectEnd:T,onNodeMouseEnter:I,onNodeMouseMove:k,onNodeMouseLeave:F,onNodeContextMenu:D,onNodeDoubleClick:P,onNodeDragStart:S,onNodeDrag:N,onNodeDragStop:B,onNodesDelete:V,onEdgesDelete:U,onSelectionChange:L,onSelectionDragStart:j,onSelectionDrag:G,onSelectionDragStop:se,onSelectionContextMenu:K,onSelectionStart:Y,onSelectionEnd:oe,connectionMode:Z=mh.Strict,connectionLineType:ee=_d.Bezier,connectionLineStyle:he,connectionLineComponent:O,connectionLineContainerStyle:q,deleteKeyCode:J="Backspace",selectionKeyCode:ne="Shift",selectionOnDrag:ae=!1,selectionMode:ue=ax.Full,panActivationKeyCode:pe="Space",multiSelectionKeyCode:ye=fy()?"Meta":"Control",zoomActivationKeyCode:Ie=fy()?"Meta":"Control",snapToGrid:we=!1,snapGrid:ie=n5e,onlyRenderVisibleElements:De=!1,selectNodesOnDrag:st=!0,nodesDraggable:Ue,nodesConnectable:Ee,nodesFocusable:ze,nodeOrigin:nt=t5e,edgesFocusable:it,edgesUpdatable:mt,elementsSelectable:Ct,defaultViewport:At=r5e,minZoom:kt=.5,maxZoom:Ft=2,translateExtent:qt=gS,preventScrolling:Mt=!0,nodeExtent:Vt,defaultMarkerColor:Yt="#b1b1b7",zoomOnScroll:Pt=!0,zoomOnPinch:It=!0,panOnScroll:gt=!1,panOnScrollSpeed:xn=.5,panOnScrollMode:Wt=zf.Free,zoomOnDoubleClick:ir=!0,panOnDrag:mn=!0,onPaneClick:Fn,onPaneMouseEnter:Er,onPaneMouseMove:Bn,onPaneMouseLeave:Zs,onPaneScroll:Xn,onPaneContextMenu:Wr,children:ls,onEdgeContextMenu:Dn,onEdgeDoubleClick:en,onEdgeMouseEnter:jn,onEdgeMouseMove:ea,onEdgeMouseLeave:jr,onEdgeUpdate:hs,onEdgeUpdateStart:ma,onEdgeUpdateEnd:Ht,onReconnect:or,onReconnectStart:Zn,onReconnectEnd:_r,reconnectRadius:kr=10,edgeUpdaterRadius:Qr=10,onNodesChange:de,onEdgesChange:Be,noDragClassName:Ce="nodrag",noWheelClassName:_e="nowheel",noPanClassName:Se="nopan",fitView:Ne=!1,fitViewOptions:Ke,connectOnClick:et=!0,attributionPosition:Qe,proOptions:We,defaultEdgeOptions:Je,elevateNodesOnSelect:vt=!0,elevateEdgesOnSelect:Nt=!1,disableKeyboardA11y:Ot=!1,autoPanOnConnect:Tt=!0,autoPanOnNodeDrag:Rt=!0,connectionRadius:cn=20,isValidConnection:Un,onError:Ln,style:Qn,id:Es,nodeDragThreshold:ii,..._s},ta)=>{const Ms=Es||"1";return ut.createElement("div",{..._s,style:{...Qn,...s5e},ref:ta,className:qi(["react-flow",s]),"data-testid":"rf__wrapper",id:Es},ut.createElement(_j,null,ut.createElement(JSe,{onInit:A,onMove:d,onMoveStart:h,onMoveEnd:p,onNodeClick:o,onEdgeClick:l,onNodeMouseEnter:I,onNodeMouseMove:k,onNodeMouseLeave:F,onNodeContextMenu:D,onNodeDoubleClick:P,nodeTypes:a,edgeTypes:i,connectionLineType:ee,connectionLineStyle:he,connectionLineComponent:O,connectionLineContainerStyle:q,selectionKeyCode:ne,selectionOnDrag:ae,selectionMode:ue,deleteKeyCode:J,multiSelectionKeyCode:ye,panActivationKeyCode:pe,zoomActivationKeyCode:Ie,onlyRenderVisibleElements:De,selectNodesOnDrag:st,defaultViewport:At,translateExtent:qt,minZoom:kt,maxZoom:Ft,preventScrolling:Mt,zoomOnScroll:Pt,zoomOnPinch:It,zoomOnDoubleClick:ir,panOnScroll:gt,panOnScrollSpeed:xn,panOnScrollMode:Wt,panOnDrag:mn,onPaneClick:Fn,onPaneMouseEnter:Er,onPaneMouseMove:Bn,onPaneMouseLeave:Zs,onPaneScroll:Xn,onPaneContextMenu:Wr,onSelectionContextMenu:K,onSelectionStart:Y,onSelectionEnd:oe,onEdgeContextMenu:Dn,onEdgeDoubleClick:en,onEdgeMouseEnter:jn,onEdgeMouseMove:ea,onEdgeMouseLeave:jr,onReconnect:or??hs,onReconnectStart:Zn??ma,onReconnectEnd:_r??Ht,reconnectRadius:kr??Qr,defaultMarkerColor:Yt,noDragClassName:Ce,noWheelClassName:_e,noPanClassName:Se,elevateEdgesOnSelect:Nt,rfId:Ms,disableKeyboardA11y:Ot,nodeOrigin:nt,nodeExtent:Vt}),ut.createElement(W_e,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:w,onConnectEnd:b,onClickConnectStart:E,onClickConnectEnd:T,nodesDraggable:Ue,nodesConnectable:Ee,nodesFocusable:ze,edgesFocusable:it,edgesUpdatable:mt,elementsSelectable:Ct,elevateNodesOnSelect:vt,minZoom:kt,maxZoom:Ft,nodeExtent:Vt,onNodesChange:de,onEdgesChange:Be,snapToGrid:we,snapGrid:ie,connectionMode:Z,translateExtent:qt,connectOnClick:et,defaultEdgeOptions:Je,fitView:Ne,fitViewOptions:Ke,onNodesDelete:V,onEdgesDelete:U,onNodeDragStart:S,onNodeDrag:N,onNodeDragStop:B,onSelectionDrag:G,onSelectionDragStart:j,onSelectionDragStop:se,noPanClassName:Se,nodeOrigin:nt,rfId:Ms,autoPanOnConnect:Tt,autoPanOnNodeDrag:Rt,onError:Ln,connectionRadius:cn,isValidConnection:Un,nodeDragThreshold:ii}),ut.createElement(K_e,{onSelectionChange:L}),ls,ut.createElement(v_e,{proOptions:We,position:Qe}),ut.createElement(Z_e,{rfId:Ms,disableKeyboardA11y:Ot})))});Sj.displayName="ReactFlow";function Tj(t){return e=>{const[n,r]=X.useState(e),s=X.useCallback(a=>r(i=>t(a,i)),[]);return[n,r,s]}}const a5e=Tj(fj),i5e=Tj(fSe);function o5e(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ut.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function l5e(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ut.createElement("path",{d:"M0 0h32v4.2H0z"}))}function c5e(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ut.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function A5e(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ut.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function u5e(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ut.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const sg=({children:t,className:e,...n})=>ut.createElement("button",{type:"button",className:qi(["react-flow__controls-button",e]),...n},t);sg.displayName="ControlButton";const d5e=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),Bj=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:a,onZoomOut:i,onFitView:o,onInteractiveChange:l,className:A,children:d,position:h="bottom-left"})=>{const p=Va(),[g,w]=X.useState(!1),{isInteractive:b,minZoomReached:E,maxZoomReached:T}=Cs(d5e,Mi),{zoomIn:I,zoomOut:k,fitView:F}=bw();if(X.useEffect(()=>{w(!0)},[]),!g)return null;const D=()=>{I(),a==null||a()},P=()=>{k(),i==null||i()},S=()=>{F(s),o==null||o()},N=()=>{p.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),l==null||l(!b)};return ut.createElement(PO,{className:qi(["react-flow__controls",A]),position:h,style:t,"data-testid":"rf__controls"},e&&ut.createElement(ut.Fragment,null,ut.createElement(sg,{onClick:D,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:T},ut.createElement(o5e,null)),ut.createElement(sg,{onClick:P,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:E},ut.createElement(l5e,null))),n&&ut.createElement(sg,{className:"react-flow__controls-fitview",onClick:S,title:"fit view","aria-label":"fit view"},ut.createElement(c5e,null)),r&&ut.createElement(sg,{className:"react-flow__controls-interactive",onClick:N,title:"toggle interactivity","aria-label":"toggle interactivity"},b?ut.createElement(u5e,null):ut.createElement(A5e,null)),d)};Bj.displayName="Controls";var f5e=X.memo(Bj),gc;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(gc||(gc={}));function h5e({color:t,dimensions:e,lineWidth:n}){return ut.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function m5e({color:t,radius:e}){return ut.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const p5e={[gc.Dots]:"#91919a",[gc.Lines]:"#eee",[gc.Cross]:"#e2e2e2"},g5e={[gc.Dots]:1,[gc.Lines]:1,[gc.Cross]:6},x5e=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Nj({id:t,variant:e=gc.Dots,gap:n=20,size:r,lineWidth:s=1,offset:a=2,color:i,style:o,className:l}){const A=X.useRef(null),{transform:d,patternId:h}=Cs(x5e,Mi),p=i||p5e[e],g=r||g5e[e],w=e===gc.Dots,b=e===gc.Cross,E=Array.isArray(n)?n:[n,n],T=[E[0]*d[2]||1,E[1]*d[2]||1],I=g*d[2],k=b?[I,I]:T,F=w?[I/a,I/a]:[k[0]/a,k[1]/a];return ut.createElement("svg",{className:qi(["react-flow__background",l]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:A,"data-testid":"rf__background"},ut.createElement("pattern",{id:h+t,x:d[0]%T[0],y:d[1]%T[1],width:T[0],height:T[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${F[0]},-${F[1]})`},w?ut.createElement(m5e,{color:p,radius:I/a}):ut.createElement(h5e,{dimensions:k,color:p,lineWidth:s})),ut.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+t})`}))}Nj.displayName="Background";var v5e=X.memo(Nj);function y5e(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),s=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(s),e&&(r.href=e),s.href=t,s.href}const w5e=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function Vd(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}let v0=null;function kj(t={}){return v0||(t.includeStyleProperties?(v0=t.includeStyleProperties,v0):(v0=Vd(window.getComputedStyle(document.documentElement)),v0))}function gy(t,e){const r=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function b5e(t){const e=gy(t,"border-left-width"),n=gy(t,"border-right-width");return t.clientWidth+e+n}function C5e(t){const e=gy(t,"border-top-width"),n=gy(t,"border-bottom-width");return t.clientHeight+e+n}function Ij(t,e={}){const n=e.width||b5e(t),r=e.height||C5e(t);return{width:n,height:r}}function E5e(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const Mo=16384;function _5e(t){(t.width>Mo||t.height>Mo)&&(t.width>Mo&&t.height>Mo?t.width>t.height?(t.height*=Mo/t.width,t.width=Mo):(t.width*=Mo/t.height,t.height=Mo):t.width>Mo?(t.height*=Mo/t.width,t.width=Mo):(t.width*=Mo/t.height,t.height=Mo))}function xy(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t})}async function S5e(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function T5e(t,e,n){const r="http://www.w3.org/2000/svg",s=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return s.setAttribute("width",`${e}`),s.setAttribute("height",`${n}`),s.setAttribute("viewBox",`0 0 ${e} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),s.appendChild(a),a.appendChild(t),S5e(s)}const po=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||po(n,e)};function B5e(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function N5e(t,e){return kj(e).map(n=>{const r=t.getPropertyValue(n),s=t.getPropertyPriority(n);return`${n}: ${r}${s?" !important":""};`}).join(" ")}function k5e(t,e,n,r){const s=`.${t}:${e}`,a=n.cssText?B5e(n):N5e(n,r);return document.createTextNode(`${s}{${a}}`)}function zR(t,e,n,r){const s=window.getComputedStyle(t,n),a=s.getPropertyValue("content");if(a===""||a==="none")return;const i=w5e();try{e.className=`${e.className} ${i}`}catch{return}const o=document.createElement("style");o.appendChild(k5e(i,n,s,r)),e.appendChild(o)}function I5e(t,e,n){zR(t,e,":before",n),zR(t,e,":after",n)}const KR="application/font-woff",qR="image/jpeg",F5e={woff:KR,woff2:KR,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:qR,jpeg:qR,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function R5e(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function R4(t){const e=R5e(t).toLowerCase();return F5e[e]||""}function D5e(t){return t.split(/,/)[1]}function xS(t){return t.search(/^(data:)/)!==-1}function U5e(t,e){return`data:${e};base64,${t}`}async function Fj(t,e,n){const r=await fetch(t,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const s=await r.blob();return new Promise((a,i)=>{const o=new FileReader;o.onerror=i,o.onloadend=()=>{try{a(n({res:r,result:o.result}))}catch(l){i(l)}},o.readAsDataURL(s)})}const vE={};function L5e(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function D4(t,e,n){const r=L5e(t,e,n.includeQueryParams);if(vE[r]!=null)return vE[r];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let s;try{const a=await Fj(t,n.fetchRequestInit,({res:i,result:o})=>(e||(e=i.headers.get("Content-Type")||""),D5e(o)));s=U5e(a,e)}catch(a){s=n.imagePlaceholder||"";let i=`Failed to fetch resource: ${t}`;a&&(i=typeof a=="string"?a:a.message),i&&console.warn(i)}return vE[r]=s,s}async function M5e(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):xy(e)}async function P5e(t,e){if(t.currentSrc){const a=document.createElement("canvas"),i=a.getContext("2d");a.width=t.clientWidth,a.height=t.clientHeight,i==null||i.drawImage(t,0,0,a.width,a.height);const o=a.toDataURL();return xy(o)}const n=t.poster,r=R4(n),s=await D4(n,r,e);return xy(s)}async function O5e(t,e){var n;try{if(!((n=t==null?void 0:t.contentDocument)===null||n===void 0)&&n.body)return await Cw(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function j5e(t,e){return po(t,HTMLCanvasElement)?M5e(t):po(t,HTMLVideoElement)?P5e(t,e):po(t,HTMLIFrameElement)?O5e(t,e):t.cloneNode(Rj(t))}const Q5e=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",Rj=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function H5e(t,e,n){var r,s;if(Rj(e))return e;let a=[];return Q5e(t)&&t.assignedNodes?a=Vd(t.assignedNodes()):po(t,HTMLIFrameElement)&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?a=Vd(t.contentDocument.body.childNodes):a=Vd(((s=t.shadowRoot)!==null&&s!==void 0?s:t).childNodes),a.length===0||po(t,HTMLVideoElement)||await a.reduce((i,o)=>i.then(()=>Cw(o,n)).then(l=>{l&&e.appendChild(l)}),Promise.resolve()),e}function V5e(t,e,n){const r=e.style;if(!r)return;const s=window.getComputedStyle(t);s.cssText?(r.cssText=s.cssText,r.transformOrigin=s.transformOrigin):kj(n).forEach(a=>{let i=s.getPropertyValue(a);a==="font-size"&&i.endsWith("px")&&(i=`${Math.floor(parseFloat(i.substring(0,i.length-2)))-.1}px`),po(t,HTMLIFrameElement)&&a==="display"&&i==="inline"&&(i="block"),a==="d"&&e.getAttribute("d")&&(i=`path(${e.getAttribute("d")})`),r.setProperty(a,i,s.getPropertyPriority(a))})}function G5e(t,e){po(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),po(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function z5e(t,e){if(po(t,HTMLSelectElement)){const n=e,r=Array.from(n.children).find(s=>t.value===s.getAttribute("value"));r&&r.setAttribute("selected","")}}function K5e(t,e,n){return po(e,Element)&&(V5e(t,e,n),I5e(t,e,n),G5e(t,e),z5e(t,e)),e}async function q5e(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const r={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("xlink:href");if(o){const l=t.querySelector(o),A=document.querySelector(o);!l&&A&&!r[o]&&(r[o]=await Cw(A,e,!0))}}const s=Object.values(r);if(s.length){const a="http://www.w3.org/1999/xhtml",i=document.createElementNS(a,"svg");i.setAttribute("xmlns",a),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";const o=document.createElementNS(a,"defs");i.appendChild(o);for(let l=0;l<s.length;l++)o.appendChild(s[l]);t.appendChild(i)}return t}async function Cw(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(r=>j5e(r,e)).then(r=>H5e(t,r,e)).then(r=>K5e(t,r,e)).then(r=>q5e(r,e))}const Dj=/url\((['"]?)([^'"]+?)\1\)/g,W5e=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,$5e=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Y5e(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function J5e(t){const e=[];return t.replace(Dj,(n,r,s)=>(e.push(s),n)),e.filter(n=>!xS(n))}async function X5e(t,e,n,r,s){try{const a=n?y5e(e,n):e,i=R4(e);let o;return s||(o=await D4(a,i,r)),t.replace(Y5e(e),`$1${o}$3`)}catch{}return t}function Z5e(t,{preferredFontFormat:e}){return e?t.replace($5e,n=>{for(;;){const[r,,s]=W5e.exec(n)||[];if(!s)return"";if(s===e)return`src: ${r};`}}):t}function Uj(t){return t.search(Dj)!==-1}async function Lj(t,e,n){if(!Uj(t))return t;const r=Z5e(t,n);return J5e(r).reduce((a,i)=>a.then(o=>X5e(o,i,e,n)),Promise.resolve(r))}async function y0(t,e,n){var r;const s=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(t);if(s){const a=await Lj(s,null,n);return e.style.setProperty(t,a,e.style.getPropertyPriority(t)),!0}return!1}async function e4e(t,e){await y0("background",t,e)||await y0("background-image",t,e),await y0("mask",t,e)||await y0("-webkit-mask",t,e)||await y0("mask-image",t,e)||await y0("-webkit-mask-image",t,e)}async function t4e(t,e){const n=po(t,HTMLImageElement);if(!(n&&!xS(t.src))&&!(po(t,SVGImageElement)&&!xS(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,s=await D4(r,R4(r),e);await new Promise((a,i)=>{t.onload=a,t.onerror=e.onImageErrorHandler?(...l)=>{try{a(e.onImageErrorHandler(...l))}catch(A){i(A)}}:i;const o=t;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),n?(t.srcset="",t.src=s):t.href.baseVal=s})}async function n4e(t,e){const r=Vd(t.childNodes).map(s=>Mj(s,e));await Promise.all(r).then(()=>t)}async function Mj(t,e){po(t,Element)&&(await e4e(t,e),await t4e(t,e),await n4e(t,e))}function r4e(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(s=>{n[s]=r[s]}),t}const WR={};async function $R(t){let e=WR[t];if(e!=null)return e;const r=await(await fetch(t)).text();return e={url:t,cssText:r},WR[t]=e,e}async function YR(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,t.url).href),Fj(o,e.fetchRequestInit,({result:l})=>(n=n.replace(i,`url(${l})`),[i,l]))});return Promise.all(a).then(()=>n)}function JR(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=t.replace(n,"");const s=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=s.exec(r);if(l===null)break;e.push(l[0])}r=r.replace(s,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(i,"gi");for(;;){let l=a.exec(r);if(l===null){if(l=o.exec(r),l===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;e.push(l[0])}return e}async function s4e(t,e){const n=[],r=[];return t.forEach(s=>{if("cssRules"in s)try{Vd(s.cssRules||[]).forEach((a,i)=>{if(a.type===CSSRule.IMPORT_RULE){let o=i+1;const l=a.href,A=$R(l).then(d=>YR(d,e)).then(d=>JR(d).forEach(h=>{try{s.insertRule(h,h.startsWith("@import")?o+=1:s.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:h,error:p})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(A)}})}catch(a){const i=t.find(o=>o.href==null)||document.styleSheets[0];s.href!=null&&r.push($R(s.href).then(o=>YR(o,e)).then(o=>JR(o).forEach(l=>{i.insertRule(l,i.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(t.forEach(s=>{if("cssRules"in s)try{Vd(s.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${s.href}`,a)}}),n))}function a4e(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>Uj(e.style.getPropertyValue("src")))}async function i4e(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Vd(t.ownerDocument.styleSheets),r=await s4e(n,e);return a4e(r)}function Pj(t){return t.trim().replace(/["']/g,"")}function o4e(t){const e=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{e.add(Pj(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(t),e}async function l4e(t,e){const n=await i4e(t,e),r=o4e(t);return(await Promise.all(n.filter(a=>r.has(Pj(a.style.fontFamily))).map(a=>{const i=a.parentStyleSheet?a.parentStyleSheet.href:null;return Lj(a.cssText,i,e)}))).join(`
`)}async function c4e(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await l4e(t,e);if(n){const r=document.createElement("style"),s=document.createTextNode(n);r.appendChild(s),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}}async function A4e(t,e={}){const{width:n,height:r}=Ij(t,e),s=await Cw(t,e,!0);return await c4e(s,e),await Mj(s,e),r4e(s,e),await T5e(s,n,r)}async function u4e(t,e={}){const{width:n,height:r}=Ij(t,e),s=await A4e(t,e),a=await xy(s),i=document.createElement("canvas"),o=i.getContext("2d"),l=e.pixelRatio||E5e(),A=e.canvasWidth||n,d=e.canvasHeight||r;return i.width=A*l,i.height=d*l,e.skipAutoScale||_5e(i),i.style.width=`${A}`,i.style.height=`${d}`,e.backgroundColor&&(o.fillStyle=e.backgroundColor,o.fillRect(0,0,i.width,i.height)),o.drawImage(a,0,0,i.width,i.height),i}async function Ew(t,e={}){return(await u4e(t,e)).toDataURL()}const XR="recursosAprendizaje_mindMaps_v2",d4e=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1v4m0 0h-4m4-4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 0h-4m4 4l-5-5"})}),f4e=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657l-4.243 4.243a1 1 0 01-1.414 0l-4.243-4.243a1 1 0 010-1.414l4.243-4.243a1 1 0 011.414 0l4.243 4.243a1 1 0 010 1.414z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6"})]}),h4e=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5l7 7-7 7"})]}),m4e=()=>u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),vS=(t,e)=>t.children.length===0?e:t.children.reduce((n,r)=>n+vS(r,e),0),yS=(t,e="tree")=>{const n=[],r=[];if(e==="tree"){const i=(o,l,A,d)=>{const h=l*250;n.push({id:o.id,position:{x:h,y:A},data:{label:o.label},type:l===0?"input":"default",sourcePosition:an.Right,targetPosition:an.Left});const p=vS(o,80);let g=A-p/2;o.children.forEach(w=>{const b=vS(w,80),E=g+b/2;r.push({id:`e-${o.id}-${w.id}`,source:o.id,target:w.id,type:"smoothstep",animated:!0}),i(w,l+1,E),g+=b})};i(t,0,0)}else{n.push({id:t.id,position:{x:0,y:0},data:{label:t.label},type:"input"});const i=250,o=450;t.children.forEach((l,A)=>{const d=A/t.children.length*2*Math.PI,h=i*Math.cos(d),p=i*Math.sin(d);n.push({id:l.id,position:{x:h,y:p},data:{label:l.label}}),r.push({id:`e-${t.id}-${l.id}`,source:t.id,target:l.id,type:"smoothstep"}),l.children.forEach((g,w)=>{const b=d+(w-(l.children.length-1)/2)*.2,E=h+o*.5*Math.cos(b),T=p+o*.5*Math.sin(b);n.push({id:g.id,position:{x:E,y:T},data:{label:g.label}}),r.push({id:`e-${l.id}-${g.id}`,source:l.id,target:g.id,type:"smoothstep"})})})}return{nodes:n,edges:r}},Oj=({node:t,onUpdate:e,onAddChild:n,onDelete:r,level:s=0})=>{const a=["bg-blue-100/50 dark:bg-blue-900/20","bg-yellow-100/50 dark:bg-yellow-900/20","bg-green-100/50 dark:bg-green-900/20"],i=["border-blue-300 dark:border-blue-700","border-yellow-300 dark:border-yellow-700","border-green-300 dark:border-green-700"];return u.jsxs("div",{className:`pl-4 ${s>0?"border-l "+i[s-1%i.length]:""}`,children:[u.jsx("div",{className:`p-2 rounded-lg my-1 ${a[s%a.length]}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"text",value:t.label,onChange:o=>e(t.id,o.target.value),className:"w-full bg-transparent focus:bg-white dark:focus:bg-slate-700 p-1 rounded border border-transparent focus:border-slate-300 dark:focus:border-slate-600 outline-none transition-colors"}),u.jsx("button",{onClick:()=>n(t.id),className:"p-1.5 rounded-full hover:bg-slate-300/50 dark:hover:bg-slate-600/50 transition-colors",children:""}),s>0&&u.jsx("button",{onClick:()=>r(t.id),className:"p-1.5 rounded-full hover:bg-slate-300/50 dark:hover:bg-slate-600/50 transition-colors",children:""})]})}),t.children.map(o=>u.jsx(Oj,{node:o,onUpdate:e,onAddChild:n,onDelete:r,level:s+1},o.id))]})},p4e=({mapData:t,onBack:e,onSave:n})=>{const[r,s]=X.useState(t.treeData),[a,i]=X.useState("tree"),[o,l]=X.useState(!1),[A,d,h]=a5e([]),[p,g,w]=i5e([]),{fitView:b}=bw();X.useEffect(()=>{const{nodes:D,edges:P}=yS(r,a);d(D),g(P),setTimeout(()=>b({duration:300}),50)},[r,a,d,g,b]);const E=(D,P)=>{const S=JSON.parse(JSON.stringify(r)),N=B=>B.id===D?(B.label=P,!0):B.children.some(N);N(S),s(S)},T=D=>{const P=JSON.parse(JSON.stringify(r)),S=N=>N.id===D?(N.children.push({id:crypto.randomUUID(),label:"Nuevo Nodo",children:[]}),!0):N.children.some(S);S(P),s(P)},I=D=>{const P=JSON.parse(JSON.stringify(r)),S=N=>{const B=N.children.findIndex(V=>V.id===D);return B!==-1?(N.children.splice(B,1),!0):N.children.some(S)};S(P),s(P)},k=()=>{l(!0);const{nodes:D,edges:P}=yS(r,a);n({...t,treeData:r,nodes:D,edges:P}),setTimeout(()=>l(!1),1e3)},F=async D=>{const P=document.querySelector(".react-flow");P&&Ew(P,{backgroundColor:"#ffffff",cacheBust:!0,pixelRatio:2}).then(S=>{{const N=document.createElement("a");N.download=`${t.tema}.png`,N.href=S,N.click()}}).catch(S=>console.error("oops, something went wrong!",S))};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 truncate pr-4",children:t.tema}),u.jsx("button",{onClick:e,className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white font-semibold flex-shrink-0",children:" Volver a la lista"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 w-full h-[70vh] rounded-lg border dark:border-slate-700 relative",children:[u.jsxs(Sj,{nodes:A,edges:p,onNodesChange:h,onEdgesChange:w,fitView:!0,children:[u.jsx(f5e,{}),u.jsx(v5e,{})]}),u.jsx("div",{className:"absolute top-4 right-4 flex gap-2",children:u.jsxs("button",{onClick:()=>{},className:"bg-white/80 backdrop-blur-sm dark:bg-slate-800/80 p-2 rounded-lg shadow border dark:border-slate-700 flex items-center gap-2 text-sm",children:[u.jsx(d4e,{})," Pantalla completa"]})})]}),u.jsxs("div",{className:"w-full h-[70vh] flex flex-col bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg border dark:border-slate-700",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Editar"}),u.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b dark:border-slate-700 pb-2",children:[u.jsxs("button",{onClick:()=>i("tree"),className:`px-3 py-1.5 text-sm font-semibold rounded-md flex items-center gap-2 transition-colors ${a==="tree"?"bg-blue-500 text-white":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[u.jsx(f4e,{})," Vista en rbol"]}),u.jsxs("button",{onClick:()=>i("central"),className:`px-3 py-1.5 text-sm font-semibold rounded-md flex items-center gap-2 transition-colors ${a==="central"?"bg-blue-500 text-white":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[u.jsx(h4e,{})," Vista con tema central"]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:u.jsx(Oj,{node:r,onUpdate:E,onAddChild:T,onDelete:I})}),u.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700 flex justify-end gap-4",children:[u.jsx("button",{onClick:()=>F(),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Exportar PNG"}),u.jsx("button",{onClick:k,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 w-28",children:o?"Guardado!":"Guardar"})]})]})]})]})},g4e=({onBack:t})=>{const[e,n]=X.useState("list"),[r,s]=X.useState([]),[a,i]=X.useState(null),[o,l]=X.useState(!1),[A,d]=X.useState(""),[h,p]=X.useState(""),[g,w]=X.useState("");X.useEffect(()=>{try{const D=localStorage.getItem(XR);D&&s(JSON.parse(D))}catch(D){console.error("Error loading mind maps",D)}},[]);const b=D=>{s(D),localStorage.setItem(XR,JSON.stringify(D))},E=async D=>{if(D.preventDefault(),!A.trim()){alert("El tema es obligatorio.");return}l(!0);const P=`Basado en el tema central "${A}", y considerando el contenido adicional "${g}", genera una estructura jerrquica detallada para un mapa mental con al menos 3 niveles de profundidad. La estructura debe ser un desglose lgico del tema en subtemas.

La respuesta DEBE ser un nico objeto JSON vlido. Cada nodo en el JSON debe tener las propiedades "id" (un string nico generado con crypto.randomUUID()), "label" (el texto del nodo), y "children" (un array de nodos hijos con la misma estructura).`;try{const N=await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:P,config:{responseMimeType:"application/json"}}),B=JSON.parse(N.text.trim()),{nodes:V,edges:U}=yS(B),L={id:crypto.randomUUID(),tema:A,nivel:h,treeData:B,nodes:V,edges:U,createdAt:new Date().toISOString()};i(L),n("editor")}catch(S){console.error("AI Generation Error:",S),alert("Hubo un error al generar el mapa mental con la IA. Intntelo de nuevo.")}finally{l(!1)}},T=D=>{const S=r.findIndex(N=>N.id===D.id)>-1?r.map(N=>N.id===D.id?D:N):[D,...r];b(S)},I=D=>{i(D),n("editor")},k=D=>{window.confirm("Eliminar este mapa mental?")&&b(r.filter(P=>P.id!==D))},F=()=>{switch(e){case"editor":return a?u.jsx(F4,{children:u.jsx(p4e,{mapData:a,onBack:()=>n("list"),onSave:T})}):null;case"config":return u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Nuevo Mapa Mental con IA"}),u.jsx("button",{onClick:()=>n("list"),className:"text-slate-600 hover:text-slate-900 font-semibold",children:" Volver"})]}),u.jsxs("form",{onSubmit:E,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"tema",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:["Tema Central ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",id:"tema",value:A,onChange:D=>d(D.target.value),required:!0,className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"contenido",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Contenido o ideas clave (Opcional)"}),u.jsx("textarea",{id:"contenido",value:g,onChange:D=>w(D.target.value),rows:4,placeholder:"Aade ms detalles para guiar a la IA...",className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),u.jsx("div",{className:"flex justify-end pt-4",children:u.jsx("button",{type:"submit",disabled:o,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:bg-slate-400 flex items-center justify-center min-w-[200px]",children:o?u.jsx(m4e,{}):"Generar Mapa con IA"})})]})]});case"list":default:return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Mis Mapas Mentales"}),u.jsx("button",{onClick:()=>n("config"),className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Crear Nuevo"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map(D=>u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg shadow border dark:border-slate-700",children:[u.jsx("h3",{className:"font-bold text-lg truncate text-slate-800 dark:text-slate-200",children:D.tema}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creado: ",new Date(D.createdAt).toLocaleDateString("es-CL")]}),u.jsxs("div",{className:"mt-4 flex gap-2",children:[u.jsx("button",{onClick:()=>I(D),className:"flex-1 bg-slate-200 dark:bg-slate-600 font-semibold py-1.5 px-3 rounded-md text-sm",children:"Editar"}),u.jsx("button",{onClick:()=>k(D.id),className:"flex-1 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 font-semibold py-1.5 px-3 rounded-md text-sm",children:"Eliminar"})]})]},D.id)):u.jsx("p",{className:"col-span-full text-center text-slate-500 dark:text-slate-400 py-8",children:"No has creado ningn mapa mental todava."})})]})}};return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("span",{className:"text-4xl",children:""}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Mapas Mentales"}),u.jsx("button",{onClick:t,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:" Volver a Recursos"})]})]}),F()]})},x4e=()=>u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),v4e=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),y4e=({onBack:t})=>{const[e,n]=X.useState("Media"),[r,s]=X.useState(10),[a,i]=X.useState(!1),[o,l]=X.useState(Array(10).fill("")),[A,d]=X.useState(""),[h,p]=X.useState(null),[g,w]=X.useState({ai:!1,puzzle:!1}),b=X.useRef(null);X.useEffect(()=>{l(P=>{const S=Array(r).fill("");for(let N=0;N<Math.min(P.length,r);N++)S[N]=P[N];return S})},[r]);const E=(P,S)=>{const N=[...o];N[P]=S,l(N)},T=async()=>{if(A.trim()){w(P=>({...P,ai:!0}));try{const P=new Ta({apiKey:void 0}),S=`Genera una lista de ${r} palabras clave, en espaol, relacionadas con el tema "${A}". Las palabras no deben contener espacios ni caracteres especiales.`,N={type:Bt.OBJECT,properties:{palabras:{type:Bt.ARRAY,items:{type:Bt.STRING}}},required:["palabras"]},B=await P.models.generateContent({model:"gemini-2.5-flash",contents:S,config:{responseMimeType:"application/json",responseSchema:N}}),L=[...JSON.parse(B.text).palabras.map(j=>j.toUpperCase().replace(/\s/g,"")).slice(0,r)];for(;L.length<r;)L.push("");l(L)}catch(P){console.error("Error generating words with AI:",P),alert("No se pudieron generar las palabras. Intntelo de nuevo.")}finally{w(P=>({...P,ai:!1}))}}},I=(P,S,N,B,V,U)=>{for(let L=0;L<P.length;L++){const j=N+L*V.y,G=B+L*V.x;if(j<0||j>=U||G<0||G>=U||S[j][G]&&S[j][G]!==P[L])return!1}return!0},k=(P,S,N,B,V)=>{for(let U=0;U<P.length;U++)S[N+U*V.y][B+U*V.x]=P[U]},F=()=>{w(P=>({...P,puzzle:!0})),p(null),setTimeout(()=>{const P=o.map(L=>L.toUpperCase().replace(/[^A-Z]/g,"")).filter(Boolean);if(P.length===0){alert("Por favor, ingrese al menos una palabra vlida."),w(L=>({...L,puzzle:!1}));return}const S=Math.max(...P.map(L=>L.length));let N=Math.max(S,P.length)+2;e==="Media"&&(N+=3),e==="Difcil"&&(N+=5),N=Math.min(Math.max(N,10),25);const B=Array(N).fill(null).map(()=>Array(N).fill(null)),V=[{x:1,y:0},{x:0,y:1},{x:1,y:1}];e!=="Fcil"&&V.push({x:1,y:-1}),e==="Difcil"&&V.push({x:-1,y:0},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:1});for(const L of P.sort((j,G)=>G.length-j.length)){let j=!1;for(let G=0;G<100;G++){const se=V[Math.floor(Math.random()*V.length)],K=Math.floor(Math.random()*N),Y=Math.floor(Math.random()*N);if(I(L,B,K,Y,se,N)){k(L,B,K,Y,se),j=!0;break}}j||console.warn(`No se pudo colocar la palabra: ${L}`)}const U=B.map(L=>L.map(j=>j||"ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(Math.random()*27)]));p({grid:U,words:P.sort()}),w(L=>({...L,puzzle:!1}))},100)},D=()=>{b.current&&Ew(b.current,{cacheBust:!0,backgroundColor:"white",quality:.95,pixelRatio:2}).then(P=>{const S=document.createElement("a");S.download="sopa-de-letras.png",S.href=P,S.click()}).catch(P=>{console.error("oops, something went wrong!",P),alert("No se pudo generar la imagen. Intntelo de nuevo.")})};return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{className:"text-4xl",children:""}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Sopa de Letras"}),u.jsx("button",{onClick:t,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:" Volver a Recursos"})]})]}),!h&&u.jsxs("div",{className:"space-y-6 pt-4 border-t dark:border-slate-700",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Dificultad"}),u.jsxs("select",{value:e,onChange:P=>n(P.target.value),className:"w-full md:w-1/3 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[u.jsx("option",{children:"Fcil"}),u.jsx("option",{children:"Media"}),u.jsx("option",{children:"Difcil"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Nmero de palabras"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[[5,10,15,20].map(P=>u.jsx("button",{onClick:()=>{s(P),i(!1)},className:`px-4 py-2 rounded-md font-semibold text-sm ${!a&&r===P?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:P},P)),u.jsx("button",{onClick:()=>i(!0),className:`px-4 py-2 rounded-md font-semibold text-sm ${a?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:"Personalizado"}),a&&u.jsx("input",{type:"number",value:r,onChange:P=>s(parseInt(P.target.value,10)),min:"1",max:"30",className:"w-24 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"ai-theme",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Completar palabras con IA (Opcional)"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{id:"ai-theme",type:"text",value:A,onChange:P=>d(P.target.value),placeholder:"Enva un tema...",className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsx("button",{onClick:T,disabled:g.ai,className:"bg-sky-500 text-white font-semibold px-4 py-2 rounded-md flex items-center justify-center min-w-[120px]",children:g.ai?u.jsx(x4e,{}):u.jsxs(u.Fragment,{children:[u.jsx(v4e,{}),u.jsx("span",{className:"ml-2",children:"Generar"})]})})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Palabras ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-3",children:o.map((P,S)=>u.jsx("input",{type:"text",value:P,onChange:N=>E(S,N.target.value),placeholder:`Palabra ${S+1}`,className:"border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"},S))})]}),u.jsx("div",{className:"text-right pt-4",children:u.jsx("button",{onClick:F,disabled:g.puzzle,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 min-w-[200px]",children:g.puzzle?"Generando...":"Generar Sopa de Letras"})})]}),h&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{ref:b,className:"p-6 bg-white",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsx("div",{className:"md:col-span-2",children:u.jsx("div",{className:"grid border-2 border-slate-700",style:{gridTemplateColumns:`repeat(${h.grid.length}, minmax(0, 1fr))`},children:h.grid.flat().map((P,S)=>u.jsx("div",{className:"flex items-center justify-center aspect-square border border-slate-300 font-mono font-bold text-lg text-slate-800",children:P},S))})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4 border-b-2 border-slate-700 pb-2",children:"PALABRAS A BUSCAR"}),u.jsx("ul",{className:"grid grid-cols-2 gap-x-4 gap-y-2 font-semibold text-slate-700",children:h.words.map(P=>u.jsx("li",{children:P},P))})]})]})}),u.jsxs("div",{className:"flex justify-end gap-4",children:[u.jsx("button",{onClick:()=>p(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Crear otra"}),u.jsx("button",{onClick:D,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Descargar como PNG"})]})]})]})},ZR="recursosAprendizaje_timelines",w4e=()=>u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),b4e=({timeline:t,onSave:e,onBack:n})=>{const[r,s]=X.useState(t),a=X.useRef(null),i=(d,h,p)=>{s(g=>({...g,events:g.events.map(w=>w.id===d?{...w,[h]:p}:w)}))},o=()=>{const d={id:crypto.randomUUID(),date:new Date().getFullYear().toString(),description:"Nuevo hito",icon:""},h=[...r.events,d].sort((p,g)=>parseInt(p.date)-parseInt(g.date));s(p=>({...p,events:h}))},l=d=>{s(h=>({...h,events:h.events.filter(p=>p.id!==d)}))},A=()=>{a.current&&Ew(a.current,{cacheBust:!0,backgroundColor:"#f1f5f9",quality:.95,pixelRatio:2}).then(d=>{const h=document.createElement("a");h.download=`linea-tiempo-${r.tema.replace(/\s+/g,"_")}.png`,h.href=d,h.click()}).catch(d=>{console.error("Error al generar la imagen:",d),alert("No se pudo generar la imagen. Intntelo de nuevo.")})};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:r.tema}),u.jsx("button",{onClick:n,className:"text-sm font-semibold text-slate-500 hover:underline",children:" Volver a la lista"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsx("div",{className:"lg:col-span-2 bg-slate-100 dark:bg-slate-900 rounded-lg",children:u.jsxs("div",{ref:a,className:"relative p-10",children:[u.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1 h-full bg-slate-300 dark:bg-slate-600 rounded"}),u.jsx("div",{className:"relative",children:r.events.sort((d,h)=>parseInt(d.date)-parseInt(h.date)).map((d,h)=>{const p=h%2===0;return u.jsxs("div",{className:"mb-8 flex justify-between items-center w-full",children:[u.jsx("div",{className:"w-1/2",children:p&&u.jsx("div",{className:"text-right pr-8",children:u.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-lg border dark:border-slate-700 inline-block max-w-xs",children:[u.jsx("p",{className:"text-2xl mb-1 text-center w-full",children:d.icon}),u.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:d.date}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 break-words",children:d.description})]})})}),u.jsx("div",{className:"z-10 flex-shrink-0",children:u.jsx("div",{className:"w-5 h-5 bg-white dark:bg-slate-500 border-4 border-slate-400 dark:border-slate-300 rounded-full"})}),u.jsx("div",{className:"w-1/2",children:!p&&u.jsx("div",{className:"text-left pl-8",children:u.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-lg border dark:border-slate-700 inline-block max-w-xs",children:[u.jsx("p",{className:"text-2xl mb-1 text-center w-full",children:d.icon}),u.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:d.date}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 break-words",children:d.description})]})})})]},d.id)})})]})}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg border dark:border-slate-700 h-[70vh] flex flex-col",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Editar Hitos"}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2",children:r.events.map(d=>u.jsxs("div",{className:"p-3 bg-white dark:bg-slate-700 rounded-md border dark:border-slate-600 space-y-2",children:[u.jsx("input",{type:"text",value:d.date,onChange:h=>i(d.id,"date",h.target.value),placeholder:"Ao/Fecha",className:"w-full bg-transparent font-semibold dark:text-slate-200"}),u.jsx("textarea",{value:d.description,onChange:h=>i(d.id,"description",h.target.value),placeholder:"Descripcin",rows:2,className:"w-full bg-transparent text-sm dark:text-slate-300"}),u.jsx("button",{onClick:()=>l(d.id),className:"text-xs text-red-500 hover:underline",children:"Eliminar"})]},d.id))}),u.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700 flex flex-col gap-2",children:[u.jsx("button",{onClick:o,className:"w-full bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Aadir Hito"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:A,className:"flex-1 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:"Descargar PNG"}),u.jsx("button",{onClick:()=>e(r),className:"flex-1 bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar"})]})]})]})]})]})},C4e=({onBack:t})=>{const[e,n]=X.useState("list"),[r,s]=X.useState([]),[a,i]=X.useState(null),[o,l]=X.useState(!1),[A,d]=X.useState(""),[h,p]=X.useState(""),[g,w]=X.useState("");X.useEffect(()=>{try{const k=localStorage.getItem(ZR);k&&s(JSON.parse(k))}catch(k){console.error("Error al cargar lneas de tiempo",k)}},[]);const b=k=>{s(k),localStorage.setItem(ZR,JSON.stringify(k))},E=async k=>{if(k.preventDefault(),!A.trim()){alert("El tema es obligatorio.");return}l(!0);const F=h&&g?`entre ${h} y ${g}`:h?`a partir de ${h}`:g?`hasta ${g}`:"",D=`Genera una lnea de tiempo sobre el tema "${A}" ${F}. Crea entre 5 y 10 hitos clave ordenados cronolgicamente. Para cada hito, proporciona una fecha o ao, una descripcin breve y un emoji representativo.`,P={type:Bt.OBJECT,properties:{events:{type:Bt.ARRAY,items:{type:Bt.OBJECT,properties:{date:{type:Bt.STRING},description:{type:Bt.STRING},icon:{type:Bt.STRING}},required:["date","description"]}}},required:["events"]};try{const N=await new Ta({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:D,config:{responseMimeType:"application/json",responseSchema:P}}),B=JSON.parse(N.text),V={id:crypto.randomUUID(),tema:A,fechaInicio:h,fechaFin:g,createdAt:new Date().toISOString(),events:B.events.map(U=>({...U,id:crypto.randomUUID()}))};i(V),n("editor")}catch(S){console.error("AI Generation Error:",S),alert("Hubo un error al generar la lnea de tiempo. Intntelo de nuevo.")}finally{l(!1)}},T=k=>{r.findIndex(D=>D.id===k.id)>-1?b(r.map(D=>D.id===k.id?k:D)):b([k,...r]),n("list"),i(null)},I=k=>{window.confirm("Eliminar esta lnea de tiempo?")&&b(r.filter(F=>F.id!==k))};return e==="editor"&&a?u.jsx(b4e,{timeline:a,onSave:T,onBack:()=>n("list")}):u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{className:"text-4xl",children:""}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Lneas de Tiempo"}),u.jsx("button",{onClick:t,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:" Volver a Recursos"})]})]}),u.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-800/50",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Crear nueva Lnea de Tiempo"}),u.jsxs("form",{onSubmit:E,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"tema",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Tema ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",id:"tema",value:A,onChange:k=>d(k.target.value),required:!0,className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fechaInicio",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Fecha de Inicio (Opcional)"}),u.jsx("input",{type:"text",id:"fechaInicio",value:h,onChange:k=>p(k.target.value),placeholder:"Ej: 1947",className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fechaFin",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Fecha de Trmino (Opcional)"}),u.jsx("input",{type:"text",id:"fechaFin",value:g,onChange:k=>w(k.target.value),placeholder:"Ej: 1991",className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]})]}),u.jsx("div",{className:"text-right",children:u.jsx("button",{type:"submit",disabled:o,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:bg-slate-400 flex items-center justify-center min-w-[180px]",children:o?u.jsx(w4e,{}):"Generar con IA"})})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Lneas de Tiempo Guardadas"}),r.length>0?r.map(k=>u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg shadow-sm border dark:border-slate-700 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200",children:k.tema}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creada: ",new Date(k.createdAt).toLocaleDateString("es-CL")]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>{i(k),n("editor")},className:"text-sm font-semibold bg-slate-200 dark:bg-slate-600 py-1 px-3 rounded-md",children:"Editar"}),u.jsx("button",{onClick:()=>I(k.id),className:"text-sm font-semibold bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 py-1 px-3 rounded-md",children:"Eliminar"})]})]},k.id)):u.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-6",children:"No hay lneas de tiempo guardadas."})]})]})},E4e=()=>u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),_4e=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),S4e=({onBack:t})=>{const[e,n]=X.useState(10),[r,s]=X.useState(!1),[a,i]=X.useState(Array(10).fill("")),[o,l]=X.useState(Array(10).fill("")),[A,d]=X.useState(""),[h,p]=X.useState(null),[g,w]=X.useState(!1),[b,E]=X.useState({ai:!1,puzzle:!1}),T=X.useRef(null);X.useEffect(()=>{const B=e;i(V=>Array.from({length:B},(U,L)=>V[L]||"")),l(V=>Array.from({length:B},(U,L)=>V[L]||""))},[e]);const I=(B,V)=>{const U=[...a];U[B]=V,i(U)},k=(B,V)=>{const U=[...o];U[B]=V,l(U)},F=async()=>{if(A.trim()){E(B=>({...B,ai:!0}));try{const B=new Ta({apiKey:void 0}),V=`Genera una lista de ${e} palabras y sus pistas correspondientes para un crucigrama, basado en el tema "${A}". Las palabras no deben contener espacios.`,U={type:Bt.OBJECT,properties:{items:{type:Bt.ARRAY,items:{type:Bt.OBJECT,properties:{word:{type:Bt.STRING},clue:{type:Bt.STRING}},required:["word","clue"]}}},required:["items"]},L=await B.models.generateContent({model:"gemini-2.5-flash",contents:V,config:{responseMimeType:"application/json",responseSchema:U}}),j=JSON.parse(L.text),G=j.items.map(K=>K.word.toUpperCase().replace(/\s/g,"")),se=j.items.map(K=>K.clue);i(Array.from({length:e},(K,Y)=>G[Y]||"")),l(Array.from({length:e},(K,Y)=>se[Y]||""))}catch(B){console.error("Error generating words/clues with AI:",B),alert("No se pudieron generar las palabras y pistas. Intntelo de nuevo.")}finally{E(B=>({...B,ai:!1}))}}},D=X.useCallback(()=>{try{const B=a.map((ie,De)=>({word:ie.toUpperCase().replace(/[^A-Z]/g,""),clue:o[De]})).filter(ie=>ie.word.length>0);if(B.length===0)return alert("Por favor, ingrese al menos una palabra vlida."),null;B.sort((ie,De)=>De.word.length-ie.word.length);const V=B[0].word.length,U=Math.max(V,B.length)*2;let L=Array.from({length:U},()=>Array(U).fill(null));const j=[],G=B.shift(),se=Math.floor(U/2),K=Math.floor((U-G.word.length)/2);for(let ie=0;ie<G.word.length;ie++)L[se][K+ie]=G.word[ie];j.push({word:G.word,clue:G.clue,direction:"across",row:se,col:K});for(const ie of B){let De={score:-1,row:-1,col:-1,direction:"across"};for(const st of j)for(let Ue=0;Ue<st.word.length;Ue++)for(let Ee=0;Ee<ie.word.length;Ee++)if(st.word[Ue]===ie.word[Ee]){let ze=0,nt,it,mt;st.direction==="across"?(mt="down",nt=st.row-Ee,it=st.col+Ue):(mt="across",nt=st.row+Ue,it=st.col-Ee);let Ct=!0;for(let At=0;At<ie.word.length;At++){const kt=nt+(mt==="down"?At:0),Ft=it+(mt==="across"?At:0);if(kt<0||kt>=U||Ft<0||Ft>=U){Ct=!1;break}const qt=L[kt][Ft],Mt=kt===st.row+(st.direction==="down"?Ue:0)&&Ft===st.col+(st.direction==="across"?Ue:0);if(qt&&!Mt){Ct=!1;break}if(qt&&Mt&&qt!==ie.word[Ee]){Ct=!1;break}if(!Mt){if(mt==="across"&&(kt>0&&L[kt-1][Ft]||kt<U-1&&L[kt+1][Ft])){Ct=!1;break}if(mt==="down"&&(Ft>0&&L[kt][Ft-1]||Ft<U-1&&L[kt][Ft+1])){Ct=!1;break}}qt&&ze++}Ct&&ze>De.score&&(De={score:ze,row:nt,col:it,direction:mt})}if(De.score>-1){for(let st=0;st<ie.word.length;st++){const Ue=De.row+(De.direction==="down"?st:0),Ee=De.col+(De.direction==="across"?st:0);L[Ue][Ee]=ie.word[st]}j.push({word:ie.word,clue:ie.clue,direction:De.direction,row:De.row,col:De.col})}}let Y=U,oe=-1,Z=U,ee=-1;j.forEach(ie=>{Y=Math.min(Y,ie.row),oe=Math.max(oe,ie.row+(ie.direction==="down"?ie.word.length-1:0)),Z=Math.min(Z,ie.col),ee=Math.max(ee,ie.col+(ie.direction==="across"?ie.word.length-1:0))}),oe===-1&&(Y=j[0].row,oe=j[0].row,Z=j[0].col,ee=j[0].col+j[0].word.length-1);const he=1,O=Math.max(0,Y-he),q=Math.min(U,oe+1+he),J=Math.max(0,Z-he),ne=Math.min(U,ee+1+he),ae=L.slice(O,q).map(ie=>ie.slice(J,ne)),ue=j.map(ie=>({...ie,row:ie.row-O,col:ie.col-J})).sort((ie,De)=>ie.row-De.row||ie.col-De.col);let pe=1;const ye=[],Ie=new Map;ue.forEach(ie=>{const De=`${ie.row},${ie.col}`;Ie.has(De)||Ie.set(De,pe++),ye.push({...ie,number:Ie.get(De)})});const we=ae.map(ie=>ie.map(De=>({char:De,number:null})));return ye.forEach(ie=>{const De=`${ie.row},${ie.col}`;we[ie.row]&&we[ie.row][ie.col]!==void 0&&(we[ie.row][ie.col].number=Ie.get(De))}),{grid:we,clues:{across:ye.filter(ie=>ie.direction==="across").sort((ie,De)=>ie.number-De.number),down:ye.filter(ie=>ie.direction==="down").sort((ie,De)=>ie.number-De.number)}}}catch(B){return console.error("Error generating crossword grid:",B),alert("Ocurri un error inesperado al generar el crucigrama. Intente con palabras diferentes."),null}},[a,o]),P=()=>{E(B=>({...B,puzzle:!0})),p(null),setTimeout(()=>{const B=D();B&&p(B),E(V=>({...V,puzzle:!1}))},100)},S=()=>{T.current&&(w(!1),setTimeout(()=>{Ew(T.current,{cacheBust:!0,backgroundColor:"#ffffff",pixelRatio:2}).then(B=>{const V=document.createElement("a");V.download="crucigrama.png",V.href=B,V.click()}).catch(B=>console.error("Error generating image",B))},100))},N=()=>h?u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{ref:T,className:"p-6 bg-white dark:bg-slate-900 text-black dark:text-white",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsx("div",{children:u.jsx("div",{className:"border border-black dark:border-white",style:{display:"grid",gridTemplateColumns:`repeat(${h.grid[0].length}, 2rem)`},children:h.grid.flat().map((B,V)=>u.jsxs("div",{className:"relative w-8 h-8 border border-black dark:border-white flex items-center justify-center font-bold uppercase",style:{backgroundColor:B.char?"white":"black"},children:[B.number&&u.jsx("span",{className:"absolute top-0 left-0.5 text-[8px]",children:B.number}),g&&B.char&&u.jsx("span",{children:B.char})]},V))})}),u.jsxs("div",{className:"text-sm",children:[u.jsx("h3",{className:"font-bold text-lg mb-2",children:"HORIZONTALES"}),u.jsx("ul",{className:"space-y-1",children:h.clues.across.map(B=>u.jsxs("li",{children:[u.jsxs("strong",{children:[B.number,"."]})," ",B.clue]},`${B.word}-${B.clue}`))}),u.jsx("h3",{className:"font-bold text-lg mt-4 mb-2",children:"VERTICALES"}),u.jsx("ul",{className:"space-y-1",children:h.clues.down.map(B=>u.jsxs("li",{children:[u.jsxs("strong",{children:[B.number,"."]})," ",B.clue]},`${B.word}-${B.clue}`))})]})]})}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:g,onChange:()=>w(!g),className:"h-5 w-5 rounded"}),u.jsx("span",{children:"Mostrar Solucin"})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>p(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Crear otro"}),u.jsx("button",{onClick:S,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Descargar como PNG"})]})]})]}):null;return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{className:"text-4xl",children:""}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Crucigramas"}),u.jsx("button",{onClick:t,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:" Volver a Recursos"})]})]}),h?N():u.jsxs("div",{className:"space-y-6 pt-4 border-t dark:border-slate-700",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Nmero de palabras"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[[5,10,15,20].map(B=>u.jsx("button",{onClick:()=>{n(B),s(!1)},className:`px-4 py-2 rounded-md font-semibold text-sm ${!r&&e===B?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:B},B)),u.jsx("button",{onClick:()=>s(!0),className:`px-4 py-2 rounded-md font-semibold text-sm ${r?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:"Personalizado"}),r&&u.jsx("input",{type:"number",value:e,onChange:B=>n(parseInt(B.target.value,10)),min:"1",max:"30",className:"w-24 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"ai-theme",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Completar palabras y pistas con IA (Opcional)"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{id:"ai-theme",type:"text",value:A,onChange:B=>d(B.target.value),placeholder:"Enva un tema...",className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsx("button",{onClick:F,disabled:b.ai,className:"bg-sky-500 text-white font-semibold px-4 py-2 rounded-md flex items-center justify-center min-w-[120px]",children:b.ai?u.jsx(E4e,{}):u.jsxs(u.Fragment,{children:[u.jsx(_4e,{}),u.jsx("span",{className:"ml-2",children:"Generar"})]})})]})]}),u.jsx("div",{className:"space-y-3",children:Array.from({length:e}).map((B,V)=>u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[u.jsx("input",{type:"text",value:a[V],onChange:U=>I(V,U.target.value),placeholder:`Palabra ${V+1}`,className:"border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),u.jsx("textarea",{value:o[V],onChange:U=>k(V,U.target.value),placeholder:`Pista ${V+1}`,rows:1,className:"md:col-span-2 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]},V))}),u.jsx("div",{className:"text-right pt-4",children:u.jsx("button",{onClick:P,disabled:b.puzzle,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 min-w-[200px]",children:b.puzzle?"Generando...":"Generar Crucigrama"})})]})]})},T4e=[{id:"sopaDeLetras",icon:"",nombre:"Sopa de Letras",descripcion:"Crea y resuelve sopas de letras personalizadas para aprender palabras clave de cualquier asignatura."},{id:"mapasMentales",icon:"",nombre:"Mapas Mentales",descripcion:"Organiza ideas y conceptos de forma visual para facilitar el estudio y la memoria."},{id:"crucigramas",icon:"",nombre:"Crucigramas",descripcion:"Crea y resuelve crucigramas para reforzar vocabulario y conceptos clave."},{id:"lineasDeTiempo",icon:"",nombre:"Lneas de Tiempo",descripcion:"Construye lneas de tiempo para comprender procesos, hechos histricos o secuencias."}],B4e=({recurso:t,onClick:e})=>u.jsxs("button",{onClick:e,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md hover:shadow-lg hover:-translate-y-1 transition-all duration-300 ease-in-out cursor-pointer flex flex-col items-center text-center h-full",children:[u.jsx("div",{className:"text-6xl mb-4",children:t.icon}),u.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:t.nombre}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm flex-grow",children:t.descripcion})]}),N4e=()=>{const[t,e]=X.useState("menu"),n=()=>t==="mapasMentales"?u.jsx(g4e,{onBack:()=>e("menu")}):t==="sopaDeLetras"?u.jsx(y4e,{onBack:()=>e("menu")}):t==="lineasDeTiempo"?u.jsx(C4e,{onBack:()=>e("menu")}):t==="crucigramas"?u.jsx(S4e,{onBack:()=>e("menu")}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Recursos de Aprendizaje"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Seleccione una herramienta para crear una nueva actividad educativa para sus estudiantes."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:T4e.map(r=>u.jsx(B4e,{recurso:r,onClick:()=>e(r.id)},r.id))})]});return u.jsx("div",{className:"animate-fade-in space-y-6",children:n()})},k4e="evaluacionesFormativas",I4e="calificacionesFormativas",yE="trabajosGrupalesFormativos",F4e=({currentUser:t})=>{const[e,n]=X.useState([]),[r,s]=X.useState({}),[a,i]=X.useState([]),[o,l]=X.useState(null),[A,d]=X.useState(!1),[h,p]=X.useState(null),g=X.useRef(null);X.useEffect(()=>{try{const I=localStorage.getItem(k4e);I&&n(JSON.parse(I));const k=localStorage.getItem(I4e);k&&s(JSON.parse(k));const F=localStorage.getItem(yE);F&&i(JSON.parse(F))}catch(I){console.error("Error al cargar datos desde localStorage",I)}},[]);const w=X.useMemo(()=>{if(!t.curso)return[];const k=e.filter(F=>F.curso===t.curso).reduce((F,D)=>((F[D.asignatura]=F[D.asignatura]||[]).push(D),F),{});return Object.entries(k).map(([F,D])=>{let P=0,S=0;const N=D.map(V=>{var j;const U=(j=r[V.id])==null?void 0:j[t.nombreCompleto];let L="No Trabajado";return U==="trabajado"?(P+=7,S++,L="Trabajado"):U==="no trabajado"&&(P+=2,S++,L="No Trabajado"),{id:V.id,nombreActividad:V.nombreActividad,fecha:V.fecha,estado:L}}).filter(V=>{var U;return(U=r[V.id])==null?void 0:U[t.nombreCompleto]}),B=S>0?(P/S).toFixed(1):"N/A";return{asignatura:F,promedio:B,actividades:N.sort((V,U)=>new Date(U.fecha).getTime()-new Date(V.fecha).getTime())}}).filter(F=>F.actividades.length>0).sort((F,D)=>F.asignatura.localeCompare(D.asignatura))},[e,r,t]);X.useEffect(()=>{if(w.reduce((S,N)=>S+N.actividades.length,0)===0){l(null);return}const k=w.reduce((S,N)=>{const B=parseFloat(N.promedio);return isNaN(B)?S:S+B},0),F=w.length>0?k/w.length:0,D=M1.find(S=>F>=S.promedioMin&&F<=S.promedioMax)||null,P=M1.filter(S=>F>=S.promedioMin);if(l({puntajeTotal:0,promedio:F,rangoActual:D,insigniasGanadas:P}),g.current!==null){const S=M1.find(N=>g.current>=N.promedioMin&&g.current<=N.promedioMax)||null;D&&(!S||D.nombre!==S.nombre)&&p(D)}g.current=F},[w]);const b=X.useMemo(()=>t.curso?a.filter(I=>I.curso===t.curso).map(I=>{const k=I.grupos.find(F=>F.integrantes.some(D=>D.nombre===t.nombreCompleto));return k?{...I,miGrupo:k}:null}).filter(I=>I!==null).sort((I,k)=>new Date(k.fechaPresentacion).getTime()-new Date(I.fechaPresentacion).getTime()):[],[a,t]),E=(I,k)=>{const F=localStorage.getItem(yE),P=(F?JSON.parse(F):[]).map(S=>{if(S.id===I){const N=S.grupos.map(B=>{if(B.integrantes.some(U=>U.nombre===t.nombreCompleto)){const U=B.integrantes.map(L=>L.nombre===t.nombreCompleto?{...L,rol:k||void 0}:L);return{...B,integrantes:U}}return B});return{...S,grupos:N}}return S});localStorage.setItem(yE,JSON.stringify(P)),i(P)},T=I=>{const k=parseFloat(I);return isNaN(k)?"bg-slate-400":k<4?"bg-red-500":k<5.5?"bg-yellow-500":"bg-green-500"};return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[h&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4",onClick:()=>p(null),children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md text-center p-8 animate-fade-in-up transform transition-all",onClick:I=>I.stopPropagation(),children:[u.jsx("div",{className:"text-8xl animate-bounce",children:h.emoji}),u.jsx("h2",{className:"text-3xl font-bold text-slate-800 mt-4",children:"Subiste de Rango!"}),u.jsx("p",{className:"text-2xl font-semibold text-amber-500 mt-2",children:h.nombre}),u.jsx("p",{className:"text-slate-600 mt-4",children:h.mensaje}),u.jsx("button",{onClick:()=>p(null),className:"mt-6 bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700",children:"Genial!"})]})}),A&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:()=>d(!1),children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg p-6 max-h-[80vh] flex flex-col",onClick:I=>I.stopPropagation(),children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Mis Logros"}),u.jsx("div",{className:"overflow-y-auto space-y-3",children:M1.map(I=>{const k=o==null?void 0:o.insigniasGanadas.some(F=>F.nombre===I.nombre);return u.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${k?"bg-amber-50 border-amber-200":"bg-slate-100 border-slate-200 opacity-60"}`,children:[u.jsx("div",{className:"text-5xl",children:I.emoji}),u.jsxs("div",{children:[u.jsx("h3",{className:`font-bold ${k?"text-amber-700":"text-slate-600"}`,children:I.nombre}),u.jsxs("p",{className:"text-sm text-slate-500",children:["Requisito: Promedio entre ",I.promedioMin," y ",I.promedioMax]})]})]},I.nombre)})})]})}),u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Mi Rendimiento Formativo"}),u.jsx("p",{className:"text-slate-500 mb-6",children:"Aqu puedes ver un resumen de tu trabajo en clases por cada asignatura."}),o&&o.rangoActual&&u.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-slate-700 text-white p-6 rounded-xl mb-8 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm opacity-80",children:"RANGO ACTUAL"}),u.jsx("h2",{className:"text-3xl font-bold",children:o.rangoActual.nombre}),u.jsx("button",{onClick:()=>d(!0),className:"mt-2 text-xs font-semibold bg-white/20 hover:bg-white/30 px-3 py-1 rounded-full",children:"Ver todos los logros"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-7xl",children:o.rangoActual.emoji}),u.jsx("p",{className:"font-bold text-2xl mt-2",children:o.promedio.toFixed(1)}),u.jsx("p",{className:"text-sm opacity-80",children:"Promedio General"})]})]}),w.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(I=>u.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-5 flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800",children:I.asignatura}),u.jsx("p",{className:"text-sm text-slate-500",children:"Promedio Formativo"})]}),u.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center text-white font-bold text-3xl ${T(I.promedio)}`,children:I.promedio})]}),u.jsxs("div",{className:"flex-grow space-y-2 pt-4 border-t border-slate-200",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-600 mb-2",children:"Detalle de Actividades:"}),I.actividades.map(k=>u.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-slate-700",children:k.nombreActividad}),u.jsx("p",{className:"text-xs text-slate-500",children:new Date(k.fecha+"T12:00:00").toLocaleDateString("es-CL")})]}),u.jsx("span",{className:`font-semibold ${k.estado==="Trabajado"?"text-green-600":"text-red-600"}`,children:k.estado==="Trabajado"?" Trabajado":" No Trabajado"})]},k.id))]})]},I.asignatura))}):u.jsxs("div",{className:"text-center py-16 bg-slate-50 rounded-lg",children:[u.jsx("span",{className:"text-5xl",children:""}),u.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-700",children:"An sin registros"}),u.jsx("p",{className:"text-slate-500 mt-2",children:"Todava no tienes evaluaciones formativas registradas por tus profesores."})]})]}),b.length>0&&u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Mis Trabajos Grupales"}),u.jsx("div",{className:"space-y-4",children:b.map(I=>{const k=I.miGrupo.integrantes.filter(D=>D.nombre!==t.nombreCompleto&&D.rol).map(D=>D.rol),F=DL.filter(D=>!k.includes(D));return u.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50",children:[u.jsx("h3",{className:"font-bold text-slate-800",children:I.nombreActividad}),u.jsxs("p",{className:"text-sm text-slate-500",children:[I.asignatura," - Presentacin: ",new Date(I.fechaPresentacion+"T12:00:00").toLocaleDateString("es-CL")]}),u.jsxs("div",{className:"mt-3 pt-3 border-t",children:[u.jsxs("h4",{className:"font-semibold text-sm",children:["Grupo ",I.miGrupo.numero]}),u.jsx("ul",{className:"list-disc list-inside text-sm mt-2 space-y-2",children:I.miGrupo.integrantes.map(D=>u.jsxs("li",{className:"grid grid-cols-2 items-center",children:[u.jsx("span",{className:D.nombre===t.nombreCompleto?"font-bold":"",children:D.nombre}),D.nombre===t.nombreCompleto?u.jsxs("select",{value:D.rol||"",onChange:P=>E(I.id,P.target.value),className:"text-sm p-1 border rounded w-full",children:[u.jsx("option",{value:"",children:"-- Seleccionar rol --"}),D.rol&&!F.includes(D.rol)&&u.jsx("option",{value:D.rol,children:D.rol}),F.map(P=>u.jsx("option",{value:P,children:P},P))]}):u.jsx("span",{className:"text-xs italic bg-slate-200 px-2 py-1 rounded-full",children:D.rol||"Sin rol"})]},D.nombre))})]})]},I.id)})})]})]})},R4e="planificacionesInterdisciplinarias",eD="entregasTareasInterdisciplinarias",D4e=({currentUser:t})=>{const[e,n]=X.useState([]),[r,s]=X.useState([]),[a,i]=X.useState(null);X.useEffect(()=>{const p=()=>{try{const g=localStorage.getItem(R4e);g&&n(JSON.parse(g));const w=localStorage.getItem(eD);w&&s(JSON.parse(w))}catch(g){console.error("Error al cargar datos desde localStorage",g)}};return p(),window.addEventListener("storage",p),()=>window.removeEventListener("storage",p)},[]);const o=X.useMemo(()=>e.filter(p=>p.cursos.includes(t.curso||"")),[e,t.curso]),l=p=>{s(p),localStorage.setItem(eD,JSON.stringify(p)),window.dispatchEvent(new Event("storage"))},A=(p,g)=>{let w=r.find(b=>b.planificacionId===p&&b.tareaId===g&&b.estudianteId===t.id);return w||(w={id:crypto.randomUUID(),planificacionId:p,tareaId:g,estudianteId:t.id,estudianteNombre:t.nombreCompleto,completada:!1}),w},d=p=>{const g=r.findIndex(b=>b.id===p.id);let w;g>-1?w=r.map(b=>b.id===p.id?p:b):w=[...r,p],l(w)},h=({plan:p,tarea:g})=>{const w=X.useMemo(()=>A(p.id,g.id),[p.id,g.id,r]),[b,E]=X.useState(!1),[T,I]=X.useState({observaciones:w.observacionesEstudiante||"",enlace:w.enlaceUrl||""}),k=P=>{var N;const S=(N=P.target.files)==null?void 0:N[0];if(S){const B=new FileReader;B.onloadend=()=>{d({...w,archivoAdjunto:{nombre:S.name,url:B.result},fechaCompletado:new Date().toISOString()})},B.readAsDataURL(S)}},F=()=>{d({...w,observacionesEstudiante:T.observaciones,enlaceUrl:T.enlace,fechaCompletado:new Date().toISOString()})},D=()=>{d({...w,completada:!w.completada,fechaCompletado:new Date().toISOString()})};return u.jsxs("div",{className:"p-3 bg-white dark:bg-slate-700/50 rounded-lg border dark:border-slate-600",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("input",{type:"checkbox",checked:w.completada,onChange:D,className:"mt-1 h-5 w-5 rounded text-amber-500 focus:ring-amber-400"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("p",{className:`font-semibold ${w.completada?"line-through text-slate-500":"text-slate-800"}`,children:["Tarea ",g.numero,": ",g.instrucciones]}),u.jsxs("p",{className:"text-xs text-slate-500",children:["Fecha de entrega: ",g.fechaEntrega]}),g.recursoUrl&&u.jsx("a",{href:g.recursoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline",children:"Ver Recurso"})]}),u.jsx("button",{onClick:()=>E(!b),className:"text-sm font-semibold",children:b?"Ocultar":"Entregar"})]}),b&&u.jsxs("div",{className:"mt-3 pt-3 pl-8 border-t dark:border-slate-600 space-y-3 animate-fade-in-up",children:[u.jsx("textarea",{value:T.observaciones,onChange:P=>I({...T,observaciones:P.target.value}),onBlur:F,placeholder:"Aadir observaciones o comentarios...",rows:2,className:"w-full text-sm p-1 border rounded"}),u.jsx("input",{type:"url",value:T.enlace,onChange:P=>I({...T,enlace:P.target.value}),onBlur:F,placeholder:"Pegar un enlace (ej: Google Docs, video)...",className:"w-full text-sm p-1 border rounded"}),u.jsx("input",{type:"file",onChange:k,className:"text-sm"}),w.archivoAdjunto&&u.jsxs("p",{className:"text-xs text-green-600",children:[" Archivo subido: ",w.archivoAdjunto.nombre]})]}),w.feedbackProfesor&&u.jsxs("div",{className:"mt-3 pt-3 pl-8 border-t border-amber-300 bg-amber-50 dark:bg-amber-900/20 p-2 rounded",children:[u.jsx("p",{className:"text-sm font-semibold text-amber-800 dark:text-amber-200",children:"Retroalimentacin del profesor:"}),u.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:w.feedbackProfesor})]})]})};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Mis Tareas Interdisciplinarias"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Revisa y completa las tareas de tus proyectos."})]}),o.length>0?o.map(p=>{const g=p.tareas||[],b=r.filter(T=>T.planificacionId===p.id&&T.estudianteId===t.id).filter(T=>T.completada).length,E=g.length>0?b/g.length*100:0;return u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[u.jsxs("button",{onClick:()=>i(a===p.id?null:p.id),className:"w-full text-left",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:p.nombreProyecto}),u.jsxs("div",{className:"mt-2 space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-sm font-medium text-slate-500",children:[u.jsx("span",{children:"Progreso"}),u.jsxs("span",{children:[Math.round(E),"%"]})]}),u.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:u.jsx("div",{className:"bg-amber-500 h-2.5 rounded-full",style:{width:`${E}%`}})})]})]}),a===p.id&&u.jsx("div",{className:"mt-4 pt-4 border-t space-y-3",children:g.length>0?g.map(T=>u.jsx(h,{plan:p,tarea:T},T.id)):u.jsx("p",{className:"text-slate-500 text-center",children:"Este proyecto an no tiene tareas asignadas."})})]},p.id)}):u.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-md",children:[u.jsx("span",{className:"text-5xl",children:""}),u.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-700",children:"Todo al da!"}),u.jsx("p",{className:"text-slate-500 mt-2",children:"No tienes tareas de proyectos interdisciplinarios asignadas por el momento."})]})]})},U4e="acompanamientoDocenteRecords",L4e="acompanamientoDocenteCustomRubrica",M4e=({data:t})=>u.jsx("div",{className:"space-y-4",children:t.map((n,r)=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[u.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:n.label.replace("Dominio A: ","A: ").replace("Dominio B: ","B: ").replace("Dominio C: ","C: ")}),u.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:[n.value.toFixed(2)," / 4.00"]})]}),u.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:u.jsx("div",{className:"bg-sky-500 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${n.value/4*100}%`}})})]},n.label+r))}),P4e=({currentUser:t})=>{const[e,n]=X.useState([]),[r,s]=X.useState(null),[a,i]=X.useState(N2);X.useEffect(()=>{try{const A=localStorage.getItem(U4e);if(A){const p=JSON.parse(A).filter(g=>g.docente===t.nombreCompleto).sort((g,w)=>new Date(w.fecha).getTime()-new Date(g.fecha).getTime());n(p)}const d=localStorage.getItem(L4e);d&&i(JSON.parse(d))}catch(A){console.error("Error al cargar datos de acompaamiento",A)}},[t.nombreCompleto]);const o=X.useMemo(()=>{if(!r)return[];const A={};return a.forEach(d=>{A[d.domain]={total:0,count:0},d.criteria.forEach(h=>{const p=r.rubricaResultados[h.name];p&&(A[d.domain].total+=p,A[d.domain].count++)})}),Object.entries(A).map(([d,h])=>({label:d,value:h.count>0?h.total/h.count:0}))},[r,a]),l=A=>{const d=new sn;d.setFont("helvetica","bold"),d.setFontSize(16),d.text("Informe de Acompaamiento Docente",105,20,{align:"center"}),d.setFontSize(12),d.setFont("helvetica","normal"),Nl(d,{startY:30,body:[["Docente:",A.docente],["Fecha:",new Date(A.fecha).toLocaleDateString("es-CL")],["Asignatura:",A.asignatura],["Curso:",A.curso]],theme:"plain"});let h=d.lastAutoTable.finalY+10;const p=(g,w)=>{if(!w)return;h>250&&(d.addPage(),h=20),d.setFont("helvetica","bold"),d.setFontSize(14),d.text(g,14,h),h+=8,d.setFont("helvetica","normal"),d.setFontSize(11);const b=d.splitTextToSize(w.replace(/## /g,"").replace(/(\*\*|\*)/g,""),180);d.text(b,14,h),h+=b.length*5+10};p("Observaciones Generales",A.observacionesGenerales),p("Retroalimentacin Consolidada",A.retroalimentacionConsolidada),d.save(`Acompanamiento_${t.nombreCompleto.replace(/\s/g,"_")}.pdf`)};return r?u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md animate-fade-in",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{children:[u.jsx("button",{onClick:()=>s(null),className:"text-sm font-semibold text-slate-500 hover:underline mb-2",children:" Volver a mi historial"}),u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Detalle del Acompaamiento"}),u.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[new Date(r.fecha).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"})," | ",r.curso," - ",r.asignatura]})]}),u.jsxs("button",{onClick:()=>l(r),className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2 hover:bg-red-700",children:[u.jsx(RL,{})," Exportar PDF"]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsx("div",{className:"lg:col-span-2 space-y-6",children:u.jsxs("div",{className:"prose dark:prose-invert max-w-none prose-slate",children:[u.jsx("h3",{children:"Retroalimentacin Consolidada (IA)"}),u.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:u.jsx("p",{className:"whitespace-pre-wrap",children:r.retroalimentacionConsolidada||"No se ha generado retroalimentacin."})}),u.jsx("h3",{children:"Observaciones Generales"}),u.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:u.jsx("p",{className:"whitespace-pre-wrap",children:r.observacionesGenerales||"Sin observaciones."})})]})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Desempeo por Dominio"}),u.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:u.jsx(M4e,{data:o})})]})]})]}):u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Mis Acompaamientos"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Aqu encontrars el historial de tus observaciones de clase y la retroalimentacin asociada."}),u.jsx("div",{className:"space-y-4",children:e.length>0?e.map(A=>u.jsx("button",{onClick:()=>s(A),className:"w-full text-left p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50 hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-colors",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[A.curso," - ",A.asignatura]}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Fecha: ",new Date(A.fecha).toLocaleDateString("es-CL")]})]}),u.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400 text-sm",children:"Ver Detalles"})]})},A.id)):u.jsxs("div",{className:"text-center py-16 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[u.jsx("span",{className:"text-5xl",children:""}),u.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-700 dark:text-slate-300",children:"Sin Registros"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"An no tienes acompaamientos de clase registrados."})]})})]})},O4e="planificacionesDocente",j4e=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}),Q4e=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),H4e=({plan:t,onClose:e})=>{const n=s=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Objetivo de Aprendizaje:"})," ",s.objetivosAprendizaje]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Indicadores de Evaluacin:"})," ",s.indicadoresEvaluacion]}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:[u.jsx("strong",{children:"Contenidos Clave:"})," ",s.contenidos]})]}),u.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 border-b pb-2",children:["Secuencia de Clases (",s.cantidadClases,")"]}),u.jsx("div",{className:"space-y-3 max-h-[40vh] overflow-y-auto pr-2",children:s.detallesLeccion.map((a,i)=>u.jsxs("div",{className:"p-3 border dark:border-slate-600 rounded-md bg-white dark:bg-slate-800",children:[u.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-300",children:["Clase ",i+1,": ",a.actividades]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-1 mt-2 text-sm text-slate-600 dark:text-slate-400",children:[u.jsxs("span",{children:[u.jsx("strong",{children:"Objetivo:"})," ",a.objetivosAprendizaje]}),u.jsxs("span",{children:[u.jsx("strong",{children:"Contenidos:"})," ",a.contenidosConceptuales]}),u.jsxs("span",{children:[u.jsx("strong",{children:"Habilidad (Bloom):"})," ",a.habilidadesBloom]}),u.jsxs("span",{children:[u.jsx("strong",{children:"Perfil de Egreso:"})," ",a.perfilEgreso]}),u.jsxs("span",{className:"md:col-span-2",children:[u.jsx("strong",{children:"Interdisciplinariedad:"})," ",a.asignaturasInterdisciplinariedad]})]})]},i))})]}),r=s=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("p",{className:"p-4 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[u.jsx("strong",{children:"Contenidos:"})," ",s.contenidos]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:"Inicio"}),u.jsx("p",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600 whitespace-pre-wrap",children:s.momentosClase.inicio})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:"Desarrollo"}),u.jsx("p",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600 whitespace-pre-wrap",children:s.momentosClase.desarrollo})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:"Cierre"}),u.jsx("p",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600 whitespace-pre-wrap",children:s.momentosClase.cierre})]})]})]});return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col animate-fade-in-up",onClick:s=>s.stopPropagation(),children:[u.jsxs("header",{className:"p-4 border-b dark:border-slate-700 flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:t.tipo==="Unidad"?t.nombreUnidad:t.nombreClase}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[t.asignatura," | ",t.nivel," | Autor: ",t.autor||"N/A"]})]}),u.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700",children:u.jsx(Q4e,{})})]}),u.jsx("main",{className:"p-4 flex-1 overflow-y-auto",children:t.tipo==="Unidad"?n(t):r(t)})]})})},V4e=()=>{const[t,e]=X.useState([]),[n,r]=X.useState("1"),[s,a]=X.useState(null),[i,o]=X.useState(null),l=X.useCallback(()=>{try{const p=localStorage.getItem(O4e);p&&e(JSON.parse(p))}catch(p){console.error("Error al leer planificaciones de localStorage",p)}},[]);X.useEffect(()=>(l(),window.addEventListener("storage",l),()=>{window.removeEventListener("storage",l)}),[l]);const A=X.useMemo(()=>{const g={"1":"1 Medio","2":"2 Medio","3":"3 Medio","4":"4 Medio"}[n];return t.filter(w=>w.nivel===g)},[t,n]),d=p=>{a(g=>g===p?null:p)},h=[{key:"1",label:"1 Medio"},{key:"2",label:"2 Medio"},{key:"3",label:"3 Medio"},{key:"4",label:"4 Medio"}];return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md animate-fade-in max-w-4xl mx-auto",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Seguimiento Curricular"}),u.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 mb-6",children:u.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:h.map(p=>u.jsx("button",{onClick:()=>r(p.key),className:`${n===p.key?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg transition-colors focus:outline-none`,children:p.label},p.key))})}),u.jsx("div",{className:"space-y-4",children:Il.map(p=>{const g=A.filter(b=>b.asignatura===p);if(g.length===0)return null;const w=s===p;return u.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg",children:[u.jsxs("button",{onClick:()=>d(p),className:"w-full flex justify-between items-center p-4 text-left",children:[u.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:p}),u.jsx("span",{className:`transform transition-transform duration-200 ${w?"rotate-180":""}`,children:u.jsx(j4e,{})})]}),w&&u.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 animate-fade-in-up",children:u.jsx("ul",{className:"space-y-3",children:g.length>0?g.map(b=>u.jsx("li",{children:u.jsxs("button",{onClick:()=>o(b),className:"w-full text-left p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[u.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:b.tipo==="Unidad"?b.nombreUnidad:b.nombreClase}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Autor: ",b.autor||"No especificado"," - Creado: ",new Date(b.fechaCreacion).toLocaleDateString("es-CL")]})]})},b.id)):u.jsx("li",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No hay planificaciones para esta asignatura."})})})]},p)})})]}),i&&u.jsx(H4e,{plan:i,onClose:()=>o(null)})]})},tD="analisisTaxonomicos",nD=["Recordar","Comprender","Aplicar","Analizar","Evaluar","Crear"],rD={Recordar:"bg-sky-500",Comprender:"bg-blue-500",Aplicar:"bg-green-500",Analizar:"bg-yellow-500",Evaluar:"bg-orange-500",Crear:"bg-red-500"},G4e=()=>u.jsxs("svg",{className:"animate-spin h-5 w-5 text-slate-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),sD=({currentUser:t})=>{const[e,n]=X.useState([]),[r,s]=X.useState(null),[a,i]=X.useState(""),[o,l]=X.useState(!1),[A,d]=X.useState(null),[h,p]=X.useState(null),[g,w]=X.useState(null);X.useEffect(()=>{try{const F=localStorage.getItem(tD);if(F){const D=JSON.parse(F);n(D)}}catch(F){console.error("Error al cargar historial de anlisis",F)}},[]);const b=F=>{n(F),localStorage.setItem(tD,JSON.stringify(F))},E=async F=>{var P;const D=(P=F.target.files)==null?void 0:P[0];if(D){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(D.type)){d("Por favor, suba un archivo PDF o DOCX vlido."),p(null),w(null),i("");return}p(D),i(D.name),d(null);const N=new FileReader;N.onloadend=()=>{const B=N.result.split(",")[1];if(!B){d("No se pudo procesar el archivo. Puede que est vaco o corrupto."),w(null);return}w({mimeType:D.type,data:B})},N.onerror=()=>{d("Error al leer el archivo."),w(null)},N.readAsDataURL(D)}},T=async()=>{if(!a.trim()||!g){d("Debe subir un documento PDF o DOCX y asignarle un nombre para analizar.");return}l(!0),d(null);const F=`
            Eres un experto en pedagoga y en la Taxonoma de Bloom. Analiza el siguiente documento de una evaluacin educativa.
            Tu tarea es:
            1. Identificar cada pregunta o tem de evaluacin en el documento.
            2. Clasificar cada pregunta en uno de los seis niveles de la Taxonoma de Bloom: Recordar, Comprender, Aplicar, Analizar, Evaluar, Crear.
            3. Devolver un objeto JSON estructurado con los resultados.
        `,D={type:Bt.OBJECT,properties:{analysisResults:{type:Bt.ARRAY,description:"Un array con cada pregunta identificada y su clasificacin de Bloom.",items:{type:Bt.OBJECT,properties:{question:{type:Bt.STRING,description:"El texto exacto de la pregunta."},habilidadBloom:{type:Bt.STRING,description:"El nivel de Bloom correspondiente.",enum:nD}},required:["question","habilidadBloom"]}},summary:{type:Bt.OBJECT,description:"Un resumen con el conteo de preguntas por cada nivel de Bloom.",properties:{Recordar:{type:Bt.INTEGER},Comprender:{type:Bt.INTEGER},Aplicar:{type:Bt.INTEGER},Analizar:{type:Bt.INTEGER},Evaluar:{type:Bt.INTEGER},Crear:{type:Bt.INTEGER}}}},required:["analysisResults","summary"]};try{go("Anlisis Taxonmico");const P=new Ta({apiKey:void 0}),S={inlineData:{mimeType:g.mimeType,data:g.data}},N=await P.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{text:F},S]},config:{responseMimeType:"application/json",responseSchema:D}}),B=JSON.parse(N.text),V={id:crypto.randomUUID(),documentName:a,uploadDate:new Date().toISOString(),userId:t.id,analysisResults:B.analysisResults,summary:B.summary},U=[V,...e];b(U),s(V),i(""),p(null),w(null)}catch(P){console.error(P),d("Hubo un error al analizar el documento. Asegrese de que el archivo no est protegido o vaco. Intntelo de nuevo.")}finally{l(!1)}},I=F=>{if(window.confirm("Est seguro de eliminar este anlisis?")){const D=e.filter(P=>P.id!==F);b(D),(r==null?void 0:r.id)===F&&s(null)}},k=X.useMemo(()=>r?Object.values(r.summary).reduce((F,D)=>F+(D||0),0):0,[r]);return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Anlisis Taxonmico de Evaluaciones"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Analizar Nuevo Documento"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Subir Archivo (.pdf, .docx)"}),u.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-slate-300 border-dashed rounded-md",children:u.jsxs("div",{className:"space-y-1 text-center",children:[u.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:u.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),u.jsxs("div",{className:"flex text-sm text-slate-600 dark:text-slate-400",children:[u.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white dark:bg-slate-800 rounded-md font-medium text-amber-600 hover:text-amber-500 focus-within:outline-none",children:[u.jsx("span",{children:"Cargue un archivo"}),u.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:E,accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"})]}),u.jsx("p",{className:"pl-1",children:"o arrstrelo aqu"})]}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:h?h.name:"PDF, DOCX hasta 10MB"})]})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre del Documento/Prueba"}),u.jsx("input",{type:"text",id:"documentName",value:a,onChange:F=>i(F.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),A&&u.jsx("p",{className:"text-sm text-red-600 bg-red-100 p-3 rounded-md",children:A}),u.jsx("button",{onClick:T,disabled:o||!g,className:"w-full bg-slate-800 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center",children:o?u.jsx(G4e,{}):"Analizar con IA"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Anlisis"}),u.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:e.length>0?e.map(F=>u.jsxs("button",{onClick:()=>s(F),className:`w-full text-left p-3 rounded-md border ${(r==null?void 0:r.id)===F.id?"bg-amber-100 border-amber-300 dark:bg-amber-900/30 dark:border-amber-700":"bg-slate-50 hover:bg-slate-100 dark:bg-slate-700/50 dark:hover:bg-slate-700"}`,children:[u.jsx("p",{className:"font-semibold truncate",children:F.documentName}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date(F.uploadDate).toLocaleString("es-CL")})]},F.id)):u.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No hay anlisis guardados."})})]})]}),u.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:r?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:r.documentName}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Analizado el ",new Date(r.uploadDate).toLocaleString("es-CL")]})]}),u.jsx("button",{onClick:()=>I(r.id),className:"text-red-500 hover:text-red-700 text-sm font-semibold",children:"Eliminar"})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300 mb-3",children:["Consolidado Taxonmico (",k," preguntas)"]}),u.jsx("div",{className:"space-y-3",children:nD.map(F=>{const D=r.summary[F]||0,P=k>0?D/k*100:0;return u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[u.jsx("span",{className:"font-medium text-slate-600 dark:text-slate-300",children:F}),u.jsxs("span",{className:"font-semibold text-slate-500 dark:text-slate-400",children:[D," (",P.toFixed(0),"%)"]})]}),u.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:u.jsx("div",{className:`${rD[F]} h-4 rounded-full`,style:{width:`${P}%`}})})]},F)})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300 mb-3",children:"Detalle del Anlisis"}),u.jsx("div",{className:"overflow-x-auto max-h-96 border rounded-lg dark:border-slate-700",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase w-3/4",children:"Pregunta / tem"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Habilidad (Bloom)"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:r.analysisResults.map((F,D)=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300",children:F.question}),u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full text-white ${rD[F.habilidadBloom]}`,children:F.habilidadBloom})})]},D))})]})})]})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[u.jsx("span",{className:"text-6xl mb-4 text-slate-400",children:""}),u.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300",children:"Resultados del Anlisis"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mt-2",children:"Realice un nuevo anlisis o seleccione uno del historial para ver los resultados aqu."})]})})]})]})},z4e=t=>{if(!t)return"";let e=t.trim().toLowerCase();return e=e.replace(//g,""),e=e.replace(/\s+(medio|bsico|basico)/g,""),e=e.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1"),e=e.replace(/^(\d)(?![])/,"$1"),e=e.replace(/\s+/g,"").toUpperCase(),e},K4e=({currentUser:t,onLogout:e,onUserUpdate:n,onChangeProfile:r,unreadMessagesCount:s,refreshUnreadCount:a})=>{const i=t.profile,o=X.useMemo(()=>{const E=RW[i]??[];return i!==on.ESTUDIANTE?E:E.filter(T=>{if(T.name==="Asistencia a Empresa"){const I=z4e(t.curso||"");return I.startsWith("3")||I.startsWith("4")}return!0})},[i,t.curso]),[l,A]=X.useState(null),[d,h]=X.useState(!1);X.useEffect(()=>{o.length>0?A(o[0]):A(null)},[o]);const p=X.useCallback(E=>{A(E),window.innerWidth<768&&h(!1)},[]),g=X.useCallback(E=>{const T=o.find(I=>I.name===E);T&&p(T)},[o,p]),w=()=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-center h-16 border-b border-slate-700 px-4 flex-shrink-0",children:[u.jsx(gW,{}),u.jsx("span",{className:"ml-3 text-white font-bold text-xl whitespace-nowrap",children:"Gestin LIR"})]}),u.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto sidebar-scroll",children:o.map(E=>u.jsxs("button",{onClick:()=>p(E),className:`w-full flex items-center py-3 px-4 rounded-lg transition-colors duration-200 text-left ${(l==null?void 0:l.name)===E.name?"bg-slate-900 text-amber-400 font-semibold":"text-slate-300 hover:bg-slate-700 hover:text-white"}`,children:[E.icon,u.jsx("span",{className:"ml-4",children:E.name})]},E.name))})]}),b=()=>{if(!l)return u.jsx("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex items-center justify-center",children:u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xl",children:"Seleccione un mdulo del men para comenzar."})});if(l.name==="Calendario Acadmico")return u.jsx(Ase,{profile:i});if(l.name==="Muro de Anuncios")return u.jsx(use,{currentUser:t});if(l.name==="Mensajera Interna")return u.jsx(Vge,{currentUser:t,refreshUnreadCount:a});if(l.name==="Generador de Actas")return u.jsx(fse,{});if(i===on.SUBDIRECCION){if(l.name==="Dashboard")return u.jsx($W,{});if(l.name==="Administracin")return u.jsx(dge,{});if(l.name==="Seguimiento Curricular")return u.jsx(V4e,{});if(l.name==="Acompaamiento docente")return u.jsx(Qge,{});if(l.name==="Anlisis Taxonmico")return u.jsx(sD,{currentUser:t});if(l.name==="Interdisciplinario")return u.jsx(Y6,{});if(l.name==="Registro de inasistencias y reemplazos docentes")return u.jsx(zW,{});if(l.name==="Crear horarios")return u.jsx(Zre,{});if(l.name==="Seguimiento de acciones pedaggicas")return u.jsx(tse,{});if(l.name==="Inclusin")return u.jsx(QF,{currentUser:t})}if(i===on.PROFESORADO){if(l.name==="Planificacin")return u.jsx(ise,{currentUser:t});if(l.name==="Mis Acompaamientos")return u.jsx(P4e,{currentUser:t});if(l.name==="Recursos de Aprendizaje")return u.jsx(N4e,{});if(l.name==="Anlisis Taxonmico")return u.jsx(sD,{currentUser:t});if(l.name==="Interdisciplinario")return u.jsx(Y6,{});if(l.name==="Inclusin")return u.jsx(QF,{currentUser:t});if(l.name==="Actividades Remotas")return u.jsx(vge,{});if(l.name==="Evaluacin de Aprendizajes")return u.jsx(sie,{});if(l.name==="Evaluaciones Formativas")return u.jsx(Oge,{currentUser:t})}if(i===on.COORDINACION_TP){if(l.name==="Seguimiento Dual")return u.jsx(mge,{});if(l.name==="Asistencia Dual")return u.jsx(Rge,{});if(l.name==="Paol")return u.jsx(Swe,{})}if(i===on.ESTUDIANTE){if(l.name==="Auto-aprendizaje")return u.jsx(Ege,{currentUser:t});if(l.name==="Evaluacin Formativa")return u.jsx(F4e,{currentUser:t});if(l.name==="Tareas Interdisciplinarias")return u.jsx(D4e,{currentUser:t});if(l.name==="Asistencia a Empresa")return u.jsx(Bge,{currentUser:t})}return u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full animate-fade-in",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:l.name}),u.jsx("div",{className:"border-l-4 border-amber-400 pl-4",children:u.jsxs("p",{className:"text-slate-600 dark:text-slate-400 text-lg",children:["Aqu ir la funcionalidad de ",u.jsx("span",{className:"font-semibold",children:l.name}),"."]})})]})};return u.jsxs("div",{className:"h-screen flex flex-col bg-slate-100",children:[u.jsx(QW,{currentUser:t,onLogout:e,onNavigate:g,onUserUpdate:n,onChangeProfile:r,toggleSidebar:()=>h(!d),unreadMessagesCount:s,refreshUnreadCount:a}),u.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[d&&u.jsx("div",{onClick:()=>h(!1),className:"fixed inset-0 bg-black opacity-50 z-20 md:hidden"}),u.jsx("aside",{className:`fixed md:relative z-30 inset-y-0 left-0 w-72 bg-slate-800 text-white flex flex-col transform md:translate-x-0 ${d?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out`,children:u.jsx(w,{})}),u.jsx("main",{className:"flex-1 overflow-y-auto",children:u.jsx("div",{className:"p-6 md:p-8",children:b()})})]})]})},q4e=({onSelectProfile:t,isAdminView:e=!1})=>u.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-slate-100 dark:bg-slate-900",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("div",{className:"mb-4 flex justify-center items-center",children:u.jsx(FL,{})}),u.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-200 mt-2",children:"Gestin Pedaggica LIR"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-lg",children:e?"Como administrador, seleccione el perfil que desea visualizar:":"Seleccione su perfil para continuar"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 w-full max-w-6xl",children:FW.map(n=>u.jsxs("button",{onClick:()=>t(n.id),className:"group bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md hover:shadow-xl hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-amber-400 focus:ring-opacity-50 transition-all duration-300 ease-in-out flex flex-col items-center justify-center text-center",children:[u.jsx("div",{className:"text-slate-700 dark:text-slate-300 group-hover:text-amber-400 transition-colors duration-300",children:n.icon}),u.jsx("h2",{className:"text-xl font-semibold mt-4 text-slate-800 dark:text-slate-200",children:n.label})]},n.id))}),u.jsxs("footer",{className:"absolute bottom-4 text-slate-500 dark:text-slate-400 text-sm",children:[" ",new Date().getFullYear()," Liceo Industrial de Recoleta. Todos los derechos reservados."]})]}),W4e=()=>{const[t,e]=X.useState(null),[n,r]=X.useState(null),[s,a]=X.useState(null),[i,o]=X.useState(!1),[l,A]=X.useState(null);X.useEffect(()=>{const w=LV(Wb,b=>{e(b),b||(r(null),A(null),o(!1))});return()=>w()},[]),X.useEffect(()=>{(async()=>{if(t!=null&&t.email){const b=Py(IL,"usuarios",t.email),E=await AW(b);E.exists()?(r(E.data()),E.data().profile===on.SUBDIRECCION&&o(!0)):r(null)}})()},[t]);const d=async(w,b)=>{a(null);try{await RV(Wb,w,b)}catch{a("Credenciales incorrectas o usuario no registrado.")}},h=w=>{A(w),o(!1)},p=async()=>{await MV(Wb),e(null),r(null),A(null),o(!1)},g=()=>t&&i&&(n==null?void 0:n.profile)===on.SUBDIRECCION?u.jsx(q4e,{onSelectProfile:h,isAdminView:!0}):t&&n?u.jsx(K4e,{currentUser:{...n,profile:l||n.profile},onLogout:p}):u.jsx(MW,{onLoginAttempt:d,error:s});return u.jsx("div",{className:"min-h-screen bg-slate-100 font-sans",children:g()})},jj=document.getElementById("root");if(!jj)throw new Error("Could not find root element to mount to");const $4e=XQ.createRoot(jj);$4e.render(u.jsx(ut.StrictMode,{children:u.jsx(W4e,{})}));export{Mr as _,Y4e as c,wS as g};
